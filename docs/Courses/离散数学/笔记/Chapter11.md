# CH 11 : Trees

## 11.1 Introduction to Trees

- Tree: connected undirected graph with no simple circuits
- Forest: undirected graph with no simple circuits (collection of trees)
- ä¸€ä¸ªæ— å‘å›¾æ˜¯æ ‘å½“ä¸”ä»…å½“åœ¨å®ƒçš„æ¯å¯¹é¡¶ç‚¹ä¹‹é—´å­˜åœ¨å”¯ä¸€ç®€å•é€šè·¯
- é€‰å®šä¸€ä¸ªæ ¹èŠ‚ç‚¹åï¼Œæ ‘å¯ä»¥è¢«å”¯ä¸€åœ°ç”»å‡ºï¼ˆRooted Treeï¼‰
- Sibling: æœ‰åŒæ ·çˆ¶èŠ‚ç‚¹çš„èŠ‚ç‚¹ç§°ä¸ºSiblings
- Ancestors: ä»è¯¥èŠ‚ç‚¹åˆ°æ ¹èŠ‚ç‚¹Pathä¸Šæ‰€æœ‰èŠ‚ç‚¹ç§°ä¸ºè¯¥èŠ‚ç‚¹çš„Ancestors
- Descendants: æ‰€æœ‰ä»¥è¯¥èŠ‚ç‚¹ä¸ºAncestorsçš„èŠ‚ç‚¹ç§°ä¸ºè¯¥èŠ‚ç‚¹çš„Descendants
- Internal Vertex: æœ‰å­©å­çš„ç‚¹å«å†…ç‚¹
- Ordered Rooted Tree: æ¯ä¸ªå†…ç‚¹çš„å­©å­éƒ½æ’åºçš„æœ‰æ ¹æ ‘ï¼ŒæŒ‰ä»å·¦åˆ°å³çš„é¡ºåº
- Level: The level of vertex v in a rooted tree is the length of the unique path from the root to v ==ä¾‹å¦‚ï¼Œåªæœ‰Rootçš„æ ‘ï¼ŒLevelå’ŒHeightéƒ½ä¸º0ï¼Œç©ºæ ‘çš„Heightä¸º-1==
- Height: The height of a rooted tree is the maximum of the levels of its vertices
- Balance: æ‰€æœ‰å¶èŠ‚ç‚¹éƒ½åœ¨Levels h or h-1çš„Rooted Tree ==å¹³è¡¡æ ‘==
- ğ‘›Â ä¸ªé¡¶ç‚¹çš„æ ‘å«æœ‰Â ğ‘›âˆ’1Â æ¡è¾¹
- æ ‘éƒ½æ˜¯äºŒéƒ¨å›¾ï¼Œ$ğ¾_{1,ğ‘›}$Â å’ŒÂ $ğ¾_{ğ‘š,1}$Â æ˜¯æ ‘

!!! note "Counting"
	ç»™å‡ºèŠ‚ç‚¹æ•°nï¼Œè®©ä½ è®¡ç®—å¯ä»¥æ„é€ å‡ºTreeçš„æ•°é‡ï¼Œè®°å¾—å…³æ³¨æ˜¯unrooted treeè¿˜æ˜¯rooted tree
	
	ä¾‹å­ï¼š n=5 , unrooted=3 , rooted=9.
	
	è®¡ç®—Rooted Treeä¸ªæ•°çš„æ—¶å€™ï¼Œå¯ä»¥ä»The longest path from rootè¿™ä¸ªè§’åº¦åˆ‡å…¥

- å¯¹äºä»»ä½•æ ‘ï¼Œéƒ½æœ‰ $|E|=|V|-1$
- å¯¹äºFull m-ary Tree with i internal verticesï¼Œå…±æœ‰ n=mi+1 vertices (Tips:n=l+iï¼Œå› æ­¤ä¹Ÿå¯ä»¥ç®—å‡ºæ¥å¶èŠ‚ç‚¹çš„ä¸ªæ•°)
	- æ»¡må‰æ ‘ï¼šå€¼è¯¥æ ‘çš„èŠ‚ç‚¹è¦ä¹ˆæ˜¯å¶èŠ‚ç‚¹è¦ä¹ˆæ˜¯æ»¡èŠ‚ç‚¹

!!! example
	How many leaves does a full 3-ary tree with 100 vertices have?
	
	$i=\frac{n-1}{m}=\frac{100-1}{3}=33$ ï¼Œ $l=n-i=100-33=67$

!!! example "ä¾‹å­2"
	(Â£) There is an undirected tree with 2 vertices of 4 degrees, 3 vertices of 3 degrees. The remaining vertices are leaves. Then it contains 8 leaves
	
	2 * 4 + 3 * 3 + l = 2e = 2(2 + 3 + l -1)=2l + 8
	
	l = 9

## 11.2 Applications of Trees

=== "Binary Search Tree äºŒå‰æœç´¢æ ‘"
	å¾ˆåŸºæœ¬çš„æ„é€ 
=== "Decision Tree å†³ç­–æ ‘"
	æ¯ä¸€ä¸ªInternal Vertexå¯¹åº”ä¸€ä¸ªå†³ç­–
=== "Prefix Codes å‰ç¼€ç "
	- ä¸ºäº†ç¡®ä¿ä¸€ä¸²bit stringå¯¹åº”ä¸è¶…è¿‡ä¸€ç§Letteråºåˆ—ï¼Œä¸€ä¸ªLetterçš„ç¼–ç ä¸åº”è¯¥å‡ºç°åœ¨å¦ä¸€ä¸ªLetterç¼–ç çš„å¼€å¤´ï¼Œå¦‚ï¼š e:0,a:10,b:110
	- ç”¨ä¸€ä¸ªBinary Treeæ¥æ„é€ ç¼–ç ï¼Œå¾€å·¦çš„è¾¹å¯¹åº”0ï¼Œå¾€å³çš„è¾¹å¯¹åº”1ï¼Œåˆ™ç¼–ç ä¸ºè¯¥æ ‘å¶èŠ‚ç‚¹å¯¹åº”çš„åºåˆ—ï¼š
	![[PrefixCode.png]]
=== "Huffman Tree å“ˆå¤«æ›¼æ ‘"
	ä½¿å¾—æ¯ä¸ªå¶èŠ‚ç‚¹éƒ½æœ‰æƒå€¼ï¼Œåˆ™å®šä¹‰ ==èŠ‚ç‚¹çš„å¸¦æƒè·¯å¾„é•¿åº¦== ä¸ºèŠ‚ç‚¹åˆ°Rootçš„è·¯å¾„é•¿åº¦ä¸èŠ‚ç‚¹æƒå€¼çš„ä¹˜ç§¯ã€‚ç§°æ‰€æœ‰èŠ‚ç‚¹çš„å¸¦æƒè·¯å¾„é•¿åº¦ä¹‹å’Œä¸ºæ ‘çš„å¸¦æƒè·¯å¾„é•¿åº¦ã€‚
	
	å…¶ä¸­ï¼Œå¸¦æƒè·¯å¾„é•¿åº¦æœ€çŸ­çš„æ ‘ç§°ä¸ºHuffman Treeï¼ŒæŒ‰ç…§å“ˆå¤«æ›¼æ ‘è¿›è¡ŒPrefix Codingï¼Œå¾—åˆ°å“ˆå¤«æ›¼ç¼–ç 
	
	æ„é€ å“ˆå¤«æ›¼æ ‘çš„å“ˆå¤«æ›¼ç®—æ³•å¦‚ä¸‹ï¼š
	
	- æœ‰nä¸ªåŸå§‹èŠ‚ç‚¹ï¼Œæƒå€¼åˆ†åˆ«ä¸º$\{W_1 ,W_2,..., W_n\}$ ï¼Œæ„é€ æˆné¢—äºŒå‰æ ‘çš„é›†åˆ$F=\{T_1, T_2,... ,T_n\}$ ï¼Œå…¶ä¸­æ¯é¢—äºŒå‰æ ‘ $T_i$ åªæœ‰ä¸€ä¸ªå¸¦æƒä¸º $W_i$ çš„æ ¹èŠ‚ç‚¹ï¼Œå·¦å³å­©å­å‡ç©º
	- åœ¨Fä¸­popä¸¤é¢—æ ¹èŠ‚ç‚¹æƒå€¼æœ€å°çš„äºŒå‰æ ‘ï¼Œä½œä¸ºæ ‘çš„å·¦å³å­©å­æ„é€ æ–°æ ‘ï¼Œä¸”ç½®æ ¹èŠ‚ç‚¹ä¸ºå·¦å³å­©å­æƒå€¼ä¹‹å’Œï¼Œå°†æ–°äºŒå‰æ ‘å‹å…¥Fä¸­
	- é‡å¤ä¸Šä¸€æ­¥ï¼Œç›´åˆ°Fä¸­åªå‰©ä¸€é¢—æ ‘ï¼Œè¿™é¢—æ ‘å°±æ˜¯Huffman Tree
	
	!!! danger
		é‡åˆ°è¯¸å¦‚ `What is the average number of bits required to encode a character?` ï¼Œæ³¨æ„æœ€åç»“æœä¸æ˜¯å•çº¯çš„æ‰€æœ‰bitä½ç›¸åŠ é™¤ä»¥å­—æ¯æ•°ï¼Œè€Œæ˜¯å„ä¸ªcharacterçš„bitä½æ•°ä¹˜ä»¥å®ƒä»¬çš„æƒå€¼å†ç›¸åŠ  (å³ ==åŠ æƒå¹³å‡æ•°== )
## 11.3 Tree Traversal

- preorder traversal å¯¹åº” Prefix Form(æ³¢å…°è¡¨è¾¾å¼)
- inorder traversal å¯¹åº” Infix Form(æ­£å¸¸çš„è¡¨è¾¾å¼)
- postorder traversal å¯¹åº” Postfix Form(é€†æ³¢å…°è¡¨è¾¾å¼)

## 11.4 Spanning Tree

- Gçš„ç”Ÿæˆæ ‘æŒ‡åŒ…å«æ¯ä¸ªé¡¶ç‚¹çš„å­å›¾
	- Find spanning tree by removing edges from simple circuits
- ç®€å•å›¾è¿é€šå½“ä¸”ä»…å½“å®ƒæœ‰ç”Ÿæˆæ ‘

### How to find a spanning tree

=== "Depth-First Search"
	- ä»å›¾ä¸­é€‰æ‹©ä¸€ä¸ªèµ·å§‹é¡¶ç‚¹ä½œä¸ºæ ¹èŠ‚ç‚¹ã€‚
	- ä½¿ç”¨ DFS éå†å›¾ï¼Œè®°å½•éå†è¿‡ç¨‹ä¸­è®¿é—®çš„è¾¹ã€‚
	- éå†å®Œæˆåï¼Œè®°å½•çš„è¾¹å°†å½¢æˆå›¾çš„ä¸€æ£µç”Ÿæˆæ ‘ã€‚
	
	```c
	  void dfs(int u) {
		  visited[u] = 1;
		  for (int v = 0; v < n; v++) {
	      if (adjMatrix[u][v] && !visited[v]) {
	          /* è®°å½•è¾¹ */
	          // do something
	          dfs(v);
	      }
	  }
	}
	```
=== "Breadth-First Search"
	- ä»å›¾ä¸­é€‰æ‹©ä¸€ä¸ªèµ·å§‹é¡¶ç‚¹ä½œä¸ºæ ¹èŠ‚ç‚¹ã€‚
	- ä½¿ç”¨ BFS éå†å›¾ï¼Œè®°å½•éå†è¿‡ç¨‹ä¸­è®¿é—®çš„è¾¹ã€‚
	- éå†å®Œæˆåï¼Œè®°å½•çš„è¾¹å°†å½¢æˆå›¾çš„ä¸€æ£µç”Ÿæˆæ ‘ã€‚
	
	```c
	void bfs(int s) {
	    queue<int> q;
	    q.push(s);
	    visited[s] = 1;
	
	    while (!q.empty()) {
	        int u = q.front();
	        q.pop();
	        for (int v = 0; v < n; v++) {
	            if (adjMatrix[u][v] && !visited[v]) {
	                /* è®°å½•è¾¹ */
	                // do something
	                q.push(v);
	                visited[v] = 1;
	            }
	        }
	    }
	}
	```


### How to find Minimum Spanning Tree

=== "Prim Algorithm"
	1. ä»å›¾ä¸­ä»»æ„é€‰æ‹©ä¸€ä¸ªé¡¶ç‚¹ä½œä¸ºèµ·å§‹é¡¶ç‚¹ã€‚
	2. åˆå§‹åŒ–ä¸€ä¸ªé›†åˆï¼Œç”¨äºå­˜å‚¨å·²ç»è®¿é—®è¿‡çš„é¡¶ç‚¹ã€‚å°†èµ·å§‹é¡¶ç‚¹æ·»åŠ åˆ°è¯¥é›†åˆä¸­
	3. åˆå§‹åŒ–ä¸€ä¸ªä¼˜å…ˆé˜Ÿåˆ—ï¼Œç”¨æ¥å‚¨å­˜å·²è®¿é—®åˆ°çš„é¡¶ç‚¹å¯ä»¥è®¿é—®çš„è¾¹(è¯¥è¾¹ä¸èƒ½è¿æ¥ä¸¤ä¸ªå·²è®¿é—®è¿‡çš„é¡¶ç‚¹)
	4. é€‰æ‹©ä¸€æ¡æƒå€¼æœ€å°çš„è¾¹å¹¶å°†å…¶ä»é˜Ÿåˆ—ä¸­åˆ é™¤ã€‚å°†è¯¥è¾¹æ·»åŠ åˆ°æœ€å°ç”Ÿæˆæ ‘ä¸­ï¼Œå¹¶å°†è¯¥è¾¹çš„æœªè®¿é—®é¡¶ç‚¹æ ‡è®°ä¸ºå·²è®¿é—®ï¼Œå¹¶å°†å…¶æ·»åŠ åˆ°å·²è®¿é—®é¡¶ç‚¹é›†åˆä¸­ã€‚
	5. é‡å¤æ­¥éª¤ 4ï¼Œç›´åˆ°æ‰€æœ‰é¡¶ç‚¹éƒ½è¢«è®¿é—®ã€‚
=== "Kruskal Algorithm"
	1. å°†å›¾ä¸­çš„æ‰€æœ‰è¾¹æŒ‰ç…§æƒå€¼ä»å°åˆ°å¤§æ’åºã€‚
	2. åˆå§‹åŒ–ä¸€ä¸ªç©ºé›†åˆï¼Œç”¨äºå­˜å‚¨æœ€å°ç”Ÿæˆæ ‘çš„è¾¹ã€‚
	3. æŒ‰é¡ºåºéå†æ‰€æœ‰è¾¹ã€‚é€‰æ‹©ä¸å’Œç°åœ¨å·²æœ‰é¡¶ç‚¹äº§ç”Ÿå›è·¯çš„æœ€å°è¾¹ã€‚
	4. é‡å¤æ­¥éª¤ 3ï¼Œç›´åˆ°æœ€å°ç”Ÿæˆæ ‘ä¸­åŒ…å«Â ğ‘›âˆ’1Â æ¡è¾¹ï¼Œå…¶ä¸­Â ğ‘›Â ä¸ºå›¾ä¸­é¡¶ç‚¹çš„æ•°é‡ã€‚

