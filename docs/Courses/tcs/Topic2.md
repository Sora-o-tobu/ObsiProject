
# Simple Model

## Regular Language & Finite Automata

### Deterministic Finite Automata

æœ‰é™çŠ¶æ€æœºæ‹¥æœ‰ä¸€å®šæ•°é‡çš„çŠ¶æ€ï¼ŒçŠ¶æ€ä¹‹é—´é€šè¿‡ä¸€äº›ç‰¹å®šæ¡ä»¶è¿›è¡Œè½¬ç§»ã€‚ç”¨å›¾åƒè¡¨ç¤ºï¼ŒState Diagram çš„ä¸€äº›è¡¨ç¤ºç¬¦å·å¦‚ä¸‹ï¼š

![[t2_1.png]]


ä¸€ä¸ª **Deterministic Finite Automataï¼ˆDFAï¼‰** ç”±äº”ä¸ªå‚æ•°ç»„æˆï¼š

- $K$: finite set of states
- $\Sigma$: alphabet
- $s\in K$: initial state
- $F\subseteq K$: set of final states
- $\delta$: transition function
	- $\delta: K\times \Sigma \rightarrow K$

!!! note "Final States"
	DFA è¾“å…¥è¢«æ¥å—çš„çŠ¶æ€ï¼Œè‹¥å¤„ç†å®Œä¸€ä¸²è¾“å…¥ååœç•™åœ¨ Final Stateï¼Œåˆ™è¯¥è¾“å…¥è¢«æ¥å—ï¼›åä¹‹åˆ™è¢«æ‹’ç»ã€‚ä¾‹å¦‚ï¼Œå¯¹äºå¦‚ä¸‹çŠ¶æ€æœºï¼Œè¾“å…¥ `aabba` ä¼šè¢« *accepted*ï¼š
	
	![[t2_2.png]]

!!! example "è®¾è®¡ä¸€ä¸ª DFAï¼Œè¦æ±‚å®ç° Language $L_1 =\{w\in \{a,b\}^* : w\text{ æ²¡æœ‰ä¸‰ä¸ªè¿ç»­çš„ b}\}$"
	![[t2_3.png]]
	
	??? question "å¦‚æœæˆ‘ä»¬æƒ³è¦ $L_2=\{w\in\{a,b\}^* : w\text{ åŒ…å«ä¸‰ä¸ªè¿ç»­çš„ b}\}$ æ€ä¹ˆåŠ?"
		ç”±äº $L_2 = \Sigma^* - L_1$ï¼Œæˆ‘ä»¬åªéœ€è¦å°† Final States $F=\{q_0, q_1, q_2\}$ å˜ä¸º $F=\{q_3\}$ å³å¯ã€‚

**Configuration** æ˜¯ $K\times \Sigma^*$ çš„å­é›†ï¼Œä»£è¡¨äº†ä¸€ä¸ª DFA å½“å‰çš„çŠ¶æ€ï¼Œè¡¨ç¤ºä¸º $(q,w)$ï¼Œå…¶ä¸­ï¼š

- $q\in K$ ä¸ºå½“å‰çŠ¶æ€ï¼ˆcurrent stateï¼‰
- $w\in \Sigma^*$ ä¸ºå°šæœªè¯»å–çš„å‰©ä½™è¾“å…¥ä¸²

æˆ‘ä»¬ä½¿ç”¨ç¬¦å· $\vdash_M$ æ¥è¡¨ç¤º DFA åœ¨é…ç½®ä¹‹é—´çš„è½¬ç§»ï¼š

$$(q, w) \;\vdash_M\; (q', w')$$

æ­¤æ—¶ä¸€å®šæœ‰æ¡ä»¶ï¼š

- å­˜åœ¨æŸä¸€ Symbol $a\in \Sigma$
- $w=aw'$
- $\delta (q,a) = q'$

$\vdash_M^*$ æ˜¯è¿ç®— $\vdash_M$ çš„ **reflexive, transitive** çš„ Closureï¼Œé‚£ä¹ˆ $(q, w) \;\vdash_M^*\; (q', w')$ è¯´æ˜é…ç½® $(q,w)$ å¯ä»¥åœ¨æœ‰é™æ­¥è½¬ç§»åˆ° $(q', w')$ï¼Œå¹¶ä¸”æˆ‘ä»¬æ­¤æ—¶ç§° $(q,w)$ **yields** $(q',w')$ã€‚

!!! note "è¿™é‡Œçš„æœ‰é™æ­¥ä¹Ÿå¯ä»¥æ˜¯ 0ï¼Œå› æ­¤ä¹Ÿæœ‰ $(q,w)\; \vdash_M^* \; (q,w)$"

æ­¤æ—¶ï¼Œæˆ‘ä»¬å¯ä»¥å°†ä¸Šé¢å¯¹äº Final States æè¿°æ”¹ä¸ºï¼š

A string $w\in \Sigma^*$ is said to be *accepted* by M **iff** there is a state $q\in F$ such that $(s,w)\; \vdash_M^*\; (q,\upepsilon)$ã€‚

æ‰€æœ‰è¢« DFA $M$ æ¥å—çš„ string é›†åˆè¡¨ç¤ºä¸º $L(M)$ï¼Œå®ƒæ˜¯è¢« $M$ æ¥å—çš„ Languageã€‚

### Nondeterministic Finite Automata

NFA ä¸åŒäº DFAï¼Œå®ƒåœ¨æŸäº›çŠ¶æ€ä¸‹è¯»åˆ°ä¸€ä¸ªç¬¦å·æ—¶ï¼Œå¯èƒ½æœ‰å¤šä¸ªå»å‘ï¼Œç”šè‡³å¯ä»¥ä¸è¯»å…¥è¾“å…¥å°±è·³è½¬ã€‚è¿™ç§ä¸ç¡®å®šæ€§è®©å®ƒåŒæ—¶å°è¯•å¤šæ¡è·¯å¾„ï¼Œåªè¦æœ‰ä¸€æ¡æˆåŠŸå°±æ¥å—è¾“å…¥ã€‚

NFA åŒæ ·æ˜¯ç”±äº”ä¸ªå‚æ•°ç»„æˆï¼Œä¸åŒçš„æ˜¯ï¼Œå®ƒçš„è½¬æ¢æ–¹å¼ç”± function å˜ä¸ºäº† relationï¼š

- $K$: finite set of states
- $\Sigma$: alphabet
- $s\in K$: initial state
- $F\subseteq K$: set of final states
- $\Delta$: transition relation
	- $\Delta \subseteq K\times (\Sigma \cup \{e\}) \times K$

ä»¥ä¸‹ä¸ºåº”ç”¨ NFA çš„ä¸‰ä¸ªä¾‹å­ï¼š

![[t2_4.png]]

ä¸¤ä¸ªè‡ªåŠ¨æœº $M_1$,$M_2$ ç›¸ç­‰ï¼Œå½“ä¸”ä»…å½“ $L(M_1)=L (M_2)$ã€‚æˆ‘ä»¬å¸Œæœ›è¯æ˜ DFAs å’Œ NFAs åœ¨èƒ½åŠ›ä¸Šç­‰ä»·æ—¶ï¼Œå¿…é¡»è¯æ˜ä»¥ä¸‹ä¸¤ä»¶äº‹ï¼š

- For each DFA, produce an NFA that accepts the same language
- For each NFA, produce an DFA that accepts the same language

å…¶ä¸­ç¬¬ä¸€ç‚¹æ˜¯æ˜¾è€Œæ˜“è§çš„ï¼Œå¯¹äºç¬¬äºŒç‚¹è¦æ±‚ï¼Œç»™å®šä¸€ä¸ª NFAï¼Œå¯ä»¥æ„é€ ä¸€ä¸ªç­‰ä»· DFAï¼Œè¿™æ„å‘³ç€æˆ‘ä»¬éœ€è¦â€œå¡«è¡¥â€ DFA å’Œ NFA ä¹‹é—´çš„å·®å¼‚ã€‚

- **Difference 1:** Transition Relation
	- Transition relation of DFA ä¸€å®šæ˜¯ä¸€ä¸ª function: $K\times \Sigma \times K$
	- Transition relation of NFA ä¸ä¸€å®šæ˜¯ function: $K\times (\Sigma \cup \{e\}) \times K$
- **Difference 2:** Domain
	- The domain of transition relation of DFA is $K\times \Sigma$
	- The domain of transition relation of NFA is $K\times (\Sigma \cup \{e\})$
		- å³ NFA å®¹å¿æ— å­—ç¬¦è¾“å…¥ä¸‹çš„çŠ¶æ€è½¬ç§»

**ã€Exampleã€‘**

ä¸‹é¢æˆ‘ä»¬ä»¥ä¸€ä¸ª NFA ä¸ºä¾‹ï¼š

$$\begin{array}l
K=\{q0, q1,q2\}, \Sigma =\{a,b\}, s=q0,\ F=\{q2\}, \\
\Delta = \{(q0, a,q1), (q1,b,q0), (q1,b,q2), (q2,a,q0)\}
\end{array}
$$

ç»˜åˆ¶æˆ State Diagram çš„ç»“æœå¦‚ä¸‹ï¼š

![[t2_5.png]]

ä¸ºäº†è§£å†³ä»¥ä¸Šä¸¤ç‚¹ Differenceï¼Œæˆ‘ä»¬å¯ä»¥ä»åˆå§‹çŠ¶æ€å¼€å§‹æ€è€ƒï¼Œè®¡ç®—è½¬æ¢åçš„ DFA æœ‰ä»€ä¹ˆçŠ¶æ€ã€‚æˆ‘è‡ªå·±æ€è€ƒæ€»ç»“å¾—åˆ°çš„è®¡ç®—æ–¹æ³•å¦‚ä¸‹ï¼š

![[t2_7.png]]

!!! danger "zq è€å¸ˆçš„ PPT ä¸Šçš„æ–¹æ³•æˆ‘æ²¡å¤ªç†è§£ï¼Œä¸”ç»¿è‰²éƒ¨åˆ† PPT ä¸Šæ²¡æœ‰"
	æŒ‰ç…§å®šä¹‰ï¼Œä¸€ä¸ª DFA è¦æ±‚**æ¯ä¸ªçŠ¶æ€å¯¹äºæ¯ä¸ªè¾“å…¥ç¬¦å·éƒ½å¿…é¡»æœ‰ä¸”åªæœ‰ä¸€ä¸ªè½¬ç§»**ï¼Œå¦åˆ™æ„å‘³ç€è‡ªåŠ¨æœºåœ¨è¿™ä¸ªè¾“å…¥ä¸Šæ˜¯ä¸ç¡®å®šçš„ã€‚

ç°åœ¨æˆ‘ä»¬å›é¡¾ä¸€ä¸‹ Language ä¸­çš„é—­åŒ… EClose $E(q)$ï¼š

$$
E(q)=\{p\in K: (q,e)\; \vdash_M^*\; (p,e)\}
$$

åœ¨çŠ¶æ€æœºæ¨¡å‹ä¸‹ï¼Œ$E(q)$ å³è¡¨ç¤ºçŠ¶æ€æœº $M$ ä»çŠ¶æ€ $q$ å¼€å§‹ï¼Œåœ¨æ— è¾“å…¥çš„æƒ…å†µä¸‹èƒ½è¾¾åˆ°çš„æ‰€æœ‰çŠ¶æ€çš„é›†åˆã€‚

é™¤æ­¤ä¹‹å¤–ï¼Œè¿˜æœ‰ä¸€ä¸ªç»“è®ºæ˜¯ä» NFA è½¬æ¢åˆ° DFAï¼ŒçŠ¶æ€çš„ä¸ªæ•°å¯ä»¥è¾¾åˆ°æŒ‡æ•°çº§åˆ«çš„å¢é•¿ï¼Œä¾‹å¦‚ï¼š

$$
|K| = 5\;\Rightarrow\; |K'|=2^5 = 32
$$

è¿™ä¸€ç‚¹åœ¨æˆ‘ä»¬ä¸Šé¢ç”»çš„æ ‘ä¸­ä¹Ÿæœ‰æ‰€ä½“ç°ã€‚ä½†æ˜¯å®é™…ä¸Šå¤§éƒ¨åˆ†çŠ¶æ€éƒ½ä¸åŸå…ˆçš„çŠ¶æ€æœºæ— å…³ï¼Œå› æ­¤æŒ‡æ•°çº§åªæ˜¯ä¸€ä¸ªä¸Šé™ã€‚

**ã€More Exampleã€‘**

æŠŠå¦‚ä¸‹ NFA è½¬æ¢æˆ DFAï¼š

![[t2_8.png]]

è½¬æ¢æ­¥éª¤ä»ç„¶å¦‚ä¸Šï¼Œæ³¨æ„æœ€åçš„ Dead State ä¹Ÿè¦ç”»å‡ºæ¥ï¼š

![[t2_9.png]]

### Regular Language

> ä»¥ä¸‹å†…å®¹å¤§éƒ¨åˆ†æ¥è‡ª [è¯­è¨€ã€è‡ªåŠ¨æœºä¸æ­£åˆ™è¡¨è¾¾å¼ - é¹¤ç¿”ä¸‡é‡Œçš„ç¬”è®°æœ¬](https://note.tonycrane.cc/cs/tcs/toc/topic1/#_5)

ä¸€ä¸ª Language è¢«ç§°ä¸º **regular**ï¼Œå½“ä¸”ä»…å½“å®ƒè¢«ä¸€ä¸ªè‡ªåŠ¨æœº $M$ æ¥æ”¶ã€‚æˆ‘ä»¬æœ‰å®šç†ï¼š

- å¦‚æœ $A$ å’Œ $B$ æ˜¯æ­£åˆ™è¯­è¨€ï¼Œåˆ™ $A\cup B$, $A\circ B$, $A^*$ éƒ½æ˜¯æ­£åˆ™è¯­è¨€ã€‚

æˆ‘ä»¬ä¸€èˆ¬ä½¿ç”¨ $R$ è¡¨ç¤º**æ­£åˆ™è¡¨è¾¾å¼**ï¼Œä½¿ç”¨ $L(R)$ è¡¨ç¤ºè¯¥æ­£åˆ™è¡¨è¾¾å¼å¯¹åº”çš„è¯­è¨€ã€‚ä¸€ä¸ªæ­£åˆ™è¡¨è¾¾å¼ç”±å¦‚ä¸‹è§„åˆ™å®šä¹‰ï¼š

- **Atomic**ï¼šå¯¹äºÂ $\emptyset$Â å¯¹åº”è¯­è¨€Â $L(\emptyset)=\emptyset$ï¼Œå¯¹äºÂ $a\in \Sigma$ æœ‰Â $L(a)=\{a\}$
- **Composite**ï¼š
    - $R_1â€‹ \cup R_2$â€‹Â å¯¹åº”è¯­è¨€Â $L(R_1 \cup R_2â€‹)= L(R_1â€‹) \cup L(R_2â€‹)$
    - $R_1 R_2$â€‹Â å¯¹åº”è¯­è¨€Â $L(R_1 â€‹R_2â€‹)= L(R_1â€‹)\circ L(R_2â€‹)$
    - $R_1^âˆ—$â€‹Â å¯¹åº”è¯­è¨€Â $L(R_1^âˆ—â€‹)= L(R_1â€‹)^âˆ—$
    - ä¼˜å…ˆçº§ï¼š$^*\gt \circ\gt\cup$
        - Ex.Â $ab^âˆ— \cup b^âˆ—a= (a(b^âˆ—)) \cup ((b^âˆ—)a)$

!!! example "$R$ å’Œ $L(R)$ çš„å¯¹åº”å…³ç³»"
	- $\emptyset ^*$ => $\{e\}$
	- $a(a\cup b)^* b$ => $\{w\in \{a,b\}^*\; :\; w \text{ starts with } a \text{ and ends with } b\}$
	- $(a\cup b)^* a (a\cup b)^* a (a \cup b)^*$ => $\{w\in \{a,b\}^*\; : \; w \text{ contains at least two a's}\}$

äº‹å®ä¸Šï¼Œè‡ªåŠ¨æœºå’Œæ­£åˆ™è¡¨è¾¾å¼ä¹‹é—´æ˜¯ç­‰ä»·çš„ï¼Œå¯ä»¥ç›¸äº’è½¬æ¢ã€‚è¦å°†ä¸€ä¸ª FA è½¬æ¢ä¸ºæ­£åˆ™è¡¨è¾¾å¼ï¼Œæˆ‘ä»¬é¦–å…ˆéœ€è¦æŒæ¡å¦‚ä½•é€šè¿‡å½’çº³æ¥æŠ˜å ä¸€ä¸ªçŠ¶æ€ï¼Œå¦‚ä¸‹æ˜¯æˆ‘ä»¬æ‰€ä½¿ç”¨çš„åŸºæœ¬æ“ä½œï¼š

![[t2_10.png]]

ç»™å®šä¸€ä¸ª NFA $M$ï¼Œè¦åŒ–ç®€ä¸ºæ­£åˆ™è¡¨è¾¾å¼ $R$ï¼Œæˆ‘ä»¬è€ƒè™‘ä¸ºå…¶æ‰‹åŠ¨æ–°å¢ä¸€ä¸ªåˆå§‹çŠ¶æ€å’Œæ¥å—çŠ¶æ€ï¼Œç”¨ e-transition è¿æ¥åˆ°åŸæ¥çš„åˆå§‹çŠ¶æ€å’Œæ¥å—çŠ¶æ€ï¼Œå†é€ä¸€åˆ é™¤ä¸­é—´çŠ¶æ€ï¼š

![[t2_11.png]]

**ã€Exampleã€‘** å‡å®šæœ‰è‡ªåŠ¨æœº $M$ å¦‚ä¸‹ï¼š

![[t2_12.png]]

æŒ‰ç…§ä¸Šé¢çš„é€»è¾‘ï¼Œè½¬æ¢æ­¥éª¤å¦‚ä¸‹ï¼š

![[t2_13.png]]

é‚£ä¹ˆæœ€ç»ˆ $R=a^* b \left( a\cup b a^* b a^* b \right)^*$

**ã€More Exampleã€‘**

å·²çŸ¥ $\Sigma=\{0,1,...,9\}$ï¼Œè¯æ˜ $L=\{w: w\in \Sigma^*\text{ be the nonnegative integers divisible by 2 and 3}\}$ æ˜¯æ­£åˆ™è¯­è¨€ã€‚

æ­£åˆ™è¯­è¨€ä¹‹é—´æœ‰ä¸‰ç§è¿ç®—ï¼Œä¸¤ä¸ªæ­£åˆ™è¯­è¨€é€šè¿‡è¿™ä¸‰ç§è¿ç®—çš„ç»“æœä»ç„¶æ˜¯æ­£åˆ™è¯­è¨€ï¼Œå› æ­¤æˆ‘ä»¬å¯ä»¥è€ƒè™‘å°† $L$ åˆ†è§£ä¸ºå¯ä»¥è¢« 2 æ•´é™¤çš„ $L_2$ ä»¥åŠå¯ä»¥è¢« 3 æ•´é™¤çš„ $L_3$ åˆ†åˆ«è¯æ˜æ˜¯æ­£åˆ™è¯­è¨€ã€‚

é¦–å…ˆå¯¹äº $L_2$ï¼Œå®ƒçš„ç‰¹å¾æ˜¯ä¸ªä½ä¸ºå¶æ•°ï¼Œå› æ­¤è¡¨ç¤ºå¦‚ä¸‹ï¼Œå®ƒä¹Ÿæ˜¯é€šè¿‡å‡ ä¸ªæ­£åˆ™è¯­è¨€è¿ç®—å¾—åˆ°çš„è¡¨è¾¾å¼ï¼š

$$
L_2=\Sigma^* \cap \Sigma^* \{0,2,4,8\}
$$

å¯¹äº $L_3$ï¼Œæˆ‘ä»¬çŸ¥é“å®ƒçš„æ‰€æœ‰ä½æ•°å­—åŠ èµ·æ¥è¦æ˜¯ 3 çš„å€æ•°ï¼Œæˆ‘ä»¬å¯ä»¥ä¸ºå®ƒç»˜åˆ¶ä¸€ä¸ª NFAï¼š

![[t2_14.png]]

å› æ­¤ $L_2$ å’Œ $L_3$ éƒ½æ˜¯æ­£åˆ™çš„ï¼Œè€Œ $L=L_2 \cap L_3$ è‡ªç„¶ä¹Ÿæ˜¯æ­£åˆ™çš„ã€‚

æ›´å¤šåˆ¤æ–­ Language æ˜¯å¦æ˜¯æ­£åˆ™çš„ä¾‹å­å¦‚ä¸‹ï¼š

- $L=a^*$ æ˜¯æ­£åˆ™çš„ï¼Œå› ä¸ºå®ƒè¢« Regular Expression å®šä¹‰
- $L=\{a^n : n\ge 0\}$ æ˜¯æ­£åˆ™çš„ï¼Œå› ä¸ºå®ƒå’Œä¸Šé¢è¯­è¨€ç­‰ä»·
- $L=\{w^R: w\in L_0, \text{ and}\ L_0\text{ is regular}\}$ æ˜¯æ­£åˆ™çš„
	- è¿™é‡Œ $^R$ è¡¨ç¤ºåè½¬
- $L=\{a^n: n\in Even\}$ æ˜¯æ­£åˆ™çš„ï¼Œå› ä¸ºå®ƒç­‰ä»·äº $L=(aa)^*$
- $L=\{w\in \{a,b\}^*: w\text{ has an equal number of a's and b's}\}$ ä¸æ˜¯æ­£åˆ™çš„
	- å‡è®¾ $L$ æ˜¯æ­£åˆ™çš„ï¼Œé‚£ä¹ˆ $L\cap a^* b^*=\{ a^n b^n: n \ge 0\}$ å°±æ˜¯æ­£åˆ™çš„ï¼Œä½†æ˜¯ FA æ— æ³•è®°å¿†å‰é¢æœ‰å¤šå°‘ä¸ª a ä»¥ç¡®ä¿åé¢å‡ºç°ç›¸åŒæ•°é‡çš„ bï¼Œå› æ­¤çŸ›ç›¾
- $L=\{a^n: n\in Prime\}$ ä¸æ˜¯æ­£åˆ™çš„
	- æ³¨æ„è¿™æ˜¯è´¨æ•°ï¼Œä¸æ˜¯å¥‡æ•°
- $L=\{ww^R : w\in \{a,b\}^*\}$ ä¸æ˜¯æ­£åˆ™çš„
- $L=\{ww: w\in \{a,b\}^*\}$ ä¸æ˜¯æ­£åˆ™çš„
- $L=\{wcw: w\in \{a,b\}^*\}$ ä¸æ˜¯æ­£åˆ™çš„

å¯¹äºä»»æ„ä¸€ä¸ªéç©º alphabet $\Sigma$ï¼Œå®ƒçš„ String $\Sigma^*$ æ˜¯å¯æ•°æ— é™é›†ï¼ˆCountable Infiniteï¼‰ï¼Œè€Œæ‰€æœ‰ Language å°±æ˜¯ $\Sigma^*$ çš„æ‰€æœ‰å­é›†ï¼Œå…¶æ€»æ•°æ»¡è¶³ï¼š

$$
|P(\Sigma^*)| \;= \; 2^{|\Sigma^*|}
$$

è¿™æ„å‘³ç€ Language çš„æ€»æ•°æ˜¯ä¸å¯æ•°çš„ã€‚

ä½†æ˜¯ Regular Language æ˜¯å¯æ•°çš„ï¼Œå› ä¸ºæ¯ä¸ªæ­£åˆ™è¯­è¨€éƒ½å¯ä»¥è¢«ä¸€ä¸ªæœ‰é™è‡ªåŠ¨æœºæè¿°ï¼Œè€Œæœ‰é™è‡ªåŠ¨æœºçš„é›†åˆæ˜¯å¯æ•°çš„ã€‚

### Pumping Theorem

è‹¥Â $L$Â æ˜¯ä¸€ä¸ª regular languageï¼Œåˆ™å­˜åœ¨ä¸€ä¸ªå¸¸æ•° pump lengthÂ $p\in \mathbb{Z}^*$Â ä½¿å¾—Â $\forall w\in L$Â withÂ $|w|\ge p$Â å¯è¢«åˆ†ä¸º 3 ä¸ªéƒ¨åˆ† $w=xyz$ï¼Œæ»¡è¶³ï¼š

- $\forall i \ge 0, xy^iz\in L$
- $|y| > 0$
	- è¢« pump çš„å­—æ®µéç©º
- $|xy| \le p$
	- $y$ å‡ºç°åœ¨ String çš„å‰ $p$ ä¸ªå­—ç¬¦å†…

ç›´è§‚ä¸Šçœ‹ï¼Œåœ¨ DFA æ¥å—ä¸€ä¸ªé•¿åº¦è‡³å°‘ä¸º $p$ çš„å­—ç¬¦ä¸²æ—¶ï¼Œå¼€å§‹è¯»å…¥å‰ $p$ ä¸ªå­—ç¬¦æ—¶å¿…ç„¶ç»è¿‡æŸä¸€ä¸ªçŠ¶æ€ä¸¤æ¬¡ï¼ˆé¸½å·¢åŸç†ï¼‰ï¼Œäºæ˜¯åœ¨è¿™ä¸¤ä¸ªç›¸åŒçŠ¶æ€ä¹‹é—´çš„è¯»å…¥ç‰‡æ®µ $y$ å°±æ˜¯ä¸€ä¸ªå¾ªç¯ï¼ˆloopï¼‰ï¼Œæ‰€ä»¥å¯ä»¥é‡å¤ï¼ˆæˆ–åˆ å»ä¸€æ¬¡ï¼Œç›¸å½“äº $i=0$ï¼‰è¯¥ç‰‡æ®µè€Œä»ä¿æŒè¢« DFA æ¥å—â€”â€”è¿™å°±æ˜¯â€œæ³µâ€çš„å«ä¹‰ã€‚

!!! note "é€šå¸¸æˆ‘ä»¬å– $p$ ä¸ºæŸä¸ª DFA çš„çŠ¶æ€æ•°"

æ³µå®šç†æ˜¯Â Regular LanguageÂ çš„ä¸€ä¸ªå¿…è¦**ä¸**å……åˆ†æ¡ä»¶ï¼Œå› æ­¤æˆ‘ä»¬å¯ä»¥é€šè¿‡è¯æ˜æ³µå®šç†ä¸æˆç«‹æ¥è¯æ˜è¯¥è¯­è¨€ä¸æ˜¯ä¸€ä¸ª Regular Languageã€‚


1. å‡è®¾ $L$ æ˜¯æ­£åˆ™çš„
2. é‚£ä¹ˆå­˜åœ¨æ³µé•¿åº¦ $p$
3. é€‰æ‹©ä¸€ä¸ªç‰¹å®šçš„å­—ç¬¦ä¸² $w\in L$ ä¸” $|w|\ge p$ã€‚ä½ çš„ $w$ å¯ä»¥ä¾èµ–äº $p$ï¼ˆé€šå¸¸å–ä¸ $p$ ç›¸å…³çš„å½¢å¼ï¼Œå¦‚ $a^p b^p$ï¼‰
4. æ ¹æ®æ³µå¼•ç†ï¼Œæˆ‘ä»¬çŸ¥é“ä»»æ„å¯¹æ»¡è¶³ $|xy|\le p, |y|>0$ çš„åˆ’åˆ† $w=xyz$ï¼Œéƒ½åº”å½“æ»¡è¶³ $\forall i\ge0,\ xy^iz\in L$
5. å¯¹ä»»æ„å¯èƒ½çš„ $y$ï¼ˆæ»¡è¶³ä¸Šé¢çš„çº¦æŸï¼‰æ„é€ ä¸€ä¸ª $i$ï¼ˆé€šå¸¸ $i=0$ æˆ– $i=2$ï¼‰ï¼Œä½¿å¾— $xy^iz\notin L$ã€‚è¿™å°±ä¸æ³µå¼•ç†ç»“è®ºçŸ›ç›¾ï¼Œä»è€Œ $L$ éæ­£åˆ™ã€‚

**æ³¨æ„**ï¼šç¬¬ 5 æ­¥è¦è¦†ç›–â€œä»»æ„å¯èƒ½çš„ $y$â€â€”â€”ä¹Ÿå°±æ˜¯è¯´ä½ è¦åˆ†ææ‰€æœ‰æ»¡è¶³ $|xy|\le p, |y|>0$ çš„æƒ…å†µå¹¶åœ¨æ¯ç§æƒ…å†µä¸‹ç»™å‡ºåä¾‹ï¼ˆä¸€èˆ¬é€šè¿‡è§‚å¯Ÿ $y$ çš„ç»„æˆï¼Œä¾‹å¦‚ yyy åªèƒ½ç”±è‹¥å¹²ä¸ª `a` ç»„æˆï¼Œä»è€Œæ”¹å˜ `a` çš„æ•°é‡ä¼šç ´åè¯­è¨€æ€§è´¨ï¼‰ã€‚


**ã€Exampleã€‘**

è¯æ˜ $L=\{a^n b^n \mid n\ge0\}$ éæ­£åˆ™

1. å‡è®¾ $L$ æ­£åˆ™ï¼Œè®¾å¯¹åº”çš„æ³µé•¿åº¦ä¸º $p$ã€‚
2. å– $w = a^p b^p \in L$ã€‚æ˜¾ç„¶ $|w| = 2p \ge p$ã€‚
3. ä»»æ„åˆ’åˆ† $w=xyz$ æ»¡è¶³ $|xy|\le p, |y|>0$ã€‚å› ä¸º $|xy|\le p$ï¼Œ$xy$ å®Œå…¨ä½äºç¬¬ä¸€ä¸ª $a^p$ ä¸­ï¼Œæ‰€ä»¥ $y$ åªå« `a`ï¼ˆä¸”è‡³å°‘ä¸€ä¸ª `a`ï¼‰ã€‚
4. ä»¤ $i=0$ã€‚åˆ™ $xy^0z = xz$ åˆ™æ¯”åŸæ¥å°‘äº†ä¸€äº› `a`ï¼ˆè€Œ `b` ä¸ªæ•°ä¸å˜ï¼‰ï¼Œæ‰€ä»¥å½¢çŠ¶å˜æˆ $a^{p-|y|} b^p$ï¼Œä¸å±äº $L$ï¼ˆå› ä¸º `a` ä¸ `b` çš„æ•°é‡ä¸åŒï¼‰ã€‚
5. ä¸æ³µå¼•ç†ç»“è®ºçŸ›ç›¾ï¼Œæ•… $L$ éæ­£åˆ™ã€‚

!!! example
    å¸¸è§çš„ non-regular languages å’Œç®€è¦è¯æ˜æ€è·¯ ($p$ æ˜¯ pump length):
	
    - $L = \{0^n1^n\}$: é€‰ $0^p1^p$ï¼Œåˆ™ $xy^0z \notin L$ 
    - $L = \{ww\}$, $L = \{ww^R\}$: é€‰ $ab^pab^p$ å’Œ $b^paab^p$ï¼Œåˆ™ $xy^0z \notin L$ 
    - $L = \{0^m1^n\}$ where $m > n$: é€‰ $0^{p+1}1^p$ï¼Œåˆ™ $xy^0z \notin L$ ($m\ge n$ ä¹Ÿä¸€æ ·)
    - $L = \{0^m1^n\}$ where $m < n$: é€‰ $0^p1^{p+1}$ï¼Œåˆ™ $xyyz \notin L$ ($m\le n$ ä¹Ÿä¸€æ ·)
        - æ ¹æ®ä¸Šé¢ä¸¤ä¸ªä¾‹å­å¯ä»¥çœ‹å‡ºï¼Œunion of 2 non-regular languages ä¸ä¸€å®šæ˜¯ non-regular çš„ï¼Œä¾‹å¦‚ $m > n$ å’Œ $m \le n$ çš„ union æ˜¯ $0^*1^*$
    - $L = \{0^m1^n\}$ where $m \neq n$: å‡è®¾ regularï¼Œåˆ™ $(\{0^*1^*\} - L) \cap \{0^*1^*\} = \{0^n1^n\}$ is regularï¼ŒçŸ›ç›¾
    - $L = \{1^n\}$ where $n$ is prime: é€‰ $1^k$ where $k > p$ and $k$ is primeï¼Œè‹¥ $y = 1^s$ where $0 < s \le p$ï¼Œåˆ™ $\forall n \ge 0, k + (n - 1)s$ is primeã€‚ä½†å– $n = k + 1$ å¾—åˆ° $k + ks = k(1 + s)$ is not primeï¼ŒçŸ›ç›¾
    - $L \in \{0, 1\}^*$ where numbers of 0's and 1's are equal: å‡è®¾ regularï¼Œåˆ™ $L \cup 0^*1^* = \{0^n1^n\}$ is regularï¼ŒçŸ›ç›¾

## Context-free Languages & Pushdown Automata

### Context-free Language

åœ¨å½¢å¼åŒ–å®šä¹‰ä¸Šï¼Œä¸€ä¸ª **Context-Free Grammar, CFG** ç”±å››ä¸ªéƒ¨åˆ†ç»„æˆ $G=(V, \Sigma, R, S)$ï¼š

- $V$ï¼š Alphabet
- $\Sigma \subseteq V$: The set of terminal symbols
	- $V-\Sigma$: the set of non-terminals
	- éç»ˆç»“ç¬¦ä¸€å®šæ˜¯éç©ºé›†åˆï¼Œå› ä¸ºèµ·ç åŒ…å« $S$
	- è€Œç»ˆç»“ç¬¦å¯ä»¥ä¸ºç©ºé›† $\emptyset$
- $S\in V-\Sigma$: The start symbol
- $R$: The set of rules
	- $R\subseteq (V-\Sigma) \times V^*$
	- æ˜¯*å¯æ•°*é›†åˆï¼Œå½¢å¼ä¸º $A\rightarrow \alpha$ï¼Œå…¶ä¸­ $A\in V-\Sigma,\; \alpha \in V^*$

CFG çš„**ä¸Šä¸‹æ–‡æ— å…³**ä½“ç°åœ¨ $R$ ä¸­çš„ rules å·¦ä¾§åªèƒ½æ˜¯å•ä¸ª**éç»ˆç»“ç¬¦**ã€‚

!!! tip "ç»ˆç»“ç¬¦çš„æ„ä¹‰åœ¨äºï¼Œåœ¨æ ¹æ®å®šä¹‰çš„è§„åˆ™æ¨å¯¼è¿‡ç¨‹ä¸­ï¼Œå®ƒä»¬ä¸èƒ½è¢«æ›¿æ¢ï¼›å½“æ¨å¯¼åˆ°åªå‰©ä¸‹ç»ˆç»“ç¬¦æ—¶ï¼Œè¡¨ç¤ºç”Ÿæˆå®Œæˆ"

å¯¹åº”çš„ï¼Œä¸€ä¸ªè¯­è¨€ $L$ æ˜¯ **Context-Free Languageï¼ˆCFLï¼‰** å½“ä¸”ä»…å½“å­˜åœ¨ä¸€ä¸ª CFG $G$ ä½¿å¾— $L=L(G)$ï¼Œå³å¯ä»¥è¢« CFG ç”Ÿæˆã€‚

??? question "Language $L$ is CFL iff $L=L(G)$"
	è¿™ä¸ªè¡¨è¿°æ˜¯é”™çš„ï¼Œè¿˜è¦è¯´æ˜ $G$ æ˜¯ä¸€ä¸ª CFG ğŸ˜‚

??? question "Language $L$ is CFL iff it is accepted by a CFG"
	è¿™ä¸ªè¡¨è¿°ä¹Ÿæ˜¯é”™çš„ï¼Œæ­£ç¡®è¡¨è¿°ä¸ºï¼šLanguage $L$ is CFL iff it is **generated** by a CFG

!!! note "Regular Language æ˜¯ CFL çš„å­é›†ï¼Œå³ All Regular Languages are CFL"

| ä¸»é¢˜                       | æ­£è§„è¯­è¨€ï¼ˆRegular Languageï¼‰    | ä¸Šä¸‹æ–‡æ— å…³è¯­è¨€ï¼ˆContext-Free Language, CFLï¼‰ |
| ------------------------ | ------------------------- | ----------------------------------- |
| ç”Ÿæˆå·¥å…·ï¼ˆGeneration Deviceï¼‰  | Regular Expressionï¼ˆæ­£è§„è¡¨è¾¾å¼ï¼‰ | Context-Free Grammarï¼ˆä¸Šä¸‹æ–‡æ— å…³æ–‡æ³•ï¼‰       |
| è¯†åˆ«å·¥å…·ï¼ˆRecognition Deviceï¼‰ | Finite Automataï¼ˆæœ‰é™è‡ªåŠ¨æœºï¼ŒFAï¼‰ | Pushdown Automataï¼ˆä¸‹æ¨è‡ªåŠ¨æœºï¼ŒPDAï¼‰        |
| ç­‰ä»·å…³ç³»ï¼ˆEquivalenceï¼‰        | FA â‡” Regular Expression   | PDA â‡” Context-Free Grammar          |

**ã€Exampleã€‘**

$$
L=\{a^n b^n\; |\; n \ge 0\}
$$

- ç»ˆç»“ç¬¦ä¸º $\{a,b\}$
- å¼€å§‹ç¬¦ä¸º $S$
- äº§ç”Ÿå¼é›†åˆä¸º $\{S\rightarrow aSb, S\rightarrow e\}$
	- æˆ–è€…è¡¨ç¤ºä¸º $\{(S,aSb),\; (S,e)\}$ æˆ– $\{S\rightarrow aSb\; |\; e\}$

!!! info "è¿™é‡Œçš„å¼€å§‹ç¬¦ $S$ åªæ˜¯ç”Ÿæˆè§„åˆ™ä¸­çš„â€œå˜é‡â€ï¼Œæœ€ç»ˆè¦åœ¨æ¨å¯¼ç”Ÿæˆä¸­è¢«æ›¿æ¢ä¸ºç»“æŸç¬¦"

**ã€More Exampleã€‘**

$$
L=\{w\in \{a,b\}^* \;:\; w=w^R\}
$$

å³è¯æ˜å›æ–‡å­—ç¬¦ä¸²æ˜¯ä¸Šä¸‹æ–‡æ— å…³çš„ï¼Œæˆ‘ä»¬æ„é€  CFGï¼š

- $S\rightarrow e,\; S\rightarrow a,\; S\rightarrow b$
- $S\rightarrow aSa,\; S\rightarrow bSb$
	- å¯ä»¥ç®€å†™ä¸º $S\rightarrow e \;|\; a \;|\; b \;|\; aSa \;|\; bSb$

### Parse Tree

CFG çš„æ¨å¯¼å¯ä»¥è¡¨ç¤ºä¸ºä¸€ä¸ª parse treeï¼Œè¯¥æ ‘çš„å¶èŠ‚ç‚¹ä¸º *terminal symbols*ï¼Œæ ¹èŠ‚ç‚¹ä¸º *start symbol*ï¼Œå…¶ä½™èŠ‚ç‚¹ä¸º alphabet $V$ ä¸­çš„å…ƒç´ ã€‚

ä¾‹å¦‚ï¼Œå¯¹äº $a^nb ^n$ï¼Œå¯ä»¥ç»˜åˆ¶å¦‚ä¸‹ parse tree è¡¨ç¤º $a^4 b^r \in a^n b^n$ï¼š

![[t2_15.png]]

æˆ‘ä»¬å¯¹èƒ½æ¨ç†å‡ºç›¸åŒçš„ parse tree çš„æ¨å¯¼ç§°ä¸ºæ˜¯ **similar** çš„ï¼Œå®ƒä¹Ÿå¯ä»¥è¢«å®šä¹‰ä¸º precedes å…³äº reflexive, symmetric, transitive çš„é—­åŒ…ã€‚

$D$ precedes $D'\; \Leftrightarrow \exists \; 1 \le k \le n$:

- For all $i\ne k$, we have $x_i =x_i'$
- $x_{k-1} = x_{k-1}' = uAvBw$, where $u,v,w\in V^*$, and $A,B\in V-\Sigma$
- $x_k=uyvBw$, where $A\rightarrow y \in R$
- $x_k' = uAvzw$, where $B\rightarrow z \in R$
- $x_{k+1}= x_{k+1}' = uyvzw$

ä¸€ä¸ª **ambiguous** çš„ grammar å­˜åœ¨ä¸€äº› String å¯ä»¥ç”±ä¸åŒçš„ parse tree æ¨å¯¼ã€‚

### Pushdown Automata

ä¸‹æ¨è‡ªåŠ¨æœºï¼ˆPushdown Automata, PDAï¼‰æ˜¯ä¸€ä¸ªå¸¦æ ˆç»“æ„çš„ NFAï¼Œå®ƒå¯ä»¥ä½¿ç”¨æ ˆåšä¸€äº›è®°å¿†åŠŸèƒ½ã€‚

åœ¨å½¢å¼åŒ–å®šä¹‰ä¸Šï¼ŒPDA ç”±å…­ä¸ªéƒ¨åˆ†ç»„æˆ $P=(K,\Sigma, \Gamma, \Delta, s, F)$ï¼š

- $\Gamma$: stack alphabet
	- æ ˆä¸­èƒ½å‡ºç°çš„ç¬¦å·é›†åˆ
- $\Delta$: transition relation
	- $\Delta \subseteq \left(K\times (\Sigma \cup \{e\})\times \Gamma^* \right)\times \left(K\times \Gamma^* \right)$
	- å¯¹äº NFA çš„ $\left(K\times (\Sigma \cup \{e\}) \right)\times K$ï¼Œåœ¨è½¬ç§»å‰åéƒ½å¢åŠ äº†æ ˆç›¸å…³å­—ç¬¦ä¸²
	- å‰ä¸€ä¸ª $\Gamma^*$ æ˜¯æ ˆé¡¶å­—ç¬¦ä¸²ï¼ŒåŒ¹é…å pop å‡ºæ¥
	- åä¸€ä¸ª $\Gamma^*$ æ˜¯è½¬ç§»åè¦ push è¿›å»çš„å­—ç¬¦ä¸²

æœ€ååˆ¤æ–­èƒ½å¦æ¥å—ä¸€ä¸ª String $w$ è¦æ±‚ä¸ä»…çŠ¶æ€ä½äº Final Stateï¼Œè¿˜è¦ Stack ä¸ºç©ºã€‚ç”¨ $\vdash$ è¡¨ç¤ºï¼Œåˆ™è®°ä¸ºï¼š

$$
(s,w,e)  \vdash_M^* (p,e,e),\; \text{for some state }p\in F
$$

ç›¸åº”çš„ï¼Œèƒ½è¢« PDA $M$ æ¥å—çš„è¯­è¨€è®°ä¸ºï¼š

$$
L(M)=\{w|(s,w,e)  \vdash_M^* (p,e,e),\; \text{for some }p\in F\}
$$


åœ¨è¡¨ç¤ºä¸Šï¼Œæˆ‘ä»¬åœ¨çŠ¶æ€è½¬ç§»çš„ç®­å¤´ä¸Šæ–°å¢ä¸€ä¸ªé¡¹ï¼Œè¡¨ç¤ºæˆ‘ä»¬ä»æ ˆä¸­ pop/push äº†ä»€ä¹ˆç¬¦å·ï¼Œä¾‹å¦‚ $\left((p,u,\beta), (q,\gamma)\right)\in \Delta$ï¼š

![[t2_16.png]]

æˆ‘ä»¬ä¸€èˆ¬æ‰€è¯´çš„ PDA éƒ½æ˜¯**éç¡®å®šæ€§**çš„ï¼Œå…è®¸è¯»å–ä¸€ä¸ªç¬¦å·åï¼ˆå†æ ¹æ®æ ˆçš„çŠ¶æ€ï¼‰åšä¸åŒè½¬ç§»ï¼Œä¹Ÿå…è®¸åš e-transitionï¼›è€Œç¡®å®šæ€§çš„ PDA å¹¶ä¸ä¸ CFL ç­‰ä»·ï¼Œæ­¤å¤„ä¸å†è¯æ˜ï¼Œè¯·ç›´æ¥è®°ä½è¿™ä¸ªç»“è®ºã€‚

ä¾‹å¦‚ï¼Œå¯¹äº $L(M)=\{ww^R\; :\; w\in \{a,b\}^*\}$ï¼Œå®ƒçš„ diagram å¦‚ä¸‹ï¼š

![[t2_17.png]]


!!! example
	![[t2_18.png]]
	
	??? question "Is c necessary?"
		$c$ è¢«ç”¨ä½œæ ˆåº•æ ‡å¿—ï¼Œå¯ä»¥ç®€åŒ– PDA çš„è®¾è®¡ï¼Œä½†å¹¶ä¸æ˜¯å¿…è¦çš„ã€‚


äº‹å®ä¸Šï¼Œå¯¹äº $L(G)=\{wcw^R\; : \; w\in \{a,b\}^*\}$ è¿™ç§æ‹¥æœ‰å½¢å¦‚ $R=\{S\rightarrow aSa\;|\; bSb\;|\;c\}$ çš„è§„åˆ™çš„ CFGï¼Œå¯ä»¥åˆ†å¦‚ä¸‹ä¸‰æ­¥æ„é€  PDA çš„è½¬ç§»æ–¹ç¨‹ï¼š

$$\begin{array}l
I: & ((p,e,e), (q,S)) & \#åˆå§‹å‹æ ˆ
\\ II: & ((q,e,S),(q,aSa)), ((q,e,S),(q,bSb)), ((q,e,S),(q,c)) & \#ä¹¦å†™è§„åˆ™
\\ III: & ((q,a,a),(q,e)), ((q,b,b),(q,e)), ((q,c,c),(q,e)) & \#è¯»å–è¾“å…¥
\end{array}
$$


??? example "å¯¹å­—ç¬¦ä¸² abbcbba æŒ‰ç…§å¦‚ä¸Šè½¬ç§»æ–¹ç¨‹è¿›è¡Œæ¨å¯¼"
	$$\begin{array}l(ğ‘, ğ‘ğ‘ğ‘ğ‘ğ‘ğ‘ğ‘, ğ‘’) \vdash (ğ‘, ğ‘ğ‘ğ‘ğ‘ğ‘ğ‘ğ‘, ğ‘†) \vdash (ğ‘, ğ‘ğ‘ğ‘ğ‘ğ‘ğ‘ğ‘, ğ‘ğ‘†ğ‘) \vdash (ğ‘, ğ‘ğ‘ğ‘ğ‘ğ‘ğ‘, ğ‘†ğ‘) \\ \vdash (ğ‘, ğ‘ğ‘ğ‘ğ‘ğ‘ğ‘, ğ‘ğ‘†ğ‘ğ‘) \vdash (ğ‘, ğ‘ğ‘ğ‘ğ‘ğ‘ğ‘, ğ‘ğ‘†ğ‘ğ‘) \vdash (ğ‘, ğ‘ğ‘ğ‘ğ‘ğ‘, ğ‘†ğ‘ğ‘) \vdash (ğ‘, ğ‘ğ‘ğ‘ğ‘ğ‘, ğ‘ğ‘†ğ‘ğ‘ğ‘) \\ \vdash (ğ‘, ğ‘ğ‘ğ‘ğ‘, ğ‘†ğ‘ğ‘ğ‘) \vdash (ğ‘, ğ‘ğ‘ğ‘ğ‘, ğ‘ğ‘ğ‘ğ‘) \vdash^âˆ— (ğ‘, ğ‘’, ğ‘’)\end{array}$$


### Pumping Theorem for CFL

è‹¥Â $L$Â æ˜¯ä¸€ä¸ª Context-Free Languageï¼Œåˆ™å­˜åœ¨ä¸€ä¸ªå¸¸æ•° pump lengthÂ $p\in \mathbb{Z}^*$Â ä½¿å¾—Â $\forall w\in L$Â withÂ $|w|\ge p$Â å¯è¢«åˆ†ä¸º 5 ä¸ªéƒ¨åˆ† $w=uvxyz$ï¼Œæ»¡è¶³ï¼š

- $\forall i \ge 0, uv^i xy^iz\in L$
- $|v|+|y| > 0$
	- è¢« pump çš„å­—æ®µéç©º
- $|vxy| \le p$
	- $y$ å‡ºç°åœ¨ String çš„å‰ $p$ ä¸ªå­—ç¬¦å†…

æ³µå®šç†æ˜¯Â Context-Free LanguageÂ çš„ä¸€ä¸ªå¿…è¦**ä¸**å……åˆ†æ¡ä»¶ï¼Œå› æ­¤æˆ‘ä»¬å¯ä»¥é€šè¿‡è¯æ˜æ³µå®šç†ä¸æˆç«‹æ¥è¯æ˜è¯¥è¯­è¨€ä¸æ˜¯ä¸€ä¸ª Context-Free Languageã€‚

