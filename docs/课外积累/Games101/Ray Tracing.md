# Ray Tracing

## Shadow Mapping

在点光源条件下，判断某一点不在阴影中的根据为该点同时在相机和光源的视野内。

- **Step1** 从点光源位置进行光栅化但不进行着色及之后的操作，将得到的深度结果记录；
- **Step2** 将相机视角中的某一点投影回光源的深度图像中，比较该点到光源的距离与该点在深度图中记录的深度，如果深度一致，说明该点不在阴影中；否则，在阴影中。

![[shadowmappingwithdepthimage.png]]

如果光源有一定大小，就会形成软阴影，阴影颜色越淡，照到上面的光越多。

![[softhardshadows.png]]

